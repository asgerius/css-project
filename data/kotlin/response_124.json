[{"tags": ["android", "kotlin", "android-annotations"], "answers": [{"comments": [{"owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "edited": false, "score": 0, "creation_date": 1495677896, "post_id": 44171043, "comment_id": 75358053, "body": "Can you point me toward (or provide in your answer) exactly how to set up my gradle files to do that?  I&#39;ve tried to <code>apply plugin: &#39;kotlin-kapt&#39;</code> and it says the plugin can&#39;t be found?  Thanks!"}, {"owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "reply_to_user": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "edited": false, "score": 0, "creation_date": 1495681370, "post_id": 44171043, "comment_id": 75358685, "body": "Are you sure that you have kotlin gradle plugin in your gradle buildscript? You should have <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$KOTLIN_VERSION&quot;</code> in your <code>buildscript.dependendencies</code> block.  More information about kapt - <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/kapt.html</a>  Also, be sure that you applied <code>kotlin-android</code> and <code>kotlin-kapt</code> plugins to your application module (<code>app</code> module by default)"}, {"owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "edited": false, "score": 0, "creation_date": 1495685299, "post_id": 44171043, "comment_id": 75359625, "body": "I appreciate the help!  I&#39;ve gotten farther, I can build everything with the plugin but I need to tell AA where the manifest is.  I&#39;m using <code>kapt {     arguments {         androidManifestFile variant.outputs[0].processResources.manifestFile     } }</code> which is what I used with <code>apt</code> (I just changed to <code>kapt</code>).  but that&#39;s not working.  Error <code>Error:(48, 0) No such property: processResources for class: com.android.build.gradle.internal.variant.ApkVariantOutputDa&zwnj;&#8203;ta &lt;a href=&quot;openFile:&#47;[...]&#47;app&#47;build.gradle&quot;&gt;Open File&lt;&#47;a&gt;</code>"}, {"owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "reply_to_user": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "edited": false, "score": 0, "creation_date": 1495687832, "post_id": 44171043, "comment_id": 75360376, "body": "Why do you want to pass androidManifestFile to kapt? What do you want to achieve? I think variants are not ready yet when you configuring kapt, so this is the reason why it doesn&#39;t work"}, {"owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "edited": false, "score": 0, "creation_date": 1495717851, "post_id": 44171043, "comment_id": 75376730, "body": "<a href=\"https://bitbucket.org/hvisser/android-apt\" rel=\"nofollow noreferrer\">bitbucket.org/hvisser/android-apt</a> - &quot;AndroidAnnotations needs to know where your AndroidManifest.xml is. Retrieving it through the variant allows for different AndroidManfest.xml files for each flavor. &quot;"}], "tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 1, "last_activity_date": 1495677038, "creation_date": 1495677038, "answer_id": 44171043, "question_id": 44170064, "link": "https://stackoverflow.com/questions/44170064/android-annotations-with-kotlin-and-build-tools-2-3-0/44171043#44171043", "title": "Android Annotations with Kotlin and build tools 2.3.0", "body": "<p>You must use <code>kapt</code> (and <code>apply plugin: 'kotlin-kapt'</code>) instead <code>annotationProcessor</code> if you want to use Kotlin code for annotation processing (you can continue use annotationProcessor only if you don't generate any code from Kotlin sources, like in your example, where you have MainActivity written in Kotlin)</p>\n"}], "owner": {"reputation": 1800, "user_id": 1824282, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/198b7943669ad61841c4f85492c2ff75?s=128&d=identicon&r=PG", "display_name": "MayNotBe", "link": "https://stackoverflow.com/users/1824282/maynotbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495677038, "creation_date": 1495668660, "last_edit_date": 1495669213, "question_id": 44170064, "link": "https://stackoverflow.com/questions/44170064/android-annotations-with-kotlin-and-build-tools-2-3-0", "title": "Android Annotations with Kotlin and build tools 2.3.0", "body": "<p>To use Android Annotations prior to 2.3.0 a person would do this:</p>\n\n<pre><code>dependencies {\n    apt \"org.androidannotations:androidannotations:$AAVersion\"\n    compile \"org.androidannotations:androidannotations-api:$AAVersion\"\n}\n</code></pre>\n\n<p>to use Kotlin you would use <code>kapt</code> instead of <code>apt</code> (<a href=\"https://discuss.kotlinlang.org/t/androidannotations-with-kotlin/2242\" rel=\"nofollow noreferrer\">link</a>).</p>\n\n<p>Since 2.3.0 a person needs to use the annotationProcessor instead of apt:</p>\n\n<pre><code>annotationProcessor \"org.androidannotations:androidannotations:$AAVersion\"\ncompile \"org.androidannotations:androidannotations-api:$AAVersion\"\n</code></pre>\n\n<p>Does anyone know what needs to change in order to use Kotlin with the annotationProcessor?</p>\n\n<p>I currently have a very simple, main activity that I set up to use <code>@EActivity</code> to grab the layout.  I declared the generated file in the manifest, <code>.MainActivity_</code>.</p>\n\n<p>In java, this works fine.  In Kotlin:</p>\n\n<pre><code>@EActivity(R.layout.activity_main)\nopen class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n   }\n}\n</code></pre>\n\n<p>I get a runtime error:</p>\n\n<blockquote>\n  <p>Process: [...], PID: 10018\n                                                                                           java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{[...].MainActivity_}: java.lang.ClassNotFoundException: Didn't find class \"[...].MainActivity_\" on path: DexPathList[[zip file \"/data/app/[...]-1/base.apk\"],nativeLibraryDirectories=[/data/app/[...]-1/lib/x86, /vendor/lib, /system/lib]]</p>\n</blockquote>\n\n<p>**** UPDATE ****</p>\n\n<p>So I cleaned and rebuilt the project.  It seems annotations isn't generating the underscore file for MainActivity.  Makes sense but I don't know why or how to fix it.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8040319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f00f1b46b2c9bf1e85ec6773a3b8c?s=128&d=identicon&r=PG&f=1", "display_name": "J-rone", "link": "https://stackoverflow.com/users/8040319/j-rone"}, "edited": false, "score": 0, "creation_date": 1495666472, "post_id": 44169653, "comment_id": 75355244, "body": "thanks , i will learn about this then i will back :)"}, {"owner": {"reputation": 51, "user_id": 3306345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0c30f67277e3ec245240279806beb2?s=128&d=identicon&r=PG&f=1", "display_name": "j.seisson", "link": "https://stackoverflow.com/users/3306345/j-seisson"}, "edited": false, "score": 7, "creation_date": 1531120480, "post_id": 44169653, "comment_id": 89458705, "body": "You should use Intent.ACTION_DIAL, it will open the phone dial and let the user the choice to start or not the call. Then you will no need the permission anymore."}, {"owner": {"reputation": 335, "user_id": 6748722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTesi.jpg?s=128&g=1", "display_name": "iOS_Mouse", "link": "https://stackoverflow.com/users/6748722/ios-mouse"}, "edited": false, "score": 0, "creation_date": 1590104811, "post_id": 44169653, "comment_id": 109562203, "body": "I agree with j.seisson, you should consider using ACTION_DIAL instead. It&#39;s easier to implement, plus it handles calls the same as the Text Utility Linkify."}], "tags": [], "owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "is_accepted": false, "score": 12, "last_activity_date": 1495666354, "last_edit_date": 1495666354, "creation_date": 1495665863, "answer_id": 44169653, "question_id": 44169564, "link": "https://stackoverflow.com/questions/44169564/how-to-call-phone-number-in-kotlin-android/44169653#44169653", "title": "How To Call Phone Number In Kotlin Android", "body": "<p>If you are using Anko library you could simple call this function </p>\n\n<pre><code>makeCall(number)\n</code></pre>\n\n<p><a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Intents\" rel=\"noreferrer\">Link</a> for Anko library.</p>\n\n<p>If you are not using this library, then do this:</p>\n\n<pre><code>val intent = Intent(Intent.ACTION_CALL);\nintent.data = Uri.parse(\"tel:$number\")\nstartActivity(intent)\n</code></pre>\n\n<p>Don't forget to add permission to your manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 879, "user_id": 1632634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vtkf1.jpg?s=128&g=1", "display_name": "Osama Ibrahim", "link": "https://stackoverflow.com/users/1632634/osama-ibrahim"}, "edited": false, "score": 0, "creation_date": 1575823438, "post_id": 44169872, "comment_id": 104686595, "body": "He asked about kotlin code not java"}, {"owner": {"reputation": 8376, "user_id": 3899562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2fe1daf521466dcb40be4d10435506b?s=128&d=identicon&r=PG&f=1", "display_name": "user3899562", "link": "https://stackoverflow.com/users/3899562/user3899562"}, "edited": false, "score": 0, "creation_date": 1593815627, "post_id": 44169872, "comment_id": 110919910, "body": "Android studio will convert Java code to Kotlin, Dont forget the permission in manifest. If you dont add that the dialler will open without the number you specify."}], "tags": [], "owner": {"reputation": 104, "user_id": 8053413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZt8a.jpg?s=128&g=1", "display_name": "Ihab_zaidi", "link": "https://stackoverflow.com/users/8053413/ihab-zaidi"}, "is_accepted": true, "score": 8, "last_activity_date": 1495668900, "last_edit_date": 1495668900, "creation_date": 1495667423, "answer_id": 44169872, "question_id": 44169564, "link": "https://stackoverflow.com/questions/44169564/how-to-call-phone-number-in-kotlin-android/44169872#44169872", "title": "How To Call Phone Number In Kotlin Android", "body": "<p>this is a java example :</p>\n\n<p>On call button click:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(Intent.ACTION_CALL, Uri.parse(\"tel:\" + \"Your Phone_number\"));\nstartActivity(intent);\n</code></pre>\n\n<p>Permission in Manifest:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 8040319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9f00f1b46b2c9bf1e85ec6773a3b8c?s=128&d=identicon&r=PG&f=1", "display_name": "J-rone", "link": "https://stackoverflow.com/users/8040319/j-rone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10996, "favorite_count": 1, "closed_date": 1495680462, "accepted_answer_id": 44169872, "answer_count": 2, "score": 4, "last_activity_date": 1535722461, "creation_date": 1495665456, "last_edit_date": 1535722461, "question_id": 44169564, "link": "https://stackoverflow.com/questions/44169564/how-to-call-phone-number-in-kotlin-android", "closed_reason": "Needs more focus", "title": "How To Call Phone Number In Kotlin Android", "body": "<p>How can I make a phone call or dial a number in Android Kotlin? For example: Call <code>*21*2#</code></p>\n"}, {"tags": ["android", "crash", "kotlin", "android-studio-3.0", "android-room"], "comments": [{"owner": {"reputation": 2200, "user_id": 5312110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C4tvG.png?s=128&g=1", "display_name": "Peter Lehnhardt", "link": "https://stackoverflow.com/users/5312110/peter-lehnhardt"}, "edited": false, "score": 2, "creation_date": 1569679207, "post_id": 44167111, "comment_id": 102678519, "body": "Although written for Kotlin, <a href=\"https://developer.android.com/kotlin/coroutines\" rel=\"nofollow noreferrer\">this article</a> explains the underlying problem very good!"}, {"owner": {"reputation": 413, "user_id": 4203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enM4W.jpg?s=128&g=1", "display_name": "nnyerges", "link": "https://stackoverflow.com/users/4203016/nnyerges"}, "edited": false, "score": 0, "creation_date": 1571880127, "post_id": 44167111, "comment_id": 103389164, "body": "Take a look to <a href=\"https://stackoverflow.com/questions/58532832/read-and-write-room-database-synchronically-everywhere\" title=\"read and write room database synchronically everywhere\">stackoverflow.com/questions/58532832/&hellip;</a>"}, {"owner": {"reputation": 121, "user_id": 7655085, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dM0OD05GEjw/AAAAAAAAAAI/AAAAAAAAMmc/W8aGACNsSQM/photo.jpg?sz=128", "display_name": "Somen Tushir", "link": "https://stackoverflow.com/users/7655085/somen-tushir"}, "edited": false, "score": 0, "creation_date": 1586670105, "post_id": 44167111, "comment_id": 108209045, "body": "Look at this answer. This answer work for me <a href=\"https://stackoverflow.com/a/51720501/7655085\">stackoverflow.com/a/51720501/7655085</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15294, "user_id": 217586, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/l9b1b.jpg?s=128&g=1", "display_name": "Devarshi", "link": "https://stackoverflow.com/users/217586/devarshi"}, "edited": false, "score": 0, "creation_date": 1495655327, "post_id": 44167177, "comment_id": 75350713, "body": "I understand your point, my assumption is that the same point is valid when you try to test any db operation through JUnit. However in <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/room.html</a> the sample test method writeUserAndReadInList does not invoke the insert query on background thread. Am I missing anything over here? Please suggest."}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "reply_to_user": {"reputation": 15294, "user_id": 217586, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/l9b1b.jpg?s=128&g=1", "display_name": "Devarshi", "link": "https://stackoverflow.com/users/217586/devarshi"}, "edited": false, "score": 0, "creation_date": 1495657422, "post_id": 44167177, "comment_id": 75351737, "body": "Sorry I missed the fact that this was the test having problems.   I&#39;ll edit my answer to add some more information."}], "tags": [], "owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "is_accepted": false, "score": 3, "last_activity_date": 1495657870, "last_edit_date": 1495657870, "creation_date": 1495654860, "answer_id": 44167177, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/44167177#44167177", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>The error message, </p>\n\n<blockquote>\n  <p>Cannot access database on the main thread since it may potentially lock the UI for a long periods of time.</p>\n</blockquote>\n\n<p>Is quite descriptive and accurate.   The question is how should you avoid accessing the database on the main thread.  That is a huge topic, but to get started, read about <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask (click here)</a></p>\n\n<p>-----EDIT----------</p>\n\n<p>I see you are having problems when you run a unit test.  You have a couple of choices to fix this:</p>\n\n<ol>\n<li><p>Run the test directly on the development machine rather than on an Android device (or emulator).  This works for tests that are database-centric and don't really care whether they are running on a device.</p></li>\n<li><p>Use the annotation\n<code>@RunWith(AndroidJUnit4.class)</code>\nto run the test on the android device, but not in an activity with a UI.\nMore details about this can be found <a href=\"http://evgenii.com/blog/testing-activity-in-android-studio-tutorial-part-2/\" rel=\"nofollow noreferrer\">in this tutorial</a></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 39, "creation_date": 1501411173, "post_id": 44167951, "comment_id": 77758384, "body": "Am I supposed to make this huge async task (that you&#39;ve proposed in code sample) every time I need to access database? It&#39;s a dozen or so lines of code instead of one to get some data from db. You proposed also creating new class, but does it mean I need to create new AsyncTask class for each insert/select database call?"}, {"owner": {"reputation": 784, "user_id": 7241363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qruTG.jpg?s=128&g=1", "display_name": "mcastro", "link": "https://stackoverflow.com/users/7241363/mcastro"}, "reply_to_user": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 8, "creation_date": 1501520506, "post_id": 44167951, "comment_id": 77804020, "body": "You have some other options, yes.  You might wanna take look into the new ViewModel and LiveData components. When using the LiveData you don&#39;t need the AsyncTask, the object will be notified whenever something changes. <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a> <a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>  There&#39;s also AndroidRx (although it does pretty much what LiveData does), and Promises.  When using the AsyncTask you can architecture in such way that you could include multiple operations in one AsyncTask or separate each."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 0, "creation_date": 1516215610, "post_id": 44167951, "comment_id": 83601705, "body": "@Piotrek - Kotlin now has async baked in (though it&#39;s flagged experimental). See my answer which is comparatively trivial. Samuel Robert&#39;s answer covers Rx. I don&#39;t see a LiveData answer here, but that might be the better choice if you want an observable."}, {"owner": {"reputation": 197, "user_id": 3826579, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2wpFx.jpg?s=128&g=1", "display_name": "Peterstev Uremgba", "link": "https://stackoverflow.com/users/3826579/peterstev-uremgba"}, "edited": false, "score": 0, "creation_date": 1526024100, "post_id": 44167951, "comment_id": 87590497, "body": "Using regular AsyncTask doesn&#39;t even seem to work now, still getting the illegal state exception"}, {"owner": {"reputation": 2985, "user_id": 2304737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IyQzE.png?s=128&g=1", "display_name": "mr5", "link": "https://stackoverflow.com/users/2304737/mr5"}, "reply_to_user": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 0, "creation_date": 1527780363, "post_id": 44167951, "comment_id": 88265540, "body": "@Piotrek you&#39;re telling me you&#39;re used to execute Database access on main thread on your entire experience?"}, {"owner": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "reply_to_user": {"reputation": 2985, "user_id": 2304737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IyQzE.png?s=128&g=1", "display_name": "mr5", "link": "https://stackoverflow.com/users/2304737/mr5"}, "edited": false, "score": 0, "creation_date": 1528382693, "post_id": 44167951, "comment_id": 88495898, "body": "@mr5, I&#39;m not sure I understand your message. I asked for advice having no experience."}, {"owner": {"reputation": 2985, "user_id": 2304737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IyQzE.png?s=128&g=1", "display_name": "mr5", "link": "https://stackoverflow.com/users/2304737/mr5"}, "reply_to_user": {"reputation": 9808, "user_id": 1804027, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iQtNF.jpg?s=128&g=1", "display_name": "Piotrek", "link": "https://stackoverflow.com/users/1804027/piotrek"}, "edited": false, "score": 0, "creation_date": 1528383792, "post_id": 44167951, "comment_id": 88496665, "body": "@Piotrek it is common for a framework/application to execute their UI controls on main thread thus you don&#39;t want to block their rendering with I/O operations such as file reading, network operation, etc. So you should, and must do all database access in other thread to avoid it. Unless you&#39;re in a language that supports async/await like C#"}, {"owner": {"reputation": 693, "user_id": 4458543, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-nKEM7sb8yCY/AAAAAAAAAAI/AAAAAAAAARE/3svt6_0stlU/photo.jpg?sz=128", "display_name": "samuel owino", "link": "https://stackoverflow.com/users/4458543/samuel-owino"}, "edited": false, "score": 0, "creation_date": 1571352682, "post_id": 44167951, "comment_id": 103222850, "body": "Sh*, Am going back to writing SQLite at least it&#39;s boilerplate is sensible and actually required. Damn you Google, damn you!"}, {"owner": {"reputation": 413, "user_id": 4203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/enM4W.jpg?s=128&g=1", "display_name": "nnyerges", "link": "https://stackoverflow.com/users/4203016/nnyerges"}, "edited": false, "score": 0, "creation_date": 1571880155, "post_id": 44167951, "comment_id": 103389169, "body": "SYNCHRONICALLY  <a href=\"https://stackoverflow.com/questions/58532832/read-and-write-room-database-synchronically-everywhere\" title=\"read and write room database synchronically everywhere\">stackoverflow.com/questions/58532832/&hellip;</a>"}], "tags": [], "owner": {"reputation": 784, "user_id": 7241363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qruTG.jpg?s=128&g=1", "display_name": "mcastro", "link": "https://stackoverflow.com/users/7241363/mcastro"}, "is_accepted": true, "score": 66, "last_activity_date": 1611072316, "last_edit_date": 1611072316, "creation_date": 1495657829, "answer_id": 44167951, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/44167951#44167951", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>Database access on main thread locking the UI is the error, like Dale said.</p>\n<p><strong>--EDIT 2--</strong></p>\n<p>Since many people may come across this answer...\nThe best option nowadays, generally speaking, is Kotlin Coroutines. Room now supports it directly (currently in beta).\n<a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines-overview.html</a>\n<a href=\"https://developer.android.com/jetpack/androidx/releases/room#2.1.0-beta01\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/room#2.1.0-beta01</a></p>\n<p><strong>--EDIT 1--</strong></p>\n<p>For people wondering... You have other options.\nI recommend taking a look into the new ViewModel and LiveData components. LiveData works great with Room.\n<a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/livedata.html</a></p>\n<p>Another option is the RxJava/RxAndroid. More powerful but more complex than LiveData.\n<a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava</a></p>\n<p><strong>--Original answer--</strong></p>\n<p>Create a static nested class (to prevent memory leak) in your Activity extending AsyncTask.</p>\n<pre><code>private static class AgentAsyncTask extends AsyncTask&lt;Void, Void, Integer&gt; {\n\n    //Prevent leak\n    private WeakReference&lt;Activity&gt; weakActivity;\n    private String email;\n    private String phone;\n    private String license;\n\n    public AgentAsyncTask(Activity activity, String email, String phone, String license) {\n        weakActivity = new WeakReference&lt;&gt;(activity);\n        this.email = email;\n        this.phone = phone;\n        this.license = license;\n    }\n\n    @Override\n    protected Integer doInBackground(Void... params) {\n        AgentDao agentDao = MyApp.DatabaseSetup.getDatabase().agentDao();\n        return agentDao.agentsCount(email, phone, license);\n    }\n\n    @Override\n    protected void onPostExecute(Integer agentsCount) {\n        Activity activity = weakActivity.get();\n        if(activity == null) {\n            return;\n        }\n\n        if (agentsCount &gt; 0) {\n            //2: If it already exists then prompt user\n            Toast.makeText(activity, &quot;Agent already exists!&quot;, Toast.LENGTH_LONG).show();\n        } else {\n            Toast.makeText(activity, &quot;Agent does not exist! Hurray :)&quot;, Toast.LENGTH_LONG).show();\n            activity.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>Or you can create a final class on its own file.</p>\n<p>Then execute it in the signUpAction(View view) method:</p>\n<pre><code>new AgentAsyncTask(this, email, phone, license).execute();\n</code></pre>\n<p>In some cases you might also want to hold a reference to the AgentAsyncTask in your activity so you can cancel it when the Activity is destroyed. But you would have to interrupt any transactions yourself.</p>\n<p>Also, your question about the Google's test example...\nThey state in that web page:</p>\n<blockquote>\n<p>The recommended approach for testing your database implementation is\nwriting a JUnit test that runs on an Android device. Because these\ntests don't require creating an activity, they should be faster to\nexecute than your UI tests.</p>\n</blockquote>\n<p>No Activity, no UI.</p>\n"}, {"comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 12, "creation_date": 1513515558, "post_id": 44857008, "comment_id": 82674805, "body": "Room does not allow accessing the database on the main thread unless you called <code>allowMainThreadQueries()</code> on the builder because it might potentially lock the UI for a long period of time. Asynchronous queries (queries that return <code>LiveData</code> or RxJava <code>Flowable</code>) are exempt from this rule since they asynchronously run the query on a background thread when needed."}, {"owner": {"reputation": 729, "user_id": 1918668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f9EJ1.jpg?s=128&g=1", "display_name": "SammyT", "link": "https://stackoverflow.com/users/1918668/sammyt"}, "edited": false, "score": 4, "creation_date": 1537077837, "post_id": 44857008, "comment_id": 91647906, "body": "Thanks this is very useful for migration, as I want to test Room is working as expected before converting from Loaders to Live Data"}, {"owner": {"reputation": 732, "user_id": 4214415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003513314216/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/4214415/alex"}, "reply_to_user": {"reputation": 4426, "user_id": 10835183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G4HMm.jpg?s=128&g=1", "display_name": "JideGuru", "link": "https://stackoverflow.com/users/10835183/jideguru"}, "edited": false, "score": 5, "creation_date": 1550680053, "post_id": 44857008, "comment_id": 96360207, "body": "@JideGuruTheProgrammer No, it should not. In some cases it could slow your app a lot. The operations should be done asynchronously."}, {"owner": {"reputation": 9286, "user_id": 425756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Jsf1p.jpg?s=128&g=1", "display_name": "Justin Meiners", "link": "https://stackoverflow.com/users/425756/justin-meiners"}, "reply_to_user": {"reputation": 732, "user_id": 4214415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003513314216/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/4214415/alex"}, "edited": false, "score": 1, "creation_date": 1565031079, "post_id": 44857008, "comment_id": 101215236, "body": "@Alex There is never a case for making a query on the main thread?"}, {"owner": {"reputation": 1741, "user_id": 2445763, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/vps5R.png?s=128&g=1", "display_name": "lasec0203", "link": "https://stackoverflow.com/users/2445763/lasec0203"}, "reply_to_user": {"reputation": 9286, "user_id": 425756, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Jsf1p.jpg?s=128&g=1", "display_name": "Justin Meiners", "link": "https://stackoverflow.com/users/425756/justin-meiners"}, "edited": false, "score": 2, "creation_date": 1568456718, "post_id": 44857008, "comment_id": 102285459, "body": "@JustinMeiners it&#39;s just bad practice, you&#39;ll be ok doing it as long as the database stays small."}, {"owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "edited": false, "score": 1, "creation_date": 1606763563, "post_id": 44857008, "comment_id": 115054748, "body": "This is useful for unit testing dao functions."}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "reply_to_user": {"reputation": 732, "user_id": 4214415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003513314216/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/4214415/alex"}, "edited": false, "score": 0, "creation_date": 1612789305, "post_id": 44857008, "comment_id": 116868005, "body": "@Alex What did JideGuruTheProgrammer say? And where is his comment? Is it disappeared?"}, {"owner": {"reputation": 732, "user_id": 4214415, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003513314216/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/4214415/alex"}, "reply_to_user": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1613081768, "post_id": 44857008, "comment_id": 116974433, "body": "@TheincredibleJan Man, it was like year ago, so I dont remember. Probably he removed his comment. Its really very bad practice to do any database requests in the main thread of android app."}], "tags": [], "owner": {"reputation": 1970, "user_id": 3036811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCRVR.jpg?s=128&g=1", "display_name": "mpolat", "link": "https://stackoverflow.com/users/3036811/mpolat"}, "is_accepted": false, "score": 170, "last_activity_date": 1518366824, "last_edit_date": 1518366824, "creation_date": 1498878523, "answer_id": 44857008, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/44857008#44857008", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>It's not recommended but you can access to database on main thread with <code>allowMainThreadQueries()</code></p>\n\n<pre><code>MyApp.database =  Room.databaseBuilder(this, AppDatabase::class.java, \"MyDatabase\").allowMainThreadQueries().build()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11316, "user_id": 1203565, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7KUis.jpg?s=128&g=1", "display_name": "Vihaan Verma", "link": "https://stackoverflow.com/users/1203565/vihaan-verma"}, "is_accepted": false, "score": 3, "last_activity_date": 1502067023, "creation_date": 1502067023, "answer_id": 45538035, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/45538035#45538035", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>For quick queries you can allow room to execute it on UI thread.</p>\n\n<pre><code>AppDatabase db = Room.databaseBuilder(context.getApplicationContext(),\n        AppDatabase.class, DATABASE_NAME).allowMainThreadQueries().build();\n</code></pre>\n\n<p>In my case I had to figure out of the clicked user in list exists in database or not. If not then create the user and start another activity</p>\n\n<pre><code>       @Override\n        public void onClick(View view) {\n\n\n\n            int position = getAdapterPosition();\n\n            User user = new User();\n            String name = getName(position);\n            user.setName(name);\n\n            AppDatabase appDatabase = DatabaseCreator.getInstance(mContext).getDatabase();\n            UserDao userDao = appDatabase.getUserDao();\n            ArrayList&lt;User&gt; users = new ArrayList&lt;User&gt;();\n            users.add(user);\n            List&lt;Long&gt; ids = userDao.insertAll(users);\n\n            Long id = ids.get(0);\n            if(id == -1)\n            {\n                user = userDao.getUser(name);\n                user.setId(user.getId());\n            }\n            else\n            {\n                user.setId(id);\n            }\n\n            Intent intent = new Intent(mContext, ChatActivity.class);\n            intent.putExtra(ChatActivity.EXTRAS_USER, Parcels.wrap(user));\n            mContext.startActivity(intent);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "is_accepted": false, "score": 12, "last_activity_date": 1502079486, "creation_date": 1502079486, "answer_id": 45539365, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/45539365#45539365", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>With the Jetbrains Anko library, you can use the doAsync{..} method to automatically execute database calls. This takes care of the verbosity problem you seemed to have been having with mcastro's answer. </p>\n\n<p>Example usage: </p>\n\n<pre><code>    doAsync { \n        Application.database.myDAO().insertUser(user) \n    }\n</code></pre>\n\n<p>I use this frequently for inserts and updates, however for select queries I  reccommend using the RX workflow. </p>\n"}, {"comments": [{"owner": {"reputation": 423, "user_id": 2751628, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/1gpqU.jpg?s=128&g=1", "display_name": "Eggakin Baconwalker", "link": "https://stackoverflow.com/users/2751628/eggakin-baconwalker"}, "edited": false, "score": 3, "creation_date": 1510525204, "post_id": 46925509, "comment_id": 81459785, "body": "If I put this code inside a method, how to return the result from database operation?"}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 423, "user_id": 2751628, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/1gpqU.jpg?s=128&g=1", "display_name": "Eggakin Baconwalker", "link": "https://stackoverflow.com/users/2751628/eggakin-baconwalker"}, "edited": false, "score": 0, "creation_date": 1511440879, "post_id": 46925509, "comment_id": 81865956, "body": "@EggakinBaconwalker I have <code>override fun getTopScores(): Observable&lt;List&lt;PlayerScore&gt;&gt; {         return Observable                 .fromCallable({                     GameApplication.database                             .playerScoresDao().getTopScores()                 })                 .applySchedulers()     }</code> where <code>applySchedulers()</code> I just do <code>fun &lt;T&gt; Observable&lt;T&gt;.applySchedulers(): Observable&lt;T&gt; =         this.subscribeOn(Schedulers.io())                 .observeOn(AndroidSchedulers.mainThread())</code>"}, {"owner": {"reputation": 3418, "user_id": 3229010, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/GF2LI.jpg?s=128&g=1", "display_name": "Umang Kothari", "link": "https://stackoverflow.com/users/3229010/umang-kothari"}, "edited": false, "score": 0, "creation_date": 1540804281, "post_id": 46925509, "comment_id": 92983452, "body": "This won&#39;t work for IntentService. Because IntentService will be done once it&#39;s thread is completed."}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "reply_to_user": {"reputation": 3418, "user_id": 3229010, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/GF2LI.jpg?s=128&g=1", "display_name": "Umang Kothari", "link": "https://stackoverflow.com/users/3229010/umang-kothari"}, "edited": false, "score": 1, "creation_date": 1540804805, "post_id": 46925509, "comment_id": 92983765, "body": "@UmangKothari You don&#39;t get the exception if you&#39;re on <code>IntentService#onHandleIntent</code> because this method executes on worker thread so you wouldn&#39;t need any threading mechanism there to do the Room database operation"}, {"owner": {"reputation": 3418, "user_id": 3229010, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/GF2LI.jpg?s=128&g=1", "display_name": "Umang Kothari", "link": "https://stackoverflow.com/users/3229010/umang-kothari"}, "edited": false, "score": 0, "creation_date": 1540805109, "post_id": 46925509, "comment_id": 92983948, "body": "@SamuelRobert, Yes agree my bad. It slipped my mind."}], "tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": false, "score": 51, "last_activity_date": 1510460984, "last_edit_date": 1510460984, "creation_date": 1508913441, "answer_id": 46925509, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/46925509#46925509", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>For all the <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">RxJava</a> or <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"noreferrer\">RxAndroid</a> or <a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"noreferrer\">RxKotlin</a> lovers out there</p>\n\n<pre><code>Observable.just(db)\n          .subscribeOn(Schedulers.io())\n          .subscribe { db -&gt; // database operation }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 284, "user_id": 5635515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaKY4.jpg?s=128&g=1", "display_name": "dcr24", "link": "https://stackoverflow.com/users/5635515/dcr24"}, "is_accepted": false, "score": 5, "last_activity_date": 1509655942, "creation_date": 1509655942, "answer_id": 47084439, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/47084439#47084439", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>An elegant RxJava/Kotlin solution is to use <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Completable.html#fromCallable-java.util.concurrent.Callable-\" rel=\"noreferrer\"><code>Completable.fromCallable</code></a>, which will give you an Observable which does not return a value, but can observed and subscribed on a different thread.</p>\n\n  <pre class=\"lang-java prettyprint-override\"><code>public Completable insert(Event event) {\n    return Completable.fromCallable(new Callable&lt;Void&gt;() {\n        @Override\n        public Void call() throws Exception {\n            return database.eventDao().insert(event)\n        }\n    }\n}\n</code></pre>\n\n<p>Or in Kotlin:\n  </p>\n\n<pre><code>fun insert(event: Event) : Completable = Completable.fromCallable {\n    database.eventDao().insert(event)\n}\n</code></pre>\n\n<p>You can the observe and subscribe as you would usually:\n</p>\n\n<pre><code>dataManager.insert(event)\n    .subscribeOn(scheduler)\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(...)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 423, "user_id": 2751628, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/1gpqU.jpg?s=128&g=1", "display_name": "Eggakin Baconwalker", "link": "https://stackoverflow.com/users/2751628/eggakin-baconwalker"}, "edited": false, "score": 0, "creation_date": 1510401498, "post_id": 47130962, "comment_id": 81425311, "body": "If I use this method to get the data (only getAllUsers()in this case), how return the data from this method? It appears an error, if I put the word &quot;return&quot; inside the &quot;run&quot;."}, {"owner": {"reputation": 2285, "user_id": 1151710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/223fd3f7bb8c020f9da52710412376d3?s=128&d=identicon&r=PG&f=1", "display_name": "Rizvan", "link": "https://stackoverflow.com/users/1151710/rizvan"}, "reply_to_user": {"reputation": 423, "user_id": 2751628, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/1gpqU.jpg?s=128&g=1", "display_name": "Eggakin Baconwalker", "link": "https://stackoverflow.com/users/2751628/eggakin-baconwalker"}, "edited": false, "score": 1, "creation_date": 1511933718, "post_id": 47130962, "comment_id": 82048226, "body": "make an interface method somewhere and add anonymous class to get data from here ."}, {"owner": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "edited": false, "score": 1, "creation_date": 1548293865, "post_id": 47130962, "comment_id": 95493238, "body": "This is the simplest solution for inserting/updating."}], "tags": [], "owner": {"reputation": 2285, "user_id": 1151710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/223fd3f7bb8c020f9da52710412376d3?s=128&d=identicon&r=PG&f=1", "display_name": "Rizvan", "link": "https://stackoverflow.com/users/1151710/rizvan"}, "is_accepted": false, "score": 32, "last_activity_date": 1517334576, "last_edit_date": 1517334576, "creation_date": 1509949505, "answer_id": 47130962, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/47130962#47130962", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>You cannot run it on main thread instead use handlers, async or working threads . A sample code is available here and read article over room library here :  <a href=\"https://medium.com/@rizvan/androids-new-room-3dff78ede2fb\" rel=\"noreferrer\"> Android's Room Library</a></p>\n\n<pre><code>/**\n *  Insert and get data using Database Async way\n */\nAsyncTask.execute(new Runnable() {\n    @Override\n    public void run() {\n        // Insert Data\n        AppDatabase.getInstance(context).userDao().insert(new User(1,\"James\",\"Mathew\"));\n\n        // Get Data\n        AppDatabase.getInstance(context).userDao().getAllUsers();\n    }\n});\n</code></pre>\n\n<p>If you want to run it on main thread which is not preferred way .</p>\n\n<p>You can use this method to achieve on main thread <code>Room.inMemoryDatabaseBuilder()</code> </p>\n"}, {"tags": [], "owner": {"reputation": 706, "user_id": 5508673, "user_type": "registered", "profile_image": "https://graph.facebook.com/621207044688784/picture?type=large", "display_name": "Nilesh Rathore", "link": "https://stackoverflow.com/users/5508673/nilesh-rathore"}, "is_accepted": false, "score": 5, "last_activity_date": 1513084882, "creation_date": 1513084882, "answer_id": 47773708, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/47773708#47773708", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>You can allow database access on the main thread but only for debugging purpose, you shouldn't do this on production.</p>\n\n<p><a href=\"https://developer.android.com/training/data-storage/room/accessing-data.html#convenience\" rel=\"noreferrer\">Here is the reason.</a></p>\n\n<p>Note: Room doesn't support database access on the main thread unless you've called allowMainThreadQueries() on the builder because it might lock the UI for a long period of time. Asynchronous queries\u2014queries that return instances of LiveData or Flowable\u2014are exempt from this rule because they asynchronously run the query on a background thread when needed.</p>\n"}, {"tags": [], "owner": {"reputation": 33554, "user_id": 436341, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fy1Dv.png?s=128&g=1", "display_name": "live-love", "link": "https://stackoverflow.com/users/436341/live-love"}, "is_accepted": false, "score": 3, "last_activity_date": 1541263884, "last_edit_date": 1541263884, "creation_date": 1515114870, "answer_id": 48105868, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/48105868#48105868", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>Update: I also got this message when I was trying to build a query using @RawQuery and SupportSQLiteQuery inside the DAO.</p>\n\n<pre><code>@Transaction\npublic LiveData&lt;List&lt;MyEntity&gt;&gt; getList(MySettings mySettings) {\n    //return getMyList(); --&gt;this is ok\n\n    return getMyList(new SimpleSQLiteQuery(\"select * from mytable\")); --&gt; this is an error\n</code></pre>\n\n<p>Solution: build the query inside the ViewModel and pass it to the DAO.</p>\n\n<pre><code>public MyViewModel(Application application) {\n...\n        list = Transformations.switchMap(searchParams, params -&gt; {\n\n            StringBuilder sql;\n            sql = new StringBuilder(\"select  ... \");\n\n            return appDatabase.rawDao().getList(new SimpleSQLiteQuery(sql.toString()));\n\n        });\n    }\n</code></pre>\n\n<p>Or...</p>\n\n<p>You should not access the database directly on the main thread, for example:</p>\n\n<pre><code> public void add(MyEntity item) {\n     appDatabase.myDao().add(item); \n }\n</code></pre>\n\n<p>You should use AsyncTask for update, add, and delete operations. </p>\n\n<p>Example:</p>\n\n<pre><code>public class MyViewModel extends AndroidViewModel {\n\n    private LiveData&lt;List&lt;MyEntity&gt;&gt; list;\n\n    private AppDatabase appDatabase;\n\n    public MyViewModel(Application application) {\n        super(application);\n\n        appDatabase = AppDatabase.getDatabase(this.getApplication());\n        list = appDatabase.myDao().getItems();\n    }\n\n    public LiveData&lt;List&lt;MyEntity&gt;&gt; getItems() {\n        return list;\n    }\n\n    public void delete(Obj item) {\n        new deleteAsyncTask(appDatabase).execute(item);\n    }\n\n    private static class deleteAsyncTask extends AsyncTask&lt;MyEntity, Void, Void&gt; {\n\n        private AppDatabase db;\n\n        deleteAsyncTask(AppDatabase appDatabase) {\n            db = appDatabase;\n        }\n\n        @Override\n        protected Void doInBackground(final MyEntity... params) {\n            db.myDao().delete((params[0]));\n            return null;\n        }\n    }\n\n    public void add(final MyEntity item) {\n        new addAsyncTask(appDatabase).execute(item);\n    }\n\n    private static class addAsyncTask extends AsyncTask&lt;MyEntity, Void, Void&gt; {\n\n        private AppDatabase db;\n\n        addAsyncTask(AppDatabase appDatabase) {\n            db = appDatabase;\n        }\n\n        @Override\n        protected Void doInBackground(final MyEntity... params) {\n            db.myDao().add((params[0]));\n            return null;\n        }\n\n    }\n}\n</code></pre>\n\n<p>If you use LiveData for select operations, you don't need AsyncTask.</p>\n"}, {"comments": [{"owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 1, "creation_date": 1518140762, "post_id": 48265349, "comment_id": 84393867, "body": "Do you have any compile error with the <code>@Query abstract suspend fun count()</code> by using suspend keyword? Can you kindly look into this similar question: <a href=\"https://stackoverflow.com/questions/48694449/error-with-room-dao-class-when-using-kotlin-coroutines\" title=\"error with room dao class when using kotlin coroutines\">stackoverflow.com/questions/48694449/&hellip;</a>"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 0, "creation_date": 1518145998, "post_id": 48265349, "comment_id": 84395091, "body": "@Robin - Yes I do. My mistake; I was using suspend on a public (unannotated) DAO method that called a protected non-suspend <code>@Query</code> function. When I add the suspend keyword to the internal <code>@Query</code> method too it does indeed fail to compile. It looks like the clever under the hood stuff for suspend &amp; Room clash (as you mention in your other question, the compiled version of suspend is returning a continuation which Room cannot handle)."}, {"owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 0, "creation_date": 1518148584, "post_id": 48265349, "comment_id": 84395680, "body": "Makes a lot of sense. I&#39;m going to call it with coroutine functions instead."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "edited": false, "score": 1, "creation_date": 1557980448, "post_id": 48265349, "comment_id": 98949429, "body": "@Robin - FYI they added support for suspend in Room 2.1 :)"}], "tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": false, "score": 66, "last_activity_date": 1568476636, "last_edit_date": 1568476636, "creation_date": 1516027896, "answer_id": 48265349, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/48265349#48265349", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<h1>Kotlin Coroutines (Clear &amp; Concise)</h1>\n\n<p>AsyncTask is really clunky. Coroutines are a cleaner alternative (just sprinkle a couple of keywords and your sync code becomes async). </p>\n\n<pre><code>// Step 1: add `suspend` to your fun\nsuspend fun roomFun(...): Int\nsuspend fun notRoomFun(...) = withContext(Dispatchers.IO) { ... }\n\n// Step 2: launch from coroutine scope\nprivate fun myFun() {\n    lifecycleScope.launch { // coroutine on Main\n        val queryResult = roomFun(...) // coroutine on IO\n        doStuff() // ...back on Main\n    }\n}\n</code></pre>\n\n<p>Dependencies (adds coroutine scopes for arch components):</p>\n\n<pre><code>// lifecycleScope:\nimplementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.2.0-alpha04'\n\n// viewModelScope:\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0-alpha04'\n</code></pre>\n\n<p>-- Updates:<br>\n<em>08-May-2019:</em> <a href=\"https://developer.android.com/jetpack/androidx/releases/room#2.1.0\" rel=\"noreferrer\">Room 2.1</a> now supports <code>suspend</code><br>\n<em>13-Sep-2019:</em> Updated to use <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"noreferrer\">Architecture components</a> scope</p>\n"}, {"tags": [], "owner": {"reputation": 30786, "user_id": 2252113, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/TTazp.png?s=128&g=1", "display_name": "Hitesh Sahu", "link": "https://stackoverflow.com/users/2252113/hitesh-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1518153889, "creation_date": 1518153889, "answer_id": 48699218, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/48699218#48699218", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>If you are more comfortable with <strong>Async task</strong>:</p>\n\n<pre><code>  new AsyncTask&lt;Void, Void, Integer&gt;() {\n                @Override\n                protected Integer doInBackground(Void... voids) {\n                    return Room.databaseBuilder(getApplicationContext(),\n                            AppDatabase.class, DATABASE_NAME)\n                            .fallbackToDestructiveMigration()\n                            .build()\n                            .getRecordingDAO()\n                            .getAll()\n                            .size();\n                }\n\n                @Override\n                protected void onPostExecute(Integer integer) {\n                    super.onPostExecute(integer);\n                    Toast.makeText(HomeActivity.this, \"Found \" + integer, Toast.LENGTH_LONG).show();\n                }\n            }.execute();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 756, "user_id": 859330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3OUP.jpg?s=128&g=1", "display_name": "leeCoder", "link": "https://stackoverflow.com/users/859330/leecoder"}, "edited": false, "score": 4, "creation_date": 1588706709, "post_id": 51285917, "comment_id": 109001291, "body": "how do you return result ?"}], "tags": [], "owner": {"reputation": 3623, "user_id": 3525279, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fa5c25e2a4bab328940986b0c0f5fffd?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/3525279/phil"}, "is_accepted": false, "score": 6, "last_activity_date": 1531313407, "creation_date": 1531313407, "answer_id": 51285917, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/51285917#51285917", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>You have to execute request in background.\nA simple way could be using an <a href=\"https://developer.android.com/reference/java/util/concurrent/Executors\" rel=\"noreferrer\">Executors</a> :</p>\n\n<pre><code>Executors.newSingleThreadExecutor().execute { \n   yourDb.yourDao.yourRequest() //Replace this by your request\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 6060743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbdb715bcd0278344d70a226085a66e?s=128&d=identicon&r=PG&f=1", "display_name": "beginner", "link": "https://stackoverflow.com/users/6060743/beginner"}, "reply_to_user": {"reputation": 601, "user_id": 3069565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PRE3Z.jpg?s=128&g=1", "display_name": "eugeneek", "link": "https://stackoverflow.com/users/3069565/eugeneek"}, "edited": false, "score": 0, "creation_date": 1534501394, "post_id": 51720416, "comment_id": 90737325, "body": "This is why we are using Callable/Future because android does not allows queries to run on main thread. As asked in the qus above"}, {"owner": {"reputation": 601, "user_id": 3069565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PRE3Z.jpg?s=128&g=1", "display_name": "eugeneek", "link": "https://stackoverflow.com/users/3069565/eugeneek"}, "edited": false, "score": 2, "creation_date": 1534503790, "post_id": 51720416, "comment_id": 90738598, "body": "I mean, although code from your answer make query in background thread, main thread is blocked and waiting when query finished. So at the end it is not much better than <code>allowMainThreadQueries()</code>. Main thread still blocked in both cases"}], "tags": [], "owner": {"reputation": 478, "user_id": 6060743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bbdb715bcd0278344d70a226085a66e?s=128&d=identicon&r=PG&f=1", "display_name": "beginner", "link": "https://stackoverflow.com/users/6060743/beginner"}, "is_accepted": false, "score": 1, "last_activity_date": 1533624222, "creation_date": 1533624222, "answer_id": 51720416, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/51720416#51720416", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>You can use Future and Callable. So you would not be required to write a long asynctask and can perform your queries without adding allowMainThreadQueries().</p>\n\n<p>My dao query:-</p>\n\n<pre><code>@Query(\"SELECT * from user_data_table where SNO = 1\")\nUserData getDefaultData();\n</code></pre>\n\n<p>My repository method:-</p>\n\n<pre><code>public UserData getDefaultData() throws ExecutionException, InterruptedException {\n\n    Callable&lt;UserData&gt; callable = new Callable&lt;UserData&gt;() {\n        @Override\n        public UserData call() throws Exception {\n            return userDao.getDefaultData();\n        }\n    };\n\n    Future&lt;UserData&gt; future = Executors.newSingleThreadExecutor().submit(callable);\n\n    return future.get();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1748, "user_id": 1512043, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/05470a30d8f99126e38322a4514cb081?s=128&d=identicon&r=PG&f=1", "display_name": "Mostafa Rostami", "link": "https://stackoverflow.com/users/1512043/mostafa-rostami"}, "is_accepted": false, "score": 9, "last_activity_date": 1549065605, "creation_date": 1549065605, "answer_id": 54488655, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/54488655#54488655", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>Simply you can use this code for solve it: </p>\n\n<pre><code>Executors.newSingleThreadExecutor().execute(new Runnable() {\n                    @Override\n                    public void run() {\n                        appDb.daoAccess().someJobes();//replace with your code\n                    }\n                });\n</code></pre>\n\n<p>Or in lambda you can use this code:</p>\n\n<pre><code>Executors.newSingleThreadExecutor().execute(() -&gt; appDb.daoAccess().someJobes());\n</code></pre>\n\n<p>You can replace <code>appDb.daoAccess().someJobes()</code> with your own code;</p>\n"}, {"comments": [{"owner": {"reputation": 1342, "user_id": 12787936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLB6q.jpg?s=128&g=1", "display_name": "alexrnov", "link": "https://stackoverflow.com/users/12787936/alexrnov"}, "edited": false, "score": 2, "creation_date": 1582289068, "post_id": 55153723, "comment_id": 106735551, "body": "This is convenient, thanks. By the way, Kotlin is even easier: AsyncTask.execute { }"}, {"owner": {"reputation": 756, "user_id": 859330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a3OUP.jpg?s=128&g=1", "display_name": "leeCoder", "link": "https://stackoverflow.com/users/859330/leecoder"}, "edited": false, "score": 3, "creation_date": 1588705712, "post_id": 55153723, "comment_id": 109000801, "body": "but how do you get the result using this method?"}], "tags": [], "owner": {"reputation": 707, "user_id": 6828091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cAJT8.jpg?s=128&g=1", "display_name": "Afjalur Rahman Rana", "link": "https://stackoverflow.com/users/6828091/afjalur-rahman-rana"}, "is_accepted": false, "score": 19, "last_activity_date": 1552527810, "creation_date": 1552527810, "answer_id": 55153723, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/55153723#55153723", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>With lambda its easy to run with AsyncTask</p>\n\n<pre><code> AsyncTask.execute(() -&gt; //run your query here );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 7268862, "user_type": "registered", "profile_image": "https://graph.facebook.com/1682016638729071/picture?type=large", "display_name": "Angel Enrique Herrera Crespo", "link": "https://stackoverflow.com/users/7268862/angel-enrique-herrera-crespo"}, "is_accepted": false, "score": 12, "last_activity_date": 1557294149, "last_edit_date": 1557294149, "creation_date": 1556649901, "answer_id": 55927003, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/55927003#55927003", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>Just do the database operations in a separate Thread. Like this (Kotlin):</p>\n\n<pre><code>Thread {\n   //Do your database\u00b4s operations here\n}.start()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 778, "user_id": 5700434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZC7qF.jpg?s=128&g=1", "display_name": "Sasuke Uchiha", "link": "https://stackoverflow.com/users/5700434/sasuke-uchiha"}, "is_accepted": false, "score": 6, "last_activity_date": 1578252122, "creation_date": 1578252122, "answer_id": 59603395, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/59603395#59603395", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>As asyncTask are deprecated we may use executor service. OR you can also use ViewModel with <a href=\"https://developer.android.com/training/data-storage/room/accessing-data#query-observable\" rel=\"noreferrer\">LiveData</a> as explained in other answers.</p>\n\n<p>For using executor service, you may use something like below.</p>\n\n<pre><code>public class DbHelper {\n\n    private final Executor executor = Executors.newSingleThreadExecutor();\n\n    public void fetchData(DataFetchListener dataListener){\n        executor.execute(() -&gt; {\n                Object object = retrieveAgent(agentId);\n                new Handler(Looper.getMainLooper()).post(() -&gt; {\n                        dataListener.onFetchDataSuccess(object);\n                });\n        });\n    }\n}\n</code></pre>\n\n<p>Main Looper is used, so that you can access UI element from <code>onFetchDataSuccess</code> callback.</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 7143202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3ee3d528da9900f5e2e750c86fce57?s=128&d=identicon&r=PG&f=1", "display_name": "Rotem Barak", "link": "https://stackoverflow.com/users/7143202/rotem-barak"}, "is_accepted": false, "score": 0, "last_activity_date": 1585856605, "creation_date": 1585856605, "answer_id": 60999828, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread/60999828#60999828", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>In my opinion the right thing to do is to delegate the query to an IO thread using RxJava.</p>\n\n<p>I have an example of a solution to an equivalent problem I've just encountered.</p>\n\n<pre><code>((ProgressBar) view.findViewById(R.id.progressBar_home)).setVisibility(View.VISIBLE);//Always good to set some good feedback\n        Completable.fromAction(() -&gt; {\n            //Creating view model requires DB access\n            homeViewModel = new ViewModelProvider(this, factory).get(HomeViewModel.class);\n        }).subscribeOn(Schedulers.io())//The DB access executes on a non-main-thread thread\n        .observeOn(AndroidSchedulers.mainThread())//Upon completion of the DB-involved execution, the continuation runs on the main thread\n        .subscribe(\n                () -&gt;\n                {\n                    mAdapter = new MyAdapter(homeViewModel.getExams());\n                    recyclerView.setAdapter(mAdapter);\n                    ((ProgressBar) view.findViewById(R.id.progressBar_home)).setVisibility(View.INVISIBLE);\n                },\n                error -&gt; error.printStackTrace()\n        );\n</code></pre>\n\n<p>And if we want to generalize the solution:</p>\n\n<pre><code>((ProgressBar) view.findViewById(R.id.progressBar_home)).setVisibility(View.VISIBLE);//Always good to set some good feedback\n        Completable.fromAction(() -&gt; {\n            someTaskThatTakesTooMuchTime();\n        }).subscribeOn(Schedulers.io())//The long task executes on a non-main-thread thread\n        .observeOn(AndroidSchedulers.mainThread())//Upon completion of the DB-involved execution, the continuation runs on the main thread\n        .subscribe(\n                () -&gt;\n                {\n                    taskIWantToDoOnTheMainThreadWhenTheLongTaskIsDone();\n                },\n                error -&gt; error.printStackTrace()\n        );\n</code></pre>\n"}], "owner": {"reputation": 15294, "user_id": 217586, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/l9b1b.jpg?s=128&g=1", "display_name": "Devarshi", "link": "https://stackoverflow.com/users/217586/devarshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152120, "favorite_count": 34, "accepted_answer_id": 44167951, "answer_count": 19, "score": 162, "last_activity_date": 1611072316, "creation_date": 1495654593, "last_edit_date": 1495686263, "question_id": 44167111, "link": "https://stackoverflow.com/questions/44167111/android-room-simple-select-query-cannot-access-database-on-the-main-thread", "title": "Android Room - simple select query - Cannot access database on the main thread", "body": "<p>I am trying a sample with <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"noreferrer\">Room Persistence Library</a>.\nI created an Entity:</p>\n\n<pre><code>@Entity\npublic class Agent {\n    @PrimaryKey\n    public String guid;\n    public String name;\n    public String email;\n    public String password;\n    public String phone;\n    public String licence;\n}\n</code></pre>\n\n<p>Created a DAO class:</p>\n\n<pre><code>@Dao\npublic interface AgentDao {\n    @Query(\"SELECT COUNT(*) FROM Agent where email = :email OR phone = :phone OR licence = :licence\")\n    int agentsCount(String email, String phone, String licence);\n\n    @Insert\n    void insertAgent(Agent agent);\n}\n</code></pre>\n\n<p>Created the Database class:</p>\n\n<pre><code>@Database(entities = {Agent.class}, version = 1)\npublic abstract class AppDatabase extends RoomDatabase {\n    public abstract AgentDao agentDao();\n}\n</code></pre>\n\n<p>Exposed database using below subclass in Kotlin:</p>\n\n<pre><code>class MyApp : Application() {\n\n    companion object DatabaseSetup {\n        var database: AppDatabase? = null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        MyApp.database =  Room.databaseBuilder(this, AppDatabase::class.java, \"MyDatabase\").build()\n    }\n}\n</code></pre>\n\n<p>Implemented below function in my activity:</p>\n\n<pre><code>void signUpAction(View view) {\n        String email = editTextEmail.getText().toString();\n        String phone = editTextPhone.getText().toString();\n        String license = editTextLicence.getText().toString();\n\n        AgentDao agentDao = MyApp.DatabaseSetup.getDatabase().agentDao();\n        //1: Check if agent already exists\n        int agentsCount = agentDao.agentsCount(email, phone, license);\n        if (agentsCount &gt; 0) {\n            //2: If it already exists then prompt user\n            Toast.makeText(this, \"Agent already exists!\", Toast.LENGTH_LONG).show();\n        }\n        else {\n            Toast.makeText(this, \"Agent does not exist! Hurray :)\", Toast.LENGTH_LONG).show();\n            onBackPressed();\n        }\n    }\n</code></pre>\n\n<p>Unfortunately on execution of above method it crashes with below stack trace:</p>\n\n<pre><code>    FATAL EXCEPTION: main\n Process: com.example.me.MyApp, PID: 31592\njava.lang.IllegalStateException: Could not execute method for android:onClick\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:293)\n    at android.view.View.performClick(View.java:5612)\n    at android.view.View$PerformClick.run(View.java:22288)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6123)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\n    at android.view.View.performClick(View.java:5612)\u00a0\n    at android.view.View$PerformClick.run(View.java:22288)\u00a0\n    at android.os.Handler.handleCallback(Handler.java:751)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:95)\u00a0\n    at android.os.Looper.loop(Looper.java:154)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n Caused by: java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long periods of time.\n    at android.arch.persistence.room.RoomDatabase.assertNotMainThread(RoomDatabase.java:137)\n    at android.arch.persistence.room.RoomDatabase.query(RoomDatabase.java:165)\n    at com.example.me.MyApp.RoomDb.Dao.AgentDao_Impl.agentsCount(AgentDao_Impl.java:94)\n    at com.example.me.MyApp.View.SignUpActivity.signUpAction(SignUpActivity.java:58)\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\u00a0\n    at android.view.View.performClick(View.java:5612)\u00a0\n    at android.view.View$PerformClick.run(View.java:22288)\u00a0\n    at android.os.Handler.handleCallback(Handler.java:751)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:95)\u00a0\n    at android.os.Looper.loop(Looper.java:154)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6123)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:757)\u00a0\n</code></pre>\n\n<p>Seems like that problem is related to execution of db operation on main thread. However the sample test code provided in above link does not run on a separate thread:</p>\n\n<pre><code>@Test\n    public void writeUserAndReadInList() throws Exception {\n        User user = TestUtil.createUser(3);\n        user.setName(\"george\");\n        mUserDao.insert(user);\n        List&lt;User&gt; byName = mUserDao.findUsersByName(\"george\");\n        assertThat(byName.get(0), equalTo(user));\n    }\n</code></pre>\n\n<p>Am I missing anything over here? How can I make it execute without crash? Please suggest.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 1, "creation_date": 1495704553, "post_id": 44166817, "comment_id": 75368463, "body": "how do you use it? I mean I&#39;m a bit confused with your use of companion object here. Regarding colours, you need to get an instance of a Color class, not an Int - ContextCompat.getColor(context, R.color.your_desired_colour)"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 1, "creation_date": 1495704585, "post_id": 44166817, "comment_id": 75368480, "body": "btw, you can just write <code>override fun createView(ui: AnkoContext&lt;ViewGroup&gt;) = with(ui) { relativeLayout { ... } }</code>, without <code>.view</code>, as well as <code>textSize = dip(14)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 1532987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EyRl5.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1532987/ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1516076234, "creation_date": 1516076234, "answer_id": 48274023, "question_id": 44166817, "link": "https://stackoverflow.com/questions/44166817/convert-xml-to-anko-dsl/48274023#48274023", "title": "Convert XML to Anko DSL", "body": "<p>For the first and the third problem you should use <strong>backgroundColorResource</strong>,\nbackgroundColor is used for static colors, i.e.</p>\n\n<pre><code>backgroundColor = Color.YELLOW\nbackgroundColorResource = R.color.placeholder_background\n</code></pre>\n\n<p>I don't know about second problem, it seems to be margin or padding issue</p>\n"}], "owner": {"reputation": 251, "user_id": 1882643, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/adde9a6c65086bb2e9fb7978da96f203?s=128&d=identicon&r=PG", "display_name": "alvr", "link": "https://stackoverflow.com/users/1882643/alvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 797, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516076234, "creation_date": 1495653405, "question_id": 44166817, "link": "https://stackoverflow.com/questions/44166817/convert-xml-to-anko-dsl", "title": "Convert XML to Anko DSL", "body": "<p>I want to convert my XML layouts to Anko DSL, but I'm having problems with CardView</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/cardview_manga\"\n    android:layout_margin=\"5dp\"&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/manga_cover\"\n            android:background=\"@color/placeholder_background\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:contentDescription=\"@string/cover\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/manga_name\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom\"\n            android:padding=\"5dp\"\n            android:background=\"#3f000000\"\n            android:textColor=\"#ffffff\"\n            android:textSize=\"14sp\" /&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>And this is the Anko DSL I converted to:</p>\n\n<pre><code>class ItemManga : AnkoComponent&lt;ViewGroup&gt; {\n\n    companion object {\n        lateinit var mangaCover: ImageView\n        lateinit var mangaName: TextView\n    }\n\n    override fun createView(ui: AnkoContext&lt;ViewGroup&gt;) = ui.apply {\n        relativeLayout {\n            cardView {\n                frameLayout {\n                    lparams {\n                        height = matchParent\n                        width = matchParent\n                    }\n\n                    mangaCover = imageView {\n                        backgroundColor = R.color.placeholder_background\n                        contentDescription = ctx.getString(R.string.cover)\n                    }.lparams {\n                        height = matchParent\n                        width = matchParent\n                    }\n\n                    mangaName = textView {\n                        textSize = sp(14).toFloat()\n                        textColor = android.R.color.white\n                        backgroundColor = R.color.manga_title_background\n                    }.lparams {\n                        height = wrapContent\n                        width = matchParent\n                        gravity = Gravity.BOTTOM\n                        padding = dip(5)\n                    }\n                }\n            }.lparams {\n                height = wrapContent\n                width = matchParent\n                margin = dip(5)\n            }\n        }\n    }.view\n}\n</code></pre>\n\n<p>The result is not the expected:</p>\n\n<ul>\n<li>The background of the CardView placeholder is purple, when it should be grey.</li>\n<li>The ImageView is not matching the CardView.</li>\n<li>The TextView background is purple, it's too high and even doesn't appear.</li>\n</ul>\n\n<p>Here are some screenshots:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8VC8C.png\" rel=\"nofollow noreferrer\">With XML layout</a><br>\n<a href=\"https://i.stack.imgur.com/YdigO.png\" rel=\"nofollow noreferrer\">With Anko DSL</a></p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 446, "user_id": 947875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbf2e449860bb48acb9544c6b81bb9d9?s=128&d=identicon&r=PG", "display_name": "cavega", "link": "https://stackoverflow.com/users/947875/cavega"}, "edited": false, "score": 0, "creation_date": 1495666860, "post_id": 44164239, "comment_id": 75355354, "body": "Which version of Kotlin are you running? How does your build.gradle looks like in terms of Kotlin dependencies. More info is needed to be able to help.  Just FYI, for AS2.3 you need to use Kotlin 1.1.2-3. Seems 1.1.2-4 only works with AS3.0 Canary."}, {"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "reply_to_user": {"reputation": 446, "user_id": 947875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbf2e449860bb48acb9544c6b81bb9d9?s=128&d=identicon&r=PG", "display_name": "cavega", "link": "https://stackoverflow.com/users/947875/cavega"}, "edited": false, "score": 0, "creation_date": 1495676880, "post_id": 44164239, "comment_id": 75357860, "body": "updated the questions with kotlin version"}, {"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "reply_to_user": {"reputation": 446, "user_id": 947875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbf2e449860bb48acb9544c6b81bb9d9?s=128&d=identicon&r=PG", "display_name": "cavega", "link": "https://stackoverflow.com/users/947875/cavega"}, "edited": false, "score": 0, "creation_date": 1497538147, "post_id": 44164239, "comment_id": 76129976, "body": "I got this working by removing the &#39;kotlin-kapt&#39; plugin. Apparently an older version(v1)  of kapt is included in the &#39;kotlin&#39; plugin.  I have yet to get the new version to work with this setup."}], "answers": [{"tags": [], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "is_accepted": false, "score": 1, "last_activity_date": 1497549720, "creation_date": 1497549720, "answer_id": 44574067, "question_id": 44164239, "link": "https://stackoverflow.com/questions/44164239/kotlin-gradle-sync-error-in-android-studio/44574067#44574067", "title": "Kotlin: gradle sync error in Android Studio", "body": "<p>This is a known bug in the kotlin-kapt plugin.  There is a fix in 1.1.3, which is currently in EAP and should be released very soon to stable(June 2017).  </p>\n\n<p>More info:\n<a href=\"https://youtrack.jetbrains.com/issue/KT-17999#tab=Comments\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17999#tab=Comments</a></p>\n"}], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497549720, "creation_date": 1495644284, "last_edit_date": 1497537922, "question_id": 44164239, "link": "https://stackoverflow.com/questions/44164239/kotlin-gradle-sync-error-in-android-studio", "title": "Kotlin: gradle sync error in Android Studio", "body": "<p>After adding Kotlin to a module I get the following error when syncing:</p>\n\n<pre><code>Error:null cannot be cast to non-null type org.jetbrains.kotlin.gradle.internal.WrappedVariantData\n</code></pre>\n\n<p>I added the kotlin plugin to this project.  It is an appengine module.  I'm running:\n AS 2.3.2\n gradle 3.4\n kotlin 1.1.2-3</p>\n\n<p>using these plugins:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\napply plugin: 'kotlin'\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'appengine'\napply plugin: 'idea'\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["collections", "kotlin"], "comments": [{"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1495643494, "post_id": 44163830, "comment_id": 75344464, "body": "isn&#39;t <code>mapValues</code> exactly what you want? Sure enough it gives you <code>Entry</code> instead of just value, but that is only one method call longer than ideal."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495643914, "post_id": 44163830, "comment_id": 75344736, "body": "You should show code you tried and why it failed, because you actually mentioned a working solution so you must have been almost there."}], "answers": [{"comments": [{"owner": {"reputation": 2017, "user_id": 2855036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9d465c532e0a6246b91e9767be7695bf?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/2855036/nacho"}, "edited": false, "score": 0, "creation_date": 1495648142, "post_id": 44164046, "comment_id": 75347056, "body": "ok, silly me...i just didn&#39;t put it.value.size inside mapValue. Thanks!"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 3, "last_activity_date": 1495644100, "last_edit_date": 1495644100, "creation_date": 1495643684, "answer_id": 44164046, "question_id": 44163830, "link": "https://stackoverflow.com/questions/44163830/kotlin-collections-converting-a-map-to-a-new-map-with-values-calculated-from-the/44164046#44164046", "title": "kotlin collections converting a Map to a new Map with values calculated from the original", "body": "<p>Assuming you start with:</p>\n\n\n\n<pre><code>val monthOfOperations: Map&lt;Int, List&lt;Operation&gt;&gt;\n</code></pre>\n\n<p>Then you can simply:</p>\n\n<pre><code>val monthOfOperationCounts = monthOfOperations.mapValues { it.value.size }\n// result:  Map&lt;Int, Int&gt; of Month to Count of Operations\n</code></pre>\n\n<p>Note the result is <code>Map&lt;Int, Int&gt;</code> since the collection size is <code>Int</code> and not <code>Long</code>.  To have a <code>Long</code> if really required:</p>\n\n<pre><code>val monthOfOperationCounts = monthOfOperations.mapValues { it.value.size.toLong() }\n// result:  Map&lt;Int, Long&gt; of Month to Count of Operations\n</code></pre>\n\n<p>But there is no reason to store an <code>Int</code> value in a <code>Long</code>.</p>\n"}], "owner": {"reputation": 2017, "user_id": 2855036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9d465c532e0a6246b91e9767be7695bf?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/2855036/nacho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "accepted_answer_id": 44164046, "answer_count": 1, "score": -1, "last_activity_date": 1495644742, "creation_date": 1495643064, "last_edit_date": 1495644742, "question_id": 44163830, "link": "https://stackoverflow.com/questions/44163830/kotlin-collections-converting-a-map-to-a-new-map-with-values-calculated-from-the", "title": "kotlin collections converting a Map to a new Map with values calculated from the original", "body": "<p>I'm new to Kotlin and i'm trying to summarize a query. \nI have a <code>Map&lt;Int, List&lt;Objects&gt;&gt;</code> with Int: Month and <code>List&lt;Objects&gt;</code> all the operations processes in that month.</p>\n\n<p>What i'm trying to do now is to get a <code>Map&lt;Int, Long&gt;</code> in which Long: the count() of all the operations.</p>\n\n<p>I already went through map, mapValues, fold... but without getting the correct answer.</p>\n"}, {"tags": ["android", "driver", "kotlin", "android-things", "proximitysensor"], "comments": [{"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1495658517, "post_id": 44163796, "comment_id": 75352240, "body": "Unless i am reading your code wrong. It looks like <code>HCSR04</code> doesn&#39;t extend <code>Service</code> ? which it does in the examples <a href=\"https://developer.android.com/things/sdk/drivers/sensors.html\" rel=\"nofollow noreferrer\">developer.android.com/things/sdk/drivers/sensors.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1496386223, "post_id": 44172142, "comment_id": 75650032, "body": "That makes sense, but seems awkward: I need to: context -&gt; SensorManager -&gt; registerDynamicSensorCallback -&gt; onDynamicSensorConnected -&gt;  sensorManager.registerListener -&gt; sensorEventListener -&gt; onSensorChanged -&gt; where I actually make use of the new range?"}, {"owner": {"reputation": 60522, "user_id": 246461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtTHn.jpg?s=128&g=1", "display_name": "devunwired", "link": "https://stackoverflow.com/users/246461/devunwired"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1496419691, "post_id": 44172142, "comment_id": 75670195, "body": "Not sure what you mean by &quot;new range&quot;, but that is the general flow if you are registering a sensor driver and using it from the same point in your code. You wouldn&#39;t generally put any of that code into the UserSensorDriver itself. That code would live in the application attempting to make use of the driver."}], "tags": [], "owner": {"reputation": 60522, "user_id": 246461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtTHn.jpg?s=128&g=1", "display_name": "devunwired", "link": "https://stackoverflow.com/users/246461/devunwired"}, "is_accepted": true, "score": 0, "last_activity_date": 1495685571, "creation_date": 1495685571, "answer_id": 44172142, "question_id": 44163796, "link": "https://stackoverflow.com/questions/44163796/android-things-usersensor-builder-unable-to-create-distance-sensor-driver/44172142#44172142", "title": "Android Things UserSensor.Builder - unable to create distance sensor driver", "body": "<p>One thing you might consider is changing the sensor type. <code>TYPE_PROXIMITY</code> is an on-change sensor, which is supported in the current preview. However it's also a wakeup sensor, which might not be fully supported yet. You could try modifying your sensor definition to use a custom type instead:</p>\n\n<pre><code>userSensor = UserSensor.Builder()\n        .setName(\"HC-SR04 Ultrasonic Distance Sensor\")\n        .setVersion(1)\n        .setCustomType(Sensor.TYPE_DEVICE_PRIVATE_BASE,\n                \"com.example.ultrasonic\",\n                Sensor.REPORTING_MODE_CONTINUOUS)\n        .setDriver(this)\n        .build()\n</code></pre>\n\n<blockquote>\n  <p>at this point, what is the difference between registering the UserSensor with the UserDriverManager (done), and registering it with the SensorManager?</p>\n</blockquote>\n\n<p>You can't register a <code>UserSensor</code> directly with <code>SensorManager</code>. The Android <code>SensorManager</code> API exists to enable client applications to read data from sensors built into the device. The <code>UserDriverManager</code> API exists to enable <strong>Android Things</strong> developers to add new sensors to the system that you may want to read elsewhere in the code using the same <code>SensorManager</code> API.</p>\n\n<p>To put it another way, you build a <code>UserSensor</code> to inject your custom sensor data into the framework via <code>UserDriverManager</code>. You use <code>SensorManager</code> to extract the data provided to the framework and use it in a client app.</p>\n\n<blockquote>\n  <p>Is there anything that is preventing it from showing up in the list of Sensors?</p>\n</blockquote>\n\n<p>You should be able to test this using <code>SensorManager.getDynamicSensorList()</code> (not the same as the <code>getSensorList()</code> method) after the sensor callback triggers.</p>\n\n<blockquote>\n  <p>Do I need to wait until the sensor is \"ready\" like with sensorManager.registerDynamicSensorCallback?</p>\n</blockquote>\n\n<p>The dynamic callback tells you when the new driver has been successfully registered with the framework. You won't be able to attach a listener or query the sensor itself until after <code>onDynamicSensorConnected()</code> is called.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 44172142, "answer_count": 1, "score": 0, "last_activity_date": 1495685571, "creation_date": 1495642972, "last_edit_date": 1495658602, "question_id": 44163796, "link": "https://stackoverflow.com/questions/44163796/android-things-usersensor-builder-unable-to-create-distance-sensor-driver", "title": "Android Things UserSensor.Builder - unable to create distance sensor driver", "body": "<p>I'm attempting to create an Android Things driver for the standard HC-SR04 ultrasonic sensor.  I believe I've got the sequence of events correct: <a href=\"https://gist.github.com/salamanders/3d4509b49cddfbb1f4d4d7c959d5c1f5\" rel=\"nofollow noreferrer\">see footer</a>, but have been unable to register it as a UserSensor.</p>\n\n<pre><code>userSensor = UserSensor.Builder()\n    .setName(\"HC-SR04 Ultrasonic Distance Sensor\")\n    .setVersion(1)\n    // If boolean \"on face or not,\" should I use something linear like TYPE_LIGHT\n    .setType(Sensor.TYPE_PROXIMITY) \n    .setDriver(this) // UserSensorDriver  \n    .build()\n</code></pre>\n\n<p>at this point, what is the difference between registering the UserSensor  with the UserDriverManager (done), and registering it with the SensorManager?  Is there anything that is preventing it from showing up in the list of Sensors?  Do I need to wait until the sensor is \"ready\" like with sensorManager.registerDynamicSensorCallback?</p>\n\n<pre><code>val sensorManager = context.getSystemService(Context.SENSOR_SERVICE) as SensorManager\nsensorManager.registerListener(this, // SensorEventListener.onSensorChanged\n    sensorManager.getDefaultSensor(Sensor.TYPE_PROXIMITY),\n    SensorManager.SENSOR_DELAY_NORMAL)\n</code></pre>\n\n<p>No matter what I try, I get <strong>\"E/SensorManager: sensor or listener is null\"</strong> (which is even more surprising in Kotlin because nulls aren't supposed to sneak in as much)</p>\n\n<hr>\n\n<p>My sensor <a href=\"https://gist.github.com/salamanders/3d4509b49cddfbb1f4d4d7c959d5c1f5\" rel=\"nofollow noreferrer\">/ also a gist</a>:</p>\n\n<pre><code>/** Callback for when the distance changes \"enough to care\" */\ninterface SignificantDistanceChangeListener {\n    fun onDistanceChanged(distanceCm: Float)\n}\n\n/**\n * User Sensor - Ultrasonic range finder\n */\nclass HCSR04(context: Context, val sdcl: SignificantDistanceChangeListener) : UserSensorDriver(), SensorEventListener, AutoCloseable {\n    private val LOG = Logger.getLogger(this.javaClass.name)\n    private val gpio = PeripheralManagerService().openGpio(\"BCM23\")\n    private val distanceReading: BlockingQueue&lt;Float&gt; = ArrayBlockingQueue(1)\n    // Choreography of each ping\n    private val scheduler: ScheduledExecutorService = Executors.newScheduledThreadPool(1)\n    private val userSensor: UserSensor\n\n    init {\n        userSensor = UserSensor.Builder()\n                .setName(\"HC-SR04 Ultrasonic Distance Sensor\")\n                .setVersion(1)\n                .setType(Sensor.TYPE_PROXIMITY) // Could this be something more linear like TYPE_LIGHT\n                .setDriver(this)\n                .build()\n        UserDriverManager.getManager().registerSensor(userSensor)\n\n        val sensorManager = context.getSystemService(Context.SENSOR_SERVICE) as SensorManager\n        LOG.info(\"ALL Sensors: ${sensorManager.getSensorList(Sensor.TYPE_ALL)}\")\n\n        sensorManager.registerDynamicSensorCallback(object : SensorManager.DynamicSensorCallback() {\n            override fun onDynamicSensorConnected(sensor: Sensor) {\n                LOG.info(\"onDynamicSensorConnected\")\n                if (sensor.type == Sensor.TYPE_PROXIMITY) {\n                    sensorManager.registerListener(\n                            this@HCSR04,\n                            sensor,\n                            SensorManager.SENSOR_DELAY_NORMAL\n                    )\n                }\n            }\n        })\n\n    }\n\n    val gpioEdgeCallback = object : GpioCallback() {\n        // Track the reply rise/fall\n        private val startMs = AtomicLong()\n        private val startValid = AtomicBoolean(false)\n\n        private fun calculate() {\n            val elapsed = (System.nanoTime() / 1000) - startMs.get()\n            if (startValid.get() &amp;&amp; elapsed &gt; 0) {\n                distanceReading.put(elapsed * 34000 / 2f)\n            } else {\n                LOG.warning(\"Discarding edge callback ${startMs.get()} ${startValid.get()} $elapsed\")\n            }\n            startValid.set(false)\n        }\n\n        override fun onGpioEdge(gpio: Gpio?): Boolean {\n            if (gpio != null) {\n                if (gpio.value) {\n                    startMs.set(System.nanoTime() / 1000)\n                    startValid.set(true)\n                } else {\n                    calculate()\n                }\n                LOG.finer(\"GPIO input edge: ${System.nanoTime() / 1000} ${gpio.value}\")\n            }\n            return true\n        }\n\n        override fun onGpioError(gpio: Gpio?, error: Int) = LOG.severe(\"$gpio Error event $error\")\n    }\n\n    /** Launch a new thread to get the distance, then block until we have a result */\n    override fun read(): UserSensorReading {\n        distanceReading.clear()\n\n        gpio.setDirection(Gpio.DIRECTION_OUT_INITIALLY_LOW)\n        gpio.setActiveType(Gpio.ACTIVE_HIGH)\n        gpio.value = false\n\n        scheduler.schedule({ gpio.value = true }, 1, TimeUnit.MICROSECONDS)\n        scheduler.schedule({ gpio.value = false }, 11, TimeUnit.MICROSECONDS)\n        scheduler.schedule({\n            gpio.setDirection(Gpio.DIRECTION_IN)\n            gpio.setActiveType(Gpio.ACTIVE_HIGH) // redundant?\n            gpio.setEdgeTriggerType(Gpio.EDGE_BOTH)\n            gpio.registerGpioCallback(gpioEdgeCallback)\n        }, 12, TimeUnit.MICROSECONDS)\n\n        val distanceCm = distanceReading.take()\n        gpio.unregisterGpioCallback(gpioEdgeCallback)\n        LOG.info(\"New distance reading: $distanceCm\")\n        return UserSensorReading(floatArrayOf(distanceCm))\n    }\n\n    /** from @SensorEventListener */\n    override fun onAccuracyChanged(sensor: Sensor, accuracy: Int) = LOG.info(\"$sensor accuracy change: $accuracy\")\n\n    /**\n     * from @SensorEventListener\n     */\n    override fun onSensorChanged(event: SensorEvent) = sdcl.onDistanceChanged(event.values[0])\n\n    /** from @AutoCloseable */\n    override fun close() {\n        LOG.warning(\"Closing Sensor HCSR04\")\n        UserDriverManager.getManager().unregisterSensor(userSensor)\n        gpio.close()\n        scheduler.shutdownNow()\n    }\n}\n</code></pre>\n"}, {"tags": ["proguard", "kotlin", "kotlin-reflect"], "comments": [{"owner": {"reputation": 347, "user_id": 4330404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad40cbe57aa78c91ade876d4cb85005?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4330404/bryan"}, "edited": false, "score": 0, "creation_date": 1495637773, "post_id": 44161717, "comment_id": 75340405, "body": "Adding a note that we have tried adding the keepclassmembers and we do have keepAttributes  <code>-keepattributes *Annotation*</code>  <code>-keepclassmembers class ** {   @org.jetbrains.annotations.ReadOnly public *; }</code>"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1495643286, "post_id": 44161717, "comment_id": 75344353, "body": "If this started happening after the Kotlin upgrade, I suggest you file a ticket <a href=\"https://youtrack.jetbrains.com/issues/kotlin\" rel=\"nofollow noreferrer\">on their bug tracking system</a>."}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 4330404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad40cbe57aa78c91ade876d4cb85005?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4330404/bryan"}, "is_accepted": true, "score": 8, "last_activity_date": 1495648922, "last_edit_date": 1495648922, "creation_date": 1495644510, "answer_id": 44164311, "question_id": 44161717, "link": "https://stackoverflow.com/questions/44161717/proguard-and-kotlin-reflect-kotlin-annotations/44164311#44164311", "title": "Proguard and Kotlin-Reflect/Kotlin Annotations", "body": "<p>The fix for us was to add <code>dontwarn</code> for the reflect warnings. </p>\n\n<pre><code>-dontwarn kotlin.reflect.jvm.internal.impl.descriptors.CallableDescriptor\n-dontwarn kotlin.reflect.jvm.internal.impl.descriptors.ClassDescriptor\n-dontwarn kotlin.reflect.jvm.internal.impl.descriptors.ClassifierDescriptorWithTypeParameters\n-dontwarn kotlin.reflect.jvm.internal.impl.descriptors.annotations.AnnotationDescriptor\n-dontwarn kotlin.reflect.jvm.internal.impl.descriptors.impl.PropertyDescriptorImpl\n-dontwarn kotlin.reflect.jvm.internal.impl.load.java.JavaClassFinder\n-dontwarn kotlin.reflect.jvm.internal.impl.resolve.OverridingUtil\n-dontwarn kotlin.reflect.jvm.internal.impl.types.DescriptorSubstitutor\n-dontwarn kotlin.reflect.jvm.internal.impl.types.DescriptorSubstitutor\n-dontwarn kotlin.reflect.jvm.internal.impl.types.TypeConstructor\n</code></pre>\n\n<p>These annotations exist in kotlin-compiler which is why proguard can't find them. Just ignore the warning instead of adding kotlin-compiler as a dependency (as this issue suggests <a href=\"https://stackoverflow.com/questions/43043767/cannot-resolve-symbol-readonly-and-mutable-in-kotlin-1-1-0-compilation\">Cannot resolve symbol @ReadOnly and @Mutable in Kotlin 1.1.0 compilation</a>).  </p>\n\n<p>This may be a bug in kotlin-reflect; they should provide proguard rules to hide this from integrating apps. </p>\n"}, {"tags": [], "owner": {"reputation": 1318, "user_id": 769726, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4kbxA.jpg?s=128&g=1", "display_name": "Klemens Zleptnig", "link": "https://stackoverflow.com/users/769726/klemens-zleptnig"}, "is_accepted": false, "score": 10, "last_activity_date": 1507661615, "creation_date": 1507661615, "answer_id": 46673952, "question_id": 44161717, "link": "https://stackoverflow.com/questions/44161717/proguard-and-kotlin-reflect-kotlin-annotations/46673952#46673952", "title": "Proguard and Kotlin-Reflect/Kotlin Annotations", "body": "<p>Or a shorter version:</p>\n\n<p><code>-dontwarn kotlin.reflect.jvm.internal.**</code></p>\n"}], "owner": {"reputation": 347, "user_id": 4330404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad40cbe57aa78c91ade876d4cb85005?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/4330404/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4882, "favorite_count": 4, "accepted_answer_id": 44164311, "answer_count": 2, "score": 16, "last_activity_date": 1507661615, "creation_date": 1495636996, "last_edit_date": 1495643000, "question_id": 44161717, "link": "https://stackoverflow.com/questions/44161717/proguard-and-kotlin-reflect-kotlin-annotations", "title": "Proguard and Kotlin-Reflect/Kotlin Annotations", "body": "<p>Looking for some help from someone who puts the pro in proguard. </p>\n\n<p>Annotations used by kotlin-reflect (required dependency for jackson-module-kotlin v v2.8.8) are getting stripped out after upgrading to kotlin 1.1.2-3. The error from proguard is:\n <code>Warning:kotlin.reflect.jvm.internal.impl.descriptors.CallableDescriptor: can't find referenced class org.jetbrains.annotations.ReadOnly</code></p>\n\n<p>This is happening for a few annotations, not just ReadOnly. We have tried adding a good ol' catch all but the error still exists:</p>\n\n<pre><code>-keep class org.jetbrains.kotlin.** { *; }\n-keep class org.jetbrains.annotations.** { *; }\n-keepclassmembers class ** {\n  @org.jetbrains.annotations.ReadOnly public *;\n}\n</code></pre>\n\n<p>Looking at the source for <code>ReadOnly</code> it is an <code>@interface</code> with <code>java.lang.annotations.*</code> imported for <code>@Documented</code>, <code>@RetentionPolicy.CLASS</code>, <code>@Target</code></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1495637038, "post_id": 44161681, "comment_id": 75339754, "body": "Seemingly, you run AS or Gradle within a lower version of JRE than 1.8. See: <a href=\"https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\" title=\"unsupported major minor version 52 0\">stackoverflow.com/questions/22489398/&hellip;</a>"}, {"owner": {"reputation": 935, "user_id": 288724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/2Cu6S.jpg?s=128&g=1", "display_name": "echo", "link": "https://stackoverflow.com/users/288724/echo"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1495638120, "post_id": 44161681, "comment_id": 75340682, "body": "I didn&#39;t find the right solution for AS. Should I modify my build.gradle file? There is no any suggestions on official website."}, {"owner": {"reputation": 935, "user_id": 288724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/2Cu6S.jpg?s=128&g=1", "display_name": "echo", "link": "https://stackoverflow.com/users/288724/echo"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1495638833, "post_id": 44161681, "comment_id": 75341228, "body": "Finally I solved it from <a href=\"https://stackoverflow.com/a/37712635/288724\">stackoverflow.com/a/37712635/288724</a>. Thanks for your help too.  @hotkey"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1495639239, "post_id": 44161681, "comment_id": 75341548, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\">Unsupported major.minor version 52.0</a>"}], "owner": {"reputation": 935, "user_id": 288724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/2Cu6S.jpg?s=128&g=1", "display_name": "echo", "link": "https://stackoverflow.com/users/288724/echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495655409, "creation_date": 1495636893, "last_edit_date": 1495655409, "question_id": 44161681, "link": "https://stackoverflow.com/questions/44161681/android-3-0-canary-build-error-unsupported-major-minor-version-52-0", "title": "Android 3.0 Canary build error: Unsupported major.minor version 52.0", "body": "<p><strong>Update:</strong>\nI solved it by the advice from <a href=\"https://stackoverflow.com/a/37712635/288724\">https://stackoverflow.com/a/37712635/288724</a></p>\n\n<p>This link did not provide a good solution for Android Studio\n<a href=\"https://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0\">Unsupported major.minor version 52.0</a></p>\n\n<p>But this link <a href=\"https://stackoverflow.com/a/37712635/288724\">https://stackoverflow.com/a/37712635/288724</a> helped me out.</p>\n\n<p>I saw many people met the similar problem before.\nHowever, my <em>Android Studio 2.3.2</em> works totally fine, the problem just showed when I am using <em>Android Studio 3.0 Canary 1</em> with <em>kotlin</em> support.</p>\n\n<p>The error information is as following:</p>\n\n<pre><code>Error:(1, 1) A problem occurred evaluating project ':app'. &gt; java.lang.UnsupportedClassVersionError: com/android/build/gradle/AppPlugin : Unsupported major.minor version 52.0\n</code></pre>\n\n<p>Can anybody give me any suggestions? Thanks a lot!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 5, "creation_date": 1495630088, "post_id": 44158802, "comment_id": 75333960, "body": "You can use <code>Log.e()</code> in the Android-Kotlin, too."}, {"owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1495630196, "post_id": 44158802, "comment_id": 75334059, "body": "Oh, so there is no specific function defined in <code>Kotlin</code> right?"}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 5, "creation_date": 1495630286, "post_id": 44158802, "comment_id": 75334141, "body": "Kotlin is just the language (plus a very small utility library). It doesn&#39;t bring any logging framework with it, but any library you used before will continue working just the same, and that includes everything from the Android Framework like loggers."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495630295, "post_id": 44158802, "comment_id": 75334148, "body": "Using built in Android APIs are generally done through the exact same classes and functions that you&#39;d use in Java code as well."}, {"owner": {"reputation": 480, "user_id": 6333971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7585e678f4fcf5a484f46285da9994?s=128&d=identicon&r=PG&f=1", "display_name": "b devloper", "link": "https://stackoverflow.com/users/6333971/b-devloper"}, "edited": false, "score": 0, "creation_date": 1495630607, "post_id": 44158802, "comment_id": 75334370, "body": "yes same as do in java <code>Log.e()</code>"}, {"owner": {"reputation": 399, "user_id": 532670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ff0448f388ac08eac5f4cf78fb03c06?s=128&d=identicon&r=PG", "display_name": "AkiAki007", "link": "https://stackoverflow.com/users/532670/akiaki007"}, "edited": false, "score": 0, "creation_date": 1495635242, "post_id": 44158802, "comment_id": 75338222, "body": "The red color output isn&#39;t something that Log does, but something that your IDE is doing for you. You can do it yourself if you want to use logcat via shell. You can also access all Java/Android methods just fine via Kotlin code."}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1526118397, "post_id": 44158802, "comment_id": 87626017, "body": "Btw: You can use the <code>loge</code> template to generate the code in Java and convert it automatically to Kotlin by copy and pasting it into a Kotlin file. Or, you can make the log templates available in Kotlin by importing the Kotlin port from <a href=\"https://github.com/TobiasUhmann/android-studio-log-templates-for-kotlin\" rel=\"nofollow noreferrer\">this Github repo</a> directly. Just import the .jar via &#39;File &gt; Import Settings...&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 12, "last_activity_date": 1531044505, "last_edit_date": 1531044505, "creation_date": 1495646578, "answer_id": 44164964, "question_id": 44158802, "link": "https://stackoverflow.com/questions/44158802/log-e-with-kotlin/44164964#44164964", "title": "Log.e with Kotlin", "body": "<p><code>Log.e()</code> will work perfectly in Kotlin.</p>\n\n<p>In Kotlin, we also have a Logger class to log something.</p>\n\n<pre><code>Logger.getLogger(Test::class.java.name).warning(\"Hello..\")\n</code></pre>\n\n<p>Otherwise, you have to use some other library like: kotlin-logging, anko logging etc.</p>\n"}, {"tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": false, "score": 3, "last_activity_date": 1495647082, "creation_date": 1495647082, "answer_id": 44165110, "question_id": 44158802, "link": "https://stackoverflow.com/questions/44158802/log-e-with-kotlin/44165110#44165110", "title": "Log.e with Kotlin", "body": "<p>You can use all your java classes from Kotlin, so <code>Log.e(  )</code> in java is exactly the same as <code>Log.e(   )</code> in Kotlin.</p>\n\n<p>If you want extra capabilities like automatically infering the tag string, you can use something like <a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Logging\" rel=\"nofollow noreferrer\">AnkoLogger</a></p>\n"}, {"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 4, "last_activity_date": 1527202261, "last_edit_date": 1527202261, "creation_date": 1506420435, "answer_id": 46423518, "question_id": 44158802, "link": "https://stackoverflow.com/questions/44158802/log-e-with-kotlin/46423518#46423518", "title": "Log.e with Kotlin", "body": "<p>As Kotlin guarantee 100% interoperable with Java and Android, you can use <code>Log</code> or any java class in kotlin also.</p>\n\n<p>If you insist to use Logger class, you can get the same output as <code>Log#e</code> using <code>Logger#severe</code></p>\n\n<p>Anyway, I recommend to use <a href=\"https://github.com/JakeWharton/timber\" rel=\"nofollow noreferrer\">Timber</a> or similar. There are many avantages on using it and using. Android's <code>Log</code> class logs all your outputs in any enviroment, and also consumes machine resources that you should get rid in production.</p>\n"}, {"comments": [{"owner": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "edited": false, "score": 1, "creation_date": 1559636786, "post_id": 48870193, "comment_id": 99473556, "body": "Can you had how you set TAG?"}, {"owner": {"reputation": 611, "user_id": 7141309, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UvBXKbjwxz4/AAAAAAAAAAI/AAAAAAAAAC0/WOmdKB_8iXA/photo.jpg?sz=128", "display_name": "yatin deokar", "link": "https://stackoverflow.com/users/7141309/yatin-deokar"}, "reply_to_user": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "edited": false, "score": 0, "creation_date": 1559649225, "post_id": 48870193, "comment_id": 99480066, "body": "TAG: String and TAG =&quot;my activity&quot;"}, {"owner": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "edited": false, "score": 1, "creation_date": 1559651374, "post_id": 48870193, "comment_id": 99481281, "body": "In Java, best practice was to go through <code>private static final</code> when declaring the TAG. Are you saying that you don&#39;t think that something corresponding is best practice in Kotlin?"}], "tags": [], "owner": {"reputation": 611, "user_id": 7141309, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UvBXKbjwxz4/AAAAAAAAAAI/AAAAAAAAAC0/WOmdKB_8iXA/photo.jpg?sz=128", "display_name": "yatin deokar", "link": "https://stackoverflow.com/users/7141309/yatin-deokar"}, "is_accepted": false, "score": 13, "last_activity_date": 1519057426, "creation_date": 1519057426, "answer_id": 48870193, "question_id": 44158802, "link": "https://stackoverflow.com/questions/44158802/log-e-with-kotlin/48870193#48870193", "title": "Log.e with Kotlin", "body": "<p>You can use log like this <code>Log.d(TAG, \"my Message\")</code> in KOTLIN</p>\n"}], "owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35846, "favorite_count": 4, "answer_count": 4, "score": 19, "last_activity_date": 1535451565, "creation_date": 1495629901, "question_id": 44158802, "link": "https://stackoverflow.com/questions/44158802/log-e-with-kotlin", "title": "Log.e with Kotlin", "body": "<p>As we have used <code>Log.e()</code> for logging error with java code. I was looking for same functionality with <code>Kotlin</code>. Though i have found Logger class</p>\n\n<pre><code>val Log = Logger.getLogger(MainActivity::class.java.name)\nLog.warning(\"Hello World\")\n</code></pre>\n\n<p>It is showing log in android studio logcat.</p>\n\n<p>But does there any way to print log in red color the same way Log.e() does?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1495628218, "post_id": 44158147, "comment_id": 75332584, "body": "<code>lateinit</code> would fit all the properties that you initialize in <code>onCreate</code> really well, actually. The rest seem like they probably should be nullable, since they aren&#39;t initialized until <code>onGetAllMediaEventResponse</code> is called."}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1495630581, "post_id": 44158147, "comment_id": 75334351, "body": "@Naetmul That&#39;s not true, lateinit does not mean you can&#39;t assign multiple times. That&#39;s what <code>val</code> is for."}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 1, "last_activity_date": 1495633939, "creation_date": 1495633939, "answer_id": 44160441, "question_id": 44158147, "link": "https://stackoverflow.com/questions/44158147/how-can-i-avoid-null-properties-in-kotlin/44160441#44160441", "title": "How can i avoid null properties in Kotlin", "body": "<p>I guess you might need some</p>\n\n<pre><code>a?.let {\n  println(it)\n  // if `a` isn't null, the code will reach here\n  // and `it` will hold the value of `a`\n  // you can do a lot of things here without checking if it is null\n}\n</code></pre>\n"}], "owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495633939, "creation_date": 1495628042, "last_edit_date": 1495630637, "question_id": 44158147, "link": "https://stackoverflow.com/questions/44158147/how-can-i-avoid-null-properties-in-kotlin", "title": "How can i avoid null properties in Kotlin", "body": "<p>I am using Kotlin from quite some time now, but I could not able to achieve not-null types for all the properties in Kotlin. </p>\n\n<p>Please take a look at below code, there are some scenarios where I have to use null types. I know I can use <code>lateinit</code> but in some scenarios, it does not fit. How can I avoid null in my code? </p>\n\n<p>If anyone can re-write the code with without null types or correct my mistakes, it is more than enough for me to understand everything.</p>\n\n<pre><code>class MusicService : Service(), PlaybackManager.PlaybackServiceCallback {\n\n    private val mDelayedStopHandler = DelayedStopHandler(this)\n    private val eventBus = EventBus.getDefault()\n\n    //How to avoid nullable types\n    private var mMediaNotificationManager: MediaNotificationManager? = null\n    private var mSession: MediaSessionCompat? = null\n    var mSessionToken: MediaSessionCompat.Token? = null\n    var mPlaybackManager: PlaybackManager? = null\n    var mTransportControls: MediaControllerCompat.TransportControls? = null\n\n    override fun onCreate() {\n        Timber.d(\"onCreate\")\n        super.onCreate()\n\n        //Init MediaSessionCompat and TransportControls\n        mSession = MediaSessionCompat(this, \"MusicService\")\n        mSessionToken = mSession?.sessionToken\n        mSession?.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS or MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS)\n        mTransportControls = MediaControllerCompat(this, mSession).transportControls\n\n        //EventBus Reg\n        eventBus.reg(this)\n        eventBus.post(GetAllMediaEventRequest())\n    }\n\n    @Subscribe\n    fun onGetAllMediaEventResponse(event: GetAllMediaEventResponse) {\n        Timber.d(\"GetAllMediaEventResponse event.status = \", event.status)\n\n        //init PlaybackManager\n        mPlaybackManager = PlaybackManager(mPlayback = LocalPlayer(this),\n                mMediaData = event.mediaItems,\n                mServiceCallback = this)\n        mSession?.setCallback(mPlaybackManager!!.mMediaSessionCallback)\n\n\n        //Init Notification\n        try {\n            mMediaNotificationManager = MediaNotificationManager(this)\n        } catch (e: RemoteException) {\n            throw IllegalStateException(\"Could not create a MediaNotificationManager\", e)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks for all the response which I've got. After a bit of research, I made all properties not nullable. Please check my code and correct me if any mistakes.</p>\n\n<pre><code>class MusicService : Service(), PlaybackManager.PlaybackServiceCallback {\n\n    //NotNull\n    private val mDelayedStopHandler = DelayedStopHandler(this)\n    private val eventBus = EventBus.getDefault()\n\n    //Lateinit\n    lateinit var mSessionToken: MediaSessionCompat.Token\n    lateinit var mTransportControls: MediaControllerCompat.TransportControls\n\n    //Lazy\n    private val mSession: MediaSessionCompat by lazy { MediaSessionCompat(this, \"MusicService\") }\n    private val mMediaNotificationManager: MediaNotificationManager by lazy {\n        try {\n            MediaNotificationManager(this)\n        } catch (e: RemoteException) {\n            throw IllegalStateException(\"Could not create a MediaNotificationManager\", e)\n        }\n    }\n    val mPlaybackManager: PlaybackManager by lazy {\n        PlaybackManager(mPlayback = LocalPlayer(this), mServiceCallback = this)\n    }\n\n    override fun onCreate() {\n        LogHelper.d(TAG, \"onCreate\")\n        super.onCreate()\n\n        //Init MediaSessionCompat and TransportControls\n        mSessionToken = mSession.sessionToken\n        mSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS or MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS)\n        mTransportControls = MediaControllerCompat(this, mSession).transportControls\n        mSession.setCallback(mPlaybackManager.mMediaSessionCallback)\n\n        //EventBus Reg\n        eventBus.reg(this)\n        eventBus.post(GetAllMediaEventRequest())\n\n    }\n\n    @Subscribe\n    fun onGetAllMediaEventResponse(event: GetAllMediaEventResponse) {\n        Timber.d(\"GetAllMediaEventResponse event.status = \", event.status)\n        mPlaybackManager.mMediaData = event.mediaItems\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 2, "creation_date": 1495618899, "post_id": 44154654, "comment_id": 75325913, "body": "Moderators, Please check problem statement before marking as duplicate."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495621160, "post_id": 44154654, "comment_id": 75327547, "body": "you can track some issues <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a> and you can also file some bugs if you think its relevant."}, {"owner": {"reputation": 1221, "user_id": 5716992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86651562f0ed02026f07f7d61a122065?s=128&d=identicon&r=PG&f=1", "display_name": "Nicola De Fiorenze", "link": "https://stackoverflow.com/users/5716992/nicola-de-fiorenze"}, "edited": false, "score": 0, "creation_date": 1495623201, "post_id": 44154654, "comment_id": 75328949, "body": "could you check two things? 1. The Kotlin to JVM targhet version (File &gt; Settings &gt; Kotlin compiler)  2. The project JDK version  File &gt; Project structure &gt; &quot;JDK location&quot; to see the JDK setted for your project; then go to the setted path, navigate into &quot;bin&quot;, and type &quot;java -version&quot;"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 1221, "user_id": 5716992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86651562f0ed02026f07f7d61a122065?s=128&d=identicon&r=PG&f=1", "display_name": "Nicola De Fiorenze", "link": "https://stackoverflow.com/users/5716992/nicola-de-fiorenze"}, "edited": false, "score": 0, "creation_date": 1495623518, "post_id": 44154654, "comment_id": 75329144, "body": "@NicolaDeFiorenze JVM target version is 1.6, and java version is &quot;1.8.0_91&quot;."}, {"owner": {"reputation": 1221, "user_id": 5716992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86651562f0ed02026f07f7d61a122065?s=128&d=identicon&r=PG&f=1", "display_name": "Nicola De Fiorenze", "link": "https://stackoverflow.com/users/5716992/nicola-de-fiorenze"}, "edited": false, "score": 0, "creation_date": 1495628414, "post_id": 44154654, "comment_id": 75332728, "body": "@chandil03 try to update the JDK, possibly to v1.8.0_121. I tried to set Kotlin to JVM target to 1.6 and 1.8 without being able to reproduce your error. The java version seems to be the only difference"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 1221, "user_id": 5716992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86651562f0ed02026f07f7d61a122065?s=128&d=identicon&r=PG&f=1", "display_name": "Nicola De Fiorenze", "link": "https://stackoverflow.com/users/5716992/nicola-de-fiorenze"}, "edited": false, "score": 0, "creation_date": 1495696318, "post_id": 44154654, "comment_id": 75363845, "body": "@NicolaDeFiorenze problem wasn&#39;t with JDK or kotlin version. It was some some gradle config."}], "answers": [{"comments": [{"owner": {"reputation": 10172, "user_id": 15695, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d646df59b5dfb7aecde9ca950310943f?s=128&d=identicon&r=PG", "display_name": "BoD", "link": "https://stackoverflow.com/users/15695/bod"}, "edited": false, "score": 1, "creation_date": 1495722762, "post_id": 44174411, "comment_id": 75380183, "body": "You can also keep your converters as <code>object</code> but put <code>@JvmStatic</code> on the methods.  That way the generated methods will actually be static and the Room plugin will be happy,"}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1506327135, "post_id": 44174411, "comment_id": 79757974, "body": "Adding <b>default</b> values to properties solve my problem. It&#39;s awful solution. I even think that is a bug."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1506332216, "post_id": 44174411, "comment_id": 79761219, "body": "@murt its not a bug, as entity classes is not required to have parameterised constructor, it is necessary to have default value."}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 1, "creation_date": 1506338110, "post_id": 44174411, "comment_id": 79764857, "body": "Ok but fields in Java may be not initialized, so why var properties have to?"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 12, "last_activity_date": 1495696710, "last_edit_date": 1592644375, "creation_date": 1495696164, "answer_id": 44174411, "question_id": 44154654, "link": "https://stackoverflow.com/questions/44154654/room-persistence-lib-implementation-in-kotlingradle-error/44174411#44174411", "title": "Room Persistence lib implementation in Kotlin(Gradle error)", "body": "<p>After spinning my head around for a while with this problem, I came across to the solution.</p>\n<p>It was really hard as there is no official tutorial, blog etc out there to help with this problem as of now.</p>\n<p>I had to do several hit and trial for all the combination of gradle plugins and dependencies as i knew that something is wrong with gradle config only.</p>\n<p>Lets come to the solution:</p>\n<p>I had to remove <code>apply plugin: 'kotlin-kapt'</code> from build.gradle(:module) file\nand replace <code>annotationProcessor &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;</code> to <code>kapt &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;</code>.</p>\n<p>This is the gradle configuration to successfully compile code.</p>\n<p>But there more things to check. You have to initialise properties of your <code>@Entity class</code> unlike java given in <a href=\"https://developer.android.com/topic/libraries/architecture/room.html#entities\" rel=\"noreferrer\">Room Persistence lib doc</a>. Though there are getter setter but it is not mentioned to create a constructor with initialisation.\nSo I had to change my <code>@Entity</code> class with this:</p>\n<pre><code>@Entity(tableName = &quot;all_food_list&quot;)\nclass Food (@ColumnInfo(name = &quot;food_name&quot;) var foodName: String = &quot;&quot;,\n            @ColumnInfo(name = &quot;food_desc&quot;) var foodDesc: String = &quot;&quot;,\n            @ColumnInfo(name = &quot;protein&quot;) var protein: Double = 0.0,\n            @ColumnInfo(name = &quot;carbs&quot;) var carbs: Double = 0.0,\n            @ColumnInfo(name = &quot;fat&quot;) var fat: Double = 0.0,\n            @ColumnInfo(name = &quot;calories&quot;) var calories: Double = 0.0)\n{\n    @ColumnInfo(name = &quot;id&quot;)\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n}\n</code></pre>\n<p>Now for TypeConverts, Unlike java, you need to create normal function not static functions(companion object):</p>\n<pre><code>class Converters{\n\n        @TypeConverter\n        fun fromTimestamp(value: String): Calendar {\n            val arr = value.split(&quot;-&quot;)\n            val cal = Calendar.getInstance()\n            cal.set(arr[0].toInt(), arr[1].toInt(), arr[2].toInt())\n            return cal\n        }\n\n        @TypeConverter\n        fun dateToTimestamp(date: Calendar): String {\n            return &quot;${date.get(Calendar.DATE)}-${date.get(Calendar.MONTH)+1}-${date.get(Calendar.YEAR)}&quot;\n        }\n\n}\n</code></pre>\n<p>I am adding build.gradle file also to make it more clear:</p>\n<p><strong>build.gradle(:project)</strong></p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    ext.gradle_version_stable = '2.3.2'\n    ext.gradle_version_preview = '3.0.0-alpha1'\n    ext.anko_version = '0.10.0'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle(:module)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.chandilsachin.diettracker&quot;\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n    ...\n    ...\n    // room persistence dependency \n    compile &quot;android.arch.persistence.room:runtime:1.0.0-alpha1&quot;\n    kapt &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;\n\n    testCompile 'junit:junit:4.12'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p>I think this is all, I did to make my code woking.</p>\n<p>Hope this helps someone else also.</p>\n"}, {"comments": [{"owner": {"reputation": 4139, "user_id": 1041533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fPMRU.jpg?s=128&g=1", "display_name": "AgentKnopf", "link": "https://stackoverflow.com/users/1041533/agentknopf"}, "edited": false, "score": 0, "creation_date": 1498503077, "post_id": 44274895, "comment_id": 76514302, "body": "That does not solve the problem of the Impl files not being generated - at least it didn&#39;t for me."}], "tags": [], "owner": {"reputation": 181, "user_id": 4849189, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2hhKWKB07P4/AAAAAAAAAAI/AAAAAAAAMVs/pt6DmdQmtqg/photo.jpg?sz=128", "display_name": "Oscar Gallon", "link": "https://stackoverflow.com/users/4849189/oscar-gallon"}, "is_accepted": false, "score": 0, "last_activity_date": 1496199448, "creation_date": 1496199448, "answer_id": 44274895, "question_id": 44154654, "link": "https://stackoverflow.com/questions/44154654/room-persistence-lib-implementation-in-kotlingradle-error/44274895#44274895", "title": "Room Persistence lib implementation in Kotlin(Gradle error)", "body": "<p>man just add the following in the build.gradle. Above dependencies :D </p>\n\n<pre><code>    kapt {\n          generateStubs = true\n    }\n</code></pre>\n"}], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4872, "favorite_count": 3, "accepted_answer_id": 44174411, "answer_count": 2, "score": 5, "last_activity_date": 1496199448, "creation_date": 1495618827, "question_id": 44154654, "link": "https://stackoverflow.com/questions/44154654/room-persistence-lib-implementation-in-kotlingradle-error", "title": "Room Persistence lib implementation in Kotlin(Gradle error)", "body": "<p>I am implementing Room persistence lib in kotlin for my database implementation.\nSame question is asked in <a href=\"https://stackoverflow.com/questions/44065371/android-room-persistences-library-and-kotlin\">Android Room Persistences library and Kotlin</a> thread, applying those solution resulted in different gradle errors:</p>\n\n<p>Following are my <code>Entity</code>, <code>Dao</code> and <code>Database</code> classes:</p>\n\n<p><strong>Food.kt</strong></p>\n\n<pre><code>@Entity\nclass Food(@ColumnInfo(name = \"food_name\") var foodName: String,\n           @ColumnInfo(name = \"food_desc\") var foodDesc: String,\n           @ColumnInfo(name = \"protein\") var protein: Double,\n           @ColumnInfo(name = \"carbs\") var carbs: Double,\n           @ColumnInfo(name = \"fat\") var fat: Double)\n{\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n    @ColumnInfo(name = \"calories\")\n    var calories: Double = 0.toDouble()\n}\n</code></pre>\n\n<p><strong>PersonalizedFood.kt</strong></p>\n\n<pre><code>@Entity(primaryKeys = arrayOf(\"food_id\",\"date\"))\nclass PersonalizedFood(@ColumnInfo(name = \"quantity\") var quantity: Int,\n                       @ColumnInfo(name = \"unit\") var unit: String,\n                       @ColumnInfo(name = \"date\") var date: Date){\n\n    @ColumnInfo(name = \"food_id\")\n    var foodId:Long = 0\n}\n</code></pre>\n\n<p><strong>FoodDao.kt</strong></p>\n\n<pre><code>@Dao\ninterface FoodDao {\n\n    companion object{\n        const val ID = \"id\"\n        const val NAME = \"name\"\n        const val PROTEIN = \"protein\"\n        const val DESC = \"desc\"\n        const val CARBS = \"carbs\"\n        const val FAT = \"fat\"\n\n        const val DATE = \"date\"\n        const val FOOD_ID = \"food_id\"\n\n        const val ALL_FOOD_LIST = \"food\"\n        const val PERSONALISED_FOOD_LIST = \"personalised_food\"\n    }\n\n    /**\n     * Returns food details of a food given by food_id\n     */\n    @Query(\"SELECT * FROM $ALL_FOOD_LIST WHERE $ID=:food_id\")\n    fun getFoodDetails(food_id:Long):Food\n\n    /**\n     * Inserts food items in all_food_list\n     */\n    @Insert\n    fun addFoodList(list:ArrayList&lt;Food&gt;)\n\n    @Insert(onConflict = REPLACE)\n    fun saveFood(food:PersonalizedFood)\n\n    @Query(\"SELECT * FROM $PERSONALISED_FOOD_LIST WHERE $FOOD_ID=:foodId and $DATE=:date\")\n    fun getFood(foodId:Int, data:Date):PersonalizedFood\n\n    @Query(\"SELECT * FROM $ALL_FOOD_LIST where $ID in (select $FOOD_ID from $PERSONALISED_FOOD_LIST where $DATE = :date)\")\n    fun getFood(date:Date):ArrayList&lt;Food&gt;\n}\n</code></pre>\n\n<p><strong>Converter.kt</strong></p>\n\n<pre><code>class Converter {\n\n    companion object{\n        @TypeConverter\n        fun fromTimestamp(value: Long?): Date? {\n            return if (value == null) null else Date(value)\n        }\n\n        @TypeConverter\n        fun dateToTimestamp(date: Date): Long {\n            return date.time\n        }\n    }\n}\n</code></pre>\n\n<p><strong>FoodDatabase.kt</strong></p>\n\n<pre><code>@Database(entities = arrayOf(Food::class, PersonalizedFood::class), version = 1)\n@TypeConverters(Converter::class)\nabstract class FoodDatabase : RoomDatabase(){\n    abstract fun foodDao():FoodDao\n\n    companion object{\n        private val databaseName = \"diet\"\n\n        var dbInstance:FoodDao? = null\n        fun getInstance(context:Context):FoodDao?{\n            if(dbInstance == null)\n                dbInstance = Room.inMemoryDatabaseBuilder(context, FoodDatabase::class.java).build().foodDao()\n            return dbInstance;\n        }\n    }\n}\n</code></pre>\n\n<p>And when i run following code to create database:</p>\n\n<p><code>FoodDatabase.getInstance(baseContext)?.getFood(Calendar.getInstance().time)</code></p>\n\n<p>It gives me following exception:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: cannot find implementation for com.chandilsachin.diettracker.database.FoodDatabase. FoodDatabase_Impl does not exist\n                                                                                   at android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\n                                                                                   at android.arch.persistence.room.RoomDatabase$Builder.build(RoomDatabase.java:340)\n                                                                                   at com.chandilsachin.diettracker.database.FoodDatabase$Companion.getInstance(FoodDatabase.kt:21)\n                                                                                   at com.chandilsachin.diettracker.MainActivity$SetUpFoodDatabase.doInBackground(MainActivity.kt:95)\n                                                                                   at com.chandilsachin.diettracker.MainActivity$SetUpFoodDatabase.doInBackground(MainActivity.kt:77)\n                                                                                   at android.os.AsyncTask$2.call(AsyncTask.java:295)\n                                                                                   at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n                                                                                   at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\u00a0\n                                                                                   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\n                                                                                   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\n                                                                                   at java.lang.Thread.run(Thread.java:818)\u00a0\n</code></pre>\n\n<p>Has anyone implemented room persistence in kotlin?</p>\n\n<p><strong>Edited</strong></p>\n\n<p>My previous question on same topic was marked duplicate of <a href=\"https://stackoverflow.com/questions/44065371/android-room-persistences-library-and-kotlin\">this</a>. Though problem statement is same but solution given does not solve my problem. Solution says i have to add replace <code>annotationProcessor</code> to <code>kapt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"</code> dependency. I made those changes and it resulted in gradle error while project build.</p>\n\n<pre><code>Information:Gradle tasks [:app:assembleDebug]\nWarning:warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.persistence.room.RoomProcessor' less than -source '1.8'\nWarning:warning: The following options were not recognized by any processor: '[kapt.kotlin.generated]'\n/Users/BBI-M1025/Documents/BBI/Workspace_fun/Android/diet-tracker/app/src/main/java/com/chandilsachin/diettracker/database/Food.kt\nError:(1, 1) Some error(s) occurred while processing annotations. Please see the error messages above.\nError:Execution failed for task ':app:kaptDebugKotlin'.\n&gt; Compilation error. See log for more details\nInformation:BUILD FAILED in 10s\nInformation:2 errors\nInformation:2 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>I am attaching my gradle file also:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.chandilsachin.diettracker\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.0.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-alpha8'\n    compile 'com.android.support:cardview-v7:25.0.1'\n    compile 'com.android.support:recyclerview-v7:25.0.1'\n    compile 'com.github.ne1c:rainbowmvp:1.2.1'\n    compile \"org.jetbrains.anko:anko-commons:0.10.0\"\n\n    /*annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n    compile \"android.arch.lifecycle:extensions:1.0.0-alpha1\"\n    annotationProcessor \"android.arch.lifecycle:compiler:1.0.0-alpha1\"*/\n\n    compile \"android.arch.persistence.room:runtime:1.0.0-alpha1\"\n    annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n    kapt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n\n    testCompile 'junit:junit:4.12'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>Has anyone come across this issue?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1495621510, "post_id": 44155137, "comment_id": 75327777, "body": "Makes sense, but when I tried it, it was even slower with sequence."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 1, "creation_date": 1495621825, "post_id": 44155137, "comment_id": 75328008, "body": "That is... amazing. Are you sure that your benchmark is correct? I mean, with enough warm up, no JIT removing loops, repeated enough time so no edge case etc.. At least on my end the <code>Seqence</code> is faster. (About 25% faster)"}, {"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1495621940, "post_id": 44155137, "comment_id": 75328104, "body": "Might be I do not understand the compiler and JVM enough to be benchmarking correctly. I measure time before and after the loop. No warmup - what kind of warmup are we talking about?  my results: sequence: 110 ms filter_map: 57 ms forEach: 48 ms for loop: 35 ms  filter_map is using non sequence operations."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1495621941, "post_id": 44155137, "comment_id": 75328106, "body": "Sometimes several loops. even if they copy the whole collection, show good performance because of good locality of reference. See: <a href=\"https://stackoverflow.com/questions/35629159/kotlins-iterable-and-sequence-look-exactly-same-why-are-two-types-required\" title=\"kotlins iterable and sequence look exactly same why are two types required\">stackoverflow.com/questions/35629159/&hellip;</a>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 2, "creation_date": 1495622198, "post_id": 44155137, "comment_id": 75328308, "body": "@rozina <a href=\"https://stackoverflow.com/a/513259/5818889\">This SO post</a> explains how to right a correct benchmark on JVM. Though it&#39;s designed to educate Java programmers, it works for kotlin, too, since kotlin has JVM backends. Here is a gist of my test code: <a href=\"https://gist.github.com/Glease/900fe08d757631e97e230d90a9b4faa2\" rel=\"nofollow noreferrer\">gist.github.com/Glease/900fe08d757631e97e230d90a9b4faa2</a>"}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 14, "last_activity_date": 1497237258, "last_edit_date": 1497237258, "creation_date": 1495620058, "answer_id": 44155137, "question_id": 44154642, "link": "https://stackoverflow.com/questions/44154642/kotlin-stdlib-operatios-vs-for-loops/44155137#44155137", "title": "Kotlin stdlib operatios vs for loops", "body": "<p>If you are concerned about performance, what you need is <code>Sequence</code>. For example, your above code will be </p>\n\n<pre><code>val src = (0 until 1000000).toList()\nval dest = ArrayList&lt;Double&gt;(src.size / 2 + 1)\nsrc.asSequence()\n    .filter { it % 2 == 0 }\n    .mapTo(dest) { Math.sqrt(it.toDouble()) }\n</code></pre>\n\n<p>In the above code, <code>filter</code> returns another <code>Sequence</code>, which represents an intermediate step. Nothing is really created yet, no object or array creation (except a new <code>Sequence</code> wrapper). Only when <code>mapTo</code>, a terminal operator, is called does the resulting collection is created.</p>\n\n<p>If you have learned java 8 stream, you may found the above explaination somewhat familiar. Actually, <code>Sequence</code> is roughly the kotlin equivalent of java 8 Stream. They share similiar purpose and performance characteristic. The only difference is <code>Sequence</code> isn't designed to work with <code>ForkJoinPool</code>, thus a lot easier to implement.</p>\n\n<p>When there is multiple steps involved or the collection may be large, it's suggested to use <code>Sequence</code> instead of plain <code>.filter {...}.mapTo{...}</code>. I also suggest you to use the <code>Sequence</code> form instead of your imperative form because it's easier to understand. Imperative form may become complex, thus hard to understand, when there are 5 or more steps involved in the data processing. If there is just one step, you don't need a <code>Sequence</code>, because it just creates garbage and gives you nothing useful.</p>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 3136280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eiXP.jpg?s=128&g=1", "display_name": "Baptiste Candellier", "link": "https://stackoverflow.com/users/3136280/baptiste-candellier"}, "is_accepted": false, "score": 1, "last_activity_date": 1495632661, "creation_date": 1495632661, "answer_id": 44159873, "question_id": 44154642, "link": "https://stackoverflow.com/questions/44154642/kotlin-stdlib-operatios-vs-for-loops/44159873#44159873", "title": "Kotlin stdlib operatios vs for loops", "body": "<p>My advice would be to choose whichever coding style you prefer. Kotlin is both object-oriented and functional language, meaning both of your propositions are correct.</p>\n\n<p>Usually, functional constructs favor readability over performance; however, in some cases, procedural code will also be more readable. You should try to stick with one style as much as possible, but don't be afraid to switch some code if you feel like it's better suited to your constraints, either readability, performance, or both.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1495638011, "creation_date": 1495638011, "answer_id": 44162104, "question_id": 44154642, "link": "https://stackoverflow.com/questions/44154642/kotlin-stdlib-operatios-vs-for-loops/44162104#44162104", "title": "Kotlin stdlib operatios vs for loops", "body": "<p>The converted code does not need the manual creation of the destination list, and can be simplified to:</p>\n\n\n\n<pre><code>val src = (0 until 1000000).toList()\n\nval dest = src.filter { it % 2 == 0 }\n              .map { Math.sqrt(it.toDouble()) }\n</code></pre>\n\n<p>And as mentioned in the excellent answer by @glee8e you can use a sequence to do a lazy evaluation.  The simplified code for using a sequence:</p>\n\n<pre><code>val src = (0 until 1000000).toList()\n\nval dest = src.asSequence()                      // change to lazy\n              .filter { it % 2 == 0 }\n              .map { Math.sqrt(it.toDouble()) }\n              .toList()                          // create the final list\n</code></pre>\n\n<p>Note the addition of the <code>toList()</code> at the end is to change from a sequence back to a final list which is the one copy made during the processing.  You can omit that step to remain as a sequence.</p>\n\n<p>It is important to highlight the comments by @hotkey saying that you should not always assume that another iteration or a copy of a list causes worse performance than lazy evaluation.  @hotkey says:</p>\n\n<blockquote>\n  <p>Sometimes several loops. even if they copy the whole collection, show good performance because of good locality of reference. See: <a href=\"https://stackoverflow.com/questions/35629159/kotlins-iterable-and-sequence-look-exactly-same-why-are-two-types-required\">Kotlin&#39;s Iterable and Sequence look exactly same. Why are two types required?</a></p>\n</blockquote>\n\n<p>And excerpted from that link:</p>\n\n<blockquote>\n  <p>... in most cases it has good <a href=\"https://en.wikipedia.org/wiki/Locality_of_reference\" rel=\"nofollow noreferrer\">locality of reference</a> thus taking advantage of CPU cache, prediction, prefetching etc. so that even multiple copying of a collection still works good enough and performs better in simple cases with small collections.</p>\n</blockquote>\n\n<p>@glee8e says that there are similarities between Kotlin sequences and Java 8 streams, for detailed comparisons see:  <a href=\"https://stackoverflow.com/questions/34642254\">What Java 8 Stream.collect equivalents are available in the standard Kotlin library?</a></p>\n"}, {"comments": [{"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1495709719, "post_id": 44167163, "comment_id": 75371548, "body": "The code was just a made up example. Still a cool trick :) Although, doesn&#39; t creating progression create a new list? Probably with a loop?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 1, "creation_date": 1495712528, "post_id": 44167163, "comment_id": 75373292, "body": "No, a progression generates its elements when iterating it and only stores things like first, last, and step."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 3, "last_activity_date": 1495676798, "last_edit_date": 1495676798, "creation_date": 1495654823, "answer_id": 44167163, "question_id": 44154642, "link": "https://stackoverflow.com/questions/44154642/kotlin-stdlib-operatios-vs-for-loops/44167163#44167163", "title": "Kotlin stdlib operatios vs for loops", "body": "<p>You're missing something. :-)</p>\n\n<p>In this particular case, you can use an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-int-progression/\" rel=\"nofollow noreferrer\"><code>IntProgression</code></a>:</p>\n\n<pre><code>val progression = 0 until 1_000_000 step 2\n</code></pre>\n\n<p>You can then create your desired list of squares in various ways:</p>\n\n<pre><code>// may make the list larger than necessary\n// its internal array is copied each time the list grows beyond its capacity\n// code is very straight forward\nprogression.map { Math.sqrt(it.toDouble()) }\n\n// will make the list the exact size needed\n// no copies are made\n// code is more complicated\nprogression.mapTo(ArrayList(progression.last / 2 + 1)) { Math.sqrt(it.toDouble()) }\n\n// will make the list the exact size needed\n// a single intermediate list is made\n// code is minimal and makes sense\nprogression.toList().map { Math.sqrt(it.toDouble()) }\n</code></pre>\n"}], "owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2898, "favorite_count": 0, "accepted_answer_id": 44155137, "answer_count": 4, "score": 15, "last_activity_date": 1506553872, "creation_date": 1495618802, "last_edit_date": 1495638246, "question_id": 44154642, "link": "https://stackoverflow.com/questions/44154642/kotlin-stdlib-operatios-vs-for-loops", "title": "Kotlin stdlib operatios vs for loops", "body": "<p>I wrote the following code:</p>\n\n\n\n<pre><code>val src = (0 until 1000000).toList()\nval dest = ArrayList&lt;Double&gt;(src.size / 2 + 1)    \n\nfor (i in src)\n{\n    if (i % 2 == 0) dest.add(Math.sqrt(i.toDouble()))\n}\n</code></pre>\n\n<p>IntellJ (in my case AndroidStudio) is asking me if I want to replace the for loop with operations from stdlib. This results in the following code:</p>\n\n<pre><code>val src = (0 until 1000000).toList()\nval dest = ArrayList&lt;Double&gt;(src.size / 2 + 1)\nsrc.filter { it % 2 == 0 }\n   .mapTo(dest) { Math.sqrt(it.toDouble()) }\n</code></pre>\n\n<p>Now I must say, I like the changed code. I find it easier to write than for loops when I come up with similar situations. However upon reading what <code>filter</code> function does, I realized that this is a lot slower code compared to the for loop. <code>filter</code> function creates a new list containing only the elements from src that match the predicate. So there is one more list created and one more loop in the stdlib version of the code. Ofc for small lists it might not be important, but in general this does not sound like a good alternative. Especially if one should chain more methods like this, you can get a lot of additional loops that could be avoided by writing a for loop.</p>\n\n<p>My question is what is considered good practice in Kotlin. Should I stick to for loops or am I missing something and it does not work as I think it works. </p>\n"}, {"tags": ["android", "generics", "kotlin", "reactive-programming"], "comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1495614278, "post_id": 44152746, "comment_id": 75322686, "body": "Does <code>BaseActivity</code> extends <code>ViewType</code>? Compiler says <code>onResume</code> requires nothing, because <code>RxAppCompatActivity</code> has method <code>onResume</code> without parameters"}, {"owner": {"reputation": 181, "user_id": 4193343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eUoE5.png?s=128&g=1", "display_name": "Nodens", "link": "https://stackoverflow.com/users/4193343/nodens"}, "reply_to_user": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1495614673, "post_id": 44152746, "comment_id": 75322942, "body": "<code>BaseActivity</code> overrides the <code>onResume</code> of <code>RxAppCompatActivity</code> my bad I edited the post but <code>onResume</code> is called on the viewmodel"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495614801, "post_id": 44152746, "comment_id": 75323044, "body": "You have declared <code>BaseActivity&lt;ViewModelType: ActivityViewModel&lt;*&gt;&gt;</code>: the parameter type of <code>ActivityViewModel</code> resolves to <code>Nothing</code>, thus <code>onResume</code> expects a type of <code>Nothing</code>."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495615032, "post_id": 44152746, "comment_id": 75323187, "body": "try using <code>this@BaseActivity</code> instead of this."}, {"owner": {"reputation": 181, "user_id": 4193343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eUoE5.png?s=128&g=1", "display_name": "Nodens", "link": "https://stackoverflow.com/users/4193343/nodens"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495615064, "post_id": 44152746, "comment_id": 75323209, "body": "Damn! I&#39;m stupid it&#39;s fixed, hahaha thanks @nhaarman!"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495615106, "post_id": 44152746, "comment_id": 75323238, "body": "@Nodens how did u solve?"}, {"owner": {"reputation": 181, "user_id": 4193343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eUoE5.png?s=128&g=1", "display_name": "Nodens", "link": "https://stackoverflow.com/users/4193343/nodens"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495619734, "post_id": 44152746, "comment_id": 75326554, "body": "@chandil03 I replaced <code>BaseActivity&lt;ViewModelType: ActivityViewModel&lt;*&gt;&gt;</code> by <code>BaseActivity&lt;ViewModelType: ActivityViewModel&lt;ActivityLifecycleType&gt;&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495615415, "post_id": 44153241, "comment_id": 75323448, "body": "&quot;it&#39;s recommended to use lateinit var viewModel instead of nullable types&quot;. No."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495615490, "post_id": 44153241, "comment_id": 75323493, "body": "Well, I didn&#39;t mention that your question have already been solved :)"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 1, "creation_date": 1495618921, "post_id": 44153241, "comment_id": 75325931, "body": "@ice1000 That statement was just way too broad. Use <code>lateinit</code> when it&#39;s appropriate, meaning that the variable <i>is</i> guaranteed to be initialized at some point not too far from object initialization and if it&#39;s not set to null afterwards. Use cases include Dependency Injection and variables assigned in Android lifecycle methods where you receive the <code>Context</code> for the first time."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1495619884, "post_id": 44153241, "comment_id": 75326670, "body": "So you mean you might get null when it&#39;s not injected. Thanks."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1495615217, "creation_date": 1495615217, "answer_id": 44153241, "question_id": 44152746, "link": "https://stackoverflow.com/questions/44152746/kotlin-generics-issue/44153241#44153241", "title": "Kotlin generics issue", "body": "<p>Kotlin's generics' more strict that you have you write use the code below:</p>\n\n<pre><code>open class BaseActivity&lt;ViewModelType : ActivityViewModel&lt;ActivityLifecycleType&gt;&gt; : ActivityLifecycleType, RxAppCompatActivity() {\n    protected var viewModel: ViewModelType? = null\n\n    @CallSuper\n    override fun onResume() {\n        super.onResume()\n        viewModel?.onResume(this@BaseActivity)  // ==&gt; Error Required Nothing, Find BaseActivity&lt;ViewModelType&gt;\n    }\n}\n\nopen class ActivityViewModel&lt;in ViewType : ActivityLifecycleType&gt; {\n    fun onResume(view: ViewType) {\n        // Do something\n    }\n}\n\ninterface ActivityLifecycleType {\n    fun lifecycle(): Observable&lt;ActivityEvent&gt;\n}\n</code></pre>\n\n<p>What I've done is to change the declaration in the first line.</p>\n\n<p>Java is too weak to check the generic type but Kotlin do.</p>\n\n<p>Mention there're two things you have to do next:</p>\n\n<ol>\n<li>implement <code>lifecycle</code> in <code>BaseActivity</code> or make it abstract.</li>\n<li>it's recommended to use <code>lateinit var viewModel</code> instead of nullable types</li>\n</ol>\n"}], "owner": {"reputation": 181, "user_id": 4193343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eUoE5.png?s=128&g=1", "display_name": "Nodens", "link": "https://stackoverflow.com/users/4193343/nodens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495619863, "creation_date": 1495613775, "last_edit_date": 1495619863, "question_id": 44152746, "link": "https://stackoverflow.com/questions/44152746/kotlin-generics-issue", "title": "Kotlin generics issue", "body": "<p>The error occurs when passing <code>this</code> to <code>onResume</code>. \nSomehow it doesn't recognize that <code>this</code> implements <code>ActivityLifecycleType</code>, Am I missing something? </p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>open class BaseActivity&lt;ViewModelType: ActivityViewModel&lt;*&gt;&gt;: RxAppCompatActivity(), ActivityLifecycleType {\n   protected var viewModel: ViewModelType? = null\n\n   @CallSuper\n   override fun onResume() {\n     super.onResume()\n     viewModel?.onResume(this)  ==&gt; Error Required Nothing, Find BaseActivity&lt;ViewModelType&gt;\n   }\n}\n\nopen class ActivityViewModel&lt;in ViewType: ActivityLifecycleType&gt; {\n   fun onResume(view: ViewType) {\n      // Do something\n   }\n}\n\ninterface ActivityLifecycleType {\n   fun lifecycle(): Observable&lt;ActivityEvent&gt; \n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495610260, "post_id": 44151487, "comment_id": 75319846, "body": "Did you set up the Kotlin plugin in your project?"}, {"owner": {"reputation": 25839, "user_id": 4626831, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-COgHKgYeVUg/AAAAAAAAAAI/AAAAAAAAAXM/POFBWY2ogBo/photo.jpg?sz=128", "display_name": "N J", "link": "https://stackoverflow.com/users/4626831/n-j"}, "edited": false, "score": 0, "creation_date": 1495610337, "post_id": 44151487, "comment_id": 75319901, "body": "post your java files"}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 5, "creation_date": 1495610360, "post_id": 44151487, "comment_id": 75319918, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/14789139/6521116\">Accessing Kotlin class object from Java</a>"}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495610498, "post_id": 44151487, "comment_id": 75320006, "body": "show your code ?"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495610752, "post_id": 44151487, "comment_id": 75320196, "body": "The question this was marked a duplicate of is in no way related to this question, even though the titles are similar."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495612087, "post_id": 44151487, "comment_id": 75321194, "body": "Please post your Gradle set up"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1495614405, "post_id": 44151487, "comment_id": 75322765, "body": "have you configured kotlin in your <code>build.gradle</code> ?"}, {"owner": {"reputation": 51, "user_id": 5078247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oe5uDAdkfTA/AAAAAAAAAAI/AAAAAAAAAE8/tO3_p3xqcc8/photo.jpg?sz=128", "display_name": "senthil kumar", "link": "https://stackoverflow.com/users/5078247/senthil-kumar"}, "edited": false, "score": 0, "creation_date": 1495615898, "post_id": 44151487, "comment_id": 75323758, "body": "Yes I have add kotlin in my build.gradle"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5078247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oe5uDAdkfTA/AAAAAAAAAAI/AAAAAAAAAE8/tO3_p3xqcc8/photo.jpg?sz=128", "display_name": "senthil kumar", "link": "https://stackoverflow.com/users/5078247/senthil-kumar"}, "edited": false, "score": 1, "creation_date": 1495789600, "post_id": 44189909, "comment_id": 75408333, "body": "Thank you for your kind response. I got it working now, Earlier I was missing &quot;apply plugin:kotlin-android&quot; statement. Thank you"}], "tags": [], "owner": {"reputation": 3995, "user_id": 268108, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/327de084527b388e50c3b21f21108926?s=128&d=identicon&r=PG", "display_name": "Michael A.", "link": "https://stackoverflow.com/users/268108/michael-a"}, "is_accepted": true, "score": 4, "last_activity_date": 1495746786, "creation_date": 1495746786, "answer_id": 44189909, "question_id": 44151487, "link": "https://stackoverflow.com/questions/44151487/how-to-use-a-kotlin-class-in-a-java-class/44189909#44189909", "title": "How to use a Kotlin class in a java class?", "body": "<p>The most likely error seems to be that you're missing something in your Kotlin setup.</p>\n\n<p>For a pre-3.0 Android Studio setup, you should have the following in your apps build.gradle:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n\ndependencies {\n  ...\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>And the following in your top-level gradle:</p>\n\n<pre><code>buildscript {\n  ext.kotlin_version = '1.1.2-3'\n  repositories {\n    jcenter()\n  }\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n  }\n}\n\nallprojects {\n  repositories {\n    jcenter()\n  }\n}\n</code></pre>\n\n<p>And of course the kotlin plugin installed.</p>\n\n<p>Depending on your src file structure, you might also need to add something like this:</p>\n\n<pre><code>sourceSets {\n  main.java.srcDirs += 'src/main/kotlin'\n  test.java.srcDirs += 'src/test/kotlin'\n}\n</code></pre>\n\n<p>But that's only necessary if you insist on having kotlin files in a separate directory (currently, I tend not to do so).</p>\n"}], "owner": {"reputation": 51, "user_id": 5078247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oe5uDAdkfTA/AAAAAAAAAAI/AAAAAAAAAE8/tO3_p3xqcc8/photo.jpg?sz=128", "display_name": "senthil kumar", "link": "https://stackoverflow.com/users/5078247/senthil-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2241, "favorite_count": 0, "accepted_answer_id": 44189909, "answer_count": 1, "score": 1, "last_activity_date": 1495746786, "creation_date": 1495610180, "question_id": 44151487, "link": "https://stackoverflow.com/questions/44151487/how-to-use-a-kotlin-class-in-a-java-class", "title": "How to use a Kotlin class in a java class?", "body": "<p>I am newbie in Kotlin programing. I am developing an Android app, where I use Java for development. After Google announced, Kotlin as official for Android development, I wnated to try the features added up to my android app in Kotlin. So I started with a POJO class.</p>\n\n<p>I have a pojo classs say MyPOJO.kt in the package, com.example.model\nI am trying to use that pojo in another java class MyViewModel.java in the package com.example.viewmodel</p>\n\n<p>When I tried to run my app, I get an exception like,\n/Users/senthil/app/src/main/java/com/example/viewmodel/MyViewModel.java\nError:(17, 35) error: cannot find symbol class MyPojo</p>\n\n<p>I couldn't figure out what the problem is.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 731, "user_id": 7316510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlsvQ.jpg?s=128&g=1", "display_name": "Sneha Sarkar", "link": "https://stackoverflow.com/users/7316510/sneha-sarkar"}, "edited": false, "score": 0, "creation_date": 1495609296, "post_id": 44151134, "comment_id": 75319230, "body": "please upload your findViewById code for mToolbar"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1495609435, "post_id": 44151134, "comment_id": 75319314, "body": "Did you forget to <code>setContentView</code>? It&#39;s hard to tell when you don&#39;t post the whole onCreate."}, {"owner": {"reputation": 731, "user_id": 7316510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlsvQ.jpg?s=128&g=1", "display_name": "Sneha Sarkar", "link": "https://stackoverflow.com/users/7316510/sneha-sarkar"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1495609710, "post_id": 44151134, "comment_id": 75319502, "body": "Maybe you are wrong. @EugenPechanec. Go to this link -<a href=\"https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-1-e0f51fc1a8b3\" rel=\"nofollow noreferrer\">medium.com/@juanchosaravia/&hellip;</a>   In MainActivity.kt file clearly it is mentioned."}, {"owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "edited": false, "score": 0, "creation_date": 1495627045, "post_id": 44151134, "comment_id": 75331680, "body": "Post your error"}, {"owner": {"reputation": 775, "user_id": 5978625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMVYs.jpg?s=128&g=1", "display_name": "DevAnuragGarg", "link": "https://stackoverflow.com/users/5978625/devanuraggarg"}, "edited": false, "score": 0, "creation_date": 1495687081, "post_id": 44151134, "comment_id": 75360138, "body": "Added the kotlin extension and directly using the toolbar. It is working now... Thanks people"}, {"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501843675, "post_id": 44151134, "comment_id": 77970228, "body": "@CodeBoyChd ... could u help me plz . My setSupportActionBar is not recognizing"}, {"owner": {"reputation": 775, "user_id": 5978625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMVYs.jpg?s=128&g=1", "display_name": "DevAnuragGarg", "link": "https://stackoverflow.com/users/5978625/devanuraggarg"}, "reply_to_user": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1502078321, "post_id": 44151134, "comment_id": 78038425, "body": "@RavindraKushwaha Check the theme of the app"}], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 5978625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMVYs.jpg?s=128&g=1", "display_name": "DevAnuragGarg", "link": "https://stackoverflow.com/users/5978625/devanuraggarg"}, "edited": false, "score": 0, "creation_date": 1495687050, "post_id": 44151448, "comment_id": 75360130, "body": "Added the kotlin extension and directly using the toolbar. It is working now... Thanks people"}, {"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501843595, "post_id": 44151448, "comment_id": 77970177, "body": "@Maddy..Could u help me..My setSupportActionBar is not recognizing ?.What should i do now&gt;"}, {"owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "reply_to_user": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501848900, "post_id": 44151448, "comment_id": 77973747, "body": "@RavindraKushwaha, extend your current activity by AppCompatActivity and set style of your activity as &quot;Theme.AppCompat.Light.NoActionBar&quot;"}, {"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501849964, "post_id": 44151448, "comment_id": 77974576, "body": "Thanks for ur comment..I am using the library which is extending the <code>FragmentActivity</code>  .."}, {"owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "reply_to_user": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501850553, "post_id": 44151448, "comment_id": 77974946, "body": "@RavindraKushwaha, change it to AppCompatActivity if you can"}], "tags": [], "owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "is_accepted": false, "score": 4, "last_activity_date": 1495610085, "creation_date": 1495610085, "answer_id": 44151448, "question_id": 44151134, "link": "https://stackoverflow.com/questions/44151134/supportactionbar-is-null-using-kotlin-android-always/44151448#44151448", "title": "supportActionBar is null using Kotlin Android always", "body": "<p>Have you initialised mToolbar with its view id? If not then make it like this and check.</p>\n\n<pre><code>var mToolbar = findViewById(R.id.toolbar) as Toolbar?\nsetSupportActionBar(mToolbar)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "edited": false, "score": 1, "creation_date": 1535696873, "post_id": 52109580, "comment_id": 91169797, "body": "While this might answer the authors question, it lacks some explaining words and links to documentation. Raw code snippets are not very helpful without some phrases around it. You may also find <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write a good answer</a> very helpful. Please edit your answer."}], "tags": [], "owner": {"reputation": 45, "user_id": 7477765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Nxivs45powk/AAAAAAAAAAI/AAAAAAAAACs/1YN3BQNZrFM/photo.jpg?sz=128", "display_name": "tj_", "link": "https://stackoverflow.com/users/7477765/tj"}, "is_accepted": false, "score": 3, "last_activity_date": 1535699566, "last_edit_date": 1535699566, "creation_date": 1535696543, "answer_id": 52109580, "question_id": 44151134, "link": "https://stackoverflow.com/questions/44151134/supportactionbar-is-null-using-kotlin-android-always/52109580#52109580", "title": "supportActionBar is null using Kotlin Android always", "body": "<p>You can try</p>\n\n<pre><code>supportActionBar?.hide()\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 5978625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMVYs.jpg?s=128&g=1", "display_name": "DevAnuragGarg", "link": "https://stackoverflow.com/users/5978625/devanuraggarg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7652, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1535699566, "creation_date": 1495609185, "question_id": 44151134, "link": "https://stackoverflow.com/questions/44151134/supportactionbar-is-null-using-kotlin-android-always", "title": "supportActionBar is null using Kotlin Android always", "body": "<p>Just now google has made the Kotlin as an official programming language, so started converting my files to Kotlin.</p>\n\n<p>While converting my code, I am always getting null pointer exception when I try to use supportActionBar</p>\n\n<pre><code>    // set up action bar\n    setSupportActionBar(mToolbar)\n    supportActionBar!!.setDisplayShowTitleEnabled(false)\n\n    // set the hamburger menu\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n    supportActionBar!!.setHomeButtonEnabled(true)\n</code></pre>\n\n<p>My AndroidManifest entry is</p>\n\n<pre><code>      &lt;activity android:name=\".activities.MainActivity\"\n        android:screenOrientation=\"portrait\"\n        android:theme=\"@style/AppTheme.NoActionBar /&gt;\n</code></pre>\n\n<p>No actionbar is having windowActionBar as false.\nEvery time I run the app, i get the null pointer exception whiel accessing the supportActionBar. Can anyone help me about it?</p>\n"}, {"tags": ["android", "checkbox", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495605970, "post_id": 44150185, "comment_id": 75317412, "body": "Please post your code that&#39;s showing the error."}, {"owner": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1495606225, "post_id": 44150185, "comment_id": 75317534, "body": "Show your code ..."}], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 5789746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6bO0.jpg?s=128&g=1", "display_name": "Siddhartha Maji", "link": "https://stackoverflow.com/users/5789746/siddhartha-maji"}, "is_accepted": false, "score": 55, "last_activity_date": 1527798413, "last_edit_date": 1527798413, "creation_date": 1495606497, "answer_id": 44150332, "question_id": 44150185, "link": "https://stackoverflow.com/questions/44150185/kotlin-android-how-implement-checkbox-oncheckedchangelistener/44150332#44150332", "title": "Kotlin Android- How implement CheckBox.OnCheckedChangeListener?", "body": "<p>Use CheckBox.OnCheckedChangeListener like: </p>\n\n<pre><code>checkBox.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n  Toast.makeText(this,isChecked.toString(),Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>where <code>checkBox</code> is CheckBox ID.</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 4361042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8692446d433982c5919ed1541a935023?s=128&d=identicon&r=PG", "display_name": "djo", "link": "https://stackoverflow.com/users/4361042/djo"}, "is_accepted": false, "score": 11, "last_activity_date": 1495606785, "creation_date": 1495606785, "answer_id": 44150395, "question_id": 44150185, "link": "https://stackoverflow.com/questions/44150185/kotlin-android-how-implement-checkbox-oncheckedchangelistener/44150395#44150395", "title": "Kotlin Android- How implement CheckBox.OnCheckedChangeListener?", "body": "<pre><code>var checkBox:CheckBox = CheckBox(context)\ncheckBox.setOnCheckedChangeListener { buttonView, isChecked -&gt;  \n        if (isChecked) {\n                //Do Whatever you want in isChecked\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 6818486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZK6Bi2KEKmo/AAAAAAAAAAI/AAAAAAAAF1Q/TWupac74ZCE/photo.jpg?sz=128", "display_name": "Rafael Baptista", "link": "https://stackoverflow.com/users/6818486/rafael-baptista"}, "edited": false, "score": 0, "creation_date": 1574367371, "post_id": 44150423, "comment_id": 104218640, "body": "Perfect! I just used like:  <code>myCheckBox.setOnClickListener { view -&gt;                 if (view is CheckBox) {                     if (view.isChecked)                         onCheck(true)                     else                         onCheck(false)                 }             } </code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1495606906, "creation_date": 1495606906, "answer_id": 44150423, "question_id": 44150185, "link": "https://stackoverflow.com/questions/44150185/kotlin-android-how-implement-checkbox-oncheckedchangelistener/44150423#44150423", "title": "Kotlin Android- How implement CheckBox.OnCheckedChangeListener?", "body": "<p><code>CheckBox.OnClickListener</code> is not an existing interface. <a href=\"https://developer.android.com/reference/android/widget/CheckBox.html\" rel=\"noreferrer\"><code>CheckBox</code></a> inherits from <a href=\"https://developer.android.com/reference/android/view/View.html\" rel=\"noreferrer\"><code>View</code></a>, and so to assign a listener to a <code>CheckBox</code>, you can use its <a href=\"https://developer.android.com/reference/android/view/View.html#setOnClickListener(android.view.View.OnClickListener)\" rel=\"noreferrer\"><code>setOnClickListener</code></a> method, which takes an instance of <a href=\"https://developer.android.com/reference/android/view/View.OnClickListener.html\" rel=\"noreferrer\"><code>View.OnClickListener</code></a>.</p>\n\n<p>If you want to handle both of those events in the same <code>Fragment</code>, you'll have to differentiate the <code>CheckBox</code> and the other <code>View</code> using the parameter of the <code>onClick</code> method.  </p>\n\n<p>Alternatively, you could use lambdas as the listeners for your <code>View</code>s instead of the <code>Fragment</code> itself.</p>\n\n<pre><code>checkbox.setOnClickListener { view -&gt;\n    // handle clicks here\n}\n</code></pre>\n\n<p>Using <a href=\"https://developer.android.com/reference/android/widget/CompoundButton.html#setOnCheckedChangeListener(android.widget.CompoundButton.OnCheckedChangeListener)\" rel=\"noreferrer\"><code>setOnCheckedChangeListener</code></a> as mentioned in the other answers is also an option with <code>CheckBox</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3328, "user_id": 3269958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7dgi.png?s=128&g=1", "display_name": "Shalu T D", "link": "https://stackoverflow.com/users/3269958/shalu-t-d"}, "is_accepted": false, "score": 5, "last_activity_date": 1592120901, "last_edit_date": 1592120901, "creation_date": 1587104004, "answer_id": 61265195, "question_id": 44150185, "link": "https://stackoverflow.com/questions/44150185/kotlin-android-how-implement-checkbox-oncheckedchangelistener/61265195#61265195", "title": "Kotlin Android- How implement CheckBox.OnCheckedChangeListener?", "body": "<p>In <code>Kotlin</code>, you can use <code>CheckBox.OnCheckedChangeListener</code> like:- </p>\n\n<pre><code>checkBox.setOnCheckedChangeListener { _, isChecked -&gt;\n   Toast.makeText(this,isChecked.toString(),Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 7760397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc11bbc7cb0dc6026130e7a1f4e9fcca?s=128&d=identicon&r=PG&f=1", "display_name": "Ruthwik", "link": "https://stackoverflow.com/users/7760397/ruthwik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31050, "favorite_count": 1, "answer_count": 4, "score": 32, "last_activity_date": 1592120901, "creation_date": 1495605928, "last_edit_date": 1495606366, "question_id": 44150185, "link": "https://stackoverflow.com/questions/44150185/kotlin-android-how-implement-checkbox-oncheckedchangelistener", "title": "Kotlin Android- How implement CheckBox.OnCheckedChangeListener?", "body": "<p>I am new to Kotlin. I created a fragment and implemented <code>View.OnClickListener</code> and <code>CheckBox.OnCheckedChangeListener</code>. The  <code>View.OnClickListener</code> works as expected but it shows Unresloved reference for  <code>CheckBox.OnCheckedChangeListener</code>. </p>\n\n<p>The code is below</p>\n\n<pre><code>class LoginFragment : Fragment(), View.OnClickListener, CheckBox.OnCheckedChangeListener {\n\n    override fun onClick(view: View?) {\n\n    }\n\n\n}\n</code></pre>\n\n<p>How can I implement <code>CheckBox.OnCheckedChangeListener</code>..?\nThanks in advance</p>\n"}, {"tags": ["kotlin", "methods", "keyword", "backticks"], "answers": [{"tags": [], "owner": {"reputation": 30439, "user_id": 3215527, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/eL3Zs.jpg?s=128&g=1", "display_name": "wero", "link": "https://stackoverflow.com/users/3215527/wero"}, "is_accepted": false, "score": 7, "last_activity_date": 1495603152, "creation_date": 1495603152, "answer_id": 44149550, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/44149550#44149550", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<p>It allows you to call a Java method whose name is a Kotlin keyword. It won't work if you leave out the backticks.</p>\n"}, {"comments": [{"owner": {"reputation": 705, "user_id": 771032, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a42ef7c1ab70acd620c56f232be4eb2f?s=128&d=identicon&r=PG", "display_name": "MrCC", "link": "https://stackoverflow.com/users/771032/mrcc"}, "edited": false, "score": 2, "creation_date": 1606197952, "post_id": 44149561, "comment_id": 114882372, "body": "I&#39;d also like to add that &quot;in the wild&quot;, this is often used to have <i>identifier names with spaces</i> in them, <a href=\"https://stackoverflow.com/a/58955270/771032\">example</a>."}], "tags": [], "owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "is_accepted": true, "score": 80, "last_activity_date": 1495603539, "last_edit_date": 1592644375, "creation_date": 1495603178, "answer_id": 44149561, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/44149561#44149561", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<p>It's because <code>is</code> is a reserved keyword in Kotlin. Since Kotlin is supposed to be interoperable with Java and <code>is</code> is a valid method (identifier) name in Java, the backticks are used to escape the method so that it can be used as a method without confusing it as a keyword. Without it it will not work because it would be invalid syntax.</p>\n<p>This is highlighted <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"noreferrer\">in the Kotlin documentation</a>:</p>\n<blockquote>\n<h3>Escaping for Java identifiers that are keywords in Kotlin</h3>\n<p>Some of the Kotlin keywords are valid identifiers in Java: <code>in</code>, <code>object</code>, <code>is</code>, etc. If a Java library uses a Kotlin keyword for a method, you can still call the method escaping it with the backtick (`) character</p>\n<pre><code>foo.`is`(bar)\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 1, "last_activity_date": 1598630225, "last_edit_date": 1598630225, "creation_date": 1495603271, "answer_id": 44149580, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/44149580#44149580", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<p><code>is</code> in list of Kotlin reserved <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/compiler.common/src/org/jetbrains/kotlin/renderer/KeywordStringsGenerated.java\" rel=\"nofollow noreferrer\">words</a>\nTo use Kotlin reserved word (such as <code>is</code> or <code>object</code>) for function/class name you should wrap it to backticks</p>\n"}, {"tags": [], "owner": {"reputation": 3196, "user_id": 3219919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57909075f5a8b59b3e1b724bf633bb74?s=128&d=identicon&r=PG&f=1", "display_name": "Zoli Szab&#243;", "link": "https://stackoverflow.com/users/3219919/zoli-szab%c3%b3"}, "is_accepted": false, "score": 1, "last_activity_date": 1495603358, "creation_date": 1495603358, "answer_id": 44149598, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/44149598#44149598", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<blockquote>\n  <p>Some of the Kotlin keywords are valid identifiers in Java:\u00a0in,\u00a0object,\u00a0is, etc. If a Java library uses a Kotlin keyword for a method, you can still call the method escaping it with the backtick (`) character</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 5, "last_activity_date": 1495603388, "creation_date": 1495603388, "answer_id": 44149603, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/44149603#44149603", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<p>The backtick are a \"workaround\" to allow you to call methods that have a name representing a Kotlin keyword.</p>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"noreferrer\">kotlinlang</a>:</p>\n\n<blockquote>\n  <p>Some of the Kotlin keywords are valid identifiers in Java: in, object, is, etc. If a Java library uses a Kotlin keyword for a method, you can still call the method escaping it with the backtick (`) character</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 2, "last_activity_date": 1611764211, "creation_date": 1611764211, "answer_id": 65923081, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks/65923081#65923081", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<h2>Useful for tests</h2>\n<p>Backticks are very useful in tests for long function names:</p>\n<pre><code>@Test\nfun `adding 3 and 4 should be equal to 7`() {\n    assertEquals(calculator.add(3, 4), 7)\n}\n</code></pre>\n<p>This makes the function names more readable. We can add spaces and other special characters in the function names. However, remember to use it only in tests, it's against the Kotlin coding conventions of the regular code.</p>\n"}], "owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10329, "favorite_count": 7, "protected_date": 1567762361, "accepted_answer_id": 44149561, "answer_count": 6, "score": 61, "last_activity_date": 1611764211, "creation_date": 1495602763, "last_edit_date": 1578930491, "question_id": 44149474, "link": "https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks", "title": "Why does this Kotlin method have enclosing backticks?", "body": "<p>What are the backticks used for in the snippet below? </p>\n\n<p>Why add them around the <code>fun is(amount:Int ):Boolean { ... }</code>?</p>\n\n<pre><code>verifier.`is`(amount)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495601566, "post_id": 44148883, "comment_id": 75315548, "body": "What is the problem, u are facing?"}, {"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1495603156, "post_id": 44148883, "comment_id": 75316137, "body": "u can write your whole project in Kotlin, u won&#39;t even need a single java file."}], "answers": [{"comments": [{"owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "edited": false, "score": 0, "creation_date": 1495602212, "post_id": 44149342, "comment_id": 75315787, "body": "Thn wht about <code>onActivityForResult()</code>? can we write same in kotlin also?"}, {"owner": {"reputation": 701, "user_id": 5299998, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/298f4b8f2f2d430206ae1a9b93f546b3?s=128&d=identicon&r=PG&f=1", "display_name": "P. Ilyin", "link": "https://stackoverflow.com/users/5299998/p-ilyin"}, "edited": false, "score": 2, "creation_date": 1495602395, "post_id": 44149342, "comment_id": 75315844, "body": "You can write any javacode as a kotlin analog. You even can copy javacode to kotlin file to convert javacode to kotlincode"}], "tags": [], "owner": {"reputation": 192, "user_id": 5022468, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E9IsdkQXr7w/AAAAAAAAAAI/AAAAAAAAAac/f6NfI2JQAT0/photo.jpg?sz=128", "display_name": "Egor tepikin", "link": "https://stackoverflow.com/users/5022468/egor-tepikin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495602125, "creation_date": 1495602125, "answer_id": 44149342, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/44149342#44149342", "title": "Select image from gallery using Kotlin", "body": "<p>You can write it at Kotlin too.</p>\n\n<pre><code>val intent = Intent()\nintent.type = \"image/*\"\nintent.action = Intent.ACTION_GET_CONTENT\nstartActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1448, "user_id": 5545429, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/D9fAK.jpg?s=128&g=1", "display_name": "shinilms", "link": "https://stackoverflow.com/users/5545429/shinilms"}, "is_accepted": false, "score": 4, "last_activity_date": 1495602568, "creation_date": 1495602568, "answer_id": 44149433, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/44149433#44149433", "title": "Select image from gallery using Kotlin", "body": "<pre><code>val intent = Intent()\nintent.type = \"image/*\"\nintent.action = Intent.ACTION_GET_CONTENT\nstartActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE)\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 966, "user_id": 5670909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8rbS.png?s=128&g=1", "display_name": "Melchizedek", "link": "https://stackoverflow.com/users/5670909/melchizedek"}, "is_accepted": false, "score": 17, "last_activity_date": 1495671799, "creation_date": 1495671799, "answer_id": 44170421, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/44170421#44170421", "title": "Select image from gallery using Kotlin", "body": "<p>Here a sample function code for selecting image and capture image:</p>\n\n<pre><code> fun selectImageInAlbum() {\n        val intent = Intent(Intent.ACTION_GET_CONTENT)\n        intent.type = \"image/*\"\n        if (intent.resolveActivity(packageManager) != null) {\n            startActivityForResult(intent, REQUEST_SELECT_IMAGE_IN_ALBUM)\n        }\n    }\n fun takePhoto() {\n        val intent1 = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n        if (intent1.resolveActivity(packageManager) != null) {\n            startActivityForResult(intent1, REQUEST_TAKE_PHOTO)\n        }\n    }\n companion object {\n        private val REQUEST_TAKE_PHOTO = 0\n        private val REQUEST_SELECT_IMAGE_IN_ALBUM = 1\n    }\n</code></pre>\n\n<p>Also don't forget to add this to your manifest file:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>I hope i can help</p>\n"}, {"tags": [], "owner": {"reputation": 2639, "user_id": 6766264, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PLc6P.jpg?s=128&g=1", "display_name": "Makvin", "link": "https://stackoverflow.com/users/6766264/makvin"}, "is_accepted": false, "score": 1, "last_activity_date": 1545214290, "last_edit_date": 1545214290, "creation_date": 1545201165, "answer_id": 53845741, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/53845741#53845741", "title": "Select image from gallery using Kotlin", "body": "<p>You can try the following:</p>\n\n<pre><code>val galleryIntent = Intent(Intent.ACTION_PICK,\n                    android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\nstartActivityForResult(galleryIntent, requestcode)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 9235116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4487764718812b306d07371f23888a?s=128&d=identicon&r=PG&f=1", "display_name": "Barbara K", "link": "https://stackoverflow.com/users/9235116/barbara-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1550054014, "creation_date": 1550054014, "answer_id": 54668035, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/54668035#54668035", "title": "Select image from gallery using Kotlin", "body": "<pre><code>fun Fragment.openGalleryForPickingImage(code: Int) {\n    Intent().apply {\n        type = \"image/*\"\n        action = Intent.ACTION_GET_CONTENT\n        startActivityForResult(Intent.createChooser(this, getString(R.string.select_file)), code)\n    }\n}\n</code></pre>\n\n<p>The problem with it, is that the function to get real path doesn't work because content resolver doesn't find the columnIndex corresponding to  MediaStore.Images.Media.DATA\nInstead, you need to do:</p>\n\n<pre><code>fun Fragment.openGalleryForPickingImage(code: Int) {\n    Intent(\n        Intent.ACTION_PICK,\n        android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n    ).apply {\n        startActivityForResult(Intent.createChooser(this, getString(R.string.select_file)), code)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11359267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nucBdLnG5VA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recAAd7O-qtEqzWDCO0wtiskA6cBw/mo/photo.jpg?sz=128", "display_name": "soumyadip basak", "link": "https://stackoverflow.com/users/11359267/soumyadip-basak"}, "is_accepted": false, "score": 0, "last_activity_date": 1598347840, "last_edit_date": 1598347840, "creation_date": 1598344902, "answer_id": 63575126, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin/63575126#63575126", "title": "Select image from gallery using Kotlin", "body": "<p>kotlin :</p>\n<pre><code>fun getPhoto() {\n    val intent = Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n    startActivityForResult(intent,1)\n}\n</code></pre>\n"}], "owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16501, "favorite_count": 0, "answer_count": 6, "score": 7, "last_activity_date": 1598347840, "creation_date": 1495599274, "question_id": 44148883, "link": "https://stackoverflow.com/questions/44148883/select-image-from-gallery-using-kotlin", "title": "Select image from gallery using Kotlin", "body": "<p>Recently i have started learning <code>Kotlin</code>. After having some basic functionality i am stuck with image picker.</p>\n\n<p>Does there any specific way to select an image from gallery and camera using <code>Kotlin</code>? Or should i implement in our normal Java code and then call it from <code>Kotlin</code> file?</p>\n\n<p><strong>Java code</strong> :</p>\n\n<pre><code>Intent intent = new Intent();\nintent.setType(\"image/*\");\nintent.setAction(Intent.ACTION_GET_CONTENT);\nstartActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE);\n</code></pre>\n\n<p>Any other difference to perform this operation using <code>Kotlin</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1495599740, "post_id": 44148852, "comment_id": 75314991, "body": "What u have tried ?"}, {"owner": {"reputation": 1575, "user_id": 2264402, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KoiFW.jpg?s=128&g=1", "display_name": "Pradeep Bishnoi", "link": "https://stackoverflow.com/users/2264402/pradeep-bishnoi"}, "reply_to_user": {"reputation": 343, "user_id": 5832648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ly3Bl.jpg?s=128&g=1", "display_name": "8hubham", "link": "https://stackoverflow.com/users/5832648/8hubham"}, "edited": false, "score": 0, "creation_date": 1495599929, "post_id": 44148852, "comment_id": 75315049, "body": "@8hubham : kotlin is new language for android. you can search on google"}, {"owner": {"reputation": 1575, "user_id": 2264402, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KoiFW.jpg?s=128&g=1", "display_name": "Pradeep Bishnoi", "link": "https://stackoverflow.com/users/2264402/pradeep-bishnoi"}, "reply_to_user": {"reputation": 127466, "user_id": 1202025, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FlCCd.jpg?s=128&g=1", "display_name": "\u03c1\u044f\u03c3\u0455\u03c1\u0454\u044f K", "link": "https://stackoverflow.com/users/1202025/%cf%81%d1%8f%cf%83%d1%95%cf%81%d1%94%d1%8f-k"}, "edited": false, "score": 0, "creation_date": 1495621502, "post_id": 44148852, "comment_id": 75327772, "body": "Question was very basic thats main reason"}], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 1588876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c88adc0540e95fbf0a4f9ccc7708dda?s=128&d=identicon&r=PG", "display_name": "ibad ur rahman", "link": "https://stackoverflow.com/users/1588876/ibad-ur-rahman"}, "edited": false, "score": 0, "creation_date": 1547810173, "post_id": 44148959, "comment_id": 95329719, "body": "i want to add button to another view. how to add them"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": true, "score": 6, "last_activity_date": 1495599804, "creation_date": 1495599804, "answer_id": 44148959, "question_id": 44148852, "link": "https://stackoverflow.com/questions/44148852/how-to-add-a-button-dynamically-in-android-using-kotlin/44148959#44148959", "title": "How to add a button dynamically in Android using Kotlin", "body": "<p>You can create a button dynamically by calling the constructor of the button.</p>\n\n<pre><code>var myButton = Button(this);\n</code></pre>\n\n<p>'this' will be the activity.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6691232, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nx-RiMKtuyo/AAAAAAAAAAI/AAAAAAAADWs/Cm2qArdgkWM/photo.jpg?sz=128", "display_name": "Supriya Yadubansi", "link": "https://stackoverflow.com/users/6691232/supriya-yadubansi"}, "is_accepted": false, "score": 1, "last_activity_date": 1585136614, "creation_date": 1585136614, "answer_id": 60848176, "question_id": 44148852, "link": "https://stackoverflow.com/questions/44148852/how-to-add-a-button-dynamically-in-android-using-kotlin/60848176#60848176", "title": "How to add a button dynamically in Android using Kotlin", "body": "<p>Please try this:-</p>\n\n<p>/*\n    Create a new Button programmatically in Kotlin Android\n     */</p>\n\n<pre><code>private fun createButtonDynamically() {\n    // creating the button\n    val dynamicButton = Button(this)\n    // setting layout_width and layout_height using layout parameters\n    dynamicButton.layoutParams = LinearLayout.LayoutParams(\n        LinearLayout.LayoutParams.WRAP_CONTENT,\n        LinearLayout.LayoutParams.WRAP_CONTENT\n    )\n    dynamicButton.text = \"Dynamic Button\"\n    dynamicButton.setBackgroundColor(Color.GREEN)\n    // add Button to LinearLayout\n    mainLayout.addView(dynamicButton)\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1575, "user_id": 2264402, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KoiFW.jpg?s=128&g=1", "display_name": "Pradeep Bishnoi", "link": "https://stackoverflow.com/users/2264402/pradeep-bishnoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2263, "favorite_count": 0, "accepted_answer_id": 44148959, "answer_count": 2, "score": 2, "last_activity_date": 1585136614, "creation_date": 1495599122, "last_edit_date": 1495601163, "question_id": 44148852, "link": "https://stackoverflow.com/questions/44148852/how-to-add-a-button-dynamically-in-android-using-kotlin", "title": "How to add a button dynamically in Android using Kotlin", "body": "<p>How to add a button dynamically in Android using Kotlin?</p>\n\n<p>I am new to Kotlin, please help.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 116, "user_id": 1445728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d117510580c18e07d17643df83d52a?s=128&d=identicon&r=PG", "display_name": "Kendroid", "link": "https://stackoverflow.com/users/1445728/kendroid"}, "edited": false, "score": 0, "creation_date": 1495610389, "post_id": 44148545, "comment_id": 75319934, "body": "<a href=\"https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0\" title=\"how to use data binding and kotlin in android studio 3 0 0\">stackoverflow.com/questions/44035504/&hellip;</a>"}], "owner": {"reputation": 81, "user_id": 8056943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e27b8727b2300ca7101715bd1d13bb1?s=128&d=identicon&r=PG&f=1", "display_name": "guo deqing", "link": "https://stackoverflow.com/users/8056943/guo-deqing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 698, "favorite_count": 0, "closed_date": 1495622473, "answer_count": 0, "score": 8, "last_activity_date": 1495597236, "creation_date": 1495597236, "question_id": 44148545, "link": "https://stackoverflow.com/questions/44148545/studio-3-0-databinding-with-kotlin-circular-dependency-error", "closed_reason": "Duplicate", "title": "studio 3.0 databinding with kotlin circular dependency error", "body": "<p>I meet an error when I use gradle  <code>classpath 'com.android.tools.build:gradle:3.0.0-alpha1'</code>\nlike this:</p>\n\n<pre><code> Error:Circular dependency between the following tasks:\n:app:compileDebugKotlin\n+--- :app:dataBindingExportBuildInfoDebug\n|    \\--- :app:compileDebugKotlin (*)\n\\--- :app:kaptDebugKotlin\n     \\--- :app:dataBindingExportBuildInfoDebug (*)\n(*) - details omitted (listed previously)\n</code></pre>\n\n<p>this is my project build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    ext.support_version = \"25.3.1\"\n    ext.butterknife_version = \"8.4.0\"\n    ext.anko_version = \"0.9\"\n    ext.bugly_upgrade= \"1.2.4\"\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n}\n    allprojects {\n        repositories {\n            jcenter()\n            mavenCentral()\n            maven { url \"https://jitpack.io\" }\n            maven {\n                url 'https://oss.sonatype.org/content/repositories/snapshots/'\n            }\n        }\n\n    }\n</code></pre>\n\n<p>my module build.gradle is here:</p>\n\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '25.0.3'\n    defaultConfig {\n        applicationId \"com.guuguo.android.pikacomic\"\n        minSdkVersion 17\n        targetSdkVersion 25\n        versionCode 7\n        versionName \"0.5\"\n        ndk {\n            //\u8bbe\u7f6e\u652f\u6301\u7684SO\u5e93\u67b6\u6784\n            abiFilters /*'armeabi',*/ 'x86', 'armeabi-v7a', 'x86_64', 'arm64-v8a'\n        }\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n        renderscriptTargetApi 20\n        renderscriptSupportModeEnabled true\n\n    }\n    signingConfigs {\n        release {\n            keyAlias 'mimi'\n            keyPassword 'guuguo123'\n            storeFile file('mimi.jks')\n            storePassword 'android'\n        }\n        debug {\n            keyAlias 'mimi'\n            keyPassword 'guuguo123'\n            storeFile file('mimi.jks')\n            storePassword 'android'\n        }\n    }\n    buildTypes {\n        release {\n            debuggable false\n            jniDebuggable false\n            zipAlignEnabled true\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n        }\n        debug {\n            debuggable true\n            jniDebuggable true\n            zipAlignEnabled true\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    dataBinding {\n        enabled = true\n    }\n}\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    compile project(':androidLib:androidLib')\n    compile project(':library')\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n\n    compile 'com.android.support:multidex:1.0.1'\n    /*support*/\n    compile \"com.android.support:cardview-v7:$support_version\"\n    /* Kotlin */\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    kapt \"com.android.databinding:compiler:2.5.0-alpha-preview-02\"\n    /* RxJava2 */\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.0'\n    /* Retrofit */\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n\n    /*view*/\n    compile 'com.flyco.tablayout:FlycoTabLayout_Lib:2.1.2@aar'\n    compile 'com.flyco.banner:FlycoBanner_Lib:2.0.2@aar'\n    compile ('com.alibaba.android:vlayout:1.0.6@aar') {\n        transitive = true\n    }\n\n    /*function*/\n    compile 'com.github.CymChad:BaseRecyclerViewAdapterHelper:2.9.12'\n    compile 'com.github.bumptech.glide:glide:3.8.0'\n    compile 'com.github.bumptech.glide:okhttp3-integration:1.4.0@aar'\n\n}\n</code></pre>\n\n<p><strong>thanks very much!</strong></p>\n"}, {"tags": ["javascript", "kotlin", "kotlin-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 538, "user_id": 3965987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afc440c3978f3718d9b57e36c1987fa?s=128&d=identicon&r=PG&f=1", "display_name": "guyIntrepid", "link": "https://stackoverflow.com/users/3965987/guyintrepid"}, "edited": false, "score": 3, "creation_date": 1495625354, "post_id": 44150785, "comment_id": 75330399, "body": "Aha! there it is. Thank you so much.  Note to other Node.js folks, you&#39;ll have to add <code>kotlin = require(&#39;.&#47;kotlin.js&#39;)</code> somewhere before your compiled JS runs."}, {"owner": {"reputation": 538, "user_id": 3965987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afc440c3978f3718d9b57e36c1987fa?s=128&d=identicon&r=PG&f=1", "display_name": "guyIntrepid", "link": "https://stackoverflow.com/users/3965987/guyintrepid"}, "edited": false, "score": 1, "creation_date": 1495625822, "post_id": 44150785, "comment_id": 75330731, "body": "^ or better yet, compile with <code>-module-kind commonjs</code> after installing the kotlin dependency from npm."}, {"owner": {"reputation": 1138, "user_id": 7644072, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212309749595897/picture?type=large", "display_name": "Robbie Cronin", "link": "https://stackoverflow.com/users/7644072/robbie-cronin"}, "reply_to_user": {"reputation": 538, "user_id": 3965987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afc440c3978f3718d9b57e36c1987fa?s=128&d=identicon&r=PG&f=1", "display_name": "guyIntrepid", "link": "https://stackoverflow.com/users/3965987/guyintrepid"}, "edited": false, "score": 2, "creation_date": 1545961784, "post_id": 44150785, "comment_id": 94744192, "body": "@guyIntrepid that solved my issue! I&#39;m building with IntelliJ, any reason you can think of why it wouldn&#39;t automatically add that in as a part of the build? :/"}, {"owner": {"reputation": 1060, "user_id": 1043793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/56441218e829ce36b31c183d2283a7ea?s=128&d=identicon&r=PG", "display_name": "tutiplain", "link": "https://stackoverflow.com/users/1043793/tutiplain"}, "reply_to_user": {"reputation": 538, "user_id": 3965987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afc440c3978f3718d9b57e36c1987fa?s=128&d=identicon&r=PG&f=1", "display_name": "guyIntrepid", "link": "https://stackoverflow.com/users/3965987/guyintrepid"}, "edited": false, "score": 0, "creation_date": 1618768216, "post_id": 44150785, "comment_id": 118696739, "body": "@guyIntrepid. This should be the correct answer. Someone beginning in the language should not have to decompress the runtime jars to get at the kotlin.js file, IMHO."}, {"owner": {"reputation": 1060, "user_id": 1043793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/56441218e829ce36b31c183d2283a7ea?s=128&d=identicon&r=PG", "display_name": "tutiplain", "link": "https://stackoverflow.com/users/1043793/tutiplain"}, "edited": false, "score": 0, "creation_date": 1618768224, "post_id": 44150785, "comment_id": 118696744, "body": "But yes, thumbs up tp @zsmb13, too. This is not obvious from the CLI tutorial."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 12, "last_activity_date": 1495608118, "creation_date": 1495608118, "answer_id": 44150785, "question_id": 44147313, "link": "https://stackoverflow.com/questions/44147313/no-kotlin-js-file-output-by-kotlinc-js/44150785#44150785", "title": "No kotlin.js file output by kotlinc-js", "body": "<p>As described <a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html\" rel=\"noreferrer\">here</a>, yes, you'll need to include <code>kotlin.js</code> before you can run your own Kotlin code. This file contains the Kotlin runtime and standard library.</p>\n\n<p>If you're doing this from the command line, you can find <code>kotlin.js</code> in the <code>lib</code> folder of the compiler, inside <code>kotlin-stdlib-js.jar</code> (which you can just open as a regular <code>.zip</code> file).</p>\n"}], "owner": {"reputation": 538, "user_id": 3965987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afc440c3978f3718d9b57e36c1987fa?s=128&d=identicon&r=PG&f=1", "display_name": "guyIntrepid", "link": "https://stackoverflow.com/users/3965987/guyintrepid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3036, "favorite_count": 3, "accepted_answer_id": 44150785, "answer_count": 1, "score": 18, "last_activity_date": 1495608118, "creation_date": 1495587859, "last_edit_date": 1495589086, "question_id": 44147313, "link": "https://stackoverflow.com/questions/44147313/no-kotlin-js-file-output-by-kotlinc-js", "title": "No kotlin.js file output by kotlinc-js", "body": "<p>Currently trying to get a Kotlin \"Hello, World\" to compile to JS via the command line.  I've followed the tutorial:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-command-line/command-line-library-js.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/tutorials/javascript/getting-started-command-line/command-line-library-js.html</a></p>\n\n<p>I'm seeing the Javascript files being generated, but I'm missing the <code>kotlin.js</code> file that I would expect to see per:\n<a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html</a></p>\n\n<p>The first few lines of the generated JS files read:\n<code>if (typeof kotlin === 'undefined') {\n  throw new Error(\"Error loading module 'sample-library'. Its dependency \n 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to \n 'sample-library'.\");\n}</code></p>\n\n<p>so it's clear that the it's meant to be run with a file that instantiates <code>kotlin</code>.  Any ideas why I'm not seeing it?  I'm following the tutorial exactly as written.  I'm using the latest version of the compiler from homebrew, which is 1.1.2.2</p>\n"}, {"tags": ["kotlin", "read-eval-print-loop"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495591646, "post_id": 44147025, "comment_id": 75312966, "body": "The REPL works by turning local variables into members of a class that represents the state at the END of the line being executed.  So the variable <code>s</code> is created as a member with <code>null</code> value and then later set to its own value (still <code>null</code>), which is why the code compiles.  It is not truly checking the code in context, but checking the code against previous lines and current values set in the current line.  So there are other cases that will fail.   But a bug is a bug, please search for it and if not there report the bug:  <a href=\"http://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495591683, "post_id": 44147025, "comment_id": 75312975, "body": "And please note the bug here  so other readers can track its state.  Thanks!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495607172, "post_id": 44147025, "comment_id": 75317986, "body": "I didn&#39;t find an open issue for it, so I created this one <a href=\"https://youtrack.jetbrains.com/issue/KT-18052\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18052</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495621150, "post_id": 44147025, "comment_id": 75327539, "body": "Update: it&#39;s been marked as a duplicate, it&#39;s being tracked here instead <a href=\"https://youtrack.jetbrains.com/issue/KT-8063\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-8063</a>"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5730641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQBwv.jpg?s=128&g=1", "display_name": "Wafer Li", "link": "https://stackoverflow.com/users/5730641/wafer-li"}, "is_accepted": false, "score": 2, "last_activity_date": 1495587315, "creation_date": 1495587315, "answer_id": 44147241, "question_id": 44147025, "link": "https://stackoverflow.com/questions/44147025/is-this-a-bug-of-kotlin-repl/44147241#44147241", "title": "Is this a bug of Kotlin REPL?", "body": "<p>Yes, it is a bug of REPL.</p>\n\n<p>In the REAL Kotlin file, it will complain as a \"Unresolve reference\"</p>\n\n<p>Sorry, I cannot post a img, but you could try at your IDE.</p>\n\n<p>I am using the IntelliJ-IDEA 2017.1.3</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": true, "score": 0, "last_activity_date": 1495598236, "last_edit_date": 1592644375, "creation_date": 1495596016, "answer_id": 44148378, "question_id": 44147025, "link": "https://stackoverflow.com/questions/44147025/is-this-a-bug-of-kotlin-repl/44148378#44148378", "title": "Is this a bug of Kotlin REPL?", "body": "<p>Yes, this is a bug.</p>\n<pre><code>val s: String = s\nprint(s.length)\n</code></pre>\n<p>This code compiled successfully but at runtime, it's giving an error.</p>\n<blockquote>\n<p>Error:  Unresolved reference: s</p>\n</blockquote>\n<hr/>\n<p><a href=\"https://i.stack.imgur.com/0db2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0db2z.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 44148378, "answer_count": 2, "score": 3, "last_activity_date": 1495598236, "creation_date": 1495585370, "question_id": 44147025, "link": "https://stackoverflow.com/questions/44147025/is-this-a-bug-of-kotlin-repl", "title": "Is this a bug of Kotlin REPL?", "body": "<p>I can define a value in Kotlin REPL like this(recursively) without getting an error:</p>\n\n<pre><code>val s: String = s\n</code></pre>\n\n<p>And now I get an 's' with the type of NotNull but the value of null.<br/>\nAnd I can do something with this <code>NotNull</code> value with a NPE:</p>\n\n<pre><code>&gt;&gt;&gt; val s: String = s\n\n&gt;&gt;&gt; s.length\njava.lang.NullPointerException\n</code></pre>\n\n<p>You can try it on your own Kotlin REPL, it works every time.</p>\n\n<p>I am using Kotlin version 1.1.2-3.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495606554, "post_id": 44142964, "comment_id": 75317689, "body": "@Raghunandan, Problem statement of that question is same but applying those solution doesn&#39;t solve my problem."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495606719, "post_id": 44142964, "comment_id": 75317774, "body": "You can comment on the original post. Add a bounty too. But I only closed this cause I felt it&#39;s a duplicate"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495606869, "post_id": 44142964, "comment_id": 75317838, "body": "@Raghunandan I have commented in original post. But to add bounty in this question you have to open this question as there is not link for bounty here."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495606917, "post_id": 44142964, "comment_id": 75317864, "body": "Add bounty to the other question. Or comment on the post. this post will eventually be closed by someone even if i din&#39;t close it before cause its a duplicate"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495607047, "post_id": 44142964, "comment_id": 75317923, "body": "can&#39;t you open this question?"}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1495607219, "post_id": 44142964, "comment_id": 75318024, "body": "i can but the point is its a duplicate hence i closed this. If you still think this is wrong pls go to <a href=\"https://meta.stackoverflow.com/\">meta.stackoverflow.com</a> and point this question and some one should answer your query."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1534643591, "post_id": 44142964, "comment_id": 90777662, "body": "as the error message hints for, just replace <code>kotlin-stdlib-jre7</code> with <code>kotlin-stdlib</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495699021, "post_id": 44174842, "comment_id": 75365355, "body": "yes, and Hope fully i solved that. along with plugin there were some code changes were also there"}], "tags": [], "owner": {"reputation": 601, "user_id": 6820214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5fcbb564af448535282c4b469f3bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyofen", "link": "https://stackoverflow.com/users/6820214/lyofen"}, "is_accepted": false, "score": 1, "last_activity_date": 1495697540, "creation_date": 1495697540, "answer_id": 44174842, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin/44174842#44174842", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>Here my gradle files, i didn't need to add thoses plugins.</p>\n\n<p><strong>build.gradle(project):</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    ext.lifecycle_version = '1.0.0-alpha1'\n    ext.room_version = '1.0.0-alpha1'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\n//enable anotation processing with kotlin, disabled by default\nkapt {\n    generateStubs = true\n}\n\n\nandroid {\n/**\n...\n**/\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    //kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    //support\n    compile 'com.android.support:appcompat-v7:25.3.1'\n\n    //google architecture\n    compile \"android.arch.lifecycle:runtime:$lifecycle_version\"\n    compile \"android.arch.lifecycle:extensions:$lifecycle_version\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$lifecycle_version\"\n    kapt \"android.arch.lifecycle:compiler:$lifecycle_version\"\n\n    //database\n    compile \"android.arch.persistence.room:runtime:$room_version\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$room_version\"\n    kapt \"android.arch.persistence.room:compiler:$room_version\"\n\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>Then run menu build-> make project to create impl class.\nHope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "edited": false, "score": 0, "creation_date": 1495992023, "post_id": 44175259, "comment_id": 75469970, "body": "So I am under the suspicion that this only worked for you by coincidence. I am using Room along with DataBinding (which requires the apply kapt line) and it was working only when I built the project in a certain order. Could you try doing a full clean/rebuild of your porject?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "edited": false, "score": 0, "creation_date": 1495992362, "post_id": 44175259, "comment_id": 75470067, "body": "I did that n number of times but didn&#39;t work, Even when it worked i tried to play with all gradle settings but this is what seems to work. I am using Android Studio 3.0.0-canary version. May be you are using something different if not, then GOD will know whats the problem :) Kidding"}, {"owner": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "edited": false, "score": 0, "creation_date": 1495992480, "post_id": 44175259, "comment_id": 75470093, "body": "I am using AS 2, I think that Room doesnt yet support Java 8, and thus when you try to use it with kotlin it fails (I am guessing it requires J8?) atleast thats what the error looks to be"}, {"owner": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "edited": false, "score": 0, "creation_date": 1495992548, "post_id": 44175259, "comment_id": 75470105, "body": "Also, are you also using DataBinding?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "edited": false, "score": 0, "creation_date": 1496033822, "post_id": 44175259, "comment_id": 75479344, "body": "I am not using DataBinding."}, {"owner": {"reputation": 4139, "user_id": 1041533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fPMRU.jpg?s=128&g=1", "display_name": "AgentKnopf", "link": "https://stackoverflow.com/users/1041533/agentknopf"}, "edited": false, "score": 0, "creation_date": 1498503881, "post_id": 44175259, "comment_id": 76514759, "body": "Thanks a ton, that actually helped me in fixing my kotlin room setup. I also had an error saying &quot;Not sure how to convert a Cursor to this method&#39;s return type&quot; the reason was: In my @&#208;ao interface I had used SELECT count(*) ... but had forgotten to add the return type (long)."}, {"owner": {"reputation": 11779, "user_id": 1199267, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vWMc7.jpg?s=128&g=1", "display_name": "Yasitha Waduge", "link": "https://stackoverflow.com/users/1199267/yasitha-waduge"}, "edited": false, "score": 0, "creation_date": 1498733312, "post_id": 44175259, "comment_id": 76625805, "body": "remove apply plugin: &#39;kotlin-kapt&#39; did the trick for me. Thanks"}, {"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "edited": false, "score": 1, "creation_date": 1512627987, "post_id": 44175259, "comment_id": 82336867, "body": "This is not working for me as I am using dagger2 &amp; without <code>kapt</code> it fails to compile :( I am getting the different error than yours as I mentioned in this issue: <a href=\"https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to\" title=\"kotlin room java lang illegalargumentexception void cannot be converted to\">stackoverflow.com/questions/47676905/&hellip;</a>"}, {"owner": {"reputation": 595, "user_id": 6633003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fNSzq.png?s=128&g=1", "display_name": "Andrew Siplas", "link": "https://stackoverflow.com/users/6633003/andrew-siplas"}, "edited": false, "score": 0, "creation_date": 1530169515, "post_id": 44175259, "comment_id": 89142123, "body": "Using a kotlin <code>data class</code> like <code>data class Food(\u2026</code> might simplify things a bit."}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 1, "creation_date": 1530191971, "post_id": 44175259, "comment_id": 89156240, "body": "removing <code>apply plugin: &#39;kotlin-kapt&#39;</code> is not necessary I guess , if I removed it other libraries like glide gave issues"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 24, "last_activity_date": 1495698911, "last_edit_date": 1592644375, "creation_date": 1495698911, "answer_id": 44175259, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin/44175259#44175259", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>After spinning my head around for a while with this problem, I came across to the solution.</p>\n<p>It was really hard as there is no official tutorial, blog etc out there to help with this problem as of now.</p>\n<p>I had to do several hit and trial for all the combination of gradle plugins and dependencies as i knew that something is wrong with gradle config only.</p>\n<p>Lets come to the solution:</p>\n<p>I had to remove <code>apply plugin: 'kotlin-kapt'</code> from build.gradle(:module) file\nand replace <code>annotationProcessor &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;</code> to <code>kapt &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;</code>.</p>\n<p>This is the gradle configuration to successfully compile code.</p>\n<p>But there more things to check. You have to initialise properties of your <code>@Entity class</code> unlike java given in <a href=\"https://developer.android.com/topic/libraries/architecture/room.html#entities\" rel=\"noreferrer\">Room Persistence lib doc</a>. Though there are getter setter but it is not mentioned to create a constructor with initialisation.\nSo I had to change my <code>@Entity</code> class with this:</p>\n<pre><code>@Entity(tableName = &quot;all_food_list&quot;)\nclass Food (@ColumnInfo(name = &quot;food_name&quot;) var foodName: String = &quot;&quot;,\n            @ColumnInfo(name = &quot;food_desc&quot;) var foodDesc: String = &quot;&quot;,\n            @ColumnInfo(name = &quot;protein&quot;) var protein: Double = 0.0,\n            @ColumnInfo(name = &quot;carbs&quot;) var carbs: Double = 0.0,\n            @ColumnInfo(name = &quot;fat&quot;) var fat: Double = 0.0,\n            @ColumnInfo(name = &quot;calories&quot;) var calories: Double = 0.0)\n{\n    @ColumnInfo(name = &quot;id&quot;)\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n}\n</code></pre>\n<p>Now for TypeConverts, Unlike java, you need to create normal function not static functions(companion object):</p>\n<pre><code>class Converters{\n\n        @TypeConverter\n        fun fromTimestamp(value: String): Calendar {\n            val arr = value.split(&quot;-&quot;)\n            val cal = Calendar.getInstance()\n            cal.set(arr[0].toInt(), arr[1].toInt(), arr[2].toInt())\n            return cal\n        }\n\n        @TypeConverter\n        fun dateToTimestamp(date: Calendar): String {\n            return &quot;${date.get(Calendar.DATE)}-${date.get(Calendar.MONTH)+1}-${date.get(Calendar.YEAR)}&quot;\n        }\n\n}\n</code></pre>\n<p>I am adding build.gradle file also to make it more clear:</p>\n<p><strong>build.gradle(:project)</strong></p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    ext.gradle_version_stable = '2.3.2'\n    ext.gradle_version_preview = '3.0.0-alpha1'\n    ext.anko_version = '0.10.0'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle(:module)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.chandilsachin.diettracker&quot;\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n    ...\n    ...\n    // room persistence dependency \n    compile &quot;android.arch.persistence.room:runtime:1.0.0-alpha1&quot;\n    kapt &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;\n\n    testCompile 'junit:junit:4.12'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p>I think this is all, I did to make my code woking.</p>\n<p>Hope this helps someone else also.</p>\n"}, {"comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 1, "creation_date": 1496123923, "post_id": 44249968, "comment_id": 75517147, "body": "Java&#39;s annotation processor is apt and kotlin&#39;s is kapt. So if you are doing it for Java you have to use apt. I think your answer is not applicable here."}, {"owner": {"reputation": 11, "user_id": 5779018, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l1S14Xg7j3Q/AAAAAAAAAAI/AAAAAAAACYQ/xadj3YU8dKA/photo.jpg?sz=128", "display_name": "Mart&#237;n De Girolamo", "link": "https://stackoverflow.com/users/5779018/mart%c3%adn-de-girolamo"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496318321, "post_id": 44249968, "comment_id": 75618874, "body": "I made an observation on your code, you must to delete the line in KAPT I know my code is APT because is JAVA, Just tell to you my story with the same problem and how I solved it. so.... it&#39;s for you that point, not my code."}], "tags": [], "owner": {"reputation": 11, "user_id": 5779018, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l1S14Xg7j3Q/AAAAAAAAAAI/AAAAAAAACYQ/xadj3YU8dKA/photo.jpg?sz=128", "display_name": "Mart&#237;n De Girolamo", "link": "https://stackoverflow.com/users/5779018/mart%c3%adn-de-girolamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1496089958, "creation_date": 1496089958, "answer_id": 44249968, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin/44249968#44249968", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>I made an example similar using Java and used to have same problem and solution was add APT line apt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"</p>\n\n<p>without apply: apply plugin: 'kotlin-kapt'. Remove this line!!</p>\n\n<p>You have to clear project and rebuild it before run again and try uninstall existing app on phone or Virtual device.\nHope you help.</p>\n"}, {"tags": [], "owner": {"reputation": 1594, "user_id": 2722270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7upyx.png?s=128&g=1", "display_name": "li2", "link": "https://stackoverflow.com/users/2722270/li2"}, "is_accepted": false, "score": 0, "last_activity_date": 1534642991, "creation_date": 1534642991, "answer_id": 51913796, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin/51913796#51913796", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>I got the same issue when I try to migrate from Java to Kotlin:</p>\n\n<pre><code>RuntimeException: cannot find implementation for AppDatabase. AppDatabase_Impl does not exist\n</code></pre>\n\n<p>I tried all these answers in this question, none all them works, then I found an article: <a href=\"https://kotlinlang.org/docs/tutorials/android-frameworks.html\" rel=\"nofollow noreferrer\">Kotlinlang Tutorials - Android Frameworks Using Annotation Processing</a>:</p>\n\n<blockquote>\n  <p>In Kotlin you specify the dependencies in a similar to Java way using Kotlin Annotation processing tool (kapt) instead of annotationProcessor.</p>\n</blockquote>\n\n<p>Then I modified the build.gradle(Module:app) by changing all <code>annotationProcessor</code> to <code>kapt</code>, it works:</p>\n\n<pre><code>--- a/app/build.gradle\n+++ b/app/build.gradle\n@@ -2,6 +2,8 @@ apply plugin: 'com.android.application'\n\n apply plugin: 'kotlin-android'\n+apply plugin: 'kotlin-kapt'\n apply plugin: 'kotlin-android-extensions'\n\n android {\n     // Butter Knife\n     implementation \"com.jakewharton:butterknife:$butterknife_version\"\n-    annotationProcessor \"com.jakewharton:butterknife-compiler:$butterknife_version\"\n+    kapt \"com.jakewharton:butterknife-compiler:$butterknife_version\"\n\n     // Room\n     implementation \"android.arch.persistence.room:runtime:$arch_lifecycle_version\"\n-    annotationProcessor \"android.arch.persistence.room:compiler:$arch_lifecycle_version\"\n+    kapt \"android.arch.persistence.room:compiler:$arch_lifecycle_version\"\n     // LifeCycle\n     implementation \"android.arch.lifecycle:runtime:$arch_lifecycle_version\"\n     implementation \"android.arch.lifecycle:extensions:$arch_lifecycle_version\"\n     implementation \"android.arch.lifecycle:common-java8:$arch_lifecycle_version\"\n-    annotationProcessor \"android.arch.lifecycle:compiler:$arch_lifecycle_version\"\n+    kapt \"android.arch.lifecycle:compiler:$arch_lifecycle_version\"\n\n     // Dagger\n     implementation \"com.google.dagger:dagger:$dagger_version\"\n     implementation \"com.google.dagger:dagger-android-support:$dagger_version\"\n-    annotationProcessor \"com.google.dagger:dagger-compiler:$dagger_version\"\n-    annotationProcessor \"com.google.dagger:dagger-android-processor:$dagger_version\"\n+    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n+    kapt \"com.google.dagger:dagger-android-processor:$dagger_version\"\n}\n</code></pre>\n\n<p>If you use Butter Knife, you should also change to kapt, otherwise the views which are injected might be null.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 9700319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Eyal Israel", "link": "https://stackoverflow.com/users/9700319/eyal-israel"}, "is_accepted": false, "score": 0, "last_activity_date": 1565421621, "creation_date": 1565421621, "answer_id": 57440187, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin/57440187#57440187", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>in the Dao interface check that the annotations like @Query .. are imported from the room database class and not from somewhere else</p>\n"}], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11905, "favorite_count": 2, "accepted_answer_id": 44175259, "answer_count": 5, "score": 18, "last_activity_date": 1565421621, "creation_date": 1495565826, "last_edit_date": 1531296771, "question_id": 44142964, "link": "https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin", "title": "Room Persistence lib implementation in Kotlin", "body": "<p>I am implementing Room persistence lib in kotlin for my database implementation.</p>\n\n<p>Following are my <code>Entity</code>, <code>Dao</code> and <code>Database</code> classes:</p>\n\n<p><strong>Food.kt</strong></p>\n\n<pre><code>@Entity\nclass Food(@ColumnInfo(name = \"food_name\") var foodName: String,\n           @ColumnInfo(name = \"food_desc\") var foodDesc: String,\n           @ColumnInfo(name = \"protein\") var protein: Double,\n           @ColumnInfo(name = \"carbs\") var carbs: Double,\n           @ColumnInfo(name = \"fat\") var fat: Double)\n{\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n    @ColumnInfo(name = \"calories\")\n    var calories: Double = 0.toDouble()\n}\n</code></pre>\n\n<p><strong>PersonalizedFood.kt</strong></p>\n\n<pre><code>@Entity(primaryKeys = arrayOf(\"food_id\",\"date\"))\nclass PersonalizedFood(@ColumnInfo(name = \"quantity\") var quantity: Int,\n                       @ColumnInfo(name = \"unit\") var unit: String,\n                       @ColumnInfo(name = \"date\") var date: Date){\n\n    @ColumnInfo(name = \"food_id\")\n    var foodId:Long = 0\n}\n</code></pre>\n\n<p><strong>FoodDao.kt</strong></p>\n\n<pre><code>@Dao\ninterface FoodDao {\n\n    companion object{\n        const val ID = \"id\"\n        const val NAME = \"name\"\n        const val PROTEIN = \"protein\"\n        const val DESC = \"desc\"\n        const val CARBS = \"carbs\"\n        const val FAT = \"fat\"\n\n        const val DATE = \"date\"\n        const val FOOD_ID = \"food_id\"\n\n        const val ALL_FOOD_LIST = \"food\"\n        const val PERSONALISED_FOOD_LIST = \"personalised_food\"\n    }\n\n    /**\n     * Returns food details of a food given by food_id\n     */\n    @Query(\"SELECT * FROM $ALL_FOOD_LIST WHERE $ID=:food_id\")\n    fun getFoodDetails(food_id:Long):Food\n\n    /**\n     * Inserts food items in all_food_list\n     */\n    @Insert\n    fun addFoodList(list:ArrayList&lt;Food&gt;)\n\n    @Insert(onConflict = REPLACE)\n    fun saveFood(food:PersonalizedFood)\n\n    @Query(\"SELECT * FROM $PERSONALISED_FOOD_LIST WHERE $FOOD_ID=:foodId and $DATE=:date\")\n    fun getFood(foodId:Int, data:Date):PersonalizedFood\n\n    @Query(\"SELECT * FROM $ALL_FOOD_LIST where $ID in (select $FOOD_ID from $PERSONALISED_FOOD_LIST where $DATE = :date)\")\n    fun getFood(date:Date):ArrayList&lt;Food&gt;\n}\n</code></pre>\n\n<p><strong>Converter.kt</strong></p>\n\n<pre><code>class Converter {\n\n    companion object{\n        @TypeConverter\n        fun fromTimestamp(value: Long?): Date? {\n            return if (value == null) null else Date(value)\n        }\n\n        @TypeConverter\n        fun dateToTimestamp(date: Date): Long {\n            return date.time\n        }\n    }\n}\n</code></pre>\n\n<p><strong>FoodDatabase.kt</strong></p>\n\n<pre><code>@Database(entities = arrayOf(Food::class, PersonalizedFood::class), version = 1)\n@TypeConverters(Converter::class)\nabstract class FoodDatabase : RoomDatabase(){\n    abstract fun foodDao():FoodDao\n\n    companion object{\n        private val databaseName = \"diet\"\n\n        var dbInstance:FoodDao? = null\n        fun getInstance(context:Context):FoodDao?{\n            if(dbInstance == null)\n                dbInstance = Room.inMemoryDatabaseBuilder(context, FoodDatabase::class.java).build().foodDao()\n            return dbInstance;\n        }\n    }\n}\n</code></pre>\n\n<p>And when i run following code to create database:</p>\n\n<p><code>FoodDatabase.getInstance(baseContext)?.getFood(Calendar.getInstance().time)</code></p>\n\n<p>It gives me following exception:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.RuntimeException: cannot find implementation for\n  com.chandilsachin.diettracker.database.FoodDatabase. FoodDatabase_Impl\n  does not exist\n                                                                                         at\n  android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\n                                                                                         at\n  android.arch.persistence.room.RoomDatabase$Builder.build(RoomDatabase.java:340)\n                                                                                         at\n  com.chandilsachin.diettracker.database.FoodDatabase$Companion.getInstance(FoodDatabase.kt:21)\n                                                                                         at\n  com.chandilsachin.diettracker.MainActivity$SetUpFoodDatabase.doInBackground(MainActivity.kt:95)\n                                                                                         at\n  com.chandilsachin.diettracker.MainActivity$SetUpFoodDatabase.doInBackground(MainActivity.kt:77)\n                                                                                         at android.os.AsyncTask$2.call(AsyncTask.java:295)\n                                                                                         at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n                                                                                         at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\u00a0\n                                                                                         at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\u00a0\n                                                                                         at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\u00a0\n                                                                                         at java.lang.Thread.run(Thread.java:818)</p>\n</blockquote>\n\n<p>Has anyone implemented room persistence in kotlin?</p>\n\n<p><strong>Edited</strong>\nThis question was marked duplicate of <a href=\"https://stackoverflow.com/questions/44065371/android-room-persistences-library-and-kotlin\">this</a>. Though problem statement is same but solution given does not solve my problem. Solution says i have to add replace <code>annotationProcessor</code> to <code>kapt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"</code> dependency. I made those changes and it resulted in gradle error while project build.</p>\n\n<blockquote>\n  <p>Information:Gradle tasks [:app:assembleDebug] Warning:warning:\n  Supported source version 'RELEASE_7' from annotation processor\n  'android.arch.persistence.room.RoomProcessor' less than -source '1.8'\n  Warning:warning: The following options were not recognized by any\n  processor: '[kapt.kotlin.generated]'\n  /Users/BBI-M1025/Documents/BBI/Workspace_fun/Android/diet-tracker/app/src/main/java/com/chandilsachin/diettracker/database/Food.kt\n      Error:(1, 1) Some error(s) occurred while processing annotations. Please see the error messages above.\n      Error:Execution failed for task ':app:kaptDebugKotlin'.</p>\n  \n  <blockquote>\n    <p>Compilation error. See log for more details\n        Information:BUILD FAILED in 10s\n        Information:2 errors\n        Information:2 warnings\n        Information:See complete output in console</p>\n  </blockquote>\n</blockquote>\n\n<p>I am attaching my gradle file also:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.chandilsachin.diettracker\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.0.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-alpha8'\n    compile 'com.android.support:cardview-v7:25.0.1'\n    compile 'com.android.support:recyclerview-v7:25.0.1'\n    compile 'com.github.ne1c:rainbowmvp:1.2.1'\n    compile \"org.jetbrains.anko:anko-commons:0.10.0\"\n\n    /*annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n    compile \"android.arch.lifecycle:extensions:1.0.0-alpha1\"\n    annotationProcessor \"android.arch.lifecycle:compiler:1.0.0-alpha1\"*/\n\n    compile \"android.arch.persistence.room:runtime:1.0.0-alpha1\"\n    annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n    kapt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n\n    testCompile 'junit:junit:4.12'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>Has anyone come across this issue?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1908, "user_id": 4614197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9800026b39fcc10f3a6c7b530f1b4b02?s=128&d=identicon&r=PG", "display_name": "SolveSoul", "link": "https://stackoverflow.com/users/4614197/solvesoul"}, "edited": false, "score": 2, "creation_date": 1495606380, "post_id": 44143253, "comment_id": 75317609, "body": "That works, I thought compileKotlin was applied to all build variants but apparently not. Thanks!"}, {"owner": {"reputation": 3982, "user_id": 385138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SblpO.jpg?s=128&g=1", "display_name": "SIVAKUMAR.J", "link": "https://stackoverflow.com/users/385138/sivakumar-j"}, "edited": false, "score": 0, "creation_date": 1524480734, "post_id": 44143253, "comment_id": 86974531, "body": "in which file and where we need to put these lines"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 3982, "user_id": 385138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SblpO.jpg?s=128&g=1", "display_name": "SIVAKUMAR.J", "link": "https://stackoverflow.com/users/385138/sivakumar-j"}, "edited": false, "score": 1, "creation_date": 1524482366, "post_id": 44143253, "comment_id": 86975560, "body": "@SIVAKUMAR.J, you can put them in the <code>build.gradle</code> file of the project&#39;s modules. For example, in an Android project with a single module <code>app</code>, put them into <code>app&#47;build.gradle</code>. Just append them in the end of the file to make sure the Kotlin plugin has already been applied when they are reached."}, {"owner": {"reputation": 12042, "user_id": 1447885, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ecbf67a102659b602b939fa0a7b03a11?s=128&d=identicon&r=PG", "display_name": "Diolor", "link": "https://stackoverflow.com/users/1447885/diolor"}, "edited": false, "score": 1, "creation_date": 1549727759, "post_id": 44143253, "comment_id": 96010900, "body": "Should be <code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le::class)</code>"}, {"owner": {"reputation": 1694, "user_id": 2673386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc376861b2ff6f3088bb4c338df6126a?s=128&d=identicon&r=PG", "display_name": "EntangledLoops", "link": "https://stackoverflow.com/users/2673386/entangledloops"}, "reply_to_user": {"reputation": 12042, "user_id": 1447885, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ecbf67a102659b602b939fa0a7b03a11?s=128&d=identicon&r=PG", "display_name": "Diolor", "link": "https://stackoverflow.com/users/1447885/diolor"}, "edited": false, "score": 1, "creation_date": 1605473668, "post_id": 44143253, "comment_id": 114654836, "body": "@Diolor This is how I do it: <code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le&gt; { ... }</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 91, "last_activity_date": 1495992811, "last_edit_date": 1495992811, "creation_date": 1495566886, "answer_id": 44143253, "question_id": 44141076, "link": "https://stackoverflow.com/questions/44141076/compilekotlin-block-in-build-gradle-file-throws-error-could-not-find-method-com/44143253#44143253", "title": "compileKotlin block in build.gradle file throws error &quot;Could not find method compileKotlin() for arguments [...]&quot;", "body": "<p>The error you are getting means that there's no <code>compileKotlin</code> task in the project, and that's expected for Android projects.</p>\n\n<p>The Kotlin compilation task names in Android projects contain the <a href=\"https://developer.android.com/studio/build/build-variants.html\" rel=\"noreferrer\">build variant</a> names (those are combined from build type, product flavor and other settings and look like <code>debug</code> or <code>releaseUnitTest</code> -- the tasks are <code>compileDebugKotlin</code> and <code>compileReleaseUnitTestKotlin</code> respectively). There's no <code>compileKotlin</code> task, which is usually created for the <code>main</code> source set in ordinary Java + Kotlin projects.</p>\n\n<p>Most probably, you want to configure <em>all</em> Kotlin compilation tasks in the project, and to do that, you can apply the block as follows:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n        apiVersion = '1.1'\n        languageVersion = '1.1'\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 490, "user_id": 2659925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wLNh1.jpg?s=128&g=1", "display_name": "Skullper", "link": "https://stackoverflow.com/users/2659925/skullper"}, "edited": false, "score": 2, "creation_date": 1601446769, "post_id": 55418991, "comment_id": 113406848, "body": "The best answer!"}], "tags": [], "owner": {"reputation": 2340, "user_id": 3660290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3OdJq.png?s=128&g=1", "display_name": "G00fY", "link": "https://stackoverflow.com/users/3660290/g00fy"}, "is_accepted": false, "score": 41, "last_activity_date": 1557352782, "last_edit_date": 1557352782, "creation_date": 1553867701, "answer_id": 55418991, "question_id": 44141076, "link": "https://stackoverflow.com/questions/44141076/compilekotlin-block-in-build-gradle-file-throws-error-could-not-find-method-com/55418991#55418991", "title": "compileKotlin block in build.gradle file throws error &quot;Could not find method compileKotlin() for arguments [...]&quot;", "body": "<p>From the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/Module.md#kotlin-android\" rel=\"noreferrer\">kotlin-android documentation</a>:</p>\n\n<p>Android plugin also adds <em>kotlinOptions</em> extension to android section to set options for all kotlin tasks:</p>\n\n<pre><code>android {\n    kotlinOptions {\n        jvmTarget = '1.8'\n        noStdlib = true\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3977, "user_id": 328679, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/faa69ee3f2023087b65a8f42956056f3?s=128&d=identicon&r=PG", "display_name": "Chris Lacy", "link": "https://stackoverflow.com/users/328679/chris-lacy"}, "is_accepted": false, "score": 2, "last_activity_date": 1569987121, "creation_date": 1569987121, "answer_id": 58194848, "question_id": 44141076, "link": "https://stackoverflow.com/questions/44141076/compilekotlin-block-in-build-gradle-file-throws-error-could-not-find-method-com/58194848#58194848", "title": "compileKotlin block in build.gradle file throws error &quot;Could not find method compileKotlin() for arguments [...]&quot;", "body": "<p>Not a direct answer to the question, but Google led me to this answer when experiencing the same <code>compileKotlin block in build.gradle file throws error \u201cCould not find method compileKotlin() for arguments [\u2026]\u201d</code> error.</p>\n\n<p>In my case the problem was caused by importing a code module to my project that contained only Java code. The fix was to ensure the following is in the Java-specific module's <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"}], "owner": {"reputation": 1908, "user_id": 4614197, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9800026b39fcc10f3a6c7b530f1b4b02?s=128&d=identicon&r=PG", "display_name": "SolveSoul", "link": "https://stackoverflow.com/users/4614197/solvesoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20929, "favorite_count": 12, "accepted_answer_id": 44143253, "answer_count": 3, "score": 63, "last_activity_date": 1614730675, "creation_date": 1495559368, "question_id": 44141076, "link": "https://stackoverflow.com/questions/44141076/compilekotlin-block-in-build-gradle-file-throws-error-could-not-find-method-com", "title": "compileKotlin block in build.gradle file throws error &quot;Could not find method compileKotlin() for arguments [...]&quot;", "body": "<p>I'm trying to configure Kotlin to work with Java 1.8 in my Android project. I've tried adding the <code>compileKotlin</code> block at the bottom of my <code>build.gradle</code> file, but I get an error if I do so.</p>\n\n<p>The error that occurs is the following:</p>\n\n<blockquote>\n  <p>Error:(38, 0) Could not find method compileKotlin() for arguments\n  [build_dvcqiof5pov8xt8flfud06cm3$_run_closure4@66047120] on project\n  ':core' of type org.gradle.api.Project.</p>\n</blockquote>\n\n<p>The project runs fine without this block. What am I missing? Here's the complete <code>build.gradle</code> file, it's pretty basic stuff:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '25.0.2'\n\n\n    defaultConfig {\n        minSdkVersion 24\n        targetSdkVersion 25\n        versionCode 1\n        versionName '1.0.0'\n\n        testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.google.android.support:wearable:2.0.2'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ncompileKotlin {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n        apiVersion = '1.1'\n        languageVersion = '1.1'\n    }\n}\n</code></pre>\n"}, {"tags": ["conditional-statements", "kotlin", "tostring", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1495560368, "post_id": 44139440, "comment_id": 75300781, "body": "Good answer, but I think you switched around the if-test here. He wants to call <code>doSomethingWith</code> if the string-representation is <i>not</i> null."}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1495561010, "post_id": 44139440, "comment_id": 75301145, "body": "@marstran Correct - I only want to <i>do the thing</i> if I have a good String representation. (Good being non-null, and non-blank.)"}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1495561156, "post_id": 44139440, "comment_id": 75301219, "body": "@JaysonMinard Thank you for pointing out the <code>take*</code> extensions, those are perfect - I ended up doing something slightly different with <code>let</code> and those functions - I will add an answer."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1495561699, "post_id": 44139440, "comment_id": 75301525, "body": "@CraigOtis I updated my answer for the inverted logic."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 14, "last_activity_date": 1495563655, "last_edit_date": 1495563655, "creation_date": 1495554217, "answer_id": 44139440, "question_id": 44139193, "link": "https://stackoverflow.com/questions/44139193/kotlin-idiom-for-working-with-non-null-object-and-non-blank-string-representatio/44139440#44139440", "title": "Kotlin idiom for working with non-null object and non-blank String representation", "body": "<p>You can use the (since Kotlin 1.1) built-in stdlib <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/take-if.html\" rel=\"noreferrer\"><code>takeIf()</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"noreferrer\"><code>takeUnless</code></a> extensions, either works:</p>\n\n\n\n<pre><code>obj?.toString().takeUnless { it.isNullOrBlank() }?.let { doSomethingWith(it) }\n\n// or\n\nobj?.toString()?.takeIf { it.isNotBlank() }?.let { doSomethingWith(it) }\n\n// or use a function reference\n\nobj?.toString().takeUnless { it.isNullOrBlank() }?.let(::doSomethingWith)\n</code></pre>\n\n<p>For executing the action <code>doSomethingWith()</code> on the final value, you can use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\"><code>apply()</code></a> to work within the context of the current object and the return is the same object, or <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"noreferrer\"><code>let()</code></a> to change the result of the expression, or <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"noreferrer\"><code>run()</code></a> to work within the context of the current object and also change the result of the expression, or <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"noreferrer\"><code>also()</code></a> to execute code while returning the original object.</p>\n\n<p>You can also create your own extension function if you want the naming to be more meaningful, for example <code>nullIfBlank()</code> might be a good name:</p>\n\n<pre><code>obj?.toString().nullIfBlank()?.also { doSomethingWith(it) }\n</code></pre>\n\n<p>Which is defined as an extension to a nullable <code>String</code>:</p>\n\n<pre><code>fun String?.nullIfBlank(): String? = if (isNullOrBlank()) null else this\n</code></pre>\n\n<p>If we add one more extension:</p>\n\n<pre><code>fun &lt;R&gt; String.whenNotNullOrBlank(block: (String)-&gt;R): R? = this.nullIfBlank()?.let(block)\n</code></pre>\n\n<p>This allows the code to be simplified to:</p>\n\n<pre><code>obj?.toString()?.whenNotNullOrBlank { doSomethingWith(it) }\n\n// or with a function reference\n\nobj?.toString()?.whenNotNullOrBlank(::doSomethingWith)\n</code></pre>\n\n<p>You can always write extensions like this to improve readability of your code.</p>\n\n<p>Note:  Sometimes I used the <code>?.</code> null safe accessor and other times not.  This is because the predicat/lambdas of some of the functions work with nullable values, and others do not.  You can design these either way you want.  It's up to you!</p>\n\n<p>For more information on this topic, see:  <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">Idiomatic way to deal with nullables</a></p>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 2, "accepted_answer_id": 44139440, "answer_count": 1, "score": 9, "last_activity_date": 1495563655, "creation_date": 1495553523, "question_id": 44139193, "link": "https://stackoverflow.com/questions/44139193/kotlin-idiom-for-working-with-non-null-object-and-non-blank-string-representatio", "title": "Kotlin idiom for working with non-null object and non-blank String representation", "body": "<p>I have a nullable property (a Java object) that knows how to convert itself to a String, and if this representation is not empty, I would like to do something with it. In Java this looks like:</p>\n\n<pre><code>MyObject obj = ...\nif (obj != null) {\n    String representation = obj.toString();\n    if (!StringUtils.isBlank(representation)) {\n        doSomethingWith(representation);\n    }\n}\n</code></pre>\n\n<p>I'm trying to find the most idiomatic way of converting this to Kotlin, and I have:</p>\n\n<pre><code>    with(obj?.toString()) {\n        if (!isNullOrBlank()) {\n            doSomethingWith(representation)\n        }\n    }\n</code></pre>\n\n<p>But it still feels like too much work for such a simple operation. I have this feeling that combining <code>let</code>, <code>when</code>, and <code>with</code> I can slim this down to something a bit shorter.</p>\n\n<p>The steps are:</p>\n\n<ol>\n<li>If the object (A) is not null</li>\n<li>If the String representation (B) of object (A) is not blank</li>\n<li>Do something with (B)</li>\n</ol>\n\n<p>I tried:</p>\n\n<pre><code>    when(where?.toString()) {\n        isNullOrBlank() -&gt; builder.append(this)\n    }\n</code></pre>\n\n<p>But (1) it fails with:</p>\n\n<pre><code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: @InlineOnly public inline fun \n CharSequence?.isNullOrBlank(): Boolean defined in kotlin.text @InlineOnly public inline fun CharSequence?.isNullOrBlank(): Boolean defined in \n kotlin.text\n</code></pre>\n\n<p>And even if it got past that, (2) it would want the exhaustive <code>else</code>, which I don't really care to include.</p>\n\n<p><strong>What's the \"Kotlin way\" here?</strong></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 6172439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-CxqVQmCHN3g/AAAAAAAAAAI/AAAAAAAAALQ/7XuHGKnsMQ0/photo.jpg?sz=128", "display_name": "Darshan Miskin", "link": "https://stackoverflow.com/users/6172439/darshan-miskin"}, "edited": false, "score": 0, "creation_date": 1495551430, "post_id": 44138179, "comment_id": 75295089, "body": "that&#39;s helpful, trying to create an adapter for listview like <code>var listadapter=ListAdapter(this)</code> doesn&#39;t work though."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 1, "creation_date": 1495551814, "post_id": 44138179, "comment_id": 75295439, "body": "The Kotlin syntax is good, that would call the constructor. However, ListAdapter is an <i>interface</i> so it has no constructor and cannot be instantiated. You can only create a concrete subclass that implements ListAdapter. Tip: Make an adapter class that extends BaseAdapter (which implements ListAdapter). Though, this has nothing to do with Kotlin, it is just the regular (java) Android sdk."}, {"owner": {"reputation": 789, "user_id": 6172439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-CxqVQmCHN3g/AAAAAAAAAAI/AAAAAAAAALQ/7XuHGKnsMQ0/photo.jpg?sz=128", "display_name": "Darshan Miskin", "link": "https://stackoverflow.com/users/6172439/darshan-miskin"}, "edited": false, "score": 0, "creation_date": 1495561986, "post_id": 44138179, "comment_id": 75301713, "body": "I am very well versed with android java.. its kotlin syntax that i am experimenting with. Btw thanks for the official document\u200bation link. :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1495551016, "creation_date": 1495551016, "answer_id": 44138179, "question_id": 44138142, "link": "https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin/44138179#44138179", "title": "Dynamically create controls in android using Kotlin", "body": "<p>You can, by calling the constructor of <code>TextView</code>, like so:</p>\n\n<pre><code>var textview = TextView(this) // \"this\" being the Activity\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/classes.html#creating-instances-of-classes\" rel=\"noreferrer\">creating instances</a> in the official documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495603156, "creation_date": 1495603156, "answer_id": 44149551, "question_id": 44138142, "link": "https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin/44149551#44149551", "title": "Dynamically create controls in android using Kotlin", "body": "<p>To create a textview dynamically, you have to call the constructor of textview and store it in a variable like this:</p>\n\n<pre><code>var myTextview = TextView(this);\n</code></pre>\n\n<p>You have to write this code in an activity or a fragment because <code>this</code> will represent an activity or a fragment.</p>\n\n<p>Then use textview's all the methods like: setText();</p>\n\n<pre><code>myTextview.setText(\"Hello\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 5930702, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/218149981866515/picture?type=large", "display_name": "Seanghay", "link": "https://stackoverflow.com/users/5930702/seanghay"}, "is_accepted": false, "score": 0, "last_activity_date": 1495604290, "creation_date": 1495604290, "answer_id": 44149810, "question_id": 44138142, "link": "https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin/44149810#44149810", "title": "Dynamically create controls in android using Kotlin", "body": "<p>You can also use \n<code>var myTextView: TextView? = TextView(this)</code>\nTo assign text to TextView\n<code>myTextView?.setText(\"Hello\")</code></p>\n\n<p>But myTextView variable cannot be null.</p>\n"}], "owner": {"reputation": 789, "user_id": 6172439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-CxqVQmCHN3g/AAAAAAAAAAI/AAAAAAAAALQ/7XuHGKnsMQ0/photo.jpg?sz=128", "display_name": "Darshan Miskin", "link": "https://stackoverflow.com/users/6172439/darshan-miskin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 1, "accepted_answer_id": 44138179, "answer_count": 3, "score": 1, "last_activity_date": 1522996524, "creation_date": 1495550943, "last_edit_date": 1495633408, "question_id": 44138142, "link": "https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin", "title": "Dynamically create controls in android using Kotlin", "body": "<p>Using java, to create a control dynamically we use something like\n<code>TextView textview=new TextView(getApplicationContext());</code> </p>\n\n<p>how can the same be done in Kotlin? <code>var textview = TextView</code> \ndoes't work, nor does <code>var textview as TextView</code></p>\n\n<p>unfortunately, haven't even encountered any good kotlin tutorials for android.</p>\n\n<p>update-Actually am trying to create dynamic listview with a custom layout.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495549142, "post_id": 44137247, "comment_id": 75293293, "body": "Kotlin has nothing to do with this question, you can use the same methods as you&#39;d use in Java. Here&#39;s something from the official dev site, for example: <a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/fragments/&hellip;</a>"}, {"owner": {"reputation": 4979, "user_id": 670623, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fa40acfdb9af9fea937524a5aef4aaf3?s=128&d=identicon&r=PG", "display_name": "akhy", "link": "https://stackoverflow.com/users/670623/akhy"}, "edited": false, "score": 1, "creation_date": 1495549157, "post_id": 44137247, "comment_id": 75293308, "body": "there&#39;s no real difference other than different language (java vs kotlin)"}, {"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1495549650, "post_id": 44137247, "comment_id": 75293680, "body": "I just want to know the syntax that how can I implement the interface in activity as we do in Java."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495549785, "post_id": 44137247, "comment_id": 75293761, "body": "Try the official Kotlin docs for that: <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/interfaces.html</a>"}, {"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495549985, "post_id": 44137247, "comment_id": 75293916, "body": "Ok Thanks @zsmb13"}], "answers": [{"comments": [{"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1495549885, "post_id": 44137493, "comment_id": 75293835, "body": "Can you give a syntax demo?, I know the communication in Java but not in Kotlin."}, {"owner": {"reputation": 85, "user_id": 4604751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d567e6931d14d92da8307a252937fe4?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiy Korotun", "link": "https://stackoverflow.com/users/4604751/sergiy-korotun"}, "reply_to_user": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1495550113, "post_id": 44137493, "comment_id": 75294016, "body": "@AmirRaza, just copy and paste your java code to kotlin&#39;s file and the android studio will convert the code for you"}], "tags": [], "owner": {"reputation": 85, "user_id": 4604751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d567e6931d14d92da8307a252937fe4?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiy Korotun", "link": "https://stackoverflow.com/users/4604751/sergiy-korotun"}, "is_accepted": false, "score": 1, "last_activity_date": 1495549381, "creation_date": 1495549381, "answer_id": 44137493, "question_id": 44137247, "link": "https://stackoverflow.com/questions/44137247/communication-between-activity-and-fragment-in-kotlin/44137493#44137493", "title": "Communication between Activity and Fragment in Kotlin", "body": "<p>As the same as in Java. Kotlin is just a language. For communication you can use some interface or <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html#sharing_data_between_fragments\" rel=\"nofollow noreferrer\">SharedViewModel</a> like in new architecture components</p>\n"}, {"comments": [{"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1496133791, "post_id": 44138128, "comment_id": 75522967, "body": "I just wanted to know the syntax what we do in Java. Thanks for your answer and for this sample"}, {"owner": {"reputation": 746, "user_id": 1496693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WB16i.jpg?s=128&g=1", "display_name": "airowe", "link": "https://stackoverflow.com/users/1496693/airowe"}, "edited": false, "score": 0, "creation_date": 1505849323, "post_id": 44138128, "comment_id": 79578683, "body": "Man, I wish that ViewModel was out of alpha state. Looks promising"}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1505886032, "post_id": 44138128, "comment_id": 79589644, "body": "It is now out of alpha state. Check out at developer.android.com/arch"}], "tags": [], "owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1495550916, "creation_date": 1495550916, "answer_id": 44138128, "question_id": 44137247, "link": "https://stackoverflow.com/questions/44137247/communication-between-activity-and-fragment-in-kotlin/44138128#44138128", "title": "Communication between Activity and Fragment in Kotlin", "body": "<p>As @SergiyKorotun suggested. Kotlin is just a language it doesn't change the fundamentals of Android.\nYou should take a look at <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">ViewModel</a> added by Android Team which can help you achieve communication between <code>Activity</code> and <code>Fragment</code>.</p>\n\n<p>I even made a sample application to help understand <code>ViewModel</code> and <code>LiveData</code>. The application is written in Kotlin.\n<a href=\"https://github.com/AkshayChordiya/android-arch-news-sample\" rel=\"nofollow noreferrer\">Android Architecture News App Sample</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7892395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36ad8dae0c980daeb3f616d7003ae2dc?s=128&d=identicon&r=PG&f=1", "display_name": "TheMasterDoge", "link": "https://stackoverflow.com/users/7892395/themasterdoge"}, "is_accepted": false, "score": 0, "last_activity_date": 1553291198, "last_edit_date": 1553291198, "creation_date": 1551579765, "answer_id": 54965011, "question_id": 44137247, "link": "https://stackoverflow.com/questions/44137247/communication-between-activity-and-fragment-in-kotlin/54965011#54965011", "title": "Communication between Activity and Fragment in Kotlin", "body": "<p>A Fragment and a activity can communicate through global variables. But I recommend them communicating through a shared View Object value, so other fragments may modify it. In Kotlin you may use </p>\n\n<pre><code>ExampleFrament.newInstance().view \n</code></pre>\n\n<p>inside the scope of the <code>MainActivity()</code> so other helper functions may access that view.</p>\n"}], "owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3369, "favorite_count": 0, "closed_date": 1551581491, "answer_count": 3, "score": -6, "last_activity_date": 1553291198, "creation_date": 1495548793, "question_id": 44137247, "link": "https://stackoverflow.com/questions/44137247/communication-between-activity-and-fragment-in-kotlin", "closed_reason": "Needs more focus", "title": "Communication between Activity and Fragment in Kotlin", "body": "<p>As google announced the Kotlin as an official language for Android development, I am trying to build an app using Kotlin. </p>\n\n<p><strong>Question: How can I communicate between activity and fragment using Kotlin?</strong></p>\n\n<p>Thanks!.</p>\n"}, {"tags": ["java", "android", "generics", "kotlin", "mvp"], "answers": [{"tags": [], "owner": {"reputation": 94, "user_id": 7804236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d144c926ed990c8945952cfc75836f?s=128&d=identicon&r=PG&f=1", "display_name": "Mukund Desai", "link": "https://stackoverflow.com/users/7804236/mukund-desai"}, "is_accepted": false, "score": 1, "last_activity_date": 1495566758, "creation_date": 1495566758, "answer_id": 44143212, "question_id": 44137129, "link": "https://stackoverflow.com/questions/44137129/kotlin-generic-casting-to-a-more-specific-subclass/44143212#44143212", "title": "Kotlin generic casting to a more specific subclass", "body": "<p>As per my understanding of your question, you could do it like this,</p>\n\n<pre><code>override fun &lt;P: BaseContract.Presenter&gt; getPresenter(): P {\n    return mPresenter\n}\n</code></pre>\n\n<p>Where mPresenter could be instance of Any Presenter extending <code>BaseContract.Presenter</code> class</p>\n"}], "owner": {"reputation": 764, "user_id": 4604129, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-X1goH9Z7dcM/AAAAAAAAAAI/AAAAAAAAAKg/CetuzYiyGNA/photo.jpg?sz=128", "display_name": "Stampede10343", "link": "https://stackoverflow.com/users/4604129/stampede10343"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495566758, "creation_date": 1495548493, "question_id": 44137129, "link": "https://stackoverflow.com/questions/44137129/kotlin-generic-casting-to-a-more-specific-subclass", "title": "Kotlin generic casting to a more specific subclass", "body": "<p>So I'm trying to mess with Kotlin and I have an old java MVP framework with sort of poor generics in java where we had to cast a generic interface to a more specific one, like \n<code>public &lt;P extends BaseContract.Presenter&gt; P getPresenter()</code></p>\n\n<p>Which we would cast in a subclass as</p>\n\n<pre><code>@Override\npublic AdvertisementContract.Presenter getPresenter()\n{\n    return (AdvertisementContract.Presenter)super.getPresenter();\n}\n</code></pre>\n\n<p>In Kotlin I'm going for this:</p>\n\n<pre><code>override fun getPresenter(): AdvertisementContract.Presenter\n{\n    return super.getPresenter() as AdvertisementContract.Presenter\n}\n</code></pre>\n\n<p>Is there anything I can do without fixing the generics in the base interface?</p>\n"}, {"tags": ["java", "maven", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2098, "user_id": 3066295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ccdcfa01f25dc7356ff110ddafef05?s=128&d=identicon&r=PG", "display_name": "TT--", "link": "https://stackoverflow.com/users/3066295/tt"}, "is_accepted": false, "score": 0, "last_activity_date": 1548041204, "last_edit_date": 1548041204, "creation_date": 1547923408, "answer_id": 54270252, "question_id": 44135614, "link": "https://stackoverflow.com/questions/44135614/maven-publish-gradle-plugin-skips-the-version/54270252#54270252", "title": "Maven-publish gradle plugin skips the version", "body": "<p>I found a similar problem while using the <code>maven-publish</code> plugin:</p>\n\n<p>I was trying to set the repository <code>URL</code> depending on project version as described in the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:snapshot_and_release_repositories\" rel=\"nofollow noreferrer\">gradle docs here</a> and <a href=\"https://stackoverflow.com/a/21760035/3066295\">this answer</a>.</p>\n\n<p>But I found the <code>version</code> always resolved to (as in the question) as the default (un-set) value: <strong><code>unspecified</code></strong>.</p>\n\n<blockquote>\n  <p><em>So I guess those documentation examples are for a project's <code>build.gradle</code> and not a general <code>gradle</code> script.</em></p>\n</blockquote>\n\n<p>Anyway, I believe the problem is due to the <em>timing of the execution</em> of the blocks in the <code>gradle</code> script. The <code>project.version</code> could not be accessed where I wanted it.  So I ended up passing a parameter to the <code>gradlew</code> command with the <code>-Pparameter</code> flag.</p>\n\n<blockquote>\n  <p>Gradle has a <code>configuration</code> and then an <code>execution</code> stage.</p>\n  \n  <p>Refer to documentation: </p>\n  \n  <ul>\n  <li><a href=\"https://docs.gradle.org/current/userguide/build_lifecycle.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_lifecycle.html</a></li>\n  <li><p><a href=\"https://www.oreilly.com/library/view/gradle-beyond-the/9781449373801/ch03.html\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/gradle-beyond-the/9781449373801/ch03.html</a></p></li>\n  <li><p>and an apparently similar problem, <a href=\"https://discuss.gradle.org/t/maven-publication-closure-is-evaluated-too-early/19911\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/maven-publication-closure-is-evaluated-too-early/19911</a></p></li>\n  </ul>\n</blockquote>\n\n<p>About your problem, it may be the same as I have described, or perhaps the reason is simpler:</p>\n\n<ul>\n<li>Looking at the structure of your <code>gradle</code> file, it does not appear to match the hierarchy specified in the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">maven-publish documentation</a>.  In particular, <code>repositories {}</code> block should be at the same level as <code>publications {}</code>, not inside of it.</li>\n</ul>\n\n<p>Possibly related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46393179/gradle-maven-publish-plugin-config-has-reference-to-dynamically-created-gradle-t\">Gradle maven publish plugin config has reference to dynamically created gradle task</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45253553/gradle-shouldrunafter-not-available-for-a-task\">Gradle shouldRunAfter not available for a task</a></li>\n</ul>\n"}], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548041204, "creation_date": 1495544401, "question_id": 44135614, "link": "https://stackoverflow.com/questions/44135614/maven-publish-gradle-plugin-skips-the-version", "title": "Maven-publish gradle plugin skips the version", "body": "<p>I have gradle multi-module project configured with kotlin-script. I'd like to add publishing to maven repository and I found <code>maven-publish</code> plugin for it. But it seems to skip the version configured for each project:</p>\n\n<p><code>MyProject/build.gradle.kts</code>:</p>\n\n<pre><code>subprojects {\n    apply {\n        plugin(\"maven-publish\")\n    }\n    configure&lt;PublishingExtension&gt;() {\n        publications {\n            repositories { ... }\n            create&lt;MavenPublication&gt;(\"myPublication\") {\n                from(components.getByName(\"java\"))\n                logger.lifecycle(\"test: ${project.group} ${project.name} ${project.version}\")\n            }\n        }\n</code></pre>\n\n<p><code>MyProject/subproject1/build.gradle.kts</code>:</p>\n\n<pre><code>version = \"1.0.0-SNAPSHOT\"\n</code></pre>\n\n<p><code>gradle publish</code> output:</p>\n\n<pre><code>test: my.project subproject1 unspecified\nartifact file does not exist: '.../MyProject/subproject1/build/libs/subproject1.jar'\n</code></pre>\n\n<p>File <code>subproject1.jar</code> doesn't exist, but <code>subproject1-1.0.0-SNAPSHOT.jar</code> does. How to make gradle get the correct version of module?</p>\n"}, {"tags": ["kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 2, "last_activity_date": 1495544735, "creation_date": 1495544735, "answer_id": 44135725, "question_id": 44135430, "link": "https://stackoverflow.com/questions/44135430/kotlin-dagger-2-cannot-provide-interactor/44135725#44135725", "title": "Kotlin Dagger 2 cannot provide Interactor", "body": "<p>There is no <code>UsersInteractor</code> known to Dagger since you only provide <code>IUsersInteractor</code>.</p>\n\n<p>Switch your presenter provider method to use <code>IUsersInteractor</code> and it should work</p>\n\n<pre><code>fun provideUsersPresenter(usersInteractor: IUsersInteractor)\n</code></pre>\n"}], "owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 44135725, "answer_count": 1, "score": 0, "last_activity_date": 1495544735, "creation_date": 1495543962, "question_id": 44135430, "link": "https://stackoverflow.com/questions/44135430/kotlin-dagger-2-cannot-provide-interactor", "title": "Kotlin Dagger 2 cannot provide Interactor", "body": "<p>I've started using Dagger 2 and faced strange issue.\nI have 4 modules, 3 of them in ApplicationComponent and the other one has different Scope (UsersScope). </p>\n\n<p>Problem with injecting <code>UsersInteractor</code> into <code>UsersPresenter</code></p>\n\n<blockquote>\n  <p>Error:[BlankFragment)] com.interactors.UsersInteractor cannot be provided without an @Inject constructor or from an @Provides-annotated method.</p>\n</blockquote>\n\n<p>Here is my classes</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ApplicationModule::class, NetworkModule::class, DbModule::class))\ninterface ApplicationComponent {\n    fun plusUsersComponent(usersModule: UsersModule): UsersComponent\n}\n\n\n@Module\nclass ApplicationModule(private val context: Context) {\n@Provides\n@Singleton\n    fun provideContext(): Context = context\n}\n\n@Subcomponent(modules = arrayOf(UsersModule::class))\n@UsersScope\ninterface UsersComponent {\n    fun inject(blankFragment: BlankFragment)\n}\n\n@Module\nclass UsersModule {\n\n@Provides\n@UsersScope\nfun provideUsersRepository(restService: RestService, dbService: DbService): IUsersRepository =\n    UsersRepository(restService, dbService)\n\n@Provides\n@UsersScope\nfun provideUsersInteractor(usersRepository: UsersRepository): IUsersInteractor =\n    UsersInteractor(usersRepository)\n\n@Provides\n@UsersScope\nfun provideUsersPresenter(usersInteractor: UsersInteractor): IUsersPresenter =\n    UsersPresenter(usersInteractor)\n}\n\n@Scope\n@Retention(AnnotationRetention.RUNTIME)\nannotation class UsersScope\n</code></pre>\n"}, {"tags": ["java", "android", "memory-leaks", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 4, "creation_date": 1495542554, "post_id": 44134811, "comment_id": 75288158, "body": "<i>in java it is a bad practice</i> no ... it is related to Android not java ... which implicates that it is also bad in Kotlin ..."}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1495542701, "post_id": 44134811, "comment_id": 75288258, "body": "also there are different Contexts ... Application, Activity, Service ... storing Application&#39;s Context is &quot;less bad&quot;(you can do it better but there should be no Context leaks) than storing Activity or Service context"}, {"owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1495542793, "post_id": 44134811, "comment_id": 75288316, "body": "Yeah, my bad. Changed it to Android."}], "answers": [{"comments": [{"owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "edited": false, "score": 0, "creation_date": 1495542901, "post_id": 44134948, "comment_id": 75288393, "body": "But why there is no warning then?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1495542980, "post_id": 44134948, "comment_id": 75288454, "body": "Because google forgot or it is hard to find such situation with Kotlin&#39;s &quot;object&quot;... feel free to fill bug report"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495543195, "post_id": 44134948, "comment_id": 75288614, "body": "Indeed, they probably just haven&#39;t added this lint check for Kotlin <code>object</code>s yet."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1495543707, "last_edit_date": 1495543707, "creation_date": 1495542747, "answer_id": 44134948, "question_id": 44134811, "link": "https://stackoverflow.com/questions/44134811/android-class-with-context-in-object-field-in-kotlin/44134948#44134948", "title": "Android class with context in object field in Kotlin", "body": "<p>Since <code>object</code>s are singletons, they have a single static instance. So if you give them a <code>context</code> property, you're still storing a <code>Context</code> in a static way. </p>\n\n<p>This will have the exact same consequences as putting a <code>Context</code> in a static field in Java. </p>\n\n<hr>\n\n<p>If you write the equivalent code that Kotlin generates for an <code>object</code> in Java, it will actually result in the proper lint errors:</p>\n\n<pre><code>public class Example {\n\n    // Do not place Android context classes in static fields; this is a memory leak \n    // (and also breaks Instant Run)\n    public static Context context;\n\n    // Do not place Android context classes in static fields (static reference to \n    // Example which has field context pointing to Context); this is a memory leak \n    // (and also breaks Instant Run)\n    public static Example INSTANCE;\n\n    private Example() { INSTANCE = this; }\n\n    static { new Example(); }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 1, "last_activity_date": 1495612514, "creation_date": 1495612514, "answer_id": 44152294, "question_id": 44134811, "link": "https://stackoverflow.com/questions/44134811/android-class-with-context-in-object-field-in-kotlin/44152294#44152294", "title": "Android class with context in object field in Kotlin", "body": "<p>The reason you are not getting any warning is <strong>because</strong> the android studio <strong>does not have mature lint check rules</strong> for Kotlin being used for android. Once <code>toolkit team</code> updates their <code>lint check rules</code> for kotlin with android, the warning will appear again. </p>\n"}], "owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7202, "favorite_count": 0, "accepted_answer_id": 44134948, "answer_count": 2, "score": 6, "last_activity_date": 1495612514, "creation_date": 1495542413, "last_edit_date": 1495542739, "question_id": 44134811, "link": "https://stackoverflow.com/questions/44134811/android-class-with-context-in-object-field-in-kotlin", "title": "Android class with context in object field in Kotlin", "body": "<p>Is it ok to have a property in object class in Kotlin that has a context in it? In Android it is a bad practice to put context related objects in static fields. Android studio even highlights it and gives a warning unlike Kotlin where there is no warning.\nExample object:</p>\n\n<pre><code>object Example {\n    lateinit var context: Context\n\n    fun doStuff(){\n        //..work with context\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495539459, "post_id": 44133672, "comment_id": 75285905, "body": "What exactly do you mean by &quot;refactor&quot;? Which specific refactoring did you use?"}, {"owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495539634, "post_id": 44133672, "comment_id": 75286050, "body": "Updated the question"}, {"owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495541140, "post_id": 44133672, "comment_id": 75287170, "body": "Just to make sure everything is clear, I added an image of what happened just now"}, {"owner": {"reputation": 1734, "user_id": 2606342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ogUXw.jpg?s=128&g=1", "display_name": "Akbar Sha Ebrahim", "link": "https://stackoverflow.com/users/2606342/akbar-sha-ebrahim"}, "edited": false, "score": 0, "creation_date": 1495541160, "post_id": 44133672, "comment_id": 75287187, "body": "Just delete the package reference(i.e highlight yellow)in for each access class. You should get the top level imports automatically."}, {"owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "edited": false, "score": 0, "creation_date": 1495541320, "post_id": 44133672, "comment_id": 75287296, "body": "Yeah, but I have to do that manually all the time, and this feature works perfectly with Java, there has to be a way for it to work with koltin"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1495749258, "post_id": 44133672, "comment_id": 75394711, "body": "Looks like you should be reporting a bug, rather than asking a question.  Did you report this to the issue tracker (probably Jetbrains YouTrack)?"}, {"owner": {"reputation": 2165, "user_id": 3103093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVlNj.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/3103093/tin-tran"}, "edited": false, "score": 0, "creation_date": 1496241399, "post_id": 44133672, "comment_id": 75582100, "body": "Are u using Refactor &gt; Move ?"}, {"owner": {"reputation": 2165, "user_id": 3103093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVlNj.jpg?s=128&g=1", "display_name": "Tin Tran", "link": "https://stackoverflow.com/users/3103093/tin-tran"}, "edited": false, "score": 0, "creation_date": 1496298881, "post_id": 44133672, "comment_id": 75605464, "body": "As of AS 3.0 Canary 2, I can not reproduce this. Your AS version is the same as mine ?"}], "answers": [{"comments": [{"owner": {"reputation": 2252, "user_id": 2497382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1cd9904e89eb7e846b3f6ca1d7cb0c6c?s=128&d=identicon&r=PG", "display_name": "Pedro Polonia", "link": "https://stackoverflow.com/users/2497382/pedro-polonia"}, "edited": false, "score": 0, "creation_date": 1496310241, "post_id": 44134639, "comment_id": 75613223, "body": "Aleksei have &quot;Kotlin Developer at JetBrains&quot; in his profile :)"}, {"owner": {"reputation": 685, "user_id": 5704677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec9d1ecdc8cc1143e3f1c75fa0dd4e8?s=128&d=identicon&r=PG", "display_name": "P&#228;r Nils Amsen", "link": "https://stackoverflow.com/users/5704677/p%c3%a4r-nils-amsen"}, "edited": false, "score": 0, "creation_date": 1501272185, "post_id": 44134639, "comment_id": 77724671, "body": "Well, it&#39;s not fixed because I still have this exact problem on the latest release as well :/"}], "tags": [], "owner": {"reputation": 21, "user_id": 8053443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58306e5dbe74abb481d8b32304b9fb29?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksei Sedunov", "link": "https://stackoverflow.com/users/8053443/aleksei-sedunov"}, "is_accepted": false, "score": 2, "last_activity_date": 1495541943, "creation_date": 1495541943, "answer_id": 44134639, "question_id": 44133672, "link": "https://stackoverflow.com/questions/44133672/android-studio-3-0-preview-missing-imports-when-refactoring-kotlin-code/44134639#44134639", "title": "Android Studio 3.0 Preview Missing Imports when refactoring Kotlin code", "body": "<p>This is very similar to bug which was fixed not long ago. The relevant changes weren't included to the Kotlin plugin bundled with a As3.0 preview yet. But they will be available in the next plugin update.</p>\n"}, {"comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1498519116, "post_id": 44268197, "comment_id": 76520907, "body": "This is fixed with version 1.1.3 of the Kotlin plugin."}, {"owner": {"reputation": 685, "user_id": 5704677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec9d1ecdc8cc1143e3f1c75fa0dd4e8?s=128&d=identicon&r=PG", "display_name": "P&#228;r Nils Amsen", "link": "https://stackoverflow.com/users/5704677/p%c3%a4r-nils-amsen"}, "edited": false, "score": 0, "creation_date": 1501272245, "post_id": 44268197, "comment_id": 77724684, "body": "Nope I still experience this on <code>1.1.3-2</code>"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 685, "user_id": 5704677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec9d1ecdc8cc1143e3f1c75fa0dd4e8?s=128&d=identicon&r=PG", "display_name": "P&#228;r Nils Amsen", "link": "https://stackoverflow.com/users/5704677/p%c3%a4r-nils-amsen"}, "edited": false, "score": 0, "creation_date": 1501325228, "post_id": 44268197, "comment_id": 77737315, "body": "@P&#228;rNilsAmsen I&#39;ve just tried it myself, and the issue in the YouTrack ticket is fixed in Kotlin plugin 1.1.3-release-IJ2017.2-2. I use IntelliJ, so I&#39;m not sure when the fix will make it into Android Studio. Maybe the issue you are experiencing is subtly different (did you try the steps in the ticket)? Have you got some steps to reproduce it?"}], "tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": false, "score": 0, "last_activity_date": 1496164462, "creation_date": 1496164462, "answer_id": 44268197, "question_id": 44133672, "link": "https://stackoverflow.com/questions/44133672/android-studio-3-0-preview-missing-imports-when-refactoring-kotlin-code/44268197#44268197", "title": "Android Studio 3.0 Preview Missing Imports when refactoring Kotlin code", "body": "<p>It looks like it might be a bug - I managed to recreate the issue in IntelliJ and created this bug report: <a href=\"https://youtrack.jetbrains.com/issue/KT-18205\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-18205</a></p>\n"}, {"tags": [], "owner": {"reputation": 646, "user_id": 6416203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FnWdg.png?s=128&g=1", "display_name": "AlphaQ", "link": "https://stackoverflow.com/users/6416203/alphaq"}, "is_accepted": false, "score": 1, "last_activity_date": 1496319520, "last_edit_date": 1592644375, "creation_date": 1496319520, "answer_id": 44307360, "question_id": 44133672, "link": "https://stackoverflow.com/questions/44133672/android-studio-3-0-preview-missing-imports-when-refactoring-kotlin-code/44307360#44307360", "title": "Android Studio 3.0 Preview Missing Imports when refactoring Kotlin code", "body": "<p>Tad late to join the party, but, anyway. Kotlin is a relatively newer language (in terms of it being official for Android, hardly a month ago), so development is at full pace at JetBrains. And, the Android Studio version(3.0) is not a stable release, so here are all the known issues of Kotlin with Android Studio. Check these issues <a href=\"https://developer.android.com/studio/preview/kotlin-issues.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There it clearly says:</p>\n<blockquote>\n<p><strong>Some refactorings not available with Kotlin</strong></p>\n<p>Not all code refactorings works with Kotlin, especially those for Android. For example, code refactoring to modularize Kotlin cude currently does not work with Kotlin.</p>\n</blockquote>\n<p>The Java friendly Android Studio is not acquainted with the inline functionalities of Kotlin. Since, this is a new inclusion in Kotlin, it makes code more readable (really?) but not so <em>programmer-friendly</em>, per se.</p>\n<p>Having said that, right now there is hardly any source (checked a few, others are welcome) confirming that your problem is an <em>issue</em> or an improvement of Kotlin over Java (again highly debatable) since <code>inline</code>-ing was meant to be an improved functionality.</p>\n<p>Now, it's about time that this <em>feature</em> is addressed to with an <em><strong>official</strong></em> tag.</p>\n"}, {"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 0, "last_activity_date": 1497001796, "last_edit_date": 1497001796, "creation_date": 1497001421, "answer_id": 44454511, "question_id": 44133672, "link": "https://stackoverflow.com/questions/44133672/android-studio-3-0-preview-missing-imports-when-refactoring-kotlin-code/44454511#44454511", "title": "Android Studio 3.0 Preview Missing Imports when refactoring Kotlin code", "body": "<p>It seems this \"refactoring\" happens after the file was moved and the package updated.</p>\n\n<p>As a workaround until the IDE / Plugin bug gets fixed you can do the following:</p>\n\n<p>After moving your file (refactoring) right click the file,</p>\n\n<ol>\n<li>Select Local History &rarr; Show History</li>\n<li>Select the previous revision where it removed all the imports</li>\n<li>Select revert</li>\n</ol>\n\n<p>Make sure to double check the result, you know should have the properly moved/refactored version.</p>\n\n<hr>\n\n<p>Occasionally this does not seem to work, but you can then try to Undo (Move) and move it again.</p>\n\n<p><em>Tested on AS 3.0 Canary 3</em></p>\n"}], "owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 0, "answer_count": 4, "score": 15, "last_activity_date": 1497001796, "creation_date": 1495539241, "last_edit_date": 1496244681, "question_id": 44133672, "link": "https://stackoverflow.com/questions/44133672/android-studio-3-0-preview-missing-imports-when-refactoring-kotlin-code", "title": "Android Studio 3.0 Preview Missing Imports when refactoring Kotlin code", "body": "<p>Whenever I try to refactor Koltin code on Android Studio 3.0 it simply removes all my \"top level\" imports and starts using \"inplace\" imports. </p>\n\n<p>By refactoring I mean, in this case, moving code around. So let's say I have a class under <strong>com.myapp</strong> package. If I move it to <strong>com.myapp.anotherpackage</strong> this issue happens</p>\n\n<p><strong>Funny fact about this looks like it only happens when you move more than one file at the same time</strong></p>\n\n<p>What it looks like:</p>\n\n<pre><code>//Before refactoring I have this import\nimport android.support.v7.app.AppCompatActivity;\n\nclass MyActivity : AppCompatActivity() {\n    //code\n}\n</code></pre>\n\n<p>Then after refactoring it goes like this</p>\n\n<pre><code>//\"top level\" import is gone\n\nclass MyActivity : android.support.v7.app.AppCompatActivity() { //\"inline\" import\n    //code\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kXHBK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kXHBK.png\" alt=\"enter image description here\"></a></p>\n\n<p>It gets even worse if I have to refactor the code again, as every single import is \"inlined\", the android studio doesn't refactor those, and I have to do fix them by hand. This is getting really annoying already, as I had to fix over 100 of these. Any thoughts on how to fix this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1495537041, "post_id": 44132624, "comment_id": 75284127, "body": "<code>var Alphi = Myself.substring(3)</code>, see the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/substring.html\" rel=\"nofollow noreferrer\">API documentation</a>."}, {"owner": {"reputation": 554, "user_id": 5112643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3c24541517cb7582ca9f488c697a5fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Euphor08", "link": "https://stackoverflow.com/users/5112643/euphor08"}, "edited": false, "score": 0, "creation_date": 1495537163, "post_id": 44132624, "comment_id": 75284199, "body": "var Alphi = Myself.substring(3)"}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 7062709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-SfPTOV5ApMg/AAAAAAAAAAI/AAAAAAAAANU/BK-RUDTn9gA/photo.jpg?sz=128", "display_name": "Khayyam", "link": "https://stackoverflow.com/users/7062709/khayyam"}, "edited": false, "score": 0, "creation_date": 1495636184, "post_id": 44132817, "comment_id": 75338990, "body": "How can I change state of radio buttons in kotlin? Is it something like R.id.radioButton1.setChecked(false)??"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 503, "user_id": 7062709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-SfPTOV5ApMg/AAAAAAAAAAI/AAAAAAAAANU/BK-RUDTn9gA/photo.jpg?sz=128", "display_name": "Khayyam", "link": "https://stackoverflow.com/users/7062709/khayyam"}, "edited": false, "score": 0, "creation_date": 1495636239, "post_id": 44132817, "comment_id": 75339024, "body": "Exactly like how you do it in Java."}, {"owner": {"reputation": 503, "user_id": 7062709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-SfPTOV5ApMg/AAAAAAAAAAI/AAAAAAAAANU/BK-RUDTn9gA/photo.jpg?sz=128", "display_name": "Khayyam", "link": "https://stackoverflow.com/users/7062709/khayyam"}, "edited": false, "score": 0, "creation_date": 1495636285, "post_id": 44132817, "comment_id": 75339070, "body": "I tried few but I would get the unresolved reference issue."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 4, "last_activity_date": 1495536894, "creation_date": 1495536894, "answer_id": 44132817, "question_id": 44132624, "link": "https://stackoverflow.com/questions/44132624/how-to-work-with-strings-in-kotlin-and-string-manipulation/44132817#44132817", "title": "how to work with strings in Kotlin and string manipulation?", "body": "<p>The same you would do in Java:</p>\n\n<pre><code>val myself = \"Programmer\"\nval alphi = myself.substring(3)\n</code></pre>\n"}], "owner": {"reputation": 503, "user_id": 7062709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-SfPTOV5ApMg/AAAAAAAAAAI/AAAAAAAAANU/BK-RUDTn9gA/photo.jpg?sz=128", "display_name": "Khayyam", "link": "https://stackoverflow.com/users/7062709/khayyam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 44132817, "answer_count": 1, "score": -1, "last_activity_date": 1495536894, "creation_date": 1495536342, "last_edit_date": 1495536811, "question_id": 44132624, "link": "https://stackoverflow.com/questions/44132624/how-to-work-with-strings-in-kotlin-and-string-manipulation", "title": "how to work with strings in Kotlin and string manipulation?", "body": "<pre><code>fun main (args: Array&lt;String&gt;) {\n    val Myself = \"Programmer\"\n    var Alphi = Myself[5]\n    println(Alphi)\n}\n</code></pre>\n\n<p>The above code works and outputs a.</p>\n\n<ul>\n<li>How can I use the same logic to output \"grammer\" in Alphi variable?</li>\n</ul>\n"}, {"tags": ["java", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1513183918, "post_id": 44132574, "comment_id": 82557585, "body": "What was the problem with <code>fun get(i: Integer &#47;* or Integer? *&#47;) = ...; fun get(i: Int) = ...</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1495537031, "post_id": 44132718, "comment_id": 75284119, "body": "What if I have two entirely different implementations depending on whether it&#39;s <code>int</code> or <code>Integer</code>? How to get that differentiation in Kotlin?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1495537445, "post_id": 44132718, "comment_id": 75284419, "body": "It seems like that might not be possible in this exact case. In general, you could differentiate these by declaring a method that takes <code>Int</code> to handle primitives and another that takes <code>Int?</code> that handles the boxed type."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1495537944, "post_id": 44132718, "comment_id": 75284749, "body": "Fine, I got your point. But I cannot grasp why boxed one won&#39;t be immediately dispatched to <code>Int</code> provided it&#39;s value is <b>not</b> <code>null</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1495540756, "post_id": 44132718, "comment_id": 75286867, "body": "There is a way, but it requires the Java method parameter to be annotated as <code>@Nullable</code>. With no access to the Java code, it seems to be possible only with an intermediate Java interface, see the other answer."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1495541602, "post_id": 44132718, "comment_id": 75287486, "body": "Actually, a Kotlin intermediate interface is enough (overriding only one function with <code>Int?</code> paramater type)."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 9, "last_activity_date": 1495541909, "last_edit_date": 1495541909, "creation_date": 1495536618, "answer_id": 44132718, "question_id": 44132574, "link": "https://stackoverflow.com/questions/44132574/how-to-implement-this-java-interface-in-kotlin/44132718#44132718", "title": "How to implement this Java interface in Kotlin?", "body": "<p>Implementing just one method that takes <code>Int</code> as its parameter works, and can be called from either Kotlin or Java.</p>\n\n<pre><code>class B : A {\n\n    override fun get(i: Int): Any {\n        return \"something\"\n    }\n\n}\n</code></pre>\n\n<p>If you decompile the bytecode, you'll see that the Kotlin compiler is smart enough to create both methods, with one of them just redirecting to the real implementation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k7u4M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k7u4M.png\" alt=\"Decompiled bytecode example\"></a></p>\n\n<p>One possible problem is that you can't make the method take <code>Int?</code>, and it will crash with a <code>NullPointerException</code> on the <code>.intValue()</code> call if it's called from Java like so:</p>\n\n<pre><code>B b = new B();\nInteger i = null;\nb.get(i);\n</code></pre>\n\n<p>I'm not sure if there's a way to solve for that use case. </p>\n\n<p><strong>Edit:</strong> hotkey's answer has rest of the answers in it.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 24, "last_activity_date": 1495545040, "last_edit_date": 1495545040, "creation_date": 1495539865, "answer_id": 44133910, "question_id": 44132574, "link": "https://stackoverflow.com/questions/44132574/how-to-implement-this-java-interface-in-kotlin/44133910#44133910", "title": "How to implement this Java interface in Kotlin?", "body": "<p>If a single implementation, as in <a href=\"https://stackoverflow.com/users/4465208/zsmb13\">@zsmb13</a>'s answer, is not enough for you and you need separate implementations for the two methods in Kotlin, then you can add an intermediate interface overriding the method accepting <code>Integer</code> with a nullable parameter:</p>\n\n<pre><code>private interface IntermediateA : A {\n    override fun get(i: Int?): Any\n}\n</code></pre>\n\n<p>Implementing this interface instead of the original <code>A</code>,  the Kotlin compiler will distinguish the two methods, allowing you to override them as follows:</p>\n\n<pre><code>class C : IntermediateA {\n    override fun get(i: Int) = \"primitive\"\n    override fun get(i: Int?) = \"boxed\"\n}\n</code></pre>\n\n<p><sup></sup></p>\n\n<pre><code>val a: A = C()\nprintln(a.get(1)) // primitive\nprintln(a.get(1 as Int?)) // boxed\n</code></pre>\n\n<hr>\n\n<p>If you had access to the Java code, you could fix this by adding a nullability annotation to the method accepting the boxed type:</p>\n\n<pre><code>Object get(@Nullable Integer i);\n</code></pre>\n\n<p>The Kotlin compiler understands different kinds of nullability annotations, <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"noreferrer\">here's the list</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 3, "last_activity_date": 1525163680, "last_edit_date": 1525163680, "creation_date": 1495556808, "answer_id": 44140300, "question_id": 44132574, "link": "https://stackoverflow.com/questions/44132574/how-to-implement-this-java-interface-in-kotlin/44140300#44140300", "title": "How to implement this Java interface in Kotlin?", "body": "<p>In Kotlin, we can declare:</p>\n\n<ul>\n<li><strong>primitive</strong> int as : <code>Int</code></li>\n<li><strong>boxed</strong> int as : <code>Int?</code></li>\n</ul>\n\n<p>Your interface can be simplified to: </p>\n\n<pre><code>private interface ModifiedA : A {\n    override fun get(i: Int?): Any\n}\n</code></pre>\n\n<p>In Kotlin, if you implement this modified interface then Kotlin will provide you two methods to override. One for primitive type and another one for boxed type.</p>\n\n<pre><code>class ImplementationOfA : ModifiedA {\n    override fun get(i: Int)\n    override fun get(i: Int?)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 2377179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HrRJP.png?s=128&g=1", "display_name": "dong sheng", "link": "https://stackoverflow.com/users/2377179/dong-sheng"}, "is_accepted": false, "score": 0, "last_activity_date": 1524845913, "last_edit_date": 1524845913, "creation_date": 1504774106, "answer_id": 46091896, "question_id": 44132574, "link": "https://stackoverflow.com/questions/44132574/how-to-implement-this-java-interface-in-kotlin/46091896#46091896", "title": "How to implement this Java interface in Kotlin?", "body": "<p>I write a simple demo in Java.</p>\n\n<p>then convert it to Kotlin with Kotlin plugins in IntelliJ IDEA or Android Studio.</p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38800, "favorite_count": 3, "accepted_answer_id": 44133910, "answer_count": 4, "score": 30, "last_activity_date": 1525259862, "creation_date": 1495536257, "last_edit_date": 1525259862, "question_id": 44132574, "link": "https://stackoverflow.com/questions/44132574/how-to-implement-this-java-interface-in-kotlin", "title": "How to implement this Java interface in Kotlin?", "body": "<p>Since Kotlin doesn't have primitives, how could this interface be implemented?</p>\n\n<pre><code>public interface A {\n  @NotNull Object get(@NotNull Integer i);\n  @NotNull Object get(int i);\n}\n</code></pre>\n\n<p>I cannot change the Java code since it's a compiled class file in a binary library.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5306560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYa6T.jpg?s=128&g=1", "display_name": "Sina Darvishi", "link": "https://stackoverflow.com/users/5306560/sina-darvishi"}, "edited": false, "score": 0, "creation_date": 1495536451, "post_id": 44132231, "comment_id": 75283686, "body": "this can&#39;t be helpful, because IDEA use a directory for that and i should change that directory somehow."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 73, "user_id": 5306560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYa6T.jpg?s=128&g=1", "display_name": "Sina Darvishi", "link": "https://stackoverflow.com/users/5306560/sina-darvishi"}, "edited": false, "score": 0, "creation_date": 1495553088, "post_id": 44132231, "comment_id": 75296372, "body": "@SinaDarvishi Have you tried to move the jars into somewhere else(i.e. root of your project) and add them as lib then? Or else you can use gradle to build your project."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1495535299, "creation_date": 1495535299, "answer_id": 44132231, "question_id": 44132173, "link": "https://stackoverflow.com/questions/44132173/kotlin-runtime-jar-non-existent-location/44132231#44132231", "title": "kotlin-runtime.jar non-existent location", "body": "<p>You can add the runtime as libraries manually. Only the <code>kotlin-runtime.jar</code> is necessary for a beginner.</p>\n"}], "owner": {"reputation": 73, "user_id": 5306560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYa6T.jpg?s=128&g=1", "display_name": "Sina Darvishi", "link": "https://stackoverflow.com/users/5306560/sina-darvishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1049, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1532252153, "creation_date": 1495535156, "last_edit_date": 1495536528, "question_id": 44132173, "link": "https://stackoverflow.com/questions/44132173/kotlin-runtime-jar-non-existent-location", "title": "kotlin-runtime.jar non-existent location", "body": "<p>i'm currently try to run a simple <code>Kotlin</code> Program in <code>IntelliJ IDEA</code> . when i run a Hello World sample from this <a href=\"http://kotlinlang.org/docs/tutorials/getting-started.html\" rel=\"nofollow noreferrer\">tutorial</a> page i got this errors and this warnings :</p>\n\n<pre><code>Warning:Kotlin: Classpath entry points to a non-existent location: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.3\\plugins\\Kotlin\\kotlinc\\lib\\kotlin-runtime.jar\nWarning:Kotlin: Classpath entry points to a non-existent location: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.3\\plugins\\Kotlin\\kotlinc\\lib\\kotlin-reflect.jar\nError:(5, 5) Kotlin: Unresolved reference: println\nError:(4, 17) Kotlin: Unresolved reference: Array\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zrJSQ.png\" rel=\"nofollow noreferrer\">this</a> image should explain more.\ni should explain that <code>IDEA</code> installed  in <code>D:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2017.1</code> and not <code>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.3</code> and when I copy <code>Kotlin</code> folder from <code>plugins</code> folder from installation directory and copy that into <code>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 2016.3.3\\plugins</code> (that i created recently) problem goes away!!</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 7138, "user_id": 541688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b01d1ed951c6f0cbdf220907cab267?s=128&d=identicon&r=PG", "display_name": "Oleg Estekhin", "link": "https://stackoverflow.com/users/541688/oleg-estekhin"}, "edited": false, "score": 1, "creation_date": 1495527659, "post_id": 44129368, "comment_id": 75277290, "body": "While not a duplicate per se, the answer from this <a href=\"https://stackoverflow.com/questions/26444145/extend-data-class-in-kotlin\" title=\"extend data class in kotlin\">stackoverflow.com/questions/26444145/&hellip;</a> is probably the most you will get."}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "reply_to_user": {"reputation": 7138, "user_id": 541688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b01d1ed951c6f0cbdf220907cab267?s=128&d=identicon&r=PG", "display_name": "Oleg Estekhin", "link": "https://stackoverflow.com/users/541688/oleg-estekhin"}, "edited": false, "score": 0, "creation_date": 1495527781, "post_id": 44129368, "comment_id": 75277370, "body": "@OlegEstekhin Thanks, that looks helpful. But it basically says remove the <code>data</code> keyword, does not it?"}], "answers": [{"comments": [{"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 1, "creation_date": 1495529088, "post_id": 44129826, "comment_id": 75278292, "body": "Thanks for the elaboration. the keyword <code>open</code> for the parameter is the solution but I wanted to understand. On the other hand, I think it is perfectly normal for DTO and POCO to inherit and polymorph"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 13, "last_activity_date": 1495528730, "creation_date": 1495528730, "answer_id": 44129826, "question_id": 44129368, "link": "https://stackoverflow.com/questions/44129368/inheriting-class-with-primary-constructor/44129826#44129826", "title": "Inheriting class with primary constructor", "body": "<p>The initial error is because a data class can't have parameters in its primary constructor other than <code>val</code> or <code>var</code> properties. Removing the <code>data</code> keyword lifts this restriction.</p>\n\n<p>It's been mentioned that data classes generally don't play well with inheritance. They're supposed to be used as simple data transfer objects, and aren't really suitable for participating in hierarchies, because it becomes hard to understand which properties are going to be considered in the implementations of the generated methods. Your best bet might be to not use them at all here.</p>\n\n<p>For more about data classes and inheritance, <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/data-class-inheritance.md\" rel=\"noreferrer\">here</a> is the proposal that was implemented in Kotlin 1.1.</p>\n\n<hr>\n\n<p>To get back to the specific problem, if you really have to make this class a data class, you can mark the property in the base class as <code>open</code> and then override it in <code>FileTask</code>, like so:</p>\n\n<pre><code>open class Task(open val targetServer: Server) : ITask\n\ndata class FileTask(val sourceServer: Server, override val targetServer: Server): Task(targetServer = targetServer)\n</code></pre>\n\n<p>This basically hides the property declared in <code>Task</code>, and always accesses the property in <code>FileTask</code> instead.</p>\n\n<p>I don't know what your exact requirements for your classes are, but one thing you could do to clean this up and make it a bit nicer would be to make <code>Task</code> and its <code>targetServer</code> property abstract, like so:</p>\n\n<pre><code>abstract class Task : ITask {\n    abstract val targetServer: Server\n}\n\ndata class FileTask(val sourceServer: Server, override val targetServer: Server) : Task()\n</code></pre>\n\n<p>This way you wouldn't have the unnecessary property (and backing field) in the base class, and you'd be forced to have a <code>targetServer</code> property in all the classes that inherit from <code>Task</code>. You could also take this a step further, and put the property in the <code>ITask</code> interface as well.</p>\n\n<pre><code>interface ITask {\n    val targetServer: Server\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 125887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4S2ov.jpg?s=128&g=1", "display_name": "Manish Bansal", "link": "https://stackoverflow.com/users/125887/manish-bansal"}, "is_accepted": false, "score": 0, "last_activity_date": 1525869995, "last_edit_date": 1525869995, "creation_date": 1525866726, "answer_id": 50252688, "question_id": 44129368, "link": "https://stackoverflow.com/questions/44129368/inheriting-class-with-primary-constructor/50252688#50252688", "title": "Inheriting class with primary constructor", "body": "<p>I know this is a very old post, but I was struggling with the same issue and making my superclass abstract was not a solution. \nYou just need to do the following:</p>\n\n<p>change this </p>\n\n<pre><code>open class Task(val targetServer: Server) : ITask { }\n</code></pre>\n\n<p>to (Please note, I have made targetServer variable to open)</p>\n\n<pre><code>open class Task(open val targetServer: Server) : ITask { }\n</code></pre>\n"}], "owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3930, "favorite_count": 1, "accepted_answer_id": 44129826, "answer_count": 2, "score": 7, "last_activity_date": 1525869995, "creation_date": 1495527366, "last_edit_date": 1495527750, "question_id": 44129368, "link": "https://stackoverflow.com/questions/44129368/inheriting-class-with-primary-constructor", "title": "Inheriting class with primary constructor", "body": "<p>I have a parent class as following,</p>\n\n<pre><code>interface ITask { }\n\nopen class Task(val targetServer: Server) : ITask { }\n</code></pre>\n\n<p>Then there a child inheriting it and overriding the primary constructor as following,</p>\n\n<pre><code>data class FileTask(val sourceServer: Server, targetServer: Server) : Task(targetServer = targetServer) {\n\n}\n</code></pre>\n\n<p>This is throwing a compilation error in eclipse as </p>\n\n<blockquote>\n  <p>Data class primary constructor must have only property (val / var) parameters</p>\n</blockquote>\n\n<p>Removing the  <code>data</code> keyword from the class header will kill the error,  but I don't understand why.</p>\n\n<p>Keeping the <code>data</code> keyword and adding <code>var</code> to the <code>targetServer</code>  gives another error </p>\n\n<blockquote>\n  <p>'targetServer' hides member of supertype 'Task' and needs 'override' modifier</p>\n</blockquote>\n\n<p>Adding <code>override</code> to the <code>targetServer</code> to be <code>override var targetServer: Server</code> throws another error </p>\n\n<blockquote>\n  <p>'targetServer' in 'Task' is final and cannot be overridden</p>\n</blockquote>\n\n<p>I need some help to understand these errors.</p>\n"}, {"tags": ["type-conversion", "kotlin", "implicit-conversion"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1495507861, "post_id": 44124825, "comment_id": 75268895, "body": "Kotlin wants to know if you are doing something intentional or accidental.  If it allows implicit conversion, then we would never know and the compiler cannot help.  Implicit conversions have statistically been shown to be a large number of bugs, mystery bugs, evil bugs.  Kotlin does not allow this because it wants the developer to state intent, not guess at it.  There are no plans to change this."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1495508031, "post_id": 44124825, "comment_id": 75268930, "body": "In Java you do not assign an <code>int</code> to a <code>double</code> , you instead go through a process of widening followed by an assignment.    You can read the less-than-simple explanation of everything that can happen: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-5.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "is_accepted": true, "score": 5, "last_activity_date": 1495508280, "last_edit_date": 1495508280, "creation_date": 1495507561, "answer_id": 44124957, "question_id": 44124825, "link": "https://stackoverflow.com/questions/44124825/kotlin-automatic-conversion-of-numeric-types/44124957#44124957", "title": "kotlin - automatic conversion of numeric types", "body": "<p>No. This isn't going to happen. As <code>kotlin</code> is strongly typed meaning <em>types aren't coerced implicitly</em>. You need an explicit type conversion. From the Kotlin reference for <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">Explicit Conversions</a> it is stated:</p>\n\n<blockquote>\n  <p>Due to different representations, smaller types are not subtypes of bigger ones.\n  [...]\n  As a consequence, smaller types are NOT implicitly converted to bigger types.\n  [...]\n  We can use explicit conversions to widen numbers.</p>\n</blockquote>\n"}], "owner": {"reputation": 15296, "user_id": 813080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0XGPw.jpg?s=128&g=1", "display_name": "damphat", "link": "https://stackoverflow.com/users/813080/damphat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1743, "favorite_count": 0, "closed_date": 1495509396, "accepted_answer_id": 44124957, "answer_count": 1, "score": 2, "last_activity_date": 1495725801, "creation_date": 1495506523, "last_edit_date": 1495725801, "question_id": 44124825, "link": "https://stackoverflow.com/questions/44124825/kotlin-automatic-conversion-of-numeric-types", "closed_reason": "Duplicate", "title": "kotlin - automatic conversion of numeric types", "body": "<p><strong>In java</strong>, we can assign <code>int</code> to <code>double</code>, for example <code>double x = 123</code>;</p>\n\n<p><strong>In kotlin</strong>, we got a compiled error.</p>\n\n<p>Question: Can we enable automatic conversion feature in <code>kotlin</code>? Why <code>kotlin</code> don't have this feature by default?</p>\n\n<pre><code>var x: Double = 123; // ERROR\n</code></pre>\n\n<p>One more example:</p>\n\n<pre><code>fun foo(x: Double) { }\n\nfun main(args: Array&lt;String&gt;) {\n   foo(123.0);  // OK \n   foo(123);    // ERROR\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p><em>the literal <code>123</code> can be automatically converted to <code>Short</code> or <code>Long</code> at compile time. But it will not be converted to <code>Float</code> or <code>Double</code>.</em></p>\n\n<pre><code>fun fooShort(x: Short) {}\nfun fooInt(x: Int)     {}\nfun fooLong(x: Long)   {}\n\n\nfun main(args: Array&lt;String&gt;) {\n    fooShort(123)  // OK\n    fooInt(123)    // OK\n    fooLong(123)   // OK\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1495533530, "post_id": 44124745, "comment_id": 75281560, "body": "There probably isn&#39;t enough information here to help you. What things about your project can you show readers so they can try to reproduce this error?"}], "answers": [{"tags": [], "owner": {"reputation": 1462, "user_id": 1041383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d276ec281841276894cff57721d07f?s=128&d=identicon&r=PG", "display_name": "civic.LiLister", "link": "https://stackoverflow.com/users/1041383/civic-lilister"}, "is_accepted": false, "score": 0, "last_activity_date": 1495513005, "creation_date": 1495513005, "answer_id": 44125716, "question_id": 44124745, "link": "https://stackoverflow.com/questions/44124745/how-to-debug-the-could-not-resolve-com-google-androidandroid-error-in-anko/44125716#44125716", "title": "How to debug the &quot;Could not resolve com.google.android:android&quot; error in Anko", "body": "<p>Remove the line </p>\n\n<pre><code>compile \"org.jetbrains.anko:anko-coroutines:$anko_version\"\n</code></pre>\n\n<p>and try again, please.\nOr paste the full build.gradle.</p>\n"}, {"comments": [{"owner": {"reputation": 1671, "user_id": 2546184, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tsCD1.jpg?s=128&g=1", "display_name": "Alexandre G.", "link": "https://stackoverflow.com/users/2546184/alexandre-g"}, "edited": false, "score": 0, "creation_date": 1495541748, "post_id": 44130710, "comment_id": 75287599, "body": "That helped me, thank you. I&#39;m using Android Studio 3.0 Canary 1, I had to restart Android Studio and run the gradle sync a couple times more in order for gradle to successfully build. (I also replaced my <code>maven { url &#39;https:&#47;&#47;maven.google.com&#39; }</code> to <code>mavenCentral()</code> , I don&#39;t know it that helped."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 1671, "user_id": 2546184, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tsCD1.jpg?s=128&g=1", "display_name": "Alexandre G.", "link": "https://stackoverflow.com/users/2546184/alexandre-g"}, "edited": false, "score": 0, "creation_date": 1495541851, "post_id": 44130710, "comment_id": 75287663, "body": "@AlexandreG. I&#39;m glad that helped you, consider upgrading to AS 2.3 stable at least ;)"}, {"owner": {"reputation": 1671, "user_id": 2546184, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tsCD1.jpg?s=128&g=1", "display_name": "Alexandre G.", "link": "https://stackoverflow.com/users/2546184/alexandre-g"}, "edited": false, "score": 0, "creation_date": 1495541899, "post_id": 44130710, "comment_id": 75287705, "body": "Ahah that was a typo, I&#39;m running AS 3.0 ;)"}], "tags": [], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "is_accepted": false, "score": 1, "last_activity_date": 1495531208, "creation_date": 1495531208, "answer_id": 44130710, "question_id": 44124745, "link": "https://stackoverflow.com/questions/44124745/how-to-debug-the-could-not-resolve-com-google-androidandroid-error-in-anko/44130710#44130710", "title": "How to debug the &quot;Could not resolve com.google.android:android&quot; error in Anko", "body": "<p>I've got same error when installed Android Studio 2.4 Preview. Just make sure, your project-level build.gradle looks like this</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    ext.kotlin_version = '1.1.2-3'\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.1' //Version must be exactly 2.3.1\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8096280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458cab67cb5736c5c5300e3d2c0ddf5?s=128&d=identicon&r=PG&f=1", "display_name": "user8096280", "link": "https://stackoverflow.com/users/8096280/user8096280"}, "is_accepted": false, "score": 0, "last_activity_date": 1496302645, "creation_date": 1496302645, "answer_id": 44301344, "question_id": 44124745, "link": "https://stackoverflow.com/questions/44124745/how-to-debug-the-could-not-resolve-com-google-androidandroid-error-in-anko/44301344#44301344", "title": "How to debug the &quot;Could not resolve com.google.android:android&quot; error in Anko", "body": "<p>maven { url '<a href=\"https://maven.google.com\" rel=\"nofollow noreferrer\">https://maven.google.com</a>' }   to  maven {url \"<a href=\"https://dl.google.com/dl/android/maven2/\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/</a>\"}</p>\n"}], "owner": {"reputation": 31, "user_id": 8050943, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OYP5l3wuYCY/AAAAAAAAAAI/AAAAAAAAACE/LKnsly__CQU/photo.jpg?sz=128", "display_name": "\u4f55\u6743\u5229", "link": "https://stackoverflow.com/users/8050943/%e4%bd%95%e6%9d%83%e5%88%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1496302645, "creation_date": 1495505919, "last_edit_date": 1495533467, "question_id": 44124745, "link": "https://stackoverflow.com/questions/44124745/how-to-debug-the-could-not-resolve-com-google-androidandroid-error-in-anko", "title": "How to debug the &quot;Could not resolve com.google.android:android&quot; error in Anko", "body": "<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n//Anko\ncompile \"org.jetbrains.anko:anko:$anko_version\"\ncompile \"org.jetbrains.anko:anko-coroutines:$anko_version\"\ncompile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\ncompile 'org.jetbrains.kotlinx:kotlinx-coroutines-android:0.13'\n\nBuild error:\n\nError:Failed to resolve: Could not resolve    \n com.google.android:android:2.3.1.\n\nRequired by:  \n    project :app &gt; org.jetbrains.kotlinx:kotlinx-coroutines-android:0.13\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "edited": false, "score": 0, "creation_date": 1495539237, "post_id": 44122055, "comment_id": 75285731, "body": "At one press that gonna disappear your view and never it appear again  by click on same fab view(which are already hidden). As per code interpretation .."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "edited": false, "score": 0, "creation_date": 1495488354, "post_id": 44122245, "comment_id": 75264041, "body": "I was trying &quot;fab2.visibility&quot;, but &quot;visibility&quot; would turn red. I guess taking out &quot;view&quot; was the answer to that. For future reference, why was that the problem? Thanks."}, {"owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "reply_to_user": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "edited": false, "score": 0, "creation_date": 1495488518, "post_id": 44122245, "comment_id": 75264111, "body": "@BaldAndroid did you try Kotlin Android Extensions? If so, you need to add correct imports to your code. Check it out <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}, {"owner": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "edited": false, "score": 0, "creation_date": 1495489536, "post_id": 44122245, "comment_id": 75264493, "body": "I&#39;m using Android Studio v3. Your code worked, I was just wondering why removing &quot;view&quot; made it work so I know when to include it and when not to."}, {"owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "reply_to_user": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "edited": false, "score": 0, "creation_date": 1495490139, "post_id": 44122245, "comment_id": 75264681, "body": "@BaldAndroid updated the answer. We can type <code>view -&gt;</code> as well."}, {"owner": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "edited": false, "score": 0, "creation_date": 1495491101, "post_id": 44122245, "comment_id": 75264973, "body": "Oh, OK. I see what the problem was now. Thanks."}], "tags": [], "owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "is_accepted": true, "score": 0, "last_activity_date": 1495490112, "last_edit_date": 1495490112, "creation_date": 1495487594, "answer_id": 44122245, "question_id": 44122055, "link": "https://stackoverflow.com/questions/44122055/how-to-toggle-visibility-of-fab-with-another-fab/44122245#44122245", "title": "How to Toggle Visibility of FAB with Another FAB", "body": "<pre><code>findViewById(R.id.fab1).setOnClickListener {\n    val fab2 = findViewById(R.id.fab2)\n\n    fab2.visibility = if(fab2.visibility == View.VISIBLE) View.INVISIBLE else View.VISIBLE\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>findViewById(R.id.fab1).setOnClickListener { view -&gt;\n    val fab2 = findViewById(R.id.fab2)\n\n    fab2.visibility = if(fab2.visibility == View.VISIBLE) View.INVISIBLE else View.VISIBLE\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>findViewById(R.id.fab1).setOnClickListener {\n    findViewById(R.id.fab2).apply { \n        visibility = if(visibility == View.VISIBLE) View.INVISIBLE else View.VISIBLE\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 5814018, "user_type": "registered", "profile_image": "https://graph.facebook.com/936799856405744/picture?type=large", "display_name": "Dina Gar", "link": "https://stackoverflow.com/users/5814018/dina-gar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495515266, "creation_date": 1495515266, "answer_id": 44126063, "question_id": 44122055, "link": "https://stackoverflow.com/questions/44122055/how-to-toggle-visibility-of-fab-with-another-fab/44126063#44126063", "title": "How to Toggle Visibility of FAB with Another FAB", "body": "<pre><code>fab1=(FloatingActionButton)findViewById(R.id.fab1);\nfab2=(FloatingActionButton)findViewById(R.id.fab2);\nfab1.setOnClickListener(new View.OnClickListener{\npublic void onClick(View view){\nif(fab2.getVisibility()==View.VISIBLE)\nfab.setVisibility(View.GONE)or invisible\nelse\nfab.setVisibility(View.VISIBLE)\n\n}});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7923750, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-juwVrLO_QxM/AAAAAAAAAAI/AAAAAAAAACs/5m76VuzPKpk/photo.jpg?sz=128", "display_name": "BaldAndroid", "link": "https://stackoverflow.com/users/7923750/baldandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 44122245, "answer_count": 2, "score": 0, "last_activity_date": 1495515266, "creation_date": 1495486706, "last_edit_date": 1495499799, "question_id": 44122055, "link": "https://stackoverflow.com/questions/44122055/how-to-toggle-visibility-of-fab-with-another-fab", "title": "How to Toggle Visibility of FAB with Another FAB", "body": "<p>This code makes the FAB to be pressed disappear:</p>\n\n<pre><code>val fab = findViewById(R.id.fab) as FloatingActionButton\n    fab.setOnClickListener({ view -&gt;\n        findViewById(R.id.fab2)\n\n        if(view.visibility == VISIBLE) {\n            view.visibility = INVISIBLE\n        }\n        else view.visibility = VISIBLE\n</code></pre>\n"}, {"tags": ["kotlin", "remote-debugging", "annotation-processing", "annotation-processor", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "edited": false, "score": 0, "creation_date": 1495479183, "post_id": 44119739, "comment_id": 75259517, "body": "do I need to make changes to the Remote configuration as well?"}, {"owner": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "edited": false, "score": 0, "creation_date": 1495479424, "post_id": 44119739, "comment_id": 75259672, "body": "I tried :   ./gradlew --no-daemon -Dorg.gradle.debug=true :app:clean :app:compileDebugKotlin -Dkotlin.daemon.jvm.options=&quot;-Xdebug,-Xrunjdwp:transport=dt_&zwnj;&#8203;socket\\,address=5005&zwnj;&#8203;\\,server=y\\,suspend=&zwnj;&#8203;n&quot;  With no changes in the IDE, but no luck..."}, {"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "reply_to_user": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "edited": false, "score": 0, "creation_date": 1495481694, "post_id": 44119739, "comment_id": 75260889, "body": "Please restart both Kotlin and Gradle daemons. You can find all Java processes being executed using the <code>jps</code> command. Also make sure the debug port in daemon JVM options and IDEA is the same (5005)."}, {"owner": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "edited": false, "score": 0, "creation_date": 1495484318, "post_id": 44119739, "comment_id": 75262206, "body": "I see now... you also have to wait to attach the debugger until the kotlin compiler daemon starts"}, {"owner": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "edited": false, "score": 0, "creation_date": 1496177865, "post_id": 44119739, "comment_id": 75551589, "body": "the kaptDebugKotlin task seems to keep running regardless of whether I debug it or not.  Is there any way to make it wait for the debugger connection?"}, {"owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 5, "creation_date": 1514303940, "post_id": 44119739, "comment_id": 82930250, "body": "I was also struggling to debug a non-android project, in IntelliJ Idea. A colleague suggested that kotlin might be running it&#39;s own daemon, which prevents attaching debug configuration at appropriate time. Running kotlin without daemon fixes issue: <code>.&#47;gradlew clean :sample:build --no-daemon -Dorg.gradle.debug=true -Dkotlin.compiler.execution.strategy=&quot;in-process&quot; -Dkotlin.daemon.jvm.options=&quot;-Xdebug,-Xrunjdwp:transport=dt_&zwnj;&#8203;socket\\,address=5005&zwnj;&#8203;\\,server=y\\,suspend=&zwnj;&#8203;n&quot;</code>. Run this in CLI, then attach remote debug config when you feel comfortable, and not during <code>app:kaptDebugKotlin</code> task or whatever"}, {"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "reply_to_user": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "edited": false, "score": 0, "creation_date": 1540660545, "post_id": 44119739, "comment_id": 92950699, "body": "@DenRimus you save my day! this should be an alternative answer as it covers non android projects"}], "tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": true, "score": 11, "last_activity_date": 1495508890, "last_edit_date": 1495508890, "creation_date": 1495477687, "answer_id": 44119739, "question_id": 44118592, "link": "https://stackoverflow.com/questions/44118592/cant-debug-an-annotation-processor-when-using-kapt-and-gradle/44119739#44119739", "title": "Can&#39;t Debug an Annotation Processor when using kapt and gradle", "body": "<p>You actually want to debug the Kotlin compiler daemon, not the Gradle daemon. Here is how you can pass the required JVM arguments:</p>\n\n<pre><code>./gradlew &lt;tasks&gt; -Dkotlin.daemon.jvm.options=\"-Xdebug,-Xrunjdwp:transport=dt_socket\\,address=5005\\,server=y\\,suspend=n\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 849, "user_id": 2043352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a3623b157508fecdae1f8e756f362f?s=128&d=identicon&r=PG", "display_name": "cmota", "link": "https://stackoverflow.com/users/2043352/cmota"}, "edited": false, "score": 1, "creation_date": 1563373083, "post_id": 46385492, "comment_id": 100679287, "body": "Hmmm... is this still working on the latest version of Android Studio/ Kotlin? I&#39;m trying to follow this approach and I keep getting:  - Unable to open debugger port (localhost:5005): java.net.BindException &quot;Address already in use (Bind failed)&quot;  I have already called jps to check all the running processes and as far as I can tell there&#39;s none running."}], "tags": [], "owner": {"reputation": 543, "user_id": 2465722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125d06cb4905d7288e0c5b058d31f438?s=128&d=identicon&r=PG", "display_name": "konakid", "link": "https://stackoverflow.com/users/2465722/konakid"}, "is_accepted": false, "score": 2, "last_activity_date": 1556714439, "last_edit_date": 1556714439, "creation_date": 1506213340, "answer_id": 46385492, "question_id": 44118592, "link": "https://stackoverflow.com/questions/44118592/cant-debug-an-annotation-processor-when-using-kapt-and-gradle/46385492#46385492", "title": "Can&#39;t Debug an Annotation Processor when using kapt and gradle", "body": "<p>The other answer is generally correct, but I found <a href=\"https://medium.com/@daptronic/annotation-processing-with-kapt-and-gradle-237793f2be57\" rel=\"nofollow noreferrer\">https://medium.com/@daptronic/annotation-processing-with-kapt-and-gradle-237793f2be57</a> helpful for going into more detail.</p>\n\n<p>You can run something like this </p>\n\n<pre><code>./gradlew --no-daemon clean compileDebugKotlin -Dkotlin.daemon.jvm.options=\"-Xdebug,-Xrunjdwp:transport=dt_socket\\,address=5005\\,server=y\\,suspend=n\"\n</code></pre>\n\n<p>or if you want to run a specific module</p>\n\n<pre><code>./gradlew --no-daemon :modulename:clean :modulename:compileDebugKotlin -Dkotlin.daemon.jvm.options=\"-Xdebug,-Xrunjdwp:transport=dt_socket\\,address=5005\\,server=y\\,suspend=n\"\n</code></pre>\n\n<h3>The tricky part</h3>\n\n<p>We actually need to wait for the Kotlin compilation task to begin before we attach the debugger, it doesn't pause and wait for you to attach the debugger like with java. </p>\n\n<p>So you want to monitor your build and look for the task:\n<code>:app:kaptDebugKotlin</code>\nAnd when you see it, head immediately over to your IDE and hit debug on your Remote configuration. If you don\u2019t attach in time, the task will just move on. You have a few seconds to figure it out, but it\u2019s a bit of a race to get it all working.</p>\n\n<p>This took me a frustratingly long time to figure out and get working. Now as soon as I run the command I just go to the IDE and mash the debugger button and I have had pretty good luck getting it to attach that way.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11652138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a9fc4119edc06f1529c5f4cd6841ff?s=128&d=identicon&r=PG&f=1", "display_name": "Max Holtzberg", "link": "https://stackoverflow.com/users/11652138/max-holtzberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1560606711, "creation_date": 1560606711, "answer_id": 56610973, "question_id": 44118592, "link": "https://stackoverflow.com/questions/44118592/cant-debug-an-annotation-processor-when-using-kapt-and-gradle/56610973#56610973", "title": "Can&#39;t Debug an Annotation Processor when using kapt and gradle", "body": "<p>I just tried to debug a Kotlin annotation processor and found this post.\nYou can tell the JVM to wait for the debugger by passing suspend=y</p>\n\n<p>What I do now is starting the build from command line:</p>\n\n<pre><code>./gradlew --no-daemon clean build -Dkotlin.daemon.jvm.options=\"-Xdebug,-Xrunjdwp:transport=dt_socket\\,address=5005\\,server=y\\,suspend=y\"\n</code></pre>\n\n<p>and then attaching with Intellij via remote configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 8637, "user_id": 295675, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/87e88914cdf7334ec989fbf8a13a520c?s=128&d=identicon&r=PG", "display_name": "David Liu", "link": "https://stackoverflow.com/users/295675/david-liu"}, "is_accepted": false, "score": 1, "last_activity_date": 1574201171, "creation_date": 1574201171, "answer_id": 58943546, "question_id": 44118592, "link": "https://stackoverflow.com/questions/44118592/cant-debug-an-annotation-processor-when-using-kapt-and-gradle/58943546#58943546", "title": "Can&#39;t Debug an Annotation Processor when using kapt and gradle", "body": "<p>Since Kotlin 1.2.60, kapt supports using the Gradle Worker API by including <code>kapt.use.worker.api=true</code> in your gradle.properties file.</p>\n\n<p>The bonus side effect is that the kapt task is debuggable with the normal gradle debug arguments (<code>./gradlew &lt;task&gt; -Dorg.gradle.debug=true --no-daemon</code>)  , and no specific kotlin args are needed.</p>\n"}], "owner": {"reputation": 1190, "user_id": 502463, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1132d70f17aafcca96cafaaa1e73862e?s=128&d=identicon&r=PG", "display_name": "Dapp", "link": "https://stackoverflow.com/users/502463/dapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2975, "favorite_count": 5, "accepted_answer_id": 44119739, "answer_count": 4, "score": 8, "last_activity_date": 1574201171, "creation_date": 1495473252, "question_id": 44118592, "link": "https://stackoverflow.com/questions/44118592/cant-debug-an-annotation-processor-when-using-kapt-and-gradle", "title": "Can&#39;t Debug an Annotation Processor when using kapt and gradle", "body": "<p>I'm building an annotation processor, and I recently switched from using the default annotationProcessor type to kapt, using the kotlin-kapt plugin.</p>\n\n<p>I was debugging my processor by using the command</p>\n\n<pre><code>./gradlew --no-daemon -Dorg.gradle.debug=true :app:clean :app:compileDebugJavaWithJavac\n</code></pre>\n\n<p>(full instructions here: <a href=\"https://stackoverflow.com/a/42488641/502463\">https://stackoverflow.com/a/42488641/502463</a> )</p>\n\n<p>And then running a Remote debugging configuration.  When I used annotationProcessor, I could hit breakpoints, and debug fine.  with kapt, my processor runs, but I can't debug it.  No breakpoints are triggered.  </p>\n\n<p>My kotlin version is 1.1.2-3</p>\n"}, {"tags": ["java", "json", "gson", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495471151, "post_id": 44117970, "comment_id": 75255221, "body": "How did you do it in Java? Show an example."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495472330, "post_id": 44117970, "comment_id": 75255839, "body": "What&#39;s a json selector?"}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495512960, "post_id": 44117970, "comment_id": 75270170, "body": "@voddan what I meant by those json selector is that strings that i can use to select particular json object / array : in my case &quot;topic&quot;, &quot;id&quot;,&quot;image&quot; . I hope I made it clear to you. Thanks :)"}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495513666, "post_id": 44117970, "comment_id": 75270344, "body": "@nhaarman I have edited the question, I hope that is what you mean"}], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 406295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1db97b6882b6429074fd6614d166ca1?s=128&d=identicon&r=PG", "display_name": "Vik", "link": "https://stackoverflow.com/users/406295/vik"}, "edited": false, "score": 42, "creation_date": 1506724540, "post_id": 44118828, "comment_id": 79950281, "body": "Use annotations only when there&#39;s a variable name mismatch. Otherwise, yeah, not needed"}, {"owner": {"reputation": 311, "user_id": 5091769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pc8RY.jpg?s=128&g=1", "display_name": "Deneb Chorny", "link": "https://stackoverflow.com/users/5091769/deneb-chorny"}, "edited": false, "score": 3, "creation_date": 1510679479, "post_id": 44118828, "comment_id": 81533534, "body": "In my opinion, the annotations allow us to have classes that when serialized can be excluded or include the variables. Very useful when used with retrofit. This does not send garbage to the server. Also, when there are changes in the names of the variables on the server side, it is more painful to change it directly in the class variable than in the annotation."}, {"owner": {"reputation": 798, "user_id": 3408710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D4HWX.jpg?s=128&g=1", "display_name": "Caleb_Allen", "link": "https://stackoverflow.com/users/3408710/caleb-allen"}, "reply_to_user": {"reputation": 348, "user_id": 406295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1db97b6882b6429074fd6614d166ca1?s=128&d=identicon&r=PG", "display_name": "Vik", "link": "https://stackoverflow.com/users/406295/vik"}, "edited": false, "score": 13, "creation_date": 1515708382, "post_id": 44118828, "comment_id": 83415112, "body": "@Vik one thing to note is your variable names can possibly be obfuscated (like in an Android app) but the annotation will be left intact"}, {"owner": {"reputation": 1918, "user_id": 3138859, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/zbCF7.jpg?s=128&g=1", "display_name": "Ravi Yadav", "link": "https://stackoverflow.com/users/3138859/ravi-yadav"}, "edited": false, "score": 0, "creation_date": 1519109763, "post_id": 44118828, "comment_id": 84762868, "body": "@AntonGolovin I am not able to pass my data class in from Json method.Do I need to declare my data class inside java file?"}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1563833558, "post_id": 44118828, "comment_id": 100823880, "body": "If you do this, I believe you will lost JSON format which may cause IllegalStateException down the road"}], "tags": [], "owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "is_accepted": true, "score": 249, "last_activity_date": 1512526679, "last_edit_date": 1512526679, "creation_date": 1495474197, "answer_id": 44118828, "question_id": 44117970, "link": "https://stackoverflow.com/questions/44117970/kotlin-data-class-from-json-using-gson/44118828#44118828", "title": "Kotlin Data Class from Json using GSON", "body": "<p>Data class: </p>\n\n<pre><code>data class Topic(\n  @SerializedName(\"id\") val id: Long, \n  @SerializedName(\"name\") val name: String, \n  @SerializedName(\"image\") val image: String,\n  @SerializedName(\"description\") val description: String\n)\n</code></pre>\n\n<p>to JSON: </p>\n\n<pre><code>val gson = Gson()\nval json = gson.toJson(topic)\n</code></pre>\n\n<p>from JSON:</p>\n\n<pre><code>val json = getJson()\nval topic = gson.fromJson(json, Topic::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 0, "creation_date": 1566495271, "post_id": 51860531, "comment_id": 101683930, "body": "Why do you use the <code>SerializedName</code> annotation instead of the field naming strategy, Vasily?"}, {"owner": {"reputation": 19500, "user_id": 4488252, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A66Rf.jpg?s=128&g=1", "display_name": "Vasily  Bodnarchuk", "link": "https://stackoverflow.com/users/4488252/vasily-bodnarchuk"}, "reply_to_user": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 3, "creation_date": 1566495621, "post_id": 51860531, "comment_id": 101684073, "body": "@Peter because <code>@SerializedName</code> will allow me to use custom names of the variables which may not match with json key. And yes, you may not use <code>@SerializedName</code> if you do not need it."}], "tags": [], "owner": {"reputation": 19500, "user_id": 4488252, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A66Rf.jpg?s=128&g=1", "display_name": "Vasily  Bodnarchuk", "link": "https://stackoverflow.com/users/4488252/vasily-bodnarchuk"}, "is_accepted": false, "score": 20, "last_activity_date": 1534343432, "last_edit_date": 1592644375, "creation_date": 1534342841, "answer_id": 51860531, "question_id": 44117970, "link": "https://stackoverflow.com/questions/44117970/kotlin-data-class-from-json-using-gson/51860531#51860531", "title": "Kotlin Data Class from Json using GSON", "body": "<h2>Based on answer of <a href=\"https://stackoverflow.com/a/44118828/4488252\">Anton Golovin</a></h2>\n<h2>Details</h2>\n<ul>\n<li>Gson version: 2.8.5</li>\n<li>Android Studio 3.1.4</li>\n<li>Kotlin version: 1.2.60</li>\n</ul>\n<h2>Solution</h2>\n<blockquote>\n<p>Create any class data and inherit <strong>JSONConvertable</strong> interface</p>\n</blockquote>\n<pre><code>interface JSONConvertable {\n     fun toJSON(): String = Gson().toJson(this)\n}\n\ninline fun &lt;reified T: JSONConvertable&gt; String.toObject(): T = Gson().fromJson(this, T::class.java)\n</code></pre>\n<h2>Usage</h2>\n<p><strong>Data class</strong></p>\n<pre><code>data class User(\n    @SerializedName(&quot;id&quot;) val id: Int,\n    @SerializedName(&quot;email&quot;) val email: String,\n    @SerializedName(&quot;authentication_token&quot;) val authenticationToken: String) : JSONConvertable\n</code></pre>\n<p><strong>From JSON</strong></p>\n<pre><code>val json = &quot;...&quot;\nval object = json.toObject&lt;User&gt;()\n</code></pre>\n<p><strong>To JSON</strong></p>\n<pre><code>val json = object.toJSON()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 650, "user_id": 6607435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVnaE.jpg?s=128&g=1", "display_name": "Pawan Soni", "link": "https://stackoverflow.com/users/6607435/pawan-soni"}, "is_accepted": false, "score": 2, "last_activity_date": 1586827521, "last_edit_date": 1586827521, "creation_date": 1566568097, "answer_id": 57627706, "question_id": 44117970, "link": "https://stackoverflow.com/questions/44117970/kotlin-data-class-from-json-using-gson/57627706#57627706", "title": "Kotlin Data Class from Json using GSON", "body": "<p>You can use similar in Kotlin class</p>\n\n<pre><code>class InventoryMoveRequest {\n    @SerializedName(\"userEntryStartDate\")\n    @Expose\n    var userEntryStartDate: String? = null\n    @SerializedName(\"userEntryEndDate\")\n    @Expose\n    var userEntryEndDate: String? = null\n    @SerializedName(\"location\")\n    @Expose\n    var location: Location? = null\n    @SerializedName(\"containers\")\n    @Expose\n    var containers: Containers? = null\n}\n</code></pre>\n\n<p>And also for nested class you can use same like if there is nested object. Just provide Serialize name for the Class.</p>\n\n<pre><code>@Entity(tableName = \"location\")\nclass Location {\n\n    @SerializedName(\"rows\")\n    var rows: List&lt;Row&gt;? = null\n    @SerializedName(\"totalRows\")\n    var totalRows: Long? = null\n\n}\n</code></pre>\n\n<p>so if get response from the server each key will map with JOSN.</p>\n\n<p>Alos, convert List to JSON:</p>\n\n<pre><code>val gson = Gson()\nval json = gson.toJson(topic)\n</code></pre>\n\n<p>ndroid convert from JSON to Object:</p>\n\n<pre><code>val json = getJson()\nval topic = gson.fromJson(json, Topic::class.java)\n</code></pre>\n"}], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91286, "favorite_count": 21, "accepted_answer_id": 44118828, "answer_count": 3, "score": 120, "last_activity_date": 1586827521, "creation_date": 1495470853, "last_edit_date": 1523766206, "question_id": 44117970, "link": "https://stackoverflow.com/questions/44117970/kotlin-data-class-from-json-using-gson", "title": "Kotlin Data Class from Json using GSON", "body": "<p>I have Java POJO class like this:</p>\n\n<pre><code>class Topic {\n    @SerializedName(\"id\")\n    long id;\n    @SerializedName(\"name\")\n    String name;\n}\n</code></pre>\n\n<p>and I have a Kotlin data class Like this </p>\n\n<pre><code> data class Topic(val id: Long, val name: String)\n</code></pre>\n\n<p>How to provide the <code>json key</code> to any variables of the <code>kotlin data class</code> like the <code>@SerializedName</code> annotation in java variables ?</p>\n"}, {"tags": ["gradle", "automated-tests", "kotlin", "aspectj", "allure"], "comments": [{"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "edited": false, "score": 0, "creation_date": 1495467047, "post_id": 44116777, "comment_id": 75252852, "body": "Is this the <a href=\"http://www.eclipse.org/aspectj/doc/released/devguide/ltw-configuration.html\" rel=\"nofollow noreferrer\">answer</a> to my question?"}], "answers": [{"tags": [], "owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "is_accepted": true, "score": 2, "last_activity_date": 1495467470, "creation_date": 1495467470, "answer_id": 44116926, "question_id": 44116777, "link": "https://stackoverflow.com/questions/44116777/jvmargs-settings-for-allure-reports/44116926#44116926", "title": "jvmArgs settings for Allure reports", "body": "<p>Your problem is that you used a <code>String</code> where you should have used a <code>GString</code>.</p>\n\n<pre><code>jvmArgs '-javaagent:${configurations.agent.singleFile}'\n</code></pre>\n\n<p>This line is taken literally. It should have been</p>\n\n<pre><code>jvmArgs \"-javaagent:${configurations.agent.singleFile}\"\n</code></pre>\n\n<p>to get the placeholder replaced. (single- vs. double-quotes).</p>\n"}], "owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 44116926, "answer_count": 1, "score": 1, "last_activity_date": 1495467470, "creation_date": 1495466891, "question_id": 44116777, "link": "https://stackoverflow.com/questions/44116777/jvmargs-settings-for-allure-reports", "title": "jvmArgs settings for Allure reports", "body": "<p>I'm trying to generate reports by ussing </p>\n\n<pre><code>gradlew clean test \n</code></pre>\n\n<p>command. It fails with error: </p>\n\n<pre><code>Error occured during intialization of VM\nError opening zip file or JAR nanifest missing : ${configurations.agent.singleFile}\n</code></pre>\n\n<p>Here's my <code>build.gradle</code> file:</p>\n\n<pre><code>group 'RegisteredUserFlow'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    jcenter()\n}\n\nconfigurations {\n    agent\n}\n\ndependencies {\n    agent 'org.aspectj:aspectjweaver:1.8.10'\n    compile 'org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-2'\n    testCompile 'com.codeborne:selenide:4.4.3'\n    testCompile 'org.testng:testng:6.10'\n    testCompile 'io.qameta.allure:allure-testng:2.0-BETA6'\n    testCompile 'io.github.bonigarcia:webdrivermanager:1.6.2'\n}\n\ntest.doFirst {\n    jvmArgs '-javaagent:${configurations.agent.singleFile}'\n}\n\ntest {\n    useTestNG(){\n        suites'src/test/resources/testng.xml'\n    }\n\n    systemProperty 'allure.results.directory', 'build/allure-results'\n    systemProperty 'allure.link.issue.pattern', 'https://github.com/allure-framework/allure-docs/issues/{}'\n    systemProperty 'allure.link.tms.pattern', 'https://github.com/allure-framework/allure-docs/issues/{}'\n}\n</code></pre>\n\n<p>I've been thinking that the problems are with <code>aspectJ</code> but I'm not sure. \nDo I miss something in gradle file? Or is it somewhere in my test files? Or maybe there's a problems with latest <code>Allure</code> version? I see that <code>jvmArgs</code> is highlighted with gray (never used) - maybe problem with that? </p>\n\n<p>Sorry for that much of questions I've never worked with <code>Allure</code> and <code>aspectJ</code>.</p>\n\n<p>Thanks for any help! </p>\n"}, {"tags": ["android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 4, "creation_date": 1495462051, "post_id": 44114899, "comment_id": 75249270, "body": "I&#39;m voting to close this question as off-topic because it is a duplicate of <a href=\"https://stackoverflow.com/questions/43933459/declaring-custom-clean-task-when-using-the-standard-gradle-lifecycle-plugins-i\" title=\"declaring custom clean task when using the standard gradle lifecycle plugins i\">stackoverflow.com/questions/43933459/&hellip;</a> and the author knows this."}, {"owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "reply_to_user": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495462383, "post_id": 44114899, "comment_id": 75249530, "body": "I stated that in my question."}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495462461, "post_id": 44114899, "comment_id": 75249597, "body": "I answered the question there."}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495462518, "post_id": 44114899, "comment_id": 75249645, "body": "That you stated it in your question doesn&#39;t make it more correct. You cannot go into a bank and say &quot;I shouldn&#39;t rob you, but give me all your money&quot;. You would still be arrested. ;-)"}, {"owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "reply_to_user": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495462579, "post_id": 44114899, "comment_id": 75249697, "body": "i get you buddy, now provide me with the exact link of your answer"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1495463388, "post_id": 44114899, "comment_id": 75250316, "body": "You should at least add the relevant parts of your Gradle files."}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495464781, "post_id": 44114899, "comment_id": 75251306, "body": "@NyagakaEnock The link is not different to yours, just click your own link ;-)"}, {"owner": {"reputation": 3378, "user_id": 6749161, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-c4zFJ1d_lPQ/AAAAAAAAAAI/AAAAAAAAAKo/q18sdWDBDUY/photo.jpg?sz=128", "display_name": "Bharat Kumar Emani", "link": "https://stackoverflow.com/users/6749161/bharat-kumar-emani"}, "edited": false, "score": 0, "creation_date": 1505711611, "post_id": 44114899, "comment_id": 79506315, "body": "<a href=\"https://stackoverflow.com/a/46271978/6749161\">stackoverflow.com/a/46271978/6749161</a>"}], "owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3141, "favorite_count": 0, "closed_date": 1495469410, "answer_count": 0, "score": 3, "last_activity_date": 1495461769, "creation_date": 1495461769, "question_id": 44114899, "link": "https://stackoverflow.com/questions/44114899/declaring-custom-clean-task-when-using-the-standard-gradle-lifecycle-plugins-i", "closed_reason": "Not suitable for this site", "title": "Declaring custom &#39;clean&#39; task when using the standard Gradle lifecycle plugins is not allowed", "body": "<p>I am building a kotlin android project. When i configure kotlin in android studio, i get this error in the gradle file.</p>\n\n<pre><code>Declaring custom 'clean' task when using the standard Gradle lifecycle plugins is not allowed\n</code></pre>\n\n<p>This question has been asked <a href=\"https://stackoverflow.com/questions/43933459/declaring-custom-clean-task-when-using-the-standard-gradle-lifecycle-plugins-i\">here</a> but no help still. What might be the issue?</p>\n"}, {"tags": ["kotlin", "extension-function"], "comments": [{"owner": {"reputation": 4858, "user_id": 3236102, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e17d815c87167ddeae52f2f5cd0efd8?s=128&d=identicon&r=PG&f=1", "display_name": "Dakkaron", "link": "https://stackoverflow.com/users/3236102/dakkaron"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495453439, "post_id": 44111957, "comment_id": 75243168, "body": "Thank you. Neither Google nor Stackoverflow turned this up."}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1495453443, "post_id": 44111957, "comment_id": 75243170, "body": "Yes, they will clash, and that&#39;s why it is always a good idea, especially if you are writing a library, to use packages, so that there&#39;s a way to keep them apart (then the user can choose from which package to import)."}], "owner": {"reputation": 4858, "user_id": 3236102, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e17d815c87167ddeae52f2f5cd0efd8?s=128&d=identicon&r=PG&f=1", "display_name": "Dakkaron", "link": "https://stackoverflow.com/users/3236102/dakkaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "closed_date": 1495453446, "answer_count": 0, "score": 0, "last_activity_date": 1495453242, "creation_date": 1495453242, "question_id": 44111957, "link": "https://stackoverflow.com/questions/44111957/extension-function-collision", "closed_reason": "Duplicate", "title": "Extension function collision", "body": "<p>When I define two extension functions with the same signature I get an <code>conflicting overloads</code> error, even if the extension functions are defined in different files.</p>\n\n<p>Does this make different libraries that define the same extension function incompatible to each other?\nSay, both libraries declare extension functions on <code>String</code> with the same name and parameters. Is there still any way to use these two libraries in the same project?</p>\n"}, {"tags": ["jackson", "kotlin", "jackson-databind"], "comments": [{"owner": {"reputation": 667, "user_id": 3329708, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rH4LC.png?s=128&g=1", "display_name": "Master Disaster", "link": "https://stackoverflow.com/users/3329708/master-disaster"}, "edited": false, "score": 0, "creation_date": 1495469660, "post_id": 44109862, "comment_id": 75254415, "body": "Hey, it seems to be issue witj Jackson. <a href=\"https://github.com/FasterXML/jackson-databind/issues/935\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/935</a> it is no closed."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495509311, "post_id": 44109862, "comment_id": 75269261, "body": "It is not a bug, you should be using the Jackson-Kotlin module which is designed to prevent this type of issue when using Kotlin with Jackson, see my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1495509268, "creation_date": 1495509268, "answer_id": 44125184, "question_id": 44109862, "link": "https://stackoverflow.com/questions/44109862/kotlin-jsonproperty-access-read-only-on-data-class/44125184#44125184", "title": "Kotlin: JsonProperty.Access.READ_ONLY on data class", "body": "<p>You should use the Jackson-Kotlin module and then you will not need to set a <code>JsonParameter</code> for each parameter, since the module will infer the other parameter names from what metadata the Kotlin compiler stores in the class.  </p>\n\n<p>The module is located in Github at <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">FasterXML/jackson-module-kotlin</a> </p>\n\n<p>Be sure to follow the instructions to register the module, include the <code>kotlin-reflect</code> dependency in your own build, and use the helper functions to simplify your Kotlin code.</p>\n"}], "owner": {"reputation": 2150, "user_id": 3160531, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/501097d9d9b4f54f0eff01d859f42901?s=128&d=identicon&r=PG&f=1", "display_name": "charlie_pl", "link": "https://stackoverflow.com/users/3160531/charlie-pl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 44125184, "answer_count": 1, "score": 1, "last_activity_date": 1495509268, "creation_date": 1495446768, "last_edit_date": 1495453535, "question_id": 44109862, "link": "https://stackoverflow.com/questions/44109862/kotlin-jsonproperty-access-read-only-on-data-class", "title": "Kotlin: JsonProperty.Access.READ_ONLY on data class", "body": "<p>I want to archive something like this:</p>\n\n<pre><code>data class Task(\n  @JsonProperty(\"id\", access = READ_ONLY)\n  val id: String?\n\n  ...\n  &lt;other params&gt;\n  ...\n)\n</code></pre>\n\n<p>Unfortunately, this results in following exception: </p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException:\nArgument #0 of constructor [constructor for Task, annotations: [null]] \nhas no property name annotation;\nmust have name when multiple-parameter constructor annotated as Creator\nat [Source: {\"id\":\"AT-5\", ...}; line: 1, column: 1]\n\n    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:305)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:268)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:476)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:3899)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3794)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2842)\n</code></pre>\n\n<p>This one works: </p>\n\n<pre><code>data class Task(\n  @JsonProperty(\"id\")\n  val id: String?\n)\n</code></pre>\n\n<p>I've tried <code>@field:JsonProperty</code> to no avail.</p>\n\n<p>How to get this annotation working in Kotlin?\nI use dropwizard 1.1.0,  Jackson 2.8.6</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 4, "creation_date": 1495468628, "post_id": 44109700, "comment_id": 75253807, "body": "Instead of <code>0.toDouble()</code> you can use <code>0.0</code> do declare it as a double"}, {"owner": {"reputation": 2446, "user_id": 955836, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7bee93f26de5bfb837142fd1c34ee6cf?s=128&d=identicon&r=PG", "display_name": "Zookey", "link": "https://stackoverflow.com/users/955836/zookey"}, "edited": false, "score": 2, "creation_date": 1498294362, "post_id": 44109700, "comment_id": 76451060, "body": "How you create a new instance of Food class? Do you specify manually ID or you leave it blank?"}, {"owner": {"reputation": 5814, "user_id": 428173, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/VlGA5.jpg?s=128&g=1", "display_name": "Martin Melka", "link": "https://stackoverflow.com/users/428173/martin-melka"}, "edited": false, "score": 8, "creation_date": 1586090655, "post_id": 44109700, "comment_id": 107992156, "body": "A note for future readers - the primary key must be 0 for Room to treat it as unset. If you use any other default value (e.g. -1), Room will not autogenerate the id."}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 3, "creation_date": 1495447147, "post_id": 44109830, "comment_id": 75239205, "body": "Thanks, i was searching for autoIncrement, thats why wasn&#39;t able to find."}, {"owner": {"reputation": 1477, "user_id": 4439179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gp9MW.png?s=128&g=1", "display_name": "Priyanka Alachiya", "link": "https://stackoverflow.com/users/4439179/priyanka-alachiya"}, "edited": false, "score": 0, "creation_date": 1508304351, "post_id": 44109830, "comment_id": 80553260, "body": "Hey @MatPag what if i want two Primary keys in one table (Composite primary keys) and one of the primary key should be auto incremented? How can i achieve that? Can you answer this <a href=\"https://stackoverflow.com/questions/46790830/how-to-make-primary-key-auto-increment-while-using-composite-primary-keys-in-roo\">here</a> ?"}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 1, "creation_date": 1516288086, "post_id": 44109830, "comment_id": 83634053, "body": "@MatPeg What in case if I want to have one PrimaryKey the is self-generated, and one that come from REST <code>@Entity(     primaryKeys = arrayOf(COLUMN_ID_LOCAL,COLUMN_ID_REMOTE))</code> ?"}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "reply_to_user": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1516288806, "post_id": 44109830, "comment_id": 83634561, "body": "@murt You need a composite primary key, but you can&#39;t do what you want to achieve. Read <a href=\"https://stackoverflow.com/a/46804610/2910520\">here</a>"}, {"owner": {"reputation": 391, "user_id": 1430422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcaddab560bd62b551e221878478e70?s=128&d=identicon&r=PG", "display_name": "Micha", "link": "https://stackoverflow.com/users/1430422/micha"}, "edited": false, "score": 0, "creation_date": 1583156473, "post_id": 44109830, "comment_id": 107010351, "body": "Important part of the linked documentation: <code>Insert methods treat 0 as not-set while inserting the item. </code>"}], "tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": true, "score": 436, "last_activity_date": 1582126378, "last_edit_date": 1582126378, "creation_date": 1495446672, "answer_id": 44109830, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/44109830#44109830", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>You need to use the <code>autoGenerate</code> property</p>\n\n<p>Your primary key annotation should be like this:</p>\n\n<pre><code>@PrimaryKey(autoGenerate = true)\n</code></pre>\n\n<p>Reference for <a href=\"https://developer.android.com/reference/androidx/room/PrimaryKey#autoGenerate()\" rel=\"noreferrer\">PrimaryKey</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 90, "user_id": 1545945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Eo.jpg?s=128&g=1", "display_name": "Aditya Ladwa", "link": "https://stackoverflow.com/users/1545945/aditya-ladwa"}, "edited": false, "score": 24, "creation_date": 1505371149, "post_id": 46126930, "comment_id": 79387199, "body": "Every time we create a new Users object we will need to pass an id field. Can this be avoided?"}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 13, "creation_date": 1508061397, "post_id": 46126930, "comment_id": 80453221, "body": "Yes, put <code>@PrimaryKey(autoGenerated = true) val id: Long? = null</code> outside the constructor, on the body of the class"}, {"owner": {"reputation": 380, "user_id": 4258880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f68aa3f9da13610b8e8800f5b87ac41c?s=128&d=identicon&r=PG&f=1", "display_name": "Ispam", "link": "https://stackoverflow.com/users/4258880/ispam"}, "reply_to_user": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 2, "creation_date": 1530060002, "post_id": 46126930, "comment_id": 89097143, "body": "@Magritte Care to elaborate more pls?"}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "reply_to_user": {"reputation": 380, "user_id": 4258880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f68aa3f9da13610b8e8800f5b87ac41c?s=128&d=identicon&r=PG&f=1", "display_name": "Ispam", "link": "https://stackoverflow.com/users/4258880/ispam"}, "edited": false, "score": 2, "creation_date": 1530076923, "post_id": 46126930, "comment_id": 89100684, "body": "@Ispam In my answer above I posted how the complete class should look like."}, {"owner": {"reputation": 847, "user_id": 3836294, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab7f3902084f168bc6c437c80bb45f12?s=128&d=identicon&r=PG&f=1", "display_name": "romaneso", "link": "https://stackoverflow.com/users/3836294/romaneso"}, "edited": false, "score": 4, "creation_date": 1552346425, "post_id": 46126930, "comment_id": 96966199, "body": "Actually, you can simply put 0 as ID. Room will automatically generate a ID if you have set the @PrimaryKey option."}], "tags": [], "owner": {"reputation": 159, "user_id": 997537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3feb81c990687bb66c42898d7dd562a?s=128&d=identicon&r=PG", "display_name": "mayojava", "link": "https://stackoverflow.com/users/997537/mayojava"}, "is_accepted": false, "score": 6, "last_activity_date": 1578994299, "last_edit_date": 1578994299, "creation_date": 1504928989, "answer_id": 46126930, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/46126930#46126930", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>For example, if you have a <code>users</code> entity you want to store, with fields <code>(firstname, lastname , email)</code> and you want autogenerated id, you do this.</p>\n\n<pre><code>@Entity(tableName = \"users\")\ndata class Users(\n   @PrimaryKey(autoGenerate = true)\n   val id: Long,\n   val firstname: String,\n   val lastname: String,\n   val email: String\n)\n</code></pre>\n\n<p>Room will then autogenerate and auto-increment the <code>id</code> field.</p>\n"}, {"comments": [{"owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "edited": false, "score": 42, "creation_date": 1519906531, "post_id": 46753804, "comment_id": 85103163, "body": "<code>foodId</code> doesn&#39;t needs to be null (but it can be). One could also use default values eg. <code>var foodId: Int = 0</code> and the autogenerate would work properly."}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1525109034, "post_id": 46753804, "comment_id": 87227789, "body": "That&#39;s pretty unintuitive but I can&#39;t see how the Room devs could get around it"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1526068747, "post_id": 46753804, "comment_id": 87615551, "body": "What if I want to overwrite foodId - passing it as custom value to Entity?  Does that cause it to not auto-increment?"}, {"owner": {"reputation": 24783, "user_id": 969613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Gg9TK.png?s=128&g=1", "display_name": "JMK", "link": "https://stackoverflow.com/users/969613/jmk"}, "reply_to_user": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "edited": false, "score": 0, "creation_date": 1534010085, "post_id": 46753804, "comment_id": 90560945, "body": "@Micha\u0142Baran If you make it 0, does it still have to be a null-able int?"}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "reply_to_user": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "edited": false, "score": 9, "creation_date": 1534110096, "post_id": 46753804, "comment_id": 90580994, "body": "@Micha\u0142Baran, from the java doc, when the type is a primitive java <code>int</code> or <code>long</code>, 0 is treat as null-able, when the type is Integer or Long, null is the  nullable. Since Kotlin Int when non-nullable works in JVM as primitive int, then you are right and <code>var foodId: Int = 0</code> will work, but <code>var foodId: Int? = 0</code> will not work since Int? is converted in JVM as Integer. @JMK, if you make it 0, you HAVE to make a non-nullable <code>int</code> for the reason aforementioned."}, {"owner": {"reputation": 422, "user_id": 7856586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5950cd48cb4f1ad031aa1bb968b30e?s=128&d=identicon&r=PG&f=1", "display_name": "user7856586", "link": "https://stackoverflow.com/users/7856586/user7856586"}, "edited": false, "score": 3, "creation_date": 1542363205, "post_id": 46753804, "comment_id": 93550283, "body": "You can write without in another way: <code>val jack = User(name = &quot;Jack&quot;, phone= 1)</code> In this case you can remove 0 from constructor"}, {"owner": {"reputation": 12833, "user_id": 1177959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sc2Mx.jpg?s=128&g=1", "display_name": "Sotti", "link": "https://stackoverflow.com/users/1177959/sotti"}, "edited": false, "score": 2, "creation_date": 1549006263, "post_id": 46753804, "comment_id": 95756858, "body": "The problem I see with this approach is in terms of it being a data class. When Food is a data class (like in the snippet), food is been used for the equals() comparison, so two foods with different foodId can be considered equal.  Using named arguments with default values will solve the issue."}, {"owner": {"reputation": 506, "user_id": 3972238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a2d2136feef738ba5ccd23ea76be0765?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/3972238/vijay"}, "edited": false, "score": 0, "creation_date": 1566041731, "post_id": 46753804, "comment_id": 101536528, "body": "For me, it was not working when I use Int. But when I set Long instead of Int, it worked. <code>@PrimaryKey(autoGenerate = true)     var foodId: Long = 0</code>"}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 2, "creation_date": 1571399990, "post_id": 46753804, "comment_id": 103238500, "body": "@AllanVeloso Can you explain why <code>foodId</code> was put in the body and not in the constructor?"}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "reply_to_user": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 4, "creation_date": 1572269554, "post_id": 46753804, "comment_id": 103496719, "body": "@neer17 since the foodId will be autogenerated by Room at insertion, more likely there will be no use to have it in the constructor."}, {"owner": {"reputation": 541, "user_id": 10530136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f48a62357fe45b6c0c588cd56f44f981?s=128&d=identicon&r=PG", "display_name": "jsonV", "link": "https://stackoverflow.com/users/10530136/jsonv"}, "edited": false, "score": 0, "creation_date": 1601114515, "post_id": 46753804, "comment_id": 113308366, "body": "My Room database tests failed when the PrimaryKey was defined null. Probably better to make it 0 instead as this seems to properly autogenerate."}], "tags": [], "owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "is_accepted": false, "score": 154, "last_activity_date": 1534110197, "last_edit_date": 1534110197, "creation_date": 1508061704, "answer_id": 46753804, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/46753804#46753804", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>You can add <code>@PrimaryKey(autoGenerate = true)</code> like this:</p>\n\n<pre><code>@Entity\ndata class Food(\n        var foodName: String, \n        var foodDesc: String, \n        var protein: Double, \n        var carbs: Double, \n        var fat: Double\n){\n    @PrimaryKey(autoGenerate = true)\n    var foodId: Int = 0 // or foodId: Int? = null\n    var calories: Double = 0.toDouble()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1526068803, "post_id": 50079226, "comment_id": 87615591, "body": "Can we pass custom id to Entity, even though it is set to autoGenerate?"}, {"owner": {"reputation": 669, "user_id": 9160591, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C5dQ3po_na8/AAAAAAAAAAI/AAAAAAAAAD0/G-OlLY069SA/photo.jpg?sz=128", "display_name": "kunal khedkar", "link": "https://stackoverflow.com/users/9160591/kunal-khedkar"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1526271862, "post_id": 50079226, "comment_id": 87661740, "body": "@Igor Ganapolsky     Yes, but entry will genrate with that custom id [ auto-increment will not work ] And if you pass same id again it will throw exception &#39;UNIQUE constraint failed&#39; so you need pass always new id or make it [0 or null] and let auto-increment do this work for you."}, {"owner": {"reputation": 175, "user_id": 2319793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb6fa04bb4c240142a9d2375e3ee624b?s=128&d=identicon&r=PG", "display_name": "hellcast", "link": "https://stackoverflow.com/users/2319793/hellcast"}, "edited": false, "score": 3, "creation_date": 1526658520, "post_id": 50079226, "comment_id": 87845766, "body": "Why are you even letting the user put the id in the constructor if you want to autogenerate?"}, {"owner": {"reputation": 422, "user_id": 7856586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5950cd48cb4f1ad031aa1bb968b30e?s=128&d=identicon&r=PG&f=1", "display_name": "user7856586", "link": "https://stackoverflow.com/users/7856586/user7856586"}, "edited": false, "score": 0, "creation_date": 1542362967, "post_id": 50079226, "comment_id": 93550140, "body": "In Kotlin you can use data class and write:  <code>val jack = User(name = &quot;Jack&quot;, phone= 1)</code> In this case you can remove 0 from constructor"}, {"owner": {"reputation": 141, "user_id": 4301861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e95549185ba6d9379667c4b399a6ade?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Hirani", "link": "https://stackoverflow.com/users/4301861/ali-hirani"}, "reply_to_user": {"reputation": 175, "user_id": 2319793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb6fa04bb4c240142a9d2375e3ee624b?s=128&d=identicon&r=PG", "display_name": "hellcast", "link": "https://stackoverflow.com/users/2319793/hellcast"}, "edited": false, "score": 0, "creation_date": 1557997667, "post_id": 50079226, "comment_id": 98956735, "body": "@hellcast If you don&#39;t include the id in the constructor (as I just learned the hard way) when you query the DB it won&#39;t assign the id field (it will just be whatever you  initialize it with in the constructor) since I assume it calls the same constructor when populating the object&#39;s fields."}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1583681748, "post_id": 50079226, "comment_id": 107191173, "body": "why to set the id as 0 even when set to autogenerate??"}], "tags": [], "owner": {"reputation": 669, "user_id": 9160591, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C5dQ3po_na8/AAAAAAAAAAI/AAAAAAAAAD0/G-OlLY069SA/photo.jpg?sz=128", "display_name": "kunal khedkar", "link": "https://stackoverflow.com/users/9160591/kunal-khedkar"}, "is_accepted": false, "score": 53, "last_activity_date": 1584373224, "last_edit_date": 1584373224, "creation_date": 1524936285, "answer_id": 50079226, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/50079226#50079226", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>add <code>@PrimaryKey(autoGenerate = true)</code></p>\n\n<pre><code>@Entity\npublic class User {\n\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n\n    @ColumnInfo(name = \"full_name\")\n    private String name;\n\n    @ColumnInfo(name = \"phone\")\n    private String phone;\n\n    public User(){\n    }\n\n    //type-1\n    public User(String name, String phone) {\n        this.name = name;\n        this.phone = phone;\n    }\n\n    //type-2\n    public User(int id, String name, String phone) {\n        this.id = id;\n        this.name = name;\n        this.phone = phone;\n    }\n\n}\n</code></pre>\n\n<p>while storing data </p>\n\n<pre><code> //type-1\n db.userDao().InsertAll(new User(sName,sPhone)); \n\n //type-2\n db.userDao().InsertAll(new User(0,sName,sPhone)); \n</code></pre>\n\n<blockquote>\n  <p>type-1</p>\n  \n  <p>If you are not passing value for primary key, by default it will 0 or\n  null.</p>\n</blockquote>\n\n<p>type-2</p>\n\n<p>Put <strong>null or zero for the id</strong> while creating object (my case user object)</p>\n\n<p>If the field type is long or int (or its TypeConverter converts it to a long or int), Insert methods treat 0 as not-set while inserting the item.</p>\n\n<p>If the field's type is Integer or Long (Object) (or its TypeConverter converts it to an Integer or a Long), Insert methods treat null as not-set while inserting the item.</p>\n"}, {"comments": [{"owner": {"reputation": 3133, "user_id": 3668462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2Rj1.jpg?s=128&g=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/3668462/johan"}, "edited": false, "score": 5, "creation_date": 1559716299, "post_id": 56455086, "comment_id": 99502780, "body": "While this code snippet may be the solution, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}, {"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 4, "creation_date": 1559717420, "post_id": 56455086, "comment_id": 99503139, "body": "There are many answers like &quot;use <code>@PrimaryKey(autoGenerate = true)</code>&quot; - does your answer add anything new to this thread?"}, {"owner": {"reputation": 7609, "user_id": 2401535, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BImS2.jpg?s=128&g=1", "display_name": "Marian Pa\u017adzioch", "link": "https://stackoverflow.com/users/2401535/marian-pa%c5%badzioch"}, "edited": false, "score": 1, "creation_date": 1586939542, "post_id": 56455086, "comment_id": 108309996, "body": "yes it adds - it presents how null covers the autogenearted field"}], "tags": [], "owner": {"reputation": 401, "user_id": 11309536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MoMOJS0jjVA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTlDMxqCUxMQ0wTIvBAXHyfldyAA/mo/photo.jpg?sz=128", "display_name": "Om Prakash Sharma", "link": "https://stackoverflow.com/users/11309536/om-prakash-sharma"}, "is_accepted": false, "score": 6, "last_activity_date": 1559715237, "creation_date": 1559715237, "answer_id": 56455086, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/56455086#56455086", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<pre><code>@Entity(tableName = \"user\")\ndata class User(\n\n@PrimaryKey(autoGenerate = true)  var id: Int?,\n       var name: String,\n       var dob: String,\n       var address: String,\n       var gender: String\n)\n{\n    constructor():this(null,\n        \"\",\"\",\"\",\"\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2604, "user_id": 6930719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hEGnv.png?s=128&g=1", "display_name": "Faxriddin Abdullayev", "link": "https://stackoverflow.com/users/6930719/faxriddin-abdullayev"}, "is_accepted": false, "score": 0, "last_activity_date": 1597978636, "last_edit_date": 1597978636, "creation_date": 1580369408, "answer_id": 59981021, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/59981021#59981021", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>Annotate your Entity class with the code below.</p>\n<p>In Java:</p>\n<pre><code>@PrimaryKey(autoGenerate = true)\nprivate int id;\n</code></pre>\n<p>In Kotlin:</p>\n<pre><code>@PrimaryKey(autoGenerate = true)\nvar id: Int\n</code></pre>\n<p>Room will then auto-generate and auto-increment the id field.</p>\n"}, {"tags": [], "owner": {"reputation": 1739, "user_id": 2979955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzC4g.jpg?s=128&g=1", "display_name": "Chris Sprague", "link": "https://stackoverflow.com/users/2979955/chris-sprague"}, "is_accepted": false, "score": 4, "last_activity_date": 1597008458, "creation_date": 1597008458, "answer_id": 63331487, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/63331487#63331487", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>This works for me:</p>\n<pre><code>@Entity(tableName = &quot;note_table&quot;)\ndata class Note(\n    @ColumnInfo(name=&quot;title&quot;) var title: String,\n    @ColumnInfo(name=&quot;description&quot;) var description: String = &quot;&quot;,\n    @ColumnInfo(name=&quot;priority&quot;) var priority: Int,\n    @PrimaryKey(autoGenerate = true) var id: Int = 0//last so that we don't have to pass an ID value or named arguments\n)\n</code></pre>\n<p>Note that the id is last to avoid having to use named arguments when creating the entity, before inserting it into Room. Once it's been added to room, use the id when updating the entity.</p>\n"}, {"comments": [{"owner": {"reputation": 6175, "user_id": 2371425, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/afeeb0ffa32e8dbb1f5141d63706c2b4?s=128&d=identicon&r=PG", "display_name": "Sakiboy", "link": "https://stackoverflow.com/users/2371425/sakiboy"}, "edited": false, "score": 0, "creation_date": 1611285441, "post_id": 63459262, "comment_id": 116407988, "body": "Great! Should be the accepted answer."}, {"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 0, "creation_date": 1615530112, "post_id": 63459262, "comment_id": 117724017, "body": "Now, How you are calling this class Employee without passing id as a parameter? Please tell."}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "reply_to_user": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 1, "creation_date": 1615699931, "post_id": 63459262, "comment_id": 117769642, "body": "@JaiminModi you see secondary constructor there ?  yo can call it Employment(code = &quot;code&quot;, name = &quot;name&quot;) or simple Employment(&quot;code&quot;, &quot;name&quot;)"}, {"owner": {"reputation": 409, "user_id": 6444853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAbOI.jpg?s=128&g=1", "display_name": "J. Hegg", "link": "https://stackoverflow.com/users/6444853/j-hegg"}, "edited": false, "score": 2, "creation_date": 1616328761, "post_id": 63459262, "comment_id": 117962108, "body": "Creating an extra constructor isn&#39;t even necessary for this case. Just add the 0 as default parameter to the id and you will automatically be able to use the constructor without this extra declaration:  @PrimaryKey(autoGenerate = true) val id: Long = 0L,"}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1616978228, "post_id": 63459262, "comment_id": 118163742, "body": "It&#39;s not true that you will automatically be able to use the constructor without this extra declaration if you add default value as first parameter. You will have to use named arguments in that case what is mostly not desirable in my case, so that&#39;s why secondary constructor is needed here."}], "tags": [], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "is_accepted": false, "score": 22, "last_activity_date": 1604612426, "last_edit_date": 1604612426, "creation_date": 1597702037, "answer_id": 63459262, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib/63459262#63459262", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>Its unbelievable after so many answers, but I did it little differently in the end. I don't like primary key to be nullable, I want to have it as first argument and also want to insert without defining it and also it should not be var.</p>\n<pre><code>@Entity(tableName = &quot;employments&quot;)\ndata class Employment(\n    @PrimaryKey(autoGenerate = true) val id: Long,\n    @ColumnInfo(name = &quot;code&quot;) val code: String,\n    @ColumnInfo(name = &quot;title&quot;) val name: String\n){\n    constructor(code: String, name: String) : this(0, code, name)\n}\n</code></pre>\n"}], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129216, "favorite_count": 26, "accepted_answer_id": 44109830, "answer_count": 8, "score": 234, "last_activity_date": 1604612426, "creation_date": 1495446294, "last_edit_date": 1595538660, "question_id": 44109700, "link": "https://stackoverflow.com/questions/44109700/how-to-make-primary-key-as-autoincrement-for-room-persistence-lib", "title": "How to make primary key as autoincrement for Room Persistence lib", "body": "<p>I am creating an Entity (<a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"noreferrer\">Room Persistence Library</a>) class Food, where I want to make <code>foodId</code> as autoincrement.</p>\n<pre><code>@Entity\nclass Food(var foodName: String, var foodDesc: String, var protein: Double, var carbs: Double, var fat: Double)\n{\n    @PrimaryKey\n    var foodId: Int = 0\n    var calories: Double = 0.toDouble()\n}\n</code></pre>\n<p>How can I set <code>foodId</code> an autoincrement field?</p>\n"}, {"tags": ["intellij-idea", "gradle", "build.gradle", "kotlin"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1516817282, "post_id": 44109557, "comment_id": 83848496, "body": "In my case it was sufficient just to update to the latest IDEA Kotlin plugin to fix the issue"}, {"owner": {"reputation": 36734, "user_id": 693752, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1f9cd9b9bad9aa6115a1ed72433c180d?s=128&d=identicon&r=PG", "display_name": "Snicolas", "link": "https://stackoverflow.com/users/693752/snicolas"}, "edited": false, "score": 0, "creation_date": 1552157256, "post_id": 44109557, "comment_id": 96907429, "body": "I am having the same question but for android studio. The answer didn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "is_accepted": false, "score": 1, "last_activity_date": 1495451569, "creation_date": 1495451569, "answer_id": 44111420, "question_id": 44109557, "link": "https://stackoverflow.com/questions/44109557/syntax-highlight-for-kotlin-script-files-in-idea/44111420#44111420", "title": "Syntax highlight for Kotlin-script files in Idea", "body": "<p>The issue probably was I used incorrect gradle version. I recreated the project specifying gradle version 3.5 and now it works fine. Probably I should use gradle wrapper to prevent the same issue occurence on other developers' machines.</p>\n"}], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1495451569, "creation_date": 1495445807, "question_id": 44109557, "link": "https://stackoverflow.com/questions/44109557/syntax-highlight-for-kotlin-script-files-in-idea", "title": "Syntax highlight for Kotlin-script files in Idea", "body": "<p>I migrated my Gradle project config for Kotlin-script usage: now I have both <code>build.gradle</code> and <code>build.gradle.kts</code> and can switch between them configuring <code>settings.gradle</code>:</p>\n\n<pre><code>project(':myProject').buildFileName='build.gradle.kts'\n</code></pre>\n\n<p>The issue is kts <code>build.gradle.kts</code> is not properly highlited: it does not resolve dependencies, says <code>version = 123</code> is not a valid word and so on.</p>\n\n<p>I use Idea Ultimate 2017.1.3 and kotlin-plugin 1.1.2. What's the issue? Deleting <code>build.gradle</code> doesn't help either.</p>\n\n<p><a href=\"https://github.com/gradle/gradle-script-kotlin/tree/master/samples\" rel=\"nofollow noreferrer\">gradle-script-kotlin</a> project files are highlited correctly.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 4, "creation_date": 1495444793, "post_id": 44109098, "comment_id": 75237600, "body": "Use a separate variable. There is no need to assign a value to the parameter."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1495444948, "post_id": 44109098, "comment_id": 75237706, "body": "than <code>convertView</code> param will always be null so each time new view will be created. It make views recycling mechanism totally useless"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1495445044, "post_id": 44109098, "comment_id": 75237758, "body": "@oleg.semen no, if you return non-null <code>View</code> from <code>getView</code> method that <code>View</code> will be later used as a <code>convertView</code> - use a separate variable as Henry said"}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 4, "creation_date": 1495445079, "post_id": 44109098, "comment_id": 75237781, "body": "You seem to misunderstand how parameters in Java work. They are basically local variables which are initialised with the actual parameter. Changing them inside the method has no effect to the caller."}, {"owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1495445746, "post_id": 44109098, "comment_id": 75238259, "body": "@pskink thanks, got it"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1495453775, "post_id": 44109098, "comment_id": 75243374, "body": "In other words in JVM parameters are always passed <i>by value</i>, never <i>by reference</i>."}], "answers": [{"tags": [], "owner": {"reputation": 694, "user_id": 2219315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NEBW7.jpg?s=128&g=1", "display_name": "Partharaj Deb", "link": "https://stackoverflow.com/users/2219315/partharaj-deb"}, "is_accepted": false, "score": 3, "last_activity_date": 1585493226, "last_edit_date": 1585493226, "creation_date": 1495444792, "answer_id": 44109186, "question_id": 44109098, "link": "https://stackoverflow.com/questions/44109098/how-do-i-make-method-param-mutable-in-kotlin/44109186#44109186", "title": "How do I make method param mutable in Kotlin?", "body": "<p>Mutable parameters are <strong>not</strong> supported in Kotlin.</p>\n\n<p>I would like to refer you to this <a href=\"https://discuss.kotlinlang.org/t/method-parameters-and-mutable-variables/333/6\" rel=\"nofollow noreferrer\">discussion in kotlinlang.org</a></p>\n"}, {"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": false, "score": 0, "last_activity_date": 1495493549, "creation_date": 1495493549, "answer_id": 44123273, "question_id": 44109098, "link": "https://stackoverflow.com/questions/44109098/how-do-i-make-method-param-mutable-in-kotlin/44123273#44123273", "title": "How do I make method param mutable in Kotlin?", "body": "<p>Officially speaking, you are not allowed to override a method param. The best you can do is \"shadow\" the param variable.</p>\n\n<p>So you can do it similar to (not sure why you would want to shadow though but you can)</p>\n\n<pre><code>getView(i: Int, view: View?, parent: ViewGroup) {\n  val view = view ?: View.inflate(context, R.layout.item_spinner, parent)\n                         .apply { tag(Holder(view)) }\n  (view.tag as Holder).title.text = getItem(i)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 6, "last_activity_date": 1495507541, "last_edit_date": 1495507541, "creation_date": 1495506968, "answer_id": 44124878, "question_id": 44109098, "link": "https://stackoverflow.com/questions/44109098/how-do-i-make-method-param-mutable-in-kotlin/44124878#44124878", "title": "How do I make method param mutable in Kotlin?", "body": "<p>There are two issues here.  </p>\n\n<p>First, you are mistakenly assuming that modifying <code>view</code> in Java does anything outside of the current function scope.  It does not.  You setting that parameter to a new value affects nothing outside of the local function scope.</p>\n\n<pre><code>View getView(int i, View view, ViewGroup parent) {\n   // modify view here does nothing to the original caller reference to view\n   // but returning a view does do something\n}\n</code></pre>\n\n<p>Next, in Kotlin all parameters are <code>final</code> (JVM modifier, also same as <code>final</code> modifier in Java).  The Kotlin <code>if</code> statement version of this code would be:</p>\n\n<pre><code>fun getView(i: Int, view: View?, parent: ViewGroup): View {\n   return if (view == null) {\n       val tempView = View.inflate(context, R.layout.item_spinner, parent)\n       tempView.tag(Holder(tempView))\n       tempView\n   } else { \n       (view.tag as Holder).title.text = getItem(i)\n       view\n   }\n}\n</code></pre>\n\n<p>or avoiding the new local variable:</p>\n\n<pre><code>fun getView(i: Int, view: View?, parent: ViewGroup): View {\n   return if (view == null) {\n       View.inflate(context, R.layout.item_spinner, parent).apply {\n           tag(Holder(this)) // this is now the new view\n       }\n   } else { \n       view.apply { (tag as Holder).title.text = getItem(i) }\n   }\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>fun getView(i: Int, view: View?, parent: ViewGroup): View {\n   if (view == null) {\n       val tempView = View.inflate(context, R.layout.item_spinner, parent)\n       tempView.tag(Holder(tempView))\n       return tempView\n   } \n\n   (view.tag as Holder).title.text = getItem(i)\n   return view\n}\n</code></pre>\n\n<p>or using the <code>?.</code> and <code>?:</code> null operators combined with <code>apply()</code>:</p>\n\n<pre><code>fun getView(i: Int, view: View?, parent: ViewGroup): View {\n    return view?.apply { \n                (tag as Holder).title.text = getItem(i) \n           } ?: View.inflate(context, R.layout.item_spinner, parent).apply {\n                     tag(Holder(this))\n                }\n}\n</code></pre>\n\n<p>And there are another 10 variations, but you can experiment to see what you like.</p>\n\n<p>It is considered less-than-a-good practice (but allowed) to shadow variables by using the same name, that is why it is a compiler warning.  And why you see a change in the variable name above from <code>view</code> to <code>tempView</code></p>\n"}, {"comments": [{"owner": {"reputation": 1651, "user_id": 329999, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/b68480958b1c12b1d11da649adcaaf64?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/329999/mitch"}, "edited": false, "score": 0, "creation_date": 1552361323, "post_id": 44147049, "comment_id": 96969581, "body": "Doesn&#39;t seem to work. I don&#39;t know what this does, but I think it does nothing but shut up the compiler and modify the local variable which it then throws away."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1651, "user_id": 329999, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/b68480958b1c12b1d11da649adcaaf64?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/329999/mitch"}, "edited": false, "score": 0, "creation_date": 1552387036, "post_id": 44147049, "comment_id": 96980319, "body": "If you re-assign a function parameter in Java, is it not thrown away? If you don&#39;t know what this does, this doesn&#39;t seem to work?"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 1, "last_activity_date": 1495585522, "creation_date": 1495585522, "answer_id": 44147049, "question_id": 44109098, "link": "https://stackoverflow.com/questions/44109098/how-do-i-make-method-param-mutable-in-kotlin/44147049#44147049", "title": "How do I make method param mutable in Kotlin?", "body": "<p>There's a dirty but useful way to achieve that.</p>\n\n<pre><code>fun a(b: Int) {\n   var b = b\n   b++ // this compiles\n}\n</code></pre>\n"}], "owner": {"reputation": 2632, "user_id": 1416976, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9f7cc757550be374e3d3b452016070c3?s=128&d=identicon&r=PG", "display_name": "oleg.semen", "link": "https://stackoverflow.com/users/1416976/oleg-semen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7472, "favorite_count": 3, "accepted_answer_id": 44124878, "answer_count": 4, "score": 6, "last_activity_date": 1585493226, "creation_date": 1495444610, "question_id": 44109098, "link": "https://stackoverflow.com/questions/44109098/how-do-i-make-method-param-mutable-in-kotlin", "title": "How do I make method param mutable in Kotlin?", "body": "<p>I'm implementing a <code>SpinnerAdapter</code> in Android project. So I have to override <code>getView(i: Int, convertView: View, parent: ViewGroup)</code> method. So <code>convertView</code> is here in order to reuse existing view and reduce memory usage and GC occurrences. So if it is <code>null</code> I have to create view and use already created otherwise. </p>\n\n<p>So in fact I have to write something like this (officially recomended by google):</p>\n\n<pre><code>if (view == null) {\n    view = View.inflate(context, R.layout.item_spinner, parent)\n    view.tag(Holder(view))\n} else {\n    (view.tag as Holder).title.text = getItem(i)\n}\n</code></pre>\n\n<p>But Kotlin does not allow to write to param.\nWhat I found on the internet is an official <a href=\"https://blog.jetbrains.com/kotlin/2013/02/kotlin-m5-1/\" rel=\"noreferrer\">blog post</a> that says that it is not possible since Feb, 2013. </p>\n\n<p>So I'm wondering if there is any workaround ?</p>\n"}, {"tags": ["closures", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1495444193, "post_id": 44108855, "comment_id": 75237197, "body": "Yup, the error is because it is because it is not inlined. Also I just saw IntelliJ suggest <code>return@forEachLine</code>. I did not know about this syntax! I was hoping to return the device directly from the closure, but this will do. Thanks for your help!"}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 2, "last_activity_date": 1495443952, "creation_date": 1495443952, "answer_id": 44108855, "question_id": 44108489, "link": "https://stackoverflow.com/questions/44108489/return-from-foreachline/44108855#44108855", "title": "Return from forEachLine", "body": "<p>The former example works because <code>forEach</code> is an <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">inline method</a>, while <code>forEachLine</code> is not. However, you can do this:</p>\n\n<pre><code>private fun getDeviceType(): Device {\n    var device = Device.UNKNOWN\n    File(PATH).forEachLine {\n        if (it == \"my search string\") {\n            device = Device.DEVICE_1\n            return@forEachLine // Exits the closure only\n        }\n    }\n    return device\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 3, "last_activity_date": 1495444459, "creation_date": 1495444459, "answer_id": 44109037, "question_id": 44108489, "link": "https://stackoverflow.com/questions/44108489/return-from-foreachline/44109037#44109037", "title": "Return from forEachLine", "body": "<p>You can use a <code>Sequence&lt;String&gt;</code> of the lines in the file:</p>\n\n<pre><code>private fun getDeviceType(): Device {\n    File(PATH).useLines { lines -&gt;\n        lines.forEach {\n            if (it == \"my search string\") {\n                return Device.DEVICE_1\n            }\n        }   \n    }\n\n    return Device.UNKNOWN\n}\n</code></pre>\n\n<p>For smaller files it is also possible to read the lines into a list:</p>\n\n<pre><code>private fun getDeviceType(): Device {\n    File(PATH).readLines().forEach {\n        if (it == \"my search string\") {\n            return Device.DEVICE_1\n        }\n    }   \n\n    return Device.UNKNOWN\n}\n</code></pre>\n"}], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 44108855, "answer_count": 2, "score": 2, "last_activity_date": 1495444459, "creation_date": 1495442971, "question_id": 44108489, "link": "https://stackoverflow.com/questions/44108489/return-from-foreachline", "title": "Return from forEachLine", "body": "<p>I have this method</p>\n\n<pre><code>private fun getDeviceType(): Device {\n    ExecuteCommand().forEach {\n        if (it == \"my search string\") {\n            return Device.DEVICE_1\n        }\n    }\n    return Device.UNKNOWN\n}\n</code></pre>\n\n<p>where <code>ExecuteCommand()</code> actually does a <code>cat file</code> and returns a list of the file contents. So instead of executing a shell command, I changed it to</p>\n\n<pre><code>private fun getDeviceType(): Device {\n    File(PATH).forEachLine {\n        if (it == \"my search string\") {\n            return Device.DEVICE_1\n        }\n    }\n    return Device.UNKNOWN\n}\n</code></pre>\n\n<p>But now compiler complains that <code>return is not allowed here</code>.</p>\n\n<p>How can I exit from the closure?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 193, "user_id": 4361042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8692446d433982c5919ed1541a935023?s=128&d=identicon&r=PG", "display_name": "djo", "link": "https://stackoverflow.com/users/4361042/djo"}, "edited": false, "score": 0, "creation_date": 1495606106, "post_id": 44107376, "comment_id": 75317487, "body": "Greetings. Why are you using findViewById when you can write it <code>textViewFoodName = itemView.textViewFoodName</code>? :)"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 193, "user_id": 4361042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8692446d433982c5919ed1541a935023?s=128&d=identicon&r=PG", "display_name": "djo", "link": "https://stackoverflow.com/users/4361042/djo"}, "edited": false, "score": 0, "creation_date": 1495606207, "post_id": 44107376, "comment_id": 75317520, "body": "@DJO it&#39;s just dumb converter that did that, i have changed it."}, {"owner": {"reputation": 193, "user_id": 4361042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8692446d433982c5919ed1541a935023?s=128&d=identicon&r=PG", "display_name": "djo", "link": "https://stackoverflow.com/users/4361042/djo"}, "edited": false, "score": 0, "creation_date": 1495606249, "post_id": 44107376, "comment_id": 75317545, "body": "Glad to hear that."}], "answers": [{"comments": [{"owner": {"reputation": 3217, "user_id": 1448316, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wHOVd.jpg?s=128&g=1", "display_name": "Sreekanth Karumanaghat", "link": "https://stackoverflow.com/users/1448316/sreekanth-karumanaghat"}, "edited": false, "score": 4, "creation_date": 1510147496, "post_id": 44107453, "comment_id": 81310593, "body": "It did help me :)"}, {"owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 2, "creation_date": 1512104794, "post_id": 44107453, "comment_id": 82131420, "body": "Or you can also add <code>internal</code> keyword on the adapter class also. Like <code>internal class SomeClassName</code>"}, {"owner": {"reputation": 3816, "user_id": 3239250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NLr4O.jpg?s=128&g=1", "display_name": "Pranav Karnik", "link": "https://stackoverflow.com/users/3239250/pranav-karnik"}, "edited": false, "score": 0, "creation_date": 1575693984, "post_id": 44107453, "comment_id": 104661093, "body": "Although silly, but some common mistake that the beginners do, very helpful answer \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 42, "last_activity_date": 1495439427, "creation_date": 1495439427, "answer_id": 44107453, "question_id": 44107376, "link": "https://stackoverflow.com/questions/44107376/recyclerview-adapter-error-public-functions-exposes-its-internal-return-type-i/44107453#44107453", "title": "RecyclerView.Adapter- Error: public functions exposes its internal return type in Kotlin", "body": "<p>My bad, a silly mistake. I converted Java code to Kotlin in Android Studio, So it converted inner class as internal inner class.</p>\n\n<p>I just removed internal it works fine.</p>\n\n<p>I was going to delete this question, and just thought same issue someone might run into, so just posted an answer. </p>\n"}, {"tags": [], "owner": {"reputation": 1713, "user_id": 4719751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/diQ2Q.jpg?s=128&g=1", "display_name": "Sriyank Siddhartha", "link": "https://stackoverflow.com/users/4719751/sriyank-siddhartha"}, "is_accepted": false, "score": 4, "last_activity_date": 1513766843, "creation_date": 1513766843, "answer_id": 47904276, "question_id": 44107376, "link": "https://stackoverflow.com/questions/44107376/recyclerview-adapter-error-public-functions-exposes-its-internal-return-type-i/47904276#47904276", "title": "RecyclerView.Adapter- Error: public functions exposes its internal return type in Kotlin", "body": "<p>There are two aspect of this issue:</p>\n\n<ol>\n<li><p>If you have outer class as public then Kotlin does not allow you to expose it's private or internal member as superclass argument, or as return type or even as a parameter. The inner class should have the same modifier as the eclosing class i.e. public.</p></li>\n<li><p>Another aspect is if you have outer class as private or internal then in that case your inner class can be private or internal respectively. </p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 2, "last_activity_date": 1524130805, "creation_date": 1524130805, "answer_id": 49917739, "question_id": 44107376, "link": "https://stackoverflow.com/questions/44107376/recyclerview-adapter-error-public-functions-exposes-its-internal-return-type-i/49917739#49917739", "title": "RecyclerView.Adapter- Error: public functions exposes its internal return type in Kotlin", "body": "<p>In my case a message was: \"'public' function exposes its 'internal' parameter type SomeType\". Before it I have changed a class visiblity from <code>internal</code> to:</p>\n\n<pre><code>class ClassName(type: SomeType, ...)\n</code></pre>\n\n<p>So, I found the class SomeType:</p>\n\n<pre><code>internal enum class SomeType\n</code></pre>\n\n<p>and removed <code>internal</code>.</p>\n"}], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6212, "favorite_count": 5, "accepted_answer_id": 44107453, "answer_count": 3, "score": 17, "last_activity_date": 1524130805, "creation_date": 1495439193, "question_id": 44107376, "link": "https://stackoverflow.com/questions/44107376/recyclerview-adapter-error-public-functions-exposes-its-internal-return-type-i", "title": "RecyclerView.Adapter- Error: public functions exposes its internal return type in Kotlin", "body": "<p>I am implementing a RecylcerView.Adapter class in Kotlin.\nI am getting compile time error, see comments in following code.</p>\n\n<pre><code>// Compile time Error: 'public' function exposes its 'internal' return type ViewHolder\nclass DietListAdapter(context: Context, private val foodList: ArrayList&lt;Food&gt;) : RecyclerView.Adapter&lt;DietListAdapter.ViewHolder&gt;() {\n\n    private val inflater: LayoutInflater\n    private var onItemClick: Callback&lt;Void, Int&gt;? = null\n\n    init {\n        inflater = LayoutInflater.from(context)\n    }\n    // Compile time Error: 'public' function exposes its 'internal' return type ViewHolder\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DietListAdapter.ViewHolder {\n        val holder = ViewHolder(inflater.inflate(R.layout.layout_food_list_item, parent, false))\n        return holder\n    }\n    // Compile time Error: 'public' function exposes its 'internal' parameter type ViewHolder\n    override fun onBindViewHolder(holder: DietListAdapter.ViewHolder, position: Int) {\n        holder.textViewFoodName.text = foodList[position].foodName\n        holder.textViewFoodDesc.text = foodList[position].foodDesc\n\n        holder.itemView.setOnClickListener {\n            if (onItemClick != null)\n                onItemClick!!.callback(foodList[position].foodId)\n        }\n    }\n    ...\n    ...\n    internal inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var textViewFoodName: TextView\n        var textViewFoodDesc: TextView\n\n        init {\n            textViewFoodName = itemView.findViewById(R.id.textViewFoodName) as TextView\n            textViewFoodDesc = itemView.findViewById(R.id.textViewFoodDesc) as TextView\n        }\n    }\n    ...\n    ...\n}\n</code></pre>\n\n<p>I have checked it in Kotlin documentation, No solution.</p>\n\n<p>Has anyone else faced this issue?</p>\n"}, {"tags": ["android", "orientation", "kotlin", "onconfigurationchanged"], "comments": [{"owner": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1495438560, "post_id": 44107007, "comment_id": 75233949, "body": "In kotlin you need to use :  mytext?.text = &quot;Changed to Landscape&quot; rather than this  mytext?.setText(&quot;Changed to Landscape&quot;)"}, {"owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1495438646, "post_id": 44107007, "comment_id": 75233992, "body": "@TerrilThomas the issue is onConfigurationChanged fun is not called"}, {"owner": {"reputation": 1022, "user_id": 7490702, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7ea03927b315a836cc81c86e3f505797?s=128&d=identicon&r=PG&f=1", "display_name": "JavaBanana", "link": "https://stackoverflow.com/users/7490702/javabanana"}, "edited": false, "score": 0, "creation_date": 1495447982, "post_id": 44107007, "comment_id": 75239768, "body": "mytext?.setText() works while being in onCreate method. The problem is that onConfigurationChanged() is not being called"}, {"owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "edited": false, "score": 0, "creation_date": 1495450904, "post_id": 44107007, "comment_id": 75241610, "body": "Don&#39;t use settext like this in kotlin its wrong check the link <a href=\"http://stackoverflow.com/questions/44096838/how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/44096865?noredirect=1#comment75216911_44096865\" title=\"how to get and set a text to textview in android using kotlin\">stackoverflow.com/questions/44096838/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1495439401, "post_id": 44107330, "comment_id": 75234417, "body": "This works : android:configChanges=&quot;orientation|keyboardHidden|screenSize&zwnj;&#8203;&quot;"}, {"owner": {"reputation": 1022, "user_id": 7490702, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7ea03927b315a836cc81c86e3f505797?s=128&d=identicon&r=PG&f=1", "display_name": "JavaBanana", "link": "https://stackoverflow.com/users/7490702/javabanana"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1495449861, "post_id": 44107330, "comment_id": 75240906, "body": "@TerrilThomas you were right. adding android:configChanges=&quot;orientation|screenSize to the activity in manifest makd it work."}], "tags": [], "owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "is_accepted": true, "score": 4, "last_activity_date": 1495439053, "creation_date": 1495439053, "answer_id": 44107330, "question_id": 44107007, "link": "https://stackoverflow.com/questions/44107007/why-isnt-onconfigurationchanged-being-called/44107330#44107330", "title": "Why isn&#39;t onConfigurationChanged being called?", "body": "<p>Use this code to get the confi chage</p>\n\n<pre><code>override fun onConfigurationChanged(newConfig: Configuration?) {\n        super.onConfigurationChanged(newConfig)\n        if (newConfig != null) {\n            if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                Toast.makeText(this, \"landscape\", Toast.LENGTH_SHORT).show();\n            } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) {\n                Toast.makeText(this, \"portrait\", Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n\n<p>A couple of things to try:</p>\n\n<p><code>android:configChanges=\"orientation|keyboardHidden|screenSize\"</code> rather than <code>android:configChanges=\"orientation\"</code></p>\n\n<p>Ensure that you are not calling <code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);</code> anywhere. This will cause onConfigurationChange() to not fire.</p>\n"}], "owner": {"reputation": 1022, "user_id": 7490702, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7ea03927b315a836cc81c86e3f505797?s=128&d=identicon&r=PG&f=1", "display_name": "JavaBanana", "link": "https://stackoverflow.com/users/7490702/javabanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2883, "favorite_count": 0, "accepted_answer_id": 44107330, "answer_count": 1, "score": 3, "last_activity_date": 1495439053, "creation_date": 1495438004, "question_id": 44107007, "link": "https://stackoverflow.com/questions/44107007/why-isnt-onconfigurationchanged-being-called", "title": "Why isn&#39;t onConfigurationChanged being called?", "body": "<p>I'm writing a code that changes the TextView's text when the orientation is changed \nI am using the onConfigurationChanged() listener for changing the text</p>\n\n<pre><code>override fun onConfigurationChanged(newConfig: Configuration?) {\n    super.onConfigurationChanged(newConfig)\n\n    val orientation : Int = getResources().getConfiguration().orientation\n    val oTag = \"Orientation Change\"\n\n    if(orientation == (Configuration.ORIENTATION_LANDSCAPE)){\n        mytext?.setText(\"Changed to Landscape\")\n        Log.i(oTag, \"Orientation Changed to Landscape\")\n\n    }else if (orientation == (Configuration.ORIENTATION_PORTRAIT)){\n        mytext?.setText(\"Changed to Portratit\")\n        Log.i(oTag, \"Orientation Changed to Portratit\")\n    }else{\n        Log.i(oTag, \"Nothing is coming!!\")\n    }\n}\n</code></pre>\n\n<p>but nothing happens not even in the Log</p>\n\n<p>also I have added this attribute to my Activity in manifest file</p>\n\n<pre><code>android:configChanges=\"orientation\"\n</code></pre>\n\n<p>What am I missing here ?\nalso is there any other way to achieve this?</p>\n"}, {"tags": ["int", "boolean", "gson", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1495438029, "post_id": 44106967, "comment_id": 75233646, "body": "Please check if this helps: <a href=\"http://stackoverflow.com/questions/39962284/gson-deserialization-with-kotlin-initializer-block-not-called\" title=\"gson deserialization with kotlin initializer block not called\">stackoverflow.com/questions/39962284/&hellip;</a>"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1495442015, "post_id": 44106967, "comment_id": 75235802, "body": "If you want your constructor to be called properly by the serialization library (instead of using <code>Unsafe</code> to instantiate it), you may be interested in <a href=\"https://medium.com/square-corner-blog/kotlins-a-great-language-for-json-fcd6ef99256b\" rel=\"nofollow noreferrer\">Moshi</a>, which in some ways can be seen as a successor to Gson."}], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 3, "last_activity_date": 1495438131, "creation_date": 1495438131, "answer_id": 44107055, "question_id": 44106967, "link": "https://stackoverflow.com/questions/44106967/kotlin-data-class-gson-serialization-issue/44107055#44107055", "title": "Kotlin data class Gson serialization issue", "body": "<p>The problem is that the property <code>val isForceUpdate = force == 1</code> is computed once at the instantiation of the class and then stored in a field. Because Gson is using <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/UnsafeAllocator.java\" rel=\"nofollow noreferrer\"><code>Unsafe</code></a> to instantiate the class, the field is set to its default value <code>false</code>.</p>\n\n<p>All you have to do to fix this is change the property to a computed property:</p>\n\n<pre><code>val isForceUpdate get() = force == 1\n</code></pre>\n\n<p>so that the value is computed on any call and not stored in a field.</p>\n"}], "owner": {"reputation": 167, "user_id": 7952738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cq0PC.jpg?s=128&g=1", "display_name": "XieEDeHeiShou", "link": "https://stackoverflow.com/users/7952738/xieedeheishou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1874, "favorite_count": 0, "accepted_answer_id": 44107055, "answer_count": 1, "score": 3, "last_activity_date": 1495438131, "creation_date": 1495437914, "last_edit_date": 1495437983, "question_id": 44106967, "link": "https://stackoverflow.com/questions/44106967/kotlin-data-class-gson-serialization-issue", "title": "Kotlin data class Gson serialization issue", "body": "<p>Im a little bit confused for my kotlin class didn't work as expected:</p>\n\n<p>the data class used to check update info:<br/></p>\n\n<pre><code>data class UpdateInfo constructor(//kotlin class\n    val description: String,\n    val force: Int,\n    val platform: String,\n    val title: String,\n    val url: String,\n    @SerializedName(\"version\")\n    val versionCode: Int = 0\n) : Serializable {\n    val isForceUpdate = force == 1\n}\n</code></pre>\n\n<p>also a util used to decode object form json:<br/></p>\n\n<pre><code>public class JsonUtil {//java class\n    private static final Gson gson;\n    static {\n        BooleanAdapter booleanAdapter = new BooleanAdapter();\n        gson = new GsonBuilder()\n            .serializeNulls()\n            .disableHtmlEscaping()\n            .setLenient()\n            .registerTypeAdapter(Boolean.class, booleanAdapter)\n            .registerTypeAdapter(boolean.class, booleanAdapter)\n            .create();\n    }\n}\n</code></pre>\n\n<p>when I test it:</p>\n\n<pre><code>val json = \"{\\\"force\\\"=\\\"1\\\"}\"\nval info = JsonUtil.fromJsonObject(json, UpdateInfo::class.java)\nprintln(info)\nprintln(info.force == 1)\nprintln(info.isForceUpdate)\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>UpdateInfo(description=null, force=1, platform=null, title=null, url=null,versionCode=0)\ntrue\nfalse\n</code></pre>\n\n<p>What?? info.isForceUpdate = false ???<br/>\nThen I tried <code>lateinit</code> or <code>by lazy{}</code>, still not works.\nSo, what should I do..I'm useing <code>info.force==1</code> directly now,but I still want to know why this happend.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 4192, "user_id": 1737321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UuwGl.png?s=128&g=1", "display_name": "agonist_", "link": "https://stackoverflow.com/users/1737321/agonist"}, "edited": false, "score": 1, "creation_date": 1495432425, "post_id": 44105504, "comment_id": 75230790, "body": "Jack is deprecated, you shouldn&#39;t use it"}, {"owner": {"reputation": 391, "user_id": 1725535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qnaZJ.png?s=128&g=1", "display_name": "Shubham Naik", "link": "https://stackoverflow.com/users/1725535/shubham-naik"}, "edited": false, "score": 0, "creation_date": 1495432499, "post_id": 44105504, "comment_id": 75230820, "body": "Don&#39;t use deprecated tools for your safety"}], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495433066, "post_id": 44105610, "comment_id": 75231033, "body": "Yes i am using 2.3.2 . So how do i enable lambda expression along with kotlin in IDE 2.3.2 ? Is this possible?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495433162, "post_id": 44105610, "comment_id": 75231077, "body": "which gradle dependency are you using?"}, {"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495433258, "post_id": 44105610, "comment_id": 75231105, "body": "I am using classpath &#39;com.android.tools.build:gradle:2.3.2&#39;"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 1, "creation_date": 1495433995, "post_id": 44105610, "comment_id": 75231469, "body": "Yes you can not use jack with Kotlin version above 1.1.1. set your kotlin version 1.1.1. It will work."}, {"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434115, "post_id": 44105610, "comment_id": 75231519, "body": "By any means if i want to use latest kotlin version with lambda expression what might be the best solution?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434207, "post_id": 44105610, "comment_id": 75231577, "body": "Kotlin by default supports lambda expression. You do not need to do anything. Just enable kotlin and you are done."}, {"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434531, "post_id": 44105610, "comment_id": 75231738, "body": "But i am using both kotlin and Java Class . So i think the best solution is to download Android Studio 3.0 preview?"}, {"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434708, "post_id": 44105610, "comment_id": 75231839, "body": "Can you please update you answer and specify more clearly about the context so that i can upvote you answer. 1. Only Kotlin class (No need of Lambda Expression kotlin itself supports it) and 2. If you want both kotlin and java support utilizing latest kotlin plugin then you need to download android studio 3.0 preview."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434778, "post_id": 44105610, "comment_id": 75231866, "body": "Yes, but you might find hard to use kotlin in 3.0, because i tried it on ubuntu machine but kotlin lint functionality wan&#39;t working. You can try if it works for you."}, {"owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "edited": false, "score": 0, "creation_date": 1495434878, "post_id": 44105610, "comment_id": 75231930, "body": "Yes i am also using ubuntu machine . Thank you for the suggestion i will check it out."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 3, "last_activity_date": 1495435400, "last_edit_date": 1495435400, "creation_date": 1495432900, "answer_id": 44105610, "question_id": 44105504, "link": "https://stackoverflow.com/questions/44105504/kotlin-and-jack-unsupported-android-studio-2-3-2/44105610#44105610", "title": "Kotlin and Jack unsupported (Android Studio 2.3.2)", "body": "<p>If you are using latest IDE(3.0, preview version) it won't let you use <code>Jack</code> or you are using kotlin version above 1.1.1.</p>\n\n<p>Jack has been deprecated because of the build time performance issue, It was mentioned in one of the session of google IO 2017. You can read this <a href=\"https://android-developers.googleblog.com/2017/03/future-of-java-8-language-feature.html\" rel=\"nofollow noreferrer\">blog</a></p>\n\n<p>In official documentation of Jack following warning is given:</p>\n\n<blockquote>\n  <p>The Jack toolchain is deprecated, as per this <a href=\"https://android-developers.googleblog.com/2017/03/future-of-java-8-language-feature.html\" rel=\"nofollow noreferrer\">announcement</a>. However, you may continue to use it to enable Java 8 language features until the replacement is available.</p>\n</blockquote>\n\n<p>If you still want to use it, switch back you Android studio IDE to 2.3, and revert back to kotlin 1.1.1</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Kotlin by default supports Lambda expressions. If you want to use lambda expression in java with Kotlin also, you have to use Android Studio 3.0.</p>\n"}], "owner": {"reputation": 875, "user_id": 4349332, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EAVKKk5B1U8/AAAAAAAAAAI/AAAAAAAAADU/CnsRJV91wq4/photo.jpg?sz=128", "display_name": "taman neupane", "link": "https://stackoverflow.com/users/4349332/taman-neupane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1627, "favorite_count": 0, "accepted_answer_id": 44105610, "answer_count": 1, "score": 1, "last_activity_date": 1495435400, "creation_date": 1495432375, "question_id": 44105504, "link": "https://stackoverflow.com/questions/44105504/kotlin-and-jack-unsupported-android-studio-2-3-2", "title": "Kotlin and Jack unsupported (Android Studio 2.3.2)", "body": "<p>I am getting this error while configuring kotlin plugin with Jack. I an using Android studio 2.3.2 currently.</p>\n\n<blockquote>\n  <p><em>Error:Kotlin Gradle plugin does not support the deprecated Jack toolchain. Disable Jack or revert to Kotlin Gradle plugin version\n  1.1.1.</em></p>\n</blockquote>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 3, "creation_date": 1495431374, "post_id": 44105224, "comment_id": 75230422, "body": "<a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 6, "last_activity_date": 1495431112, "creation_date": 1495431112, "answer_id": 44105256, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string/44105256#44105256", "title": "What is difference between var name: String? and var name: String", "body": "<p><code>String?</code> can be null and <code>String</code> can not be null, that's about all there's to it.</p>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 8, "last_activity_date": 1495432318, "last_edit_date": 1495432318, "creation_date": 1495431193, "answer_id": 44105271, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string/44105271#44105271", "title": "What is difference between var name: String? and var name: String", "body": "<p>When you use <code>?</code>, it tells, you can have null value also. Because Kotlin enforces <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">null safety</a>.</p>\n\n<p>See comments in following code:</p>\n\n<pre><code>data class Person(var name: String?) { // This can have null value also\n//...\n}\ndata class Person(var name: String) { // This can not have a null value, it will give compile time error.\n//...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1495432208, "post_id": 44105336, "comment_id": 75230711, "body": "? is not a safe casting operator in Kotlin; the safe casting operator is &quot;as?&quot;. Moreover, in this example there are no casts; the example declares a property of a nullable type."}], "tags": [], "owner": {"reputation": 3, "user_id": 8046239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7453cc8ed1c3afc23b4d514024db9184?s=128&d=identicon&r=PG&f=1", "display_name": "tanuj sharma", "link": "https://stackoverflow.com/users/8046239/tanuj-sharma"}, "is_accepted": false, "score": -3, "last_activity_date": 1495439846, "last_edit_date": 1495439846, "creation_date": 1495431476, "answer_id": 44105336, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string/44105336#44105336", "title": "What is difference between var name: String? and var name: String", "body": "<p>The <code>?</code> would be for safe casting operator for <strong>kotlin</strong>. \nFor eg. if we have a cast operation like :</p>\n\n<pre><code>val x: String = y as String\n</code></pre>\n\n<p>and if <code>y</code> is <code>null</code>, then the above code will throw an exception. To avoid this, we can use safe cast operator (<code>?</code>). The above snippet becomes :</p>\n\n<pre><code>val x: String? = y as? String\n</code></pre>\n\n<p>This will return <code>null</code> if there is any kind of failure while casting.\nPlease find the reading at this <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1495508847, "post_id": 44116043, "comment_id": 75269148, "body": "This is somewhat misleading, please edit.  The <code>?</code> operator is not the null safety operator, it is the nullability of a type.  Plus your examples do not use that operator after you say &quot;example:&quot; ... lastly the last comment isn&#39;t always true, especially for a var unless it is a local variable that could never be modified by another thread."}, {"owner": {"reputation": 29, "user_id": 8032743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5P2Gf.jpg?s=128&g=1", "display_name": "Alenkart Rodriguez", "link": "https://stackoverflow.com/users/8032743/alenkart-rodriguez"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495551191, "post_id": 44116043, "comment_id": 75294891, "body": "I edited my answer and added the suggestions commented by @JaysonMinard"}], "tags": [], "owner": {"reputation": 29, "user_id": 8032743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5P2Gf.jpg?s=128&g=1", "display_name": "Alenkart Rodriguez", "link": "https://stackoverflow.com/users/8032743/alenkart-rodriguez"}, "is_accepted": false, "score": 2, "last_activity_date": 1495546941, "last_edit_date": 1495546941, "creation_date": 1495464716, "answer_id": 44116043, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string/44116043#44116043", "title": "What is difference between var name: String? and var name: String", "body": "<p>The \"?\" operator defines the null-ability of a variable.</p>\n\n<p>Examples:</p>\n\n<p>Accept String type but also accept null value.</p>\n\n<pre><code>var x :String? = \"\"\nx = null // works fine\n</code></pre>\n\n<p>Only accept String type, in case you intent to set it's value to null will provoke a compilation error.</p>\n\n<pre><code>var x :String = \"\"\nx = null // will provoke a compilation error.\n</code></pre>\n\n<p>It's important to keep in mind after you check the null value of a variable it will be automatically cast to non-nullable type.  </p>\n\n<pre><code>fun test() {\n\n    var x: String? = \"\"\n    x = null // works fine\n    x = \"String type\" // works fine\n\n    if(x == null) {\n      println(\"The var x can't be null\")\n      return\n    }\n\n    x = null // will provoke a compilation error.\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n   test()\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Kotlin Documentation, null-safety</a></p>\n"}, {"comments": [{"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "edited": false, "score": 0, "creation_date": 1495500838, "post_id": 44119864, "comment_id": 75267334, "body": "Also in the example above, doing an a?.length is a null-safe way of checking the length where it returns a null if a is null and the actual length if a is not null."}], "tags": [], "owner": {"reputation": 141, "user_id": 4957149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153362752590859/picture?type=large", "display_name": "Rothin Sen", "link": "https://stackoverflow.com/users/4957149/rothin-sen"}, "is_accepted": false, "score": 0, "last_activity_date": 1495508744, "last_edit_date": 1495508744, "creation_date": 1495478129, "answer_id": 44119864, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string/44119864#44119864", "title": "What is difference between var name: String? and var name: String", "body": "<p>A variable declared with <strong>?</strong> indicates that the variable <strong>may or may not</strong> be null.</p>\n\n<p>Otherwise, it is interpreted as a non-null value.</p>\n\n<p>Such a feature was explicitly added to Kotlin to reduce/prevent a common runtime error, <strong>NullPointerException</strong>.</p>\n\n<p>For eg:</p>\n\n<pre><code>var a: String? = \"abc\"\na.length        // Compile Time Error, trying to access possibly null value\n\nvar b: String = \"xyz\"\nb.length        // No Error, the value is never null \n</code></pre>\n\n<p>Having said that, you can assert that a value is not null using <code>!!</code> which will remove the compiler error, but add the risk of a NPE:</p>\n\n<pre><code>var a: String? = \"abc\"\na!!.length        // Will cause Run Time Exception if a is null\n</code></pre>\n"}], "owner": {"reputation": 1837, "user_id": 1097125, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/P71Nk.jpg?s=128&g=1", "display_name": "januprasad", "link": "https://stackoverflow.com/users/1097125/januprasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2589, "favorite_count": 0, "accepted_answer_id": 44105256, "answer_count": 5, "score": 6, "last_activity_date": 1495546941, "creation_date": 1495430903, "last_edit_date": 1495440190, "question_id": 44105224, "link": "https://stackoverflow.com/questions/44105224/what-is-difference-between-var-name-string-and-var-name-string", "title": "What is difference between var name: String? and var name: String", "body": "<p>I'm new to Kotlin Programming lang.\nI've been developing apps in android.\nI found a data class taking constructor with <code>String?</code> and <code>String</code>\nCan anyone make me understand this.</p>\n\n<pre><code>data class Person(var name: String?) {\n//... \n}\ndata class Person(var name: String) {\n//...\n}\n</code></pre>\n"}, {"tags": ["guava", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495435802, "post_id": 44104598, "comment_id": 75232482, "body": "What fails exactly? From the error it looks like you failed to comply with the type rules."}], "answers": [{"comments": [{"owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 1, "creation_date": 1495442933, "post_id": 44105337, "comment_id": 75236361, "body": "Sorry, my question was missing some generics.  If I change it to SortedSetMultimap&lt;String, String&gt; then the type inference works fine.  It&#39;s the Edge class that it doesn&#39;t like.  I have reformatted my question so that it&#39;s clearer."}, {"owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 0, "creation_date": 1495476532, "post_id": 44105337, "comment_id": 75258061, "body": "No, it doesn&#39;t work.  Obviously I tried that before.  It gives me private constructor TreeMultimap&lt;K : Any!, V : Any!&gt;(keyComparator: Comparator&lt;in String!&gt;!, valueComparator: Comparator&lt;in MapCrawler.Edge!&gt;!, multimap: Multimap&lt;out String!, out MapCrawler.Edge!&gt;!) defined in com.google.common.collect.TreeMultimap.   Why even bother trying to answer the question if you&#39;re not going to test your answer?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 0, "creation_date": 1495514231, "post_id": 44105337, "comment_id": 75270500, "body": "I can&#39;t check because i will have to setup an app to use <code>TreeMultimap</code> from guava lib that i dont have time to do. I thought it might help you so i answered."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 0, "creation_date": 1495517018, "post_id": 44105337, "comment_id": 75271466, "body": "Hey @user3562927 check updated answer, this time i have tested that snippet, sorry for inconvenience."}, {"owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 0, "creation_date": 1495517175, "post_id": 44105337, "comment_id": 75271530, "body": "Not exactly what I was hoping for, but it works well enough, so thank you!"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 2, "last_activity_date": 1495516879, "last_edit_date": 1495516879, "creation_date": 1495431477, "answer_id": 44105337, "question_id": 44104598, "link": "https://stackoverflow.com/questions/44104598/kotlin-type-inference-fails-for-guava-treemultimap/44105337#44105337", "title": "Kotlin type inference fails for guava TreeMultimap", "body": "<p>You need to pass two comparator implementation to <code>create</code> function. \nHave a look at following snippet:</p>\n\n<pre><code>private val graph:SortedSetMultimap&lt;String, Food&gt; = TreeMultimap.create(Comparator&lt;String&gt; { str1, str2 -&gt; 0\n        // compare string here\n    }, Comparator&lt;Food&gt; { edge1, edge2 -&gt; 0\n        // compare Edge object here\n    })\n</code></pre>\n\n<p>I have tested this it works. You can remove data type (<code>:SortedSetMultimap&lt;String, Food&gt;</code>) as assignment statement can infer which type of value is being returned.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 44105337, "answer_count": 1, "score": 1, "last_activity_date": 1495516879, "creation_date": 1495426692, "last_edit_date": 1495442966, "question_id": 44104598, "link": "https://stackoverflow.com/questions/44104598/kotlin-type-inference-fails-for-guava-treemultimap", "title": "Kotlin type inference fails for guava TreeMultimap", "body": "<p>I have:</p>\n\n<pre><code>data class Edge(val spec: String, val weight: Int)\nprivate val graph: SortedSetMultimap&lt;String, Edge&gt; = TreeMultimap.create()\n</code></pre>\n\n<p>The call to create() is an error:</p>\n\n<p>MapCrawler.kt: (63, 71): Type inference failed. Expected type mismatch: inferred type is TreeMultimap&lt;(???..???), (???..???)>! but SortedSetMultimap was expected</p>\n\n<p>If I change it to be a </p>\n\n<pre><code>SortedSetMultimap&lt;String, String&gt; \n</code></pre>\n\n<p>it works fine (no issues with the type inference).  In other words, this line compiles just fine:</p>\n\n<pre><code>private val graph: SortedSetMultimap&lt;String, String&gt; = TreeMultimap.create()\n</code></pre>\n\n<p>What is it about the Edge class that messes up the type inference, and how do I fix it?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1495422826, "post_id": 44103653, "comment_id": 75228193, "body": "Have you tried Android Studio 3.0 Beta which has Kotlin support built in: <a href=\"https://android-developers.googleblog.com/2017/05/android-studio-3-0-canary1.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2017/05/&hellip;</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1495426981, "post_id": 44103653, "comment_id": 75229088, "body": "In what way can you not open your project? Do you get any specific error when trying to open it?"}, {"owner": {"reputation": 3, "user_id": 5871183, "user_type": "registered", "profile_image": "https://graph.facebook.com/158708814506502/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5871183/andy"}, "edited": false, "score": 0, "creation_date": 1495436854, "post_id": 44103653, "comment_id": 75233005, "body": "com.intellij.ide.plugins.PluginManager$StartupAbortedExcepti&zwnj;&#8203;on:  com.intellij.diagnostic.PluginException:  org/jetbrains/Android/uipreview/AndroidLayoutPreviewToolWind&zwnj;&#8203;owManager  [Plugin: org.jetbrain.kotlin.android.dsl]"}], "answers": [{"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 1, "last_activity_date": 1495434656, "creation_date": 1495434656, "answer_id": 44106018, "question_id": 44103653, "link": "https://stackoverflow.com/questions/44103653/anko-plugin-can-not-run-in-androidstudio-version-2-1/44106018#44106018", "title": "Anko plugin can not run in Androidstudio version &gt; 2.1", "body": "<p>I am using <code>Anko</code> with Android Studio 2.3.2.</p>\n\n<p>I think, i also had same problem but when i used whole dependency:\n<code>compile \"org.jetbrains.anko:anko:0.10.0\"</code></p>\n\n<p>But when i switch it to <code>compile \"org.jetbrains.anko:anko-commons:0.10.0\"</code> it works.</p>\n\n<p>I know it does not contains all the things, but it works for sth as much as i need.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 5871183, "user_type": "registered", "profile_image": "https://graph.facebook.com/158708814506502/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5871183/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 44106018, "answer_count": 1, "score": 0, "last_activity_date": 1495434656, "creation_date": 1495418856, "last_edit_date": 1495434119, "question_id": 44103653, "link": "https://stackoverflow.com/questions/44103653/anko-plugin-can-not-run-in-androidstudio-version-2-1", "title": "Anko plugin can not run in Androidstudio version &gt; 2.1", "body": "<p>I just want to learn kotlin,But when I download the anko plugin and restart my Android studio,I found that I can not open my project, I found  that Android studio which has version > 2.1 can not run anko, and I also don not want to download a Android studio 2.1\uff0cI use Android studio 2.3</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "is_accepted": false, "score": 0, "last_activity_date": 1495420034, "creation_date": 1495420034, "answer_id": 44103774, "question_id": 44103610, "link": "https://stackoverflow.com/questions/44103610/how-to-share-same-constructors-across-different-classes-aka-define-constructors/44103774#44103774", "title": "How to share same constructors across different classes aka define constructors in an interface?", "body": "<p>It is extremely unlikely you will find a solution to your problem. For one, constructors are not inherited in the way you suggest. They exist to initialize your part of the inheritance chain so anyone that inherits from you would still need to forward to the super classes constructor. I'm fairly certain you're stuck redeclaring those view constructors in each View class (although some of them you could probably drop based on your instantiation use case).</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1550819133, "last_edit_date": 1550819133, "creation_date": 1495427523, "answer_id": 44104713, "question_id": 44103610, "link": "https://stackoverflow.com/questions/44103610/how-to-share-same-constructors-across-different-classes-aka-define-constructors/44104713#44104713", "title": "How to share same constructors across different classes aka define constructors in an interface?", "body": "<p>Edit: I just stumbled upon this answer, and it needs updating. Using <code>@JvmOverloads</code> could be an issue in certain custom views, as calling any of the constructors generated for your own class will first delegate into the all-params constructor within the class, and then call the all-params constructor of the super, instead of each constructor calling into the super method with the matching amount of parameters. See <a href=\"https://blog.q42.nl/the-danger-of-assumptions-kotlin-with-android-custom-views-adb79bf2da45\" rel=\"nofollow noreferrer\">this article</a> (for example) for details on that.</p>\n\n<p>Original text of my answer below.</p>\n\n<hr>\n\n<p>As a solution to having to write that many constructors, you can use default arguments combined with <code>@JvmOverloads</code> to get all 4 <code>View</code> constructors easily, while only writing a primary constructor for your class:</p>\n\n<pre><code>class CustomView @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0,\n        defStyleRes: Int = 0\n) : View(context, attrs, defStyleAttr, defStyleRes) {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1550819133, "creation_date": 1495418410, "last_edit_date": 1495437067, "question_id": 44103610, "link": "https://stackoverflow.com/questions/44103610/how-to-share-same-constructors-across-different-classes-aka-define-constructors", "title": "How to share same constructors across different classes aka define constructors in an interface?", "body": "<p>Let's say I have multiple custom views in Android with same constructors</p>\n\n<pre><code>class Button: AppCompatButton {\n\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n    }\n\n    constructor(context: Context) : super(context) {\n    }\n    //Some custom implementation\n    //............\n}\n\nclass TextView: AppCompatTextView {\n\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n    }\n\n    constructor(context: Context) : super(context) {\n    }\n    //Some custom implementation\n    //............\n}\n</code></pre>\n\n<p>So I need some interface or base class which allow me to inherit form multiple views like TextView, Button, EditText, etc. </p>\n\n<p>Something like</p>\n\n<pre><code>abstract class BaseView&lt;T : View&gt; : T {\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n    }\n\n    constructor(context: Context) : super(context) {\n    }\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>interface ViewConstructor {\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n    }\n\n    constructor(context: Context) : super(context) {\n    }\n}\n</code></pre>\n\n<p>So I just use one interface or base class and do not copy past contractors again and again.How to achieve such goal in Kotlin?</p>\n\n<p>P.S. Please do not suggest use base class as View and create derived views using base class. I'm using XML and I need EditText, Button and other views as it is.</p>\n"}, {"tags": ["type-conversion", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1495396837, "post_id": 44101193, "comment_id": 75222689, "body": "Note: Sequences and arrays are two different things in Kotlin. It seems like you are asking about arrays here, not sequences. This is a sequence: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-seque&zwnj;&#8203;nce/&hellip;</a>"}, {"owner": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1495397805, "post_id": 44101193, "comment_id": 75222941, "body": "True, more bewilderment ;-)  Have edited above accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "edited": false, "score": 0, "creation_date": 1495398410, "post_id": 44101355, "comment_id": 75223117, "body": "Oh, good, seems to be available, after all.  However I wonder where that&#39;s documented.  <code>Collection&lt;Int&gt;</code> has no page of it&#39;s own does is?  Besides it seems much more cumbersome than my 13th line <code>IntArray( size ) { elementAt(it) }</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "edited": false, "score": 0, "creation_date": 1495398866, "post_id": 44101355, "comment_id": 75223253, "body": "@Daniel I believe a library function implementation is not supposed to be elegant but should be robust and efficient. For example, some collections do not support constant-time random access (e.g. <code>LinkedList</code>), so it is preferrable to use a for-loop instead of indices."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "edited": false, "score": 0, "creation_date": 1495399088, "post_id": 44101355, "comment_id": 75223341, "body": "@Daniel As to the docs, these functions are extensions, and, since they are not defined in a class, their docs are nested in the package they are declared in, see the links in the other answer."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1495404215, "post_id": 44101355, "comment_id": 75224602, "body": "@hotkey actually extensions for a class are listed on that class&#39;es doc page, if the extensions are in the same library."}], "tags": [], "owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "is_accepted": false, "score": 2, "last_activity_date": 1495397790, "creation_date": 1495397790, "answer_id": 44101355, "question_id": 44101193, "link": "https://stackoverflow.com/questions/44101193/converting-container-types/44101355#44101355", "title": "Converting container types?", "body": "<p><code>Array&lt;Int&gt;</code> and <code>IntArray</code> don't interoperate because they are very different types. The first maps to <code>Integer[]</code> while the second to <code>int[]</code>. The primitive <code>int[]</code> will be much more efficient because it is contiguously stored whereas the first essentially allocates an array of objects where each slot points at an <code>Integer</code> object. Both memory usage and performance will be vastly superior with <code>int[]</code>. </p>\n\n<p>Kotlin likes to be explicit about these types of things and as you pointed out, writing your own conversion when you need it takes one line.</p>\n\n<p>PS: Looks like Kotlin does have extension functions to go from <code>Collection</code> of numbers to the primitive arrays:</p>\n\n<pre><code>public fun Collection&lt;Int&gt;.toIntArray(): IntArray {\n    val result = IntArray(size)\n    var index = 0\n    for (element in this)\n        result[index++] = element\n    return result\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "edited": false, "score": 0, "creation_date": 1495399945, "post_id": 44101382, "comment_id": 75223556, "body": "@zienkikk Thanks to both of you!  Maybe someone should go through helper-functions for completeness and consistency (e.g. get/set/[] vs. only elementAt).  After all I started on this endeavour when I was totally clueless how to get this done.  All variants I tried intuitively lead nowhere.  And coming up with this from the doc, took me a long time."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495408587, "post_id": 44101382, "comment_id": 75225518, "body": "How would you implement <code>Sequence.toTypedArray()</code>?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 4, "last_activity_date": 1495399661, "last_edit_date": 1495399661, "creation_date": 1495397893, "answer_id": 44101382, "question_id": 44101193, "link": "https://stackoverflow.com/questions/44101193/converting-container-types/44101382#44101382", "title": "Converting container types?", "body": "<p>Actually, there are functions in stdlib that do the conversions: see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-int-array.html\" rel=\"nofollow noreferrer\"><code>.toIntArray()</code></a>, which works with <code>Array&lt;out Int&gt;</code> and <code>Collection&lt;Int&gt;</code>. The other primitive types also have such conversions: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-long-array.html\" rel=\"nofollow noreferrer\"><code>.toLongArray()</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-byte-array.html\" rel=\"nofollow noreferrer\"><code>.toByteArray()</code></a> etc.</p>\n\n<p>However, there's no such extension for <code>IntProgression</code> and <code>Sequence&lt;Int&gt;</code>, and you have to either implement it on your own or use an intermediate array or collection.</p>\n\n<p>Probably the reason for this absence is that you are not encouraged to use arrays in your code except for the performance critical parts, and instead it's idiomatic to use lists and other collections.</p>\n\n<hr>\n\n<p>Also, the three kinds of Kotlin containers, <code>Collection&lt;T&gt;</code>, <code>Sequence&lt;T&gt;</code> and <code>Array&lt;T&gt;</code>, can be converted to each other, see:</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-sequence.html\" rel=\"nofollow noreferrer\"><code>.asSequence()</code></a></li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"nofollow noreferrer\"><code>.toTypedArray()</code></a> (seems to be missing for <code>Sequence&lt;T&gt;</code>)</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-collection.html\" rel=\"nofollow noreferrer\"><code>.toCollection()</code></a> (and for <code>Sequence&lt;T&gt;</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/to-collection.html\" rel=\"nofollow noreferrer\"><code>.toCollection()</code></a>)</li>\n</ul>\n"}], "owner": {"reputation": 445, "user_id": 1122011, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/697c2c327f346f4a0e81f19740ce3f65?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1122011/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1507883417, "creation_date": 1495396586, "last_edit_date": 1507883417, "question_id": 44101193, "link": "https://stackoverflow.com/questions/44101193/converting-container-types", "title": "Converting container types?", "body": "<p>Maybe I missed something obvious... All over the doc it seems to me that Kotlin has various kinds of sequences, which don't interoperate. Even if it may be inefficient to copy a sequence \u2013 when I need to pass it to a function as a semantically same but different type, that can't be helped. So I came up (only for Int and one way) with these constructors and converters:</p>\n\n<pre><code>fun IntArray(a: Array&lt;Int&gt;) = IntArray( a.size ) { a[it] }\nfun IntArray(c: Collection&lt;Int&gt;) = IntArray( c.size ) { c.elementAt(it) }\nfun IntArray(p: IntProgression) = IntArray( p.toList() )\nfun IntArray(s: Sequence&lt;Int&gt;) = IntArray( s.toList() )\n\nfun Array&lt;Int&gt;.toIntArray() = IntArray( this )\nfun Collection&lt;Int&gt;.toIntArray() = IntArray( this )\nfun IntProgression.toIntArray() = IntArray( this )\nfun Sequence&lt;Int&gt;.toIntArray() = IntArray( this )\n\n/* If constructors are not desirable:\nfun Array&lt;Int&gt;.toIntArray() = IntArray( size ) { get(it) }\nfun Collection&lt;Int&gt;.toIntArray() = IntArray( size ) { elementAt(it) }\nfun IntProgression.toIntArray() = toList().toIntArray()\nfun Sequence&lt;Int&gt;.toIntArray() = toList().toIntArray()*/\n</code></pre>\n\n<p>Is there any reason not to have all such variants, maybe inline, in the standard library? The 3rd one even allows a nice syntax for initialization:</p>\n\n<pre><code>val ia = IntArray( 7 .. 11 )\n</code></pre>\n"}, {"tags": ["javafx", "javafx-8", "kotlin"], "comments": [{"owner": {"reputation": 3870, "user_id": 2336725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0b96a26cf233d752469445595f872?s=128&d=identicon&r=PG", "display_name": "Teepeemm", "link": "https://stackoverflow.com/users/2336725/teepeemm"}, "edited": false, "score": 0, "creation_date": 1495391652, "post_id": 44099948, "comment_id": 75221198, "body": "So what&#39;s line 41?"}, {"owner": {"reputation": 25, "user_id": 7914088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee789f2e408efec2e533eaee866e6473?s=128&d=identicon&r=PG&f=1", "display_name": "Name Yuri", "link": "https://stackoverflow.com/users/7914088/name-yuri"}, "reply_to_user": {"reputation": 3870, "user_id": 2336725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a0b96a26cf233d752469445595f872?s=128&d=identicon&r=PG", "display_name": "Teepeemm", "link": "https://stackoverflow.com/users/2336725/teepeemm"}, "edited": false, "score": 0, "creation_date": 1495421821, "post_id": 44099948, "comment_id": 75228003, "body": "tableView.edit(pos.row, pos.tableColumn) method tableColumn returned an invalid type."}, {"owner": {"reputation": 838, "user_id": 7871705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMOtc.png?s=128&g=1", "display_name": "monolith52", "link": "https://stackoverflow.com/users/7871705/monolith52"}, "edited": false, "score": 0, "creation_date": 1495441310, "post_id": 44099948, "comment_id": 75235463, "body": "<code>tableView.edit(pos.row, tableView.columns.get(pos.column))</code> is type safe."}, {"owner": {"reputation": 25, "user_id": 7914088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee789f2e408efec2e533eaee866e6473?s=128&d=identicon&r=PG&f=1", "display_name": "Name Yuri", "link": "https://stackoverflow.com/users/7914088/name-yuri"}, "edited": false, "score": 0, "creation_date": 1495445923, "post_id": 44099948, "comment_id": 75238382, "body": "Thank you. Everything work."}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 0, "last_activity_date": 1495535745, "creation_date": 1495535745, "answer_id": 44132400, "question_id": 44099948, "link": "https://stackoverflow.com/questions/44099948/problems-with-the-edit-method-in-tableview/44132400#44132400", "title": "Problems with the &quot;edit&quot; method in TableView", "body": "<p>Maybe you need</p>\n\n<pre><code>    tableView.setOnKeyPressed { event -&gt;\n        val pos = tableView.focusModel.focusedCell\n        if (pos != null &amp;&amp; event.code.isLetterKey) {\n            tableView.edit(pos.row, tableView.columns[pos.column])\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7914088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee789f2e408efec2e533eaee866e6473?s=128&d=identicon&r=PG&f=1", "display_name": "Name Yuri", "link": "https://stackoverflow.com/users/7914088/name-yuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 44132400, "answer_count": 1, "score": 0, "last_activity_date": 1495535745, "creation_date": 1495388679, "last_edit_date": 1495423050, "question_id": 44099948, "link": "https://stackoverflow.com/questions/44099948/problems-with-the-edit-method-in-tableview", "title": "Problems with the &quot;edit&quot; method in TableView", "body": "<p>I'm learn kotlin and javafx. I'm trying to set up an event.</p>\n\n<p>This java code works:</p>\n\n<pre><code>tableView.setOnKeyPressed(event -&gt; {\n       TablePosition&lt;?, ?&gt; pos = tableView.getFocusModel().getFocusedCell();\n       if (pos != null &amp;&amp; event.getCode().isLetterKey()) {\n          tableView.edit(pos.getRow(), pos.getTableColumn());\n       }\n});\n</code></pre>\n\n<p>The same code in kontlin(not work):</p>\n\n<pre><code>class DynamicTableView : Application() {\n\n    @Throws(Exception::class)\n    override fun start(stage: Stage) {\n        val tableView = TableView&lt;ObservableList&lt;String&gt;&gt;()\n        tableView.setEditable(true)\n        tableView.getSelectionModel().setCellSelectionEnabled(true)\n\n\n        tableView.setOnKeyPressed { event -&gt;\n            val pos = tableView.focusModel.focusedCell\n            if (pos != null &amp;&amp; event.code.isLetterKey) {\n                tableView.edit(pos.row, pos.tableColumn)\n            }\n        }\n\n        Scene scene = new Scene(tableView);\n        primaryStage.setScene(scene);\n        primaryStage.setWidth(400);\n        primaryStage.setHeight(400);\n        primaryStage.setTitle(\"test\");\n        primaryStage.show();\n\n\n    }\n\n\n    companion object {\n\n        @JvmStatic fun main(args: Array&lt;String&gt;) {\n            launch(DynamicTableView::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>Kotlin: tableView.edit(pos.row, pos.tableColumn) method tableColumn return the wrong type.</p>\n\n<p>Verbatim: Type inference failed. Expected type mismatch: inferred type is TableColumn &lt;Any!, Any!>! but TableColumn&lt;ObservableList&lt;String>!, *>! was expected</p>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["performance", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1495437410, "post_id": 44099480, "comment_id": 75233280, "body": "As a slight performance improvement, you could try out <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 6, "creation_date": 1495388603, "post_id": 44099597, "comment_id": 75220171, "body": "Please note that this method will likely return different results from run to run. For any meaningful performance comparison use JMH"}, {"owner": {"reputation": 365, "user_id": 1457458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ec0137f8a3e9bf0504e066ca26762953?s=128&d=identicon&r=PG", "display_name": "Claude", "link": "https://stackoverflow.com/users/1457458/claude"}, "edited": false, "score": 1, "creation_date": 1542001792, "post_id": 44099597, "comment_id": 93397583, "body": "@zsmb13 <code>measureTimeMillis</code> returns zero for any function. Is there anything else I have to do?"}, {"owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "edited": false, "score": 0, "creation_date": 1564498113, "post_id": 44099597, "comment_id": 101046848, "body": "@zsmb13 yes, divide result value by 1000F to get the time in seconds. It&#39;s being rounded to int in your case."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 42, "last_activity_date": 1495386520, "creation_date": 1495386520, "answer_id": 44099597, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions/44099597#44099597", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<p>If you're looking for an in-code solution, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.system/measure-time-millis.html\" rel=\"noreferrer\"><code>measureTimeMillis</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.system/measure-nano-time.html\" rel=\"noreferrer\"><code>measureNanoTime</code></a>, like this:</p>\n\n<pre><code>val time = measureTimeMillis {\n    // call your function here\n}\n</code></pre>\n\n<p>They return the measured time in milliseconds and nanoseconds, respectively.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 27, "last_activity_date": 1614065999, "last_edit_date": 1614065999, "creation_date": 1533196577, "answer_id": 51648426, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions/51648426#51648426", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<h2>Measure execution time and also keep the result</h2>\n<h3>Standard Library</h3>\n<p>The standard library function <code>measureTimedValue</code> may be used to measure execution time and at the same time capture the result. This tuple of values is being exposed as a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-timed-value/\" rel=\"nofollow noreferrer\">TimedValue(value: T, duration: Duration)</a>:</p>\n<pre><code>@ExperimentalTime\nfun main() {\n    val (result: String, duration: Duration) = measureTimedValue {\n        operation()\n    }\n    \n    print(&quot;Got $result after ${duration.inMilliseconds} ms.&quot;)\n}\n</code></pre>\n<p>Note that this API is experimental and requires explicit opt-in.</p>\n<h3>Obsolete custom implementation</h3>\n<p>(This used to be my answer before the standard lib was extended)</p>\n<p>If you want to measure the execution time and also access the measured function's return value afterward, here's a custom solution:</p>\n<pre><code>inline fun &lt;R&gt; executeAndMeasureTimeMillis(block: () -&gt; R): Pair&lt;R, Long&gt; {\n    val start = System.currentTimeMillis()\n    val result = block()\n    return result to (System.currentTimeMillis() - start)\n}\n</code></pre>\n<p>You can call it like this:</p>\n<pre><code>val (response, duration) = executeAndMeasureTimeMillis {\n    restTemplate.getForObject&lt;AnyObject&gt;(uri)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 4, "last_activity_date": 1543523882, "creation_date": 1543523882, "answer_id": 53547188, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions/53547188#53547188", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<p>If it's enough to get the time as output on the console:</p>\n\n<pre><code>fun &lt;T&gt; timeIt(message: String = \"\", block: () -&gt; T): T {\n    val start = System.currentTimeMillis()\n    val r = block()\n    val end = System.currentTimeMillis()\n    println(\"$message: ${end - start} ms\")\n    return r\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val result = timeIt(\"note about the code\") {\n   // do something...\n}\n</code></pre>\n\n<p>Output (example):</p>\n\n<blockquote>\n  <p>note about the code: 1ms</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 1816112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf1DE.jpg?s=128&g=1", "display_name": "Sofien Rahmouni", "link": "https://stackoverflow.com/users/1816112/sofien-rahmouni"}, "is_accepted": false, "score": 0, "last_activity_date": 1563280646, "last_edit_date": 1563280646, "creation_date": 1563268313, "answer_id": 57053851, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions/57053851#57053851", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<p>For the benchmark of some code block and getting the result a same time, i do some refactor of the standard method in TimingKt class\nto give us output generic result and at the same time display a given log.\nHere is my example :</p>\n\n<pre><code>/**\n     * Executes the given block and show the elapsed time in milliseconds in a given message.\n     *\n     * @param block which will be bench marked\n     * @param logMessage log message to be displayed\n     *\n     * @return a generic result\n     *\n     */\n    private fun &lt;T&gt; measureTime(block: () -&gt; T, logMessage: String): T {\n        val start = System.currentTimeMillis()\n        val t = block()\n        val consumedTime = System.currentTimeMillis() - start\n        Log.d(TAG, \"Calculation of $logMessage time :$consumedTime milliseconds\")\n        return t\n    }\n</code></pre>\n\n<p>And how it will be used :</p>\n\n<pre><code>return measureTime({ \n// given block with return result\n}, \"message to be displayed typically the name of method which will be calculated\") \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 12622158, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBm0ocOJ6_R3CQDu7RuNcq6UMv-DUbEBHdSsmje=k-s128", "display_name": "leeJB", "link": "https://stackoverflow.com/users/12622158/leejb"}, "is_accepted": false, "score": 0, "last_activity_date": 1608601883, "last_edit_date": 1608601883, "creation_date": 1607480185, "answer_id": 65209692, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions/65209692#65209692", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<p>This is my simple time test code.</p>\n<pre><code>class TimeCounter(val name: String) {\n    var totalTime: Long = 0\n        private set\n\n    var count: Int = 0\n        private set\n\n    var minTime: Long = Long.MAX_VALUE\n        private set\n\n    var maxTime: Long = Long.MIN_VALUE\n        private set\n\n    fun addTime(time: Long) {\n        this.count++\n        this.totalTime += time\n\n        if (this.minTime &gt; time) {\n            this.minTime = time\n        }\n\n        if (this.maxTime &lt; time) {\n            this.maxTime = time\n        }\n    }\n\n    val averageTime: Double\n        get() = this.totalTime / this.count.toDouble()\n\n    fun printTime() {\n        println(&quot;(time about : '$name'), totalTime : $totalTime, count : $count, &quot; +\n                &quot;average : $averageTime, minTime : $minTime, maxTime : $maxTime&quot;)\n    }\n\n    fun &lt;T&gt; runWithTimeCount(run: () -&gt; T): T {\n        val startTime = System.currentTimeMillis()\n        return run().also {\n            this.addTime(System.currentTimeMillis() - startTime)\n        }\n    }\n}\n</code></pre>\n<p>you can use 'TimeCounter' like this, (example)</p>\n<pre><code>var sum = 0\nval testTimeCounter = TimeCounter(&quot;logic1&quot;)\nfor(i in 0 until 100){\n    sum += testTimeCounter.runWithTimeCount { \n        logic1(i) // your logic\n    }\n}\n\nprintln(sum)\ntestTimeCounter.printTime() // totalTime, average, minTime, maxTime\n</code></pre>\n"}], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11111, "favorite_count": 1, "accepted_answer_id": 44099597, "answer_count": 5, "score": 23, "last_activity_date": 1614065999, "creation_date": 1495385802, "question_id": 44099480, "link": "https://stackoverflow.com/questions/44099480/how-can-i-get-the-time-it-takes-a-function-to-test-the-performance-of-functions", "title": "How can I get the time it takes a function to test the performance of functions in Kotlin", "body": "<p>I need to check how long does a function need to run. I have the following functions which address the same task:</p>\n\n<p><strong>mixAnimalsA</strong></p>\n\n<pre><code>fun mixAnimalsA(a1: Animal, a2: Animal) =\n        when (setOf(a1, a2)) {\n            setOf(Animal.OWL, Animal.Leopard) -&gt; Beast.OWLPARD\n            setOf(Animal.ELEPHANT, Animal.BUTTERFLY) -&gt; Beast.BUTTERPHANT\n            else -&gt; throw Exception(\"Not possible combination\")\n        }\n</code></pre>\n\n<p><strong>mixAnimalsB</strong></p>\n\n<pre><code>fun mixAnimalsB(a1: Animal, a2: Animal) =\n        when (setOf(a1, a2)) {\n            (c1 == Animal.OWL &amp;&amp; c2 == Animal.Leopard) ||\n                    (c2 == Animal.OWL &amp;&amp; c1 == Animal.Leopard) -&gt; Beast.OWLPARD\n            (c1 == Animal.ELEPHANT &amp;&amp; c2 == Animal.BUTTERFLY) ||\n                    (c2 == Animal.ELEPHANT &amp;&amp; c1 == Animal.BUTTERFLY)-&gt; Beast.BUTTERPHANT\n            else -&gt; throw Exception(\"Not possible combination\")\n        }\n</code></pre>\n\n<p><code>Animal</code> and <code>Beast</code> are enumerations. How can I measure how long each function takes to run?</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1526, "user_id": 4969140, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6s6x0.jpg?s=128&g=1", "display_name": "Adrian Ja\u0142oszewski", "link": "https://stackoverflow.com/users/4969140/adrian-ja%c5%82oszewski"}, "edited": false, "score": 0, "creation_date": 1495383410, "post_id": 44098891, "comment_id": 75218543, "body": "Could you post the directory layout and the gradle script?"}, {"owner": {"reputation": 8136, "user_id": 1600533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1867190f5117fa54856a8b07947632e5?s=128&d=identicon&r=PG", "display_name": "Eldamir", "link": "https://stackoverflow.com/users/1600533/eldamir"}, "reply_to_user": {"reputation": 1526, "user_id": 4969140, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6s6x0.jpg?s=128&g=1", "display_name": "Adrian Ja\u0142oszewski", "link": "https://stackoverflow.com/users/4969140/adrian-ja%c5%82oszewski"}, "edited": false, "score": 0, "creation_date": 1495384096, "post_id": 44098891, "comment_id": 75218782, "body": "@AdrianJa\u0142oszewski Done. removed irrelevant files from the tree and some dependencies from build.gradle. Otherwise, it is all there"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495445697, "post_id": 44098891, "comment_id": 75238215, "body": "The tests fail with a <code>NoClassDefFoundError</code>. Could you post the stack trace from those?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495510483, "post_id": 44098891, "comment_id": 75269540, "body": "one side note, is you don&#39;t need <code>join</code> functions, stdlib already has <code>joinToString()</code>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495510535, "post_id": 44098891, "comment_id": 75269553, "body": "Another note, you are missing an import in the code above for the extensions, but obviously your code is compiling so it must be there in the real code."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495510671, "post_id": 44098891, "comment_id": 75269586, "body": "The part of the code with the error is <code>TestKotlinExtensions.kt:19</code> and <code>TestKotlinExtensions.kt:9</code> but we do not know what code that is from the above example, can you place a comment with the line number pointed out?  Also the stack trace as requested in case it has nothing to do with that file, but something else."}, {"owner": {"reputation": 8136, "user_id": 1600533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1867190f5117fa54856a8b07947632e5?s=128&d=identicon&r=PG", "display_name": "Eldamir", "link": "https://stackoverflow.com/users/1600533/eldamir"}, "edited": false, "score": 0, "creation_date": 1495512213, "post_id": 44098891, "comment_id": 75269971, "body": "How do I get that stack trace?"}, {"owner": {"reputation": 8136, "user_id": 1600533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1867190f5117fa54856a8b07947632e5?s=128&d=identicon&r=PG", "display_name": "Eldamir", "link": "https://stackoverflow.com/users/1600533/eldamir"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496167702, "post_id": 44098891, "comment_id": 75546127, "body": "@JaysonMinard Added relevant line numbers. The import is there: <code>import com.example.join</code>"}], "owner": {"reputation": 8136, "user_id": 1600533, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1867190f5117fa54856a8b07947632e5?s=128&d=identicon&r=PG", "display_name": "Eldamir", "link": "https://stackoverflow.com/users/1600533/eldamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1496167683, "creation_date": 1495382213, "last_edit_date": 1496167683, "question_id": 44098891, "link": "https://stackoverflow.com/questions/44098891/kotlin-gradle-fails-tests-that-work-in-intellij", "title": "Kotlin gradle fails tests that work in intellij", "body": "<p>I have some simple extensions written and some tests for them. When I run the tests through intellij, they work just fine.</p>\n\n<p>As part of trying to work from the commandline, I tried doing <code>./gradlew build</code>, but now the test fail, and I'm not sure how to proceed.</p>\n\n<p>The extensions:</p>\n\n<pre><code>package com.example\n\nfun &lt;T&gt; ArrayList&lt;T&gt;.join(separator: String): String {\n    return StringUtils.join(this.map {it.toString()}, separator)\n}\n\nfun &lt;T&gt; List&lt;T&gt;.join(separator: String): String {\n    return StringUtils.join(this.map {it.toString()}, separator)\n}\n</code></pre>\n\n<p>The tests:</p>\n\n<pre><code>import com.example.join\nimport org.junit.Assert.assertEquals\nimport org.junit.Test\n\nclass TestArrayList {\n    @Test fun joinsToString() {\n        val container = arrayListOf('A', 'B', 'C')\n\n        assertEquals(\"ABC\", container.join(\"\"))  // line 9\n        assertEquals(\"A -&gt; B -&gt; C\", container.join(\" -&gt; \"))\n    }\n}\n\n\nclass TestList {\n    @Test fun joinsToString() {\n        val container = listOf('A', 'B', 'C')\n\n        assertEquals(\"ABC\", container.join(\"\"))  // line 19\n        assertEquals(\"A -&gt; B -&gt; C\", container.join(\" -&gt; \"))\n    }\n}\n</code></pre>\n\n<p>The gradle output:</p>\n\n<pre><code>:compileKotlin UP-TO-DATE\n:compileJava UP-TO-DATE\n:copyMainKotlinClasses UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:jar UP-TO-DATE\n:assemble UP-TO-DATE\n:compileTestKotlin UP-TO-DATE\n:compileTestJava UP-TO-DATE\n:copyTestKotlinClasses UP-TO-DATE\n:processTestResources UP-TO-DATE\n:testClasses UP-TO-DATE\n:test\n\nTestList &gt; joinsToString FAILED\n    java.lang.NoClassDefFoundError at TestKotlinExtensions.kt:19\n        Caused by: java.lang.ClassNotFoundException at TestKotlinExtensions.kt:19\n\nTestArrayList &gt; joinsToString FAILED\n    java.lang.NoClassDefFoundError at TestKotlinExtensions.kt:9\n\n8 tests completed, 2 failed\n:test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///home/ruben/Dropbox/workspace/runtime-error/build/reports/tests/test/index.html\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':test'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:233)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:74)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:55)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:186)\n        at org.gradle.internal.Factories$1.create(Factories.java:22)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:183)\n        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:33)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:112)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:92)\n        at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:66)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:79)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:51)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:59)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.HintGCAfterBuild.execute(HintGCAfterBuild.java:44)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:293)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\nCaused by: org.gradle.api.GradleException: There were failing tests. See the report at: file:///home/ruben/Dropbox/workspace/runtime-error/build/reports/tests/test/index.html\n        at org.gradle.api.tasks.testing.Test.handleTestFailures(Test.java:1239)\n        at org.gradle.api.tasks.testing.Test.executeTests(Test.java:650)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:136)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:129)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:118)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:623)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:606)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n        ... 68 more\n\n\nBUILD FAILED\n\nTotal time: 1.53 secs\n</code></pre>\n\n<p>Directory structure</p>\n\n<pre><code>.\n\u251c\u2500\u2500 build.gradle\n\u251c\u2500\u2500 gradlew\n\u251c\u2500\u2500 gradlew.bat\n\u251c\u2500\u2500 settings.gradle\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 kotlin\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 com\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 example\n    \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u251c\u2500\u2500 extensions.kt\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 resources\n    \u2514\u2500\u2500 test\n        \u251c\u2500\u2500 java\n        \u251c\u2500\u2500 kotlin\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 TestKotlinExtensions.kt\n        \u2514\u2500\u2500 resources\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>group 'com.example'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n}\n\ntask wrapper(type: Wrapper) {\n  gradleVersion = \"2.7\"\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 269, "last_activity_date": 1495563119, "last_edit_date": 1495563119, "creation_date": 1495381952, "answer_id": 44098842, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/44098842#44098842", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>Use <code>is</code>. </p>\n\n\n\n<pre><code>if (myInstance is String) { ... }\n</code></pre>\n\n<p>or the reverse <code>!is</code></p>\n\n<pre><code>if (myInstance !is String) { ... }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1495386201, "post_id": 44098855, "comment_id": 75219489, "body": "It is great thing to give answer with official doc. But it is better practices to add sample code in answer, it is helpful if link was dead. Thanks for the answer."}], "tags": [], "owner": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "is_accepted": false, "score": 4, "last_activity_date": 1507204592, "last_edit_date": 1507204592, "creation_date": 1495381988, "answer_id": 44098855, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/44098855#44098855", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>Try using keyword called <code>is</code>\n<a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">Official page reference</a></p>\n\n<pre><code>if (obj is String) {\n    // obj is a String\n}\nif (obj !is String) {\n    // // obj is not a String\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 4, "creation_date": 1495434038, "post_id": 44098862, "comment_id": 75231488, "body": "Note one other nice thing here: inside the block of the <code>if</code>, <code>obj</code> is automatically cast to <code>String</code>. So you can use properties such as <code>length</code> directly, without the need to explicitly cast <code>obj</code> to <code>String</code> inside the block."}, {"owner": {"reputation": 531, "user_id": 366444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb7f27b5b31ddc7a2664477a24238790?s=128&d=identicon&r=PG", "display_name": "Juan Nunez", "link": "https://stackoverflow.com/users/366444/juan-nunez"}, "edited": false, "score": 0, "creation_date": 1611933648, "post_id": 44098862, "comment_id": 116617059, "body": "Also, nice opportunity to use an else statement ;)"}, {"owner": {"reputation": 2473, "user_id": 6056359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ca9fU.jpg?s=128&g=1", "display_name": "Isaac Obella", "link": "https://stackoverflow.com/users/6056359/isaac-obella"}, "edited": false, "score": 0, "creation_date": 1618825537, "post_id": 44098862, "comment_id": 118710731, "body": "What if i want to differentiate two classes where one extends the other e.g LinearLayoutManager &amp; GridLayoutManager"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 15, "last_activity_date": 1517038822, "last_edit_date": 1517038822, "creation_date": 1495382039, "answer_id": 44098862, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/44098862#44098862", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>We can check whether an object conforms to a given type at runtime by using the <code>is</code> operator or its negated form <code>!is</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>if (obj is String) {\n    print(obj.length)\n}\n\nif (obj !is String) {\n    print(\"Not a String\")\n}\n</code></pre>\n\n<p><strong>Another Example in case of Custom Object:</strong></p>\n\n<p>Let, I have an <code>obj</code> of type <code>CustomObject</code>.</p>\n\n<pre><code>if (obj is CustomObject) {\n    print(\"obj is of type CustomObject\")\n}\n\nif (obj !is CustomObject) {\n    print(\"obj is not of type CustomObject\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 7, "last_activity_date": 1495382142, "creation_date": 1495382142, "answer_id": 44098880, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/44098880#44098880", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>You can use <code>is</code>:</p>\n\n<pre><code>class B\nval a: A = A()\nif (a is A) { /* do something */ }\nwhen (a) {\n  someValue -&gt; { /* do something */ }\n  is B -&gt; { /* do something */ }\n  else -&gt; { /* do something */ }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "edited": false, "score": 1, "creation_date": 1586198137, "post_id": 48213377, "comment_id": 108035351, "body": "Yes this is the idiomatic way."}], "tags": [], "owner": {"reputation": 2954, "user_id": 5652513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2bQCi.jpg?s=128&g=1", "display_name": "methodsignature", "link": "https://stackoverflow.com/users/5652513/methodsignature"}, "is_accepted": false, "score": 43, "last_activity_date": 1515694106, "creation_date": 1515694106, "answer_id": 48213377, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/48213377#48213377", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>Combining <code>when</code> and <code>is</code>:</p>\n\n<pre><code>when (x) {\n    is Int -&gt; print(x + 1)\n    is String -&gt; print(x.length + 1)\n    is IntArray -&gt; print(x.sum())\n}\n</code></pre>\n\n<p>copied from <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"noreferrer\">official documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 5416615, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a098a61b2adec91399be136a8dd54a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Bala", "link": "https://stackoverflow.com/users/5416615/the-bala"}, "is_accepted": false, "score": 0, "last_activity_date": 1553673411, "creation_date": 1553673411, "answer_id": 55372262, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/55372262#55372262", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>You can check like this</p>\n\n<pre><code> private var mActivity : Activity? = null\n</code></pre>\n\n<p>then</p>\n\n<pre><code> override fun onAttach(context: Context?) {\n    super.onAttach(context)\n\n    if (context is MainActivity){\n        mActivity = context\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2308, "user_id": 5869217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NErz.jpg?s=128&g=1", "display_name": "&#193;lvaro Ag&#252;ero", "link": "https://stackoverflow.com/users/5869217/%c3%81lvaro-ag%c3%bcero"}, "is_accepted": false, "score": -4, "last_activity_date": 1557504628, "last_edit_date": 1557504628, "creation_date": 1557499463, "answer_id": 56079933, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/56079933#56079933", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>Other solution : <strong>KOTLIN</strong></p>\n\n<pre><code>val fragment = supportFragmentManager.findFragmentById(R.id.fragment_container)\n\nif (fragment?.tag == \"MyFragment\")\n{}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 10264426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HXa5fRsKE3I/AAAAAAAAAAI/AAAAAAAAAQM/zKGGc5rv0G4/photo.jpg?sz=128", "display_name": "Cevin Ways", "link": "https://stackoverflow.com/users/10264426/cevin-ways"}, "is_accepted": false, "score": 1, "last_activity_date": 1566544885, "creation_date": 1566544885, "answer_id": 57621541, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin/57621541#57621541", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>You can read Kotlin Documentation here <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/typecasts.html</a> . We can check whether an object conforms to a given type at runtime by using the <code>is</code> operator or its negated form <code>!is</code>, for the example using <code>is</code>: </p>\n\n<pre><code>fun &lt;T&gt; getResult(args: T): Int {\n    if (args is String){ //check if argumen is String\n        return args.toString().length\n    }else if (args is Int){ //check if argumen is int\n        return args.hashCode().times(5)\n    }\n    return 0\n}\n</code></pre>\n\n<p>then in main function i try to print and show it on terminal :</p>\n\n<pre><code>fun main() {\n    val stringResult = getResult(\"Kotlin\")\n    val intResult = getResult(100)\n\n    // TODO 2\n    println(stringResult)\n    println(intResult)\n}\n</code></pre>\n\n<p>This is the output</p>\n\n<pre><code>6\n500\n</code></pre>\n"}], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71544, "favorite_count": 10, "accepted_answer_id": 44098842, "answer_count": 8, "score": 125, "last_activity_date": 1577268970, "creation_date": 1495381632, "last_edit_date": 1577268970, "question_id": 44098780, "link": "https://stackoverflow.com/questions/44098780/how-to-check-instanceof-class-in-kotlin", "title": "How to check &quot;instanceof &quot; class in kotlin?", "body": "<p>In kotlin class, I have method parameter as object (See kotlin doc <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">here</a> ) for class type <strong>T</strong>. As object I am passing different classes when I am calling method.\nIn Java we can able to compare class using <code>instanceof</code> of object which class it is. </p>\n\n<p>So I want to check and compare at runtime which Class it is?</p>\n\n<p>How can I check <code>instanceof</code> class in kotlin?</p>\n"}, {"tags": ["list", "kotlin", "filtering"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495563951, "post_id": 44098709, "comment_id": 75302767, "body": "Please clarify the question that you want &quot;January&quot; filtered OUT of the list (removed) or filter the list to ONLY have &quot;January&quot;  ... The question is being interpreted in the answers in a way that seems opposite of what makes sense."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1495564897, "post_id": 44098709, "comment_id": 75303287, "body": "It is a good idea for new Kotlin developers to scan the STDLIB API reference guide so you have an idea of what is available for use.  <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/index.html</a>  And if coming from Java 8 streams, you can get an idea of equivalents in <a href=\"https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr\" title=\"what java 8 stream collect equivalents are available in the standard kotlin libr\">stackoverflow.com/questions/34642254/&hellip;</a>"}, {"owner": {"reputation": 1363, "user_id": 7013334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b30a85f42990a8b8dda7c4657280beb5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitt", "link": "https://stackoverflow.com/users/7013334/nitt"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495607128, "post_id": 44098709, "comment_id": 75317966, "body": "I needed to filter out the month January. I have edited the question"}, {"owner": {"reputation": 6696, "user_id": 537980, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/DZUB4.png?s=128&g=1", "display_name": "ctrl-alt-delor", "link": "https://stackoverflow.com/users/537980/ctrl-alt-delor"}, "edited": false, "score": 0, "creation_date": 1597356949, "post_id": 44098709, "comment_id": 112114506, "body": "filter in, or filter out?"}], "answers": [{"comments": [{"owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "edited": false, "score": 7, "creation_date": 1495386111, "post_id": 44098722, "comment_id": 75219465, "body": "Note that in Kotlin you do not have to use <code>.equals</code> explicitly. It would be more idiomatic to just use <code>==</code> which will do the right thing."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1495563374, "post_id": 44098722, "comment_id": 75302482, "body": "this is the opposite of the request, they want to remove &quot;January&quot; from the list not keep only January, please update the answer to be correct, otherwise the accepted answer should be moved to answer from zsmb13 which covers both cases."}, {"owner": {"reputation": 432, "user_id": 1062787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e460072b766bd832aa512997ca248e?s=128&d=identicon&r=PG", "display_name": "Matthew Patience", "link": "https://stackoverflow.com/users/1062787/matthew-patience"}, "edited": false, "score": 2, "creation_date": 1584561928, "post_id": 44098722, "comment_id": 107477858, "body": "You can simplify it even further with: <code>month.single { s -&gt; s == &quot;January&quot; }</code>"}, {"owner": {"reputation": 1162, "user_id": 1363998, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cad3d6c65cb93bd79273d02f17904648?s=128&d=identicon&r=PG", "display_name": "Zonker.in.Geneva", "link": "https://stackoverflow.com/users/1363998/zonker-in-geneva"}, "edited": false, "score": 0, "creation_date": 1590678338, "post_id": 44098722, "comment_id": 109776501, "body": "How would this change if you had a list of custom Objects, and not just some built-in type like Int, or String?"}], "tags": [], "owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "is_accepted": true, "score": 121, "last_activity_date": 1566425167, "last_edit_date": 1566425167, "creation_date": 1495381327, "answer_id": 44098722, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/44098722#44098722", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>You can use this code to filter out January from array, by using this code</p>\n\n\n\n<pre><code>var month: List&lt;String&gt; = arrayListOf(\"January\", \"February\", \"March\")\n// to get the result as list\nvar monthList: List&lt;String&gt; = month.filter { s -&gt; s == \"January\" }\n\n// to get a string\nvar selectedMonth: String = month.filter { s -&gt; s == \"January\" }.single()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495563272, "post_id": 44098831, "comment_id": 75302432, "body": "This is the opposite of what was asked."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495563875, "post_id": 44098831, "comment_id": 75302725, "body": "The question asks to filter the month, which means to remove it.  You do the opposite and filter everything BUT the month.  The question should be worded a bit more clearly as &quot;filter out the month&quot;"}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495564300, "post_id": 44098831, "comment_id": 75302954, "body": "@JaysonMinard Please check the answer now."}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495564780, "post_id": 44098831, "comment_id": 75303234, "body": "@JaysonMinard Thanks. The answer is looking awesome."}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 19, "last_activity_date": 1495566151, "last_edit_date": 1495566151, "creation_date": 1495381913, "answer_id": 44098831, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/44098831#44098831", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>You want to filter this list of Strings containing months.</p>\n\n\n\n<pre><code>var month : List&lt;String&gt; = arrayListOf(\"January\", \"February\", \"March\")\n</code></pre>\n\n<p>You can use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not.html\" rel=\"noreferrer\"><code>filterNot()</code></a> method of list. It returns a list containing all elements except the given predicate.</p>\n\n<pre><code>var filteredMonthList : List&lt;String&gt; = month.filterNot { s -&gt; s == \"January\" }\n// results:  [\"February\", \"March\"]\n</code></pre>\n\n<p>You can use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"noreferrer\"><code>filter()</code></a> method of list. It returns a list containing all elements matching the given predicate.</p>\n\n<pre><code>var filteredMonthList : List&lt;String&gt; = month.filter { s -&gt; s == \"January\" }\n// results:  [\"January\"]\n</code></pre>\n\n<p>After <code>filter()</code> if we use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/single.html\" rel=\"noreferrer\"><code>single()</code></a> method then it will return a single value and throw an exception if more than one value is in the list.</p>\n\n<pre><code>var filteredMonth : String = month.filter { s -&gt; s == \"January\" }.single()\n// result:  \"January\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1507107345, "post_id": 44098856, "comment_id": 80075156, "body": "How would I filter out multiple values? Say, I would like both &quot;January&quot; and &quot;March&quot; filtered out of the list?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 7, "creation_date": 1507110517, "post_id": 44098856, "comment_id": 80077166, "body": "You could do something like <code>months.filter { it !in listOf(&quot;January&quot;, &quot;March&quot; }</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 42, "last_activity_date": 1495566163, "last_edit_date": 1495566163, "creation_date": 1495382007, "answer_id": 44098856, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/44098856#44098856", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>There are a number of functions for filtering collections, if you want to keep only values matching <code>\"January\"</code>, you can use the simple <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"noreferrer\"><code>filter()</code></a>:</p>\n\n\n\n<pre><code>val months = listOf(\"January\", \"February\", \"March\")\n\nmonths.filter { month -&gt; month == \"January\" } // with explicit parameter name\nmonths.filter { it == \"January\" }             // with implicit parameter name \"it\"\n</code></pre>\n\n<p>These will give you a list containing only <code>\"January\"</code>.</p>\n\n<p>If you want all months that are <em>not</em> <code>\"January\"</code>, you can either reverse the condition using <code>!=</code>, or use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not.html\" rel=\"noreferrer\"><code>filterNot()</code></a>:</p>\n\n<pre><code>months.filter { it != \"January\" }\nmonths.filterNot { it == \"January\" } \n</code></pre>\n\n<p>These will give you a list containing <code>\"February\"</code> and <code>\"March\"</code>.</p>\n\n<p>Note that unlike Java, using the <code>==</code> and <code>!=</code> operators in Kotlin is actually the same as calling the <code>equals</code> function on the objects. For more, see the docs about <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"noreferrer\">equality</a>.</p>\n\n<p>For the complete list of collection functions in the standard library, see the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html#functions\" rel=\"noreferrer\">API reference</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6617, "user_id": 4951663, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/y4L2S.png?s=128&g=1", "display_name": "Mohit Suthar", "link": "https://stackoverflow.com/users/4951663/mohit-suthar"}, "is_accepted": false, "score": 11, "last_activity_date": 1511782723, "creation_date": 1511782723, "answer_id": 47510102, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/47510102#47510102", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>I am just sharing that if you have <strong>custom list</strong> and check whether it is <strong>null or blank</strong> you can check in Kotlin in single line\nJust do it like that</p>\n\n<pre><code>  fun filterList(listCutom: List&lt;Custom&gt;?) {\n    var fiterList = listCutom!!.filter { it.label != \"\" }\n    //Here you can get the list which is not having any kind of lable blank\n  }\n</code></pre>\n\n<p>You can check multiple conditions also</p>\n\n<pre><code> fun filterList(listCutom: List&lt;Custom&gt;?) {\n    var fiterList = listCutom!!.filter { it.label != \"\" &amp;&amp; it.value != \"\"}\n    //Here you can get the list which is not having any kind of lable or value blank\n  }\n</code></pre>\n\n<p>Note : I am assuming that <strong>label &amp; value</strong> are the variables of <strong>Custom</strong> Model class. </p>\n"}, {"tags": [], "owner": {"reputation": 1861, "user_id": 2793036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/aiInx.jpg?s=128&g=1", "display_name": "Rishabh876", "link": "https://stackoverflow.com/users/2793036/rishabh876"}, "is_accepted": false, "score": 8, "last_activity_date": 1546464371, "last_edit_date": 1546464371, "creation_date": 1513862436, "answer_id": 47925912, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/47925912#47925912", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>You can also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/find.html\" rel=\"noreferrer\">find</a> or <code>findLast</code>. This is specifically meant to return only one value instead of a list of <code>String</code> returned in case of <code>filter</code>.</p>\n\n<pre><code>var month = arrayListOf(\"January\", \"February\", \"March\")\nvar result = month.find { s -&gt; s == \"January\" }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1796, "user_id": 5788247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU3fL.jpg?s=128&g=1", "display_name": "Shomu", "link": "https://stackoverflow.com/users/5788247/shomu"}, "is_accepted": false, "score": 1, "last_activity_date": 1583374403, "creation_date": 1583374403, "answer_id": 60537302, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c/60537302#60537302", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p><strong>Filtering by predicate</strong>     </p>\n\n<pre><code>    val numbers = listOf(\"one\", \"two\", \"three\", \"four\")\n    var items: List&lt;String&gt; = numbers.filter { s -&gt; s == \"one\" }\n\n    var item = numbers.singleOrNull { it == \"one\" }\n\n    if (item != null) {\n        print(\"FOUND:$item\")\n    } else {\n        print(\"Not FOUND!\")\n    }\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 7013334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b30a85f42990a8b8dda7c4657280beb5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitt", "link": "https://stackoverflow.com/users/7013334/nitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97617, "favorite_count": 7, "accepted_answer_id": 44098722, "answer_count": 6, "score": 81, "last_activity_date": 1583374403, "creation_date": 1495381259, "last_edit_date": 1555430956, "question_id": 44098709, "link": "https://stackoverflow.com/questions/44098709/how-can-i-filter-an-arraylist-in-kotlin-so-i-only-have-elements-which-match-my-c", "title": "How can I filter an ArrayList in Kotlin so I only have elements which match my condition?", "body": "<p>I have an array:</p>\n\n<pre><code>var month: List&lt;String&gt; = arrayListOf(\"January\", \"February\", \"March\")\n</code></pre>\n\n<p>I have to filter the list so I am left with only <code>\"January\"</code>.</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495380055, "post_id": 44098445, "comment_id": 75217463, "body": "Use the <code>Any</code> type."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "reply_to_user": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495380213, "post_id": 44098445, "comment_id": 75217508, "body": "And how, exactly? <code>Property&lt;Any&gt;</code> is not valid, because <code>Any</code> is not a subtype of <code>Comparable&lt;Any&gt;</code> and as such cannot be used for <code>T</code> in <code>Property&lt;T&gt;</code>."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495381307, "post_id": 44098445, "comment_id": 75217825, "body": "Can you please provide a meaningful example showing what you&#39;re trying to achieve? Right now it seems to me that Kotlin is perfectly justified in not compiling your program."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495381839, "post_id": 44098445, "comment_id": 75218010, "body": "Not quite sure what is not meaningful about my example. I am getting some <code>Property&lt;T&gt;</code>, for which I do not know what <code>T</code> is. I am now trying to materialize that <code>T</code> by passing the property to a function, so that I can actually work with the property. I provided a bit of a bigger example though."}], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495382360, "post_id": 44098881, "comment_id": 75218165, "body": "Well, that is exactly my problem, I do not know the type. I only know it is &quot;something that is Comparable&quot;. The best way I found to express that is <code>*</code>."}], "tags": [], "owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "is_accepted": false, "score": 0, "last_activity_date": 1495382144, "creation_date": 1495382144, "answer_id": 44098881, "question_id": 44098445, "link": "https://stackoverflow.com/questions/44098445/how-to-specify-a-type-parameter-i-do-not-know/44098881#44098881", "title": "How to specify a type parameter I do not know", "body": "<p>The reason it's not compiling is because <code>Property</code> has to be parametrized by something that is <code>Comparable</code> and <code>*</code> is not.</p>\n\n<p>Any chance you can change</p>\n\n<p><code>val property: Property&lt;*&gt; = TODO()</code></p>\n\n<p>to</p>\n\n<p><code>val property: Property&lt;Int&gt; = TODO()</code></p>\n\n<p>or something else that is <code>Comparable</code>? That will get your code compiling.</p>\n"}, {"comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495438430, "post_id": 44106940, "comment_id": 75233887, "body": "Thank you for your answer. Unfortunately I cannot add the <code>in</code> variance here for two reasons: 1) <code>Property</code> is not part of my code, it comes from a library that I cannot control. 2) Even if it was part of my code, there are methods in <code>Property</code> that return <code>T</code>, so I could not make <code>T</code> <code>in</code>, even if I wanted to."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495440004, "post_id": 44106940, "comment_id": 75234749, "body": "@diesieben07 Is <code>parsePropertyValue</code> part of your code? If yes, can you change it to <code>fun &lt;T : Comparable&lt;T&gt;&gt; parsePropertyValue(property: Property&lt;in T&gt;, value: String)</code>?"}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495440175, "post_id": 44106940, "comment_id": 75234841, "body": "Please see the bigger example in my post for a more accurate view of what I am trying to do. As you can there I unfortunately need a <code>Property&lt;T&gt;</code>, not a <code>Property&lt;in T&gt;</code>."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495440851, "post_id": 44106940, "comment_id": 75235207, "body": "I think I understand. In your bigger example, can you pull out your code into a separate method and parametrize the method with <code>T</code>?"}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1495440973, "post_id": 44106940, "comment_id": 75235282, "body": "No, I cannot. I am deserializing the properties from a network stream. The property store gives me a <code>Property&lt;*&gt;</code> for a property name (a string). I then need to deserialize that property and set it&#39;s value on the property store. But I can only do that if I get a <code>Property&lt;T&gt;</code>."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 1, "creation_date": 1495441077, "post_id": 44106940, "comment_id": 75235340, "body": "Alright. I suspect this is an actual compiler issue. I&#39;ve opened <a href=\"https://youtrack.jetbrains.com/issue/KT-18002\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18002</a> to track it."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 0, "last_activity_date": 1495437821, "creation_date": 1495437821, "answer_id": 44106940, "question_id": 44098445, "link": "https://stackoverflow.com/questions/44098445/how-to-specify-a-type-parameter-i-do-not-know/44106940#44106940", "title": "How to specify a type parameter I do not know", "body": "<p>IntelliJ IDEA was hinting you at the answer, though at the wrong place:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KF3wi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KF3wi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Notice the grey underline? That's an inspection, telling you to add the 'in' variance modifier:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfxt5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfxt5.png\" alt=\"enter image description here\"></a></p>\n\n<p>After changing the code to <code>interface Property&lt;in T : Comparable&lt;T&gt;&gt;</code>, everything compiles.</p>\n\n<p>You can read more about variance here: <a href=\"http://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/generics.html</a></p>\n"}], "owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495437821, "creation_date": 1495379643, "last_edit_date": 1495381814, "question_id": 44098445, "link": "https://stackoverflow.com/questions/44098445/how-to-specify-a-type-parameter-i-do-not-know", "title": "How to specify a type parameter I do not know", "body": "<p>I have reduced my problem to the following minimal demonstration:</p>\n\n<pre><code>interface Property&lt;T : Comparable&lt;T&gt;&gt;\n\nfun &lt;T : Comparable&lt;T&gt;&gt; parsePropertyValue(property: Property&lt;T&gt;, value: String): T = TODO()\n\nfun test() {\n    val property: Property&lt;*&gt; = TODO()\n    val value = parsePropertyValue(property, \"test\")\n}\n</code></pre>\n\n<p>The call to <code>parsePropertyValue</code> does not compile, with the error message \"Cannot infer type parameter T\". The equivalent Java code compiles without problems:\n</p>\n\n<pre><code>interface JavaProperty&lt;T extends Comparable&lt;T&gt;&gt; { }\n\nclass Test {\n\n    public static void main(String[] args) {\n        JavaProperty&lt;?&gt; property = null;\n        Comparable&lt;?&gt; value = parsePropertyValue(property, \"test\")\n    }\n\n    private static &lt;T extends Comparable&lt;T&gt;&gt; T parsePropertyValue(JavaProperty&lt;T&gt; property, String value) {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>How can achieve something similar in Kotlin? Please note that the <code>Property</code> interface in this example is from an external library and I cannot change it.</p>\n\n<p>As per request, a little bigger example:</p>\n\n<pre><code>interface Property&lt;T : Comparable&lt;T&gt;&gt; {\n    fun parseValue(value: String): T\n}\n\ninterface PropertyStore {\n    fun &lt;T : Comparable&lt;T&gt;&gt; setValue(property: Property&lt;T&gt;, value: T)\n    fun &lt;T : Comparable&lt;T&gt;&gt; getValue(property: Property&lt;T&gt;): T\n}\n\nfun main() {\n    val property: Property&lt;*&gt; = TODO()\n    val unparsedValue: String = TODO()\n    val propertyStore: PropertyStore = TODO() \n}\n\nfun &lt;T : Comparable&lt;T&gt;&gt; parseAndApplyValue(propertyStore: PropertyStore, property: Property&lt;T&gt;, unparsedValue: String) {\n    val parsedValue: T = property.parseValue(unparsedValue)\n    propertyStore.setValue(property, parsedValue)\n}\n</code></pre>\n"}, {"tags": ["android", "jackson", "proguard", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1102, "user_id": 3001920, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/71df62c7747b11b3098cccaa2d434973?s=128&d=identicon&r=PG", "display_name": "AliLotfi", "link": "https://stackoverflow.com/users/3001920/alilotfi"}, "is_accepted": true, "score": 5, "last_activity_date": 1495378907, "creation_date": 1495378907, "answer_id": 44098338, "question_id": 44098227, "link": "https://stackoverflow.com/questions/44098227/jsonproperty-not-working-while-minification-enabled/44098338#44098338", "title": "JsonProperty not working while minification enabled", "body": "<p>Found solution a couple of minutes after posting the question.\nThe problem is not with <code>proguard</code> nor <code>jackson</code>, it's that Kotlin erases required data which are stored in <code>kotlin.Metadata</code>.\nAdding the following rule to proguard fixed the issue:</p>\n\n<pre><code>-keep class kotlin.Metadata { *; }\n</code></pre>\n"}], "owner": {"reputation": 1102, "user_id": 3001920, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/71df62c7747b11b3098cccaa2d434973?s=128&d=identicon&r=PG", "display_name": "AliLotfi", "link": "https://stackoverflow.com/users/3001920/alilotfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 44098338, "answer_count": 1, "score": 3, "last_activity_date": 1495378907, "creation_date": 1495378195, "last_edit_date": 1495378621, "question_id": 44098227, "link": "https://stackoverflow.com/questions/44098227/jsonproperty-not-working-while-minification-enabled", "title": "JsonProperty not working while minification enabled", "body": "<p>I have the following class</p>\n\n<pre><code>class CodeRequest(@JsonProperty(\"phone\") val phoneNumber: String)\n</code></pre>\n\n<p>When I send request (using retrofit) with an object of this class as body (while minification is not enabled) everything works and request will be send in this form <code>{\"phone\": \"123\"}</code></p>\n\n<p>But enabling minification with the following <code>proguard-rules.pro</code> will result in a <code>{\"phoneNumber\": \"123\"}</code> request body.</p>\n\n<pre><code># Jackson\n-keep class com.fasterxml.jackson.databind.ObjectMapper {\n    public &lt;methods&gt;;\n    protected &lt;methods&gt;;\n}\n-keep class com.fasterxml.jackson.databind.ObjectWriter {\n    public ** writeValueAsString(**);\n}\n-keep @com.fasterxml.jackson.annotation.* class * { *; }\n-keep @com.fasterxml.jackson.annotation.** class * { *; }\n-keep class com.fasterxml.** { *; }\n-keepattributes *Annotation*,EnclosingMethod,Signature,Exceptions,InnerClasses\n-keep class * {\n    @com.fasterxml.jackson.annotation.* *;\n}\n-keep class * { @com.fasterxml.jackson.annotation.JsonProperty *;}\n\n# Application classes that will be serialized/deserialized over Jackson\n-keepclassmembers class my.application.data.models.** { *; }\n-keepclassmembers class my.application.domain.network.rest.** { *; }\n</code></pre>\n\n<p>What's missing here?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["java", "kotlin", "fluent-interface"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1495384125, "post_id": 44098145, "comment_id": 75218794, "body": "Consider accepting the other answer that is much better."}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495510951, "post_id": 44098322, "comment_id": 75269653, "body": "The first sample doesn&#39;t really work because you cannot construct <code>Name</code> without all of the properties, and then you set them again.  They would need to have default values for that sample to work."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1593541605, "post_id": 44098322, "comment_id": 110816567, "body": "This wouldn&#39;t compile"}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 10, "last_activity_date": 1495378845, "creation_date": 1495378845, "answer_id": 44098322, "question_id": 44098145, "link": "https://stackoverflow.com/questions/44098145/fluent-methods-for-data-class-in-kotlin/44098322#44098322", "title": "Fluent methods for data class in kotlin", "body": "<p>If don't need to return anything but <code>Name</code>, you can just do it like this instead:</p>\n\n<pre><code>data class Name(var firstName: String, var lastName: String)\n\nfun foo() {\n    val name = ...\n    name.apply {\n        firstName = ...\n        lastName = ...\n    }\n}\n</code></pre>\n\n<p>or another example:</p>\n\n<pre><code>CorrutOfficeAccount(....).apply {\n    method1()\n    addCollectedFee(20000)\n    method3()\n}\n</code></pre>\n\n<p>Inside the function (what's inside the curly braces) passed to <code>apply</code>, <code>this</code> is the object <code>apply</code> was called on, which makes it possible to refer to member functions and properties like <code>firstName</code> without writing <code>name.firstName</code>.</p>\n\n<p>If you're not happy with this: It's not possible to make the actual setter return something, however you can of course just define a method with a different name and make that return something.</p>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495511027, "post_id": 44098358, "comment_id": 75269677, "body": "you should edit this sample to provide default values for firstname/lastname otherwise the class must be constructed with them, which then doesn&#39;t make sense to immediately change their values after."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1495513598, "last_edit_date": 1495513598, "creation_date": 1495379068, "answer_id": 44098358, "question_id": 44098145, "link": "https://stackoverflow.com/questions/44098145/fluent-methods-for-data-class-in-kotlin/44098358#44098358", "title": "Fluent methods for data class in kotlin", "body": "<p>For accessing properties in Kotlin, we don't use getter and setter functions, and while you can override their setters to give them custom behaviour, you can't make them return anything, because calling them is an assigment, which is not an expression in Kotlin. As an example, this doesn't work:</p>\n\n<pre><code>var x = 1\nvar y = (x = 5) // \"Assigments are not expressions, and only expressions are allowed in this context\"\n</code></pre>\n\n<p>What you can do is define additional methods that set them, and then return the instance they were called on. For example:</p>\n\n<pre><code>data class Name(var firstName: String = \"\", var lastName: String  =  \"\") {\n    fun withLastName(lastName: String): Name {\n        this.lastName = lastName\n        return this\n    }\n}\n\nval name = Name(firstName = \"Jane\") \nname.withLastName(\"Doe\").withLastName(\"Carter\")\n</code></pre>\n\n<p>Note that if you name this method <code>setLastName</code>, you'll have problems with using the class from Java, because the <code>lastName</code> property is already visible through a method called <code>setLastName</code> when you're writing Java code.</p>\n\n<p>The perhaps more usual solution in Kotlin though is to replace fluent builders by using <code>apply</code> from the standard library, as it was already described in Christian's answer.</p>\n"}, {"tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 5, "last_activity_date": 1495518690, "last_edit_date": 1495518690, "creation_date": 1495518195, "answer_id": 44126665, "question_id": 44098145, "link": "https://stackoverflow.com/questions/44098145/fluent-methods-for-data-class-in-kotlin/44126665#44126665", "title": "Fluent methods for data class in kotlin", "body": "<p>Thanks to Zsmb13 and Christin for the answer, but if someone wants to use immutable fields I have another solution </p>\n\n<pre><code>data class Foo(val fooString: String = \"\", val fooInt: Int = 0) {\n    fun increaseTwo() = copy(fooInt = fooInt + 2)\n    fun increaseThree() = copy(fooInt = fooInt + 3)\n}\n</code></pre>\n\n<p>And you can use it like this </p>\n\n<pre><code>println( Foo(\"foo\",2).increaseTwo().increaseThree())\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>Foo(fooString=foo, fooInt=7)\n</code></pre>\n"}], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12049, "favorite_count": 1, "accepted_answer_id": 44098322, "answer_count": 3, "score": 5, "last_activity_date": 1495518690, "creation_date": 1495377673, "question_id": 44098145, "link": "https://stackoverflow.com/questions/44098145/fluent-methods-for-data-class-in-kotlin", "title": "Fluent methods for data class in kotlin", "body": "<p>We are familiar with fluent interfaces  for calling methods in java and other programming languages. For eg:</p>\n\n<pre><code>Picasso.with(this).load(url).into(imageView);\n</code></pre>\n\n<p>This is made possible by setter methods what return object of desired type.</p>\n\n<pre><code>public Picasso with(Context context)\n{\n    this.context = context;\n    return this;\n}\n\npublic X load(String url)\n{\n    this.url = url;\n    return this;\n}\n\npublic Y load(ImageView imageView)\n{\n    this.imageView = imageView;\n    return this;\n}\n</code></pre>\n\n<p>I am trying to do the same with kotlin data classes <strong>but sadly</strong> I could not find a way to override the setter methods in which I could return the new instance of that object.</p>\n\n<p>I get compiler error when I try to forcefully override setter method.\n<a href=\"https://i.stack.imgur.com/iXYEo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iXYEo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea about what can be done so that I can call fluent interfaces or at least alter how the setter works \nmay be like this </p>\n\n<pre><code>data class CorruptOfficeAccount(.....){\n     override fun addCollectedFee(Long money) :CorruptOfficeAccount {\n     this.money = money/5\n    }\n}\n</code></pre>\n\n<p>So that I can call </p>\n\n<pre><code>CorrutOfficeAccount(....).method1().addCollectedFee(20000).method3()\n</code></pre>\n"}, {"tags": ["javascript", "java", "android", "hash", "kotlin"], "comments": [{"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 1, "creation_date": 1495376591, "post_id": 44097941, "comment_id": 75216509, "body": "Surely that is a simple method to write in Java.  What have you tried?  (Please don&#39;t treat us as a &quot;write my code for free&quot; service!)"}, {"owner": {"reputation": 3, "user_id": 6316923, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001130533101/picture?type=large", "display_name": "Robin van der Noord", "link": "https://stackoverflow.com/users/6316923/robin-van-der-noord"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1495377795, "post_id": 44097941, "comment_id": 75216858, "body": "@StephenC I didn&#39;t add what I have because it&#39;s probably very bad code and it doesn&#39;t work. But I added it now."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6316923, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001130533101/picture?type=large", "display_name": "Robin van der Noord", "link": "https://stackoverflow.com/users/6316923/robin-van-der-noord"}, "edited": false, "score": 0, "creation_date": 1495380141, "post_id": 44098416, "comment_id": 75217487, "body": "Woah dude, it works! Is the javascript version so basic and common kotlin has it built in as hashCode()?"}, {"owner": {"reputation": 1811, "user_id": 1379079, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4mBeJ.jpg?s=128&g=1", "display_name": "Santosh", "link": "https://stackoverflow.com/users/1379079/santosh"}, "reply_to_user": {"reputation": 3, "user_id": 6316923, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001130533101/picture?type=large", "display_name": "Robin van der Noord", "link": "https://stackoverflow.com/users/6316923/robin-van-der-noord"}, "edited": false, "score": 0, "creation_date": 1495380371, "post_id": 44098416, "comment_id": 75217554, "body": "@RobinvanderNoord I think hashing functions are basic, and every language should have some kind of implementation. It always better to check the documentation before implementing it ourselves though :-)"}], "tags": [], "owner": {"reputation": 1811, "user_id": 1379079, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4mBeJ.jpg?s=128&g=1", "display_name": "Santosh", "link": "https://stackoverflow.com/users/1379079/santosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1495379920, "last_edit_date": 1592644375, "creation_date": 1495379445, "answer_id": 44098416, "question_id": 44097941, "link": "https://stackoverflow.com/questions/44097941/replicating-javascript-hash-function-to-java-kotlin/44098416#44098416", "title": "replicating javascript hash function to java/kotlin", "body": "<p>If you concerned with getting the hash code, and not replicating the javascript function into kotlin yourself, I suggest you can use this one liner.</p>\n<pre><code>val s:String = &quot;aaaa&quot;;\nprintln(s.hashCode());\n</code></pre>\n<p>Output is 2986048</p>\n<p>I checked with javascript version, it is same.</p>\n<p>Here is the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/hash-code.html#hashcode\" rel=\"nofollow noreferrer\">documentation</a> for hashCode in kotlin</p>\n<blockquote>\n<p>open fun hashCode(): Int (source)</p>\n<p>Returns a hash code value for the object. The general contract of hashCode is:</p>\n<p>Whenever it is invoked on the same object more than once, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified.</p>\n<p>If two objects are equal according to the equals() method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 6316923, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001130533101/picture?type=large", "display_name": "Robin van der Noord", "link": "https://stackoverflow.com/users/6316923/robin-van-der-noord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 2, "accepted_answer_id": 44098416, "answer_count": 1, "score": 0, "last_activity_date": 1495379920, "creation_date": 1495376308, "last_edit_date": 1495541903, "question_id": 44097941, "link": "https://stackoverflow.com/questions/44097941/replicating-javascript-hash-function-to-java-kotlin", "title": "replicating javascript hash function to java/kotlin", "body": "<p>I'm working on a multi platform app and I've finished the database and the web version. To check a code on the web version I get a hashed version from the database and compare the two. I use this javascript code to hash (I found this on <a href=\"https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript-jquery\">another question</a>):</p>\n\n<pre><code>hashCode = function(s){\n  return s.split(\"\").reduce(function(a,b){a=((a&lt;&lt;5)-a)+b.charCodeAt(0);return a&amp;a},0);              \n}\n</code></pre>\n\n<p>Now I need to do the same in my android app, but I don't know how to make a function that outputs the same in java or kotlin. Does anyone know how to do this or have an other cross-platform vanilla solution?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Edit:\nI'm very new to kotlin/java so I only know what I can find online and what I know about other languages. I tried to remove as much errors as possible but some things I just don't know, it still gives errors:</p>\n\n<pre><code>   fun go (a: Int, b: String): Int {\n    var a = ((a shl 5) - a) + Character.codePointAt(b,0);\n    return a and a\n} // this part doesn't give any errors now.\n\n\nfun hashCode(s: String): String {\n    return s.split(\"\").reduce(go(a,b)) // I don't know what to pass as parameters + reduce gives an error\n}\n</code></pre>\n"}, {"tags": ["android", "textview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1495372570, "post_id": 44096865, "comment_id": 75215343, "body": "As an additional hint, you can press Alt+Enter in Android Studio when on a warning to get quick actions for fixing it."}, {"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 1, "creation_date": 1495377990, "post_id": 44096865, "comment_id": 75216911, "body": "The types will be inferred also so <code>val text: TextView</code> and <code>val str: String</code> are not absolutely necessary."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 1, "creation_date": 1524337882, "post_id": 44096865, "comment_id": 86934993, "body": "I am very new to Android, but I had to use resources.getString(R.string.name)"}, {"owner": {"reputation": 1164, "user_id": 5995648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5lHmZ.jpg?s=128&g=1", "display_name": "Arbaz.in", "link": "https://stackoverflow.com/users/5995648/arbaz-in"}, "edited": false, "score": 0, "creation_date": 1604665779, "post_id": 44096865, "comment_id": 114423240, "body": "Is it possible to set text withot ID? <a href=\"https://stackoverflow.com/q/64714568/5995648\">My Question link</a>"}], "tags": [], "owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "is_accepted": true, "score": 67, "last_activity_date": 1500296857, "last_edit_date": 1500296857, "creation_date": 1495369704, "answer_id": 44096865, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/44096865#44096865", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>In kotlin don't use getters and setters as like in java.The correct format of the kotlin is given below.</p>\n\n<pre><code>val textView: TextView = findViewById(R.id.android_text) as TextView\ntextView.setOnClickListener {\n    textView.text = getString(R.string.name)\n}\n</code></pre>\n\n<p>To get the values from the <code>Textview</code> we have to use this method</p>\n\n<pre><code> val str: String = textView.text.toString()\n\n println(\"the value is $str\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 6, "last_activity_date": 1495375560, "creation_date": 1495375560, "answer_id": 44097826, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/44097826#44097826", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>Find the text view from the layout.</p>\n\n<pre><code>val textView : TextView = findViewById(R.id.android_text) as TextView\n</code></pre>\n\n<p>Setting onClickListener on the textview.</p>\n\n<pre><code>textview.setOnClickListener(object: View.OnClickListener {\n    override fun onClick(view: View): Unit {\n        // Code here.\n        textView.text = getString(R.string.name)\n    }\n})\n</code></pre>\n\n<p>Argument parentheses can be omitted from View.setOnClickListener if we pass a single function literal argument. So, the simplified code will be:</p>\n\n<pre><code>textview.setOnClickListener {\n    // Code here.\n    textView.text = getString(R.string.name)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1372, "user_id": 3621912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KhFGu.png?s=128&g=1", "display_name": "Benny", "link": "https://stackoverflow.com/users/3621912/benny"}, "is_accepted": false, "score": 1, "last_activity_date": 1599315842, "last_edit_date": 1599315842, "creation_date": 1504015571, "answer_id": 45941236, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/45941236#45941236", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>Use <code>textView.text</code> for getter and setter, ex:</p>\n<pre><code>val textView = findViewById&lt;TextView&gt;(R.id.textView)\n// Set text\ntextView.text = &quot;Hello World!&quot;\n// Get text\nval textViewString = textView.text.toString()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1786, "user_id": 6028039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/05Kxv.jpg?s=128&g=1", "display_name": "SHAH MD IMRAN HOSSAIN", "link": "https://stackoverflow.com/users/6028039/shah-md-imran-hossain"}, "edited": false, "score": 0, "creation_date": 1610297792, "post_id": 48188102, "comment_id": 116082548, "body": "this code doesn&#39;t work anymore"}], "tags": [], "owner": {"reputation": 2805, "user_id": 4388036, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3480ad5079ecdf55ae5a8c5fe740dc56?s=128&d=identicon&r=PG&f=1", "display_name": "tej shah", "link": "https://stackoverflow.com/users/4388036/tej-shah"}, "is_accepted": false, "score": 13, "last_activity_date": 1515589276, "creation_date": 1515589276, "answer_id": 48188102, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/48188102#48188102", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>just add below line and access direct xml object</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        txt_HelloWorld.text = \"abc\"\n    }\n</code></pre>\n\n<p>replace activity_main according to your XML name</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9217040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9E2uD2LjZnw/AAAAAAAAAAI/AAAAAAAAA7A/KN3deYO5ElM/photo.jpg?sz=128", "display_name": "AJ Snow", "link": "https://stackoverflow.com/users/9217040/aj-snow"}, "is_accepted": false, "score": -1, "last_activity_date": 1526010532, "last_edit_date": 1526010532, "creation_date": 1515986470, "answer_id": 48256526, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/48256526#48256526", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>The top post has 'as TextView' appended on the end. You might get other compiler errors if you leave this on. The following should be fine. </p>\n\n<pre><code>val text: TextView = findViewById(R.id.android_text) as TextView\n</code></pre>\n\n<p>Where 'android_text' is the ID of your textView</p>\n"}, {"tags": [], "owner": {"reputation": 251, "user_id": 6459041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a01138a8f31919fb70b83530b345117e?s=128&d=identicon&r=PG&f=1", "display_name": "eagerprince", "link": "https://stackoverflow.com/users/6459041/eagerprince"}, "is_accepted": false, "score": 0, "last_activity_date": 1522384236, "creation_date": 1522384236, "answer_id": 49568390, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/49568390#49568390", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<pre><code>  &lt;TextView\n        android:id=\"@+id/usage\"\n        android:layout_marginTop=\"220dip\"\n        android:layout_marginLeft=\"45dip\"\n        android:layout_marginRight=\"15dip\"\n        android:typeface=\"serif\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Google \"\n        android:textColor=\"#030900\"/&gt;\n\n\nusage.text=\"hello world\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1176, "user_id": 2811956, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MYObl.jpg?s=128&g=1", "display_name": "W I Z A R D", "link": "https://stackoverflow.com/users/2811956/w-i-z-a-r-d"}, "edited": false, "score": 0, "creation_date": 1574170816, "post_id": 50155072, "comment_id": 104129581, "body": "where you initialized txt??"}, {"owner": {"reputation": 341, "user_id": 7974316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5852e8f2c53f6d23395a29179125218?s=128&d=identicon&r=PG&f=1", "display_name": "Marium Jawed", "link": "https://stackoverflow.com/users/7974316/marium-jawed"}, "edited": false, "score": 0, "creation_date": 1577098185, "post_id": 50155072, "comment_id": 105089564, "body": "you dont need to initialized just add kotlin plugin"}], "tags": [], "owner": {"reputation": 21, "user_id": 9412305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Venkatesh Jose", "link": "https://stackoverflow.com/users/9412305/venkatesh-jose"}, "is_accepted": false, "score": 2, "last_activity_date": 1525354935, "last_edit_date": 1525354935, "creation_date": 1525350390, "answer_id": 50155072, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/50155072#50155072", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<pre><code>import kotlinx.android.synthetic.main.MainActivity.*\n\nclass Mainactivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.MainActivity)\n\n        txt.setText(\"hello Kotlin\")\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1254, "user_id": 1090973, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/04c441b04f1a1e9b8c1208164dd337d5?s=128&d=identicon&r=PG", "display_name": "sunghun", "link": "https://stackoverflow.com/users/1090973/sunghun"}, "is_accepted": false, "score": 0, "last_activity_date": 1532069019, "creation_date": 1532069019, "answer_id": 51436553, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/51436553#51436553", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>findViewById(R.id.android_text) does not need typecasting.</p>\n"}, {"tags": [], "owner": {"reputation": 1125, "user_id": 5049244, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oudcJ.png?s=128&g=1", "display_name": "Arnold Brown", "link": "https://stackoverflow.com/users/5049244/arnold-brown"}, "is_accepted": false, "score": 2, "last_activity_date": 1611378915, "last_edit_date": 1611378915, "creation_date": 1569646246, "answer_id": 58143457, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/58143457#58143457", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>Yes its late - but may help someone on reference</p>\n<p>xml with <strong>EditText</strong>, <strong>Button</strong> and <strong>TextView</strong></p>\n<p><strong>onClick</strong> on <strong>Button</strong> will update the value from <strong>EditText</strong> to <strong>TextView</strong></p>\n<pre><code>        &lt;EditText\n            android:id=&quot;@+id/et_id&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn_submit_id&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_id&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n</code></pre>\n<p>Look at the code do the action in your class</p>\n<p>Don't need to initialize the id's of components like in Java. You can do it by their xml Id's</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_sample)\n\n        btn_submit_id.setOnClickListener {\n            txt_id.setText(et_id.text);\n        }\n    }\n</code></pre>\n<p>also you can set value in TextView like,</p>\n<pre><code>textview.text = &quot;your value&quot;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 7974316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5852e8f2c53f6d23395a29179125218?s=128&d=identicon&r=PG&f=1", "display_name": "Marium Jawed", "link": "https://stackoverflow.com/users/7974316/marium-jawed"}, "is_accepted": false, "score": 8, "last_activity_date": 1577098620, "creation_date": 1577098620, "answer_id": 59454130, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin/59454130#59454130", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>to set text in kotlin</p>\n\n<pre><code>textview.text = \"write here\"\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 7013334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b30a85f42990a8b8dda7c4657280beb5?s=128&d=identicon&r=PG&f=1", "display_name": "Nitt", "link": "https://stackoverflow.com/users/7013334/nitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117949, "favorite_count": 6, "accepted_answer_id": 44096865, "answer_count": 10, "score": 34, "last_activity_date": 1611378915, "creation_date": 1495369601, "last_edit_date": 1497940278, "question_id": 44096838, "link": "https://stackoverflow.com/questions/44096838/kotlin-how-to-get-and-set-a-text-to-textview-in-android-using-kotlin", "title": "Kotlin: How to get and set a text to TextView in Android using Kotlin?", "body": "<p>I'm newbie. </p>\n\n<blockquote>\n  <p>I want to change text of <code>TextView</code> While click on it.</p>\n</blockquote>\n\n<p><strong>My code:</strong> </p>\n\n<pre><code>val text: TextView = findViewById(R.id.android_text) as TextView\n    text.setOnClickListener {\n        text.setText(getString(R.string.name))\n    }\n</code></pre>\n\n<p><strong>Output:</strong> I got the output but showing <strong>use property access syntax</strong>.</p>\n\n<p>Can anyone tell me how to do it?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "intellij-idea", "gradle", "libgdx", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "edited": false, "score": 0, "creation_date": 1495489165, "post_id": 44117155, "comment_id": 75264352, "body": "Hi, thanks for the idea. If you check my edit to the original answer you&#39;ll see that I discovered that Kotlin is actually producing binaries targeting JVM 1.6. In the change log for 1.1.2 they say &quot;For code generated by the compiler, Java 1.6 compatibility is still the default, and we have no plans to drop support for generating Java 1.6 compatible bytecode.&quot; <a href=\"https://blog.jetbrains.com/kotlin/2017/04/kotlin-1-1-2-is-out/\" rel=\"nofollow noreferrer\">Source</a> So it must be another issue!"}, {"owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "edited": false, "score": 0, "creation_date": 1495495414, "post_id": 44117155, "comment_id": 75266145, "body": "Good pickup! I thought I checked that but I must have missed that. I will see if I can fix it with a polyfill or replacement or something."}, {"owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "edited": false, "score": 0, "creation_date": 1495536120, "post_id": 44117155, "comment_id": 75283442, "body": "Removing any references to methods only supported in JVM 1.7 and 1.8 worked. For some reason, Intellij only warned about unsupported methods in some places and not others.  To clarify, it was not the byte code version emitted by Kotlin, but the fact that I used the latest version of the JDK (1.8) to build my code. This meant that it could compile classes that used methods not available in earlier versions of the JVM provided on older Android devices."}, {"owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "edited": false, "score": 0, "creation_date": 1496109433, "post_id": 44117155, "comment_id": 75513019, "body": "Do you want to edit your answer so I can accept it or should I post another answer?"}], "tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": true, "score": 1, "last_activity_date": 1496198804, "last_edit_date": 1496198804, "creation_date": 1495468225, "answer_id": 44117155, "question_id": 44096156, "link": "https://stackoverflow.com/questions/44096156/share-a-kotlin-module-with-an-android-and-desktop-project/44117155#44117155", "title": "Share a Kotlin module with an Android and Desktop project", "body": "<p>It looks like you are using functionality that only exists within the JDK 8 library. Specifically the computeIfAbsent() method on the Map class.</p>\n\n<p>Because of this, even though your code has been compiled down to JVM 1.6 compatibility, the underlying implementation on Android devices is missing that functionality and thus the reason for the NoClassDefFoundError exception you were seeing.</p>\n\n<p>Updated: You can see in the javadoc located at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-</a> that the computeIfAbsent() has only been  around since JDK 8</p>\n"}], "owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 1, "accepted_answer_id": 44117155, "answer_count": 1, "score": 1, "last_activity_date": 1496198804, "creation_date": 1495365007, "last_edit_date": 1495535497, "question_id": 44096156, "link": "https://stackoverflow.com/questions/44096156/share-a-kotlin-module-with-an-android-and-desktop-project", "title": "Share a Kotlin module with an Android and Desktop project", "body": "<p>I have a game that I am working on that uses the LibGDX game framework. Currently the platforms I am targeting are Desktop (PC, Mac, Linux) via a platform independent jar and Android.</p>\n\n<p>The project is hosted at <a href=\"https://github.com/NoxHarmonium/project-whiplash\" rel=\"nofollow noreferrer\">https://github.com/NoxHarmonium/project-whiplash</a> Feel free to take a look if you need to.</p>\n\n<p>The bulk of the code is in a module called <code>core</code> and is written entirely in Kotlin. This module is linked into both the Desktop and Android projects.</p>\n\n<p>This works fine for Android versions 7.1+ and for desktop. For all other versions of Android I get a pile of <code>java.lang.NoClassDefFoundError</code> exceptions on anonymous functions such as this:</p>\n\n<pre><code>val objectObservable = this.observableCache.computeIfAbsent(assetRef, fun(assetRef: AssetRef): Observable&lt;T&gt; {\n  return Async.start(fun(): T {\n    ...\n  }).observeOn(this.eventLoopScheduler)\n})\n</code></pre>\n\n<p>Exception Sample:</p>\n\n<p><code>java.lang.NoClassDefFoundError: com.projectwhiplash.utils.assets.LibGdxDataManager$objectMapFromYaml$objectMapObservable$1\n</code></p>\n\n<p>It seems to be caused by an incompatibility with the JVM that Kotlin targets by default (1.8) and the JVM level that older versions of Android support (1.6). I could be wrong but this explains why the latest version of Android works as it supports a later version of the JVM.</p>\n\n<p>The solution should be as simple as forcing Kotlin to emit JVM byte code as version 1.6 but I can't seem to work it out. If you compile Kotlin directly into an Android, this seems to be handled by using the <code>kotlin-android</code> Gradle plugin. Unfortunately I can't use this plugin for the core module because it should not have any Android dependencies.</p>\n\n<p>I tried to override the JVM version using the build settings mentioned at <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#compiler-options\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#compiler-options</a> like this:</p>\n\n<p><code>compileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\n</code></p>\n\n<p>However, it did not seem to work no matter which Gradle file I placed it in. In fact I get a \"Cannot resolve symbol 'kotlinOptions'\" error shown by Intellij when I try it. It is possible that the Kotlin team have changed something and the documentation has not been updated.</p>\n\n<p>I can override the Kotlin settings manually in the Intellij module settings but it gets overridden every time I sync the gradle project and is not a good long term solution. The project is designed to be IDE independent.</p>\n\n<p>Does anyone know how I could set up the core module for max compatibility with older versions of Android? </p>\n\n<p>I currently have the minimum API level set to 9 as this is the current LibGDX default but I'm willing to set this higher if it would be too difficult to target such a low API level.</p>\n\n<p>Edit 1:</p>\n\n<p>I just extracted the jar file produced by the core module and examined the class files using the <code>javap</code> tool.</p>\n\n<p>I ran the following command on a random class file</p>\n\n<p><code>java -verbose foo.class</code></p>\n\n<p>and it output text with the following text</p>\n\n<p><code>\n  ...\n  minor version: 0\n  major version: 50\n  ...\n</code></p>\n\n<p>using this question <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">List of Java class file format major version numbers?</a> I determined that the class file is actually targeting JVM 1.6.</p>\n\n<p>Therefore my original theory is wrong and there is another reason why older Android versions cannot load classes generated by Kotlin lambdas.</p>\n"}, {"tags": ["kotlin", "expression-body"], "answers": [{"comments": [{"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1495349327, "post_id": 44093938, "comment_id": 75209269, "body": "what is <code>Unit</code> is it an equivalent of not returning a value?"}, {"owner": {"reputation": 7367, "user_id": 1742973, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6ea28ba189bf64baba86a9afd6efc257?s=128&d=identicon&r=PG", "display_name": "Matias Elorriaga", "link": "https://stackoverflow.com/users/1742973/matias-elorriaga"}, "reply_to_user": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 1, "creation_date": 1495350752, "post_id": 44093938, "comment_id": 75209561, "body": "Exactly, like void"}], "tags": [], "owner": {"reputation": 7367, "user_id": 1742973, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6ea28ba189bf64baba86a9afd6efc257?s=128&d=identicon&r=PG", "display_name": "Matias Elorriaga", "link": "https://stackoverflow.com/users/1742973/matias-elorriaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1495349212, "creation_date": 1495349212, "answer_id": 44093938, "question_id": 44093661, "link": "https://stackoverflow.com/questions/44093661/when-is-it-possible-to-omit-return-type-in-kotlin/44093938#44093938", "title": "When is it possible to omit return type in Kotlin?", "body": "<p>when the return type is <code>Unit</code></p>\n\n<pre><code>fun printHello(): Unit {\n    print(\"hello\")\n}\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>fun printHello() {\n    print(\"hello\")\n}\n</code></pre>\n\n<p>also, is the same as</p>\n\n<pre><code>fun printHello() = print(\"hello\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1495349421, "creation_date": 1495349421, "answer_id": 44093963, "question_id": 44093661, "link": "https://stackoverflow.com/questions/44093661/when-is-it-possible-to-omit-return-type-in-kotlin/44093963#44093963", "title": "When is it possible to omit return type in Kotlin?", "body": "<p>Functions with block body must always specify return types explicitly, unless it's intended for them to return Unit.</p>\n\n<p>If a function does not return any useful value, its return type is <code>Unit</code>. <code>Unit</code> is a type with only one value - Unit. This value does not have to be returned explicitly</p>\n\n<pre><code>fun printHello(name: String?): Unit {\n    if (name != null)\n        println(\"Hello ${name}\")\n    else\n        println(\"Hi there!\")\n    // `return Unit` or `return` is optional\n}\n</code></pre>\n\n<p>The <code>Unit</code> return type declaration is also optional. The above code is equivalent to</p>\n\n<pre><code>fun printHello(name: String?) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1495354986, "creation_date": 1495354986, "answer_id": 44094715, "question_id": 44093661, "link": "https://stackoverflow.com/questions/44093661/when-is-it-possible-to-omit-return-type-in-kotlin/44094715#44094715", "title": "When is it possible to omit return type in Kotlin?", "body": "<p>Usually, a function must declare it's return type. But if some functions consist of a single expression then we can omit the curly braces and the return type and uses the <code>=</code> symbol before the expression rather than the return keyword. This type of functions are called <strong>Single Expression Functions</strong>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>fun add(a: Int, b: Int): Int {\n    return a + b\n}\n</code></pre>\n\n<p>This code can be simplified to:</p>\n\n<pre><code>fun add(a: Int, b: Int) = a + b\n</code></pre>\n\n<p>The compiler will enforce you to do this.</p>\n"}], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2643, "favorite_count": 0, "accepted_answer_id": 44093963, "answer_count": 3, "score": 4, "last_activity_date": 1619256259, "creation_date": 1495346297, "last_edit_date": 1619256259, "question_id": 44093661, "link": "https://stackoverflow.com/questions/44093661/when-is-it-possible-to-omit-return-type-in-kotlin", "title": "When is it possible to omit return type in Kotlin?", "body": "<p>I have the following function in Kotlin:</p>\n<pre><code>fun max(a: Int, b: Int): Int {\n    return if (a &gt; b) a else b\n}\n</code></pre>\n<p>which could be simplified to:</p>\n<pre><code>fun max(a: Int, b: Int) = if (a &gt; b) a else b\n</code></pre>\n<p>In the previous definition, the returned type of the function has been omitted, and this is known as <em>expression body</em>. I am wondering if there exists other cases in which it is possible to omit the return type of a function in Kotlin.</p>\n"}, {"tags": ["kotlin", "read-eval-print-loop"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1495351228, "creation_date": 1495351228, "answer_id": 44094207, "question_id": 44093527, "link": "https://stackoverflow.com/questions/44093527/how-can-i-run-the-kotlin-repl-kotlinc-jvm-or-kotlinc/44094207#44094207", "title": "How can I run the Kotlin REPL kotlinc-jvm or kotlinc", "body": "<p>If you look inside the <code>kotlinc-jvm</code> files, they actually just launch the <code>kotlinc</code> that's in the same folder they are in, and pass any arguments they were started with to it:</p>\n\n<p><code>kotlinc-jvm</code> for Unix:</p>\n\n<pre><code>#!/usr/bin/env bash\n\n# (License here)\n\nDIR=\"${BASH_SOURCE[0]%/*}\"\n: ${DIR:=\".\"}\n\n\"${DIR}\"/kotlinc \"$@\"\n</code></pre>\n\n<p><code>kotlinc-jvm.bat</code> for Windows:</p>\n\n<pre><code>@echo off\n\nrem (License here)\n\ncall %~dps0kotlinc.bat %*\n</code></pre>\n\n<p>I'm not sure why <code>kotlinc-jvm</code> is there in this form, it's basically just a very simple redirect. I'd just use <code>kotlinc</code>.</p>\n"}], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1504, "favorite_count": 0, "accepted_answer_id": 44094207, "answer_count": 1, "score": 5, "last_activity_date": 1495351228, "creation_date": 1495344687, "question_id": 44093527, "link": "https://stackoverflow.com/questions/44093527/how-can-i-run-the-kotlin-repl-kotlinc-jvm-or-kotlinc", "title": "How can I run the Kotlin REPL kotlinc-jvm or kotlinc", "body": "<p>I am completely new to Kotlin, and I am trying to run the Kotlin REPL.</p>\n\n<p>Following <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html#running-the-repl\" rel=\"noreferrer\">this</a>, and considering I am using OS X, and I have tried this:</p>\n\n<pre><code>$ /usr/local/bin/kotlinc-jvm\n</code></pre>\n\n<p>which is equivalent to:</p>\n\n<pre><code>$ kotlinc-jvm\n</code></pre>\n\n<p>Then in <a href=\"https://discuss.kotlinlang.org/t/nice-way-to-launch-the-kotlin-repl/1602\" rel=\"noreferrer\">the following link</a>, I found that a nicer way to run it is:</p>\n\n<pre><code>$ kotlinc\n</code></pre>\n\n<p>Is there any differences between this two commands, and which one should I choose?</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 2147234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eda37aa3cd03335e2c0dccc6890e32e1?s=128&d=identicon&r=PG", "display_name": "mercy123", "link": "https://stackoverflow.com/users/2147234/mercy123"}, "edited": false, "score": 0, "creation_date": 1495360035, "post_id": 44094995, "comment_id": 75211735, "body": "Thanks, that was easy.. Sorry somehow I missed this in Utilities lesson."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1495357171, "creation_date": 1495357171, "answer_id": 44094995, "question_id": 44093417, "link": "https://stackoverflow.com/questions/44093417/tornadofx-controlling-tableview-row-object-while-build/44094995#44094995", "title": "Tornadofx - controlling tableview row object while build", "body": "<p>You should use a <code>SortedFilteredList</code> to filter out the items you don't want. This keeps the UI logic clean, as you only operate on a view into your underlying data structure. This is much unlike Angular, where you have to decide\nabout these things as you draw table rows for each record you want to display.</p>\n\n<p>The <code>SortedFilteredList</code> can be configured with a <code>predicate</code> function, which is passed a record and expects a Boolean value to determine if the current record should be visible in the list.</p>\n\n<pre><code>class MyView : View() {\n    val recordList = getYourListOfRecordsFromSomewhere()\n    val data = SortedFilteredList(recordList)\n\n    override val root = tableview(data) {\n        column(\"Id\", Record::idProperty)\n        column(\"First Name\", Record::firstNameProperty)\n        column(\"Last Name\", Record::lastNameProperty)\n    }\n\n    init {\n        // Configure the filter predicate for the SortedFilteredList\n        data.predicate = { it.id != 1 }\n    }\n}\n</code></pre>\n\n<p>Also note that you can update the filter predicate at any time. Changes to the\npredicate will immediately be visible in the displayed rows.</p>\n"}], "owner": {"reputation": 319, "user_id": 2147234, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eda37aa3cd03335e2c0dccc6890e32e1?s=128&d=identicon&r=PG", "display_name": "mercy123", "link": "https://stackoverflow.com/users/2147234/mercy123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "accepted_answer_id": 44094995, "answer_count": 1, "score": 0, "last_activity_date": 1495357171, "creation_date": 1495343322, "question_id": 44093417, "link": "https://stackoverflow.com/questions/44093417/tornadofx-controlling-tableview-row-object-while-build", "title": "Tornadofx - controlling tableview row object while build", "body": "<p>My requirement is kinda similar to what Angular provides for HTML web pages.<br>\nBasically when creating a table, you iterate over a list of records to get a record and then we can remove a row based on a if condition. Something like this:  </p>\n\n<pre><code>ng-repeat = \"record in records\"\nng-if = \"record.Id != 0\"\n</code></pre>\n\n<p>Similarly in Tornadofx, if I want to build a tableview, I do this:  </p>\n\n<pre><code>tableview&lt;Record&gt;(recordList) {\n    //I want to remove row with the 0th recordId \n    column(\"Id\", Record::Id)\n    column(\"First Name\", Record::firstNameProperty)\n    column(\"Last Name\", Record::lastNameProperty)\n}\n</code></pre>\n\n<p>Seeing the tutorials, I have tried the following but with no luck:</p>\n\n<pre><code>val removeZeroId = booleanBinding(idProp, idProp) {\n    id != \"0\"\n}\nvisibleWhen {\n    //compilation\n    Record::removeZeroId\n}\n</code></pre>\n\n<p>It would be easy if I could have the row object in tableview and perform operations on it.  </p>\n\n<p>Frankly, I haven't clearly understood tornadofx bindings, so I might be missing something basic. </p>\n"}, {"tags": ["javafx", "kotlin", "javafx-webengine", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8042652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CrljXua0jXY/AAAAAAAAAAI/AAAAAAAAAXs/zPYDUmEwfAI/photo.jpg?sz=128", "display_name": "\u4e00\u9ede\u7d05\u4e2d\u539f", "link": "https://stackoverflow.com/users/8042652/%e4%b8%80%e9%bb%9e%e7%b4%85%e4%b8%ad%e5%8e%9f"}, "edited": false, "score": 0, "creation_date": 1495375781, "post_id": 44095080, "comment_id": 75216268, "body": "First I&#39;m very surprised tornadoFX developer to answer my question. thank you so much. This problem let me from tornadoFX ver 1.5.7 change to ver1.7.5 , result ouccer other ver problem so I change back ver1.5.7 and try your advice method compile it. BUILD SUCCESSFUL solved my problem. thank you again :)"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 3, "user_id": 8042652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CrljXua0jXY/AAAAAAAAAAI/AAAAAAAAAXs/zPYDUmEwfAI/photo.jpg?sz=128", "display_name": "\u4e00\u9ede\u7d05\u4e2d\u539f", "link": "https://stackoverflow.com/users/8042652/%e4%b8%80%e9%bb%9e%e7%b4%85%e4%b8%ad%e5%8e%9f"}, "edited": false, "score": 0, "creation_date": 1495450566, "post_id": 44095080, "comment_id": 75241367, "body": "Great! If you&#39;re having problems upgrading, it&#39;s probably because you forgot to change jvmTarget to 1.8. See the instructions on the 1.7.1 release notes page: <a href=\"https://github.com/edvin/tornadofx/releases/tag/v1.7.1\" rel=\"nofollow noreferrer\">github.com/edvin/tornadofx/releases/tag/v1.7.1</a>"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1495357742, "creation_date": 1495357742, "answer_id": 44095080, "question_id": 44093159, "link": "https://stackoverflow.com/questions/44093159/how-to-implement-tornadofx-webengine-callback-in-kotlin/44095080#44095080", "title": "How to implement TornadoFX WebEngine Callback in Kotlin", "body": "<p>You're almost there :) To create an anonymous class much the same way you do in Java, you need to use the <code>object</code> keyword in front of the class statement:</p>\n\n<p><code>br.createPopupHandler = object : Callback&lt;PopupFeatures, WebEngine&gt; {</code></p>\n\n<p>However, Kotlin allows you to turn SAM types into lambdas. You can also utilize the property access pattern and immutable values to clean up the code a little. Here is a the code rewritten and Kotlinified:</p>\n\n<pre><code>val wv = webview()\nval br = wv.engine\nbr.setCreatePopupHandler {\n    val smallView = webview()\n    val stage = Stage(StageStyle.UTILITY)\n    stage.scene = Scene(smallView)\n    stage.show()\n    smallView.engine\n}\n</code></pre>\n\n<p>I haven't really evaluated what you're doing here or if that's a good idea, so only take my advice on the syntax :)</p>\n"}], "owner": {"reputation": 3, "user_id": 8042652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CrljXua0jXY/AAAAAAAAAAI/AAAAAAAAAXs/zPYDUmEwfAI/photo.jpg?sz=128", "display_name": "\u4e00\u9ede\u7d05\u4e2d\u539f", "link": "https://stackoverflow.com/users/8042652/%e4%b8%80%e9%bb%9e%e7%b4%85%e4%b8%ad%e5%8e%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 0, "accepted_answer_id": 44095080, "answer_count": 1, "score": 0, "last_activity_date": 1495357742, "creation_date": 1495340606, "last_edit_date": 1495355343, "question_id": 44093159, "link": "https://stackoverflow.com/questions/44093159/how-to-implement-tornadofx-webengine-callback-in-kotlin", "title": "How to implement TornadoFX WebEngine Callback in Kotlin", "body": "<p>I am using Kotlin TornadoFX to create a browser. When I implement WebEngine setCreatePopupHandler, I get an error:</p>\n\n<blockquote>\n  <p>e: surfing\\src\\surfing.kt: (76, 13): Modifier 'override' is not\n  applicable to 'local function'</p>\n  \n  <p>e: surfing\\src\\surfing.kt: (76, 13): Expected a value of type WebEngine!</p>\n</blockquote>\n\n<p>I referenced this Java code using JavaFX:</p>\n\n<pre><code>webEngine.setCreatePopupHandler(\n            new Callback&lt;PopupFeatures, WebEngine&gt;() {\n                @Override\n                public WebEngine call(PopupFeatures config) {\n                    smallView.setFontScale(0.8);\n                    if (!toolBar.getChildren().contains(smallView)) {\n                        toolBar.getChildren().add(smallView);\n                    }\n                return smallView.getEngine();\n            }\n    });\n</code></pre>\n\n<p>Translated into Kotlin to use TornadoFX:</p>\n\n<pre><code>var wv = webview() \nval br = wv.getEngine()\nbr.setCreatePopupHandler(Callback&lt;PopupFeatures, WebEngine&gt;() {\n            override fun call(pf: PopupFeatures): WebEngine {\n                var smallView = webview() \n                val stage = Stage(StageStyle.UTILITY)\n                stage.setScene(Scene(smallView))\n                stage.show()\n                val engine = smallView.getEngine()\n                return engine\n            }\n        })\n</code></pre>\n\n<p>I have been searching for a long time on the internet, but I didn't find anything. Please can somebody help me fix this error.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-cursorloader"], "answers": [{"comments": [{"owner": {"reputation": 6488, "user_id": 772295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bu8Dd.png?s=128&g=1", "display_name": "superarts.org", "link": "https://stackoverflow.com/users/772295/superarts-org"}, "edited": false, "score": 1, "creation_date": 1498497593, "post_id": 44092832, "comment_id": 76511314, "body": "Great answer, Android Studio produces this bug while <code>convert to Kotlin</code>."}, {"owner": {"reputation": 2099, "user_id": 3997720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hb7ln.png?s=128&g=1", "display_name": "Pedro Varela", "link": "https://stackoverflow.com/users/3997720/pedro-varela"}, "edited": false, "score": 1, "creation_date": 1502732936, "post_id": 44092832, "comment_id": 78317974, "body": "Kotlin converter is so annoying.. kotlin is! Thanks for the answer, this was driving crazy."}], "tags": [], "owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "is_accepted": true, "score": 5, "last_activity_date": 1495336860, "creation_date": 1495336860, "answer_id": 44092832, "question_id": 44092708, "link": "https://stackoverflow.com/questions/44092708/how-to-use-cursorloader-with-kotlin/44092832#44092832", "title": "how to use cursorloader with kotlin", "body": "<p>I haven't done much with CursorLoader in Android but judging by the stack trace it looks like the Bundle argument can be null but you declared it as non-nullable so Kotlin inserted some checks to verify that for you.</p>\n\n<p>Try changing</p>\n\n<pre><code>override fun onCreateLoader(id: Int, args: Bundle)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>override fun onCreateLoader(id: Int, args: Bundle?)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8042440, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MCuj6MPEz0k/AAAAAAAAAAI/AAAAAAAAAFM/0ZzolYEJOt8/photo.jpg?sz=128", "display_name": "Andy Li", "link": "https://stackoverflow.com/users/8042440/andy-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 1, "accepted_answer_id": 44092832, "answer_count": 1, "score": 3, "last_activity_date": 1495336860, "creation_date": 1495335183, "question_id": 44092708, "link": "https://stackoverflow.com/questions/44092708/how-to-use-cursorloader-with-kotlin", "title": "how to use cursorloader with kotlin", "body": "<p>I try to convert my java project to kotlin, but one problem confused me.<br>\nProject structure:  </p>\n\n<p><code>App</code>: Application used to declare global variable<br>\n<code>MainActivity</code>: AppCompatActivity<br>\n<code>Provider</code>: ContentProvider<br>\n<code>SectionsPagerAdapter</code>: FragmentPagerAdapter<br>\n<code>fragment0</code>:<br>\n<code>fragment1</code>: Fragment implements LoaderManager.LoaderCallbacks  </p>\n\n<p>When I try convert the fragment1 to kotlin, it throws FC.<br>\nfragment1 java code:  </p>\n\n<pre><code>class fragment1 : Fragment(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\nprivate var mMainView: View? = null\nprivate var adapter: SimpleCursorAdapter? = null\nprivate var cursor: Cursor? = null\nprivate var date: Date? = null\nprivate var kadaihao: Array&lt;String?&gt;? = null\nprivate val uri: Uri? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val inflater = activity.layoutInflater\n    mMainView = inflater.inflate(R.layout.fragment1, activity.findViewById(R.id.container) as ViewGroup, false)\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    return mMainView\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    val lv = mMainView!!.findViewById(R.id.lv1) as ListView\n    val uiBindFrom = arrayOf(\"_id\", \"shuakae\", \"kadaihao\", \"shijian\", \"feilv\", \"beizhu\")\n    val uiBindTo = intArrayOf(R.id.ID1, R.id.tv_shuakae1, R.id.tv_kadaihao1, R.id.tv_shijian1, R.id.tv_feilv1, R.id.tv_beizhu1)\n    loaderManager.initLoader(1, null, this)\n    adapter = SimpleCursorAdapter(\n            context, R.layout.item_zhangdan, null, uiBindFrom, uiBindTo,\n            CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER)\n    lv.adapter = adapter\n}\n\noverride fun onCreateLoader(id: Int, args: Bundle): Loader&lt;Cursor&gt; {\n    val projection = arrayOf(\"_id\", \"shuakae\", \"kadaihao\", \"shijian\", \"feilv\", \"beizhu\")\n    val selection = \"yihuan=0\"\n    return CursorLoader(context, App.Uri_ZhangDan, projection, selection, null, \"kadaihao asc,shijian desc\")\n}\n\noverride fun onLoadFinished(loader: Loader&lt;Cursor&gt;, data: Cursor) {\n    adapter!!.swapCursor(data)\n}\n\noverride fun onLoaderReset(loader: Loader&lt;Cursor&gt;) {\n    adapter!!.swapCursor(null)\n}\n}\n</code></pre>\n\n<p>Try to run it and throw FC:  </p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter args\nat com.codeme.ccm.fragment1.onCreateLoader(fragment1.kt:0)\nat android.support.v4.app.LoaderManagerImpl.createLoader(LoaderManager.java:539)\nat android.support.v4.app.LoaderManagerImpl.createAndInstallLoader(LoaderManager.java:548)\nat android.support.v4.app.LoaderManagerImpl.initLoader(LoaderManager.java:603)\nat com.codeme.ccm.fragment1.onViewCreated(fragment1.kt:73)\nat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1314)\nat android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1528)\nat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1595)\nat android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:758)\nat android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2363)\nat android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2149)\nat android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2103)\nat android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:1984)\nat android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:626)\nat android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:143)\nat android.support.v4.view.ViewPager.populate(ViewPager.java:1268)\nat android.support.v4.view.ViewPager.populate(ViewPager.java:1116)\nat android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1642)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.support.design.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:714)\nat android.support.design.widget.HeaderScrollingViewBehavior.onMeasureChild(HeaderScrollingViewBehavior.java:90)\nat android.support.design.widget.AppBarLayout$ScrollingViewBehavior.onMeasureChild(AppBarLayout.java:1391)\nat android.support.design.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:784)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1465)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:748)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:630)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5952)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\nat com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2643)\nat android.view.View.measure(View.java:18811)\nat android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2127)\nat android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1243)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1479)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1134)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6050)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:860)\nat android.view.Choreographer.doCallbacks(Choreographer.java:672)\nat android.view.Choreographer.doFrame(Choreographer.java:608)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:846)\nat android.os.Handler.handleCallback(Handler.java:742)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:5524)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:740)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:630)\n</code></pre>\n\n<p>How to solve it?</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1495343719, "post_id": 44092496, "comment_id": 75208283, "body": "Please report it as a bug in the Kotlin plugin at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495344075, "post_id": 44092496, "comment_id": 75208360, "body": "Is this a bug, though? Seems like it was just my misunderstanding of how the language works @voddan"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 3, "creation_date": 1495346409, "post_id": 44092496, "comment_id": 75208757, "body": "Any IDEA or AS refactoring is supposed to change the code without changing its semantics. In your case semantics was broken since it erased your custom setter. That&#39;s why I think it is a bug."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1495380362, "post_id": 44092496, "comment_id": 75217552, "body": "@voddan Thanks for the recommendation. I&#39;ve just put in the ticket - <a href=\"https://youtrack.jetbrains.com/issue/KT-17996\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17996</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1495380491, "post_id": 44092667, "comment_id": 75217593, "body": "Thank you! This is the solution I needed and what I&#39;ve implemented. Please see the comments under the question for a discussion on the file conversion bug and a link to the Kotlin ticket."}], "tags": [], "owner": {"reputation": 2354, "user_id": 525097, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/rGX49.jpg?s=128&g=1", "display_name": "zienkikk", "link": "https://stackoverflow.com/users/525097/zienkikk"}, "is_accepted": true, "score": 9, "last_activity_date": 1495334692, "creation_date": 1495334692, "answer_id": 44092667, "question_id": 44092496, "link": "https://stackoverflow.com/questions/44092496/override-setter-for-variable-defined-in-default-constructor/44092667#44092667", "title": "Override setter for variable defined in default constructor", "body": "<p>The quick fix for it definitely screws things up but the comment is trying to point you in the correct direction. You want to define a primary constructor that accepts just a parameter (not defining a property) and then use that parameter for the property initialization. Something like this:</p>\n\n<pre><code>class MyClass(myString: String) {\n    var myString: String = myString\n        set(value) {\n            field = value\n            doSomethingINeed()\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1237, "favorite_count": 2, "accepted_answer_id": 44092667, "answer_count": 1, "score": 4, "last_activity_date": 1495334692, "creation_date": 1495332487, "question_id": 44092496, "link": "https://stackoverflow.com/questions/44092496/override-setter-for-variable-defined-in-default-constructor", "title": "Override setter for variable defined in default constructor", "body": "<p>So I have a Kotlin class that looks something like this:</p>\n\n<pre><code>class MyClass {\n    var myString: String = \"\"\n        set(value) {\n            field = value\n            doSomethingINeed()\n        }\n\n    constructor(myString: String) {\n        this.myString = myString\n    }\n}\n</code></pre>\n\n<p>However, Android Studio is warning me that I can use this as a default constructor. When I select that, it changes it to this:</p>\n\n<pre><code>class MyClass(var myString: String)\n</code></pre>\n\n<p>Now I lose the opportunity to override the setter, because if I make a method called <code>setMyString()</code> I'll get a compiler error.</p>\n\n<p>Is there a way to override the setter if the field is part of the default constructor, or do I have to go with option 1 and just ignore the warning that I get?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1495360936, "post_id": 44092369, "comment_id": 75211956, "body": "I don&#39;t think this is a good idea. Simply adding a class without actually using it anywhere should not change the behavior of your code. I&#39;d advise to instead keep a list of migrations manually or create an enum class implementing the migration interface. You could then access all migrations using Enum.values."}, {"owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 1, "creation_date": 1495457931, "post_id": 44092369, "comment_id": 75246285, "body": "@ChristianBr&#252;ggemann In general I would agree, however I&#39;m not simply adding a class without actually using it anywhere. I am explicitly calling an initialize/register method that does this, and I&#39;d prefer to make it so that a Migration cannot accidentally be left un-registered. This would be safer than writing a perfectly good migration that does nothing."}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 3, "creation_date": 1495349654, "post_id": 44093477, "comment_id": 75209328, "body": "This won&#39;t work as well: files with top-level declarations get translated to <code>FileNameKt</code> classes, which are (as usual in JVM) initialized lazily."}, {"owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1495457716, "post_id": 44093477, "comment_id": 75246145, "body": "@AlexeyAndreev that&#39;s what I&#39;m seeing when I try this out."}, {"owner": {"reputation": 992, "user_id": 1414695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/283c00f58b693658f9c3ab78ec5646a5?s=128&d=identicon&r=PG", "display_name": "Maurice M&#252;ller", "link": "https://stackoverflow.com/users/1414695/maurice-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1556892612, "post_id": 44093477, "comment_id": 98593787, "body": "For me it is working. Maybe because I&#39;m using other functions from the same file (so the whole file gets loaded)."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1495343982, "creation_date": 1495343982, "answer_id": 44093477, "question_id": 44092369, "link": "https://stackoverflow.com/questions/44092369/eager-initialize-object-in-kotlin/44093477#44093477", "title": "Eager initialize object in kotlin?", "body": "<p>As a workaround you can switch from object declarations to object expressions with global variables:</p>\n\n<p>Eager:</p>\n\n<pre><code>val A = object {\n    init { println(\"eager\") }\n}\n</code></pre>\n\n<p>Lazy:</p>\n\n<pre><code>object A {\n    init { println(\"lazy\") }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 625, "user_id": 9746972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f07fd1f54e2531a95387ff29b44ce59?s=128&d=identicon&r=PG&f=1", "display_name": "dranjohn", "link": "https://stackoverflow.com/users/9746972/dranjohn"}, "is_accepted": false, "score": 2, "last_activity_date": 1596385636, "creation_date": 1596385636, "answer_id": 63218409, "question_id": 44092369, "link": "https://stackoverflow.com/questions/44092369/eager-initialize-object-in-kotlin/63218409#63218409", "title": "Eager initialize object in kotlin?", "body": "<p>Simply writing the object name into your main function (or whereever you want to force the initialization) works:</p>\n<pre><code>//Main.kt\nfun main() {\n    EagerObject\n    //...\n}\n\n//EagerObject.kt\nobject EagerObject {\n    //...\n}\n</code></pre>\n"}], "owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1284, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1596385636, "creation_date": 1495330521, "question_id": 44092369, "link": "https://stackoverflow.com/questions/44092369/eager-initialize-object-in-kotlin", "title": "Eager initialize object in kotlin?", "body": "<p>I'm trying to declare my android sqlite migrations in <code>object</code> declarations. Each extends the interface <code>Migration</code>, and I want to have each one register themselves upon initialization with the <code>Migrator</code> object, which being an object, is also a singleton. Unfortunately (I'm realizing this late) kotlin objects are lazily initialized, so my migrations have to be used somewhere to register themselves.</p>\n\n<p>I can accept having to use reflections or annotations, but have no bearing for if that's a good idea or how to follow convention going that direction.</p>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "kotlin", "android-instant-apps"], "comments": [{"owner": {"reputation": 253, "user_id": 4547911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-xi2Mp_OzBns/AAAAAAAAAAI/AAAAAAAALZY/4mvPy09xir8/photo.jpg?sz=128", "display_name": "Julian Os", "link": "https://stackoverflow.com/users/4547911/julian-os"}, "edited": false, "score": 0, "creation_date": 1495357377, "post_id": 44090551, "comment_id": 75211076, "body": "I wouldn&#39;t worry too much that this doesn&#39;t work right now. I can&#39;t even build a normal app (kotlin also) right now as transformClassesWithDexBuilderForDebug is constantly failing due to some exception in the com.android.build department. I fixed these issues by reverting to gradle plugin 2.3.2, but sadly this way you&#39;re losing advanced profiler support"}, {"owner": {"reputation": 332, "user_id": 5222184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b20364bb3b283c9978e51fd825011127?s=128&d=identicon&r=PG&f=1", "display_name": "qpator", "link": "https://stackoverflow.com/users/5222184/qpator"}, "edited": false, "score": 0, "creation_date": 1496157031, "post_id": 44090551, "comment_id": 75539971, "body": "Have you found workaround for the issue?"}, {"owner": {"reputation": 203, "user_id": 4288000, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UXkMMIHh2ig/AAAAAAAAAAI/AAAAAAAAABE/VYAvRWGMAQI/photo.jpg?sz=128", "display_name": "Alexandre Piveteau", "link": "https://stackoverflow.com/users/4288000/alexandre-piveteau"}, "edited": false, "score": 0, "creation_date": 1496158283, "post_id": 44090551, "comment_id": 75540831, "body": "Absolutely not. I&#39;ve subscribed to the issue on Google&#39;s Issue Tracker and I&#39;m waiting for an update from their side on the problem."}], "answers": [{"tags": [], "owner": {"reputation": 19673, "user_id": 268156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLq1c.jpg?s=128&g=1", "display_name": "AdamK", "link": "https://stackoverflow.com/users/268156/adamk"}, "is_accepted": true, "score": 8, "last_activity_date": 1497485913, "last_edit_date": 1497485913, "creation_date": 1495756387, "answer_id": 44191472, "question_id": 44090551, "link": "https://stackoverflow.com/questions/44090551/applying-the-plugin-kotlin-android-in-an-instant-app-results-in-null-cannot-b/44191472#44191472", "title": "Applying the plugin &#39;kotlin-android&#39; in an Instant App results in &quot;null cannot be cast to non-null type com.android.build.gradleBasePlugin&quot;", "body": "<p>This is addressed in <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.1.2-5\" rel=\"noreferrer\">Kotlin plugin v1.1.2-5</a>. Please update your version and try again.</p>\n\n<p>For reference, the issue with previous plugin versions is being tracked here:</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/38393607\" rel=\"noreferrer\">38393607 | Issue building Instant apps with Kotlin enabled</a></p>\n"}, {"tags": [], "owner": {"reputation": 2271, "user_id": 2638235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvEcL.png?s=128&g=1", "display_name": "Prags", "link": "https://stackoverflow.com/users/2638235/prags"}, "is_accepted": false, "score": 0, "last_activity_date": 1513320563, "creation_date": 1513320563, "answer_id": 47827192, "question_id": 44090551, "link": "https://stackoverflow.com/questions/44090551/applying-the-plugin-kotlin-android-in-an-instant-app-results-in-null-cannot-b/47827192#47827192", "title": "Applying the plugin &#39;kotlin-android&#39; in an Instant App results in &quot;null cannot be cast to non-null type com.android.build.gradleBasePlugin&quot;", "body": "<p>With reference to <a href=\"https://issuetracker.google.com/issues/38393607\" rel=\"nofollow noreferrer\">Google issue tracker</a>,This has been fixed.\nIn the meantime, you can manually update to the 1.1.3 kotlin plugin.</p>\n\n<p>If any issue persists, please report at <a href=\"https://issuetracker.google.com/issues/38393607\" rel=\"nofollow noreferrer\">Google issue tracker</a> they will re-open to examine.</p>\n"}], "owner": {"reputation": 203, "user_id": 4288000, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UXkMMIHh2ig/AAAAAAAAAAI/AAAAAAAAABE/VYAvRWGMAQI/photo.jpg?sz=128", "display_name": "Alexandre Piveteau", "link": "https://stackoverflow.com/users/4288000/alexandre-piveteau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 2, "accepted_answer_id": 44191472, "answer_count": 2, "score": 10, "last_activity_date": 1513320563, "creation_date": 1495312373, "last_edit_date": 1495618904, "question_id": 44090551, "link": "https://stackoverflow.com/questions/44090551/applying-the-plugin-kotlin-android-in-an-instant-app-results-in-null-cannot-b", "title": "Applying the plugin &#39;kotlin-android&#39; in an Instant App results in &quot;null cannot be cast to non-null type com.android.build.gradleBasePlugin&quot;", "body": "<p>I've been trying to combine the newly publicly released Android Instant Apps with the Kotlin programming language. After creating my project using the following (standard?) setup, I get an Error with the message <strong>\"null cannot be cast to non-null type com.android.build.gradle.BasePlugin\"</strong> when I try to build the application. Using Kotlin works fine with standard <strong>'com.android.application'</strong> modules; the Error is thrown only when I try to use it within an Instant App module.</p>\n\n<p>Top-level <strong>build.gradle</strong>:</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.0.0-alpha1\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2-4\"\n    }\n}\n\n// ...\n</code></pre>\n\n<p><em>app</em> module <strong>build.gradle</strong>, in which Kotlin <strong>does</strong> work:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android' // This will work.\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n\n\n    defaultConfig {\n        // ...\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation project(':feature')\n    implementation project(':base')\n}\n</code></pre>\n\n<p><em>base</em> module <strong>build.gradle</strong>, in which Kotlin <strong>does not</strong> work:</p>\n\n<pre><code>apply plugin: 'com.android.feature'\napply plugin: 'kotlin-android' // This won't work.\n\nandroid {\n\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    baseFeature true\n    defaultConfig {\n        // ...\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    feature project(':tracker')\n    compile 'com.android.support:appcompat-v7:25.+'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    // Kotlin standard library.\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:${gradleKotlinVersion}\"\n}\n</code></pre>\n\n<p><em>instantapp</em> module <strong>build.gradle</strong>:</p>\n\n<pre><code>apply plugin: 'com.android.instantapp'\n\ndependencies {\n    implementation project(':feature')\n    implementation project(':base')\n}\n</code></pre>\n\n<p><em>feature</em> module <strong>build.gradle</strong>:</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        // ...\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation project(':base')\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Again, the <em>app</em> module compiles without issues with this configuration; on the other hand, Android Studio / Gradle gives me this strange <strong>\"null cannot be cast to non-null type com.android.build.gradle.BasePlugin\"</strong> error message, with the suggestions to re-download dependencies and sync the project (done) or restart Android Studio.</p>\n\n<p>Are Instant Apps actually compatible with the Kotlin programming language ? I'm looking forward to your answers :)</p>\n\n<p>PS: I use Android Studio 3.0 Canary 1, with the latest updates installed from the Canary Channel for Build tools etc. My Kotlin plugin should be up-to-date as well.</p>\n"}, {"tags": ["kotlin", "variadic-functions"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 3311219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f955689be0073f63d093f084465a37da?s=128&d=identicon&r=PG", "display_name": "Tarek360", "link": "https://stackoverflow.com/users/3311219/tarek360"}, "edited": false, "score": 0, "creation_date": 1495309458, "post_id": 44090051, "comment_id": 75201801, "body": "even if you want to add it to the second function, this will not fix the compile error."}], "tags": [], "owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "is_accepted": false, "score": -1, "last_activity_date": 1495308729, "creation_date": 1495308729, "answer_id": 44090051, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin/44090051#44090051", "title": "How to pass vararg as array to function in Kotlin?", "body": "<p>Essencially you need the vararg keywork before the variable name.</p>\n\n<pre><code>fun args(vararg cars: Car) {\n   //use cars as an array \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1495506207, "post_id": 44090336, "comment_id": 75268510, "body": "I think the other answer is more typical, that you would favory <code>Array&lt;out Car&gt;</code> as the parameter for the second function, not make a copy."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 20, "last_activity_date": 1495310720, "creation_date": 1495310720, "answer_id": 44090336, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin/44090336#44090336", "title": "How to pass vararg as array to function in Kotlin?", "body": "<p>The precise error is:</p>\n\n<pre><code>Type mismatch.\nRequired: Array&lt;Car&gt;\nFound:    Array&lt;out Car&gt;\n</code></pre>\n\n<p>The problem is that when you have a <code>vararg cars: Car</code> function parameter, its type inside the function is <code>Array&lt;out Car&gt;</code>, which basically represents a read-only array of the arguments the function was called with - after all, it wouldn't really be a nice thing to start modifying the arguments you got as a <code>vararg</code> (function parameters in Kotlin are read-only <code>val</code>s, and this is something very similar).</p>\n\n<p>But your <code>drive</code> function requires a regular <code>Array&lt;Car&gt;</code>, which of course is writable as well. So if you wish to keep these function signatures, you'll need to create a new array that contains everything from your read-only array. This can be created using the following syntax:</p>\n\n<pre><code>drive(arrayOf(*cars))\n</code></pre>\n\n<p>This calls the <code>arrayOf</code> function we usually create arrays with, which takes a vararg parameter, and uses the spread operator which is a way to pass in the elements of an array (which <code>cars</code> is, inside the <code>buy</code> function) as the vararg parameters (<a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">docs here</a>).</p>\n\n<p>While all this may sound complicated, it's actually a very efficient solution, as it just uses <code>Array.copyOf</code> under the hood in the bytecode.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4980070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qbe59sJKoCY/AAAAAAAAAAI/AAAAAAAADR0/n6qMCD3C6bc/photo.jpg?sz=128", "display_name": "Norbert Kiesel", "link": "https://stackoverflow.com/users/4980070/norbert-kiesel"}, "is_accepted": true, "score": 5, "last_activity_date": 1495500941, "creation_date": 1495500941, "answer_id": 44124158, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin/44124158#44124158", "title": "How to pass vararg as array to function in Kotlin?", "body": "<p>Another solution would be to change <code>drive</code> to <code>fun drive(Array&lt;out Car&gt;) { ... }</code>.  This of course means that the cars inside drive cannot be modified but avoids the copying.</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 2407855, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H8gRR.jpg?s=128&g=1", "display_name": "Derek Zhu", "link": "https://stackoverflow.com/users/2407855/derek-zhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1539165097, "creation_date": 1539165097, "answer_id": 52737392, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin/52737392#52737392", "title": "How to pass vararg as array to function in Kotlin?", "body": "<pre><code>override fun checkMatch(vararg cards: SetsCard): Int {\n    return if (isSet(*cards)) 16 else -2\n}\n\nprivate fun isSet(vararg cards: SetsCard) : Boolean {\n    if (cards.size == 3) {\n        return true\n    }\n    return false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1617865225, "creation_date": 1617865225, "answer_id": 66998823, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin/66998823#66998823", "title": "How to pass vararg as array to function in Kotlin?", "body": "<pre><code>fun foo(vararg strings: String): Array&lt;out String&gt; {\n    return strings\n}\n\n//  Define a var \nvar yourVar: Array&lt;out String&gt; = foo(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)\n\n// Use var in Java method `public void javaMethod(String... someParam)() {}`\njavaMethod(*yourVar)\n</code></pre>\n"}], "owner": {"reputation": 853, "user_id": 3311219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f955689be0073f63d093f084465a37da?s=128&d=identicon&r=PG", "display_name": "Tarek360", "link": "https://stackoverflow.com/users/3311219/tarek360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12231, "favorite_count": 1, "accepted_answer_id": 44124158, "answer_count": 5, "score": 11, "last_activity_date": 1617865225, "creation_date": 1495308505, "last_edit_date": 1495314642, "question_id": 44090019, "link": "https://stackoverflow.com/questions/44090019/how-to-pass-vararg-as-array-to-function-in-kotlin", "title": "How to pass vararg as array to function in Kotlin?", "body": "<p>I want to pass vararg from the buy function to the drive function\nbut I get </p>\n\n<p>a compile error: </p>\n\n<pre><code>required Array&lt;T&gt; found Array&lt;out T&gt;\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>class Car\n\nfun buy(vararg cars: Car) {\n    drive(cars) //compile error\n}\n\nfun drive(cars: Array&lt;Car&gt;) {\n    //...\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 3, "last_activity_date": 1495309021, "creation_date": 1495309021, "answer_id": 44090088, "question_id": 44090011, "link": "https://stackoverflow.com/questions/44090011/kotlin-generic-property/44090088#44090088", "title": "Kotlin Generic Property", "body": "<p>No, how should the compiler know what <code>T</code> is? If you don't need the generic type parameter <code>T</code> anyway, you can just declare it as <code>val t: Any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1495309039, "creation_date": 1495309039, "answer_id": 44090091, "question_id": 44090011, "link": "https://stackoverflow.com/questions/44090011/kotlin-generic-property/44090091#44090091", "title": "Kotlin Generic Property", "body": "<p>Since the <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"noreferrer\">documentation about generics</a> has no mention of such thing, I'm pretty sure this isn't a part of the language. </p>\n\n<p>This is most likely because you have to declare the type of the property at <em>some</em> point. Generic functions make sense, because you call them with arguments that have some sort of a static type (or in the case of extension functions, call them <em>on</em> such arguments). </p>\n\n<p>The question is, why would you want to have a generic property like this? </p>\n\n<p>What would you expect this property to accept as a value when you're trying to set it? If the answer is anything, maybe its type should be <code>Any</code> or <code>Any?</code>. </p>\n\n<p>The same applies for reading it - what type would you expect the value you're reading from this property to have? If you don't want to specify a type at all, again, it should probably be <code>Any</code> or <code>Any?</code>.</p>\n\n<p>The solution that's actually in the language, that is having the class/interface take a type parameter, solves these issues.</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 2767718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d2f7a6bef02b4b03858e77faa86a837?s=128&d=identicon&r=PG&f=1", "display_name": "Rudolf", "link": "https://stackoverflow.com/users/2767718/rudolf"}, "is_accepted": false, "score": 4, "last_activity_date": 1513682993, "creation_date": 1513682993, "answer_id": 47886031, "question_id": 44090011, "link": "https://stackoverflow.com/questions/44090011/kotlin-generic-property/47886031#47886031", "title": "Kotlin Generic Property", "body": "<p>I'm a complete newbie to Kotlin, but a generic property is not really something wrong, is it?</p>\n\n<p>What about this as a showcase. I do understand that this solution does not completely address your question.</p>\n\n<pre><code>interface BaseProperty&lt;T&gt; {\n  var value: T\n}\n\n\nclass IntProperty(var stringVal: String) : BaseProperty&lt;Int?&gt; {\n  override var value: Int?\n    get() = Integer.valueOf(stringVal)\n    set(v: Int?) {\n      stringVal = v.toString()\n    }\n}\n</code></pre>\n\n<p>Since the getter and setter of the property are also a functions, it would had been nice if I were able to specify T as generic type. I have tried to use getValue and setValue as generic functions and that seems to work, but not using the Kotlin property idiom. </p>\n"}, {"tags": [], "owner": {"reputation": 1512, "user_id": 5132301, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/GUE3k.jpg?s=128&g=1", "display_name": "Sero", "link": "https://stackoverflow.com/users/5132301/sero"}, "is_accepted": false, "score": 0, "last_activity_date": 1594821090, "creation_date": 1594821090, "answer_id": 62916494, "question_id": 44090011, "link": "https://stackoverflow.com/questions/44090011/kotlin-generic-property/62916494#62916494", "title": "Kotlin Generic Property", "body": "<pre><code>    private val &lt;T&gt; List&lt;T&gt;.mutable: MutableList&lt;T&gt;\n        get() = this.toMutableList()\n\n    @Test\n    fun demonstrate_genericProperty() {\n        val numbers = listOf(1, 2, 3, 4)\n        val mutableNumbers = numbers.mutable\n        println(&quot;numbers = ${numbers}&quot;)\n        println(&quot;mutableNumbers = ${mutableNumbers}&quot;)\n        println(&quot;(numbers === mutableNumbers) = ${(numbers === mutableNumbers)}&quot;)\n    }\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4282, "favorite_count": 1, "answer_count": 4, "score": 6, "last_activity_date": 1594821090, "creation_date": 1495308448, "question_id": 44090011, "link": "https://stackoverflow.com/questions/44090011/kotlin-generic-property", "title": "Kotlin Generic Property", "body": "<p>Is there a way in kotlin to create a generic property <strong>without</strong> declaring a class level generic type? Something that looks like this:</p>\n\n<pre><code>interface Generic {\n    val t: T //I need this type only once, thats why I dont wanna pass in the class level\n\n    fun &lt;E&gt; gMethod(e: E) { //This works, so I'm wondering if there's something similiar to properties\n\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 8, "creation_date": 1495299944, "post_id": 44088616, "comment_id": 75199064, "body": "This is covered in the Kotlin documentation. Short answer: Kotlin doesn&#39;t have wildcards, it uses the concepts of declaration-site variance and type projections instead. <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html#variance</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": false, "score": 8, "last_activity_date": 1495423135, "last_edit_date": 1495423135, "creation_date": 1495353954, "answer_id": 44094588, "question_id": 44088616, "link": "https://stackoverflow.com/questions/44088616/wildcards-generic-in-kotlin-for-variable/44094588#44094588", "title": "Wildcards generic in Kotlin for variable", "body": "<p>Kotlin doesn't have wildcards, it uses the concepts of declaration-site variance and type projections instead.</p>\n\n<p>Please check the <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"noreferrer\">documentation</a>, covers pretty extensively.</p>\n\n<p>Kotlin provides so called star-projection</p>\n\n<pre><code>val a = ArrayList&lt;Int&gt;()\nval b: ArrayList&lt;out Number&gt; = a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 20, "last_activity_date": 1495475403, "last_edit_date": 1495475403, "creation_date": 1495375760, "answer_id": 44097858, "question_id": 44088616, "link": "https://stackoverflow.com/questions/44088616/wildcards-generic-in-kotlin-for-variable/44097858#44097858", "title": "Wildcards generic in Kotlin for variable", "body": "<p>The equivalent in Kotlin would be like this:</p>\n\n<pre><code>val a = ArrayList&lt;Int&gt;()\nval b: ArrayList&lt;out Number&gt; = a\n</code></pre>\n"}], "owner": {"reputation": 1375, "user_id": 3040498, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100005598638822/picture?type=large", "display_name": "Khang .NT", "link": "https://stackoverflow.com/users/3040498/khang-nt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9894, "favorite_count": 1, "accepted_answer_id": 44097858, "answer_count": 2, "score": 15, "last_activity_date": 1495475403, "creation_date": 1495299576, "question_id": 44088616, "link": "https://stackoverflow.com/questions/44088616/wildcards-generic-in-kotlin-for-variable", "title": "Wildcards generic in Kotlin for variable", "body": "<p>Is it possible to declare generic wildcards in Kotlin like this code in Java:  </p>\n\n<pre><code>List&lt;Integer&gt; a = new ArrayList&lt;&gt;();\nList&lt;? extends Number&gt; b = a;\n</code></pre>\n"}, {"tags": ["interface", "kotlin"], "comments": [{"owner": {"reputation": 25, "user_id": 2568161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f3aa92d66724ac129e10cdcf71f0eea?s=128&d=identicon&r=PG", "display_name": "user2568161", "link": "https://stackoverflow.com/users/2568161/user2568161"}, "edited": false, "score": 1, "creation_date": 1495294907, "post_id": 44087798, "comment_id": 75197511, "body": "I think this doesn&#39;t work because the position being change is on the class &quot;People&quot; but not from the class &quot;Superman&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 0, "last_activity_date": 1495297192, "creation_date": 1495297192, "answer_id": 44088210, "question_id": 44087798, "link": "https://stackoverflow.com/questions/44087798/kotlin-calling-a-mutating-function-in-class-delegation/44088210#44088210", "title": "kotlin calling a mutating function in class delegation", "body": "<p>Change </p>\n\n<pre><code>class Superman(override var position: Pair&lt;Int, Int&gt;): Walker by People(position)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>class Superman(position: Pair&lt;Int, Int&gt;): Walker by People(position)\n</code></pre>\n\n<p>This way you only pass the initial value of <code>position</code> to the delegate instead of once more overriding <code>position</code>, which replaces the implementation that was originally delegated to <code>Person</code>.</p>\n"}], "owner": {"reputation": 25, "user_id": 2568161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f3aa92d66724ac129e10cdcf71f0eea?s=128&d=identicon&r=PG", "display_name": "user2568161", "link": "https://stackoverflow.com/users/2568161/user2568161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 44088210, "answer_count": 1, "score": 0, "last_activity_date": 1495297192, "creation_date": 1495294822, "question_id": 44087798, "link": "https://stackoverflow.com/questions/44087798/kotlin-calling-a-mutating-function-in-class-delegation", "title": "kotlin calling a mutating function in class delegation", "body": "<p>I'm new to Kotlin,I don't know how to explain this but this example should be enough</p>\n\n<pre><code>interface Walker{\n    var position:Pair&lt;Int,Int&gt;\n\n    fun walk(to:Pair&lt;Int,Int&gt;){\n        position = to;\n    }\n\n    fun trip()\n}\n\nclass People(override var position: Pair&lt;Int, Int&gt;):Walker{\n    override fun trip() {\n        Log.v(\"TP\",\"Ouch!!\")\n    }\n}\n\n\n\nclass Superman(override var position: Pair&lt;Int, Int&gt;): Walker by People(position){\n\n}\n</code></pre>\n\n<p>when I call</p>\n\n<pre><code>val sm = Superman(Pair(0,0))\n        sm.walk(Pair(2,2))\n        Log.v(\"TP\",\"${sm.position}\" //It give (0,0) instead of (2,2)\n</code></pre>\n\n<p>is there a possible way of fixing this while still using delegate</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495298241, "post_id": 44087495, "comment_id": 75198510, "body": "please add <code>build.gradle</code> of KotlinHandler module"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "reply_to_user": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495304502, "post_id": 44087495, "comment_id": 75200405, "body": "@AbhishekAryan, it&#39;s the one attached actually. I edited the post to make it clear"}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495348261, "post_id": 44087495, "comment_id": 75209064, "body": "If this is your submodule level <code>build.gradle</code> then add your root level <code>build.graldle</code> file"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "reply_to_user": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495383197, "post_id": 44087495, "comment_id": 75218454, "body": "@AbhishekAryan, I uploaded the main build.gradle on pastebin and attached a link to it"}], "answers": [{"comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "reply_to_user": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1495384962, "post_id": 44093841, "comment_id": 75219096, "body": "Switch to Java 1.8, If still you get error then Run with --debug option to get more log output. and put all your error log here"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1495420886, "post_id": 44093841, "comment_id": 75227790, "body": "updated the question with <code>--debug</code> output after switching to jdk8"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1495420978, "post_id": 44093841, "comment_id": 75227806, "body": "also an interesting thing is that the same configuration seems working on my local laptop, but when deployed on the server, it doesn&#39;t work. I thought it was b/c of jdk, but updated to jdk8 still not working"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 1, "creation_date": 1498156322, "post_id": 44093841, "comment_id": 76396717, "body": "Had to specify jdk8 path in gradle.properties and it started working"}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1495348114, "creation_date": 1495348114, "answer_id": 44093841, "question_id": 44087495, "link": "https://stackoverflow.com/questions/44087495/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-org-jetbrains-ko/44093841#44093841", "title": "Kotlin plugin error: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile", "body": "<p>Try to add <code>jcenter()</code> repo in <code>buildscript</code> repositories and update kotlin version.</p>\n\n<pre><code>buildscript {\n  ext.kotlin_version = '1.1.2-4'\n  repositories {\n    mavenCentral()\n    jcenter()\n  }\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n  }\n}\n\napply plugin: \"kotlin\"\n\nrepositories {\n  mavenCentral()\n  jcenter()\n}\n\ndependencies {\n\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>If you're targeting JDK 7 or JDK 8, you can use extended versions of the Kotlin standard library which contain additional extension functions for APIs added in new JDK versions. Instead of kotlin-stdlib, use one of the following dependencies:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre8\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1495493313, "post_id": 44117221, "comment_id": 75265629, "body": "I tried last night to install jdk8 on the box where I have issues, but it didn&#39;t help. Maybe I just missed something, gonna retry. My laptop though have jdk8 where all works fine"}, {"owner": {"reputation": 91, "user_id": 6701595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a072b55481fccc334a4d4c2b4d847b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Silva", "link": "https://stackoverflow.com/users/6701595/daniel-silva"}, "reply_to_user": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1495521018, "post_id": 44117221, "comment_id": 75273286, "body": "Try running with --stacktrace in addition to --debug to get a bit more info on how gradle failed."}, {"owner": {"reputation": 109, "user_id": 915372, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed6b88d3269ba24eebf3809a4eaf8b4d?s=128&d=identicon&r=PG", "display_name": "MakerDrone", "link": "https://stackoverflow.com/users/915372/makerdrone"}, "edited": false, "score": 1, "creation_date": 1495779260, "post_id": 44117221, "comment_id": 75403018, "body": "I had the same problem. Installing oracle-java8 and setting gradle to run with java 1.8 solved it for me.  Thank you @DanielSilva"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1498156363, "post_id": 44117221, "comment_id": 76396736, "body": "Yup, jdk8 specified in gradle.properties helped"}, {"owner": {"reputation": 3798, "user_id": 35274, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/686900703f23d0634be2db0faa424253?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/35274/philippe"}, "edited": false, "score": 0, "creation_date": 1511964726, "post_id": 44117221, "comment_id": 82066330, "body": "Or you can specify on the command line: <code>gradlew :myTask -Dorg.gradle.java.home=&#47;usr&#47;lib&#47;jvm&#47;jre-1.8.0</code>"}], "tags": [], "owner": {"reputation": 91, "user_id": 6701595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a072b55481fccc334a4d4c2b4d847b?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Silva", "link": "https://stackoverflow.com/users/6701595/daniel-silva"}, "is_accepted": false, "score": 3, "last_activity_date": 1495468450, "creation_date": 1495468450, "answer_id": 44117221, "question_id": 44087495, "link": "https://stackoverflow.com/questions/44087495/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-org-jetbrains-ko/44117221#44117221", "title": "Kotlin plugin error: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile", "body": "<p>In my case, it was because I was running gradle with java 1.7 and it looks like the plugin was compiled only for 1.8:</p>\n\n<pre><code>16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id 'kotlin']\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:153)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:112)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:113)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:36)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:80)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:136)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:46)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.ProjectScript.apply(ProjectScript.java:34)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.Script$apply$1.callCurrent(Unknown Source)\n16:48:42.742 [ERROR] [org.gradle.BuildExceptionReporter]        at build_4u37tyfuy0k7d4zd8vsk5lx9d.run(build.gradle:17)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        ... 63 more\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: org.gradle.api.GradleException: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile.\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:201)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.AbstractClassGenerator.generate(AbstractClassGenerator.java:64)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.taskfactory.TaskFactory.create(TaskFactory.java:115)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.taskfactory.TaskFactory.createTask(TaskFactory.java:77)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory.createTask(AnnotationProcessingTaskFactory.java:101)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.project.taskfactory.DependencyAutoWireTaskFactory.createTask(DependencyAutoWireTaskFactory.java:39)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.DefaultTaskContainer.create(DefaultTaskContainer.java:62)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.DefaultTaskContainer.create(DefaultTaskContainer.java:97)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.tasks.KotlinTasksProvider.createKotlinJVMTask(TasksProvider.kt:26)\n16:48:42.743 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.Kotlin2JvmSourceSetProcessor.doCreateTask(KotlinPlugin.kt:111)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.Kotlin2JvmSourceSetProcessor.doCreateTask(KotlinPlugin.kt:93)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinSourceSetProcessor.createKotlinCompileTask(KotlinPlugin.kt:83)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinSourceSetProcessor.&lt;init&gt;(KotlinPlugin.kt:56)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.Kotlin2JvmSourceSetProcessor.&lt;init&gt;(KotlinPlugin.kt:101)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinPlugin.buildSourceSetProcessor$kotlin_gradle_plugin_main(KotlinPlugin.kt:302)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinPlugin.buildSourceSetProcessor$kotlin_gradle_plugin_main(KotlinPlugin.kt:295)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.AbstractKotlinPlugin$configureSourceSetDefaults$1.execute(KotlinPlugin.kt:279)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.AbstractKotlinPlugin$configureSourceSetDefaults$1.execute(KotlinPlugin.kt:256)\n16:48:42.744 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.DefaultDomainObjectCollection.all(DefaultDomainObjectCollection.java:110)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.AbstractKotlinPlugin.configureSourceSetDefaults(KotlinPlugin.kt:278)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.AbstractKotlinPlugin.apply(KotlinPlugin.kt:269)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinPlugin.apply(KotlinPlugin.kt:306)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinPlugin.apply(KotlinPlugin.kt:295)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:46)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:34)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.ImperativeOnlyPluginApplicator.applyImperative(ImperativeOnlyPluginApplicator.java:35)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.RuleBasedPluginApplicator.applyImperative(RuleBasedPluginApplicator.java:43)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:137)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        ... 73 more\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/cli/common/arguments/K2JVMCompilerArguments : Unsupported major.minor version 52.0\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.ClassInspector.inspectClass(ClassInspector.java:67)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.ClassInspector.visitGraph(ClassInspector.java:51)\n16:48:42.745 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.ClassInspector.inspect(ClassInspector.java:31)\n16:48:42.746 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.AbstractClassGenerator.inspectType(AbstractClassGenerator.java:260)\n16:48:42.746 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.AbstractClassGenerator.inspectType(AbstractClassGenerator.java:216)\n16:48:42.746 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:95)\n</code></pre>\n\n<p>Related tickets: <a href=\"https://youtrack.jetbrains.com/issue/KT-17866\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17866</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-17297\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17297</a></p>\n"}, {"comments": [{"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1497998133, "post_id": 44640443, "comment_id": 76313662, "body": "Thank you @oshai, i figured that. Unfortunately i have to deal with jdk7 as it&#39;s the target jvm version"}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "reply_to_user": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1498034206, "post_id": 44640443, "comment_id": 76326137, "body": "Its not totally related and you can see it in the blog post: when you compile you need at least JDK 8, but you can target bytecode to be in other language level such as 1.7. for example in gradle you will add the directive: <code>sourceCompatibility = 1.6</code>"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1498155856, "post_id": 44640443, "comment_id": 76396446, "body": "Yeah, you are right. I specified a path to JDK8 and it started working. Thank you!"}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "reply_to_user": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1498376788, "post_id": 44640443, "comment_id": 76469507, "body": "You are welcome. I recommend that you accept it as the answer to help others."}, {"owner": {"reputation": 3798, "user_id": 35274, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/686900703f23d0634be2db0faa424253?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/35274/philippe"}, "edited": false, "score": 0, "creation_date": 1511964682, "post_id": 44640443, "comment_id": 82066304, "body": "Make sure gradle runs with the right JDK. In my case there are multiple JDKs on the box, so I ended up telling gradle which one to use as follows: <code>gradlew :myTask -Dorg.gradle.java.home=&#47;usr&#47;lib&#47;jvm&#47;jre-1.8.0</code>"}], "tags": [], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "is_accepted": true, "score": 7, "last_activity_date": 1497908614, "creation_date": 1497908614, "answer_id": 44640443, "question_id": 44087495, "link": "https://stackoverflow.com/questions/44087495/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-org-jetbrains-ko/44640443#44640443", "title": "Kotlin plugin error: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile", "body": "<p>starting kotlin <code>1.1.2</code> JDK below 1.8 is not supported anymore by the <code>kotlin</code> compiler as in <a href=\"https://blog.jetbrains.com/kotlin/2017/04/kotlin-1-1-2-is-out/#more-4945\" rel=\"noreferrer\">1.1.2 blog post</a>:</p>\n\n<blockquote>\n  <p>The Kotlin compiler now requires JDK 8 to run. You shouldn\u2019t notice any changes, because most other Java development tools such as Gradle and the Android toolchain also require JDK 8, so you almost certainly already have it installed. For code generated by the compiler, Java 1.6 compatibility is still the default, and we have no plans to drop support for generating Java 1.6 compatible bytecode.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 1, "creation_date": 1550799352, "post_id": 54035677, "comment_id": 96413308, "body": "Thanks man, you saved my ass. Normally I am working with close-to-latest versions, but I had this weird setup which specifically downloaded an old version without me noticing... Already cost me hours..."}, {"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "reply_to_user": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 1, "creation_date": 1550886242, "post_id": 54035677, "comment_id": 96449289, "body": "@JHorseman Glad I could help. I also wasted a lot of time with this."}], "tags": [], "owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "is_accepted": false, "score": 1, "last_activity_date": 1546591951, "creation_date": 1546591951, "answer_id": 54035677, "question_id": 44087495, "link": "https://stackoverflow.com/questions/44087495/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-org-jetbrains-ko/54035677#54035677", "title": "Kotlin plugin error: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile", "body": "<p>If you're still receiving this error despite:</p>\n\n<ul>\n<li>Setting the <code>JAVA_HOME</code> environment variable to your JDK8 installation.</li>\n<li>Changing <code>sourceCompatibility</code> in your <code>build.gradle</code> file.</li>\n<li>Pointing to JDK8 in your <code>gradle.properties</code> file.</li>\n</ul>\n\n<p>It's possible that you're running an old version of gradle.</p>\n\n<p>I was receiving this error on gradle <code>version 3.2</code>, but upgrading to <code>version 5.1</code> fixed the error for me.</p>\n\n<p>You can download the latest release from <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">Gradle's Website</a>.</p>\n\n<p>More info <a href=\"https://github.com/holgerbrandl/kscript/issues/180\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9089, "favorite_count": 0, "accepted_answer_id": 44640443, "answer_count": 4, "score": 11, "last_activity_date": 1573486996, "creation_date": 1495293107, "last_edit_date": 1495420846, "question_id": 44087495, "link": "https://stackoverflow.com/questions/44087495/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-org-jetbrains-ko", "title": "Kotlin plugin error: Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile", "body": "<p>Getting an error while trying to run a gradle task. Can't figure out what else is required or what the error is about. The project I'm working on has several subprojects, so I have a main build.gradle. The error is for a subproject where I wanted to try Kotlin.</p>\n\n<pre><code>* Where: Build file '/home/oracle/bnc/KotlinHandler/build.gradle' line: 13\n\n* What went wrong: A problem occurred evaluating root project 'KotlinHandler'.\n&gt; Failed to apply plugin [id 'kotlin']\n   &gt; Could not generate a proxy class for class org.jetbrains.kotlin.gradle.tasks.KotlinCompile.\n</code></pre>\n\n<p>Here is my build.gradle for the failing module (sub-project).</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>Here is <a href=\"https://pastebin.com/vGi4x2Ak\" rel=\"noreferrer\">Pastebin build.gradle</a> which is quite big, because of all the tasks in it</p>\n\n<p>Added --debug <a href=\"https://pastebin.com/vJeF7kY3\" rel=\"noreferrer\">output</a> after changing jdk to 1.8 and compile dependency to <code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8</code></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495290782, "post_id": 44087073, "comment_id": 75196235, "body": "Did you apply the Kotlin plugin correctly?"}, {"owner": {"reputation": 281, "user_id": 7764136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472ec5bca657f2bf7b62d196525f5e39?s=128&d=identicon&r=PG&f=1", "display_name": "M. Doe", "link": "https://stackoverflow.com/users/7764136/m-doe"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495291134, "post_id": 44087073, "comment_id": 75196377, "body": "I configured Kotlin with gradle and added the Kotlin plugin and std lib in the gradle file."}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1495291651, "post_id": 44087073, "comment_id": 75196542, "body": "Did you use the <code>kotlin-android</code> plugin and version <code>1.1.2-4</code>? Have you tried a clean rebuild?"}, {"owner": {"reputation": 281, "user_id": 7764136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472ec5bca657f2bf7b62d196525f5e39?s=128&d=identicon&r=PG&f=1", "display_name": "M. Doe", "link": "https://stackoverflow.com/users/7764136/m-doe"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 4, "creation_date": 1495291799, "post_id": 44087073, "comment_id": 75196588, "body": "Clean rebuild did the trick. Thanks a lot."}, {"owner": {"reputation": 2073, "user_id": 4138841, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/11bu4.jpg?s=128&g=1", "display_name": "Linxy", "link": "https://stackoverflow.com/users/4138841/linxy"}, "edited": false, "score": 0, "creation_date": 1495312233, "post_id": 44087073, "comment_id": 75202596, "body": "This also happens when just using java, and clean also solves it."}], "answers": [{"comments": [{"owner": {"reputation": 1219, "user_id": 6243324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zH73q.png?s=128&g=1", "display_name": "Sub 6 Resources", "link": "https://stackoverflow.com/users/6243324/sub-6-resources"}, "edited": false, "score": 0, "creation_date": 1500412080, "post_id": 44089485, "comment_id": 77322732, "body": "Works well. A summary of the other answers that work for some as well: Try editing the manifest file (add or remove whitespace), and if it still doesn&#39;t work try closing and opening Android Studio. After that, submit a bug report and make sure you don&#39;t have any errors in your project."}], "tags": [], "owner": {"reputation": 8135, "user_id": 216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v31P.jpg?s=128&g=1", "display_name": "Joey deVilla", "link": "https://stackoverflow.com/users/216/joey-devilla"}, "is_accepted": false, "score": 30, "last_activity_date": 1495305215, "creation_date": 1495305215, "answer_id": 44089485, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44089485#44089485", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>I\u2019ve been experimenting with Kotlin development in the just-released Android Studio 3.0 Canary 1 and get the \u201cCannot find merged manifest\u201d error every now and again. I\u2019ve found that selecting <strong>Build -> Clean Project</strong> solves the problem for me.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "is_accepted": false, "score": 2, "last_activity_date": 1495307656, "creation_date": 1495307656, "answer_id": 44089887, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44089887#44089887", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>You can solve this problem by uninstalling the app you're currently working on and running it again on Android Studio.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 6162570, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qJ8G_r25ypc/AAAAAAAAAAI/AAAAAAAAABc/sSjTOmCB-E0/photo.jpg?sz=128", "display_name": "zhuanghongji", "link": "https://stackoverflow.com/users/6162570/zhuanghongji"}, "is_accepted": false, "score": 13, "last_activity_date": 1495538908, "creation_date": 1495538908, "answer_id": 44133540, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44133540#44133540", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p><strong>Clean Project</strong> is worked for me in Android Studio 3.0 canary version</p>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1496397314, "post_id": 44212695, "comment_id": 75656263, "body": "In my case it&#39;s not working. I&#39;m using Canary 2 Build."}], "tags": [], "owner": {"reputation": 71, "user_id": 8073048, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RHH-wNwvjCI/AAAAAAAAAAI/AAAAAAAAALc/rxAYwj2gBA8/photo.jpg?sz=128", "display_name": "Mhy", "link": "https://stackoverflow.com/users/8073048/mhy"}, "is_accepted": false, "score": 7, "last_activity_date": 1495856034, "creation_date": 1495856034, "answer_id": 44212695, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44212695#44212695", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>In my case, I'm using Android studio 3.0 Canary 2, first i try <strong>Build -> Clean Project</strong> still not solves the problem for me, then I close the project and open it again, Alhamdulillah it's solves the problem</p>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1496666375, "post_id": 44334897, "comment_id": 75739235, "body": "Only your answer is working for me, but only I if run from command line. Apk is installed but if I want after that run in traditional way, I&#39;m still getting &#39;Can&#39;t find main merged manifest&#39; error. Have you resolved this?"}, {"owner": {"reputation": 5966, "user_id": 976367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/V6aaM.jpg?s=128&g=1", "display_name": "Mark Pazon", "link": "https://stackoverflow.com/users/976367/mark-pazon"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1496720762, "post_id": 44334897, "comment_id": 75762405, "body": "@ThirdMartian Unfortunately no. Still stuck with the command line."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1496722803, "post_id": 44334897, "comment_id": 75762892, "body": "Did you report a bug on issue tracker? Android Gradle Plugin or Kotlin?"}], "tags": [], "owner": {"reputation": 5966, "user_id": 976367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/V6aaM.jpg?s=128&g=1", "display_name": "Mark Pazon", "link": "https://stackoverflow.com/users/976367/mark-pazon"}, "is_accepted": false, "score": 2, "last_activity_date": 1496456177, "last_edit_date": 1496456177, "creation_date": 1496426402, "answer_id": 44334897, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44334897#44334897", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>Tried the given solutions but wasn't successful. So for the mean time until this bug gets fixed I am going for the commandline </p>\n\n<pre><code>./gradlew clean install&lt;your_build_variant&gt;\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>./gradlew clean installDevDebug\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1496773378, "post_id": 44383296, "comment_id": 75794128, "body": "It&#39;s incredible, now the project is working! I changed only whitespaces and everything works fine. This answer should be accepted, cause it involves every possible fix."}, {"owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "edited": false, "score": 0, "creation_date": 1497271705, "post_id": 44383296, "comment_id": 75993013, "body": "Same here. Android Studio 3.0 Canary 3, doing any change in manifest (adding empty line, reformatting etc.) fixes the issue."}], "tags": [], "owner": {"reputation": 606, "user_id": 2783841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CLrh.png?s=128&g=1", "display_name": "Karioki", "link": "https://stackoverflow.com/users/2783841/karioki"}, "is_accepted": false, "score": 5, "last_activity_date": 1496732299, "creation_date": 1496732299, "answer_id": 44383296, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44383296#44383296", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>I tried both cleaning the project and close-opening it, but they don't work in my case.\nAfter editing the manifest (not a functional change) now project runs. </p>\n"}, {"tags": [], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "is_accepted": false, "score": 4, "last_activity_date": 1497708562, "creation_date": 1497708562, "answer_id": 44605584, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error/44605584#44605584", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>Because <strong>Build -> Clean Project</strong>, restarting Android Studio or reinstalling app may not work, the simplest solution was to change AndroidManifest.xml, e.g. add or delete white space. </p>\n\n<p>Here is reported issue:  <a href=\"https://issuetracker.google.com/issues/62336754\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/62336754</a>.</p>\n\n<p>As mentioned there, it will be fixed in <code>Android Gradle Plugin 3.0.0-alpha5</code>.</p>\n"}], "owner": {"reputation": 281, "user_id": 7764136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472ec5bca657f2bf7b62d196525f5e39?s=128&d=identicon&r=PG&f=1", "display_name": "M. Doe", "link": "https://stackoverflow.com/users/7764136/m-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5233, "favorite_count": 3, "answer_count": 7, "score": 26, "last_activity_date": 1497708562, "creation_date": 1495290550, "last_edit_date": 1496166195, "question_id": 44087073, "link": "https://stackoverflow.com/questions/44087073/kotlin-on-android-cannot-find-main-merged-manifest-what-is-causing-this-error", "title": "Kotlin on android: Cannot find main merged manifest. What is causing this error?", "body": "<p>I wanted to give Kotlin a shot. I converted my java classes to Kotlin and corrected some errors. If I try to build, the following error comes up:</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:generateDebugInstantRunAppInfo'. Cannot find main merged manifest.</p>\n</blockquote>\n\n<p>This is the manifest file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"mdrueke.kniffel\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\"\n            android:theme=\"@style/AppTheme.NoActionBar\"\n            android:windowSoftInputMode=\"adjustPan\"&gt;\n\n        &lt;/activity&gt;\n        &lt;activity android:name=\".Setup_Activity\"\n            android:windowSoftInputMode=\"adjustPan\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["csv", "reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7448780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nsx-kAgEXIo/AAAAAAAAAAI/AAAAAAAAf8w/KZ_vOmEOfMY/photo.jpg?sz=128", "display_name": "PostPrimeGamer", "link": "https://stackoverflow.com/users/7448780/postprimegamer"}, "edited": false, "score": 0, "creation_date": 1495297249, "post_id": 44087064, "comment_id": 75198194, "body": "Is there anyway to iterate through the class properties and setting them for each?"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1495290511, "creation_date": 1495290511, "answer_id": 44087064, "question_id": 44086665, "link": "https://stackoverflow.com/questions/44086665/kotlin-reflection-creating-objects-from-csv/44087064#44087064", "title": "Kotlin reflection - creating objects from CSV", "body": "<p>The simplest way to solve this is not to use reflection at all. You can pass the property values directly to the class constructor:</p>\n\n<pre><code>data class Member(val firstName: String, val lastName: String)\n\nfun readCsvFileKotlin() {\n    // ...\n    for (line in reader) {\n        val mbrProperties = line.split(\",\") \n        memberList.add(Member(mbrProperties[0], mbrProperties[1]))\n    }\n}\n</code></pre>\n\n<p>If you want to set properties through reflection, you need to declare them as <code>var</code> rather than <code>val</code>, so that they can be changed after the object is created. Then you can use the <code>set</code> method on the property object to change the property value:</p>\n\n<pre><code>data class Member(var firstName: String? = null, var lastName: String? = null)\n\nfun readCsvFileKotlin() {\n    // ...\n    val prop = Member::firstName\n    for (line in reader) { \n        val mbrProperties = line.split(\",\") \n        val member = Member()\n        prop.set(member, mbrProperties[0])\n        memberList.add(member)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 7448780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nsx-kAgEXIo/AAAAAAAAAAI/AAAAAAAAf8w/KZ_vOmEOfMY/photo.jpg?sz=128", "display_name": "PostPrimeGamer", "link": "https://stackoverflow.com/users/7448780/postprimegamer"}, "is_accepted": false, "score": 0, "last_activity_date": 1581966296, "creation_date": 1581966296, "answer_id": 60268918, "question_id": 44086665, "link": "https://stackoverflow.com/questions/44086665/kotlin-reflection-creating-objects-from-csv/60268918#60268918", "title": "Kotlin reflection - creating objects from CSV", "body": "<p>While I did play around with yole's response, and reflection even further, I found a better way to handle me issue.</p>\n\n<p>As a less experienced programmer, I was trying to use the wrong tool for the job. I wanted to take an object, that had a number of functions that i would need for a number of different automated tests, simulating a user - Code I wanted in every instance, whether I needed it for a test or not.</p>\n\n<p>But what I wanted was the flexibility in my data. So instead of a single object with a growing amount of attributes, or multiple objects, each custom to a specific data set, I went to one attribute. The best solution, was a key/value pair attribute. I apologize if my Kotlin speak is rusty, I've been focused on python the last two+ years. Dictionary?</p>\n\n<p>Essentially, I stripped off the header of my csv, mapped it to each row as a dictionary/key,value pair which was then added as I instantiated an object and added the object to a list. Similar if querying a database directly rather than working with csv or Excel files.</p>\n\n<p>So as long as I don't write queries that change the column names of my tables for my results, and I know the column names in the database (They are not changing anytime soon), and I'm already mapping that data to the process and/or gui (or both) things turned quite nicely without the reflection overhead.</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 4984327, "user_type": "registered", "profile_image": "https://graph.facebook.com/946302468749306/picture?type=large", "display_name": "Sunny Pelletier", "link": "https://stackoverflow.com/users/4984327/sunny-pelletier"}, "is_accepted": false, "score": 0, "last_activity_date": 1603653531, "creation_date": 1603653531, "answer_id": 64527816, "question_id": 44086665, "link": "https://stackoverflow.com/questions/44086665/kotlin-reflection-creating-objects-from-csv/64527816#64527816", "title": "Kotlin reflection - creating objects from CSV", "body": "<p>If you still look to do that, I created my own CSV library that uses reflection to instantiate POJOs directly from the CSV input and manages errors in the CSV much better than regular parsers I tested, called <a href=\"https://github.com/pelletier197/kotlin-stream-csv\" rel=\"nofollow noreferrer\">Kotlin CSV Stream</a></p>\n<p>I actually created it after giving up on traditional parsers because they all did not fill my needs.</p>\n"}], "owner": {"reputation": 55, "user_id": 7448780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nsx-kAgEXIo/AAAAAAAAAAI/AAAAAAAAf8w/KZ_vOmEOfMY/photo.jpg?sz=128", "display_name": "PostPrimeGamer", "link": "https://stackoverflow.com/users/7448780/postprimegamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2588, "favorite_count": 0, "accepted_answer_id": 44087064, "answer_count": 3, "score": 3, "last_activity_date": 1603653531, "creation_date": 1495288096, "question_id": 44086665, "link": "https://stackoverflow.com/questions/44086665/kotlin-reflection-creating-objects-from-csv", "title": "Kotlin reflection - creating objects from CSV", "body": "<p>I have a data class named Member:</p>\n\n<pre><code>data class Member(){\n    val first_name: String\n    val last_name: String\n    //30 more\n\n    //a few simple methods\n}\n</code></pre>\n\n<p>I am trying to import a CSV file. Each line of the file contains the fields I want to use to instantiate my Members.</p>\n\n<pre><code>fun ReadCsvFileKotlin() {\n    val csvFile = \"C:\\\\Data.csv\"\n    var memberList = mutableListOf&lt;Member&gt;()\n    var reader = File(csvFile).readLines()\n    var mbr: Member\n    class Member(val p: Int)\n    val prop = Member::p\n    for(line in reader){\n        val mbrProperties = line.split(\",\")\n        for(i in 0..mbrProperties.lastIndex){\n            //assign mbrProperties[i] to mbr property\n            //mbrProperties[0] = \"Bob\"\n            //mbr.first_name = \"Bob\"\n            //Member::p = mbrProperties[i]\n    }\n    memberList.add(mbr)\n}\n</code></pre>\n\n<p>I've done my research, but I'm failing to wrap my head around the information I've read and just can't bridge the gap between where I am and where I want to be.</p>\n\n<p>Any advice would be appreciated! Walking me through or giving me examples using my example code would be welcome.</p>\n\n<p>Background: I am automating tests for a website. Prior to executing each test, the member meeting the necessary test criteria is selected from a list, populated from the CSV file. I am looking to create my member objects in this fashion to reduce maintenance overhead as the test scope expands and additional criteria (and Member class fields) are added.</p>\n\n<p>Why am I doing any of this in the manner I am doing? Because I still have much to learn... (So, if you see a better way, please, educate me!)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 3, "creation_date": 1562847361, "post_id": 44086749, "comment_id": 100512505, "body": "but unfortunately automatic casting is not working in this case :-("}, {"owner": {"reputation": 657, "user_id": 5182150, "user_type": "registered", "profile_image": "https://graph.facebook.com/892258294180976/picture?type=large", "display_name": "Jude Osbert K", "link": "https://stackoverflow.com/users/5182150/jude-osbert-k"}, "reply_to_user": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 0, "creation_date": 1589522297, "post_id": 44086749, "comment_id": 109333019, "body": "@Angelina that is expected as there are two types of values coming in."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 7, "last_activity_date": 1495288671, "creation_date": 1495288671, "answer_id": 44086749, "question_id": 44086614, "link": "https://stackoverflow.com/questions/44086614/kotlin-when-with-multiple-values-not-working-when-value-is-an-android-view/44086749#44086749", "title": "Kotlin when with multiple values not working when value is an android view", "body": "<p>You can do this, you just didn't get the syntax right. The following works for handling multiple types under one branch of <code>when</code>:</p>\n\n<pre><code>when(view) {\n    is EditText, is TextView -&gt; {\n        ....\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 4179315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqYoY.png?s=128&g=1", "display_name": "Andrii S.", "link": "https://stackoverflow.com/users/4179315/andrii-s"}, "edited": false, "score": 2, "creation_date": 1548939107, "post_id": 44086753, "comment_id": 95729992, "body": "Wow, this is quite intuitive. I love Kotlin"}, {"owner": {"reputation": 41540, "user_id": 127013, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5cfa38a7e54e6c6a850dc6169a699246?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/127013/matthias"}, "edited": false, "score": 4, "creation_date": 1561733211, "post_id": 44086753, "comment_id": 100172141, "body": "I thought this is quite unintuitive. Intuitive would have been <code>is A, B -&gt; ...</code>"}, {"owner": {"reputation": 1651, "user_id": 1719285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759e8a2de737bf875a85d800c7cff36a?s=128&d=identicon&r=PG", "display_name": "NeverwinterMoon", "link": "https://stackoverflow.com/users/1719285/neverwintermoon"}, "edited": false, "score": 0, "creation_date": 1563194161, "post_id": 44086753, "comment_id": 100607495, "body": "When matching a sealed class though, I ran into a problem. Say, sealed class Bla is used like this: <code>Yes(val index: Int): Bla()</code> and <code>No(val index: Int): Bla()</code>. When matching: <code>when (blaValue) { is Yes, is No -&gt; println(&quot;Can&#39;t access data class value&quot;) }</code> works but there is not automatic casting, although it&#39;s of the same type in both cases. In Swift the same thing works: <code>switch blaValue { case .yes(let index), .no(let index): print(&quot;Value is accessible&quot;) }</code>"}, {"owner": {"reputation": 1406, "user_id": 1886484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V55rW.jpg?s=128&g=1", "display_name": "Ali Kazi", "link": "https://stackoverflow.com/users/1886484/ali-kazi"}, "edited": false, "score": 1, "creation_date": 1578289916, "post_id": 44086753, "comment_id": 105378183, "body": "As at Jan 2020 with Kotlin 1.3.50, <code>is</code> is not required anymore."}], "tags": [], "owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "is_accepted": true, "score": 71, "last_activity_date": 1496438033, "last_edit_date": 1496438033, "creation_date": 1495288680, "answer_id": 44086753, "question_id": 44086614, "link": "https://stackoverflow.com/questions/44086614/kotlin-when-with-multiple-values-not-working-when-value-is-an-android-view/44086753#44086753", "title": "Kotlin when with multiple values not working when value is an android view", "body": "<p>You're missing the other <code>is</code>:</p>\n\n<pre><code>fun applyTemplateViewStyles(view: View) {\n    when(view) {\n        is EditText, is TextView -&gt; {\n            println(\"view is either EditText or TextView\")\n        }\n        else -&gt; {\n            println(\"view is something else\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13077381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482aa92b8f7679c6be4d6fcf30fd80d7?s=128&d=identicon&r=PG&f=1", "display_name": "Umasankar", "link": "https://stackoverflow.com/users/13077381/umasankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1616647589, "creation_date": 1616647589, "answer_id": 66793240, "question_id": 44086614, "link": "https://stackoverflow.com/questions/44086614/kotlin-when-with-multiple-values-not-working-when-value-is-an-android-view/66793240#66793240", "title": "Kotlin when with multiple values not working when value is an android view", "body": "<p>In case of multiple text option handling\nyou can use comma</p>\n<pre><code>when(option) { //option is string\n    &quot;type A&quot;,&quot;type B&quot; -&gt; {\n        ....\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17448, "favorite_count": 3, "accepted_answer_id": 44086753, "answer_count": 3, "score": 36, "last_activity_date": 1616647589, "creation_date": 1495287810, "question_id": 44086614, "link": "https://stackoverflow.com/questions/44086614/kotlin-when-with-multiple-values-not-working-when-value-is-an-android-view", "title": "Kotlin when with multiple values not working when value is an android view", "body": "<p>I implemented a function that is used in anko's apply recursively:</p>\n\n<pre><code>fun applyTemplateViewStyles(view: View) {\n    when(view) {\n        is EditText, TextView -&gt; {\n            ....\n        }\n    }\n}\n</code></pre>\n\n<p>And I receive an error saying that \"Function invocation 'TextView(...)' expected\"</p>\n\n<p>Since I can write an when with a clause like is 0, 1, why I can't do the same with an Android View? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495287854, "post_id": 44086567, "comment_id": 75195305, "body": "Uhm, because it&#39;s mutable, as the error message says? Nullability has nothing to do with smart casts."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1495299709, "last_edit_date": 1495299709, "creation_date": 1495288548, "answer_id": 44086729, "question_id": 44086567, "link": "https://stackoverflow.com/questions/44086567/kotlin-smart-cast-not-working-for-linearlayout-layoutparams/44086729#44086729", "title": "Kotlin smart cast not working for LinearLayout.LayoutParams", "body": "<p>Smart cast won't work in this case, because the type of the variable you did the type check on could have changed since that check passed successfully (for example, by a different thread), and if it did, you'd get a runtime exception when you attempt to cast it.</p>\n\n<p>The solution is either to do the cast manually as you did, or to introduce a temporary <code>val</code> to your function, which smart cast will work on, since we know its type won't change:</p>\n\n<pre><code>val params = view.layoutParams\nwhen(params) {\n    is LinearLayout.LayoutParams -&gt; {\n        params.marginEnd = view.resources.getDimensionPixelSize(R.dimen.min_spacing)\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> As an additional note, you could also introduce this variable by using <code>let</code>:</p>\n\n<pre><code>view.layoutParams.let { params -&gt;\n    when(params) {\n        is LinearLayout.LayoutParams -&gt; {\n            params.marginEnd = view.resources.getDimensionPixelSize(R.dimen.min_spacing)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 1, "accepted_answer_id": 44086729, "answer_count": 1, "score": 1, "last_activity_date": 1495299709, "creation_date": 1495287559, "question_id": 44086567, "link": "https://stackoverflow.com/questions/44086567/kotlin-smart-cast-not-working-for-linearlayout-layoutparams", "title": "Kotlin smart cast not working for LinearLayout.LayoutParams", "body": "<p>I have implemented a function that I used to pass to anko`s applyRecursively.</p>\n\n<p>Inside this function, I would like to add a marginEnd is the view is inside an LinearLayout, so I wrote the following code:</p>\n\n<pre><code>when(view.layoutParams) {\n    is LinearLayout.LayoutParams -&gt; {\n        view.layoutParams.marginEnd = view.resources.getDimensionPixelSize(R.dimen.min_spacing)\n    }\n}\n</code></pre>\n\n<p>And I receive the error that the view.layoutParams is a mutable property that could have been changed. So I had to force the cast:</p>\n\n<pre><code>when(view.layoutParams) {\n    is LinearLayout.LayoutParams -&gt; {\n        (view.layoutParams as LinearLayout.LayoutParams).marginEnd = view.resources.getDimensionPixelSize(R.dimen.min_spacing)\n    }\n}\n</code></pre>\n\n<p>Looking here at stackoverflow I saw that Kotlin don't smart cast in variables that can be nullable, but the view.layoutParams is not nullable, so why the smart cast can't infer the type?</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3757, "user_id": 1635416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jkb4T.gif?s=128&g=1", "display_name": "jsc0", "link": "https://stackoverflow.com/users/1635416/jsc0"}, "edited": false, "score": 0, "creation_date": 1495361737, "post_id": 44085898, "comment_id": 75212137, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/44079918/android-studio-3-0-canary-1-kotlin-tests-or-java-tests-referring-to-kotlin-clas\">Android Studio 3.0 Canary 1: Kotlin tests or Java tests referring to Kotlin classes fail</a>"}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 1, "last_activity_date": 1495283873, "creation_date": 1495283873, "answer_id": 44085964, "question_id": 44085898, "link": "https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime/44085964#44085964", "title": "NoClassDefFoundError on Kotlin class in JUnit test at runtime", "body": "<p>This currently doesn't work with the latest tools. There is an <a href=\"https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FKT-17951\" rel=\"nofollow noreferrer\">open issue</a> for this in the Jetbrains tracker.</p>\n"}, {"comments": [{"owner": {"reputation": 916, "user_id": 1659619, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/466bU.jpg?s=128&g=1", "display_name": "Sah", "link": "https://stackoverflow.com/users/1659619/sah"}, "edited": false, "score": 0, "creation_date": 1495364632, "post_id": 44095579, "comment_id": 75212984, "body": "I had to create two tasks for both classes and test classes."}], "tags": [], "owner": {"reputation": 3757, "user_id": 1635416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jkb4T.gif?s=128&g=1", "display_name": "jsc0", "link": "https://stackoverflow.com/users/1635416/jsc0"}, "is_accepted": false, "score": 2, "last_activity_date": 1495361330, "creation_date": 1495361330, "answer_id": 44095579, "question_id": 44085898, "link": "https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime/44095579#44095579", "title": "NoClassDefFoundError on Kotlin class in JUnit test at runtime", "body": "<p>The solution is to create a new task in the module build.gradle file.</p>\n\n<pre><code>android {\n    task copyTestClasses(type: Copy) {\n        from \"build/tmp/kotlin-classes/debugUnitTest\"\n        into \"build/intermediates/classes/debug\"\n    }\n</code></pre>\n\n<p>Then add that task to the \"Before launch\" section of the test run configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BOfaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BOfaS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 4222, "user_id": 1042342, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/De04b.jpg?s=128&g=1", "display_name": "Igor Bubelov", "link": "https://stackoverflow.com/users/1042342/igor-bubelov"}, "is_accepted": false, "score": 1, "last_activity_date": 1495869859, "creation_date": 1495869859, "answer_id": 44214161, "question_id": 44085898, "link": "https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime/44214161#44214161", "title": "NoClassDefFoundError on Kotlin class in JUnit test at runtime", "body": "<p>This is an open issue, I guess it will be fixed soon:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-17951\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17951</a></p>\n\n<p><a href=\"https://issuetracker.google.com/issues/38454212\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/38454212</a></p>\n\n<p>Meanwhile, you can use the following workaround:</p>\n\n<pre><code>task copyTestClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/debugUnitTest\"\n    into \"build/intermediates/classes/debug\"\n}\n\ntask copySdkClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/debug\"\n    into \"build/intermediates/classes/debug\"\n}\n</code></pre>\n\n<p>Add it to your Gradle file (after android {...} section)</p>\n\n<p>After that, open your tests configuration and add new \"before launch\" step which will execute those tasks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bkTSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bkTSF.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mh2bX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mh2bX.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/G5aRD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5aRD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 916, "user_id": 1659619, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/466bU.jpg?s=128&g=1", "display_name": "Sah", "link": "https://stackoverflow.com/users/1659619/sah"}, "is_accepted": true, "score": 0, "last_activity_date": 1496504808, "creation_date": 1496504808, "answer_id": 44345754, "question_id": 44085898, "link": "https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime/44345754#44345754", "title": "NoClassDefFoundError on Kotlin class in JUnit test at runtime", "body": "<p>Someone confirmed this bug has been fixed in Android Studio 3 Canary 3: <a href=\"https://issuetracker.google.com/issues/38454212\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/38454212</a></p>\n"}], "owner": {"reputation": 916, "user_id": 1659619, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/466bU.jpg?s=128&g=1", "display_name": "Sah", "link": "https://stackoverflow.com/users/1659619/sah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1918, "favorite_count": 0, "accepted_answer_id": 44345754, "answer_count": 4, "score": 2, "last_activity_date": 1496504808, "creation_date": 1495283400, "question_id": 44085898, "link": "https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime", "title": "NoClassDefFoundError on Kotlin class in JUnit test at runtime", "body": "<p>My Kotlin class compiles and runs on an emulator without a problem. But when I test it, Android Studio says the class is not found.</p>\n\n<p>Here's the Kotlin class and an example of using it:</p>\n\n<pre><code>// Product.kt\ndata class Product(\n    val id: Int,\n    val name: String,\n    val manufacturer: String)\n\n// MainActivity.java\npublic class MainActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Product product = new Product(0, \"foo\", \"bar\");\n        TextView textView = findViewById(R.id.textView);\n        textView.setText(product.getName());\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pUfYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pUfYY.png\" alt=\"enter image description here\"></a></p>\n\n<p>However when I write a JUnit test for the Kotlin class:</p>\n\n<pre><code>// ProductTest.java\npublic class ProductTest {\n    @Test\n    public void getName() throws Exception {\n        Product p = new Product(0, \"foo\", \"bar\");\n        assertThat(p.getName(), equalTo(\"foo\"));\n    }\n}\n</code></pre>\n\n<p>Android Studio compiles the code, but refuses to run the test:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/example/Product\n\n  at com.example.ProductTest.getName(ProductTest.java:15)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n  at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n  at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n  at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n  at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n  at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n  at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n  at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n  at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: java.lang.ClassNotFoundException: com.example.Product\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n  ... 28 more\n</code></pre>\n\n<p>Here comes the <code>dependencies</code> section in the module-level <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>What did I do wrong?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 101058, "user_id": 318758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9870a37447a4ae811096e8e7d10ed3f9?s=128&d=identicon&r=PG", "display_name": "Joni", "link": "https://stackoverflow.com/users/318758/joni"}, "edited": false, "score": 0, "creation_date": 1495277525, "post_id": 44084916, "comment_id": 75192416, "body": "Is it really an error or a warning? You should be getting the same warning from your Java code. Most likely you should have used composition and not inheritance from the start."}, {"owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "reply_to_user": {"reputation": 101058, "user_id": 318758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9870a37447a4ae811096e8e7d10ed3f9?s=128&d=identicon&r=PG", "display_name": "Joni", "link": "https://stackoverflow.com/users/318758/joni"}, "edited": false, "score": 0, "creation_date": 1495288096, "post_id": 44084916, "comment_id": 75195369, "body": "No warning in Java code."}], "answers": [{"comments": [{"owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "edited": false, "score": 0, "creation_date": 1495288103, "post_id": 44085012, "comment_id": 75195370, "body": "Thanks for the answer. This seems strange though. The RectF class implements the Parcelable interface, and fulfils that contract. No issue in Java code."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "edited": false, "score": 0, "creation_date": 1495301144, "post_id": 44085012, "comment_id": 75199410, "body": "You could also have a look at <a href=\"http://grandstaish.github.io/paperparcel/\" rel=\"nofollow noreferrer\">PaperParcel</a> to generate everything for you."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1500120811, "post_id": 44085012, "comment_id": 77207120, "body": "If you use the parent class CREATOR, then after deserializing you&#39;ll end up with an instance of the parent class, not the child class. You need to write a CREATOR for the child class as well."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1495278111, "last_edit_date": 1495278111, "creation_date": 1495277685, "answer_id": 44085012, "question_id": 44084916, "link": "https://stackoverflow.com/questions/44084916/kotlin-inherit-from-java-class-that-implements-parcelable/44085012#44085012", "title": "Kotlin - Inherit from Java Class that implements Parcelable", "body": "<p>You have to comply to the <a href=\"https://developer.android.com/reference/android/os/Parcelable.html\" rel=\"nofollow noreferrer\"><code>Parcelable</code></a> contract:</p>\n\n<blockquote>\n  <p>Classes implementing the <code>Parcelable</code> interface must also have a non-null static field called <code>CREATOR</code> of a type that implements the <code>Parcelable.Creator</code> interface.</p>\n</blockquote>\n\n<p>But your hack only removes the lint error. You should implement the <code>Parcelable.Creator</code> for your class directly, not re-use the one of <code>RectF</code>.</p>\n\n<pre><code>internal class MyClass : RectF() {\n    companion object {\n        @JvmField\n        val CREATOR = Parcelable.Creator() { ... }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 44085012, "answer_count": 1, "score": 2, "last_activity_date": 1495278111, "creation_date": 1495277115, "question_id": 44084916, "link": "https://stackoverflow.com/questions/44084916/kotlin-inherit-from-java-class-that-implements-parcelable", "title": "Kotlin - Inherit from Java Class that implements Parcelable", "body": "<p>I'm new to Kotlin, just trying it out.</p>\n\n<p>The first class from my project I converted to Kotlin has an inner class that extends RectF (which implements Parcelable).</p>\n\n<p><code>static class MyClass extends RectF</code></p>\n\n<p>converted to</p>\n\n<p><code>internal class MyClass : RectF()</code></p>\n\n<p>But has the following error:</p>\n\n<blockquote>\n  <p>This class implements Parcelable but does not provide a CREATOR field</p>\n</blockquote>\n\n<p>Experimenting, I found <code>val CREATOR = RectF.CREATOR</code> in MyClass removes the error, but this is ugly hack.</p>\n\n<p>Can anyone explain/solve the issue here?</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2"], "comments": [{"owner": {"reputation": 10216, "user_id": 854207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/R6DhK.jpg?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/854207/paul"}, "edited": false, "score": 0, "creation_date": 1495276157, "post_id": 44084228, "comment_id": 75192028, "body": "just try first to consume the endpoint without return single. Not sure your problem is related with RX"}, {"owner": {"reputation": 195, "user_id": 6478337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nFTyi.jpg?s=128&g=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6478337/joan"}, "reply_to_user": {"reputation": 10216, "user_id": 854207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/R6DhK.jpg?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/854207/paul"}, "edited": false, "score": 0, "creation_date": 1495276927, "post_id": 44084228, "comment_id": 75192236, "body": "It seems it&#39;s not, when executing the synchronous call wth retrofit via .execute() it also freezes with the black screen. Maybe it&#39;s the way i&#39;m using this URL query?"}, {"owner": {"reputation": 10216, "user_id": 854207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/R6DhK.jpg?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/854207/paul"}, "edited": false, "score": 0, "creation_date": 1495277020, "post_id": 44084228, "comment_id": 75192260, "body": "Not familiarize with android mate. Just try to make a very simple request to the endpoint"}], "answers": [{"tags": [], "owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "is_accepted": true, "score": 0, "last_activity_date": 1495273952, "creation_date": 1495273952, "answer_id": 44084427, "question_id": 44084228, "link": "https://stackoverflow.com/questions/44084228/rxjava2-retrofit-black-screen-at-data-request/44084427#44084427", "title": "RxJava2 + Retrofit black screen at data request", "body": "<p>I guess you are making web call in main thread. It is strange, that you just get something like ANR and not android.os.NetworkOnMainThreadException.</p>\n\n<pre><code>getAllApartmentsUseCase\n    .getAllApartments()\n\n    .subscribeOn(Schedulers.io())  //scheduler in which observable will execute\n    .observeOn(AndroidSchedulers.mainThread()) //scheduler in which subscriber's methods will be called\n\n    .subscribe(/*subscriber*/)\n</code></pre>\n\n<p><a href=\"https://medium.com/upday-devs/rxjava-subscribeon-vs-observeon-9af518ded53a\" rel=\"nofollow noreferrer\">https://medium.com/upday-devs/rxjava-subscribeon-vs-observeon-9af518ded53a</a></p>\n"}], "owner": {"reputation": 195, "user_id": 6478337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nFTyi.jpg?s=128&g=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6478337/joan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 44084427, "answer_count": 1, "score": 0, "last_activity_date": 1502007964, "creation_date": 1495272824, "last_edit_date": 1502007964, "question_id": 44084228, "link": "https://stackoverflow.com/questions/44084228/rxjava2-retrofit-black-screen-at-data-request", "title": "RxJava2 + Retrofit black screen at data request", "body": "<p>I'm facing an issue with an android app while trying to retrieve some Api data using RxJava2 And Retrofit2 (in Kotlin). Once I execute the call, the screen turns black and the application just doesn't respond anymore, without any log messages.</p>\n\n<p>The call URL I'm using is the following: </p>\n\n<pre><code>api/apartments?projection={\"id\":1,\"address\":1}\n</code></pre>\n\n<p>The Service interface for this call is this one:</p>\n\n<pre><code>    @GET(\"api/apartments?projection={\\\"id\\\":1,\\\"address\\\":1}\")\n    fun getAllApartments(@Header(AUTHORIZATION) auth: String): Single&lt;List&lt;APTLIST&gt;&gt;\n</code></pre>\n\n<p>This is the way I execute the call:</p>\n\n<pre><code>  override fun getAllApartments(): Single&lt;List&lt;APTLIST&gt;&gt; = retrofit.create(ApartmentsService::class.java).getAllApartments(\"$BEARER$token\")\n</code></pre>\n\n<p>And this is how I call the function:</p>\n\n<pre><code>getAllApartmentsUseCase.getAllApartments()\n    .subscribe(\n        {\n          apartments.clear()\n          apartments.addAll(it)\n          view.showApartments(apartments)\n        },\n        { println(it.message) }\n    )\n</code></pre>\n\n<p>This call works on Postman and the result is the following:</p>\n\n<pre><code>[\n  {\n    \"_id\": \"591ecaca861a528a5b4c3d90\",\n    \"id\": \"ROC 03\"\n  },\n  {\n    \"_id\": \"591a0fb2861a528a5b4c3d60\"\n  },\n  {\n    \"_id\": \"58be94d484c4b0a468fb93e0\",\n    \"id\": \"CAN 2.3\",\n    \"address\": \"Els Refugis\"\n  }\n] \n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1495273469, "post_id": 44084163, "comment_id": 75191354, "body": "Same question, no good answer <a href=\"http://stackoverflow.com/q/29595301/3144601\">stackoverflow.com/q/29595301/3144601</a>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495285024, "post_id": 44084163, "comment_id": 75194454, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29595301/property-include-exclude-on-kotlin-data-classes\">Property include/exclude on Kotlin data classes</a>"}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1495454297, "post_id": 44084163, "comment_id": 75243723, "body": "If you need custom <code>equals()</code> and <code>hashCode()</code> methods then you should make it a regular class and implement them yourself instead of a data class - it&#39;s a sign you&#39;re trying to use a <code>data class</code> for something that this feature wasn&#39;t designed for."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1495273780, "last_edit_date": 1495540503, "creation_date": 1495273780, "answer_id": 44084401, "question_id": 44084163, "link": "https://stackoverflow.com/questions/44084163/ignoring-certain-properties-when-generating-equals-hashcode-etc/44084401#44084401", "title": "Ignoring certain properties when generating equals(), hashCode(), etc", "body": "<p>For data classes, these functions are generated using all the properties that are declared in the primary constructor. From the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n\n<blockquote>\n  <p>The compiler automatically derives the following members from all\n  properties declared in the primary constructor:</p>\n  \n  <ul>\n  <li>equals()/hashCode() pair,</li>\n  <li>toString() of the form \"User(name=John, age=42)\",</li>\n  <li>componentN() functions corresponding to the properties in\n  their order of declaration, </li>\n  <li>copy() function (see below).</li>\n  </ul>\n</blockquote>\n\n<p>If you want a property not to be taken into account for their implementation, you'll have to either move it out of the primary constructor, or implement these functions yourself.</p>\n\n<p>More discussion about a similar issue <a href=\"https://stackoverflow.com/questions/43192582/compare-data-class-in-kotlin-without-id\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 1, "last_activity_date": 1495331450, "creation_date": 1495331450, "answer_id": 44092431, "question_id": 44084163, "link": "https://stackoverflow.com/questions/44084163/ignoring-certain-properties-when-generating-equals-hashcode-etc/44092431#44092431", "title": "Ignoring certain properties when generating equals(), hashCode(), etc", "body": "<p>A solution that has worked well for me is to separate your metadata from your data. e.g.:</p>\n\n<pre><code>data class Entity&lt;out T&gt;(val id: Int, val data: T)\ndata class Person(val name: String, val manufacturer: String)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val e1 = Entity(1, Person(\"Mickey\", \"Disney\"))\nval e2 = Entity(2, Person(\"Mickey\", \"Disney\"))\nval e3 = Entity(3, Person(\"Donald\", \"Disney\"))\n\ne1 == e2\n// false\n\ne1.data == e2.data\n// true\n\ne2.data == e3.data\n// false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 2428631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e03060bbd51f78ca975631e117b9213?s=128&d=identicon&r=PG", "display_name": "Marcus Fihlon", "link": "https://stackoverflow.com/users/2428631/marcus-fihlon"}, "is_accepted": false, "score": 0, "last_activity_date": 1518953394, "creation_date": 1518953394, "answer_id": 48851137, "question_id": 44084163, "link": "https://stackoverflow.com/questions/44084163/ignoring-certain-properties-when-generating-equals-hashcode-etc/48851137#48851137", "title": "Ignoring certain properties when generating equals(), hashCode(), etc", "body": "<p><strong>From the documentation:</strong></p>\n\n<p><em>Note that the compiler only uses the properties defined inside the primary constructor for the automatically generated functions. To exclude a property from the generated implementations, declare it inside the class body.</em></p>\n\n<p>Your example has to look like this:</p>\n\n<pre><code>data class Product(\n    val name: String,\n    val manufacturer: String) {\n    val id: Int\n}\n</code></pre>\n\n<p>For more information take a look at: <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#properties-declared-in-the-class-body\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/data-classes.html#properties-declared-in-the-class-body</a></p>\n"}], "owner": {"reputation": 916, "user_id": 1659619, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/466bU.jpg?s=128&g=1", "display_name": "Sah", "link": "https://stackoverflow.com/users/1659619/sah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "accepted_answer_id": 44084401, "answer_count": 3, "score": 1, "last_activity_date": 1518953394, "creation_date": 1495272391, "question_id": 44084163, "link": "https://stackoverflow.com/questions/44084163/ignoring-certain-properties-when-generating-equals-hashcode-etc", "title": "Ignoring certain properties when generating equals(), hashCode(), etc", "body": "<p>Let's say I have a data class that has three properties:</p>\n\n<pre><code>data class Product(\n    val id: Int,\n    val name: String,\n    val manufacturer: String)\n</code></pre>\n\n<p>If I understand correctly, Kotlin will generate <code>equals()</code> and <code>hashCode()</code> using all the three properties, which will be like:</p>\n\n<pre><code>override fun equals(other: Any?): Boolean {\n    if (this === other) return true\n    if (other == null || javaClass != other.javaClass) return false\n    val that = other as Product?\n    return id == that.id &amp;&amp;\n            name == that!!.name &amp;&amp;\n            manufacturer == that.manufacturer\n}\n\noverride fun hashCode(): Int {\n    return Objects.hash(id, name, manufacturer)\n}\n</code></pre>\n\n<p>So what if I don't want <code>id</code> to be used in <code>equals()</code> and <code>hashCode()</code>? Is there a way to tell Kotlin to ignore certain properties when generating these functions? How about <code>toString()</code> and <code>compareTo()</code>?</p>\n"}, {"tags": ["css", "javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 1577538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/007f5c13d4ad45535dfea9fa0eff4805?s=128&d=identicon&r=PG", "display_name": "matthjes", "link": "https://stackoverflow.com/users/1577538/matthjes"}, "edited": false, "score": 0, "creation_date": 1495269724, "post_id": 44082989, "comment_id": 75190322, "body": "Sorry, my fault, I made a typo. It&#39;s <code>jfx-decorator-buttons-container</code>, a single class."}, {"owner": {"reputation": 511, "user_id": 1577538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/007f5c13d4ad45535dfea9fa0eff4805?s=128&d=identicon&r=PG", "display_name": "matthjes", "link": "https://stackoverflow.com/users/1577538/matthjes"}, "edited": false, "score": 0, "creation_date": 1495269891, "post_id": 44082989, "comment_id": 75190369, "body": "Thank, that&#39;s the solution! I couldn&#39;t find this information in the guide, maybe I missed it."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 511, "user_id": 1577538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/007f5c13d4ad45535dfea9fa0eff4805?s=128&d=identicon&r=PG", "display_name": "matthjes", "link": "https://stackoverflow.com/users/1577538/matthjes"}, "edited": false, "score": 0, "creation_date": 1495272711, "post_id": 44082989, "comment_id": 75191148, "body": "You&#39;re welcome :) The CSS chapter of the guide mentions this, but it is not a complete reference to the type safe CSS support yet. We plan to expand the chapter shortly. <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/6.%20CSS.html\" rel=\"nofollow noreferrer\">edvin.gitbooks.io/tornadofx-guide/content/6.%20CSS.html</a>"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1495283002, "last_edit_date": 1495283002, "creation_date": 1495264195, "answer_id": 44082989, "question_id": 44082894, "link": "https://stackoverflow.com/questions/44082894/tornadofx-type-safe-css-with-other-libraries/44082989#44082989", "title": "TornadoFX: Type-Safe CSS with other libraries", "body": "<p>You mention the classes <code>jfx-decorator</code> and <code>jfx-decorator-buttons-container</code>, but your example CSS uses the classes <code>jfx-decorator-buttons</code> and <code>container</code>. I'm unsure which classes you really want, but I'll add the two latter, since that will produce the CSS from your example.</p>\n\n<pre><code>class Styles : Stylesheet() {\n    companion object {\n        val jfxDecoratorButtons by cssclass()\n        val container by cssclass()\n    }\n\n    init {\n        jfxDecoratorButtons and container {\n            backgroundColor += Color.RED\n        }\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong> You changed the code in your question, so here is the updated version that will produce that output:</p>\n\n<pre><code>class Styles : Stylesheet() {\n    companion object {\n        val jfxDecoratorButtonsContainer by cssclass()\n    }\n\n    init {\n        jfxDecoratorButtonsContainer {\n            backgroundColor += Color.RED\n        }\n    }\n}\n</code></pre>\n\n<p>Camel cased selectors are automatically converted to lower cased with hyphens. You can also specify the exact name inside the <code>cssclass</code> delegate function:</p>\n\n<p><code>val myCssClass by cssclass(\"my-slightly-different-css-class\")</code></p>\n\n<p>Notice also that since the <code>backgroundColor</code> property accepts multiple values, you must \"add\" the color to the list of colors using <code>+=</code>. This is the common pattern for all properties that accept multiple values.</p>\n"}], "owner": {"reputation": 511, "user_id": 1577538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/007f5c13d4ad45535dfea9fa0eff4805?s=128&d=identicon&r=PG", "display_name": "matthjes", "link": "https://stackoverflow.com/users/1577538/matthjes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 44082989, "answer_count": 1, "score": 1, "last_activity_date": 1495283002, "creation_date": 1495263371, "last_edit_date": 1495269667, "question_id": 44082894, "link": "https://stackoverflow.com/questions/44082894/tornadofx-type-safe-css-with-other-libraries", "title": "TornadoFX: Type-Safe CSS with other libraries", "body": "<p>I'm new to Kolin and TornadoFX and I'm currently experimenting with some of its features. \nI'd like to use the <a href=\"http://www.jfoenix.com/index.html#start\" rel=\"nofollow noreferrer\">JFoenix-Library</a> and style its controls using the type-safe CSS feature of TornadoFX. But I don't know how to modify styles given the CSS class of a JFoenix control.</p>\n\n<p>For example, the <a href=\"http://www.jfoenix.com/documentation.html#Decorator\" rel=\"nofollow noreferrer\">JFXDecorator</a> has the default CSS class <code>jfx-decorator</code>. To change the background color of the title bar I have to modify the class <code>jfx-decorator-buttons-container</code>. How can I do this with TornadoFX? In a .css file I would just use</p>\n\n<pre><code>.jfx-decorator-buttons-container {\n  -fx-background-color: red;\n}\n</code></pre>\n\n<p>Is this possible with TornadoFX?</p>\n"}, {"tags": ["android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 301, "user_id": 6687541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bnaqRzpCiJc/AAAAAAAAAAI/AAAAAAAAAC0/4eQQL83kbwg/photo.jpg?sz=128", "display_name": "Anchal Singh", "link": "https://stackoverflow.com/users/6687541/anchal-singh"}, "edited": false, "score": 0, "creation_date": 1495261967, "post_id": 44082642, "comment_id": 75188507, "body": "Instead of using <code>this</code> , try to use <code>getApplicationContext()</code>."}, {"owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1498073054, "post_id": 44082642, "comment_id": 76353421, "body": "Is the class declaration for MainActivity also underlined?  If so, then fix that error first and see if the underlines on properties go away.  If the class declaration for MainActivity is in error then the plugin may not recognize that it inherits from Context, as you surmise."}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 0, "last_activity_date": 1495276613, "creation_date": 1495276613, "answer_id": 44084848, "question_id": 44082642, "link": "https://stackoverflow.com/questions/44082642/what-kotlin-versions-should-i-use-for-android-studio-3-0-canary-1/44084848#44084848", "title": "What kotlin version(s) should I use for Android Studio 3.0 Canary 1?", "body": "<p>You will need to use at least Kotlin <code>1.1.2-4</code>. \nThus change your <code>ext.kotlin_version</code>:</p>\n\n<pre><code>ext.kotlin_version = '1.1.2-4'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 644, "user_id": 3445475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Nzja.png?s=128&g=1", "display_name": "Changwei", "link": "https://stackoverflow.com/users/3445475/changwei"}, "is_accepted": false, "score": 0, "last_activity_date": 1498184503, "creation_date": 1498184503, "answer_id": 44712084, "question_id": 44082642, "link": "https://stackoverflow.com/questions/44082642/what-kotlin-versions-should-i-use-for-android-studio-3-0-canary-1/44712084#44712084", "title": "What kotlin version(s) should I use for Android Studio 3.0 Canary 1?", "body": "<p>you can modify the build.gradle(Module: app) file from</p>\n\n<pre><code>dependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\ncompile \"org.jetbrains.anko:anko-commons:$anko_version\"\ncompile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar')\n{\n    transitive = true;\n}\ncompile \"com.squareup.retrofit2:retrofit:$retrofit_version\"\ncompile \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\ncompile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:design:25.3.1'\n</code></pre>\n\n<p>}</p>\n\n<p>To:</p>\n\n<pre><code>dependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\nandroidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation \"org.jetbrains.anko:anko-commons:$anko_version\"\nimplementation('com.crashlytics.sdk.android:crashlytics:2.6.8@aar')\n{\n    transitive = true;\n}\nimplementation \"com.squareup.retrofit2:retrofit:$retrofit_version\"\nimplementation \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\nimplementation 'com.android.support:appcompat-v7:25.3.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\nimplementation 'com.android.support:design:25.3.1'\n</code></pre>\n\n<p>}</p>\n\n<p>Then the red identifiers will go away.</p>\n"}], "owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1498184503, "creation_date": 1495261461, "question_id": 44082642, "link": "https://stackoverflow.com/questions/44082642/what-kotlin-versions-should-i-use-for-android-studio-3-0-canary-1", "title": "What kotlin version(s) should I use for Android Studio 3.0 Canary 1?", "body": "<p>I have a medium-sized Kotlin project that uses anko and the kotlin android extensions, specifically the synthetic properties from resource IDs.  They have all stopped working with my upgrade to Android Studio 3.0 Canary 1.  Though it seems they have also stopped working for AS 2.3.2.</p>\n\n<p>Here is the relevant top-level build script:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n...\n</code></pre>\n\n<p>And in my app module's build script, the relevant parts are:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nrepositories {\n  mavenCentral()\n  jcenter()\n}\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '25.0.2'\n\n    dataBinding {\n      enabled = true\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'org.jetbrains.anko:anko-sdk21:0.9.1'\n    compile 'org.jetbrains.anko:anko-support-v4:0.9.1'\n    compile 'org.jetbrains.anko:anko-appcompat-v7:0.9.1'\n\n    kapt \"com.android.databinding:compiler:2.5.0-alpha-preview-02\"\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>My command-line build succeeds; in fact the build in the IDE succeeds.  But Kotlin gives me red identifiers for all my synthetic property usages now.</p>\n\n<p>One possible clue is that Kotlin doesn't seem to recognize my Activity (an AppCompatActivity) as being a subclass of Context:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    MultiDex.install(this)\n</code></pre>\n\n<p>The \"this\" is error-underlined, saying that it expected a Context! and got a MainActivity; my MainActivity is defined as:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n</code></pre>\n\n<p>My Kotlin IDE plugin is 1.1.2-4.  I don't know how to revert it to an older version.</p>\n\n<p>I tried re-installing Android Studio 2.3.2 but none of the Kotlin plugins are working there any more either.</p>\n"}, {"tags": ["oop", "interface", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495260814, "post_id": 44082381, "comment_id": 75188261, "body": "Please reformat format your sample code (add indents)"}, {"owner": {"reputation": 58, "user_id": 306671, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/777846118505005711558552c2581bc9?s=128&d=identicon&r=PG", "display_name": "lorbrito", "link": "https://stackoverflow.com/users/306671/lorbrito"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1495263909, "post_id": 44082381, "comment_id": 75188969, "body": "is it better now @voddan ?"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495265721, "post_id": 44082689, "comment_id": 75189383, "body": "Altho that does not stand for extension functions :P"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 1, "last_activity_date": 1495261799, "creation_date": 1495261799, "answer_id": 44082689, "question_id": 44082381, "link": "https://stackoverflow.com/questions/44082381/overriding-same-signature-from-different-interfaces/44082689#44082689", "title": "Overriding same signature from different interfaces", "body": "<p>It is not possible in Kotlin. Kotlin is similar to Java in this respect. Methods that are override-equivalent in interfaces must have the same implementation in a class. The rationale behind that behavior is that casting a object reference to different types should not change behavior of its methods, e.g:</p>\n\n<pre><code>val test = Test()\n(test as A).doStuff()\n(test as B).doStuff() // should do the same as above\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 306671, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/777846118505005711558552c2581bc9?s=128&d=identicon&r=PG", "display_name": "lorbrito", "link": "https://stackoverflow.com/users/306671/lorbrito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562809033, "creation_date": 1495259067, "last_edit_date": 1562809033, "question_id": 44082381, "link": "https://stackoverflow.com/questions/44082381/overriding-same-signature-from-different-interfaces", "title": "Overriding same signature from different interfaces", "body": "<p>in C sharp, if we have 2 interfaces, with the same signature method, we can implement them in one class, in the following way:</p>\n\n<pre><code>interface A \n{\n void doStuff();\n}\ninterface B\n{\n void doStuff();\n}\nclass Test : A, B\n{\nvoid A.doStuff()\n{\n Console.WriteLine(\"A\");\n}\nvoid B.doStuff()\n{\n Console.WriteLine(\"A\");\n}\n}\n</code></pre>\n\n<p>If we thranslate this to Kotlin we have </p>\n\n<pre><code>interface  A\n{\n fun doStuff()\n} \ninterface  B\n{\n fun doStuff()\n}\nclass Test : A, B\n{\n  override fun doStuff() {\n            println(\"Same for A b\")\n                         }\n}\nfun main(args: Array&lt;String&gt;)\n{\n  var test = Test();\n  test.doStuff() //will print Same for A b\"\n  var InterfaceA:A = test\n  var InterfaceB:B = test\n  InterfaceA.doStuff()//will print Same for A b\"\n  InterfaceB.doStuff()//will print Same for A b\"\n}\n</code></pre>\n\n<p>So, my question is, how can I\n give to each interface a different implementation as in C sharp example?. \n**Note: I have read the docs on <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/interfaces.html</a> , there is a similar example,</p>\n\n<pre><code>interface A {\n fun foo() { print(\"A\") }\n}\ninterface B {\n fun foo() { print(\"B\") }\n}\nclass D : A, B {\n override fun foo() {\n  super&lt;A&gt;.foo()\n  super&lt;B&gt;.foo()\n     }\n}\n</code></pre>\n\n<p>Here, foo is implemented in each interface, so when implemented in D, it just call the implementation defined in the interface. But how can we give define different implementation in D?.  </p>\n"}, {"tags": ["jpa", "repository", "spring-data", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": false, "score": 3, "last_activity_date": 1495299168, "creation_date": 1495299168, "answer_id": 44088530, "question_id": 44081521, "link": "https://stackoverflow.com/questions/44081521/kotlin-use-springdata-jpa-custom-repository/44088530#44088530", "title": "Kotlin use SpringData Jpa custom repository", "body": "<p>Rename <code>ChapterDaoImpl</code> to <code>ChapterRepositoryImpl</code>.</p>\n\n<p>Spring Data looks for custom implementations named after the Repository Interface + <code>Impl</code>. </p>\n\n<p>You named the implementation based on the custom interface.</p>\n"}], "owner": {"reputation": 31, "user_id": 5700228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5532f05fb9623ead148d4a5a9e55ddb?s=128&d=identicon&r=PG&f=1", "display_name": " Jackie Tian", "link": "https://stackoverflow.com/users/5700228/jackie-tian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1875, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495299640, "creation_date": 1495249545, "last_edit_date": 1495299640, "question_id": 44081521, "link": "https://stackoverflow.com/questions/44081521/kotlin-use-springdata-jpa-custom-repository", "title": "Kotlin use SpringData Jpa custom repository", "body": "<p>This is my code. I customized my repository.</p>\n\n<pre><code>interface ChapterDao {\n    fun test(novelId:String):List&lt;Chapter&gt;\n}\n\nclass ChapterDaoImpl constructor(@PersistenceContext var entityManager: EntityManager){   \n\n    fun test(novelId: String): List&lt;Chapter&gt; {\n        val query = entityManager.createNativeQuery(\"select c.name, c.number from chapter c where c.novel.id = $novelId\")\n        val resultList = query.resultList as Array&lt;Array&lt;Any&gt;&gt;\n        var chapterList:ArrayList&lt;Chapter&gt; = ArrayList&lt;Chapter&gt;()\n        for (item in resultList){\n            chapterList.add(Chapter(item.get(0) as String,item.get(1) as Int))\n        }\n        return chapterList\n    }\n}\n\ninterface ChapterRepository : CrudRepository&lt;Chapter, String&gt;, ChapterDao {\n\n}\n</code></pre>\n\n<p><code>Chapter</code> code is:</p>\n\n<pre><code>package com.em248.entity;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore\nimport com.fasterxml.jackson.annotation.JsonInclude\nimport java.util.*\nimport javax.persistence.*\n\n@Entity\n@Table(name = \"chapter\")\n@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)\nclass Chapter {\n    @Id\n    var id: String = UUID.randomUUID().toString()\n\n    var number: Int = -1\n\n    var name: String = \"\"\n\n    @Column(columnDefinition = \"text\")\n    var content: String? = \"\"\n\n    @Temporal(TemporalType.TIMESTAMP)\n    var createDate: Date = Date()\n\n    @ManyToOne\n    @JoinColumn(name = \"novel_id\")\n    @JsonIgnore\n    var novel: Novel = Novel();\n\n    constructor()\n    constructor(name: String, number: Int)\n    constructor(number: Int, name: String, content: String?, createDate: Date, novel: Novel) {\n        this.number = number\n        this.name = name\n        if (content != null) this.content = content\n        this.createDate = createDate\n        this.novel = novel\n    }\n\n}\n</code></pre>\n\n<p>But when using the <code>test</code> function, it throws an error:</p>\n\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property test found for type Chapter!\n    at org.springframework.data.mapping.PropertyPath.lambda$new$0(PropertyPath.java:82) ~[spring-data-commons-2.0.0.M3.jar:na]\n    at java.util.Optional.orElseThrow(Optional.java:290) ~[na:1.8.0_111]\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:82) ~[spring-data-commons-2.0.0.M3.jar:na]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:304) ~[spring-data-commons-2.0.0.M3.jar:na]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:284) ~[spring-data-commons-2.0.0.M3.jar:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:243) ~[spring-data-commons-2.0.0.M3.jar:na]\n</code></pre>\n\n<p>I search how to implement a custom repository, but I don't see the difference to my code?</p>\n"}, {"tags": ["maven", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1495249327, "post_id": 44081411, "comment_id": 75186441, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29330311/how-do-you-compile-javakotlin-project-using-maven\">How do you compile Java+Kotlin project using Maven?</a>"}, {"owner": {"reputation": 1038, "user_id": 547270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yEM1T.png?s=128&g=1", "display_name": "scrutari", "link": "https://stackoverflow.com/users/547270/scrutari"}, "reply_to_user": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1555612459, "post_id": 44081411, "comment_id": 98180409, "body": "@Aryan, this is a different question: the very idea of Maven is convention over configuration, so things like folder <code>src&#47;main&#47;kotlin</code> should be picked up by default."}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 2225734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/95003a1475abec21094e18156741e518?s=128&d=identicon&r=PG", "display_name": "Zach Melnick", "link": "https://stackoverflow.com/users/2225734/zach-melnick"}, "edited": false, "score": 0, "creation_date": 1495249989, "post_id": 44081449, "comment_id": 75186526, "body": "This fixed my issue. However, strangly, when I run the kotlin complier from the plugin itself, it still only runs for src/main/java. However, When I run a mvn clean install, it looks in src/main/kotlin as well."}], "tags": [], "owner": {"reputation": 22394, "user_id": 242042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a798a3d661375ece15776f83fbb80c2c?s=128&d=identicon&r=PG", "display_name": "Archimedes Trajano", "link": "https://stackoverflow.com/users/242042/archimedes-trajano"}, "is_accepted": true, "score": 3, "last_activity_date": 1495248640, "creation_date": 1495248640, "answer_id": 44081449, "question_id": 44081411, "link": "https://stackoverflow.com/questions/44081411/kotlin-is-not-compiling-from-src-main-kotlin-while-using-maven/44081449#44081449", "title": "Kotlin is not compiling from src/main/kotlin while using maven", "body": "<p>You would likely need to turn off the default compile  as noted in <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources</a></p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-compile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-testCompile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;java-compile&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;java-test-compile&lt;/id&gt;\n                &lt;phase&gt;test-compile&lt;/phase&gt;\n                &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 2225734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/95003a1475abec21094e18156741e518?s=128&d=identicon&r=PG", "display_name": "Zach Melnick", "link": "https://stackoverflow.com/users/2225734/zach-melnick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2595, "favorite_count": 0, "accepted_answer_id": 44081449, "answer_count": 1, "score": 8, "last_activity_date": 1495248640, "creation_date": 1495248234, "question_id": 44081411, "link": "https://stackoverflow.com/questions/44081411/kotlin-is-not-compiling-from-src-main-kotlin-while-using-maven", "title": "Kotlin is not compiling from src/main/kotlin while using maven", "body": "<p>The kotlin compiler seems to only be trying to compile .kt files that are in src/main/java, and is ignoring src/main/kotlin. However, everything seems to be linked correctly in the IntelliJ IDE. No errors.</p>\n\n<p>Below is my plugin configuration for kotlin:</p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>However, when I run mvn clean install, the kotlin compiler does not seem to run. So I try to run the kotlin compiler directly from the plugin.</p>\n\n<pre><code>    [INFO] --- kotlin-maven-plugin:1.1.2:compile (default-cli) @ eagle-client-core ---\n[INFO] Kotlin Compiler version 1.1.2\n[INFO] Compiling Kotlin sources from [C:\\Users\\me\\workspace\\Project\\Clients\\project-client\\project-client-core\\src\\main\\java]\n</code></pre>\n\n<p>As you can see, src/main/java is getting scanned, but not src/main/kotlin.</p>\n\n<p>I don't see anything obviously wrong with my configuration. Any help is appriciated.</p>\n"}, {"tags": ["iterator", "sequence", "kotlin", "idioms"], "answers": [{"comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1495271341, "post_id": 44082650, "comment_id": 75190769, "body": "There&#39;s also <code>generateSequence</code> which takes an initial value + a lambda that computes the next value. As soon as that returns <code>null</code>, the <code>Sequence</code> ends."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1495261539, "creation_date": 1495261539, "answer_id": 44082650, "question_id": 44081252, "link": "https://stackoverflow.com/questions/44081252/what-is-the-kotlin-idiom-for-an-equivalent-to-this-python-iterator/44082650#44082650", "title": "what is the kotlin idiom for an equivalent to this python iterator", "body": "<p>Kotlin uses two interfaces: <code>Iterable&lt;T&gt;</code> (from JDK) and <code>Sequence&lt;T&gt;</code>. They are identical, with the exception that the first one is eager, while the second one is lazy by convention.</p>\n\n<p>To work with iterators or sequences all you have to do is implement one of those interfaces. Kotlin stdlib has a bunch of helper functions that may help. </p>\n\n<p>In particular, a couple of functions for creating sequences with <code>yield</code> was added in 1.1. They and some other functions are called <code>generators</code>. Use them if you like them, or implement the interfaces manually.</p>\n"}, {"tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1495341828, "last_edit_date": 1495341828, "creation_date": 1495293392, "answer_id": 44087537, "question_id": 44081252, "link": "https://stackoverflow.com/questions/44081252/what-is-the-kotlin-idiom-for-an-equivalent-to-this-python-iterator/44087537#44087537", "title": "what is the kotlin idiom for an equivalent to this python iterator", "body": "<p>OK, after some work, here is the Kotlin for the iterator:</p>\n\n<pre><code>import kotlin.coroutines.experimental.*\n\nfun iterMarks(strng: String, idx:Int=0)=buildSequence{\n    val specials = listOf(\"\\\"\", \"{\", \"}\", \",\")\n    var found:Pair&lt;Int,String&gt;?\n    var index = idx\n    while (true){\n        found = strng.findAnyOf(specials, index)\n        if (found == null) break\n        yield (found)\n        index= found.first + 1\n    }\n}\n</code></pre>\n\n<p>The main discoveries were that an iterator can be returned by any function, so the there is no need to add the iterator methods to an existing object.  The JetBrains doco is solid, but lacks examples so hopefully the above example helps.  You can also work from the basics, and again the notes are good but lack examples.  I will post more on other approaches if there is interest.</p>\n\n<p>The this code for 'parse' then works:</p>\n\n<pre><code>fun parse(strng:String, idxIn:Int=1): Pair&lt;Any,Int&gt; {\n    var lst:MutableList&lt;Any&gt; = mutableListOf()\n    var idx = idxIn\n    loop@ for (mark in iterMarks(strng, idx)){\n        if(mark==null ||mark.first &lt;= idx){\n            // nothing needed\n        }\n        else\n        {\n            when( mark.second ) {\n                \"}\" -&gt; {\n                    lst.add(strng.slice(idx..mark.first - 1))\n                    idx = mark.first + 1\n                    break@loop\n                }\n                \"{\" -&gt; {\n                    val res: Pair&lt;Any, Int&gt;\n                    res = parse(strng, mark.first + 1)\n                    lst.add(res.first)\n                    idx = res.second\n                }\n\n                \",\" -&gt; {\n                    lst.add(strng.slice(idx..mark.first - 1))\n                    idx = mark.first + 1\n                }\n            }\n\n        }\n    }\n    return Pair(lst, idx)\n\n}\n</code></pre>\n\n<p>Hopefully this example will make it less work for the next person new to Kotlin, by providing an example of implementing an iterator.  Specifically if you know how to make an iterator in python then this example should be useful</p>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 787, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495341828, "creation_date": 1495246331, "last_edit_date": 1495293101, "question_id": 44081252, "link": "https://stackoverflow.com/questions/44081252/what-is-the-kotlin-idiom-for-an-equivalent-to-this-python-iterator", "title": "what is the kotlin idiom for an equivalent to this python iterator", "body": "<p>The question is, how to create a python like iterator in Kotlin.</p>\n\n<p>Consider this python code that parses string into substrings:</p>\n\n<pre><code>def parse(strng, idx=1):\n    lst = []\n    for  i, c in itermarks(strng, idx):\n        if c == '}':\n            lst.append(strng[idx:i-1])\n            break\n        elif c == '{':\n            sublst, idx = parse(strng, i+1)\n            lst.append(sublst)\n        else:\n            lst.append(strng[idx:i-1])\n            idx = i+1\n    return lst, i\n\n&gt;&gt;&gt;res,resl = parse('{ a=50 , b=75 , { e=70, f=80 } }')\n&gt;&gt;&gt;print(resl)\n&gt;&gt;&gt;[' a=50', ' b=75', [' e=7', ' f=80'], '', ' f=80']\n</code></pre>\n\n<p>This is a play example just to illustrate a python iterator:</p>\n\n<pre><code>def findany(strng, idx, chars):\n    \"\"\" to emulate 'findany' in kotlin \"\"\"\n    while idx &lt; len(strng) and strng[idx] not in chars:\n        idx += 1\n    return idx\n\ndef itermarks(strng, idx=0):\n    while True:\n        idx = findany(strng, idx, ',{}\"')\n        if idx &gt;= len(strng):\n            break\n        yield idx, strng[idx]\n        if  strng[idx] == '}':\n            break\n        idx += 1\n</code></pre>\n\n<p>Kotlin has iterators and generators, and as I understand it there can only be one per type. My idea is to define a type with a generator and instance that type. So the for loop from 'parse' (above) would look like this :</p>\n\n<p>for((i,c) in IterMarks(strng){\n   ......\n   }</p>\n\n<p>But how do i define the generator, and what is the best idiom.</p>\n"}, {"tags": ["casting", "kotlin"], "comments": [{"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1495257243, "post_id": 44081233, "comment_id": 75187616, "body": "Good question, I would also like to know the reason for this. I know that an implicit cast would be performed if you do a type check but in this instance it&#39;s perfectly safe to cast implicitly without type checking, java does this so they should also be able to do it."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1495509779, "post_id": 44081233, "comment_id": 75269385, "body": "@Neil No you cannot just cast numeric types, that will cause errors like &quot;java.lang.Integer cannot be cast to java.lang.Double&quot; ... nor is that correct for how it should be done in Kotlin."}, {"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495513457, "post_id": 44081233, "comment_id": 75270292, "body": "@JaysonMinard thanks for your response. I was thinking in terms of primitive types that aren&#39;t nullable in java, not boxed types. I wasn&#39;t considering nullable objects, which was pretty stupid, because Kotlin is all objects. Still new to the language, loving it though."}], "answers": [{"comments": [{"owner": {"reputation": 4443, "user_id": 365596, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aae8907ac4c52782a52cdc7c14f0362d?s=128&d=identicon&r=PG", "display_name": "gregschlom", "link": "https://stackoverflow.com/users/365596/gregschlom"}, "edited": false, "score": 0, "creation_date": 1507913093, "post_id": 44082805, "comment_id": 80415546, "body": "This is the correct answer. Other answers point out that automatic casting may sometimes result in loss of precision, but that&#39;s not the fundamental reason why it wasn&#39;t done in Kotlin. This is THE reason, as explained in the docs"}], "tags": [], "owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "is_accepted": false, "score": 8, "last_activity_date": 1495509502, "last_edit_date": 1495509502, "creation_date": 1495262753, "answer_id": 44082805, "question_id": 44081233, "link": "https://stackoverflow.com/questions/44081233/why-doesnt-kotlin-perform-automatic-type-casting/44082805#44082805", "title": "Why doesn&#39;t Kotlin perform automatic type-casting?", "body": "<p>We all know that Kotlin has both non-nullable <code>Int</code> and nullable <code>Int?</code>.</p>\n\n<p>When we use <code>Int?</code> this happens: Kotlin actually 'boxes' JVM primitives when Kotlin needs a nullable reference since it's aimed at eliminating the danger of null references from code.</p>\n\n<p>Now look at this: (assuming this is a compilable code)</p>\n\n<pre><code>val a: Int? = 1\nval b: Long? = a\n</code></pre>\n\n<p>Kotlin doesn't perform implicit type conversion because of this thing happens. If Kotlin did implicit type conversions, <code>b</code> should be <code>1</code>. but since <code>a</code> is a boxed <code>Int</code> and <code>b</code> is a boxed <code>Long</code>, <strong><code>a == b</code> yields <code>false</code></strong> and falls into contradiction, since its <code>==</code> operator checks for <code>equals()</code> and <code>Long</code>'s <code>equals()</code> checks other part to be <code>Long</code> as well.</p>\n\n<p>Check the documentation:</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">Explicit Conversions in Kotlin</a></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html</a></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/equality.html</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495509713, "post_id": 44111550, "comment_id": 75269364, "body": "This answer has a bad suggestion at the end.  That cast is going to generate a compiler warning &quot;cast will never succeed&quot; .  And then, it will blow up with a runtime error &quot;java.lang.Integer cannot be cast to java.lang.Double&quot; ... and makes no sense as it is almost longer than <code>toDouble()</code>"}, {"owner": {"reputation": 11547, "user_id": 811071, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e2b815d9b4865455e6143abada764cd?s=128&d=identicon&r=PG", "display_name": "piotrpo", "link": "https://stackoverflow.com/users/811071/piotrpo"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495526212, "post_id": 44111550, "comment_id": 75276368, "body": "@JaysonMinard You&#39;re right - I&#39;ve fixed the Kotlin code."}], "tags": [], "owner": {"reputation": 11547, "user_id": 811071, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e2b815d9b4865455e6143abada764cd?s=128&d=identicon&r=PG", "display_name": "piotrpo", "link": "https://stackoverflow.com/users/811071/piotrpo"}, "is_accepted": false, "score": 2, "last_activity_date": 1495526165, "last_edit_date": 1495526165, "creation_date": 1495451989, "answer_id": 44111550, "question_id": 44081233, "link": "https://stackoverflow.com/questions/44081233/why-doesnt-kotlin-perform-automatic-type-casting/44111550#44111550", "title": "Why doesn&#39;t Kotlin perform automatic type-casting?", "body": "<p>Automatic type casting for numeric types can lead to losing precision. Just consider following java code:</p>\n\n<pre><code>double hoursSinceUnixEra = System.currentTimeMillis()/1000/60/60;\n</code></pre>\n\n<p>The intention was not to cut the result to full hours, although it compiles without any warning in Java.</p>\n\n<pre><code>val hoursSinceUnixEra = System.currentTimeMillis()/1000/60/60;\nsomeObject.doubleValue = hoursSinceUnixEra\n</code></pre>\n\n<p>Above Kotlin code won't compile due to unexplicit casting.</p>\n\n<p>Issue of this type can be very hard to find and fix and it's the reason behind this decision.\nYou can still explicitly convert type:</p>\n\n<pre><code>val value = 3\nMath.sin(value.toDouble())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 3, "last_activity_date": 1495510102, "creation_date": 1495510102, "answer_id": 44125316, "question_id": 44081233, "link": "https://stackoverflow.com/questions/44081233/why-doesnt-kotlin-perform-automatic-type-casting/44125316#44125316", "title": "Why doesn&#39;t Kotlin perform automatic type-casting?", "body": "<p>Kotlin does not allow implicit conversions of numeric types.  There is a misconception that implicit conversions are \"<em>no harm, no foul</em>\" ... which is wrong.</p>\n\n<p>The process in Java for implicit conversions is more complicated than you think, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html\" rel=\"nofollow noreferrer\">read the docs</a> to see what all is entailed.  And then you can try to analyze all of the cases that can go wrong.</p>\n\n<p>Kotlin, does not want the compiler to guess as to your intention, so it makes everything in the language explicit, including numeric type conversions.  As explained in the Kotlin docs for <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"nofollow noreferrer\">Explicit Conversions</a> it says clearly:</p>\n\n<blockquote>\n  <p>Due to different representations, smaller types are not subtypes of bigger ones.\n  [...]\n  As a consequence, smaller types are NOT implicitly converted to bigger types.\n  [...]\n  We can use explicit conversions to widen numbers.</p>\n</blockquote>\n\n<p>And the documentation shows one such sample of where things can go wrong, but there are many others.  </p>\n\n<p>Nor can you just cast one numeric type to another, as mentioned here in incorrect comments and answers.  That will only result in a nice runtime error.  Instead look at the numeric conversion functions such as <code>toInt()</code> and <code>toDouble()</code> found on the numeric types, such as on the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/index.html#functions\" rel=\"nofollow noreferrer\">Number class</a>.</p>\n\n<p>Explicitness is part of the Kotlin personality, and it is not planned to change.</p>\n"}], "owner": {"reputation": 1022, "user_id": 7490702, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7ea03927b315a836cc81c86e3f505797?s=128&d=identicon&r=PG&f=1", "display_name": "JavaBanana", "link": "https://stackoverflow.com/users/7490702/javabanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2898, "favorite_count": 1, "answer_count": 3, "score": 8, "last_activity_date": 1495526165, "creation_date": 1495246100, "question_id": 44081233, "link": "https://stackoverflow.com/questions/44081233/why-doesnt-kotlin-perform-automatic-type-casting", "title": "Why doesn&#39;t Kotlin perform automatic type-casting?", "body": "<pre><code>var a : Double\na = Math.sin(10) // error: the integer literal does not conform to the expected type Double\na = Math.sin(10.0) //This compiles successfully\nprintln(a)\n</code></pre>\n\n<p>Why doesn't kotlin perform implicit type conversion and force us to pass the exact type of data?</p>\n\n<pre><code>fun sin(value:\u00a0Double): Double // at kotlin documentation\n</code></pre>\n"}, {"tags": ["java", "android", "memory-leaks", "jvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1495262135, "post_id": 44081312, "comment_id": 75188536, "body": "It is same as in Java, basically"}], "tags": [], "owner": {"reputation": 16210, "user_id": 819340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NJ0q8ZFwD6s/AAAAAAAAAAI/AAAAAAAAACI/Wy1G-7NtYCU/photo.jpg?sz=128", "display_name": "Paulo Mattos", "link": "https://stackoverflow.com/users/819340/paulo-mattos"}, "is_accepted": true, "score": 5, "last_activity_date": 1508875477, "last_edit_date": 1508875477, "creation_date": 1495247047, "answer_id": 44081312, "question_id": 44081193, "link": "https://stackoverflow.com/questions/44081193/what-language-feature-in-kotlin-that-can-cause-memory-leaks/44081312#44081312", "title": "What language feature in Kotlin that can cause memory leaks?", "body": "<p>Kotlin runs on the same JVM as Java or any other JVM based language. As such, it uses the same <em>garbage collector</em> as Java, providing a generally memory leakage safe runtime environment.</p>\n\n<p>Nevertheless, memory leaks are still possibles. A common source of such leaks is holding on objects references <em>longer</em> than necessary \u2014 sometimes forever! \u2014 resulting in memory leakage. Some common practices against such leaks are:</p>\n\n<ul>\n<li><p>be sure to set your <em><a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">nullable references</a></em> to <code>null</code> as soon as they are no longer needed. This applies mainly to global/static vars; when an object goes out of scope naturally you shouldn't worry about that (for instance, a local variable inside a function).</p></li>\n<li><p>using <em><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">weak references</a></em>. This is a somewhat advanced feature, enabling you to inform the GC that a given reference should be disposed automatically under certain conditions (i.e., GC sets it to <code>null</code> for you).</p></li>\n</ul>\n\n<p>As you may have guessed by now, these <em>exact</em> same issues/practices apply to Java code as well. </p>\n\n<p>There several major developers already using Kotlin for their <em>production</em> Android apps (e.g., Pinterest, Basecamp, Square, <a href=\"http://talkingkotlin.com/Kotlin-at-trello/\" rel=\"nofollow noreferrer\">Trello</a>, etc). So rest assured, you are in good company ;)</p>\n"}], "owner": {"reputation": 1148, "user_id": 1922866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZdE46.jpg?s=128&g=1", "display_name": "Methnani Bilel", "link": "https://stackoverflow.com/users/1922866/methnani-bilel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 44081312, "answer_count": 1, "score": 0, "last_activity_date": 1508875477, "creation_date": 1495245684, "last_edit_date": 1495307256, "question_id": 44081193, "link": "https://stackoverflow.com/questions/44081193/what-language-feature-in-kotlin-that-can-cause-memory-leaks", "title": "What language feature in Kotlin that can cause memory leaks?", "body": "<p>I am new to Kotlin, I love the new language for Android, But I am scared to use it in production and causing a memory leak by accident, Is there any guide for new Kotlin developer showing what can cause memory leaks, What are the solutions to prevent it? </p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 1540, "user_id": 2192409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qrL0w.png?s=128&g=1", "display_name": "Tdorno", "link": "https://stackoverflow.com/users/2192409/tdorno"}, "edited": false, "score": 2, "creation_date": 1495245239, "post_id": 44081105, "comment_id": 75185839, "body": "Compilation time is really the only performance difference I can think of"}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "reply_to_user": {"reputation": 1540, "user_id": 2192409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qrL0w.png?s=128&g=1", "display_name": "Tdorno", "link": "https://stackoverflow.com/users/2192409/tdorno"}, "edited": false, "score": 1, "creation_date": 1495245409, "post_id": 44081105, "comment_id": 75185862, "body": "@Tdorno I&#39;ve also read (source: <a href=\"https://redd.it/3ddj8w\" rel=\"nofollow noreferrer\">redd.it/3ddj8w</a>) that because Kotlin inlines lambda calls, where Java creates anonymous classes, Kotlin can be marginally faster in this case. But for the most part, Kotlin is going to compile to <i>roughly</i> the same byte code and be just as fast as Java."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1495262240, "post_id": 44081105, "comment_id": 75188554, "body": "There is no good way to be really faster than Java on JVM for any language, so asking that of Kotlin is fairly unreasonable."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1495267670, "post_id": 44081105, "comment_id": 75189812, "body": "Kotlin will have roughly the same compile and runtime speeds as Java does. Here&#39;s a good article with benchmarks of the former <a href=\"https://medium.com/keepsafe-engineering/kotlin-vs-java-compilation-speed-e6c174b39b5d\" rel=\"nofollow noreferrer\">medium.com/keepsafe-engineering/&hellip;</a>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495285388, "post_id": 44081105, "comment_id": 75194568, "body": "And no, this question is not too broad."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1495341791, "post_id": 44081105, "comment_id": 75207927, "body": "Well, it starts with the fact that almost each sentence is its own question. I agree that the answer addresses many aspects but still is missing certain aspects - always an indication of too broad questions."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 1, "creation_date": 1532601864, "post_id": 44081105, "comment_id": 90041377, "body": "Kotlin might get some performance boost on Android P compared to Java : <a href=\"https://www.androidpolice.com/2018/03/07/android-p-feature-spotlight-kotlin-apps-get-performance-boost/\" rel=\"nofollow noreferrer\">androidpolice.com/2018/03/07/&hellip;</a> , <a href=\"https://youtu.be/LBBqTd6uOd4\" rel=\"nofollow noreferrer\">youtu.be/LBBqTd6uOd4</a>"}], "answers": [{"comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 1, "creation_date": 1495454585, "post_id": 44086196, "comment_id": 75243936, "body": "I wonder how much of a difference Kotlin inline functions really make; the JVM/JIT is very good at inlining methods at runtime as well. If the Kotlin compiler wouldn&#39;t do the inlining, the JVM would most likely do it at runtime."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 1, "creation_date": 1495458439, "post_id": 44086196, "comment_id": 75246639, "body": "The JVM is really good at inlining simple method calls, but not so good in inlining a megamorphic call site such as the code of a <code>filter</code> function."}, {"owner": {"reputation": 1148, "user_id": 1922866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZdE46.jpg?s=128&g=1", "display_name": "Methnani Bilel", "link": "https://stackoverflow.com/users/1922866/methnani-bilel"}, "edited": false, "score": 11, "creation_date": 1499014796, "post_id": 44086196, "comment_id": 76724808, "body": "<a href=\"https://sites.google.com/a/athaydes.com/renato-athaydes/posts/kotlinshiddencosts-benchmarks\" rel=\"nofollow noreferrer\">sites.google.com/a/athaydes.com/renato-athaydes/posts/&hellip;</a>"}, {"owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "edited": false, "score": 0, "creation_date": 1539686891, "post_id": 44086196, "comment_id": 92583392, "body": "I&#39;d point out that Kotlin sometimes hides method calls as accessors of properties. So if you accessed a public field in Java and assume you do the same in Kotlin now, it&#39;s actually a method call. This might be a bit slower. Just something that came into my mind."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 4, "creation_date": 1539687037, "post_id": 44086196, "comment_id": 92583464, "body": "These method calls will almost certainly be inlined by Hotspot, so the property access won&#39;t be any slower in practice."}, {"owner": {"reputation": 563, "user_id": 6839738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t2SWv.png?s=128&g=1", "display_name": "blongho", "link": "https://stackoverflow.com/users/6839738/blongho"}, "edited": false, "score": 1, "creation_date": 1555612551, "post_id": 44086196, "comment_id": 98180449, "body": "According to a study by Patrik Schwermer(2018) to evaluate the performance(memory consumption, garbage collection, boxing primitives and bytecode n-grams) of Kotlin and Java on Android Runtime,  - Kotlin is slower than Java   Read full report here <a href=\"http://www.diva-portal.org/smash/get/diva2:1231573/FULLTEXT01.pdf\" rel=\"nofollow noreferrer\">diva-portal.org/smash/get/diva2:1231573/FULLTEXT01.pdf</a>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 35, "last_activity_date": 1555743455, "last_edit_date": 1555743455, "creation_date": 1495285343, "answer_id": 44086196, "question_id": 44081105, "link": "https://stackoverflow.com/questions/44081105/does-kotlin-provide-any-performance-boosts/44086196#44086196", "title": "Does Kotlin provide any performance boosts?", "body": "<p>Kotlin generates very similar bytecode to Java, so the performance of Kotlin code is in most cases the same as the performance of the equivalent Java code. </p>\n\n<p>One way in which Kotlin can be faster than Java is <a href=\"http://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">inline functions</a>. With inline functions, code using higher-order functions such as <code>filter</code> or <code>map</code> can be compiled to simple loop-based bytecode that doesn't create any objects or use any virtual calls (unlike Java code that uses the same type of functions).</p>\n\n<p>Some benchmarks for Kotlin can be found <a href=\"https://github.com/JetBrains/kotlin-benchmarks\" rel=\"noreferrer\">here</a>, <a href=\"https://sites.google.com/a/athaydes.com/renato-athaydes/posts/kotlinshiddencosts-benchmarks\" rel=\"noreferrer\">here</a> and <a href=\"http://www.diva-portal.org/smash/get/diva2:1231573/FULLTEXT01.pdf\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1148, "user_id": 1922866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZdE46.jpg?s=128&g=1", "display_name": "Methnani Bilel", "link": "https://stackoverflow.com/users/1922866/methnani-bilel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20770, "favorite_count": 3, "closed_date": 1495285356, "accepted_answer_id": 44086196, "answer_count": 1, "score": 26, "last_activity_date": 1555743455, "creation_date": 1495244856, "last_edit_date": 1531492525, "question_id": 44081105, "link": "https://stackoverflow.com/questions/44081105/does-kotlin-provide-any-performance-boosts", "closed_reason": "Needs more focus", "title": "Does Kotlin provide any performance boosts?", "body": "<p>Does Kotlin provide any performance boosts? \nIs there any benchmarking? \nIs Kotlin faster than Java?\nI found this in the Kotlin website. <a href=\"https://kotlinlang.org/docs/reference/comparison-to-java.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/comparison-to-java.html</a>\nTalking about the language features but not performance.</p>\n"}]