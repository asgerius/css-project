[{"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1446723027, "post_id": 33534376, "comment_id": 54866729, "body": "that&#39;s a bug, please report it at <a href=\"http://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 2, "last_activity_date": 1446737274, "creation_date": 1446737274, "answer_id": 33548539, "question_id": 33534376, "link": "https://stackoverflow.com/questions/33534376/linkageerror-on-instantiate-kotlin-class-with-method-notify/33548539#33548539", "title": "LinkageError on instantiate Kotlin class with method notify()", "body": "<p>Thanks for the report, this indeed should be forbidden. Here's the relevant issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-7174\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-7174</a></p>\n"}], "owner": {"reputation": 2804, "user_id": 1213197, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/5FAnq.png?s=128&g=1", "display_name": "Oleksii Masnyi", "link": "https://stackoverflow.com/users/1213197/oleksii-masnyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 33548539, "answer_count": 1, "score": 1, "last_activity_date": 1446737274, "creation_date": 1446681482, "question_id": 33534376, "link": "https://stackoverflow.com/questions/33534376/linkageerror-on-instantiate-kotlin-class-with-method-notify", "title": "LinkageError on instantiate Kotlin class with method notify()", "body": "<p>In Kotlin you can declare <code>notify()</code> method in class because <code>wait/notify</code> are not available for <code>Any</code> class. But creating instance of such class throws <code>LinkageError</code>. </p>\n\n<pre><code>class Test {\n    fun notify(){}\n}\n\n//create instance throws LinkageError\nTest()\n</code></pre>\n\n<p>Should it be the compile issue instead?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1446765767, "post_id": 33532786, "comment_id": 54893040, "body": "Why do you need second type parameter of matchesInClass to be HashMap and not simply Map or MutableMap? i.e. have type of matchesInClass to be <code>HashMap&lt;MessageClass, Map&lt;Int, Int&gt;&gt;</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1446946598, "post_id": 33532786, "comment_id": 54955586, "body": "@Ilya, <code>Map</code> won&#39;t go because in  <code>&#47;&#47;...</code> part I perform edits on values of <code>matchesInClass</code>. <code>MutableMap</code> doesn&#39;t fit either: <code>filterKeys</code> returns <code>Map</code> which cannot be cast to <code>MutableMap</code>."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451191509, "post_id": 33532786, "comment_id": 56696942, "body": "Questions that are &quot;why&quot; or &quot;opinion&quot; maybe marked as closed because they are not really asking for a problem to be solved.  You should edit your question to ask about the best ways to create a <code>toHashMap</code> function, or alternatives to your given problem (such as filterKeys no returning what you want).  Other places are better to ask status of product features, design decisions, and open ended questions."}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1446722610, "creation_date": 1446722610, "answer_id": 33543315, "question_id": 33532786, "link": "https://stackoverflow.com/questions/33532786/kotlin-map-why-is-there-no-tohashmap/33543315#33543315", "title": "Kotlin Map: why is there no toHashMap()?", "body": "<p>I agree that this place in stdlib is inconvenient. But how do you want such a function <code>toHashMap()</code> to be implemented?</p>\n\n<p>The simplest implementation makes a cast <code>as HashMap</code> if the underlying map is a HashMap, and convert it otherwise. So the performance of that code will dramatically change in case of changing the implementation. That's bad.</p>\n\n<p>So, IMHO, I prefer unsafe cast which fails if <code>stdlib</code> changes in a strange way and alerts me of that.</p>\n\n<p>Anyway you are always welcome to report this issue as a ticket in YouTrack  <a href=\"http://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow\">http://youtrack.jetbrains.com/issues/KT</a>. You gave a prety good description of the problem here, so it shouldn't take long. </p>\n"}, {"tags": [], "owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1447240386, "creation_date": 1447240386, "answer_id": 33649358, "question_id": 33532786, "link": "https://stackoverflow.com/questions/33532786/kotlin-map-why-is-there-no-tohashmap/33649358#33649358", "title": "Kotlin Map: why is there no toHashMap()?", "body": "<p>How about just filter it like this:</p>\n\n<p><code>val filtered = matchesInClass.mapValues { it.value.filterKeys { it !in banned } }</code></p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1451191147, "creation_date": 1451191147, "answer_id": 34477619, "question_id": 33532786, "link": "https://stackoverflow.com/questions/33532786/kotlin-map-why-is-there-no-tohashmap/34477619#34477619", "title": "Kotlin Map: why is there no toHashMap()?", "body": "<p><strong>Why?</strong> is hard to answer, but searching for or adding a ticket to <a href=\"https://youtrack.jetbrains.com\" rel=\"nofollow\">Kotlin issue tracker</a> will get you that answer as well as update you when the status changes. It does seem that <code>toHashMap</code> is missing since <code>toHashSet</code> is there (as-of 1.0 BETA 4).</p>\n\n<p><strong>Note:</strong> that LinkedHashMap is the default because kotlin wants to maintain order of elements as you go from <code>List</code> to <code>Set</code> to <code>List</code> to <code>Map</code> to <code>List</code> and be sure that things are still in their relative order. </p>\n\n<p>Regardless, In the meantime, here is a custom <code>toHashMap</code> for you:</p>\n\n<pre><code>public fun &lt;K, V&gt; Iterable&lt;Pair&lt;K, V&gt;&gt;.toHashMap(): Map&lt;K, V&gt;\n    = HashMap&lt;K, V&gt;(collectionSizeOrNull() ?: 16).apply { putAll(this@toHashMap) }\n</code></pre>\n\n<p>You can make it better by using logic similar to the <code>toMap</code> function for picking the best initial map size, or don't set it and trust the default growth implementation.</p>\n\n<p>Kotlin is built to easily be extended.  If everything is placed into the stdlib then people on constrainted devices such as Android will complain it is too big and really most things people ask for that are small oddities are a few lines of code to put into your own custom lib.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1464458029, "creation_date": 1464458029, "answer_id": 37502172, "question_id": 33532786, "link": "https://stackoverflow.com/questions/33532786/kotlin-map-why-is-there-no-tohashmap/37502172#37502172", "title": "Kotlin Map: why is there no toHashMap()?", "body": "<p>It's not an answer to your original question, but an alternative solution to your use case.</p>\n\n<p>Here you're trying to filter <code>HashMap&lt;Int, Int&gt;</code> and assign it back to the map it was taken from:</p>\n\n<blockquote>\n  <p>matchesInClass[cl] = matches.filterKeys { it !in banned } //error: not a HashMap</p>\n</blockquote>\n\n<p>If you have no requirement to keep <code>matches</code> HashMap intact, you could filter it in-place by invoking <code>removeAll</code> function on its <code>keys</code> mutable set:</p>\n\n<pre><code>val matchesInClass: HashMap&lt;MessageClass, HashMap&lt;Int, Int&gt;&gt;\n\n//...\n\nfor (matches in matchesInClass.values) {\n    matches.keys.removeAll { it in banned } // notice the inverted condition\n}\n</code></pre>\n\n<p>It would be more efficient than creating a filtered copy.</p>\n\n<p>Another alternative would be to use <code>Map.filterTo</code> provided with an empty map of the required type:</p>\n\n<pre><code>for (entry in matchesInClass) {\n    entry.setValue(entry.value.filterTo(HashMap()) { it !in banned })\n}\n</code></pre>\n"}], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2629, "favorite_count": 0, "accepted_answer_id": 33543315, "answer_count": 4, "score": 3, "last_activity_date": 1464458029, "creation_date": 1446674042, "last_edit_date": 1446676910, "question_id": 33532786, "link": "https://stackoverflow.com/questions/33532786/kotlin-map-why-is-there-no-tohashmap", "title": "Kotlin Map: why is there no toHashMap()?", "body": "<p>In Kotlin, <code>Map</code> class has <code>toLinkedMap()</code> and <code>toSortedMap()</code> extension methods.</p>\n\n<p>But why is there no <code>toHashMap()</code> method? In fact, the resulting <code>Map</code> implementation of many stdlib methods is <code>LinkedHashMap</code>, but casting it to <code>HashMap</code> in my code would make me rely on the implementation which is bad.</p>\n\n<p>Introducing such a method would keep developers safe from digging into the implementation, and with the current implementation it would just perform the cast.</p>\n\n<p>My use case is:</p>\n\n<pre><code>val matchesInClass: HashMap&lt;MessageClass, HashMap&lt;Int, Int&gt;&gt;\n\n//...\n\nfor ((cl, matches) in matchesInClass) {\n    matchesInClass[cl] = matches.filterKeys { it !in banned } //error: not a HashMap\n}\n</code></pre>\n\n<p>When I use <code>HashMap(matches.filterKeys { it !in banned })</code> it leads to overhead of creating a new map, which I'd be happy to avoid.</p>\n\n<p>So, is it by design?</p>\n"}, {"tags": ["kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 170, "user_id": 3737152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vENaX.jpg?s=128&g=1", "display_name": "Pieter van der Heijden", "link": "https://stackoverflow.com/users/3737152/pieter-van-der-heijden"}, "is_accepted": false, "score": 0, "last_activity_date": 1446664497, "creation_date": 1446664497, "answer_id": 33530179, "question_id": 33530064, "link": "https://stackoverflow.com/questions/33530064/what-happens-when-back-button-is-pressed-before-asynchronous-call-is-completed/33530179#33530179", "title": "What happens when back button is pressed before asynchronous call is completed?", "body": "<p>I guess it will gracefully die. You could write a small test program in which you debug the behaviour. However, I would strongly suggest to keep a reference/pointer to the asynchronous task and kill it when you press the back button. No need to let it run in the background if you do not need the result / cannot handle the result anymore right</p>\n"}, {"comments": [{"owner": {"reputation": 3746, "user_id": 756630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HyVyq.png?s=128&g=1", "display_name": "Jaja Harris", "link": "https://stackoverflow.com/users/756630/jaja-harris"}, "edited": false, "score": 0, "creation_date": 1446668913, "post_id": 33530638, "comment_id": 54844279, "body": "so I&#39;m guessing this means that async{ ui{ } } should always be coded on the activity and/or fragment?  Will uiThread execute if rotation occurs before the call returns?"}, {"owner": {"reputation": 843, "user_id": 5482166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1393e406f982b10839a698ba9a7d802b?s=128&d=identicon&r=PG&f=1", "display_name": "davehenry", "link": "https://stackoverflow.com/users/5482166/davehenry"}, "reply_to_user": {"reputation": 3746, "user_id": 756630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HyVyq.png?s=128&g=1", "display_name": "Jaja Harris", "link": "https://stackoverflow.com/users/756630/jaja-harris"}, "edited": false, "score": 0, "creation_date": 1446670301, "post_id": 33530638, "comment_id": 54845102, "body": "Yes, use uiThread unless the result from the async execution can be saved independently from the activity/fragment. When the device is rotated, the activity is recreated so the code in uiThread won&#39;t execute."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1446674232, "post_id": 33530638, "comment_id": 54847199, "body": "Note, that if you do this in a fragment, you still need to check if the fragment is actually attached, i.e. if <code>activity != null</code>. This is because the fragment can be already detached but not garbage collected."}], "tags": [], "owner": {"reputation": 843, "user_id": 5482166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1393e406f982b10839a698ba9a7d802b?s=128&d=identicon&r=PG&f=1", "display_name": "davehenry", "link": "https://stackoverflow.com/users/5482166/davehenry"}, "is_accepted": true, "score": 1, "last_activity_date": 1446666204, "creation_date": 1446666204, "answer_id": 33530638, "question_id": 33530064, "link": "https://stackoverflow.com/questions/33530064/what-happens-when-back-button-is-pressed-before-asynchronous-call-is-completed/33530638#33530638", "title": "What happens when back button is pressed before asynchronous call is completed?", "body": "<p>The code within uiThread call won't get executed if the underlying activity/fragment context has been garbage collected. A uiThread call within an async call will hold a <code>WeakReference</code> to the context, so the often encountered context memory leak won't occur. Details <a href=\"http://blog.jetbrains.com/kotlin/2015/05/advanced-features-of-anko/\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 3746, "user_id": 756630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HyVyq.png?s=128&g=1", "display_name": "Jaja Harris", "link": "https://stackoverflow.com/users/756630/jaja-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 33530638, "answer_count": 2, "score": 1, "last_activity_date": 1446666204, "creation_date": 1446664086, "question_id": 33530064, "link": "https://stackoverflow.com/questions/33530064/what-happens-when-back-button-is-pressed-before-asynchronous-call-is-completed", "title": "What happens when back button is pressed before asynchronous call is completed?", "body": "<p>I have view models that are being stored in an array list on the application class.  So their lifetime continues even if the activity gets destroyed because of rotation (however once isFinishing is true then the view model instance is removed from the list and ceases to exist).  </p>\n\n<p>I also have data service singletons that are used by the view models that also live indefinitely.   So if I start an async call in my view model using the anko async block i.e.</p>\n\n<pre><code>async {\n    val data = DataService.instance.getData()\n\n    uiThread {\n        if (data != null) {\n           //do something\n        }\n    }\n}\n</code></pre>\n\n<p>What happens if the user presses the back button before the call completes?  IsFinishing will be true and my view model instance will no longer exist.  Will the async call exception when it returns or will it die gracefully? </p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1446632704, "post_id": 33515003, "comment_id": 54820167, "body": "If you think it&#39;s a bug, you should file an issue."}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1470081887, "last_edit_date": 1470081887, "creation_date": 1452343570, "answer_id": 34693620, "question_id": 33515003, "link": "https://stackoverflow.com/questions/33515003/using-ankologger-with-levels-other-than-info/34693620#34693620", "title": "Using AnkoLogger with levels other than &quot;info&quot;", "body": "<p>The issue here seems to be the usage of <a href=\"http://developer.android.com/reference/android/util/Log.html\" rel=\"nofollow\"><code>Log.isLoggable</code></a> which by default logs only level <code>INFO</code> and above.</p>\n\n<p>There was an <a href=\"https://github.com/Kotlin/anko/issues/104\" rel=\"nofollow\">issue created in anko project</a> which is now closed:</p>\n\n<blockquote>\n  <p><code>AnkoLogger</code> uses <code>Log.isLoggable()</code> under the hood which ignores VERBOSE\n  and <code>DEBUG</code> log levels by default. You can read more about it here:\n  <a href=\"https://mobiarch.wordpress.com/2012/05/11/proper-logging-from-android-application/\" rel=\"nofollow\">https://mobiarch.wordpress.com/2012/05/11/proper-logging-from-android-application/</a>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 1145054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dcbc3e2f3da2e3482ec23b85ade10b3?s=128&d=identicon&r=PG", "display_name": "Mel&#39;", "link": "https://stackoverflow.com/users/1145054/mel"}, "is_accepted": false, "score": 0, "last_activity_date": 1571176076, "creation_date": 1571176076, "answer_id": 58403079, "question_id": 33515003, "link": "https://stackoverflow.com/questions/33515003/using-ankologger-with-levels-other-than-info/58403079#58403079", "title": "Using AnkoLogger with levels other than &quot;info&quot;", "body": "<p>Pretty old thread but I stumbled on the same problem recently.</p>\n\n<p>Here is the code from AnkoLogger</p>\n\n<pre><code>inline fun AnkoLogger.verbose(message: () -&gt; Any?) {\n    val tag = loggerTag\n    if (Log.isLoggable(tag, Log.VERBOSE)) {\n        Log.v(tag, message()?.toString() ?: \"null\")\n    }\n}\n\n[...]\n\nval loggerTag: String\n    get() = getTag(javaClass)\n\n[...]\n\nprivate fun getTag(clazz: Class&lt;*&gt;): String {\n    val tag = clazz.simpleName\n    return if (tag.length &lt;= 23) {\n        tag\n    } else {\n        tag.substring(0, 23)\n    }\n}\n</code></pre>\n\n<p>In the method <code>Log.isLoggable(tag, Log.VERBOSE)</code>, the variable <code>tag</code> is your class name. If you want this check to succeed, you need a prop <code>className = VERBOSE</code>.</p>\n\n<p><strong>Solution:</strong>\nTo set this prop, you should run <code>adb shell setprop log.tag.{className} VERBOSE</code> in the terminal tab in Android Studio (or whichever terminal you are using).</p>\n\n<p><strong>Comment:</strong>\nUnless I am mistaken, you have to do it for each class where you want to see verbose log. I don't have any solution for batch setting the prop for each of my classes in one command. It might be easier to reimplement your own logger class, but that's a whole other question.</p>\n"}], "owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1571176076, "creation_date": 1446618045, "last_edit_date": 1446811325, "question_id": 33515003, "link": "https://stackoverflow.com/questions/33515003/using-ankologger-with-levels-other-than-info", "title": "Using AnkoLogger with levels other than &quot;info&quot;", "body": "<p>I use <code>AnkoLogger</code> in my Android project, but it only works when the log level is <code>info</code>, other levels logs nothing, but the built-in Android <code>Log</code> works well. What can I do to use <code>AnkoLogger</code> as a replacement of the built-in one?</p>\n"}, {"tags": ["java", "reflection", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1446617048, "post_id": 33512398, "comment_id": 54812097, "body": "Please add more details: are you using Kotlin reflection for this or writing an extension to the IDE/compiler?"}], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 2, "last_activity_date": 1446737579, "creation_date": 1446737579, "answer_id": 33548655, "question_id": 33512398, "link": "https://stackoverflow.com/questions/33512398/how-to-get-a-list-of-all-classes-in-a-kt-file/33548655#33548655", "title": "How to get a list of all classes in a .kt file", "body": "<p>It's not possible to obtain all classes which were declared in a specific .kt source file at runtime via reflection API, in much the same way as it's impossible to get all Java classes in a .java source file with Java reflection API. This information is simply not available at runtime.</p>\n\n<p>What is your use case? I think if you're relying on something like that, your best workaround is to declare your classes inside one top-level class, and call <code>KClass#nestedClasses</code> to get them all at runtime.</p>\n"}], "owner": {"reputation": 11, "user_id": 2930296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e521b06526060470d93afa281ac835?s=128&d=identicon&r=PG&f=1", "display_name": "user2930296", "link": "https://stackoverflow.com/users/2930296/user2930296"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1446779092, "creation_date": 1446601972, "last_edit_date": 1446779092, "question_id": 33512398, "link": "https://stackoverflow.com/questions/33512398/how-to-get-a-list-of-all-classes-in-a-kt-file", "title": "How to get a list of all classes in a .kt file", "body": "<p>Is it possible to grab a list of classes inside a .kt file? It appears that KDeclarationContainer is the class I am looking for, but I am unsure of how to use it.</p>\n\n<p>EDIT: I am using Kotlin Reflection.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1466152409, "post_id": 33461403, "comment_id": 63208804, "body": "Similar: <a href=\"http://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings\" title=\"templates escaping in kotlin multiline strings\">stackoverflow.com/questions/32993586/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1539944485, "post_id": 33461450, "comment_id": 92693417, "body": "It seems that both <code>&quot;\\${foo}&quot;</code> and <code>$\\{foo}</code> work. Which one is better?"}, {"owner": {"reputation": 29866, "user_id": 930450, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/se3CE.png?s=128&g=1", "display_name": "Ixx", "link": "https://stackoverflow.com/users/930450/ixx"}, "edited": false, "score": 1, "creation_date": 1552907054, "post_id": 33461450, "comment_id": 97174715, "body": "For multiline strings: <a href=\"https://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings/32994616\" title=\"templates escaping in kotlin multiline strings\">stackoverflow.com/questions/32993586/&hellip;</a>"}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1580484516, "post_id": 33461450, "comment_id": 106124148, "body": "Both ways are documented. The only difference between your two solutions is, that the latter works in escaped strings (one double-quote, escape sequences supported) and also in raw strings (three double-quotes, escape sequences do not work). In escaped strings I&#39;d always use the backslash-variant as it is cleaner and probably more performant."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 50, "last_activity_date": 1446375915, "last_edit_date": 1446375915, "creation_date": 1446375549, "answer_id": 33461450, "question_id": 33461403, "link": "https://stackoverflow.com/questions/33461403/escape-something-in-a-kotlin-string/33461450#33461450", "title": "Escape ${something} in a Kotlin String", "body": "<p>This works for me:</p>\n\n<pre><code>val s = \"\\${foo}\"\nprintln(\"s = ${s}\") // prints s = ${foo}\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"noreferrer\">documented way</a> also works fine:</p>\n\n<pre><code>val s = \"${'$'}{foo}\"\nprintln(\"s = ${s}\") // prints s = ${foo}\n</code></pre>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19375, "favorite_count": 1, "accepted_answer_id": 33461450, "answer_count": 1, "score": 36, "last_activity_date": 1446377166, "creation_date": 1446375161, "last_edit_date": 1446377166, "question_id": 33461403, "link": "https://stackoverflow.com/questions/33461403/escape-something-in-a-kotlin-string", "title": "Escape ${something} in a Kotlin String", "body": "<p>What is the correct way of defining a Kotlin string that includes the characters for declaring a template substitution, but <em>not</em> have this evaluated as a template? </p>\n\n<p>For example: <code>\"${something}\"</code> just treated as an ordinary string. </p>\n\n<p>I would like to use the Spring value annotation: </p>\n\n<pre><code>@Value(\"${some.property}) lateinit var foobar : String?\n</code></pre>\n"}, {"tags": ["kotlin", "sortedmap"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1446363966, "post_id": 33460065, "comment_id": 54706464, "body": "I understand the question, but I would just resolve it with <code>columns.put(&quot;c&quot;, 3);</code>"}, {"owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1446364203, "post_id": 33460065, "comment_id": 54706508, "body": "JB, agreed - there is a 100 ways to make it work (functionally).  The point is that Kotlin supports the += operator and that it should work, and I want to use it as it reads mathematically I want my code to read.  Also, by me not getting it to work means that I am conceptually missing something"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1446364430, "post_id": 33460065, "comment_id": 54706544, "body": "I relayed your question on the kotlin slack channel. Let&#39;s see if an answer comes up..."}, {"owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1446366563, "post_id": 33460065, "comment_id": 54706986, "body": "JB - in follow up to your answer of columns.put...  even more natural would be <code>code</code> cs[4] = &quot;f&quot;"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1446378586, "post_id": 33460065, "comment_id": 54709444, "body": "<code>cs[4] = &quot;c&quot;</code> also won&#39;t allocate an aditional object."}], "answers": [{"comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1446374289, "post_id": 33460711, "comment_id": 54708551, "body": "Can you confirm that there&#39;s no way to resolve the ambiguity if cs is a var and not a val?"}, {"owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "edited": false, "score": 0, "creation_date": 1446390964, "post_id": 33460711, "comment_id": 54713020, "body": "Ilya - thanks - confirmed and working.  Wow!  Don&#39;t quite know what to make of it (definitely is a change of pattern for everything I was used to in pretty much every other language)...  but will look out for it now.  The other thing is that why can it figure out cs.plusAssign() but not cs.+= with the same Pair parameter.  I would naturally have thought that it knew what was coming and where it was going."}, {"owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "edited": false, "score": 0, "creation_date": 1446391323, "post_id": 33460711, "comment_id": 54713134, "body": "Sorry - the second question you answered already... was just thinking out loud."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1446451822, "post_id": 33460711, "comment_id": 54731661, "body": "Also note that technically there is no problem for a compiler to resolve this issue automatically. But Kotlin reports ambiguity on purpose,  just to ease the life of a human reader."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 7, "last_activity_date": 1446369420, "creation_date": 1446369420, "answer_id": 33460711, "question_id": 33460065, "link": "https://stackoverflow.com/questions/33460065/kotlin-map-using-operators/33460711#33460711", "title": "Kotlin Map using Operators", "body": "<p>The ambiguity here is because Kotlin can interpret the expression <code>cs += Pair(3, \"c\")</code> either as operation creating new map from the original map and the given pair and assigning that map back to variable <code>cs = cs.plus(Pair(3, \"c\"))</code>, or as operation mutating the original map <code>cs.plusAssign(Pair(3, \"c\"))</code></p>\n\n<p>To disambiguate this situation, follow the Kotlin motto \u2014 make <code>val</code>, not <code>var</code>!</p>\n\n<p>When you declare <code>cs</code> as val (non-mutable variable), it cannot be reassigned once it has been initialized, so the only operation becomes available here is <code>plusAssign</code>.</p>\n"}], "owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "accepted_answer_id": 33460711, "answer_count": 1, "score": 4, "last_activity_date": 1446369420, "creation_date": 1446362263, "question_id": 33460065, "link": "https://stackoverflow.com/questions/33460065/kotlin-map-using-operators", "title": "Kotlin Map using Operators", "body": "<p>Started playing the weekend with Kotlin and trying to get maps working with operators.  Somehow Kotlin tells me I am confusing it with ambiguity.</p>\n\n<p>Here is code that works (syntactically not like I want it to):</p>\n\n<pre><code>var columns = sortedMapOf(\"a\" to 1, \"b\" to 2)\ncolumns.plusAssign(\"c\" to 3)\n</code></pre>\n\n<p>And here is code that simply does not compile (but syntactically closer to what I want)</p>\n\n<pre><code>var cs = sortedMapOf(1 to \"a\", 2 to \"b\")\ncs += Pair(3, \"c\")\n</code></pre>\n\n<p>What shorthand operator magic/casting am I missing?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "junit", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1446287703, "post_id": 33449455, "comment_id": 54688106, "body": "Thank you, that works. However I couldn&#39;t then get it to catch the exception - not sure why. I went back try/catch/assert."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 1, "creation_date": 1446287837, "post_id": 33449455, "comment_id": 54688147, "body": "The call to exception.expect() must be <b>before</b> the code that throws the exception."}, {"owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "edited": false, "score": 1, "creation_date": 1463216972, "post_id": 33449455, "comment_id": 61979667, "body": "\u201cpublic\u201d is unnecessary here as it is the default for field/property visibility."}, {"owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "edited": false, "score": 0, "creation_date": 1522251340, "post_id": 33449455, "comment_id": 86084347, "body": "If you are curious why it is because in the Java code <code>exception</code> is converted to a private field then public <code>getException()</code> and <code>setException()</code> methods are generated. The decompiler is your friend, especially when reflection is being used."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 21, "last_activity_date": 1498038173, "last_edit_date": 1498038173, "creation_date": 1446278817, "answer_id": 33449455, "question_id": 33448898, "link": "https://stackoverflow.com/questions/33448898/use-expectedexception-with-kotlin/33449455#33449455", "title": "Use ExpectedException with Kotlin", "body": "<p>Annotate the exception property with <code>@JvmField</code>:</p>\n\n<pre><code>@Rule\n@JvmField\nvar exception = ExpectedException.none()\n</code></pre>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2732, "favorite_count": 0, "accepted_answer_id": 33449455, "answer_count": 1, "score": 12, "last_activity_date": 1498038173, "creation_date": 1446274256, "last_edit_date": 1446276973, "question_id": 33448898, "link": "https://stackoverflow.com/questions/33448898/use-expectedexception-with-kotlin", "title": "Use ExpectedException with Kotlin", "body": "<p>I've declared an expected exception with Kotlin: </p>\n\n<pre><code>@Rule\npublic var exception = ExpectedException.none()\n</code></pre>\n\n<p>Now my integration test case: </p>\n\n<pre><code>@Test\n@Transactional\nfun authorize_withInvalidToken()\n{\n    val response = controller.authorize(networkType = \"facebook\", oauthToken = \"\", oauthTokenSecret = null)\n    exception.expect(UnauthorizedException::class.java)\n\n}\n</code></pre>\n\n<p>I get the error: </p>\n\n<pre><code>org.junit.internal.runners.rules.ValidationError: The @Rule 'exception' must be public.\n</code></pre>\n\n<p>Is there a way to fix this? For now I'll just use manual try/catch/assert</p>\n"}, {"tags": ["java", "comparator", "anonymous-class", "kotlin"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1481972888, "post_id": 33441015, "comment_id": 69595331, "body": "See also <a href=\"http://stackoverflow.com/questions/33640864/how-to-sort-based-on-compare-multiple-values-in-kotlin\" title=\"how to sort based on compare multiple values in kotlin\">stackoverflow.com/questions/33640864/&hellip;</a> for example of kotlin sorting helpers in stdlib."}], "answers": [{"comments": [{"owner": {"reputation": 838, "user_id": 3527062, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000481572925/picture?type=large", "display_name": "Rafael Saraiva", "link": "https://stackoverflow.com/users/3527062/rafael-saraiva"}, "edited": false, "score": 0, "creation_date": 1446226549, "post_id": 33441619, "comment_id": 54671798, "body": "I suspected this concerned java comparator logic and not just kotlin (just added the java tag). I do remember now that i have already implemented the compareTo method (class implements comparable interface) and  the logic is -1, 0, 1 so i believe i do understand it now how this works. Much obliged."}, {"owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "edited": false, "score": 1, "creation_date": 1503248255, "post_id": 33441619, "comment_id": 78526798, "body": "<code>y - x</code> is <i>not</i> an implementation that <i>does respect that contract</i>. At least not in the general case, where integer overflow may lead to undefined behavior. (For positive numbers it works, though.)"}, {"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "reply_to_user": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "edited": false, "score": 1, "creation_date": 1504209709, "post_id": 33441619, "comment_id": 78938613, "body": "@RolandIllig Good point, it&#39;s better to use a comparison: <a href=\"https://stackoverflow.com/questions/2728793/java-integer-compareto-why-use-comparison-vs-subtraction\" title=\"java integer compareto why use comparison vs subtraction\">stackoverflow.com/questions/2728793/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "is_accepted": true, "score": 21, "last_activity_date": 1507821114, "last_edit_date": 1507821114, "creation_date": 1446225877, "answer_id": 33441619, "question_id": 33441015, "link": "https://stackoverflow.com/questions/33441015/kotlin-object-expressions-comparator-example/33441619#33441619", "title": "Kotlin object expressions: Comparator example", "body": "<p>This actually has nothing to do with Kotlin. It's related to the Java API's Comparator interface, and how Collections.sort uses it.</p>\n\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"noreferrer\">the documentation:</a></p>\n\n<blockquote>\n  <p>Compares its two arguments for order. Returns a negative integer,\n  zero, or a positive integer as the first argument is less than, equal\n  to, or greater than the second.</p>\n</blockquote>\n\n<p>Now let's try this out for the arguments you gave: </p>\n\n<ul>\n<li>1 - 5 = -4 (a negative integer), so 1 is less than 5.</li>\n<li>5 - 2 = 3 (a positive integer), so 5 is greater than 2.</li>\n<li>etc...</li>\n</ul>\n\n<p><code>Collections.sort</code> doesn't know anything about what <em>y - x</em> means. It simply respects the defined contract of the Comparator interface that any implementor also needs to respect (if it wants to work). </p>\n\n<p>It just so happens that <code>y - x</code> is an implementation that does respect that contract, because Math.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 5, "last_activity_date": 1507821782, "creation_date": 1507821782, "answer_id": 46713367, "question_id": 33441015, "link": "https://stackoverflow.com/questions/33441015/kotlin-object-expressions-comparator-example/46713367#46713367", "title": "Kotlin object expressions: Comparator example", "body": "<p>Since Comparator is a SAM interface you can write this code more concise using a lambda:</p>\n\n<pre><code>Collections.sort(arrayList, {x : Int, y: Int -&gt; y - x})\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>Collections.sort(arrayList) {\n    x, y -&gt; y - x\n}\n</code></pre>\n\n<p>since the lambda is the last parameter of the <code>sort</code> function and the datatype of <code>x</code> and <code>y</code> can be inferred.</p>\n\n<hr>\n\n<p>Taking two objects and having to define a single integer for them is an abstraction of a sort definition. You basically specify in which order those elements would be layed out if sorted.</p>\n\n<p>For sorting integers it might seem like an overkill, but consider having to sort more complex objects for example instances of a class <code>Car</code>.</p>\n\n<p>This class has a <code>colorCode</code> and you want to sort by that: </p>\n\n<pre><code>Collections.sort(cars) {\n    car1, car2 -&gt; car1.colorCode - car2.colorCode\n}\n</code></pre>\n\n<p>That is how you would define an order for those objects in an abstract way.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1507822739, "creation_date": 1507822739, "answer_id": 46713686, "question_id": 33441015, "link": "https://stackoverflow.com/questions/33441015/kotlin-object-expressions-comparator-example/46713686#46713686", "title": "Kotlin object expressions: Comparator example", "body": "<p>In Kotlin you can also sort elements using the kotlin collections extension functions sort, sorted, sortBy .... etc</p>\n\n<pre><code>val arrayList = arrayListOf(1, 5, 2).sorted() //1,2,5\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val arrayList = arrayListOf(1, 5, 2).sortedDescending() //5,2,1\n</code></pre>\n"}], "owner": {"reputation": 838, "user_id": 3527062, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/100000481572925/picture?type=large", "display_name": "Rafael Saraiva", "link": "https://stackoverflow.com/users/3527062/rafael-saraiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21088, "favorite_count": 1, "accepted_answer_id": 33441619, "answer_count": 3, "score": 17, "last_activity_date": 1507822739, "creation_date": 1446223761, "last_edit_date": 1507821916, "question_id": 33441015, "link": "https://stackoverflow.com/questions/33441015/kotlin-object-expressions-comparator-example", "title": "Kotlin object expressions: Comparator example", "body": "<p>This code basically sorts the array in a descending order:</p>\n\n<pre><code>val arrayList = arrayListOf(1, 5, 2)\n\nCollections.sort(arrayList, object : Comparator&lt;Int&gt; {\n   override fun compare(x : Int, y: Int) = y - x\n})\n</code></pre>\n\n<p>How in the world does overriding the compare method with <code>y - x</code> works? How does Kotlin know what <code>y - x</code> means to put <code>y</code> before <code>x</code> if <code>y &lt; x</code>?</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 4, "creation_date": 1446227191, "post_id": 33430277, "comment_id": 54672148, "body": "If you use the lambda often enough to warrant this, you could always add an extension function that does the same thing with the parameters you don&#39;t want removed."}], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 4, "last_activity_date": 1452344856, "last_edit_date": 1452344856, "creation_date": 1449164305, "answer_id": 34072649, "question_id": 33430277, "link": "https://stackoverflow.com/questions/33430277/how-to-omit-lambda-parameters-in-kotlin/34072649#34072649", "title": "How to omit lambda parameters in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"nofollow\">escaping for Java identifiers that are keywords in Kotlin</a> (i.e. backticks) or overload <code>onChange</code>.</p>\n\n<p><strong>Backticks</strong></p>\n\n<pre><code>selected.onChange { value, `_` -&gt;\n    checkBox.isChecked = value\n}\n</code></pre>\n\n<p><strong>Overload <code>onChange</code></strong></p>\n\n<pre><code>interface Listener&lt;T1, T2&gt; {\n    fun onChange(f: (T1, T2) -&gt; Unit) // original method\n    fun onChange(f: (T1) -&gt; Unit)     // new method\n}\n</code></pre>\n\n<p>And if you cannot change <code>Listener&lt;T1, T2&gt;</code> (or whatever type <code>settable</code> is from your example) then you can use an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"nofollow\">extension function</a>:</p>\n\n<pre><code>fun &lt;T1, T2&gt; Listener&lt;T1, T2&gt;.onChange(f: (T1) -&gt; Unit) = onChange { t1, t2 -&gt; f(t1) }\n</code></pre>\n\n<p>You can then call <code>onChange</code> like you want:</p>\n\n<pre><code>selected.onChange { value -&gt;\n    checkBox.isChecked = value\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 2193208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f61d6581c1adf6c2889ae21e38b6093?s=128&d=identicon&r=PG", "display_name": "nvn", "link": "https://stackoverflow.com/users/2193208/nvn"}, "is_accepted": true, "score": 11, "last_activity_date": 1488465267, "creation_date": 1488465267, "answer_id": 42558223, "question_id": 33430277, "link": "https://stackoverflow.com/questions/33430277/how-to-omit-lambda-parameters-in-kotlin/42558223#42558223", "title": "How to omit lambda parameters in Kotlin?", "body": "<p>As of 1.1, you can do exactly that:</p>\n\n<blockquote>\n  <p>Underscore for unused variables (since 1.1)</p>\n  \n  <p>If the lambda parameter is unused, you can place an underscore instead\n  of its name:</p>\n\n<pre><code>map.forEach { _, value -&gt; println(\"$value!\") }\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#underscore-for-unused-variables-since-11\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#underscore-for-unused-variables-since-11</a></p>\n\n<p>I should add that the compiler now generates a warning for unused lambda parameters, and there's a new corresponding quick fix for Android Studio</p>\n"}], "owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4104, "favorite_count": 0, "accepted_answer_id": 42558223, "answer_count": 2, "score": 16, "last_activity_date": 1488465267, "creation_date": 1446187912, "last_edit_date": 1447047807, "question_id": 33430277, "link": "https://stackoverflow.com/questions/33430277/how-to-omit-lambda-parameters-in-kotlin", "title": "How to omit lambda parameters in Kotlin?", "body": "<p>Sometimes I don't use all lambda parameters, like the second parameter in the example below, which is an old value in a change event:</p>\n\n<pre><code>selected.onChange { value, _ -&gt;\n    checkBox.isChecked = value\n}\n</code></pre>\n\n<p>How do I omit them? Cause that clutters the code and hurts readability. Previously I used the method above, but in kotlin 1.0.0-beta-1103 underscores are reserved.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "edited": false, "score": 1, "creation_date": 1455304075, "post_id": 33433226, "comment_id": 58446654, "body": "For clarity, is it enough to declare a dependency on stdlib, or should we declare a dependency on both?"}, {"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "reply_to_user": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "edited": false, "score": 1, "creation_date": 1455539843, "post_id": 33433226, "comment_id": 58519897, "body": "@Max you only need to include stdlib (as runtime is a transitive dependency)"}], "tags": [], "owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "is_accepted": true, "score": 22, "last_activity_date": 1571590779, "last_edit_date": 1571590779, "creation_date": 1446199162, "answer_id": 33433226, "question_id": 33430077, "link": "https://stackoverflow.com/questions/33430077/kotlin-runtime-jar-vs-kotlin-stdlib-jar/33433226#33433226", "title": "Kotlin runtime jar vs kotlin stdlib jar", "body": "<p>The runtime library only contains base Kotlin language types required to execute compiled code. It is a minimal classes set required.</p>\n\n<p>The standard library contains utility functions you need for comfortable development. These are such functions for collections manipulations, files, streams and so on. </p>\n\n<p>In theory you can use just runtime but you generally shouldn't because there are no standard library in it so you will lose many utility functions required for comfortable development (such as <code>map</code>, <code>filter</code>, <code>toList</code> and so on) so I don't think you should.</p>\n\n<p>So in fact you need both. If you need make the result package smaller then you can process you app with proguard.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Starting from Kotlin 1.2, <code>kotlin-runtime</code> and <code>kotlin-stdlib</code> are merged into single artifact <code>kotlin-stdlib</code>.</p>\n\n<blockquote>\n  <p>We merge kotlin-runtime and kotlin-stdlib into the single artifact kotlin-stdlib. Also we\u2019re going to rename kotlin-runtime.jar, shipped in the compiler distribution, to kotlin-stdlib.jar, to reduce the amount of confusion caused by having differently named standard library in different build systems.\n  That rename will happen in two stages: in 1.1 there will be both kotlin-runtime.jar and kotlin-stdlib.jar with the same content in the compiler distribution, and in 1.2 the former will be removed.</p>\n</blockquote>\n\n<p>Refer to <a href=\"https://blog.jetbrains.com/kotlin/2017/01/kotlin-1-1-whats-coming-in-the-standard-library/\" rel=\"nofollow noreferrer\">Kotlin 1.1: What\u2019s coming in the standard library</a> for details.</p>\n"}], "owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2281, "favorite_count": 0, "accepted_answer_id": 33433226, "answer_count": 1, "score": 8, "last_activity_date": 1571590779, "creation_date": 1446186944, "question_id": 33430077, "link": "https://stackoverflow.com/questions/33430077/kotlin-runtime-jar-vs-kotlin-stdlib-jar", "title": "Kotlin runtime jar vs kotlin stdlib jar", "body": "<p>What's the difference between <code>kotlin-runtime.jar</code> (225.1K) and <code>kotlin-stdlib.jar</code> (727.3K) (sizes are for <code>1.0.0-beta-1103</code> version)? Which one should I distribute with my application? For now I live with <code>kotlin-stdlib.jar</code>, because that's what Android Studio generated, but I wonder if I can use <code>kotlin-runtime.jar</code> since it's smaller.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 16, "creation_date": 1452227787, "post_id": 33430227, "comment_id": 57084793, "body": "Note that <code>private set</code> must be on a new line."}, {"owner": {"reputation": 4698, "user_id": 382783, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/03b84aa935e9f5fbae4cc5758240eb6d?s=128&d=identicon&r=PG", "display_name": "Boris B.", "link": "https://stackoverflow.com/users/382783/boris-b"}, "edited": false, "score": 39, "creation_date": 1480434543, "post_id": 33430227, "comment_id": 68955609, "body": "...or on the same line, after a semicolon: <code>var abc: String = &quot;&quot;; private set</code>"}, {"owner": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 4, "creation_date": 1483860492, "post_id": 33430227, "comment_id": 70266285, "body": "I&#39;m at a loss for what to do with a primary constructor field though."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 0, "creation_date": 1484257591, "post_id": 33430227, "comment_id": 70448587, "body": "@user3175580 You mean how to create a private setter on a primary constructor property?"}, {"owner": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 0, "creation_date": 1484273433, "post_id": 33430227, "comment_id": 70453639, "body": "@D3xter precisely"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 2, "creation_date": 1484305270, "post_id": 33430227, "comment_id": 70465732, "body": "@user3175580 This is not possible. Use a local field inside the primary constructor and then assign the value to the property like &quot;class Foo(_bar: String) { var bar: String = _bar }"}, {"owner": {"reputation": 1482, "user_id": 1468531, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HYEt1.jpg?s=128&g=1", "display_name": "Moses Aprico", "link": "https://stackoverflow.com/users/1468531/moses-aprico"}, "reply_to_user": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 3, "creation_date": 1498152314, "post_id": 33430227, "comment_id": 76394518, "body": "@JasperBlues ...otherwise, you need to add semicolon before <code>private set</code>."}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 2, "creation_date": 1498168278, "post_id": 33430227, "comment_id": 76402700, "body": "I like the swift style a little better - <code>private(set) var abc : String = &quot;&quot;</code>"}, {"owner": {"reputation": 2577, "user_id": 3665698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/spUxp.png?s=128&g=1", "display_name": "mcoolive", "link": "https://stackoverflow.com/users/3665698/mcoolive"}, "reply_to_user": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 0, "creation_date": 1561995489, "post_id": 33430227, "comment_id": 100229487, "body": "@androidguy Here a discussion about possible future syntax to have &quot;Private setter for var in primary constructor&quot; <a href=\"https://discuss.kotlinlang.org/t/private-setter-for-var-in-primary-constructor/3640/13\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 12786, "user_id": 499125, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1e0971e368bdad6e495b2eafcdeb7796?s=128&d=identicon&r=PG", "display_name": "Some Noob Student", "link": "https://stackoverflow.com/users/499125/some-noob-student"}, "edited": false, "score": 1, "creation_date": 1586541730, "post_id": 33430227, "comment_id": 108173287, "body": "Semicolon? In Kotlin? What blasphemy is this? /s"}, {"owner": {"reputation": 2478, "user_id": 24177, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/122602908/picture?type=large", "display_name": "Marchy", "link": "https://stackoverflow.com/users/24177/marchy"}, "edited": false, "score": 0, "creation_date": 1601321646, "post_id": 33430227, "comment_id": 113365800, "body": "What about if you want to use an observable with a private setter? ie: so you can perform some reactive logic when the value is set?"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 257, "last_activity_date": 1446187658, "creation_date": 1446187658, "answer_id": 33430227, "question_id": 33428957, "link": "https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var/33430227#33430227", "title": "Kotlin : Public get private set var", "body": "<pre><code>var setterVisibility: String = \"abc\" // Initializer required, not a nullable type\n    private set // the setter is private and has the default implementation\n</code></pre>\n\n<p>See: <a href=\"http://kotlinlang.org/docs/reference/properties.html#getters-and-setters\">Properties Getter and Setter</a></p>\n"}, {"comments": [{"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1600782730, "post_id": 54378898, "comment_id": 113192329, "body": "isn&#39;t it <code>get() = field</code> redundant?"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1600783553, "post_id": 54378898, "comment_id": 113192845, "body": "Nope. Please look at this post: <a href=\"https://stackoverflow.com/questions/37906607/getters-and-setters-in-kotlin\" title=\"getters and setters in kotlin\">stackoverflow.com/questions/37906607/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 6, "last_activity_date": 1600783584, "last_edit_date": 1600783584, "creation_date": 1548509942, "answer_id": 54378898, "question_id": 33428957, "link": "https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var/54378898#54378898", "title": "Kotlin : Public get private set var", "body": "<p><strong>You can easily do it using the following approach</strong>:</p>\n<pre><code>var atmosphericPressure: Double = 760.0\n    get() = field\n    private set(value) { \n        field = value \n    }\n</code></pre>\n<p>Look at this story on Medium: <a href=\"https://medium.com/@agrawalsuneet/property-getter-and-setter-kotlin-d89a3e70e62\" rel=\"nofollow noreferrer\">Property, Getter and Setter in Kotlin</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1118, "user_id": 3863294, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2caa122cccf5a8a4d387f3448f5cff84?s=128&d=identicon&r=PG&f=1", "display_name": "JGPhilip", "link": "https://stackoverflow.com/users/3863294/jgphilip"}, "is_accepted": false, "score": 7, "last_activity_date": 1580153063, "creation_date": 1580153063, "answer_id": 59937612, "question_id": 33428957, "link": "https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var/59937612#59937612", "title": "Kotlin : Public get private set var", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>var name : String = \"Peter\"\r\n    private set</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>By default all properties and functions are public in Kotlin. Hence the setter has to be explicitly declared private while the getter is public by default. </p>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39568, "favorite_count": 8, "accepted_answer_id": 33430227, "answer_count": 3, "score": 164, "last_activity_date": 1600783584, "creation_date": 1446181135, "question_id": 33428957, "link": "https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var", "title": "Kotlin : Public get private set var", "body": "<p>What is the correct way to define a var in kotlin that has a public getter and private (only internally modifiable) setter?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452136510, "post_id": 33427469, "comment_id": 57039212, "body": "Marvin, the answer below appears to answer your question, did you try this?"}], "answers": [{"tags": [], "owner": {"reputation": 28482, "user_id": 1904517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mn4kq.png?s=128&g=1", "display_name": "iagreen", "link": "https://stackoverflow.com/users/1904517/iagreen"}, "is_accepted": true, "score": 7, "last_activity_date": 1446170289, "creation_date": 1446170289, "answer_id": 33427607, "question_id": 33427469, "link": "https://stackoverflow.com/questions/33427469/why-kotlin-do-not-allow-any-code-in-primary-constructor/33427607#33427607", "title": "Why Kotlin do not allow any code in primary constructor?", "body": "<p>Define your properties before your <code>init</code> block - </p>\n\n<pre><code>class ViewHolder(itemView: View) {\n    val child1 = itemView.findViewById(1)\n    val child2 = itemView.findViewById(2)\n\n    init {\n        child1.setOnClickListener { false }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 1, "accepted_answer_id": 33427607, "answer_count": 1, "score": 2, "last_activity_date": 1446171129, "creation_date": 1446168260, "last_edit_date": 1446171129, "question_id": 33427469, "link": "https://stackoverflow.com/questions/33427469/why-kotlin-do-not-allow-any-code-in-primary-constructor", "title": "Why Kotlin do not allow any code in primary constructor?", "body": "<p>It cause inconvenience when work with code blelow</p>\n\n<pre><code>abstract class View {\n    abstract fun findViewById(id: Int): View\n    abstract fun setOnClickListener(listener: (View) -&gt; Boolean)\n}\n\nclass ViewHolder(itemView: View) {\n    init {\n        child1.setOnClickListener { false }\n    }\n    val child1 = itemView.findViewById(1)\n    val child2 = itemView.findViewById(2)\n}\n</code></pre>\n\n<p>The compiler complains that:</p>\n\n<pre><code>Kotlin: Variable 'child1' must be initialized\n</code></pre>\n\n<p>So I have to add an additional function and call it every time after construction:</p>\n\n<pre><code>class ViewHolder(itemView: View) {\n    val child1 = itemView.findViewById(1)\n    val child2 = itemView.findViewById(2)\n\n    fun bindEventHandlers() {\n        child1.setOnClickListener { false }\n    }\n}\n\nval vh = ViewHolder(v)\nvh.bindEventHandlers()\n</code></pre>\n\n<p>So, is there any convenient way to do init things like this? This often happens when work with Android RecyclerView &amp; ListView.</p>\n"}, {"tags": ["java", "spring", "spring-data", "kotlin", "spring-data-neo4j-4"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452136598, "post_id": 33419480, "comment_id": 57039234, "body": "It would help if you can show the declaration line of the ApplicationListener class/interface."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452137539, "post_id": 33419480, "comment_id": 57039432, "body": "Jasper, I found the problem:  <a href=\"http://stackoverflow.com/a/34646925/3679676\">stackoverflow.com/a/34646925/3679676</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1446162121, "post_id": 33420366, "comment_id": 54642120, "body": "Thanks for the info, but it still won&#39;t compile - at <code>BeforeSaveEvent</code> compiler reports &#39;type argument expected&#39;. The equivalent Java code works fine - I just want to hook save of a neo4j node to allocate a UUID. Could it be a Kotlin compiler issue? I think I&#39;ll report it to Jetbrains."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1446173406, "post_id": 33420366, "comment_id": 54644555, "body": "I think the API wants an instance of BeforeSaveEvent to be passed to the constructor invocation"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452137592, "post_id": 33420366, "comment_id": 57039445, "body": "The issue is you don&#39;t know the declaration of <code>BeforeSaveEvent</code>, and the compiler is telling you that it has a generic type parameter.  But the code does not provide one.  I wrote the details in another answer."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452137821, "post_id": 33420366, "comment_id": 57039498, "body": "<code>ApplicationListener</code> is an interface, not a class.  it shouldn&#39;t have <code>()</code> after it for calling a constructor."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1446194332, "last_edit_date": 1446194332, "creation_date": 1446138002, "answer_id": 33420366, "question_id": 33419480, "link": "https://stackoverflow.com/questions/33419480/cant-create-spring-data-event-listener-in-kotlin/33420366#33420366", "title": "Can&#39;t create Spring Data Event Listener in Kotlin", "body": "<p>Not sure what you wanted to achieve, but a simple fix would be to add the <code>object</code> keyword in the returning statement: </p>\n\n<pre><code>@Bean \nopen fun beforeSaveEventApplicationListener(): ApplicationListener&lt;BeforeSaveEvent&gt; \n{\n    return object : ApplicationListener&lt;BeforeSaveEvent&gt;()\n    {\n        override fun onApplicationEvent(event: BeforeSaveEvent)\n        {\n            //Do something with event\n        }\n    }\n}\n</code></pre>\n\n<p><code>object</code> means that you return an object of that class, not a sttrange thing that was in your code. Also I added <code>override</code> since I suspect that <code>onApplicationEvent</code> is a method of <code>ApplicationListener</code>, so it must be overridden.</p>\n\n<p>Actually, if it's ok with you to have only one such an object, you can use  <code>object</code> as a singleton dirrectly:</p>\n\n<pre><code>@Bean object beforeSaveEventApplicationListener: ApplicationListener&lt;BeforeSaveEvent&gt;() {\n    override fun onApplicationEvent(event: BeforeSaveEvent) {\n            //Do something with event\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1452168403, "last_edit_date": 1452168403, "creation_date": 1452137488, "answer_id": 34646925, "question_id": 33419480, "link": "https://stackoverflow.com/questions/33419480/cant-create-spring-data-event-listener-in-kotlin/34646925#34646925", "title": "Can&#39;t create Spring Data Event Listener in Kotlin", "body": "<p>The issue is that there are a few possible <code>BeforeSaveEvent</code> classes you could be using.  Here are some of the Spring classes mocked out to show you the difference (<em>pay attention to the two <code>BeforeSaveEvent</code> declarations</em>):</p>\n\n\n\n<pre><code>open class ApplicationEvent(source: Any): EventObject(source) {}\n\ninterface ApplicationListener&lt;T: ApplicationEvent&gt; {\n    fun onApplicationEvent(event: T)\n}\n\n// the Spring Data Neo4j version requires a type\nclass BeforeSaveEvent&lt;T&gt;(source: Any, val entity: T): ApplicationEvent(source) {}\n\n// the Spring data version does not\nclass BeforeSaveEvent(source: Any): ApplicationEvent(source) {}\n</code></pre>\n\n<p>And so if you code to the Spring data version, your code would be this:</p>\n\n<pre><code>open class Something {\n    open fun beforeSaveEventApplicationListener(): ApplicationListener&lt;BeforeSaveEvent&gt; {\n        return object : ApplicationListener&lt;BeforeSaveEvent&gt; {\n            override fun onApplicationEvent(event: BeforeSaveEvent) {\n                //Do something with event\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you code to the Neo4j version (which I think you are, because your tags for your question include <code>spring-data-neo4j-4</code>), you have to also specify the entity type parameter:</p>\n\n<pre><code>class MyEntity {}\n\nopen class Something {\n    open fun beforeSaveEventApplicationListener(): ApplicationListener&lt;BeforeSaveEvent&lt;MyEntity&gt;&gt; {\n        return object : ApplicationListener&lt;BeforeSaveEvent&lt;MyEntity&gt;&gt; {\n            override fun onApplicationEvent(event: BeforeSaveEvent&lt;MyEntity&gt;) {\n                //Do something with event\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So you see exactly what the compiler was asking for:</p>\n\n<blockquote>\n  <p>Please give me a type parameter for <code>BeforeSaveEvent</code> because it is really <code>BeforeSaveEvent&lt;T&gt;</code></p>\n</blockquote>\n\n<p>It could be that you imported the wrong class and mean the other <code>BeforeSaveEvent</code> or you imported the correct <code>BeforeSaveEvent&lt;T&gt;</code> and didn't adapt to its actual generic type parameter needs.</p>\n\n<p>Also since <code>ApplicationListener</code> is an interface you don't want <code>()</code> after its use because that means you are trying to call a constructor on an interface.</p>\n\n<p><strong><em>NOTE:</em></strong> <em>it helps in your questions to provide the declaration signatures of relative classes, from the IDE's perspective (have it click through to find the class you are using, it might not be the one you think you are).</em></p>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 0, "accepted_answer_id": 34646925, "answer_count": 2, "score": 0, "last_activity_date": 1452168403, "creation_date": 1446135406, "question_id": 33419480, "link": "https://stackoverflow.com/questions/33419480/cant-create-spring-data-event-listener-in-kotlin", "title": "Can&#39;t create Spring Data Event Listener in Kotlin", "body": "<p>I tried creating an event listener like this: </p>\n\n<pre><code>@Bean\nopen fun beforeSaveEventApplicationListener(): ApplicationListener&lt;BeforeSaveEvent&gt;\n{\n   return ApplicationListener&lt;BeforeSaveEvent&gt;()\n   {\n       fun onApplicationEvent(event: BeforeSaveEvent)\n       {\n           //Do something with event\n       }\n   }\n}\n</code></pre>\n\n<p>. . . but it won't compile. Where the generic type is specified, the compiler returns: </p>\n\n<pre><code>Type argument expected\n</code></pre>\n\n<p>What am I doing wrong? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1446136976, "post_id": 33418728, "comment_id": 54629390, "body": "What is your actual coding question? Remember stackoverflow is not for network management concepts but for programming. Usually you give your code which has a problem and ask for help on it."}, {"owner": {"reputation": 2696, "user_id": 1729555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YmBlO.png?s=128&g=1", "display_name": "tintin", "link": "https://stackoverflow.com/users/1729555/tintin"}, "edited": false, "score": 0, "creation_date": 1446150283, "post_id": 33418728, "comment_id": 54637074, "body": "different IPs being mapped to same MAC (MitM one iface) and statistics (unusual high rate of ARPs per source as one typically has to keep on poisoning the caches), flip-floping cache entries."}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 0, "last_activity_date": 1465117789, "creation_date": 1465117789, "answer_id": 37640221, "question_id": 33418728, "link": "https://stackoverflow.com/questions/33418728/accessing-an-attribute-of-a-map-entry-kotlin/37640221#37640221", "title": "Accessing an attribute of a map Entry (Kotlin)", "body": "<pre><code>val entry = map1[\"ex1\"]\nif (entry != null) {\n    val index = entry.index;\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 310, "user_id": 4371442, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jQoD9196iKo/AAAAAAAAAAI/AAAAAAAAAlc/NlQckTQTgJY/photo.jpg?sz=128", "display_name": "Istvan Nagy", "link": "https://stackoverflow.com/users/4371442/istvan-nagy"}, "is_accepted": false, "score": 0, "last_activity_date": 1465206037, "creation_date": 1465206037, "answer_id": 37654136, "question_id": 33418728, "link": "https://stackoverflow.com/questions/33418728/accessing-an-attribute-of-a-map-entry-kotlin/37654136#37654136", "title": "Accessing an attribute of a map Entry (Kotlin)", "body": "<p>or </p>\n\n<pre><code>val entry = map1[\"ex1\"]\nval index = entry?.let{\n  entry.index\n} ?: -1 //optional\n</code></pre>\n"}], "owner": {"reputation": 1465, "user_id": 3601872, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/bc3ba40e96018f0f241539ce4f6d283a?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Kleper", "link": "https://stackoverflow.com/users/3601872/dina-kleper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465206037, "creation_date": 1446133377, "last_edit_date": 1465116651, "question_id": 33418728, "link": "https://stackoverflow.com/questions/33418728/accessing-an-attribute-of-a-map-entry-kotlin", "title": "Accessing an attribute of a map Entry (Kotlin)", "body": "<p>I have the following class:</p>\n\n<pre><code>class Entry1(var type:String, var kind:String, var index:Int)\n</code></pre>\n\n<p>And a map:</p>\n\n<pre><code>var map1 = mutableMapOf&lt;String, Entry&gt;()\n</code></pre>\n\n<p>How would I access the attributes of Entry1 of a given map entry?</p>\n\n<p>Example: Say I have:</p>\n\n<pre><code>map1[\"ex1\"] = Entry(\"ex2\",\"ex3\",4)\n</code></pre>\n\n<p>Now I want to get the <code>index</code>from the Entry I've added.</p>\n\n<p>How can that be done?</p>\n"}, {"tags": ["android", "proguard", "rx-java", "kotlin", "fasterxml"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 1, "creation_date": 1446129665, "post_id": 33414375, "comment_id": 54624108, "body": "Please describe your problem. What rules you tried, what didn&#39;t work and what were the errors?"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1446194451, "post_id": 33414375, "comment_id": 54651722, "body": "None of the errors is directly connected with Kotlin. Does it work if you replace Kotlin code with Java?"}, {"owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1446449706, "post_id": 33414375, "comment_id": 54730824, "body": "@AndreyBreslav The whole project is written in Kotlin, I cannot replace it  with Java."}, {"owner": {"reputation": 368, "user_id": 2006957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpdUy.jpg?s=128&g=1", "display_name": "Manoj Tarkar", "link": "https://stackoverflow.com/users/2006957/manoj-tarkar"}, "edited": false, "score": 0, "creation_date": 1499239549, "post_id": 33414375, "comment_id": 76814883, "body": "This is Not related to Kotlin, Just add following lines in you proguard. --  -dontwarn sun.misc.Unsafe -dontwarn org.w3c.dom.bootstrap.DOMImplementationRegistry"}], "answers": [{"comments": [{"owner": {"reputation": 850, "user_id": 1862514, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/f548f01ecf8e558ff5db21fd9405efea?s=128&d=identicon&r=PG&f=1", "display_name": "Tixeon", "link": "https://stackoverflow.com/users/1862514/tixeon"}, "edited": false, "score": 0, "creation_date": 1506440630, "post_id": 33478972, "comment_id": 79818687, "body": "Thanks you mentioned, it has nth to do with Kotlin ."}], "tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": false, "score": 28, "last_activity_date": 1476248818, "last_edit_date": 1476248818, "creation_date": 1446471665, "answer_id": 33478972, "question_id": 33414375, "link": "https://stackoverflow.com/questions/33414375/is-there-an-valid-proguard-rule-for-rxjava-and-fasterxml/33478972#33478972", "title": "Is there an valid proguard rule for RxJava and FasterXML?", "body": "<p>It has nothing to do with Kotlin. Ignore the warnings in your proguard file:</p>\n\n<pre><code>-dontwarn sun.misc.Unsafe\n-dontwarn org.w3c.dom.bootstrap.DOMImplementationRegistry\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "edited": false, "score": 0, "creation_date": 1446617769, "post_id": 33487283, "comment_id": 54812348, "body": "For those who comes with the same problem, I solved finally according with this answer, with additional options handle kotlin reflections"}, {"owner": {"reputation": 1979, "user_id": 251120, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6fd9c654e8f517d530d62b6dd7494a3?s=128&d=identicon&r=PG", "display_name": "kenyee", "link": "https://stackoverflow.com/users/251120/kenyee"}, "reply_to_user": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "edited": false, "score": 1, "creation_date": 1447363338, "post_id": 33487283, "comment_id": 55136235, "body": "@Marvin: could you post your proguard file?"}], "tags": [], "owner": {"reputation": 3454, "user_id": 237740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AS9RY.png?s=128&g=1", "display_name": "Fred Grott", "link": "https://stackoverflow.com/users/237740/fred-grott"}, "is_accepted": true, "score": 12, "last_activity_date": 1446586852, "last_edit_date": 1446586852, "creation_date": 1446499634, "answer_id": 33487283, "question_id": 33414375, "link": "https://stackoverflow.com/questions/33414375/is-there-an-valid-proguard-rule-for-rxjava-and-fasterxml/33487283#33487283", "title": "Is there an valid proguard rule for RxJava and FasterXML?", "body": "<p>a better is just to have this aar as a dependency:</p>\n\n<p><a href=\"https://github.com/artem-zinnatullin/RxJavaProGuardRules\">https://github.com/artem-zinnatullin/RxJavaProGuardRules</a></p>\n"}], "owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7880, "favorite_count": 2, "accepted_answer_id": 33487283, "answer_count": 2, "score": 8, "last_activity_date": 1476248818, "creation_date": 1446121984, "last_edit_date": 1446471741, "question_id": 33414375, "link": "https://stackoverflow.com/questions/33414375/is-there-an-valid-proguard-rule-for-rxjava-and-fasterxml", "title": "Is there an valid proguard rule for RxJava and FasterXML?", "body": "<p>Now the only problem stopping me from using kotlin in production is that I can't find a correct proguard file for it.</p>\n\n<p>What I used:</p>\n\n<blockquote>\n  <p>1.Kotlin</p>\n  \n  <p>2.Anko</p>\n  \n  <p>3.Jackson-Kotlin-module</p>\n</blockquote>\n\n<p>Here's the warning message:</p>\n\n<pre><code>:app:proguardRelease\nWarning: com.fasterxml.jackson.databind.ext.DOMSerializer: can't find referenced class org.w3c.dom.bootstrap.DOMImplementationRegistry\nWarning: rx.internal.util.unsafe.BaseLinkedQueueConsumerNodeRef: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.BaseLinkedQueueProducerNodeRef: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.ConcurrentCircularArrayQueue: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.ConcurrentSequencedCircularArrayQueue: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.MpmcArrayQueueConsumerField: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.MpmcArrayQueueProducerField: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.MpscLinkedQueue: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.SpmcArrayQueueConsumerField: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.SpmcArrayQueueProducerField: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.SpscArrayQueue: can't find referenced class sun.misc.Unsafe\nWarning: rx.internal.util.unsafe.UnsafeAccess: can't find referenced class sun.misc.Unsafe\nWarning: there were 41 unresolved references to classes or interfaces.\n</code></pre>\n"}, {"tags": ["bit-manipulation", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1446138341, "post_id": 33411476, "comment_id": 54630326, "body": "Could you please explain what your code does? I&#39;ve never seen such syntax before"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1603729386, "post_id": 33411476, "comment_id": 114121813, "body": "Instead of <code>java.lang.String.format</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-string.html\" rel=\"nofollow noreferrer\"><code>byte.toString(2)</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 22367, "user_id": 1057909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a3df0a806e7301ce9b92d0705646ac?s=128&d=identicon&r=PG", "display_name": "ams", "link": "https://stackoverflow.com/users/1057909/ams"}, "reply_to_user": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "edited": false, "score": 2, "creation_date": 1446122271, "post_id": 33411925, "comment_id": 54618542, "body": "No, it&#39;s used to truncate an <code>int</code> so it fits in a byte."}, {"owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "reply_to_user": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "edited": false, "score": 0, "creation_date": 1468506149, "post_id": 33411925, "comment_id": 64163686, "body": "@AllenVork bytes in java are <i>signed</i> and java converts them implicitly to an <code>int</code> when doing bitwise operations (Kotlin simply requires this to be explicit). Therefore, in order for this widening conversion to result in the expected positive int value when the initial byte value is negative, one masks the 3 higher-order bytes of the widened int value (which includes the sign bit) via the <code>&amp; 0xff</code>."}, {"owner": {"reputation": 4750, "user_id": 226844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de29e13b10d66900b30de2e808400330?s=128&d=identicon&r=PG", "display_name": "Sarsaparilla", "link": "https://stackoverflow.com/users/226844/sarsaparilla"}, "edited": false, "score": 1, "creation_date": 1525541588, "post_id": 33411925, "comment_id": 87401344, "body": "Oh, <code>x &amp; 0xff</code> is such a cool way to convert to int.  Thanks, I&#39;m gonna use it everywhere now.  It&#39;s gonna make me look so clever!"}], "tags": [], "owner": {"reputation": 22367, "user_id": 1057909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a3df0a806e7301ce9b92d0705646ac?s=128&d=identicon&r=PG", "display_name": "ams", "link": "https://stackoverflow.com/users/1057909/ams"}, "is_accepted": false, "score": 6, "last_activity_date": 1446115071, "creation_date": 1446115071, "answer_id": 33411925, "question_id": 33411476, "link": "https://stackoverflow.com/questions/33411476/bitwise-doesnt-work-with-bytes-in-kotlin/33411925#33411925", "title": "bitwise &amp; doesn&#39;t work with bytes in kotlin", "body": "<p>Bitwise \"and\" of any byte-value and 0xff will always return the original value.</p>\n\n<p>It is simple to see this if you draw the bits in a diagram:</p>\n\n<pre><code>00101010   42\n11111111   and 0xff\n--------\n00101010   gives 42\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "edited": false, "score": 7, "creation_date": 1468511860, "post_id": 37635687, "comment_id": 64167892, "body": "It&#39;s also useful to note that java does this widening conversion too. It&#39;s just implicit."}], "tags": [], "owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "is_accepted": true, "score": 38, "last_activity_date": 1510731937, "last_edit_date": 1510731937, "creation_date": 1465079676, "answer_id": 37635687, "question_id": 33411476, "link": "https://stackoverflow.com/questions/33411476/bitwise-doesnt-work-with-bytes-in-kotlin/37635687#37635687", "title": "bitwise &amp; doesn&#39;t work with bytes in kotlin", "body": "<p>Kolin provides bitwise operator-like <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#operations\" rel=\"noreferrer\">infix functions</a> available for <code>Int</code> and <code>Long</code> only.</p>\n\n<p>So it's necessary to convert bytes to ints to perform bitwise ops:</p>\n\n<pre><code>val b : Byte = 127\nval res = (b.toInt() and 0x0f).toByte() // evaluates to 15\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nSince Kotlin 1.1 these operations are available directly on Byte.</p>\n\n<p>From <em>bitwiseOperations.kt</em>:</p>\n\n<pre><code>@SinceKotlin(\"1.1\") \npublic inline infix fun Byte.and(other: Byte): Byte = (this.toInt() and other.toInt()).toByte()\n</code></pre>\n"}], "owner": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15512, "favorite_count": 3, "accepted_answer_id": 37635687, "answer_count": 2, "score": 30, "last_activity_date": 1510731937, "creation_date": 1446113882, "last_edit_date": 1500744509, "question_id": 33411476, "link": "https://stackoverflow.com/questions/33411476/bitwise-doesnt-work-with-bytes-in-kotlin", "title": "bitwise &amp; doesn&#39;t work with bytes in kotlin", "body": "<p>I'm trying to write kotlin code like:</p>\n\n<pre><code>for (byte b : hash)  \n     stringBuilder.append(String.format(\"%02x\", b&amp;0xff));\n</code></pre>\n\n<p>but I have nothing to do with the \"&amp;\". I'm trying to use \"b and 0xff\" but it doesn't work. The bitwise \"and\" seems to work on Int, not byte.   </p>\n\n<pre><code>java.lang.String.format(\"%02x\", (b and 0xff))\n</code></pre>\n\n<p>it's ok to use</p>\n\n<pre><code>1 and 0xff\n</code></pre>\n"}]