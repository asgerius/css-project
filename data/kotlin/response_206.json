[{"tags": ["java", "spring", "spring-boot", "kotlin", "spring-data-rest"], "comments": [{"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1545297801, "post_id": 53860105, "comment_id": 94578732, "body": "What exactly is the relationship between the config you have posted (relating to <code>AuthorRepository</code>) and the repository (<code>CouponRepository</code>) and entity (<code>CouponEntity</code>)?"}, {"owner": {"reputation": 578, "user_id": 5073678, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0340ff103a2893328875faf9d1abf36a?s=128&d=identicon&r=PG&f=1", "display_name": "nix9", "link": "https://stackoverflow.com/users/5073678/nix9"}, "reply_to_user": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1545311594, "post_id": 53860105, "comment_id": 94585665, "body": "@AlanHay None, I haven&#39;t changed names when pasting code samples here."}], "answers": [{"comments": [{"owner": {"reputation": 578, "user_id": 5073678, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0340ff103a2893328875faf9d1abf36a?s=128&d=identicon&r=PG&f=1", "display_name": "nix9", "link": "https://stackoverflow.com/users/5073678/nix9"}, "edited": false, "score": 0, "creation_date": 1545641985, "post_id": 53908859, "comment_id": 94666498, "body": "<i>&quot;You got that error because JPA does not know who to map UUID type in your entity with varchar/char type from db&quot;</i> - I disagree. Additional configuration is only required when you want to use auto-generated <code>UUID</code> identifier.  <i>&quot;The properties used in JPA entity should be of either primitive type, or of another entity type.&quot;</i> - I disagree. In such case you wouldn&#39;t be able to define fields of type <code>String</code>, <code>Long</code>, <code>UUID</code> etc."}], "tags": [], "owner": {"reputation": 1028, "user_id": 5435182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUC6U.png?s=128&g=1", "display_name": "marknote", "link": "https://stackoverflow.com/users/5435182/marknote"}, "is_accepted": false, "score": 0, "last_activity_date": 1545621625, "creation_date": 1545621625, "answer_id": 53908859, "question_id": 53860105, "link": "https://stackoverflow.com/questions/53860105/custom-entity-lookup-fails-for-non-string-fields/53908859#53908859", "title": "Custom entity lookup fails for non-string fields", "body": "<p>You got that error because JPA does not know who to map <code>UUID</code> type in your entity with <code>varchar/char</code> type from db. The properties used in JPA entity should be of either primitive type, or of another entity type.</p>\n"}], "owner": {"reputation": 578, "user_id": 5073678, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0340ff103a2893328875faf9d1abf36a?s=128&d=identicon&r=PG&f=1", "display_name": "nix9", "link": "https://stackoverflow.com/users/5073678/nix9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545643015, "creation_date": 1545258861, "last_edit_date": 1545643015, "question_id": 53860105, "link": "https://stackoverflow.com/questions/53860105/custom-entity-lookup-fails-for-non-string-fields", "title": "Custom entity lookup fails for non-string fields", "body": "<p>Given following entity:</p>\n\n<pre><code>@Entity\ndata class AuthorEntity(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    val id: Long = 0,\n\n    @get: NotNull\n    @Column(name = \"resource_id\")\n    val resourceId: UUID = UUIR.randomUUID()\n)\n</code></pre>\n\n<p>And repository:</p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"authors\", path = \"authors\")\ninterface AuthorRepository : PagingAndSortingRepository&lt;AuthorEntity, Long&gt; {\n    fun findByResourceId(resourceId: UUID): AuthorEntity\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Is there possibility to create custom entity lookup for <code>Rest Repositories</code> for a non-string fields?</strong></p>\n\n<pre><code>@Component\nclass RepositoryRestCustomization : RepositoryRestConfigurer {\n\n    override fun configureRepositoryRestConfiguration(config: RepositoryRestConfiguration?) {\n         config?.withEntityLookup()?.forValueRepository(AuthorRepository::class.java, AuthorEntity::resourceId, AuthorRepository::findByResourceId)\n    }\n}\n</code></pre>\n\n<p>Above configuration causes <code>java.lang.ClassCastException: java.lang.String cannot be cast to java.util.UUID</code> upon creating an resource. However, when I change type of <code>resourceId</code> to <code>String</code> it works correctly.</p>\n\n<hr>\n\n<p><strong>24.12.2018 - EDIT:</strong>\nI've configured custom entity lookup in a test project and I've got slightly different results. Creating and retrieving all resources works as expected. Although, accessing a single resource throws exception mentioned above.</p>\n\n<p>Detailed stack trace:</p>\n\n<pre>2018-12-24 10:05:58.253 ERROR 27829 --- [nio-9002-exec-5] o.s.d.r.w.RepositoryRestExceptionHandler : java.lang.String cannot be cast to java.util.UUID\n\njava.lang.ClassCastException: java.lang.String cannot be cast to java.util.UUID\n    at io.test.configuration.RepositoryRestCustomization$configureRepositoryRestConfiguration$2.invoke(RepositoryRestCustomization.kt:12) ~[classes/:na]\n    at io.test.configuration.RepositoryRestCustomization$sam$org_springframework_data_rest_core_config_EntityLookupRegistrar_LookupRegistrar_Lookup$0.lookup(RepositoryRestCustomization.kt) ~[classes/:na]\n    at org.springframework.data.rest.core.config.EntityLookupConfiguration$RepositoriesEntityLookup.lookupEntity(EntityLookupConfiguration.java:214) ~[spring-data-rest-core-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n    at org.springframework.data.rest.core.support.UnwrappingRepositoryInvokerFactory$UnwrappingRepositoryInvoker.lambda$invokeFindById$0(UnwrappingRepositoryInvokerFactory.java:93) ~[spring-data-rest-core-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n    at java.util.Optional.flatMap(Optional.java:241) ~[na:1.8.0_181]\n    at org.springframework.data.rest.core.support.UnwrappingRepositoryInvokerFactory$UnwrappingRepositoryInvoker.invokeFindById(UnwrappingRepositoryInvokerFactory.java:93) ~[spring-data-rest-core-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n    at org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(RepositoryEntityController.java:520) ~[spring-data-rest-webmvc-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n    at org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(RepositoryEntityController.java:333) ~[spring-data-rest-webmvc-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) [spring-webmvc-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90) [spring-boot-actuator-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117) [spring-boot-actuator-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106) [spring-boot-actuator-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_181]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_181]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.13.jar:9.0.13]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_181]\n\n</pre>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin", "mpandroidchart"], "comments": [{"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1545272395, "post_id": 53859919, "comment_id": 94571286, "body": "where you define <code>barChart</code>, the error occurs because <code>barChart</code> is a non-null varibale"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "reply_to_user": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1545282066, "post_id": 53859919, "comment_id": 94573108, "body": "Thanks @GianhTran for your response. I have defined the barChart in my Fragment one activity."}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "reply_to_user": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1545289472, "post_id": 53859919, "comment_id": 94575181, "body": "I have added JSON response too but I am not sure why I am getting this error message."}, {"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1545290264, "post_id": 53859919, "comment_id": 94575489, "body": "I have a answer, please take a look"}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545290796, "post_id": 53863993, "comment_id": 94575677, "body": "Hi @Gianh Tran, Thanks for your explanation. I am new to Fragment so,  can you explain me where I need to add the onViewcreated method in the code."}, {"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "reply_to_user": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545291073, "post_id": 53863993, "comment_id": 94575782, "body": "because in <code>onCreate</code>, we do not inflate layout here, so you can not use any view here. you should research about <code>fragment lifecycle</code> for more information"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545291648, "post_id": 53863993, "comment_id": 94576031, "body": "Woow. Your solution worked for me.  Can you explain me the difference between onCreateView and onViewCreate methods. Thanks for your help."}, {"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "reply_to_user": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545292034, "post_id": 53863993, "comment_id": 94576177, "body": "@JoshvaJo nice to help, you can see more in <a href=\"https://stackoverflow.com/questions/25119090/difference-between-oncreateview-and-onviewcreated-in-fragment\" title=\"difference between oncreateview and onviewcreated in fragment\">stackoverflow.com/questions/25119090/&hellip;</a>"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545295451, "post_id": 53863993, "comment_id": 94577538, "body": "Tran. Thanks for the link."}], "tags": [], "owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "is_accepted": true, "score": 1, "last_activity_date": 1545290138, "creation_date": 1545290138, "answer_id": 53863993, "question_id": 53859919, "link": "https://stackoverflow.com/questions/53859919/barchart-must-not-be-null-in-mpandroidchart/53863993#53863993", "title": "BarChart must not be null in MPAndroidChart", "body": "<p>I don't know about your <code>onCreateView()</code> in <code>FirstFragment</code> but your issue is called a View when it not be created yet, so move your code in <code>onCreate</code> to</p>\n\n<pre><code>@Override public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        volleyRequest= Volley.newRequestQueue(this.context)\n        getTestValue(TestLink)\n    }\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 53863993, "answer_count": 1, "score": 0, "last_activity_date": 1545290138, "creation_date": 1545257867, "last_edit_date": 1545289709, "question_id": 53859919, "link": "https://stackoverflow.com/questions/53859919/barchart-must-not-be-null-in-mpandroidchart", "title": "BarChart must not be null in MPAndroidChart", "body": "<p><strong>Background:</strong></p>\n\n<ul>\n<li>I am trying to display bar chart based on the Fragments clicked, I have two fragments and one activity in my test project. </li>\n<li>I am using MPAndroidBarchart and kotlin is used for this test project. </li>\n<li>Library used is <code>com.github.mikephil.charting.charts.BarChart</code>. </li>\n</ul>\n\n<p><strong>I have issues below:</strong> </p>\n\n<ul>\n<li><p>I am getting following error message:</p>\n\n<blockquote>\n  <p>barChart must not be null</p>\n</blockquote>\n\n<p>I checked the Log message and I am getting the JSON value before that message. Error is started from this piece of code <code>barChart.data = data</code></p></li>\n<li><p>Default fragment one is not invoked by default, but if I click the second Fragment and then I click the first fragment, then Fragment 1 is invoked. Otherwise it's not working or throwing the above error.</p></li>\n</ul>\n\n<p><em>Attached the code:</em></p>\n\n<p><strong>JSON Response</strong></p>\n\n<pre><code>[{\"day\":\"2018-12-12\",\"value\":\"1\"},{\"day\":\"2018-12-13\",\"value\":\"2\"},{\"day\":\"2018-12-14\",\"value\":\"3\"},{\"day\":\"2018-12-15\",\"value\":\"4\"},{\"day\":\"2018-12-17\",\"value\":\"5\"},{\"day\":\"2018-12-18\",\"value\":\"6\"},{\"day\":\"2018-12-19\",\"value\":\"7\"}]\n</code></pre>\n\n<p><strong>Fragment:1</strong></p>\n\n<pre><code>class FirstFragment : Fragment() {\n\n    var volleyRequest: RequestQueue?=null\n    val TestLink=\"https://wwww.abc.app\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        volleyRequest= Volley.newRequestQueue(this.context)\n        getTestValue(TestLink)\n    }\n\n\n    fun getTestValue(Url:String)\n    {\n        val stringReq=StringRequest(Request.Method.GET,Url,\n                Listener {\n                    response: String? -&gt;\n                    try {\n        Log.d(\"Response JSON\",response.toString())\n                        ///Bar Chart Test\n                        val jsonStringArray=response.toString()\n                        println(\"Attempt to fetch JSON Data\")\n                        val entries = ArrayList&lt;BarEntry&gt;()\n                        val labels = ArrayList&lt;String&gt;()\n                        val arr = JSONArray(jsonStringArray)\n                        for (i in 0 until arr.length()) {\n                            entries.add(BarEntry(arr.getJSONObject(i).getDouble(\"value\").toFloat(), i))\n                            labels.add(arr.getJSONObject(i).getString(\"day\"))\n                        }\n                        val barDataSet = BarDataSet(entries, \"Test Sample Record\")\n                        barDataSet.valueTextSize = 10f\n                        val data = BarData(labels, barDataSet)\n                        Log.d(\"Entries\", data.toString())\n                        barChart.data = data \n                        barChart.setDescription(\"\")\n                        }\n                    catch (e:JSONException)\n                    {\n                        e.printStackTrace()\n                    }\n\n                },\n                Response.ErrorListener {\n                    error: VolleyError? -&gt;\n                    try{\n                        Log.d(\"Error:\", error.toString())\n                    }\n                    catch (e:JSONException) {e.printStackTrace()}\n                }\n                )\n        volleyRequest!!.add(stringReq)\n    }\n}\n</code></pre>\n\n<p><strong>Main Activity:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_home -&gt; {\n               // message.setText(R.string.title_home)\n                replaceFragment(FirstFragment())\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_dashboard -&gt; {\n                //message.setText(R.string.title_dashboard)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_notifications -&gt; {\n                //message.setText(R.string.title_notifications)\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    }\n\n    private fun replaceFragment(fragment: Fragment){\n        val fragmentTransaction = supportFragmentManager.beginTransaction()\n        fragmentTransaction.replace(R.id.container, fragment)\n        fragmentTransaction.commit()\n    }\n}\n</code></pre>\n\n<p><strong>active_fragment_one</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"FragmentOne\"&gt;\n\n    &lt;com.github.mikephil.charting.charts.BarChart\n        android:id=\"@+id/barChart\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/ColorBg\"\n        /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit", "simple-xml-converter"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545269172, "post_id": 53859299, "comment_id": 94570636, "body": "I&#39;d just use Java for the SimpleXML classes. I had troubles with it using Kotlin, never figured it out."}, {"owner": {"reputation": 1, "user_id": 10556927, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i_iSdDB9cyI/AAAAAAAAAAI/AAAAAAAAACQ/E93_vhlDftI/photo.jpg?sz=128", "display_name": "BloodEyezs Nimby", "link": "https://stackoverflow.com/users/10556927/bloodeyezs-nimby"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545298303, "post_id": 53859299, "comment_id": 94578991, "body": "Yeah I would but my assignment has to be in Kotlin so that&#39;s a bit of a problem.."}], "owner": {"reputation": 1, "user_id": 10556927, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i_iSdDB9cyI/AAAAAAAAAAI/AAAAAAAAACQ/E93_vhlDftI/photo.jpg?sz=128", "display_name": "BloodEyezs Nimby", "link": "https://stackoverflow.com/users/10556927/bloodeyezs-nimby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545254500, "creation_date": 1545254500, "question_id": 53859299, "link": "https://stackoverflow.com/questions/53859299/retrofit-simplexmlconverter", "title": "RetroFit, SimpleXMLConverter", "body": "<p>I am using Retrofit with simpleXMLConverter to get data out of an xml and use it in my android application. However, I am unable to bind the value of a certain tag on my value in my class. In my situation, I'm trying to bind the mtc:gas_type to my price variable in the Gasoline Class. I did manage to bind a value from a simple XML I found online with just 2 tags so it means I'm doing something wrong with this particular XML...</p>\n\n<p>Error(Which means it can't find the tag):</p>\n\n<pre><code>java.lang.RuntimeException: org.simpleframework.xml.core.ValueRequiredException: Unable to satisfy @org.simpleframework.xml.Element(data=false, name=mtc:gas_type, required=true, type=void) on field 'price' private double com.example.alexander.ridy.Model.domain.Gasoline.price for class com.example.alexander.ridy.Model.domain.Gasoline at line -1\n    at retrofit2.converter.simplexml.SimpleXmlResponseBodyConverter.convert(SimpleXmlResponseBodyConverter.java:44)\n    at retrofit2.converter.simplexml.SimpleXmlResponseBodyConverter.convert(SimpleXmlResponseBodyConverter.java:23)\n    at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:223)\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:186)\n    at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:92)\n    at com.example.alexander.ridy.View.fragments.Ride.VehicleDetails$determineGasolineType$1.run(VehicleDetails.kt:101)\n    at java.lang.Thread.run(Thread.java:764)\n Caused by: org.simpleframework.xml.core.ValueRequiredException: Unable to satisfy @org.simpleframework.xml.Element(data=false, name=mtc:gas_type, required=true, type=void) on field 'price' private double com.example.alexander.ridy.Model.domain.Gasoline.price for class com.example.alexander.ridy.Model.domain.Gasoline at line -1\n    at org.simpleframework.xml.core.Composite.validate(Composite.java:644)\n    at org.simpleframework.xml.core.Composite.readElements(Composite.java:449)\n    at org.simpleframework.xml.core.Composite.access$400(Composite.java:59)\n    at org.simpleframework.xml.core.Composite$Builder.read(Composite.java:1383)\n    at org.simpleframework.xml.core.Composite.read(Composite.java:201)\n    at org.simpleframework.xml.core.Composite.read(Composite.java:148)\n    at org.simpleframework.xml.core.Traverser.read(Traverser.java:92)\n    at org.simpleframework.xml.core.Persister.read(Persister.java:625)\n    at org.simpleframework.xml.core.Persister.read(Persister.java:606)\n    at org.simpleframework.xml.core.Persister.read(Persister.java:584)\n    at org.simpleframework.xml.core.Persister.read(Persister.java:562)\n    at retrofit2.converter.simplexml.SimpleXmlResponseBodyConverter.convert(SimpleXmlResponseBodyConverter.java:36)\n    at retrofit2.converter.simplexml.SimpleXmlResponseBodyConverter.convert(SimpleXmlResponseBodyConverter.java:23)\u00a0\n    at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:223)\u00a0\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:186)\u00a0\n    at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall.execute(ExecutorCallAdapterFactory.java:92)\u00a0\n    at com.example.alexander.ridy.View.fragments.Ride.VehicleDetails$determineGasolineType$1.run(VehicleDetails.kt:101)\u00a0\n    at java.lang.Thread.run(Thread.java:764)\u00a0\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>https://www.globalpetrolprices.com/api/getGasXML_weekly.php?gasoline_diesel=2&amp;rate=EUR&amp;countries=183&amp;p=c5ab37e86d514beadb60d3d3d682f363\n</code></pre>\n\n<p>Endpoint interface:</p>\n\n<pre><code>interface Endpoint {\n\n@GET(\"/api/getGasXML_weekly.php?gasoline_diesel=2&amp;rate=LC&amp;countries=183&amp;p=c5ab37e86d514beadb60d3d3d682f363\")\nfun getDiesel(): Call&lt;Gasoline&gt;\n\n@GET(\"/api/getGasXML_weekly.php?gasoline_diesel=1&amp;rate=LC&amp;countries=183&amp;p=c5ab37e86d514beadb60d3d3d682f363\")\nfun getSuper95(): Call&lt;Gasoline&gt;\n\n@GET(\"/api/getGasXML_weekly.php?gasoline_diesel=3&amp;rate=LC&amp;countries=183&amp;p=c5ab37e86d514beadb60d3d3d682f363\")\nfun getLPG(): Call&lt;Gasoline&gt;\n</code></pre>\n\n<p>RetrofitClientInstance:</p>\n\n<pre><code>class RetrofitClientInstance {\n\nprivate var retrofit: Retrofit? = null\nprivate val BASE_URL = \"https://www.globalpetrolprices.com\"\n\nfun getRetrofitInstance(): Retrofit? {\n        retrofit = retrofit2.Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .addConverterFactory(create())\n            .build()\n    return retrofit\n}\n</code></pre>\n\n<p>Gasoline Class:</p>\n\n<pre><code>@Root(strict = false) class Gasoline {\n\n@field:Element(name=\"mtc:gas_type\")\nvar price : Double = 0.0\n\nlateinit var gasolineType : GasolineType\n\nconstructor()\n</code></pre>\n\n<p>The call:</p>\n\n<pre><code>    fun determineGasolineType() {\n    val mySpinner = view?.findViewById(R.id.gasolineSpinner) as Spinner\n    val text = mySpinner.selectedItem.toString()\n    val service = RetrofitClientInstance().getRetrofitInstance()!!.create(Endpoint::class.java!!)\n    lateinit var call : Call&lt;Gasoline&gt;\n    lateinit var resp : Response&lt;Gasoline&gt;\n\n    Thread({\n        resp = service.getDiesel().execute()\n        Log.d(\"\",resp.body().toString())\n    }).start()\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 3, "creation_date": 1545254082, "post_id": 53859180, "comment_id": 94566303, "body": "Because two equal string literals are likely to be compiled to the same object."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545254214, "post_id": 53859180, "comment_id": 94566354, "body": "to add to the link, the difference here is that it is not known at compile time what readLine() will read"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545254235, "post_id": 53859180, "comment_id": 94566364, "body": "Because it&#39;s cached."}], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1545254247, "creation_date": 1545254247, "answer_id": 53859250, "question_id": 53859180, "link": "https://stackoverflow.com/questions/53859180/kotlin-reference-equality-doesnt-always-work/53859250#53859250", "title": "Kotlin - reference equality doesn&#39;t always work", "body": "<p>The <code>===</code> basically means \"are these objects of the same type and do they point to the same memory address?\"</p>\n\n<p>In your first example, both <code>x</code> and <code>y</code> point to a constant <code>A</code>, which, as a String constant, there is a single instance of, so they return true.</p>\n\n<p>When you read from a file, an allocation takes place for the string read, and thus, <code>x</code> and <code>y</code> point to different memory addresses, so they are equal (<code>==</code> returns true), but not identical (<code>===</code> return false).</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1545254493, "accepted_answer_id": 53859250, "answer_count": 1, "score": 0, "last_activity_date": 1545254247, "creation_date": 1545253823, "question_id": 53859180, "link": "https://stackoverflow.com/questions/53859180/kotlin-reference-equality-doesnt-always-work", "closed_reason": "Duplicate", "title": "Kotlin - reference equality doesn&#39;t always work", "body": "<p>According to the <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">docs</a>, <code>===</code> performs referential equality.</p>\n\n<p>Given the following referential equality comparisons, this doesn't seem to work in all cases:</p>\n\n<pre><code>val x = \"A\"\nval y = \"A\"\n\nprintln(x === y) // \"true\"\nprintln(\"A\" === \"A\") // \"true\"\n</code></pre>\n\n<p>I would expect both of those cases to return false.</p>\n\n<p>Yet this example returns false as expected:</p>\n\n<pre><code>val x = readLine()!! // \"A\"\nval y = readLine()!! // \"A\"\n\nprintln(x === y) // \"false\"\n</code></pre>\n\n<p>So why does referential equality comparison work for the latter case, but not the former?</p>\n"}, {"tags": ["android", "webview", "kotlin", "android-webview", "deep-linking"], "comments": [{"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1545249419, "post_id": 53858304, "comment_id": 94564422, "body": "What is a static link?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2386226"}, "reply_to_user": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1545249536, "post_id": 53858304, "comment_id": 94564471, "body": "Thats my bad , I rephrased this as internal links. As in some text links within my webview clicking on which a browser is supposed to open"}], "owner": {"user_type": "does_not_exist", "display_name": "user2386226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545249496, "creation_date": 1545249217, "last_edit_date": 1545249496, "question_id": 53858304, "link": "https://stackoverflow.com/questions/53858304/how-do-i-load-some-internal-links-in-my-webview-in-my-browser-on-click", "title": "How do I load some internal links in my webview in my browser on click?", "body": "<p>I have a webview in which I have certain links within webview which open within the webview instead of a browser. I added         <code>webView.settings.setSupportMultipleWindows(true)</code>\n to my code which stops the links from opening altogether.I was wondering if there was a way I can open any static links in the webview in a browser just on click. Any ideas?\nMy code is below:</p>\n\n<pre><code> webView.settings.javaScriptEnabled = true\n        webView.settings.javaScriptCanOpenWindowsAutomatically = true\n        webView.settings.setAppCacheEnabled(true)\n        webView.settings.setAppCachePath(context?.cacheDir?.absolutePath)\n        webView.settings.cacheMode = WebSettings.LOAD_CACHE_ELSE_NETWORK\n        webView.settings.allowFileAccess = true\n        webView.settings.allowContentAccess = true\n        webView.settings.allowFileAccessFromFileURLs = true\n        webView.settings.allowUniversalAccessFromFileURLs = true\n        webView.settings.domStorageEnabled = true\n        webView.settings.setSupportMultipleWindows(true)\n\n        webView.webChromeClient = WebChromeClient()\n        webView.webViewClient = object : WebViewClient() {\n            override fun onPageFinished(view: WebView?, url: String?) {\n                super.onPageFinished(view, url)\n            }\n\n            override fun onReceivedError(view: WebView?, request: WebResourceRequest?, error: WebResourceError?) {\n                super.onReceivedError(view, request, error)\n            }\n\n            override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n                if (request?.url?.toString()?.startsWith(\"mailto:\") == true) {\n                    val intent = Intent(Intent.ACTION_VIEW, request.url)\n                    startActivity(intent)\n                    return true\n                }\n                if (request?.url?.toString()?.startsWith(\"tel:\") == true) {\n                    startActivity(Intent(Intent.ACTION_DIAL, request.url))\n                    return true\n                }\n\n                return super.shouldOverrideUrlLoading(view, request)\n            }\n        }\n\n        // Empty cache case\n        if (!accessibilityService.isOnline) {\n            showErrorMessage(R.string.error_no_network_connection)\n        }\n\n        webView.loadUrl(urlToOpen)\n        webView.setOnKeyListener(object : View.OnKeyListener {\n\n            override fun onKey(v: View, keyCode: Int, event: KeyEvent): Boolean {\n                if (keyCode == KeyEvent.KEYCODE_BACK\n                        &amp;&amp; event.action === MotionEvent.ACTION_UP\n                        &amp;&amp; webView.canGoBack()) {\n                    webView.goBack()\n                    return true\n                }\n\n                return false\n            }\n\n        })\n        toolbar.title = toolbarTitle\n        toolbar.setNavigationIcon(R.drawable.ic_transparent)\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "build", "kotlinpoet"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 2, "creation_date": 1545252339, "post_id": 53856476, "comment_id": 94565588, "body": "Your question is pretty broad as it stands. You&#39;d probably need to 1) process the classes in the input jar, probably using reflection, 2) create an intermediate model based on step 1, 3) generate code based on the model using KotlinPoet, 4) compile generated code, 5) package compiled code into a jar. Start researching on those and ask more specific questions if any. As for KotlinPoet, it&#39;ll definitely help with code generation, but other steps are out of scope of the library."}, {"owner": {"reputation": 21, "user_id": 10812339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yQ3c4.jpg?s=128&g=1", "display_name": "TioCoding", "link": "https://stackoverflow.com/users/10812339/tiocoding"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1545252994, "post_id": 53856476, "comment_id": 94565853, "body": "Thanks for the reply, but if my project is only a library and it has no main class, how do I execute the code generation? For example, if you had this code in a GenerateCode.kt class &quot;FileSpec.builder (&quot; &quot;,&quot; HelloWorld &quot;). AddType (TypeSpec.classBuilder (&quot; Greeter &quot;) .......build()&quot; How can I execute that class when do &quot;gradle build&quot; or is this something that can not be done?"}, {"owner": {"reputation": 21, "user_id": 10812339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yQ3c4.jpg?s=128&g=1", "display_name": "TioCoding", "link": "https://stackoverflow.com/users/10812339/tiocoding"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1545253179, "post_id": 53856476, "comment_id": 94565927, "body": "What comes to my mind is to create a class with a main method that executes the creation of classes (GenerateCode.kt), but I would like to optimize that step when building my application with &#39;gradle build&#39;. The creation of classes, methods and everything is not complicated, since there is a lot of documentation about Kotlinpoet. What causes me problems is to know in which part I run the class generation (GenerateCode.kt) for a project that is just a library like the previous example."}], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 9005383, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-rymLhVRbsIw/AAAAAAAAAAI/AAAAAAAAG20/cTAJhtYO4mY/photo.jpg?sz=128", "display_name": "Tamim Attafi", "link": "https://stackoverflow.com/users/9005383/tamim-attafi"}, "edited": false, "score": 0, "creation_date": 1614169723, "post_id": 61790653, "comment_id": 117302509, "body": "Any solution for projects using android application plugin? Gradle building stops when it tries to access runtimeClasspath"}], "tags": [], "owner": {"reputation": 307, "user_id": 1104612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lfm8E.jpg?s=128&g=1", "display_name": "Mikolasan", "link": "https://stackoverflow.com/users/1104612/mikolasan"}, "is_accepted": false, "score": 2, "last_activity_date": 1589437487, "creation_date": 1589437487, "answer_id": 61790653, "question_id": 53856476, "link": "https://stackoverflow.com/questions/53856476/how-to-generate-code-with-kotlinpoet-when-i-am-building-my-application-gradle/61790653#61790653", "title": "How to generate code with KotlinPoet when I am building my application? (Gradle)", "body": "<p>In my opinion <strong>KotlinPoet</strong> lacks in its documentation of any example of how to integrate it into a project.</p>\n\n<p>As @Egor mentioned, the question itself is pretty broad, so I will answer only the core part: How to generate code with <strong>KotlinPoet</strong> when I am building my application with Gradle?</p>\n\n<p>I did it with <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">custom Gradle tasks</a>.</p>\n\n<p>There is an application/library/sub-project somewhere in <strong>src/main/java/com/business/package/GenerateCode.kt</strong>:</p>\n\n<pre><code>package com.business.package\n\nimport com.squareup.kotlinpoet.*\n\nfun main() {\n    // using kotlinpoet here\n\n    // in the end wrap everything into FileSpec\n    val kotlinFile: FileSpec = ...\n    // and output result to stdout\n    kotlinFile.writeTo(System.out)\n}\n</code></pre>\n\n<p>Now make Gradle to create a file with produced output. Add to <strong>build.gradle</strong>:</p>\n\n<pre><code>task runGenerator(type: JavaExec) {\n    group = 'kotlinpoet'\n    classpath = sourceSets.main.runtimeClasspath\n    main = 'com.business.package.GenerateCodeKt'\n    // store the output instead of printing to the console:\n    standardOutput = new ByteArrayOutputStream()\n    // extension method genSource.output() can be used to obtain the output:\n    doLast {\n        ext.generated = standardOutput.toString()\n    }\n}\n\ntask saveGeneratedSources(dependsOn: runRatioGenerator) {\n    group = 'kotlinpoet'\n    // use build directory\n    //def outputDir = new File(\"/${buildDir}/generated-sources\")\n    // or add to existing source files\n    def outputDir = new File(sourceSets.main.java.srcDirs.first(), \"com/business/package\")\n    def outputFile = new File(outputDir, \"Generated.kt\")\n    doLast {\n        if(!outputDir.exists()) {\n            outputDir.mkdirs()\n        }\n        outputFile.text = tasks.runGenerator.generated\n    }\n}\n</code></pre>\n\n<p>In Android Studio / Intellij IDEA open the <a href=\"https://www.jetbrains.com/help/idea/work-with-gradle-tasks.html#\" rel=\"nofollow noreferrer\">Gradle tool window</a>, find new group <code>kotlinpoet</code> (without <code>group</code> the tasks will be in the <code>others</code> section), and execute task <code>saveGeneratedSources</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 10812339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yQ3c4.jpg?s=128&g=1", "display_name": "TioCoding", "link": "https://stackoverflow.com/users/10812339/tiocoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1589437487, "creation_date": 1545240736, "question_id": 53856476, "link": "https://stackoverflow.com/questions/53856476/how-to-generate-code-with-kotlinpoet-when-i-am-building-my-application-gradle", "title": "How to generate code with KotlinPoet when I am building my application? (Gradle)", "body": "<p>I'm new using kotlinpoet and I've been reading the documentation and it seems like a great library, but I could not find an example to solve my problem.</p>\n\n<p>I have a dependency <code>lib-domain-0.1.jar</code> in which I have business objects for example:</p>\n\n<pre><code>package pe.com.business.domain\n\ndata class Person(val id: Int? = null, val name: String? = null)\n...\n..\npackage pe.com.business.domain\n\ndata class Departament(val id: Int? = null, val direction: String? = null)\n...\n..\n.\n</code></pre>\n\n<p>And I want to build a new dependency called <code>lib-domain-fx-0-1.jar</code> where it has the same domains but with JavaFx properties (With tornadofx) for example:</p>\n\n<pre><code>package pe.com.business.domainfx\nimport tornadofx.*\n\nclass Person {\n  val idProperty = SimpleIntegerProperty()\n  var id by idProperty\n\n  val nameProperty = SimpleStringProperty()\n  var name by nameProperty\n}\n...\n..\npackage pe.com.business.domainfx\nimport tornadofx.*\n\nclass Departament {\n  val idProperty = SimpleIntegerProperty()\n  var id by idProperty\n\n  val directionProperty = SimpleStringProperty()\n  var direction by directionProperty\n}\n...\n..\n.\n</code></pre>\n\n<p>My question is, how can I generate these files in <code>lib-domain-fx-0-1.jar</code> by simply compiling my application with a gradle build? My project \"lib-domain-fx-0-1.jar\" is just a library, so it has no main class, so I do not know where to start the generation of code?. I have seen several examples in which they use <code>@Annotations</code> and two different modules in the same project, but that is not what I need :(. I need to convert all classes of <code>lib-domain-0.1.jar</code> to the JavaFx version with TornadoFX in another project (<code>lib-domain-fx-0.1.jar</code>)</p>\n\n<p>Thanks and regards.</p>\n"}, {"tags": ["multithreading", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "edited": false, "score": 0, "creation_date": 1545250081, "post_id": 53855390, "comment_id": 94564684, "body": "Could you please post the full example. In your case the <code>launch</code> is the important part. <code>withContext</code> only switches the thread/context but says nothing about parallelism. The function <code>launch</code> starts a new coroutine in a <code>CoroutineScope</code> and this scope defines if the coroutines run in parallel. So I need the context around your method to give you an answer."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545254916, "post_id": 53855390, "comment_id": 94566631, "body": "You should fix your code to <code>launch(context2) { Thread.sleep(2000) }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 274, "user_id": 727797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad29bb74a7ed96632245f48099bd0c64?s=128&d=identicon&r=PG", "display_name": "JeffgNpc", "link": "https://stackoverflow.com/users/727797/jeffgnpc"}, "is_accepted": true, "score": 1, "last_activity_date": 1545259975, "creation_date": 1545259975, "answer_id": 53860270, "question_id": 53855390, "link": "https://stackoverflow.com/questions/53855390/why-doesnt-executor-ascoroutinedispatcher-work-like-newfixedthreadpoolcontext/53860270#53860270", "title": "Why doesn&#39;t Executor.asCoroutineDispatcher work like newFixedThreadPoolContext?", "body": "<p>After playing with the full code example:</p>\n\n<pre><code>import kotlinx.coroutines.*\nimport java.util.concurrent.Executors\n\nfun log(msg: String) = println(\"[${Thread.currentThread().name}] $msg\")\n\n\nfun main() = runBlocking {\n    val context1 = Executors.newFixedThreadPool(2).asCoroutineDispatcher()\n    val context2 = newFixedThreadPoolContext(2, \"Fixed\")\n\n    repeat(4) {\n        launch {\n            withContext(context1) {\n                log(\"Start sleep $it\")\n                Thread.sleep(2000)\n                log(\"Finished sleep $it\")\n            }\n        }\n    }\n\n//    context1.close()\n}\n</code></pre>\n\n<p>I discovered the problem is with the \"context1.close()\".  If I comment out the \"context1.close()\" it works correctly.  My guess is that the \"launch\" calls aren't blocking, so the \"context1.close()\" gets executed before the \"withContext\" executes on the other threads.  I would have assumed that would cause an error, but it appears to just make it a single thread.</p>\n"}], "owner": {"reputation": 274, "user_id": 727797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad29bb74a7ed96632245f48099bd0c64?s=128&d=identicon&r=PG", "display_name": "JeffgNpc", "link": "https://stackoverflow.com/users/727797/jeffgnpc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 1, "accepted_answer_id": 53860270, "answer_count": 1, "score": 1, "last_activity_date": 1545259975, "creation_date": 1545236910, "question_id": 53855390, "link": "https://stackoverflow.com/questions/53855390/why-doesnt-executor-ascoroutinedispatcher-work-like-newfixedthreadpoolcontext", "title": "Why doesn&#39;t Executor.asCoroutineDispatcher work like newFixedThreadPoolContext?", "body": "<p>I thought these two lines would be equivalent execution wise:</p>\n\n<pre><code>val context1 = Executors.newFixedThreadPool(2).asCoroutineDispatcher()\nval context2 = newFixedThreadPoolContext(2, \"Fixed\")\n</code></pre>\n\n<p>But when I use \"context2\" in the code below it works as expected, but \"context1\" acts like a single thread.</p>\n\n<pre><code>val context1 = Executors.newFixedThreadPool(2).asCoroutineDispatcher()\n\nrepeat(4) {\n    launch {\n        withContext(context1) {\n            Thread.sleep(2000)\n        }\n    }\n}\n\ncontext1.close()\n</code></pre>\n\n<p><strong>Expected</strong>: 2 threads will execute in parallel.  The code should complete in 4 seconds, because to 2 threads sleep for 2 seconds and then repeat.</p>\n\n<p><strong>Actual</strong>: Only one thread executes and the \"repeat\" is executed serially, which takes 8 seconds to complete.</p>\n\n<p>Is this a bug? </p>\n\n<p>Or what is meant by this documentation found <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/new-fixed-thread-pool-context.html\" rel=\"nofollow noreferrer\">here</a>?</p>\n\n<blockquote>\n  <p>If you need a completely separate thread-pool with scheduling policy\n  that is based on the standard JDK executors, use the following\n  expression: Executors.newFixedThreadPool().asCoroutineDispatcher().</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "upload"], "comments": [{"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1545237420, "post_id": 53854843, "comment_id": 94558887, "body": "Can you post details of the error you receive."}], "owner": {"reputation": 23, "user_id": 10460529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb84a6026b1704ec41a55fae44a662b4?s=128&d=identicon&r=PG&f=1", "display_name": "Gueguen Kevin", "link": "https://stackoverflow.com/users/10460529/gueguen-kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1072, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545252611, "creation_date": 1545234795, "last_edit_date": 1545252611, "question_id": 53854843, "link": "https://stackoverflow.com/questions/53854843/how-to-send-image-file-to-server-kotlin-using-fuel", "title": "How to send image file to server - Kotlin using Fuel", "body": "<p>I have a problem when attempting to use Fuel to send image to my server.\nI am trying to use the <code>Fuel.upload</code> method.</p>\n\n<pre><code>        Fuel.upload(urlfile).source { request, url -&gt;\n            File(photopath)\n        }.responseString { request, response, result -&gt;\n\n        }\n</code></pre>\n\n<p>the image is like : /storage/emulated/0/Android/data/fr.tais.riodi/files/Pictures/MyPicture4945313277123614993.jpg</p>\n\n<pre><code>$target_dir = \"images/\";\n$target_file_name = $target_dir .basename($_FILES[\"file\"][\"name\"]);\n$response = array();\n\n// Check if image file is a actual image or fake image\nif (isset($_FILES[\"file\"])) \n{\n   if (move_uploaded_file($_FILES[\"file\"][\"tmp_name\"], $target_file_name)) \n   {\n     $success = true;\n     $message = \"Successfully Uploaded\";\n   }\n   else \n   {\n      $success = false;\n      $message = \"Error while uploading\";\n   }\n}\nelse \n{\n      $success = false;\n      $message = \"Required Field Missing\";\n}\n$response[\"success\"] = $success;\n$response[\"message\"] = $message;\necho json_encode($response);\n</code></pre>\n\n<p>I tried to find an example of this operation. Have you an examples or an idea?</p>\n\n<p>Thanks all</p>\n"}, {"tags": ["spring-boot", "kotlin", "keycloak", "application.properties"], "owner": {"reputation": 93, "user_id": 9982349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e443178790ece7bce18fd335d26215f0?s=128&d=identicon&r=PG&f=1", "display_name": "Ikromjon Mirzayev", "link": "https://stackoverflow.com/users/9982349/ikromjon-mirzayev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1891, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1545234538, "creation_date": 1545234538, "question_id": 53854753, "link": "https://stackoverflow.com/questions/53854753/configure-application-properties-in-spring-boot-for-public-url-in-keycloak", "title": "Configure application.properties in spring boot for public url in keycloak", "body": "<p>I'm developing spring boot application (v 2.1.0) with keycloak to secure app (v 4.5.0).\nI already configured keycloak security in gradle and application.properties.\nHowever keycloak returns unauthorized (401 Error) even for urls which are not added to security constraints.</p>\n\n<p>Gradle and application.properties file are provided following\nGradle</p>\n\n<pre><code>    buildscript {\n    ext.kotlin_version = '1.3.11' // Required for Kotlin integration\n    ext.spring_boot_version = '2.1.0.RELEASE'\n    ext.keycloak_version = '4.5.0.Final'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Required for Kotlin integration\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\" // See https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version\"\n    }\n}\n\napply plugin: 'kotlin' // Required for Kotlin integration\napply plugin: \"kotlin-spring\" // https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\njar {\n    baseName = 'gs-rest-service'\n    version = '0.1.0'\n}\n\nrepositories {\n    jcenter()\n}\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile('org.springframework.boot:spring-boot-starter-data-rest')\n    compile group: 'org.hibernate', name: 'hibernate-envers', version: '5.1.0.Final'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" // Required for Kotlin integration\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    compile \"org.springframework.boot:spring-boot-starter-web\"\n//    compile 'org.springframework.boot:spring-boot-starter-security'\n\n    //KeyCloak\n    compile group: 'org.keycloak', name: 'keycloak-spring-boot-starter', version: '4.7.0.Final'\n    compile group: 'org.keycloak', name: 'keycloak-spring-boot-adapter', version: '4.7.0.Final'\n\n    compile \"org.keycloak:keycloak-admin-client:$keycloak_version\"\n\n    //RestEasy\n// https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-client\n    compile group: 'org.jboss.resteasy', name: 'resteasy-client', version: '3.6.2.Final'\n// https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-jaxrs\n    compile group: 'org.jboss.resteasy', name: 'resteasy-jaxrs', version: '3.6.2.Final'\n// https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-jackson2-provider\n    compile group: 'org.jboss.resteasy', name: 'resteasy-jackson2-provider', version: '3.6.2.Final'\n\n//    //Oauth2\n//    // https://mvnrepository.com/artifact/org.springframework.security.oauth/spring-security-oauth2\n//    compile group: 'org.springframework.security.oauth', name: 'spring-security-oauth2', version: '2.3.4.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.springframework/spring-jdbc\n    compile group: 'org.springframework', name: 'spring-jdbc', version: '5.1.0.RELEASE'\n\n    // https://mvnrepository.com/artifact/org.postgresql/postgresql\n    compile group: 'org.postgresql', name: 'postgresql', version: '9.3-1100-jdbc41'\n\n    compile group: 'org.postgresql', name: 'postgresql', version: '42.2.5'\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n\n}\n</code></pre>\n\n<p>Application.properties</p>\n\n<pre><code>#Server\nserver.port = 8090\n# Database\nspring.jpa.database=postgresql\n#spring.datasource.platform\nspring.jpa.show-sql=false\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=123\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n\n\n\n# new\nkeycloak.realm = realm\nkeycloak.auth-server-url = http://localhost:8080/auth\nkeycloak.ssl-required = external\nkeycloak.resource = client_id\nkeycloak.credentials.secret = client_secret\nkeycloak.realm-key=public_key\n\n\nkeycloak.security-constraints[0].auth-roles[0]=USER\nkeycloak.security-constraints[0].security-collections[0].patterns[0]=/user/*\nkeycloak.security-constraints[0].security-collections[0].patterns[1]=/createStudent\n\nkeycloak.security-constraints[0].auth-roles[1]=admin\nkeycloak.security-constraints[0].security-collections[1].patterns[0]=/createStudent2\nkeycloak.security-constraints[0].security-collections[1].patterns[1]=/createRole\nkeycloak.security-constraints[0].security-collections[1].patterns[2]=/roles\nkeycloak.security-constraints[0].security-collections[1].patterns[3]=/assignRole\nkeycloak.security-constraints[0].security-collections[1].patterns[4]=/users\n</code></pre>\n\n<p>I want login and main page of the app to be public\n/login and /home\nThanks in advance!</p>\n"}, {"tags": ["spring-boot", "kotlin", "testcontainers"], "answers": [{"tags": [], "owner": {"reputation": 2927, "user_id": 516642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb13e7476e8713f076d17121e15e8d25?s=128&d=identicon&r=PG", "display_name": "Morrison Cole", "link": "https://stackoverflow.com/users/516642/morrison-cole"}, "is_accepted": false, "score": 1, "last_activity_date": 1570504904, "creation_date": 1570504904, "answer_id": 58279797, "question_id": 53854572, "link": "https://stackoverflow.com/questions/53854572/how-to-override-spring-application-properties-in-test-classes-spring-s-context/58279797#58279797", "title": "How to override spring application properties in test classes? Spring\u2019s @ContextConfiguration breaks when using Kotlin inner classes", "body": "<p>I just ran into this and, after a long time trying to figure out what was going on, I finally came up with a solution.</p>\n\n<p>You can use a companion object as follows (e.g., for MySql):</p>\n\n<pre><code>@Testcontainers\n@ExtendWith(SpringExtension::class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(initializers = [ExampleIntegrationTest.Companion.Initializer::class])\nclass ExampleIntegrationTest {\n\n    companion object {\n\n        @Container\n        @JvmField\n        val mySqlContainer = KotlinMySqlContainer()\n\n        class Initializer : ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n            override fun initialize(configurableApplicationContext: ConfigurableApplicationContext) {\n\n                TestPropertyValues.of(\n                    \"spring.datasource.url=\" + mySqlContainer.jdbcUrl,\n                    \"spring.datasource.username=\" + mySqlContainer.username,\n                    \"spring.datasource.password=\" + mySqlContainer.password\n                ).applyTo(configurableApplicationContext.environment)\n            }\n        }\n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 336, "user_id": 570208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d90cfb65fd565fae72a0deaafc434c5?s=128&d=identicon&r=PG", "display_name": "criedel", "link": "https://stackoverflow.com/users/570208/criedel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1570504904, "creation_date": 1545233969, "question_id": 53854572, "link": "https://stackoverflow.com/questions/53854572/how-to-override-spring-application-properties-in-test-classes-spring-s-context", "title": "How to override spring application properties in test classes? Spring\u2019s @ContextConfiguration breaks when using Kotlin inner classes", "body": "<p>I\u2019m currently trying to change some Spring configuration properties in test code (they aren\u2019t static, that\u2019s why).\nThere\u2019s this odd thing when I try to solve my problem with <code>@ContextConfiguration(initializers = [MyTestClass.Initializer::class])</code>.</p>\n\n<p>and in <code>MyTestClass</code> I defined this:</p>\n\n<pre><code>inner class Initializer : ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n    override fun initialize(applicationContext: ConfigurableApplicationContext) {\n        val values = TestPropertyValues.of(\"spring.datasource.url=\" + postgresqlContainer.jdbcUrl)\n        values.applyTo(applicationContext)\n    }\n}\n</code></pre>\n\n<p>(I\u2019m using Testcontainers here... how to get this working might be a separate question, feel free to help me out.)\n<code>postgresqlContainer</code> is a member of <code>MyTestClass</code> that I want to access. When I run the test I just get an error:</p>\n\n<p><code>Caused by: java.lang.IllegalArgumentException: No argument provided for a required parameter: instance of fun com.example.MyTestClass.Initializer.&lt;init&gt;(): com.example.MyTestClass.Initializer</code></p>\n\n<p>Huh, ok, so I kept debugging a bit and I think it\u2019s Spring\u2019s <code>BeanUtils</code> that isn\u2019t able to handle Kotlin inner classes. If I remove the <code>inner</code> keyword from my inner class BeanUtils can create an instance \u2013 doesn\u2019t help me of course, since I need access to the property of the outer class.</p>\n\n<p>I wrote a little test to assert my suspicion:</p>\n\n<pre><code>import io.kotlintest.specs.StringSpec\nimport org.springframework.beans.BeanUtils\n\nclass Thing {\n    inner class InnerThing {\n\n    }\n}\n\nclass BeanUtilTest: StringSpec({\n    \"instantiate inner class\" {\n        BeanUtils.instantiateClass(Thing.InnerThing::class.java)\n        // fails :-(\n    }\n})\n</code></pre>\n\n<p>Question: Is there a workaround? How can I override application properties inside my test in Kotlin?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-wifi"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1545234527, "post_id": 53854564, "comment_id": 94557095, "body": "<code>Activity#onDestroy()</code> is one which you are looking for ."}, {"owner": {"reputation": 71, "user_id": 10785009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a0a14c7d3579c17f172cf2f0533d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Anis KONIG", "link": "https://stackoverflow.com/users/10785009/anis-konig"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545234632, "post_id": 53854564, "comment_id": 94557173, "body": "must i add it to  all activities ?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545234839, "post_id": 53854564, "comment_id": 94557321, "body": "use <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ProcessLifecycleOwner\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10785009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a0a14c7d3579c17f172cf2f0533d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Anis KONIG", "link": "https://stackoverflow.com/users/10785009/anis-konig"}, "edited": false, "score": 0, "creation_date": 1545234928, "post_id": 53854804, "comment_id": 94557365, "body": "please give me just the function that detect closing"}, {"owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "reply_to_user": {"reputation": 3641, "user_id": 5453249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/397a58235769234e0b5d238f64f029de?s=128&d=identicon&r=PG&f=1", "display_name": "croxy", "link": "https://stackoverflow.com/users/5453249/croxy"}, "edited": false, "score": 0, "creation_date": 1545237940, "post_id": 53854804, "comment_id": 94559181, "body": "@croxy Good advice. I added explanation."}, {"owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "reply_to_user": {"reputation": 71, "user_id": 10785009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a0a14c7d3579c17f172cf2f0533d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Anis KONIG", "link": "https://stackoverflow.com/users/10785009/anis-konig"}, "edited": false, "score": 0, "creation_date": 1545237960, "post_id": 53854804, "comment_id": 94559196, "body": "@AnisKONIG You can&#39;t just do it with a single function."}], "tags": [], "owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "is_accepted": false, "score": 1, "last_activity_date": 1545237830, "last_edit_date": 1545237830, "creation_date": 1545234711, "answer_id": 53854804, "question_id": 53854564, "link": "https://stackoverflow.com/questions/53854564/how-to-detect-the-closing-of-the-app-and-take-acction-kotlin/53854804#53854804", "title": "how to detect the closing of the app and take acction ? ( kotlin )", "body": "<p>You might check out <a href=\"https://android.jlelse.eu/how-to-detect-android-application-open-and-close-background-and-foreground-events-1b4713784b57\" rel=\"nofollow noreferrer\">this blog post</a>. It described how to do it more detail than I could.</p>\n\n<p>EDIT:</p>\n\n<p>Important parts of blog post are:</p>\n\n<p>1 - Create our interface that will be implemented by a custom Application class:</p>\n\n<pre><code>interface LifecycleDelegate {\n    fun onAppBackgrounded()\n    fun onAppForegrounded()\n}\n</code></pre>\n\n<p>2 - Now we a class that is going to implement the ActivityLifecycleCallbacks and ComponentCallbacks2:</p>\n\n<pre><code>class AppLifecycleHandler(\n    private val lifeCycleDelegate: LifeCycleDelegate\n) : Application.ActivityLifecycleCallbacks, ComponentCallbacks2\n{\n    private var appInForeground = false\n\n    override fun onActivityResumed(activity: Activity?) {\n        if (!appInForeground) {\n            appInForeground = true\n            lifeCycleDelegate.onAppForegrounded()\n        }\n    }\n\n    override fun onTrimMemory(level: Int) {\n        if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {\n            appInForeground = false\n            lifeCycleDelegate.onAppBackgrounded()\n        }\n    }\n\n    // stub other methods\n}\n</code></pre>\n\n<p>3 - We need to use that handler in our application class:</p>\n\n<pre><code>class App : Application(), LifeCycleDelegate {\n\n    override fun onCreate() {\n        super.onCreate()\n        val lifeCycleHandler = AppLifecycleHandler(this)\n        registerLifecycleHandler(lifeCycleHandler)\n    }\n\n    override fun onAppBackgrounded() {\n        Log.d(\"App\", \"App in background\")\n    }\n\n    override fun onAppForegrounded() {\n        Log.d(\"App\", \"App in foreground\")\n    }\n\n    private fun registerLifecycleHandler(lifeCycleHandler: AppLifecycleHandler) {\n        registerActivityLifecycleCallbacks(lifeCycleHandler)\n        registerComponentCallbacks(lifeCycleHandler)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 8469760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce38c1dc16e9c4e995b54e0e220fe437?s=128&d=identicon&r=PG&f=1", "display_name": "AvidRP", "link": "https://stackoverflow.com/users/8469760/avidrp"}, "is_accepted": true, "score": 2, "last_activity_date": 1545235306, "creation_date": 1545235306, "answer_id": 53854960, "question_id": 53854564, "link": "https://stackoverflow.com/questions/53854564/how-to-detect-the-closing-of-the-app-and-take-acction-kotlin/53854960#53854960", "title": "how to detect the closing of the app and take acction ? ( kotlin )", "body": "<p>This exactly what lifecycles are used for. Any clean up work that needs to done should be done in onDestroy(). This is the final call you receive before your activity is destroyed. So in the activity where you want to disable wifi you can just do:</p>\n\n<pre><code>override func onDestroy() {\n\n   super.onDestroy();\n   wifiManager!!.isWifiEnabled = false;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10785009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a0a14c7d3579c17f172cf2f0533d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Anis KONIG", "link": "https://stackoverflow.com/users/10785009/anis-konig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 53854960, "answer_count": 2, "score": 2, "last_activity_date": 1545237830, "creation_date": 1545233938, "last_edit_date": 1545236936, "question_id": 53854564, "link": "https://stackoverflow.com/questions/53854564/how-to-detect-the-closing-of-the-app-and-take-acction-kotlin", "title": "how to detect the closing of the app and take acction ? ( kotlin )", "body": "<p>I want to disable the WiFi when the app is closed.\ni know the code to disable WiFi using this line :</p>\n\n<pre><code>wifiManager!!.isWifiEnabled = false\n</code></pre>\n\n<blockquote>\n  <p>but i don't know how to detect the closing of the app.</p>\n</blockquote>\n"}, {"tags": ["mongodb", "kotlin", "aggregation-framework", "spring-mongodb"], "comments": [{"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1545232976, "post_id": 53853356, "comment_id": 94555999, "body": "What is pipe1 and pipe2 and how it is related to array2 from cli query ?"}, {"owner": {"reputation": 129, "user_id": 10145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66f6c7961dcd8637a2c79cff05d46f5?s=128&d=identicon&r=PG&f=1", "display_name": "jogendra", "link": "https://stackoverflow.com/users/10145511/jogendra"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1545236591, "post_id": 53853356, "comment_id": 94558417, "body": "these are array which contain id field and i want only those id which are common in both array pipe1,pipe2.here array1,pipe1,pip2 are array .                          I want to convert above mongo cli query into spring aggregation query."}, {"owner": {"reputation": 129, "user_id": 10145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66f6c7961dcd8637a2c79cff05d46f5?s=128&d=identicon&r=PG&f=1", "display_name": "jogendra", "link": "https://stackoverflow.com/users/10145511/jogendra"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1545238090, "post_id": 53853356, "comment_id": 94559279, "body": "sorry for inconvenient naming array1,array2,pipe1,pipe2 all are arrays.I am using facet where pipeline generated dynamically after facet operation i want list of those document(id) which are common in all facet pipeline.                                  My real query is shown below-"}, {"owner": {"reputation": 129, "user_id": 10145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66f6c7961dcd8637a2c79cff05d46f5?s=128&d=identicon&r=PG&f=1", "display_name": "jogendra", "link": "https://stackoverflow.com/users/10145511/jogendra"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1545238205, "post_id": 53853356, "comment_id": 94559341, "body": "aggregate([ {$facet:{ &quot;pipe1&quot;:[ {$match:{&quot;name&quot;:&quot;Search&quot;,&quot;creationTime&quot;:{$gt:new ISODate(&quot;2018-08-01T12:00:00Z&quot;)},&quot;attributes.Item&quot;:&quot;laptop&quot;,&zwnj;&#8203;&quot;attributes.Color&quot;:&quot;&zwnj;&#8203;black&quot;}}, {$group:{_id:&quot;$userId&quot;,count:{$sum:1}}}, {$match:{count:{$gt:0}}} ], &quot;pipe2&quot;:[ {$match:{&quot;name&quot;:&quot;Search Category&quot;,&quot;creationTime&quot;:{$gt:new ISODate(&quot;2018-08-01T12:00:00Z&quot;),$lt:new ISODate(&quot;2018-08-28T12:00:00Z&quot;)},&quot;attributes.Category&quot;:{$in:&zwnj;&#8203;[&quot;men&quot;]}}}, {$group:{_id:&quot;$userId&quot;,count:{$sum:1}}}, {$match:{count:{$gt:1}}} ] }} , {$project:{&quot;userId&quot;:{&quot;$setIntersection&quot;:[&quot;$pipe1._id&quot;,&quot;$pipe&zwnj;&#8203;2._id&quot;]}}} }"}], "owner": {"reputation": 129, "user_id": 10145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66f6c7961dcd8637a2c79cff05d46f5?s=128&d=identicon&r=PG&f=1", "display_name": "jogendra", "link": "https://stackoverflow.com/users/10145511/jogendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545231004, "creation_date": 1545229878, "last_edit_date": 1545231004, "question_id": 53853356, "link": "https://stackoverflow.com/questions/53853356/convert-mongo-query-into-spring-query", "title": "Convert mongo query into spring query", "body": "<p>MY mongo cli query </p>\n\n<pre><code>  {$project:{\"userId\":{$setIntersection:[\"array1\",\"array2\"]}}}\n</code></pre>\n\n<p>I want to convert it into spring aggregation projection.</p>\n\n<p>I write following query</p>\n\n<pre><code>  var intersection=SetOperators.arrayAsSet(\"array1\").intersects(\"pipe1\",\"pipe2\")\n\n  var afterFacetStage=Aggregation.project().and(intersection).`as`(\"userId\")\n</code></pre>\n\n<p>this is equivalent to </p>\n\n<pre><code>{$project:{\"userId\":{$setIntersection:[\"array1\",\"pipe1\",\"pipe2\"]}}}\n</code></pre>\n\n<p>Its not expected I dont want to include arrayAsSet </p>\n\n<p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.3.RELEASE/api/\" rel=\"nofollow noreferrer\">Spring SetOperator Api</a></p>\n\n<p>I found one another way after seeing SetOperator class code </p>\n\n<pre><code>  var intersectOperation=SetOperators.SetOperatorFactory(\"array1\").intersects(\"pipe1\",\"pipe2\")\n    var afterFacetStage1=Aggregation.project().and(intersectOperation).`as`(\"userId\")\n</code></pre>\n\n<p>still its generate this query which is not expected</p>\n\n<pre><code> {$project:{\"userId\":{$setIntersection:[\"array1\",\"pipe1\",\"pipe2\"]}}}\n</code></pre>\n"}, {"tags": ["kotlin", "gson"], "comments": [{"owner": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 0, "creation_date": 1545229433, "post_id": 53853192, "comment_id": 94553809, "body": "<a href=\"https://proandroiddev.com/creating-multiple-constructors-for-data-classes-in-kotlin-32ad27e58cac\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a> <a href=\"https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor\" title=\"can kotlin data class have more than one constructor\">stackoverflow.com/questions/44391468/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232238, "post_id": 53853962, "comment_id": 94555513, "body": "That doesn&#39;t look like a good solution. Even with a small number of fields, the number of possible combinations for a data class grows very fast."}, {"owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "reply_to_user": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232924, "post_id": 53853962, "comment_id": 94555959, "body": "Why don&#39;t you just use nullable values."}, {"owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "edited": false, "score": 1, "creation_date": 1545233623, "post_id": 53853962, "comment_id": 94556444, "body": "In Kotlin, classes are cheap, for generic data classes it&#39;s okay to inherit, but you can&#39;t without making the class open as in Kotlin by default everything is final."}], "tags": [], "owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "is_accepted": false, "score": 1, "last_activity_date": 1545233147, "last_edit_date": 1545233147, "creation_date": 1545231913, "answer_id": 53853962, "question_id": 53853192, "link": "https://stackoverflow.com/questions/53853192/kotlin-data-class-gson-optional-field/53853962#53853962", "title": "Kotlin data class + Gson: optional field", "body": "<p>You may need something like this:</p>\n\n<pre><code>sealed class RouteGroup\n\ndata class RouteGroupWithName(\n    @SerializedName(\"name\") var name: String\n) : RouteGroup()\n\ndata class RouteGroupWithId(\n    @SerializedName(\"id\") var id: Int\n) : RouteGroup()\n\ndata class RouteGroupWithNameAndId(\n    @SerializedName(\"name\") var name: String,\n    @SerializedName(\"id\") var id: Int\n) : RouteGroup()\n</code></pre>\n\n<p>EDIT 1:</p>\n\n<p>Or you can use nullable fields and named parameters like this:</p>\n\n<pre><code>data class RouteGroup(\n    @SerializedName(\"name\") var name: String? = null,\n    @SerializedName(\"id\") var id: Int? = null\n)\n\nval routeGroupWithName = RouteGroup(name = \"example\")\nval routeGroupWithId = RouteGroup(id = 2)\nval routeGroupWithNameAndId = RouteGroup(id = 2, name = \"example\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232462, "post_id": 53853996, "comment_id": 94555633, "body": "Ok, so when I initialize the object I do it like: <code>new RouteGroup(&quot;my name&quot;, null)</code> or add a new constructor for the <code>name</code> field only and set <code>null</code> as a default value for an <code>id</code> field?  It works like this. But I&#39;m just afraid that if I would have a bigger DTO, then I would need to create constructors for every possible combination of passed fields."}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232529, "post_id": 53853996, "comment_id": 94555675, "body": "you can set them as default with null so you will not need another constructor"}, {"owner": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232791, "post_id": 53853996, "comment_id": 94555875, "body": "Set default with null like this? <code>data class RouteGroup (@SerializedName(&quot;name&quot;) var name: String? = null, @SerializedName(&quot;id&quot;) var id: Int? = null)</code> If I do so, then I get a compilation error when initializing an object with <code>new RouteGroup(&quot;my name&quot;)</code>. The compilation error is: <i>Cannot resolve constructor &#39;RouteGroup(java.lang.String)&#39;</i>"}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545232887, "post_id": 53853996, "comment_id": 94555938, "body": "not even like that  <code>new RouteGroup(name=&quot;my name&quot;)</code>"}, {"owner": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545233053, "post_id": 53853996, "comment_id": 94556050, "body": "It doesn&#39;t compile for me with this declaration as well. I&#39;m creating this object in a Java class. Can it be the case?"}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "edited": false, "score": 0, "creation_date": 1545233154, "post_id": 53853996, "comment_id": 94556113, "body": "use the annotation @JvmOverloads"}], "tags": [], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "is_accepted": true, "score": 3, "last_activity_date": 1545233453, "last_edit_date": 1545233453, "creation_date": 1545232060, "answer_id": 53853996, "question_id": 53853192, "link": "https://stackoverflow.com/questions/53853192/kotlin-data-class-gson-optional-field/53853996#53853996", "title": "Kotlin data class + Gson: optional field", "body": "<p>it is easy you have to use the nullable operator</p>\n\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class RouteGroup @JvmOverloads constructor(\n    @SerializedName(\"name\") var name: String? = null,\n    @SerializedName(\"id\") var id: Int? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 6934058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4dbeaacc0bff0fe5c7b5da3a6757d58d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii Plagov", "link": "https://stackoverflow.com/users/6934058/vitalii-plagov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3306, "favorite_count": 0, "accepted_answer_id": 53853996, "answer_count": 2, "score": 2, "last_activity_date": 1545233453, "creation_date": 1545229287, "last_edit_date": 1545230727, "question_id": 53853192, "link": "https://stackoverflow.com/questions/53853192/kotlin-data-class-gson-optional-field", "title": "Kotlin data class + Gson: optional field", "body": "<p>I have the following data class in Kotlin:</p>\n\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class RouteGroup(\n    @SerializedName(\"name\") var name: String,\n    @SerializedName(\"id\") var id: Int\n)\n</code></pre>\n\n<p>Sometimes I need to create an object with both fields, sometimes with only one of them.</p>\n\n<p>How can I do this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is not the duplicate of this question: <a href=\"https://stackoverflow.com/q/44391468/6934058\">Can Kotlin data class have more than one constructor?</a>\nThat question shows how to set a default value for a field. But in my case, I don't need to serialize the field with the default value. I want a field to be serialized only when I explicitly assign a value to it.</p>\n"}, {"tags": ["java", "android", "kotlin", "singleton"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545228541, "post_id": 53852944, "comment_id": 94553289, "body": "So how will you represent when the user is logged out?"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545228713, "post_id": 53852944, "comment_id": 94553400, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 8564324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b18b6757b355e5f9f1cce1c3ebef282?s=128&d=identicon&r=PG&f=1", "display_name": "ExtinctSpecie", "link": "https://stackoverflow.com/users/8564324/extinctspecie"}, "is_accepted": false, "score": 0, "last_activity_date": 1545230744, "creation_date": 1545230744, "answer_id": 53853620, "question_id": 53852944, "link": "https://stackoverflow.com/questions/53852944/android-best-way-to-create-singleton-pojo-object-in-android-app/53853620#53853620", "title": "Android: Best way to create Singleton POJO object in Android App", "body": "<p>create a MyApplicationController which extends Application(), instantiate your dagger in this class, through a static method return an instance of this class, then in activity do MyApplicationController.getInstance().getAppComponent().inject(this.activity)</p>\n\n<p>Mark your provides method with @singleton or create your own scope annotation.\nand most important add this to manifest file as your application class.</p>\n\n<p>@Inject\nUser </p>\n\n<p>As long as you only have one instance of MyApplicationController you'll always have the same User through all your app.</p>\n\n<p>have a look at this as well. <a href=\"https://stackoverflow.com/questions/30908734/adding-an-application-controller-to-android-project\">Adding an Application controller to android project?</a></p>\n"}], "owner": {"reputation": 740, "user_id": 1288005, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/56b8a758a1d14581d0dd2be7725e97a5?s=128&d=identicon&r=PG&f=1", "display_name": "user1288005", "link": "https://stackoverflow.com/users/1288005/user1288005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1545230744, "creation_date": 1545228410, "question_id": 53852944, "link": "https://stackoverflow.com/questions/53852944/android-best-way-to-create-singleton-pojo-object-in-android-app", "title": "Android: Best way to create Singleton POJO object in Android App", "body": "<p>I want to fetch an user object from Database and have a single instance of the same in whole application. What would be best and efficient way to first fetch from database on app initialisation and make it available for whole class.</p>\n\n<p>I am using dagger in project, if that helps. I already have DatabaseManager(fetch user object from database) injected in AppModule</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 121, "user_id": 6685294, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZNtczYTD_h0/AAAAAAAAAAI/AAAAAAAAAGs/6gqI7JFLGJc/photo.jpg?sz=128", "display_name": "Abubakar Rafi", "link": "https://stackoverflow.com/users/6685294/abubakar-rafi"}, "edited": false, "score": 1, "creation_date": 1545226283, "post_id": 53852253, "comment_id": 94551895, "body": "radioButton.setBackgroundColor(getResources().getDrawable(R.&zwnj;&#8203;color.yourColor));"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545227252, "post_id": 53852253, "comment_id": 94552522, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28307512/cant-change-radio-button-color-on-android\">Can&#39;t change Radio Button color on Android</a>"}, {"owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "edited": false, "score": 0, "creation_date": 1545227946, "post_id": 53852253, "comment_id": 94552952, "body": "This one use XML , i dont want to use it"}], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "edited": false, "score": 0, "creation_date": 1545227837, "post_id": 53852340, "comment_id": 94552894, "body": "Check you just change state_enabled by state_checked and its good ;) thanks"}, {"owner": {"reputation": 164, "user_id": 6838718, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OnRWNbHGXZE/AAAAAAAAAAI/AAAAAAAAJtI/90-ucqX_7M8/photo.jpg?sz=128", "display_name": "Chandu", "link": "https://stackoverflow.com/users/6838718/chandu"}, "edited": false, "score": 0, "creation_date": 1591351626, "post_id": 53852340, "comment_id": 110028855, "body": "It helped me also. I think it works only for SDK above 20"}], "tags": [], "owner": {"reputation": 371, "user_id": 5717488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Wi25.jpg?s=128&g=1", "display_name": "Anton Sarmatin", "link": "https://stackoverflow.com/users/5717488/anton-sarmatin"}, "is_accepted": true, "score": 7, "last_activity_date": 1545226696, "last_edit_date": 1545226696, "creation_date": 1545226350, "answer_id": 53852340, "question_id": 53852253, "link": "https://stackoverflow.com/questions/53852253/how-to-change-checked-color-of-radio-button-programmatically/53852340#53852340", "title": "How to change checked color of Radio Button programmatically", "body": "<p>Try this:</p>\n\n<pre><code>ColorStateList colorStateList = new ColorStateList(\n        new int[][]{\n                new int[]{-android.R.attr.state_enabled}, //disabled\n                new int[]{android.R.attr.state_enabled} //enabled\n        },\n        new int[] {\n                Color.BLACK, //disabled\n                Color.BLUE //enabled\n        }\n    );\n\nradio.setButtonTintList(colorStateList);\n</code></pre>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/17120199/change-circle-color-of-radio-button-android\">Change Circle color of radio button- Android</a></p>\n"}], "owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2982, "favorite_count": 1, "accepted_answer_id": 53852340, "answer_count": 1, "score": 3, "last_activity_date": 1545227919, "creation_date": 1545226079, "last_edit_date": 1545227919, "question_id": 53852253, "link": "https://stackoverflow.com/questions/53852253/how-to-change-checked-color-of-radio-button-programmatically", "title": "How to change checked color of Radio Button programmatically", "body": "<p>I would like to know if its possible programmatically and how to change programmatically the color of RadioButton when it checked ?</p>\n\n<p>PS : I dont want to use XML </p>\n\n<p>in XML I use something like this and its work : </p>\n\n<pre><code>    &lt;RadioButton\n        android:id=\"@+id/radio_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"test1\"\n        android:textColor=\"@color/red\"\n        android:textSize=\"16dp\"\n        android:paddingStart=\"10dp\"\n        android:paddingEnd=\"0dp\"\n        android:theme=\"@style/CustomColorRadioButton\" /&gt;\n</code></pre>\n\n<p>In my style.xml</p>\n\n<pre><code>&lt;style name=\"CustomRadioButton\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"colorControlActivated\"&gt;@color/blue&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>How can I do that programmatically ?</p>\n"}, {"tags": ["android", "lambda", "parse-platform", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1545225770, "post_id": 53852132, "comment_id": 94551601, "body": "The second parameter is a lambda... this is what <code>{}</code> is. Try removing it. Why do you want to use a lambda? There doesn&#39;t seem to be a need for one here."}, {"owner": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1545226001, "post_id": 53852132, "comment_id": 94551747, "body": "In fact its more of my curiosity. I want to return a string from a lambda unit."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1545226159, "post_id": 53852132, "comment_id": 94551820, "body": "Well then use a function that accepts a lambda and returns a value, like <code>run</code> (or invoke it yourself with <code>()</code>). You&#39;re not going to be able to &quot;convert&quot; a lambda to a string."}, {"owner": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1545226323, "post_id": 53852132, "comment_id": 94551923, "body": "thanks. puttling <code>run</code> in front of my unit worked. you can post your comment as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1545227050, "last_edit_date": 1545227050, "creation_date": 1545226410, "answer_id": 53852369, "question_id": 53852132, "link": "https://stackoverflow.com/questions/53852132/kotlin-unit-not-returning-string/53852369#53852369", "title": "Kotlin unit not returning string", "body": "<p>From your last comment it is clear that your second parameter of your function is a <code>String</code>, so either use a <code>String</code> directly or call your lambda, e.g.:</p>\n\n<pre><code>query.whereEqualTo(\"currentGroup\",{\n  if (isAdmin) email else currentGroup\n}()) // see the ()? Alternatively/Preferably you may use run {} here, as it is already an inline function (see below)\n</code></pre>\n\n<p>But it is definitely easier to just use <code>if</code>-<code>else</code> here... you do not gain something from introducing lambdas which are just immediately executed:</p>\n\n<pre><code>query.whereEqualTo(\"currentGroup\",\n  if (isAdmin) email else currentGroup\n)\n</code></pre>\n\n<p>Note also that many functions use <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#inline-functions\" rel=\"nofollow noreferrer\"><code>inline</code></a> just to overcome the runtime penalties associated with lambdas... so you may want to read about that too before you start liking lambdas and use it everywhere.</p>\n"}], "owner": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 53852369, "answer_count": 1, "score": 1, "last_activity_date": 1545227050, "creation_date": 1545225649, "question_id": 53852132, "link": "https://stackoverflow.com/questions/53852132/kotlin-unit-not-returning-string", "title": "Kotlin unit not returning string", "body": "<p>The second parameter of this code must be a string and both email and currentGroup are not null or empty. when I use the normal if else statement, it works. But when i use kotlin lambdas i get an error. I also tried to add <code>.toString()</code> at the end of the second parameter but had no luck.</p>\n\n<pre><code>query.whereEqualTo(\"currentGroup\",{\n    if (isAdmin) email else currentGroup\n})\n</code></pre>\n\n<p>I also tried to log the second parameter and got this output:\n<code>Function0&lt;java.lang.String&gt;</code></p>\n"}, {"tags": ["for-loop", "variables", "kotlin"], "comments": [{"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1545225905, "post_id": 53852113, "comment_id": 94551693, "body": "I dont want a nested for-loop, no"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1545226177, "post_id": 53852113, "comment_id": 94551828, "body": "do you want something like: <code>for(x in 0..2) { for (y in 3..6) { } }</code>? or something like: <code>x=0, y=3</code> followed by <code>x=1, y=4</code>? If the latter: how should that behave if the indices do not match? (e.g. if (0..2).count() and (3..6).count() doesn&#39;t match)"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1545226440, "post_id": 53852113, "comment_id": 94552006, "body": "@Roland posibly the OP wants  something like Java&#39;s <code>for(i=0,j=0;i&lt;x &amp;&amp; j&lt;x;i++,j++)</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1545227330, "post_id": 53852113, "comment_id": 94552560, "body": "@forpas thanks for the hint... I never really required such a construct... and I would rather prefer nested loops to be honest... just copy/pasted that code into Intellij and got the following... &quot;at least&quot; it isn&#39;t nested anymore ;-) <code>val x = 10; var i = 0; var j = 0; while (i &lt; x &amp;&amp; j &lt; x) { i++;j++; &#47;* code *&#47; }</code> (still... I wouldn&#39;t even use that one ;-))"}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1545227385, "post_id": 53852113, "comment_id": 94552590, "body": "@forpas Yes, thats exactly what im looking for, but in kotlin"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1545227511, "post_id": 53852113, "comment_id": 94552663, "body": "@Kris10an just read at the link posted by others. This can&#39;t be done in Kotlin."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1545240083, "post_id": 53852113, "comment_id": 94560353, "body": "Yes, it can be done \u2014 see my comment to the linked question.  You can write <code>for ((x, y) in seqs(0..2, 3..6))</code> if you define a simple seqs() appropriately."}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "closed_date": 1545230952, "answer_count": 0, "score": 0, "last_activity_date": 1545227470, "creation_date": 1545225573, "last_edit_date": 1545227470, "question_id": 53852113, "link": "https://stackoverflow.com/questions/53852113/multiple-variables-in-for-loop-kotlin", "closed_reason": "Duplicate", "title": "Multiple variables in for loop, kotlin", "body": "<p>Is it possible to make a for loop in kotlin with more than one variable? I'm looking for something simular to this:</p>\n\n<pre><code>for(x in 0..2, y in 3..6)\n</code></pre>\n\n<p>Is this possible in kotlin?</p>\n\n<p>In java you could just do this:</p>\n\n<pre><code>for(x=0, y=3; x&lt;=2 &amp;&amp; y&lt;= 6; x++, y++) \n</code></pre>\n"}, {"tags": ["java", "kotlin", "itext"], "comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224105, "post_id": 53851668, "comment_id": 94550690, "body": "You add <code>glue</code> (<code>VerticalPositionMark</code>) inbetween each line, is this not what&#39;s creating the space you&#39;re seeing?"}, {"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224167, "post_id": 53851668, "comment_id": 94550725, "body": "The glue is for aligning it to the rightmost side I thought?"}, {"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224247, "post_id": 53851668, "comment_id": 94550784, "body": "From <a href=\"https://coderanch.com/how-to/javadoc/itext-2.1.7/com/lowagie/text/pdf/draw/VerticalPositionMark.html\" rel=\"nofollow noreferrer\">VerticalPositionMark</a>: &quot;<i>Can be used to add horizontal or vertical separators. Won&#39;t draw anything unless you implement the draw method.</i>&quot;, so I think you&#39;re creating horizonal seperators? Not sure though, what happens if you remove it?"}, {"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224520, "post_id": 53851668, "comment_id": 94550950, "body": "Removing the glue only changes the position back to the left side of the page, it doesn&#39;t change the spacing unfortunately."}, {"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224888, "post_id": 53851668, "comment_id": 94551143, "body": "If you remove the <code>add(&quot;\\n&quot;)</code> part it&#39;s not fixed either? <code>add</code> with <code>String</code> as argument to a <code>Paragraph</code> creates a <code>Chunk</code> wrapper internally which might already include a new line or padding"}, {"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1545224990, "post_id": 53851668, "comment_id": 94551206, "body": "If I remove the add(&quot;\\n&quot;) I get this (see post edit)"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "edited": false, "score": 0, "creation_date": 1545225697, "post_id": 53852083, "comment_id": 94551560, "body": "Thanks, yeah I know I should use the most recent version, but this is just a version I had laying around as I wanted to mess about a little bit, appreciate the help a lot! Tables are a crutch indeed, but they are really useful, but I agree I should stop using them."}], "tags": [], "owner": {"reputation": 7432, "user_id": 6074376, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/y0n8W.jpg?s=128&g=1", "display_name": "Joris Schellekens", "link": "https://stackoverflow.com/users/6074376/joris-schellekens"}, "is_accepted": true, "score": 4, "last_activity_date": 1545225482, "creation_date": 1545225482, "answer_id": 53852083, "question_id": 53851668, "link": "https://stackoverflow.com/questions/53851668/using-itext-how-do-i-change-the-distance-between-new-lines/53852083#53852083", "title": "Using iText how do I change the distance between new lines?", "body": "<p>Full disclosure: former iText employee here</p>\n\n<p>This is how I would do it:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    // create a temp file to hold the output\n    File outputFile = File.createTempFile(\"stackoverflow\",\".pdf\");\n\n    PdfDocument pdfDocument =  new PdfDocument(new PdfWriter(outputFile));\n    Document layoutDocument = new Document(pdfDocument);\n\n    String[] lines = {\"Hi\",\"StackOverflow\",\"I'd like\",\"this\",\"text\",\"to\",\"be\",\"closer\",\"together!\"};\n    for(String line : lines){\n        layoutDocument.add(new Paragraph(line)\n                .setMultipliedLeading(0.5f));   // this is where the magic happens\n    }\n\n    layoutDocument.close();\n    pdfDocument.close();\n\n    // display the temp file with the default PDF viewer\n    Desktop.getDesktop().open(outputFile);\n}\n</code></pre>\n\n<p>I changed a couple of things:</p>\n\n<ul>\n<li>Use the latest version of iText whenever possible. You want to benefit from several years of bugfixes and a newer architecture.</li>\n<li>Do not use tables to solve layout issues.</li>\n<li>Use leading (either MultipliedLeading or FixedLeading) on Paragraph objects to fix your issue.</li>\n</ul>\n"}], "owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53852083, "answer_count": 1, "score": 0, "last_activity_date": 1545225482, "creation_date": 1545223902, "last_edit_date": 1545225044, "question_id": 53851668, "link": "https://stackoverflow.com/questions/53851668/using-itext-how-do-i-change-the-distance-between-new-lines", "title": "Using iText how do I change the distance between new lines?", "body": "<p>I'm messing around with itext, and I was changing the fontsize and as a result I end up with some weirdly spaced text in my pdf:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WzWZs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WzWZs.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which I'd like to turn into something like this: (Excuse the poor image editing)</p>\n\n<p><a href=\"https://i.stack.imgur.com/UQv7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQv7N.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the code I use to enter the text:</p>\n\n<pre><code>private fun setBaseInfo(info: ArrayList&lt;String&gt;): PdfPCell\n{\n    val cell = PdfPCell()\n\n    val glue = Chunk(VerticalPositionMark())\n    val p = Paragraph()\n    p.font.size = 8.0f\n\n    for (str in info)\n    {\n        p.add(glue)\n        p.add(str)\n        p.add(\"\\n\")\n    }\n\n    cell.border = Rectangle.NO_BORDER\n    cell.addElement(p)\n\n    return cell\n}\n</code></pre>\n\n<p>And this is the info I feed it:</p>\n\n<pre><code>private fun foo(): ArrayList&lt;String&gt;\n{\n    val array = ArrayList&lt;String&gt;()\n    array.add(\"Hi\")\n    array.add(\"StackOverflow\")\n    array.add(\"I'd Like\")\n    array.add(\"This\")\n    array.add(\"text\")\n    array.add(\"to be closer\")\n    array.add(\"together!\")\n    return array\n} \n</code></pre>\n\n<p>When removing <code>p.add(\"\\n\")</code> this is the output:\n<a href=\"https://i.stack.imgur.com/DSkLK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSkLK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 952, "user_id": 1687935, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/gmwrt.jpg?s=128&g=1", "display_name": "Rentius2407", "link": "https://stackoverflow.com/users/1687935/rentius2407"}, "edited": false, "score": 0, "creation_date": 1545223990, "post_id": 53851533, "comment_id": 94550616, "body": "Not sure if this fits your scenario, but have you had a look at custom auto-configuration and property conditions?"}, {"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "reply_to_user": {"reputation": 952, "user_id": 1687935, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/gmwrt.jpg?s=128&g=1", "display_name": "Rentius2407", "link": "https://stackoverflow.com/users/1687935/rentius2407"}, "edited": false, "score": 0, "creation_date": 1545224369, "post_id": 53851533, "comment_id": 94550867, "body": "I don&#39;t think that will work for my scenario. In my scenario, you may be creating multiple instances of the same class, and the bean names themselves are dynamically set in the properties as well. I don&#39;t see a way to accomplish that with the normal auto-configure route."}, {"owner": {"reputation": 831, "user_id": 2751285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9iiVg.jpg?s=128&g=1", "display_name": "BrentR", "link": "https://stackoverflow.com/users/2751285/brentr"}, "edited": false, "score": 0, "creation_date": 1545230640, "post_id": 53851533, "comment_id": 94554537, "body": "When you say &#39;auto-create&#39; beans, to me that sound like you are talking about prototype beans."}, {"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "edited": false, "score": 0, "creation_date": 1545232969, "post_id": 53851533, "comment_id": 94555992, "body": "This is for a testing framework where it can auto-create dockerize (and other) dependencies based on configuration (think of something like docker compose, but more advanced). They are fully formed and running, but there are a variable number of them that need to be named specifically by the user to be able to access them easily."}], "answers": [{"comments": [{"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "edited": false, "score": 1, "creation_date": 1545275083, "post_id": 53856612, "comment_id": 94571777, "body": "Thanks. I&#39;ve been hunting for how Spring does that for a while now. I&#39;ll give it a try and let you know. I think that&#39;ll probably do the trick."}, {"owner": {"reputation": 5711, "user_id": 389204, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/61e779356107a8e9cabf1a71e8196914?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/389204/chris"}, "edited": false, "score": 0, "creation_date": 1563808330, "post_id": 53856612, "comment_id": 100813328, "body": "@Andy Wilkinson Is there any way I can get a Bean from ConfigurableListableBeanFactory with all dependencies injected. I am trying to get <code>RestTemplateBuilder </code>, but some exception happened since &#39;No default constructor found&#39; for RestTemplateAutoConfiguration."}], "tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": false, "score": 8, "last_activity_date": 1545293457, "last_edit_date": 1545293457, "creation_date": 1545241390, "answer_id": 53856612, "question_id": 53851533, "link": "https://stackoverflow.com/questions/53851533/access-properties-in-beanfactorypostprocessor/53856612#53856612", "title": "Access properties in BeanFactoryPostProcessor", "body": "<p>If you want to access properties in a type-safe manner in a <code>BeanFactoryPostProcessor</code> you'll need to bind them from the <code>Environment</code> yourself using the <code>Binder</code> API. This is essentially what Boot itself does to support <code>@ConfigurationProperties</code> beans.</p>\n\n<p>Your <code>BeanFactoryPostProcessor</code> would look something like this:</p>\n\n<pre><code>@Bean\npublic static BeanFactoryPostProcessor beanFactoryPostProcessor(\n        Environment environment) {\n    return new BeanFactoryPostProcessor() {\n\n        @Override\n        public void postProcessBeanFactory(\n                ConfigurableListableBeanFactory beanFactory) throws BeansException {\n            BindResult&lt;ExampleProperties&gt; result = Binder.get(environment)\n                    .bind(\"com.example.prefix\", ExampleProperties.class);\n            ExampleProperties properties = result.get();\n            // Use the properties to post-process the bean factory as needed\n        }\n\n    };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3737826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510eeaf7b637f3606d47272fafd467cc?s=128&d=identicon&r=PG", "display_name": "serac", "link": "https://stackoverflow.com/users/3737826/serac"}, "is_accepted": false, "score": 1, "last_activity_date": 1610663325, "creation_date": 1610663325, "answer_id": 65727823, "question_id": 53851533, "link": "https://stackoverflow.com/questions/53851533/access-properties-in-beanfactorypostprocessor/65727823#65727823", "title": "Access properties in BeanFactoryPostProcessor", "body": "<p>I didn't want to use the solution above that used an <code>@Bean</code> producer method since it's contrary to the recommended approach of annotating a class with <code>@Component</code> and picking up via component scanning. Fortunately it's straightforward to do that by implementing <code>EnvironmentAware</code>:</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class ConditionalDependencyPostProcessor implements BeanFactoryPostProcessor, EnvironmentAware {\n  /** Logger instance. */\n  private final Logger logger = LoggerFactory.getLogger(ConditionalDependencyPostProcessor.class);\n\n  /** Spring environment. */\n  private Environment environment;\n\n\n  @Override\n  public void setEnvironment(final Environment env) {\n    environment = env;\n  }\n  ...\n  private boolean hasRequiredProfiles(final DependencyInfo info) {\n    final Set&lt;String&gt; activeProfiles = new HashSet&lt;&gt;(Arrays.asList(environment.getActiveProfiles()));\n    for (String profile : info.requiredProfiles) {\n      if (!activeProfiles.contains(profile)) {\n        return false;\n      }\n    }\n    return true;\n  }\n</code></pre>\n<p>I should note what did NOT work: trying to autowire an <code>Environment</code> constructor argument. BeanFactoryPostProcessors require a no-argument constructor and don't support autowiring, which is itself a feature implemented by another post processor, AutowiredAnnotationBeanPostProcessor.</p>\n"}], "owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1610663325, "creation_date": 1545223410, "question_id": 53851533, "link": "https://stackoverflow.com/questions/53851533/access-properties-in-beanfactorypostprocessor", "title": "Access properties in BeanFactoryPostProcessor", "body": "<p>I am trying to create something which will auto-create beans based on configurable properties (from <code>application.yml</code> and the like).</p>\n\n<p>Since I can't just access the properties component like I normally would in the <code>BeanFactoryPostProcessor</code>, I'm kind of stumped how I can access them.</p>\n\n<p>How can I access application properties in <code>BeanFactoryPostProcessor</code>?</p>\n"}, {"tags": ["android", "unit-testing", "junit", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 4155971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ec24a2168a157e773f5f6e18bec10?s=128&d=identicon&r=PG&f=1", "display_name": "Suneesh Ambatt", "link": "https://stackoverflow.com/users/4155971/suneesh-ambatt"}, "is_accepted": true, "score": 0, "last_activity_date": 1545309763, "creation_date": 1545309763, "answer_id": 53868967, "question_id": 53851456, "link": "https://stackoverflow.com/questions/53851456/unit-testing-with-the-input-and-output-validation/53868967#53868967", "title": "unit testing with the input and output validation", "body": "<p>The crash is occurring at the line </p>\n\n<pre><code>uri.moduleName\n</code></pre>\n\n<p>ie: The path segments (uri.patheSegments) are empty while creating a Uri object from test class.</p>\n\n<p>The solution is to run the Test Class with RoboElectricTestRunner.</p>\n\n<p>That is the test class should look like this:</p>\n\n<pre><code>@Config(constants = BuildConfig::class)\n@RunWith(RobolectricTestRunner::class)\nclass UriInterceptPresenterTest {\n\n //-----Test cases-----\n\n}\n</code></pre>\n"}], "owner": {"reputation": 795, "user_id": 4155971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f9ec24a2168a157e773f5f6e18bec10?s=128&d=identicon&r=PG&f=1", "display_name": "Suneesh Ambatt", "link": "https://stackoverflow.com/users/4155971/suneesh-ambatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 53868967, "answer_count": 1, "score": 1, "last_activity_date": 1545309763, "creation_date": 1545223089, "last_edit_date": 1545309495, "question_id": 53851456, "link": "https://stackoverflow.com/questions/53851456/unit-testing-with-the-input-and-output-validation", "title": "unit testing with the input and output validation", "body": "<p>I am completely new to Unit Testing in Android. I want to write the unit test for a method in my presenter class. </p>\n\n<p><strong>Sharing the methods need to be covered with unit test</strong> </p>\n\n<pre><code> override fun getRequiredUri(uri: Uri): Uri {\n    val moduleName = uri.moduleName\n    return when (moduleName) {\n        \"sample\" -&gt; getStandardUriFromSampleUri(uri)\n        \"application\" -&gt; getStandardAppLaunchUri(uri)\n        else -&gt; {\n            return uri\n        }\n    }\n}\n\nprivate fun getStandardUriFromSampleUri(uri: Uri): Uri {\n    var stringUrl = uri.toString()\n    stringUrl = stringUrl.replaceFirst(\"/sample\", \"\")\n    var standardUri = Uri.parse(stringUrl)\n    val moduleName = uri.moduleName\n    if(moduleName == \"application\"){\n        standardUri = getStandardAppLaunchUri(uri)\n    }\n    return standardUri\n}\n\nprivate fun getStandardAppLaunchUri(uri: Uri): Uri {\n    var stringUrl = uri.toString()\n    stringUrl = stringUrl.replaceFirst(\"application\", \"link/application\")\n    return  Uri.parse(stringUrl)\n}\n</code></pre>\n\n<p><strong>I am sharing my test class that I have tried to implement:</strong> </p>\n\n<pre><code>class PresenterTest {\n\n   lateinit var presenter: Presenter\n   @Mock\n   lateinit var mockActivity: Activity\n   @Mock\n   lateinit var mockUri: Uri\n\n   @Before\n   fun setUp() {\n       MockitoAnnotations.initMocks(this)\n       presenter = Presenter()\n       presenter.view = mockActivity\n   }\n\n   @Test\n   fun shouldGenerateStandardUriFromNewUri() {\n       val input = Uri.parse(\"https://example.org/sample/account/edit\")\n       val expectedOutput = Uri.parse(\"https://example.org/account/edit\")\n       val output = presenter. getRequiredUri(input)\n       assertTrue(output == expectedOutput)\n   }\n\n}\n</code></pre>\n\n<p>This line is getting failed always with class not found an exception. </p>\n\n<pre><code>val output = presenter.getRequiredUri(input)\n</code></pre>\n\n<p>Is this the right way to unit test the method? If yes, please suggest the changes that I need to make. If no, then please suggest the alternative ways.</p>\n"}, {"tags": ["kotlin", "android-workmanager"], "comments": [{"owner": {"reputation": 1, "user_id": 9045823, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X-h2bM06P9I/AAAAAAAAAAI/AAAAAAAAAqM/xF6-IB0PQ4U/photo.jpg?sz=128", "display_name": "Mahmoud Hawas", "link": "https://stackoverflow.com/users/9045823/mahmoud-hawas"}, "edited": false, "score": 0, "creation_date": 1611666140, "post_id": 53850469, "comment_id": 116519159, "body": "i think that question have your answer: <a href=\"https://stackoverflow.com/questions/52422361/how-can-create-workerparameters\" title=\"how can create workerparameters\">stackoverflow.com/questions/52422361/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1545224368, "post_id": 53851690, "comment_id": 94550864, "body": "Thanks for the reply, This is to just start work, but I want to create an instance by passing expected parameters to it and assign value to the <code>lambdaFunction</code> variable"}, {"owner": {"reputation": 138, "user_id": 6723193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e02e224f90b7f3081c1b7c691a3d3480?s=128&d=identicon&r=PG&f=1", "display_name": "Amg91", "link": "https://stackoverflow.com/users/6723193/amg91"}, "edited": false, "score": 0, "creation_date": 1579211942, "post_id": 53851690, "comment_id": 105700932, "body": "Have you read <a href=\"https://stackoverflow.com/a/55888404/6723193\">this</a>?"}, {"owner": {"reputation": 377, "user_id": 7858689, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-UkIilB4ByAc/AAAAAAAAAAI/AAAAAAAAG8k/ZCWbPds0K0E/photo.jpg?sz=128", "display_name": "hassan moradnezhad", "link": "https://stackoverflow.com/users/7858689/hassan-moradnezhad"}, "reply_to_user": {"reputation": 138, "user_id": 6723193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e02e224f90b7f3081c1b7c691a3d3480?s=128&d=identicon&r=PG&f=1", "display_name": "Amg91", "link": "https://stackoverflow.com/users/6723193/amg91"}, "edited": false, "score": 0, "creation_date": 1584884930, "post_id": 53851690, "comment_id": 107570783, "body": "@Amg91 it&#39;s just about sending object! what about interface (Unit in Kotlin)? I&#39;m looking for a way to use  one Worker class and use it for all part of my project. Do you have any idea to do that?"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 2, "last_activity_date": 1545223998, "creation_date": 1545223998, "answer_id": 53851690, "question_id": 53850469, "link": "https://stackoverflow.com/questions/53850469/how-to-pass-the-worker-parameters-to-workmanager-class/53851690#53851690", "title": "How to pass the worker parameters to WorkManager class", "body": "<p>It seems we can't create instances of <code>WorkerParameters</code> because it has hidden constructor with annotation <code>@RestrictTo(RestrictTo.Scope.LIBRARY_GROUP)</code>.\nAccording to the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/basics#workflow\" rel=\"nofollow noreferrer\">documentation</a> we don't create instances of <code>Worker</code> subclass, the library does it for us:</p>\n\n<blockquote>\n  <p>First, you would define your <code>Worker</code> class, and override its <code>doWork()</code> method. Your worker class specifies how to perform the operation, but doesn't have any information about when the task should run. Next, you create a <code>OneTimeWorkRequest</code> object based on that <code>Worker</code>, then enqueue the task with <code>WorkManager</code>:</p>\n</blockquote>\n\n<pre><code>val work = OneTimeWorkRequest.Builder(CommonWorkManager::class.java).build()\nWorkManager.getInstance().enqueue(work)\n</code></pre>\n\n<p>We can conclude that we can't create universal <code>Worker</code>, i.e. <code>CommonWorkManager&lt;P, R&gt;</code> in your case. <code>WorkManager</code> is intended for the specific tasks.</p>\n"}], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2089, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1545223998, "creation_date": 1545219590, "question_id": 53850469, "link": "https://stackoverflow.com/questions/53850469/how-to-pass-the-worker-parameters-to-workmanager-class", "title": "How to pass the worker parameters to WorkManager class", "body": "<p>In one of my android(with Kotlin) app I want to use WorkManager class as a generic one.\nThis is my class where I want to use it as generic by passing expected params:</p>\n\n<pre><code>class CommonWorkManager&lt;P, R&gt; (appContext: Context, workerParams: WorkerParameters) : Worker(appContext, workerParams)\n{\n    var lambdaFunction: ((P) -&gt; R)? = null\n\n    override fun doWork(): Result {\n        lambdaFunction\n        return Result.SUCCESS\n    }\n}\n</code></pre>\n\n<p>This is how I am trying to create an instance of this class:</p>\n\n<pre><code>CommonWorkManager&lt;Unit, Unit&gt;(context!!, ).lambdaFunction= {\n    presenter?.fetchMasterData()\n}\n</code></pre>\n\n<p>So How can I pass <code>workerParams</code> as a second param.</p>\n\n<p>Here 'P' is Parameter and 'R' is Return type in <code>CommonWorkManager&lt;P, R&gt;</code></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 5028085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0f5d47f548fd3909297e45ff95a401?s=128&d=identicon&r=PG&f=1", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/5028085/atul-gupta"}, "edited": false, "score": 2, "creation_date": 1560065706, "post_id": 53851238, "comment_id": 99611922, "body": "But in this case, someone using the abstract class may get around the annotation by just writing override <code>val headerId: Int = 5</code> in his implementation of the abstract class"}, {"owner": {"reputation": 286, "user_id": 6720177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b2c8bfcc336f8aa62a97ecd3492b5b?s=128&d=identicon&r=PG&f=1", "display_name": "or_dvir", "link": "https://stackoverflow.com/users/6720177/or-dvir"}, "edited": false, "score": 1, "creation_date": 1590397302, "post_id": 53851238, "comment_id": 109654475, "body": "i just ran into this post with basically the same problem (except my val is in an interface) and came to the same solution, but it doesnt really work. in classes that implement my interface and override this val, the annotation is not taken into account and i can pass any int"}], "tags": [], "owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "is_accepted": true, "score": 24, "last_activity_date": 1559817532, "last_edit_date": 1559817532, "creation_date": 1545222357, "answer_id": 53851238, "question_id": 53849409, "link": "https://stackoverflow.com/questions/53849409/abstract-val-with-annotation-in-kotlin-android/53851238#53851238", "title": "Abstract val with annotation in kotlin android", "body": "<p>Since abstract <code>val</code> or <code>var</code> is just a function without a backing field it cannot be annotated by <code>IdRes</code> annotation but there is a workaround. You can use it like this:</p>\n\n<pre><code>@get:IdRes\nabstract val headerId: Int\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Why does this works? We need to closer inspect <code>IdRes</code> annotation and its source code:</p>\n\n<pre><code>@Documented\n@Retention(CLASS)\n@Target({METHOD, PARAMETER, FIELD, LOCAL_VARIABLE})\npublic @interface IdRes {\n}\n</code></pre>\n\n<p>As we can see this annotation can be used on methods, parameters, fields and local variables. When we use <code>abstract val</code> it's neither of those since it is abstract and we cannot have abstract fields in Java. Normally equivalent of <code>abstract val something: Int</code> in Java is:</p>\n\n<pre><code>private int something\n\npublic int getSomething() {\n    return something;\n}\n</code></pre>\n\n<p>From example, it's easy to see that the private field is what is called backing field of a property and you can't have those as abstract so that was the problem.</p>\n"}], "owner": {"reputation": 2299, "user_id": 1596308, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JxwHy.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/1596308/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2409, "favorite_count": 0, "accepted_answer_id": 53851238, "answer_count": 1, "score": 16, "last_activity_date": 1559817532, "creation_date": 1545215860, "question_id": 53849409, "link": "https://stackoverflow.com/questions/53849409/abstract-val-with-annotation-in-kotlin-android", "title": "Abstract val with annotation in kotlin android", "body": "<p>Can I write:</p>\n\n<pre><code>@IdRes\nabstract fun getHeaderId(): Int\n</code></pre>\n\n<p>With a <code>val</code> instead of a <code>fun</code> in kotlin? It complains I need a backing field or delegate when i write:</p>\n\n<pre><code>@IdRes &lt;-- errors\nabstract val headerId: Int\n</code></pre>\n\n<p>Which is the most idiomatic in this case? One-liner with a <code>fun</code> or mess around with a backing field (I'm not used to backing fields, maybe it's change-resistance, i have never really used them so i think they are unpleasant)</p>\n"}, {"tags": ["android", "junit", "kotlin", "nfc", "ndef"], "comments": [{"owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "edited": false, "score": 0, "creation_date": 1545218636, "post_id": 53848984, "comment_id": 94547814, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36870800/using-android-sdk-classes-in-unit-tests\" title=\"using android sdk classes in unit tests\">stackoverflow.com/questions/36870800/&hellip;</a>"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1545629521, "creation_date": 1545214437, "last_edit_date": 1545629521, "question_id": 53848984, "link": "https://stackoverflow.com/questions/53848984/how-to-mock-creation-of-ndefmessage-in-junit-test-for-android", "title": "How to mock creation of NdefMessage in JUnit test for Android", "body": "<p>In my code I am creating NdefMessage from bytes, which gives me ability to parse the payload from one of its record.</p>\n\n<p>Unfortunately, when I am writing Junit tests for that parser I am getting an exception as I invoking:</p>\n\n<pre><code>NdefMessage(bytesToParse)\n</code></pre>\n\n<p>So then I am searching for specific payload to return by that parser:</p>\n\n<pre><code>ndefMessage.records.forEach {\n    if (it.type?.contentEquals(hexStringToByteArray(\"617376\")) == true)\n    {\n        return String(it.payload)\n    }\n\n}\n</code></pre>\n\n<p>Unfortunately, I am getting this error in my JUnit test:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Method getRecords in android.nfc.NdefMessage not mocked. See <a href=\"http://g.co/androidstudio/not-mocked\" rel=\"nofollow noreferrer\">http://g.co/androidstudio/not-mocked</a> for details.</p>\n</blockquote>\n\n<p>Is it possible to create some substitute from NdefMessage (for just using it to have NdefMessage object structure and ability to get to the payload)?\nOr just mock the NdefMessage somehow in JUnit?</p>\n"}, {"tags": ["android", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 1, "creation_date": 1545212727, "post_id": 53848381, "comment_id": 94544441, "body": "from java to kotlin convert use this <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/Examples/Hello,%20world!/&hellip;</a>"}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1545212777, "post_id": 53848381, "comment_id": 94544476, "body": "you can use here default constructor like  FavouritesViewModel constructor(application:Application):AndroidViewModel(applic&zwnj;&#8203;ation)"}, {"owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "reply_to_user": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 1, "creation_date": 1545213001, "post_id": 53848381, "comment_id": 94544612, "body": "Thanks @Shweta, got the answer I am extending ViewModel instead of AndroidViewModel"}], "answers": [{"tags": [], "owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "is_accepted": true, "score": 0, "last_activity_date": 1545231202, "last_edit_date": 1545231202, "creation_date": 1545213428, "answer_id": 53848681, "question_id": 53848381, "link": "https://stackoverflow.com/questions/53848381/call-super-in-constructor-of-viewmodel-instance-class-kotlin/53848681#53848681", "title": "call super in constructor of ViewModel instance class : Kotlin", "body": "<pre><code>public class FavoritesDataViewModel:AndroidViewModel{\n    private lateinit var mFavHelper: DatabaseHelper\n    private lateinit var mfav:ArrayList&lt;Favorites&gt;\n\n    public constructor(application: Application): super(application){\n        mFavHelper = DatabaseHelper(application)\n    }\n}\n</code></pre>\n\n<p>this solved my issue, I am using <code>AndroidViewModel</code> instead of <code>ViewModel</code></p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 5651695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae7596ba6f968f1506d5614cc008004?s=128&d=identicon&r=PG&f=1", "display_name": "Guru Karthi R", "link": "https://stackoverflow.com/users/5651695/guru-karthi-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1545214569, "creation_date": 1545214569, "answer_id": 53849027, "question_id": 53848381, "link": "https://stackoverflow.com/questions/53848381/call-super-in-constructor-of-viewmodel-instance-class-kotlin/53849027#53849027", "title": "call super in constructor of ViewModel instance class : Kotlin", "body": "<pre><code>public class FavoritesDataViewModel(application: Application):AndroidViewModel(application){\n    private var mFavHelper: DatabaseHelper\n    private lateinit var mfav:ArrayList&lt;Favorites&gt;\n    init{\n       mFavHelper = DatabaseHelper(getApplication&lt;Application&gt;())\n    }\n\n    public constructor(application: Application): super(application){\n        mFavHelper = DatabaseHelper(application)\n    }\n}\n</code></pre>\n\n<p>This will help you calling super call to pass arguments and safer to access application instance for viewModel purpose. And help you to avoid latinit properties as well.</p>\n"}], "owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 53848681, "answer_count": 2, "score": 0, "last_activity_date": 1545231231, "creation_date": 1545212487, "last_edit_date": 1545231231, "question_id": 53848381, "link": "https://stackoverflow.com/questions/53848381/call-super-in-constructor-of-viewmodel-instance-class-kotlin", "title": "call super in constructor of ViewModel instance class : Kotlin", "body": "<p>I am new to Kotlin.\nHere is is my java code I wanted to convert it in kotlin</p>\n\n<pre><code>public class FavouritesViewModel extends AndroidViewModel {\n\n    private FavouritesDBHelper mFavHelper;\n    private ArrayList&lt;Favourites&gt; mFavs;\n\n    FavouritesViewModel(Application application) {\n        super(application);\n        mFavHelper = new FavouritesDBHelper(application);\n    }\n}\n</code></pre>\n\n<p>but I am getting compile time errors at constructor</p>\n\n<p>code what I tried:</p>\n\n<pre><code>public class FavoritesDataViewModel:ViewModel{\n    private lateinit var mFavHelper: DatabaseHelper\n    private lateinit var mfav:ArrayList&lt;Favorites&gt;\n\n    public constructor(application: Application): super(application){\n        mFavHelper = DatabaseHelper(application)\n    }\n}\n</code></pre>\n\n<p>getting error at <code>super(application)</code></p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "decimalformat"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545228271, "post_id": 53848189, "comment_id": 94553144, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8065114/how-to-print-a-double-with-two-decimals-in-android\">How to print a double with two decimals in Android?</a>"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545228287, "post_id": 53848189, "comment_id": 94553155, "body": "<a href=\"https://stackoverflow.com/a/8065163/603270\">stackoverflow.com/a/8065163/603270</a>"}], "answers": [{"tags": [], "owner": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "is_accepted": false, "score": 0, "last_activity_date": 1545214749, "creation_date": 1545214749, "answer_id": 53849088, "question_id": 53848189, "link": "https://stackoverflow.com/questions/53848189/format-number-using-decimal-format-in-kotlin/53849088#53849088", "title": "Format number using decimal format in kotlin", "body": "<p>Try <code>val dec = DecimalFormat(\"#.###,00\")</code>. For examples of DecimalFormat check this <a href=\"http://tutorials.jenkov.com/java-internationalization/decimalformat.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5592, "user_id": 3595288, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LpxJj.jpg?s=128&g=1", "display_name": "Choletski", "link": "https://stackoverflow.com/users/3595288/choletski"}, "edited": false, "score": 3, "creation_date": 1576699310, "post_id": 53849093, "comment_id": 104987600, "body": "0 will be printed as .00 instead of 0.00. Just use <code>String.format(&quot;%.2f&quot;, number)</code>"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 5592, "user_id": 3595288, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LpxJj.jpg?s=128&g=1", "display_name": "Choletski", "link": "https://stackoverflow.com/users/3595288/choletski"}, "edited": false, "score": 0, "creation_date": 1576699911, "post_id": 53849093, "comment_id": 104987836, "body": "@Choletski <code>0</code> will be printed as <code>0</code>. The question is not about formatting fixed decimal places but about formatting a number like <code>5385,45</code> to <code>5.385,45</code>, meaning about the thousands separator."}, {"owner": {"reputation": 101, "user_id": 11525231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed257ebb9af9b4ca70e8819171ad0361?s=128&d=identicon&r=PG&f=1", "display_name": "Togashi", "link": "https://stackoverflow.com/users/11525231/togashi"}, "edited": false, "score": 4, "creation_date": 1600257953, "post_id": 53849093, "comment_id": 113029759, "body": "If you need <code>0</code> to be printed as <code>0.00</code>, you can use <code>DecimalFormat(&quot;#,##0.00&quot;)</code>."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 26, "last_activity_date": 1545214757, "creation_date": 1545214757, "answer_id": 53849093, "question_id": 53848189, "link": "https://stackoverflow.com/questions/53848189/format-number-using-decimal-format-in-kotlin/53849093#53849093", "title": "Format number using decimal format in kotlin", "body": "<p>This is the format you need:</p>\n\n<pre><code>val dec = DecimalFormat(\"#,###.##\")\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>5.384,45\n</code></pre>\n\n<p>if you need always exactly 2 digits after the decimal point:</p>\n\n<pre><code>val dec = DecimalFormat(\"#,###.00\") \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 1275796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00c406979d5ac35d3387e7fb0f741e3?s=128&d=identicon&r=PG", "display_name": "Karim", "link": "https://stackoverflow.com/users/1275796/karim"}, "is_accepted": false, "score": 12, "last_activity_date": 1545215120, "creation_date": 1545215120, "answer_id": 53849194, "question_id": 53848189, "link": "https://stackoverflow.com/questions/53848189/format-number-using-decimal-format-in-kotlin/53849194#53849194", "title": "Format number using decimal format in kotlin", "body": "<pre><code>val num = 1.34567\nval df = DecimalFormat(\"#.##\")\ndf.roundingMode = RoundingMode.CEILING\n\nprintln(df.format(num))\n</code></pre>\n\n<p>When you run the program, the output will be:\n1.34</p>\n\n<p>Check:\n<a href=\"https://www.programiz.com/kotlin-programming/examples/round-number-decimal\" rel=\"noreferrer\">https://www.programiz.com/kotlin-programming/examples/round-number-decimal</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14021636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b26863cf0d736ed39a1bb78684aeb0?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni Rizzardo", "link": "https://stackoverflow.com/users/14021636/giovanni-rizzardo"}, "is_accepted": false, "score": 2, "last_activity_date": 1596261709, "last_edit_date": 1596261709, "creation_date": 1596229189, "answer_id": 63199030, "question_id": 53848189, "link": "https://stackoverflow.com/questions/53848189/format-number-using-decimal-format-in-kotlin/63199030#63199030", "title": "Format number using decimal format in kotlin", "body": "<p>Used:</p>\n<pre><code>%.numberf\n\nfun main(args: Array&lt;String&gt;) {\nvar A: Double\nA = readLine()!!.toDouble()\nvar bla = A*A\nvar calculator = 3.14159 * bla\nprintln(&quot;A=%.4f&quot;.format(calculator))\n}\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 10778725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a11510a77e8ebeb72867ee941142eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/10778725/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33396, "favorite_count": 1, "accepted_answer_id": 53849093, "answer_count": 4, "score": 18, "last_activity_date": 1596261709, "creation_date": 1545211839, "question_id": 53848189, "link": "https://stackoverflow.com/questions/53848189/format-number-using-decimal-format-in-kotlin", "title": "Format number using decimal format in kotlin", "body": "<p>I am facing an issue where I need to do some calculations with a number like for example <strong>5000,00</strong> multiplied it by (<strong>1,025^3</strong>).</p>\n\n<p>So in this case <code>5000,00 * (1,025^3) = 5385,45</code></p>\n\n<p>So my question is, how can I format the number 5385,45 to be like <strong>5.385,45</strong> using decimal format maybe?</p>\n\n<p>I tried by myself and I did this piece of code that outputs 5385,45 in the app but not <strong>5.385,45</strong></p>\n\n<pre><code>    var interestValue = (5000,00*(Math.pow(1.025,yearValue)))\n    val number = java.lang.Double.valueOf(interestValue)\n    val dec = DecimalFormat(\"#,00\")\n    val credits = dec.format(number)\n    vValueInterest.text = credits\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "multi-module"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1545211811, "post_id": 53848004, "comment_id": 94543867, "body": "In what way is it not enough?"}], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "edited": false, "score": 0, "creation_date": 1545233400, "post_id": 53849392, "comment_id": 94556306, "body": "Use <code>api</code> instead of <code>compile</code> since <code>compile</code> is deprecated."}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "edited": false, "score": 0, "creation_date": 1545254256, "post_id": 53849392, "comment_id": 94566378, "body": "So I should use replace <code>java</code> plugin with <code>java-library</code>, and everything will work with <code>api</code>?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1545215818, "creation_date": 1545215818, "answer_id": 53849392, "question_id": 53848004, "link": "https://stackoverflow.com/questions/53848004/pack-a-multi-module-gradle-library-into-a-single-module/53849392#53849392", "title": "Pack a multi-module Gradle library into a single module", "body": "<p>Yes it's possible and close to what you supposed it to look like.</p>\n\n<p>Add a separate subproject, say, <code>:pancakes-simple</code> and configure its publishing as you did for your normal modules.</p>\n\n<p>Then just add the dependencies that you want it to expose. If you are not using the <code>java-library</code> plugin, use the <code>compile</code> configuration:</p>\n\n<pre><code>project(\":pancakes-simple\") {\n    dependencies {\n        compile(\":pancakes-core\")\n        compile(\":pancakes-addon1\")\n        ...\n        compile(\":pancakes-addonN\")\n    }\n}\n</code></pre>\n\n<p>Unlike <code>implementation</code> dependencies, these will be available on the consumer's compile classpath if they add a dependency on the <code>pancakes-simple</code> module.</p>\n\n<p>With the <code>java-library</code> plugin, <code>api</code> dependencies should also work</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 4576242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1241036856/picture?type=large", "display_name": "Kostas Raptis", "link": "https://stackoverflow.com/users/4576242/kostas-raptis"}, "edited": false, "score": 1, "creation_date": 1612528424, "post_id": 53873525, "comment_id": 116801548, "body": "Hello @Anton3 , I followed your suggestion and you were right, I achieved to combine 3 of my modules and publish the combined module, to my Mavenlocal repo as one. But as I saw (correct me if I am wrong), I have to install (publish) to my MavenLocal repo (in my case) all other 3 modules in order to be able to use the combined one, successfully as a dependency in another project."}], "tags": [], "owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "is_accepted": true, "score": 1, "last_activity_date": 1545327222, "creation_date": 1545327222, "answer_id": 53873525, "question_id": 53848004, "link": "https://stackoverflow.com/questions/53848004/pack-a-multi-module-gradle-library-into-a-single-module/53873525#53873525", "title": "Pack a multi-module Gradle library into a single module", "body": "<p><code>java-library</code> Gradle plugin is required for <code>api</code> dependencies to be forwarded from the current module. So that's how to pack all the modules into a single one:</p>\n\n<ol>\n<li>Add <code>java-library</code> plugin (and remove <code>java</code>) in all modules of the library</li>\n<li>Create a module like my <code>:pancakes-simple</code> that <code>api</code>-depends on all the other modules</li>\n</ol>\n"}], "owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 3, "accepted_answer_id": 53873525, "answer_count": 2, "score": 5, "last_activity_date": 1545327222, "creation_date": 1545211128, "last_edit_date": 1545254129, "question_id": 53848004, "link": "https://stackoverflow.com/questions/53848004/pack-a-multi-module-gradle-library-into-a-single-module", "title": "Pack a multi-module Gradle library into a single module", "body": "<p>I've split my <code>pancakes</code> Gradle-based library written in Kotlin into multiple modules: <code>pancakes-core</code>, <code>pancakes-addon1</code>, ..., <code>pancakes-addonN</code>. The <code>addon</code> ones include the <code>core</code> one.</p>\n\n<p>Now, most users shouldn't care and will just want the default configuration with all the dependencies included. But they will have to write boilerplate:</p>\n\n<pre><code>dependencies {\n    implementation(\"pancakes:pancakes-core\")\n    implementation(\"pancakes:pancakes-addon1\")\n    ...\n    implementation(\"pancakes:pancakes-addonN\")\n}\n</code></pre>\n\n<p>This is a no-go for me. I'll probably have to merge all the modules, although I've just spent some time to branch off some replaceable features into their own modules.</p>\n\n<p>Unless! There is a way to write something like the following:</p>\n\n<pre><code>project(\":pancakes-simple\") {\n    dependencies {\n        autoForwardedApi(\":pancakes-core\")\n        autoForwardedApi(\":pancakes-addon1\")\n        ...\n        autoForwardedApi(\":pancakes-addonN\")\n    }\n}\n</code></pre>\n\n<p>Unfortunately, <code>api</code> is not enough.</p>\n"}, {"tags": ["kotlin", "mockk"], "comments": [{"owner": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 0, "creation_date": 1545211122, "post_id": 53847603, "comment_id": 94543470, "body": "I&#39;d reconsider the 3rd party code you are using. either it is not meant to be used as a library, so you are wrong in using it anyway, or it&#39;s just crap since no library should <b>ever</b> terminate the process, they should let that decision to the user code.."}, {"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "reply_to_user": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 0, "creation_date": 1545216990, "post_id": 53847603, "comment_id": 94546952, "body": "@GiacomoAlzetta I agree about the 3rd party library, It definitely shouldn&#39;t be doing that. However the question is intriguing."}, {"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1545216993, "post_id": 53847603, "comment_id": 94546957, "body": "@tchick could you post your attempts to stub the function?"}, {"owner": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 0, "creation_date": 1545220220, "post_id": 53847603, "comment_id": 94548610, "body": "please share the name of a third party code/library if it&#39;s public. And some code that calls somethind, that calls exit. Then it will be more clear how it can be done."}, {"owner": {"reputation": 317, "user_id": 5138379, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/90343211f7b357551977ddd7c9abd1fc?s=128&d=identicon&r=PG&f=1", "display_name": "tchick", "link": "https://stackoverflow.com/users/5138379/tchick"}, "edited": false, "score": 0, "creation_date": 1545316709, "post_id": 53847603, "comment_id": 94588617, "body": "I edited the posting to provide some further information about the 3rd party lib, the test setup and some more experiments."}, {"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1545389648, "post_id": 53847603, "comment_id": 94613492, "body": "Thanks for the additional information. You are right that this is a rare case where maybe it is ok. Have you tried PowerMock to mock static <code>System.exit()</code>?"}, {"owner": {"reputation": 317, "user_id": 5138379, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/90343211f7b357551977ddd7c9abd1fc?s=128&d=identicon&r=PG&f=1", "display_name": "tchick", "link": "https://stackoverflow.com/users/5138379/tchick"}, "edited": false, "score": 0, "creation_date": 1545434277, "post_id": 53847603, "comment_id": 94630406, "body": "No, I didn&#39;t tried PowerMock, but jmockit, as described, which I like more than PowerMock."}], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1545230962, "last_edit_date": 1545230962, "creation_date": 1545228720, "answer_id": 53853042, "question_id": 53847603, "link": "https://stackoverflow.com/questions/53847603/how-to-mock-calling-kotlin-system-exitprocess/53853042#53853042", "title": "how to mock calling kotlin.system.exitProcess", "body": "<p>I played with this for a while attempting to get it to work but unfortunately it is not possible. There are several difficulties with mocking this function; that it is a Top Level function and that it returns <code>Nothing</code>. Each of these can be overcome, but what makes it impossible is that the function is <strong>inlined</strong>. Inlined kotlin functions do not produce methods in the bytecode, it is as it says on the tin, inlined. The trouble is that Mockk and other mocking libraries use bytecode instructions when mocking. Refer to this <a href=\"https://github.com/mockk/mockk/issues/55\" rel=\"nofollow noreferrer\">issue</a> for more information.</p>\n\n<p>Your best alternative is not to attempt to mock this function at all, but instead mock the call into the third party library you are using. After all, you should not be testing this third party code, only your own code. Better yet, maybe you should seek an alternative library. As has already been stated in the comments, a third party library should not be exiting the process, this should be left up to the client code.</p>\n"}], "owner": {"reputation": 317, "user_id": 5138379, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/90343211f7b357551977ddd7c9abd1fc?s=128&d=identicon&r=PG&f=1", "display_name": "tchick", "link": "https://stackoverflow.com/users/5138379/tchick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545321108, "creation_date": 1545209548, "last_edit_date": 1545321108, "question_id": 53847603, "link": "https://stackoverflow.com/questions/53847603/how-to-mock-calling-kotlin-system-exitprocess", "title": "how to mock calling kotlin.system.exitProcess", "body": "<p>I want to test some code that uses 3rd party code that calls <code>kotlin.system.exitProcess()</code>, defined as follows in the standard lib:</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun exitProcess(status: Int): Nothing {\n    System.exit(status)\n    throw RuntimeException(\"System.exit returned normally, while it was supposed to halt JVM.\")\n}\n</code></pre>\n\n<p>When <code>exitProcess()</code> is called, the JVM stops and further testing is impossible. I didn't manage to mock calls to <code>exitProcess()</code> with mockk. Is it possible?</p>\n\n<h3>Some further information:</h3>\n\n<p>The 3rd party lib is Clikt (<a href=\"https://ajalt.github.io/clikt/\" rel=\"nofollow noreferrer\">https://ajalt.github.io/clikt/</a>), a nice library for building a command line interface. A Clikt application parses the command line, and exits if this fails. This may be one of the rare reasons, where calling System.exit is OK. Surely there are more testable solutions, but anyway, when working with 3rd party libs, arguing what could be better done <em>in</em> the lib is obsolete.</p>\n\n<p>What I actually want to test is, that my application writes the expected usage message when called with <em>--help</em> or wrong arguments.</p>\n\n<p>I also tried to mock the call to <code>System.exit()</code> this way:\n    mockkStatic(\"java.lang.System\")\n    every { System.exit(any()) }.throws(RuntimeException(\"blubb\"))\nwhich leads to another problem, als all calls to System are mocked then:</p>\n\n<pre><code>io.mockk.MockKException: every/verify {} block were run several times. Recorded calls count differ between runs\nRound 1: class java.lang.System.getProperty(kotlin.ignore.old.metadata), class java.lang.System.exit(-630127373)\nRound 2: class java.lang.System.exit(158522875)\n</code></pre>\n\n<p>Funnily enough, I managed to test this in Java with jmockit, like this:</p>\n\n<pre><code>public class MainTestJ {\n    private ByteArrayOutputStream consoleOut;\n\n    @BeforeEach\n    public void mockConsole() {\n        consoleOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(consoleOut));\n    }\n\n    @Test\n    public void can_mock_exit() {\n        new MockUp&lt;System&gt;() {\n            @Mock\n            public void exit(int exitCode) {\n                System.out.println(\"exit called\");\n            }\n        };\n        assertThatThrownBy(() -&gt; {\n            new Main().main(new String[] { \"--help\" });\n        }).isInstanceOf(RuntimeException.class);\n        assertThat(consoleOut.toString()).startsWith(\"Usage: bla bla ...\");\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "lint", "android-lint"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 4751720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/09Xyb.jpg?s=128&g=1", "display_name": "lsrom", "link": "https://stackoverflow.com/users/4751720/lsrom"}, "edited": false, "score": 0, "creation_date": 1546429109, "post_id": 53945457, "comment_id": 94847971, "body": "Unfortunately this doesn&#39;t work with Kotlin top level functions. If you have top level function, which calls the banned method, this fails to get the qualified name of the banned method."}], "tags": [], "owner": {"reputation": 540, "user_id": 3604617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqikC.jpg?s=128&g=1", "display_name": "italankin", "link": "https://stackoverflow.com/users/3604617/italankin"}, "is_accepted": false, "score": 0, "last_activity_date": 1545916039, "last_edit_date": 1545916039, "creation_date": 1545915313, "answer_id": 53945457, "question_id": 53847469, "link": "https://stackoverflow.com/questions/53847469/android-lint-custom-check-ucallexpression-type-of-method-receiver/53945457#53945457", "title": "Android lint custom check UCallExpression type of method receiver", "body": "<p><a href=\"https://github.com/JetBrains/uast/blob/master/uast-common/src/org/jetbrains/uast/expressions/UCallExpression.kt#L50\" rel=\"nofollow noreferrer\"><code>UCallExpression.receiverType</code></a> does what you want:</p>\n\n<pre><code>public class CustomDetector extends Detector implements SourceCodeScanner {\n\n    @Nullable\n    @Override\n    public List&lt;Class&lt;? extends UElement&gt;&gt; getApplicableUastTypes() {\n        return Collections.singletonList(UCallExpression.class);\n    }\n\n    @Nullable\n    @Override\n    public UElementHandler createUastHandler(@NotNull JavaContext context) {\n        return new UElementHandler() {\n\n            @Override\n            public void visitCallExpression(@NotNull UCallExpression node) {\n                node.getReceiverType(); // PsiType:Button\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>To extract qualified name you can use the following method:</p>\n\n<pre><code>((PsiClassType) node.getReceiverType()).resolve().getQualifiedName() // android.widget.Button\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 4751720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/09Xyb.jpg?s=128&g=1", "display_name": "lsrom", "link": "https://stackoverflow.com/users/4751720/lsrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1546429531, "creation_date": 1546429531, "answer_id": 54005758, "question_id": 53847469, "link": "https://stackoverflow.com/questions/53847469/android-lint-custom-check-ucallexpression-type-of-method-receiver/54005758#54005758", "title": "Android lint custom check UCallExpression type of method receiver", "body": "<p>I found a solution which works for both static and non-static methods and for Kotlin top level functions. Not sure if it is the <em>best</em> way to do it but at least it works.</p>\n\n<pre><code>override fun visitCallExpression(node: UCallExpression) {\n     (node.resolve()?.parent as? ClsClassImpl)?.stub?.qualifiedName\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7869726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVvrD.png?s=128&g=1", "display_name": "YouCii", "link": "https://stackoverflow.com/users/7869726/youcii"}, "is_accepted": false, "score": 0, "last_activity_date": 1590043318, "creation_date": 1590043318, "answer_id": 61928743, "question_id": 53847469, "link": "https://stackoverflow.com/questions/53847469/android-lint-custom-check-ucallexpression-type-of-method-receiver/61928743#61928743", "title": "Android lint custom check UCallExpression type of method receiver", "body": "<pre><code>    /**\n     * eg: android.util.Log\n     * ps. imports was initialized in visitImportStatement\n     */\n    private fun getClassNameWithPackage(node: UCallExpression): String {\n        var className = node.resolve()?.containingClass?.qualifiedName\n        if (className != null) {\n            return className\n        }\n\n        className = getClassName(node) ?: return \"\"\n        for (import in imports) {\n            if (import.contains(className)) {\n                return import\n            }\n        }\n        return \"$packageName.$className\"\n    }\n\n    /**\n     * eg: Log\n     */\n    private fun getClassName(node: UCallExpression): String? {\n        return node.receiver?.javaPsi?.text ?: when (val uExpression = (node.methodIdentifier?.uastParent as UCallExpression?)?.receiver) {\n            is JavaUSimpleNameReferenceExpression -&gt; {\n                uExpression.identifier\n            }\n            is KotlinUSimpleReferenceExpression -&gt; {\n                uExpression.identifier\n            }\n            is UReferenceExpression -&gt; {\n                uExpression.getQualifiedName()\n            }\n            else -&gt; null\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 585, "user_id": 4751720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/09Xyb.jpg?s=128&g=1", "display_name": "lsrom", "link": "https://stackoverflow.com/users/4751720/lsrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 849, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1590043318, "creation_date": 1545209075, "question_id": 53847469, "link": "https://stackoverflow.com/questions/53847469/android-lint-custom-check-ucallexpression-type-of-method-receiver", "title": "Android lint custom check UCallExpression type of method receiver", "body": "<p>I'm writing custom lint check to ban some methods. So if someone calls banned method <code>foo</code> on instance of class <code>A</code>, lint should report error.</p>\n\n<p>I achieved this for static methods like this (inside <code>visitCallExpression(UCallExpression)</code>:</p>\n\n<pre><code>node.receiver as UReferenceExpression).getQualifiedName()\n</code></pre>\n\n<p>From qualified name I can get the <code>Class</code> object and run my check but I can't get the qualified name for methods called on instantiated object. I can get the name of the class to which the objects belongs but not the qualified name.</p>\n\n<p>How do I get qualified name of class of method that is called on instance of that class? If I'm being unclear, here is an example.</p>\n\n<pre><code>import android.view.Button;\n\nclass ButtonSetTextIntClass {\n       private Button button;\n\n       public void bannedSetText (){\n            button.setText(123);\n       }\n}\n</code></pre>\n\n<p>And I need in <code>visitCallExpression (UCallExpression)</code> get qualified name/class of <code>button</code>.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 933, "user_id": 3187439, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1b2548472474e92cc432fc8df3bd0356?s=128&d=identicon&r=PG&f=1", "display_name": "c7n", "link": "https://stackoverflow.com/users/3187439/c7n"}, "edited": false, "score": 0, "creation_date": 1545211639, "post_id": 53847256, "comment_id": 94543754, "body": "not working for me. i also tried invalidating the cache but without success"}], "tags": [], "owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1545208210, "creation_date": 1545208210, "answer_id": 53847256, "question_id": 53847119, "link": "https://stackoverflow.com/questions/53847119/android-studio-imports-kotlin-dependencies-into-java-file/53847256#53847256", "title": "Android Studio imports Kotlin Dependencies into Java File", "body": "<p>Check your kotlin version(make sure that you have the latest one ) then clean and rebuild your app </p>\n"}, {"comments": [{"owner": {"reputation": 933, "user_id": 3187439, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1b2548472474e92cc432fc8df3bd0356?s=128&d=identicon&r=PG&f=1", "display_name": "c7n", "link": "https://stackoverflow.com/users/3187439/c7n"}, "edited": false, "score": 0, "creation_date": 1545211773, "post_id": 53847308, "comment_id": 94543841, "body": "even hard-import doesn&#39;t work correctly, it tells me right at the import statement that symbol &#39;Deprecated&#39; cannot be resolved. importing java.lang.* leads to &#39;Unused import statement&#39;"}], "tags": [], "owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "is_accepted": false, "score": 0, "last_activity_date": 1545208391, "creation_date": 1545208391, "answer_id": 53847308, "question_id": 53847119, "link": "https://stackoverflow.com/questions/53847119/android-studio-imports-kotlin-dependencies-into-java-file/53847308#53847308", "title": "Android Studio imports Kotlin Dependencies into Java File", "body": "<p>try to hard-import</p>\n\n<pre><code>import java.lang.Deprecated;\n</code></pre>\n\n<p>but I think you can resolve this issue by the way clean and rebuild your project</p>\n"}], "owner": {"reputation": 933, "user_id": 3187439, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1b2548472474e92cc432fc8df3bd0356?s=128&d=identicon&r=PG&f=1", "display_name": "c7n", "link": "https://stackoverflow.com/users/3187439/c7n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1545215168, "creation_date": 1545207598, "last_edit_date": 1545215168, "question_id": 53847119, "link": "https://stackoverflow.com/questions/53847119/android-studio-imports-kotlin-dependencies-into-java-file", "title": "Android Studio imports Kotlin Dependencies into Java File", "body": "<p>I recently had to reimport my android project, which consists of both <code>.java</code> and <code>.kt</code> files, into Android Studio. After the import Android Studio tries to import only some Kotlin dependencies into <code>.java</code> files, what obviously doesn't work. </p>\n\n<p>The same code had worked before, what makes me think I may be missing some setting in Android Studio, about how Java and Kotlin interact or something like that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Si2EJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Si2EJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Edit: On the other hand I'm able to build my app and also deploy to a device without problems, but Android Studio still keeps complaining. </p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545269948, "post_id": 53846870, "comment_id": 94570768, "body": "Please read official Kotlin naming style guide <a href=\"https://developer.android.com/kotlin/style-guide\" rel=\"nofollow noreferrer\">developer.android.com/kotlin/style-guide</a> which says &quot;<b><i>Special prefixes or suffixes, like those seen in the examples name_, <code>mName</code>, s_name, and kName, are not used</i></b> except in the case of backing properties (which is prefixed by <code>_</code>)&quot;"}, {"owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1545284755, "post_id": 53846870, "comment_id": 94573821, "body": "@EpicPandaForce Thanks for the suggestion. Will surely follow this."}], "answers": [{"comments": [{"owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "edited": false, "score": 2, "creation_date": 1545206832, "post_id": 53846915, "comment_id": 94541384, "body": "getting error at ViewModelProviders. Its not importing"}, {"owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "edited": false, "score": 0, "creation_date": 1602625340, "post_id": 53846915, "comment_id": 113779056, "body": "ViewModelProviders is now deprecated. You should use Mittal&#39;s answer in Kotlin."}], "tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": false, "score": 3, "last_activity_date": 1545206704, "creation_date": 1545206704, "answer_id": 53846915, "question_id": 53846870, "link": "https://stackoverflow.com/questions/53846870/how-to-use-viewmodelproviders-in-kotlin/53846915#53846915", "title": "How to use ViewModelProviders in Kotlin", "body": "<blockquote>\n  <p>Try with below</p>\n</blockquote>\n\n<pre><code>var mFavViewModel = ViewModelProviders.of(activity).get(FavouritesViewModel::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "edited": false, "score": 1, "creation_date": 1545210254, "post_id": 53847080, "comment_id": 94543038, "body": "Just to expand this answer, make sure all your arch components dependencies are in the same format. That is: not mixing <code>android.arch</code> and <code>androidx</code> dependencies. Keep in mind that if you want to use the <code>Navigation Component</code>, at the moment of this coment it is only available as an <code>android.arch</code> dependency"}, {"owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "edited": false, "score": 0, "creation_date": 1545211370, "post_id": 53847080, "comment_id": 94543605, "body": "@Mittal Varsani I have edited my question please check and help me"}, {"owner": {"reputation": 823, "user_id": 6908588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ca0ba765a5b5f9e57ba7b7f8778f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mittal Varsani", "link": "https://stackoverflow.com/users/6908588/mittal-varsani"}, "reply_to_user": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "edited": false, "score": 0, "creation_date": 1545213552, "post_id": 53847080, "comment_id": 94544960, "body": "just make your constructor public and try @UmaAchanta"}], "tags": [], "owner": {"reputation": 823, "user_id": 6908588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ca0ba765a5b5f9e57ba7b7f8778f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mittal Varsani", "link": "https://stackoverflow.com/users/6908588/mittal-varsani"}, "is_accepted": true, "score": 28, "last_activity_date": 1582019920, "last_edit_date": 1582019920, "creation_date": 1545207404, "answer_id": 53847080, "question_id": 53846870, "link": "https://stackoverflow.com/questions/53846870/how-to-use-viewmodelproviders-in-kotlin/53847080#53847080", "title": "How to use ViewModelProviders in Kotlin", "body": "<p><strong>For Java</strong></p>\n\n<p>For pre-AndroidX</p>\n\n<pre><code>implementation 'android.arch.lifecycle:extensions:1.1.1'\nimplementation \"android.arch.lifecycle:viewmodel:1.1.0\"\n</code></pre>\n\n<p>For AndroidX</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-viewmodel:2.2.0\"\n</code></pre>\n\n<p>In the latest version, ViewModel can be declared as below</p>\n\n<pre><code>MyViewModel model = new ViewModelProvider(this).get(MyViewModel.class);\n</code></pre>\n\n<p><strong>For Kotlin</strong></p>\n\n<p>For pre-AndroidX</p>\n\n<pre><code>implementation 'android.arch.lifecycle:extensions-ktx:1.1.1'\nimplementation \"android.arch.lifecycle:viewmodel-ktx:1.1.1\"\n</code></pre>\n\n<p>For Android</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0\"\n</code></pre>\n\n<p>ViewModel declaration</p>\n\n<pre><code>val model = ViewModelProvider(activity)[MyViewModel::class.java]\n</code></pre>\n\n<p>Refer below link for the latest <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies\" rel=\"noreferrer\">AndroidX dependency version</a></p>\n\n<p><strong>Note</strong>: For pre-AndroidX, the dependency version will not be updated</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 9345535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b3dedcbc27c4b269fa5bb2d25d49cd0?s=128&d=identicon&r=PG", "display_name": "Pravind Kumar", "link": "https://stackoverflow.com/users/9345535/pravind-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1587878351, "creation_date": 1587878351, "answer_id": 61436143, "question_id": 53846870, "link": "https://stackoverflow.com/questions/53846870/how-to-use-viewmodelproviders-in-kotlin/61436143#61436143", "title": "How to use ViewModelProviders in Kotlin", "body": "<p>Its assumed kotlin is in use - Class ViewModelProviders has been deprecated, instead ViewModelProvider can be used. To use this need to add a dependency in app build.gradle something like this - </p>\n\n<pre><code> implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n</code></pre>\n\n<p>Create a view model class -</p>\n\n<pre><code>class MyViewModel: ViewModel(){\n}\n</code></pre>\n\n<p>The same class object can be find from fragment - onCreateView. For example - </p>\n\n<pre><code>class MyFragment: Fragment(){\n    ...\n    private lateint var myViewModel: MyViewModel\n    ...\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n         ...\n         myViewModel = ViewModelProvider(this).get(MyViewModel::class.java)\n         ...\n\n     }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3259, "user_id": 6333830, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BRtsa.jpg?s=128&g=1", "display_name": "Uma Achanta", "link": "https://stackoverflow.com/users/6333830/uma-achanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9143, "favorite_count": 2, "accepted_answer_id": 53847080, "answer_count": 3, "score": 10, "last_activity_date": 1587878351, "creation_date": 1545206519, "last_edit_date": 1545211054, "question_id": 53846870, "link": "https://stackoverflow.com/questions/53846870/how-to-use-viewmodelproviders-in-kotlin", "title": "How to use ViewModelProviders in Kotlin", "body": "<p>I am new bie to Kotlin, Please help me how to use ViewModelProviders.of(this) in Kotlin </p>\n\n<p>My code in java is</p>\n\n<pre><code> mFavViewModel = ViewModelProviders.of(this).get(FavouritesViewModel.class);\n</code></pre>\n\n<p>I am not able to find <strong>ViewModelProviders</strong> class in kotlin\ntried auto convert but its showing errors.\nThanks.</p>\n\n<p>Here is my DataModel class</p>\n\n<pre><code>class FavoritesDataViewModel:ViewModel{\n    private var mFavHelper: DatabaseHelper\n    private lateinit var mfav:ArrayList&lt;Favorites&gt;\n     constructor(application: Application) {\n        mFavHelper = DatabaseHelper(application)\n    }\n    fun getListFav():List&lt;Favorites&gt;{\n        if (mfav==null){\n            mfav =  arrayListOf&lt;Favorites&gt;()\n            createDummyList()\n            loadFav()\n        }\n        val clonedFavs = arrayListOf&lt;Favorites&gt;()\n        for (i in 0 until mfav.size) {\n            clonedFavs.add(Favorites(mfav.get(i)))\n        }\n        return clonedFavs\n    }\n    fun createDummyList(){\n        addFav(\"https://www.journaldev.com\", Date().getTime())\n        addFav(\"https://www.medium.com\", Date().getTime())\n        addFav(\"https://www.reddit.com\", Date().getTime())\n        addFav(\"https://www.github.com\", Date().getTime())\n        addFav(\"https://www.hackerrank.com\", Date().getTime())\n        addFav(\"https://www.developers.android.com\", Date().getTime())\n\n    }\n    fun addFav(url:String,date:Long):Favorites{\n        val db:SQLiteDatabase = this.mFavHelper.getWritableDatabase();\n        val values: ContentValues = ContentValues();\n        values.put(DbSettings.DbEntry.COL_FAV_DATE,date)\n        values.put(DbSettings.DbEntry.COL_FAV_URL,url)\n        val id:Long = db.insertWithOnConflict(DbSettings.DbEntry.TABLE,\n            null,\n            values,SQLiteDatabase.CONFLICT_REPLACE)\n        db.close()\n        val fav:Favorites = Favorites(id,url,date)\n        mfav.add(fav)\n        return Favorites(fav)\n    }\n    fun loadFav(){\n        mfav.clear()\n        val db:SQLiteDatabase = mFavHelper.readableDatabase\n        val cursor:Cursor = db.query(DbSettings.DbEntry.TABLE,\n             arrayOf(\n                DbSettings.DbEntry._ID,\n                DbSettings.DbEntry.COL_FAV_URL,\n                DbSettings.DbEntry.COL_FAV_DATE\n             ),\n            null, null, null, null, null);\n        while (cursor.moveToNext()){\n            val idxID:Int = cursor.getColumnIndex(DbSettings.DbEntry._ID)\n            val idxURL:Int = cursor.getColumnIndex(DbSettings.DbEntry.COL_FAV_URL)\n            val idxDate:Int = cursor.getColumnIndex(DbSettings.DbEntry.COL_FAV_DATE)\n            mfav.add(Favorites(cursor.getLong(idxID),cursor.getString(idxURL),cursor.getLong(idxDate)))\n        }\n        cursor.close()\n        db.close()\n    }\n\n}\n</code></pre>\n\n<p>tried with following line of code</p>\n\n<pre><code>var mFavViewModel = ViewModelProviders.of(activity).get(FavouritesViewModel::class.java)\nimplementation 'android.arch.lifecycle:extensions:1.1.1'\n</code></pre>\n\n<p>this is giving error:</p>\n\n<pre><code>  Caused by: java.lang.RuntimeException: Cannot create an instance of class com.nearex.mykotlinsample.viewmodel.FavoritesDataViewModel\n            at android.arch.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.java:153)\n            at android.arch.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:210)\n            at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:134)\n            at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:102)\n            at com.nearex.mykotlinsample.view.MainActivity.onCreate(MainActivity.kt:29)\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 3284, "user_id": 1098758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca1d5f8e92ef9d9ba7a2aa7d6257d0c?s=128&d=identicon&r=PG", "display_name": "Lionel Port", "link": "https://stackoverflow.com/users/1098758/lionel-port"}, "edited": false, "score": 1, "creation_date": 1545198791, "post_id": 53845235, "comment_id": 94538194, "body": "Yes, change object to class. See accepted answer from <a href=\"https://stackoverflow.com/questions/35479631/how-to-use-spring-annotations-like-autowired-in-kotlin\" title=\"how to use spring annotations like autowired in kotlin\">stackoverflow.com/questions/35479631/&hellip;</a> for correct usage."}, {"owner": {"reputation": 21, "user_id": 10809055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6225e7b2d765c257a1e568ec18bea3b?s=128&d=identicon&r=PG&f=1", "display_name": "Young", "link": "https://stackoverflow.com/users/10809055/young"}, "reply_to_user": {"reputation": 3284, "user_id": 1098758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca1d5f8e92ef9d9ba7a2aa7d6257d0c?s=128&d=identicon&r=PG", "display_name": "Lionel Port", "link": "https://stackoverflow.com/users/1098758/lionel-port"}, "edited": false, "score": 0, "creation_date": 1545206102, "post_id": 53845235, "comment_id": 94541093, "body": "First thanks. I have tried to use class instead of object before, it does work. but i still wonder whether there is a way to use object with autowire to acheive this, not class"}, {"owner": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 0, "creation_date": 1545220515, "post_id": 53845235, "comment_id": 94548758, "body": "you can try to look at the java generated code. that will show you what&#39;s really going on."}], "owner": {"reputation": 21, "user_id": 10809055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6225e7b2d765c257a1e568ec18bea3b?s=128&d=identicon&r=PG&f=1", "display_name": "Young", "link": "https://stackoverflow.com/users/10809055/young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545198208, "creation_date": 1545198208, "question_id": 53845235, "link": "https://stackoverflow.com/questions/53845235/kotlin-object-declaration-inject-class", "title": "kotlin object declaration inject class", "body": "<p>i am using kotlin + springboot to build my web application.\ni want to create a tool class ,so i coded like above: </p>\n\n<pre><code>@Service\nobject XXXUtil{\n\n    @Autowired\n    lateinit var restTemplate: RestTemplate\n    @Autowired\n    lateinit var objectMapper: ObjectMapper\n\n    ...\n}\n</code></pre>\n\n<p>but after i started the application, resTemplate cannot be injected. </p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property \nrestTemplate has not been initialized\n</code></pre>\n\n<p>is it because that object declaration does not allow injection or i code in a wrong way ,please help</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 823, "user_id": 6908588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ca0ba765a5b5f9e57ba7b7f8778f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mittal Varsani", "link": "https://stackoverflow.com/users/6908588/mittal-varsani"}, "edited": false, "score": 1, "creation_date": 1545198009, "post_id": 53845141, "comment_id": 94537948, "body": "share your error log @Joshva Jo"}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1545200782, "post_id": 53845141, "comment_id": 94538859, "body": "Target not null error message??? do you mean target is null?? share the log and the line where you got the exception. and use TestImage!! to confirm that target is not null."}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1545201030, "post_id": 53845141, "comment_id": 94538964, "body": "you have to set image like this Picasso.with(context).load(item).into(yourtarget)"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "reply_to_user": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1545203175, "post_id": 53845141, "comment_id": 94539860, "body": "@unzila I am using kotlin so, I am using Picasso.get().load(category.Test).into(TestImage)"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1545206509, "post_id": 53845141, "comment_id": 94541267, "body": "in kotlin picasso implementation is same like java , i used it many times"}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545207287, "post_id": 53845141, "comment_id": 94541594, "body": "Thanks for your response."}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "is_accepted": true, "score": 1, "last_activity_date": 1545203924, "creation_date": 1545203924, "answer_id": 53846326, "question_id": 53845141, "link": "https://stackoverflow.com/questions/53845141/getting-target-null-error-message-in-kotlin-using-picasso/53846326#53846326", "title": "Getting Target Null Error message in Kotlin using Picasso", "body": "<p>Thanks Every one for their response. I solved it via below changes in my code.</p>\n\n<p>Main Class:</p>\n\n<pre><code>var Test:String=catObj.getString(\"Test\")\ncategory.Test=Test\n</code></pre>\n\n<p>Adapter Class:</p>\n\n<pre><code>class ViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n    fun bindItem(Test:TestModel)\n    {\n        var name:TextView=itemView.findViewById&lt;TextView&gt;(R.id.CatName)\n        var picture:ImageView=itemView.findViewById&lt;ImageView&gt;(R.id.CatImage)\n        name.text=Test.name\n        Picasso.get().load(category.picture).into(location)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545247071, "post_id": 53847375, "comment_id": 94563438, "body": "Thanks @unzila for your response. My below response worked for me."}], "tags": [], "owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "is_accepted": false, "score": 6, "last_activity_date": 1614447194, "last_edit_date": 1614447194, "creation_date": 1545208664, "answer_id": 53847375, "question_id": 53845141, "link": "https://stackoverflow.com/questions/53845141/getting-target-null-error-message-in-kotlin-using-picasso/53847375#53847375", "title": "Getting Target Null Error message in Kotlin using Picasso", "body": "<p>Try this in kotlin its working</p>\n<pre><code> Picasso.get().load(category.picture).into(object : com.squareup.picasso.Target {\n            override fun onBitmapFailed(e: Exception?, errorDrawable: Drawable?) {\n                TODO(&quot;not implemented&quot;) \n            }\n\n            override fun onBitmapLoaded(bitmap: Bitmap?, from: Picasso.LoadedFrom?) {\n                // loaded bitmap is here (bitmap)\n\n                holder.binding.imageView.setImageBitmap(bitmap)\n            }\n\n            override fun onPrepareLoad(placeHolderDrawable: Drawable?) {}\n            \n        })\n    }\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1605, "favorite_count": 0, "accepted_answer_id": 53846326, "answer_count": 2, "score": 0, "last_activity_date": 1614447194, "creation_date": 1545197688, "last_edit_date": 1545203090, "question_id": 53845141, "link": "https://stackoverflow.com/questions/53845141/getting-target-null-error-message-in-kotlin-using-picasso", "title": "Getting Target Null Error message in Kotlin using Picasso", "body": "<p>I am trying to display image using Json API but I am getting Target not null error message. I have three classes one main, adapter and model class. I have already added picasso library and the name is working fine without issue and image is an issue.  Any help is appreciated.</p>\n\n<p>Main Class:</p>\n\n<pre><code>var Test:String=catObj.getString(\"Test\")\ncategory.Test=Test\nPicasso.get().load(category.Test).into(TestImage)---TestImage is my ImageView ID.\n</code></pre>\n\n<p>Adapter class:</p>\n\n<pre><code>class ViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n    fun bindItem(Test:TestModel)\n    {\n        var name:TextView=itemView.findViewById&lt;TextView&gt;(R.id.CatName)\n        var picture:TextView=itemView.findViewById&lt;TextView&gt;(R.id.CatImage)\n        name.text=Test.name\n        picture.text=Test.location\n\n    }\n}\n</code></pre>\n\n<p>Error Log:</p>\n\n<pre><code>  java.lang.IllegalArgumentException: Target must not be null.\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": false, "score": 1, "last_activity_date": 1545209908, "creation_date": 1545209908, "answer_id": 53847680, "question_id": 53844931, "link": "https://stackoverflow.com/questions/53844931/getting-multiple-errors-in-kotlin-class-in-android/53847680#53847680", "title": "Getting multiple errors in kotlin class in android?", "body": "<p>in your code you are using levelDown as an object with properties:</p>\n\n<pre><code>    private fun initLevelState(currentItem: TherapyPackage?) {\n    if (currentItem!!.therapyLevels.size &gt;= 2) {\n        if (currentItem.activeTherapyPackageLevelId == currentItem.therapyLevels.minBy { it.id }?.id) {\n            levelDown.isEnabled = false\n            levelDown.alpha = 0.8f\n        } else {\n            levelDown.isEnabled = true\n            levelDown.alpha = 1f\n        }\n    } else {\n        levelDown.isEnabled = false\n        levelDown.alpha = 0.8f\n    }\n}\n</code></pre>\n\n<p>but you are declaring it as an overriden function: </p>\n\n<pre><code>override fun levelDown(therapyPackage: TherapyPackage) {\n    showMessage(getString(R.string.level_down, therapyPackage.title?.getText))\n}\n</code></pre>\n\n<p>the same happens for levelUp. You should review what are you trying to achieve with this call and change either the declaration or calling sites of this properties/functions.</p>\n"}], "owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545209908, "creation_date": 1545196240, "last_edit_date": 1545196676, "question_id": 53844931, "link": "https://stackoverflow.com/questions/53844931/getting-multiple-errors-in-kotlin-class-in-android", "title": "Getting multiple errors in kotlin class in android?", "body": "<p>I am developing an android app using Kotlin but I am getting following errors</p>\n\n<pre><code>C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (118, 9): Function invocation 'levelUp(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (118, 9): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (118, 17): Unresolved reference: setOnClickListener\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (123, 9): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (123, 9): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (123, 19): Unresolved reference: setOnClickListener\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (146, 17): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (146, 17): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (146, 27): Unresolved reference: isEnabled\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (147, 17): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (147, 17): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (147, 27): Unresolved reference: alpha\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (149, 17): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (149, 17): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (149, 27): Unresolved reference: isEnabled\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (150, 17): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (150, 17): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (150, 27): Unresolved reference: alpha\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (153, 13): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (153, 13): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (153, 23): Unresolved reference: isEnabled\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (154, 13): Function invocation 'levelDown(...)' expected\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (154, 13): No value passed for parameter 'therapyPackage'\ne: C:\\Users\\admin\\Desktop\\masters\\app\\src\\main\\java\\com\\empowered\\healo\\ui\\screens\\therapy\\TherapySettingsFragment.kt: (154, 23): Unresolved reference: alpha\n</code></pre>\n\n<p>below my TherapySettingsFragment.kt file</p>\n\n<pre><code>class TherapySettingsFragment : BaseMvpFragment(), TherapySettingView {\n\n\n    private var data = emptyList&lt;TherapyPackage&gt;()\n    private var presenter = TherapySettingsPresenter(this)\n    private var time = 0\n    private var currentItem: TherapyPackage? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        rootView = inflater.inflate(R.layout.fragment_therapy_settings, container, false)\n        return rootView\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        toolbar.setOnNavigateIconClickListener { router.exit() }\n        toolbar.setOnToolIconClickListener { openNavDrawer() }\n        viewPager.adapter = object : PagerAdapter() {\n            override fun isViewFromObject(view: View, `object`: Any): Boolean {\n                return view == `object`\n            }\n\n            override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {\n                container.removeView(`object` as RelativeLayout?)\n            }\n\n            @RequiresApi(Build.VERSION_CODES.LOLLIPOP)\n            override fun instantiateItem(container: ViewGroup, position: Int): Any {\n                val contentView = RelativeLayout(container.context)\n                contentView.layoutParams = ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT)\n                val text = TextView(container.context)\n                val item = data[position]\n                text.text = getString(R.string.level_title, item.title?.getText, item.activeTherapyPackageLevel?.levelName?.getText)\n                text.typeface = context?.let { ResourcesCompat.getFont(it, R.font.grotesk_light) }\n                text.textSize = 26f\n                text.letterSpacing = 0.06f\n                text.setLineSpacing(1.2f, 1.15f)\n                text.gravity = Gravity.CENTER\n                text.setTextColor(Color.WHITE)\n\n\n                val params = RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n                params.addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE)\n\n                contentView.addView(text, params)\n                container.addView(contentView)\n\n                return contentView\n            }\n\n            override fun getItemPosition(`object`: Any): Int {\n                return POSITION_NONE\n            }\n\n            override fun getCount(): Int =\n                    data.count()\n\n        }\n        presenter.getPackages()\n        presenter.getDuration()\n        timer.text = time.toString()\n        decTime.setOnClickListener {\n            if (time &gt; 0) {\n                time--\n                timer.text = time.toString()\n            }\n        }\n        incTime.setOnClickListener {\n            if (time &lt; 60) {\n                time++\n                timer.text = time.toString()\n            }\n        }\n        viewPager.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n            override fun onPageScrollStateChanged(state: Int) {\n\n            }\n\n            override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n\n            }\n\n            override fun onPageSelected(position: Int) {\n                currentItem = data[position]\n                checkArrowState(position)\n\n            }\n\n        })\n        levelUp().setOnClickListener {\n            if (currentItem != null)\n                presenter.checkLevelUp(currentItem!!)\n        }\n\n        levelDown.setOnClickListener {\n            if (currentItem != null)\n                presenter.packageLevelDown(currentItem!!)\n        }\n\n        checkArrowState(0)\n\n        rightBtn.setOnClickListener { viewPager.currentItem = viewPager.currentItem + 1 }\n        leftBtn.setOnClickListener { viewPager.currentItem = viewPager.currentItem - 1 }\n    }\n\n    private fun checkArrowState(currentPosition: Int) {\n        if (data.size &gt; 1) {\n            rightBtn.visibility = if (currentPosition == data.size - 1) View.GONE else View.VISIBLE\n            leftBtn.visibility = if (currentPosition == 0) View.GONE else View.VISIBLE\n        }\n        initLevelState(currentItem)\n\n    }\n\n    private fun initLevelState(currentItem: TherapyPackage?) {\n        if (currentItem!!.therapyLevels.size &gt;= 2) {\n            if (currentItem.activeTherapyPackageLevelId == currentItem.therapyLevels.minBy { it.id }?.id) {\n                levelDown.isEnabled = false\n                levelDown.alpha = 0.8f\n            } else {\n                levelDown.isEnabled = true\n                levelDown.alpha = 1f\n            }\n        } else {\n            levelDown.isEnabled = false\n            levelDown.alpha = 0.8f\n        }\n    }\n\n    override fun setData(data: List&lt;TherapyPackage&gt;) {\n        this.data = data\n        if (data.isNotEmpty())\n            currentItem = if (currentItem != null) {\n                data.firstOrNull { it.therapyPackageId == currentItem?.therapyPackageId }\n                        ?: data.first()\n            } else {\n                data.first()\n            }\n        viewPager.adapter?.notifyDataSetChanged()\n        currentItem?.let { initLevelState(currentItem) }\n    }\n\n    override fun setExerciseTime(sec: Int) {\n        time = sec\n        timer.text = sec.toString()\n    }\n\n    override fun getExerciseTime(): Int {\n        return time\n    }\n\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        presenter.saveTime()\n    }\n\n    override fun moveToScreen(screen: String, data: Bundle) {\n        router.newRootScreen(screen, data)\n    }\n\n    override fun startLevelUp(therapyPackage: TherapyPackage) {\n        startActivityForResult(Intent(context, DiagnosticActivity::class.java).putExtra(DiagnosticActivity.ACTION, ACTION_LEVEL_UP).putExtra(ACTION_LEVEL_UP, therapyPackage.therapyPackageId), DiagnosticActivity.REQUEST_CODE)\n    }\n\n    override fun showLevelUpDialog(therapyPackage: TherapyPackage, confirm: Boolean) {\n        CustomAlertDialogBuilder(context)\n                .setTitle(R.string.therapy_improvement)\n                .setBackground(R.drawable.dialog_white_background)\n                .setTextColor(Color.parseColor(\"#0000ff\"))\n                .addMessage(if (confirm) getString(R.string.start_level_up, therapyPackage.title?.getText)\n                else getString(R.string.level_up_message_not_confirmed))\n                .setPositiveButton(if (confirm) R.string.progress_action_yes else R.string.positive_not_confirm_level_up, object : CustomAlertDialogBuilder.OnItemDialogClickListener {\n                    override fun onClick(dialog: CustomAlertDialogBuilder.CustomDialogInterface) {\n                        presenter.startLevelUp(therapyPackage)\n                        dialog.dismiss()\n                    }\n\n                })\n                .setNegativeButton(if (confirm) R.string.no else R.string.negative_not_confirm_level_up, object : CustomAlertDialogBuilder.OnItemDialogClickListener {\n                    override fun onClick(dialog: CustomAlertDialogBuilder.CustomDialogInterface) {\n                        dialog.dismiss()\n                    }\n                }).build()?.show()\n    }\n\n    override fun levelDown(therapyPackage: TherapyPackage) {\n        showMessage(getString(R.string.level_down, therapyPackage.title?.getText))\n    }\n\n    override fun levelUp(therapyPackage: TherapyPackage) {\n        showMessage(getString(R.string.level_up, therapyPackage.title?.getText))\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        presenter.getPackages()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "gradle", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1545194051, "post_id": 53844464, "comment_id": 94536977, "body": "from a future point of view, if you can&#39;t figure out how to write in kotlin, just write all of that in java and convert that file to kotlin"}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1545194357, "post_id": 53844464, "comment_id": 94537041, "body": "I tried that. Not only in this problem but others. I&#39;ve never really had a lot of success with that conversion."}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 0, "creation_date": 1545206743, "post_id": 53844464, "comment_id": 94541357, "body": "Looks like you mixed up adapter and spinner: <code>companyNamesAdapter.setAdapter(nameSpinner, 0)</code>. It should be <code>nameSpinner.setAdapter(companyNamesAdapter, 0)</code>"}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1545216700, "post_id": 53844464, "comment_id": 94546770, "body": "Well.....Guess I have to delete this account and walk away in shame. :) I cannot believe this. I have seriously been banging my head on this for 2 days! 2 DAYS! Thanks, good eye."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1545216786, "post_id": 53846742, "comment_id": 94546815, "body": "You caught the error in your comment above. Not sure if marking this as solving it is correct. Wanna edit this to point out what you found?"}], "tags": [], "owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "is_accepted": true, "score": 1, "last_activity_date": 1545217277, "last_edit_date": 1545217277, "creation_date": 1545205921, "answer_id": 53846742, "question_id": 53844464, "link": "https://stackoverflow.com/questions/53844464/converting-a-custom-spinner-library-from-java-to-use-with-kotlin-problems-with/53846742#53846742", "title": "Converting a custom spinner library from Java to use with Kotlin. Problems with Listener", "body": "<p>Just copied code from their manual and it works ok in Kotlin:</p>\n\n<pre><code>    val spinner = findViewById&lt;AwesomeSpinner&gt;(R.id.spinner)\n    val categories = listOf(\"Automobile\", \"Ariplane\")\n    val categoriesAdapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, categories)\n    spinner.setAdapter(categoriesAdapter)\n    spinner.setOnSpinnerItemClickListener { position, itemAtPosition -&gt;\n        Toast.makeText(this, \"Selected on $position with $itemAtPosition\", Toast.LENGTH_SHORT).show()\n    }\n</code></pre>\n\n<p>Does it helps or I miss you problem?</p>\n\n<p>UPD. Looks like you mixed up adapter and spinner: <code>companyNamesAdapter.setAdapter(nameSpinner, 0)</code>. It should be <code>nameSpinner.setAdapter(companyNamesAdapter, 0)</code></p>\n"}], "owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 53846742, "answer_count": 1, "score": 0, "last_activity_date": 1545218883, "creation_date": 1545192637, "last_edit_date": 1545218883, "question_id": 53844464, "link": "https://stackoverflow.com/questions/53844464/converting-a-custom-spinner-library-from-java-to-use-with-kotlin-problems-with", "title": "Converting a custom spinner library from Java to use with Kotlin. Problems with Listener", "body": "<p>I'm working on a small Android App. The app uses a couple Spinners. I want to be able to use the spinners, but I want the first option in the Spinner to be a hint and not selectable.</p>\n\n<p>I've found a number of workarounds here on StackOverflow. But not exactly what I am looking for.</p>\n\n<p>I found the following repo on Github: <a href=\"https://github.com/sadra/AwesomeSpinner\" rel=\"nofollow noreferrer\">https://github.com/sadra/AwesomeSpinner</a></p>\n\n<p>And it is exactly what I want to do. But, it is written in Java, whereas my app is written in Kotlin. I know they are supposed to work together, but I'm unable to get this to work. I'm pretty sure it's my inexperience that is the problem more so than the repo or a Kotlin v. Java thing.</p>\n\n<p>This is my Spinner. It lives in a Fragment in it's onViewCreated().</p>\n\n<pre><code>//String array\nval companyNames = resources.getStringArray(R.array.companyName_array)\n\nvar nameSpinner = binding.spinnerCustomerName\n\n//Adapter for spinner\nnameSpinner.adapter = ArrayAdapter(activity, android.R.layout.simple_spinner_dropdown_item, companyNames)\n\n//item selected listener for spinner\nnameSpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n    override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n        TODO(\"not implemented yet\")\n    }\n\n    override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n        selectedCompanyName = companyNames[p2]\n        Log.v(LOG_TAG, \"Spinner Item Selected --&gt; $companyNames\")\n    }\n}\n</code></pre>\n\n<p>The AwesomeSpinner docs say to declare like this:</p>\n\n<pre><code>AwesomeSpinner nameSpinner = (AwesomeSpinner) findViewById(R.id.spinner_customerName);\n</code></pre>\n\n<p>In my app in Kotlin i'm doing:</p>\n\n<pre><code>var nameSpinner: AwesomeSpinner = binding.spinnerCustomerName as AwesomeSpinner\n</code></pre>\n\n<p>This is where my trouble starts. I cannot figure out how to get the Adapter and Listener setup correctly. I have tried every way I can think of, but I am missing something or doing something wrong.</p>\n\n<p>Working on this and I cannot get the adapter right.</p>\n\n<pre><code>companyNamesAdapter.setAdapter(nameSpinner, 0)\n</code></pre>\n\n<p>The above is incorrect. <code>.setAdapter</code> remains a resolvable resource.`</p>\n\n<p>This is the corrected and working code:</p>\n\n<pre><code>//String array\nvar nameSpinner: AwesomeSpinner = binding.spinnerCustomerName\n\n//Adapter for spinner\nvar companyNamesAdapter = ArrayAdapter.createFromResource(activity, \nR.array.companyname_array, android.R.layout.simple_spinner_dropdown_item)\n\nnameSpinner.setAdapter(companyNamesAdapter, 0)\n\n//item selected listener for spinner\nnameSpinner.setOnSpinnerItemClickListener(\n    object:AwesomeSpinner.onSpinnerItemClickListener&lt;String&gt;() {\n\n    nameSpinner.setOnSpinnerItemClickListener { position: Int, itemAtPosition -&gt;\n        selectedCompanyName = nameSpinner.selectedItem[position].toString()\n        Log.v(LOG_TAG, \"Spinner Item Selected --&gt; $companyNamesAdapter and $itemAtPosition\" )\n    }\n</code></pre>\n\n<p>My XML is set up and looking OK. As are the dependencies and repositories in <code>Gradle</code>.</p>\n"}, {"tags": ["android", "kotlin", "notifications"], "comments": [{"owner": {"reputation": 387, "user_id": 10021128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adc95bfa3760ffbee2d43ea4fc391a2?s=128&d=identicon&r=PG&f=1", "display_name": "Aaditya Brahmbhatt", "link": "https://stackoverflow.com/users/10021128/aaditya-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1545198359, "post_id": 53844281, "comment_id": 94538051, "body": "This is rather Xiaomi Problem. Long press on your notification and turn &quot;Lockscreen Notifications&quot; on."}], "answers": [{"tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1545194614, "creation_date": 1545194614, "answer_id": 53844699, "question_id": 53844281, "link": "https://stackoverflow.com/questions/53844281/in-android-how-to-show-notifications-in-lock-screen/53844699#53844699", "title": "In Android, how to show notifications in lock screen?", "body": "<p>Try this:</p>\n\n<p><strong>Notification Class</strong></p>\n\n<pre><code>public class NotificationService extends FirebaseMessagingService {\nprivate static final String TAG = NotificationService.class.getSimpleName();\nString body = \"\", dataa = \"\", title = \"\", type = \"\";\nboolean notification, sound, vibration;\nUri uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\nprivate Vibrator vib;\nRingtone ringtone;\nprivate String Sender=\"\";\nprivate String SenderProfileUrl=\"\";\nprivate boolean isConnected;\n\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    Log.e(TAG, \"remoteMessage......\" + remoteMessage.getData());\n    try {\n        Map&lt;String, String&gt; params = remoteMessage.getData();\n        JSONObject object = new JSONObject(params);\n        Log.e(TAG, object.toString());\n        body = object.getString(\"not_id\");\n        dataa = object.getString(\"data\");\n        title = object.getString(\"not_type\");\n        type = object.getString(\"type\");\n        Sender = object.getString(\"Sender\");\n        SenderProfileUrl = object.getString(\"SenderProfileUrl\");\n\n\n    wakeUpScreen();\n    addNotification(remoteMessage.getData());\n\n}\n\n/* when your phone is locked screen wakeup method*/\nprivate void wakeUpScreen() {\n    PowerManager pm = (PowerManager) this.getSystemService(Context.POWER_SERVICE);\n    boolean isScreenOn = pm.isScreenOn();\n\n    Log.e(\"screen on......\", \"\" + isScreenOn);\n    if (isScreenOn == false) {\n        PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.FULL_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP | PowerManager.ON_AFTER_RELEASE, \"MyLock\");\n        wl.acquire(10000);\n        PowerManager.WakeLock wl_cpu = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, \"MyCpuLock\");\n        wl_cpu.acquire(10000);\n    }\n}\n\n/*Add notification method use for add icon and title*/\nprivate void addNotification(Map&lt;String, String&gt; data) {\n    int icon = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP ?R.drawable.logo_app: R.drawable.logo_app;\n    NotificationCompat.Builder builder =\n            new NotificationCompat.Builder(this)\n                    .setSmallIcon(icon)\n                    //.setSmallIcon(R.drawable.logout_icon)\n                    .setContentTitle(data.get(\"title\") + \"\")\n                    .setChannelId(\"channel-01\")\n                    .setAutoCancel(true)\n                    .setSound(uri)\n                    .setContentText(data.get(\"body\") + \"\");\n\n    Notification notification = new Notification();\n\n    Log.e(TAG, \"titlee\" + data.get(\"title\"));\n\n    // Cancel the notification after its selected\n    notification.flags |= Notification.FLAG_AUTO_CANCEL;\n    if (sound)\n        notification.defaults |= Notification.DEFAULT_SOUND;\n\n    if (vibration)\n        notification.defaults |= Notification.DEFAULT_VIBRATE;\n\n    builder.setDefaults(notification.defaults);\n\n    try {\n        if (Sharedpref.getUserPreferences(this, Global.USER_Profile) == null) {\n            /*start login activity*/\n            Intent i = new Intent(this, LoginActivity.class);\n            startActivity(i);\n        } else {\n\n            /*notification send with type calling */\n            if (data.get(\"not_type\").equals(\"calling\")) {\n                if (data.get(\"type\").equals(\"name\")) {\n                    Log.e(TAG, \"ttt--\" + type);\n                    Intent notificationIntent = new Intent(this, CallingActivity.class);\n                    notificationIntent.putExtra(\"notification_room_id\", body);\n                    notificationIntent.putExtra(\"data\", dataa);\n                    notificationIntent.putExtra(\"calling\", \"calling\");\n\n                    PendingIntent contentIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n                    builder.setContentIntent(contentIntent);\n                    builder.setSound(uri);\n                    builder.setAutoCancel(true);\n\n                    // Add as notification\n                    NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                        CharSequence name = \"Hello\";// The user-visible name of the channel.\n                        int importance = NotificationManager.IMPORTANCE_HIGH;\n                        NotificationChannel mChannel = new NotificationChannel(\"channel-01\", name, importance);\n                        manager.createNotificationChannel(mChannel);\n                    }\n                    manager.notify((int) ((new Date().getTime() / 1000L) % Integer.MAX_VALUE), builder.build());\n\n               }\n\n            } else {\n\n                /* notification get no type then go to the else case*/\n                Intent notificationIntent1 = new Intent(this, HomeActivity.class);\n                PendingIntent contentIntent = PendingIntent.getActivity(this, 0, notificationIntent1, PendingIntent.FLAG_UPDATE_CURRENT);\n                builder.setContentIntent(contentIntent);\n                builder.setSound(uri);\n                builder.setAutoCancel(true);\n            }\n        }\n    } catch (NullPointerException e) {\n        e.printStackTrace();\n    }\n}\n }\n</code></pre>\n\n<ul>\n<li><p>This notification class code show notification all cases <strong>eg- when your phone is running state, when your phone is background state and when your phone is locked state</strong></p></li>\n<li><p>this code works all devices</p></li>\n<li>it all depends a json response</li>\n</ul>\n\n<p>i hope it helps you. </p>\n"}, {"comments": [{"owner": {"reputation": 1549, "user_id": 2940948, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/285bd42a89c75aee90c434857d743ea1?s=128&d=identicon&r=PG&f=1", "display_name": "mownier", "link": "https://stackoverflow.com/users/2940948/mownier"}, "edited": false, "score": 0, "creation_date": 1545196337, "post_id": 53844896, "comment_id": 94537500, "body": "NotificationChannel is available only for API level 26. I have set API level 19 as minimum."}], "tags": [], "owner": {"reputation": 8724, "user_id": 1799145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wdmkL.jpg?s=128&g=1", "display_name": "Silambarasan Poonguti", "link": "https://stackoverflow.com/users/1799145/silambarasan-poonguti"}, "is_accepted": false, "score": 3, "last_activity_date": 1611759602, "last_edit_date": 1611759602, "creation_date": 1545196004, "answer_id": 53844896, "question_id": 53844281, "link": "https://stackoverflow.com/questions/53844281/in-android-how-to-show-notifications-in-lock-screen/53844896#53844896", "title": "In Android, how to show notifications in lock screen?", "body": "<p>Try this...</p>\n<p>You can use <strong><code>lockscreenVisibility</code></strong> property of NotificationChannel.ie.,</p>\n<pre><code>notificationChannel.lockscreenVisibility = Notification.VISIBILITY_PUBLIC\n</code></pre>\n<p>For example,</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n    val importance = NotificationManager.IMPORTANCE_HIGH\n    val notificationChannel = NotificationChannel(channelId, channelName, importance)\n    notificationChannel.lockscreenVisibility = Notification.VISIBILITY_PUBLIC\n\n    notificationBuilder.setChannelId(channelName)\n    notificationManager.createNotificationChannel(notificationChannel)\n    notificationManager.notify(message.hashCode(), \n    notificationBuilder.build())\n} else {\n    notificationManager.notify(message.hashCode(), notificationBuilder.build())\n}\n</code></pre>\n<p>Happy coding...</p>\n"}], "owner": {"reputation": 1549, "user_id": 2940948, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/285bd42a89c75aee90c434857d743ea1?s=128&d=identicon&r=PG&f=1", "display_name": "mownier", "link": "https://stackoverflow.com/users/2940948/mownier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8848, "favorite_count": 4, "answer_count": 2, "score": 6, "last_activity_date": 1611759602, "creation_date": 1545190960, "question_id": 53844281, "link": "https://stackoverflow.com/questions/53844281/in-android-how-to-show-notifications-in-lock-screen", "title": "In Android, how to show notifications in lock screen?", "body": "<p>I have already gone to:  </p>\n\n<ul>\n<li>Settings</li>\n<li>Notifications &amp; status bar</li>\n<li>App notifications</li>\n<li>[Application]</li>\n<li>Enabled Lock screen notifications</li>\n</ul>\n\n<p>However, I am not seeing a notification in the lock screen of my Android phone (Xiaomi Redmi 5A, Nougat). By the way, I am notifying locally. There's no push notification or GCM involved.</p>\n\n<p>I tested the Gmail app, it is working fine. The Gmail notifications are showing in the lock screen.</p>\n\n<p>Did I build the notification incorrectly? How should I build then?</p>\n\n<pre><code>private fun showNotificationWith(message: String) {\n    val channelId = \"com.example.notif.channelId\"\n    val channelName = \"App status\"\n    val contentTitle = \"Title\"\n    val notificationManager = applicationContext.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    val notificationBuilder = NotificationCompat.Builder(this, channelId)\n            .setSmallIcon(R.drawable.ic_small_exclamation)\n            .setContentTitle(contentTitle)\n            .setContentText(message)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setSound(Settings.System.DEFAULT_NOTIFICATION_URI)\n\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        val importance = NotificationManager.IMPORTANCE_HIGH\n        val notificationChannel = NotificationChannel(channelId, channelName, importance)\n        notificationBuilder.setChannelId(channelName)\n        notificationManager.createNotificationChannel(notificationChannel)\n        notificationManager.notify(message.hashCode(), notificationBuilder.build())\n\n    } else {\n        notificationManager.notify(message.hashCode(), notificationBuilder.build())\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1545202309, "post_id": 53844266, "comment_id": 94539482, "body": "This is the same difference as that between <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>executor.scheduleWithFixedDelay</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>executor.scheduleAtFixedRate</code></a>. The Javadoc on these methods is quite thorough."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 10716053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-11qRTUfXsJ0/AAAAAAAAAAI/AAAAAAAACJ8/VYFIj26A0X4/photo.jpg?sz=128", "display_name": "Ilya Rodionov", "link": "https://stackoverflow.com/users/10716053/ilya-rodionov"}, "is_accepted": true, "score": 1, "last_activity_date": 1545789465, "last_edit_date": 1545789465, "creation_date": 1545692178, "answer_id": 53918213, "question_id": 53844266, "link": "https://stackoverflow.com/questions/53844266/difference-between-kotlin-tickermodes/53918213#53918213", "title": "Difference between Kotlin TickerModes", "body": "<p>As you can find in <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/core/kotlinx-coroutines-core/src/channels/TickerChannels.kt\" rel=\"nofollow noreferrer\">coroutines sources</a> the difference is that <code>FIXED_PERIOD</code> is more sophisticated and gets into account the fact the receiver cannot keep up and adjust the delay before next invocations of <code>send</code>. This can be tricky to demonstrate though, because you need to measure time a receiver spends waiting for a next tick. </p>\n\n<p>P.S. Note that this functionality is marked as <em>obsolete</em>, i.e. <em>\"the design of the corresponding declarations has serious known flaws and they will be redesigned in the future.\"</em> In this case the reason is that it isn't integrated with structured concurrency.</p>\n\n<pre><code>fun main() = runBlocking {\n    println(\"\\nFIXED_PERIOD\")\n    val tickerPeriodMode = ticker(100, 0, mode = TickerMode.FIXED_PERIOD)\n    consumer(tickerPeriodMode)\n\n    println(\"\\nFIXED_DELAY\")\n    val tickerDelayMode = ticker(100, 0, mode = TickerMode.FIXED_DELAY)\n    consumer(tickerDelayMode)\n}\n\nprivate suspend fun CoroutineScope.consumer(ticker: ReceiveChannel&lt;Unit&gt;) {\n    val job = launch {\n        var i = 0\n        while (isActive) {\n            val waitTime = measureTimeMillis {\n                ticker.receive()\n            }\n            print(\"[%4d ms]\".format(waitTime))\n\n            if (i++ == 1) {\n                delay(150)\n                println(\" adding extra 150ms delay\")\n            } else\n                println(\" going ahead\")\n        }\n    }\n    delay(1_000L)\n    job.cancel()\n    ticker.cancel() // indicate that no more elements are needed\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>FIXED_PERIOD\n[   1 ms] going ahead\n[  91 ms] adding extra 150ms delay\n[   0 ms] going ahead\n[  46 ms] going ahead\n[ 100 ms] going ahead\n[ 102 ms] going ahead\n[  98 ms] going ahead\n[ 100 ms] going ahead\n[  99 ms] going ahead\n[ 100 ms] going ahead\n[ 100 ms] going ahead\n\nFIXED_DELAY\n[   0 ms] going ahead\n[ 105 ms] adding extra 150ms delay\n[   0 ms] going ahead\n[ 101 ms] going ahead\n[ 100 ms] going ahead\n[ 103 ms] going ahead\n[ 103 ms] going ahead\n[ 101 ms] going ahead\n[ 101 ms] going ahead\n[ 105 ms] going ahead\n</code></pre>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 53918213, "answer_count": 1, "score": 1, "last_activity_date": 1545789465, "creation_date": 1545190854, "question_id": 53844266, "link": "https://stackoverflow.com/questions/53844266/difference-between-kotlin-tickermodes", "title": "Difference between Kotlin TickerModes", "body": "<p>I'm having trouble understanding the difference between Kotlin ticker channel <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/-ticker-mode/index.html\" rel=\"nofollow noreferrer\"><code>TickerMode.FIXED_DELAY</code> and <code>TickerMode.FIXED_PERIOD</code></a>.  I've played with both, but I'm unable to draw inferences from their behavior.  I've also read the example in the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/channels.md#ticker-channels\" rel=\"nofollow noreferrer\">docs</a>.  I would be grateful for a clearer explanation, with an illustration of each.</p>\n"}, {"tags": ["reflection", "kotlin", "annotations", "jvm"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194170, "post_id": 53843771, "comment_id": 94537004, "body": "It would help to show your Kotlinc code using reflection that fails to work because that is where the error is.  You listed statements about it but we don&#39;t know if you failed to do those correctly, therefore you could assume there is no bug there, but it might be.  Nothing should stop you from seeing that field, it is there, it is clear in the bytecode, but your code isn&#39;t showing it.  Therefore you have an error.  Kotlin does not hide the annotations, including from Java reflection which would work as normal."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194259, "post_id": 53843771, "comment_id": 94537023, "body": "@JaysonMinard Added.  There&#39;s a lot there."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194278, "post_id": 53843771, "comment_id": 94537027, "body": "Is the annotation library in the runtime classpath as well?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194360, "post_id": 53843771, "comment_id": 94537043, "body": "Can you show the <code>kclass</code> assignment please, and remove everything about the constructor, it is a field and would not appear there unless it was allowed to be on a method parameter.  Plus you checked the bytecode and saw it on the field."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194424, "post_id": 53843771, "comment_id": 94537055, "body": "is it <code>val kclass = MyDataClass::class</code> ?  or something else."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545194584, "post_id": 53843771, "comment_id": 94537089, "body": "@JaysonMinard Yes, kclass is the KClass instance of the data class.  I have kotlin-stdlib-jdk7 and kotlin-reflect as implementation depedencies.  I&#39;m not aware of any special annotation library to add.  I&#39;m not doing annotation processing, just runtime reflection.  The output is as I would expect, except I don&#39;t find the annotation until I make changes to the annotation as described."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1545196592, "post_id": 53843771, "comment_id": 94537562, "body": "@JaysonMinard There were some inaccuracies above.  I said if if I changed the kotlin annotation to FIELD it would change the kotlin kclass field, but it was actually PROPERTY that did so.  It seems that FIELD only modifies the backing Java field for the data class property, but you need to have PROPERTY in a Kotlin native annotation to get it to show up."}], "answers": [{"comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545191064, "post_id": 53844248, "comment_id": 94536377, "body": "I want to use the original Firestore PropertyName annotation shown at the beginning, not the one I modified in Kotlin for debugging.  I don&#39;t want to have to introduce a new one.  If it&#39;s not clear from my question, I don&#39;t understand why I can&#39;t seem to find the original at all."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545193096, "post_id": 53844248, "comment_id": 94536778, "body": "@DougStevenson I downloaded <code>com.google.firebase:firebase-database:16.0.5</code> and it shows <code>2018-12-19 12:16:16.664 25648-25648&#47;com.example.application E&#47;x: @com.google.firebase.database.PropertyName(value=z)</code> with above code"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545193567, "post_id": 53844248, "comment_id": 94536870, "body": "I have to point out that you&#39;re showing a PropertyName annotation that&#39;s different than I showed in my question.  The Firestore SDK isn&#39;t written in Kotlin and it wouldn&#39;t have a Kotlin-syntax annotation class.  Also, Firestore is different than Realtime Database.  The firebase-database artifact is for Realtime Database, not Firestore.  Please use what I showed in the question."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545193893, "post_id": 53844248, "comment_id": 94536952, "body": "@DougStevenson Please state which exact package firebase package are you using. Do you mean <code>com.google.firebase:firebase-admin:6.6.0</code>?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545194114, "post_id": 53844248, "comment_id": 94536992, "body": "Both that on JVM and firebase-firestore on Android, latest versions of both.  They&#39;re essentially the same in terms of that annotation, and it hasn&#39;t changed over versions.   My goal is to automatically map Firestore document fields into the data class. Even if the annotation shows up in the java declared field, I&#39;d prefer to go through a more standard Kotlin understanding of the data class rather than try to depend on the java backing field."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545194230, "post_id": 53844248, "comment_id": 94537017, "body": "and @DougStevenson did you try this code even though it is for a different annotation?  Is the annotation present in the classpath at runtime?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545196722, "post_id": 53844248, "comment_id": 94537593, "body": "So it turns out that FIELD gets you an annotation only on Java&#39;s declaredField reflection items, as stated here (which I wasn&#39;t trying before).  I was was expecting that annotating a data class property would result in an annotation somewhere in Kotlin&#39;s reckoning of reflection, which apparently isn&#39;t the case.  It doesn&#39;t promote Java concepts to Kotlin concepts.  Is my understanding correct?"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545198301, "post_id": 53844248, "comment_id": 94538029, "body": "@DougStevenson Yes, <code>FIELD</code> means backing fields and <code>PROPERTY</code> means getter, setter and backing fields. You can read <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545198477, "post_id": 53844248, "comment_id": 94538095, "body": "Yeah, I just read that, but what was unclear is the terminology used by the annotations.  It&#39;s not clear from any documentation that I found that FIELD means <b>only</b> backing fields, and that Kotlin will push that annotation on properties down to the backing field.  That was totally unexpected to me.  I figured it would annotate only the most &quot;shallow&quot; thing I had just annotated.  The javadoc/doc for annotations is pretty thin."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545199318, "post_id": 53844248, "comment_id": 94538352, "body": "@DougStevenson Kotlin has to introduce property because it auto covert getter and setter from Java and vise versa. If you have <code>getFoo</code> and <code>setFoo</code> in Java library, you can access by <code>.foo</code> directly in Kotlin. However, to keep the compatibility with Java annotation, it also introduce which annotation should it map to Java."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1545199730, "post_id": 53844248, "comment_id": 94538480, "body": "And that&#39;s what I couldn&#39;t find in documentation.  My answer here describes."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1545190707, "creation_date": 1545190707, "answer_id": 53844248, "question_id": 53843771, "link": "https://stackoverflow.com/questions/53843771/how-to-list-java-annotations-on-kotlin-data-class-fields/53844248#53844248", "title": "How to list (java) annotations on Kotlin data class fields?", "body": "<p>While I can find it in Kotlin <code>KClass</code>, I can find it in Java.</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\nannotation class PropertyName(val value: String)\n\ndata class MyDataClass(\n    @PropertyName(\"z\") val x: Int\n)\n</code></pre>\n\n<p>And I use the following code</p>\n\n<pre><code>val a = MyDataClass(1)\na::class.java.declaredFields.forEach {\n    it.annotations.forEach { annotation -&gt;\n        Log.e(it.name, annotation.toString())\n    }\n}\n</code></pre>\n\n<p>It print </p>\n\n<blockquote>\n  <p>2018-12-19 11:33:07.663 25318-25318/com.example.application E/x: @com.example.PropertyName(value=z)</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 6196, "user_id": 58962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8c882c9b948732cb30f3cc4d1fdc86c9?s=128&d=identicon&r=PG", "display_name": "Michael B&#246;ckling", "link": "https://stackoverflow.com/users/58962/michael-b%c3%b6ckling"}, "edited": false, "score": 0, "creation_date": 1601376959, "post_id": 53845423, "comment_id": 113382746, "body": "Thanks for the explanation, this just bit me as well. Seeing nothing on <code>KProperty.javaField.annotations</code> was unexpected."}, {"owner": {"reputation": 6196, "user_id": 58962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8c882c9b948732cb30f3cc4d1fdc86c9?s=128&d=identicon&r=PG", "display_name": "Michael B&#246;ckling", "link": "https://stackoverflow.com/users/58962/michael-b%c3%b6ckling"}, "edited": false, "score": 0, "creation_date": 1601378107, "post_id": 53845423, "comment_id": 113383218, "body": "Hmm actually I still don&#39;t understand why I&#39;m not seeing anything on <code>KProperty.javaField.annotations</code>, I expected to find the Jackson <code>@JsonProperty</code> annotation there. <code>KProperty.getter.javaMethod.annotations</code> is empty as well."}, {"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "reply_to_user": {"reputation": 6196, "user_id": 58962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8c882c9b948732cb30f3cc4d1fdc86c9?s=128&d=identicon&r=PG", "display_name": "Michael B&#246;ckling", "link": "https://stackoverflow.com/users/58962/michael-b%c3%b6ckling"}, "edited": false, "score": 0, "creation_date": 1614265432, "post_id": 53845423, "comment_id": 117338080, "body": "@MichaelB&#246;ckling did you resolve it?"}, {"owner": {"reputation": 6196, "user_id": 58962, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8c882c9b948732cb30f3cc4d1fdc86c9?s=128&d=identicon&r=PG", "display_name": "Michael B&#246;ckling", "link": "https://stackoverflow.com/users/58962/michael-b%c3%b6ckling"}, "edited": false, "score": 0, "creation_date": 1614283698, "post_id": 53845423, "comment_id": 117346209, "body": "If I remember correctly, I was looking in the wrong - should have checked the constructor arguments, not the class fields."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 5, "last_activity_date": 1545200022, "last_edit_date": 1545200022, "creation_date": 1545199478, "answer_id": 53845423, "question_id": 53843771, "link": "https://stackoverflow.com/questions/53843771/how-to-list-java-annotations-on-kotlin-data-class-fields/53845423#53845423", "title": "How to list (java) annotations on Kotlin data class fields?", "body": "<p>The problem here is that my expectations (and possibly the documentation) didn't prepare me for what the Kotlin compiler will do with annotations of various types.  My assumption was that a FIELD target annotation target on a Kotlin data class property would apply the annotation directly to the Kotlin synthetic property.  This assumption was not true.</p>\n\n<p>What Kotlin will do with a FIELD annotation on a synthetic property is push the FIELD annotation down to the actual <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">backing field</a> for the property in the generated class file.  This means that any sort of reflection on the annotated Kotlin property will not find the annotation at all.  <strong>You have to reach down into the Java Class object to find it.</strong></p>\n\n<p>If you want to annotate a Kotlin class property, and have it found via KClass reflection, you have to use the PROPERTY type annotation, which is unique to Kotlin.  With this, if you find the property in the <code>members</code> list of a KClass, it will have that annotation (but not the underlying backing field!).</p>\n\n<p>Going further, with Kotlin data classes, the constructor is the most important thing that defines the properties for the class.  So, if you want to create a data class instance via reflection at runtime, it might be best to annotate its properties via its constructor.  This means applying an annotation with the VALUE_PARAMETER type to the data class constructor properties, where they can be discovered by reflection of the constructor parameters itself.</p>\n\n<p>In a more general sense, the annotation types that are defined by Java <strong>only</strong> apply to Java Class reflection, while the annotation types extended by Kotlin <strong>only</strong> apply to KClass reflection.  The Kotlin compiler will forbid you from using Kotlin-specific annotation types on Java elements.  The exception here is that, it will allow you to apply Java annotation types to Kotlin concepts (properties with backing fields) that \"boil down\" to Java native concepts.  (FWIW, if you copy Java native annotation code into Kotlin and have it auto-convert, the conversion may not make sense without this in mind.)</p>\n\n<p>If your favorite Java library exposes only annotations that apply to Java layer concepts, consider asking them to provide Kotlin extensions that help you work with their annotations at a more purely Kotlin level.  Though this might be tricky to consume in Java code.</p>\n\n<p>Someone please update the docs.  :-)</p>\n"}], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4423, "favorite_count": 0, "accepted_answer_id": 53845423, "answer_count": 2, "score": 4, "last_activity_date": 1545200022, "creation_date": 1545186722, "last_edit_date": 1545196473, "question_id": 53843771, "link": "https://stackoverflow.com/questions/53843771/how-to-list-java-annotations-on-kotlin-data-class-fields", "title": "How to list (java) annotations on Kotlin data class fields?", "body": "<p>I am using Firestore's Java-based annotation for marking fields and methods for mapping document fields to Java class elements:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.FIELD})\npublic @interface PropertyName {\n  String value();\n}\n</code></pre>\n\n<p>I am using it on a field in a Kotlin data class, which compiles fine:</p>\n\n<pre><code>data class MyDataClass(\n    @PropertyName(\"z\") val x: Int\n)\n</code></pre>\n\n<p>In IntelliJ and Android Studio, I can see it show up in the decompiled class dump:</p>\n\n<pre><code>public final data class MyDataClass public constructor(x: kotlin.Int) {\n    @field:com.google.cloud.firestore.annotation.PropertyName public final val x: kotlin.Int /* compiled code */\n\n    public final operator fun component1(): kotlin.Int { /* compiled code */ }\n}\n</code></pre>\n\n<p>My impression at this point is that this annotation should be discoverable somehow via Kotlin reflection.  As far as I can tell, it is not.  I've tried iterating the annotations on:</p>\n\n<ol>\n<li>Each Kotlin data class constructor fields</li>\n<li>Each Kotlin field</li>\n<li>Each Kotlin function</li>\n<li>Each Java constructor</li>\n<li>Each Java field</li>\n<li>Each Java method</li>\n</ol>\n\n<p>It just does not show up anywhere.</p>\n\n<p>The moment I change the usage of the annotation like this (note the target specifier \"get\" now):</p>\n\n<pre><code>data class MyDataClass(\n    @get:PropertyName(\"z\") val x: Int\n)\n</code></pre>\n\n<p>The annotation now shows up in the generated getter of the Java class object.  This is at least workable in practice, but I'm curious why Kotlin lets me compile the annotation in as a field-targeted annotation, but doesn't allow me to get it back out at runtime (unless I'm missing something in the kotlin-reflect APIs?).</p>\n\n<p>If I use this Kotlin-based annotation instead:</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.PROPERTY)\nannotation class PropertyName(val value: String)\n</code></pre>\n\n<p>With this, the annotation shows up at runtime on the Kotlin field. This is curious because Java's ElementType.FIELD simply does not seem to map perfectly to Kotlin's AnnotationTarget.FIELD.</p>\n\n<p>(Incidentally, if I change this to AnnotationTarget.VALUE_PARAMETER, I can also discover this annotation in the data class constructor parameter.)</p>\n\n<p>This feels like a bug to me, but I'm open to seeing if I just did something wrong here.  Or maybe this is just not supported.  I'm using Kotlin 1.3.11.  Same behavior on JVM and Android.</p>\n\n<p>Code that looks for the annotation:</p>\n\n<pre><code>Log.d(\"@@@@@\", \"\\n\\nDump of $kclass\")\nval ctor = kclass.constructors.first()\nLog.d(\"@@@@@\", \"Constructor parameters\")\nctor.parameters.forEach { p -&gt;\n    Log.d(\"@@@@@\", p.toString())\n    Log.d(\"@@@@@\", p.annotations.size.toString())\n    p.annotations.forEach { a -&gt;\n        Log.d(\"@@@@@\", \"  \" + a.annotationClass)\n    }\n}\n\nLog.d(\"@@@@@\", \"kotlin functions\")\nkclass.functions.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n    if (f.annotations.isNotEmpty()) {\n        Log.d(\"@@@@@\", \"*** \" + f.annotations.toString())\n    }\n}\n\nLog.d(\"@@@@@\", \"kotlin members\")\nkclass.members.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n    if (f.annotations.isNotEmpty()) {\n        Log.d(\"@@@@@\", \"*** \" + f.annotations.toString())\n    }\n}\n\nLog.d(\"@@@@@\", \"kotlin declared functions\")\nkclass.declaredFunctions.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n    if (f.annotations.isNotEmpty()) {\n        Log.d(\"@@@@@\", \"*** \" + f.annotations.toString())\n    }\n}\n\nval t = kclass.java\nLog.d(\"@@@@@\", \"java constructors\")\nt.constructors.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n}\n\nLog.d(\"@@@@@\", \"java methods\")\nt.methods.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n    if (f.annotations.isNotEmpty()) {\n        Log.d(\"@@@@@\", \"*** \" + f.annotations.toString())\n    }\n}\n\nLog.d(\"@@@@@\", \"java fields\")\nt.fields.forEach { f -&gt;\n    Log.d(\"@@@@@\", f.toString())\n    if (f.annotations.isNotEmpty()) {\n        Log.d(\"@@@@@\", \"*** \" + f.annotations.toString())\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "autocompletetextview", "onitemclicklistener", "onitemlongclicklistener"], "answers": [{"tags": [], "owner": {"reputation": 1090, "user_id": 4224024, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-kELgIBdpawA/AAAAAAAAAAI/AAAAAAAAAFY/UXbpB5ymDKc/photo.jpg?sz=128", "display_name": "Liar", "link": "https://stackoverflow.com/users/4224024/liar"}, "is_accepted": false, "score": 1, "last_activity_date": 1545189436, "last_edit_date": 1545189436, "creation_date": 1545188463, "answer_id": 53843990, "question_id": 53843694, "link": "https://stackoverflow.com/questions/53843694/how-to-set-multiple-click-listener-to-autocompletetextview-in-android/53843990#53843990", "title": "How to Set Multiple Click Listener to AutoCompleteTextView in Android?", "body": "<p>In order to have multiple click listeners, you should build a custom <code>Adapter</code> with custom item layout. </p>\n\n<pre><code>class CustomAdapter(context: Context?, resource: Int) : ArrayAdapter&lt;Data&gt;(context, resource) {\n    private var mListener : IOnItemListener? = null\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View? {\n        var convertView = convertView\n\n        // Inflate layout\n\n        // Listeners\n        val textViewItem = convertView!!.findViewById(R.id.textViewItem) as TextView\n\n        textViewItem.setOnClickListener(View.OnClickListener {\n            mListener?.onClick(...)\n        })\n\n        textViewItem.setOnLongClickListener(View.OnLongClickListener {\n            mListener?.onLongClick(...)\n        })\n\n        return convertView;\n    }\n\n    fun setListener(listener: IOnItemListener) {\n        mListener = listener\n    }\n\n    interface IOnItemListener {\n        fun onClick(...)\n        fun onLongClick(...)\n    }\n}\n</code></pre>\n\n<p>Then somewhere else, call</p>\n\n<pre><code>val adapter : CustomAdapter = CustomAdapter(context, R.layout...)\nadapter.setListener(object: IOnItemListener()) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1390, "user_id": 5008350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1a4e1be55c07c7fa36359fd5cebca882?s=128&d=identicon&r=PG&f=1", "display_name": "I am a Student", "link": "https://stackoverflow.com/users/5008350/i-am-a-student"}, "is_accepted": true, "score": 0, "last_activity_date": 1566875911, "creation_date": 1566875911, "answer_id": 57667282, "question_id": 53843694, "link": "https://stackoverflow.com/questions/53843694/how-to-set-multiple-click-listener-to-autocompletetextview-in-android/57667282#57667282", "title": "How to Set Multiple Click Listener to AutoCompleteTextView in Android?", "body": "<p>Have created the Custom Adapter Class for the AutoCompleteTextView, Basically This Custom Adapter, in the <code>getView</code> function will create an Unique Individual Listener for each <code>TextView</code> that will be pop out by the <code>AutoCompleteTextView</code>.</p>\n\n<p><strong>Note:</strong> The <code>TextView</code> results that pop out by the <code>AutoCompleteTextView</code> is Customizable through <code>inner class ListFilter: Filter()</code> and <code>override fun publishResults(constraint: CharSequence?, results: FilterResults)</code> function</p>\n\n<p><strong>Custom Adapter Class</strong></p>\n\n<pre><code>class AutoCompleteTextViewCustomAdapter(context: Context, resource: Int, data: ArrayList&lt;String&gt;): ArrayAdapter&lt;String&gt;(context, resource) {\n\n    private var mListener: IOnItemListener? = null\n\n    private var dataList: List &lt;String&gt;? = data\n    private val listFilter = ListFilter()\n    private var dataListAllItems: List&lt;String&gt;? = null\n\n    override fun getView(position: Int, view: View? , parent: ViewGroup): View {\n        var adapterView = view\n\n        // using Custom XML View\n        if (adapterView == null) {\n                adapterView = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.list_row_text, parent, false)\n        }\n\n        val textView = adapterView!!.findViewById(R.id.textView) as TextView\n        textView.text = getItem(position)\n\n        // Custom OnClickListener Setup\n        textView.setOnLongClickListener {\n            mListener?.onLongClick(\"Pass Data\")\n            true\n        }\n        // Custom OnClickListener Setup\n        textView.setOnClickListener {\n            mListener?.onSingleClick(\"Pass Data\")\n        }\n\n        return adapterView\n    }\n\n    // Custom OnClickListener Setup\n    fun setListener(listener : IOnItemListener) {\n        mListener = listener\n    }\n\n    // Custom OnClickListener Setup that will be Called from the Activity/Fragment\n    interface IOnItemListener {\n        fun onLongClick(dataToBePass : String)\n        fun onSingleClick(dataToBePass : String)\n    }\n\n    // Custom Adapter Setup for AutoCompleteTextView\n    override fun getCount(): Int {\n        return dataList!!.size\n    }\n\n    override fun getItem(position: Int): String ? {\n        return dataList!![position]\n    }\n\n    override fun getFilter() : Filter {\n        return listFilter\n    }\n\n    inner class ListFilter: Filter() {\n        ..// Filtering Logic\n        return results\n    }\n\n    override fun publishResults(constraint: CharSequence?, results: FilterResults) {\n        ..// Filtering Logic\n    }\n}\n</code></pre>\n\n<p>So, when each <code>TextView</code> that pop out by the <code>AutoCompleteTextView</code> being onClick or onLongClick, the <strong>override method</strong> in <code>AutoCompleteTextViewCustomAdapter.IOnItemListener</code> will be called to perform logic function that you desire.</p>\n\n<p><strong>Activity/Fragment</strong> </p>\n\n<pre><code>val adapter = AutoCompleteTextViewCustomAdapter(context!!, R.layout.list_row_text, dataList).also {\n\n            //Setup the OnClickListener what to perform when the TextView of the Adapter if being onClick\n            it.setListener(object : AutoCompleteTextViewCustomAdapter.IOnItemListener {\n                override fun onLongClick(dataReceived: String) {\n                    // DO SOMETHING\n                }\n\n                override fun onSingleClick(dataReceived: String) {\n                    // DO SOMETHING\n                }\n            })\n        }\n\n        // Set the adapter to the AutoCompleteTextView View that define in your XML File\n        autoCompleteTextView.setAdapter(adapter)\n</code></pre>\n\n<p>So far this solution work for my Scenario, in short, to having a <strong>Multiple Click Listener to AutoCompleteTextView</strong>, we cannot use the <strong>Default Adapter</strong> as they only support Single onClickListener, so we have to Create Custom Adapter to customize and <strong>setup ALL the ClickListener</strong> to support multiple onClick Listener.</p>\n"}], "owner": {"reputation": 1390, "user_id": 5008350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1a4e1be55c07c7fa36359fd5cebca882?s=128&d=identicon&r=PG&f=1", "display_name": "I am a Student", "link": "https://stackoverflow.com/users/5008350/i-am-a-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 57667282, "answer_count": 2, "score": 3, "last_activity_date": 1566875911, "creation_date": 1545186101, "last_edit_date": 1566792029, "question_id": 53843694, "link": "https://stackoverflow.com/questions/53843694/how-to-set-multiple-click-listener-to-autocompletetextview-in-android", "title": "How to Set Multiple Click Listener to AutoCompleteTextView in Android?", "body": "<p>I have an <strong>AutoCompleteTextView</strong> that will show a list of Hints when type in few keyword that match with its ArrayAdapter Data.</p>\n\n<p>Currently, I have set an <strong>AdapterView.OnItemClickListener</strong> so when user click on the Hint, the soft keyboard on screen will be close.</p>\n\n<p><strong>What I trying to achieve :</strong></p>\n\n<ul>\n<li>I would like to add a functionality that allow user to Delete the Data of the Hint from the Database, so I was thinking to <strong>add another ClickListener for the AdapterView</strong> such as <strong>LongClickListener</strong>, so when user LongClick on the Hint, it will trigger a Dialog Pop Out and prompt the Delete Confirmation from the User. </li>\n</ul>\n\n<p>I been search for how to set LongClickListener on Autocomplete, however I could not find any solution on the net.</p>\n\n<p>I believe it is important to ensure the <strong>Click Listen</strong> able to obtain the <strong>position(in Int)</strong> or <strong>text data(in String)</strong> of the Hint as I would need to determine what are the Data that being selected and I can tell the Database to delete it.</p>\n\n<p><strong>My Questions:</strong></p>\n\n<p>How can I set a <strong>Long Click Listener</strong> for the AutoCompleteTextView that will also obtain the selected Hint position?</p>\n\n<p>Any other solution that could help to resolve what I trying to achieve is welcome, thank you.</p>\n\n<p><strong>Note:</strong> I would like to keep the functionality of the hide soft keyboard when Hint is selected. I accept <strong>Answer In Java Language</strong> as well.</p>\n\n<p><strong>What I have done so far :</strong></p>\n\n<pre><code> // Get an ArrayList&lt;String&gt; from database and declare to remarkList\n val remarkList: ArrayList&lt;String&gt; = getDataFromDatabase() \n\n // Set remarkList Data into ArrayAdapter\n val adapter = ArrayAdapter(context!!, android.R.layout.simple_list_item_1, remarkList)\n\n // Set ArrayAdapter to AutoCompleteTextView\n autoComplete_remarks.setAdapter&lt;ArrayAdapter&lt;String&gt;&gt;(adapter)\n\n        // When click the hint selection, will trigger close keyboard function\n        autoComplete_remarks.onItemClickListener =\n                AdapterView.OnItemClickListener { _: AdapterView&lt;*&gt;, _: View, position: Int, _: Long -&gt;\n\n                    hideKeyboard(activity!!)\n                }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1545186569, "post_id": 53843572, "comment_id": 94535489, "body": "I do not do kotlin but it would appear as if this part of the code <code>response: JSONObject -&gt;</code> means that <code>response</code> should be a <code>JSONObject</code> but according to the JSON example in your question the JSON is actually a <code>JSONArray</code>."}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 1, "creation_date": 1545195092, "post_id": 53843753, "comment_id": 94537207, "body": "Thanks Gianh Tran for your response. After change into JsonArray Request Request the code worked fine."}], "tags": [], "owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "is_accepted": false, "score": 0, "last_activity_date": 1545186609, "creation_date": 1545186609, "answer_id": 53843753, "question_id": 53843572, "link": "https://stackoverflow.com/questions/53843572/recyclerview-is-displaying-null-value-but-no-error-in-the-log/53843753#53843753", "title": "RecyclerView is displaying Null Value but No Error in the log", "body": "<p>You have some issue when you add data to your adapter,</p>\n\n<p>Update your adapter as below</p>\n\n<pre><code>class TestListAdapter( private val context: Context):RecyclerView.Adapter&lt;TestListAdapter.ViewHolder&gt;()\n\n    private val list = arrayListOf&lt;TestModel&gt; \n\n    public fun injectData(list : ArrayList&lt;TestModel&gt;){\n    this.list.addAll(list)\n    notifyDataSetChanged() \n} \n\n    {\n        override fun getItemCount(): Int {\n            return list.size\n        }\n\n        override fun onCreateViewHolder(p0: ViewGroup, p1: Int): ViewHolder {\n\n            val view \n\n=LayoutInflater.from(context).inflate(R.layout.list_Test,p0,false)\n        return ViewHolder(view)\n    }\n\n    override fun onBindViewHolder(p0: ViewHolder, p1: Int) {\n\n        p0?.bindItem(list[p1])\n    }\n\n\n    class ViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n        fun bindItem(Test:TestModel)\n        {\n            var name:TextView=itemView.findViewById&lt;TextView&gt;(R.id.CatName)\n            name.text=Test.name\n\n        }\n    }\n}\n</code></pre>\n\n<p>and in your <code>TestClass</code>:</p>\n\n<pre><code>            adapter = TestListAdapter(this)\n            layoutManager = LinearLayoutManager(this)\n            recyclerViewTest.layoutManager = layoutManager\n            recyclerViewTest.adapter = adapter\n\n         try {\n            for (i in 0..response.length() - 1) {\n                val Test=TestModel()\n                val catObj = response.getJSONObject(i)\n\n                var name = catObj.getString(\"name\")\n\n                Test.name = name\n                Log.d(\"Name Result==&gt;&gt;\", name)\n                TestList!!.add(Test)\n            }\n\n            adapter.injectData(TestList);\n\n\n        }catch (e: JSONException) { e.printStackTrace()}\n</code></pre>\n\n<p>And the minor thing, please consider when using <code>!!</code>, you should check null before using</p>\n\n<p>Example, Instead of </p>\n\n<pre><code>TestList!!.add(Test)\n</code></pre>\n\n<p>Try</p>\n\n<pre><code>TestList?.let {\n  it.add(Test)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545195009, "post_id": 53843846, "comment_id": 94537185, "body": "Thanks Barns, for your response. It worked perfectly."}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545244373, "post_id": 53843846, "comment_id": 94562252, "body": "Accepted it. I am not sure how to close this one."}, {"owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545246979, "post_id": 53843846, "comment_id": 94563403, "body": "I already did and let me know if it still shows pending for solution."}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "reply_to_user": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "edited": false, "score": 0, "creation_date": 1545254127, "post_id": 53843846, "comment_id": 94566322, "body": "@JoshvaJo :: Thanks you! Good luck on your project!"}], "tags": [], "owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "is_accepted": true, "score": 0, "last_activity_date": 1545187306, "creation_date": 1545187306, "answer_id": 53843846, "question_id": 53843572, "link": "https://stackoverflow.com/questions/53843572/recyclerview-is-displaying-null-value-but-no-error-in-the-log/53843846#53843846", "title": "RecyclerView is displaying Null Value but No Error in the log", "body": "<p>As I mentioned on my comment--I am not that familiar with the kotlin language, but the JSON example you posted: </p>\n\n<blockquote>\n  <p>[{\"id\":\"1\",\"name\":\"AAAA\"},{\"id\":\"3\",\"name\":\"BBBB\"}]</p>\n</blockquote>\n\n<p>is actually an <code>JSONArray</code> not a <code>JSONObject</code> so I think the code you should look like this:</p>\n\n<pre><code>fun getTest(url: String) {\n\n    print(\"Url Value is:\"+url)\n    val catRequest = JsonArrayRequest(Request.Method.GET,\n            url, Response.Listener {\n        response: JSONArray -&gt;\n        try {\n            for (i in 0..response.length() - 1) {\n                val Test=TestModel()\n                val catObj = response.getJSONObject(i)\n\n                var name = catObj.getString(\"name\")\n\n                Test.name = name\n                Log.d(\"Name Result==&gt;&gt;\", name)\n                TestList!!.add(Test)\n                adapter = TestListAdapter(TestList!!, this)\n                layoutManager = LinearLayoutManager(this)\n                recyclerViewTest.layoutManager = layoutManager\n                recyclerViewTest.adapter = adapter\n            }\n\n            adapter!!.notifyDataSetChanged()\n\n\n        }catch (e: JSONException) { e.printStackTrace()}\n\n    },\n            Response.ErrorListener {\n                error: VolleyError? -&gt;\n                try {\n                    Log.d(\"Error:\", error.toString())\n\n                }catch (e: JSONException){e.printStackTrace()}\n            })\n    volleyRequest!!.add(catRequest)\n}\n</code></pre>\n\n<h2><br></h2>\n\n<p><br></p>\n\n<p>Notice that the <code>JsonArrayRequest</code> is in place of the <code>JsonObjectRequest</code> and the response is <code>JSONArray</code> instead of the <code>JSONObject</code>.</p>\n"}], "owner": {"reputation": 120, "user_id": 10707475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3W5M.jpg?s=128&g=1", "display_name": "Jo.........", "link": "https://stackoverflow.com/users/10707475/jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 53843846, "answer_count": 2, "score": 1, "last_activity_date": 1545194957, "creation_date": 1545184888, "last_edit_date": 1545194957, "question_id": 53843572, "link": "https://stackoverflow.com/questions/53843572/recyclerview-is-displaying-null-value-but-no-error-in-the-log", "title": "RecyclerView is displaying Null Value but No Error in the log", "body": "<p>I am trying to display list using recycler view but I am getting <code>null</code> value. I have three classes <code>Test</code>, <code>TestModel</code> and <code>TestListAdapter</code>. Below is my Json Output. I am getting an error in one place. </p>\n\n<p><code>val catObj = response.getJSONObject(i)</code>. </p>\n\n<p>If I mention <code>i</code> as <code>int</code> then I am getting an error so, I need to enter <code>i.toString()</code> for string conversion. Even after converting the <code>i</code> to string, I am not getting the output and no error in the error log. I am using <code>Volley</code> and <code>Kotlin</code> in my code. Any help is appreciated. </p>\n\n<pre><code>Error:--Type Mismatch\n\n val catObj = response.getJSONObject(i)\n</code></pre>\n\n<p>Json Output:</p>\n\n<pre><code>[{\"id\":\"1\",\"name\":\"AAAA\"},{\"id\":\"3\",\"name\":\"BBBB\"}]\n</code></pre>\n\n<p>Test Class:</p>\n\n<pre><code>class Test : AppCompatActivity() {\n\nvar volleyRequest:RequestQueue?=null\nvar TestList: ArrayList&lt;TestModel&gt;?=null\nvar adapter:TestListAdapter?=null\nvar layoutManager: RecyclerView.LayoutManager?=null\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_Test)\n\n\n var HelloLink=\"https://www.abc.app\"\n TestList= ArrayList&lt;TestModel&gt;()\n volleyRequest = Volley.newRequestQueue(this)\n\n    getTest(HelloLink)\n}\n\nfun getTest(url: String) {\n\n    print(\"Url Value is:\"+url)\n    val catRequest = JsonObjectRequest(Request.Method.GET,\n            url, Response.Listener {\n        response: JSONObject -&gt;\n        try {\n            for (i in 0..response.length() - 1) {\n                val Test=TestModel()\n                val catObj = response.getJSONObject(i)\n\n                var name = catObj.getString(\"name\")\n\n                Test.name = name\n                Log.d(\"Name Result==&gt;&gt;\", name)\n                TestList!!.add(Test)\n                adapter = TestListAdapter(TestList!!, this)\n                layoutManager = LinearLayoutManager(this)\n                recyclerViewTest.layoutManager = layoutManager\n                recyclerViewTest.adapter = adapter\n            }\n\n            adapter!!.notifyDataSetChanged()\n\n\n        }catch (e: JSONException) { e.printStackTrace()}\n\n    },\n            Response.ErrorListener {\n                error: VolleyError? -&gt;\n                try {\n                    Log.d(\"Error:\", error.toString())\n\n                }catch (e: JSONException){e.printStackTrace()}\n            })\n    volleyRequest!!.add(catRequest)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>TestListAdapter Class</p>\n\n<pre><code>    class TestListAdapter(private val list:ArrayList&lt;TestModel&gt;,\n                              private val context: Context):RecyclerView.Adapter&lt;TestListAdapter.ViewHolder&gt;()\n\n    {\n        override fun getItemCount(): Int {\n            return list.size\n        }\n\n        override fun onCreateViewHolder(p0: ViewGroup, p1: Int): ViewHolder {\n\n            val view \n\n=LayoutInflater.from(context).inflate(R.layout.list_Test,p0,false)\n        return ViewHolder(view)\n    }\n\n    override fun onBindViewHolder(p0: ViewHolder, p1: Int) {\n\n        p0?.bindItem(list[p1])\n    }\n\n\n    class ViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n        fun bindItem(Test:TestModel)\n        {\n            var name:TextView=itemView.findViewById&lt;TextView&gt;(R.id.CatName)\n            name.text=Test.name\n\n        }\n    }\n}\n</code></pre>\n\n<p>Model Class</p>\n\n<pre><code>class TestModel\n{\n    var id:Int?=null\n    var name:String?=null\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1545181574, "post_id": 53843042, "comment_id": 94534565, "body": "yes. I put a log before and after the assignment. Furthermore, i&#39;m seting the value to a label in the UI. When I press the button first time it shows &quot;1&quot; (because I returned newround from method). But when I press multiple times it keep showing 1 (because value to round is always 0)."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 3, "creation_date": 1545181973, "post_id": 53843042, "comment_id": 94534629, "body": "Do you have a custom setter for <code>round</code>? Looks like you forgot to actually <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">save the value in the backing <code>field</code></a>?"}], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 1, "creation_date": 1545182811, "post_id": 53843314, "comment_id": 94534775, "body": "that was the problem!"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 2, "last_activity_date": 1545182200, "creation_date": 1545182200, "answer_id": 53843314, "question_id": 53843042, "link": "https://stackoverflow.com/questions/53843042/whats-wrong-with-this-simple-var-assignment-in-kotlin/53843314#53843314", "title": "Whats wrong with this simple var assignment in Kotlin?", "body": "<p>I see you have <code>set</code> defined for <code>round</code>:</p>\n\n<pre><code>private var round: Int = 0\n    set(value) {\n        matches = rounds[value].matches\n\n        notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>But you forgot to actually <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">update the value of the backing field</a>. Setter should look like this:</p>\n\n<pre><code>private var round: Int = 0\n    set(value) {\n        field = value // Note this line\n        matches = rounds[value].matches\n\n        notifyDataSetChanged()\n    }\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53843314, "answer_count": 1, "score": 1, "last_activity_date": 1545182200, "creation_date": 1545179605, "last_edit_date": 1545181737, "question_id": 53843042, "link": "https://stackoverflow.com/questions/53843042/whats-wrong-with-this-simple-var-assignment-in-kotlin", "title": "Whats wrong with this simple var assignment in Kotlin?", "body": "<p>I've this RecyclerView adapter class which has a method offsetRound in it.</p>\n\n<pre><code>class LeagueRoundAdapter(private val rounds: List&lt;RoundVO&gt;) : RecyclerView.Adapter&lt;MatchViewHolder&gt;() {\n    private var round: Int = 0\n        set(value) {\n            matches = rounds[value].matches\n\n            notifyDataSetChanged()\n        }\n\n\n    fun offsetRound(offset: Int): Int {\n        var newround = round + offset;\n        if (newround !in 0 until rounds.size) {\n            return round\n        }\n        round = newround\n        return newround\n    }\n\n    private var matches = rounds[round].matches\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MatchViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_match, parent, false)\n        return MatchViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return rounds[round].matches.size\n    }\n\n\n    override fun onBindViewHolder(holder: MatchViewHolder, position: Int) {\n        val matchVO = matches[position]\n        holder.bind(matchVO)\n    }\n}\n</code></pre>\n\n<p>When I push A prev/next button I want to increment/decrement the current round:</p>\n\n<pre><code>private fun setupEvents(){\n    btn_next_round.setOnClickListener{\n        val round = getAdapter().offsetRound(Integer.parseInt(btn_next_round.tag as String))\n        txt_round_info.text = \"$round\"\n    }\n\n    btn_prev_round.setOnClickListener{\n        val round = getAdapter().offsetRound(Integer.parseInt(btn_prev_round.tag as String))\n        txt_round_info.text = \"$round\"\n    }\n}\n</code></pre>\n\n<p>the button tags are \"1\" and \"-1\".</p>\n\n<p>The problem is that in this line <code>round = newround</code> the variable round doesn't take the value of newround, as you can see in this debug print:</p>\n\n<p>Before assignment:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5krrJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5krrJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>After:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TymcP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TymcP.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm kind of sleepy at the moment. Am I doing something stupid that I can not figure out?</p>\n\n<p>EDIT</p>\n\n<p>I put a LOG before and after:</p>\n\n<pre><code>println(\"1. round: $round newround: $newround\")\nround = newround\nprintln(\"2. round: $round newround: $newround\")\nprintln(\"----\")\n</code></pre>\n\n<p>Pressing the button multiple times:</p>\n\n<pre><code>2018-12-18 23:08:11.830 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 1. round: 0 newround: 1\n2018-12-18 23:08:11.830 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 2. round: 0 newround: 1\n2018-12-18 23:08:11.830 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: ----\n2018-12-18 23:08:11.856 3349-3354/com.github.alexpfx.soccerchampionship I/zygote64: Do full code cache collection, code=504KB, data=333KB\n2018-12-18 23:08:11.857 3349-3354/com.github.alexpfx.soccerchampionship I/zygote64: After code cache collection, code=496KB, data=281KB\n2018-12-18 23:08:14.910 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 1. round: 0 newround: 1\n2018-12-18 23:08:14.911 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 2. round: 0 newround: 1\n2018-12-18 23:08:14.911 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: ----\n2018-12-18 23:08:15.661 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 1. round: 0 newround: 1\n2018-12-18 23:08:15.661 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 2. round: 0 newround: 1\n2018-12-18 23:08:15.661 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: ----\n2018-12-18 23:08:16.422 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 1. round: 0 newround: 1\n2018-12-18 23:08:16.422 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: 2. round: 0 newround: 1\n2018-12-18 23:08:16.423 3349-3349/com.github.alexpfx.soccerchampionship I/System.out: ----\n</code></pre>\n"}, {"tags": ["java", "design-patterns", "kotlin"], "comments": [{"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 2, "creation_date": 1545180145, "post_id": 53842682, "comment_id": 94534276, "body": "That looks like JSON. Can&#39;t you use a JSON parser like Gson, Jackson, org.json, etc?"}, {"owner": {"reputation": 903, "user_id": 4759182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aeb3a99d91298b5daac0ec647d445b?s=128&d=identicon&r=PG&f=1", "display_name": "rasilvap", "link": "https://stackoverflow.com/users/4759182/rasilvap"}, "reply_to_user": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 0, "creation_date": 1545188393, "post_id": 53842682, "comment_id": 94535860, "body": "Yes it is a json, but it is a restful service builded in kotlin/java, so I have to design a good approach to generate the final object."}], "owner": {"reputation": 903, "user_id": 4759182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aeb3a99d91298b5daac0ec647d445b?s=128&d=identicon&r=PG&f=1", "display_name": "rasilvap", "link": "https://stackoverflow.com/users/4759182/rasilvap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1545176494, "creation_date": 1545176494, "question_id": 53842682, "link": "https://stackoverflow.com/questions/53842682/design-compose-object-in-kotlin-java", "title": "Design Compose object in kotlin/Java", "body": "<p>I am working with an object with a compose structure as the directories one, when could be directories and files. The mock of the final response is something like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xLm9W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xLm9W.png\" alt=\"Response Mock\"></a></p>\n\n<p>I have created some data class, Section, with an array of items, and also the could have a children which has a section again.</p>\n\n<p>What I am doing is using hashMaps to build the complex object, but a better option could be use a creational pattern. I don't have enough experience using the creational patterns, and who is the more appropriate for this case.</p>\n\n<p>Thanks for any suggestion in advance. </p>\n"}, {"tags": ["android", "list", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545174399, "post_id": 53841844, "comment_id": 94532930, "body": "&gt;The mapIndexed will return the last item in the Lambda (this is not correct)"}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": false, "score": 1, "last_activity_date": 1545192020, "last_edit_date": 1545192020, "creation_date": 1545171105, "answer_id": 53841844, "question_id": 53841789, "link": "https://stackoverflow.com/questions/53841789/why-kotlin-map-indexed-returns-listany-insteand-of-listmyobject/53841844#53841844", "title": "Why kotlin map.indexed returns List&lt;Any&gt; insteand of List&lt;MyObject&gt;", "body": "<p>The mapIndexed will pass each item, and its index into the Lambda. It then adds the result of the Lambda to the new list. In your case, the return value of the Lambda is the <code>if</code> (as most items are expressions in Kotlin).</p>\n\n<p>The result of the <code>if</code> is either Unit in the case of index % 2 == 0 because the setter for age returns a Unit.</p>\n\n<p>If the <code>if</code> is false, it will also return Unit.</p>\n\n<p>To fix it, you need to return <code>person</code> at the end of the map.</p>\n\n<p>So if you made your code as below, it will work. </p>\n\n<pre><code>val mutablePersonsAgeChanged = mutablePersons.mapIndexed { index, person -&gt;\n    if (index.rem(2) == 0) {\n        person.age = person.age * 2\n    }\n    person\n}\n</code></pre>\n\n<p>It's also not necessary to create a List, and then add all the elements to a mutableList. Just change <code>listOf(personA, personB, personC)</code> to <code>mutableListOf(personA, personB, personC)</code></p>\n"}, {"tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 8, "last_activity_date": 1545174681, "last_edit_date": 1545174681, "creation_date": 1545174290, "answer_id": 53842390, "question_id": 53841789, "link": "https://stackoverflow.com/questions/53841789/why-kotlin-map-indexed-returns-listany-insteand-of-listmyobject/53842390#53842390", "title": "Why kotlin map.indexed returns List&lt;Any&gt; insteand of List&lt;MyObject&gt;", "body": "<p>In your case the function passed as the parameter of <code>mapIndexed</code> was inferred to <code>Any</code> because you miss the <code>else</code> branch of your <code>if</code> statement. Also, I'd like to mention that <code>mapIndexed</code> is like <code>map</code> but with the <code>index</code> of the element, so you need to pass a function that transforms every element.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>data class Person (val name : String, val age : Int)\n\nval personList = listOf(\n    Person(\"John\", 25), \n    Person(\"Ane\", 10), \n    Person(\"will\", 20)\n)\n\nval personListAgeChanged = personList.mapIndexed { index, person -&gt;\n    if (index.rem(2) == 0) person.copy(age = person.age*2)\n    else person\n}\n\nprintln(personListAgeChanged)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>[Person(name=john, age=50), Person(name=Ane, age=10), Person(name=will, age=40)]</p>\n</blockquote>\n\n<p>In this case, you pass a function that doubles the age of each person in the list, please notice that never any variable or list is mutated, which should be the prefered approach. </p>\n"}], "owner": {"reputation": 81, "user_id": 10808232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6d593b84f64c921ee22809f443d552?s=128&d=identicon&r=PG&f=1", "display_name": "RandomCoder", "link": "https://stackoverflow.com/users/10808232/randomcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6709, "favorite_count": 1, "accepted_answer_id": 53842390, "answer_count": 2, "score": 3, "last_activity_date": 1545192020, "creation_date": 1545170769, "question_id": 53841789, "link": "https://stackoverflow.com/questions/53841789/why-kotlin-map-indexed-returns-listany-insteand-of-listmyobject", "title": "Why kotlin map.indexed returns List&lt;Any&gt; insteand of List&lt;MyObject&gt;", "body": "<p>i'm playing a little bit with Kotlin and i don't understand this so, maybe someone can explain it to me.</p>\n\n<p>I have a data class which is:</p>\n\n<pre><code>data class Person (var name : String, var age : Int)\n</code></pre>\n\n<p>And i want to create a List which contains the Person with the multiplied age multiplied per 2, only on even items. So i created a new List and create a mutableList from it because i want to change their age. I did it in the following way: </p>\n\n<pre><code>    val personA = Person(\"john\", 25)\n    val personB = Person(\"Ane\", 10)\n    val personC = Person(\"will\", 20)\n    val personList = listOf(personA, personB, personC)\n    var mutablePersons = mutableListOf&lt;Person&gt;()\n    mutablePersons.addAll(personList)\n</code></pre>\n\n<p>And now i'm trying to create a new list with the items from <strong>mutablePersons</strong> modified. So i already did the following:</p>\n\n<pre><code>val mutablePersonsAgeChanged = mutablePersons.mapIndexed { index, person -&gt;\n        if (index.rem(2) == 0) {\n            person.age = person.age * 2\n        }\n    }\n</code></pre>\n\n<p>And.. there is something i'm not doing well, because <strong>mutablePersonAgeChanged</strong> is <code>List&lt;Any&gt;</code> and i want a <code>List&lt;Person&gt;</code>.</p>\n\n<p>So, my question is. What im doing wrong? How can make this mapIndexed Returns <code>List&lt;Person&gt;</code></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545163596, "post_id": 53840196, "comment_id": 94528894, "body": "Are you sure it is not the <code>val s: String</code> that it claims should be <code>String?</code>? Not sure why."}, {"owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545165483, "post_id": 53840196, "comment_id": 94529748, "body": "@EpicPandaForce well without it <code>s</code> becomes a <code>String?</code>. Even though it&#39;s guaranteed to be non null since I provided a non null <code>String</code> for the default value. This seems to be the case in a lot of the android platform types now. I&#39;m left wondering why they did this. Retrieving <code>Bundle</code> arguments is another one. Not only do you have to check if the key exists (because you get an internal NPE if it doesn&#39;t), but also if the data it references is null?"}], "answers": [{"comments": [{"owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "edited": false, "score": 1, "creation_date": 1545166158, "post_id": 53840772, "comment_id": 94530064, "body": "Thank you for explaining. Is there a way to disable a kotlin specific JVM warning?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "edited": false, "score": 1, "creation_date": 1545166633, "post_id": 53840772, "comment_id": 94530241, "body": "<i>Android Studio</i> gives you some options to suppress it. I&#39;m sadly not aware of other options."}, {"owner": {"reputation": 1081, "user_id": 6065032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a986538d45d245a747ed5a53ff95bb32?s=128&d=identicon&r=PG&f=1", "display_name": "B.shruti", "link": "https://stackoverflow.com/users/6065032/b-shruti"}, "edited": false, "score": 1, "creation_date": 1568183021, "post_id": 53840772, "comment_id": 102189058, "body": "So Any idea, how to remove this warning ?"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1545165835, "creation_date": 1545165835, "answer_id": 53840772, "question_id": 53840196, "link": "https://stackoverflow.com/questions/53840196/android-studio-kotlin-type-mismatch-for-platform-types/53840772#53840772", "title": "Android Studio Kotlin type mismatch for platform types", "body": "<p>Looking at the code of <a href=\"https://android.googlesource.com/platform/frameworks/base.git/+/master/core/java/android/content/SharedPreferences.java#263\" rel=\"nofollow noreferrer\"><code>SharedPreferences</code></a>, it's defined as</p>\n\n<pre><code>@Nullable\nString getString(String key, @Nullable String defValue);\n</code></pre>\n\n<p>Having a look at it within <em>Android Studio</em>, the code implies</p>\n\n<pre><code>@Contract(value=\"_,!null-&gt;!null\")\n</code></pre>\n\n<p>But this is not defined within the source itself and not considered by <em>Android Studio</em>. When you have a closer look at the warning itself, you'll find it's the <em>Kotlin</em> <strong>NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS</strong> <em>JVM</em> errors diagnostic.</p>\n\n<p>Anyhow the <code>@Nullable</code> annotation is just a suggestion, and the explicit declaration takes precedence.</p>\n"}], "owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 53840772, "answer_count": 1, "score": 5, "last_activity_date": 1545165835, "creation_date": 1545163195, "question_id": 53840196, "link": "https://stackoverflow.com/questions/53840196/android-studio-kotlin-type-mismatch-for-platform-types", "title": "Android Studio Kotlin type mismatch for platform types", "body": "<p>In all of my kotlin projects, I have found new warnings involving what use to be platform types. For example</p>\n\n<pre><code>val s: String = sharedPrefs.getString(\"key\", \"defaultValue\")\n</code></pre>\n\n<p>produces a warning</p>\n\n<p><code>Type mismatch: inferred type is String? but String was expected</code></p>\n\n<p>It compiles fine though so it seems to be unrelated to kotlins enforcing nullable type. But this warning seems to have popped up in the recent weeks which may be related to a change in android studio or the kotlin plugin.</p>\n\n<p>In this specific case, why doesn't the inferred type match what I provided in the 2nd argument (a <code>String</code> not a <code>String?</code>)</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 9897182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6db1734c214b5418f149b42bf0ddca?s=128&d=identicon&r=PG&f=1", "display_name": "user9897182", "link": "https://stackoverflow.com/users/9897182/user9897182"}, "edited": false, "score": 0, "creation_date": 1545237886, "post_id": 53841329, "comment_id": 94559155, "body": "Yep. You have right. In addQueryParameter I had &#39;&#39;api&#39;&#39; instead &#39;&#39;apikey&#39;&#39;."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 5, "last_activity_date": 1545168423, "creation_date": 1545168423, "answer_id": 53841329, "question_id": 53839209, "link": "https://stackoverflow.com/questions/53839209/e-androidruntime-fatal-exception-main-and-coroutine-retrofit2/53841329#53841329", "title": "E/AndroidRuntime: FATAL EXCEPTION: main and Coroutine, Retrofit2", "body": "<p>You receive server error <code>400 Bad Request</code> response. This status code indicates that the server could not understand the request due to invalid syntax. Try to debug or put some logs and see what you are really sending to the server. I think the good place to debug is in the implementation of <code>Interceptor</code> interface.</p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1550838079, "last_edit_date": 1550838079, "creation_date": 1550836871, "answer_id": 54826668, "question_id": 53839209, "link": "https://stackoverflow.com/questions/53839209/e-androidruntime-fatal-exception-main-and-coroutine-retrofit2/54826668#54826668", "title": "E/AndroidRuntime: FATAL EXCEPTION: main and Coroutine, Retrofit2", "body": "<p>As @Sergey said, it is a server error.</p>\n\n<p>In my case it couldn't be caught by an API and the server wrote: <code>An internal server error occurred.</code> (code 500) instead of a JSON.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10340838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GHQJ3RyIWbw/AAAAAAAAAAI/AAAAAAAABe0/FLlVG85qSpY/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/10340838/ashish-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1562583507, "last_edit_date": 1562583507, "creation_date": 1562582906, "answer_id": 56933298, "question_id": 53839209, "link": "https://stackoverflow.com/questions/53839209/e-androidruntime-fatal-exception-main-and-coroutine-retrofit2/56933298#56933298", "title": "E/AndroidRuntime: FATAL EXCEPTION: main and Coroutine, Retrofit2", "body": "<p>Replace <code>@GET(currency)</code> to <code>@GET(currency.json)</code></p>\n"}], "owner": {"reputation": 215, "user_id": 9897182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f6db1734c214b5418f149b42bf0ddca?s=128&d=identicon&r=PG&f=1", "display_name": "user9897182", "link": "https://stackoverflow.com/users/9897182/user9897182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3040, "favorite_count": 0, "accepted_answer_id": 53841329, "answer_count": 3, "score": 2, "last_activity_date": 1562583507, "creation_date": 1545158334, "last_edit_date": 1545166308, "question_id": 53839209, "link": "https://stackoverflow.com/questions/53839209/e-androidruntime-fatal-exception-main-and-coroutine-retrofit2", "title": "E/AndroidRuntime: FATAL EXCEPTION: main and Coroutine, Retrofit2", "body": "<p>I just started learning kotlin and my first app use Retrofit2 and Coroutine, but there is problem. I have some error, but by Coroutine the stack trace is very poor in informations. Maybe someone will find a mistake or knows hot to make the stack trace more informative.</p>\n\n<p>ApiService:</p>\n\n<pre><code>const val API_KEY = \"Bcae2032bb596c73b10bdab625c037da\"\n\ninterface CurrencyApi {\n\n//https://api.currencystack.io/currency?base=USD&amp;target=EUR&amp;apikey=Bcae2032bb596c73b10bdab625c037da\n\n@GET(\"currency\")\nfun getCurrentCurrency(\n    @Query(\"base\") base: String,\n    @Query(\"target\") target: String\n): Deferred&lt;Currency&gt;\n\ncompanion object {\n    operator fun invoke(): CurrencyApi {\n        val requestInterceptor = Interceptor { chain -&gt;\n\n            val url = chain.request()\n                .url()\n                .newBuilder()\n                .addQueryParameter(\"key\", API_KEY)\n                .build()\n            val request = chain.request()\n                .newBuilder()\n                .url(url)\n                .build()\n\n            return@Interceptor chain.proceed(request)\n        }\n\n        val okHttpClient = OkHttpClient.Builder()\n            .addInterceptor(requestInterceptor)\n            .build()\n\n        return Retrofit.Builder()\n            .client(okHttpClient)\n            .baseUrl(\"https://api.currencystack.io/\")\n            .addCallAdapterFactory(CoroutineCallAdapterFactory())\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n            .create(CurrencyApi::class.java)\n    }\n}\n</code></pre>\n\n<p>Activity:</p>\n\n<pre><code> class MainActivity : AppCompatActivity(), AdapterView.OnItemSelectedListener {\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n    val model = ViewModelProviders.of(this).get(MainViewModel::class.java)\n\n    val apiService = CurrencyApi()\n\n    GlobalScope.launch(Dispatchers.Main) {\n        val currency = apiService.getCurrentCurrency(\"PLN\", \"EUR\").await()\n        return@launch try {\n            text_view_test.text = currency.toString()\n        } catch (e: Exception) {\n\n        }\n    }\n</code></pre>\n\n<p>Logcat:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.daniellachacz.currencyconverter, PID: 10924\n      retrofit2.HttpException: HTTP 400 \n          at com.jakewharton.retrofit2.adapter.kotlin.coroutines.CoroutineCallAdapterFactory$BodyCallAdapter$adapt$2.onResponse(CoroutineCallAdapterFactory.kt:104)\n          at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:123)\n          at okhttp3.RealCall$AsyncCall.execute(RealCall.java:153)\n          at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n          at java.lang.Thread.run(Thread.java:818)</p>\n</blockquote>\n"}, {"tags": ["java", "regex", "kotlin", "pattern-matching"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1545156975, "post_id": 53838839, "comment_id": 94525981, "body": "Note that <code>\\s</code> matches a whitespace char, and <code>2.0</code> string has no whitespace after <code>0</code>. You may use <code>&quot;&quot;&quot;[0-4](?:\\.\\d{0,2})?|5(?:\\.0{0,2})?&quot;&quot;&quot;</code> to match your string. See <a href=\"https://rextester.com/VJX10843\" rel=\"nofollow noreferrer\">rextester.com/VJX10843</a>"}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "edited": false, "score": 0, "creation_date": 1545157318, "post_id": 53838839, "comment_id": 94526125, "body": "Your original regex isn&#39;t correct as it matches <code>4.</code> or <code>3.</code> and you really don&#39;t need to have two alternations just for handling <code>5</code> GPA and the way you are doing isn&#39;t fully correct. You can use this regex <code>^(?:5(?:\\.0{1,2})?|[0-4](?:\\.\\d{1,2})?)$</code> <a href=\"https://regex101.com/r/S1E767/1\" rel=\"nofollow noreferrer\">Demo here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5673760, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206616772992275/picture?type=large", "display_name": "Devun", "link": "https://stackoverflow.com/users/5673760/devun"}, "is_accepted": true, "score": 0, "last_activity_date": 1545158047, "creation_date": 1545158047, "answer_id": 53839153, "question_id": 53838839, "link": "https://stackoverflow.com/questions/53838839/kotlin-regex-for-gpa-not-matching/53839153#53839153", "title": "Kotlin Regex For GPA Not Matching", "body": "<p><code>^(?:5(?:\\.0{1,2})?|[0-4](?:\\.\\d{1,2})?)$</code> from @Pushpesh Kumar Rajwanshi's comment fixed my issue. Thanks for the prompt response and catching the missing 4. case.</p>\n"}], "owner": {"reputation": 1, "user_id": 5673760, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206616772992275/picture?type=large", "display_name": "Devun", "link": "https://stackoverflow.com/users/5673760/devun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "closed_date": 1545159008, "accepted_answer_id": 53839153, "answer_count": 1, "score": -1, "last_activity_date": 1553101008, "creation_date": 1545156681, "last_edit_date": 1553101008, "question_id": 53838839, "link": "https://stackoverflow.com/questions/53838839/kotlin-regex-for-gpa-not-matching", "closed_reason": "Duplicate", "title": "Kotlin Regex For GPA Not Matching", "body": "<p>So I made a regex to test valid GPAs such as 0.00 through 5.00 including things like 0, 4, 3.55, etc. Things that aren't valid include 6.0, 3.555, 0.000, 11.11, etc. On multiple websites I have verified that this Regex works for those cases.</p>\n\n<p><code>(([0-5]\\s)|([0-4]\\.\\d{0,2}\\s))|[5]\\.[0]{0,2}\\s</code></p>\n\n<p>However then I try and use this in Kotlin using the Java Regex class I'm not getting the expected results, always false for my test cases.</p>\n\n<p>Code with \"2.0\" test string:</p>\n\n<p><code>Regex(\"(([0-5]\\\\s)|([0-4]\\\\.\\\\d{0,2}\\\\s))|[5]\\\\.[0]{0,2}\\\\s\").matches(\"2.0\")</code></p>\n\n<p>I'm curious what I'm missing that is causing this to fail. I've escaped <code>/</code> characters and tried variations using string literals with no escaping, and also using Pattern/Matcher directly to no avail.</p>\n"}, {"tags": ["kotlin", "barcode-scanner", "android-camera2", "firebase-mlkit"], "comments": [{"owner": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 0, "creation_date": 1545220823, "post_id": 53838413, "comment_id": 94548944, "body": "I htink the problem is that YUV420888 and YV12 formats are not the same. I know only how to convert YUV420888 to NV21. Try to find your conversion."}, {"owner": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 0, "creation_date": 1545220972, "post_id": 53838413, "comment_id": 94549019, "body": "Also, you can choose JPEG in both places, but it will be much slower."}, {"owner": {"reputation": 21, "user_id": 6305028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V1xzqGemjvc/AAAAAAAAAAI/AAAAAAAAAN4/NoFG-AJpA74/photo.jpg?sz=128", "display_name": "Bob33700", "link": "https://stackoverflow.com/users/6305028/bob33700"}, "reply_to_user": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 1, "creation_date": 1545317307, "post_id": 53838413, "comment_id": 94588948, "body": "Yes I think so. Problem is that FirebaseVisionImageMetadata allows only YV12 and NV21 formats. I tried to configure ImageReader with those formats but none of thel are supported. I tried with PJEG in ImageReader but I don&#39;t know how to hanle it with FirebaseVision"}, {"owner": {"reputation": 21, "user_id": 6305028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V1xzqGemjvc/AAAAAAAAAAI/AAAAAAAAAN4/NoFG-AJpA74/photo.jpg?sz=128", "display_name": "Bob33700", "link": "https://stackoverflow.com/users/6305028/bob33700"}, "reply_to_user": {"reputation": 413, "user_id": 1392654, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/MC2Xb.jpg?s=128&g=1", "display_name": "While True", "link": "https://stackoverflow.com/users/1392654/while-true"}, "edited": false, "score": 1, "creation_date": 1545317460, "post_id": 53838413, "comment_id": 94589027, "body": "For now, I made a barcode scanner with ML vision and kotlin using old harware.camera API... but since it is deprecated I&#39;ll have to change this"}, {"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 0, "creation_date": 1580798060, "post_id": 53838413, "comment_id": 106205912, "body": "Hey @Bob33700, did you figure out a solution using Camera2?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4755299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fce4bed6c5e5f2fcba3a917351b19a?s=128&d=identicon&r=PG&f=1", "display_name": "Werner Dittmann", "link": "https://stackoverflow.com/users/4755299/werner-dittmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1550247816, "last_edit_date": 1550247816, "creation_date": 1549916817, "answer_id": 54638596, "question_id": 53838413, "link": "https://stackoverflow.com/questions/53838413/ml-barcode-scanner-from-camera-preview-stream/54638596#54638596", "title": "ML barcode scanner from camera preview stream?", "body": "<p>You need to hand over the data of all three planes to the FirebaseVisionImage.fromByteBuffer() function. Your code just hands over the first (Y-plane). The YV12 format uses one buffer (array) that contains the Y-data, followed by the U-data, followed by the V-data.</p>\n\n<p>The Image contains 3 separate buffers for the three values (Y, U, and V), however a real frame needs all three in one buffer (array). Thus you need to create one buffer and copy the contents of the three planes into it, in the right order according to the format (YV12 or NV21), and hand over that buffer (array).</p>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/YUV\" rel=\"nofollow noreferrer\">this Wikipedia article</a> and also this <a href=\"https://stackoverflow.com/questions/42000543/convert-yv12-to-nv21-yuv-ycrcb-420\">SO</a> question/answer which has some more info regarding conversion and layout of the YV12 and NV21 format. Yet another good source regarding these formats is the <a href=\"https://wiki.videolan.org/YUV\" rel=\"nofollow noreferrer\">VideoLan</a> wiki.</p>\n\n<p>A function may look like this:</p>\n\n<pre><code>override fun onImageAvailable(reader: ImageReader) {\n    val image = imageReader?.acquireLatestImage() ?: return\n    val planes = image.planes\n    if (planes.size &gt;= 3) {\n        val y = planes[0].buffer\n        val u = planes[1].buffer\n        val v = planes[2].buffer\n        val ly = y.remaining()\n        val lu = u.remaining()\n        val lv = v.remaining()\n\n        val dataYUV = ByteArray(ly + lu + lv)\n        y.get(dataYUV, 0, ly)\n        u.get(dataYUV, ly, lu)\n        v.get(dataYUV, ly + lu, lv)\n\n        val metadata = FirebaseVisionImageMetadata.Builder()\n            .setFormat(FirebaseVisionImageMetadata.IMAGE_FORMAT_YV12)\n            .setWidth(width)\n            .setHeight(height)\n            .setRotation(rotation)\n            .build()\n\n        detector.detectInImage(FirebaseVisionImage.fromByteArray(dataYUV, metadata))\n    }\n    image.close()\n}\n</code></pre>\n\n<p>Where width, height and rotation depends on your camera/preview and/or image reader settings.</p>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "is_accepted": false, "score": 0, "last_activity_date": 1580815790, "creation_date": 1580815790, "answer_id": 60056427, "question_id": 53838413, "link": "https://stackoverflow.com/questions/53838413/ml-barcode-scanner-from-camera-preview-stream/60056427#60056427", "title": "ML barcode scanner from camera preview stream?", "body": "<p>With <code>ImageReader.OnImageAvailableListener</code>, you can simply use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/ml/vision/common/FirebaseVisionImage.html#public-static-firebasevisionimage-frommediaimage-image-image,-int-rotation\" rel=\"nofollow noreferrer\"> FirebaseVisionImage#fromMediaImage(Image image, int rotation)</a> for <code>ImageFormat YUV420_888</code></p>\n\n<p>As in the docs:</p>\n\n<blockquote>\n  <p>Note that we only support JPEG / YUV_420_888 formats at this moment. If you are using cloud vision detectors, JPEG format is recommended; if you are using on-device detectors, YUV_420_888 will be more efficient.</p>\n</blockquote>\n\n<p>Setup <code>ImageReader</code>:</p>\n\n<pre><code> mImageReader = ImageReader.newInstance(mVideoSize!!.width,\n                mVideoSize!!.height,\n                ImageFormat.YUV_420_888, 3)\n        mImageReader!!.setOnImageAvailableListener(mOnImageAvailableListener, mBackgroundHandler)\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>private val mOnImageAvailableListener = ImageReader.OnImageAvailableListener { imageReader -&gt;\n    val image = imageReader.acquireLatestImage()\n    try {\n        mFaceDetector!!\n                .detectInImage(\n                        FirebaseVisionImage\n                                .fromMediaImage(image))\n                .addOnSuccessListener { firebaseVisionFaces -&gt;\n                    if (firebaseVisionFaces.size &gt; 0) {\n                        Log.d(TAG, \"onSuccess: FACE DETECTED\")\n                    }\n                }\n        image.close()\n    } catch (e: NullPointerException) {\n        Log.e(TAG, \"onImageAvailable: Invalid image provided for detection\", e)\n    }\n}\n</code></pre>\n\n<p>Note: I have used face detection, barcode could be used in a similar manner.</p>\n"}], "owner": {"reputation": 21, "user_id": 6305028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V1xzqGemjvc/AAAAAAAAAAI/AAAAAAAAAN4/NoFG-AJpA74/photo.jpg?sz=128", "display_name": "Bob33700", "link": "https://stackoverflow.com/users/6305028/bob33700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2014, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1580815790, "creation_date": 1545154936, "last_edit_date": 1545155502, "question_id": 53838413, "link": "https://stackoverflow.com/questions/53838413/ml-barcode-scanner-from-camera-preview-stream", "title": "ML barcode scanner from camera preview stream?", "body": "<p>I'm trying to make a barcode scanner using ML kit Barcode detector, camera2 API and Kotlin.\nConcerning camera2 I'm starting from Google sample <a href=\"https://github.com/googlesamples/android-Camera2Basic\" rel=\"nofollow noreferrer\">camera2basic</a>\nConcerning ML kit Barcode detector, I'm starting from doc : <a href=\"https://firebase.google.com/docs/ml-kit/android/read-barcodes\" rel=\"nofollow noreferrer\">Scan Barcodes with ML Kit on Android</a></p>\n\n<p>In Camera2BasicFragment / createCameraPreviewSession method, I added </p>\n\n<pre><code>previewRequestBuilder.addTarget(imageReader!!.surface)\n</code></pre>\n\n<p>so, onImageAvailableListener is called each time an image is available.</p>\n\n<p>In Camera2BasicFragment / setUpCameraOutputs method, i changed ImageReader's <code>ImageFormat.JPEG</code> to <code>ImageFormat YUV420_888</code>, so in onImageAvailableListener, ImageReader gives a YUV image</p>\n\n<p>Then here is my onImageAvailableListener :</p>\n\n<pre><code>   private val onImageAvailableListener = ImageReader.OnImageAvailableListener {\n        val metadata = FirebaseVisionImageMetadata.Builder()\n            .setWidth(480)   // 480x360 is typically sufficient for\n            .setHeight(360)  // image recognition\n            .setFormat(FirebaseVisionImageMetadata.IMAGE_FORMAT_YV12)\n            .setRotation(getRotationCompensation(cameraId, activity as Activity, context!!))\n            .build()\n        BarcodeReader(it.acquireNextImage(), detector, metadata, mListener).run()\n    }\n</code></pre>\n\n<p>In metadata, 'width' and 'heigth' are as suggested in ML kit doc, 'format' is YV12 to handle YUV format</p>\n\n<p>and Barcode Reader is :</p>\n\n<pre><code>class BarcodeReader (private val image: Image,\n                     private val detector: FirebaseVisionBarcodeDetector,\n                     private val metadata: FirebaseVisionImageMetadata,\n                     private val mListener: IBarcodeScanner) : Runnable {\n    override fun run() {\n        val visionImage = FirebaseVisionImage.fromByteBuffer(image.planes[0].buffer, metadata)\n        detector.detectInImage(visionImage)\n            .addOnSuccessListener { barcodes -&gt;\n                // Task completed successfully\n                // [START_EXCLUDE]\n                // [START get_barcodes]\n                for (barcode in barcodes) {\n                    val bounds = barcode.boundingBox\n                    val corners = barcode.cornerPoints\n\n                    val rawValue = barcode.rawValue\n\n                    if (rawValue!=null)\n                        mListener.onBarcode(rawValue)\n                }\n                // [END get_barcodes]\n                // [END_EXCLUDE]\n            }\n            .addOnFailureListener {\n                // Task failed with an exception\n                // ...\n                Log.d(\"barcode\", \"null\")\n            }\n        image.close()\n    }\n</code></pre>\n\n<p>The detector.detectInImage enters onSuccessListener but NO BARCODE are detected : <code>barcodes</code> array is always empty.</p>\n\n<p>Can somebody help me please ?</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1545152000, "creation_date": 1545152000, "answer_id": 53837702, "question_id": 53837403, "link": "https://stackoverflow.com/questions/53837403/how-to-make-a-bytearray-unmodified-in-kotlin/53837702#53837702", "title": "How to make a ByteArray unmodified in Kotlin", "body": "<p>A <code>ByteArray</code> maps to <code>byte[]</code> when compiled to the JVM, and the JVM has no support for unmodifiable arrays. You can wrap a <code>ByteArray</code> into a class that holds the array in a property and does not provide any APIs for modifying it.</p>\n"}], "owner": {"reputation": 1029, "user_id": 6463821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1112651995473500/picture?type=large", "display_name": "Oleg Sokolov", "link": "https://stackoverflow.com/users/6463821/oleg-sokolov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53837702, "answer_count": 1, "score": 1, "last_activity_date": 1545152000, "creation_date": 1545150828, "question_id": 53837403, "link": "https://stackoverflow.com/questions/53837403/how-to-make-a-bytearray-unmodified-in-kotlin", "title": "How to make a ByteArray unmodified in Kotlin", "body": "<p>Is there a way to make <code>ByteArray</code> unmodifiable in Kotlin?</p>\n\n<p>Like with collections <code>Collections.unmodifiableList(byteList)</code></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 1, "last_activity_date": 1545152054, "last_edit_date": 1592644375, "creation_date": 1545152054, "answer_id": 53837716, "question_id": 53837224, "link": "https://stackoverflow.com/questions/53837224/cant-import-android-support-v4-app-fragment-but-can-import-fragmentmanager/53837716#53837716", "title": "Can&#39;t Import android.support.v4.app.Fragment but can import FragmentManager", "body": "<p>I believe you explicitely need the <code>com.android.support:support-fragment:28.0.0</code> dependency (since the support-v4 library got split up) or just include <code>implementation 'com.android.support:support-v4:28.0.0'</code> to include everything from support-v4.</p>\n<p>From <a href=\"https://developer.android.com/topic/libraries/support-library/packages#v4\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/support-library/packages#v4</a>:</p>\n<blockquote>\n<p>Prior to Support Library revision 24.2.0, there was a single v4 support library. That library was divided into multiple modules to improve efficiency.</p>\n<p>For backwards compatibility, if you list support-v4 in your Gradle script, your APK will include all of the v4 modules.</p>\n</blockquote>\n<p>Although nowadays I use AndroidX.</p>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1598967642, "post_id": 62268227, "comment_id": 112623336, "body": "I have updated the app ==&gt; how can i need to change import android.support.v4.content.LocalBroadcastManager;"}], "tags": [], "owner": {"reputation": 35, "user_id": 5558265, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2d1cdf684b67f0bb8a39aa6c29c1f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun.ts", "link": "https://stackoverflow.com/users/5558265/arjun-ts"}, "is_accepted": false, "score": 0, "last_activity_date": 1591642411, "last_edit_date": 1591642411, "creation_date": 1591638638, "answer_id": 62268227, "question_id": 53837224, "link": "https://stackoverflow.com/questions/53837224/cant-import-android-support-v4-app-fragment-but-can-import-fragmentmanager/62268227#62268227", "title": "Can&#39;t Import android.support.v4.app.Fragment but can import FragmentManager", "body": "<p>If anyone is still having this problem shift to <strong>AndroidX</strong>, but make sure you are on or update your project to use the final version of the support library: version 28.0.0.</p>\n\n<p>open refactor from the menu bar in android studio and click migrate to <strong>AndroidX</strong>. usually, all the imports will be updated else use these imports:</p>\n\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentPagerAdapter;\n</code></pre>\n\n<p>and that should solve it else move the cursor onto error and the Android studio will prompt to import class, import and that should do it.</p>\n"}], "owner": {"reputation": 21, "user_id": 10807111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f076786e9c66040bc7fba32f75f806?s=128&d=identicon&r=PG&f=1", "display_name": "28Flex", "link": "https://stackoverflow.com/users/10807111/28flex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5226, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1591642411, "creation_date": 1545150231, "question_id": 53837224, "link": "https://stackoverflow.com/questions/53837224/cant-import-android-support-v4-app-fragment-but-can-import-fragmentmanager", "title": "Can&#39;t Import android.support.v4.app.Fragment but can import FragmentManager", "body": "<p>I am trying import android.support.v4.app.Fragment but I get the error \"Unresolved Reference: Fragment\". I can't import it anywhere in my project. Right now I'm trying to import it into a Fragment class.</p>\n\n<p>But if I try to import android.support.v4.app.FragmentManager or any other class inside android.support.v4.app it works just fine. I have tried syncing gradle, Invalidating Caches and searching the internet. I can't seem to find what might be the problem.</p>\n\n<p>Here is my fragment class</p>\n\n<pre><code>package com.example.johnDoe.storeapp\n\nimport android.app.Fragment\nimport android.support.v4.app.Fragment // Gives the error \"Unresolved Reference: Fragment\"\nimport android.support.v4.app.FragmentManager //Works fine\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass StoresFragment : Fragment(){\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup, savedInstanceState: Bundle): View {\n    val view: View\n    view = inflater.inflate(R.layout.fragment_stores, container, false)\n\n\n\n    return view\n}\n}\n</code></pre>\n\n<p>This is my build.gradle file</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.johnDoe.storeapp\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545210539, "post_id": 53836931, "comment_id": 94543196, "body": "You should typically use a DisposableObserver instead"}], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1545252614, "last_edit_date": 1545252614, "creation_date": 1545210220, "answer_id": 53847768, "question_id": 53836931, "link": "https://stackoverflow.com/questions/53836931/how-to-auto-implement-generate-methods-in-kotlin-like-in-java/53847768#53847768", "title": "How to auto implement/generate methods in kotlin like in java", "body": "<p>You are right: to construct an anonymous class you should use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a>. So in your example you'd do exactly as you state above, namely:</p>\n\n<pre><code>...\n.subscribe(object : Observer&lt;String&gt;() {\n    // Implementation of interface goes here\n})\n</code></pre>\n\n<p>IntelliJ will highlight the <code>object</code> keyword with a red squiggle telling you that it's not implementing the interface, so you can then click on it and press <kbd>Alt</kbd>+<kbd>Enter</kbd> (on Linux) which will give you the option to implement the members of <code>Observer</code>.</p>\n\n<p>Alternatively you can click inside the block and use your normal shortcut (e.g. <kbd>Ctrl</kbd>+<kbd>O</kbd> on Linux) to bring up the \"Override Members\" dialog you've shown above.</p>\n"}], "owner": {"reputation": 543, "user_id": 4593040, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/41e10b1aaaf316de86992da990947469?s=128&d=identicon&r=PG&f=1", "display_name": "huey77", "link": "https://stackoverflow.com/users/4593040/huey77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545252614, "creation_date": 1545149228, "question_id": 53836931, "link": "https://stackoverflow.com/questions/53836931/how-to-auto-implement-generate-methods-in-kotlin-like-in-java", "title": "How to auto implement/generate methods in kotlin like in java", "body": "<p>So I'm fairly new to kotlin. How do you go about doing the following in Kotlin (In the subscribe part)? </p>\n\n<pre><code>animalObservable\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Observer&lt;String&gt;() {\n                @Override\n                public void onSubscribe(Disposable d) {\n\n                }\n\n                @Override\n                public void onNext(String s) {\n\n                }\n\n                @Override\n                public void onError(Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            });\n</code></pre>\n\n<p>In java all i have to do is type \"new Ob\" and press enter. It then auto generates the methods that need to be implemented. (the above) </p>\n\n<p>This is the only way i have figured it out in Kotlin. I have to type in the following: \"subscribe(object: Observer{})</p>\n\n<pre><code>animalsObserve\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(object : Observer&lt;String&gt; {\n\n        })\n</code></pre>\n\n<p>Then can i generate the methods by doing command N (on a mac) </p>\n\n<p><a href=\"https://i.stack.imgur.com/TQKfu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TQKfu.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm sure there has to be a different way to do this? </p>\n"}, {"tags": ["angular", "spring-boot", "kotlin", "server-sent-events", "netflix-zuul"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 1182233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b5eff445d1ce80a3e08159c778d94d?s=128&d=identicon&r=PG", "display_name": "tFlolo", "link": "https://stackoverflow.com/users/1182233/tflolo"}, "edited": false, "score": 0, "creation_date": 1548101312, "post_id": 54291075, "comment_id": 95414531, "body": "You are right, I mixed zuul and spring-boot versions. I caught on to this when I saw the release notes of zuul 2, and further investigations showed that spring-boot has no plan to integrate zuul 2. Thank you for the help"}], "tags": [], "owner": {"reputation": 74, "user_id": 10174658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1065ca2a8b5431d667c259509cd96a8?s=128&d=identicon&r=PG&f=1", "display_name": "axelDiterta", "link": "https://stackoverflow.com/users/10174658/axelditerta"}, "is_accepted": true, "score": 2, "last_activity_date": 1548077284, "creation_date": 1548077284, "answer_id": 54291075, "question_id": 53835804, "link": "https://stackoverflow.com/questions/53835804/how-to-make-server-sent-events-sse-work-trough-zuul-proxy-spring-boot-2-1-1/54291075#54291075", "title": "How to make Server sent events (SSE) work trough Zuul Proxy spring-boot 2.1.1", "body": "<p>The problem is you are using Zuul 1.x, even if you are using springboot version 2.x. I had the same problem and as it seems Spring Cloud Netflix will not support Zuul 2.x currently and in the future. So when you are using the spring cloud environment, i would suggest to switch to <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">spring-cloud-gateway</a>. I am using it with SSE and i am satisfied with the current solution. Another choice would be to switch over to Zuul 2.0 directly.</p>\n"}], "owner": {"reputation": 43, "user_id": 1182233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b5eff445d1ce80a3e08159c778d94d?s=128&d=identicon&r=PG", "display_name": "tFlolo", "link": "https://stackoverflow.com/users/1182233/tflolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1694, "favorite_count": 0, "accepted_answer_id": 54291075, "answer_count": 1, "score": 2, "last_activity_date": 1581991222, "creation_date": 1545145275, "question_id": 53835804, "link": "https://stackoverflow.com/questions/53835804/how-to-make-server-sent-events-sse-work-trough-zuul-proxy-spring-boot-2-1-1", "title": "How to make Server sent events (SSE) work trough Zuul Proxy spring-boot 2.1.1", "body": "<p>I have some issues getting SSE working trough my zuul reverse proxy</p>\n\n<p>My setup:</p>\n\n<pre><code>Spring boot version: 2.1.1.RELEASE\nSpring cloud dependencies: Greenwich.RC1\nAngular-cli: Angular 7\nKotlin: 1.3.11\nos: Linux\n</code></pre>\n\n<p>I have a small rest service that uses SSE</p>\n\n<pre><code>@SpringBootApplication\n@RestController\n@CrossOrigin(\"http://localhost:19195\")\nclass RestApplication {\n    private final val processor = DirectProcessor.create&lt;Int&gt;().serialize()\n    private final val sink = processor.sink()\n    private final val counter = AtomicInteger()\n\n    @GetMapping(\"/stream\")\n    fun stream(): Flux&lt;ServerSentEvent&lt;Int&gt;&gt; {\n        println(\"Stream connected\")\n        return processor.map { n -&gt; ServerSentEvent.builder&lt;Int&gt;(n).build() }\n    }\n\n    @GetMapping(\"/increment\")\n    fun sink() {\n        sink.next(counter.incrementAndGet())\n    }\n\n}\n</code></pre>\n\n<p>This works fine if my EventSource connects directly to it from my angular service:</p>\n\n<pre><code>const sse = new EventSource('http://localhost:8080/stream');\nsse.onopen = (event) =&gt; {\n  console.log('OnOpen ' + event);\n};\nsse.onmessage = (event) =&gt; {\n  console.log(event);\nsse.onerror = (error) =&gt; {\n  console.log(error);\n};\n</code></pre>\n\n<p>If I hit the /increment endpoint the service receives sse events with incrementing values.</p>\n\n<p>Now with this zuul config:</p>\n\n<pre><code>zuul:\n sensitive-headers:\n routes:\n  rest:\n    path: /rest/**\n    url: http://192.168.75.90:8080\n add-proxy-headers: true\n add-host-header: true\n</code></pre>\n\n<p>Angular service updated to go via proxy:</p>\n\n<pre><code>const sse = new EventSource('rest/stream');\nsse.onopen = (event) =&gt; {\n  console.log('OnOpen ' + event);\n};\nsse.onmessage = (event) =&gt; {\nconsole.log(event);\n\n};\nsse.onerror = (error) =&gt; {\nconsole.log(error);\n};\n</code></pre>\n\n<p>Now my angular service, connects to the stream, waits for the default zuul timeout (10 seconds) then returns a 406 and reconnects. That is if i have no data.</p>\n\n<p>If i have data in the sink, it connects to the sse stream and nothing happens as long as i am pushing data onto the stream. When I stop pushing data EventSource waits for zuul timeout (10 seconds) then receives all data on stream and disconnects/reconnects.</p>\n\n<p>I am aware that zuul 1.x does not support SSE, but I was hoping the zuul bundeled with spring boot 2.1.1 would. </p>\n\n<p>Anyone know?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "navigation", "fragment"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545152431, "post_id": 53835662, "comment_id": 94523714, "body": "I believe you should included some Kotlin to go along to help us understand the context and the code being done. I, for example, would like to see where is <code>bottomNav.setupWithNavController</code> called."}, {"owner": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545172925, "post_id": 53835662, "comment_id": 94532461, "body": "@shkschneider - I updated the code and there it is. Thank you so much."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "edited": false, "score": 0, "creation_date": 1545222962, "post_id": 53848982, "comment_id": 94550051, "body": "Is there something you can recommend that I be doing for workaround or something that I would change?"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "edited": false, "score": 0, "creation_date": 1545223417, "post_id": 53848982, "comment_id": 94550283, "body": "It is certainly highly discouraged with the standard widget, and I never implemented such thing (be cautious about the &#39;back&#39; behavior) so sadly <code>no</code>, I don&#39;t know how one would customize this. I just explained why it happened. Good luck."}, {"owner": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "edited": false, "score": 0, "creation_date": 1545226053, "post_id": 53848982, "comment_id": 94551772, "body": "Thank you so much for bringing me this info sir!"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "edited": false, "score": 0, "creation_date": 1545226748, "post_id": 53848982, "comment_id": 94552202, "body": "You are very welcome. If you find something useful, answer your own question, it might help others ;)"}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": true, "score": 1, "last_activity_date": 1545214425, "last_edit_date": 1592644375, "creation_date": 1545214425, "answer_id": 53848982, "question_id": 53835662, "link": "https://stackoverflow.com/questions/53835662/android-jet-pack-navigation-setupwithnavcontroller-recreating-fragment/53848982#53848982", "title": "Android Jet Pack Navigation, setupWithNavController() recreating fragment", "body": "<p>It's not related to the setup of your BottomNav. It's rather the explicit behavior in the implementation made for Android. I'll quote and explain:</p>\n<blockquote>\n<p>Behavior\nOn Android: the app navigates to a destination\u2019s <strong>top-level screen</strong>. Any prior user interactions and temporary screen states are reset, such as scroll position, tab selection, and in-line search.</p>\n</blockquote>\n<p>From <a href=\"https://material.io/design/components/bottom-navigation.html#behavior\" rel=\"nofollow noreferrer\">https://material.io/design/components/bottom-navigation.html#behavior</a></p>\n<p>This means that when you click an item on the BottomNav, it should always go back to the first fragment on this flow's stack.</p>\n<hr />\n<p>If I'm not being clear, here is a pseudo-representation:</p>\n<blockquote>\n<p>BottomNavItem#1 &gt; Fragment1A &gt; Fragment1B</p>\n<p>BottomNavItem#2 &gt; Fragment2A &gt; Fragment2B</p>\n</blockquote>\n<p>If you tap on <code>BottomNavItem#1</code>, it loads <code>Fragment1A</code>. Then imagine using a button it shows <code>Fragment1B</code>. If you now click on <code>BottomNavItem#2</code>, you'll see <code>Fragment2A</code>. Now, if you click back on <code>BottomNavItem#1</code>, it will show <code>Fragment1A</code> (<em>not</em> the <code>Fragment1B</code> that you saw last), because it's the root of that stack/flow.</p>\n"}], "owner": {"reputation": 3, "user_id": 10806703, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kKT5XXjiJq0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jDFfq2Fs37HjxdpJUbAWLZ0-yHcA/mo/photo.jpg?sz=128", "display_name": "Rowel Gonos", "link": "https://stackoverflow.com/users/10806703/rowel-gonos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 53848982, "answer_count": 1, "score": 0, "last_activity_date": 1545214425, "creation_date": 1545144790, "last_edit_date": 1545172897, "question_id": 53835662, "link": "https://stackoverflow.com/questions/53835662/android-jet-pack-navigation-setupwithnavcontroller-recreating-fragment", "title": "Android Jet Pack Navigation, setupWithNavController() recreating fragment", "body": "<p>I have a problem with my navigation view using jetpack's BottomNavBar</p>\n\n<p>so here's how my flow works.</p>\n\n<p>I have 4 views and every one of them have redirections like when I'm in last selection of the navbar I have a <code>fragment A</code> -> <code>fragment B</code> and when I go back to the first selection of the navbar and when I go back to the 4th one its one the <code>fragment A</code> again. I believe it is because fragments are recreating using the <code>setupWithNavController()</code> if it so does jetpack have a workaround for that?</p>\n\n<p>here is my code for some reference.</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/nav_graph\"\n    app:startDestination=\"@+id/splashFragment\"&gt;\n    &lt;fragment\n        android:id=\"@+id/selectionFragment\"\n        android:name=\"whitecloak.com.allibuy.app.selection.SelectionFragment\"\n        android:label=\"fragment_selection\"\n        tools:layout=\"@layout/fragment_selection\" &gt;\n        &lt;action\n            android:id=\"@+id/toLogin\"\n            app:destination=\"@id/loginFragment\"\n            app:launchSingleTop=\"true\"\n            app:popUpTo=\"@+id/nav_graph\" \n            app:popUpToInclusive=\"true/&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n       android:id=\"@+id/splashFragment\"\n       android:name=\"whitecloak.com.allibuy.app.splash.SplashFragment\"\n        android:label=\"fragment_splash\"\n        tools:layout=\"@layout/splash_fragment\"\n        &gt;\n        &lt;action\n            android:id=\"@+id/toMain\"\n            app:destination=\"@id/mainFragment\"\n            app:launchSingleTop=\"true\"\n            app:popUpTo=\"@+id/nav_graph\"\n            app:popUpToInclusive=\"true\"/&gt;\n    &lt;/fragment&gt;\n</code></pre>\n\n<h2>    </h2>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n&lt;item\n    android:id=\"@+id/splashFragment\"\n    android:icon=\"@drawable/home\"\n    android:title=\"@string/home\"\n    app:popUpTo=\"@id/nav_graph\" /&gt;\n\n&lt;item\n    android:id=\"@+id/tabCart\"\n    android:icon=\"@drawable/cart\"\n    android:title=\"@string/cart\"\n    app:popUpTo=\"@id/nav_graph\" /&gt;\n\n&lt;item\n    android:id=\"@+id/tabNotif\"\n    android:icon=\"@drawable/notification\"\n    android:title=\"@string/notification\"\n    app:popUpTo=\"@id/nav_graph\"/&gt;\n\n&lt;item\n    android:id=\"@+id/selectionFragment\"\n    android:icon=\"@drawable/user\"\n    android:title=\"@string/account\"\n    app:popUpTo=\"@id/nav_graph\" /&gt;\n</code></pre>\n\n<h2>    </h2>\n\n<pre><code>bottomNav.setupWithNavController(findNavController(R.id.nav_main))\n</code></pre>\n\n<p>I just included the XML for the 1st and last tab. Thank you so much.</p>\n\n<h2>EDIT</h2>\n\n<pre><code>class MainNavigation : DaggerAppCompatActivity() {\n    @Inject\n    lateinit var viewModelFactory: ViewModelProvider.Factory\n\n    private lateinit var viewModel: MainNavigationViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewModel = ViewModelProviders.of(this, viewModelFactory)[MainNavigationViewModel::class.java]\n\n        bottomNav.setupWithNavController(findNavController(R.id.nav_main))\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "push-notification", "notification-listener"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545152624, "post_id": 53835300, "comment_id": 94523826, "body": "Do you mean on Android 5/6 the new notification (priority minimum) triggers the vibration/sound and does not cancel the previous notification? So you want to replace a notification? What about updating it? Please describe more scenarii, it&#39;ll help I&#39;m sure"}, {"owner": {"reputation": 296, "user_id": 7088637, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eTTFSp9b3H4/AAAAAAAAAAI/AAAAAAAAAJE/Dblns_nnls8/photo.jpg?sz=128", "display_name": "Elia Crocetta", "link": "https://stackoverflow.com/users/7088637/elia-crocetta"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1545208928, "post_id": 53835300, "comment_id": 94542319, "body": "@shkschneider no I just want to prevent notifications from low priority to above to trigger heads up, sounds and vibrations when they come. User case, I want to block Facebook notifications but not Whatsapp: with low priority notifications it works good, but not with higher priority. I know that it may sounds foolish (&quot;why not just disable notifications from settings?&quot;), but that&#39;s what I need."}, {"owner": {"reputation": 1244, "user_id": 2826409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e89766b8168a278d505b70e26d579?s=128&d=identicon&r=PG&f=1", "display_name": "Eran Katsav", "link": "https://stackoverflow.com/users/2826409/eran-katsav"}, "edited": false, "score": 0, "creation_date": 1582489736, "post_id": 53835300, "comment_id": 106786245, "body": "Did you manage to achieve what you were working on? I face the same problem."}, {"owner": {"reputation": 1244, "user_id": 2826409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e89766b8168a278d505b70e26d579?s=128&d=identicon&r=PG&f=1", "display_name": "Eran Katsav", "link": "https://stackoverflow.com/users/2826409/eran-katsav"}, "edited": false, "score": 0, "creation_date": 1582735361, "post_id": 53835300, "comment_id": 106882431, "body": "Hi, @EliaCrocetta if you managed to find the solution for this please help me. I am facing the same issue"}], "owner": {"reputation": 296, "user_id": 7088637, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eTTFSp9b3H4/AAAAAAAAAAI/AAAAAAAAAJE/Dblns_nnls8/photo.jpg?sz=128", "display_name": "Elia Crocetta", "link": "https://stackoverflow.com/users/7088637/elia-crocetta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545152497, "creation_date": 1545143634, "last_edit_date": 1545152497, "question_id": 53835300, "link": "https://stackoverflow.com/questions/53835300/how-to-cancel-notifications-with-a-notification-priority-higher-than-low-with-no", "title": "How to cancel notifications with a notification priority higher than low with Notification Listener in Android 5.0 - 6.0?", "body": "<p>I created a service using NotificationListenerService, and in onNotificationPosted I just run a simple if:</p>\n\n<pre><code>if (sbn.isClearable &amp;&amp; sbn.packageName == myPackageName) {\n   this.cancelNotification(sbn.key)\n} \n</code></pre>\n\n<p>Now, this code works flawlessly from android 7.0 and above, but it doesn't work with 5.0 and 6.0. \nTo be more precise, it works on 5.0 and 6.0 only with notifications with a priority set to <code>minimum</code>, but with other priority levels it always start a vibration, sounds or a heads up, depending of the level.</p>\n\n<p>How can I snooze the incoming notifications?</p>\n\n<p>I'm creating this project in Kotlin, so answers in this language will be more appreciated, but I appreciate Java as well.</p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 10912, "user_id": 619673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Jp5FC.jpg?s=128&g=1", "display_name": "deadfish", "link": "https://stackoverflow.com/users/619673/deadfish"}, "edited": false, "score": 0, "creation_date": 1545227852, "post_id": 53835053, "comment_id": 94552902, "body": "please provide few samples of request"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 8815576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a3d2aea19498370c222e5976b0214f8b?s=128&d=identicon&r=PG&f=1", "display_name": "dddddrrrrrr", "link": "https://stackoverflow.com/users/8815576/dddddrrrrrr"}, "edited": false, "score": 0, "creation_date": 1545147484, "post_id": 53835530, "comment_id": 94520815, "body": "I update the code , but the problem is that is a list and can have for example 15 values"}, {"owner": {"reputation": 10912, "user_id": 619673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Jp5FC.jpg?s=128&g=1", "display_name": "deadfish", "link": "https://stackoverflow.com/users/619673/deadfish"}, "reply_to_user": {"reputation": 167, "user_id": 8815576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a3d2aea19498370c222e5976b0214f8b?s=128&d=identicon&r=PG&f=1", "display_name": "dddddrrrrrr", "link": "https://stackoverflow.com/users/8815576/dddddrrrrrr"}, "edited": false, "score": 0, "creation_date": 1545228494, "post_id": 53835530, "comment_id": 94553253, "body": "@dddddrrrrrr updated, pass only one String value constructed by StringBuilder"}], "tags": [], "owner": {"reputation": 10912, "user_id": 619673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Jp5FC.jpg?s=128&g=1", "display_name": "deadfish", "link": "https://stackoverflow.com/users/619673/deadfish"}, "is_accepted": true, "score": 0, "last_activity_date": 1545228482, "last_edit_date": 1545228482, "creation_date": 1545144363, "answer_id": 53835530, "question_id": 53835053, "link": "https://stackoverflow.com/questions/53835053/android-call-retrofit-with-one-parameter-optional/53835530#53835530", "title": "Android call retrofit with one parameter optional", "body": "<p>I expect You have method from which You communicate with api. I've used java but You can convert it to Kotlin.</p>\n\n<pre><code>public Call&lt;Object&gt; getBasketInfo(int value1, int[] extraValues, int value2) {\n    if (extraValues.length == 0) {\n        getBasketInfo(String.valueOf(value1), String.valueOf(value2));\n    } else {\n        StringBuilder sb = new StringBuilder();\n        for (Integer in : extraValues) {\n            sb.append(\"-\").append(in);\n        }\n        getBasketInfo(value1 + sb.toString(), value2 + \"\"));\n    }\n}\n</code></pre>\n\n<p>It will call:</p>\n\n<pre><code>/api/basket/info?id=1&amp;id=3\n/api/basket/info?id=1-2&amp;id=3\n/api/basket/info?id=1-2-3&amp;id=3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 494, "user_id": 10138929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/419ff84b6b4c28df9f29a2531c981e69?s=128&d=identicon&r=PG&f=1", "display_name": "samaromku", "link": "https://stackoverflow.com/users/10138929/samaromku"}, "is_accepted": false, "score": 0, "last_activity_date": 1545155122, "creation_date": 1545155122, "answer_id": 53838459, "question_id": 53835053, "link": "https://stackoverflow.com/questions/53835053/android-call-retrofit-with-one-parameter-optional/53838459#53838459", "title": "Android call retrofit with one parameter optional", "body": "<p>I suppose, the easiest option in your case will be using POST instead of GET. Do you have opportunity to change the server api?\nThe issue is that backend won't accept list of ids in get request. Because it hase method like <code>request.getParameter(id)</code>. Backend doesn't know which id.</p>\n"}], "owner": {"reputation": 167, "user_id": 8815576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a3d2aea19498370c222e5976b0214f8b?s=128&d=identicon&r=PG&f=1", "display_name": "dddddrrrrrr", "link": "https://stackoverflow.com/users/8815576/dddddrrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 53835530, "answer_count": 2, "score": -1, "last_activity_date": 1545228482, "creation_date": 1545142815, "last_edit_date": 1545147413, "question_id": 53835053, "link": "https://stackoverflow.com/questions/53835053/android-call-retrofit-with-one-parameter-optional", "title": "Android call retrofit with one parameter optional", "body": "<p>I want to do a call like this:</p>\n\n<pre><code>/api/basket/info?id={value}-{extra}$&amp;id={value2}\n</code></pre>\n\n<p>Sending for the moment the values like this:</p>\n\n<pre><code>@GET(\"/api/basket/info\") \nfun getInfo(@Query(\"id\") value: List&lt;String&gt;)\n</code></pre>\n\n<p>And my problem is how i can pass the \"extra\" separated with \"-\" in the query with value \"id\".</p>\n\n<p>Here is when i calling the api.</p>\n\n<pre><code>    fun getBagInfo(value: List&lt;String&gt;? = null, extra:List&lt;String&gt;? = null){\n\n      val response = api.getBagInfo(value).execute()   }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2203, "user_id": 4061352, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/0ELHP.jpg?s=128&g=1", "display_name": "Rasool Ghana", "link": "https://stackoverflow.com/users/4061352/rasool-ghana"}, "edited": false, "score": 0, "creation_date": 1545144159, "post_id": 53834714, "comment_id": 94518843, "body": "its a long shot, but did u provide Internet permission in your manifest file ?"}, {"owner": {"reputation": 432, "user_id": 10567859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lk32brND-KI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDmPUdkTeJ8KFJu4oN4Ogr7yXiOYA/mo/photo.jpg?sz=128", "display_name": "Edward Chew", "link": "https://stackoverflow.com/users/10567859/edward-chew"}, "reply_to_user": {"reputation": 2203, "user_id": 4061352, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/0ELHP.jpg?s=128&g=1", "display_name": "Rasool Ghana", "link": "https://stackoverflow.com/users/4061352/rasool-ghana"}, "edited": false, "score": 0, "creation_date": 1545144199, "post_id": 53834714, "comment_id": 94518872, "body": "Yes i did added the internet permission in my manifest"}, {"owner": {"reputation": 2112, "user_id": 5250973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d547c8d93531b8b4fa5c7d3132d729?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Dangar", "link": "https://stackoverflow.com/users/5250973/jay-dangar"}, "edited": false, "score": 0, "creation_date": 1545144320, "post_id": 53834714, "comment_id": 94518949, "body": "have you turned your internet on??"}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1545144465, "post_id": 53834714, "comment_id": 94519036, "body": "you call <code>load(...)</code> twice. It is intended? Otherwise try to remove the first <code>load(placemark.dp)</code>?"}, {"owner": {"reputation": 432, "user_id": 10567859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lk32brND-KI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDmPUdkTeJ8KFJu4oN4Ogr7yXiOYA/mo/photo.jpg?sz=128", "display_name": "Edward Chew", "link": "https://stackoverflow.com/users/10567859/edward-chew"}, "edited": false, "score": 0, "creation_date": 1545168614, "post_id": 53834714, "comment_id": 94530929, "body": "I accidentally added load() twice when testing. However removing it does not solve the issue. Thanks anyway ;)"}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1545206194, "post_id": 53834714, "comment_id": 94541129, "body": "@EdwardChew Did you try it without the <code>dontTransform()</code>? More on this <a href=\"https://bumptech.github.io/glide/doc/transformations.html#automatic-transformations-for-imageviews\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1545225894, "post_id": 53834714, "comment_id": 94551685, "body": "@EdwardChew which version of glide do you use?"}], "owner": {"reputation": 432, "user_id": 10567859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lk32brND-KI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDmPUdkTeJ8KFJu4oN4Ogr7yXiOYA/mo/photo.jpg?sz=128", "display_name": "Edward Chew", "link": "https://stackoverflow.com/users/10567859/edward-chew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545168559, "creation_date": 1545141691, "last_edit_date": 1545168559, "question_id": 53834714, "link": "https://stackoverflow.com/questions/53834714/image-not-loading-from-url-using-glide", "title": "Image not loading from URL using Glide", "body": "<p>I am trying to load image into my ImageView but it is not working. I have tried nearly all suggested solutions on StackOverflow. This is my layout</p>\n\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n        android:id=\"@+id/appBar_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"250dp\"\n            app:contentScrim=\"@color/background\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed|snap\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/dp\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:contentDescription=\"@string/add_placemark\"\n                android:scaleType=\"centerCrop\"/&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"219dp\"\n                android:layout_height=\"89dp\"\n                android:layout_below=\"@id/addPlacemark_toolbar\"\n                android:layout_alignParentEnd=\"true\"\n                android:layout_gravity=\"bottom|end\"\n                android:layout_marginEnd=\"15dp\"\n                android:layout_marginBottom=\"30dp\"\n                android:orientation=\"vertical\"\n                android:translationZ=\"20dp\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/addPlacemark_title\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"38dp\"\n                    android:layout_marginEnd=\"8dp\"\n                    android:text='@={placemark.name,default=\"Add Placemark\"}'\n                    android:textAlignment=\"textEnd\"\n                    android:textColor=\"@color/background\"\n                    android:textSize=\"25sp\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/addPlacemark_notes\"\n                    android:layout_width=\"225dp\"\n                    android:layout_height=\"37dp\"\n                    android:layout_marginEnd=\"8dp\"\n                    android:layout_marginBottom=\"4dp\"\n                    android:text='@={placemark.description,default=\"Add a new placemark by filling up details below\"}'\n                    android:textAlignment=\"textEnd\"\n                    android:textColor=\"@color/background\"\n                    android:textSize=\"14sp\"\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintTop_toBottomOf=\"@+id/addPlacemark_title\"\n                    app:layout_constraintVertical_bias=\"0.0\" /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=\"@+id/addPlacemark_toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"56dp\"\n                android:background=\"@null\"\n                android:theme=\"@style/ToolbarIconColor\"\n                app:layout_collapseMode=\"pin\"\n                app:layout_constraintHorizontal_bias=\"0.0\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n                app:titleTextColor=\"#FFFFFF\" /&gt;\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n\n<p>And this is the related code in my activity. The \"Image loading\" message is being logged but the image is not showing at all. The placeholder and error is not showing up as well</p>\n\n<pre><code>if (placemark.dp!=\"\"){\n  info(\"Image loading\")\n  GlideApp.with(this).placeholder(R.drawable.img_load)\n      .load(\"http://inthecheesefactory.com/uploads/source/glidepicasso/cover.jpg\").dontTransform().error(R.drawable.img_load)\n      .into(dp)\n}\n</code></pre>\n\n<p>Also, I have made sure Glide is integrated and initialized successfully into the project.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-preferences", "preferencescreen"], "answers": [{"comments": [{"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545545032, "post_id": 53881243, "comment_id": 94648212, "body": "@jungledev: Have you tested it?"}, {"owner": {"reputation": 3579, "user_id": 3634990, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nM3wb.jpg?s=128&g=1", "display_name": "jungledev", "link": "https://stackoverflow.com/users/3634990/jungledev"}, "edited": false, "score": 0, "creation_date": 1545572801, "post_id": 53881243, "comment_id": 94652847, "body": "yes and it j.u.s.t. worked.  Thank you for the concise and quality answer.  =)"}, {"owner": {"reputation": 1443, "user_id": 9773423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b2f24d4b94bb23efeec76428f063a6?s=128&d=identicon&r=PG&f=1", "display_name": "taki eddine", "link": "https://stackoverflow.com/users/9773423/taki-eddine"}, "edited": false, "score": 0, "creation_date": 1593334611, "post_id": 53881243, "comment_id": 110738874, "body": "Hello mate , i m also facing the same issue and i implemented it this way but in my fragment that extends fragmentPreferencecompat i m getting this error , do you know why android.view.InflateException: Binary XML file line #28: Error inflating class taki.food.foodappv.RatingPreferences"}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "reply_to_user": {"reputation": 1443, "user_id": 9773423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b2f24d4b94bb23efeec76428f063a6?s=128&d=identicon&r=PG&f=1", "display_name": "taki eddine", "link": "https://stackoverflow.com/users/9773423/taki-eddine"}, "edited": false, "score": 0, "creation_date": 1593335056, "post_id": 53881243, "comment_id": 110738986, "body": "@takieddine: Do you use <code>androidx</code> in your project? However, I must see your code."}, {"owner": {"reputation": 1443, "user_id": 9773423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b2f24d4b94bb23efeec76428f063a6?s=128&d=identicon&r=PG&f=1", "display_name": "taki eddine", "link": "https://stackoverflow.com/users/9773423/taki-eddine"}, "edited": false, "score": 0, "creation_date": 1593335535, "post_id": 53881243, "comment_id": 110739106, "body": "This is the whole code my friend on paste bin <a href=\"https://pastebin.com/9GdU7pS3\" rel=\"nofollow noreferrer\">pastebin.com/9GdU7pS3</a> , thank you"}], "tags": [], "owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "is_accepted": true, "score": 8, "last_activity_date": 1545379899, "creation_date": 1545379899, "answer_id": 53881243, "question_id": 53834600, "link": "https://stackoverflow.com/questions/53834600/custom-preference-android-kotlin/53881243#53881243", "title": "Custom Preference Android Kotlin", "body": "<p>Try to set your layout resource in initialization of class, instead of <code>onBindViewHolder</code>. Also you should create the layout using normal widget elements (not <code>Preference</code>).</p>\n\n<p><strong>CustomPreference.kt</strong></p>\n\n<pre><code>import android.content.Context\nimport android.support.v7.preference.Preference\nimport android.support.v7.preference.PreferenceViewHolder\nimport android.util.AttributeSet\nimport kotlinx.android.synthetic.main.custom_preference_layout.view.*\n\nclass CustomPreference @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet,\n        defStyleAttr: Int = 0\n) : Preference(context, attrs, defStyleAttr) {\n\n    init {\n        widgetLayoutResource = R.layout.custom_preference_layout\n    }\n\n    override fun onBindViewHolder(holder: PreferenceViewHolder) {\n        super.onBindViewHolder(holder)\n        with(holder.itemView) {\n            // do the view initialization here...\n\n            textView.text = \"Another Text\"\n        }\n    }\n\n} \n</code></pre>\n\n<p><strong>res/layout/custom_preference_layout.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_vertical\"\n        android:text=\"This is a custom preference\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p><strong>preference_screen.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.preference.PreferenceScreen \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;com.example.CustomPreference\n        app:key=\"custom_preference_key\"\n        app:title=\"This is a custom preference\" /&gt;\n\n&lt;/android.support.v7.preference.PreferenceScreen&gt;\n</code></pre>\n"}], "owner": {"reputation": 3579, "user_id": 3634990, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nM3wb.jpg?s=128&g=1", "display_name": "jungledev", "link": "https://stackoverflow.com/users/3634990/jungledev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2756, "favorite_count": 0, "accepted_answer_id": 53881243, "answer_count": 1, "score": 5, "last_activity_date": 1597819941, "creation_date": 1545141313, "last_edit_date": 1597819941, "question_id": 53834600, "link": "https://stackoverflow.com/questions/53834600/custom-preference-android-kotlin", "title": "Custom Preference Android Kotlin", "body": "<p>I'd like to subclass <code>Preference</code> to create a custom preference item in Kotlin.  I am unable to get the custom preference to inflate in the Preference screen.  If I remove this custom preference from my preference screen, the rest of the preferences I have implemented (not shown here) are working fine.  <strong>There are many similar <em>seeming</em> questions here, but none of the ones I've found directly deal with the issue of creating a Kotlin implementation of a custom preference.</strong></p>\n\n<p>Please help me with a working example <strong>that you've tested</strong> that shows three things: </p>\n\n<ol>\n<li><code>custom_preference.xml</code></li>\n<li><code>CustomPreference.kt</code></li>\n<li><code>preference_screen.xml</code> (Parent Preference screen to display custom preference)</li>\n</ol>\n\n<p>Here is my code:\nA custom <code>xml</code> preference item that displays a string (let's keep it simple for the example, although my preference will end up having significantly more functionality)</p>\n\n<p><strong>custom_preference.xml</strong></p>\n\n<pre><code>&lt;Preference \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@android:id/widget_frame\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".CustomPreference\"&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"This is a custom preference\" /&gt;\n&lt;/Preference&gt;\n</code></pre>\n\n<p>A class that extends <code>Preference</code> and includes the proper constructors.</p>\n\n<p><strong>CustomPreference.kt</strong>  </p>\n\n<pre><code>package com.example.myApp\n\nimport android.content.Context\nimport android.support.v7.preference.Preference\nimport android.support.v7.preference.PreferenceViewHolder\nimport android.util.AttributeSet\nimport com.example.myApp.R\nimport com.example.myApp.R.layout.custom_preference\n\nclass CustomPreference (context: Context,\n                            attrs: AttributeSet? = null,\n                            defStyleAttr: Int = R.attr.preferenceStyle,\n                            defStyleRes: Int = defStyleAttr)\n    : Preference(context, attrs, defStyleAttr, defStyleRes) {\n    override fun onBindViewHolder(holder: PreferenceViewHolder?) {\n        super.onBindViewHolder(holder)\n        layoutResource = custom_preference\n    }\n}\n</code></pre>\n\n<p>The custom preference declaration in the <code>PreferenceScreen</code>.  </p>\n\n<p><strong>preference_screen.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.preference.PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;com.example.CustomPreference\n        app:key=\"custom_preference_key\"\n        app:title=\"This is a custom preference\" /&gt;\n&lt;/android.support.v7.preference.PreferenceScreen&gt;\n</code></pre>\n\n<p>Note: I manually renamed class names here for the example.  Also, I <strong>must</strong> use the support libs instead of Androidx for this project.  </p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1545136298, "post_id": 53832903, "comment_id": 94514294, "body": "What version are you on? Also try updating to the most recent."}, {"owner": {"reputation": 1029, "user_id": 3855470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1de9920967f586ccc74032b15b6193?s=128&d=identicon&r=PG&f=1", "display_name": "sunilson", "link": "https://stackoverflow.com/users/3855470/sunilson"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1545136748, "post_id": 53832903, "comment_id": 94514529, "body": "I was on 1.27 something and now updated to 1.3.11 but I get the same error"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 15032086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ae5ab0ce67b9a630023d1ae8c6105b?s=128&d=identicon&r=PG&f=1", "display_name": "Facundo Humphreys", "link": "https://stackoverflow.com/users/15032086/facundo-humphreys"}, "is_accepted": false, "score": 0, "last_activity_date": 1617905800, "last_edit_date": 1617905800, "creation_date": 1617890393, "answer_id": 67005593, "question_id": 53832903, "link": "https://stackoverflow.com/questions/53832903/android-studio-kotlin-plugin-crashes-constantly/67005593#67005593", "title": "Android studio Kotlin plugin crashes constantly", "body": "<p>File -&gt; Invalidate Caches did the trick for me</p>\n"}], "owner": {"reputation": 1029, "user_id": 3855470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1de9920967f586ccc74032b15b6193?s=128&d=identicon&r=PG&f=1", "display_name": "sunilson", "link": "https://stackoverflow.com/users/3855470/sunilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1617905800, "creation_date": 1545135706, "question_id": 53832903, "link": "https://stackoverflow.com/questions/53832903/android-studio-kotlin-plugin-crashes-constantly", "title": "Android studio Kotlin plugin crashes constantly", "body": "<p>I constantly get exceptions while opening and editing files in my Android Studio project from the Kotlin plugin. There is a notification saying </p>\n\n<blockquote>\n  <p>IDE Error Occured</p>\n</blockquote>\n\n<p>and when I click on it it takes me to the \"IDE fatal errors\" reporting tool where it says:</p>\n\n<blockquote>\n  <p>Exception in Studio core</p>\n</blockquote>\n\n<p>The error message is the following:</p>\n\n<pre><code>Kotlin resolution encountered a problem while analyzing KtCallExpression\norg.jetbrains.kotlin.idea.caches.resolve.KotlinIdeaResolutionException: Kotlin resolution encountered a problem while analyzing KtCallExpression\n    at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeWithDebugInfo.analyze(ResolutionFacadeWithDebugInfo.kt:37)\n    at org.jetbrains.kotlin.idea.caches.resolve.ResolutionUtils.analyze(resolutionApi.kt:112)\n    at org.jetbrains.kotlin.idea.parameterInfo.ArgumentNameHintsKt.provideArgumentNameHints(ArgumentNameHints.kt:26)\n    at org.jetbrains.kotlin.idea.parameterInfo.HintType$PARAMETER_HINT.provideHints(KotlinInlayParameterHintsProvider.kt:78)\n    at org.jetbrains.kotlin.idea.parameterInfo.KotlinInlayParameterHintsProvider.getParameterHints(KotlinInlayParameterHintsProvider.kt:161)\n    at com.intellij.codeInsight.hints.ParameterHintsPass.process(ParameterHintsPass.java:84)\n    at com.intellij.codeInsight.hints.ParameterHintsPass.lambda$doCollectInformation$0(ParameterHintsPass.java:76)\n    at java.lang.Iterable.forEach(Iterable.java:75)\n    at com.intellij.codeInsight.hints.ParameterHintsPass.doCollectInformation(ParameterHintsPass.java:76)\n    at com.intellij.codeHighlighting.TextEditorHighlightingPass.collectInformation(TextEditorHighlightingPass.java:70)\n    at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$null$1(PassExecutorService.java:437)\n    at com.intellij.openapi.application.impl.ApplicationImpl.tryRunReadAction(ApplicationImpl.java:1137)\n    at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$doRun$2(PassExecutorService.java:430)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)\n    at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.doRun(PassExecutorService.java:429)\n    at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.lambda$run$0(PassExecutorService.java:405)\n    at com.intellij.openapi.application.impl.ReadMostlyRWLock.executeByImpatientReader(ReadMostlyRWLock.java:143)\n    at com.intellij.openapi.application.impl.ApplicationImpl.executeByImpatientReader(ApplicationImpl.java:218)\n    at com.intellij.codeInsight.daemon.impl.PassExecutorService$ScheduledPass.run(PassExecutorService.java:403)\n    at com.intellij.concurrency.JobLauncherImpl$VoidForkJoinTask$1.exec(JobLauncherImpl.java:170)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: java.lang.AssertionError: Recursion detected on input: onCreate under LockBasedStorageManager@42a2e9fb (&lt;unknown creating class&gt;)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.getContributedFunctions(AbstractLazyMemberScope.kt:90)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getContributedFunctions(LazyClassMemberScope.kt:188)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.computeDescriptorsFromDeclaredElements(AbstractLazyMemberScope.kt:195)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope$descriptorsFromDeclaredElements$1.invoke(LazyClassMemberScope.kt:54)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope$descriptorsFromDeclaredElements$1.invoke(LazyClassMemberScope.kt:46)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getContributedDescriptors(LazyClassMemberScope.kt:68)\n    at org.jetbrains.kotlin.resolve.DescriptorUtils.getAllDescriptors(DescriptorUtils.java:593)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.resolveMemberHeaders(LazyClassDescriptor.java:573)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.doForceResolveAllContents(LazyClassDescriptor.java:543)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.lambda$new$4(LazyClassDescriptor.java:221)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassDescriptor.forceResolveAllContents(LazyClassDescriptor.java:539)\n    at org.jetbrains.kotlin.resolve.lazy.ForceResolveUtil.doForceResolveAllContents(ForceResolveUtil.java:75)\n    at org.jetbrains.kotlin.resolve.lazy.ForceResolveUtil.forceResolveAllContents(ForceResolveUtil.java:41)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.IDELightClassContexts.contextForNonLocalClassOrObject(IDELightClassContexts.kt:105)\n    at org.jetbrains.kotlin.idea.caches.resolve.IDELightClassGenerationSupport$createDataHolderForClass$3.invoke(IDELightClassGenerationSupport.kt:49)\n    at org.jetbrains.kotlin.idea.caches.resolve.IDELightClassGenerationSupport$createDataHolderForClass$3.invoke(IDELightClassGenerationSupport.kt:35)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$exactResultLazyValue$1.invoke(LazyLightClassDataHolder.kt:46)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$exactResultLazyValue$1.invoke(LazyLightClassDataHolder.kt:32)\n    at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder.getJavaFileStub(LazyLightClassDataHolder.kt)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$clsDelegate$2.invoke(LazyLightClassDataHolder.kt:103)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData$clsDelegate$2.invoke(LazyLightClassDataHolder.kt:100)\n    at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)\n    at org.jetbrains.kotlin.idea.caches.lightClasses.LazyLightClassDataHolder$LazyLightClassData.getClsDelegate(LazyLightClassDataHolder.kt)\n    at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass$clsDelegate$2.invoke(KtLazyLightClass.kt:26)\n    at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass$clsDelegate$2.invoke(KtLazyLightClass.kt:23)\n    at kotlin.SafePublicationLazyImpl.getValue(LazyJVM.kt:107)\n    at org.jetbrains.kotlin.asJava.classes.KtLazyLightClass.getClsDelegate(KtLazyLightClass.kt)\n    at org.jetbrains.kotlin.asJava.classes.KtLightClassForSourceDeclaration.getSuperTypes(KtLightClassForSourceDeclaration.kt:427)\n    at com.intellij.psi.impl.ScopedClassHierarchy.calcImmediateSupersWithCapturing(ScopedClassHierarchy.java:163)\n    at com.intellij.psi.impl.ScopedClassHierarchy.lambda$getImmediateSupersWithCapturing$2(ScopedClassHierarchy.java:148)\n    at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)\n    at com.intellij.psi.impl.ScopedClassHierarchy.getImmediateSupersWithCapturing(ScopedClassHierarchy.java:148)\n    at com.intellij.psi.impl.PsiClassImplUtil.getScopeCorrectedSuperTypes(PsiClassImplUtil.java:740)\n    at com.intellij.psi.impl.PsiClassImplUtil.processSuperTypes(PsiClassImplUtil.java:750)\n    at com.intellij.psi.impl.PsiClassImplUtil.processDeclarationsInClassNotCached(PsiClassImplUtil.java:724)\n    at com.intellij.psi.impl.PsiClassImplUtil.processDeclarationsInClass(PsiClassImplUtil.java:479)\n    at com.intellij.psi.impl.PsiClassImplUtil.lambda$processDeclarationsInClassNotCached$2(PsiClassImplUtil.java:725)\n    at com.intellij.psi.impl.PsiClassImplUtil.processSuperTypes(PsiClassImplUtil.java:755)\n    at com.intellij.psi.impl.PsiClassImplUtil.processDeclarationsInClassNotCached(PsiClassImplUtil.java:724)\n    at com.intellij.psi.impl.PsiClassImplUtil.lambda$createMembersMap$1(PsiClassImplUtil.java:406)\n    at com.intellij.util.containers.ConcurrentFactoryMap$4.create(ConcurrentFactoryMap.java:224)\n    at com.intellij.util.containers.ConcurrentFactoryMap.get(ConcurrentFactoryMap.java:63)\n    at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.get(PsiClassImplUtil.java:359)\n    at com.intellij.psi.impl.PsiClassImplUtil$MembersMap.access$000(PsiClassImplUtil.java:351)\n    at com.intellij.psi.impl.PsiClassImplUtil.processCachedMembersByName(PsiClassImplUtil.java:558)\n    at com.intellij.psi.impl.PsiClassImplUtil.processDeclarationsInClass(PsiClassImplUtil.java:476)\n    at com.intellij.psi.impl.PsiClassImplUtil.processDeclarationsInClass(PsiClassImplUtil.java:453)\n    at com.intellij.psi.impl.source.PsiClassImpl.processDeclarations(PsiClassImpl.java:488)\n    at com.intellij.psi.impl.source.PsiImportStaticReferenceElementImpl$OurGenericsResolver.resolve(PsiImportStaticReferenceElementImpl.java:238)\n    at com.intellij.psi.impl.source.PsiImportStaticReferenceElementImpl$OurGenericsResolver.resolve(PsiImportStaticReferenceElementImpl.java:227)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolve$0(ResolveCache.java:152)\n    at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:151)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:182)\n    at com.intellij.psi.impl.source.PsiImportStaticReferenceElementImpl.multiResolve(PsiImportStaticReferenceElementImpl.java:223)\n    at com.intellij.psi.impl.source.PsiJavaFileBaseImpl.processDeclarationsNoGuess(PsiJavaFileBaseImpl.java:377)\n    at com.intellij.psi.impl.source.PsiJavaFileBaseImpl.processDeclarations(PsiJavaFileBaseImpl.java:312)\n    at com.intellij.psi.scope.util.PsiScopesUtil.treeWalkUp(PsiScopesUtil.java:69)\n    at com.intellij.psi.scope.util.PsiScopesUtil.treeWalkUp(PsiScopesUtil.java:51)\n    at com.intellij.psi.scope.util.PsiScopesUtil.resolveAndWalk(PsiScopesUtil.java:218)\n    at com.intellij.psi.scope.util.PsiScopesUtil.resolveAndWalk(PsiScopesUtil.java:149)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl.resolve(PsiJavaCodeReferenceElementImpl.java:492)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl.access$100(PsiJavaCodeReferenceElementImpl.java:47)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl$OurGenericsResolver.resolve(PsiJavaCodeReferenceElementImpl.java:373)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl$OurGenericsResolver.resolve(PsiJavaCodeReferenceElementImpl.java:365)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolveWithCaching$1(ResolveCache.java:205)\n    at com.intellij.openapi.util.RecursionManager$2.doPreventingRecursion(RecursionManager.java:112)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:204)\n    at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:724)\n    at com.intellij.psi.impl.PsiImplUtil.multiResolveImpl(PsiImplUtil.java:715)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl.multiResolve(PsiJavaCodeReferenceElementImpl.java:424)\n    at com.intellij.psi.impl.source.PsiJavaCodeReferenceElementImpl.advancedResolve(PsiJavaCodeReferenceElementImpl.java:417)\n    at com.intellij.psi.impl.source.PsiClassReferenceType.resolveGenerics(PsiClassReferenceType.java:191)\n    at org.jetbrains.kotlin.load.java.structure.impl.JavaClassifierTypeImpl.resolve(JavaClassifierTypeImpl.java:63)\n    at org.jetbrains.kotlin.load.java.structure.impl.JavaClassifierTypeImpl.isRaw(JavaClassifierTypeImpl.java:86)\n    at org.jetbrains.kotlin.load.java.lazy.types.JavaTypeResolver.transformJavaClassifierType(JavaTypeResolver.kt:88)\n    at org.jetbrains.kotlin.load.java.lazy.types.JavaTypeResolver.transformJavaType(JavaTypeResolver.kt:52)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope.resolveValueParameters(LazyJavaScope.kt:189)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope.resolveMethodToFunctionDescriptor(LazyJavaScope.kt:126)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$functions$1.invoke(LazyJavaScope.kt:85)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope$functions$1.invoke(LazyJavaScope.kt:55)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaScope.getContributedFunctions(LazyJavaScope.kt:242)\n    at org.jetbrains.kotlin.load.java.lazy.descriptors.LazyJavaClassMemberScope.getContributedFunctions(LazyJavaClassMemberScope.kt:725)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getNonDeclaredFunctions(LazyClassMemberScope.kt:203)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.doGetFunctions(AbstractLazyMemberScope.kt:109)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.access$doGetFunctions(AbstractLazyMemberScope.kt:38)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:50)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:38)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.getContributedFunctions(AbstractLazyMemberScope.kt:90)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getContributedFunctions(LazyClassMemberScope.kt:188)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getNonDeclaredFunctions(LazyClassMemberScope.kt:203)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.doGetFunctions(AbstractLazyMemberScope.kt:109)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.access$doGetFunctions(AbstractLazyMemberScope.kt:38)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:50)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope$functionDescriptors$1.invoke(AbstractLazyMemberScope.kt:38)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunction.invoke(LockBasedStorageManager.java:448)\n    at org.jetbrains.kotlin.storage.LockBasedStorageManager$MapBasedMemoizedFunctionToNotNull.invoke(LockBasedStorageManager.java:523)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.AbstractLazyMemberScope.getContributedFunctions(AbstractLazyMemberScope.kt:90)\n    at org.jetbrains.kotlin.resolve.lazy.descriptors.LazyClassMemberScope.getContributedFunctions(LazyClassMemberScope.kt:188)\n    at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$resolveToDescriptor$1.visitNamedFunction(LazyDeclarationResolver.kt:125)\n    at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver$resolveToDescriptor$1.visitNamedFunction(LazyDeclarationResolver.kt:94)\n    at org.jetbrains.kotlin.psi.KtNamedFunction.accept(KtNamedFunction.java:49)\n    at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.kt:94)\n    at org.jetbrains.kotlin.resolve.lazy.LazyDeclarationResolver.resolveToDescriptor(LazyDeclarationResolver.kt:91)\n    at org.jetbrains.kotlin.resolve.lazy.ResolveSession.resolveToDescriptor(ResolveSession.java:330)\n    at org.jetbrains.kotlin.idea.project.ResolveElementCache.functionAdditionalResolve(ResolveElementCache.kt:589)\n    at org.jetbrains.kotlin.idea.project.ResolveElementCache.performElementAdditionalResolve(ResolveElementCache.kt:317)\n    at org.jetbrains.kotlin.idea.project.ResolveElementCache.getElementsAdditionalResolve(ResolveElementCache.kt:178)\n    at org.jetbrains.kotlin.idea.project.ResolveElementCache.resolveToElements(ResolveElementCache.kt:222)\n    at org.jetbrains.kotlin.idea.caches.resolve.ModuleResolutionFacadeImpl.analyze(ModuleResolutionFacadeImpl.kt:59)\n    at org.jetbrains.kotlin.idea.caches.resolve.ModuleResolutionFacadeImpl.analyze(ModuleResolutionFacadeImpl.kt:53)\n    at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeWithDebugInfo.analyze(ResolutionFacadeWithDebugInfo.kt:38)\n    ... 25 more\n</code></pre>\n\n<p>What could be the reason for this?</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 871, "user_id": 2814340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/be94305868808c41ea169420c23796dd?s=128&d=identicon&r=PG&f=1", "display_name": "mgh", "link": "https://stackoverflow.com/users/2814340/mgh"}, "edited": false, "score": 0, "creation_date": 1545134236, "post_id": 53832326, "comment_id": 94513157, "body": "The problem is not solved. I get a hint from <b>@Autowired</b>:   <i>autowired members must be defined in valid Spring bean</i>. @Dean"}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1545137177, "post_id": 53832326, "comment_id": 94514772, "body": "If you make the WorkingGroup a bean too, then it works."}, {"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "reply_to_user": {"reputation": 871, "user_id": 2814340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/be94305868808c41ea169420c23796dd?s=128&d=identicon&r=PG&f=1", "display_name": "mgh", "link": "https://stackoverflow.com/users/2814340/mgh"}, "edited": false, "score": 1, "creation_date": 1545137500, "post_id": 53832326, "comment_id": 94514945, "body": "@mgh if <code>WorkingGroup</code> is not a Spring managed bean, how do you create it in your code? Furthermore, how do you expect spring to autowire it?"}], "tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1545137737, "last_edit_date": 1545137737, "creation_date": 1545133550, "answer_id": 53832326, "question_id": 53832234, "link": "https://stackoverflow.com/questions/53832234/lateinit-property-s-has-not-been-initialized/53832326#53832326", "title": "lateinit property S has not been initialized", "body": "<p>In order for Spring to inject into a companion object you will need to create a setter for the field outside of the companion object. <code>WorkingGroup</code> will need to be a Spring managed bean in order for Spring to autowire it (inject dependencies).</p>\n\n<pre><code>@Component\nclass WorkingGroup(\n    override val name: String = \"\",\n    override val desc: String = \"\"\n) : Csv() {\n\n    fun isCompatible(ct2: WorkingGroup): Boolean = this == ct2\n\n    companion object : ICsvEnumCompanion&lt;WorkingGroup&gt; {\n\n        private lateinit var s: S\n\n       override val VALUES: List&lt;WorkingGroup&gt;\n        by lazy {\n            val details = s.user().company.details ?: CompanyDetails()\n            details.workingGroups.map { WorkingGroup(it.name, it.desc) }\n        }\n   }\n\n   @Autowired\n   fun setS(value: S) {\n      s = value;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 871, "user_id": 2814340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/be94305868808c41ea169420c23796dd?s=128&d=identicon&r=PG&f=1", "display_name": "mgh", "link": "https://stackoverflow.com/users/2814340/mgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545137737, "creation_date": 1545133177, "question_id": 53832234, "link": "https://stackoverflow.com/questions/53832234/lateinit-property-s-has-not-been-initialized", "title": "lateinit property S has not been initialized", "body": "<p>I want <strong>inject</strong> a <strong>singleton</strong> in another class by <strong>kotlin</strong> in <strong>spring boot</strong>.  </p>\n\n<blockquote>\n  <p>S.kt  </p>\n</blockquote>\n\n<pre><code> @Singleton\n @Component\n class S(\n    private val userService: UserService,\n    val companyRepo: CompanyRepo\n )\n</code></pre>\n\n<blockquote>\n  <p>WorkingGroup.kt</p>\n</blockquote>\n\n<pre><code>    class WorkingGroup(\n        override val name: String = \"\",\n        override val desc: String = \"\"\n    ) : Csv() {\n\n        fun isCompatible(ct2: WorkingGroup): Boolean = this == ct2\n\n        companion object : ICsvEnumCompanion&lt;WorkingGroup&gt; {\n\n            @Inject\n            private lateinit var s: S\n\n           override val VALUES: List&lt;WorkingGroup&gt;\n            by lazy {\n                val details = s.user().company.details ?: CompanyDetails()\n                details.workingGroups.map { WorkingGroup(it.name, it.desc) }\n            }\n    }\n}\n</code></pre>\n\n<p>By this code, I get below error:</p>\n\n<pre><code>Caused by: org.zalando.problem.DefaultProblem: Internal Server Error: lateinit property s has not been initialized\n</code></pre>\n\n<p>I search for this error and found some result like <a href=\"https://stackoverflow.com/questions/40176083/lateinit-property-has-not-been-initialized\">this</a>, but the problem not solved.<br>\nHow can I inject service in <strong>companion object</strong> in kotlin?</p>\n"}, {"tags": ["spring", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1545135167, "post_id": 53832509, "comment_id": 94513666, "body": "you do not necessarily need quotes... <code>-DpropertyKey=value</code> should suffice, except there is a space or otherwise special symbol in the value..."}], "tags": [], "owner": {"reputation": 627, "user_id": 6857910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wPju9.jpg?s=128&g=1", "display_name": "Hans Schreuder", "link": "https://stackoverflow.com/users/6857910/hans-schreuder"}, "is_accepted": false, "score": 0, "last_activity_date": 1545134552, "last_edit_date": 1545134552, "creation_date": 1545134227, "answer_id": 53832509, "question_id": 53832034, "link": "https://stackoverflow.com/questions/53832034/kotlin-system-getproperty-cannot-resolve-command-line-argument/53832509#53832509", "title": "Kotlin - System.getProperty cannot resolve command line argument", "body": "<p>Don't you need quotes?</p>\n\n<pre><code>java -jar my.jar -Dspring.config.location=\"my/location/application.properties\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545137595, "post_id": 53833384, "comment_id": 94514997, "body": "In that order I get <code>Error: Could not find or load main class .config.location=my&#47;location&#47;application.properties</code>"}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545137709, "post_id": 53833384, "comment_id": 94515067, "body": "Try putting them in quotes, depending on your OS."}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545137952, "post_id": 53833384, "comment_id": 94515220, "body": "I&#39;ve just tried it locally, and it works fine. Not sure why this is downvoted."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545137991, "post_id": 53833384, "comment_id": 94515240, "body": "I tried in quotes as well. Still doesn&#39;t work :( I&#39;m using Powershell on Windows"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 2, "creation_date": 1545138563, "post_id": 53833384, "comment_id": 94515567, "body": "The second option didn&#39;t work for me. The first one did."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1545138747, "post_id": 53833384, "comment_id": 94515664, "body": "using Powershell and only the system properties in quotes did work for me, e.g. <code>java &quot;-Dspring.config.location=test&quot; -jar some.jar</code> worked ..."}], "tags": [], "owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "is_accepted": true, "score": 7, "last_activity_date": 1545138024, "last_edit_date": 1545138024, "creation_date": 1545137365, "answer_id": 53833384, "question_id": 53832034, "link": "https://stackoverflow.com/questions/53832034/kotlin-system-getproperty-cannot-resolve-command-line-argument/53833384#53833384", "title": "Kotlin - System.getProperty cannot resolve command line argument", "body": "<p>You're passing them in the wrong sequence. Pass them like:</p>\n\n<pre><code>java \"-Dspring.config.location=my/location/application.properties\" -jar my.jar \n</code></pre>\n\n<p>Otherwise they are program arguments. I've just tested it, and on MacOS, both the above as well as </p>\n\n<pre><code>java -Dspring.config.location=my/location/application.properties -jar my.jar \n</code></pre>\n\n<p>(without quotes) work.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1579, "favorite_count": 0, "accepted_answer_id": 53833384, "answer_count": 2, "score": -1, "last_activity_date": 1545138024, "creation_date": 1545132476, "question_id": 53832034, "link": "https://stackoverflow.com/questions/53832034/kotlin-system-getproperty-cannot-resolve-command-line-argument", "title": "Kotlin - System.getProperty cannot resolve command line argument", "body": "<p>I have some code to load <code>application.properties</code> dynamically:</p>\n\n<pre><code>fun loadDefaultProperties(): Properties {\n    val configPath = System.getProperty(\"spring.config.location\")\n    val resource = FileSystemResource(configPath)\n    return PropertiesLoaderUtils.loadProperties(resource)\n}\n</code></pre>\n\n<p>But when I run the command...</p>\n\n<pre><code>java -jar my.jar -Dspring.config.location=my/location/application.properties\n</code></pre>\n\n<p>...<code>System.getProperty(\"spring.config.location\")</code> returns <code>null</code>, and therefore, I get an <code>IllegalArgumentException</code> because the path is <code>null</code>.</p>\n\n<p>Why am I unable to read the argument from the command line?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1545131545, "post_id": 53831751, "comment_id": 94511792, "body": "<a href=\"https://stackoverflow.com/questions/34588117/how-can-i-convert-a-part-of-java-source-file-to-kotlin\" title=\"how can i convert a part of java source file to kotlin\">stackoverflow.com/questions/34588117/&hellip;</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1545131549, "post_id": 53831751, "comment_id": 94511799, "body": "When you used &quot;convert Java code to Kotlin&quot; command in IntelliJ, what did you get?"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1545132570, "post_id": 53831751, "comment_id": 94512340, "body": "please don&#39;t ask the questions as basic as they are answered in any basic kotlin tutorial. Check some tutorial instead."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1545136783, "post_id": 53831751, "comment_id": 94514551, "body": "Why not start with the official kotlin docs? There is even &quot;Object oriented Hello&quot; directly at <a href=\"https://kotl.in\" rel=\"nofollow noreferrer\">kotl.in</a> page which basically solves this whole question."}], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 6908588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ca0ba765a5b5f9e57ba7b7f8778f1a?s=128&d=identicon&r=PG&f=1", "display_name": "Mittal Varsani", "link": "https://stackoverflow.com/users/6908588/mittal-varsani"}, "is_accepted": false, "score": 2, "last_activity_date": 1545132086, "creation_date": 1545132086, "answer_id": 53831929, "question_id": 53831751, "link": "https://stackoverflow.com/questions/53831751/how-to-create-objects-of-a-class-in-kotlin-and-pass-values-to-it-similar-to-java/53831929#53831929", "title": "How to create objects of a class in kotlin and pass values to it similar to java", "body": "<p>TestClass.kt</p>\n\n<pre><code>class TestClass(hi: String) {\n\n\n        init {\n            Log.d(\"check\", \"Constructor invocation$hi\")\n        }\n\n        fun initiate() {\n            Log.d(\"check\", \"Function invocation\")\n\n        }\n\n    }\n</code></pre>\n\n<p>RunningClass.kt</p>\n\n<pre><code>class RunningClass {\n        init {\n\n            val mObj = TestClass(\"HI\")\n            mObj.initiate()\n        }\n    }\n</code></pre>\n\n<p>If you want to convert part of a file from Java to Kotlin, the easiest way is to copy the code from the Java file in the IDE and paste it into the Kotlin file.</p>\n"}, {"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1545137111, "post_id": 53831935, "comment_id": 94514741, "body": "Imho this is not very beginner-friendly answer, as you use <code>also</code>, you do not mention init block, you declare <code>firstProperty</code> which is not the part of the original java code and you declare inly to print it, which is basically useless. Also, in <code>RunningClass</code> I guess no one declares no-arg constructor like that, when you can use primary constructor, which is auto-declared while declaring the class, together with the init block. Answer proposed by @Mittal Varsani is far more accurate and Kotlin friendly in terms of using code conventions."}], "tags": [], "owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "is_accepted": true, "score": 2, "last_activity_date": 1545132105, "creation_date": 1545132105, "answer_id": 53831935, "question_id": 53831751, "link": "https://stackoverflow.com/questions/53831751/how-to-create-objects-of-a-class-in-kotlin-and-pass-values-to-it-similar-to-java/53831935#53831935", "title": "How to create objects of a class in kotlin and pass values to it similar to java", "body": "<p>Try this</p>\n\n<pre><code>class TestClass(hi: String) {\n\n    val firstProperty = \"First property: $hi\".also(::println)\n\n    fun initiate() {\n        Log.d(\"check\", \"Function invocation\")\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>RunningClass.kt</p>\n</blockquote>\n\n<pre><code>class RunningClass {\n\n    constructor () {\n        val mObj = TestClass(\"HI\")\n        mObj.initiate()\n    }\n}\n</code></pre>\n\n<p>For more information please read </p>\n\n<ul>\n<li><a href=\"https://www.callicoder.com/kotlin-classes-objects-constructors-initializers/#constructors\" rel=\"nofollow noreferrer\"><strong><code>Constructors in kotlin</code></strong></a></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\"><strong><code>Constructors in kotlin</code></strong></a></li>\n<li><a href=\"https://www.journaldev.com/18491/kotlin-class-constructor\" rel=\"nofollow noreferrer\"><strong><code>Kotlin Constructor</code></strong></a></li>\n<li><a href=\"https://www.tutorialspoint.com/kotlin/kotlin_constructors.htm\" rel=\"nofollow noreferrer\"><strong><code>Kotlin - Constructors</code></strong></a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1995, "user_id": 8265484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eo5pY.jpg?s=128&g=1", "display_name": "Mayur Dabhi", "link": "https://stackoverflow.com/users/8265484/mayur-dabhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1545132381, "creation_date": 1545132381, "answer_id": 53832011, "question_id": 53831751, "link": "https://stackoverflow.com/questions/53831751/how-to-create-objects-of-a-class-in-kotlin-and-pass-values-to-it-similar-to-java/53832011#53832011", "title": "How to create objects of a class in kotlin and pass values to it similar to java", "body": "<p>object of class create </p>\n\n<pre><code>class MyClass1 {\ncompanion object Named { }\n}\n\nval x = MyClass1  &lt;----object\n</code></pre>\n\n<p>pass data from class parameters</p>\n\n<pre><code>class User(var name: String, var age: Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1545134211, "creation_date": 1545134211, "answer_id": 53832506, "question_id": 53831751, "link": "https://stackoverflow.com/questions/53831751/how-to-create-objects-of-a-class-in-kotlin-and-pass-values-to-it-similar-to-java/53832506#53832506", "title": "How to create objects of a class in kotlin and pass values to it similar to java", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">Kotlin reference</a> contains everything<sup>1</sup> you need to know. From there on it's only one step away to the <a href=\"https://kotlinlang.org/docs/tutorials/\" rel=\"nofollow noreferrer\">Kotlin tutorials</a>. </p>\n\n<p>I can only recommend to go through the reference first. There are a lot of interesting concepts that help you write cleaner and simpler code, but you need to know them at least.</p>\n\n<p>You may always want to consult the reference when in doubt and you can play around with <a href=\"https://play.kotlinlang.org/koans\" rel=\"nofollow noreferrer\">Kotlin Koans online</a> to get familiar with some concepts.</p>\n\n<p>So for the questions you asked, you would start from the reference and probably soon (or later ;-)) jump to \"Classes and Objects\" from there to \"Classes and Inheritance\" and you arrive at the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">constructors</a> and would have found out yourself rather easily that the answer is:</p>\n\n<pre><code>class TestClass(hi: String) {\n  init {\n    Log.d(\"check\", \"Constructor invocation$hi\")\n  }\n  fun initiate() {\n    Log.d(\"check\", \"Function invocation\")\n  }\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>class RunningClass {\n  init {\n    val mObj = TestClass(\"HI\")\n    mObj.initiate()\n  }\n}\n</code></pre>\n\n<p><sup>1</sup> if not then you are probably dealing with more advanced stuff... (<a href=\"https://github.com/Kotlin/KEEP\" rel=\"nofollow noreferrer\">KEEP</a> may or may not be interesting then...)</p>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2119, "favorite_count": 0, "accepted_answer_id": 53831935, "answer_count": 4, "score": -2, "last_activity_date": 1545134211, "creation_date": 1545131441, "last_edit_date": 1545131535, "question_id": 53831751, "link": "https://stackoverflow.com/questions/53831751/how-to-create-objects-of-a-class-in-kotlin-and-pass-values-to-it-similar-to-java", "title": "How to create objects of a class in kotlin and pass values to it similar to java", "body": "<h2>What is the equivalent code in <code>kotlin</code></h2>\n\n<p><strong><em>I am trying to learn</em></strong> </p>\n\n<ul>\n<li>How to declare objects of a class</li>\n<li>How to pass values to a new object</li>\n</ul>\n\n<p><strong>TestClass.java</strong></p>\n\n<pre><code>public class TestClass {\n\n\n    public TestClass(String hi) {\n        Log.d(\"check\",\"Constructor invocation\"+hi);\n    }\n\n    public void initiate() {\n        Log.d(\"check\",\"Function invocation\");\n\n    }\n\n}\n</code></pre>\n\n<p><strong>RunningClass.java</strong></p>\n\n<pre><code>public class RunningClass {\n\n    public RunningClass() {\n\n        TestClass mObj = new TestClass(\"HI\");\n        mObj.initiate();\n    }\n}\n</code></pre>\n\n<p>What is the equivalent code of <code>RunningClass.java</code> and <code>TestClass.java</code> in kotlin</p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1545140832, "post_id": 53833808, "comment_id": 94516933, "body": "That plugin doesn&#39;t have any Kotlin postfix completions by default, but I&#39;ve made my own. It&#39;s not trivial to add and edit your own postfix additions, it&#39;s quite an involved plugin."}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "reply_to_user": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1545172786, "post_id": 53833808, "comment_id": 94532410, "body": "I appreciate the added information, but can you please not edit my answer? I have reverted your changes."}], "tags": [], "owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "is_accepted": false, "score": 5, "last_activity_date": 1545172861, "last_edit_date": 1545172861, "creation_date": 1545138744, "answer_id": 53833808, "question_id": 53830346, "link": "https://stackoverflow.com/questions/53830346/how-can-i-add-a-custom-kotlin-postfix-completion-in-intellij-idea-android-stud/53833808#53833808", "title": "How can I add a custom Kotlin postfix completion in IntelliJ IDEA / Android Studio?", "body": "<p>I checked, and it's not possible in Android Studio nor IntelliJ. Probably the definition language doesn't have support for Kotlin yet.</p>\n\n<p>However, what you could try, is try the following plugin: <a href=\"https://plugins.jetbrains.com/plugin/9862-custom-postfix-templates\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9862-custom-postfix-templates</a>. </p>\n\n<p>It seems to be well maintained, and has support for Scala, Kotlin, Groovy, etc. I haven't tried it myself, but based on the documentation, it seems to be what you're looking for.</p>\n"}], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1545172861, "creation_date": 1545126671, "last_edit_date": 1545152151, "question_id": 53830346, "link": "https://stackoverflow.com/questions/53830346/how-can-i-add-a-custom-kotlin-postfix-completion-in-intellij-idea-android-stud", "title": "How can I add a custom Kotlin postfix completion in IntelliJ IDEA / Android Studio?", "body": "<p>It seems I can't add custom postfix completions for Kotlin in neither IntelliJ IDEA (2018.3), nor in Android studio (3.2.1). If I go to preferences | Editor | General | Postfix Completion and I click the add button, there is no option for Kotlin (see screenshots below). Is it possible to add new postfix completions?</p>\n\n<p>I'd like to add a <code>.with</code> postfix completion, so that <code>x.with</code> would expand to</p>\n\n<pre><code>with(x) {\n    // The caret should go here\n}\n</code></pre>\n\n<p>Side note: I think it's a shame there is no postfix completion for <code>with</code> out of the box.</p>\n\n<p>Screenshots of IntelliJ IDEA (2018.3) and Android Studio (3.2.1):</p>\n\n<p><a href=\"https://i.stack.imgur.com/NlaLZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NlaLZ.png\" alt=\"IntelliJ IDEA postfix completion settings\"></a>\n<a href=\"https://i.stack.imgur.com/u931A.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u931A.jpg\" alt=\"Android Studio postfix completion settings\"></a></p>\n"}, {"tags": ["kotlin", "android-room", "android-livedata"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1545159803, "post_id": 53829989, "comment_id": 94527239, "body": "Inside your FullMessage class you need two relations on both user and  attachment. Something like this <a href=\"https://gist.github.com/luksprog/9b48a3903118bbff7b6d2e4ac094a54a\" rel=\"nofollow noreferrer\">gist.github.com/luksprog/9b48a3903118bbff7b6d2e4ac094a54a</a>"}, {"owner": {"reputation": 514, "user_id": 1387159, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9858ca8c784b876e879f0a1eec8980c1?s=128&d=identicon&r=PG", "display_name": "Divyanshu Negi", "link": "https://stackoverflow.com/users/1387159/divyanshu-negi"}, "edited": false, "score": 0, "creation_date": 1556403487, "post_id": 53829989, "comment_id": 98428676, "body": "Did you find the solution to this issue? With @realtion on values it works but with LiveData I am getting null."}], "owner": {"reputation": 2306, "user_id": 1907954, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b4d8b0155e0d297174f1be82f92ea9bb?s=128&d=identicon&r=PG", "display_name": "Bugdr0id", "link": "https://stackoverflow.com/users/1907954/bugdr0id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545127332, "creation_date": 1545125550, "last_edit_date": 1545127332, "question_id": 53829989, "link": "https://stackoverflow.com/questions/53829989/room-database-retrieve-relation", "title": "Room database - Retrieve @Relation", "body": "<p>Im trying to retrieve full models from Room database, but without success.</p>\n\n<p>My database setup is the following:</p>\n\n<pre><code>@Entity(tableName = \"Message\",\n        foreignKeys = [ForeignKey(entity = User::class, parentColumns = arrayOf(\"id\"), childColumns = arrayOf(\"userId\"))])\ndata class Message(\n        @PrimaryKey\n        var id: Long = 9L,\n        var userId: Long = 0L,\n        var content: String = \"\",\n)\n\n@Entity(tableName = \"Attachment\",\n        foreignKeys = [ForeignKey(entity = Message::class, parentColumns = arrayOf(\"id\"), childColumns = arrayOf(\"messageId\"))])\ndata class Attachment(\n        @PrimaryKey\n        var id: String = \"\",\n        var messageId: Long = 0L,\n        var url: String = \"\"\n)\n\n@Entity(tableName = \"User\")\ndata class User(\n        @PrimaryKey\n        var id: Long = 0L,\n        var name: String = \"\",\n        var avatarId: String = \"\"\n)\n</code></pre>\n\n<p>DB Relationship:\n- One message belongs to one user &amp; One message has multiple attachments</p>\n\n<p>I want now to be able to retrieve directly from database the <code>LiveData&lt;List&lt;FullMessage&gt;&gt;</code>, where:</p>\n\n<pre><code>class FullMessage(\n        val id: Int,\n        val content: String,\n        val user: User,\n        val attachments: List&lt;Attachment&gt;\n)\n</code></pre>\n\n<p>On Dao side, I know I am able to do:</p>\n\n<pre><code>@Query(\"SELECT * from Message\")\nfun getAll(): LiveData&lt;List&lt;FullMessage&gt;&gt;\n</code></pre>\n\n<p>Im missing now the use of @Relation annotation from Room in FullMessage class. How can I retrieve the model FullMessage?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1545126348, "post_id": 53829974, "comment_id": 94508706, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47002406/why-arent-the-entries-in-a-kotlin-pair-mutable\">Why aren&#39;t the entries in a Kotlin Pair mutable?</a>"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 1, "creation_date": 1545126432, "post_id": 53829974, "comment_id": 94508751, "body": "The op is not trying to mutate <code>pair.first</code> or <code>pair.second</code>, they&#39;re trying to mutate   the <code>pair</code> parameter, which is also immutable. The possible duplicates refer to something different."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545126597, "post_id": 53829974, "comment_id": 94508831, "body": "@series0ne What makes you think that they want o do that? I don&#39;t see OP mention &quot;parameter&quot;. I do however see him mention &quot;value&quot;"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1545126781, "post_id": 53829974, "comment_id": 94508952, "body": "@TimCastelijns <code>pair = pair.copy()</code>"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545127000, "post_id": 53829974, "comment_id": 94509089, "body": "@TimCastelijns &quot;The question is that <b>arguments</b> is also immutable in Kotlin&quot; - Okay, I said <i>parameter</i> and not <i>argument</i>."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1545127051, "post_id": 53829974, "comment_id": 94509130, "body": "@series0ne oh I misunderstood, I thought you were talking about the type parameters"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545127100, "post_id": 53829974, "comment_id": 94509162, "body": "@TimCastelijns Oh I see, yes that adds another layer of confusion into the mix! :)"}], "answers": [{"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1545126178, "last_edit_date": 1545126178, "creation_date": 1545125819, "answer_id": 53830072, "question_id": 53829974, "link": "https://stackoverflow.com/questions/53829974/how-to-change-pair-value-in-arguments-in-kotlin/53830072#53830072", "title": "How to change pair value in arguments in Kotlin", "body": "<p>You can use <code>copy()</code> to create a changed copy. (Works for every <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#copying\" rel=\"nofollow noreferrer\">data-class.</a>)</p>\n\n<pre><code>fun bind(pair: Pair&lt;String, Boolean&gt;) {\n   val pairCopy = pair.copy(first = \"something else\")\n}\n</code></pre>\n\n<p>Then use <code>pairCopy</code> in the following code.</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1545126193, "last_edit_date": 1545126193, "creation_date": 1545125829, "answer_id": 53830075, "question_id": 53829974, "link": "https://stackoverflow.com/questions/53829974/how-to-change-pair-value-in-arguments-in-kotlin/53830075#53830075", "title": "How to change pair value in arguments in Kotlin", "body": "<p>As <code>Pair</code> is immutable, you can't just replace the pair value except you are using reflection. Either change <code>Pair</code> to something mutable or stick with it and return a new <code>Pair</code> instead either with <code>copy</code> (setting only some of the values) or with the following:</p>\n\n<pre><code>fun bind(pair: Pair&lt;String, Boolean&gt;) = pair.let { (left, right) -&gt; // destructuring\n  // exchange pair values here... just showing a sample:\n  left.toInt() to right.toString() // this is basically the same as Pair(left.toInt(), right.toString())\n} // in this example it returns a Pair&lt;Int, String&gt;\n</code></pre>\n\n<p>While you could probably introduce your own <code>MutablePair</code>-class I would rather stick to the immutability and adapt your code to handle it appropriately. Mutability can be a problem; even more so if someone else does not expect that your pair is mutable.</p>\n"}, {"comments": [{"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545126568, "post_id": 53830148, "comment_id": 94508820, "body": "This was not the exact question and answer of the user. The user here wants to know how to use <code>copy()</code> explicitly while the answer I copied here answered how to <b>modify</b> a <code>Pair</code>."}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545127031, "post_id": 53830148, "comment_id": 94509114, "body": "You are right about the title and I understand your point of view. However OP gave an example of <code>pair = pair.copy() </code>, so I assume he wants to use <code>copy()</code>, but possibly does not understand that writing again to <code>pair</code> will not work out since it&#39;s immutable. My answer here tries to address that, hence I didn&#39;t mark it as duplicate."}], "tags": [], "owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "is_accepted": false, "score": 2, "last_activity_date": 1545127112, "last_edit_date": 1545127112, "creation_date": 1545126055, "answer_id": 53830148, "question_id": 53829974, "link": "https://stackoverflow.com/questions/53829974/how-to-change-pair-value-in-arguments-in-kotlin/53830148#53830148", "title": "How to change pair value in arguments in Kotlin", "body": "<p>You can not write to the <code>pair</code> value itself since it's <a href=\"https://kotlinlang.org/docs/reference/native/immutability.html\" rel=\"nofollow noreferrer\">immutable</a>, instead create a copy of the value like so: </p>\n\n<pre><code>val pair2 = pair.copy()\n</code></pre>\n\n<p>And use <code>pair2</code> value instead of <code>pair</code> itself.</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/a/47149372/5457878\">this helpful answer</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 5272091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1pcXL.jpg?s=128&g=1", "display_name": "OldCat", "link": "https://stackoverflow.com/users/5272091/oldcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "accepted_answer_id": 53830075, "answer_count": 3, "score": 1, "last_activity_date": 1545127112, "creation_date": 1545125464, "question_id": 53829974, "link": "https://stackoverflow.com/questions/53829974/how-to-change-pair-value-in-arguments-in-kotlin", "title": "How to change pair value in arguments in Kotlin", "body": "<p>I know Pair is immutable in Kotlin. The question is that arguments is also immutable in Kotlin. So when I got a code like this.</p>\n\n<pre><code>fun bind(pair: Pair&lt;String, Boolean&gt;) {\n   // Change pair value here\n}\n</code></pre>\n\n<p>pair = pair.copy() is not working here. I don't know how to do.</p>\n"}, {"tags": ["android", "kotlin", "sms"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 3, "creation_date": 1545125246, "post_id": 53829769, "comment_id": 94508120, "body": "its <code>STATUS_FAILED</code> with additional bits 1 (00000010) and 2 (00000100) set"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1545126123, "post_id": 53829769, "comment_id": 94508586, "body": "@pskink post it as an answer for future readers"}], "answers": [{"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 3, "last_activity_date": 1545136575, "creation_date": 1545136575, "answer_id": 53833152, "question_id": 53829769, "link": "https://stackoverflow.com/questions/53829769/what-does-the-70-value-represent-for-android-sms-status/53833152#53833152", "title": "What does the 70 value represent for Android SMS Status?", "body": "<p>After digging in the source code (specifically class <code>SmsMessage</code>, field <code>status</code>) I found out this <a href=\"https://www.arib.or.jp/english/html/overview/doc/STD-T63V12_00/5_Appendix/Rel13/23/23040-d10.pdf\" rel=\"nofollow noreferrer\">document</a>. When you scroll to section 9.2.3.15, page 68, you will see list of possible status codes for SMS. Your code (70) means</p>\n\n<blockquote>\n  <p>1000110 SM Validity Period Expired</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1089, "user_id": 498146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d0ded7ef92729f7ed3894cbb515b35?s=128&d=identicon&r=PG", "display_name": "Ramesh Yankati", "link": "https://stackoverflow.com/users/498146/ramesh-yankati"}, "is_accepted": false, "score": 2, "last_activity_date": 1545137317, "creation_date": 1545137317, "answer_id": 53833375, "question_id": 53829769, "link": "https://stackoverflow.com/questions/53829769/what-does-the-70-value-represent-for-android-sms-status/53833375#53833375", "title": "What does the 70 value represent for Android SMS Status?", "body": "<p>In some cases, this error code is returned when the carrier determines that it is impossible to route the SMS and the message has to be dropped as it is being looped between platforms.</p>\n\n<p>Error code : 70 </p>\n\n<p>Destination permanently unavailable The destination (i.e., \u201cdst\u201d)\nphone number is not active and there is no indication of when it will become available again. Note that this is a broad error code where the carrier has not indicated the reason for the destination unavailability. Check the \u201cdst\u201d phone number to ensure that it is correct. Also, try sending messages to an alternative number to ensure that all other parts of your application are working.</p>\n\n<p>These are the other error code.</p>\n\n<pre><code>    /** TP-Status: no status received. */\n    public static final int STATUS_NONE = -1;\n    /** TP-Status: complete. */\n    public static final int STATUS_COMPLETE = 0;\n    /** TP-Status: pending. */\n    public static final int STATUS_PENDING = 32;\n    /** TP-Status: failed. */\n    public static final int STATUS_FAILED = 64;\n</code></pre>\n"}], "owner": {"reputation": 96259, "user_id": 247696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/936383b387d6cc6d51279e429e5d7cd9?s=128&d=identicon&r=PG", "display_name": "Flimm", "link": "https://stackoverflow.com/users/247696/flimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1545140458, "creation_date": 1545124775, "last_edit_date": 1545140458, "question_id": 53829769, "link": "https://stackoverflow.com/questions/53829769/what-does-the-70-value-represent-for-android-sms-status", "title": "What does the 70 value represent for Android SMS Status?", "body": "<p>I have some Android code in Kotlin that is getting the status of a stored SMS message:</p>\n\n<pre><code>val status = cursor.getInt(cursor.getColumnIndexOrThrow(Telephony.Sms.STATUS))\n</code></pre>\n\n<p>Later on, I compare this value to the different constants to see what the status means:</p>\n\n<pre><code>print(when (status) {\n    Telephony.Sms.STATUS_COMPLETE -&gt; \"complete\"\n    Telephony.Sms.STATUS_FAILED -&gt; \"failed\"\n    Telephony.Sms.STATUS_NONE -&gt; \"none\"\n    Telephony.Sms.STATUS_PENDING -&gt; \"pending\"\n    else -&gt; status.toString()\n})\n</code></pre>\n\n<p>Usually, I get strings like \"complete\", \"none\" and \"pending\". However, sometimes \"70\" is returned, which means that the status doesn't match any of the constants <a href=\"https://developer.android.com/reference/android/provider/Telephony.TextBasedSmsColumns.html#STATUS_COMPLETE\" rel=\"nofollow noreferrer\">found listed here</a>. What does 70 mean here?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2203, "user_id": 4061352, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/0ELHP.jpg?s=128&g=1", "display_name": "Rasool Ghana", "link": "https://stackoverflow.com/users/4061352/rasool-ghana"}, "edited": false, "score": 0, "creation_date": 1545123409, "post_id": 53829336, "comment_id": 94507147, "body": "i donno if thats gonna help you or not, but you can try changing your VPN , some times it works !"}, {"owner": {"reputation": 372, "user_id": 5654355, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f30dd8b502d5ec6b91b95079574c5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim", "link": "https://stackoverflow.com/users/5654355/fahim"}, "reply_to_user": {"reputation": 2203, "user_id": 4061352, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/0ELHP.jpg?s=128&g=1", "display_name": "Rasool Ghana", "link": "https://stackoverflow.com/users/4061352/rasool-ghana"}, "edited": false, "score": 0, "creation_date": 1545123871, "post_id": 53829336, "comment_id": 94507341, "body": "Thanks for your reply but don&#39;t effect on my sync project ."}, {"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1545126503, "post_id": 53829336, "comment_id": 94508793, "body": "where is the sync Gradle error log? can you provide it?"}], "owner": {"reputation": 372, "user_id": 5654355, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f30dd8b502d5ec6b91b95079574c5e4?s=128&d=identicon&r=PG&f=1", "display_name": "Fahim", "link": "https://stackoverflow.com/users/5654355/fahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1586346156, "creation_date": 1545123136, "last_edit_date": 1586346156, "question_id": 53829336, "link": "https://stackoverflow.com/questions/53829336/problems-sync-gradle-with-kotlin", "title": "Problems sync Gradle with Kotlin", "body": "<p>I download android play location master project from <code>github</code> for reading project and working with fused location provider but I cant sync this project. I didn't use <code>Kotlin</code> before and the project always return <code>connection timed out: connect</code>. I searched two days but I couldn't resolve problem. In Kotlin updates part in settings, my current Kotlin plugin version is 1.2.71-release-Studio3.2-1 is set.</p>\n\n<p>How to solve this problems?</p>\n\n<p>Another note, I connect from Iran country and for this I set proxy in settings but my settings is correct and when I checked  connection, everything is OK.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1545124175, "post_id": 53829307, "comment_id": 94507497, "body": "<code>and</code> does a bitwise AND, use <code>&amp;&amp;</code>"}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545125177, "post_id": 53829307, "comment_id": 94508082, "body": "@TimCastelijns thanks it works. But, why in this case Kotlin allows <code>and</code>, <code>or</code> as logical operators between boolean?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545125424, "post_id": 53829307, "comment_id": 94508243, "body": "because the stdlib defines <code>public infix fun and(other: Boolean): Boolean</code> for Boolean instances"}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545126023, "post_id": 53829307, "comment_id": 94508535, "body": "@TimCastelijns than I&#39;m puzzled - in javadoc it says: <code>Performs a logical &#39;and&#39; operation between this Boolean and the [other] one. Unlike the </code>&amp;&amp;` operator, this function does not perform short-circuit evaluation.`. So it should be an equivalent of java single &amp; operator, and should work, but it does not?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545126449, "post_id": 53829307, "comment_id": 94508765, "body": "<i>So it should be an equivalent of java single &amp; operator, and should work,</i> - yes, but why should that work?"}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545126624, "post_id": 53829307, "comment_id": 94508851, "body": "@TimCastelijns from my point of view <code>&amp;&amp;</code> and <code>and</code> operators have the same logical result, but in 1 case smart cast works, and in 2 does not"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1545127827, "post_id": 53829307, "comment_id": 94509638, "body": "while I do not really have an answer to the bitwise <code>and</code> not giving the same result, I can only recommend to always use <code>&amp;&amp;</code> instead of bitwise <code>and</code> due to the short-circuiting.... (if you have a use-case where all functions within a condition must be called (regardless of the outcome), then of course bitwise <code>and</code> might be more appropriate... but usually one doesn&#39;t need such constructs)..."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1545128169, "post_id": 53829307, "comment_id": 94509821, "body": "I think this is a good candidate for a Kotlin issue. It should work."}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545129342, "post_id": 53829307, "comment_id": 94510577, "body": "@MarkoTopolnik I have added an issue <a href=\"https://youtrack.jetbrains.net/issue/KT-28889\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issue/KT-28889</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 0, "creation_date": 1545127598, "post_id": 53830486, "comment_id": 94509499, "body": "Sorry, but looks like this is not true, looks at comments under the question"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 4, "creation_date": 1545127707, "post_id": 53830486, "comment_id": 94509557, "body": "@tynn you might want to read <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/kotlin-contracts.md\" rel=\"nofollow noreferrer\">Kotlin contracts</a>... <code>isNullOrBlank</code> has a contract in it and the compiler can do a smart cast... but only if <code>&amp;&amp;</code> is used... on a bitwise <code>and</code> it doesn&#39;t work... and to be honest: you may want to read about smart casts... I find your code is harder to read then the short-circuiting variant with smart cast..."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1545128336, "post_id": 53830486, "comment_id": 94509934, "body": "@Roland thanks for the link. I actually missed the contracts in <i>Kotlin</i>. I guess the code readability is a matter of taste. I find it nicer to read. Please consider providing an answer from your comment as well."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1545127848, "last_edit_date": 1545127848, "creation_date": 1545127085, "answer_id": 53830486, "question_id": 53829307, "link": "https://stackoverflow.com/questions/53829307/smart-cast-does-not-cast-string-to-string-after-value-isnullorblank/53830486#53830486", "title": "Smart cast does not cast String? to String after !value.isNullOrBlank()", "body": "<p>An alternative approach I usually like to do, without involving smart casts:</p>\n\n<pre><code>val id : String = getId()?.takeIf { it.isNotBlank() } ?: return\nval name : String = getName()?.takeIf { it.isNotBlank() } ?: return\nlist.add(Response(id, name))\n</code></pre>\n\n<p>Here you verify the value while you get it and abort if you cannot use it.</p>\n"}, {"comments": [{"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 1, "creation_date": 1545129383, "post_id": 53830978, "comment_id": 94510605, "body": "I have added an tiket for it <a href=\"https://youtrack.jetbrains.net/issue/KT-28889\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issue/KT-28889</a>"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 4, "last_activity_date": 1545132366, "last_edit_date": 1545132366, "creation_date": 1545128792, "answer_id": 53830978, "question_id": 53829307, "link": "https://stackoverflow.com/questions/53829307/smart-cast-does-not-cast-string-to-string-after-value-isnullorblank/53830978#53830978", "title": "Smart cast does not cast String? to String after !value.isNullOrBlank()", "body": "<p>As a recommendation: always try to use <code>&amp;&amp;</code> instead of bitwise <code>and</code> to evaluate your conditions. Seldomly is there any reason to use a bitwise <code>and</code> (there are some use-cases, but in most cases you just want to have a short-circuiting evaluation of your conditions, even more so if there is some complex calculation/service calls within one of the functions).</p>\n\n<p>From what I see and expect the smart cast should work, even more so because <code>&amp;&amp;</code> already does work. I didn't find any appropriate or matching issue, so you may want to <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">open a new ticket</a> for this.</p>\n\n<p>Note also that the smart cast should work due to the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/kotlin-contracts.md\" rel=\"nofollow noreferrer\">Kotlin contract</a> defined in <code>isNullOrBlank</code> which basically checks whether the value underneath is <code>null</code> so it might be related to the evaluation of the contracts, and/or the inlining of the function and/or something of the former combined with the bitwise <code>and</code>.</p>\n"}], "owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1545132366, "creation_date": 1545123035, "question_id": 53829307, "link": "https://stackoverflow.com/questions/53829307/smart-cast-does-not-cast-string-to-string-after-value-isnullorblank", "title": "Smart cast does not cast String? to String after !value.isNullOrBlank()", "body": "<p>I want to add to the list objects only if they have all fields, and try this code:</p>\n\n<pre><code>data class Response(val id: String, val name: String)\nval list = mutableListOf&lt;Response&gt;()\n\nval id : String? = \"test_id\"\nval name : String? = \"test_name\"\n\nif (!id.isNullOrBlank() and !name.isNullOrBlank()) {\n    list.add(Response(id, name)) // Type mismatch. Required String, Found String?\n}\n</code></pre>\n\n<p>But I got an error: <code>Type mismatch. Required String, Found String?</code>\nWhat is the correct (and compact) way to do it?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "is_accepted": true, "score": 11, "last_activity_date": 1573628727, "last_edit_date": 1573628727, "creation_date": 1545119541, "answer_id": 53828504, "question_id": 53828442, "link": "https://stackoverflow.com/questions/53828442/accessing-constants-defined-in-kotlin-in-java-class/53828504#53828504", "title": "Accessing constants defined in Kotlin in java class", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\"><strong><code>Companion Objects</code></strong></a></p>\n\n<ul>\n<li>An object declaration inside a class can be marked with the <code>companion</code> keyword:</li>\n</ul>\n\n<p>Try this way</p>\n\n<pre><code>class Keys {\n\n    companion object {\n        const val SPLASH_DURATION : Long = 5000\n        const val READ_TIMEOUT : Int = 200\n        const val CONNECTION_TIMEOUT : Int = 200\n        const val WRITE_TIMEOUT : Int = 200\n\n    }\n}\n</code></pre>\n\n<p>Now you can access your <code>const</code> variable like this</p>\n\n<pre><code>Keys.CONNECTION_TIMEOUT;\n</code></pre>\n\n<blockquote>\n  <p>Second Way</p>\n</blockquote>\n\n<pre><code>object Keys {\n    const val SPLASH_DURATION: Long = 5000\n    const val READ_TIMEOUT: Int = 200\n    const val CONNECTION_TIMEOUT: Int = 200\n    const val WRITE_TIMEOUT: Int = 200\n}\n</code></pre>\n\n<p>Now you can access your <code>const</code> variable like this</p>\n\n<pre><code>Keys.SPLASH_DURATION;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 265, "user_id": 5005333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LPfhN.jpg?s=128&g=1", "display_name": "TheOska", "link": "https://stackoverflow.com/users/5005333/theoska"}, "is_accepted": false, "score": 3, "last_activity_date": 1545130555, "creation_date": 1545130555, "answer_id": 53831478, "question_id": 53828442, "link": "https://stackoverflow.com/questions/53828442/accessing-constants-defined-in-kotlin-in-java-class/53831478#53831478", "title": "Accessing constants defined in Kotlin in java class", "body": "<p><strong>How to solve:</strong></p>\n\n<p>Add the <code>@JvmField</code></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>object Keys {\n    const val SPLASH_DURATION : Long = 5000\n\n    const val READ_TIMEOUT : Int = 200\n    const val CONNECTION_TIMEOUT : Int = 200\n    const val WRITE_TIMEOUT : Int = 200\n\n    @JvmField\n    var BASE_URL = BuildConfig.SERVER_KEY\n}\n</code></pre>\n\n<p><strong>Why</strong></p>\n\n<ol>\n<li>Use @JvmField annotation on a public field in the object to tell the compiler to not generate any getter or setter </li>\n<li>Expose it as a static field in the class </li>\n</ol>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\" rel=\"nofollow noreferrer\">See the kotlin documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 6797703, "user_type": "registered", "profile_image": "https://graph.facebook.com/1236779083041739/picture?type=large", "display_name": "Shivesh Karan Mehta", "link": "https://stackoverflow.com/users/6797703/shivesh-karan-mehta"}, "is_accepted": false, "score": 0, "last_activity_date": 1555320753, "last_edit_date": 1555320753, "creation_date": 1545137644, "answer_id": 53833478, "question_id": 53828442, "link": "https://stackoverflow.com/questions/53828442/accessing-constants-defined-in-kotlin-in-java-class/53833478#53833478", "title": "Accessing constants defined in Kotlin in java class", "body": "<p><a href=\"https://i.stack.imgur.com/C9jjI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C9jjI.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can just create one <strong>constants file</strong> like above screenshot.</p>\n\n<p>And define your constant value like this without making any companion Objects and access it through out your projects.</p>\n\n<p>your constant values:-</p>\n\n<pre><code>const val SPLASH_DURATION : Long = 5000\nconst val READ_TIMEOUT : Int = 200\nconst val CONNECTION_TIMEOUT : Int = 200\nconst val WRITE_TIMEOUT : Int = 200\n</code></pre>\n\n<p>And if you want to make companion Object than you can also do it in <strong>KOTLIN</strong></p>\n\n<p>for eg--</p>\n\n<pre><code> class Keys {\n\n   companion object {\n\n       const val SPLASH_DURATION : Long = 5000\n        const val READ_TIMEOUT : Int = 200\n        const val CONNECTION_TIMEOUT : Int = 200\n        const val WRITE_TIMEOUT : Int = 200\n\n    }\n}\n</code></pre>\n\n<p>and fetch it like this--</p>\n\n<pre><code>Keys.READ_TIMEOUT\n</code></pre>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1948, "favorite_count": 1, "accepted_answer_id": 53828504, "answer_count": 3, "score": 2, "last_activity_date": 1573628727, "creation_date": 1545119274, "last_edit_date": 1545121802, "question_id": 53828442, "link": "https://stackoverflow.com/questions/53828442/accessing-constants-defined-in-kotlin-in-java-class", "title": "Accessing constants defined in Kotlin in java class", "body": "<p><strong><em>I have defined some constants in kotlin</em></strong></p>\n\n<pre><code>object Keys {\n    const val SPLASH_DURATION : Long = 5000\n\n    const val READ_TIMEOUT : Int = 200\n    const val CONNECTION_TIMEOUT : Int = 200\n    const val WRITE_TIMEOUT : Int = 200\n\n    var BASE_URL = BuildConfig.SERVER_KEY\n}\n</code></pre>\n\n<ul>\n<li>If I try to access BASE_URL in a Java class as <code>Keys.BASE_URL</code>. I get\nthe error, It has private access.</li>\n<li>How to resolve this. Should I need to declare constants differently\nin kotlin.</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545116582, "post_id": 53827853, "comment_id": 94504169, "body": "use companion block of kotlin"}, {"owner": {"reputation": 2990, "user_id": 6944758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMedv.jpg?s=128&g=1", "display_name": "Firoz Memon", "link": "https://stackoverflow.com/users/6944758/firoz-memon"}, "edited": false, "score": 0, "creation_date": 1545116684, "post_id": 53827853, "comment_id": 94504206, "body": "try using Android Studio <code>convert to Kotlin</code> plugin by pressing <code>Ctrl+Alt+Shift+K</code>"}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 1, "creation_date": 1545116776, "post_id": 53827853, "comment_id": 94504240, "body": "As a side note, you don&#39;t instantiate an <code>Application</code> by yourself in Android. This is always done by the framework. The correct place to set the <code>appInstance</code> field would be the <code>onCreate</code> method."}], "answers": [{"tags": [], "owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "is_accepted": true, "score": 1, "last_activity_date": 1545117289, "creation_date": 1545117289, "answer_id": 53828022, "question_id": 53827853, "link": "https://stackoverflow.com/questions/53827853/how-to-define-the-application-class-and-the-static-variable-in-kotlin/53828022#53828022", "title": "How to define the application class and the Static variable in kotlin", "body": "<p>Try this way</p>\n\n<pre><code>class ThisForThatApplication : Application() {\n\n    companion object {\n\n        @JvmField\n        var appInstance: ThisForThatApplication? = null\n\n\n\n        @JvmStatic fun getAppInstance(): ThisForThatApplication {\n            return appInstance as ThisForThatApplication\n        }\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        appInstance=this;\n    }\n\n}\n</code></pre>\n\n<p>For more information please read <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-fields\" rel=\"nofollow noreferrer\"><strong><code>Static Fields</code></strong></a> &amp; <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\"><strong><code>Static Methods</code></strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 5149, "user_id": 1889928, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c6b04157e65ab1a1e0e61d220d06341d?s=128&d=identicon&r=PG", "display_name": "Yuriy Yunikov", "link": "https://stackoverflow.com/users/1889928/yuriy-yunikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1545118961, "last_edit_date": 1545118961, "creation_date": 1545118114, "answer_id": 53828211, "question_id": 53827853, "link": "https://stackoverflow.com/questions/53827853/how-to-define-the-application-class-and-the-static-variable-in-kotlin/53828211#53828211", "title": "How to define the application class and the Static variable in kotlin", "body": "<p>There is no <code>static</code> concept in Kotlin. However you can achieve the same using <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">companion objects</a>. Check out Kotlin <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions-and-declarations\" rel=\"nofollow noreferrer\">object expression and declaration</a> for more explanation.</p>\n\n<p>Since in your example you just want to create a Singleton, you can do:</p>\n\n<pre><code>class ThisForThatApplication: Application() {\n    companion object {\n        val instance = ThisForThatApplication()\n    }\n}\n</code></pre>\n\n<p>However as you're creating Android <a href=\"https://developer.android.com/reference/android/app/Application\" rel=\"nofollow noreferrer\">Application</a> class, would be better in terms of Android to initialize instance in <a href=\"https://developer.android.com/reference/android/app/Application.html#onCreate()\" rel=\"nofollow noreferrer\">onCreate()</a> method:</p>\n\n<pre><code>class ThisForThatApplication : Application() {\n\n    companion object {\n        lateinit var instance: ThisForThatApplication\n            private set\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        ThisForThatApplication.instance = this\n    }\n}\n</code></pre>\n\n<p><code>private set</code> in the bottom of companion object would allow only ThisForThatApplication class to set the value.</p>\n"}, {"comments": [{"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1545134760, "post_id": 53828242, "comment_id": 94513432, "body": "<code>return instance!!.applicationContext</code> -  It will throw NullPointerException if the instance is null."}], "tags": [], "owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1545118284, "creation_date": 1545118284, "answer_id": 53828242, "question_id": 53827853, "link": "https://stackoverflow.com/questions/53827853/how-to-define-the-application-class-and-the-static-variable-in-kotlin/53828242#53828242", "title": "How to define the application class and the Static variable in kotlin", "body": "<p><strong>Application class and Static Variable in Kotlin</strong></p>\n\n<pre><code>class App : Application() {\n\ninit {\n    instance = this\n}\n\ncompanion object {\n    private var instance: App? = null\n\n    fun applicationContext(): Context {\n        return instance!!.applicationContext\n    }\n}\n\noverride fun onCreate() {\n    super.onCreate()\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1722, "favorite_count": 0, "accepted_answer_id": 53828022, "answer_count": 3, "score": 1, "last_activity_date": 1545118961, "creation_date": 1545116539, "last_edit_date": 1545116955, "question_id": 53827853, "link": "https://stackoverflow.com/questions/53827853/how-to-define-the-application-class-and-the-static-variable-in-kotlin", "title": "How to define the application class and the Static variable in kotlin", "body": "<p>How to write the Equivalent code in kotlin, I need to use the static variable defined</p>\n\n<pre><code>public class ThisForThatApplication extends Application {\n\n    static ThisForThatApplication appInstance;\n\n    public static ThisForThatApplication getAppInstance() {\n        if (appInstance == null) {\n            appInstance = new ThisForThatApplication();\n        }\n        return appInstance;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1545116612, "post_id": 53827256, "comment_id": 94504180, "body": "I don&#39;t know why you&#39;re having trouble, as java.net.url is part of Android 9.  Its not deprecated.  Post your code and the actual stack trace."}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1545117473, "post_id": 53827256, "comment_id": 94504508, "body": "I&#39;m using khttp, will post the stacktrace in an hour."}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1545121755, "post_id": 53827256, "comment_id": 94506353, "body": "I&#39;ve updated my question with the stacktrace."}, {"owner": {"reputation": 1890, "user_id": 5164318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VjzX.jpg?s=128&g=1", "display_name": "emandt", "link": "https://stackoverflow.com/users/5164318/emandt"}, "edited": false, "score": 0, "creation_date": 1545124093, "post_id": 53827256, "comment_id": 94507457, "body": "The error seems self-explained: &quot;java.lang.NoSuchFieldException: No field host in class Ljava/net/URL&quot;. It seems that the variable &quot;host&quot; is not more present in &quot;java.net.URL&quot; Class of Android 9. This is cause because &quot;kHTTP&quot; seems to use Reflection to get hidden variables."}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "edited": false, "score": 0, "creation_date": 1545126689, "post_id": 53827256, "comment_id": 94508896, "body": "Hmmmmm weird... I&#39;ll check it out, thanks!"}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "edited": false, "score": 0, "creation_date": 1545146937, "post_id": 53827256, "comment_id": 94520503, "body": "Fair point, you were correct and I was blind. Thanks for your help, I had to write my own function for dealing with get requests and image downloads and now it&#39;s working! Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 360, "user_id": 5037824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6a2o.jpg?s=128&g=1", "display_name": "Karn", "link": "https://stackoverflow.com/users/5037824/karn"}, "edited": false, "score": 0, "creation_date": 1546692555, "post_id": 53836305, "comment_id": 94938631, "body": "Thanks! I actually ended up forking the kHttp library and patching the function call that relies on the modification of the API request. You can check it out if you&#39;d like at github.com/karn/khttp."}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "reply_to_user": {"reputation": 360, "user_id": 5037824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6a2o.jpg?s=128&g=1", "display_name": "Karn", "link": "https://stackoverflow.com/users/5037824/karn"}, "edited": false, "score": 0, "creation_date": 1546704324, "post_id": 53836305, "comment_id": 94941717, "body": "Thank you so much, I&#39;ve forked it as well, but never gotten around to patching it. You should send a pull request to the original repo. :)"}, {"owner": {"reputation": 360, "user_id": 5037824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6a2o.jpg?s=128&g=1", "display_name": "Karn", "link": "https://stackoverflow.com/users/5037824/karn"}, "edited": false, "score": 1, "creation_date": 1546726294, "post_id": 53836305, "comment_id": 94947502, "body": "Unfortunately, kHttp is no-longer maintained. I&#39;ve begun the process of maintaining the code on my side."}, {"owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "reply_to_user": {"reputation": 360, "user_id": 5037824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6a2o.jpg?s=128&g=1", "display_name": "Karn", "link": "https://stackoverflow.com/users/5037824/karn"}, "edited": false, "score": 1, "creation_date": 1546741041, "post_id": 53836305, "comment_id": 94950071, "body": "Well... Guess whose GitHub repo is getting starred and bookmarked \ud83d\ude0a Thanks for doing all of that!"}], "tags": [], "owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "is_accepted": true, "score": 0, "last_activity_date": 1546643875, "last_edit_date": 1546643875, "creation_date": 1545147056, "answer_id": 53836305, "question_id": 53827256, "link": "https://stackoverflow.com/questions/53827256/android-9-0-java-net-url/53836305#53836305", "title": "Android 9.0 Java.net.URL", "body": "<p>I was blind, apparently there was a change in a newer version of Java, that's used in android 9.0, which doesn't have a field named 'host' in 'java.net.URL', which khttp is trying to access.</p>\n\n<p>Thanks to @emandt I figured it out and made my own function for doing exactly the same without reflection.</p>\n\n<p><strong>EDIT:</strong>\nA promised example, that works in the pretty similar way to khttp, but only for get and it's written in Kotlin. If you want, I can post Java versions as well.</p>\n\n<pre><code>    fun get(url: String): String {\n        try {\n            val connection = URI(url).toURL().openConnection() as HttpURLConnection\n            connection.connect()\n            val text = connection.inputStream.use { it.reader().use { reader -&gt; reader.readText() } }\n            return text\n        } catch (e: IOException) {\n            Log.e(\"Error: \", \"\" + e)\n        }\n        return \"\"\n    }\n\n    fun getImage(url: String): InputStream? {\n        try {\n            val connection = URI(url).toURL().openConnection() as HttpURLConnection\n            connection.connect()\n            return BufferedInputStream(connection.inputStream)\n        }catch(e: FileNotFoundException){\n            e.printStackTrace()\n        }\n        return null\n    }\n</code></pre>\n"}], "owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 1, "accepted_answer_id": 53836305, "answer_count": 1, "score": 3, "last_activity_date": 1546643906, "creation_date": 1545113234, "last_edit_date": 1546643906, "question_id": 53827256, "link": "https://stackoverflow.com/questions/53827256/android-9-0-java-net-url", "title": "Android 9.0 Java.net.URL", "body": "<p>I've been wondering, how does networking actually work on android 9.0 without java.net.URL(because my app crashes on android pie saying, that class java.net.url can't be found). While browsing the web, I've found a few posts saying that I should use URI, but wherever I check, it's always using <code>.toURL()</code>.</p>\n\n<p>Could I get some examples for downloading images and getting the input stream without the usage of java.net.url?</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>EDIT:</strong> Here is the stacktrace I've promissed:</p>\n\n<pre><code>12/17 17:24:37: Launching app\n$ adb shell am start -n \"xyz.mglolenstine.nekoslife/xyz.mglolenstine.nekoslife.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nClient not ready yet..Waiting for process to come online\nConnected to process 14213 on device xiaomi-pocophone_f1-8e0cf863\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nW/stine.nekoslif: JIT profile information will not be recorded: profile file does not exits.\nI/chatty: uid=10172(xyz.mglolenstine.nekoslife) identical 10 lines\nW/stine.nekoslif: JIT profile information will not be recorded: profile file does not exits.\nI/Perf: Connecting to perf service.\nI/InstantRun: starting instant run server: is main process\nW/stine.nekoslif: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\nW/stine.nekoslif: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\nW/stine.nekoslif: Accessing hidden field Ljava/net/URL;-&gt;host:Ljava/lang/String; (dark greylist, reflection)\nW/stine.nekoslif: Accessing hidden field Ljava/net/URL;-&gt;host:Ljava/lang/String; (dark greylist, reflection)\nW/stine.nekoslif: Accessing hidden field Ljava/net/URL;-&gt;host:Ljava/lang/String; (dark greylist, reflection)\nW/stine.nekoslif: Accessing hidden field Ljava/net/URL;-&gt;host:Ljava/lang/String; (dark greylist, reflection)\nE/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-3\n    Process: xyz.mglolenstine.nekoslife, PID: 14213\n    java.lang.Error: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1173)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.lang.Class.getDeclaredField(Native Method)\n        at khttp.requests.GenericRequest.toIDN(GenericRequest.kt:198)\n        at khttp.requests.GenericRequest.makeRoute(GenericRequest.kt:208)\n        at khttp.requests.GenericRequest.&lt;init&gt;(GenericRequest.kt:132)\n        at khttp.KHttp.request(KHttp.kt:60)\n        at khttp.KHttp.get(KHttp.kt:30)\n        at khttp.KHttp.get$default(KHttp.kt:29)\n        at xyz.mglolenstine.nekoslife.MainActivity$addImage$1.run(MainActivity.kt:426)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\nE/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-4\n    Process: xyz.mglolenstine.nekoslife, PID: 14213\n    java.lang.Error: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1173)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.lang.Class.getDeclaredField(Native Method)\n        at khttp.requests.GenericRequest.toIDN(GenericRequest.kt:198)\n        at khttp.requests.GenericRequest.makeRoute(GenericRequest.kt:208)\n        at khttp.requests.GenericRequest.&lt;init&gt;(GenericRequest.kt:132)\n        at khttp.KHttp.request(KHttp.kt:60)\n        at khttp.KHttp.get(KHttp.kt:30)\n        at khttp.KHttp.get$default(KHttp.kt:29)\n        at xyz.mglolenstine.nekoslife.MainActivity$addImage$1.run(MainActivity.kt:426)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\nE/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-1\n    Process: xyz.mglolenstine.nekoslife, PID: 14213\n    java.lang.Error: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1173)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.lang.Class.getDeclaredField(Native Method)\n        at khttp.requests.GenericRequest.toIDN(GenericRequest.kt:198)\n        at khttp.requests.GenericRequest.makeRoute(GenericRequest.kt:208)\n        at khttp.requests.GenericRequest.&lt;init&gt;(GenericRequest.kt:132)\n        at khttp.KHttp.request(KHttp.kt:60)\n        at khttp.KHttp.get(KHttp.kt:30)\n        at khttp.KHttp.get$default(KHttp.kt:29)\n        at xyz.mglolenstine.nekoslife.MainActivity$addImage$1.run(MainActivity.kt:426)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\nE/AndroidRuntime: FATAL EXCEPTION: pool-1-thread-2\n    Process: xyz.mglolenstine.nekoslife, PID: 14213\n    java.lang.Error: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1173)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n        at java.lang.Class.getDeclaredField(Native Method)\n        at khttp.requests.GenericRequest.toIDN(GenericRequest.kt:198)\n        at khttp.requests.GenericRequest.makeRoute(GenericRequest.kt:208)\n        at khttp.requests.GenericRequest.&lt;init&gt;(GenericRequest.kt:132)\n        at khttp.KHttp.request(KHttp.kt:60)\n        at khttp.KHttp.get(KHttp.kt:30)\n        at khttp.KHttp.get$default(KHttp.kt:29)\n        at xyz.mglolenstine.nekoslife.MainActivity$addImage$1.run(MainActivity.kt:426)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\u00a0\n        at java.lang.Thread.run(Thread.java:764)\u00a0\nI/Process: Sending signal. PID: 14213 SIG: 9\nI/Process: Sending signal. PID: 14213 SIG: 9\nI/Process: Sending signal. PID: 14213 SIG: 9\nApplication terminated.\n</code></pre>\n\n<p>Once again, this only happens in android 9.0(API 28), but works flawlessly in lower versions</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 15567, "user_id": 3656904, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8dbd58d3b477ad0e5889bc60625e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "talex", "link": "https://stackoverflow.com/users/3656904/talex"}, "edited": false, "score": 0, "creation_date": 1545111427, "post_id": 53826903, "comment_id": 94502430, "body": "Get value from map, increment it, set new value to map."}, {"owner": {"reputation": 16518, "user_id": 1515052, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87d59872c339c0c66860831e77d764c0?s=128&d=identicon&r=PG", "display_name": "Simulant", "link": "https://stackoverflow.com/users/1515052/simulant"}, "edited": false, "score": 0, "creation_date": 1545144434, "post_id": 53826903, "comment_id": 94519017, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/53781965/how-to-increment-value-of-a-given-key-with-only-one-map-lookup\">How to increment value of a given key with only one map lookup?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1545150570, "post_id": 53827507, "comment_id": 94522615, "body": "... just as a side-note: if you also want to remove some entries on certain conditions, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Map.compute</code></a> may also be helpful... or generally have a look at the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code>-interface</a> then"}, {"owner": {"reputation": 404, "user_id": 4139846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43324e409dc9d2c83b8a533ed62304ce?s=128&d=identicon&r=PG&f=1", "display_name": "Endor", "link": "https://stackoverflow.com/users/4139846/endor"}, "edited": false, "score": 1, "creation_date": 1583863265, "post_id": 53827507, "comment_id": 107253615, "body": "if you are on android, note that this requires API 24"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 21, "last_activity_date": 1545115757, "last_edit_date": 1545115757, "creation_date": 1545114569, "answer_id": 53827507, "question_id": 53826903, "link": "https://stackoverflow.com/questions/53826903/increase-value-in-mutable-map/53827507#53827507", "title": "Increase value in mutable map", "body": "<p>You could use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/get-or-default.html\" rel=\"noreferrer\"><code>getOrDefault</code></a>\nfunction to get the old value or 0, add the new value and assign it back to the map.</p>\n\n<pre><code>val map = mutableMapOf&lt;String,Int&gt;()\nmap[\"Example\"] = map.getOrDefault(\"Example\", 0) + 3\n</code></pre>\n\n<p>Or use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>merge</code></a> function from the standard <code>Map</code> interface.</p>\n\n<pre><code>val map = mutableMapOf&lt;String,Int&gt;()\nmap.merge(\"Example\", 3) {\n    old, value -&gt; old + value\n}\n</code></pre>\n\n<p>Or more compact:</p>\n\n<pre><code>map.merge(\"Example\",3, Int::plus)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 880, "user_id": 5258585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adbad334df8e8c7b8cd1131546ad8ece?s=128&d=identicon&r=PG&f=1", "display_name": "Dushyant Singh", "link": "https://stackoverflow.com/users/5258585/dushyant-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1578385359, "creation_date": 1578385359, "answer_id": 59624591, "question_id": 53826903, "link": "https://stackoverflow.com/questions/53826903/increase-value-in-mutable-map/59624591#59624591", "title": "Increase value in mutable map", "body": "<p>You can use getOrDefault if API level is greater than 23. Otherwise you can use elvis operator</p>\n\n<pre><code>val map = mutableMapOf&lt;String,Int&gt;()\nval value = map[\"Example\"] ?: 0\nmap[\"Example\"] = value + 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 1141724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fb2d44d4ee6956b065a46b17b16176?s=128&d=identicon&r=PG", "display_name": "Wael Ellithy", "link": "https://stackoverflow.com/users/1141724/wael-ellithy"}, "is_accepted": false, "score": 0, "last_activity_date": 1604348413, "creation_date": 1604348413, "answer_id": 64652741, "question_id": 53826903, "link": "https://stackoverflow.com/questions/53826903/increase-value-in-mutable-map/64652741#64652741", "title": "Increase value in mutable map", "body": "<p>You can define</p>\n<pre><code>fun &lt;T&gt; MutableMap&lt;T, Int&gt;.inc(key: T, more: Int = 1) = merge(key, more, Int::plus)\n</code></pre>\n<p>So you can so something like</p>\n<pre><code>map.inc(&quot;Example&quot;,3)\nmap.inc(&quot;Example&quot;)\notherMap.inc(otherObject)\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 10797457, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LPF9CIXKRW8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jpTh_DfveSINnOfUIDtkw7SbcKXQ/mo/photo.jpg?sz=128", "display_name": "Marlock", "link": "https://stackoverflow.com/users/10797457/marlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3058, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1604348413, "creation_date": 1545111087, "last_edit_date": 1545172259, "question_id": 53826903, "link": "https://stackoverflow.com/questions/53826903/increase-value-in-mutable-map", "title": "Increase value in mutable map", "body": "<p>I created a <code>mutableMap&lt;String, Int&gt;</code> and created a record \"Example\" to <code>0</code>. How can I increase value, f.e. to <code>0 + 3</code> ?</p>\n"}, {"tags": ["java", "android", "kotlin", "checkstyle"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1545110694, "post_id": 53826669, "comment_id": 94502214, "body": "<a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, please?"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1545114013, "post_id": 53826669, "comment_id": 94503211, "body": "Your imports have multiple classes named <code>Toast</code>. You have to use <code>Toast</code> with the package name, like <code>android.widget.Toast.makeText()</code>"}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1545118046, "post_id": 53826669, "comment_id": 94504773, "body": "@VladyslavMatviienko, I tried it but it brings the same error."}], "answers": [{"comments": [{"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1545118169, "post_id": 53827558, "comment_id": 94504826, "body": "I implemented this answer, but still am getting the same error."}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 1, "creation_date": 1545119700, "post_id": 53827558, "comment_id": 94505455, "body": "Your code example does not match with the error message. I can see this on the line numbers, that do not match with your code. Best would be to make a minimal example and post it exactly as is."}, {"owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "edited": false, "score": 0, "creation_date": 1545120955, "post_id": 53827558, "comment_id": 94505996, "body": "Hey I had made a mistake somewhere , but your solution worked well. Thanks."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 6, "last_activity_date": 1545114883, "creation_date": 1545114883, "answer_id": 53827558, "question_id": 53826669, "link": "https://stackoverflow.com/questions/53826669/conflicting-import-imported-name-toast-is-ambiguous/53827558#53827558", "title": "Conflicting import, imported name &#39;Toast&#39; is ambiguous", "body": "<p>Your imports have multiple classes named <code>Toast</code>.</p>\n\n<p>Kotlin supports an alias for imports: <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/packages.html</a></p>\n\n<pre><code>import android.widget.Toast as WToast\n</code></pre>\n"}], "owner": {"reputation": 2016, "user_id": 6687699, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4Snxy.jpg?s=128&g=1", "display_name": "Lutaaya Huzaifah Idris", "link": "https://stackoverflow.com/users/6687699/lutaaya-huzaifah-idris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2417, "favorite_count": 0, "accepted_answer_id": 53827558, "answer_count": 1, "score": 1, "last_activity_date": 1545118002, "creation_date": 1545109359, "last_edit_date": 1545118002, "question_id": 53826669, "link": "https://stackoverflow.com/questions/53826669/conflicting-import-imported-name-toast-is-ambiguous", "title": "Conflicting import, imported name &#39;Toast&#39; is ambiguous", "body": "<p>Am trying to run a build on Circle CI but am facing this ambiguous checkstyle error in android kotlin, I don't have any Idea why it's happening, below is the error am having :</p>\n\n<blockquote>\n  <p>/home/circleci/repo/app/src/main/java/com/andela/mrm/util/ConvergeUIUtils.kt:\n  (12, 23): Conflicting import, imported name 'Toast' is ambiguous e:\n  /home/circleci/repo/app/src/main/java/com/andela/mrm/util/ConvergeUIUtils.kt:\n  (14, 23): Conflicting import, imported name 'Toast' is ambiguous</p>\n</blockquote>\n\n<p>Below is the <code>ConvergeUIUtils.kt</code> file :</p>\n\n<pre><code>import android.content.Context\nimport android.graphics.Color\nimport android.graphics.PorterDuff\nimport android.support.constraint.ConstraintLayout\nimport android.support.design.widget.Snackbar\nimport android.support.v4.content.ContextCompat\nimport android.view.Gravity\nimport android.view.View\nimport android.widget.TextView\nimport android.widget.Toast\nimport com.andela.mrm.R\n\n\n/**\n * Important methods for the application UI.\n */\nclass ConvergeUIUtils\n/**\n * Private constructor to prevent instantiation.\n */\nprivate constructor() {\n    init {\n        throw UnsupportedOperationException()\n    }\n\n    companion object {\n        /**\n         * Show snackbar with edited properties.\n         *\n         * @param context the view context.\n         * @param view the view to display the snackbar.\n         * @param string the message to be displayed.\n         */\n        fun showSnackBar(context: Context, view: View, string: String) {\n            val snackbar = Snackbar.make(view, string, Snackbar.LENGTH_LONG)\n            val snackbarView = snackbar.view\n            snackbarView.setPadding(10, 10, 10, 12)\n            if (string.contains(\"extended\")) {\n                snackbarView.setBackgroundColor(ContextCompat.getColor(context, R.color.waiting_color))\n            } else {\n                snackbarView.setBackgroundColor(ContextCompat.getColor(context,\n                        R.color.colorPrimaryDark))\n            }\n            snackbar.show()\n        }\n\n        /**\n         * @param context the view context.\n         * @param string the message of the toast.\n         */\n\n        fun showToast(context: Context, string: String) {\n            val toast = Toast.makeText(context, string, Toast.LENGTH_LONG)\n            toast.setGravity(Gravity.BOTTOM or Gravity.LEFT, 50, 50)\n            val view = toast.view\n\n            if (string.isNullOrBlank()) {\n\n                view.setBackgroundResource(R.drawable.notification_success_img)\n                toast.show()\n            } else {\n\n                if (string.contains(\"extended\")) {\n                    view.background.setColorFilter(ContextCompat.getColor(context, R.color.waiting_color),\n                            PorterDuff.Mode.SRC_IN)\n                    val text = view.findViewById&lt;TextView&gt;(android.R.id.message)\n                    text.setTextColor(Color.WHITE)\n                } else {\n                    view.background.setColorFilter(ContextCompat.getColor(context,\n                            R.color.colorPrimaryDark), PorterDuff.Mode.SRC_IN)\n                }\n                val text = view.findViewById&lt;TextView&gt;(android.R.id.message)\n                text.setTextColor(Color.WHITE)\n                toast.show()\n            }\n\n        }\n\n\n        /**\n         * set background color for free time button.\n         *\n         * @param context the view context.\n         * @param freeDisplay the free time button.\n         */\n        fun setButtonColor(context: Context, freeDisplay: ConstraintLayout) {\n            val normalDrawable = context.getDrawable(R.drawable.btn_room_extra_time)\n            normalDrawable!!.setColorFilter(-0x1, PorterDuff.Mode.SRC_ATOP)\n            freeDisplay.background = normalDrawable\n        }\n\n    }\n}\n</code></pre>\n\n<p>How can I overcome this checkstyle error ?</p>\n\n<p>This is picture of the error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cLseD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLseD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1431, "user_id": 8531215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b6f1842cca99191b2e148564e4cc53?s=128&d=identicon&r=PG&f=1", "display_name": "TaQuangTu", "link": "https://stackoverflow.com/users/8531215/taquangtu"}, "edited": false, "score": 0, "creation_date": 1545107635, "post_id": 53826014, "comment_id": 94501481, "body": "I think AsyncTask is what you need <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask</a>"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 2, "creation_date": 1545108916, "post_id": 53826014, "comment_id": 94501812, "body": "I don&#39;t (and probably nobody will) recommend to do it manually, please see <a href=\"https://medium.com/@afomic/android-image-processing-libraries-a68e306f58d1\" rel=\"nofollow noreferrer\">medium.com/@afomic/&hellip;</a>"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545104005, "creation_date": 1545104005, "question_id": 53826014, "link": "https://stackoverflow.com/questions/53826014/how-to-add-listener-in-recyclerview-when-image-is-ready-for-display", "title": "How to add listener in recyclerview when image is ready for display", "body": "<p>Currently, I have an app that uses Picasso to download images and display them in a recyclerview.</p>\n\n<p>I want to change my logic by totally doing away with Picasso and downloading images in the background when the app is initially installed. During succeeding runs of the app, the images will be displayed from internal storage.</p>\n\n<p>So, how would I let the recyclerview know that the image is ready for display after it has been successfully saved in internal storage? I'd prefer if they aren't shown all at once because that would take too long, but show each image as the download is completed (kind of similar to how Picasso does it).</p>\n\n<p>This is my current onBindViewHolder code:</p>\n\n<pre><code> override fun onBindViewHolder(rawHolder: RecyclerView.ViewHolder, position: Int) {\n        val holder = rawHolder as CustomVH\n        holder.resourcesByCategory = resourcesByCategory[position]\n\n        val dir : String = utils.getInternalDirectory(\"Covers\") + \"/CoverBookId\" +  resourcesByCategory[position].id + \".jpg\"\n        val bookCover = File(dir)\n        if (bookCover.exists()) {\n            if (holder.bmp != null) {\n                holder.bmp!!.recycle()\n            }\n\n            holder.resourceCover.setImageBitmap(null)\n            val options = BitmapFactory.Options()\n            options.inPreferredConfig = Bitmap.Config.RGB_565\n            holder.bmp = BitmapFactory.decodeStream(FileInputStream(bookCover), null, options)\n\n            if (holder.bmp != null) {\n                holder.bmp = Bitmap.createScaledBitmap(holder.bmp, 150,180, true)\n                holder.resourceCover.setImageBitmap(holder.bmp!!)\n            }\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "constructor", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1545103932, "creation_date": 1545103932, "answer_id": 53826004, "question_id": 53825811, "link": "https://stackoverflow.com/questions/53825811/kotlin-constructor-parameters-are-missing/53826004#53826004", "title": "kotlin Constructor parameters are missing \uff1f", "body": "<p>First point: <code>WeakReference</code> will, roughly, keep a reference only so long as something else is also keeping the reference alive.</p>\n\n<p>Second point: Kotlin constructor syntax means that these are <em>very</em> different:</p>\n\n<ul>\n<li><code>MaskShapeTransformation(drawable: Drawable)</code></li>\n<li><code>MaskShapeTransformation(val drawable: Drawable)</code></li>\n</ul>\n\n<p>The first one just says that you must pass a <code>Drawable</code> to the constructor. The second one says that too, but <em>also</em> creates a field on the class and intializes it with the value passed. That means that the second form gives you an object that has two fields:</p>\n\n<ul>\n<li><code>drawable</code>: holds the passed-in drawable</li>\n<li><code>weakDrawable</code>: a weak reference wrapping <code>drawable</code>.</li>\n</ul>\n\n<p>Put them together, and now you have a class that has a strong reference to the Drawable which means that the weak reference will also be kept alive.</p>\n"}], "owner": {"reputation": 626, "user_id": 6596737, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qmdFm.jpg?s=128&g=1", "display_name": "Werb", "link": "https://stackoverflow.com/users/6596737/werb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 53826004, "answer_count": 1, "score": 0, "last_activity_date": 1545103932, "creation_date": 1545101989, "question_id": 53825811, "link": "https://stackoverflow.com/questions/53825811/kotlin-constructor-parameters-are-missing", "title": "kotlin Constructor parameters are missing \uff1f", "body": "<p>I wrote a MaskShapeTransformation for Glide, so I want to pass a drawable in my Transformation and draw this drawable with The original bitmap to make a mask effect.</p>\n\n<p>In the beginning, I pass a drawable like this and with a SoftReference to avoid memoryleak.</p>\n\n<pre><code>class MaskShapeTransformation(drawable: Drawable): BitmapTransformation() {\n       private val weakDrawable = SoftReference(drawable)\n       .....\n}\n</code></pre>\n\n<p>but when I get drawable with <code>weakDrawable.get()?</code> the drawable was null\n<a href=\"https://i.stack.imgur.com/n7GHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7GHh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know why, but I tried everything until I change my Constructor, I just add <code>val</code> to modified drawable like this </p>\n\n<pre><code>class MaskShapeTransformation(val drawable: Drawable): BitmapTransformation() {\n       private val weakDrawable = SoftReference(drawable)\n       .....\n}\n</code></pre>\n\n<p>Something amazing happened, the <code>weakDrawable.get()?</code> work well!\n<a href=\"https://i.stack.imgur.com/SkxUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkxUf.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am very confusing, Can anyone tell me why that is\uff1f</p>\n"}, {"tags": ["kotlin", "jackson", "jackson-databind"], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545142106, "post_id": 53826567, "comment_id": 94517701, "body": "yeah but my entity have many attributes                         val json = &quot;&quot;&quot;{&quot;id&quot;:1,&quot;email&quot;:&quot;diego.suarez968@hola.com&quot;,&quot;phone&quot;:&quot;74500&zwnj;&#8203;771&quot;,&quot;password&quot;:&quot;hol&zwnj;&#8203;amundo&quot;,&quot;name&quot;:&quot;dieg&zwnj;&#8203;o suarez&quot;,&quot;company_id&quot;:1,&quot;first_name&quot;:&quot;diego&quot;,&quot;last_name&quot;:&quot;sua&zwnj;&#8203;rez&quot;,&quot;is_active&quot;:tru&zwnj;&#8203;e,&quot;is_logged&quot;:true,&quot;&zwnj;&#8203;user_roles&quot;:[],&quot;user&zwnj;&#8203;_company_services&quot;:[&zwnj;&#8203;],&quot;orders&quot;:[]}&quot;&quot;&quot;  the problem is when try deseralizar orders or user_roles because the list is empty"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545145726, "post_id": 53826567, "comment_id": 94519785, "body": "Then your question is not clear enough, you should define a <code>data class</code> for each one of your entities, like <code>data class Role(...)</code> and <code>data class User(..., roles: List&lt;Role&gt;)</code>"}, {"owner": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545146139, "post_id": 53826567, "comment_id": 94520034, "body": "yeah, i actually i have a data class Role and user i have user_roles"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545146391, "post_id": 53826567, "comment_id": 94520194, "body": "But it looks like you are not deserializing correctly, do you have a User data class like the one I show in my answers and using <code>objectMapper.readValue&lt;Optional&lt;User&gt;&gt;(json)</code> to deserialize it??"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545147118, "post_id": 53826567, "comment_id": 94520613, "body": "@dasuma I updated my answer to reflect my previous comment"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "edited": false, "score": 0, "creation_date": 1545147339, "post_id": 53826567, "comment_id": 94520739, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/185427/discussion-between-omar-mainegra-and-dasuma\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 0, "last_activity_date": 1545147096, "last_edit_date": 1545147096, "creation_date": 1545108687, "answer_id": 53826567, "question_id": 53823573, "link": "https://stackoverflow.com/questions/53823573/deserialize-optional-in-kotlin-from-string-in-redis/53826567#53826567", "title": "deserialize optional in kotlin from string in redis", "body": "<p>What you are reporting doesn't look right, I tried your code and it works as expected. Please check the following code snippet: </p>\n\n<pre><code>data class Role(val id: String, val name: String)\ndata class User(val id: String, val name: String, val email: String, val phone: String, val roles: List&lt;Role&gt;)\n\n\nval objectMapper: ObjectMapper = ObjectMapper().registerModule(KotlinModule())\n    .registerModule(Jdk8Module())\n    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n\nval json = \"\"\"\n    {\n        \"id\": \"1\",\n        \"name\": \"John Smith\",\n        \"email\": \"john@smith@mail.com\",\n        \"phone\": \"+1-541-754-3010\",\n        \"roles\": [\n            {\"id\": \"1\", \"name\": \"User\"},\n            {\"id\": \"1\", \"name\": \"Editor\"},\n            {\"id\": \"1\", \"name\": \"Admin\"}\n        ]\n    }\n\"\"\".trimIndent()\n\nval result = objectMapper.readValue&lt;Optional&lt;User&gt;&gt;(json)\nprintln(result)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>Optional[User(id=1, name=John Smith, email=john@smith@mail.com, phone=+1-541-754-3010, roles=[Role(id=1, name=User), Role(id=1, name=Editor), Role(id=1, name=Admin)])]</p>\n</blockquote>\n\n<p>And the debug inspection indeed report the correct types</p>\n\n<p><a href=\"https://i.stack.imgur.com/F7Qe1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F7Qe1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 761, "user_id": 3348549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38327be7b020812e6c5c7377128053a1?s=128&d=identicon&r=PG&f=1", "display_name": "dasuma", "link": "https://stackoverflow.com/users/3348549/dasuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545147135, "creation_date": 1545083947, "last_edit_date": 1545147135, "question_id": 53823573, "link": "https://stackoverflow.com/questions/53823573/deserialize-optional-in-kotlin-from-string-in-redis", "title": "deserialize optional in kotlin from string in redis", "body": "<p>I'm trying to deserialize an optional that I save as a string in redis, but I always return a hashmap.\nI'm instantiating my object mapper</p>\n\n<pre><code> private  var objectMapper: ObjectMapper= ObjectMapper().registerModule(KotlinModule())\n        .registerModule( Jdk8Module())\n.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n\n<p>serialize asi</p>\n\n<pre><code>  redisTemplate.opsForValue().set(\"key3\", objectMapper.writeValueAsString(value))\n</code></pre>\n\n<p>and I am deserializo asi:</p>\n\n<pre><code>var result1 = objectMapper.readValue&lt;Optional&lt;T&gt;&gt;(valueCache!!)\n</code></pre>\n\n<p>the result is</p>\n\n<p><a href=\"https://i.stack.imgur.com/vmJIb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vmJIb.png\" alt=\"enter image description here\"></a></p>\n\n<p>where T is a User class</p>\n\n<p>class UserRole : Serializable {</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name = \"id\", updatable = false, nullable = false)\nvar id: Long = 0\n\n@Min(value = 1)\n@JsonProperty(\"role_id\")\n@JoinColumn(name = \"role_id\", updatable = false, nullable = false)\nvar roleId: Long = 0\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin", "android-instant-apps"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 6, "creation_date": 1545085406, "post_id": 53823451, "comment_id": 94496522, "body": "Shouldn&#39;t you also apply <code>apply plugin: &#39;kotlin-android&#39;</code>?"}, {"owner": {"reputation": 711, "user_id": 5538207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa51fd1c920b34a6b30f2db5220f1df4?s=128&d=identicon&r=PG&f=1", "display_name": "O.AbedElBaset", "link": "https://stackoverflow.com/users/5538207/o-abedelbaset"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1545122149, "post_id": 53823451, "comment_id": 94506560, "body": "Thanks, it&#39;s working now, I didn&#39;t notice that kotlin-android plugin wasn&#39;t applied in the base module."}, {"owner": {"reputation": 855, "user_id": 3459944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iAdN.jpg?s=128&g=1", "display_name": "Hassan Jamil", "link": "https://stackoverflow.com/users/3459944/hassan-jamil"}, "edited": false, "score": 0, "creation_date": 1603106105, "post_id": 53823451, "comment_id": 113921718, "body": "Better to answer against your question and marked it accepted for better visibility of the solution/fix."}], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 1374532, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/p82lB.jpg?s=128&g=1", "display_name": "Nagaraj Alagusundaram", "link": "https://stackoverflow.com/users/1374532/nagaraj-alagusundaram"}, "edited": false, "score": 0, "creation_date": 1599530754, "post_id": 60954674, "comment_id": 112794661, "body": "Yes, it worked. This was missing in my old project and I got the same error when migrating to AndroidX. Thanks."}, {"owner": {"reputation": 5163, "user_id": 975887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f7056b0955e698021f62ce459add367?s=128&d=identicon&r=PG&f=1", "display_name": "Madushan", "link": "https://stackoverflow.com/users/975887/madushan"}, "edited": false, "score": 0, "creation_date": 1609141571, "post_id": 60954674, "comment_id": 115755891, "body": "This happened to me when adding Hilt. Above solution worked"}], "tags": [], "owner": {"reputation": 22892, "user_id": 1745672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NYFQg.jpg?s=128&g=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/1745672/mihai"}, "is_accepted": false, "score": 125, "last_activity_date": 1585670013, "creation_date": 1585670013, "answer_id": 60954674, "question_id": 53823451, "link": "https://stackoverflow.com/questions/53823451/could-not-find-method-kapt-for-arguments/60954674#60954674", "title": "Could not find method kapt() for arguments", "body": "<p>In my case,I was missing </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>Hope it helps someone as blind as me.</p>\n"}, {"tags": [], "owner": {"reputation": 641, "user_id": 9158688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Yyu9.jpg?s=128&g=1", "display_name": "Md. Shofiulla", "link": "https://stackoverflow.com/users/9158688/md-shofiulla"}, "is_accepted": false, "score": 30, "last_activity_date": 1612856392, "creation_date": 1612856392, "answer_id": 66114787, "question_id": 53823451, "link": "https://stackoverflow.com/questions/53823451/could-not-find-method-kapt-for-arguments/66114787#66114787", "title": "Could not find method kapt() for arguments", "body": "<p>Here is a working solution for the latest version of android studio\ninstead of apply plugin use <code>id 'kotlin-kapt'</code> inside plugins.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n} \n</code></pre>\n"}], "owner": {"reputation": 711, "user_id": 5538207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa51fd1c920b34a6b30f2db5220f1df4?s=128&d=identicon&r=PG&f=1", "display_name": "O.AbedElBaset", "link": "https://stackoverflow.com/users/5538207/o-abedelbaset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17878, "favorite_count": 1, "answer_count": 2, "score": 51, "last_activity_date": 1612856392, "creation_date": 1545083282, "last_edit_date": 1545122657, "question_id": 53823451, "link": "https://stackoverflow.com/questions/53823451/could-not-find-method-kapt-for-arguments", "title": "Could not find method kapt() for arguments", "body": "<p>I'm facing a problem for over 3 days now and I can't solve.\nsince I started to use Kotlin for Android,I stopped using \"annotationProcessor\" and started using \"kapt\", all things were working great with kapt until I started to build an Android Instant App, when I add \"kapt\" to any dependency like Glide or ButterKnife Gradle always displaying error that cound't find method kapt()</p>\n\n<pre><code>Could not find method kapt() for arguments [com.github.bumptech.glide:compiler:4.7.1] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n\n<p>Here are my project Gradle files</p>\n\n<p>Project gradle file</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.71'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>app module gradle file</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n\n    defaultConfig {\n        applicationId \"com.demo.instantapptest.app\"\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n\n\n    }\n\n    buildTypes {\n       release {\n           minifyEnabled false\n           proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n       }\n    }\n\n}\n\ndependencies {\n    implementation project(':feature')\n    implementation project(':base')\n}\n</code></pre>\n\n<p>base module gradle file</p>\n\n<pre><code>apply plugin: 'com.android.feature'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n    baseFeature true\n    defaultConfig {\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    api 'com.android.support:appcompat-v7:28.0.0'\n    api 'com.android.support.constraint:constraint-layout:1.1.3'\n    application project(':app')\n    feature project(':feature')\n\n\n    implementation \"android.arch.lifecycle:extensions:1.1.1\"\n    kapt \"android.arch.lifecycle:compiler:1.1.1\"\n\n    implementation 'com.github.bumptech.glide:glide:4.7.1'\n    kapt 'com.github.bumptech.glide:compiler:4.7.1'\n\n    implementation 'com.google.dagger:dagger:2.15.0'\n    kapt 'com.google.dagger:dagger-compiler:2.15.0'\n\n    implementation 'com.jakewharton:butterknife:9.0.0-rc2'\n    kapt 'com.jakewharton:butterknife-compiler:9.0.0-rc2'\n\n}\n</code></pre>\n\n<p>feature module gradle file</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation project(':base')\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n}\n</code></pre>\n\n<p>instantapp gradle file</p>\n\n<pre><code>apply plugin: 'com.android.instantapp'\n\ndependencies {\n    implementation project(':feature')\n    implementation project(':base')\n}\n</code></pre>\n\n<p>==========</p>\n\n<p><strong>Solved</strong> </p>\n\n<p>by adding kotlin-android plugin to the base module</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "abstract-class"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545079645, "post_id": 53822654, "comment_id": 94494194, "body": "but I am getting an error in adapter class onCreateViewHolder"}, {"owner": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "reply_to_user": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545079812, "post_id": 53822654, "comment_id": 94494279, "body": "Can you post the error log? And also the adapter class!?"}, {"owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545079926, "post_id": 53822654, "comment_id": 94494337, "body": "I have posted do you need full code from adapter class or fragment"}, {"owner": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "reply_to_user": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545079973, "post_id": 53822654, "comment_id": 94494356, "body": "onCreateViewHolder method of the adapter class."}, {"owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545080078, "post_id": 53822654, "comment_id": 94494402, "body": "@I have added full code to your abstract comment please review it thanks"}, {"owner": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "reply_to_user": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545080702, "post_id": 53822654, "comment_id": 94494651, "body": "And you are getting error in onCreateViewHolder method? Can you post the whole error log?"}, {"owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "reply_to_user": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "edited": false, "score": 0, "creation_date": 1545080805, "post_id": 53822654, "comment_id": 94494698, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/185384/discussion-between-snowdinjon-edgarjon-and-elvedin-selimoski\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 289, "user_id": 8906488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8n1C.jpg?s=128&g=1", "display_name": "Elvedin Selimoski", "link": "https://stackoverflow.com/users/8906488/elvedin-selimoski"}, "is_accepted": true, "score": 0, "last_activity_date": 1545079139, "creation_date": 1545079139, "answer_id": 53822654, "question_id": 53822629, "link": "https://stackoverflow.com/questions/53822629/i-am-getting-cannot-create-instance-of-abstract-class-in-kotlin-warning/53822654#53822654", "title": "I am getting cannot create instance of abstract class in kotlin warning?", "body": "<p>You can't create instance of an abstract class. You should remove abstract from the class declaration, or you should create new class extending the abstract class and make instances of that class.</p>\n"}, {"tags": [], "owner": {"reputation": 2792, "user_id": 4853835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDbHU.jpg?s=128&g=1", "display_name": "ygngy", "link": "https://stackoverflow.com/users/4853835/ygngy"}, "is_accepted": false, "score": 0, "last_activity_date": 1545080863, "creation_date": 1545080863, "answer_id": 53822998, "question_id": 53822629, "link": "https://stackoverflow.com/questions/53822629/i-am-getting-cannot-create-instance-of-abstract-class-in-kotlin-warning/53822998#53822998", "title": "I am getting cannot create instance of abstract class in kotlin warning?", "body": "<p>From your problem i can guess that <code>FavoriteExerciseAdapter</code> is abstract. you need to add a new concrete class to your project for example name it <code>MyFavoriteExerciseAdapter</code>. <code>MyFavoriteExerciseAdapter</code> must extends <code>FavoriteExerciseAdapter</code> and overrids all abstract methods of <code>FavoriteExerciseAdapter</code> now instantiate <code>MyFavoriteExerciseAdapter</code> instead of <code>FavoriteExerciseAdapter</code>:</p>\n\n<pre><code>var adapter: FavoriteExerciseAdapter = MyFavoriteExerciseAdapter()// instantiate MyFavoriteExerciseAdapter\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2367, "favorite_count": 0, "accepted_answer_id": 53822654, "answer_count": 2, "score": 0, "last_activity_date": 1586263645, "creation_date": 1545078977, "last_edit_date": 1545079412, "question_id": 53822629, "link": "https://stackoverflow.com/questions/53822629/i-am-getting-cannot-create-instance-of-abstract-class-in-kotlin-warning", "title": "I am getting cannot create instance of abstract class in kotlin warning?", "body": "<p>I am a new to Kotlin. I have two classes, one adapter and one fragment. When I want to call the adapter class in fragment I am getting the following warning: <code>cannot create an instance of the abstract class in Kotlin</code>.</p>\n\n<p>Below my fragment where I am getting the warning</p>\n\n<pre><code>class FavouriteExercisesFragment : BaseMvpFragment(), FavoriteExerciseView {\n\n    var adapter: FavoriteExerciseAdapter = FavoriteExerciseAdapter()\n   // cannot create instance of abstract class in kotlin\n</code></pre>\n\n<p>Below abstract adapter class</p>\n\n<pre><code>class FavouriteExercisesFragment : BaseMvpFragment(), FavoriteExerciseView {\n\n    var adapter: FavoriteExerciseAdapter = FavoriteExerciseAdapter()\n    val presenter: FavoriteExercisePresenter = FavoriteExercisePresenter(this)\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        rootView = inflater.inflate(R.layout.fragment_favorite_ex, container, false)\n        return rootView\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        initToolbar()\n        initList()\n        presenter.getFavoriteExercise()\n    }\n\n    private fun initList() {\n        rvExercise.layoutManager = LinearLayoutManager(context)\n        rvExercise.adapter = adapter\n        val helper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(ItemTouchHelper.UP or ItemTouchHelper.DOWN, ItemTouchHelper.RIGHT) {\n            override fun onMove(recyclerView: RecyclerView?, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n                adapter.onItemMove(viewHolder.adapterPosition, target.adapterPosition)\n                return true\n            }\n\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n                val position = viewHolder.adapterPosition\n                val item = adapter.data[position]\n                adapter.onItemDismiss(viewHolder.adapterPosition)\n                presenter.deleteFromFavorite(item, position)\n                showEmptyData(adapter.data.isEmpty())\n\n            }\n        })\n        rvExercise.addItemDecoration(object : RecyclerView.ItemDecoration() {\n            override fun getItemOffsets(outRect: Rect, view: View?, parent: RecyclerView, state: RecyclerView.State?) {\n                super.getItemOffsets(outRect, view, parent, state)\n                val position = parent.getChildAdapterPosition(view)\n                if (position == 0) {\n                    outRect.top = 58.dp\n                } else {\n                    outRect.top = 0\n                }\n\n            }\n        })\n        helper.attachToRecyclerView(rvExercise)\n        adapter.helper = helper\n        adapter.actions = object : FavoriteExerciseAdapter.AdapterAction {\n            override fun playExercise(exercise: Exercise) {\n                val file = exercise.files.firstOrNull { it.mainFile }\n                val uri = file?.getFile() ?: \"\"\n\n                context?.startActivityFromCenter(VideoActivity.newInstance(context, uri), rootView, VideoActivity.REQUEST_CODE)\n            }\n        }\n    }\n\n    private fun initToolbar() {\n        toolbar.setOnNavigateIconClickListener { router.exit() }\n        toolbar.setOnToolIconClickListener { openNavDrawer() }\n    }\n\n    override fun setFavoriteExercises(exercises: ArrayList&lt;Exercise&gt;) {\n        showEmptyData(exercises.isEmpty())\n        adapter.addData(exercises)\n    }\n\n    override fun showDeleteMessage(item: Exercise, position: Int) {\n        val snack = Snackbar.make(rootView, R.string.message_remove_from_favorite, Snackbar.LENGTH_LONG)\n        snack.setAction(R.string.action_undo) {\n            presenter.addToFavorite(item)\n            adapter.addItemOnPosition(item, position)\n            showEmptyData(adapter.data.isEmpty())\n        }\n        snack.show()\n    }\n\n    private fun showEmptyData(show: Boolean) {\n        tvEmpty.visibility = if (show) View.VISIBLE else View.GONE\n        emptyIcon.visibility = if (show) View.VISIBLE else View.GONE\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "enums"], "answers": [{"comments": [{"owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "edited": false, "score": 0, "creation_date": 1545078873, "post_id": 53822517, "comment_id": 94493895, "body": "Thank you for your answer but it seems stupid to me that a language as modern as Kotlin, we can not do that like swift!"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545084527, "post_id": 53822517, "comment_id": 94496191, "body": "Not safe at all, <code>DirectionSwiped.ofRaw(5)</code> returns <code>null</code>, potentially creating crashes at runtime"}, {"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545084980, "post_id": 53822517, "comment_id": 94496368, "body": "@OmarMainegra it returns a value of type <code>DirectionSwiped?</code> - note the <code>?</code>. So yes, sure it can return null, what else would it return when there is no match? But thanks to Kotlin&#39;s nullable types, this is indeed save."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545085162, "post_id": 53822517, "comment_id": 94496433, "body": "@Tagas And you are planning to do this for all enums you define?? also there is no need to define a <code>Map</code> for this <code>DirectionSwiped.values().firstOrNull { it.raw == 5 }</code>  is enough"}, {"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545085257, "post_id": 53822517, "comment_id": 94496468, "body": "@OmarMainegra It depends on how many enum-values there are. If it&#39;s only a couple, then sure, your solution is perfectly fine. If there are many values and accesses though, a map will be a lot more performant."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545085415, "post_id": 53822517, "comment_id": 94496527, "body": "@Tagas, you are missing the point of using enum, they are supposed to be coproduct types, the same with sealed class, a closed type hierarchy to get help from the compiler (i.e. <code>when</code> statement)  thats why this is dangerous, don&#39;t use enums then"}], "tags": [], "owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "is_accepted": false, "score": 1, "last_activity_date": 1545086460, "last_edit_date": 1545086460, "creation_date": 1545078391, "answer_id": 53822517, "question_id": 53822170, "link": "https://stackoverflow.com/questions/53822170/initialize-enum-from-associated-value/53822517#53822517", "title": "Initialize enum from associated value", "body": "<p>As the error says, you cannot instantiate enums in Kotlin. A possible workaround would be to use a map and 2 helper methods to get enum values from raw values and vice versa:</p>\n\n<pre><code>enum class DirectionSwiped {\n    LEFT,\n    RIGHT;\n\n    fun toRaw() = enumToRaw[this]\n    companion object {\n        val rawToEnum = mapOf(\n                4 to LEFT,\n                8 to RIGHT\n        )\n        val enumToRaw = rawToEnum.entries.associate{(k,v)-&gt; v to k}\n        fun ofRaw(raw: Int): DirectionSwiped? = rawToEnum[raw]\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val direction = DirectionSwiped.ofRaw(4) // LEFT\nval raw = DirectionSwiped.LEFT.toRaw() // 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545084712, "post_id": 53823672, "comment_id": 94496258, "body": "This obviously works, but the question was about getting the enum-value by a raw value, and not getting the raw value if you already have your enum-value..."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545084875, "post_id": 53823672, "comment_id": 94496322, "body": "@Tagas I mention that too (i.e <code>fromRaw</code>), your answer mislead because it can and will fail"}, {"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545085141, "post_id": 53823672, "comment_id": 94496421, "body": "I don&#39;t see your problem... your <code>DirectionSwiped.values().firstOrNull { it.raw == 5 }</code> returns exactly the same type as my <code>ofRaw</code> function: <code>DirectionSwiped?</code>"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545085499, "post_id": 53823672, "comment_id": 94496566, "body": "@Tagas But I&#39;m making it explicit by using <code>firstOrNull</code>, at a glance you see what it&#39;s doing, in your case no"}, {"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545085636, "post_id": 53823672, "comment_id": 94496613, "body": "There will be a compiler warning, I don&#39;t know how you can be more explicit than that...Anyhow, let&#39;s not add more useless discussion, this isn&#39;t going anywhere."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545086113, "post_id": 53823672, "comment_id": 94496797, "body": "@Tagas You&#39;re right, this is pointless, btw you don&#39;t see compiler warning when you are reading code in github, also public functions like your <code>toRaw</code> should specify the return type explicitly for the same reason (and you don&#39;t do it, thats why is hard to now that your function returns nullable)"}, {"owner": {"reputation": 1094, "user_id": 4030765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1DXNv.png?s=128&g=1", "display_name": "Tagas", "link": "https://stackoverflow.com/users/4030765/tagas"}, "edited": false, "score": 0, "creation_date": 1545086324, "post_id": 53823672, "comment_id": 94496860, "body": "Fair enough, let me adjust that :)"}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 8, "last_activity_date": 1545085784, "last_edit_date": 1545085784, "creation_date": 1545084425, "answer_id": 53823672, "question_id": 53822170, "link": "https://stackoverflow.com/questions/53822170/initialize-enum-from-associated-value/53823672#53823672", "title": "Initialize enum from associated value", "body": "<p>Yes you can</p>\n\n<pre><code>enum class DirectionSwiped(val raw: Int){\n    LEFT(4),\n    RIGHT(8);\n}\n\nval left = DirectionSwiped.LEFT\nval right = DirectionSwiped.RIGHT\n\nval leftRaw = DirectionSwiped.LEFT.raw\nval rightRaw = DirectionSwiped.LEFT.raw\n\nval fromRaw = DirectionSwiped.values().firstOrNull { it.raw == 5 }\n</code></pre>\n\n<p>This would be the correct way to access the instances of the <code>enum class</code></p>\n\n<p>What you are trying to do is create a new instance outside the definition site, which is not possible for <code>enum</code> or <code>sealed</code> classes, that's why the error says the constructor is <strong>private</strong></p>\n"}], "owner": {"reputation": 1685, "user_id": 10512612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-54XhkqmYEIo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDZmaNhR610yi-CtiuzNW3HEqCCDA/mo/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/10512612/mickael-belhassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "accepted_answer_id": 53823672, "answer_count": 2, "score": 6, "last_activity_date": 1589978861, "creation_date": 1545076653, "last_edit_date": 1589978861, "question_id": 53822170, "link": "https://stackoverflow.com/questions/53822170/initialize-enum-from-associated-value", "title": "Initialize enum from associated value", "body": "<p>I would like to initialize enum by its associated value.</p>\n\n<p>My enum:</p>\n\n<pre><code>enum class DirectionSwiped(raw: Int){\n    LEFT(4),\n    RIGHT(8);\n}\n</code></pre>\n\n<p>I would like to initialize it as such:</p>\n\n<pre><code>val direction = DirectionSwiped(raw: 4)\n</code></pre>\n\n<p>But I get this error: </p>\n\n<blockquote>\n  <p>Enum type cannot be instantiated</p>\n</blockquote>\n\n<p>Why is this happening? In Swift, this functionality works like this:</p>\n\n<pre><code>enum Direction: Int {\n    case right = 2\n}\n\nlet direction = Direction(rawValue: 2)\n</code></pre>\n\n<p>How can I make it work in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "observable", "adapter", "paging"], "comments": [{"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545112787, "post_id": 53821377, "comment_id": 94502817, "body": "have you implemented pagedList configuration ?"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545130671, "post_id": 53821377, "comment_id": 94511332, "body": "Hi @Moinkhan thank you for your message.Sorry what do you mean by paged list configuration? Having my adapter extend PagedListAdapter? Yes, thats done. <code>class ResourcesAdapter(private val context: Context) : PagedListAdapter&lt;Resource, ResourcesAdapter.ViewHolder&gt;(DIFF_CALLBACK) { </code>"}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545130977, "post_id": 53821377, "comment_id": 94511486, "body": "You are missing pagedListBuilder"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545397905, "post_id": 53821377, "comment_id": 94617139, "body": "Hi @Moinkhan I created a gist with the files I have here: gist.github.com/francislainy/0eca633f0027f5bfca7c260a769a609&zwnj;&#8203;a \u2013 The PagedList builder is under the itemViewModel class"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545397987, "post_id": 53821377, "comment_id": 94617173, "body": "<code>public ItemViewModel() {          ItemDataSourceFactory itemDataSourceFactory = new ItemDataSourceFactory();         liveDataSource = itemDataSourceFactory.getItemLiveDataSource();          PagedList.Config config =                 (new PagedList.Config.Builder())                         .setEnablePlaceholders(false)                         .setPageSize(ItemDataSource.Companion.getPAGE_SIZE())                         .build();          itemPagedList = (new LivePagedListBuilder(itemDataSourceFactory, config)).build();      }</code>"}, {"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1549255864, "post_id": 53821377, "comment_id": 95823887, "body": "@FrancislainyCampos Did you get the answer?"}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "reply_to_user": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1549256424, "post_id": 53821377, "comment_id": 95823993, "body": "Hi @pratik, not really so had to go back to my old implementation and make it work that way instead. I guess I&#39;m not able to update my app to use the paging library at the moment as my whole backend uses post method and I don&#39;t know how to make it work for this scenario."}, {"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1549256755, "post_id": 53821377, "comment_id": 95824059, "body": "Okay, Cool! I have posted <a href=\"https://stackoverflow.com/questions/39825125/android-recyclerview-cursorloader-contentprovider-load-more\">question</a> before, may it helps you in some way."}, {"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "reply_to_user": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1549651961, "post_id": 53821377, "comment_id": 95993375, "body": "Thanks @PratikButani. Looked at your answer but didn&#39;t see many similarities with my question to be honest as couldn&#39;t see the post method being used there. But thanks for your good will to try and help me with this issue. Appreciate that."}], "owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545131806, "creation_date": 1545072680, "last_edit_date": 1545131806, "question_id": 53821377, "link": "https://stackoverflow.com/questions/53821377/paging-library-using-post-not-get-adapter-not-populated", "title": "Paging Library Using Post Not Get - Adapter Not Populated", "body": "<p>I'm trying to use the new paging library for Android coding in Kotlin but am really stuck at the moment. My backend uses post method for connecting with the api calls and I'm trying to adapt the tutorials I've found using get but not being successful so far. Any help much appreciated indeed.</p>\n\n<p>That's how my adapter is being called from my Fragment class but it's being always null.</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    setVerticalRecyclerView(rv_resources)\n\n    val itemViewModel = ViewModelProviders.of(this).get(ItemViewModel::class.java)\n    val adapter = ResourcesAdapter(activity as MainActivity)\n    itemViewModel.itemPagedList.observe(this, object : Observer&lt;PagedList&lt;Resource&gt;&gt; {\n        override fun onChanged(items: PagedList&lt;Resource&gt;?) {\n            adapter.submitList(items)\n        }\n    })\n\n    rv_resources.adapter = adapter\n\n}\n</code></pre>\n\n<p>I <strong>feel the problem is probably coming from here:</strong></p>\n\n<pre><code>class ItemDataSource : PageKeyedDataSource&lt;Int, Resource&gt;() {\n\noverride fun loadInitial(params: PageKeyedDataSource.LoadInitialParams&lt;Int&gt;, callback: PageKeyedDataSource.LoadInitialCallback&lt;Int, Resource&gt;) {\n\n      getResources()\n}\n\noverride fun loadBefore(params: PageKeyedDataSource.LoadParams&lt;Int&gt;, callback: PageKeyedDataSource.LoadCallback&lt;Int, Resource&gt;) {\n\n    getResources()              \n}\n\noverride fun loadAfter(params: PageKeyedDataSource.LoadParams&lt;Int&gt;, callback: PageKeyedDataSource.LoadCallback&lt;Int, Resource&gt;) {\n\n    getResources()        \n}\n\nprivate fun getResources() {\n\n    val jo = JsonObject()\n    jo.addProperty(\"page\", 0)\n    jo.addProperty(\"page_size\", 10)\n\n    GetAllResourceListAPI.postData(jo, object : GetAllResourceListAPI.ThisCallback {\n        override fun onSuccess(getResourceList: GetResourceList) {\n            Toast.makeText(App.getContext(), \"onSuccess ${getResourceList.count}\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onFailure(failureMessage: String) {\n            Toast.makeText(App.getContext(), \"onFailure\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onError(errorMessage: String) {\n            Toast.makeText(App.getContext(), \"onError\", Toast.LENGTH_SHORT).show()\n        }\n    })\n}\n</code></pre>\n\n<p>Initially I'm trying to show <strong>any page</strong> within my adapter that's why <strong>pasted the same codes for loadInitial, loadBefore and loadAfter</strong> trying to tackle a problem at time if possible as currently my adapter shows empty even though I get a success from my api call. I may be missing something pretty obvious here but just can't see it as it's my first time using pagination and not very familiar with observers either.</p>\n\n<p>I have a gist with a bit more of my code created <a href=\"https://gist.github.com/francislainy/0eca633f0027f5bfca7c260a769a609a\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Thanks very much for your help.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545070680, "post_id": 53820839, "comment_id": 94490350, "body": "Not at all, but I find your question is not clear enough, what issues are you getting?"}, {"owner": {"reputation": 24, "user_id": 4586623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a2977941856347704dee2783d0c85?s=128&d=identicon&r=PG&f=1", "display_name": "newbie111", "link": "https://stackoverflow.com/users/4586623/newbie111"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545070762, "post_id": 53820839, "comment_id": 94490377, "body": "I am just being dumb.  I just needed to wait long enough to enable it to return a value DaHHHH!!!"}, {"owner": {"reputation": 24, "user_id": 4586623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a2977941856347704dee2783d0c85?s=128&d=identicon&r=PG&f=1", "display_name": "newbie111", "link": "https://stackoverflow.com/users/4586623/newbie111"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545071784, "post_id": 53820839, "comment_id": 94490802, "body": "Thanks Simulant for fixing the display of the result. I learned something new!"}], "owner": {"reputation": 24, "user_id": 4586623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/470a2977941856347704dee2783d0c85?s=128&d=identicon&r=PG&f=1", "display_name": "newbie111", "link": "https://stackoverflow.com/users/4586623/newbie111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545070718, "creation_date": 1545070066, "last_edit_date": 1545070718, "question_id": 53820839, "link": "https://stackoverflow.com/questions/53820839/is-there-an-issue-with-trying-to-pass-a-constant-or-variable-to-a-rem-method-i", "title": "Is there an issue with trying to pass a constant or variable to a rem() method in kotlin?", "body": "<p>Is there an issue with trying to pass a constant or variable to a rem() method in kotlin?</p>\n\n<pre><code>object TimeCalc {\n    private const val SECONDS: Int = 1000\n    private const val MINUTES: Int = SECONDS * 60\n    private const val HOURS: Int = MINUTES * 60\n    private const val DAYS: Int = HOURS * 24\n\n    fun timeDiff(sTime: Long, eTime: Long){\n        Log.i(\"Test\", \"sec $SECONDS: min $MINUTES : hrs $HOURS : days $DAYS\")\n        var startTime = sTime\n        var endTime = eTime\n        var mDiff: Int\n        var mHours: Int\n        var mMinutes: Int\n        var mSeconds:Int\n        var mMilliS: Int\n\n        Log.i(\"Test\", \"$startTime - $endTime\")\n\n        mDiff = (endTime - startTime).toInt()\n        Log.i(\"Test\", \"Diff = $mDiff\")\n        **mHours = mDiff.rem(DAYS)**\n        Log.i(\"Test\", \"Hours = $mHours\")\n\n        Log.i(\"Test\", \"${mHours}\")\n    }\n}\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>I/Test: sec 1000: min 60000 : hrs 3600000 : days 86400000\nI/Test: 1545062123189 - 1545062217296\nI/Test: Diff = 94107\nI/Test: Hours = 94107\nI/Test: 94107\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8927855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d4db631eae01ec62f8cbc09f7412cf?s=128&d=identicon&r=PG", "display_name": "dave08", "link": "https://stackoverflow.com/users/8927855/dave08"}, "edited": false, "score": 0, "creation_date": 1545165885, "post_id": 53838392, "comment_id": 94529934, "body": "Thanks for the answer, but think I tried that, gradle told me there&amp;#39;s no such task on the Project. Even junitPlatform configs (that I think are normally configured in the task) need a special plugin and to be provided in the <code>android { testOptions { } }</code> section. I&amp;#39;m not sure how these plugins do it though, I think the problem starts because of all the variations and flavours possible in Android."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 43, "user_id": 8927855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d4db631eae01ec62f8cbc09f7412cf?s=128&d=identicon&r=PG", "display_name": "dave08", "link": "https://stackoverflow.com/users/8927855/dave08"}, "edited": false, "score": 0, "creation_date": 1545215309, "post_id": 53838392, "comment_id": 94545996, "body": "Ah sorry, I see. These tasks are created late during the configuration phase and are not yet available at the build script execution time."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 43, "user_id": 8927855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d4db631eae01ec62f8cbc09f7412cf?s=128&d=identicon&r=PG", "display_name": "dave08", "link": "https://stackoverflow.com/users/8927855/dave08"}, "edited": false, "score": 0, "creation_date": 1545215463, "post_id": 53838392, "comment_id": 94546078, "body": "@dave08 I&#39;ve updated the answer. An alternative would be to configure that task in an <code>afterEvaluate { ... }</code> block just accessing it by name."}, {"owner": {"reputation": 43, "user_id": 8927855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d4db631eae01ec62f8cbc09f7412cf?s=128&d=identicon&r=PG", "display_name": "dave08", "link": "https://stackoverflow.com/users/8927855/dave08"}, "edited": false, "score": 0, "creation_date": 1545674189, "post_id": 53838392, "comment_id": 94675675, "body": "The tests seem to run (tried the way you mentioned in the edit), but Android Studio (3.2) seems to still think I&#39;m using 1.6... could that be? And how can I check that it worked? On the test run command in the IDE output window, I don&#39;t see any mention of jvm-target, whereas one of my test dependencies requires 1.8."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1545215423, "last_edit_date": 1545215423, "creation_date": 1545154823, "answer_id": 53838392, "question_id": 53819462, "link": "https://stackoverflow.com/questions/53819462/seperate-android-gradle-jvm-version-for-app-and-unit-tests/53838392#53838392", "title": "Seperate Android Gradle Jvm version for app and unit tests", "body": "<p>Yes, you can do that simply by setting <code>jvmTarget</code> for a certain Kotlin compilation task.</p>\n\n<p>In an Android project, the unit tests are normally compiled by the tasks <code>compileDebugUnitTestKotlin</code>, <code>compileReleaseUnitTestKotlin</code> etc. You may find the complete list of Gradle tasks in the IDE's Gradle view or by running:</p>\n\n<pre><code>./gradlew tasks --all\n</code></pre>\n\n<p>Search for the names following the pattern <code>compile*Kotlin</code>.</p>\n\n<p>Then just configure the single task that you need, for example:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile)\n    .matching { it.name == \"compileDebugUnitTestKotlin\" }\n    .all { \n        kotlinOptions {\n            jvmTarget = \"1.8\"\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8927855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d4db631eae01ec62f8cbc09f7412cf?s=128&d=identicon&r=PG", "display_name": "dave08", "link": "https://stackoverflow.com/users/8927855/dave08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545215423, "creation_date": 1545064745, "last_edit_date": 1545154304, "question_id": 53819462, "link": "https://stackoverflow.com/questions/53819462/seperate-android-gradle-jvm-version-for-app-and-unit-tests", "title": "Seperate Android Gradle Jvm version for app and unit tests", "body": "<p>Is it possible to set <code>jvmTarget = \"1.8\"</code> only for unit tests in gradle for an Android app? I was using:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>But then I got crashes on older 4.4 devices...</p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "radio-button"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1545063349, "post_id": 53818696, "comment_id": 94486531, "body": "Can you clarify &quot;but when i select radio button 2 again the radio button select cold not not selected and always unselected&quot;? It&#39;s hard to understand what you mean."}, {"owner": {"reputation": 13, "user_id": 10340097, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TdMtT1_USXA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMLqqCrlDAz9wv_ubzXECymK0rzCA/mo/photo.jpg?sz=128", "display_name": "willy", "link": "https://stackoverflow.com/users/10340097/willy"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1545063920, "post_id": 53818696, "comment_id": 94486877, "body": "@LarsH sorry,, i mean the radio button data is 3 , 1. radiobutton1, 2. radiobutton2, 3. radiobutton3 .. when i select radio button number 1 and then i select radiobutton number 2 the radio button 1 is unselected and of course radio button 2 is selected but when i select again radio button 2 the radiobutton 2 not selected and automatic to unselect"}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1545065923, "post_id": 53818696, "comment_id": 94488023, "body": "Do you mean that if you tap radiobutton2 a second time, your onClick() listener method doesn&#39;t get called a second time? Or do you mean that if you tap radiobutton2 a second time, radiobutton2&#39;s visual appearance on the screen changes to indicate that it&#39;s not selected anymore? (Also I don&#39;t know what you mean by &quot;volley.&quot;)"}, {"owner": {"reputation": 13, "user_id": 10340097, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TdMtT1_USXA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMLqqCrlDAz9wv_ubzXECymK0rzCA/mo/photo.jpg?sz=128", "display_name": "willy", "link": "https://stackoverflow.com/users/10340097/willy"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1545137671, "post_id": 53818696, "comment_id": 94515043, "body": "@LarsH yes when i clic 2x radio button the radio button is always unselected but i want is selected, btw volley is library that making http call for get api response"}], "owner": {"reputation": 13, "user_id": 10340097, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TdMtT1_USXA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMLqqCrlDAz9wv_ubzXECymK0rzCA/mo/photo.jpg?sz=128", "display_name": "willy", "link": "https://stackoverflow.com/users/10340097/willy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545074578, "creation_date": 1545062079, "last_edit_date": 1545074578, "question_id": 53818696, "link": "https://stackoverflow.com/questions/53818696/how-to-not-deselect-a-radio-button-when-i-click-it-again", "title": "How to not deselect a radio button when I click it again?", "body": "<p>I have successfully implemented the radio button from a volley. The example data in my volley is <code>1, 2, 3</code>. When I select radio button 1 and then I select radio button 2, radio 1 is unchecked. This situation is normal, but when I select radio button 2 again the radio button becomes deselected and I can't select it anymore.</p>\n\n<p>This is the code I put in the adapter:</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(final ViewHolder holder, final int position) {\n    SharedPreferences sharedPreferences = context.getSharedPreferences(AppConfig.APP_PUPUKKUJANG_MART, Context.MODE_PRIVATE);\n    final String whois = sharedPreferences.getString(AppConfig.USER_WHOIS,null);\n    row_index = -1;\n    holder.itemView.setTag(service.get(position));\n    final ServiceCourier p = service.get(position);\n    holder.service.setText(p.getService());\n    holder.desc.setText(p.getDescription());\n    holder.cost.setText(\"Rp \"+String.format(Locale.US, \"%1$,.0f\", Double.valueOf(p.getCost())).replace(\",\",\".\"));\n    holder.etd.setText(p.getEtd());\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n        }\n    });\n    View.OnClickListener rbClick = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            RadioButton checked_rb = (RadioButton) v;\n            if(lastCheckedRB != null){\n                ActivityCheckout.updateTextViewIscek(\"0\");\n                lastCheckedRB.setChecked(false);\n            }\n            lastCheckedRB = checked_rb;\n            SharedPreferences sharedPreferences = context.getSharedPreferences(AppConfig.APP_, Context.MODE_PRIVATE);\n            SharedPreferences.Editor editor = sharedPreferences.edit();\n            editor.putString(\"ongkir_service\", p.getService());\n            editor.putString(\"ongkir_description\", p.getDescription());\n            editor.putString(\"ongkir_cost\", p.getCost());\n            editor.putString(\"ongkir_etd\", p.getEtd());\n            editor.apply();\n            String cost = String.format(Locale.US, \"%1$,.0f\", Double.valueOf(p.getCost()));\n            Double total_order = ActivityCheckout.getTextViewTotal();\n            Double tf = Double.valueOf(p.getCost())+total_order;\n            ActivityCheckout.updateTextViewIscek(\"1\");\n            ActivityCheckout.updateTextView(\"Rp \"+cost.replace(\",\",\".\"));\n            ActivityCheckout.updateTotal_fees(\"Rp \"+String.format(Locale.US, \"%1$,.0f\", tf).replace(\",\",\".\"));\n        }\n    };\n    holder.radiobutton.setOnClickListener(rbClick);\n}\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "resttemplate"], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1545064732, "last_edit_date": 1545064732, "creation_date": 1545063584, "answer_id": 53819125, "question_id": 53818060, "link": "https://stackoverflow.com/questions/53818060/how-can-i-get-content-of-page-as-listanydto-and-not-as-listjava-util-linkedha/53819125#53819125", "title": "How can i get content of Page as List&lt;AnyDTO&gt; and not as List&lt;java.util.LinkedHashMap&gt; with RestTemplate in Kotlin", "body": "<p>I can not speak for what the particular problem is here, but I would typically not use <code>PageImpl</code> to represent my paginated resource. You should look at <a href=\"https://docs.spring.io/spring-hateoas/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring HATEOAS</a> instead.</p>\n\n<p>What you will need to do is extend <a href=\"https://docs.spring.io/spring-hateoas/docs/current/api/org/springframework/hateoas/ResourceSupport.html\" rel=\"nofollow noreferrer\"><code>ResourceSupport</code></a> :</p>\n\n<pre><code>class PaginatedRestResponse(val dtos: List&lt;AnyDTO&gt;) : ResourceSupport()\n</code></pre>\n\n<p>This will provide your class with <a href=\"https://spring.io/understanding/HATEOAS\" rel=\"nofollow noreferrer\">hateoas</a> links. You can then call the restTemplate accepting this type:</p>\n\n<pre><code>response = restTemplate.getForEntity&lt;PaginatedRestResponse&gt;(createUrlWithParams(url, requestPage))\n</code></pre>\n\n<p>And you can retrieve the links so:</p>\n\n<pre><code>response.getLink(Link.REL_NEXT)\nresponse.getLink(Link.REL_PREVIOUS)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 698, "user_id": 1469497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edab0dc11b0e272931ceceb2fc3d5c32?s=128&d=identicon&r=PG", "display_name": "mrclrchtr", "link": "https://stackoverflow.com/users/1469497/mrclrchtr"}, "is_accepted": false, "score": 0, "last_activity_date": 1547647238, "creation_date": 1547647238, "answer_id": 54218732, "question_id": 53818060, "link": "https://stackoverflow.com/questions/53818060/how-can-i-get-content-of-page-as-listanydto-and-not-as-listjava-util-linkedha/54218732#54218732", "title": "How can i get content of Page as List&lt;AnyDTO&gt; and not as List&lt;java.util.LinkedHashMap&gt; with RestTemplate in Kotlin", "body": "<p>you can use \"ParameterizedTypeReference\". Something like this:</p>\n\n<pre><code>val response = restTemplate.exchange(\"/messages/$username\", HttpMethod.GET, null,\n        object : ParameterizedTypeReference&lt;List&lt;Message&gt;&gt;() {})\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6052240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lonj0qwYA3g/AAAAAAAAAAI/AAAAAAAAC0M/xDUEyWgXzds/photo.jpg?sz=128", "display_name": "Danijel Sudar", "link": "https://stackoverflow.com/users/6052240/danijel-sudar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1547647238, "creation_date": 1545059746, "last_edit_date": 1545065883, "question_id": 53818060, "link": "https://stackoverflow.com/questions/53818060/how-can-i-get-content-of-page-as-listanydto-and-not-as-listjava-util-linkedha", "title": "How can i get content of Page as List&lt;AnyDTO&gt; and not as List&lt;java.util.LinkedHashMap&gt; with RestTemplate in Kotlin", "body": "<p>Interface for controller</p>\n\n<pre><code>interface BrandController {\n    fun findDTOs(pageable: Pageable): ResponseEntity&lt;Page&lt;SomeDTO&gt;&gt;\n}\n</code></pre>\n\n<p>Simplified my test</p>\n\n<pre><code>var response: ResponseEntity&lt;*&gt;\n\n@Test\nfun `test`() {\n    `given TestRestTemplate`() \n    `when findDTOs`()\n    `then check body`()\n}\n\nprotected fun `given not authorization`() {\n    restTemplate = TestRestTemplate()\n}\n\nprivate fun `when findDTOs`() {\n    // RestResponsePage&lt;T&gt; extends PageImpl&lt;T&gt;\n    response = restTemplate.getForEntity&lt;RestResponsePage&lt;SomeDTO&gt;&gt;(createUrlWithParams(url, requestPage))\n}\n\nprivate fun `then check body`() {\n    val body: Page&lt;SomeDTO&gt; = response.body as Page&lt;SomeDTO&gt; // body: \"Page 2 of 2 containing java.util.LinkedHashMap instances\"\n\n    assertEquals(requestPage.size, body.size) // success\n\n    val content: List&lt;SomeDTO&gt; = body.content as List&lt;SomeDTO&gt; // content: size = 10 body: \"Page 2 of 2 containing java.util.LinkedHashMap instances\"\n\n    content.forEachIndexed { index, someDTO: SomeDTO-&gt; //Error\n        assertEquals(expectedList[index].name, someDTO.name)\n        assertEquals(expectedList[index].id, someDTO.id)\n    }\n}\n</code></pre>\n\n<p>Error is:</p>\n\n<pre><code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com....SomeDTO\n</code></pre>\n\n<p><strong>How can I get a content of Page as <code>List&lt;AnyDTO&gt;</code> and not as <code>List&lt;java.util.LinkedHashMap&gt;</code></strong></p>\n\n<p>I did it to verify the correctness of the content by TestRestTemplate return JSON String, but I would like to do this in this way</p>\n"}, {"tags": ["java", "android", "kotlin", "android-gradle-plugin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "edited": false, "score": 0, "creation_date": 1545061445, "post_id": 53818475, "comment_id": 94485428, "body": "@I have tried all the solution what do you think many problem"}], "tags": [], "owner": {"reputation": 68, "user_id": 3460038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atedn.png?s=128&g=1", "display_name": "machichiotte", "link": "https://stackoverflow.com/users/3460038/machichiotte"}, "is_accepted": false, "score": 0, "last_activity_date": 1545061283, "creation_date": 1545061283, "answer_id": 53818475, "question_id": 53818053, "link": "https://stackoverflow.com/questions/53818053/error-execution-failed-for-task-appkaptdemoproductiondebugkotlin/53818475#53818475", "title": "error Execution failed for task &#39;:app:kaptDemoProductionDebugKotlin&#39;.?", "body": "<p>Check this first for your lossy primitives types: <a href=\"https://stackoverflow.com/a/51632153/3460038\">https://stackoverflow.com/a/51632153/3460038</a></p>\n\n<p>Then for your NDK issues check there : <a href=\"https://stackoverflow.com/a/42324530/3460038\">https://stackoverflow.com/a/42324530/3460038</a></p>\n"}], "owner": {"reputation": 73, "user_id": 10567871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NRMBT2YsUo8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAC1JUFYedu1AMT_F8pAfUmMDrSXg/mo/photo.jpg?sz=128", "display_name": "Snowdinjon Edgarjon", "link": "https://stackoverflow.com/users/10567871/snowdinjon-edgarjon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545067611, "creation_date": 1545059725, "last_edit_date": 1545067611, "question_id": 53818053, "link": "https://stackoverflow.com/questions/53818053/error-execution-failed-for-task-appkaptdemoproductiondebugkotlin", "title": "error Execution failed for task &#39;:app:kaptDemoProductionDebugKotlin&#39;.?", "body": "<p>I am getting the following exception below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\admin\\Desktop\\masters\\app\\build\\tmp\\kapt3\\stubs\\demoProductionDebug\\com\\empowered\\healo\\ui\\adapters\\HistoryQuestionAdapter.java:155:\nerror: incompatible types: possible lossy conversion from long to int @android.support.annotation.IntDef(value = {1L, 0L})\n</code></pre>\n\n<p>Below is my Logcat: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>3:55:52 PM: Executing task 'assembleDebug'...\n\nExecuting tasks: [assembleDebug]\n\nNDK is missing a \"platforms\" directory.\nIf you are using NDK, verify the ndk.dir is set to a valid NDK directory.  It is currently set to C:\\Users\\admin\\AppData\\Local\\Android\\Sdk\\ndk-bundle.\nIf you are not using NDK, unset the NDK variable from ANDROID_NDK_HOME or local.properties to remove this warning.\n\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nNDK is missing a \"platforms\" directory.\nIf you are using NDK, verify the ndk.dir is set to a valid NDK directory.  It is currently set to C:\\Users\\admin\\AppData\\Local\\Android\\Sdk\\ndk-bundle.\nIf you are not using NDK, unset the NDK variable from ANDROID_NDK_HOME or local.properties to remove this warning.\n\nWARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation' and 'api'.\nIt will be removed at the end of 2018. For more information see: http://d.android.com/r/tools/update-dependency-configurations.html\n:app:checkDemoProductionDebugClasspath UP-TO-DATE\n:app:preBuild UP-TO-DATE\n:errorcheckmodule:preBuild UP-TO-DATE\n:errorcheckmodule:preDebugBuild UP-TO-DATE\n:errorcheckmodule:checkDebugManifest UP-TO-DATE\n:errorcheckmodule:processDebugManifest UP-TO-DATE\n:app:preDemoProductionDebugBuild UP-TO-DATE\n:errorcheckmodule:compileDebugAidl NO-SOURCE\n:app:compileDemoProductionDebugAidl NO-SOURCE\n:errorcheckmodule:packageDebugRenderscript NO-SOURCE\n:app:compileDemoProductionDebugRenderscript UP-TO-DATE\n:app:checkDemoProductionDebugManifest UP-TO-DATE\n:app:generateDemoProductionDebugBuildConfig UP-TO-DATE\n:app:mainApkListPersistenceDemoProductionDebug UP-TO-DATE\n:app:mergeDemoProductionDebugShaders UP-TO-DATE\n:app:compileDemoProductionDebugShaders UP-TO-DATE\n:app:generateDemoProductionDebugAssets UP-TO-DATE\n:errorcheckmodule:mergeDebugShaders UP-TO-DATE\n:errorcheckmodule:compileDebugShaders UP-TO-DATE\n:errorcheckmodule:generateDebugAssets UP-TO-DATE\n:errorcheckmodule:packageDebugAssets UP-TO-DATE\n:app:mergeDemoProductionDebugAssets UP-TO-DATE\n:app:processDemoProductionDebugGoogleServices\nParsing json file: C:\\Users\\admin\\Desktop\\masters\\app\\google-services.json\n:app:createDemoProductionDebugCompatibleScreenManifests UP-TO-DATE\n:app:processDemoProductionDebugManifest\n:app:fabricGenerateResourcesDemoProductionDebug\n:app:generateDemoProductionDebugResValues UP-TO-DATE\n:app:generateDemoProductionDebugResources UP-TO-DATE\n:errorcheckmodule:compileDebugRenderscript UP-TO-DATE\n:errorcheckmodule:generateDebugResValues UP-TO-DATE\n:errorcheckmodule:generateDebugResources UP-TO-DATE\n:errorcheckmodule:packageDebugResources UP-TO-DATE\n:app:mergeDemoProductionDebugResources\nC:\\Users\\admin\\Desktop\\masters\\app\\build\\intermediates\\incremental\\mergeDemoProductionDebugResources\\merged.dir\\values\\values.xml:2601: warn: multiple substitutions specified in non-positional format; did you mean to add the formatted=\"false\" attribute?.\nC:\\Users\\admin\\Desktop\\masters\\app\\build\\intermediates\\incremental\\mergeDemoProductionDebugResources\\merged.dir\\values\\values.xml:2674: warn: multiple substitutions specified in non-positional format; did you mean to add the formatted=\"false\" attribute?.\nC:\\Users\\admin\\Desktop\\masters\\app\\build\\intermediates\\incremental\\mergeDemoProductionDebugResources\\merged.dir\\values\\values.xml:2675: warn: multiple substitutions specified in non-positional format; did you mean to add the formatted=\"false\" attribute?.\n\n:app:splitsDiscoveryTaskDemoProductionDebug UP-TO-DATE\n:errorcheckmodule:generateDebugRFile UP-TO-DATE\n:app:processDemoProductionDebugResources\nerror: string too large to encode using UTF-8 written instead as 'STRING_TOO_LARGE'.\n\n:errorcheckmodule:generateDebugBuildConfig UP-TO-DATE\n:errorcheckmodule:prepareLintJar UP-TO-DATE\n:errorcheckmodule:generateDebugSources UP-TO-DATE\n:errorcheckmodule:javaPreCompileDebug UP-TO-DATE\n:errorcheckmodule:compileDebugJavaWithJavac UP-TO-DATE\n:errorcheckmodule:processDebugJavaRes NO-SOURCE\n:errorcheckmodule:transformClassesAndResourcesWithPrepareIntermediateJarsForDebug UP-TO-DATE\n:app:kaptGenerateStubsDemoProductionDebugKotlin UP-TO-DATE\ne: C:\\Users\\admin\\Desktop\\masters\\app\\build\\tmp\\kapt3\\stubs\\demoProductionDebug\\com\\empowered\\healo\\ui\\adapters\\HistoryQuestionAdapter.java:155: error: incompatible types: possible lossy conversion from long to int\n    @android.support.annotation.IntDef(value = {1L, 0L})\n                                                ^\ne: C:\\Users\\admin\\Desktop\\masters\\app\\build\\tmp\\kapt3\\stubs\\demoProductionDebug\\com\\empowered\\healo\\ui\\adapters\\HistoryQuestionAdapter.java:155: error: incompatible types: possible lossy conversion from long to int\n    @android.support.annotation.IntDef(value = {1L, 0L})\n                                                    ^\n:app:kaptDemoProductionDebugKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDemoProductionDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 29s\n33 actionable tasks: 6 executed, 27 up-to-date\n3:56:22 PM: Task execution finished 'assembleDebug'.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 16339, "user_id": 1584654, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZmAL8.jpg?s=128&g=1", "display_name": "GVillani82", "link": "https://stackoverflow.com/users/1584654/gvillani82"}, "is_accepted": false, "score": 0, "last_activity_date": 1545060394, "creation_date": 1545060394, "answer_id": 53818229, "question_id": 53817661, "link": "https://stackoverflow.com/questions/53817661/recurrence-or-multiple-executions-in-rxjava/53818229#53818229", "title": "Recurrence or multiple executions in rxjava", "body": "<p>You can use the <code>concatMap</code> operator in a recursive way, and as exit condition return just the result:</p>\n\n<pre><code>Single&lt;Response&lt;DataEntity&gt;&gt; getDataAndContinue(params) {\n  return getData(params)\n      .concatMap(new Func1&lt;Response&lt;DataEntity&gt;, Single&lt;Response&lt;DataEntity&gt;&gt;&gt;() {\n\n        @Override\n        public Single&lt;Response&lt;DataEntity&gt;&gt; call(Response&lt;DataEntity&gt; response) {\n          if (!response.body().hasMore()) {\n            return Single.just(response);\n          }\n          return Single.just(response)\n              .concatWith(getDataAndContinue(params));\n        }   \n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1739364, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/YrRoo.png?s=128&g=1", "display_name": "mrtransistor", "link": "https://stackoverflow.com/users/1739364/mrtransistor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545060394, "creation_date": 1545058363, "last_edit_date": 1545058848, "question_id": 53817661, "link": "https://stackoverflow.com/questions/53817661/recurrence-or-multiple-executions-in-rxjava", "title": "Recurrence or multiple executions in rxjava", "body": "<p>I have a specific task to get several packs of data from server by calling same request several times. While answers contains <strong><em>more</em></strong> flag - i have to recall this request.</p>\n\n<p>It seems something like this:</p>\n\n<pre><code>fun getData(some params): Single&lt;Response&lt;DataEntity&gt;&gt;\n//\nrepository.getData(params)\n    .flatMap {\n        if (it.body()?.more == false)\n           more = false\n        else (\n          // here i want to repeat my request \n          // repository.getData(params) to get more data\n        )\n    }\n    .flatMap {// here i want to get all the data from \n              //previous requests to save to db etc.\n    }\n</code></pre>\n\n<p>Maybe i have to use something like <em>repeatWhen</em> or <em>repeautUntil</em> operators but i can't find the solution for now. Please help!)</p>\n"}, {"tags": ["android", "kotlin", "proguard"], "answers": [{"tags": [], "owner": {"reputation": 2655, "user_id": 2294985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2d36P.jpg?s=128&g=1", "display_name": "Omar HossamEldin", "link": "https://stackoverflow.com/users/2294985/omar-hossameldin"}, "is_accepted": true, "score": 2, "last_activity_date": 1545579954, "creation_date": 1545579954, "answer_id": 53904974, "question_id": 53817646, "link": "https://stackoverflow.com/questions/53817646/kotlin-exceptions-not-all-shown-in-crashlytics/53904974#53904974", "title": "Kotlin exceptions not all shown in crashlytics", "body": "<p>I found that with using Proguard, you have to add `-keep' for your custom exceptions\nI wondered if this is the problem and it is not handled, so I added</p>\n\n<pre><code>-keep public class * extends java.lang.Exception\n</code></pre>\n\n<p>and now Kotlin exceptions are shown in the Crashlytics</p>\n"}], "owner": {"reputation": 2655, "user_id": 2294985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2d36P.jpg?s=128&g=1", "display_name": "Omar HossamEldin", "link": "https://stackoverflow.com/users/2294985/omar-hossameldin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 1, "accepted_answer_id": 53904974, "answer_count": 1, "score": 0, "last_activity_date": 1545579954, "creation_date": 1545058311, "question_id": 53817646, "link": "https://stackoverflow.com/questions/53817646/kotlin-exceptions-not-all-shown-in-crashlytics", "title": "Kotlin exceptions not all shown in crashlytics", "body": "<p>I joined an ongoing project, this project uses Proguard.\nI already had some problems because of Proguard and I solved it as line numbers and class names wasn't showing correctly in crashlytics</p>\n\n<p>My problem now, that I see the correct line and class name but the exception is just <code>Kotlin.b</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/mXxGj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXxGj.png\" alt=\"Fatal Exception Kotlin.b\"></a></p>\n\n<p>What is missing to show the correct exception, and does Proguard has something with this or not</p>\n\n<p>Here is my Proguard file, I am open for suggestions in general if there is something wrong with my Proguard file as it is my first time to use it</p>\n\n<pre><code>-optimizationpasses 1\n-dontpreverify\n-verbose\n\n-keep public class * extends android.app.Activity\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n-keep public class * extends android.content.ContentProvider\n-keep public class * extends android.app.backup.BackupAgentHelper\n-keep public class * extends android.preference.Preference\n-keep public class com.android.vending.licensing.ILicensingService\n-keep public class android.content.Context\n-keep class com.gauravbhola.ripplepulsebackground.RipplePulseLayout$RippleView { *; }\n\n#-keep,includedescriptorclasses public class androidx.** { *; }\n#-keep,includedescriptorclasses public class android.support.** { *; }\n#-keep,includedescriptorclasses public class com.google.** { *; }\n-keep,includedescriptorclasses public class io.fabric.sdk.** { *; }\n\n# Keep AppMeasurement\n-keepclasseswithmembers class * {\n    public static com.google.android.gms.measurement.AppMeasurement getInstance (android.content.Context);\n}\n-dontwarn com.google.**\n-dontwarn android.support.**\n-dontwarn androidx.**\n-dontwarn io.fabric.sdk.**\n\n-optimizations !class/unboxing/enum\n\n\n-assumenosideeffects class android.util.Log {\n    public static *** d(...);\n    public static *** v(...);\n    public static *** w(...);\n    public static *** i(...);\n}\n\n# this will fix a force close in ReadingActivity\n-keep public class org.jsoup.** {\n    public *;\n}\n\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n-keepclassmembers class * extends android.app.Activity {\n   public void *(android.view.View);\n}\n\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n-keep class * implements android.os.Parcelable {\n  public static final android.os.Parcelable$Creator *;\n}\n\n#skip running ProGuard on Crashlytics\n-keep class com.crashlytics.** { *; }\n-dontwarn com.crashlytics.**\n\n# The I2P Java API bundled inside the I2P Android client library contains\n# references to javax.naming classes that Android doesn't have. But those\n# classes are never used on Android, and it is safe to ignore the warnings.\n-dontwarn net.i2p.crypto.CertUtil\n-dontwarn org.apache.http.conn.ssl.DefaultHostnameVerifier\n\n-dontwarn org.apache.http.HttpHost\n\n# Needed for okhttp\n-dontwarn okio.**\n-dontwarn javax.annotation.Nullable\n-dontwarn javax.annotation.ParametersAreNonnullByDefault\n\n# there were 11 unresolved references to classes or interfaces\n-dontwarn okhttp3.**\n# -dontwarn javax.annotation.**\n-dontwarn org.conscrypt.**\n# A resource is loaded with a relative path so the package of this class must be preserved.\n# -keepnames class okhttp3.internal.publicsuffix.PublicSuffixDatabase\n\n# Preserve annotations, line numbers, and source file names\n-keepattributes *Annotation*,SourceFile,LineNumberTable\n\n-keepattributes InnerClasses,EnclosingMethod\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 1, "creation_date": 1545063991, "post_id": 53817631, "comment_id": 94486914, "body": "I think you could add a TypeAdapter to your GSON parser that returns null in this case. But I don&#39;t know GSON enough to give you an example."}], "answers": [{"comments": [{"owner": {"reputation": 1443, "user_id": 2384934, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/gNaHo.jpg?s=128&g=1", "display_name": "Louis Tsai", "link": "https://stackoverflow.com/users/2384934/louis-tsai"}, "edited": false, "score": 0, "creation_date": 1545062624, "post_id": 53818782, "comment_id": 94486142, "body": "The list is not valid because the 3rd <code>Something</code> does not provide the parameter <code>compulsory_field</code>. See <a href=\"https://pl.kotl.in/SJvsOHBgN\" rel=\"nofollow noreferrer\">pl.kotl.in/SJvsOHBgN</a>"}, {"owner": {"reputation": 1443, "user_id": 2384934, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/gNaHo.jpg?s=128&g=1", "display_name": "Louis Tsai", "link": "https://stackoverflow.com/users/2384934/louis-tsai"}, "edited": false, "score": 0, "creation_date": 1545066385, "post_id": 53818782, "comment_id": 94488313, "body": "I have clarify the question a little bit: I did not use listOf() to make the data, it&#39;s just a representation of the list that Gson generated. Hope it helps!"}], "tags": [], "owner": {"reputation": 594, "user_id": 10784903, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6Y2n1HB2Jo/AAAAAAAAAAI/AAAAAAAAAB0/jJKKIk_Pm6g/photo.jpg?sz=128", "display_name": "Blackd", "link": "https://stackoverflow.com/users/10784903/blackd"}, "is_accepted": false, "score": 0, "last_activity_date": 1545198939, "last_edit_date": 1545198939, "creation_date": 1545062416, "answer_id": 53818782, "question_id": 53817631, "link": "https://stackoverflow.com/questions/53817631/how-to-find-invalid-kotlin-object-generated-by-gson-from-reflection/53818782#53818782", "title": "How to find invalid Kotlin object generated by Gson (from reflection)?", "body": "<p>If you don't like empty objects then just remove them. You should always can do it after parsing. However please be aware that in Kotlin lists can be mutable or not. It you received an inmutable one (built with \"listOf\") then you will have to build a new list including only the elements you want.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/collections.html</a></p>\n\n<p>Edited: Ok, I understand you can't even parse the json in first place. In this case maybe you can try this:</p>\n\n<ol>\n<li>To allow nulls: change type of compulsory_field from Int to Int? at declaration</li>\n<li>Fix your json string before parsing: In your case you can replace all {} with {\"compulsory_field\": null}</li>\n<li>Now gson parser should obtain a valid list.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1443, "user_id": 2384934, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/gNaHo.jpg?s=128&g=1", "display_name": "Louis Tsai", "link": "https://stackoverflow.com/users/2384934/louis-tsai"}, "is_accepted": false, "score": 0, "last_activity_date": 1545124881, "creation_date": 1545124881, "answer_id": 53829794, "question_id": 53817631, "link": "https://stackoverflow.com/questions/53817631/how-to-find-invalid-kotlin-object-generated-by-gson-from-reflection/53829794#53829794", "title": "How to find invalid Kotlin object generated by Gson (from reflection)?", "body": "<p>I came up with a ugly \"solution\"/workaround, but I am still searching for a better answer (or get the project to switch to moshi codegen or something else, whichever comes first)</p>\n\n<p>Basically I just copy each object again to make sure it goes through all the null-safety checking kotlin provides</p>\n\n<pre><code>val somethingList = //gson parse the data\nval fixedSomethingList = somethingList.mapNotNull {\n    try {\n    it.copy(compulsory_field = it.compulsory_field)\n  } catch (e: IllegalArgumentException) { //if gson inserted a null to a non-null field, this will make it surface\n    null  //set it to null so that they can be remove by mapNotNull above\n  }\n}\n</code></pre>\n\n<p>Now the <code>fixedSomethingList</code> should be clean. Again, very hacky, but it works......</p>\n"}], "owner": {"reputation": 1443, "user_id": 2384934, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/gNaHo.jpg?s=128&g=1", "display_name": "Louis Tsai", "link": "https://stackoverflow.com/users/2384934/louis-tsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545198939, "creation_date": 1545058281, "last_edit_date": 1545066349, "question_id": 53817631, "link": "https://stackoverflow.com/questions/53817631/how-to-find-invalid-kotlin-object-generated-by-gson-from-reflection", "title": "How to find invalid Kotlin object generated by Gson (from reflection)?", "body": "<pre><code>{\n  \"data\":[{\"compulsory_field\": 1}, {\"compulsory_field\": 2}, {}]\n}\n</code></pre>\n\n<p>converts into object by gson</p>\n\n<pre><code>data class Something(val compulsory_field: Int)\n\nval somethingList = //gson parse the data\nprintln(somethingList)\n\n//[\n//    Something(compulsory_field = 1),\n//    Something(compulsory_field = 2),\n//    Something(compulsory_field = null)    //Should not exists\n//]\n</code></pre>\n\n<p>and I want to get rid of the 3rd item. Is it possible to do it AFTER it has been converted to object? Or can it only be done when it's <code>String</code>/<code>InputStream</code>? And how can I do that?</p>\n\n<p>Thanks!</p>\n\n<p>Edit: clarify that the constructor works, but gson failed to understand kotlin rules and injected objects that I can't check in Kotlin</p>\n"}, {"tags": ["android", "kotlin", "runnable", "android-handler"], "answers": [{"comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545058958, "post_id": 53817650, "comment_id": 94483936, "body": "You can just move code in <code>usingRunnable</code> function to wherever you want."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1545058661, "last_edit_date": 1545058661, "creation_date": 1545058338, "answer_id": 53817650, "question_id": 53817370, "link": "https://stackoverflow.com/questions/53817370/how-to-resolve-expecting-class-body-error-in-kotlin/53817650#53817650", "title": "How to resolve expecting class body error in kotlin", "body": "<p>You can try next approach:</p>\n\n<pre><code>// function takes lambda extension function on class Runnable as the parameter, it is known as lambda with receiver\ninline fun runnable(crossinline body: Runnable.() -&gt; Unit) = object : Runnable {\n    override fun run() = body()\n}\n\nfun usingRunnable() {\n    val handler = Handler()\n    val runnableCode = runnable {\n        getSubsData()\n        if(!shouldStopLoop)\n        {\n            handler.postDelayed(this, 5000)\n        }\n    }\n    handler.post(runnableCode)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5871, "user_id": 1529129, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pdQxb.png?s=128&g=1", "display_name": "Rahul Tiwari", "link": "https://stackoverflow.com/users/1529129/rahul-tiwari"}, "is_accepted": false, "score": 5, "last_activity_date": 1557327101, "creation_date": 1557327101, "answer_id": 56043505, "question_id": 53817370, "link": "https://stackoverflow.com/questions/53817370/how-to-resolve-expecting-class-body-error-in-kotlin/56043505#56043505", "title": "How to resolve expecting class body error in kotlin", "body": "<p>the error occurs because you are treating <code>Handler</code> as an abstract class in the following statement:</p>\n\n<p><code>val handler = object : Handler()</code></p>\n\n<p>this statement needs a class body after it as the error says, like this:</p>\n\n<p><code>val handler = object : Handler(){}</code></p>\n\n<p>However, as <code>Handler</code> is not an abstract class more appropriate statement will be:</p>\n\n<p><code>val handler = Handler()</code></p>\n"}], "owner": {"reputation": 673, "user_id": 10461140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0wHjl5vSP00/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXNbSCcSFeXm0Yvw28_ygDS_1NH4w/mo/photo.jpg?sz=128", "display_name": "curiousgeek", "link": "https://stackoverflow.com/users/10461140/curiousgeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3117, "favorite_count": 0, "accepted_answer_id": 53817650, "answer_count": 2, "score": 4, "last_activity_date": 1557329096, "creation_date": 1545057348, "last_edit_date": 1557329096, "question_id": 53817370, "link": "https://stackoverflow.com/questions/53817370/how-to-resolve-expecting-class-body-error-in-kotlin", "title": "How to resolve expecting class body error in kotlin", "body": "<p>The Code:</p>\n\n<pre><code>var shouldStopLoop = false\n\nval handler = object : Handler()\nval runnable = object: Runnable            //error occurs here\n{\n    override fun run() {\n        getSubsData()\n        if(!shouldStopLoop)\n        {\n            handler.postDelayed(this, 5000)\n        }\n    }\n}\n\nhandler.post(runnable)\n</code></pre>\n\n<p><code>Expecting a class body</code> error occurs while I am trying to create the <code>val runnable</code>. </p>\n"}, {"tags": ["android", "arraylist", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "edited": false, "score": 0, "creation_date": 1545056588, "post_id": 53817172, "comment_id": 94482553, "body": "Could you please share your snapshot structure from firebase"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1545056959, "post_id": 53817172, "comment_id": 94482790, "body": "by using this code, the problem is still there, my data structure is in the  <b>Here&#39;s my Firebase Data Structure</b> link"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1545057441, "post_id": 53817172, "comment_id": 94483073, "body": "I try deleting the second item on my database and the 1st item will show up on my recyclerView, basically my recycler view currently only show 1 item and will most likely be the last one from the database."}, {"owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "reply_to_user": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1545058069, "post_id": 53817172, "comment_id": 94483419, "body": "i mean to share the  database on the firebase (ScreenShot)  from the data like this   <a href=\"https://drive.google.com/file/d/1xTL97TsrrriCHFvoIIHjRUUadgboR_39/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1xTL97TsrrriCHFvoIIHjRUUadgboR_39/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1545058390, "post_id": 53817172, "comment_id": 94483603, "body": "I try to google similar issue, but most of them are having the problem because of the recycler view height, but that&#39;s not likely my case I guess"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1545059802, "post_id": 53817172, "comment_id": 94484400, "body": "SOLVED: <a href=\"https://stackoverflow.com/questions/50271655/recyclerview-shows-just-one-item-from-firebase\" title=\"recyclerview shows just one item from firebase\">stackoverflow.com/questions/50271655/&hellip;</a>"}], "tags": [], "owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1545056548, "creation_date": 1545056548, "answer_id": 53817172, "question_id": 53816961, "link": "https://stackoverflow.com/questions/53816961/how-to-add-multiple-data-to-recycler-with-data-from-firebase-using-arraylistcus/53817172#53817172", "title": "How to add multiple data to recycler with data from firebase using ArrayList&lt;CustomClass&gt;", "body": "<p>Change <code>addListenerForSingleValueEvent</code> to <code>ValueEventListener</code> \nalso you have to call <code>adapter.notifydatasetchanged</code> after this line <code>recyclerview.adapter = adapter</code></p>\n\n<pre><code>private fun getFromFirebase() {\n    val currentUserUID = FirebaseAuth.getInstance().uid.toString()\n    val ref = FirebaseDatabase.getInstance().reference\n    ref.child(\"users\").child(currentUserUID).child(\"foods\").addValueEventListener(object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            setHasFixedSize(true)\n            recyclerview.layoutManager = LinearLayoutManager(this@FoodListActivity)\n            p0.children.forEach {\n                Log.d(\"getFood\", it.toString())\n                val foodData = it.getValue(Foods::class.java)\n                if (foodData != null) {\n                    val foodList = ArrayList&lt;Foods&gt;()\n                    val adapter = ListAdapter(foodList)\n                    foodList.add(foodData)\n                    recyclerview.adapter = adapter\n                    recyclerview.adapter.notifydatasetchanged\n                }\n            }\n\n        }\n\n    })}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545442212, "creation_date": 1545055787, "last_edit_date": 1545442212, "question_id": 53816961, "link": "https://stackoverflow.com/questions/53816961/how-to-add-multiple-data-to-recycler-with-data-from-firebase-using-arraylistcus", "title": "How to add multiple data to recycler with data from firebase using ArrayList&lt;CustomClass&gt;", "body": "<p><strong>EDIT: SOLVED(<a href=\"https://stackoverflow.com/questions/50271655/recyclerview-shows-just-one-item-from-firebase\">RecyclerView shows just one item from Firebase</a>)</strong></p>\n\n<p>Currently, my code is able to retrieve data from firebase and put it into my ArrayList. But the problem is, it can only put one data to the ArrayList and pass it to the recycler view adapter.</p>\n\n<p><strong>My Code to get from firebase and populate data to ArrayList</strong></p>\n\n<pre><code>    private fun getFromFirebase() {\n        val currentUserUID = FirebaseAuth.getInstance().uid.toString()\n        val ref = FirebaseDatabase.getInstance().reference\n        ref.child(\"users\").child(currentUserUID).child(\"foods\").addListenerForSingleValueEvent(object : ValueEventListener {\n            override fun onCancelled(p0: DatabaseError) {\n\n            }\n\n            override fun onDataChange(p0: DataSnapshot) {\n                setHasFixedSize(true)\n                recyclerview.layoutManager = LinearLayoutManager(this@FoodListActivity)\n                p0.children.forEach {\n                    Log.d(\"getFood\", it.toString())\n                    val foodData = it.getValue(Foods::class.java)\n                    if (foodData != null) {\n                        val foodList = ArrayList&lt;Foods&gt;()\n                        val adapter = ListAdapter(foodList)\n                        foodList.add(foodData)\n                        recyclerview.adapter = adapter\n\n                    }\n                }\n\n            }\n\n        })}}\n</code></pre>\n\n<p><strong>And here's my adapter</strong></p>\n\n<pre><code>class listAdapter(val food : ArrayList&lt;Foods&gt;) : RecyclerView.Adapter&lt;listAdapter.ViewHolder&gt;() {\n\n    override fun getItemCount(): Int {\n        return food.count()\n        Log.d(\"getFood\", food.size.toString())\n    }\n\n}\n</code></pre>\n\n<p>The problem here is when I do Log.d(\"getFood\", it.toString()) I can get all the item from database, but when I do Log.d(\"getFood\", food.size.toString()) I only get 1, and on my recyclerView, it will also only appear one item, which every time happen to be the second one on the data structure, the \"mild spicy\" one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bmb31.png\" rel=\"nofollow noreferrer\"><strong>Here's my Firebase Data Structure</strong></a></p>\n"}, {"tags": ["kotlin", "sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1545056000, "post_id": 53816924, "comment_id": 94482217, "body": "So what should I change ?"}, {"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1545056492, "post_id": 53816924, "comment_id": 94482491, "body": "You were right, I juste change the value of each of my <b>val</b> to a key and it works. I thought the val was the key. Thanks !"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545066627, "post_id": 53816924, "comment_id": 94488442, "body": "Please improve your answer"}], "tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": true, "score": 0, "last_activity_date": 1545055659, "creation_date": 1545055659, "answer_id": 53816924, "question_id": 53816817, "link": "https://stackoverflow.com/questions/53816817/shared-preference-override-element-if-same-type/53816924#53816924", "title": "Shared preference override element if same type", "body": "<p>You are converting the values of the preferences to strings instead of giving unique keys to each preference.</p>\n"}], "owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 53816924, "answer_count": 1, "score": 0, "last_activity_date": 1545055659, "creation_date": 1545055319, "question_id": 53816817, "link": "https://stackoverflow.com/questions/53816817/shared-preference-override-element-if-same-type", "title": "Shared preference override element if same type", "body": "<p>I have a view where there are a few element (dropdown, chechbox...). </p>\n\n<p>For the dropdown, I save the position of the selected item in my shared preferences. (so an int)</p>\n\n<p>for the checkboxes, I wanted to store an Int (0 if false, else 1), but if the state of my checkbox is false (0), the selected value of the dropdown is the 0 item</p>\n\n<p>Why ?</p>\n\n<p>See my helper : </p>\n\n<pre><code>class PreferenceHelper(context: Context) {\n\n    val PREFERENCE_NAME = \"SharedPreference\"\nval PREFERENCE_DEPARTEMENT = \"0\"\nval PREFERENCE_ACTU = false\nval PREFERENCE_INFOS_PRATIQUE = false\nval PREFERENCE_ALERTES = false\n\n\nval preference = context.getSharedPreferences(PREFERENCE_NAME, Context.MODE_PRIVATE)\nval editor = preference.edit()\n\nfun getPreferenceAlert() : Boolean{\n    return preference.getBoolean(PREFERENCE_ALERTES.toString(), false)\n}\n\nfun setPreferenceAlertes(checked : Boolean){\n    preference.edit().putBoolean(PREFERENCE_ALERTES.toString(), checked).apply()\n}\nfun getPreferenceActu() : Boolean{\n    return preference.getBoolean(PREFERENCE_ACTU.toString(), false)\n}\n\nfun setPreferenceActu(checked : Boolean){\n    preference.edit().putBoolean(PREFERENCE_ACTU.toString(), checked).apply()\n}\nfun getPreferenceInfo() : Boolean{\n    return preference.getBoolean(PREFERENCE_INFOS_PRATIQUE.toString(), false)\n}\n\nfun setPreferenceInfoPratique(checked : Boolean){\n    preference.edit().putBoolean(PREFERENCE_INFOS_PRATIQUE.toString(), checked).apply()\n}\nfun getPreferenceDepartement() : Int{\n    return preference.getInt(PREFERENCE_DEPARTEMENT, 0)\n}\n\nfun setPreferenceDepartement(position : Int){\n    preference.edit().putInt(PREFERENCE_DEPARTEMENT, position).apply()\n}\n}\n</code></pre>\n"}, {"tags": ["hibernate", "jpa", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15fbe32f6d45ec093be88e8d2b0545?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rton Osv&#225;th", "link": "https://stackoverflow.com/users/7814131/m%c3%a1rton-osv%c3%a1th"}, "edited": false, "score": 0, "creation_date": 1545065563, "post_id": 53817203, "comment_id": 94487803, "body": "Thanks for the answer, but I think you&#39;ve misunderstood me a bit. I think the exception should be the expected behaviour with lazy fetch enabled. So when the exception is not thrown lazy fetch is not working in my opinion."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 23, "user_id": 7814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15fbe32f6d45ec093be88e8d2b0545?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rton Osv&#225;th", "link": "https://stackoverflow.com/users/7814131/m%c3%a1rton-osv%c3%a1th"}, "edited": false, "score": 0, "creation_date": 1545069661, "post_id": 53817203, "comment_id": 94489888, "body": "Did I understand you correctly that: (1) at runtime everything works fine (2) during test everything works fine (3) exception is thrown only by debugger?"}, {"owner": {"reputation": 23, "user_id": 7814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15fbe32f6d45ec093be88e8d2b0545?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rton Osv&#225;th", "link": "https://stackoverflow.com/users/7814131/m%c3%a1rton-osv%c3%a1th"}, "edited": false, "score": 0, "creation_date": 1545082263, "post_id": 53817203, "comment_id": 94495236, "body": "Yes, and in the meantime I&#39;ve figured out the problem: <a href=\"https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\" title=\"what is this spring jpa open in view true property in spring boot\">stackoverflow.com/questions/30549489/&hellip;</a> Thanks very much anyway, your help directed me to the right direction"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1545056635, "creation_date": 1545056635, "answer_id": 53817203, "question_id": 53816797, "link": "https://stackoverflow.com/questions/53816797/kotlin-hibernate-jpa-lazy-fetch-not-working-through-the-controller/53817203#53817203", "title": "Kotlin Hibernate JPA Lazy fetch not working through the controller", "body": "<p>Lazy relies on the fact that it has active connection available.</p>\n\n<p>Connections are managed by EntityManager in Hibernate.</p>\n\n<p>But your debugger runs on a totally different thread, so it doesn't have access to EntityManager. Hence the exception. </p>\n"}], "owner": {"reputation": 23, "user_id": 7814131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d15fbe32f6d45ec093be88e8d2b0545?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rton Osv&#225;th", "link": "https://stackoverflow.com/users/7814131/m%c3%a1rton-osv%c3%a1th"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 0, "accepted_answer_id": 53817203, "answer_count": 1, "score": 2, "last_activity_date": 1545124197, "creation_date": 1545055257, "last_edit_date": 1545124197, "question_id": 53816797, "link": "https://stackoverflow.com/questions/53816797/kotlin-hibernate-jpa-lazy-fetch-not-working-through-the-controller", "title": "Kotlin Hibernate JPA Lazy fetch not working through the controller", "body": "<p>I've get a full sample application here: <a href=\"https://github.com/MrMojoR/hibernateOnKotlin\" rel=\"nofollow noreferrer\">https://github.com/MrMojoR/hibernateOnKotlin</a></p>\n\n<p>And this code is based on this blogpost: <a href=\"https://kotlinexpertise.com/hibernate-with-kotlin-spring-boot/\" rel=\"nofollow noreferrer\">https://kotlinexpertise.com/hibernate-with-kotlin-spring-boot/</a></p>\n\n<p>The problem is, that while lazy fetch works perfectly from the integration test, there is an Exception in debugger:\n<a href=\"https://i.stack.imgur.com/ltKWp.jpg\" rel=\"nofollow noreferrer\">Exception from test</a></p>\n\n<p>When I run the same code from the Controller, there is no Exception, the whole entity is loaded:\n<a href=\"https://i.stack.imgur.com/kMCrs.jpg\" rel=\"nofollow noreferrer\">No Exception from controller</a></p>\n\n<p><strong>How is that possible?</strong>\nThanks very much for your help!</p>\n\n<p>I'll post the code snippets anyway:</p>\n\n<p>AbstractJpaPersistable.kt</p>\n\n<pre><code>import org.springframework.data.domain.Persistable\nimport org.springframework.data.util.ProxyUtils\nimport java.io.Serializable\nimport javax.persistence.GeneratedValue\nimport javax.persistence.Id\nimport javax.persistence.MappedSuperclass\nimport javax.persistence.Transient\n\n/**\n * Abstract base class for entities. Allows parameterization of id type, chooses auto-generation and implements\n * [equals] and [hashCode] based on that id.\n *\n * This class was inspired by [org.springframework.data.jpa.domain.AbstractPersistable], which is part of the Spring Data project.\n */\n@MappedSuperclass\nabstract class AbstractJpaPersistable&lt;T : Serializable&gt; : Persistable&lt;T&gt; {\n\n    companion object {\n        private val serialVersionUID = -5554308939380869754L\n    }\n\n    @Id\n    @GeneratedValue\n    private var id: T? = null\n\n    override fun getId(): T? {\n        return id\n    }\n\n    /**\n     * Must be [Transient] in order to ensure that no JPA provider complains because of a missing setter.\n     *\n     * @see org.springframework.data.domain.Persistable.isNew\n     */\n    @Transient\n    override fun isNew() = null == getId()\n\n    override fun toString() = \"Entity of type ${this.javaClass.name} with id: $id\"\n\n    override fun equals(other: Any?): Boolean {\n        other ?: return false\n\n        if (this === other) return true\n\n        if (javaClass != ProxyUtils.getUserClass(other)) return false\n\n        other as AbstractJpaPersistable&lt;*&gt;\n\n        return if (null == this.getId()) false else this.getId() == other.getId()\n    }\n\n    override fun hashCode(): Int {\n        return 31\n    }\n}\n</code></pre>\n\n<p>Person.kt:</p>\n\n<pre><code>import javax.persistence.CascadeType\nimport javax.persistence.Entity\nimport javax.persistence.FetchType\nimport javax.persistence.ManyToOne\nimport javax.persistence.OneToMany    \n\n@Entity\nclass Person(\n        val name: String,\n        @ManyToOne(cascade = [(CascadeType.ALL)], fetch = FetchType.EAGER)\n        val street: Street\n) : AbstractJpaPersistable&lt;Long&gt;()\n\n@Entity\nclass Address(\n        val zipCode: String,\n        val city: String\n) : AbstractJpaPersistable&lt;Long&gt;()\n\n@Entity\nclass Street(\n        @OneToMany(cascade = [(CascadeType.ALL)], fetch = FetchType.LAZY)\n        val adresses: MutableSet&lt;Address&gt;\n) : AbstractJpaPersistable&lt;Long&gt;()\n</code></pre>\n\n<p>PersonRepository:</p>\n\n<pre><code>import com.kotlinexpertise.hibernatedemo.model.Person\nimport org.springframework.data.jpa.repository.JpaRepository\n\ninterface PersonRepository : JpaRepository&lt;Person, Long&gt;\n</code></pre>\n\n<p>PersonService:</p>\n\n<pre><code>import com.kotlinexpertise.hibernatedemo.model.Person\nimport com.kotlinexpertise.hibernatedemo.repository.PersonRepository\nimport org.springframework.stereotype.Service\n\n@Service\nclass PersonService(val personRepository: PersonRepository) {\n\n    fun savePerson(person: Person) {\n        personRepository.saveAndFlush(person)\n    }\n}\n</code></pre>\n\n<p><strong>Solution:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\">What is this spring.jpa.open-in-view=true property in Spring Boot?</a></p>\n\n<p>This property should be set to false:</p>\n\n<pre><code>spring.jpa.open-in-view=false\n</code></pre>\n\n<p>It is not a Kotlin issue, but a Spring issue.</p>\n"}, {"tags": ["android", "api", "security", "kotlin"], "owner": {"reputation": 3887, "user_id": 990208, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0d4a48671c0faa6f7d5417e172609d28?s=128&d=identicon&r=PG", "display_name": "Bala", "link": "https://stackoverflow.com/users/990208/bala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1545064615, "answer_count": 0, "score": 2, "last_activity_date": 1545053659, "creation_date": 1545053659, "question_id": 53816345, "link": "https://stackoverflow.com/questions/53816345/package-level-protection-in-kotlin", "closed_reason": "Duplicate", "title": "Package Level Protection in Kotlin", "body": "<p>Internal visibility modifier provides solution at class level.</p>\n\n<p>The internal visibility modifier is used to declare a member visible within the same module. In my case, a Gradle source set.</p>\n\n<p>However, I need to explore on finding solution that resemble like how java hides internal packages using module config... This way we can do it at package level instead of every class level.</p>\n\n<p>There is also a catch with internal modifier:</p>\n\n<p>The internal modifier is actually compiled to the public modifier and its name is changed so that it is not usable anymore. Still, it is pretty controversial that internal visibility is guarded by Kotlin.</p>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>Is there any other possibility to implement internal behaviour?  </li>\n<li>Can we do it at the package level ?</li>\n</ol>\n"}, {"tags": ["android", "json", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "edited": false, "score": 0, "creation_date": 1545055517, "post_id": 53816302, "comment_id": 94481925, "body": "are you sure that JSONArray and JSONObject are from Gson? I can&#39;t find the put method for this classes in Gson documentation"}], "owner": {"reputation": 3431, "user_id": 949903, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/Fh7Iz.png?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/949903/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545053562, "creation_date": 1545053562, "question_id": 53816302, "link": "https://stackoverflow.com/questions/53816302/request-params-changed-when-i-pass-it-in-retrofit-with-hashmap-in-kotlin", "title": "Request params changed when I pass it in Retrofit with HashMap in Kotlin", "body": "<p>I am using api call of retrofit and I want to pass JSONArray in Request params.</p>\n\n<pre><code>var requestMap: HashMap&lt;String, Any&gt; = hashMapOf(\"selected_conference_call_phone\" to (getArrayOfSelectedPhones(addressItem.selectedConferenceCallPhone) as JSONArray))\n\n\n\nprivate fun getArrayOfSelectedPhones(conferenceCallPhoneNumbers: ArrayList&lt;SelectedConferenceCallNumberModel&gt;): Any {\n\n    var phoneJsonArray = JSONArray()\n    try {\n\n        for (i in 0 until conferenceCallPhoneNumbers.size) {\n            var phoneJsonObject = JSONObject()\n            phoneJsonObject.put(\"phone\", conferenceCallPhoneNumbers[i].phone)\n            phoneJsonArray.put(phoneJsonObject)\n        }\n\n\n    } catch (ex: Exception) {\n        ex.printStackTrace()\n    }\n\n    Timber.e(\"phoneNumberArray =====&gt; $phoneJsonArray\")\n\n    return phoneJsonArray\n\n}\n// api call\nval request = activityApi.save(\n                authorization = prefs().getString(Constants.prefsKeys.TOKEN, \"\")\n                        ?: \"\", body = requestMap)\n        request.enqueue(object : Callback&lt;ActivitySave&gt; {\n\n            override fun onResponse(call: Call&lt;ActivitySave&gt;, response: Response&lt;ActivitySave&gt;) {\n                if (response.isSuccessful) {\n                    hideProgress()\n                    val activitySave = response.body()\n                    if (activitySave != null) {\n                        if (activitySave.flag) {\n                            hideProgress()\n                            greenToast(activitySave.message)\n                            callback()\n                        } else {\n                            hideProgress()\n                            Timber.e(activitySave.message)\n                            redToast(activitySave.message)\n                        }\n                    }\n                } else {\n                    hideProgress()\n                    Timber.e(\"${response.code()}: ${response.message()}\")\n                    redToast(\"${response.code()}: ${response.message()}\")\n                }\n            }\n\n            override fun onFailure(call: Call&lt;ActivitySave&gt;, throwable: Throwable) {\n                hideProgress()\n                Timber.e(throwable.message ?: \"\")\n                redToast(getString(R.string.server_unreachable))\n            }\n        })\n    } else {\n        hideProgress()\n        Timber.e(getString(R.string.network_not_available))\n        redToast(getString(R.string.network_not_available))\n    }\n}\n</code></pre>\n\n<p>=====================================================</p>\n\n<p>Retrofit function</p>\n\n<pre><code>val retrofit: Retrofit by lazy {\nRetrofit.Builder()\n        .baseUrl(WebConstants.BASE_URL)\n        .client(OkHttpClient.Builder()\n                .connectTimeout(30, TimeUnit.SECONDS)\n                .readTimeout(30, TimeUnit.SECONDS)\n                .writeTimeout(30, TimeUnit.SECONDS)\n                .addInterceptor(HttpLoggingInterceptor()\n                        .apply {\n                            level = if (BuildConfig.DEBUG) HttpLoggingInterceptor.Level.BODY\n                            else HttpLoggingInterceptor.Level.NONE\n                        }).build())\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n}\n</code></pre>\n\n<p>================================================</p>\n\n<p>dependency library used:</p>\n\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.4.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.4.0'\nimplementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'\nimplementation 'com.squareup.okhttp3:okhttp:3.10.0'\n</code></pre>\n\n<p>when I check the request then it is displaying</p>\n\n<pre><code>  \"selected_conference_call_phone\": {\n\"values\": [\n  {\n    \"nameValuePairs\": {\n      \"phone\": \"7897897878789\"\n    }\n  },\n  {\n    \"nameValuePairs\": {\n      \"phone\": \"1234567890123\"\n    }\n  }\n]\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>[\n  {\n    \"phone\": \"7897897878789\"\n  },\n  {\n    \"phone\": \"1234567890123\"\n  }\n]\n</code></pre>\n\n<p>What is the reason that this params is changed ?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["selenium", "gradle", "kotlin", "dependencies", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "is_accepted": true, "score": 9, "last_activity_date": 1545052585, "last_edit_date": 1545052585, "creation_date": 1545052168, "answer_id": 53815926, "question_id": 53815828, "link": "https://stackoverflow.com/questions/53815828/how-to-add-the-gradle-kotlin-dependency-compile-group-org-seleniumhq-selenium/53815926#53815926", "title": "how to add the Gradle Kotlin dependency compile group: &#39;org.seleniumhq.selenium&#39;?", "body": "<p>See this documentation : <a href=\"https://docs.gradle.org/current/userguide/dependency_types.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/dependency_types.html</a>\nFor <em>Module dependencies</em>, the syntax is different between Groovy DSL and Kotlin DSL:</p>\n\n<p>Groovy:</p>\n\n<pre><code>dependencies {\n    runtime group: 'org.springframework', name: 'spring-core', version: '2.5'\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>dependencies {\n    runtime(group = \"org.springframework\", name = \"spring-core\", version = \"2.5\")\n</code></pre>\n\n<p>Note that you also need to replace  single quotes by double quotes ( see <a href=\"https://guides.gradle.org/migrating-build-logic-from-groovy-to-kotlin/#prepare_your_groovy_scripts\" rel=\"noreferrer\">https://guides.gradle.org/migrating-build-logic-from-groovy-to-kotlin/#prepare_your_groovy_scripts</a>) </p>\n\n<p>In your case you should write</p>\n\n<pre><code>compile  (group= \"org.seleniumhq.selenium\", name = \"selenium-java\", version =  \"3.+\" )\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3147, "favorite_count": 0, "accepted_answer_id": 53815926, "answer_count": 1, "score": 3, "last_activity_date": 1545052585, "creation_date": 1545051791, "question_id": 53815828, "link": "https://stackoverflow.com/questions/53815828/how-to-add-the-gradle-kotlin-dependency-compile-group-org-seleniumhq-selenium", "title": "how to add the Gradle Kotlin dependency compile group: &#39;org.seleniumhq.selenium&#39;?", "body": "<p>What's the syntax to <a href=\"https://stackoverflow.com/q/17389293/262852\">add</a> <code>Selenium</code> as a dependency using the <code>Gradle Kotlin DSL</code>?</p>\n\n<p>error:</p>\n\n<pre><code>thufir@dur:~/NetBeansProjects/HelloKotlinWorld$ \nthufir@dur:~/NetBeansProjects/HelloKotlinWorld$ gradle clean\n\n&gt; Configure project :\ne: /home/thufir/NetBeansProjects/HelloKotlinWorld/build.gradle.kts:18:18: Expecting an element\ne: /home/thufir/NetBeansProjects/HelloKotlinWorld/build.gradle.kts:18:20: Unexpected tokens (use ';' to separate expressions on the same line)\ne: /home/thufir/NetBeansProjects/HelloKotlinWorld/build.gradle.kts:18:5: Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \npublic val NamedDomainObjectContainer&lt;Configuration&gt;.compile: NamedDomainObjectProvider&lt;Configuration&gt; defined in org.gradle.kotlin.dsl\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/thufir/NetBeansProjects/HelloKotlinWorld/build.gradle.kts' line: 18\n\n* What went wrong:\nScript compilation errors:\n\n  Line 18:     compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.+'\n                            ^ Expecting an element\n\n  Line 18:     compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.+'\n                              ^ Unexpected tokens (use ';' to separate expressions on the same line)\n\n  Line 18:     compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.+'\n               ^ Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n                   public val NamedDomainObjectContainer&lt;Configuration&gt;.compile: NamedDomainObjectProvider&lt;Configuration&gt; defined in org.gradle.kotlin.dsl\n\n3 errors\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.0/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\nthufir@dur:~/NetBeansProjects/HelloKotlinWorld$ \n</code></pre>\n\n<p>build file:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\nplugins {\n    kotlin(\"jvm\") version \"1.3.11\"\n    id(\"com.github.johnrengelman.shadow\") version \"2.0.4\"\n}\n\ngroup = \"xxx.yyy\"\nversion = \"1.0-SNAPSHOT\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.+'\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ntasks.withType&lt;ShadowJar&gt; {\n\n    baseName = \"app\"\n    classifier = \"inajar\"\n    version = \"9\"\n\n\n    manifest.attributes.apply {\n        put(\"Implementation-Title\", \"Gradle Jar File Example\")\n        //put(\"Implementation-Version\" version)\n        put(\"Main-Class\", \"HelloKotlinWorld.App\")\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "reactivex"], "answers": [{"comments": [{"owner": {"reputation": 980, "user_id": 552246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/T0jeO.jpg?s=128&g=1", "display_name": "pavelkorolevxyz", "link": "https://stackoverflow.com/users/552246/pavelkorolevxyz"}, "edited": false, "score": 0, "creation_date": 1545112678, "post_id": 53821461, "comment_id": 94502785, "body": "Sounds like a great solution, this second parameter of flatMap makes sense. onBackPressureDrop() means syncStarts should be Flowable if we talk about RxJava 2, right? What will happen if we remove line 1?"}, {"owner": {"reputation": 980, "user_id": 552246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/T0jeO.jpg?s=128&g=1", "display_name": "pavelkorolevxyz", "link": "https://stackoverflow.com/users/552246/pavelkorolevxyz"}, "edited": false, "score": 0, "creation_date": 1545113133, "post_id": 53821461, "comment_id": 94502919, "body": "About another operation start - no, I just want to wait next timer tick, nothing more. But if I want - it&#39;ll behave like concatMap but with the number of starts equals to what backpressure handling says, right? You said &quot;change the back pressure handling to queue up at most one emission&quot;, how could I do this?"}], "tags": [], "owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "is_accepted": false, "score": 3, "last_activity_date": 1545073052, "creation_date": 1545073052, "answer_id": 53821461, "question_id": 53815441, "link": "https://stackoverflow.com/questions/53815441/rx-operators-ignore-until-next-is-emitted/53821461#53821461", "title": "Rx Operators. Ignore until next is emitted", "body": "<p>You can use <code>flatMap()</code> with an extra integer argument to limit parallelism.</p>\n\n<pre><code>syncStarts\n  .onBackpressureDrop()               // 1\n  .flatMap(() -&gt; longOperation(), 1)  // 2\n  ...\n</code></pre>\n\n<ol>\n<li>Drop any emissions that occur while <code>flatMap()</code> is busy.</li>\n<li>The number 1 is the number of subscriptions that <code>flatMap()</code> makes, essentially forcing operations to be sequential.</li>\n</ol>\n\n<p>The above does the functions that you want. However, you didn't specify what you wanted to happen once <code>longOperation()</code> is running: did you want another operation to start immediately after? If so, you need to change the back pressure handling to queue up at most one emission.</p>\n"}, {"tags": [], "owner": {"reputation": 980, "user_id": 552246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/T0jeO.jpg?s=128&g=1", "display_name": "pavelkorolevxyz", "link": "https://stackoverflow.com/users/552246/pavelkorolevxyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1545113754, "creation_date": 1545113754, "answer_id": 53827351, "question_id": 53815441, "link": "https://stackoverflow.com/questions/53815441/rx-operators-ignore-until-next-is-emitted/53827351#53827351", "title": "Rx Operators. Ignore until next is emitted", "body": "<p>Found solution: </p>\n\n<pre><code>val syncDisposable = syncStarts\n    .concatMap {\n        longOperation()\n    }\n    .take(1) // Complete after first longOperation() emit next item\n    .repeat() // Resubscribe to this chain onCompleted so we continue to listen syncStarts ticks\n    .subscribe(autoStarts) \n</code></pre>\n\n<p>While it works it doesn't look very clean. Bob's answer looks more logical though it requires chain to be <code>Flowable</code>.</p>\n"}], "owner": {"reputation": 980, "user_id": 552246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/T0jeO.jpg?s=128&g=1", "display_name": "pavelkorolevxyz", "link": "https://stackoverflow.com/users/552246/pavelkorolevxyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1545113754, "creation_date": 1545050334, "last_edit_date": 1545054009, "question_id": 53815441, "link": "https://stackoverflow.com/questions/53815441/rx-operators-ignore-until-next-is-emitted", "title": "Rx Operators. Ignore until next is emitted", "body": "<p>In my app I have time consuming logic which can be started in many ways, let's say automatically or manually by user.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Let's describe different event sources as relays\nval autoStarts = PublishRelay.create&lt;Unit&gt;()\nval manualStarts = PublishRelay.create&lt;Unit&gt;()\nval syncStarts = PublishRelay.create&lt;Unit&gt;()\n\n// This is my time consuming operation.\nfun longOperation() = Observable.interval(10, TimeUnit.SECONDS).take(1).map { Unit }\n\nval startsDisposable = Observable\n        .merge(\n                autoStarts.flatMap { Observable.just(Unit).delay(30, TimeUnit.SECONDS) },\n                manualStarts\n        )\n        .subscribe(syncStarts) // merge emissions of both sources into one\n\nval syncDisposable = syncStarts\n        .concatMap {\n            longOperation()\n        }\n        .subscribe(autoStarts) // end of long operation trigger start of auto timer\n</code></pre>\n\n<p>Start relays could produce many emissions. Let's say user clicks button for manual start and there is 5 secons left until auto start by timer. Both events will lead to <code>longOperation()</code> to start if it was simple <code>flatMap</code>.\nI want only one thread to run <code>longOperation()</code> inside, so if it's running now and not finished - ignore start emissions, anyway finish will lead to timer restart. </p>\n\n<p><code>ConcatMap</code> helps me there at half - it adds <code>longOperation()</code> to \"queue\" so they are processed one by one, but how could I write this to ignore any further starts until first one is completely finished?</p>\n"}, {"tags": ["java", "android", "api", "kotlin"], "comments": [{"owner": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "edited": false, "score": 0, "creation_date": 1545050517, "post_id": 53815333, "comment_id": 94479080, "body": "what is happening when file is not exist? is it going in onSuccess or on onFailure?"}, {"owner": {"reputation": 109, "user_id": 10697801, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FHX4C12vDV4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g8_rPQu83Iwz2pwMT-HxK2agKcmw/mo/photo.jpg?sz=128", "display_name": "King Dingeling", "link": "https://stackoverflow.com/users/10697801/king-dingeling"}, "reply_to_user": {"reputation": 396, "user_id": 3664852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LfdTB.jpg?s=128&g=1", "display_name": "Mitesh Machhoya", "link": "https://stackoverflow.com/users/3664852/mitesh-machhoya"}, "edited": false, "score": 0, "creation_date": 1545050633, "post_id": 53815333, "comment_id": 94479156, "body": "well nothing! android don&#39;t want to admit that it&#39;s a pos"}], "owner": {"reputation": 109, "user_id": 10697801, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FHX4C12vDV4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g8_rPQu83Iwz2pwMT-HxK2agKcmw/mo/photo.jpg?sz=128", "display_name": "King Dingeling", "link": "https://stackoverflow.com/users/10697801/king-dingeling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545049916, "creation_date": 1545049916, "question_id": 53815333, "link": "https://stackoverflow.com/questions/53815333/android-kotlin-java-jloop-asynchttpclient-check-if-extern-file-exists", "title": "Android kotlin / JAVA - jloop AsyncHttpClient check if extern file exists", "body": "<p>This is the code:</p>\n\n<pre><code>val url = \"http://www.bla.com/file.json\"\n\nval client = AsyncHttpClient()\nclient.get(url, object : JsonHttpResponseHandler()\n{\n    override fun onSuccess(statusCode: Int, headers: Array&lt;Header&gt;?, response: JSONArray?)\n    {\n        if(response != null){\n\n            Log.d(\"letsSee\", \"file exist\")\n\n        }else{\n\n            Log.d(\"letsSee\", \"file doesn't exist and android is a pos\")\n\n        }\n    }\n\n    override fun onFailure(statusCode: Int, headers: Array&lt;Header&gt;?, e: Throwable, response: JSONArray?)\n    {\n        Log.d(\"letsSee\", \"file doesn't exists and android is a pos\")\n    }\n})\n</code></pre>\n\n<p>The code only works when file exist but why don't it do anything when not?? I would like to handle this case! </p>\n"}, {"tags": ["android", "kotlin", "fragment", "android-lifecycle", "fragment-lifecycle"], "comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1545050055, "post_id": 53815268, "comment_id": 94478819, "body": "It depends on what <code>getInfosTrafic</code> does. It may be blocking the main thread. Could you please post its code here?"}, {"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1545051430, "post_id": 53815268, "comment_id": 94479578, "body": "See my updated post"}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1545909891, "post_id": 53868212, "comment_id": 94727184, "body": "So it&#39;s not possible to insert my content when the view is created ? Cause for now, I way like 1 sec to see my injected content"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "reply_to_user": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1545919850, "post_id": 53868212, "comment_id": 94731172, "body": "The good practice is to inflate the layout and then make your fragment fetch the data from the repository. If this it&#39;s a slow process you should display a progress bar or a popup to notify the user about the pending operation"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "reply_to_user": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1545920858, "post_id": 53868212, "comment_id": 94731545, "body": "Cool, could you mark my response when you&#39;re done please?"}], "tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": true, "score": 3, "last_activity_date": 1545314448, "last_edit_date": 1545314448, "creation_date": 1545306891, "answer_id": 53868212, "question_id": 53815268, "link": "https://stackoverflow.com/questions/53815268/kotlin-create-content-in-oncreateview/53868212#53868212", "title": "Kotlin : create content in onCreateView", "body": "<p>You should not make operations on the UI thread before the view is created. The method onCreateView() should be used only to inflate the layout and returning the view.\nOnce you have returned the view and the system displays the UI, you can start with your Fragment business logic. Move your code under onViewCreated() method and avoid to make long-time operation in the main thread (the one in which Android updates the UI)</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n   return inflater.inflate(R.layout.infos_trafic, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    getInfosTrafic(view)\n}\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2756, "favorite_count": 0, "accepted_answer_id": 53868212, "answer_count": 1, "score": 0, "last_activity_date": 1550500437, "creation_date": 1545049706, "last_edit_date": 1550500437, "question_id": 53815268, "link": "https://stackoverflow.com/questions/53815268/kotlin-create-content-in-oncreateview", "title": "Kotlin : create content in onCreateView", "body": "<p>I'm generating some content thanks to my function <strong>getInfoTrafic()</strong>. But when I display it on my screen, my screen is load and after (like a second), my content is generated.</p>\n\n<p>Why? Is that normal for a fragment? Is it possible to do what I want?</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.infos_trafic, container, false)\n    getInfosTrafic(view)\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n}\n</code></pre>\n\n<p>These are my functions.</p>\n\n<pre><code>private fun getInfosTrafic(view : View) {\n    val resultActus = Fuel.get(\"MYAPI\").responseJson { request, response, result -&gt;\n        println(\"Reponse : \"+response.toString())\n        result.fold({\n            json -&gt;\n            Log.i(TAG, (json.content))\n            parseInfosTrafic(json.content, view)\n        }, {\n            err -&gt;\n            Log.i(\"error\", err.toString())\n        })\n    }\n}\n</code></pre>\n\n<p>And this one is adding my element into my layout</p>\n\n<pre><code>    private fun parseInfosTrafic(json: String, view : View): ArrayList&lt;String&gt; {    \n        val array = JSONArray(json)\n        val infos : ArrayList&lt;String&gt; = ArrayList&lt;String&gt;()\n        val hashMap = HashMap&lt;Int, JSONObject&gt;()\n        val llScrollInfoTraficFav = view.findViewById&lt;LinearLayout&gt;(R.id.llScrollInfoTraficFav)\n        val llScrollInfoTraficTL= view.findViewById&lt;LinearLayout&gt;(R.id.llScrollInfoTraficTL)\n\n        (0 until array.length()).forEach{\n          for(i in 0..3){\n            val evenOdd = if (i %2 == 0) \"even\" else \"odd\"\n\n            val item = array.getJSONObject(it)\n            val ...\n\n            val mpLinearLayoutFirst = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            val LinearLayoutFirst = LinearLayout(view.context)\n            LinearLayoutFirst.layoutParams = mpLinearLayoutFirst\n            LinearLayoutFirst.orientation = LinearLayout.VERTICAL\n            LinearLayoutFirst.tag = \"result\"\n            mpLinearLayoutFirst.bottomMargin = 5.toPx()\n\n            val mpLinearLayoutSecond = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            val linearLayoutSecond = LinearLayout(view.context)\n            linearLayoutSecond.layoutParams = mpLinearLayoutSecond\n            linearLayoutSecond.orientation = LinearLayout.VERTICAL\n            linearLayoutSecond.setPadding(35.toPx(),35.toPx(),35.toPx(),35.toPx())\n            linearLayoutSecond.background = resources.getDrawable(R.drawable.whit_bg_and_shadow, activity?.theme)\n            linearLayoutSecond.tag = \"visibleNotChangeable\"\n\n            LinearLayoutFirst.addView(linearLayoutSecond)\n\n            val mpLinearLayoutThird = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            val linearLayoutThird = LinearLayout(view.context)\n\n            linearLayoutSecond.addView(linearLayoutThird)\n\n            val rubikMedium = ResourcesCompat.getFont(view.context, R.font.rubik_medium)\n\n            val wwRes = LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            val dateView = TextView(view.context)\n            dateView.setTextAppearance(R.style.blueItalic)\n            dateView.layoutParams = wwRes\n            dateView.typeface = rubikMedium\n            dateView.text = date\n            dateView.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16F)\n\n            val title = TextView(view.context)\n            title.setTextAppearance(R.style.citySearch)\n            title.layoutParams = wwRes\n            title.typeface = rubikMedium\n            title.text = titleJson\n            title.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16F)\n\n            linearLayoutThird.addView(dateView)\n            linearLayoutThird.addView(title)\n\n            val linearLayoutHidden = LinearLayout(view.context)\n            val mpLinearLayoutHidden = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            linearLayoutHidden.layoutParams = mpLinearLayoutHidden\n            linearLayoutHidden.setPadding(35.toPx(),35.toPx(),35.toPx(),35.toPx())\n            linearLayoutHidden.orientation = LinearLayout.VERTICAL\n            linearLayoutHidden.background = resources.getDrawable(R.drawable.gray_bg, activity?.theme)\n            linearLayoutHidden.visibility = LinearLayout.GONE\n            linearLayoutHidden.tag = \"toToggle\"\n\n            val layoutResume = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n            val resume = WebView(view.context)\n            resume.layoutParams = layoutResume\n            resume.settings\n            resume.setBackgroundColor(Color.TRANSPARENT)\n            resume.loadData(content, \"text/html; charset=utf-8\", \"utf-8\")\n\n            linearLayoutHidden.addView(resume)\n\n            val layoutButton =  LinearLayout.LayoutParams(40.toPx(),  40.toPx())\n            val buttonToggle = Button(view.context)\n            layoutButton.topMargin = (-20).toPx()\n            layoutButton.gravity = Gravity.CENTER\n            buttonToggle.layoutParams = layoutButton\n            buttonToggle.background = resources.getDrawable(R.drawable.arrow_down_blue_circle, activity?.theme)\n            buttonToggle.tag = \"toToggleButton\"\n\n            buttonToggle.setOnClickListener {\n                val viewParent = it.parent\n                if (viewParent is LinearLayout) {\n                    val taggedView = viewParent.findViewWithTag&lt;View&gt;(\"toToggle\")\n\n                    taggedView.visibility = when {\n                        taggedView.visibility == View.GONE -&gt; View.VISIBLE\n                        else -&gt; View.GONE\n                    }\n                }\n\n            }\n\n            LinearLayoutFirst.addView(linearLayoutHidden)\n            LinearLayoutFirst.addView(buttonToggle)\n\n            if(evenOdd == \"even\"){\n                llScrollInfoTraficFav.addView(LinearLayoutFirst)\n            }else{\n                llScrollInfoTraficTL.addView(LinearLayoutFirst)\n            }\n\n        }\n        return infos\n\n    }\n</code></pre>\n"}, {"tags": ["android", "asynchronous", "kotlin", "android-asynctask"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545048727, "post_id": 53814730, "comment_id": 94478076, "body": "You have some options like <code>Executers</code> or <code>Coroutines</code>(Kotlin) .."}, {"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1545061063, "post_id": 53814730, "comment_id": 94485210, "body": "You sure you don&#39;t mean the mvvm (model-view-viewmodel) pattern since you use viewmodels?"}, {"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1545061174, "post_id": 53814730, "comment_id": 94485271, "body": "I don&#39;t like it when someone downvotes a question but doesn&#39;t explain why... Wasn&#39;t me. Anyway, your question isn&#39;t very good as you assume &quot;I can&#39;t update a view attribute when the message comes from a background thread.&quot; which is wrong as Alexei pointed out in his answer. See <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10413708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t0rQQ7cWVr4/AAAAAAAAAAI/AAAAAAAAFnM/HtHZPYCaj0U/photo.jpg?sz=128", "display_name": "Jonathan Giorgi Silveira", "link": "https://stackoverflow.com/users/10413708/jonathan-giorgi-silveira"}, "edited": false, "score": 0, "creation_date": 1545130353, "post_id": 53815017, "comment_id": 94511163, "body": "I was planning to use coroutines, but I didn&#39;t understand how it works. Yesterday I started to learn more about coroutine and maybe I can use MutableLiveData#post() method. I think it can work using AsyncTask subclasses."}], "tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": true, "score": 0, "last_activity_date": 1545048825, "creation_date": 1545048825, "answer_id": 53815017, "question_id": 53814730, "link": "https://stackoverflow.com/questions/53814730/asynchronous-task-in-android-withou-using-asynctask/53815017#53815017", "title": "Asynchronous task in Android withou using AsyncTask", "body": "<p>You can take a look at libraries like <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">retrofit</a> for performing API calls.\nAlso, if you are using kotlin you can take a look at <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">coroutines</a> for a more generic asyncronous work.</p>\n"}, {"tags": [], "owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "is_accepted": false, "score": 1, "last_activity_date": 1545060747, "creation_date": 1545060747, "answer_id": 53818326, "question_id": 53814730, "link": "https://stackoverflow.com/questions/53814730/asynchronous-task-in-android-withou-using-asynctask/53818326#53818326", "title": "Asynchronous task in Android withou using AsyncTask", "body": "<p>Why  can't you update a view attribute when the message comes from a background thread? it can be done in <a href=\"https://stackoverflow.com/questions/9884246/how-to-set-text-of-text-view-in-another-thread\">many ways</a>.</p>\n\n<p>Anyway, there is no other way out, since I/O operations cannot be performed on the GUI thread, only on some background thread.</p>\n"}], "owner": {"reputation": 21, "user_id": 10413708, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t0rQQ7cWVr4/AAAAAAAAAAI/AAAAAAAAFnM/HtHZPYCaj0U/photo.jpg?sz=128", "display_name": "Jonathan Giorgi Silveira", "link": "https://stackoverflow.com/users/10413708/jonathan-giorgi-silveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 53815017, "answer_count": 2, "score": -2, "last_activity_date": 1545060747, "creation_date": 1545047694, "last_edit_date": 1545048391, "question_id": 53814730, "link": "https://stackoverflow.com/questions/53814730/asynchronous-task-in-android-withou-using-asynctask", "title": "Asynchronous task in Android withou using AsyncTask", "body": "<p>everyone!</p>\n\n<p>I'm building an app for the company where I work and we have to run an interaction with an API in the background, but while this interaction is running, the interaction sends us some messages that must enable/disable some views in activity/fragment.</p>\n\n<p>We are running this interaction using the async task, but the problem is: I can't update a view attribute when the message comes from a background thread. I had to use a custom Progress class to handle those messages and then change the view attributes.</p>\n\n<p>In our app, we are using MVVP pattern, and my async task is called from a ViewModel, which is responsible for execute the bizness logic.</p>\n\n<p>But what I really want to know is: Is there another way to perform an async task without using an AsyncTask subclass? Maybe some of you guys can halp me out recommending a way that use callbacks to notify messages and when the function ends.</p>\n\n<p>I know that Retrofit makes an asynchronous task using the enqueue method, but I didn't understand how can I implement that way by myself.</p>\n\n<p>Ps.: The AsyncTask subclass is working fine, but I didn't get along with that implementation.</p>\n"}, {"tags": ["android", "kotlin", "observable", "viewmodel", "rx-java2"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 1, "creation_date": 1545052403, "post_id": 53814268, "comment_id": 94480116, "body": "I just tried this in IntelliJ with Kotlin 1.3.10 and rxJava2 (v2.2.4) and it compiled, even with <code>onErrorReturn</code>, without needing the cast. What versions of everything are you using?"}, {"owner": {"reputation": 5482, "user_id": 371749, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1389c7f23fddac1311dcb0593567e525?s=128&d=identicon&r=PG", "display_name": "cV2", "link": "https://stackoverflow.com/users/371749/cv2"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1545480671, "post_id": 53814268, "comment_id": 94636891, "body": "Thanks for your quick reply, I&#39;ll work on a working sample next year, starting January 7th. Merry Christmas &amp;&amp; a happy new year :)"}], "owner": {"reputation": 5482, "user_id": 371749, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1389c7f23fddac1311dcb0593567e525?s=128&d=identicon&r=PG", "display_name": "cV2", "link": "https://stackoverflow.com/users/371749/cv2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "closed_date": 1603086190, "answer_count": 0, "score": 0, "last_activity_date": 1545045936, "creation_date": 1545045936, "question_id": 53814268, "link": "https://stackoverflow.com/questions/53814268/autocast-sealed-sub-class-fails-why-rx-java-2-observable-stream-onerrorreturn", "closed_reason": "Duplicate", "title": "Autocast sealed sub class fails - why? Rx Java 2 Observable Stream onErrorReturn", "body": "<p>I want to finish this year with understanding something that wasn't clear to my parts of this year.</p>\n\n<p>We are using sub-classes of sealed classes to give feedback back from our ViewModel to the UI.</p>\n\n<p>So we start with something like:</p>\n\n<pre><code>sealed class LoginRoute {\n\n    object LoginSuccessful : LoginRoute()\n\n    object LoginFailed : LoginRoute()\n\n    data class LoginError(val error: Throwable) : LoginRoute()\n}\n</code></pre>\n\n<p>Within our ViewModel we have some rxJava2 streams, for instance:</p>\n\n<pre><code>override val loginServiceStatusStream: Observable&lt;LoginRoute&gt; =\n        loginServiceStatus\n            .map { status -&gt;\n                if (status == Status.OK) {\n                    LoginSuccessful\n                } else {\n                    LoginFailed\n                }\n            }\n            .onErrorReturn {\n                LoginError(it)\n            }\n</code></pre>\n\n<p>What we actually experience: The above shown Observable doesn't compile because as soon as <code>onErrorReturn</code> is added we have to <strong>manually add a cast to LoginRoute</strong> for each mapped return value.</p>\n\n<p>Like:</p>\n\n<pre><code>override val loginServiceStatusStream: Observable&lt;LoginRoute&gt; =\n            loginServiceStatus\n                .map { status -&gt;\n                    if (status == Status.OK) {\n                        LoginSuccessful as LoginRoute\n                    } else {\n                        LoginFailed as LoginRoute\n                    }\n                }\n                .onErrorReturn {\n                    LoginError(it)\n                }\n</code></pre>\n\n<p>If we just do it like that (<strong>without</strong> <code>onErrorReturn</code>) everything <strong>works without</strong> the additional <strong>cast</strong> statement:</p>\n\n<pre><code>override val loginServiceStatusStream: Observable&lt;LoginRoute&gt; =\n                loginServiceStatus\n                    .map { status -&gt;\n                        if (status == Status.OK) {\n                            LoginSuccessful\n                        } else {\n                            LoginFailed\n                        }\n                    }\n</code></pre>\n\n<p>I would really like to understand why this cast is necessary.<br>\nAny help appreciated. <br>\nThanks, merry Christmas and a happy new year :)</p>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1545045472, "post_id": 53814043, "comment_id": 94476387, "body": "Any error message you get?"}, {"owner": {"reputation": 129, "user_id": 10168482, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OvJ5Z8Ih90k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oKAjotpuE9kPizy0X8JOntve0bfQ/mo/photo.jpg?sz=128", "display_name": "Nancy", "link": "https://stackoverflow.com/users/10168482/nancy"}, "reply_to_user": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 1, "creation_date": 1545045734, "post_id": 53814043, "comment_id": 94476536, "body": "Cant even import.. just red when I type DaggerAppComponent. Cant even get errors"}, {"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1545046167, "post_id": 53814043, "comment_id": 94476759, "body": "Did you run &quot;Build project&quot; to generate code from Dagger? Can you edit question and add code for component and modules?"}, {"owner": {"reputation": 129, "user_id": 10168482, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OvJ5Z8Ih90k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oKAjotpuE9kPizy0X8JOntve0bfQ/mo/photo.jpg?sz=128", "display_name": "Nancy", "link": "https://stackoverflow.com/users/10168482/nancy"}, "reply_to_user": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1545046486, "post_id": 53814043, "comment_id": 94476922, "body": "I dont have my computer with me now... I wonder, arn&#39;t there any samples that work properly?"}, {"owner": {"reputation": 488, "user_id": 3510245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ET9Tf.jpg?s=128&g=1", "display_name": "Krizzu", "link": "https://stackoverflow.com/users/3510245/krizzu"}, "edited": false, "score": 0, "creation_date": 1545046900, "post_id": 53814043, "comment_id": 94477147, "body": "Class <code>DaggerAppComponent</code> is created by Dagger for you, from your Component. If your component name&#39;s <code>MyComponent</code>, generated class would be <code>DaggerMyComponent</code>. But since those are build in compile time, to get those classes in IDE, you have to hit &quot;Build project&quot;."}, {"owner": {"reputation": 838, "user_id": 8618875, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2b22b449bde41ff43cda11ecb7bf737b?s=128&d=identicon&r=PG&f=1", "display_name": "clauub", "link": "https://stackoverflow.com/users/8618875/clauub"}, "edited": false, "score": 0, "creation_date": 1545048357, "post_id": 53814043, "comment_id": 94477908, "body": "Take a look over this link, it should help you to get an idea and start working. <a href=\"https://github.com/jurajkusnier/android-app-template\" rel=\"nofollow noreferrer\">github.com/jurajkusnier/android-app-template</a>"}], "owner": {"reputation": 129, "user_id": 10168482, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OvJ5Z8Ih90k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oKAjotpuE9kPizy0X8JOntve0bfQ/mo/photo.jpg?sz=128", "display_name": "Nancy", "link": "https://stackoverflow.com/users/10168482/nancy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545048095, "creation_date": 1545045175, "last_edit_date": 1545048095, "question_id": 53814043, "link": "https://stackoverflow.com/questions/53814043/unable-to-generate-daggerappcomponent-in-dagger2-in-kotlin", "title": "Unable to generate DaggerAppComponent in Dagger2 in kotlin", "body": "<p>I googled and tried all things to generate DaggerAppComponent in my simple kotlin project. Im totally new to Dagger2 and would be lovely if you can give me a sample or tips to this problem! I would love to hear from you! </p>\n\n<p>Cant generate the DaggerAppComponent...</p>\n\n<pre><code>override fun onCreate() {\n    super.onCreate()\n   DaggerAppComponent.builder().build().inject(this)\n</code></pre>\n\n<p>I realized the Dagger2 doesnt generate when I add inject method in AppComponent.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-4.4-kitkat"], "owner": {"reputation": 1017, "user_id": 2282619, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/8JikL.jpg?s=128&g=1", "display_name": "Tibor Nagy", "link": "https://stackoverflow.com/users/2282619/tibor-nagy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545043931, "creation_date": 1545043931, "question_id": 53813680, "link": "https://stackoverflow.com/questions/53813680/why-kotlin-android-app-gets-java-lang-verifyerror-kotlinnamesannotationintrospec", "title": "Why Kotlin Android APP gets java.lang.VerifyError KotlinNamesAnnotationIntrospector on KitKat", "body": "<p>I'm using Android Studio 3.2.1 on Ubuntu 16.04 with Kotlin plug-in 1.3.11. If I deploy my app with Android Studio to a virtual device with KitKat (API 19), the app is started but immediately crashes. The OS says \"Unfortunately,  has stopped. I see in the debugger console the following exception:</p>\n\n<pre><code>W/dalvikvm: threadid=1: thread exiting with uncaught exception (group=0x9ccbbb20)\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: info.diethealth.app, PID: 2583\n    java.lang.VerifyError: com/fasterxml/jackson/module/kotlin/KotlinNamesAnnotationIntrospector\n        at com.fasterxml.jackson.module.kotlin.KotlinModule.setupModule(KotlinModule.kt:40)\n        at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:722)\n        at com.fasterxml.jackson.module.kotlin.ExtensionsKt.registerKotlinModule(Extensions.kt:15)\n        at info.diethealth.app.business.dagger.DietHealthApiModule.provideObjectMapper(DietHealthApiModule.kt:20)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvideObjectMapperFactory.get(DietHealthApiModule_ProvideObjectMapperFactory.java:23)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvideObjectMapperFactory.get(DietHealthApiModule_ProvideObjectMapperFactory.java:8)\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvidesRetrofitFactory.get(DietHealthApiModule_ProvidesRetrofitFactory.java:37)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvidesRetrofitFactory.get(DietHealthApiModule_ProvidesRetrofitFactory.java:11)\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvidesDietHealthApiFactory.get(DietHealthApiModule_ProvidesDietHealthApiFactory.java:31)\n        at info.diethealth.app.business.dagger.DietHealthApiModule_ProvidesDietHealthApiFactory.get(DietHealthApiModule_ProvidesDietHealthApiFactory.java:10)\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n        at info.diethealth.app.business.dagger.DietHealthServicesModule_ProvidesRecipeDescriptionServiceFactory.get(DietHealthServicesModule_ProvidesRecipeDescriptionServiceFactory.java:69)\n        at info.diethealth.app.business.dagger.DietHealthServicesModule_ProvidesRecipeDescriptionServiceFactory.get(DietHealthServicesModule_ProvidesRecipeDescriptionServiceFactory.java:16)\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n        at info.diethealth.app.components.main.MainActivity_MembersInjector.injectMembers(MainActivity_MembersInjector.java:31)\n        at info.diethealth.app.components.main.MainActivity_MembersInjector.injectMembers(MainActivity_MembersInjector.java:8)\n        at info.diethealth.app.business.dagger.DaggerDietHealthComponent.inject(DaggerDietHealthComponent.java:242)\n        at info.diethealth.app.components.main.MainActivity.onCreate(MainActivity.kt:50)\n        at android.app.Activity.performCreate(Activity.java:5231)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n        at android.app.ActivityThread.access$800(ActivityThread.java:135)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:5017)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:515)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>There is no problem with Lollipop (5.0, 5.1) or Marshmallow (6.0).</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1545044639, "post_id": 53813648, "comment_id": 94475958, "body": "never comes to what point? Did you set a breakpoint? Where?"}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545044934, "post_id": 53813648, "comment_id": 94476112, "body": "@TimCastelijns ....   break point at <code>Fabric.with(this, Crashlytics())</code>"}, {"owner": {"reputation": 300, "user_id": 6537788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a031cde073f8451baeffbc426ba7bb3?s=128&d=identicon&r=PG&f=1", "display_name": "asim", "link": "https://stackoverflow.com/users/6537788/asim"}, "edited": false, "score": 0, "creation_date": 1545045907, "post_id": 53813648, "comment_id": 94476629, "body": "CaringApplication  and manifest has same package name."}], "answers": [{"comments": [{"owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "reply_to_user": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545047063, "post_id": 53813793, "comment_id": 94477228, "body": "No there is no changes try to comment this line ` Fabric.with(this,Crashlytics())` and break point at ` super.onCreate()`"}], "tags": [], "owner": {"reputation": 768, "user_id": 5346051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZG8t.jpg?s=128&g=1", "display_name": "Mohammed Mahmoud", "link": "https://stackoverflow.com/users/5346051/mohammed-mahmoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1545044343, "creation_date": 1545044343, "answer_id": 53813793, "question_id": 53813648, "link": "https://stackoverflow.com/questions/53813648/how-to-declare-application-class-properly-in-kotlin-android/53813793#53813793", "title": "How to declare application class properly in kotlin android", "body": "<p>Make sure that your package name is correct when you add <code>android:name</code> value </p>\n\n<p>Make sure also that your build complete successfully without any problem </p>\n\n<p>Try to invalidate the cache and restart </p>\n"}, {"comments": [{"owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "reply_to_user": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545130353, "post_id": 53813850, "comment_id": 94511162, "body": "Sorry,but working(Kotlin) on my side,De-Bugging with break-points might help"}], "tags": [], "owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "is_accepted": true, "score": 0, "last_activity_date": 1545044497, "creation_date": 1545044497, "answer_id": 53813850, "question_id": 53813648, "link": "https://stackoverflow.com/questions/53813648/how-to-declare-application-class-properly-in-kotlin-android/53813850#53813850", "title": "How to declare application class properly in kotlin android", "body": "<p>Instead of writing just the class name, write the entire package path \nfor eg <code>com.packageName.subPackageName.class</code> in the manifest.\nOnce written,press Ctrl+leftClick on class name , it should re-direct you to your respective Application class.</p>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 53813850, "answer_count": 2, "score": 1, "last_activity_date": 1545050809, "creation_date": 1545043825, "last_edit_date": 1545045282, "question_id": 53813648, "link": "https://stackoverflow.com/questions/53813648/how-to-declare-application-class-properly-in-kotlin-android", "title": "How to declare application class properly in kotlin android", "body": "<p>I have declared and defined the code, If I run in debug mode. My debugger never comes to that point </p>\n\n<p><strong>manifest declaration:</strong></p>\n\n<pre><code> &lt;application\n            android:name=\".application.CaringApplication\"\n            android:allowBackup=\"true\"\n            android:icon=\"@mipmap/ic_launcher\"\n            android:label=\"@string/app_name\"\n            android:roundIcon=\"@mipmap/ic_launcher_round\"\n            android:supportsRtl=\"true\"\n            android:theme=\"@style/MyAppTheme\"/&gt;\n</code></pre>\n\n<p><strong>CaringApplication.kt</strong></p>\n\n<pre><code>class CaringApplication : Application() {\n\n    val TAG = CaringApplication::class.java!!.simpleName\n\n    override fun onCreate() {\n        super.onCreate()\n        Fabric.with(this, Crashlytics())\n    }\n}\n</code></pre>\n\n<p><code>CaringApplication</code> is not reachable</p>\n"}]