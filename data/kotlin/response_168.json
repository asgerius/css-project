[{"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1522281852, "post_id": 49545776, "comment_id": 86099508, "body": "Does it say or imply, the cause of what exactly?"}, {"owner": {"reputation": 412, "user_id": 8990021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4128cc8b27011c8308a3a8a2de61c7?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio Filho", "link": "https://stackoverflow.com/users/8990021/fabio-filho"}, "edited": false, "score": 0, "creation_date": 1522331851, "post_id": 49545776, "comment_id": 86123636, "body": "I&#39;m having the same issue, I guess it&#39;s the generateStubs = true property."}, {"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "edited": false, "score": 0, "creation_date": 1522339157, "post_id": 49545776, "comment_id": 86128802, "body": "I have the same issue in Build -&gt; Sync  messages! I am looking forward to find the solution!"}], "answers": [{"comments": [{"owner": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 3, "creation_date": 1522345401, "post_id": 49560800, "comment_id": 86132375, "body": "This answer would be clearer if you fixed the grammar and explained where you&#39;ve copied and pasted these various blobs of blurb from."}, {"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "reply_to_user": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 1, "creation_date": 1522350386, "post_id": 49560800, "comment_id": 86134887, "body": "@Boann is it look better?"}, {"owner": {"reputation": 44734, "user_id": 964243, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/fL1rH.png?s=128&g=1", "display_name": "Boann", "link": "https://stackoverflow.com/users/964243/boann"}, "edited": false, "score": 2, "creation_date": 1522352520, "post_id": 49560800, "comment_id": 86135831, "body": "<i>Does</i> it look better? No. It&#39;s extremely difficult to understand."}, {"owner": {"reputation": 213, "user_id": 3642476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3d8698e645c78ea04f9738e73e3564?s=128&d=identicon&r=PG&f=1", "display_name": "oalpayli", "link": "https://stackoverflow.com/users/3642476/oalpayli"}, "edited": false, "score": 2, "creation_date": 1522671790, "post_id": 49560800, "comment_id": 86228806, "body": "you saved my day. Thank you"}, {"owner": {"reputation": 18623, "user_id": 560600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cbVC9.jpg?s=128&g=1", "display_name": "Sky Kelsey", "link": "https://stackoverflow.com/users/560600/sky-kelsey"}, "edited": false, "score": 3, "creation_date": 1525908438, "post_id": 49560800, "comment_id": 87544853, "body": "This has nothing to do with the question."}], "tags": [], "owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "is_accepted": false, "score": 1, "last_activity_date": 1522358115, "last_edit_date": 1522358115, "creation_date": 1522340365, "answer_id": 49560800, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl/49560800#49560800", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>It had worked in my project! -></p>\n\n<p>Your build.gradle Project  should look like the image below: <a href=\"https://i.stack.imgur.com/7Phhd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Phhd.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Note: It could be little bit different if you are not using Realm and some Google Services</p>\n\n<p><a href=\"https://i.stack.imgur.com/cVGmX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cVGmX.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Now, Let's start ->Go to you build.gradle App</li>\n</ul>\n\n<p><strong>Platform modules targeting Android</strong>\nThe update of the experimental multiplatform projects feature introduces support for Android platform modules. These modules should apply the corresponding plugin in the Gradle build script and can use the shared code from a common module:</p>\n\n<ol>\n<li><strong><em>You will copy this inside of your build.gradle ON THE TOP ADD IT-</em></strong> </li>\n</ol>\n\n<p><strong>Kapt diagnostic locations</strong>\nAs of now, kapt, the Kotlin annotation processing tool, can offer links to locations in the original Kotlin code rather than generated Java stubs as it reports errors encountered during annotation processing. You can enable this feature by adding these lines to the Gradle build script (build.gradle):</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-platform-android'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n// ...\n</code></pre>\n\n<p><strong>2. NOW ADD IT:</strong></p>\n\n<pre><code>kapt {\n    mapDiagnosticLocations = true\n}\ndataBinding {\n    enabled = true\n}\n</code></pre>\n\n<p><strong>IntelliJ IDEA plugin improvements</strong>\nKotlin 1.2.30 brings various improvements in the IntelliJ IDEA Kotlin plugin, including performance improvements, bug fixes, and new inspections and intentions. </p>\n\n<p><em>For some projects this is important</em> :\n<strong><em>You will copy this inside of your build.gradle-</em></strong></p>\n\n<pre><code> allprojects {\nrepositories {\n    jcenter()\n    google()\n}\n</code></pre>\n\n<p><em>It will look like the below image</em></p>\n\n<p>Now we need to add the implementations inside of <strong>dependencies{</strong>...// <strong>}</strong> build.gradle:</p>\n\n<pre><code>// Architecture Component - Room\nimplementation \"android.arch.persistence.room:runtime:1.1.0-beta1\"\nkapt \"android.arch.persistence.room:compiler:1.1.0-beta1\"\n\n// Lifecyles, LiveData and ViewModel\nkapt 'com.android.databinding:compiler:3.1.0'\n\n// ViewModel and LiveData\nimplementation \"android.arch.lifecycle:extensions:1.1.1\"\n\n// alternatively, just ViewModel\nimplementation \"android.arch.lifecycle:viewmodel:1.1.1\"\n\n// alternatively, just LiveData\nimplementation \"android.arch.lifecycle:livedata:1.1.1\"\nkapt \"android.arch.lifecycle:compiler:1.1.1\"\n\n// Room (use 1.1.0-beta1 for latest beta)\nimplementation \"android.arch.persistence.room:runtime:1.0.0\"\nkapt \"android.arch.persistence.room:compiler:1.0.0\"\n\n// Paging\nimplementation \"android.arch.paging:runtime:1.0.0-alpha7\"\n\n// Test helpers for LiveData\ntestImplementation \"android.arch.core:core-testing:1.1.1\"\n\n// Test helpers for Room\ntestImplementation \"android.arch.persistence.room:testing:1.0.0\"\n</code></pre>\n\n<p>*\n*</p>\n\n<ol>\n<li>Clean your project</li>\n<li>Build it</li>\n<li>That's it!</li>\n</ol>\n\n<p><strong>More Info:</strong>  <a href=\"https://developer.android.com/topic/libraries/architecture/adding-components.html\" rel=\"nofollow noreferrer\">Android Site</a> \n<em>:) Let me know if it works! (If it does not work, I will\n    try to help you finding a better way)</em></p>\n"}, {"tags": [], "owner": {"reputation": 5176, "user_id": 923920, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/j5nnb.jpg?s=128&g=1", "display_name": "Phileo99", "link": "https://stackoverflow.com/users/923920/phileo99"}, "is_accepted": false, "score": 23, "last_activity_date": 1533283713, "last_edit_date": 1533283713, "creation_date": 1523658664, "answer_id": 49825951, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl/49825951#49825951", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>If you are receiving the warning: </p>\n\n<blockquote>\n  <p>3rd-party Gradle plug-ins may be the cause</p>\n</blockquote>\n\n<p>in the build tab, it appears to be a known issue with Android Studio v3.1.x.<br>\nAccording to <a href=\"https://issuetracker.google.com/issues/77356844\" rel=\"noreferrer\">this</a> report, It might be related to Instant App provision, but even removing that from the run/Debug configuration does not appear to resolve the issue (at least not with my installation of AS v3.1.1).</p>\n\n<p>Please vote up <a href=\"https://issuetracker.google.com/issues/74537216\" rel=\"noreferrer\">this</a> issue so that it will be given more attention by the Android Studio team and hopefully a timely fix.</p>\n"}, {"tags": [], "owner": {"reputation": 367, "user_id": 2399352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XsHTw.png?s=128&g=1", "display_name": "Virco", "link": "https://stackoverflow.com/users/2399352/virco"}, "is_accepted": false, "score": 2, "last_activity_date": 1527125755, "creation_date": 1527125755, "answer_id": 50499671, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl/50499671#50499671", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>This happens because the Kapt annotation processor uses this directory to store Kotlin generated files. </p>\n\n<p>The directory is a new generated source set, the same way you can split your source files into <code>src/main/java</code> and <code>src/main/kotlin</code></p>\n\n<p>However the Android Gradle plugin does not recognize this directory as a generated source set.</p>\n\n<p>For the most part this is completely harmless as most 3rd party processors are generating <code>.Java</code> files. Kapt  writes them to the <code>build/generated/source/kapt</code> directory.</p>\n"}, {"comments": [{"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1529458171, "post_id": 50826203, "comment_id": 88876111, "body": "Hi, where did you find out that there&#39;s already a fix available?"}, {"owner": {"reputation": 1076, "user_id": 132510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db3fd6925bf6cea972323a3d2f98afe?s=128&d=identicon&r=PG", "display_name": "A. L. Flanagan", "link": "https://stackoverflow.com/users/132510/a-l-flanagan"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1529532435, "post_id": 50826203, "comment_id": 88912855, "body": "At the very end of the issue. I see there are some additional &quot;not fixed&quot; comments on there now."}], "tags": [], "owner": {"reputation": 1076, "user_id": 132510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db3fd6925bf6cea972323a3d2f98afe?s=128&d=identicon&r=PG", "display_name": "A. L. Flanagan", "link": "https://stackoverflow.com/users/132510/a-l-flanagan"}, "is_accepted": false, "score": 1, "last_activity_date": 1528839572, "creation_date": 1528839572, "answer_id": 50826203, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl/50826203#50826203", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>According to this <a href=\"https://issuetracker.google.com/issues/74537216\" rel=\"nofollow noreferrer\">Android Studio issue</a>, \"The root issue with Kapt is that the Kapt resolver in IDEA from JetBrains registers those folders as 'being in a invalid path'. This is a misuse of the API.\"</p>\n\n<p>As of 6/11/2018, there's a fix in place to double-check those messages and suppress ones about paths which are actually valid.</p>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 7611966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8d3f91690b6d3eec34d2807739adfa?s=128&d=identicon&r=PG&f=1", "display_name": "A Mo", "link": "https://stackoverflow.com/users/7611966/a-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1538131036, "last_edit_date": 1538131036, "creation_date": 1538130631, "answer_id": 52553422, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl/52553422#52553422", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>I delete two folder app\\build\\generated\\source\\kaptKotlin\\debug and app\\build\\generated\\source\\kaptKotlin\\release (\"debug\" and \"release\") and add\nin gradle:</p>\n\n<pre><code>kapt {\n        mapDiagnosticLocations = true\n    }\n</code></pre>\n\n<p>then the project is sync without problem.</p>\n"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8539, "favorite_count": 3, "answer_count": 5, "score": 28, "last_activity_date": 1538131036, "creation_date": 1522279700, "last_edit_date": 1522344776, "question_id": 49545776, "link": "https://stackoverflow.com/questions/49545776/why-is-3rd-party-gradle-plug-ins-may-be-the-cause-showing-after-updating-gradl", "title": "Why is &quot;3rd-party Gradle plug-ins may be the cause&quot; showing after updating Gradle to 3.1.0?", "body": "<p>After updating Gradle to <code>com.android.tools.build:gradle:3.1.0</code>, in the log I now see:</p>\n\n<blockquote>\n  <p>Folder\n  E:\\WORK\\App\\car_android\\carapp\\build\\generated\\source\\kaptKotlin\\devRelease</p>\n  \n  <p>3rd-party Gradle plug-ins may be the cause</p>\n</blockquote>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-3.1"], "comments": [{"owner": {"reputation": 7287, "user_id": 258848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2Ckug.jpg?s=128&g=1", "display_name": "dimsuz", "link": "https://stackoverflow.com/users/258848/dimsuz"}, "edited": false, "score": 0, "creation_date": 1522275547, "post_id": 49545037, "comment_id": 86097821, "body": "Did you upgrade android gradle plugin to the latest version? It helped resolve something related to unresolved references for my collegue today (I overheard the conversation)"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1522276844, "post_id": 49545037, "comment_id": 86098205, "body": "It looks like you are not picking up symbols from libraries (e.g., <code>appcompat-v7</code>). If you have not done so already, try the standard fixes: Build &gt; Clean Project, then Build &gt; Rebuild Project (from the AS main menu)."}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 7287, "user_id": 258848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2Ckug.jpg?s=128&g=1", "display_name": "dimsuz", "link": "https://stackoverflow.com/users/258848/dimsuz"}, "edited": false, "score": 0, "creation_date": 1522312892, "post_id": 49545037, "comment_id": 86110154, "body": "Thanks for the suggestions, @dimsuz and @CommonsWare! Unfortunately, cleaning &amp; rebuilding has no effect, and if I right click on the Gradle plugin in my settings, the &quot;update plugin&quot; option is greyed out. It&#39;s currently version &quot;173.4301.25&quot;."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522315404, "post_id": 49545037, "comment_id": 86111824, "body": "you can try to do a Gradle Sync manually"}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522315581, "post_id": 49545037, "comment_id": 86111951, "body": "@EpicPandaForce Ah, good idea. Unfortunately, while hitting the manual Gradle sync button makes it successfully perform one (and build the project successfully too), it sadly does not resolve the issue."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522315625, "post_id": 49545037, "comment_id": 86111985, "body": "You can also try &quot;File -&gt; Invalidate Caches and Restart&quot;"}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522319828, "post_id": 49545037, "comment_id": 86114877, "body": "@EpicPandaForce Yep, tried that too - it&#39;s had no effect either :-("}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "edited": false, "score": 0, "creation_date": 1522347734, "post_id": 49545037, "comment_id": 86133500, "body": "I&#39;m very new to all this, so it probably won&#39;t help, but as I&#39;m trying to work through my own issues, I came across what seems to be similar to this problem. I was able to fix it by adding <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> to the <code>app&#47;build.gradle</code> file. Am curious to know if that helps yours too."}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "edited": false, "score": 0, "creation_date": 1522349720, "post_id": 49545037, "comment_id": 86134541, "body": "@CrazyTrain Ah, thanks for the suggestion! I&#39;ve checked, and I have that line in already on line #5 :-("}, {"owner": {"reputation": 85, "user_id": 3527606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rFdH.png?s=128&g=1", "display_name": "Bashta", "link": "https://stackoverflow.com/users/3527606/bashta"}, "edited": false, "score": 0, "creation_date": 1540558136, "post_id": 49545037, "comment_id": 92921629, "body": "File -&gt; Invalidate Caches and Restart doesn&#39;t help either helped me resolve the issue."}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 85, "user_id": 3527606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rFdH.png?s=128&g=1", "display_name": "Bashta", "link": "https://stackoverflow.com/users/3527606/bashta"}, "edited": false, "score": 0, "creation_date": 1540564357, "post_id": 49545037, "comment_id": 92925327, "body": "@Bashta Glad you fixed your issue! If <code>File -&gt; Invalidate Caches and Restart</code> fixed your issue, then you might have had a slightly different issue tot he one described here :-)"}, {"owner": {"reputation": 131, "user_id": 5468224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ya8qcyFtvcw/AAAAAAAAAAI/AAAAAAAAATs/ojEl8_7uB1Y/photo.jpg?sz=128", "display_name": "snti", "link": "https://stackoverflow.com/users/5468224/snti"}, "edited": false, "score": 0, "creation_date": 1542133958, "post_id": 49545037, "comment_id": 93456829, "body": "Today I updated Android Studio to 3.2.1 version and I founded this error,  I just execute the invalidate cache and restart option and the errors were fixed."}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 131, "user_id": 5468224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ya8qcyFtvcw/AAAAAAAAAAI/AAAAAAAAATs/ojEl8_7uB1Y/photo.jpg?sz=128", "display_name": "snti", "link": "https://stackoverflow.com/users/5468224/snti"}, "edited": false, "score": 0, "creation_date": 1542227782, "post_id": 49545037, "comment_id": 93497410, "body": "@SantiagoLaport Great! Glad you fixed your issue. However, I suspect that the issue you encountered is distinct and different to the one I&#39;ve described here."}, {"owner": {"reputation": 131, "user_id": 5468224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ya8qcyFtvcw/AAAAAAAAAAI/AAAAAAAAATs/ojEl8_7uB1Y/photo.jpg?sz=128", "display_name": "snti", "link": "https://stackoverflow.com/users/5468224/snti"}, "edited": false, "score": 0, "creation_date": 1542302158, "post_id": 49545037, "comment_id": 93529840, "body": "Hi @starbeamrainbowlabs, the issue seemed to be the same, but you know, in Android Studio all could be possible haha, regards!"}], "answers": [{"comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 1, "creation_date": 1526241821, "post_id": 49595693, "comment_id": 87656064, "body": "I&#39;m having the same (or similar) problem and this did not work for me. Ubuntu 16.04 LTS. I&#39;ve actually gotten similar issues with AS 3.2 alpha resolved, so I don&#39;t get why AS 3.1 is giving me so much trouble."}, {"owner": {"reputation": 1467, "user_id": 2733098, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Axeif.jpg?s=128&g=1", "display_name": "Shanki Bansal", "link": "https://stackoverflow.com/users/2733098/shanki-bansal"}, "edited": false, "score": 0, "creation_date": 1601890725, "post_id": 49595693, "comment_id": 113536277, "body": "After deleting .idea folder, I opted &quot;Invalidate Caches / Restart&quot;. It makes studio work."}], "tags": [], "owner": {"reputation": 1101, "user_id": 9450729, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Slava Glushenkov", "link": "https://stackoverflow.com/users/9450729/slava-glushenkov"}, "is_accepted": true, "score": 86, "last_activity_date": 1522566742, "creation_date": 1522566742, "answer_id": 49595693, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/49595693#49595693", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<ol>\n<li>Exit Studio.</li>\n<li>Delete .idea/ (seems to me that's most important), build/, app/build directories.</li>\n<li>Start Studio</li>\n<li>Set Settings -> Build -> Gradle settings back (last stable Gradle local distribution in my case).</li>\n<li>Clean&amp;rebuild project.</li>\n</ol>\n\n<p>Helps me.</p>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 1077411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b4f064bbe5902c1c0b39bd466dc462?s=128&d=identicon&r=PG", "display_name": "Happy Dev", "link": "https://stackoverflow.com/users/1077411/happy-dev"}, "edited": false, "score": 1, "creation_date": 1526952914, "post_id": 49743044, "comment_id": 87930621, "body": "Helped me with AS 3.1"}, {"owner": {"reputation": 642, "user_id": 1805974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c0cea5c950a2b0d4298a66ecc958fbcb?s=128&d=identicon&r=PG", "display_name": "Henrik B&#248;gelund Lavstsen", "link": "https://stackoverflow.com/users/1805974/henrik-b%c3%b8gelund-lavstsen"}, "edited": false, "score": 1, "creation_date": 1527578703, "post_id": 49743044, "comment_id": 88166255, "body": "Worked for me on windows, error happend after returning to old code with new version of android studio (i think)"}, {"owner": {"reputation": 13421, "user_id": 2298241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kWH39.jpg?s=128&g=1", "display_name": "Ivo Stoyanov", "link": "https://stackoverflow.com/users/2298241/ivo-stoyanov"}, "edited": false, "score": 1, "creation_date": 1532610020, "post_id": 49743044, "comment_id": 90046448, "body": "Thanks! Worked for me on Mac."}, {"owner": {"reputation": 1279, "user_id": 2133585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qd4Pp.jpg?s=128&g=1", "display_name": "Kirill Vashilo", "link": "https://stackoverflow.com/users/2133585/kirill-vashilo"}, "edited": false, "score": 1, "creation_date": 1533117344, "post_id": 49743044, "comment_id": 90224892, "body": "Thanks! Helped with AS 3.1.3 on Mac"}, {"owner": {"reputation": 1053, "user_id": 1377819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0cd6f34ef2fc7b2dc1d5c014e3014c?s=128&d=identicon&r=PG", "display_name": "Hoang Nguyen Huu", "link": "https://stackoverflow.com/users/1377819/hoang-nguyen-huu"}, "edited": false, "score": 4, "creation_date": 1538710331, "post_id": 49743044, "comment_id": 92246429, "body": "Still can not understand while this kind of easy-to-reproduce-bug can pass the test at Google?"}, {"owner": {"reputation": 1186, "user_id": 1434047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaa451e2b93ad55c9ff5107be30b5a1?s=128&d=identicon&r=PG", "display_name": "Bink", "link": "https://stackoverflow.com/users/1434047/bink"}, "edited": false, "score": 1, "creation_date": 1544030074, "post_id": 49743044, "comment_id": 94134688, "body": "This alone wasn\u2019t enough for me.  I also had to do File and Invalidate Caches / Restart after this."}], "tags": [], "owner": {"reputation": 903, "user_id": 1106153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8f142c1d45da90083e28ff1e802ed43?s=128&d=identicon&r=PG", "display_name": "VikingBadger", "link": "https://stackoverflow.com/users/1106153/vikingbadger"}, "is_accepted": false, "score": 79, "last_activity_date": 1523842838, "last_edit_date": 1523842838, "creation_date": 1523316042, "answer_id": 49743044, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/49743044#49743044", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>Delete <code>{projectDir}/.idea/libraries</code>, then go to File -> Sync Project with Gradle Files.</p>\n"}, {"comments": [{"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 1, "creation_date": 1541613363, "post_id": 52906283, "comment_id": 93278896, "body": "I use <code>com.android.tools.build:gradle:3.2.1</code> and still have this problem. @Slava Glushenkov &#39;s solution did work for me."}, {"owner": {"reputation": 3491, "user_id": 498079, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f6fb4c7291989df5bf5fee8fe229c71?s=128&d=identicon&r=PG", "display_name": "ArdenDev", "link": "https://stackoverflow.com/users/498079/ardendev"}, "edited": false, "score": 0, "creation_date": 1546931537, "post_id": 52906283, "comment_id": 95006281, "body": "I&#39;m on AS 3.2.1 .... Invalidate and Restart option worked for me. Thanks @Dimitar"}, {"owner": {"reputation": 5477, "user_id": 125946, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ccdf909d5c080cd1208f647f1b93998d?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/125946/victor"}, "edited": false, "score": 0, "creation_date": 1607637328, "post_id": 52906283, "comment_id": 115343159, "body": "this is sort of was what worked for me. except I went to the latest stable version of gradle which was newer than the one i was using. None of the other solutions worked for me."}], "tags": [], "owner": {"reputation": 309, "user_id": 8867053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5ea316cc49c640f528417d6025c3e6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar", "link": "https://stackoverflow.com/users/8867053/dimitar"}, "is_accepted": false, "score": 10, "last_activity_date": 1546183882, "last_edit_date": 1546183882, "creation_date": 1540042786, "answer_id": 52906283, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/52906283#52906283", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I had the same problem on Android Studio 3.2.1.</p>\n\n<p>The solution was to use stable 'com.android.tools.build:gradle:3.2.1', not alpha...</p>\n\n<p>In the project build.gradle change the version like the code below (or if there is a newer stable version)</p>\n\n<pre><code>dependencies {\n  classpath 'com.android.tools.build:gradle:3.2.1'\n} \n</code></pre>\n\n<p>If this doesn't solve your problem than in File >> choose Invalidate caches/Restart... and on the next dialog choose Invalidate and Restart</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ux53d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ux53d.png\" alt=\"1 step\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sMBOU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sMBOU.png\" alt=\"2 step\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1759, "user_id": 4395804, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/XtLmc.png?s=128&g=1", "display_name": "realpranav", "link": "https://stackoverflow.com/users/4395804/realpranav"}, "is_accepted": false, "score": 0, "last_activity_date": 1545900846, "creation_date": 1545900846, "answer_id": 53942246, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/53942246#53942246", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>For me this step works : </p>\n\n<p>I)  Delete .idea folder from the android studio</p>\n\n<p>II) Go to File > Invalidated caches/ Restarts</p>\n\n<p>III) It will ask you to confirm and click on invalidate and restart.</p>\n\n<p>IV) Go to Build > Clean project</p>\n\n<p>V) Go to Build > Rebuild project</p>\n\n<p>Try with this.</p>\n\n<p>Happy Coding..!</p>\n"}, {"comments": [{"owner": {"reputation": 480, "user_id": 6333971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7585e678f4fcf5a484f46285da9994?s=128&d=identicon&r=PG&f=1", "display_name": "b devloper", "link": "https://stackoverflow.com/users/6333971/b-devloper"}, "edited": false, "score": 0, "creation_date": 1578571403, "post_id": 55954797, "comment_id": 105486085, "body": "Yeah I tried everything but my problem is solved only by disable kotlin plugin-&gt; restart , Enable plugin and -&gt; invalid catches and restart that&#39;s solved my prblem"}, {"owner": {"reputation": 63, "user_id": 1085701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/23419c2b86a0a7cdd8e8de5dcb17ae9a?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1085701/luis"}, "edited": false, "score": 0, "creation_date": 1616419854, "post_id": 55954797, "comment_id": 117988526, "body": "For me disabling kotling prevents AS from even starting, I have to delete the disabledplugins.txt from the AS main folder. But also none of the other solutions worked so far, what a huge f*** up, when you have to work on your code but a simple error hangs everything."}], "tags": [], "owner": {"reputation": 6697, "user_id": 1368721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ty2vb.png?s=128&g=1", "display_name": "Diego Palomar", "link": "https://stackoverflow.com/users/1368721/diego-palomar"}, "is_accepted": false, "score": 3, "last_activity_date": 1556807911, "creation_date": 1556807911, "answer_id": 55954797, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/55954797#55954797", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I tried all the solutions proposed here but they did not work. What worked for me was to disable and then re-enable the Kotlin plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 4278382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead516c10c2f14de85731b481d53ebab?s=128&d=identicon&r=PG&f=1", "display_name": "dbog", "link": "https://stackoverflow.com/users/4278382/dbog"}, "is_accepted": false, "score": 3, "last_activity_date": 1574242241, "last_edit_date": 1574242241, "creation_date": 1571731430, "answer_id": 58499645, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/58499645#58499645", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I had the same problem. None of the \"fixes\" listed above helped.</p>\n\n<p>Just run in a terminal:</p>\n\n<pre><code>./gradlew --stop\n./gradlew --rerun-tasks assemble{flavour}\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>./gradlew --stop\n./gradlew --rerun-tasks assembleDevDebug\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 5897324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c09fb21483c5541c5e43e882d8e4ff0?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Miller", "link": "https://stackoverflow.com/users/5897324/richard-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1577870127, "creation_date": 1577870127, "answer_id": 59551242, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/59551242#59551242", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>If it happens to you after refactoring, and you've tried all the mentioned below (I will elaborate the list in a moment), try going to the class which has unresolved references and <strong>delete all its imports</strong>.\nThen do the imports again, making sure you import the <strong>correct classes</strong>.</p>\n\n<p>I tried the following which didn't worked for me:</p>\n\n<ul>\n<li>Invalidate Cache and restart Android Studio</li>\n<li>Delete .build, app/build, and .idea</li>\n<li>Sync Gradle files</li>\n<li>Enable and Disable the Kotlin plugin.</li>\n<li>Clean/Rebuild project</li>\n<li>Restart my pc (MacOS).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 445, "user_id": 8665118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJzGg.jpg?s=128&g=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/8665118/anna"}, "is_accepted": false, "score": 0, "last_activity_date": 1580716053, "creation_date": 1580716053, "answer_id": 60035058, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/60035058#60035058", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>It helped when I deleted Android Studio and installed again. The advices above didn't help.</p>\n"}, {"comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 0, "creation_date": 1589393281, "post_id": 61232882, "comment_id": 109279391, "body": "It wasn&#39;t specifically the <code>R</code> import for me - but I wound up deleting <i>all</i> of the imports &amp; just re-adding them. For whatever insane reason that worked."}], "tags": [], "owner": {"reputation": 81, "user_id": 4603125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/81hh4.jpg?s=128&g=1", "display_name": "SmokeyTBear", "link": "https://stackoverflow.com/users/4603125/smokeytbear"}, "is_accepted": false, "score": 5, "last_activity_date": 1586965513, "creation_date": 1586965513, "answer_id": 61232882, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/61232882#61232882", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I had a very similar issue:</p>\n\n<p><em>Layout resources (ie: activity_view.xml) that worked fine would all of a sudden not be detected</em> or show up in the autocomplete lists, etc.</p>\n\n<p>I tried all these \"delete .idea folder/invalidate caches/restart Android studio\" solutions and nothing worked.. </p>\n\n<p>Solution that worked:</p>\n\n<p>Turned out that an import statement of the entire R package (<code>import android.R</code>) had at some point been added to the import statements and was somehow creating the issue (for specific layout resources only for some bizarre reason)</p>\n\n<p><strong>Removing <code>import android.R</code> instantly resolved the issue, and putting it back recreated it instantly as well.</strong></p>\n\n<p>Hope that helps any that come across this post for the same/similar reason</p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13462159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p1qlW.jpg?s=128&g=1", "display_name": "petprog", "link": "https://stackoverflow.com/users/13462159/petprog"}, "is_accepted": false, "score": 0, "last_activity_date": 1588532013, "creation_date": 1588532013, "answer_id": 61579952, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/61579952#61579952", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>What helped me was\nUsing AS 3.6.3\nI go to build.gradle (module: app)\nchange the buildToolsVersion from \"29.0.3\" to \"28.0.3\"\nsync my project and it worked</p>\n\n<p>I think there was something wrong with the 29.0.3 version.</p>\n\n<p>I uninstall the 29.0.3 version and install it again and use it.\n29.0.3 version is working perfectly for me</p>\n"}, {"comments": [{"owner": {"reputation": 2194, "user_id": 1146089, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/1XtJn.png?s=128&g=1", "display_name": "Giuseppe Garassino", "link": "https://stackoverflow.com/users/1146089/giuseppe-garassino"}, "edited": false, "score": 1, "creation_date": 1615133352, "post_id": 61843069, "comment_id": 117591504, "body": "This IS the answer!!"}], "tags": [], "owner": {"reputation": 229, "user_id": 7820782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2pGWXjH8Mys/AAAAAAAAAAI/AAAAAAAAACU/TT-FVbm5SoQ/photo.jpg?sz=128", "display_name": "Adriatik Gashi", "link": "https://stackoverflow.com/users/7820782/adriatik-gashi"}, "is_accepted": false, "score": 2, "last_activity_date": 1589660545, "creation_date": 1589660545, "answer_id": 61843069, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/61843069#61843069", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>Make sure you have not <strong>import android.R</strong> in any of your activities/fragments. This can happened when Android Studio tries to convert code from Java to Kotlin.</p>\n\n<p>Delete this line and try to run your project. </p>\n\n<p><a href=\"https://i.stack.imgur.com/5XkQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5XkQU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3302647, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784a183178e06cdacc78678f3779cf7d?s=128&d=identicon&r=PG&f=1", "display_name": "shafeeq", "link": "https://stackoverflow.com/users/3302647/shafeeq"}, "is_accepted": false, "score": 0, "last_activity_date": 1589786970, "creation_date": 1589786970, "answer_id": 61864488, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/61864488#61864488", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>Goto File->Invalidate Cache/Restart works for me</p>\n"}, {"tags": [], "owner": {"reputation": 14375, "user_id": 840669, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZwzFL.jpg?s=128&g=1", "display_name": "Rajkiran", "link": "https://stackoverflow.com/users/840669/rajkiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1597073531, "creation_date": 1597073531, "answer_id": 63343283, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/63343283#63343283", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>Read till the end :)</p>\n<p>Surprisingly after so many answers, none of them worked for me.\nI figured out the issue was with the android tools version and gradle distribution.</p>\n<p>I upgraded classpath from</p>\n<p><code>'com.android.tools.build:gradle:3.6.1'</code></p>\n<p>to <code>'com.android.tools.build:gradle:4.0.1'</code></p>\n<p>and also upgraded distributionUrl from</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip</code></p>\n<p>to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip</code></p>\n<p>So, if clean/build, invalidating cache, deleting .idea doesn't work for you. Please try upgrading (or downgrading if your recent change caused this issue) these versions.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 1085701, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/23419c2b86a0a7cdd8e8de5dcb17ae9a?s=128&d=identicon&r=PG", "display_name": "Luis", "link": "https://stackoverflow.com/users/1085701/luis"}, "is_accepted": false, "score": 0, "last_activity_date": 1616422771, "creation_date": 1616422771, "answer_id": 66747884, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor/66747884#66747884", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I tried every other solution given here or anywhere else, what helped me\nwas changing the way my plugins were in the gradle file.</p>\n<p>I changed it to this format:</p>\n<pre><code>plugins{\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n    id 'com.google.gms.google-services'\n}\n</code></pre>\n<p>After this, invalidated caches and restarted, rebuilt the project and all was fine.\nAmazing how this simple nothing results in a colossal error.</p>\n"}], "owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34067, "favorite_count": 25, "accepted_answer_id": 49595693, "answer_count": 14, "score": 72, "last_activity_date": 1616422771, "creation_date": 1522275264, "last_edit_date": 1522490163, "question_id": 49545037, "link": "https://stackoverflow.com/questions/49545037/android-studio-3-1-erroneous-unresolved-references-in-editor", "title": "Android Studio 3.1: Erroneous unresolved references in editor", "body": "<p>I'm running Ubuntu 17.10, and I've just updated <em>Android Studio</em> from version 3.0.1 to 3.1. Here's the version information in Help -> About:</p>\n\n<pre><code>Android Studio 3.1\nBuild #AI-173.4670197, built on March 22, 2018\nJRE: 1.8.0_152-release-1024-b01 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nLinux 4.13.0-37-generic\n</code></pre>\n\n<p>Unfortunately, while the IDE was able to resolve android-specific references before in my (first ever) Kotlin project, in the new version it appears unable to. Here's a screenshot showing what I mean:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zFa9n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zFa9n.png\" alt=\"\"></a></p>\n\n<p>In <em>Android Studio</em> 3.1, it's claiming that core Android functions such as <code>setContentView()</code> don't exist, and keeps prompting me to create an abstract function for it - which I clearly don't want to do. However, if I hit the build button, I get a <code>BUILD SUCCESSFUL in 8s</code>.</p>\n\n<p>Does anyone know why my editor is doing this, and how I get get Android-related functions and classes to resolve correctly again?</p>\n\n<p><strong>Edit:</strong> Update: I've got more information on the issue now, but it's still not resolved:</p>\n\n<ul>\n<li>Build -> Clean and then Build -> Rebuild doesn't help.</li>\n<li>File -> Invalidate Caches and Restart doesn't help either</li>\n<li>Neither does a manual Gradle sync.</li>\n<li>A different project that's written in Java instead of Kotlin works fine.</li>\n<li><a href=\"https://github.com/sbrl/Pepperminty-Wiki-Client-Android\" rel=\"noreferrer\">Link to the project I'm experiencing issues with</a> (it's open-source)</li>\n</ul>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-transitions", "android-studio-3.1"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522277048, "post_id": 49544834, "comment_id": 86098265, "body": "The tutorial was probably doing MinSDK 21+ while you&#39;re stuck with MinSDK some number lower"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522277479, "post_id": 49544834, "comment_id": 86098383, "body": "@EpicPandaForce: Thanks. I do have <code>android { defaultConfig { minSdkVersion 21 ...</code> in a <code>build.gradle</code> file, if that&#39;s what you meant. All this Android/Gradle stuff is new to me, so any other tips would be appreciated."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522277881, "post_id": 49544834, "comment_id": 86098485, "body": "welp, there goes my guess -_- transitions were added in api 21, but i guess that is not the cause"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522278245, "post_id": 49544834, "comment_id": 86098583, "body": "@EpicPandaForce: Thanks for the guess. Any advice on how to check if the framework is on my machine? Not quite sure yet how to navigate to the right locations."}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522317627, "post_id": 49544834, "comment_id": 86113422, "body": "Its not just Transitions that are gone. All the picker widgets have vanished. I&#39;ve opened a bug report."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "reply_to_user": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522325553, "post_id": 49544834, "comment_id": 86118775, "body": "@MikeJames: Thank you for filing the report. I&#39;ve reinstalled multiple times, but no luck yet. Hopefully I&#39;ll get this figured out before long."}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522347128, "post_id": 49544834, "comment_id": 86133234, "body": "@Crazy Train: I wouldn&#39;t hold your breath it takes ages to get a bug report processed and then it mostly just gets a request for more information. I can&#39;t understand why there isn&#39;t more complaining some of the missing widgets are used a lot (I think)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "reply_to_user": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522351494, "post_id": 49544834, "comment_id": 86135409, "body": "@MikeJames: Looking at the first screenshot on <a href=\"https://developer.android.com/studio/write/layout-editor.html\" rel=\"nofollow noreferrer\">this page of their documentation</a>, it looks just like mine, so I guess this isn&#39;t a bug. I just need to figure out how they now do the transitions shown in the tutorial."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "edited": false, "score": 0, "creation_date": 1522418306, "post_id": 49572013, "comment_id": 86158963, "body": "Thank you for the helpful insights. I understand what you mean about it being a bug. I did try installing version <b>3</b>, and it too had the same problem. I also tried installing <b>2.3.3</b>, which worked, but then used the automatic upgrade to <b>3.1</b>, which again had the issue. So I may be stuck coding it by hand for now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "edited": false, "score": 0, "creation_date": 1522418433, "post_id": 49572013, "comment_id": 86159019, "body": "I wonder if <b>3</b> works for you because you were able to update from <b>2.x.x</b> to <b>3</b> instead of <b>3.1</b>. Maybe if I reinstall <b>2.3.3</b> and then manually install <b>3</b> without first deleting all the supporting files, which is what I was doing. Anyway, thanks again for the help!"}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522425558, "post_id": 49572013, "comment_id": 86162647, "body": "Simply download the 3.0 zip file and unzip it. Then use the studio32 or 64 file in the bin directory to run Android Studio. You don&#39;t have to go through the upgrade steps. As long as you unzip to different folders you can have as many installations of Android Studio as you like.  The bug report is still just sitting in the queue. What I cannot understand is why there aren&#39;t more users wondering where the widgets have gone."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "edited": false, "score": 0, "creation_date": 1522434810, "post_id": 49572013, "comment_id": 86166873, "body": "That was super helpful. I was simply able to unzip the <b>3.0.1</b> and do a drop-in downgrade from <b>3.1</b>. Not sure why it didn&#39;t work with a clean install. Anyway, I&#39;ve been reading through the official docs, but would like to first get through the tutorial. Now I&#39;m back on track. Thanks again!"}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522486960, "post_id": 49572013, "comment_id": 86179990, "body": "The clean install didn&#39;t work probably because it isn&#39;t a clean install - it installs to the same directory that you have Android Studio in and its only clean if you first delete everything - which is super scary at the best of times. :-) Still no word on the bug report."}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1522574604, "post_id": 49572013, "comment_id": 86200423, "body": "Just had time to check. If you switch to text mode in 3.1 you can start to type one of the missing widgets - I tried &lt;TimePicker and you will be offered a completion. If you accept the defaults and set a height and width - also autocomplete - then you can switch back to the Design mode and work with the widget in the usual way."}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1523348149, "post_id": 49572013, "comment_id": 86511677, "body": "Android Studio just upgraded to 3.1.1 still no sign of missing widgets. Still no response on any of the bug reports."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "edited": false, "score": 0, "creation_date": 1523365122, "post_id": 49572013, "comment_id": 86523245, "body": "Yeah, I recently checked 3.2 Canary 9, and it&#39;s the same situation. Hope they make a decision one way or the other."}, {"owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "edited": false, "score": 0, "creation_date": 1528392927, "post_id": 49572013, "comment_id": 88501816, "body": "Still no word - the bug reports are still being ignored. If anyone has any idea how to get the message to the Android Studio team..."}], "tags": [], "owner": {"reputation": 669, "user_id": 2604619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e499dc76d6ebef69025b072d2f8a2d03?s=128&d=identicon&r=PG", "display_name": "Mike James", "link": "https://stackoverflow.com/users/2604619/mike-james"}, "is_accepted": true, "score": 2, "last_activity_date": 1522402886, "creation_date": 1522402886, "answer_id": 49572013, "question_id": 49544834, "link": "https://stackoverflow.com/questions/49544834/android-studio-3-1-doesnt-show-transitions-category/49572013#49572013", "title": "Android Studio 3.1 doesn&#39;t show &quot;Transitions&quot; category", "body": "<p>@Crazy Train: I agree it isn't a bug in the sense they intended the redesign. I don't think that it was intended that widgets would be dropped. There was no discussion during the beta and I assumed it was an oversight that would be corrected in the final version. If they plan to simple drop widgets without discussion or notification this IS a bug.\nThere are three ways to get around the problem:</p>\n\n<ol>\n<li>go back to 3.0 - which is what I've done. It works and you don't miss anything unless you are using C/C++ and even then not a lot.</li>\n<li>Enter the XML manually into the file -it might render in the layout editor I haven't checked.</li>\n<li>Write the code to do the transitions. This is the method that most Android programmers would think is the best way to do the job (I don't agree.) </li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2437417"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 49572013, "answer_count": 1, "score": 3, "last_activity_date": 1522402886, "creation_date": 1522274337, "last_edit_date": 1522345736, "question_id": 49544834, "link": "https://stackoverflow.com/questions/49544834/android-studio-3-1-doesnt-show-transitions-category", "title": "Android Studio 3.1 doesn&#39;t show &quot;Transitions&quot; category", "body": "<p>Just getting started with <strong>Android Studio 3.1</strong> (using Kotlin) from a tutorial, and there's a problem I've spent all day trying to figure out.</p>\n\n<p>The tutorial shows a <code>Transitions</code> menu for an activity layout under the <code>Palette</code> section, but it's nowhere to be found on my machine.</p>\n\n<p>I show the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NtdLD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtdLD.png\" alt=\"My IDE view\"></a></p>\n\n<p>The tutorial, which I think uses <strong>Android Studio 2.3</strong>, shows this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/v5AGw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v5AGw.png\" alt=\"Tutorial IDE view\"></a></p>\n\n<p>I don't know if this has to do with the IDE versions, or some frameworks that aren't getting loaded, or something else. Everything else is working perfectly. Some direction would be appreciated.</p>\n\n<hr>\n\n<p>To give a little more detail, the machine is 64-bit Linux (LinuxMint 18.3).</p>\n\n<p>From the <em>About</em> page:</p>\n\n<blockquote>\n  <p>Android Studio 3.1<br>\n  Build #AI-173.4670197, built on March 21, 2018<br><br>\n  JRE: 1.8.0_152-release-1024-b01 amd64<br>\n  JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o Linux 4.13.0-37-generic<br></p>\n</blockquote>\n\n<hr>\n\n<p>I just tried installing <strong>Android Studio 3.2</strong> (Canary). Same issue there. Will try an older version next.</p>\n\n<hr>\n\n<p>Tried installing <strong>3.0.1</strong>, but when it goes to download the SDK, it just infinitely loops, printing <code>https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip</code>.</p>\n\n<hr>\n\n<p>Also tried <strong>3.0</strong>, but gives the same infinite loop.</p>\n\n<hr>\n\n<p>I installed <strong>2.3.3</strong>, and it shows the expected items. Next I'll see if upgrading from within Android Studio carries those items forward.</p>\n\n<hr>\n\n<p>Upgraded from <strong>2.3.3</strong> to <strong>3.1</strong> and it returns to the same problem. Is this an issue with locating dependencies?</p>\n"}, {"tags": ["android", "android-studio", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 2, "creation_date": 1522266599, "post_id": 49542982, "comment_id": 86093525, "body": "<a href=\"https://stackoverflow.com/a/18183656/4778343\">stackoverflow.com/a/18183656/4778343</a>"}, {"owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1522342768, "post_id": 49542982, "comment_id": 86131009, "body": "Thanks for the suggestions @StefanGolubovi\u0107. But clean-&gt;build or restarting AS didnot help."}], "answers": [{"comments": [{"owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522343390, "post_id": 49561569, "comment_id": 86131346, "body": "No package name changes though. other imports are good. Just R is not imported at all."}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "reply_to_user": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522343572, "post_id": 49561569, "comment_id": 86131432, "body": "do you copy paste, or import via ide?"}, {"owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522343781, "post_id": 49561569, "comment_id": 86131529, "body": "Does R get automatically imported for you on AS 3.1 and kotlin?"}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "reply_to_user": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522346318, "post_id": 49561569, "comment_id": 86132823, "body": "please explain how u import kotlin files? I just copy paste and correct the imports, when needed"}, {"owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522346694, "post_id": 49561569, "comment_id": 86132990, "body": "I import with autoimport functionality"}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "reply_to_user": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 0, "creation_date": 1522347118, "post_id": 49561569, "comment_id": 86133229, "body": "check for errors inside files. AS won&#39;t build until therent any, and until you have a successful build R isnt avialible"}, {"owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "edited": false, "score": 1, "creation_date": 1522347856, "post_id": 49561569, "comment_id": 86133571, "body": "i can import R manually and still successfully build. My question was why doesn&#39;t it import R automatically like it does for other imports. Thanks for your help"}], "tags": [], "owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "is_accepted": false, "score": 1, "last_activity_date": 1522342982, "creation_date": 1522342982, "answer_id": 49561569, "question_id": 49542982, "link": "https://stackoverflow.com/questions/49542982/new-kotlin-files-in-old-java-project-unresolved-reference-r/49561569#49561569", "title": "New kotlin files in old java project - &#39;Unresolved reference&#39; R", "body": "<p>See imports inside kotlin file. Package names might be from your old project, that won't allow you to use R.\nDelete them, and reimport</p>\n"}, {"comments": [{"owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "edited": false, "score": 0, "creation_date": 1541639720, "post_id": 49597442, "comment_id": 93288995, "body": "Where is that option in Android Studio?."}, {"owner": {"reputation": 132, "user_id": 7493938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b64a58292f03975f0164b2a6468baa63?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Huizinga", "link": "https://stackoverflow.com/users/7493938/mario-huizinga"}, "reply_to_user": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "edited": false, "score": 0, "creation_date": 1544530601, "post_id": 49597442, "comment_id": 94301400, "body": "@glisu See Preferences -&gt; Editor -&gt; General &gt; Auto Import -&gt; Java"}], "tags": [], "owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "is_accepted": true, "score": 0, "last_activity_date": 1522581165, "creation_date": 1522581165, "answer_id": 49597442, "question_id": 49542982, "link": "https://stackoverflow.com/questions/49542982/new-kotlin-files-in-old-java-project-unresolved-reference-r/49597442#49597442", "title": "New kotlin files in old java project - &#39;Unresolved reference&#39; R", "body": "<p>In AS Preferences, under General -> Auto Import, i enabled the following. <a href=\"https://i.stack.imgur.com/xOjau.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOjau.png\" alt=\"enter image description here\"></a></p>\n\n<p>This imports R automatically now.</p>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 2030100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b7adead27d73e2d8d6ed96a4da01c7?s=128&d=identicon&r=PG&f=1", "display_name": "vinod", "link": "https://stackoverflow.com/users/2030100/vinod"}, "is_accepted": false, "score": 1, "last_activity_date": 1580452332, "last_edit_date": 1580452332, "creation_date": 1580452201, "answer_id": 59998951, "question_id": 49542982, "link": "https://stackoverflow.com/questions/49542982/new-kotlin-files-in-old-java-project-unresolved-reference-r/59998951#59998951", "title": "New kotlin files in old java project - &#39;Unresolved reference&#39; R", "body": "<p>I found a solution. Just import your main package R in your kotlin file where you got this error.</p>\n\n<p>Like:</p>\n\n<pre><code>import com.example.activities.R\n</code></pre>\n"}], "owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 0, "accepted_answer_id": 49597442, "answer_count": 3, "score": 2, "last_activity_date": 1580452332, "creation_date": 1522266541, "last_edit_date": 1522342836, "question_id": 49542982, "link": "https://stackoverflow.com/questions/49542982/new-kotlin-files-in-old-java-project-unresolved-reference-r", "title": "New kotlin files in old java project - &#39;Unresolved reference&#39; R", "body": "<p>Have an already existing java project. Trying to add new kotlin files to it. AndroidStudio 3.1 complains that R is an \"Unresolved reference\". </p>\n\n<p>I can manually import R and it builds without error. But why is R not automatically imported as always?</p>\n\n<p>Edit-\nclean&amp;build or restarting AS didnot help.</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 8, "last_activity_date": 1522263855, "creation_date": 1522263855, "answer_id": 49542295, "question_id": 49542167, "link": "https://stackoverflow.com/questions/49542167/how-to-get-the-kclass-for-a-kotlin-constructor-parameter/49542295#49542295", "title": "How to get the KClass for a Kotlin constructor parameter", "body": "<p>The <code>param.type</code> expression returns a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/index.html\" rel=\"noreferrer\"><code>KType</code></a>, so you need to <a href=\"https://stackoverflow.com/questions/42862966/how-to-obtain-a-ktype-in-kotlin\">get</a> the appropriate <code>Ktype</code> instances to check against:</p>\n\n<pre><code>for (param in primaryConstructor.parameters) {\n    when (param.type) {\n        String::class.createType() -&gt; println(\"String param\")\n        Int::class.createType() -&gt; println(\"Int param\")\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Side note: might be a good idea to not create these every time in the loop:</p>\n\n<pre><code>val stringType = String::class.createType()\nval intType = Int::class.createType()\nfor (param in primaryConstructor.parameters) {\n    when (param.type) {\n        stringType -&gt; println(\"String param\")\n        intType -&gt; println(\"Int param\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1522266114, "last_edit_date": 1522266114, "creation_date": 1522263917, "answer_id": 49542314, "question_id": 49542167, "link": "https://stackoverflow.com/questions/49542167/how-to-get-the-kclass-for-a-kotlin-constructor-parameter/49542314#49542314", "title": "How to get the KClass for a Kotlin constructor parameter", "body": "<p>You can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.jvm/java-type.html\" rel=\"nofollow noreferrer\"><code>javaType</code></a> property of <code>KType</code> for that comparison:</p>\n\n<pre><code>when (param.type.javaType) {\n    String::class.java -&gt; println(\"String!\")\n    Int::class.java -&gt; println(\"Int!\")\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3625303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe628125921fa911800a367024302ec?s=128&d=identicon&r=PG&f=1", "display_name": "ljd", "link": "https://stackoverflow.com/users/3625303/ljd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "accepted_answer_id": 49542314, "answer_count": 2, "score": 5, "last_activity_date": 1522266114, "creation_date": 1522263348, "question_id": 49542167, "link": "https://stackoverflow.com/questions/49542167/how-to-get-the-kclass-for-a-kotlin-constructor-parameter", "title": "How to get the KClass for a Kotlin constructor parameter", "body": "<p>Using Kotlin reflection, I am trying to check the KClass of each parameter of a class's primary constructor.</p>\n\n<p>Given a simple data class like this:</p>\n\n<pre><code>data class MyPerson(val name: String, val age: Int)\nval modelClass = MyPerson::class\n</code></pre>\n\n<p>I get its primary constructor <code>val primaryConstructor = modelClass.primaryConstructor</code>.\nFor each parameter, I want to check its class (is it Kotlin.String, Kotlin.Int etc). Something like this:</p>\n\n<pre><code>for (param in primaryConstructor.parameters) {\n  when(param.type) {\n    is Kotlin.String -&gt; // do string thing\n    is Kotlin.Int -&gt; // do int thing\n}\n</code></pre>\n\n<p>Unfortunately, this isn't valid code. I've tried <code>param.type</code>, <code>param.classifier</code>, <code>param.type.jvmErasure</code> and others. The closest I've found is <code>param.type.jvmErasure.qualifiedName</code>, which gives me a String with the fully qualified name of the KClass. But I really want the KClass.</p>\n\n<p>Is this possible at all?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5955579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23fea91ef4d49a9b45608234c167a?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Alakaire", "link": "https://stackoverflow.com/users/5955579/milad-alakaire"}, "edited": false, "score": 0, "creation_date": 1522263121, "post_id": 49541976, "comment_id": 86091618, "body": "Even if you add the @JvmStatic annotation?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 141, "user_id": 5955579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23fea91ef4d49a9b45608234c167a?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Alakaire", "link": "https://stackoverflow.com/users/5955579/milad-alakaire"}, "edited": false, "score": 0, "creation_date": 1522263168, "post_id": 49541976, "comment_id": 86091641, "body": "Then you&#39;ll have a real static field in the bytecode, that&#39;s true. But do you use it?"}, {"owner": {"reputation": 141, "user_id": 5955579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23fea91ef4d49a9b45608234c167a?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Alakaire", "link": "https://stackoverflow.com/users/5955579/milad-alakaire"}, "edited": false, "score": 0, "creation_date": 1522263369, "post_id": 49541976, "comment_id": 86091764, "body": "I&#39;m not quite sure I understood what you mean by your question. My goal is to access my string resources directly from my view models without passing a context object...any ideas on how I can do that?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1522262702, "creation_date": 1522262702, "answer_id": 49541976, "question_id": 49541906, "link": "https://stackoverflow.com/questions/49541906/will-there-be-any-memory-leaks-if-i-access-my-resources-statically-from-my-appli/49541976#49541976", "title": "Will there be any memory leaks if I access my resources statically from My Application class?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Companion objects</a> are not static, as the documentation describes:</p>\n\n<blockquote>\n  <p>Note that, even though the members of companion objects look like static members in other languages, at runtime those are still instance members of real objects, and can, for example, implement interfaces</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5955579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23fea91ef4d49a9b45608234c167a?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Alakaire", "link": "https://stackoverflow.com/users/5955579/milad-alakaire"}, "edited": false, "score": 0, "creation_date": 1522263158, "post_id": 49542066, "comment_id": 86091637, "body": "I just learnt that the hard way lol..I can&#39;t really say I understood the cause of the endless loop?"}], "tags": [], "owner": {"reputation": 4483, "user_id": 1037345, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7c1nH.jpg?s=128&g=1", "display_name": "Kirill Bubochkin", "link": "https://stackoverflow.com/users/1037345/kirill-bubochkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1522267685, "last_edit_date": 1522267685, "creation_date": 1522262998, "answer_id": 49542066, "question_id": 49541906, "link": "https://stackoverflow.com/questions/49541906/will-there-be-any-memory-leaks-if-i-access-my-resources-statically-from-my-appli/49542066#49542066", "title": "Will there be any memory leaks if I access my resources statically from My Application class?", "body": "<p>You can't use companion object like this to get access to the <code>App</code> class. In your example, <code>this</code> refers to companion object itself, thus you're creating endless recursive call: <code>this.getResources()</code> just calls itself since <code>this == App.Companion</code>.</p>\n\n<p>You cannot access <code>App</code> instance from its companion object, but you can access your companion instance from <code>App</code> class. That means, if you want to access your app context globally, you have to do smth like this:</p>\n\n<pre><code>class App {\n  override fun onCreate() {\n    super.onCreate()\n    appContext = this\n  }\n\n  companion object {\n    lateinit var appContext: Context\n\n    fun getResources(): Resources = appContext.resources\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5955579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23fea91ef4d49a9b45608234c167a?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Alakaire", "link": "https://stackoverflow.com/users/5955579/milad-alakaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522292080, "creation_date": 1522262485, "last_edit_date": 1522292080, "question_id": 49541906, "link": "https://stackoverflow.com/questions/49541906/will-there-be-any-memory-leaks-if-i-access-my-resources-statically-from-my-appli", "title": "Will there be any memory leaks if I access my resources statically from My Application class?", "body": "<p>Will there be any memory leaks if I access resources statically from My Application class like so:</p>\n\n<pre><code>class App : Application() {    \n    companion object {\n        fun getResources(): Resources {\n            return this.getResources()\n        }\n    }   \n}\n</code></pre>\n\n<hr>\n\n<p>I was looking for a way to access my resources directly from my view models without passing a context object I just had to use AndroidViewModel instead of ViewModel from android arch components. </p>\n\n<p>Thanks all. </p>\n"}, {"tags": ["android", "kotlin", "handler"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1544165921, "post_id": 49541871, "comment_id": 94186997, "body": "did this answer your question?"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 8716408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QBoK2eXq1gg/AAAAAAAAAAI/AAAAAAAAAEg/neildAjlswQ/photo.jpg?sz=128", "display_name": "Michael Abyzov", "link": "https://stackoverflow.com/users/8716408/michael-abyzov"}, "edited": false, "score": 0, "creation_date": 1599737030, "post_id": 49549335, "comment_id": 112869431, "body": "Instantiating Handler with the empty constructor is deprecated now. Initialize it, for example, with Looper, like here: <a href=\"https://stackoverflow.com/a/62477706/8716408\">stackoverflow.com/a/62477706/8716408</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 42, "last_activity_date": 1619249806, "last_edit_date": 1619249806, "creation_date": 1522304713, "answer_id": 49549335, "question_id": 49541871, "link": "https://stackoverflow.com/questions/49541871/whats-the-postdelayed-uses-in-kotlin/49549335#49549335", "title": "What&#39;s the postDelayed() uses in kotlin", "body": "<p>The <code>Handler::postDelay</code> documentation can be found <a href=\"https://developer.android.com/reference/android/os/Handler.html#postDelayed(java.lang.Runnable,%20long)\" rel=\"nofollow noreferrer\">here</a> and shows that the method is defined as follows:</p>\n<pre><code>boolean postDelayed (Runnable r, long delayMillis)\n</code></pre>\n<p>In idiomatic Kotlin APIs, we would change the order of both parameters and have the function type (i.e. SAM <code>Runnable</code>) as the last argument so that it could be passed outside the parentheses. But sometimes we just have to deal with it, let's have a look at your example:</p>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed({\n            sendMessage(MSG, params.id)\n            taskFinished(params, false)\n        }, duration)\n</code></pre>\n<p>The first argument wrapped in curly braces is a lambda which becomes the <code>Runnable</code> thanks to <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a>. You could make this more obvious by extracting it to a local variable:</p>\n<pre><code>val r = Runnable {\n     sendMessage(MSG, params.id)\n     taskFinished(params, false)\n}\nHandler(Looper.getMainLooper()).postDelayed(r, duration)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3091, "user_id": 2382964, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ewVbn.jpg?s=128&g=1", "display_name": "Tushar Pandey", "link": "https://stackoverflow.com/users/2382964/tushar-pandey"}, "is_accepted": false, "score": 8, "last_activity_date": 1606755624, "creation_date": 1606755624, "answer_id": 65077906, "question_id": 49541871, "link": "https://stackoverflow.com/questions/49541871/whats-the-postdelayed-uses-in-kotlin/65077906#65077906", "title": "What&#39;s the postDelayed() uses in kotlin", "body": "<p><code>Handler()</code> is depreciated now in place of it we have to use <code>Handler(Looper.getMainLooper())</code></p>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed(object : Runnable {\n                    override fun run() {\n                        TODO(&quot;Not yet implemented&quot;)\n                    }\n                },200)\n</code></pre>\n"}], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27651, "favorite_count": 3, "answer_count": 2, "score": 25, "last_activity_date": 1619249806, "creation_date": 1522262360, "question_id": 49541871, "link": "https://stackoverflow.com/questions/49541871/whats-the-postdelayed-uses-in-kotlin", "title": "What&#39;s the postDelayed() uses in kotlin", "body": "<p>As I know postDelayed() have two argument runnable and duration delay.\nWhat actually does below code in kotlin:</p>\n\n<pre><code>Handler().postDelayed({\n            sendMessage(MSG, params.id)\n            taskFinished(params, false)\n        }, duration)\n</code></pre>\n\n<p>Here 1st is two function calling and 2nd is duration delay. Where is runnable? Does this something like lambda for kotlin? Any anyone please explain this?</p>\n"}, {"tags": ["java", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1522261947, "post_id": 49541689, "comment_id": 86090922, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32076244/dagger-2-injecting-parameters-of-constructor\">Dagger 2 injecting parameters of constructor</a>"}, {"owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "reply_to_user": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1522262093, "post_id": 49541689, "comment_id": 86091002, "body": "I will check this now and see."}, {"owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "reply_to_user": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1522262134, "post_id": 49541689, "comment_id": 86091033, "body": "Looks like a much different syntax to what I am asking."}], "answers": [{"comments": [{"owner": {"reputation": 1286, "user_id": 4229910, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/6febfae3298d5aeebe98b657d4f4aa7d?s=128&d=identicon&r=PG&f=1", "display_name": "ashwin mahajan", "link": "https://stackoverflow.com/users/4229910/ashwin-mahajan"}, "edited": false, "score": 0, "creation_date": 1560970795, "post_id": 49542829, "comment_id": 99915827, "body": "What if there are some fields that Dagger can provide and some fields that it can&#39;t, eg. object id or some dynamic data? Lets say a ViewModel takes some dynamic data model object but Dagger can provide the rest of its dependencies? Also, can this view model be injected in some activity then?"}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 4, "last_activity_date": 1522265928, "creation_date": 1522265928, "answer_id": 49542829, "question_id": 49541689, "link": "https://stackoverflow.com/questions/49541689/kotlin-dagger-and-injected-constructors-i-am-lost-on-this/49542829#49542829", "title": "Kotlin + Dagger and injected constructors? I am lost on this", "body": "<p>Constructor injection with Dagger means that <strong>Dagger will create the object by calling the constructor</strong> and pass all the dependencies in <em>for you</em>. So when you call <code>new Something()</code> you're effectively <em>not</em> making use of constructor injection. You're simply creating an object.</p>\n\n<p>All you really have to do is add the <code>@Inject</code> annotation on the constructor. That way Dagger knows about your class and if all of its dependencies can be provided Dagger can also provide that class. That's really all you need to do and when you want to use the class somewhere else you just have to request it.</p>\n\n<ul>\n<li><p>If using field injection (e.g. in your Activity) you can just add an annotated field and Dagger will inject it along with all the other dependencies</p>\n\n<pre><code>@Inject lateinit var something: Something\n\nfun onCreate(..) { activityComponent.inject(this) }\n</code></pre></li>\n<li><p>If using it in yet another class, you can just add it to the constructor...using constructor injection again...</p>\n\n<pre><code>class OtherThing @Inject constructor(val something : Something)\n</code></pre></li>\n<li><p>Or add a provision method to your component and \"request\" it later...</p>\n\n<pre><code>@Component interface MyComponent {\n  fun provideSomething : Something\n}\n\n// ...\n\nval something : Something = myComponent.provideSomething()\n</code></pre></li>\n</ul>\n\n<p>If in your example <code>SimpleInjectedObject</code> can not be provided by Dagger, e.g. it does not use constructor injection and you did not add a <code>@Provides</code> annotated method that can provide it to any of your modules, you will get a build error stating that <em>SimpleInjectedObject cannot be provided...</em> about which <a href=\"https://stackoverflow.com/q/44912080/1837367\">you can find more information here</a>.</p>\n"}], "owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2685, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522265928, "creation_date": 1522261740, "last_edit_date": 1522262061, "question_id": 49541689, "link": "https://stackoverflow.com/questions/49541689/kotlin-dagger-and-injected-constructors-i-am-lost-on-this", "title": "Kotlin + Dagger and injected constructors? I am lost on this", "body": "<p>I have the following class : </p>\n\n<pre><code>class ClassWithInjectedConstructor @Inject constructor(private val simpleInjectedObject: SimpleInjectedObject) : ClassWhichThisInheritsFrom() {\n\n    override fun check(): int {\n\n        val result = simpleInjectedObject.methodToCall() // Returns an int.\n\n        return 1;\n    }\n}\n</code></pre>\n\n<p>Please ignore that this function doesn't do anything except return the value on 1.</p>\n\n<p>I am trying to get a handle on how the hell I work with this class, and it's injected constructor.</p>\n\n<p>In my main application class (This class is java, not kotlin), I need to use the class above... and this is how I am trying to do it : </p>\n\n<pre><code>final ClassWithInjectedConstructor instance = new ClassWithInjectedInstructor();\n</code></pre>\n\n<p>I am aware that I need to pass something into that constructor, but how? If it is injected, do I need some fancy syntax?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1522262615, "post_id": 49541585, "comment_id": 86091291, "body": "Which Kotlin version are you using? I tried it and it works just fine with 1.2.31: <a href=\"https://try.kotlinlang.org/#/UserProjects/k9h40tnmvgl06hej8uu6n9u1jc/6t716dipoi8bl8bjbv60a0vb02\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/k9h40tnmvgl06hej8uu6n9u1jc&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 673, "user_id": 3692626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qqE1P.jpg?s=128&g=1", "display_name": "Carter Hudson", "link": "https://stackoverflow.com/users/3692626/carter-hudson"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1522266311, "post_id": 49541585, "comment_id": 86093380, "body": "Currently 1.2.21. I don&#39;t have the luxury of updating the Kotlin version on this project at the moment."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1522266559, "post_id": 49541585, "comment_id": 86093502, "body": "@saganut Well, the sample I shared above works even with 1.1.60 (there&#39;s a switch on the Try Kotlin site). Can you try to reproduce the problem in a clean project or provide more details about it?"}, {"owner": {"reputation": 673, "user_id": 3692626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qqE1P.jpg?s=128&g=1", "display_name": "Carter Hudson", "link": "https://stackoverflow.com/users/3692626/carter-hudson"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1522266981, "post_id": 49541585, "comment_id": 86093720, "body": "I&#39;ll try to reproduce it in a clean project and post it when I get some time."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1522306207, "post_id": 49541585, "comment_id": 86106524, "body": "You have a circular dependency here. But it should still work..."}], "owner": {"reputation": 673, "user_id": 3692626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qqE1P.jpg?s=128&g=1", "display_name": "Carter Hudson", "link": "https://stackoverflow.com/users/3692626/carter-hudson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1558, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522261833, "creation_date": 1522261397, "last_edit_date": 1522261833, "question_id": 49541585, "link": "https://stackoverflow.com/questions/49541585/why-isnt-a-kotlin-const-val-recognized-as-compile-time-constant-when-indirectly", "title": "Why isn&#39;t a Kotlin const val recognized as compile-time constant when indirectly referenced?", "body": "<p>Say I've got a class</p>\n\n<pre><code>@SomeAnnotation(someValue = A_CONST_VAL)\nclass SomeClass {\n    companion object {\n        const val A_CONST_VAL = \"a constant value\"\n    }\n    ...\n}\n</code></pre>\n\n<p>The above compiles fine - no issues. However, if I want to use <code>A_CONST_VAL</code> in a constants file...</p>\n\n<pre><code>import some.package.SomeClass.A_CONST_VAL\n\nobject SomeConstants {\n    const val CONSTRUCTED_CONST_VAL = \"some stuff ${A_CONST_VAL}\"\n}\n</code></pre>\n\n<p>and use <code>CONSTRUCTED_CONST_VAL</code> as the compile-time annotation value, such that the previous class is now</p>\n\n<pre><code>@SomeAnnotation(someValue = SomeConstants.CONSTRUCTED_CONST_VAL)\nclass SomeClass {\n    companion object {\n        const val A_CONST_VAL = \"a constant value\"\n    }\n    ...\n}\n</code></pre>\n\n<p>The compiler thinks that the supplied annotation value is not a compile-time constant.</p>\n\n<p>What gives?</p>\n\n<p>Note: I've also tried implementing the file holding constants as Java, just to see if it worked </p>\n\n<pre><code>class SomeConstants {\n    public static final String CONSTRUCTED_CONST_VAL = \"a constant value\" + SomeClass.A_CONST_VAL;\n}\n</code></pre>\n\n<p>still a compilation failure</p>\n"}, {"tags": ["generics", "kotlin", "covariance", "contravariance", "invariance"], "answers": [{"comments": [{"owner": {"reputation": 292, "user_id": 2282093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/31WJk.png?s=128&g=1", "display_name": "Joao Neto", "link": "https://stackoverflow.com/users/2282093/joao-neto"}, "edited": false, "score": 0, "creation_date": 1522262021, "post_id": 49541663, "comment_id": 86090968, "body": "Yeah. I was under the assumption that List would be a subtype of itself and I could assign subtypes like MutableList and itself... Thanks!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1522261642, "creation_date": 1522261642, "answer_id": 49541663, "question_id": 49541355, "link": "https://stackoverflow.com/questions/49541355/kotlin-generic-class-property/49541663#49541663", "title": "Kotlin generic class property", "body": "<p>The short answer: The var <code>list1</code> is covariant, you're trying to use it in a contravariant way.</p>\n\n<p>What you're currently trying to do: Assign an instance of the super type (specified by the upper bound) <code>List&lt;Any&gt;</code> to a variable of its sub type <code>X</code>, which is <code>list1</code>. To simplify the problem, consider the following:</p>\n\n<pre><code>open class Super\nclass Sub : Super()\nval sub: Sub = Super() //Compile Error: Type mismatch: inferred type is Super but Sub was expected\n</code></pre>\n\n<p>You simply can't assign objects to variables of a sub type of that object. The other way around would be fine though: <code>val sup: Super = Sub()</code> </p>\n"}], "owner": {"reputation": 292, "user_id": 2282093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/31WJk.png?s=128&g=1", "display_name": "Joao Neto", "link": "https://stackoverflow.com/users/2282093/joao-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 49541663, "answer_count": 1, "score": 2, "last_activity_date": 1522262037, "creation_date": 1522260400, "last_edit_date": 1522262037, "question_id": 49541355, "link": "https://stackoverflow.com/questions/49541355/kotlin-generic-class-property", "title": "Kotlin generic class property", "body": "<p>I know this may seem a repeated question but I am puzzled as to how invariance, covariance and contravariance works.</p>\n\n<p>I can't understand why I can't compile this snippet:</p>\n\n<pre><code>class Test&lt;X: List&lt;Any&gt;&gt;{\n    lateinit var list2:List&lt;Any&gt;\n    lateinit var list1:X\n\n    fun putList(){\n        list2 = emptyList()\n        list1 = emptyList&lt;Any&gt;()\n    }\n}\n</code></pre>\n\n<p>I get the type mismatch error <strong>Required X found List</strong></p>\n\n<p>However if I define the X generic as 'out' I will get a error indicating that the parameter X is invariant in list1 var.</p>\n\n<p>Can someone help another poor soul lost in Kotlin generics?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1532781681, "post_id": 49543422, "comment_id": 90108926, "body": "this is such a easy solution as opposed to a publishSubject in rxjava. thanks"}], "tags": [], "owner": {"reputation": 496, "user_id": 4350835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6QKO.jpg?s=128&g=1", "display_name": "Leonardo Lima", "link": "https://stackoverflow.com/users/4350835/leonardo-lima"}, "is_accepted": true, "score": 2, "last_activity_date": 1522268159, "creation_date": 1522268159, "answer_id": 49543422, "question_id": 49541333, "link": "https://stackoverflow.com/questions/49541333/kotlin-how-can-retry-request-if-get-error-when-tap-on-button-of-dialog/49543422#49543422", "title": "Kotlin, how can retry request if get error when tap on button of dialog", "body": "<p>You could pass a function to be executed when the dialog button is clicked:</p>\n\n<pre><code>fun showDialogWithException(context: Context, action: () -&gt; Unit) {\n  if (!(context as Activity).isFinishing) {\n    DialogInternetUtils().showOkDialog(\n        context,\n        context.getString(R.string.no_internet_connection),\n        DialogInterface.OnClickListener\n        { dialogInterface, i -&gt;\n          dialogInterface?.dismiss()\n          if (i == Dialog.BUTTON_NEGATIVE) {\n            dialogInterface!!.dismiss()\n            return@OnClickListener\n          } else if (i == Dialog.BUTTON_POSITIVE) {\n            action()\n          }\n        })\n  }\n}\n</code></pre>\n\n\n\n<pre><code>private fun handleAnyError(it: Throwable, context: Context, action: () -&gt; Unit) {\n  view?.showOrHideProgressBar(false)\n  when (it) {\n    is SocketTimeoutException -&gt; showDialogWithException(context, action)\n    is UnknownHostException -&gt; showDialogWithException(context, action)\n    else -&gt; {\n      if (it.message.equals(MESS_429)) {\n        view?.showAnyError(context.getString(R.string.err_429))\n      } else if (it.message.equals(MESS_422)) {\n        view?.showAnyError(context.getString(R.string.err_422))\n      }\n    }\n  }\n}\n</code></pre>\n\n\n\n<pre><code>override fun checkPhone(phone: String, context: Context) {\n  view?.let {\n    it.showOrHideProgressBar(true)\n    apiManager.checkPhone(phone)\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribeOn(Schedulers.io())\n        .subscribe({ result -&gt;\n          view?.showOrHideProgressBar(false)\n          if (result.user_exists) {\n            view?.showLogin()\n          } else {\n            val code = result.confirmation_code\n            confirmPhone(phone, code, context)\n          }\n        }, { error -&gt;\n          handleAnyError(error, context, { checkPhone(phone, context) })\n        }).addToCompositeDisposable(compositeDisposable)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2040, "user_id": 7369357, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-zQ5CcLZPgq0/AAAAAAAAAAI/AAAAAAAAAEU/sMkAp5atKws/photo.jpg?sz=128", "display_name": "nicolas asinovich", "link": "https://stackoverflow.com/users/7369357/nicolas-asinovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 49543422, "answer_count": 1, "score": 0, "last_activity_date": 1522268159, "creation_date": 1522260330, "question_id": 49541333, "link": "https://stackoverflow.com/questions/49541333/kotlin-how-can-retry-request-if-get-error-when-tap-on-button-of-dialog", "title": "Kotlin, how can retry request if get error when tap on button of dialog", "body": "<p>Let imagine situation on Kotlin, when we try get request but hasn't internet connection and we get error, then show AlertDialog, and we need retry request if user click on \"positive button\".</p>\n\n<p>This method check for exist user by phone number:</p>\n\n<pre><code>override fun checkPhone(phone: String, context: Context) {\n    view?.let {\n        it.showOrHideProgressBar(true)\n        apiManager.checkPhone(phone)\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe({ result -&gt;\n                    view?.showOrHideProgressBar(false)\n                    if (result.user_exists) {\n                        view?.showLogin()\n                    } else {\n                        val code = result.confirmation_code\n                        confirmPhone(phone, code, context)\n                    }\n                }, { error -&gt;\n                    handleAnyError(error, context)\n                }).addToCompositeDisposable(compositeDisposable)\n    }\n}\n</code></pre>\n\n<p>And here common method for handle errors:</p>\n\n<pre><code>private fun handleAnyError(it: Throwable, context: Context) {\n    view?.showOrHideProgressBar(false)\n    when (it) {\n        is SocketTimeoutException -&gt; showDialogWithException(context)\n        is UnknownHostException -&gt; showDialogWithException(context)\n        else -&gt; {\n            if (it.message.equals(MESS_429)) {\n                view?.showAnyError(context.getString(R.string.err_429))\n            } else if (it.message.equals(MESS_422)) {\n                view?.showAnyError(context.getString(R.string.err_422))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Finally, method to show dialog suggesting retrying request when click positive button:</p>\n\n<pre><code>fun showDialogWithException(context: Context) {\nif (!(context as Activity).isFinishing) {\n    DialogInternetUtils().showOkDialog(\n            context,\n            context.getString(R.string.no_internet_connection),\n            DialogInterface.OnClickListener\n            { dialogInterface, i -&gt;\n                dialogInterface?.dismiss()\n                if (i == Dialog.BUTTON_NEGATIVE) {\n                    dialogInterface!!.dismiss()\n                    return@OnClickListener\n                } else if (i == Dialog.BUTTON_POSITIVE) {\n                    // here handle click button positive, need retry request\n                }\n            })\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Please, help me finish handle click on positive button to retry request.\nI guess, need handle error in methods <code>.doOnError()</code> or <code>.onErrorResumeNext()</code> but I'm stuck here...</p>\n"}, {"tags": ["android", "kotlin", "spinner", "dropdown", "android-moxy"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 1303616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a951e1d5a51f4f6e28d7db7dcfda3f9e?s=128&d=identicon&r=PG", "display_name": "Philipp Maksimov", "link": "https://stackoverflow.com/users/1303616/philipp-maksimov"}, "edited": false, "score": 0, "creation_date": 1522257624, "post_id": 49540183, "comment_id": 86088445, "body": "Thanks, it cured it! Do you have any idea though why <code>.commit()</code> even on <code>.replace()</code> method would crash the app on orientation change in my previous code? (I added some old code to the question)"}, {"owner": {"reputation": 1756, "user_id": 1396039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUaO8.jpg?s=128&g=1", "display_name": "senneco", "link": "https://stackoverflow.com/users/1396039/senneco"}, "edited": false, "score": 0, "creation_date": 1522824345, "post_id": 49540183, "comment_id": 86296623, "body": "Best solution there is wrap this code in <code>if (savedInstanceState == null) {...}</code>"}], "tags": [], "owner": {"reputation": 885, "user_id": 4035641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c612dc3e894542f74480a517843fc2?s=128&d=identicon&r=PG", "display_name": "Supto", "link": "https://stackoverflow.com/users/4035641/supto"}, "is_accepted": true, "score": 3, "last_activity_date": 1522255978, "creation_date": 1522255978, "answer_id": 49540183, "question_id": 49540020, "link": "https://stackoverflow.com/questions/49540020/why-are-two-items-showed-in-spinner-at-once/49540183#49540183", "title": "Why are two items showed in Spinner at once?", "body": "<p>My guess is when you change your orientation you are adding same fragment twice; In your code </p>\n\n<pre><code>fragmentManager.beginTransaction()\n        .add(R.id.central_frame, groupPickerFragment)\n        .commit()\n</code></pre>\n\n<p>change the add method with replace like this</p>\n\n<pre><code>fragmentManager.beginTransaction()\n        .replace(R.id.central_frame, groupPickerFragment)\n        .commit()\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 1303616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a951e1d5a51f4f6e28d7db7dcfda3f9e?s=128&d=identicon&r=PG", "display_name": "Philipp Maksimov", "link": "https://stackoverflow.com/users/1303616/philipp-maksimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49540183, "answer_count": 1, "score": 0, "last_activity_date": 1522257673, "creation_date": 1522255454, "last_edit_date": 1522257673, "question_id": 49540020, "link": "https://stackoverflow.com/questions/49540020/why-are-two-items-showed-in-spinner-at-once", "title": "Why are two items showed in Spinner at once?", "body": "<p>Items in one of my dropdown lists are starting to double themselves after orientation change for some reason. </p>\n\n<p>Here are two pictures: one with the bug (after changing to horizontal and back) and one without it. </p>\n\n<p><a href=\"https://i.stack.imgur.com/1ZTl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZTl4.png\" alt=\"Bug picture\"></a>\n<a href=\"https://i.stack.imgur.com/Sbl4b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sbl4b.png\" alt=\"How it should be\"></a></p>\n\n<p>Here's my code: </p>\n\n<p>Activity class: </p>\n\n<pre><code>class ScheduleActivity : AppCompatActivity(), GroupPickerActivity {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_lessons_list)\n\n    val groupPickerFragment = GroupPickerFragment()\n\n    fragmentManager.beginTransaction()\n            .add(R.id.central_frame, groupPickerFragment)\n            .commit()\n}\n\noverride fun finishPicking() {\n    Toast.makeText(applicationContext, \"Finished picking\", Toast.LENGTH_SHORT).show()\n}\n}\n</code></pre>\n\n<p>Fragment class:</p>\n\n<pre><code>class GroupPickerFragment : MvpFragment(), GroupPickerView {\n\n    val TAG = \"GroupPickerFragment\"\n\n    @InjectPresenter\n    lateinit var groupPickerPresenter: GroupPickerPresenter\n\n    var noCitySelected = true\n    var noSchoolSelected = true\n    var noGroupSelected = true\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        return inflater!!.inflate(R.layout.fragment_group_picker, container, false)\n    }\n\n\n    override fun onStart() {\n        super.onStart()\n\n        groupPickerPresenter.start(activity.applicationContext)\n\n        makeCitySpinnerClickable()\n    }\n\n    private fun makeCitySpinnerClickable() {\n        /*\n        * Set onItemSelectedListener on City picker spinner\n        * */\n\n        pick_your_city_tv.visibility = View.VISIBLE\n        city_picker_spinner.visibility = View.VISIBLE\n\n        city_picker_spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parentView: AdapterView&lt;*&gt;, selectedItemView: View?, pos: Int, id: Long) {\n                if (!noCitySelected) {\n                    val selectedItem = parentView.getItemAtPosition(pos)\n\n                    if (pos != 0) {\n                        onCitySelected(selectedItem.toString())\n                    } else {\n                        onCreateNewCitySelected()\n                    }\n                } else {\n                    noCitySelected = false\n                }\n\n            }\n\n            override fun onNothingSelected(parentView: AdapterView&lt;*&gt;?) {}\n        }\n    }\n\n    private fun onCreateNewCitySelected() {\n\n        val textbox = EditText(activity.applicationContext)\n\n        val alertDialogBuilder = AlertDialog.Builder(activity,\n                R.style.AppTheme_myDialogueWindow)\n\n        alertDialogBuilder.setTitle(R.string.enter_new_city_name)\n                .setCancelable(true)\n                .setView(textbox)\n                .setPositiveButton(R.string.create_new, { _, _ -&gt;\n                    val newCityName = textbox.text.toString()\n\n                    if (newCityName != \"\") {\n                        groupPickerPresenter.createNewCity(newCityName)\n                    } else {\n                        Toast.makeText(activity.applicationContext,\n                                R.string.city_name_cannot_be_empty,\n                                Toast.LENGTH_SHORT).show()\n                    }\n                })\n                .show()\n    }\n\n    override fun onCitiesDownloaded(cityList: ArrayAdapter&lt;String&gt;) {\n        val spinner = city_picker_spinner\n\n        val adapter = cityList\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n\n        spinner.adapter = adapter\n\n    }\n\n    fun onCitySelected(cityName: String) {\n        Log.v(TAG, \"Get cities by name\")\n\n        groupPickerPresenter.onCitySelected(cityName)\n        makeSchoolSpinnerClickable()\n\n    }\n\n    override fun onCityAdded(newCityId: String) {\n        groupPickerPresenter.start(activity.applicationContext)\n    }\n\n    override fun onSchoolsDownloaded(schoolsList: ArrayAdapter&lt;String&gt;) {\n        val spinner = school_picker_spinner\n\n        val adapter = schoolsList\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n\n        spinner.adapter = adapter\n\n    }\n\n    private fun makeSchoolSpinnerClickable() {\n        /*\n        * Set onItemSelectedListener on School picker spinner\n        * */\n\n        pick_your_school_tv.visibility = View.VISIBLE\n        school_picker_spinner.visibility = View.VISIBLE\n\n        school_picker_spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parentView: AdapterView&lt;*&gt;, selectedItemView: View?, pos: Int, id: Long) {\n                if (!noSchoolSelected) {\n                    val selectedItem = parentView.getItemAtPosition(pos)\n\n                    if (pos != 0) {\n                        onSchoolSelected(selectedItem.toString())\n                    } else {\n                        onCreateNewSchoolSelected()\n                    }\n                } else {\n                    noSchoolSelected = false\n                }\n\n            }\n\n            override fun onNothingSelected(parentView: AdapterView&lt;*&gt;?) {}\n        }\n    }\n\n    private fun onCreateNewSchoolSelected() {\n        val textbox = EditText(activity.applicationContext)\n\n        val alertDialogBuilder = AlertDialog.Builder(activity,\n                R.style.AppTheme_myDialogueWindow)\n\n        alertDialogBuilder.setTitle(R.string.enter_new_school_name)\n                .setCancelable(true)\n                .setView(textbox)\n                .setPositiveButton(R.string.create_new, { _, _ -&gt;\n                    val newSchoolName = textbox.text.toString()\n\n                    if (newSchoolName != \"\") {\n                        val cityName = city_picker_spinner.selectedItem.toString()\n\n                        groupPickerPresenter.createNewSchool(newSchoolName, cityName)\n\n                    } else {\n                        Toast.makeText(activity.applicationContext,\n                                R.string.school_name_cannot_be_empty,\n                                Toast.LENGTH_SHORT).show()\n                    }\n                })\n                .show()\n    }\n\n    private fun onSchoolSelected(schoolName: String) {\n        Log.v(TAG, \"Get schools by name\")\n\n        groupPickerPresenter.onSchoolSelected(schoolName)\n\n        makeGroupSpinnerClickable()\n    }\n\n    override fun onSchoolAdded(newCityId: String) {\n        //todo \u041a\u043e\u0433\u0434\u0430 \u043d\u043e\u0432\u0430\u044f \u0448\u043a\u043e\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430, \u043d\u0430\u0434\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0448\u043a\u043e\u043b\n    }\n\n    override fun onGroupsDownloaded(groupsList: ArrayAdapter&lt;String&gt;) {\n        val spinner = group_picker_spinner\n\n        val adapter = groupsList\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n\n        spinner.adapter = adapter\n\n    }\n\n    private fun makeGroupSpinnerClickable() {\n        /*\n        * Set onItemSelectedListener on School picker spinner\n        * */\n\n        pick_your_group_tv.visibility = View.VISIBLE\n        group_picker_spinner.visibility = View.VISIBLE\n\n\n        group_picker_spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parentView: AdapterView&lt;*&gt;, selectedItemView: View?, pos: Int, id: Long) {\n                if (!noGroupSelected) {\n                    val selectedItem = parentView.getItemAtPosition(pos)\n\n                    if (pos != 0) {\n                        onGroupSelected(selectedItem.toString())\n                    } else {\n                        onCreateNewGroupSelected()\n                    }\n                } else {\n                    noGroupSelected = false\n                }\n\n            }\n\n            override fun onNothingSelected(parentView: AdapterView&lt;*&gt;?) {}\n        }\n    }\n\n    private fun onGroupSelected(groupName: String) {\n        groupPickerPresenter.onGroupSelected(groupName)\n    }\n\n    private fun onCreateNewGroupSelected() {\n        val textbox = EditText(activity.applicationContext)\n\n        val alertDialogBuilder = AlertDialog.Builder(activity,\n                R.style.AppTheme_myDialogueWindow)\n\n        alertDialogBuilder.setTitle(R.string.enter_new_group_name)\n                .setCancelable(true)\n                .setView(textbox)\n                .setPositiveButton(R.string.create_new, { _, _ -&gt;\n                    val newGroupName = textbox.text.toString()\n\n                    if (newGroupName != \"\") {\n                        val schoolName = school_picker_spinner.selectedItem.toString()\n\n                        groupPickerPresenter.createNewGroup(newGroupName, schoolName)\n\n                    } else {\n                        Toast.makeText(activity.applicationContext,\n                                R.string.group_name_cannot_be_empty,\n                                Toast.LENGTH_SHORT).show()\n                    }\n                })\n                .show()\n    }\n\n    override fun onGroupAdded(updatedSchoolId: String) {\n        //todo \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f\n    }\n\n    override fun letUserContinue() {\n        group_picker_next_btn.isEnabled = true\n        group_picker_next_btn.setOnClickListener({\n            val selectedSchoolName = school_picker_spinner.selectedItem.toString()\n            val selectedGroupName = group_picker_spinner.selectedItem.toString()\n\n            groupPickerPresenter.pick(selectedSchoolName, selectedGroupName)\n\n            group_picker_progressbar.visibility = View.VISIBLE\n        })\n    }\n\n    override fun finishPicking() {\n        group_picker_progressbar.visibility = View.GONE\n        (activity as GroupPickerActivity).finishPicking()\n    }\n}\n</code></pre>\n\n<p>Fragment controller class:</p>\n\n<pre><code>@InjectViewState\nclass GroupPickerPresenter : MvpPresenter&lt;GroupPickerView&gt;() {\n    val TAG = \"GroupPickerPresenter\"\n\n    val cityModel = CityFirestoreModel()\n    val schoolModel = SchoolFirestoreModel()\n\n    lateinit var context: Context\n\n    init {\n\n    }\n\n    fun start(context: Context) {\n        this.context = context\n\n        getCities()\n    }\n\n    private fun getCities() {\n        cityModel.getAllCities {\n            val cityTitlesList = mutableListOf&lt;String&gt;()\n\n            // Adding 'Create new'\n            cityTitlesList.add(this.context.resources.getString(R.string.create_new))\n\n            it.forEach {\n                cityTitlesList.add(it.title)\n            }\n\n            val arrayAdapter = ArrayAdapter&lt;String&gt;(this.context,\n                    android.R.layout.simple_spinner_item, cityTitlesList)\n\n\n            viewState.onCitiesDownloaded(arrayAdapter)\n        }\n\n    }\n\n    fun createNewCity(newCityName: String) {\n        cityModel.addCity(newCityName, { newCityId -&gt;\n            if (newCityId != null)\n                viewState.onCityAdded(newCityId)\n        })\n    }\n\n    fun onCitySelected(cityName: String) {\n        val cityModel = CityFirestoreModel()\n\n        cityModel.getCitiesByName(cityName, {\n            getSchoolsByCity(it)\n        })\n    }\n\n    private fun getSchoolsByCity(cities: MutableList&lt;City&gt;) {\n        val schoolModel = SchoolFirestoreModel()\n\n        if (cities.size &gt; 0) {\n            val city = cities[0]\n\n            schoolModel.getSchoolsByCityName(city.title, {\n                val schoolTitlesList = mutableListOf&lt;String&gt;()\n\n                // Adding 'Create new'\n                schoolTitlesList.add(this.context.resources.getString(R.string.create_new))\n\n                it.forEach {\n                    schoolTitlesList.add(it.title)\n                }\n\n                val arrayAdapter = ArrayAdapter&lt;String&gt;(this.context,\n                        android.R.layout.simple_spinner_item, schoolTitlesList)\n\n                viewState.onSchoolsDownloaded(arrayAdapter)\n            })\n        } else {\n            Log.e(TAG, \"Cities list is empty\")\n\n            val schoolTitlesList = mutableListOf&lt;String&gt;()\n\n            // Adding 'Create new'\n            schoolTitlesList.add(this.context.resources.getString(R.string.create_new))\n\n            val arrayAdapter = ArrayAdapter&lt;String&gt;(this.context,\n                    android.R.layout.simple_spinner_item, schoolTitlesList)\n\n            viewState.onSchoolsDownloaded(arrayAdapter)\n        }\n\n    }\n\n    fun onSchoolSelected(schoolName: String) {\n        val schoolModel = SchoolFirestoreModel()\n\n        schoolModel.getSchoolGroups(schoolName, {\n            val groupTitlesList = mutableListOf&lt;String&gt;()\n\n            // Adding 'Create new'\n            groupTitlesList.add(this.context.resources.getString(R.string.create_new))\n\n            it.forEach {\n                groupTitlesList.add(it.title)\n            }\n\n            val arrayAdapter = ArrayAdapter&lt;String&gt;(this.context,\n                    android.R.layout.simple_spinner_item, groupTitlesList)\n\n            viewState.onGroupsDownloaded(arrayAdapter)\n        })\n    }\n\n    fun createNewSchool(newSchoolName: String, cityName: String) {\n        val city = City()\n        city.title = cityName\n\n        val teachers = mutableListOf&lt;Teacher&gt;()\n        val subjects = mutableListOf&lt;Subject&gt;()\n        val groups = mutableListOf&lt;Group&gt;()\n\n\n        schoolModel.addSchool(newSchoolName, city, teachers, subjects, groups, { newCityId -&gt;\n            if (newCityId != null)\n                viewState.onSchoolAdded(newCityId)\n        })\n    }\n\n    fun onGroupSelected(groupName: String) {\n        viewState.letUserContinue()\n    }\n\n    fun createNewGroup(newGroupName: String, schoolName: String) {\n        schoolModel.getSchoolsByName(schoolName, {\n            val school = it[0] //todo \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u0447\u0442\u043e\u0431 \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\n\n            val group = Group()\n            group.title = newGroupName\n\n            school.groups.add(group)\n\n            schoolModel.updateSchool(school.school_id, school, {updatedSchoolId -&gt;\n                if (updatedSchoolId != null) {\n                    viewState.onGroupAdded(updatedSchoolId)\n                }\n            })\n        })\n    }\n\n    fun pick(schoolName: String, groupName: String) {\n        val schoolModel = SchoolFirestoreModel()\n\n        schoolModel.getSchoolGroup(schoolName, groupName, {group -&gt;\n            if (group != null) {\n                val userFirestoreModel = UserFirestoreModel()\n                val currentUserId = FirebaseAuth.getInstance().currentUser!!.uid\n                userFirestoreModel.setGroup(currentUserId, group, {\n                    viewState.finishPicking()\n                })\n\n\n            }\n        })\n\n    }\n}\n</code></pre>\n\n<p>Before that I tried to use Fragment instead of FrameLayout in my activity xml file, but when I was using <code>.commit()</code> on fragmentManager, my application crashed on orientation change and also showed the same bug as here every time I entered it. \nBut everything was okay when I didn't call <code>.commit()</code>. Orientation change worked fine (besides the fact it was reseting chosen values) and there was no item doubling. </p>\n\n<p>My former activity code: </p>\n\n<pre><code>class ScheduleActivity : AppCompatActivity(), GroupPickerActivity {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_lessons_list)\n\n        val groupPickerFragment = GroupPickerFragment()\n\n        fragmentManager.beginTransaction()\n                .replace(R.id.group_picker_fragment, groupPickerFragment)\n    }\n} \n</code></pre>\n"}, {"tags": ["lambda", "kotlin", "readability"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522255081, "post_id": 49539870, "comment_id": 86086957, "body": "Can you pass an <code>()-&gt;Unit</code> to the method instead?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9109723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38fc7bc4e9de16fc189867def84fd10?s=128&d=identicon&r=PG&f=1", "display_name": "S. Entsov", "link": "https://stackoverflow.com/users/9109723/s-entsov"}, "edited": false, "score": 0, "creation_date": 1522257580, "post_id": 49540015, "comment_id": 86088424, "body": "I pass the function to another object, so it&#39;s easier to understand the structure if the function is lambda. Also I define the function in &#39;TheWeapon&#39; class, so it isn&#39;t necessary to pass it as a parameter. Isn&#39;t it easier to read the code if the the lamda is defined in the body of &#39;TheWeapon&#39; as a val?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 43, "user_id": 9109723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38fc7bc4e9de16fc189867def84fd10?s=128&d=identicon&r=PG&f=1", "display_name": "S. Entsov", "link": "https://stackoverflow.com/users/9109723/s-entsov"}, "edited": false, "score": 0, "creation_date": 1522258569, "post_id": 49540015, "comment_id": 86088967, "body": "At the end of the day, that&#39;s gonna be up to you. I think an abstract method and its override looks pretty clean. If you need to pass a reference to this function around later, you can do that with a bound method reference of <code>this::someFunction</code> inside the <code>TheWeapon</code> class."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1522255441, "creation_date": 1522255441, "answer_id": 49540015, "question_id": 49539870, "link": "https://stackoverflow.com/questions/49539870/kotlin-lambda-parameter-vs-abstract-value/49540015#49540015", "title": "Kotlin lambda parameter vs. abstract value", "body": "<p>If you were going to use the second approach, why not just have a method with this type that you override? It seems that <code>TheWeapon</code> can supply the lambda itself and doesn't take it as a parameter, so you could just move the code from the lambda to an abstract function:</p>\n\n<pre><code>abstract class Weapon {\n    abstract fun someFunction()\n}\n\nclass TheWeapon : Weapon() {\n    override fun someFunction() { ... }\n}\n</code></pre>\n\n<hr>\n\n<p>If <code>TheWeapon</code> receives the lambda from an external source through its constructor, then you have to go the other way, and have <code>Weapon</code> take the lambda as a constructor parameter as well.</p>\n"}], "owner": {"reputation": 43, "user_id": 9109723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c38fc7bc4e9de16fc189867def84fd10?s=128&d=identicon&r=PG&f=1", "display_name": "S. Entsov", "link": "https://stackoverflow.com/users/9109723/s-entsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522255845, "creation_date": 1522254949, "last_edit_date": 1522255845, "question_id": 49539870, "link": "https://stackoverflow.com/questions/49539870/kotlin-lambda-parameter-vs-abstract-value", "title": "Kotlin lambda parameter vs. abstract value", "body": "<p>How is better to pass a lambda function to a class that is used as parent: to pass it as a parameter or to define it in the pasrent class as an abstract lambda and then override it in a child class?</p>\n\n<p>To pass it as a parameter:</p>\n\n<pre><code>open class Weapon(val someFunction: () -&gt; Unit) {\n    ...\n}\n\nclass TheWeapon() : Weapon({ ... }) {\n    ...\n}\n</code></pre>\n\n<p>Or to define it to define it in the pasrent class as an abstract lambda and then override it in a child class:</p>\n\n<pre><code>abstract class Weapon() {\n    abstract val someFunction: () -&gt; Unit;\n    ...\n}\n\nclass TheWeapon() : Weapon() {\n    override val someFunction: () -&gt; Unit = { ... }\n    ...\n}\n</code></pre>\n\n<p>So what solution is better to use?</p>\n"}, {"tags": ["kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 17929, "user_id": 166589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9PYX.jpg?s=128&g=1", "display_name": "Lyubomyr Shaydariv", "link": "https://stackoverflow.com/users/166589/lyubomyr-shaydariv"}, "is_accepted": false, "score": 0, "last_activity_date": 1522331205, "creation_date": 1522331205, "answer_id": 49557772, "question_id": 49539684, "link": "https://stackoverflow.com/questions/49539684/deserialize-a-kotlin-data-class-with-google-http-client/49557772#49557772", "title": "Deserialize a Kotlin Data Class with Google HTTP Client", "body": "<p>This happens because the underlying <code>JsonObjectParser</code> methods use <code>newInstance</code> in:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T newInstance(Class&lt;T&gt; clazz) {\n    try {\n        return clazz.newInstance();\n    } catch (IllegalAccessException var2) {\n        throw handleExceptionForNewInstance(var2, clazz);\n    } catch (InstantiationException var3) {\n        throw handleExceptionForNewInstance(var3, clazz);\n    }\n}\n</code></pre>\n\n<p>whilst your <code>GitFile</code> has the only constructor that is not the default one (no-args), and it clearly tells you that.</p>\n\n<p>From one point of view, you might add the default one like this:</p>\n\n<pre><code>data class GitFile(\n        val name: String,\n        @SerializedName(\"download_url\") val downloadUrl: String\n) {\n    constructor() : this(name = \"\", downloadUrl = \"\")\n}\n</code></pre>\n\n<p>This won't fail, but seems to work wrong: the parsed objects properties were all <code>null</code> for me (and I have no idea what I'm missing while configuring the <code>JsonObjectParser</code> instance).</p>\n\n<p>Gson does not need default constructors and can work seamless.\nBut it seems to require a custom <code>ObjectParser</code> implementation that, I believe, would work even faster:</p>\n\n<pre><code>class GsonObjectParser(private val gson: Gson) : ObjectParser {\n\n    override fun &lt;T : Any?&gt; parseAndClose(inputStream: InputStream?, charset: Charset?, clazz: Class&lt;T&gt;?): T {\n        return doParseAndClose(InputStreamReader(inputStream, charset), clazz);\n    }\n\n    override fun parseAndClose(inputStream: InputStream?, charset: Charset?, type: Type?): Any {\n        return doParseAndClose(InputStreamReader(inputStream, charset), type);\n    }\n\n    override fun &lt;T : Any?&gt; parseAndClose(reader: Reader?, clazz: Class&lt;T&gt;?): T {\n        return doParseAndClose(reader, clazz);\n    }\n\n    override fun parseAndClose(reader: Reader?, type: Type?): Any {\n        return doParseAndClose(reader, type);\n    }\n\n    private fun &lt;T : Any?&gt; doParseAndClose(reader: Reader?, type: Type?): T {\n        JsonReader(reader).use {\n            return gson.fromJson(reader, type);\n        };\n    }\n\n}\n</code></pre>\n\n<pre><code>data class GitFile(\n    val name: String?,\n    val downloadUrl: String?\n)\n\nfun main(args: Array&lt;String&gt;) {\n\n    val gson = GsonBuilder()\n            .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)\n            .create();\n    val requestFactory = NetHttpTransport().createRequestFactory {\n        it.setParser(GsonObjectParser(gson))\n    }\n    val request = requestFactory.buildGetRequest(GenericUrl(\"https://api.github.com/repos/ippontech/blog-usa/contents/posts\"))\n    val type = object : TypeToken&lt;List&lt;GitFile&gt;&gt;() {}.type\n    val gitFiles = request.execute().parseAs(type) as List&lt;GitFile&gt;\n    gitFiles\n            .stream()\n            .map { gitFile -&gt; gitFile.name + \": \" + gitFile.downloadUrl }\n            .forEach { gitFile -&gt; System.out.println(gitFile) }\n}\n</code></pre>\n\n<p>Some first lines of the output as of today:</p>\n\n<pre><code>10-tips-and-tricks-for-cassandra.md: https://raw.githubusercontent.com/ippontech/blog-usa/master/posts/10-tips-and-tricks-for-cassandra.md\n5-laws-every-developer-should-know.md: https://raw.githubusercontent.com/ippontech/blog-usa/master/posts/5-laws-every-developer-should-know.md\na-journey-into-blockchain-private-network-with-ethereum.md: https://raw.githubusercontent.com/ippontech/blog-usa/master/posts/a-journey-into-blockchain-private-network-with-ethereum.md\n</code></pre>\n"}], "owner": {"reputation": 1243, "user_id": 332173, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1dea2812954b9670fdbc373e3f53ab5d?s=128&d=identicon&r=PG", "display_name": "Alexis Seigneurin", "link": "https://stackoverflow.com/users/332173/alexis-seigneurin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522331205, "creation_date": 1522254360, "question_id": 49539684, "link": "https://stackoverflow.com/questions/49539684/deserialize-a-kotlin-data-class-with-google-http-client", "title": "Deserialize a Kotlin Data Class with Google HTTP Client", "body": "<p>I am using Google HTTP Client to make an API request, and I would like the to use the <code>parseAs()</code> method to deserialize the JSON response for me. My model is a Kotlin data class, but the deserializer fails to instantiate my class:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: unable to create new instance of class com.ippontech.blog.stats.model.GitFile because it has no accessible default constructor\n</code></pre>\n\n<p>Here is my Kotlin data class:</p>\n\n<pre><code>data class GitFile(\n        val name: String,\n        @SerializedName(\"download_url\") val downloadUrl: String)\n</code></pre>\n\n<p>And the code I use:</p>\n\n<pre><code>val requestFactory = NetHttpTransport().createRequestFactory{\n    it.setParser(JsonObjectParser(GsonFactory()))\n}\n\nval request = requestFactory.buildGetRequest(\n        GenericUrl(\"https://api.github.com/repos/ippontech/blog-usa/contents/posts\"))\nval type = object : TypeToken&lt;List&lt;GitFile&gt;&gt;() {}.type\nval rawResponse = request.execute().parseAs(type)\n</code></pre>\n\n<p>On the other hand, if I retrieve the response as a string, and then use the Gson parser, it works fine:</p>\n\n<pre><code>val requestFactory = NetHttpTransport().createRequestFactory()\nval request = requestFactory.buildGetRequest(\n        GenericUrl(\"https://api.github.com/repos/ippontech/blog-usa/contents/posts\"))\nval rawResponse = request.execute().parseAsString()\nval type = object : TypeToken&lt;List&lt;GitFile&gt;&gt;() {}.type\nval gitFiles: List&lt;GitFile&gt; = Gson().fromJson(rawResponse, type)\n</code></pre>\n\n<p>This seems to indicate that <code>JsonObjectParser</code> is not quite doing its job here.</p>\n\n<p>Versions I'm using:</p>\n\n<pre><code>compile 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.30'\ncompile 'com.google.code.gson:gson:2.8.0'\ncompile 'com.google.apis:google-api-services-sheets:v4-rev512-1.23.0'\ncompile 'com.google.api-client:google-api-client-gson:1.23.0'\n</code></pre>\n\n<p>Any idea on how to fix this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1522252274, "post_id": 49538728, "comment_id": 86085030, "body": "What are you talking about? Can you give any function reference? How do you retrieve your data? A library like e.g. <a href=\"https://github.com/kittinunf/Fuel/\" rel=\"nofollow noreferrer\">Fuel</a> returns a <code>JSONObject</code> or <code>JSONArray</code> if you want to."}, {"owner": {"reputation": 22280, "user_id": 833647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jpy2l.jpg?s=128&g=1", "display_name": "Ken Wolf", "link": "https://stackoverflow.com/users/833647/ken-wolf"}, "edited": false, "score": 0, "creation_date": 1522253347, "post_id": 49538728, "comment_id": 86085855, "body": "You can do either, Kotlin places no limitations on your approach"}], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 1794739, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/962225ffc532babbb54650649613e733?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/1794739/oleg"}, "edited": false, "score": 0, "creation_date": 1522359655, "post_id": 49540488, "comment_id": 86139161, "body": "+1. We are using kotlin and Spring MVC (with Jackson as serialization provider) with no problems. Just keep in mind some <a href=\"https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes\">pecularities</a> and you will be fine."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1522257191, "creation_date": 1522257191, "answer_id": 49540488, "question_id": 49538728, "link": "https://stackoverflow.com/questions/49538728/strong-typing-and-restful-api-how-to-define-get-returned-object-in-kotlin/49540488#49540488", "title": "Strong-typing and restful API: How to define &quot;GET returned object&quot; in Kotlin?", "body": "<p>Most JSON parser libraries have an option to ignore unknown attributes in JSON data - for example, <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToIgnoreUnknown\" rel=\"nofollow noreferrer\">here's Jackson's documentation for this</a>. If you set this option, you'll be able to create data classes that only contain fields you're interested in.</p>\n"}], "owner": {"reputation": 2844, "user_id": 331465, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/647229a94efa207bdfd6c9e294724760?s=128&d=identicon&r=PG", "display_name": "user331465", "link": "https://stackoverflow.com/users/331465/user331465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522257191, "creation_date": 1522251573, "last_edit_date": 1522251977, "question_id": 49538728, "link": "https://stackoverflow.com/questions/49538728/strong-typing-and-restful-api-how-to-define-get-returned-object-in-kotlin", "title": "Strong-typing and restful API: How to define &quot;GET returned object&quot; in Kotlin?", "body": "<p><strong>TLDR</strong></p>\n\n<p>I want a kotlin utility to call a 'GET' method on a restful API. Must I-the-programmer define a class that matches <em>exactly</em> the json output? Can I skip fields, so that the 'value/return object' class includes some of the returned fields, but not others?</p>\n\n<p><strong>Background</strong></p>\n\n<p>I'm new to kotlin and switch-hitting between python and kotlin. </p>\n\n<p>I'm writing a utility to get data from a restful api. The vendor provided documentation and examples.</p>\n\n<p>In python, the 'get' method would return a 'Map of maps'. The kotlin way, in contrast, is to return a 'well-defined' object. </p>\n\n<p>I-the-coder can 'poke around' with this 'returned object' for the 'information I need'</p>\n\n<p><strong>Example</strong></p>\n\n<p>For example, let's say I want to 'get customer' from the rest api and my-utility only wants these fields:</p>\n\n<ul>\n<li>'name'</li>\n<li>'member since' date.</li>\n</ul>\n\n<p>But let's say the 'get customer' json object includes a whole-bunch-of-info I-the-programmer don't care about:</p>\n\n<ul>\n<li>\"order history\" (each entry in the 'order history' list is itself a complex object)</li>\n<li>\"customer preferences\" </li>\n</ul>\n\n<p>In kotlin: do i need to define a class that matches each and every field on the returned object? Can I define only the 'fields I care about' and have the 'json parser/object mapper' ignore all other fields?</p>\n\n<p><strong>Vs SOAP</strong></p>\n\n<p>Back in the day (e.g. 2006), applications providing SOAP services would generate java-client classes from the WSDL. Does the kotlin programmmer need to do the equivalent for restful programming?</p>\n\n<p><strong>Json Libraries</strong></p>\n\n<p>I didn't mention any specific parser (jackson, gson, klaxon) because I'm more interested in the general approach and assumed the \"kotlin side\" would be similar fo reach.</p>\n"}, {"tags": ["kotlin", "spock"], "answers": [{"tags": [], "owner": {"reputation": 2602, "user_id": 57729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IjyQL.jpg?s=128&g=1", "display_name": "Giuseppe Accaputo", "link": "https://stackoverflow.com/users/57729/giuseppe-accaputo"}, "is_accepted": true, "score": 1, "last_activity_date": 1524557044, "last_edit_date": 1524557044, "creation_date": 1524554926, "answer_id": 49995765, "question_id": 49538701, "link": "https://stackoverflow.com/questions/49538701/spock-and-internal-kotlin-function/49995765#49995765", "title": "Spock and internal kotlin function", "body": "<p>I just ran into the same issue, and the workaround I used (suggested by an experienced coworker of mine) was to write a wrapper class in Kotlin (in the same package as the class under test (CUT); I placed the source code file in the <code>test/kotlin</code> folder) and just forward function calls to the CUT. I then used the wrapper class in my groovy unit test code.</p>\n\n<p>Further, calling functions defined within an <code>object</code> in Kotlin from another programming language requires you to access the object's <code>INSTANCE</code> variable, e.g. </p>\n\n<pre><code>MonetaryPreconditions.INSTANCE.myfunction\n</code></pre>\n\n<p>In your case, the wrapper may look as follows:</p>\n\n<pre><code>package com.yourpackage\n\nobject MonetaryPreconditionsWrapper{\n    fun checkMonetariesCurrencies(monetary1: Monetary, monetary2: Monetary){\n        MonetaryPreconditions.checkMonetariesCurrencies(monetary1, monetary2)\n    }\n}\n</code></pre>\n\n<p>Now you can test the <code>MonetaryPreconditions.checkMonetariesCurrencies</code> function by simply calling the wrapper function from the groovy code as follows:</p>\n\n<pre><code>MonetaryPreconditionsWrapper.INSTANCE.checkMonetariesCurrencies(monetary1, monetary2)\n</code></pre>\n"}], "owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 49995765, "answer_count": 1, "score": 1, "last_activity_date": 1524557044, "creation_date": 1522251515, "last_edit_date": 1522257680, "question_id": 49538701, "link": "https://stackoverflow.com/questions/49538701/spock-and-internal-kotlin-function", "title": "Spock and internal kotlin function", "body": "<p>I am having trouble with using internal kotlin functions in my Spock tests. Here's short snippet of my spock test:</p>\n\n<pre><code>private def preconditions = new MonetaryPreconditions()\nprivate def usdMonetary = new Monetary(BigDecimal.ZERO, Currency.USD)\n\ndef \"should throw nothing because Monetaries currencies are same\"(){\n    when:\n    preconditions.checkMonetariesCurrencies(usdMonetary , usdMonetary )\n    then:\n    noExceptionThrown()\n}\n</code></pre>\n\n<p>and my MonetaryPreconditions class:</p>\n\n<pre><code>internal object MonetaryPreconditions {\n\n  internal fun checkMonetariesCurrencies(monetary1: Monetary, monetary2: Monetary) {\n    if (monetary1.currency != monetary2.currency) {\n        throw CurrencyMismatchException(arrayOf(monetary1.currency, monetary2.currency), \"Compared currencies does not match: \" + monetary1.currency\n                + \" , \" + monetary2.currency)\n    }\n  }\n\n}\n</code></pre>\n\n<p>My test fails with a stacktrace:</p>\n\n<blockquote>\n  <p>groovy.lang.MissingMethodException: No signature of method: touk.recruitment.parkandrest.parkingmanagement.core.monetary.MonetaryPreconditions.checkMonetariesCurrencies() is applicable for argument types: (touk.recruitment.parkandrest.parkingmanagement.core.monetary.Monetary, touk.recruitment.parkandrest.parkingmanagement.core.monetary.Monetary) values: [touk.recruitment.parkandrest.parkingmanagement.core.monetary.Monetary@7c417213, ...]</p>\n</blockquote>\n\n<p>The problem lies in internal visibility of my checkMonetariesCurrencies function. If I change it to public it works just fine, however I do want this to be module private. How can I achieve that with Spock?</p>\n\n<p>Other information about my project:</p>\n\n<ul>\n<li>Test class and MonetaryPreconditions have same package.</li>\n<li>I am using Maven.</li>\n<li>Test class and MonetaryPreconditions  are of course in the same module.</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "singleton", "android-context"], "comments": [{"owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "edited": false, "score": 0, "creation_date": 1522252645, "post_id": 49537762, "comment_id": 86085316, "body": "See this post: <a href=\"https://stackoverflow.com/a/16053523/5125812\">stackoverflow.com/a/16053523/5125812</a> and this post:  <a href=\"https://stackoverflow.com/a/9421473/5125812\">stackoverflow.com/a/9421473/5125812</a> -- Also be careful holding a reference to a context in singletons, make sure you are working with the application context. My suggestion would be to make your library as unaware of Android as possible, perhaps you load the required data elsewhere and then pass that into your library?"}], "answers": [{"tags": [], "owner": {"reputation": 5230, "user_id": 305532, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/be1815a0a124a8a1935f67426690a3eb?s=128&d=identicon&r=PG", "display_name": "Thomas Keller", "link": "https://stackoverflow.com/users/305532/thomas-keller"}, "is_accepted": false, "score": 0, "last_activity_date": 1522449661, "creation_date": 1522449661, "answer_id": 49582346, "question_id": 49537762, "link": "https://stackoverflow.com/questions/49537762/android-library-singleton-context/49582346#49582346", "title": "Android Library &amp; Singleton Context", "body": "<p>From a library design standpoint I'd most probably keep the <code>Context</code> totally out of the equation and design my API in a way that it works with generic, existing interfaces.</p>\n\n<p>For your given problem, what holds you back to simply design an API that requires an <code>InputStream</code> argument to read the CSV data and process them accordingly? The caller site can then either use that by <code>context.resources.openRawResource(R.raw.csv_file)</code>, or <code>context.assets.open(\"test.csv\")</code> or any other thing that gives you back an <code>InputStream</code> with the raw CSV contents.</p>\n\n<p>As a plus, you are then able to easily test our new, fancy API by stuffing input data in with an <code>ByteArrayInputStream</code> that can easily be created. And finally, you have literally no Android dependency on your library, so your tests and production code runs on any JVM.</p>\n"}], "owner": {"reputation": 527, "user_id": 899008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fe919b0b67568f0d0b3d45b0d020a909?s=128&d=identicon&r=PG", "display_name": "Duncan Hill", "link": "https://stackoverflow.com/users/899008/duncan-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529425589, "creation_date": 1522248715, "last_edit_date": 1529425589, "question_id": 49537762, "link": "https://stackoverflow.com/questions/49537762/android-library-singleton-context", "title": "Android Library &amp; Singleton Context", "body": "<p>I'm creating a library (using Kotlin) and have a requirement to create a String extension that searches an ArrayList and returns a value. As the extension will be called many times I only want to load the ArrayList once and reuse it, so my approach so far is this:</p>\n\n<p>Create the String extension, this is working, no issues.</p>\n\n<p>The extension calls a function in a singleton which returns the results, this approach is working as I'm manually creating the ArrayList in the init of the singleton. The final solution needs to read a .csv file from the res/raw folder which will then create the ArrayList and this is where my problems start.</p>\n\n<p>I'm struggling to find examples of reading a .csv file, currently I have a solution (test application, not a library) that reads the .csv from /app/src/main/assets using the following line of code:</p>\n\n<pre><code>       applicationContext.assets.open(\"test.csv\").bufferedReader().use {}\n</code></pre>\n\n<p>Is this the best approach for reading a file, /res/raw seems more logical?</p>\n\n<p>Assuming that my current approach is OK as soon as I move this code into my library and use it in the singleton I hit issues relating to context. I do not want the extension to have to pass context to the singleton, ideally I would like the init of the singleton to be able to fetch the context.</p>\n\n<p>So in summary... I'm trying to find a way of my Singleton in a library to have access to the context so that the .csv file can be loading into an ArrayList once only.</p>\n"}, {"tags": ["null", "kotlin"], "comments": [{"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 1, "creation_date": 1522246915, "post_id": 49536985, "comment_id": 86080818, "body": "Nope, it gives you the power to be safe, however you can still handle yourself all the cases. My experience is that in some situation it is a pain in the ass with handling all the null checks, but this is mostly because of wrong architecture of the project rather than Null Safety."}, {"owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1522247150, "post_id": 49536985, "comment_id": 86081009, "body": "@J.D.1731 ok, but an exception quickly tells you that something is wrong whereas null safety pushes the problem under the hood."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1522247160, "post_id": 49536985, "comment_id": 86081018, "body": "I add to the fact that if you want, you can still throw the NPE if you don&#39;t want it to fail silently or don&#39;t want to do anything different if the value is null"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1522247185, "post_id": 49536985, "comment_id": 86081050, "body": "Null Safety doesn&#39;t push the problem under the hood. It gives you a chance to handle any null pointer before you actually use it."}, {"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1522247363, "post_id": 49536985, "comment_id": 86081215, "body": "If you&#39;re using null safety incorrect, yes, you could be in a trouble at runtime without NPE. Compiler force you to handle that, but not tell you how to do this."}, {"owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "edited": false, "score": 0, "creation_date": 1522247423, "post_id": 49536985, "comment_id": 86081269, "body": "do you agree that <code>NullPointerException</code> only occurs on bug. If I handle it correctly in Java I never be importunated by any null."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1522247506, "post_id": 49536985, "comment_id": 86081335, "body": "Yes, but in Java you have to check if everything is null. And sometimes what you don&#39;t expect to be null just is, and you crash your application"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522255305, "post_id": 49536985, "comment_id": 86087090, "body": "Null safety is a good way to swap a runtime error for a compile time error"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 4, "last_activity_date": 1522247202, "creation_date": 1522247202, "answer_id": 49537171, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety/49537171#49537171", "title": "Benefits of Null Safety", "body": "<p>The main benefit is that the code which can potentially cause a <code>NullPointerException</code> <strong>does not compile</strong>. The only situation when you get \"part of code which silently won't be executed\" is when you use safe calls to deal with a potential nullability error. This is not the only, and not the most useful, way to deal with such errors.</p>\n"}, {"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": false, "score": 1, "last_activity_date": 1573497144, "last_edit_date": 1573497144, "creation_date": 1522247477, "answer_id": 49537287, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety/49537287#49537287", "title": "Benefits of Null Safety", "body": "<p>You don't need to not execute some piece of code due to a null object.</p>\n\n<p>The benefits to a Null Pointer Safety system is that you can know beforehand if you might face a <code>Null Pointer</code>, and act accordingly. You can know for sure if something might be null, and do something different.</p>\n\n<p>For example:</p>\n\n<pre><code>var nullableServiceVariable: NullableService? = null   //Let's say that you initialize this somewhere\n\nvar serviceAnswer = nullableServiceVariable?.answer ?: \"Answer for null!\"\n</code></pre>\n\n<p>The compiler makes you handle the possibility of <code>null</code>, so you don't get an unexpected NullPointerException that stops all your application. If the nullable is indeed null, I'll give an alternative branch, so that my system is still functional.</p>\n\n<hr>\n\n<p>If you want, you can throw a <code>NullPointerException</code>, but it would be better to use a non-nullable variable instead:</p>\n\n<pre><code>var serviceAnswer = nullableServiceVariable!!.answer\n</code></pre>\n\n<p><code>!!</code> will throw a NPE for you if the variable is null.</p>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 1, "last_activity_date": 1522249272, "creation_date": 1522249272, "answer_id": 49537959, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety/49537959#49537959", "title": "Benefits of Null Safety", "body": "<h1>How null safety protects you from problems</h1>\n\n<p>In most languages, this would be allowed</p>\n\n<pre><code>val example: String = null\n</code></pre>\n\n<p>then later on you would do this:</p>\n\n<pre><code>print(example.toUpperCase());\n</code></pre>\n\n<p>You can see that the mistake is probably in the first bit of code, but the error happens at the second bit, which is confusing.</p>\n\n<p>With null safety, when you define a variable you say if it will be null or not, and get a compilation (rather than runtime) error when this is broken.</p>\n\n<h1>How to get a NullPointerException in Kotlin</h1>\n\n<p>It is still possible to get a null pointer, but the main way would be like this:</p>\n\n<ul>\n<li><p>Create a nullable type</p>\n\n<pre><code>var r:String\n</code></pre></li>\n<li><p>Have the value as null</p>\n\n<pre><code>r = null\n</code></pre></li>\n<li><p>Assert the value is not null</p>\n\n<pre><code>r!!\n</code></pre></li>\n</ul>\n\n<p>This is why you want to avoid <code>!!</code> unless you are sure the value will not be null.</p>\n\n<h1>Working with nullable types</h1>\n\n<p>You can deal with nullable types when you don't want null in many ways:</p>\n\n<ul>\n<li><p>With a default</p>\n\n<pre><code>val set = nullable ?: \"It was null, sorry\"\n</code></pre></li>\n<li><p>Throwing if the value is null</p>\n\n<pre><code>val set = nullable ?: throw AssertionError(\":(\")\n</code></pre></li>\n<li><p>Propagating nulls</p>\n\n<pre><code>val set = nullable?.doThing()?.doThing2()?.property\n</code></pre>\n\n<p><em>set will be the final value, or null if any of these gives back a null</em></p></li>\n<li><p>Only operating on nulls</p>\n\n<pre><code>nullable?.let {\n     print(it.property)\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "is_accepted": true, "score": 8, "last_activity_date": 1522283528, "creation_date": 1522283528, "answer_id": 49546248, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety/49546248#49546248", "title": "Benefits of Null Safety", "body": "<p>I will assume that you come from Java, you already looked at some explanations somewhere else and did not fully understand them. Therefore, I will not try to give you a comprehensive explanation (which you can find elsewhere) but instead I will try to make clear the core idea of null pointer safety.</p>\n\n<p>There are two points that, if you understand them, should make it clear enough. First, there is the idea of having two separate types to represent what you would model as a single type in Java: nullable ones and not nullable ones. To give you an example, while in Java you put a string in a <code>String</code> object, without caring if the string can be null or not, in Kotlin you have two types: <code>String?</code> and <code>String</code>. The first accepts null values (like the Java equivalent) but the second does not. So you can have null values in types with a <code>?</code> (like <code>String?</code> or <code>Int?</code>) but there are a lot of restrictions on what you can do with those: basically you are restricted to the things you can do with a null, because, after all, the variable could be holding a null value. So no calling of method on it, for instance. So, while in Java you could call a method on it and have a <code>NullPointerException</code> sometimes, in Kotlin you cannot call any methods. And this is not because of some silent behavior of Kotlin, it\u2019s much simpler than that: the compiler won\u2019t let you. Try and you will see that the program does not compile. If the variable was of type <code>String</code> instead of <code>String?</code> then Kotlin would allow you to call methods from it.</p>\n\n<p>So, basically, no null pointer exceptions because you can never call a method on an object variable that could be null.</p>\n\n<p>But then, sometimes the variable is not null: so how could you call the method on the variable in those cases where the variable is not null? Again, the answer is simple: you have to check it. I mean, you have to use an <code>if</code> instruction (explicitly or implicitly) that will check if the variable is null or not. Something like \u201c<code>if (myVariable != null) {call method on variable}</code>\u201d. So, as you can see, the Kotlin compiler is clever enough to see that you used an <code>if</code> instruction that guarantees that the variable is not null, so it will let you call methods on the variable in the block between <code>{</code> and <code>}</code>. In other words, if your variable is of type <code>String?</code> but you are inside an <code>if</code> block where you checked that the variable is not null, Kotlin will treat it like a variable of type <code>String</code> instead of <code>String?</code></p>\n\n<p>When you speak about </p>\n\n<blockquote>\n  <p>some part the code which silently won't be executed</p>\n</blockquote>\n\n<p>I am guessing you are thinking about some operators that have an implicit <code>if</code> inside of them, like the <code>?.</code> operator. If you write</p>\n\n<p><code>myVariable?.call()</code></p>\n\n<p>it means roughly</p>\n\n<p><code>if (myVariable != null) { myVariable.call()}</code></p>\n\n<p>So, indeed, if the variable is null, it will \u201cfail\u201d silently. But this is not different than Java if you use the same kind of <code>if</code>. In other words, nothing will happen if the variable is null because you explicitly coded it to behave like that.</p>\n"}, {"tags": [], "owner": {"reputation": 3722, "user_id": 78743, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/29849e32cb1c3a4ab317c0104acb6796?s=128&d=identicon&r=PG", "display_name": "jiggy", "link": "https://stackoverflow.com/users/78743/jiggy"}, "is_accepted": false, "score": 3, "last_activity_date": 1522287465, "creation_date": 1522287465, "answer_id": 49546708, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety/49546708#49546708", "title": "Benefits of Null Safety", "body": "<p>To give you a short answer, your understanding is totally correct. Kotlin does not <em>solve</em> the NPE issue. It just proactively forces you to make an explicit decision to prevent it or not.</p>\n"}], "owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1991, "favorite_count": 2, "accepted_answer_id": 49546248, "answer_count": 5, "score": 10, "last_activity_date": 1573497144, "creation_date": 1522246722, "last_edit_date": 1542742041, "question_id": 49536985, "link": "https://stackoverflow.com/questions/49536985/benefits-of-null-safety", "title": "Benefits of Null Safety", "body": "<p>I'm new to Kotlin and I've read that it seems to be the best invention after the wheel. That makes me suspicious anyway, certainly because I didn't understand everything the concept implies.</p>\n\n<p>To resume what I understood, before we had <code>NullPointerException</code> so a very clear idea about something is wrong in the code and where the problem occurs but not where the null was set. Anyway, it was quite clear that we could wait here until the null pointer comes back expecting understand what happened from the backtrace. Everybody did that already, that's never impossible to find.</p>\n\n<p>Now with Null Pointer Safety, we do not have such crash anymore, just some part the code which silently won't be executed in our application (we assume the reference used is not supposed to be null as before, of course), causing maybe strange behavior even more complicated to understand than the <code>NullPointerException</code> before, or maybe just some tasks not executed for month before someone realize it.</p>\n\n<p>Is it the benefits Null Pointer Safety offer?</p>\n"}, {"tags": ["generics", "kotlin", "typetoken"], "comments": [{"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1522246644, "post_id": 49536841, "comment_id": 86080574, "body": "Did you try <code>reified</code> the line, like that: <code>inline fun &lt;reified T : Any&gt; deserialize(reader: Reader): T?</code>"}, {"owner": {"reputation": 390, "user_id": 3990328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/45851b8f09324796fa21c4f89ce5fd9b?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/3990328/william"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1522246811, "post_id": 49536841, "comment_id": 86080727, "body": "Yes, but If I do this, I will cannot override deserialize method(because the signature of the same). I also cannot do &lt;reified T: Any&gt; because I am already using &quot;T&quot; in the class generic type"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1522282015, "last_edit_date": 1522282015, "creation_date": 1522251750, "answer_id": 49538795, "question_id": 49536841, "link": "https://stackoverflow.com/questions/49536841/get-generic-type-of-t-in-kotlin/49538795#49538795", "title": "Get generic type of T in Kotlin", "body": "<p>Since the <code>Deserializer</code> body is compiled only once, the compiler cannot create different classes for <code>object : TypeToken&lt;T&gt;() {}</code> with different concrete types substituting the type parameter <code>T</code> (thus it just leaves <code>T</code> as it is), while this condition is essential for generics reification with <code>TypeToken</code> to work. </p>\n\n<p>You can only obtain the concrete type with <code>TypeToken</code> where a concrete type is present in the source code <strong>or</strong> inside an <code>inline</code> function with a <code>reified</code> type parameter.</p>\n\n<p>You can fix your code by adding a <code>TypeToken</code> parameter to the constructor of <code>Deserializer</code> and using an <code>inline</code> factory function:</p>\n\n<pre><code>class Deserializer&lt;T : Any&gt;(\n    val typeToken: TypeToken&lt;T&gt;\n) : ResponseDeserializable&lt;T&gt; {\n\n    override fun deserialize(reader: Reader): T? {\n        val type = typeToken.type\n        return Gson().fromJson(reader, type)\n    }\n}\n\ninline fun &lt;reified T&gt; deserializerOf(): Deserializer&lt;T&gt; = \n    Deserializer(object : TypeToken&lt;T&gt;() {})\n</code></pre>\n\n<p>Usage example: </p>\n\n<pre><code>val deserializer = deserializerOf&lt;MyType&gt;()\n</code></pre>\n\n<p>This will work because, when the function is inlined, the compiler transforms its body for each of its call sites, and the transformations include substituting the reified type parameters with the concrete types.</p>\n"}], "owner": {"reputation": 390, "user_id": 3990328, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/45851b8f09324796fa21c4f89ce5fd9b?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/3990328/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2205, "favorite_count": 0, "accepted_answer_id": 49538795, "answer_count": 1, "score": 1, "last_activity_date": 1522282015, "creation_date": 1522246284, "last_edit_date": 1522251875, "question_id": 49536841, "link": "https://stackoverflow.com/questions/49536841/get-generic-type-of-t-in-kotlin", "title": "Get generic type of T in Kotlin", "body": "<p>I have this generic method:</p>\n\n<pre><code>class Deserializer&lt;T : Any&gt; : ResponseDeserializable&lt;T&gt; {\n    override fun deserialize(reader: Reader): T? {\n        val type =  object: TypeToken&lt;T&gt;() {}.type\n        return Gson().fromJson(reader, type)\n    }\n}\n</code></pre>\n\n<p>but the <code>val type =  object: TypeToken&lt;T&gt;() {}.type</code> is returning \"T\" to me, instead the type of the class passed.</p>\n\n<p>Is there a way to get the type of the class passed as \"T\"?</p>\n"}, {"tags": ["java", "android", "json", "parsing", "kotlin"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1522242448, "post_id": 49535244, "comment_id": 86077197, "body": "try using   <code>Array&lt;UserSession&gt;::class.java!!</code>  instead of <code>UserSession::class.java</code>"}, {"owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1522249770, "post_id": 49535244, "comment_id": 86083174, "body": "Thanks. It was the first thing I tried before posting here but it didn&#39;t work.  I renamed the variables and changed to ArrayList and it worked."}, {"owner": {"reputation": 2223, "user_id": 496895, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/tcfXe.jpg?s=128&g=1", "display_name": "Syed Absar", "link": "https://stackoverflow.com/users/496895/syed-absar"}, "edited": false, "score": 0, "creation_date": 1554883960, "post_id": 49535244, "comment_id": 97910114, "body": "Try JSON2Kotlin, you might want to follow this tutorial <a href=\"https://www.youtube.com/watch?v=n46WbgNoEnE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=n46WbgNoEnE</a>"}], "answers": [{"tags": [], "owner": {"reputation": 208, "user_id": 8879186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zJ5kH-LEhBo/AAAAAAAAAAI/AAAAAAAAAB4/MhZsmAyPsUY/photo.jpg?sz=128", "display_name": "Janku", "link": "https://stackoverflow.com/users/8879186/janku"}, "is_accepted": true, "score": 1, "last_activity_date": 1522242543, "creation_date": 1522242543, "answer_id": 49535495, "question_id": 49535244, "link": "https://stackoverflow.com/questions/49535244/kotlin-unable-to-parse-json/49535495#49535495", "title": "Kotlin - Unable to parse JSON", "body": "<p>there is problem with variable name as you are going to map your json directly into pojo (model) class with gson. always json key name and model variable name should be same while working with gson.</p>\n\n<p>changes should like this :</p>\n\n<ul>\n<li><p>json should be same as showing</p></li>\n<li><p>change variable type in models :</p>\n\n<p>var submission_date : String</p>\n\n<p>var user_answers : ArrayList = ArrayList()</p>\n\n<p>var question_id : Int</p>\n\n<p>var answer : Int</p></li>\n</ul>\n\n<p>change all getter / setter and methods according to these variable name</p>\n\n<p>this will works..</p>\n"}, {"comments": [{"owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "edited": false, "score": 1, "creation_date": 1522248907, "post_id": 49535803, "comment_id": 86082449, "body": "Thanks. It really helped."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "edited": false, "score": 0, "creation_date": 1522299325, "post_id": 49535803, "comment_id": 86103781, "body": "@daydr3am3r Move ahead!"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 3, "last_activity_date": 1522243834, "last_edit_date": 1522243834, "creation_date": 1522243448, "answer_id": 49535803, "question_id": 49535244, "link": "https://stackoverflow.com/questions/49535244/kotlin-unable-to-parse-json/49535803#49535803", "title": "Kotlin - Unable to parse JSON", "body": "<blockquote>\n  <p>JsonSyntaxException: java.lang.IllegalStateException: Expected\n  BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path</p>\n</blockquote>\n\n<p>This exception is raised when <strong>Gson attempts to read (or write) a malformed JSON element</strong>.You should Rectify your <strong>MODEL</strong> class</p>\n\n<p><strong><code>val user_answers:ArrayList&lt;User_answers&gt;</code></strong></p>\n\n<p>Try this way,</p>\n\n<pre><code>class YOUR_MODEL_CLASS( val submission_date:String, val user_answers:ArrayList&lt;User_answers&gt;)\ndata class User_answers\n(\n    val question_id   : Int,\n    val answer        : Int\n\n)\n</code></pre>\n\n<p>Hope this helps you.</p>\n"}], "owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 49535495, "answer_count": 2, "score": 0, "last_activity_date": 1522243834, "creation_date": 1522241869, "question_id": 49535244, "link": "https://stackoverflow.com/questions/49535244/kotlin-unable-to-parse-json", "title": "Kotlin - Unable to parse JSON", "body": "<p>I am trying to parse a JSON using Kotlin (I'm new to Kotlin / Android) and I can't seem to find a way to get it done.</p>\n\n<pre><code>[{\n    \"submission_date\": \"March 2018\",\n    \"user_answers\": [{\n        \"question_id\": 0,\n        \"answer\": 5\n    }, {\n        \"question_id\": 1,\n        \"answer\": 5\n    }]\n}, {\n    \"submission_date\": \"March 2018\",\n    \"user_answers\": [{\n        \"question_id\": 0,\n        \"answer\": 0\n    }, {\n        \"question_id\": 1,\n        \"answer\": 0\n    }]\n}]\n</code></pre>\n\n<p>After trying for some time with Klaxon I decided to give GSON a try and start following this: <a href=\"https://www.youtube.com/watch?v=53BsyxwSBJk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=53BsyxwSBJk</a></p>\n\n<p>The code seems pretty straight forward:</p>\n\n<pre><code>val gson = GsonBuilder().create()\nval userSessions = gson.fromJson(userDataJSON, UserSession::class.java)\n</code></pre>\n\n<p>Here are the models:</p>\n\n<pre><code>class UserSession(submissionDate : String)\n{\n    var submissionDate : String\n    var userAnswers : ArrayList&lt;UserAnswer&gt; = ArrayList&lt;UserAnswer&gt;()\n\n    init\n    {\n        this.submissionDate = submissionDate\n    }\n\n    // We call this function later on, when we have a UserAnswer array  to work with\n    fun addArray(userAnswersArray : ArrayList&lt;UserAnswer&gt;)\n    {\n        if(userAnswersArray.size &gt; 0)\n        {\n            for (userAnswer : UserAnswer in userAnswersArray)\n            {\n                this.userAnswers.add(userAnswer)\n            }\n        }\n        else\n        {\n            println(\"No user answer found. Array is empty.\")\n        }\n    }\n}\n\nclass UserAnswer(idQuestion : Int, userAnswer : Int)\n{\n    var idQuestion : Int\n    var userAnswer : Int\n\n    init\n    {\n        this.idQuestion = idQuestion\n        this.userAnswer = userAnswer\n    }\n}\n</code></pre>\n\n<p>However, I get <code>JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $</code>\nAs far as I'm aware, the JSON is valid, or so JSONLint says.</p>\n\n<p>Any ideas? I've been struggling for some time with parsing this JSON without any luck.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 1, "creation_date": 1522241301, "post_id": 49534872, "comment_id": 86076314, "body": "Check this answer: <a href=\"https://stackoverflow.com/a/49096658/3806413\">stackoverflow.com/a/49096658/3806413</a>"}, {"owner": {"reputation": 237, "user_id": 9426111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8MIefS1b43k/AAAAAAAAAAI/AAAAAAAAALM/R7DYHNJAbEY/photo.jpg?sz=128", "display_name": "Mohamed Ramadan", "link": "https://stackoverflow.com/users/9426111/mohamed-ramadan"}, "reply_to_user": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 0, "creation_date": 1522320181, "post_id": 49534872, "comment_id": 86115127, "body": "@0xalihn Thanks,You made my day."}, {"owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 0, "creation_date": 1522320288, "post_id": 49534872, "comment_id": 86115206, "body": "Don&#39;t forget to upvote if it works. So that, others can be benefited."}, {"owner": {"reputation": 237, "user_id": 9426111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8MIefS1b43k/AAAAAAAAAAI/AAAAAAAAALM/R7DYHNJAbEY/photo.jpg?sz=128", "display_name": "Mohamed Ramadan", "link": "https://stackoverflow.com/users/9426111/mohamed-ramadan"}, "reply_to_user": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 0, "creation_date": 1522321499, "post_id": 49534872, "comment_id": 86116024, "body": "Sorry i need 15 reputation to upvote comments."}, {"owner": {"reputation": 19152, "user_id": 334402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/476b932160cd12fa0e4515a313427679?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/334402/mick"}, "edited": false, "score": 0, "creation_date": 1546608913, "post_id": 49534872, "comment_id": 94914907, "body": "This may be worth checking also - worked for me: <a href=\"https://stackoverflow.com/a/49510827/334402\">stackoverflow.com/a/49510827/334402</a>"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 9131747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a076f40a4f0b291c1714e6d0050dbfcc?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/9131747/christoph"}, "is_accepted": false, "score": 7, "last_activity_date": 1526896010, "last_edit_date": 1526896010, "creation_date": 1522309348, "answer_id": 49550555, "question_id": 49534872, "link": "https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-error-could-not-find-org-jet/49550555#49550555", "title": "After update to Android Studio 3.1 I&#39;m facing this error: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0", "body": "<p>Add the JCenter repo to your Project-level <code>build.gradle</code> file:</p>\n\n<pre><code>buildscript {\n    dependencies {\n        repositories {\n            //...\n            google()\n            jcenter() // &lt;--- this is needed\n        }\n\n        classpath 'com.android.tools.build:gradle:3.1.0'\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1538593361, "post_id": 49552433, "comment_id": 92201262, "body": "@IgorGanapolsky I dunno man but apparently it solved the issue for me and 8 other people who upvoted it? Technically it&#39;s because jCenter was overloaded, so moving it to the bottom and adding mavenCentral at the top makes Gradle look for it in mavenCentral first, and jCenter second. If it&#39;s not overloaded at the time, the order shouldn&#39;t affect anything, though. If this is not the cause, I&#39;d put my wager on <code>implementation</code> vs <code>api</code> in Gradle build dependency."}, {"owner": {"reputation": 189, "user_id": 1214383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c07001fe483a530f721ad22f3f4e40?s=128&d=identicon&r=PG", "display_name": "Mohamed ElSawaf", "link": "https://stackoverflow.com/users/1214383/mohamed-elsawaf"}, "edited": false, "score": 0, "creation_date": 1542012816, "post_id": 49552433, "comment_id": 93401750, "body": "This is solved my problem, thank you @EpicPandaForce for that great answer. By the way my problem was - problem occurred configuring root project could not get resource kotlin plugin 1.3.0 on Android Studio 3.2.1"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 19, "last_activity_date": 1522315574, "creation_date": 1522315574, "answer_id": 49552433, "question_id": 49534872, "link": "https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-error-could-not-find-org-jet/49552433#49552433", "title": "After update to Android Studio 3.1 I&#39;m facing this error: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0", "body": "<p>JCenter was being cranky the other day, so following should help:</p>\n\n<pre><code>    repositories {\n        mavenCentral() // &lt;-- add this at top\n        google()\n        jcenter()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 9426111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8MIefS1b43k/AAAAAAAAAAI/AAAAAAAAALM/R7DYHNJAbEY/photo.jpg?sz=128", "display_name": "Mohamed Ramadan", "link": "https://stackoverflow.com/users/9426111/mohamed-ramadan"}, "is_accepted": true, "score": 4, "last_activity_date": 1554174490, "last_edit_date": 1554174490, "creation_date": 1522320360, "answer_id": 49554101, "question_id": 49534872, "link": "https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-error-could-not-find-org-jet/49554101#49554101", "title": "After update to Android Studio 3.1 I&#39;m facing this error: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0", "body": "<p>Working like this</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.1'  //Add this line\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:3.1.0'\n        classpath 'com.google.gms:google-services:3.2.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2602, "user_id": 3298390, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6dfdec9784fc29b798be808f1dfb460b?s=128&d=identicon&r=PG&f=1", "display_name": "patrick.1729", "link": "https://stackoverflow.com/users/3298390/patrick-1729"}, "is_accepted": false, "score": 3, "last_activity_date": 1522605608, "creation_date": 1522605608, "answer_id": 49601045, "question_id": 49534872, "link": "https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-error-could-not-find-org-jet/49601045#49601045", "title": "After update to Android Studio 3.1 I&#39;m facing this error: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0", "body": "<p>Add the following to your Project gradle file:</p>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0'\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 9426111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8MIefS1b43k/AAAAAAAAAAI/AAAAAAAAALM/R7DYHNJAbEY/photo.jpg?sz=128", "display_name": "Mohamed Ramadan", "link": "https://stackoverflow.com/users/9426111/mohamed-ramadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14272, "favorite_count": 2, "accepted_answer_id": 49554101, "answer_count": 4, "score": 18, "last_activity_date": 1562337718, "creation_date": 1522240926, "last_edit_date": 1562337718, "question_id": 49534872, "link": "https://stackoverflow.com/questions/49534872/after-update-to-android-studio-3-1-im-facing-this-error-could-not-find-org-jet", "title": "After update to Android Studio 3.1 I&#39;m facing this error: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0", "body": "<p>After updating to Android Studio 3.1, I'm facing this error.</p>\n\n<p>Note: I'm using Java not Kotlin</p>\n\n<pre><code>Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0.\n\nSearched in the following locations:\n    https://maven.fabric.io/public/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n    https://maven.fabric.io/public/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\nRequired by:\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.lint:lint-gradle-api:26.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:gradle-api:3.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.databinding:compilerCommon:3.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools:sdk-common:26.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools.build:manifest-merger:26.1.0\n    project :app &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools:sdklib:26.1.0 &gt; com.android.tools:repository:26.1.0\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-reflect"], "comments": [{"owner": {"reputation": 1282, "user_id": 874797, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a9ac62323ad7becd6541362ec72ce6d9?s=128&d=identicon&r=PG", "display_name": "Marcin Bak", "link": "https://stackoverflow.com/users/874797/marcin-bak"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1522241095, "post_id": 49534376, "comment_id": 86076170, "body": "@Zoe This is not the case, the kotlin-reflect dependency is there, and the app works perfectly, but crashes only after upgrading to android build gradle plugin 3.1.0 and only on one device."}, {"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1522622853, "post_id": 49534376, "comment_id": 86213924, "body": "Post your <code>build.gradle</code> files."}, {"owner": {"reputation": 1937, "user_id": 599944, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/736672918990d157fcad2513571f9505?s=128&d=identicon&r=PG", "display_name": "Leandroid", "link": "https://stackoverflow.com/users/599944/leandroid"}, "edited": false, "score": 1, "creation_date": 1522754061, "post_id": 49534376, "comment_id": 86264094, "body": "This is not a duplicated issue. The solution on the other question does not solve this problem. It is addressed to android gradle plugin 3.1.0 and the only way to fix it was downgrading to 3.0.1"}, {"owner": {"reputation": 1282, "user_id": 874797, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a9ac62323ad7becd6541362ec72ce6d9?s=128&d=identicon&r=PG", "display_name": "Marcin Bak", "link": "https://stackoverflow.com/users/874797/marcin-bak"}, "reply_to_user": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 1, "creation_date": 1522782903, "post_id": 49534376, "comment_id": 86282804, "body": "@JaredBurrows unfortunately cannot paste the failing build.gradle as it&#39;s part of a company&#39;s project. For sure it is not a duplicate, if you read the question and my comment and compare it to linked issue you&#39;ll notice that I specifically stated that I include the dependency in the code. Moreover the code works on devices with higher android versions and works after downgrading gradle plugin version."}], "answers": [{"tags": [], "owner": {"reputation": 1588, "user_id": 1528991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd9ed8179945489d799815e6d6920bb7?s=128&d=identicon&r=PG", "display_name": "jskierbi", "link": "https://stackoverflow.com/users/1528991/jskierbi"}, "is_accepted": true, "score": 4, "last_activity_date": 1524006737, "last_edit_date": 1524006737, "creation_date": 1524005079, "answer_id": 49888564, "question_id": 49534376, "link": "https://stackoverflow.com/questions/49534376/kotlin-reflect-and-android-gradle-plugin-3-1-0/49888564#49888564", "title": "Kotlin-reflect and android gradle plugin 3.1.0", "body": "<p>Adding line to<code>gradle.properties</code> fixes the problem:</p>\n\n<pre><code>android.enableD8MainDexList=false\n</code></pre>\n\n<p>Additionally, bug seems to be gone in plugin version <code>3.2.0-alpha11</code></p>\n\n<p>Sources:</p>\n\n<ul>\n<li><a href=\"https://www.reddit.com/r/androiddev/comments/7ss81w/android_studio_31_canary_9_is_now_available/dt7t0s2/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/androiddev/comments/7ss81w/android_studio_31_canary_9_is_now_available/dt7t0s2/</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/72039872\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/72039872</a></li>\n</ul>\n"}], "owner": {"reputation": 1282, "user_id": 874797, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a9ac62323ad7becd6541362ec72ce6d9?s=128&d=identicon&r=PG", "display_name": "Marcin Bak", "link": "https://stackoverflow.com/users/874797/marcin-bak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 3, "accepted_answer_id": 49888564, "answer_count": 1, "score": 6, "last_activity_date": 1524006737, "creation_date": 1522239579, "last_edit_date": 1522783998, "question_id": 49534376, "link": "https://stackoverflow.com/questions/49534376/kotlin-reflect-and-android-gradle-plugin-3-1-0", "title": "Kotlin-reflect and android gradle plugin 3.1.0", "body": "<p>I'm using org.jetbrains.kotlin:kotlin-reflect library in my project (included in gradle dependencies).</p>\n\n<p>The app has been working without any problems however after upgrading android gradle plugin to newest version 3.1.0 the app started to crash on one device (Nexus 5, Android 4.4.3).\nThe logs are as follows:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: \n                                                                             kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\n                                                                                 at kotlin.jvm.internal.ClassReference.error(ClassReference.kt:86)\n                                                                                 at kotlin.jvm.internal.ClassReference.getSimpleName(ClassReference.kt:23)</p>\n</blockquote>\n\n<p>I assume it's not expected behaviour, but maybe someone found a workaround/solution?</p>\n\n<p>For now I was forced to downgradle android gradle plugin to 3.0.1 to prevent app from crashing.</p>\n\n<p>====================</p>\n\n<p>I've tried to recreate environment causing the crash, however I did not manage to reproduce the crash.\nBecause this happens only on older android versions (pre-L) and after upgrading android gradle plugin that introduces some dex optimisations, my guess is that it's somehow related.</p>\n\n<p>====================</p>\n\n<p><strong><em>For those marking this issue as duplicate</em></strong>:</p>\n\n<p>I'm not sure if can be more clear about that: other ticket is about missing dependency. I have kotlin-reflect dependency in my build.gradle. Moreover my app <strong>works</strong> on higher Android versions as well as after downgrading the android gradle plugin to 3.0.1.\nWith missing dependency this would not work with any version of android gradle plugin. Therefore the answer from other question is not valid for this one.</p>\n"}, {"tags": ["android", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1522235275, "post_id": 49532845, "comment_id": 86071953, "body": "<a href=\"https://stackoverflow.com/questions/48709870/still-getting-warning-configuration-compile-is-obsolete-and-has-been-replace\" title=\"still getting warning configuration compile is obsolete and has been replace\">stackoverflow.com/questions/48709870/&hellip;</a>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1522235336, "post_id": 49532845, "comment_id": 86071994, "body": "<a href=\"https://stackoverflow.com/questions/48462550/android-studio-build-gradle-warning-message\" title=\"android studio build gradle warning message\">stackoverflow.com/questions/48462550/&hellip;</a>"}, {"owner": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1522235577, "post_id": 49532845, "comment_id": 86072152, "body": "what about failed to resolve glide?"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1522236252, "post_id": 49532845, "comment_id": 86072596, "body": "try <code>3.2.0</code> play-services !! instead of <code>3.1.0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 9396526, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "H Wong", "link": "https://stackoverflow.com/users/9396526/h-wong"}, "edited": false, "score": 0, "creation_date": 1522240898, "post_id": 49534783, "comment_id": 86075992, "body": "I just saw your edit, I&quot;m not using Kotlin so I&#39;m not sure if my answer will help solve your issue.  Other than the above, I also updated some SDK&#39;s: Tools &gt; SDK Manager &gt; Click on SDK Tools tab &gt; I updated &quot;Android SDK Build-Tools 28-rc1&quot;, Installed Google play services, and have both Android Support Repository and Google Repository checked."}, {"owner": {"reputation": 221, "user_id": 9396526, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "H Wong", "link": "https://stackoverflow.com/users/9396526/h-wong"}, "reply_to_user": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "edited": false, "score": 0, "creation_date": 1522241345, "post_id": 49534783, "comment_id": 86076347, "body": "Try to comment out each of your plug ins 1 by 1 and see if the error message changes?"}, {"owner": {"reputation": 1921, "user_id": 3109401, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VK6In.jpg?s=128&g=1", "display_name": "Kimi Chiu", "link": "https://stackoverflow.com/users/3109401/kimi-chiu"}, "edited": false, "score": 0, "creation_date": 1530066394, "post_id": 49534783, "comment_id": 89098298, "body": "Funny, I have to remove mavenCentral and use jcenter instead."}], "tags": [], "owner": {"reputation": 221, "user_id": 9396526, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "H Wong", "link": "https://stackoverflow.com/users/9396526/h-wong"}, "is_accepted": false, "score": 0, "last_activity_date": 1522240714, "creation_date": 1522240714, "answer_id": 49534783, "question_id": 49532845, "link": "https://stackoverflow.com/questions/49532845/failed-to-resolve-glide-now-3rd-party-gradle-plug-ins-may-be-the-cause/49534783#49534783", "title": "failed to resolve glide, now 3rd-party Gradle plug-ins may be the cause", "body": "<p>I had this issue earlier but solved it.</p>\n\n<p>Make sure under your (Project's) build.gradle, you have:</p>\n\n<pre><code>mavenCentral()\nmaven { url 'https://maven.google.com' }\n</code></pre>\n\n<p>I have it in both repositories.</p>\n\n<p>After adding that, I still had an error. If you do, comment out jcenter().</p>\n\n<p>This is my build.gradle to make it work:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        //jcenter()\n        mavenCentral()\n        maven { url 'https://maven.google.com' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        //jcenter()\n        mavenCentral()\n        maven { url 'https://maven.google.com' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Let me know if it works too for you.</p>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "edited": false, "score": 0, "creation_date": 1522416304, "post_id": 49536682, "comment_id": 86157930, "body": "This dependency is deprecated now  classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;"}], "tags": [], "owner": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "is_accepted": true, "score": 4, "last_activity_date": 1522400947, "last_edit_date": 1522400947, "creation_date": 1522245863, "answer_id": 49536682, "question_id": 49532845, "link": "https://stackoverflow.com/questions/49532845/failed-to-resolve-glide-now-3rd-party-gradle-plug-ins-may-be-the-cause/49536682#49536682", "title": "failed to resolve glide, now 3rd-party Gradle plug-ins may be the cause", "body": "<p>After two edits,,, finally I solved my problem by adding this </p>\n\n<pre><code>android{\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n\n<p>and Gradle file</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n    ext.roomVersion = '1.0.0'\n    repositories {\n        mavenCentral()\n        jcenter()\n        google()\n        maven { url 'https://maven.google.com' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0'\n        classpath 'com.google.gms:google-services:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        jcenter()\n        google()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>this helps me to solve my problem of <strong><em>TaskExecutionException</em></strong>\n<a href=\"https://stackoverflow.com/a/47387435/2809351\">https://stackoverflow.com/a/47387435/2809351</a></p>\n"}, {"tags": [], "owner": {"reputation": 8057, "user_id": 4387357, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/rCgQb.jpg?s=128&g=1", "display_name": "Jerin A Mathews", "link": "https://stackoverflow.com/users/4387357/jerin-a-mathews"}, "is_accepted": false, "score": 1, "last_activity_date": 1522298070, "creation_date": 1522298070, "answer_id": 49548104, "question_id": 49532845, "link": "https://stackoverflow.com/questions/49532845/failed-to-resolve-glide-now-3rd-party-gradle-plug-ins-may-be-the-cause/49548104#49548104", "title": "failed to resolve glide, now 3rd-party Gradle plug-ins may be the cause", "body": "<p>This error is happening when you update the gradle or android studio to the latest version. Heres the fix for this problem.</p>\n\n<p>Check your project gradle file. If there's <code>jcenter</code> in repositories, remove it and build the project.\nThe project gradle will look like :</p>\n\n<pre><code>allprojects {\nrepositories {\n    google()\n    mavenCentral()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>If the error came again, after removing <code>jcenter()</code>, add <code>maven { url 'https://maven.google.com' }</code> inside the repositories and build again.</p>\n\n<p>This will solve your issue.</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "is_accepted": false, "score": 4, "last_activity_date": 1522416882, "last_edit_date": 1522416882, "creation_date": 1522413944, "answer_id": 49574725, "question_id": 49532845, "link": "https://stackoverflow.com/questions/49532845/failed-to-resolve-glide-now-3rd-party-gradle-plug-ins-may-be-the-cause/49574725#49574725", "title": "failed to resolve glide, now 3rd-party Gradle plug-ins may be the cause", "body": "<p>Upgrade the version of kotlin \"1.2.31\"\nadd this dependencies in your app level gradle file :</p>\n\n<blockquote>\n<pre><code>android {\n  ...\n\n  sourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n  }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n}\n</code></pre>\n</blockquote>\n\n<p>Don't forgot add plugin :</p>\n\n<blockquote>\n  <p>apply plugin: 'kotlin-android'</p>\n</blockquote>\n\n<p>Remove old dependency of jetbrains </p>\n\n<blockquote>\n  <p>implementation\n  \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"</p>\n</blockquote>\n\n<p>It will helps you :)</p>\n"}], "owner": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9188, "favorite_count": 2, "accepted_answer_id": 49536682, "answer_count": 4, "score": 8, "last_activity_date": 1553442140, "creation_date": 1522235026, "last_edit_date": 1553442140, "question_id": 49532845, "link": "https://stackoverflow.com/questions/49532845/failed-to-resolve-glide-now-3rd-party-gradle-plug-ins-may-be-the-cause", "title": "failed to resolve glide, now 3rd-party Gradle plug-ins may be the cause", "body": "<p>Everything working fine before updating android studio 3.0.1, but after updating android studio I am stuck with </p>\n\n<p><strong>Configuration 'compile' is obsolete and has been replaced with 'implementation'.\nIt will be removed at the end of 2018\nFailed to resolve: glide\nOpen File\nFolder /home/lalit/repositories/android/WaveDist/app/build/generated/source/kaptKotlin/debug\nFolder /home/lalit/repositories/android/WaveDist/app/build/generated/source/kaptKotlin/release\n3rd-party Gradle plug-ins may be the cause</strong></p>\n\n<p>My gradle dependence </p>\n\n<pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.2.+'\n    implementation 'com.github.wrdlbrnft:sorted-list-adapter:0.2.0.1'\n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.android.support:recyclerview-v7:27.1.0'\n    implementation 'com.android.support:cardview-v7:27.1.0'\n    implementation 'com.android.support:support-v4:27.1.0'\n    implementation 'com.google.code.gson:gson:2.8.2'\n    implementation 'com.squareup.retrofit2:retrofit:2.0.2'\n    implementation 'com.squareup.retrofit2:converter-gson:2.0.2'\n    implementation 'com.android.support:design:27.1.0'\n    implementation 'com.android.support:support-v13:27.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.bumptech.glide:glide:4.6.1'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.6.1'\n    implementation 'com.google.firebase:firebase-core:12.0.0'\n    implementation 'com.google.firebase:firebase-messaging:12.0.0'\n    implementation 'com.google.android.gms:play-services-analytics:12.0.0'\n    implementation 'de.hdodenhof:circleimageview:2.1.0'\n    implementation 'com.android.support:support-vector-drawable:27.1.0'\n    implementation 'com.android.support:support-core-utils:27.1.0'\n    testImplementation 'junit:junit:4.12'\n    implementation 'android.arch.lifecycle:common-java8:1.1.1'\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    implementation 'android.arch.lifecycle:reactivestreams:1.1.1'\n    implementation 'android.arch.persistence.room:runtime:1.0.0'\n    kapt \"android.arch.persistence.room:compiler:1.0.0\"\n    implementation 'com.google.firebase:firebase-auth:12.0.0'\n\n    implementation 'com.google.android.gms:play-services-maps:12.0.0'\n    implementation 'com.google.firebase:firebase-database:12.0.0'\n    implementation 'com.google.maps.android:android-maps-utils:0.5'\n    implementation 'com.google.android.gms:play-services-location:12.0.0'\n    implementation 'com.google.android.gms:play-services-places:12.0.0'\n    implementation 'com.google.android.gms:play-services-base:12.0.0'\n\n}\n</code></pre>\n\n<p>App level gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n    ext.roomVersion = '1.0.0'\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0'\n        classpath 'com.google.gms:google-services:3.1.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n    }\n}\n</code></pre>\n\n<p>How can I solve this problem? Please help me..</p>\n\n<p><strong>EDIT</strong>\nI have added mavenCentral() which resolves \"failed to resolve glide\",\nand now I am ended with this</p>\n\n<pre><code>Folder /home/lalit/repositories/android/WaveDist/app/build/generated/source/kaptKotlin/debug\n\n\nFolder /home/lalit/repositories/android/WaveDist/app/build/generated/source/kaptKotlin/release\n\n\n3rd-party Gradle plug-ins may be the cause\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>I am using dexMode, so I have removed that </p>\n\n<pre><code> dexOptions {\n        jumboMode true\n    }\n</code></pre>\n\n<p>and added <code>multiDexEnabled true</code> in default config, which removed my compile time error.</p>\n\n<p>Now when I am trying to run application It displays long error...</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithDexBuilderForDebug'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /home/lalit/.gradle/caches/modules-2/files-2.1/android.arch.lifecycle/common-java8/1.1.1/795d68cd761d093ccb235d1d91b8fd17c2ae25ff/common-java8-1.1.1.jar\n    at com.android.builder.profile.Recorder$Block.handleException(Recorder.java:55)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:104)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 32 more\nCaused by: com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /home/lalit/.gradle/caches/modules-2/files-2.1/android.arch.lifecycle/common-java8/1.1.1/795d68cd761d093ccb235d1d91b8fd17c2ae25ff/common-java8-1.1.1.jar\n    at com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.transform(DexArchiveBuilderTransform.java:327)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    ... 48 more\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /home/lalit/.gradle/caches/modules-2/files-2.1/android.arch.lifecycle/common-java8/1.1.1/795d68cd761d093ccb235d1d91b8fd17c2ae25ff/common-java8-1.1.1.jar\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n    at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\n    at com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)\n    at com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.transform(DexArchiveBuilderTransform.java:306)\n    ... 51 more\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /home/lalit/.gradle/caches/modules-2/files-2.1/android.arch.lifecycle/common-java8/1.1.1/795d68cd761d093ccb235d1d91b8fd17c2ae25ff/common-java8-1.1.1.jar\n    at com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.launchProcessing(DexArchiveBuilderTransform.java:803)\n    at com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.lambda$convertToDexArchive$8(DexArchiveBuilderTransform.java:728)\n    at java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Error while dexing.\n    at com.android.builder.dexing.D8DexArchiveBuilder.getExceptionToRethrow(D8DexArchiveBuilder.java:169)\n    at com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:146)\n    at com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.launchProcessing(DexArchiveBuilderTransform.java:798)\n    ... 6 more\nCaused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete\n    at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:76)\n    at com.android.tools.r8.utils.ExceptionUtils.withD8CompilationHandler(ExceptionUtils.java:45)\n    at com.android.tools.r8.D8.run(D8.java:88)\n    at com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:144)\n    ... 7 more\nCaused by: com.android.tools.r8.utils.AbortException\n    at com.android.tools.r8.utils.Reporter.failIfPendingErrors(Reporter.java:77)\n    at com.android.tools.r8.utils.Reporter.fatalError(Reporter.java:67)\n    at com.android.tools.r8.utils.ExceptionUtils.withCompilationHandler(ExceptionUtils.java:62)\n    ... 10 more\n    Suppressed: com.android.tools.r8.ApiLevelException: Default interface methods are only supported starting with Android N (--min-api 24): void android.arch.lifecycle.DefaultLifecycleObserver.onCreate(android.arch.lifecycle.LifecycleOwner)\n        at com.android.tools.r8.dex.FileWriter.checkInterfaceMethod(FileWriter.java:247)\n        at com.android.tools.r8.dex.FileWriter.checkInterfaceMethods(FileWriter.java:213)\n        at com.android.tools.r8.dex.FileWriter.generate(FileWriter.java:140)\n        at com.android.tools.r8.dex.ApplicationWriter.writeDexFile(ApplicationWriter.java:356)\n        at com.android.tools.r8.dex.ApplicationWriter.lambda$write$2(ApplicationWriter.java:188)\n        ... 5 more\n</code></pre>\n"}, {"tags": ["android", "mysql", "database", "kotlin", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 102, "user_id": 6247223, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfwHjgMh58I/AAAAAAAAAAI/AAAAAAAAACA/QmDDGLtXql4/photo.jpg?sz=128", "display_name": "Shikhar Singh", "link": "https://stackoverflow.com/users/6247223/shikhar-singh"}, "edited": false, "score": 0, "creation_date": 1522239986, "post_id": 49533632, "comment_id": 86075269, "body": "got no error but when i click on login button it does&#39;nt give any response"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1522237458, "creation_date": 1522237458, "answer_id": 49533632, "question_id": 49532336, "link": "https://stackoverflow.com/questions/49532336/getting-error-for-not-initializing-instance-of-class-in-my-sharedprefmanager-cla/49533632#49533632", "title": "Getting Error for not Initializing Instance of class in my SharedPrefManager class.Not able to solve", "body": "<p>If you're on Kotlin 1.2 you should check if mInstance is initialised like this:</p>\n\n<pre><code>if (!::mInstance.isInitialized) {\n  mInstance = SharedPrefManager(context)\n}\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 6247223, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfwHjgMh58I/AAAAAAAAAAI/AAAAAAAAACA/QmDDGLtXql4/photo.jpg?sz=128", "display_name": "Shikhar Singh", "link": "https://stackoverflow.com/users/6247223/shikhar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522237458, "creation_date": 1522233593, "question_id": 49532336, "link": "https://stackoverflow.com/questions/49532336/getting-error-for-not-initializing-instance-of-class-in-my-sharedprefmanager-cla", "title": "Getting Error for not Initializing Instance of class in my SharedPrefManager class.Not able to solve", "body": "<blockquote>\n  <p>SharedPrefManager.kt</p>\n</blockquote>\n\n<pre><code>class SharedPrefManager private constructor(context: Context) {\n\nlateinit  var mCtx: Context\n\n\nfun isLoggedIn(): Boolean {\n    val sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n    if (sharedPreferences.getString(KEY_USERNAME, null) != null) {\n        return true\n    }\n    return false\n}\n\nfun username(): String {\n    val sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n    return sharedPreferences.getString(KEY_USERNAME, null)\n}\n\nfun userEmail(): String {\n    val sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n    return sharedPreferences.getString(KEY_USER_EMAIL, null)\n}\n\ninit {\n    mCtx = context\n}\n\nfun userLogin(id: Int, username: String, email: String): Boolean {\n    val sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n    val editor = sharedPreferences.edit()\n    editor.putInt(KEY_USER_ID, id)\n    editor.putString(KEY_USER_EMAIL, email)\n    editor.putString(KEY_USERNAME, username)\n    editor.apply()\n    return true\n}\n\nfun logout(): Boolean {\n    val sharedPreferences = mCtx.getSharedPreferences(SHARED_PREF_NAME, Context.MODE_PRIVATE)\n    val editor = sharedPreferences.edit()\n    editor.clear()\n    editor.apply()\n    return true\n}\n\ncompanion object {\n    lateinit var mInstance: SharedPrefManager\n    private val SHARED_PREF_NAME = \"mysharedpref12\"\n    private val KEY_USERNAME = \"username\"\n    private val KEY_USER_EMAIL = \"useremail\"\n    private val KEY_USER_ID = \"userid\"\n    @Synchronized\n    fun getInstance(context: Context): SharedPrefManager {\n        if (mInstance == null) {\n         line:59-----&gt;   mInstance = SharedPrefManager(context)\n        }\n        return mInstance\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>This is the error which i am getting </p>\n</blockquote>\n\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.shikh.kotlinmysql, PID: 6600\n                  kotlin.UninitializedPropertyAccessException: <strong>lateinit property mInstance has not been initialized</strong>\n                      at <strong><em>com.example.shikh.kotlinmysql.SharedPrefManager$Companion.getMInstance(SharedPrefManager.kt:59)</em></strong>\n                      at <strong><em>com.example.shikh.kotlinmysql.SharedPrefManager$Companion.getInstance(SharedPrefManager.kt:66)</em></strong>\n                      at <strong><em>com.example.shikh.kotlinmysql.Login$userLogin$stringRequest$2.onResponse(Login.kt:34)</em></strong>\n                      at <strong><em>com.example.shikh.kotlinmysql.Login$userLogin$stringRequest$2.onResponse(Login.kt:29)</em></strong></p>\n\n<blockquote>\n  <p>Login.kt</p>\n</blockquote>\n\n<pre><code>class Login : AppCompatActivity() , View.OnClickListener {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_login)\n\n    buttonLogIn.setOnClickListener(this)\n}\n\nprivate fun userLogin() {\n    val username = editTextUser.text.toString().trim()\n    val password = editTextPass.text.toString().trim()\n\n   line:29----&gt; val stringRequest = object : StringRequest(Request.Method.POST, Constants.URL_LOGIN,\n            Response.Listener&lt;String&gt; { response -&gt;\n                try {\n                    val obj = JSONObject(response)\n                    if (!obj.getBoolean(\"error\")) {\n\n   line:34----&gt; SharedPrefManager.getInstance(applicationContext).userLogin(\n                                obj.getInt(\"id\"),\n                                obj.getString(\"username\"),\n                                obj.getString(\"email\")\n                        )\n\n                        Toast.makeText(applicationContext, \"User log in Succesful\", Toast.LENGTH_LONG).show()\n                    } else {\n                        Toast.makeText(applicationContext, obj.getString(\"message\"), Toast.LENGTH_LONG).show()\n                    }\n                } catch (e: JSONException) {\n                    e.printStackTrace()\n                }\n            },\n            object : Response.ErrorListener {\n                override fun onErrorResponse(error: VolleyError) {\n                    Toast.makeText(applicationContext, error.message, Toast.LENGTH_SHORT).show()\n                }\n            }) {\n        @Throws(AuthFailureError::class)\n        override fun getParams(): Map&lt;String, String&gt; {\n            val params = HashMap&lt;String, String&gt;()\n            params.put(\"username\", username)\n            params.put(\"password\", password)\n            return params\n        }\n\n    }\n}\n\noverride fun onClick(v: View?) {\n    if (v==buttonLogIn){\n        userLogin()\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1982, "user_id": 1041282, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d3f79892438a80372f016d63c8fac39f?s=128&d=identicon&r=PG", "display_name": "uzilan", "link": "https://stackoverflow.com/users/1041282/uzilan"}, "edited": false, "score": 0, "creation_date": 1522247963, "post_id": 49532233, "comment_id": 86081688, "body": "Kotlin gives you a nicer way to create your list:  <code>val array = listOf(User(123), User(683), User(329))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 4350835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6QKO.jpg?s=128&g=1", "display_name": "Leonardo Lima", "link": "https://stackoverflow.com/users/4350835/leonardo-lima"}, "is_accepted": true, "score": 2, "last_activity_date": 1522238892, "creation_date": 1522238892, "answer_id": 49534160, "question_id": 49532233, "link": "https://stackoverflow.com/questions/49532233/kotlin-function-to-filter-an-arraylist-and-the-cast-it-in-object/49534160#49534160", "title": "Kotlin function to filter an arraylist and the cast it in object", "body": "<p>You can use <code>find</code> / <code>firstOrNull</code> or <code>findLast</code> / <code>lastOrNull</code>, depending on the desired output:</p>\n\n<pre><code>val user: User? = array.find{ it.code == 123 }\n</code></pre>\n\n<p>Note that these functions returns a nullable type.</p>\n"}], "owner": {"reputation": 43, "user_id": 9359254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10216044818136166/picture?type=large", "display_name": "\u05de\u05d9\u05db\u05d0\u05dc \u05d1\u05dc\u05d7\u05e1\u05df", "link": "https://stackoverflow.com/users/9359254/%d7%9e%d7%99%d7%9b%d7%90%d7%9c-%d7%91%d7%9c%d7%97%d7%a1%d7%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 1, "accepted_answer_id": 49534160, "answer_count": 1, "score": -1, "last_activity_date": 1522245162, "creation_date": 1522233272, "last_edit_date": 1522245162, "question_id": 49532233, "link": "https://stackoverflow.com/questions/49532233/kotlin-function-to-filter-an-arraylist-and-the-cast-it-in-object", "title": "Kotlin function to filter an arraylist and the cast it in object", "body": "<p>Hello I have an arraylist, and I have an object, is there a function to filter an arraylist and cast it in object?</p>\n\n<p>example:</p>\n\n<pre><code>var array: ArrayList&lt;User&gt; = ArrayList()\narray.add(User(123))\narray.add(User(683))\narray.add(User(329))\n\nval user: User = array.filter{ it.code == 683}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Found the solution:</p>\n\n<pre><code>var array: ArrayList&lt;User&gt; = ArrayList()\narray.add(User(123))\narray.add(User(683))\narray.add(User(329))\n\nval user: User = array.find{ it.code == 683}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522232949, "post_id": 49532058, "comment_id": 86070265, "body": "Yes the only way to approach to this case was this but I found that the codes in second block would run when the result of codes first block is null."}, {"owner": {"reputation": 59, "user_id": 1059419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5ff5406283a1ec139a16ecdf00c7838?s=128&d=identicon&r=PG", "display_name": "Yaroslav Samardak", "link": "https://stackoverflow.com/users/1059419/yaroslav-samardak"}, "reply_to_user": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522233256, "post_id": 49532058, "comment_id": 86070509, "body": "Do you want to execute another block after completing the first one?"}, {"owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522233646, "post_id": 49532058, "comment_id": 86070796, "body": "No I want opposite behavior"}, {"owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522234413, "post_id": 49532058, "comment_id": 86071363, "body": "I want to avoid case of executing both blocks at same time. If first block ends with null value, second block would also executed."}, {"owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522239067, "post_id": 49532058, "comment_id": 86074608, "body": "Thanks for the answer, I could learn about infix notation from your answer."}], "tags": [], "owner": {"reputation": 59, "user_id": 1059419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5ff5406283a1ec139a16ecdf00c7838?s=128&d=identicon&r=PG", "display_name": "Yaroslav Samardak", "link": "https://stackoverflow.com/users/1059419/yaroslav-samardak"}, "is_accepted": false, "score": 1, "last_activity_date": 1522234202, "last_edit_date": 1522234202, "creation_date": 1522232735, "answer_id": 49532058, "question_id": 49531998, "link": "https://stackoverflow.com/questions/49531998/else-block-for-multiple-expression-in-kotlin/49532058#49532058", "title": "else block for multiple ? expression in kotlin", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">elvis</a> operator.</p>\n\n<p>Like this:</p>\n\n<pre><code>one?.two?.three?.four?.let {\n    // if not null\n} ?: run { \n    // if null\n}\n</code></pre>\n\n<p>If you want call block for <code>null</code> element, then you can use <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">infix</a></p>\n\n<pre><code>infix fun Any?.ifNull(block: () -&gt; Unit) {\n    if (this == null) block()\n}\n\none?.two?.three?.four ifNull {\n    // Do anything\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522235684, "post_id": 49532990, "comment_id": 86072217, "body": "Ok I am choosing this answer. I was looking for some gracefull way of do this but It seems not existing"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "edited": false, "score": 0, "creation_date": 1522235778, "post_id": 49532990, "comment_id": 86072298, "body": "@lulumeya Unfortunately, since blocks implicitly return their last expression, things like this aren&#39;t avoidable :/ I agree it seems quite clunky..."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 1, "last_activity_date": 1522235700, "last_edit_date": 1522235700, "creation_date": 1522235554, "answer_id": 49532990, "question_id": 49531998, "link": "https://stackoverflow.com/questions/49531998/else-block-for-multiple-expression-in-kotlin/49532990#49532990", "title": "else block for multiple ? expression in kotlin", "body": "<p>I think your problem is that <code>let</code> can also return a value, so the second <code>run</code> block executes:</p>\n\n<ul>\n<li>if the original value is null</li>\n<li>if the return value is null (not what you want!)</li>\n</ul>\n\n<p>To avoid this happening, you need to return <code>Unit</code> from the <code>let</code> block:</p>\n\n<pre><code>one?.two?.three?.four?.let {\n    doStuff()\n    Unit\n} ?: run {\n    doOtherStuff()\n}\n</code></pre>\n\n<p>You could also use a typical <code>if</code> statement, without <code>?.</code>:</p>\n\n<pre><code>one?.two?.three?.four.let {\n                  // ^ no ?.\n    if (it == null) doStuff() else doOtherStuff()\n}\n</code></pre>\n"}], "owner": {"reputation": 1609, "user_id": 1133997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Me2GO.jpg?s=128&g=1", "display_name": "lulumeya", "link": "https://stackoverflow.com/users/1133997/lulumeya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 49532990, "answer_count": 2, "score": 1, "last_activity_date": 1522235700, "creation_date": 1522232580, "question_id": 49531998, "link": "https://stackoverflow.com/questions/49531998/else-block-for-multiple-expression-in-kotlin", "title": "else block for multiple ? expression in kotlin", "body": "<p>I need else block for code below</p>\n\n<p><code>one?.two?.three?.four?.let {\n}  // need else block here</code></p>\n\n<p>Is there any expression could be used this case?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1522245624, "post_id": 49530645, "comment_id": 86079763, "body": "Do you mean something like TT files in C#, that generates your domain data classes from DTO classes. Passing all arguments to it or do some magic stuff?"}], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1522238578, "creation_date": 1522238578, "answer_id": 49534042, "question_id": 49530645, "link": "https://stackoverflow.com/questions/49530645/implement-domain-dto-mapper-functionality-in-kotlin/49534042#49534042", "title": "Implement domain &lt;-&gt; dto mapper functionality in Kotlin", "body": "<p>Always better to write this sort of stuff explicitly in my opinion. </p>\n\n<p>You can write a 5 line helper that will copy same named properties for example to reduce verbosity just a little bit if the size of objects is very large. I gave an example in <a href=\"https://stackoverflow.com/a/49043283/2788\">this answer</a>.</p>\n"}], "owner": {"reputation": 106, "user_id": 1734378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cbgTF.jpg?s=128&g=1", "display_name": "Ad Reijngoudt", "link": "https://stackoverflow.com/users/1734378/ad-reijngoudt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1166, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522238578, "creation_date": 1522228799, "question_id": 49530645, "link": "https://stackoverflow.com/questions/49530645/implement-domain-dto-mapper-functionality-in-kotlin", "title": "Implement domain &lt;-&gt; dto mapper functionality in Kotlin", "body": "<p>We use Kotlin in a SpringBoot environment. The API's use DTO's (data classes) in there interfaces, while the business logic uses DomainObjects. For Kotlin, we have not found a suitable model mapper that does handle differences in nullability, (abstract) subclass differences and also does that using strong types lambda expressions for properties (instead of property names in strings).</p>\n\n<p>Does anyone now a suitable library? Or could we ask for Kotlin to provide this functionality?</p>\n"}, {"tags": ["javascript", "jquery", "kotlin"], "comments": [{"owner": {"reputation": 2131, "user_id": 4629808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b1p71.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4629808/thomas"}, "edited": false, "score": 0, "creation_date": 1522221601, "post_id": 49528266, "comment_id": 86062276, "body": "I would investigate the limit of your server&#39;s json parser. These parsers have a limit by default to prevent attacks with large amount of data"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1522238226, "post_id": 49528266, "comment_id": 86073977, "body": "Try using wireshark or a proxy, and check if the data is actually being sent, should reduce the issue"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1522242341, "post_id": 49528266, "comment_id": 86077108, "body": "Which server are you using on the server-side? Tomcat, Jetty, VertX, SpringBoot, RatPack, ... ? What happens to the other 3500 posts, do they time-out, give error 500, ... ? Most browsers can only handle 17 concurrent posts at a time"}, {"owner": {"reputation": 21, "user_id": 6859363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIG99.jpg?s=128&g=1", "display_name": "KRN251", "link": "https://stackoverflow.com/users/6859363/krn251"}, "edited": false, "score": 0, "creation_date": 1522256286, "post_id": 49528266, "comment_id": 86087660, "body": "I&#39;m using netty as my server Jan. I&#39;m also not making 4500 posts but one post of an object with 4500 keys so I don&#39;t think the concurrent post thing is an issue. I&#39;m using GSON to parse the json data on the server end and the documentation doesn&#39;t mention any limit so I don&#39;t think that&#39;s what&#39;s going on. I&#39;ll use wireshark and see what&#39;s going on next."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6859363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIG99.jpg?s=128&g=1", "display_name": "KRN251", "link": "https://stackoverflow.com/users/6859363/krn251"}, "is_accepted": true, "score": 0, "last_activity_date": 1522292868, "creation_date": 1522292868, "answer_id": 49547379, "question_id": 49528266, "link": "https://stackoverflow.com/questions/49528266/post-request-1000-item-limit/49547379#49547379", "title": "Post request 1000 item limit", "body": "<p>UPDATE: I couldn't figure out why the limit existed so I just switched to posting the stringified object and parsing it back into JSON on the server, which resulted in all the data making it to the server.</p>\n"}], "owner": {"reputation": 21, "user_id": 6859363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIG99.jpg?s=128&g=1", "display_name": "KRN251", "link": "https://stackoverflow.com/users/6859363/krn251"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 49547379, "answer_count": 1, "score": 1, "last_activity_date": 1522292868, "creation_date": 1522221240, "question_id": 49528266, "link": "https://stackoverflow.com/questions/49528266/post-request-1000-item-limit", "title": "Post request 1000 item limit", "body": "<p>I've been working on a mini webapp in kotlin using ktor (to play conway's game of life). I've run into an issue where not all the data I send from the front end in a jquery post request makes it to the server. I construct a javascript object with 4500 keys on the front end and post it, but the server only receives an object with 1000 keys present. Doing some googling led me to some resources regarding php issues but nothing regarding straight javascript. I'm using jquery 3.3.1. Here is the client side code making the post:</p>\n\n<pre><code>    let m = buildBoard();\n    // this logs 4500\n    console.log(\"size of posted object: \" + Object.keys(m).length);\n    $.post(\"/update\", m, (responseJson) =&gt; {\n        responseJson = JSON.parse(responseJson);\n        // this logs 1000, even though it should be the same size as what we posted\n        console.log(\"size of response: \" + Object.keys(responseJson).length);\n        for(const key of Object.keys(responseJson)) {\n            let arr = JSON.parse(key);\n            drawCell(parseInt(arr[0]), parseInt(arr[1]), responseJson[key]);\n        }\n    });\n</code></pre>\n\n<p>The server basically takes the json object its sent (representing a board state) and transforms it before sending the updated board back to the client. Logging on the server tells me the server is only receiving 1000 squares of the board which leads me to believe that the problem is on the js end (but I'm happy to post the server code if anyone thinks that could be the issue).</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 2, "creation_date": 1522219068, "post_id": 49527656, "comment_id": 86060833, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35517239/sharedpreferences-are-not-being-cleared-when-i-uninstall\">SharedPreferences are not being cleared when I uninstall</a>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1522219097, "post_id": 49527656, "comment_id": 86060849, "body": "<a href=\"https://developer.android.com/guide/topics/manifest/application-element.html#allowbackup\" rel=\"nofollow noreferrer\"><b><code>android:allowBackup=false</code></b></a>"}, {"owner": {"reputation": 5978, "user_id": 557157, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/pFsT7.jpg?s=128&g=1", "display_name": "silwar", "link": "https://stackoverflow.com/users/557157/silwar"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1522306777, "post_id": 49527656, "comment_id": 86106803, "body": "@NileshRathod I made changes as per your suggestion. Let me check with my client once then i will let you know if this solution is working for me or not"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1522306820, "post_id": 49527656, "comment_id": 86106825, "body": "ok let me know if any issue"}], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 7035494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/225fbf955ae94f3f09b54e7facde2adb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Rajpal", "link": "https://stackoverflow.com/users/7035494/rohit-rajpal"}, "is_accepted": false, "score": 0, "last_activity_date": 1522229466, "creation_date": 1522229466, "answer_id": 49530907, "question_id": 49527656, "link": "https://stackoverflow.com/questions/49527656/sharedpreferences-dont-get-clear-after-app-uninstallation-of-app-in-samsung-s9/49530907#49530907", "title": "SharedPreferences dont get clear after app uninstallation of app in Samsung S9", "body": "<p>To clear your app data.Add the following </p>\n\n<pre><code>         try {  // clearing app data\n        Runtime runtime = Runtime.getRuntime();\n        runtime.exec(\"pm clear your package name\");\n       //e.g \"pm com.example.test\"\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16955, "user_id": 327011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a49f6a027c8b94c2a1acd8375ae23ebb?s=128&d=identicon&r=PG", "display_name": "neteinstein", "link": "https://stackoverflow.com/users/327011/neteinstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1522281461, "creation_date": 1522281461, "answer_id": 49545986, "question_id": 49527656, "link": "https://stackoverflow.com/questions/49527656/sharedpreferences-dont-get-clear-after-app-uninstallation-of-app-in-samsung-s9/49545986#49545986", "title": "SharedPreferences dont get clear after app uninstallation of app in Samsung S9", "body": "<p>Probably due to the <code>android:allowBackup=false</code></p>\n\n<p>Check <a href=\"https://stackoverflow.com/questions/35517239/sharedpreferences-are-not-being-cleared-when-i-uninstall\">SharedPreferences are not being cleared when I uninstall</a></p>\n"}], "owner": {"reputation": 5978, "user_id": 557157, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/pFsT7.jpg?s=128&g=1", "display_name": "silwar", "link": "https://stackoverflow.com/users/557157/silwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "accepted_answer_id": 49545986, "answer_count": 2, "score": 0, "last_activity_date": 1561176006, "creation_date": 1522218943, "question_id": 49527656, "link": "https://stackoverflow.com/questions/49527656/sharedpreferences-dont-get-clear-after-app-uninstallation-of-app-in-samsung-s9", "title": "SharedPreferences dont get clear after app uninstallation of app in Samsung S9", "body": "<p>I am developing an app where I am keeping boolean flag in SharedPreferences to check if current session is active or not. Based on this flag user gets navigated to either Home screen or Login screen after Splash screen is being shown.</p>\n\n<p>This is working fine but one of our client has reported that his app keeps his user logged in even after uninstallation and re-installation of his app.</p>\n\n<p>Steps he followed </p>\n\n<ul>\n<li>Install app</li>\n<li>Login using valid credentials</li>\n<li>Uninstall app from settings</li>\n<li>Re-install app using apk given by me</li>\n<li>Open app</li>\n</ul>\n\n<p>I think when we uninstall app, its data gets cleared (including shared preferences), and this is working fine one other devices like Pixel 2, OnePlus 3 which are having same Android OS 8.0. </p>\n\n<p>This is how I handled navigation. Here SessionManager is singleton (object in Kotlin) which stores isSessionActive flag. isSessionActive flag gets its value from SharedPreferences when application starts</p>\n\n<pre><code>val intent: Intent = if (SessionManager.isSessionActive) {\n      Intent(this, MainActivity::class.java)\n} else {\n      Intent(this, LoginActivity::class.java)\n}\nstartActivity(intent)\n</code></pre>\n\n<p>Can you suggest possible root cause of this behaviour and solution for this?</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "reply_to_user": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1522225400, "post_id": 49528717, "comment_id": 86064626, "body": "I just checked, it should work. What <code>GetScreenSaverUrlInteractor().execute()</code>  returns?"}, {"owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1522228853, "post_id": 49528717, "comment_id": 86067120, "body": "String arrayList"}, {"owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "reply_to_user": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1522231648, "post_id": 49528717, "comment_id": 86069307, "body": "Please see UPD. What doesn&#39;t work exactly in your snippet? Does your observable emits first item after 10 seconds? I&#39;m using rxjava2, but I doubt if it is the reason."}, {"owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1522237272, "post_id": 49528717, "comment_id": 86073285, "body": "your code is working for me but on complete again I want to do the same task of showing the url again in an endless loop"}, {"owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "reply_to_user": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1522243477, "post_id": 49528717, "comment_id": 86078006, "body": "You should post it as separate question, initial topic has nothing about infinite loop."}], "tags": [], "owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "is_accepted": true, "score": 2, "last_activity_date": 1522231728, "last_edit_date": 1522231728, "creation_date": 1522222840, "answer_id": 49528717, "question_id": 49527507, "link": "https://stackoverflow.com/questions/49527507/how-to-get-first-element-without-any-delay-and-delay-from-the-second-element/49528717#49528717", "title": "how to get first element without any delay and delay from the second element?", "body": "<p><code>Observable.interval()</code> has a signature:</p>\n\n<pre><code>Observable&lt;Long&gt; interval(long initialDelay, long period, TimeUnit unit)\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>Observable.interval(0, 10, TimeUnit.SECONDS)\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<pre><code>Observable.just ( listOf(\"Elem1\", \"Elem2\", \"Elem3\", \"Elem4\") )\n    .flatMapIterable{ urls -&gt; urls }\n    .zipWith&lt;Long, String&gt;(Observable.interval(0, 10, TimeUnit.SECONDS), BiFunction { t1, t2 -&gt;  t1})\n    .observeOn(AndroidSchedulers.mainThread())\n    .doOnSubscribe { Log.d(\"DEBUG\", \"Start emitting\")}\n    .subscribe{Log.d(\"DEBUG\", \"item: $it\")}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>03-28 10:06:48.956 17086-17086/com.example.app D/DEBUG: Start emitting\n03-28 10:06:49.633 17086-17086/com.example.app D/DEBUG: item: Elem1\n03-28 10:06:58.957 17086-17086/com.example.app D/DEBUG: item: Elem2\n03-28 10:07:08.957 17086-17086/com.example.app D/DEBUG: item: Elem3\n03-28 10:07:18.957 17086-17086/com.example.app D/DEBUG: item: Elem4\n</code></pre>\n"}], "owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 49528717, "answer_count": 1, "score": 1, "last_activity_date": 1522231728, "creation_date": 1522218330, "question_id": 49527507, "link": "https://stackoverflow.com/questions/49527507/how-to-get-first-element-without-any-delay-and-delay-from-the-second-element", "title": "how to get first element without any delay and delay from the second element?", "body": "<pre><code> fun initScreenSaver(){\n       Observable.fromCallable({GetScreenSaverUrlInteractor().execute() })\n               .flatMapIterable{ urls-&gt; urls }\n               .zipWith(Observable.interval(10, TimeUnit.SECONDS), { item, interval -&gt; item })\n               .observeOn(AndroidSchedulers.mainThread())\n               .subscribe(object : Subscriber&lt;String&gt;(){\n                   override fun onNext(url: String?) {\n                      view.loadImage(url)\n                   }\n\n                   override fun onCompleted() {\n                       initScreenSaver()\n                   }\n\n                   override fun onError(e: Throwable?) {\n                       TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n                   }\n\n               })\n   }\n</code></pre>\n\n<p>here I have tried to get the elements in a delay of 10 second and loading in ImageView.But the first element should appear instantly.</p>\n"}, {"tags": ["kotlin", "integration-testing", "graph-databases", "vert.x"], "owner": {"reputation": 1834, "user_id": 1632075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9aad52fbd122b1098131af9017e42094?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1632075/maddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522227162, "creation_date": 1522217666, "last_edit_date": 1522227162, "question_id": 49527345, "link": "https://stackoverflow.com/questions/49527345/integration-testing-when-the-data-layer-has-multiple-implementations", "title": "Integration testing when the data layer has multiple implementations", "body": "<p>I have a Kotlin/Vertx API as follows with a graphDB based data repository is injected:</p>\n\n<pre><code>class MyServiceAPI : AbstractVerticle() {\n   //dependency injection using KodeIn\n  val graphRepository: GraphRepository = kodein.instance()\n\n  fun addFriend (friend: User) {\n    graphRepository.addFriend(friend)\n\n  }\n}\n</code></pre>\n\n<p>GraphRepository has several implementations like <code>OrientDBGraphRepository, JanusGraphRepository</code> etc.</p>\n\n<p>I want to add integration tests using in-memory DB instances. I have following questions:</p>\n\n<ol>\n<li>Do I need to write separate integration tests for each DB implementation or should I pass the params(hostname, user, password) of the DB configuration to change the implementation accordingly?</li>\n<li>Since I have coded for the repo interface, do I need to I instantiate each implementation for each case when testing them?</li>\n</ol>\n\n<p>Apologies if this is opinion based, any insight would be appreciated.</p>\n"}, {"tags": ["functional-programming", "kotlin", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522215850, "post_id": 49526925, "comment_id": 86059285, "body": "Your second snippet doesn&#39;t have a <code>delay</code> in it."}, {"owner": {"reputation": 511, "user_id": 2870480, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95ca55f11136018b1cd5d62319cccfae?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj", "link": "https://stackoverflow.com/users/2870480/suraj"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522216419, "post_id": 49526925, "comment_id": 86059534, "body": "I have updated the snippet. Thanks for pointing out."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 2, "creation_date": 1522266675, "post_id": 49526925, "comment_id": 86093568, "body": "You don&#39;t wait for it to print it. Please read the <a href=\"https://github.com/ReactiveX/RxJava#simple-background-computation\" rel=\"nofollow noreferrer\">Getting started</a>."}], "owner": {"reputation": 511, "user_id": 2870480, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/95ca55f11136018b1cd5d62319cccfae?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj", "link": "https://stackoverflow.com/users/2870480/suraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522216287, "creation_date": 1522215810, "last_edit_date": 1522216287, "question_id": 49526925, "link": "https://stackoverflow.com/questions/49526925/using-delay-on-a-observable-within-concatmap-doesnt-emit-any-items", "title": "Using delay on a Observable within concatMap doesn&#39;t emit any items", "body": "<p>Snippet1 (without <code>delay</code> function):</p>\n\n<pre><code>Observable.range(1, 10)\n            .concatMap {\n                Observable.just(it)\n            }\n            .subscribe{ print(it)}\n</code></pre>\n\n<p>Output : 12345678910 </p>\n\n<p>Snippet2 (with <code>delay</code> function): </p>\n\n<pre><code>Observable.range(1, 10)\n            .concatMap {\n                Observable.just(it).delay(1, TimeUnit.SECONDS)\n            }\n            .subscribe{ print(it)}\n</code></pre>\n\n<p>Output : DOESN'T PRINT ANYTHING</p>\n\n<p>Why using a <code>delay</code> will result in emitting nothing? I am unable to comprehend what actually is happening here?</p>\n"}, {"tags": ["android", "data-binding", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9557200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gene", "link": "https://stackoverflow.com/users/9557200/gene"}, "edited": false, "score": 0, "creation_date": 1522214584, "post_id": 49526238, "comment_id": 86058854, "body": "I&#39;m sorry, I used StackOverflow for the first time"}, {"owner": {"reputation": 3207, "user_id": 3816260, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9c8061ae6fdc5463ea3e95d2920be4d7?s=128&d=identicon&r=PG&f=1", "display_name": "dephinera", "link": "https://stackoverflow.com/users/3816260/dephinera"}, "edited": false, "score": 0, "creation_date": 1537527809, "post_id": 49526238, "comment_id": 91827294, "body": "Can you explain what exactly causes the issue and why your version works?"}], "tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 1, "last_activity_date": 1522212198, "creation_date": 1522212198, "answer_id": 49526238, "question_id": 49526041, "link": "https://stackoverflow.com/questions/49526041/databingding-v2-and-kotlin-i-can-not-find-my-br/49526238#49526238", "title": "Databingding V2 and kotlin,I can not find my BR?", "body": "<p><strong>Android\u2019s Data Binding with Kotlin</strong></p>\n\n<p>First of all, after having a created Android project in Android Studio, we need to add the Data Binding dependency and the ones of Kotlin to the build.gradle file of our app.</p>\n\n<pre><code>apply plugin: 'kotlin-android'                       \napply plugin: 'kotlin-kapt'\nandroid {\n....\ndataBinding {\n    enabled = true\n}\n}\ndependencies {\n...\n// notice that the compiler version must be the same than our gradle version\nkapt 'com.android.databinding:compiler:2.3.1'\n}\n</code></pre>\n\n<p><strong>First we need to create a model. In this case a basic one like User.kt</strong></p>\n\n<pre><code>data class User(val name: String, val age: Int)\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p>\n      \n        </p>\n\n<pre><code>    &lt;variable\n        name=\"user\"\n        type=\"com.kuma.sample.User\"\n        /&gt;\n&lt;/data&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"com.kuma.sample.MainActivity\"\n    &gt;\n\n    &lt;TextView\n        android:id=\"@+id/user_name_text_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"16dp\"\n        android:text=\"@{user.name}\"\n        tools:text=\"Name\"\n        /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/user_age_text_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"16dp\"\n        android:text=\"@{Integer.toString(user.age)}\"\n        tools:text=\"XX\"\n        /&gt;\n\n&lt;/LinearLayout&gt;\n\n &lt;/layout&gt;\n</code></pre>\n\n<p><strong>Kotlin Class</strong></p>\n\n<pre><code>package com.kuma.sample\n\n import android.databinding.DataBindingUtil\n import android.os.Bundle\n import android.support.v7.app.AppCompatActivity\n import com.kuma.kotlinsteps.databinding.ActivityMainBinding\n\n class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n\n    val user = User(\"Kuma\", 23)\n    binding.setVariable(BR.user, user)\n    binding.executePendingBindings()\n}\n\n}\n</code></pre>\n\n<p><strong>Solve Error Br</strong></p>\n\n<pre><code>enter code hereapply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n android {\ncompileSdkVersion 24\nbuildToolsVersion \"24.0.0\"\n\ndefaultConfig {\napplicationId \"com.example.icarusud.recyclerviewtest\"\nminSdkVersion 15\ntargetSdkVersion 24\nversionCode 1\nversionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\ndataBinding {\n    enabled true\n}\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n}\n}\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:24.1.1'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n//recyclerview\ncompile \"com.android.support:recyclerview-v7:24.1.1\"\n\n //lastadapter\n  compile 'com.github.nitrico.lastadapter:lastadapter:1.1.1'\n\nkapt \"com.android.databinding:compiler:2.1.2\"\n}\nrepositories {\nmavenCentral()\n}\n\nkapt { generateStubs = true }\n</code></pre>\n\n<p>Change your gradle setting according to below code try this code it helps you.</p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 6691107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851897693a419808765d3f22ed379172?s=128&d=identicon&r=PG&f=1", "display_name": "Xzin", "link": "https://stackoverflow.com/users/6691107/xzin"}, "is_accepted": false, "score": 1, "last_activity_date": 1539247702, "creation_date": 1539247702, "answer_id": 52755935, "question_id": 49526041, "link": "https://stackoverflow.com/questions/49526041/databingding-v2-and-kotlin-i-can-not-find-my-br/52755935#52755935", "title": "Databingding V2 and kotlin,I can not find my BR?", "body": "<p>change</p>\n\n<pre><code>mBinding.setVariable(BR.mainViewModel, ViewModel())\n</code></pre>\n\n<p>to</p>\n\n<pre><code>mBinding.mainViewModel=ViewModel()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9557200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gene", "link": "https://stackoverflow.com/users/9557200/gene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3724, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1539247702, "creation_date": 1522210793, "last_edit_date": 1522220725, "question_id": 49526041, "link": "https://stackoverflow.com/questions/49526041/databingding-v2-and-kotlin-i-can-not-find-my-br", "title": "Databingding V2 and kotlin,I can not find my BR?", "body": "<p>Yesterday, I updated my Android Studio to 3.1. So I can only use Databinding V2.I can build successfully in Java.But fail in Kotlin.It told me <code>Unresolved reference: BR</code></p>\n\n<h2>layout</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=\"mainViewModel\"\r\n            type=\"com.example.shao.myapplication.ViewModel\" /&gt;\r\n    &lt;/data&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"&gt;\r\n        &lt;TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@{mainViewModel.title}\"/&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/layout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>in Java</h2>\n\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n    binding.setVariable(BR.mainViewModel, new ViewModel());\n}\n\n\npublic static int getMainBr() {\n    return BR.mainViewModel;\n}\n</code></pre>\n\n<p>}</p>\n\n<h2>in kotlin</h2>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val mBinding = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n    mBinding.setVariable(BR.mainViewModel, ViewModel())\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YueCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YueCB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "popupmenu", "inflate-exception"], "comments": [{"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522201663, "post_id": 49524778, "comment_id": 86055482, "body": "Show me  your <code>favorite_menu</code> xml code plz."}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522201709, "post_id": 49524778, "comment_id": 86055492, "body": "I will edit my question and add it"}, {"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522202172, "post_id": 49524778, "comment_id": 86055583, "body": "Why did you think that problem throw on <code>popup.show()</code>? Let show me the <code>favorites_list_item_layout </code> xml code too."}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522202454, "post_id": 49524778, "comment_id": 86055647, "body": "I have added the code for the list item and my view holder class @Tr\u1ea7n\u0110\u1ee9cT&#226;m"}, {"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522203022, "post_id": 49524778, "comment_id": 86055794, "body": "I thought a lot about your question. However, It hards for me, I can&#39;t guess any think in your code. According to the crash report, your application crash by an error from XML configuration. I checked it carefully but fail. Sorry about that."}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1522203189, "post_id": 49524778, "comment_id": 86055832, "body": "@Tr\u1ea7n\u0110\u1ee9cT&#226;m Thank you for the responses :)"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1522203864, "post_id": 49524778, "comment_id": 86055995, "body": "try using activity context instead of application context !!"}, {"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1522204152, "post_id": 49524778, "comment_id": 86056072, "body": "@SantanuSur I have tried applicationContext and baseContext but have the same exception."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 4297023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb723c4fa7e6eb3e38ed64d72930e564?s=128&d=identicon&r=PG&f=1", "display_name": "Amirhossein Akhoondzadeh", "link": "https://stackoverflow.com/users/4297023/amirhossein-akhoondzadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1522209896, "creation_date": 1522209896, "answer_id": 49525906, "question_id": 49524778, "link": "https://stackoverflow.com/questions/49524778/inflateexception-when-trying-to-create-popup-menu-on-recycler-view-which-is-in-f/49525906#49525906", "title": "InflateException when trying to create popup menu on Recycler view which is in fragment", "body": "<p>You would better Create an interface first. initialise it in your activity/ fragment and inject it to your adapter. then pass it to your view holder and inside View.OnclickListener block of the view holder . you call on click method of  your interface. after that you take action on your fragment/ activity easily. </p>\n\n<pre><code>//1. Create Interface\n\n            public interface RVListener {\n\n            void onClick(View view, int position);}\n\n//2. initialise your listener inside your fragment/activity\n\n     private RVListener listener = (view, position) -&gt; {\n        // open your popup menu or ...\n     };\n\n//3.pass \"listener\" to the adapter\n\n   MyAdapter adapter = new MyAdapter(data,listener);\n\n//4. inside your adapter assign the variable and pass it to view holder\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n        private RVListener listener;\n        private List&lt;Data&gt; data = new ArrayList&lt;&gt;();\n\n        MyAdapter(List&lt;Data&gt; data, RVListener listener) {\n            this.listener = listener;\n            this.data = data;\n        }\n\n         @Override\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            Context context = parent.getContext();\n            View v = LayoutInflater.from(context).inflate(R.layout.my_layout, parent, false);\n            return new RowViewHolder(v, listener);\n        }\n}\n\n//5. handle Click inside your viewHolder\npublic class RowViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    private RVListener listener;\n\n    RowViewHolder(View v, RecyclerViewClickListener listener) {\n        super(v);\n        this.listener = listener;\n        v.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        listener.onClick(view, getAdapterPosition());\n    }\n}\n</code></pre>\n\n<p>After you do this . you definitely have Context to do your popup .\nhope it helps.</p>\n"}], "owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522209896, "creation_date": 1522201032, "last_edit_date": 1522202656, "question_id": 49524778, "link": "https://stackoverflow.com/questions/49524778/inflateexception-when-trying-to-create-popup-menu-on-recycler-view-which-is-in-f", "title": "InflateException when trying to create popup menu on Recycler view which is in fragment", "body": "<p>I am trying to create a popup menu on my recycler view item which is in a fragment. The menu should be created once the user clicks on the 3 dots on my recycler view item here is my code for the adapter class:</p>\n\n<pre><code>class ExampleAdapter(context: Context, exampleList : ArrayList&lt;Stream&gt;) : RecyclerView.Adapter&lt;ExampleAdapter.ViewHolder&gt;() {\n\nvar mContext: Context = context\nvar favorites = exampleList\n\nprivate var inflator: LayoutInflater? = LayoutInflater.from(context)\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n    val view = inflator?.inflate(R.layout.favorites_list_item_layout, parent, false)\n    return ViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return favorites.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    val st = favorites.get(position)\n    Picasso.with(mContext).load(favorites.get(position).image).into(holder?.stImage)\n    holder?.sName?.text = st.name\n    holder?.bind(st)\n    holder?.deleteOption?.setOnClickListener(View.OnClickListener {\n\n        var popup  = PopupMenu(mContext, holder.deleteOption!!)\n\n        popup.setOnMenuItemClickListener { item: MenuItem? -&gt;\n\n            when (item!!.itemId) {\n                R.id.delete -&gt; {\n                    Toast.makeText(mContext, \"Showing Toast!\", Toast.LENGTH_LONG).show()\n                     true\n                }\n                else -&gt;false\n            }\n\n        }\n        popup.menuInflater.inflate(R.menu.favorite_menu,popup.menu)\n        try {\n            val fieldMPopup = PopupMenu::class.java.getDeclaredField(\"mPopup\")\n            fieldMPopup.isAccessible = true\n            val mPopup = fieldMPopup.get(popup)\n            mPopup.javaClass\n                    .getDeclaredMethod(\"setForceShowIcon\", Boolean::class.java)\n                    .invoke(mPopup, true)\n        } catch (e: Exception){\n            Log.e(\"Main\", \"Error showing menu icons.\", e)\n        } finally {\n            popup.show()\n        }\n    })\n\n}\n</code></pre>\n\n<p>And the context which I pass is from the fragment and I created the context this way <code>context = activity.applicationContext</code> and my error/exception looks like this:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                    Process: com.example.app, PID: 9724\n                    android.view.InflateException: Binary XML file line #17: Failed to resolve attribute at index 6: TypedValue{t=0x1d/d=0xffff4081 a=3 r=0x7f060035}</p>\n</blockquote>\n\n<p>The exception is thrown at popup.show().</p>\n\n<p>Here is my favorite_menu code </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;item\n    android:id=\"@+id/delete\"\n    android:title=\"@string/delete\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>here is my code for favorites_list_item_layout</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"@dimen/five\"&gt;\n\n            &lt;de.hdodenhof.circleimageview.CircleImageView xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                android:id=\"@+id/station_image\"\n                android:layout_width=\"70dp\"\n                android:layout_height=\"70dp\"\n                app:civ_border_width=\"@dimen/zero\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/stations_stream_name\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:layout_marginStart=\"@dimen/hundred_three\"\n                android:text=\"Station Name\"\n                android:textColor=\"@color/white_color\"\n                android:textSize=\"@dimen/twenty\"\n                android:textStyle=\"bold\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_marginLeft=\"103dp\" /&gt;\n\n\n            &lt;TextView\n                android:id=\"@+id/delete_options\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentEnd=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:layout_marginEnd=\"@dimen/thirteen\"\n                android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n                android:text=\"&amp;#8942;\"\n                android:textColor=\"@color/white_color\"\n                android:textAppearance=\"?android:textAppearanceLarge\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_marginRight=\"@dimen/thirteen\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>This is my ViewHolder class code</p>\n\n<pre><code> inner class ViewHolder(favoriteView: View?) : RecyclerView.ViewHolder(favoriteView) {\n\n    val view = favoriteView\n    var stationImage: CircleImageView? = null\n    var stationName: TextView? = null\n    var deleteOption : TextView? = null\n\n    init {\n        stationImage = view?.findViewById&lt;CircleImageView&gt;(R.id.station_image)\n        stationName = view?.findViewById&lt;TextView&gt;(R.id.stations_stream_name)\n        deleteOption = view?.findViewById(R.id.delete_options)\n\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "kapt"], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1529577470, "creation_date": 1529577470, "answer_id": 50966445, "question_id": 49524715, "link": "https://stackoverflow.com/questions/49524715/detecting-singletons-in-kapt/50966445#50966445", "title": "detecting singletons in kapt", "body": "<p>So internally <code>object</code> in <code>Kotlin</code> is a simple <code>Singleton</code>. The difference is that it is managed by the Kotlin language itself. Such class still needs to be instantiated in order to call its functions. Just this instantiation is made by Kotlin since objects have private constructor and a static <code>INSTANCE</code> field that holds its single instance.\nLet's take a look at this example. I have <code>object A</code> defined like this:</p>\n\n<pre><code>object A {\n\n    fun a() {\n    }\n}\n</code></pre>\n\n<p>If we will look at the java bytecode and will convert it to java we will have this:</p>\n\n<pre><code>import kotlin.Metadata;\n\n@Metadata(\n   mv = {1, 1, 10},\n   bv = {1, 0, 2},\n   k = 1,\n   d1 = {\"\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0002\\b\\u0002\\n\\u0002\\u0010\\u0002\\n\\u0000\\b\u00c6\\u0002\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002\u00a2\\u0006\\u0002\\u0010\\u0002J\\u0006\\u0010\\u0003\\u001a\\u00020\\u0004\u00a8\\u0006\\u0005\"},\n   d2 = {\"Lcom/telenor/self_service/app/A;\", \"\", \"()V\", \"a\", \"\", \"production sources for module app\"}\n)\npublic final class A {\n   public static final A INSTANCE;\n\n   public final void a() {\n   }\n\n   static {\n      A var0 = new A();\n      INSTANCE = var0;\n   }\n}\n</code></pre>\n\n<p>As you can see reading <em>only</em> class body we can't understand if it is an <code>object</code> or not, cause if we will create similar class using Java only it will behave a <code>class</code> (not <code>object</code>).</p>\n\n<pre><code>public final class B {\n    public static final B INSTANCE;\n\n    public final void b() {\n    }\n\n    static {\n        B var0 = new B();\n        INSTANCE = var0;\n    }\n}\n</code></pre>\n\n<p>But, when we try to create a new instance from Java like this, it will say that <code>A</code> has private constructor and cannot be created.</p>\n\n<pre><code>    new A();\n    new B();\n</code></pre>\n\n<p>So the difference here is somehow made with Kotlin <code>@Metadata</code> annotation which defines this difference.</p>\n\n<p>As a solution you can either check the <code>INSTANCE</code> static field, or you can read Kotlin metadata somehow :)</p>\n"}, {"tags": [], "owner": {"reputation": 2854, "user_id": 18078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/AErhq.jpg?s=128&g=1", "display_name": "David Leppik", "link": "https://stackoverflow.com/users/18078/david-leppik"}, "is_accepted": false, "score": 1, "last_activity_date": 1529605053, "creation_date": 1529605053, "answer_id": 50975195, "question_id": 49524715, "link": "https://stackoverflow.com/questions/49524715/detecting-singletons-in-kapt/50975195#50975195", "title": "detecting singletons in kapt", "body": "<p>This isn't a perfect solution, but this is what I came up with. It checks for <code>kotlin.Metadata</code> in the binary data to see if it's a Kotlin class, and then uses heuristics to tease out whether or not it is static.</p>\n\n<p>A similar technique is required if you want to find a main file, i.e. a file which can be run from the command line.</p>\n\n<pre><code>fun isKotlinClass(el: TypeElement)\n        = el.annotationMirrors.any { it.annotationType.toString() == \"kotlin.Metadata\" }\n\n/** Check for Java static or Kotlin singleton.\n * An imperfect heuristic: if not static, checks for a static INSTANCE field. */\nprivate fun isStatic(element: Element): Boolean {\n    if (element.modifiers.contains(Modifier.STATIC)) return true\n    else {\n        val parent = element.enclosingElement\n        if (parent is TypeElement &amp;&amp; isKotlinClass(parent)) {\n            val instances = parent.enclosedElements\n                    .filter { \"INSTANCE\" == it.simpleName.toString() }\n                    .filter { it.modifiers.contains(Modifier.STATIC) }\n                    .filter { it.kind.isField }\n            return instances.isNotEmpty()\n        }\n        return false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2854, "user_id": 18078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/AErhq.jpg?s=128&g=1", "display_name": "David Leppik", "link": "https://stackoverflow.com/users/18078/david-leppik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1529605053, "creation_date": 1522200518, "question_id": 49524715, "link": "https://stackoverflow.com/questions/49524715/detecting-singletons-in-kapt", "title": "detecting singletons in kapt", "body": "<p>I'm writing an annotation processor for Kotlin which needs to know how to call a method, i.e. whether or not a class needs to be constructed.</p>\n\n<p>The following works for Java code, for values, and for <code>@JvmStatic</code>-labeled code, but not for Kotlin <code>object Foo {}</code> singletons:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import javax.lang.model.element.Element\nimport javax.lang.model.element.Modifier\n\n// Fails if el is in a singleton\nfun isStatic(el: Element) = el.modifiers.contains(Modifier.STATIC)\n</code></pre>\n\n<p>What's the best way to detect if a method can be called without constructing a class?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "edited": false, "score": 0, "creation_date": 1522977855, "post_id": 49523641, "comment_id": 86379305, "body": "was that answer helpful at all?"}], "answers": [{"tags": [], "owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "is_accepted": false, "score": 0, "last_activity_date": 1522199814, "creation_date": 1522199814, "answer_id": 49524621, "question_id": 49523641, "link": "https://stackoverflow.com/questions/49523641/keep-android-spinner-from-dropping-list/49524621#49524621", "title": "Keep Android Spinner from dropping list", "body": "<p>Hopefully this will be helpful.  It is not a re-write of your app, but maybe an idea that you can integrate:</p>\n\n<p>You could create your own Spinner class like this:</p>\n\n<pre><code>class MySpinner extends AppCompatSpinner {\n\n\npublic MySpinner(Context context) {\n    super(context);\n}\n\npublic MySpinner(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\n@Override\npublic boolean performClick() {\n    if ( getCount() == 0 ) {\n        return true; // we do nothing because adapter contents = 0\n    }\n    else {\n        return super.performClick(); // we proceed as normal\n    }\n}\n\n}\n</code></pre>\n\n<p>Then alter your XML references from \"Spinner\" to \"[yourPackageName].MySpinner\"</p>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522199814, "creation_date": 1522191175, "question_id": 49523641, "link": "https://stackoverflow.com/questions/49523641/keep-android-spinner-from-dropping-list", "title": "Keep Android Spinner from dropping list", "body": "<p>I have an Android spinner that I would like to disable when there's less than one item in my list. What I mean by that is I would like the title to show up, but I don't want a list to drop down when I click it.</p>\n\n<p>I've tried isClickable = false, and isEnabled = false like in many of the posts out there, but I still can't get it to work.</p>\n\n<p>I successfully get ride of the spinner dropdown icon, but I can still click the text and get the list.</p>\n\n<pre><code>class CustomSpinnerAdapter(private val ctx: Context, val locations: List&lt;Location&gt;) : ArrayAdapter&lt;Location&gt;(ctx, R.layout.list_item_spinner_view) {\n    override fun isEmpty() = locations.isEmpty()\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        val context = parent.context\n        val inflater = LayoutInflater.from(context)\n        var view = convertView\n        if (view == null)\n            view = inflater.inflate(R.layout.list_item_spinner_view, parent, false)\n        view!!.location_spinner_name.text = locations[position].name\n        if (count &lt; 2) {\n            view.location_spinner.visibility = View.GONE\n            view.better_name.isEnabled = false\n            view.better_name.isClickable = false\n        }\n\n        view.location_spinner_name.typeface = Typeface.createFromAsset(ctx.assets, ctx.getString(R.string.font_bold))\n        return view\n    }\n</code></pre>\n\n<p>Here is the view for my title</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    android:id=\"@+id/better_name\"&gt;\n\n&lt;TextView\n          android:id=\"@+id/location_spinner_name\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:singleLine=\"true\"\n          style=\"@style/TextAppearance.Widget.AppCompat.Toolbar.Title\"/&gt;\n\n    &lt;com.ge.cbyge.view.TintableImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/ic_arrow_drop_down_black\"\n        android:tint=\"@color/medium_gray\"\n        android:paddingTop=\"@dimen/activity_home_spinner_dropdown_padding_top\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522187974, "post_id": 49523035, "comment_id": 86052053, "body": "How about <code>Comparable&lt;Any&gt;</code>?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1522187976, "post_id": 49523035, "comment_id": 86052056, "body": "The documentation on annotations shows how: <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/annotations.html#annotations</a>"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1522189609, "creation_date": 1522189609, "answer_id": 49523379, "question_id": 49523035, "link": "https://stackoverflow.com/questions/49523035/how-use-class-in-annotation-kotlin/49523379#49523379", "title": "How use class in annotation Kotlin", "body": "<p>See the language reference on <a href=\"https://kotlinlang.org/docs/reference/annotations.html#constructors\" rel=\"nofollow noreferrer\">annotations</a>:</p>\n\n<blockquote>\n  <p>If you need to specify a class as an argument of an annotation, use a Kotlin class (<code>KClass</code>).</p>\n</blockquote>\n\n<p>So, instead of Java <code>Class&lt;Comparable&lt;*&gt;&gt;</code>, use the Kotlin equivalent: <code>KClass&lt;Comparable&lt;*&gt;&gt;</code>:</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\nannotation class CustomAnnotation(\n    val comparator: KClass&lt;Comparable&lt;*&gt;&gt;\n)\n</code></pre>\n"}], "owner": {"reputation": 716, "user_id": 4118267, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xIgkR.jpg?s=128&g=1", "display_name": "oriaj", "link": "https://stackoverflow.com/users/4118267/oriaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2632, "favorite_count": 1, "accepted_answer_id": 49523379, "answer_count": 1, "score": 4, "last_activity_date": 1522189609, "creation_date": 1522187668, "question_id": 49523035, "link": "https://stackoverflow.com/questions/49523035/how-use-class-in-annotation-kotlin", "title": "How use class in annotation Kotlin", "body": "<p>I want to create an annotation that receives a Class parameter, the example in JAVA should be</p>\n\n<pre><code>@Retention(RUNTIME)\npublic @interface CustomAnnotation {\n\n    Class&lt;Comparable&lt;?&gt;&gt; comparator();\n}\n</code></pre>\n\n<p>I suppose that in Kotlin should be:</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\nannotation class CustomAnnotation(\n\n    val comparator: Class&lt;Comparable&lt;*&gt;&gt;\n)\n</code></pre>\n\n<p>But in Kotlin get an error message <code>Invalid type of annotation member</code> so how should be the equivalent in Kotlin to accept a class as parameter? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522187511, "post_id": 49522945, "comment_id": 86051878, "body": "I&#39;m not a Kotlin guy, but that sounds like semicolon inference after <code>map.getOrPut(n - 1) { f2(n - 1, map) }</code>. It was a bad idea in Javascript, and it doesn&#39;t sound like it&#39;s any better in Kotlin."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1522188585, "post_id": 49522945, "comment_id": 86052293, "body": "After further research (and finding <a href=\"https://android.jlelse.eu/why-i-missed-semi-colons-today-e2fb136f58e5\" rel=\"nofollow noreferrer\">a relevant blog post</a>), I&#39;m pretty sure this is semicolon insertion. I have also found that Kotlin semicolon insertion appears to be almost completely undocumented. Seriously, what the heck, JetBrains."}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522188776, "post_id": 49522945, "comment_id": 86052366, "body": "The example in the blog you linked to looks quite similar. <i>And</i> moving my + one line up fixes the issue."}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522189288, "post_id": 49522945, "comment_id": 86052551, "body": "@user2357112 why don&#39;t you reply and collect the points?"}], "answers": [{"comments": [{"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1522189346, "post_id": 49523314, "comment_id": 86052575, "body": "Whoops, was happily tinkering with this in IDE and didn&#39;t see the chat. Looks like we reached the same conclusion."}], "tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": false, "score": 4, "last_activity_date": 1522189191, "creation_date": 1522189191, "answer_id": 49523314, "question_id": 49522945, "link": "https://stackoverflow.com/questions/49522945/kotlin-getorput-oddness/49523314#49523314", "title": "Kotlin getOrPut oddness", "body": "<p>This is because Kotlin is inserting a semicolon after the <code>+</code>, and mapping <code>+</code> to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-plus.html\" rel=\"nofollow noreferrer\">the unary plus operator</a> instead of the normal two-argument plus operator that you would intuitively expect.</p>\n\n<p>You can confirm this by doing a Go To Declaration (Command+click on a mac) with it structured as in your question. It takes me to unary plus with your formatting, and normal plus with parentheses added or no newlines.</p>\n\n<p>The result of this unintended semicolon is that it will recurse down the Fibonnacci generation, but never do any addition, silently always returning the result of only the <code>getOrPut(n-2)</code> step (as it's the last statement in the function). </p>\n"}], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522189706, "creation_date": 1522187260, "last_edit_date": 1522189706, "question_id": 49522945, "link": "https://stackoverflow.com/questions/49522945/kotlin-getorput-oddness", "title": "Kotlin getOrPut oddness", "body": "<p>The following function (<code>f1</code>) computes a Fibonacci number as expected:</p>\n\n<pre><code>fun f1(n: Int, map: MutableMap&lt;Int, Int&gt; = mutableMapOf(Pair(0, 0), Pair(1, 1))): Int =\n        map.getOrPut(n) {\n            val a = map.getOrPut(n - 1) { f1(n - 1, map) }\n            val b = map.getOrPut(n - 2) { f1(n - 2, map) }\n            a + b\n        }\n</code></pre>\n\n<p>but this version, <code>f2</code>, returns only 0,1 values:</p>\n\n<pre><code>fun f2(n: Int, map: MutableMap&lt;Int, Int&gt; = mutableMapOf(Pair(0, 0), Pair(1, 1))): Int =\n        map.getOrPut(n) {\n                    map.getOrPut(n - 1) { f2(n - 1, map) }\n                    +\n                    map.getOrPut(n - 2) { f2(n - 2, map) }\n\n        }\n</code></pre>\n\n<p>It looks like <code>f2</code> takes only the first \"branch\": <code>map.getOrPut(n - 1) { f2(n - 1, map) }</code> and not the second.\nI know that <code>f2</code> can be fixed as like this:</p>\n\n<pre><code>fun f2(n: Int, map: MutableMap&lt;Int, Int&gt; = mutableMapOf(Pair(0, 0), Pair(1, 1))): Int =\n        map.getOrPut(n) {\n            (\n                    map.getOrPut(n - 1) { f2(n - 1, map) }\n                    +\n                    map.getOrPut(n - 2) { f2(n - 2, map) }\n            )\n        }\n</code></pre>\n\n<p>Why are <code>(..)</code> required ?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>As explained by @user2357112 and @emerssso, it is a case of incorrectly inferred semicolon, the following works as expected</p>\n\n<pre><code>fun f2(n: Int, map: MutableMap&lt;Int, Int&gt; = mutableMapOf(Pair(0, 0), Pair(1, 1))): Int =\n        map.getOrPut(n) {\n                    map.getOrPut(n - 1) { f2(n - 1, map) } +\n                    map.getOrPut(n - 2) { f2(n - 2, map) }\n        }\n</code></pre>\n\n<p>Not cool.           </p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 2040, "user_id": 7369357, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-zQ5CcLZPgq0/AAAAAAAAAAI/AAAAAAAAAEU/sMkAp5atKws/photo.jpg?sz=128", "display_name": "nicolas asinovich", "link": "https://stackoverflow.com/users/7369357/nicolas-asinovich"}, "edited": false, "score": 0, "creation_date": 1522218407, "post_id": 49523096, "comment_id": 86060514, "body": "Thanks for your answer and link, bro!"}], "tags": [], "owner": {"reputation": 769, "user_id": 2793494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZOih.jpg?s=128&g=1", "display_name": "Yurii Kyrylchuk", "link": "https://stackoverflow.com/users/2793494/yurii-kyrylchuk"}, "is_accepted": true, "score": 2, "last_activity_date": 1522187935, "creation_date": 1522187935, "answer_id": 49523096, "question_id": 49522590, "link": "https://stackoverflow.com/questions/49522590/kotlin-set-value-to-textview-use-callback-interface/49523096#49523096", "title": "Kotlin, set value to TextView use callback interface", "body": "<p>This thing is called SAM(single abstract method) and it's all about Java world. In a current version of Kotlin you can't use SAM like that if your interface was declared in Kotlin. They're using a high order functions instead of interfaces for this purpose. \nBut also, as I know, in 1.3 version of Kotlin we probably will get this possibility(this info was taken from an interview with one of Kotlin developer from JetBrains, if you're familiar with Russian language, you can see this post here: <a href=\"https://habrahabr.ru/company/redmadrobot/blog/351516/\" rel=\"nofollow noreferrer\">https://habrahabr.ru/company/redmadrobot/blog/351516/</a>)</p>\n\n<p>Btw, you can use SAM in Kotin, but only if your interface was declared in Java. For your example it should look like this:</p>\n\n<pre><code>getPlaceName(mGoogleApiClient, arrivalId[0], PlaceNameCallback { textArrival.setText(it)})\n</code></pre>\n"}], "owner": {"reputation": 2040, "user_id": 7369357, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-zQ5CcLZPgq0/AAAAAAAAAAI/AAAAAAAAAEU/sMkAp5atKws/photo.jpg?sz=128", "display_name": "nicolas asinovich", "link": "https://stackoverflow.com/users/7369357/nicolas-asinovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 1, "accepted_answer_id": 49523096, "answer_count": 1, "score": 0, "last_activity_date": 1522187935, "creation_date": 1522185609, "question_id": 49522590, "link": "https://stackoverflow.com/questions/49522590/kotlin-set-value-to-textview-use-callback-interface", "title": "Kotlin, set value to TextView use callback interface", "body": "<p>Such mini example, in Java I have:</p>\n\n<pre><code> public static void getPlaceName(GoogleApiClient mGoogleApiClient, String placeId, @NonNull PlaceNameCallback callback) {\n        Places.GeoDataApi.getPlaceById(mGoogleApiClient, placeId)\n                .setResultCallback(places -&gt; {\n                    if (places.getStatus().isSuccess() &amp;&amp; places.getCount() &gt; 0) {\n                        Place myPlace = places.get(0);\n                        callback.onPlaceDetected(String.valueOf(myPlace.getName())); // set place name\n                    }\n                    places.release();\n                });\n    }\n\n    public interface PlaceNameCallback {\n        void onPlaceDetected(String name);\n    }\n</code></pre>\n\n<p>And then I can set place name to TextView:</p>\n\n<pre><code>    getPlaceName(mGoogleApiClient, arrivalId[0], name -&gt; textArrival.setText(name));\n</code></pre>\n\n<p>Please tell me how to set place name like this on Kotlin?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1522219637, "creation_date": 1522219637, "answer_id": 49527838, "question_id": 49522544, "link": "https://stackoverflow.com/questions/49522544/kodein-using-generics-to-bind-dependencies/49527838#49527838", "title": "Kodein using generics to bind dependencies", "body": "<p>Try changing to <code>inline fun &lt;reified T&gt; getConfigurationRepository(...)</code>. Then it'll work exactly as if you did repeat the <code>bind</code>s every time. See <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/inline-functions.html</a> for documentation.</p>\n\n<p><code>bind</code> itself also uses reified type parameters.</p>\n"}], "owner": {"reputation": 3, "user_id": 9488201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jdr00jBfe9w/AAAAAAAAAAI/AAAAAAAAAEE/sLeuvLVf8dg/photo.jpg?sz=128", "display_name": "Renan Barros", "link": "https://stackoverflow.com/users/9488201/renan-barros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 49527838, "answer_count": 1, "score": 0, "last_activity_date": 1522219637, "creation_date": 1522185427, "question_id": 49522544, "link": "https://stackoverflow.com/questions/49522544/kodein-using-generics-to-bind-dependencies", "title": "Kodein using generics to bind dependencies", "body": "<p>I tried to bind the dependencies in the following way</p>\n\n<pre><code>fun getKodeinConfigurationsGraph(context: Context, url: String) = Kodein.lazy {\n    import(dataBaseModule(context))\n\n    import(retrofitModule(url))\n    bind&lt;ConfigurationsService&gt;() with provider { instance&lt;RetrofitHandler&gt;().buildCall(ConfigurationsService::class) }\n\n    import(getConfigurationRepository&lt;Contact&gt;(ConfigurationDataType.CONTACT))\n\n}\n\nfun &lt;T&gt; getConfigurationRepository(type: ConfigurationDataType) =\n        Kodein.Module {\n            bind&lt;BaseDao&lt;Contact&gt;&gt;() with provider { instance&lt;AppDatabase&gt;().getContactDao() }\n            bind&lt;LocalDataSource&lt;T&gt;&gt;() with provider { LocalDataSourceImpl&lt;T&gt;(dao = instance()) }\n            bind&lt;BaseRestHandler&lt;List&lt;T&gt;&gt;&gt;() with provider { ConfigurationsHandler&lt;T&gt;(configurationsService = instance(), type = type) }\n            bind&lt;RemoteDataSource&lt;List&lt;T&gt;&gt;&gt;() with provider { RemoteDataSourceImpl&lt;List&lt;T&gt;&gt;(restHandler = instance()) }\n            bind&lt;Repository&lt;T&gt;&gt;() with provider { BasicRepository&lt;T&gt;(localDataSource = instance(), remoteDataSource = instance()) }\n        }\n</code></pre>\n\n<p>But i got the following error </p>\n\n<p><code>java.lang.IllegalArgumentException: bind&lt;LocalDataSource&lt;T&gt;&gt;() uses a type variable named T, therefore, the bound value can never be retrieved.</code></p>\n\n<p>I wanted to import the module and get the required dependency, without needing to repeat the same binds every time.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle", "multi-module", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "is_accepted": false, "score": 2, "last_activity_date": 1523311943, "creation_date": 1523311943, "answer_id": 49742449, "question_id": 49522180, "link": "https://stackoverflow.com/questions/49522180/how-to-define-the-kotlin-version-for-both-buildsrc-and-an-application-module/49742449#49742449", "title": "How to define the Kotlin version for both buildSrc and an application module?", "body": "<p>The only way I'm aware of is putting it into gradle.properties (or any other config) and reading it in settings.gradle.kts <code>pluginManagement</code>. Like this:</p>\n\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n    }\n    resolutionStrategy {\n        eachPlugin {\n            if (requested.id.id.startsWith(\"org.jetbrains.kotlin\")) {\n                useVersion(gradle.rootProject.extra[\"kotlin.version\"] as String)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 623, "user_id": 981330, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/pwe8Q.jpg?s=128&g=1", "display_name": "Dmitriy Voronin", "link": "https://stackoverflow.com/users/981330/dmitriy-voronin"}, "is_accepted": false, "score": 0, "last_activity_date": 1523356108, "creation_date": 1523356108, "answer_id": 49751302, "question_id": 49522180, "link": "https://stackoverflow.com/questions/49522180/how-to-define-the-kotlin-version-for-both-buildsrc-and-an-application-module/49751302#49751302", "title": "How to define the Kotlin version for both buildSrc and an application module?", "body": "<p>An error speaks for itself: you can't specify version of plugin in <code>plugins</code> folder if you already specified it in <code>buildscript</code> block.</p>\n\n<p>You can put <code>kotlinVersion</code> into gradle.properties and symlink <code>buildSrc/gradle.propeties</code> to <code>./gradle.properties</code></p>\n"}, {"tags": [], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "is_accepted": true, "score": 2, "last_activity_date": 1556271817, "creation_date": 1556271817, "answer_id": 55864903, "question_id": 49522180, "link": "https://stackoverflow.com/questions/49522180/how-to-define-the-kotlin-version-for-both-buildsrc-and-an-application-module/55864903#55864903", "title": "How to define the Kotlin version for both buildSrc and an application module?", "body": "<blockquote>\n  <p>Each Gradle release is meant to be used with a specific version of the\n  <code>kotlin-dsl</code> plugin and compatibility between arbitrary Gradle releases\n  and <code>kotlin-dsl</code> plugin versions is not guaranteed.</p>\n  \n  <p>Using an unexpected version of the <code>kotlin-dsl</code> plugin in a build can\n  cause hard to diagnose problems.</p>\n  \n  <p>Starting with Gradle 5.4, a warning is emitted whenever an unexpected\n  version of the <code>kotlin-dsl</code> plugin is detected.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/gradle/kotlin-dsl/issues/1269#issuecomment-486560819\" rel=\"nofollow noreferrer\">Paul Merlin @eskatos, 25.04.2019</a></p>\n\n<p>Therefore, I <strong>removed</strong> the <code>version</code>:</p>\n\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3924, "favorite_count": 2, "accepted_answer_id": 55864903, "answer_count": 3, "score": 7, "last_activity_date": 1556271817, "creation_date": 1522183825, "last_edit_date": 1523309787, "question_id": 49522180, "link": "https://stackoverflow.com/questions/49522180/how-to-define-the-kotlin-version-for-both-buildsrc-and-an-application-module", "title": "How to define the Kotlin version for both buildSrc and an application module?", "body": "<p>I am using a <code>buildSrc</code> module in a multi-module Kotlin project to <a href=\"https://handstandsam.com/2018/02/11/kotlin-buildsrc-for-better-gradle-dependency-management/\" rel=\"noreferrer\">manage dependency definitions and versions</a>. The module makes use of <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"noreferrer\">kotlin-dsl</a> as shown in the <em>build.gradle.kts</em>:</p>\n\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n</code></pre>\n\n<p>Alternative declaration:</p>\n\n<pre><code>plugins {\n    id(\"org.gradle.kotlin.kotlin-dsl\") version \"0.16.2\"\n}\n</code></pre>\n\n<p>I would like to use the same Kotlin version for compiling the <code>buildSrc</code> module as well as within the application module/s. My first attempt was to simply add the JVM artifact:</p>\n\n<pre><code>plugins {\n    `kotlin-dsl`\n    kotlin(\"jvm\") version \"1.2.31\"\n}\n</code></pre>\n\n<p>This however leads to a build error which is discussed <a href=\"https://github.com/gradle/kotlin-dsl/issues/520\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Error resolving plugin [id: 'org.jetbrains.kotlin.jvm', version: '1.2.31']<br>\n  Plugin request for plugin already on the classpath must not include a version</p>\n</blockquote>\n\n<p>What is a convenient way to only <strong>define once</strong> the Kotlin version used throughout the project?</p>\n\n<h1>Related</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47588311/gradle-kotlin-dsl-define-kotlin-version-in-unique-place\">Gradle Kotlin DSL: Define Kotlin version in unique place</a></li>\n<li><a href=\"https://github.com/gradle/kotlin-dsl/blob/master/doc/getting-started/Kotlin-Versions.md\" rel=\"noreferrer\">Kotlin versions and the Gradle Kotlin DSL</a></li>\n<li><a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples/multi-kotlin-project-with-buildSrc\" rel=\"noreferrer\">Sample project: Multi-kotlin-project-with-buildSrc</a></li>\n</ul>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "comments": [{"owner": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 1, "creation_date": 1522183742, "post_id": 49522109, "comment_id": 86050217, "body": "You should show your &quot;best attempt&quot; how you solve the problem, not I can&#39;t find the way, do it for me. What do you have so far?"}, {"owner": {"reputation": 713, "user_id": 7782316, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/wMCgH.png?s=128&g=1", "display_name": "Sz-Nika Janos", "link": "https://stackoverflow.com/users/7782316/sz-nika-janos"}, "reply_to_user": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1522183902, "post_id": 49522109, "comment_id": 86050284, "body": "When I get to work I will post my attempts"}], "owner": {"reputation": 713, "user_id": 7782316, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/wMCgH.png?s=128&g=1", "display_name": "Sz-Nika Janos", "link": "https://stackoverflow.com/users/7782316/sz-nika-janos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1614662480, "creation_date": 1522183436, "last_edit_date": 1614662480, "question_id": 49522109, "link": "https://stackoverflow.com/questions/49522109/anko-sqlite-library-with-encrypted-library", "title": "Anko sqlite library with encrypted library", "body": "<p>I have a db file which is encrypted and I know the passphrase but I cannot find a way to open with Anko library.</p>\n<p>In Java I use SQL Cypher. Also I tried to replace the Android import with Cypher</p>\n<pre><code>class MyDatabaseOpenHelper(ctx: Context) : ManagedSQLiteOpenHelper(ctx, &quot;MyDatabase&quot;, null, 1) {\ncompanion object {\n    private var instance: MyDatabaseOpenHelper? = null\n\n    @Synchronized\n    fun getInstance(ctx: Context): MyDatabaseOpenHelper {\n        if (instance == null) {\n            instance = MyDatabaseOpenHelper(ctx.getApplicationContext())\n        }\n        return instance!!\n    }\n}\n\noverride fun onCreate(db: SQLiteDatabase) {\n    // Here you create tables\n    db.createTable(&quot;Customer&quot;, true, \n                &quot;id&quot; to INTEGER + PRIMARY_KEY + UNIQUE,\n                &quot;name&quot; to TEXT,\n                &quot;photo&quot; to BLOB)\n}\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    // Here you can upgrade tables, as usual\n    db.dropTable(&quot;User&quot;, true)\n}\n}\n\n // Access property for Context\n val Context.database: MyDatabaseOpenHelper\nget() = MyDatabaseOpenHelper.getInstance(getApplicationContext())\n</code></pre>\n"}, {"tags": ["java", "kotlin", "domain-driven-design"], "comments": [{"owner": {"reputation": 12819, "user_id": 2387977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=128&d=identicon&r=PG", "display_name": "Dherik", "link": "https://stackoverflow.com/users/2387977/dherik"}, "edited": false, "score": 0, "creation_date": 1522184378, "post_id": 49521650, "comment_id": 86050517, "body": "When you are retrieving the client from DB, I don&#39;t understand that this action is part of your domain or something like that. So, to fill the Client, you could just use a mapper utility and reflection to populate the Client fields. If you don&#39;t do that, you will need a constructor for all fields ( what&#39;s not make sense because some of them are optional) or create a setter method for all the fields (what&#39;s not make any sense too in OOP)."}, {"owner": {"reputation": 128, "user_id": 5116062, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WWeBPfbXwtI/AAAAAAAAAAI/AAAAAAAAAFs/fD2Y_VsAR18/photo.jpg?sz=128", "display_name": "Marco Teixeira", "link": "https://stackoverflow.com/users/5116062/marco-teixeira"}, "reply_to_user": {"reputation": 12819, "user_id": 2387977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=128&d=identicon&r=PG", "display_name": "Dherik", "link": "https://stackoverflow.com/users/2387977/dherik"}, "edited": false, "score": 0, "creation_date": 1522189669, "post_id": 49521650, "comment_id": 86052677, "body": "@Dherik I agree the setter doesn&#39;t make sense because it will break the encapsulation and I never thought about reflection to create my classes from the integration layers. About the mapper I think you still need to expose the all parameters constructor."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 5116062, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WWeBPfbXwtI/AAAAAAAAAAI/AAAAAAAAAFs/fD2Y_VsAR18/photo.jpg?sz=128", "display_name": "Marco Teixeira", "link": "https://stackoverflow.com/users/5116062/marco-teixeira"}, "edited": false, "score": 0, "creation_date": 1522237240, "post_id": 49527485, "comment_id": 86073257, "body": "Thanks for the quick answer, seems a pretty good solution for my problem and I really enjoy the side note, I&#39;m looking forward to that. Thanks again"}], "tags": [], "owner": {"reputation": 14518, "user_id": 2575224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXLfW.jpg?s=128&g=1", "display_name": "Constantin Galbenu", "link": "https://stackoverflow.com/users/2575224/constantin-galbenu"}, "is_accepted": true, "score": 5, "last_activity_date": 1522218278, "creation_date": 1522218278, "answer_id": 49527485, "question_id": 49521650, "link": "https://stackoverflow.com/questions/49521650/ddd-how-to-hide-specific-aggregate-root-constructors-from-integration-layers-in/49527485#49527485", "title": "DDD: How to hide specific aggregate root constructors from integration layers in Kotlin", "body": "<p>So, the problem is how to rehydrate an Aggregate from the persistence without breaking its encapsulation by exposing the wrong interface to the client code (i.e. the Application layer or the Presentation layer).</p>\n\n<p>I see two solutions to this:</p>\n\n<ol>\n<li><p>Use reflection to populate the fields. This is the solution that most ORMs use and it is also the most generic. It works for most persistence types, even when there is an impedance mismatch. Some ORMs need to annotate fields or relations.</p></li>\n<li><p>Expose a different interface to the client code. This means that your Aggregate implementation is <em>larger</em> that the interface and contains additional initialization methods used only by the infrastructure. </p></li>\n</ol>\n\n<p>As an example in pseudo-code your could have:</p>\n\n<pre><code>// what you want the upper layers to see\ninterface Client {\n    void addAddress(address);\n}\n\n// the actual implementations\npublic class ClientAggregate implements Client \n{\n    void rehidrate(clientId,name,address){...}\n    void addAddress(address){...}\n}\n\npublic class ClientRepository\n{\n    // this method returns Client (interface)\n    Client getById(id){\n        val clientEntity = em.find(...)\n        val client = new ClientAggregate()\n        client.rehydrate(clientEntity.id, clientEntity.name, clientEntity.address)\n        return client //you are returning ClientAggregate but the other see only Client (interface)\n    }\n}\n</code></pre>\n\n<p>As a side note, I don't expose the constructor to create an Aggregate from the Domain point of view. I like to have empty constructors and a dedicated method, <em>named from the Ubiquitous language</em>, that creates the Aggregate. The reason is that is not clear that the constructor creates a new Aggregate. The constructor instantiate a new instance of a class; it is more a implementation details than a domain concern. An example:</p>\n\n<pre><code>class Client {\n    constructor(){ //some internal initializations, if needed }\n    void register(name){ ... }\n}\n</code></pre>\n"}], "owner": {"reputation": 128, "user_id": 5116062, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WWeBPfbXwtI/AAAAAAAAAAI/AAAAAAAAAFs/fD2Y_VsAR18/photo.jpg?sz=128", "display_name": "Marco Teixeira", "link": "https://stackoverflow.com/users/5116062/marco-teixeira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 2, "accepted_answer_id": 49527485, "answer_count": 1, "score": 4, "last_activity_date": 1522218278, "creation_date": 1522181491, "last_edit_date": 1522182016, "question_id": 49521650, "link": "https://stackoverflow.com/questions/49521650/ddd-how-to-hide-specific-aggregate-root-constructors-from-integration-layers-in", "title": "DDD: How to hide specific aggregate root constructors from integration layers in Kotlin", "body": "<p>I'm kinda new on DDD and even after read the blue and red book I still have some questions about how to transform some principles to code, specifically using Kotlin and Java.</p>\n\n<p>For example, I identify a Client aggregate root that receive some parameters need it for the creation like Name and Address:</p>\n\n<pre><code>class Client: AggregateRoot {\n\n    var clientId: ClienteId\n    var name: Name\n    var address: Address\n\n    constructor(name: Name,address: Address) : super(){\n        // validations ....\n        this.name = name\n        this.address = address\n    }\n</code></pre>\n\n<p>Easy part:\nTo create a new Client I receive a DTO inside the RS service and try to create a new Client class passing the parameters above, case everything was solid and all rules fulfilled I send the new instance of Client to the repository, pretty straight foward.</p>\n\n<pre><code>clientRepository.store(client)\n</code></pre>\n\n<p>Other part:\nI need to search my Client to change the address so I send the id to the repository and find the Client inside the database then I need to convert the database entity to the aggregate root and return to the caller.</p>\n\n<pre><code>override fun getById(id: Long): Client {\n  val clientEntity = em.find(...)\n  val client: Client(.....) //But I need another constructor with ClientId\n  return client\n}\n</code></pre>\n\n<p>Then I will need a new constructor one that receive more parameters like the ClientId</p>\n\n<pre><code>constructor(clientId: ClienteId,name: Name,address: Address) : super(){\n</code></pre>\n\n<p>The problem is that every service can call this new constructor and create a incorrect instance of my aggregation root, so my questions are:</p>\n\n<ol>\n<li>Is there a way to hide the complete constructor just for the repository or specific layers to see. Like in C# when you could use internal.</li>\n<li>Is there any solution for Java or Kotlin to not expose this constructor that should be used just on tests and integrations ? </li>\n</ol>\n\n<p>Another example is if I didn't need the address to be passed every time a client is created but just after in another method like:</p>\n\n<pre><code>client.addAddress(address)\n</code></pre>\n\n<p>But in both cases I will need to fulfill the entire Client from the database so I will need a second constructor with the address parameter.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 804, "user_id": 818519, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f39716599181da33437842db997fb27a?s=128&d=identicon&r=PG", "display_name": "BlackCath", "link": "https://stackoverflow.com/users/818519/blackcath"}, "edited": false, "score": 0, "creation_date": 1527069113, "post_id": 49520465, "comment_id": 87983299, "body": "I like this solution, however, Android Studio says that DaoProcessAsyncTask should be static."}, {"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "reply_to_user": {"reputation": 804, "user_id": 818519, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f39716599181da33437842db997fb27a?s=128&d=identicon&r=PG", "display_name": "BlackCath", "link": "https://stackoverflow.com/users/818519/blackcath"}, "edited": false, "score": 0, "creation_date": 1527069695, "post_id": 49520465, "comment_id": 87983697, "body": "That&#39;s because I think you have made it an inner class"}, {"owner": {"reputation": 147, "user_id": 5985886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3172dedc834191ef21f9e786f0247290?s=128&d=identicon&r=PG&f=1", "display_name": "wapn", "link": "https://stackoverflow.com/users/5985886/wapn"}, "edited": false, "score": 0, "creation_date": 1531410151, "post_id": 49520465, "comment_id": 89595976, "body": "When I try to convert class <code>DaoAsyncProcessor</code>, I stuck on the problem with <code>onPostExecute(T t)</code> method. I get the message from IDE:   <code>Out-projected type &#39;DaoAsyncProcessor.DaoProcessCallback&lt;*&gt;&#39; prohibits the use of &#39;public abstract fun onResult(result: T): Unit</code>.  Please provide Kotlin code for this class or tell how to solve this?"}, {"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "reply_to_user": {"reputation": 147, "user_id": 5985886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3172dedc834191ef21f9e786f0247290?s=128&d=identicon&r=PG&f=1", "display_name": "wapn", "link": "https://stackoverflow.com/users/5985886/wapn"}, "edited": false, "score": 0, "creation_date": 1531423238, "post_id": 49520465, "comment_id": 89602794, "body": "@wapn adding the kotlin equivalent"}], "tags": [], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "is_accepted": true, "score": 3, "last_activity_date": 1531423314, "last_edit_date": 1531423314, "creation_date": 1522176861, "answer_id": 49520465, "question_id": 49520123, "link": "https://stackoverflow.com/questions/49520123/how-to-avoid-occurring-many-asynctask-class-in-my-android-room-repository/49520465#49520465", "title": "How to avoid occurring many AsyncTask class in my Android Room repository?", "body": "<p>Ok, I faced the same. There are 3 solutions that I use.\n 1. Use RX. Return a Flowable, and observe it on different thread.\n 2. Use LiveData.\n 3. Async Task. This is how I avoid multiple async tasks by using Generics. I hope this is what you are looking for.</p>\n\n<p>This is the class that will perform your queries.</p>\n\n<pre><code>/**\n *\n * @param &lt;T&gt; type of result expected\n */\npublic abstract class DaoAsyncProcessor&lt;T&gt; {\n\n    public interface DaoProcessCallback&lt;T&gt;{\n        void  onResult(T result);\n    }\n\n    private DaoProcessCallback daoProcessCallback;\n\n    public DaoAsyncProcessor(DaoProcessCallback daoProcessCallback) {\n        this.daoProcessCallback = daoProcessCallback;\n    }\n\n    protected abstract T doAsync();\n\n    public void start(){\n        new DaoProcessAsyncTask().execute();\n    }\n\n    private class DaoProcessAsyncTask extends AsyncTask&lt;Void, Void, T&gt;{\n\n        @Override\n        protected T doInBackground(Void... params) {\n            return doAsync();\n        }\n\n        @Override\n        protected void onPostExecute(T t) {\n            if(daoProcessCallback != null)\n                daoProcessCallback.onResult(t);\n        }\n    }\n}\n</code></pre>\n\n<p>Now for querying </p>\n\n<pre><code>fun putAllUsersAsync(vararg users: User) {\n            object : DaoAsyncProcessor&lt;Unit&gt;(null) {\n                override fun doAsync(): Unit {\n                    yourDao.insertAll(*users)\n                }\n\n            }.start()\n        }\n</code></pre>\n\n<p>Another example of fetching data.</p>\n\n<pre><code>fun getAllUsers(callback: DaoAsyncProcessor.DaoProcessCallback&lt;List&lt;User&gt;&gt;) {\n            object : DaoAsyncProcessor&lt;List&lt;User&gt;&gt;(callback) {\n                override fun doAsync(): List&lt;User&gt; {\n                    return yourDao.getAll()\n                }\n\n            }.start()\n</code></pre>\n\n<p>You can call getAllUsers and pass a callback for getting the data.</p>\n\n<p>As requested, this is the Kotlin equivalent </p>\n\n<pre><code>abstract class DaoAsyncProcessor&lt;T&gt;(val daoProcessCallback: DaoProcessCallback&lt;T&gt;?) {\n\n    interface DaoProcessCallback&lt;T&gt; {\n        fun onResult(result: T)\n    }\n\n\n    protected abstract fun doAsync(): T\n\n    fun start() {\n        DaoProcessAsyncTask().execute()\n    }\n\n    private inner class DaoProcessAsyncTask : AsyncTask&lt;Void, Void, T&gt;() {\n\n        override fun doInBackground(vararg params: Void): T {\n            return doAsync()\n        }\n\n        override fun onPostExecute(t: T) {\n            daoProcessCallback?.onResult(t)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1522177869, "creation_date": 1522177869, "answer_id": 49520727, "question_id": 49520123, "link": "https://stackoverflow.com/questions/49520123/how-to-avoid-occurring-many-asynctask-class-in-my-android-room-repository/49520727#49520727", "title": "How to avoid occurring many AsyncTask class in my Android Room repository?", "body": "<p>Using RX java you could replace AsyncTask with a Completable for your insert/update/delete commands.</p>\n\n<pre><code>fun insert(sport: Sport) : Completable = Completable.fromAction { sportDAO.insert(sport) }\nfun update(sport: Sport) : Completable = Completable.fromAction { sportDAO.update(sport) }\nfun delete(sport: Sport) : Completable = Completable.fromAction { sportDAO.delete(sport) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1522178577, "last_edit_date": 1522178577, "creation_date": 1522178276, "answer_id": 49520838, "question_id": 49520123, "link": "https://stackoverflow.com/questions/49520123/how-to-avoid-occurring-many-asynctask-class-in-my-android-room-repository/49520838#49520838", "title": "How to avoid occurring many AsyncTask class in my Android Room repository?", "body": "<p>You could use the same AsyncTask for each task if you pass it the code segment that it needs to actually execute.</p>\n\n<p>You could for example do the following, using <code>lambda-with-receivers</code> (and without having to add Rx completables/singles or whatever):</p>\n\n<pre><code>@Singleton\nclass SportRepository @Inject constructor(val sportDAO: SportDao) {\n    companion object {\n        const val LOG_TAG = \"SportRepository\"\n    }\n\n    var list: LiveData&lt;List&lt;Sport&gt;&gt; = sportDAO.getAll() // is this necessary?\n\n    fun insert(sport: Sport) {\n        executeTask(sport) { insert(it) }\n    }\n\n    fun update(sport: Sport){\n        executeTask(sport) { update(it) }\n    }\n\n    fun delete(sport: Sport) {\n        executeTask(sport) { delete(it) }\n    }\n\n    private fun executeTask(sport: Sport, task: SportDao.(Sport) -&gt; Unit) {\n        BackgroundTask(sport, task).execute()\n    }\n\n    @SuppressLint(\"StaticFieldLeak\")\n    private inner class BackgroundTask(\n        private val sport: Sport,\n        private val task: SportDao.(Sport) -&gt; Unit\n    ) : AsyncTask&lt;Void, Void, Void&gt;() {\n        override fun doInBackground(vararg p0: Void): Void? {\n            task(sportDAO, sport)\n            return null\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 5985886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3172dedc834191ef21f9e786f0247290?s=128&d=identicon&r=PG&f=1", "display_name": "wapn", "link": "https://stackoverflow.com/users/5985886/wapn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2948, "favorite_count": 3, "accepted_answer_id": 49520465, "answer_count": 3, "score": 2, "last_activity_date": 1539116808, "creation_date": 1522175561, "last_edit_date": 1539116808, "question_id": 49520123, "link": "https://stackoverflow.com/questions/49520123/how-to-avoid-occurring-many-asynctask-class-in-my-android-room-repository", "title": "How to avoid occurring many AsyncTask class in my Android Room repository?", "body": "<p>I'm learning how to use Android Room from <a href=\"https://google-developer-training.gitbooks.io/android-developer-advanced-course-practicals/unit-7-working-with-architecture-components/lesson-15-room,-livedata,-viewmodel/15-1-a-room-livedata-viewmodel/15-1-a-room-livedata-viewmodel.html#task6intro\" rel=\"nofollow noreferrer\" title=\"google-developer-training\">google-developer-training</a>, where I found example of <code>repository class</code>. I try to simplify my <code>SportRepository</code> class. I wonder how to avoid repetition of <code>inner class ...AsyncTask</code> in my code. Here is very sample example:</p>\n\n<pre><code>@Singleton\nclass SportRepository {\n    val LOG_TAG = SportRepository::class.java.name\n\n    @Inject\n    lateinit var sportDAO: SportDAO\n    var list: LiveData&lt;List&lt;Sport&gt;&gt;\n\n    init {\n        App.app().appComponent()?.inject(this)\n        list = sportDAO.getAll()\n    }\n\n    fun insert(sport: Sport) {\n        insertAsyncTask().execute(sport)\n    }\n\n    fun update(sport: Sport){\n        updateAsyncTask().execute(sport)\n    }\n\n    fun delete(sport: Sport) {\n        deleteAsyncTask().execute(sport)\n    }\n\n    @SuppressLint(\"StaticFieldLeak\")\n    private inner class insertAsyncTask() : AsyncTask&lt;Sport, Void, Void&gt;() {\n        override fun doInBackground(vararg p0: Sport): Void? {\n            sportDAO.insert(p0.get(0))\n            return null\n        }\n    }\n\n    @SuppressLint(\"StaticFieldLeak\")\n    private inner class updateAsyncTask() : AsyncTask&lt;Sport, Void, Void&gt;() {\n        override fun doInBackground(vararg p0: Sport): Void? {\n            sportDAO.update(p0[0])\n            return null\n        }\n    }\n\n    @SuppressLint(\"StaticFieldLeak\")\n    private inner class deleteAsyncTask() : AsyncTask&lt;Sport, Void, Void&gt;() {\n        override fun doInBackground(vararg p0: Sport): Void? {\n            sportDAO.delete(p0[0])\n            return null\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>AsyncTask</code> classes differ only in name and in kind of method invoke from sportDAO class. </p>\n\n<p><strong>Is there any way to avoid creating many almost the same <code>AsyncTask</code> classes?</strong></p>\n\n<p>I've not found any example how to simplify that.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 2, "creation_date": 1522179684, "post_id": 49519739, "comment_id": 86048161, "body": "You have &#39;(?=\\\\S+$)&#39; group which as I know checks \\S at the end of a string. Delete this group and your regex should be fine."}], "answers": [{"comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1522202421, "post_id": 49522744, "comment_id": 86055636, "body": "Awesome. Spot on"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 3, "last_activity_date": 1522186365, "creation_date": 1522186365, "answer_id": 49522744, "question_id": 49519739, "link": "https://stackoverflow.com/questions/49519739/password-regex-not-working-in-kotlin/49522744#49522744", "title": "Password regex not working in Kotlin", "body": "<p>You are using raw strings but are escaping the last <code>\\S</code> which is causing a literal match of <code>\\S</code>. If I remove the extra backslash, your test case works for me. And as others have stated, you might be able to remove that stanza entirely.</p>\n\n<p>So this...</p>\n\n<pre><code>^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%!\\-_?&amp;])(?=\\\\S+$).{8,} \n                                                       ^\n                                                       |\n                                               Remove -+\n</code></pre>\n\n<p>Becomes this</p>\n\n<pre><code>^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%!\\-_?&amp;])(?=\\S+$).{8,}\n</code></pre>\n\n<p>I used <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">Regex101</a> to help me, which seems to be a nice way to turn regex into English.</p>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3774, "favorite_count": 0, "accepted_answer_id": 49522744, "answer_count": 1, "score": 1, "last_activity_date": 1611210380, "creation_date": 1522174161, "last_edit_date": 1522174337, "question_id": 49519739, "link": "https://stackoverflow.com/questions/49519739/password-regex-not-working-in-kotlin", "title": "Password regex not working in Kotlin", "body": "<p>I am trying to run the below code to validate a password string against my regex. But it's always returning false. What am I doing wrong ?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n     val PASSWORD_REGEX = \"\"\"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%!\\-_?&amp;])(?=\\\\S+$).{8,}\"\"\".toRegex()\n    val password:String = \"Align@123\"\n    println(PASSWORD_REGEX.matches(password))\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1522173269, "post_id": 49519385, "comment_id": 86044380, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3873659/android-how-can-i-get-the-current-foreground-activity-from-a-service\">Android: How can I get the current foreground activity (from a service)?</a>"}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1616205296, "post_id": 49519385, "comment_id": 117937717, "body": "Anything special you want with this? You can send a broadcast to the system, and have code in every Activity that can hear it and process the message. For those you can actually use LocalBroadcastManager"}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1522321802, "post_id": 49546020, "comment_id": 86116228, "body": "Can you provide Sallie coffee pls, I tried making reference for the activity in the reviewer, but couldn&#39;t call it from the shuttle itself. Thanks"}], "tags": [], "owner": {"reputation": 16955, "user_id": 327011, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a49f6a027c8b94c2a1acd8375ae23ebb?s=128&d=identicon&r=PG", "display_name": "neteinstein", "link": "https://stackoverflow.com/users/327011/neteinstein"}, "is_accepted": true, "score": -1, "last_activity_date": 1616200257, "last_edit_date": 1616200257, "creation_date": 1522281709, "answer_id": 49546020, "question_id": 49519385, "link": "https://stackoverflow.com/questions/49519385/how-to-detect-the-active-activity-in-a-broadcastreceiver/49546020#49546020", "title": "How to detect the active activity in a BroadcastReceiver?", "body": "<p>You can <strong>keep a reference on the <code>Application</code> to the last <code>Activity</code> that passed <code>onResume</code></strong> (and clear it when it passes <code>onStop</code>)</p>\n<p>In theory, you could get the <code>Activity</code> visible if that variable is not null. In practice if you have transparent Activities some things may not work properly.</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 49546020, "answer_count": 1, "score": -1, "last_activity_date": 1616200257, "creation_date": 1522172919, "last_edit_date": 1522173674, "question_id": 49519385, "link": "https://stackoverflow.com/questions/49519385/how-to-detect-the-active-activity-in-a-broadcastreceiver", "title": "How to detect the active activity in a BroadcastReceiver?", "body": "<p>Is there a way that I can detect the active activity from my <code>BroadcastReceiver</code>?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>class Receiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n         // check the active activity\n         // if MainActivity then ....\n         // if OtherActivity then ...\n   }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bluetooth-lowenergy"], "answers": [{"tags": [], "owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522183781, "creation_date": 1522183781, "answer_id": 49522170, "question_id": 49519133, "link": "https://stackoverflow.com/questions/49519133/kotlin-bytearray-from-mixed-types/49522170#49522170", "title": "Kotlin ByteArray from mixed types", "body": "<p>So I ended up abandoning the idea of a data object in favor of:</p>\n\n<pre><code>fun packagePayload(): ByteArray {\n    var payloadArray: ByteArray = ByteArray(0)\n    payloadArray = payloadArray.plus(0.toByte())\n    payloadArray = payloadArray.plus(1.toByte())\n    payloadArray = payloadArray.plus(2.toByte())\n    payloadArray = payloadArray.plus(1.toByte())\n    payloadArray = payloadArray.plus(\"me@addr.com\".toByteArray(Charsets.US_ASCII))\n\n    Log.i(TAG_BLEUTIL, \"** output of array: \" + payloadArray.contentToString())\n   // [0, 1, 2, 1, 109, 101, 64, 97, 100, 100, 114, 46, 99, 111, 109]\n\n    return payloadArray\n}\n</code></pre>\n\n<p>That ended up being a lot more simple.</p>\n\n<p>Here's the catch: if you want 4 byte integers, there is not Kotlin helper fun to make that easy for you.  </p>\n\n<p>So you need to do something like this to get the 4 byte Int:</p>\n\n<pre><code>fun Int.toBytes() : ByteArray {\n    var retArray = ByteArray(0)\n    for(i in 0..3) {\n        retArray = retArray.plus((this shr (i * 8) and 0xFF).toByte())\n    }\n\n    return retArray//.reversedArray()\n}\n</code></pre>\n\n<p>In which case you would use it like so:</p>\n\n<pre><code>payloadArray = payloadArray.plus(0.toBytes())\n</code></pre>\n\n<p>Notice the \"//.reversedArray()\" at the end of the function.  That's in case you need to switch between little endian and big endian.</p>\n\n<p>Hope that helps someone in the future.</p>\n\n<p>Let me know if you have a better solution.</p>\n\n<p>Thanks</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1590769902, "post_id": 49523534, "comment_id": 109816403, "body": "How to convert this back to the original object?"}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1590968581, "post_id": 49523534, "comment_id": 109873831, "body": "You can use a buffer to read back in the ByteArray and read out the fields in the order they were added. Buff#readyFully will read the whole array into itself."}], "tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": false, "score": 2, "last_activity_date": 1522190481, "creation_date": 1522190481, "answer_id": 49523534, "question_id": 49519133, "link": "https://stackoverflow.com/questions/49519133/kotlin-bytearray-from-mixed-types/49523534#49523534", "title": "Kotlin ByteArray from mixed types", "body": "<p>If you're OK pulling in a library to help with this task, I'd consider using Square's <a href=\"https://github.com/square/okio\" rel=\"nofollow noreferrer\">Okio</a> for this one. I've used it for this kind of bit-fiddling in the past. Your example would look something like this with Okio:</p>\n\n<pre><code>fun packagePayload(): ByteArray =\n     Buffer()\n            .writeInt(0)\n            .writeInt(1)\n            .writeInt(2)\n            .writeInt(1)\n            .writeString(\"me@addr.com\", Charsets.US_ASCII)\n            .readByteArray()\n</code></pre>\n\n<p>Okio also offers little-endian versions of the above methods (i.e. <code>writeIntLe()</code>).</p>\n"}], "owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522190481, "creation_date": 1522172009, "question_id": 49519133, "link": "https://stackoverflow.com/questions/49519133/kotlin-bytearray-from-mixed-types", "title": "Kotlin ByteArray from mixed types", "body": "<p>I need to create, in Kotlin, a byte array with mixed types in it.</p>\n\n<p>Specifically, I need to write something like: </p>\n\n<pre><code>0, 1, 0x02, 1, \"me@emailaddr.com\" \n</code></pre>\n\n<p>to a characteristic over BLE using Kotlin.</p>\n\n<p>Clearly I'm new to Kotlin.  The convenient ways to do it in Swift don't seem to have similar functions in Kotlin.</p>\n\n<p>I've tried:</p>\n\n<pre><code>data class BlePayload(val protoVer: Int, val transId: Int, val cmdType: Int, val valueType: Int, val value: String)\n\nfun packagePayload(): BlePayload {\n    val checkinInfo: BlePayload = BlePayload(0, 1, 0x02, 1, \"me@emailaddr.com\")\n\n    return checkinInfo\n}\n\n...\n\nprivate fun writeCharacteristic(characteristic: BluetoothGattCharacteristic) {\n    val payload = BluetoothUtils.packagePayload()\n\n    val strByteArray = payload.toString()\n    val byteArray = strByteArray.toByteArray()\n\n    mClientActionListener.log(TAG_GATT_CLIENT_CALLBACK, \"Writing to characteristic ${characteristic.uuid}\")\n    mClientActionListener.log(TAG_GATT_CLIENT_CALLBACK, \"** strByteArray = $strByteArray\")\n    mClientActionListener.log(TAG_GATT_CLIENT_CALLBACK, \"** byteArray = $byteArray\")\n    mClientActionListener.log(TAG_GATT_CLIENT_CALLBACK, \"** Writing the Payload: $payload\")\n\n    characteristic.setValue(byteArray)\n}\n</code></pre>\n\n<p>But that seems to be cumbersome and wrong.  However, I can't see another way around it.</p>\n\n<p>It needs to be a byte array for the Peripheral.  </p>\n\n<p>I can't find a way to make a byte array without making it a string first.</p>\n\n<p>I don't see a way to go directly to a byte array with mixed types.</p>\n\n<p>I am sure I must be wrong - I just seem to be too new to understand what the Kotlin docs are telling me.  </p>\n\n<p>Thanks for looking.</p>\n"}, {"tags": ["android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 0, "last_activity_date": 1522171523, "creation_date": 1522171523, "answer_id": 49519001, "question_id": 49518823, "link": "https://stackoverflow.com/questions/49518823/kotlin-customer-interface-declaration/49519001#49519001", "title": "Kotlin customer interface declaration", "body": "<p>If you use IntelliJ to convert a Java class defining such a listener defined as an anonymous inner class to Kotlin, it will generate the following, correct code:</p>\n\n<pre><code>val listener = object : RecyclerClickListener {\n    override fun onClick(view: View, position: Int) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>The syntax is, BTW, described in the Kotlin documentation: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes</a></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1522171812, "creation_date": 1522171812, "answer_id": 49519081, "question_id": 49518823, "link": "https://stackoverflow.com/questions/49518823/kotlin-customer-interface-declaration/49519081#49519081", "title": "Kotlin customer interface declaration", "body": "<p>The lambda you're declaring is of type <code>(View, Int) -&gt; Unit</code>, which is not a subtype of <code>RecyclerClickListener</code>. Kotlin has a feature called <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> that allows you to create anonymous instances of functional (single method) interfaces with lambdas, but this only works for interfaces defined in Java.</p>\n\n<blockquote>\n  <p>(...) note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n</blockquote>\n\n<ol>\n<li><p>This is your first (and possibly best, for now) solution - define the interface in Java, and you'll be able to use lambdas in both languages with no problem.</p></li>\n<li><p>Another one is to use a functional type as the Kotlin docs suggest, this would require you to use the type <code>(View, Int) -&gt; Unit</code> instead of defining a new interface. This way, both your lambda in Kotlin and Java would work as they are (without casts). You can use a <code>typealias</code> to refer to it by a name instead of the functional type in Kotlin code, but this won't be visibile in Java:</p>\n\n<pre><code>typealias RecyclerClickListener = (String, Int) -&gt; Unit\n</code></pre>\n\n<p>You'll also have to expliclty return <code>Unit.INSTANCE</code> at the end of any Java lambdas:</p>\n\n<pre><code>(view, position) -&gt; {\n    System.out.println(\"Clicked\");\n    return Unit.INSTANCE;\n}\n</code></pre></li>\n</ol>\n\n<p>You can find discussion about SAM conversion possibly being supported in the future for Kotlin interfaces as well <a href=\"https://discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces/1433\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1175, "user_id": 819707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f0f0e96f9880f54d9c6b86f901ccf11?s=128&d=identicon&r=PG&f=1", "display_name": "Sal Aldana", "link": "https://stackoverflow.com/users/819707/sal-aldana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "accepted_answer_id": 49519001, "answer_count": 2, "score": 1, "last_activity_date": 1522171812, "creation_date": 1522170914, "question_id": 49518823, "link": "https://stackoverflow.com/questions/49518823/kotlin-customer-interface-declaration", "title": "Kotlin customer interface declaration", "body": "<p>I'm having some issues converting my existing Java code to Kotlin, specifically with a custom click listener that I used with a recycle view. Here's what I got so far. </p>\n\n<pre><code>//this is the click listener interface (in Kotlin)\ninterface RecyclerClickListener {\n  fun onClick(view: View, position: Int)\n}\n</code></pre>\n\n<p>In Java this is how I would create and use the interface</p>\n\n<pre><code>RecyclerClickListener clickListener = (view1, position) -&gt; {\n        setSelectedDate(dateCards.get(position).getDateTime());\n        DateCardAdapter adapter = (DateCardAdapter) date_recycler_view.getAdapter();\n        adapter.setSelected(position);\n    };\n    DateCardAdapter cardAdapter = new DateCardAdapter(dateCards, getActivity(), clickListener, true );\n</code></pre>\n\n<p>Now this is how I'm trying to do it in Kotlin (most of this was auto-converted in Android Studio)</p>\n\n<pre><code>val listener: RecyclerClickListener = { view1: View, position: Int -&gt;\n        setSelectedDate(dateCards[position].dateTime)\n        val adapter = sun_date_recycler_view.adapter as DateCardAdapter\n        adapter.setSelected(position)\n    } as RecyclerClickListener\n    val cardAdapter = DateCardAdapter(dateCards, activity!!, listener, true)\n</code></pre>\n\n<p>But when I launch my app I keep getting a ClassException when trying to create the listener </p>\n\n<pre><code>Caused by: java.lang.ClassCastException: .fragments.SunFragment$onViewCreated$listener$1 cannot be cast to .interfaces.RecyclerClickListener\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 1, "creation_date": 1522169953, "post_id": 49518438, "comment_id": 86042647, "body": "How would you like to handle situations where the list size is != 2?"}], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1522181365, "post_id": 49518727, "comment_id": 86049017, "body": "This is not an idiomatic way though. @stan0 offered one."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 2, "creation_date": 1522192837, "post_id": 49518727, "comment_id": 86053590, "body": "Creating extensions that encapsulate some logic is pretty idiomatic."}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1522226773, "post_id": 49518727, "comment_id": 86065594, "body": "@Ilya Yes of course, but it does not address the problem directly. It is idiomatic in another way."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1522227250, "post_id": 49518727, "comment_id": 86065953, "body": "I don&#39;t see how this doesn&#39;t solve your problem directly. It&#39;s not in the standard library because it&#39;s a very specific task, and could not be used generally, unlike <code>zipWithNext</code>. It does, however, provide both the precise syntax and result you were looking for, of which <code>zipWithNext</code> does neither, really."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 6, "last_activity_date": 1522170575, "creation_date": 1522170575, "answer_id": 49518727, "question_id": 49518438, "link": "https://stackoverflow.com/questions/49518438/idiomatic-way-to-convert-a-list-to-a-pair-in-kotlin/49518727#49518727", "title": "Idiomatic way to convert a List to a Pair in Kotlin", "body": "<p>You can make this extension for yourself:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.toPair(): Pair&lt;T, T&gt; {\n    if (this.size != 2) {\n        throw IllegalArgumentException(\"List is not of length 2!\")\n    }\n    return Pair(this[0], this[1])\n}\n</code></pre>\n\n<p>The error handling is up to you, you could also return a <code>Pair&lt;T, T&gt;?</code> with <code>null</code> being returned in the case where the <code>List</code> is not the correct length. You could also only check that it has at least 2 elements, and not require it to have exactly 2.</p>\n\n<p>Usage is as you've described:</p>\n\n<pre><code>listOf(a, b).toPair()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "is_accepted": true, "score": 18, "last_activity_date": 1522174507, "creation_date": 1522174507, "answer_id": 49519857, "question_id": 49518438, "link": "https://stackoverflow.com/questions/49518438/idiomatic-way-to-convert-a-list-to-a-pair-in-kotlin/49519857#49519857", "title": "Idiomatic way to convert a List to a Pair in Kotlin", "body": "<p>For a more general solution you could use the extension function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip-with-next.html\" rel=\"noreferrer\"><code>zipWithNext</code></a>* which </p>\n\n<blockquote>\n  <p>Returns a list of pairs of each two adjacent elements in this collection.</p>\n</blockquote>\n\n<p>The example in the documentation explains it better:</p>\n\n<pre><code>val letters = ('a'..'f').toList()\nval pairs = letters.zipWithNext()\n\nprintln(letters) // [a, b, c, d, e, f]\nprintln(pairs) // [(a, b), (b, c), (c, d), (d, e), (e, f)]\n</code></pre>\n\n<p>*note that this function is available since v1.2 of Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 3442683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcb485d4c5d9ca6c80af658d93f2f25a?s=128&d=identicon&r=PG&f=1", "display_name": "klooth", "link": "https://stackoverflow.com/users/3442683/klooth"}, "is_accepted": false, "score": 0, "last_activity_date": 1584413565, "creation_date": 1584413565, "answer_id": 60715625, "question_id": 49518438, "link": "https://stackoverflow.com/questions/49518438/idiomatic-way-to-convert-a-list-to-a-pair-in-kotlin/60715625#60715625", "title": "Idiomatic way to convert a List to a Pair in Kotlin", "body": "<p>Here's a variation on @zsmb13's solution that avoids creating the exception explicitly and dereferencing the list by index:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.toPair(): Pair&lt;T, T&gt; {\n    require (this.size == 2) { \"List is not of length 2!\" }\n    val (a, b) = this\n    return Pair(a, b)\n}\n</code></pre>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5571, "favorite_count": 0, "accepted_answer_id": 49519857, "answer_count": 3, "score": 10, "last_activity_date": 1584413565, "creation_date": 1522169477, "question_id": 49518438, "link": "https://stackoverflow.com/questions/49518438/idiomatic-way-to-convert-a-list-to-a-pair-in-kotlin", "title": "Idiomatic way to convert a List to a Pair in Kotlin", "body": "<p>There is an idiomatic approach to converting a <code>Pair</code> into a <code>List</code>:</p>\n\n<pre><code>Pair(a, b).toList()\n</code></pre>\n\n<p>No I am searching for the opposite process. My best approach looks like this:</p>\n\n<pre><code>Pair(list[0], list[1])\n</code></pre>\n\n<p>My problem with this is that I need to make a <code>List</code> value in code first for this to work. I would love something like this:</p>\n\n<pre><code>listOf(a, b).toPair()\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 0, "last_activity_date": 1522173536, "last_edit_date": 1522173536, "creation_date": 1522173160, "answer_id": 49519438, "question_id": 49518184, "link": "https://stackoverflow.com/questions/49518184/what-version-of-kotlin-was-used-to-compile-this-jar/49519438#49519438", "title": "What Version Of Kotlin Was Used To Compile This Jar?", "body": "<p>I don't think you <em>can</em>, given that (as far as I know) the Kotlin compiler doesn't store any version information in generated classes.</p>\n\n<p>Unlike e.g. Scala, which <a href=\"https://stackoverflow.com/a/3323977/7366707\">embeds its major and minor version in the compiled class files</a>, Kotlin only adds <a href=\"https://stackoverflow.com/questions/36816521/is-the-format-of-the-data-held-in-kotlin-metadata-documented-anywhere\"><code>@Metadata</code></a> annotations to methods and classes etc. to hold information about nullability, mutability, etc. You can find the protobuf for this information <a href=\"https://github.com/JetBrains/kotlin/blob/ee50aec7342ab375a105bb318e6501135e859028/core/deserialization/src/descriptors.proto\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You could use the older \"standard\" (which was also used in Scala projects) of <a href=\"https://stackoverflow.com/a/21295305/7366707\">embedding the version in the JAR's name</a>.</p>\n"}], "owner": {"reputation": 5734, "user_id": 1000011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/acdae0c496ecd259af4d8a673bd22325?s=128&d=identicon&r=PG", "display_name": "opticyclic", "link": "https://stackoverflow.com/users/1000011/opticyclic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522173536, "creation_date": 1522168528, "question_id": 49518184, "link": "https://stackoverflow.com/questions/49518184/what-version-of-kotlin-was-used-to-compile-this-jar", "title": "What Version Of Kotlin Was Used To Compile This Jar?", "body": "<p>Given a jar file that I know was compiled with kotlin, how do I determine which version of kotlin was used to compile the class files in it?</p>\n\n<p>If I do the following I get 52 (i.e. JDK8)</p>\n\n<pre><code>javap -cp target.jar -verbose fully.qualified.class.name | grep major\n</code></pre>\n\n<p>That is the java target version though.</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "observable"], "comments": [{"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 0, "creation_date": 1522313150, "post_id": 49517029, "comment_id": 86110313, "body": "same problem for me... very strange that now it return nullable even if you don&#39;t specify nullable... DataBindingUtil.bind return nullable binding too now"}, {"owner": {"reputation": 528, "user_id": 1667995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NBa4e.jpg?s=128&g=1", "display_name": "Logi24", "link": "https://stackoverflow.com/users/1667995/logi24"}, "edited": false, "score": 0, "creation_date": 1522330673, "post_id": 49517029, "comment_id": 86122632, "body": "because of the @Nullable over the get() in the original source code. Have the same problem right now :("}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 1852422, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ea7d161eeea961f1f244e39b2d240809?s=128&d=identicon&r=PG", "display_name": "Vibin", "link": "https://stackoverflow.com/users/1852422/vibin"}, "is_accepted": false, "score": 1, "last_activity_date": 1524296362, "creation_date": 1524296362, "answer_id": 49953509, "question_id": 49517029, "link": "https://stackoverflow.com/questions/49517029/observablefield-return-null-after-update-to-3-1-0/49953509#49953509", "title": "ObservableField return null after update to 3.1.0", "body": "<p>I solved this by subclassing ObservableField. FWIW, it's not valid liskov as it strengthens pre-conditions, but works fine for now.</p>\n\n<p>Nulls can still creep into this class (and result in NPE), if you're using it from java.</p>\n\n<pre><code>import android.databinding.Observable\nimport android.databinding.ObservableField\n\nclass NonNullObservableField&lt;T : Any&gt;(\n    value: T, vararg dependencies: Observable\n) : ObservableField&lt;T&gt;(*dependencies) {\n    init {\n        set(value)\n    }\n\n    override fun get(): T = super.get()!!\n\n    @Suppress(\"RedundantOverride\") // Only allow non-null `value`.\n    override fun set(value: T) = super.set(value)\n}\n</code></pre>\n"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1524296362, "creation_date": 1522164906, "last_edit_date": 1522171845, "question_id": 49517029, "link": "https://stackoverflow.com/questions/49517029/observablefield-return-null-after-update-to-3-1-0", "title": "ObservableField return null after update to 3.1.0", "body": "<p>After an update to <code>Android Studio</code> to <code>3.1.0</code> and <code>kotlin</code> version to <code>1.2.31</code>, I am having problem with the <code>Observables</code>.</p>\n\n<p>The someVm value is null. </p>\n\n<pre><code>class ViewModel1(car: Car) : BaseObservable() {\n\n    val someVm = ObservableField&lt;ViewModel2&gt;(ViewModel2(car))\n\n    shipmentVm.get()!!\n}\n\nclass ViewModel2(car: Car) : ItemViewModel() {\n\n    val car= ObservableField(car)\n}\n\nopen class ItemViewModel : BaseObservable() {\n\n    val first = ObservableField(false)\n    val last = ObservableField(false)\n}\n</code></pre>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "edited": false, "score": 0, "creation_date": 1522768214, "post_id": 49515305, "comment_id": 86274230, "body": "So says the manual. However, I cannot retrieve them using <code>Commands::class.staticFunctions</code>; instead, they are available as <code>Commands::class.functions</code> and actually take an <code>INSTANCE</code> parameter."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "edited": false, "score": 0, "creation_date": 1522768478, "post_id": 49515305, "comment_id": 86274406, "body": "The bytecode has both declarations for each such function - the static one and the one that takes <code>INSTANCE</code> as a parameter. I guess the Kotlin reflection sees only the latter one..."}, {"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "edited": false, "score": 0, "creation_date": 1522768694, "post_id": 49515305, "comment_id": 86274579, "body": "Well, my question was about availability via reflection, and it doesn&#39;t help me that the static method is there in the byte code."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 3, "last_activity_date": 1522160165, "creation_date": 1522160165, "answer_id": 49515305, "question_id": 49515167, "link": "https://stackoverflow.com/questions/49515167/how-to-declare-a-reflection-iterable-set-of-functions-in-kotlin/49515305#49515305", "title": "How to declare a reflection-iterable set of functions in Kotlin?", "body": "<p>If you annotate the functions declared in an <code>object</code> with <code>@JvmStatic</code>, they will be compiled to static Java methods.</p>\n"}, {"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1522164202, "post_id": 49515752, "comment_id": 86038871, "body": "Calling <code>.kotlin</code> works on any Java class, regardless of how it was compiled."}, {"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "edited": false, "score": 0, "creation_date": 1522168358, "post_id": 49515752, "comment_id": 86041715, "body": "I will go with this solution, the code looks cleaner with it."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1522173519, "post_id": 49515752, "comment_id": 86044509, "body": "@yole Good to know. That&#39;s what I assumed initially but then realized I was only assuming and didn&#39;t have opportunity to test."}, {"owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1522767069, "post_id": 49515752, "comment_id": 86273352, "body": "@yole I was a bit too fast when accepting this answer. It actually doesn&#39;t work: <code>java.lang.UnsupportedOperationException: Packages and file facades are not yet supported in Kotlin reflection. Meanwhile please use Java reflection to inspect this class</code>. So if I want to use <i>Kotlin</i> reflection, the other answer is the right one."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1522161723, "last_edit_date": 1522161723, "creation_date": 1522161363, "answer_id": 49515752, "question_id": 49515167, "link": "https://stackoverflow.com/questions/49515167/how-to-declare-a-reflection-iterable-set-of-functions-in-kotlin/49515752#49515752", "title": "How to declare a reflection-iterable set of functions in Kotlin?", "body": "<blockquote>\n  <p>I seem not to be able to reference that class in Kotlin</p>\n</blockquote>\n\n<p><code>Class.forName(\"your.package.CommandsKt\")</code> will work (it returns <code>java.lang.Class</code>, not <code>KClass</code>; I am not sure if calling <code>.kotlin</code> on it will work).</p>\n"}], "owner": {"reputation": 23530, "user_id": 347964, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bE90m.png?s=128&g=1", "display_name": "flyx", "link": "https://stackoverflow.com/users/347964/flyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522161723, "creation_date": 1522159807, "question_id": 49515167, "link": "https://stackoverflow.com/questions/49515167/how-to-declare-a-reflection-iterable-set-of-functions-in-kotlin", "title": "How to declare a reflection-iterable set of functions in Kotlin?", "body": "<p>I want to declare a set of Kotlin functions that are <em>not</em> member functions of a class (i.e. \u201estatic\u201c functions without reference to a class instance). They have to be declared in a way so that I can iterate over them using reflection during runtime.</p>\n\n<p>My first try was to write a file <code>Commands.kt</code> like this:</p>\n\n<pre><code>fun a(): Int = 42\nfun b(): Int = 23\n</code></pre>\n\n<p>However, I did not find a way to iterate over the functions in this file. I know that for Java compatibility, a class <code>CommandsKt</code> will be generated that contains those functions as static methods. However, I seem not to be able to reference that class in Kotlin, neither did I find a way to iterate over all entities of a Kotlin file via reflection.</p>\n\n<p>My second try was to use an object:</p>\n\n<pre><code>object Commands {\n    fun a(): Int = 42\n    fun b(): Int = 23\n}\n</code></pre>\n\n<p>I can iterate over the member functions via <code>Commands::class.declaredMemberFunctions</code> now. However, those functions would still be member functions, not \u201estatic\u201c (in Java speak) functions (right?).</p>\n\n<p>So how would I declare those functions so that they are both static and iterable via reflection?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "synchronization"], "comments": [{"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1524584311, "post_id": 49514742, "comment_id": 87027879, "body": "Keep in mind <code>kotlin-stdlib-jre8</code> and <code>kotlin-stdlib-jdk8</code> are minSdk 24."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 5251647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6v5S7.jpg?s=128&g=1", "display_name": "Thabiso Motswagole", "link": "https://stackoverflow.com/users/5251647/thabiso-motswagole"}, "edited": false, "score": 0, "creation_date": 1522181720, "post_id": 49516666, "comment_id": 86049175, "body": "Man I had this problem too... I just deleted everything and pulled from my repo after reinstalling"}, {"owner": {"reputation": 138, "user_id": 5251647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6v5S7.jpg?s=128&g=1", "display_name": "Thabiso Motswagole", "link": "https://stackoverflow.com/users/5251647/thabiso-motswagole"}, "reply_to_user": {"reputation": 138, "user_id": 5251647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6v5S7.jpg?s=128&g=1", "display_name": "Thabiso Motswagole", "link": "https://stackoverflow.com/users/5251647/thabiso-motswagole"}, "edited": false, "score": 0, "creation_date": 1522213892, "post_id": 49516666, "comment_id": 86058611, "body": "It didn&#39;t work... I&#39;m going to just try do what @ThabisoMotswagole did and see if that works"}], "tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": false, "score": 1, "last_activity_date": 1522163810, "creation_date": 1522163810, "answer_id": 49516666, "question_id": 49514742, "link": "https://stackoverflow.com/questions/49514742/synchronizing-gradle-failed-due-to-unknown-issues-with-downloads/49516666#49516666", "title": "Synchronizing Gradle failed due to unknown issues with downloads", "body": "<p>I faced this problem after updating to new Android Studio too. You need to provide the dependency with new Kotlin version explicitly. In your app level build.gradle file add:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.30\"\n</code></pre>\n\n<p>Also you might need to add other dependencies:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:1.2.30\"\ncompile \"org.jetbrains.kotlin:kotlin-reflect:1.2.30\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.30\"\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 5251647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6v5S7.jpg?s=128&g=1", "display_name": "Thabiso Motswagole", "link": "https://stackoverflow.com/users/5251647/thabiso-motswagole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522163810, "creation_date": 1522158597, "question_id": 49514742, "link": "https://stackoverflow.com/questions/49514742/synchronizing-gradle-failed-due-to-unknown-issues-with-downloads", "title": "Synchronizing Gradle failed due to unknown issues with downloads", "body": "<p>I have been trying to fix this error all day now. All I did in the morning was update the compiler I had on my Android Studio. That's when everything went horribly wrong. Since then I have uninstalled the compiler...</p>\n\n<p>These are the types of errors I keep getting everytime I try sync gradle:</p>\n\n<pre><code>Gradle sync failed: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0.\nSearched in the following locations:\n         https://maven.google.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n         https://maven.google.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\n</code></pre>\n\n<p>Is the latest and one I can't solve... things I've tried:</p>\n\n<ul>\n<li>To solve the other problems I physically downloaded the jar files and\nput them in the respective places (which failed with kotlin 1.2.0)...</li>\n<li>I also added this to my gradle:</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n    google()\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url 'https://jitpack.io' }\n    mavenCentral()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.0'\n    classpath 'io.fabric.tools:gradle:1.+'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n</code></pre>\n\n<p>This fixed my other issues... </p>\n\n<ul>\n<li>I tried running from offline mode which failed...</li>\n<li>I tried downloading the files into the project and referencing it like this:</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>compile files('kotlin-stdlib-jre8-1.2.0.jar')\n</code></pre>\n\n<p>I have long since removed the compiler just stuck as to what to do... I couldn't find any way online to fix my problem</p>\n"}, {"tags": ["kotlin", "maven-resources-plugin"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 6018922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64514f2111c758325aac19cd177385da?s=128&d=identicon&r=PG&f=1", "display_name": "aygavras", "link": "https://stackoverflow.com/users/6018922/aygavras"}, "is_accepted": false, "score": 0, "last_activity_date": 1522158108, "creation_date": 1522158108, "answer_id": 49514530, "question_id": 49514528, "link": "https://stackoverflow.com/questions/49514528/kotlin-build-resources-not-getting-copied/49514530#49514530", "title": "Kotlin build - resources not getting copied", "body": "<p>Issue was with the kotlin incremental config plugin. </p>\n\n<pre><code>&lt;kotlin.compiler.incremental&gt;false&lt;/kotlin.compiler.incremental&gt;\n</code></pre>\n\n<p>This was resolved after disabling it. Another workaround is:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;extra-copy-resources&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;resources&lt;/goal&gt;\n            &lt;/goals&gt;          \n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;extra-copy-test-resources&lt;/id&gt;\n            &lt;phase&gt;process-test-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;testResources&lt;/goal&gt;\n            &lt;/goals&gt;          \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Though this solution is causing extra copying.</p>\n\n<p>As of now, the incremental compilation is still more of an experimental feature, so it's better to be wary of it before using it in production.</p>\n\n<p>Ref: <a href=\"https://discuss.kotlinlang.org/t/kotlin-compiler-incremental-not-copying-resources/5640\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-compiler-incremental-not-copying-resources/5640</a></p>\n"}], "owner": {"reputation": 160, "user_id": 6018922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64514f2111c758325aac19cd177385da?s=128&d=identicon&r=PG&f=1", "display_name": "aygavras", "link": "https://stackoverflow.com/users/6018922/aygavras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522158108, "creation_date": 1522158108, "question_id": 49514528, "link": "https://stackoverflow.com/questions/49514528/kotlin-build-resources-not-getting-copied", "title": "Kotlin build - resources not getting copied", "body": "<p>In my kotlin project the resources (ehcache.xml &amp; logback.xml config) were not getting copied to target/classes.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 3045992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xPZj7.jpg?s=128&g=1", "display_name": "BapediBoupi", "link": "https://stackoverflow.com/users/3045992/bapediboupi"}, "edited": false, "score": 1, "creation_date": 1545152417, "post_id": 49514410, "comment_id": 94523706, "body": "@Embedded would work pretty well to get the list of pet in a user, I don&#39;t really see how to get the user from the pet itself (other way around). Would you care to give an example with this use case?"}], "tags": [], "owner": {"reputation": 346, "user_id": 1607169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fe06f2eea3ca7d93e6720a1a417b5e?s=128&d=identicon&r=PG", "display_name": "webzooh", "link": "https://stackoverflow.com/users/1607169/webzooh"}, "is_accepted": true, "score": 0, "last_activity_date": 1522157809, "creation_date": 1522157809, "answer_id": 49514410, "question_id": 49514333, "link": "https://stackoverflow.com/questions/49514333/room-querying-one-to-many-relationship/49514410#49514410", "title": "Room querying one to many relationship", "body": "<p>You should use <code>@Embedded</code> (resource: <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Relation.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/persistence/room/Relation.html</a>)</p>\n"}], "owner": {"reputation": 45, "user_id": 3957202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b76b43a723315283fab01ad68fca97c?s=128&d=identicon&r=PG&f=1", "display_name": "rikuw", "link": "https://stackoverflow.com/users/3957202/rikuw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3621, "favorite_count": 0, "accepted_answer_id": 49514410, "answer_count": 1, "score": 3, "last_activity_date": 1522157809, "creation_date": 1522157587, "question_id": 49514333, "link": "https://stackoverflow.com/questions/49514333/room-querying-one-to-many-relationship", "title": "Room querying one to many relationship", "body": "<p>How can we query all entities with their one to many relationship with Room?</p>\n\n<p>Say we have a <strong>User Entity</strong>:</p>\n\n<pre><code>@Entity\nclass User(@PrimaryKey(autoGenerate = true) var id: Long?, var name: String)\n</code></pre>\n\n<p>and a <strong>Pet Entity</strong>:</p>\n\n<pre><code>@Entity(foreignKeys = [(ForeignKey(entity = User::class,\n    parentColumns = [\"id\"],\n    childColumns = [\"userId\"],\n    onDelete = ForeignKey.CASCADE))])\npublic class Pet(@PrimaryKey(autoGenerate = true),\n    var name: String,\n    var userId: Long?,\n    @Ignore var user: User?)\n</code></pre>\n\n<p>Normally we would query all pets like this:</p>\n\n<pre><code>@Dao\ninterface PetsDao {\n    @Query(\"SELECT * FROM pets\")\n    fun getAll(): Flowable&lt;List&lt;Pet&gt;&gt;\n}\n</code></pre>\n\n<p>But how can we make it so that the <strong>User</strong> is attached to the <strong>Pet</strong> object automatically? Like the query would be:</p>\n\n<pre><code>@Dao\ninterface PetsDao {\n    @Query(\"SELECT * FROM pets p JOIN users u ON u.id = p.userId\")\n    fun getAllWithUser(): Flowable&lt;List&lt;Pet&gt;&gt;\n}\n</code></pre>\n\n<p>And then we could use <strong>pet.user.name</strong> without having to query the user separately.</p>\n"}, {"tags": ["android", "java-8", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 23, "creation_date": 1522153951, "post_id": 49512629, "comment_id": 86030456, "body": "&quot;as you can see i am targetting 27 which is already ahead of 24 that its complaining about ?&quot; -- it is not complaining about your <code>targetSdkVersion</code>. &quot;What exactly should i do to fix this ?&quot; -- try compiling with <a href=\"https://developer.android.com/studio/write/java8-support.html\" rel=\"nofollow noreferrer\">Java 8 compatibility enabled</a>. &quot;if i change to 1.8 java wont i be missing alot of customers ?&quot; -- not for the default interface methods that the error message is complaining about. &quot;why was i not getting this error before i upgraded android studio. &quot; -- perhaps an implicit dependency (e.g., data binding)."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1522164302, "post_id": 49512629, "comment_id": 86038941, "body": "@CommonsWare it was exactly as you mentioned. changing to 1.8 resolved the issue but i&#39;ll have to check it on older devices to see what happens.  the code that did it was  compileOptions {         sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8     }"}, {"owner": {"reputation": 3683, "user_id": 5271285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zt7P0.png?s=128&g=1", "display_name": "Androider", "link": "https://stackoverflow.com/users/5271285/androider"}, "edited": false, "score": 0, "creation_date": 1598469136, "post_id": 49512629, "comment_id": 112472647, "body": "thanks for this question"}], "answers": [{"comments": [{"owner": {"reputation": 1618, "user_id": 6538897, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/upe4P.jpg?s=128&g=1", "display_name": "Idee", "link": "https://stackoverflow.com/users/6538897/idee"}, "edited": false, "score": 13, "creation_date": 1528385368, "post_id": 49525685, "comment_id": 88497788, "body": "Please specify that it should be inside the android curly brace like so:  android {  // add here }"}, {"owner": {"reputation": 9545, "user_id": 719212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/69211a100c0545e972aac3b398e44a16?s=128&d=identicon&r=PG", "display_name": "R4j", "link": "https://stackoverflow.com/users/719212/r4j"}, "edited": false, "score": 3, "creation_date": 1536071289, "post_id": 49525685, "comment_id": 91287266, "body": "@j2emanue I already added this one in build.gradle, but still get the same problem, only for release build"}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1536080161, "post_id": 49525685, "comment_id": 91292382, "body": "i&#39;d have to see your gradle file both project and module gradle files. maybe post a question."}, {"owner": {"reputation": 538, "user_id": 7271231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lx6nb9mgeyY/AAAAAAAAAAI/AAAAAAAARIs/04G26QacnBo/photo.jpg?sz=128", "display_name": "Urvish rana", "link": "https://stackoverflow.com/users/7271231/urvish-rana"}, "edited": false, "score": 0, "creation_date": 1556702837, "post_id": 49525685, "comment_id": 98520924, "body": "adding this will show unresloved reference into the project structure any idea about that?"}, {"owner": {"reputation": 4272, "user_id": 1271424, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/mGKfX.jpg?s=128&g=1", "display_name": "Roman Truba", "link": "https://stackoverflow.com/users/1271424/roman-truba"}, "edited": false, "score": 1, "creation_date": 1560855886, "post_id": 49525685, "comment_id": 99864994, "body": "<i>Sigh</i> Why google cannot just put appropriate things in default project settings?.."}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1562685475, "post_id": 49525685, "comment_id": 100449943, "body": "i was concerned that this would make my app incompatible with older android devices, but that&#39;s not the case: <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a>"}, {"owner": {"reputation": 1858, "user_id": 5097539, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1fa1dff17a3586fbbe5903c75e4a0491?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Bacon", "link": "https://stackoverflow.com/users/5097539/francis-bacon"}, "edited": false, "score": 0, "creation_date": 1594709712, "post_id": 49525685, "comment_id": 111212141, "body": "It works for me. But curious about what introduce the issue. One suspicious point is that DexGuard uses Default interface methods."}, {"owner": {"reputation": 3683, "user_id": 5271285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zt7P0.png?s=128&g=1", "display_name": "Androider", "link": "https://stackoverflow.com/users/5271285/androider"}, "edited": false, "score": 0, "creation_date": 1598469118, "post_id": 49525685, "comment_id": 112472639, "body": "Thanks for this answer"}], "tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": true, "score": 669, "last_activity_date": 1552471321, "last_edit_date": 1552471321, "creation_date": 1522208225, "answer_id": 49525685, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/49525685#49525685", "title": "Default interface methods are only supported starting with Android N", "body": "<p>As CommonsWare mentioned, for reference add this inside the <code>android {...}</code> closure in the build.gradle for your app module to resolve issue:  </p>\n\n<pre><code>android {\n...\n  compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 10024596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jmoRW.jpg?s=128&g=1", "display_name": "Zafar Iqbal", "link": "https://stackoverflow.com/users/10024596/zafar-iqbal"}, "edited": false, "score": 0, "creation_date": 1584171972, "post_id": 54566532, "comment_id": 107359741, "body": "Thankuu programmer.Nice Job"}], "tags": [], "owner": {"reputation": 978, "user_id": 4520839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80d839c42d1b3a3670bba7aa65d2be4?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/4520839/amir"}, "is_accepted": false, "score": 81, "last_activity_date": 1603873454, "last_edit_date": 1603873454, "creation_date": 1549515387, "answer_id": 54566532, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/54566532#54566532", "title": "Default interface methods are only supported starting with Android N", "body": "<p>You should use Java 8 to solve this, based on <a href=\"https://developer.android.com/studio/write/java8-support#supported_features\" rel=\"noreferrer\">the Android documentation</a> you can do this by</p>\n<p>clicking <strong>File &gt; Project Structure</strong></p>\n<p>and change <code>Source Compatibility</code> and <code>Target Compatibility</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/qqJo1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qqJo1.png\" alt=\"enter image description here\" /></a></p>\n<p>and you can also configure it directly in the app-level <code>build.gradle</code> file:</p>\n<pre><code>android {\n  ...\n  // Configure only for each module that uses Java 8\n  // language features (either in its source code or\n  // through dependencies).\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 620, "user_id": 4923046, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-t3LDa9cf8Aw/AAAAAAAAAAI/AAAAAAAAAJE/JVM06yAXyhY/photo.jpg?sz=128", "display_name": "Vasudev Vyas", "link": "https://stackoverflow.com/users/4923046/vasudev-vyas"}, "is_accepted": false, "score": 45, "last_activity_date": 1587824095, "last_edit_date": 1587824095, "creation_date": 1552472000, "answer_id": 55139294, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/55139294#55139294", "title": "Default interface methods are only supported starting with Android N", "body": "<p>Update your build.gradle(Module:app) add <code>compileOptions</code> block and add <code>JavaVersion.VERSION_1_8</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    .................\n    .........................\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 555, "user_id": 1877019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GkI5H.jpg?s=128&g=1", "display_name": "Mahabub Karim", "link": "https://stackoverflow.com/users/1877019/mahabub-karim"}, "is_accepted": false, "score": 6, "last_activity_date": 1558977189, "creation_date": 1558977189, "answer_id": 56330093, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/56330093#56330093", "title": "Default interface methods are only supported starting with Android N", "body": "<p>Use this code in your build.gradle</p>\n\n<pre><code>android {\n    compileOptions {\n        incremental true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2264, "user_id": 1494051, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b008a48b0d60e82f9a9b00d75cc7c7e7?s=128&d=identicon&r=PG", "display_name": "mehrdad seyrafi", "link": "https://stackoverflow.com/users/1494051/mehrdad-seyrafi"}, "edited": false, "score": 1, "creation_date": 1589591829, "post_id": 56642100, "comment_id": 109363722, "body": "It just solved my problem. But please advise me how the hell did you know this is the solution?"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 26, "last_activity_date": 1561630012, "last_edit_date": 1561630012, "creation_date": 1560834650, "answer_id": 56642100, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/56642100#56642100", "title": "Default interface methods are only supported starting with Android N", "body": "<p>You can resolve this issue by downgrading Source Compatibility and Target Compatibility Java Version to 1.8 in Latest Android Studio Version 3.4.1</p>\n\n<ol>\n<li><p>Open Module Settings (Project Structure) Winodw by right clicking on app folder or Command + Down Arrow on Mac\n<a href=\"https://i.stack.imgur.com/K9Lti.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/K9Lti.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Go to Modules -> Properties\n<a href=\"https://i.stack.imgur.com/WyYYw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WyYYw.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Change Source Compatibility and Target Compatibility Version to 1.8\n<a href=\"https://i.stack.imgur.com/Y7N0T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y7N0T.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Click on Apply or OK Thats it. It will solve your issue.</p></li>\n</ol>\n\n<p>Also you can manually add in build.gradle (Module: app) </p>\n\n<pre><code>android {\n...\n\ncompileOptions {\n        sourceCompatibility = '1.8'\n        targetCompatibility = '1.8'\n    }\n\n...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 256, "user_id": 7756843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1ef6210a97fabfdf3dfe8808e6b456?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Sharma", "link": "https://stackoverflow.com/users/7756843/lalit-sharma"}, "edited": false, "score": 1, "creation_date": 1591948512, "post_id": 56911656, "comment_id": 110253514, "body": "thanks for the explanation and info about which file to update. App-level or Project level."}], "tags": [], "owner": {"reputation": 1992, "user_id": 8471798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WiHS.jpg?s=128&g=1", "display_name": "canerkaseler", "link": "https://stackoverflow.com/users/8471798/canerkaseler"}, "is_accepted": false, "score": 59, "last_activity_date": 1562392797, "last_edit_date": 1592644375, "creation_date": 1562392797, "answer_id": 56911656, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/56911656#56911656", "title": "Default interface methods are only supported starting with Android N", "body": "<p>In app-level gradle, you have to write these code:</p>\n<pre><code>android {\n...\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n</code></pre>\n<p>They come from <strong>JavaVersion.java</strong> in Android.</p>\n<blockquote>\n<p>An enumeration of Java versions.</p>\n<p>Before 9: <a href=\"http://www.oracle.com/technetwork/java/javase/versioning-naming-139433.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/versioning-naming-139433.html</a></p>\n<p>After 9: <a href=\"http://openjdk.java.net/jeps/223\" rel=\"noreferrer\">http://openjdk.java.net/jeps/223</a></p>\n</blockquote>\n<p>@canerkaseler</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 7114988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCl8M.png?s=128&g=1", "display_name": "Oleg Yablokov", "link": "https://stackoverflow.com/users/7114988/oleg-yablokov"}, "edited": false, "score": 0, "creation_date": 1611414242, "post_id": 57114138, "comment_id": 116446091, "body": "Could you provide an example how to do this?"}, {"owner": {"reputation": 4983, "user_id": 2823516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8xGKn.jpg?s=128&g=1", "display_name": "Joaquin Iurchuk", "link": "https://stackoverflow.com/users/2823516/joaquin-iurchuk"}, "reply_to_user": {"reputation": 199, "user_id": 7114988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCl8M.png?s=128&g=1", "display_name": "Oleg Yablokov", "link": "https://stackoverflow.com/users/7114988/oleg-yablokov"}, "edited": false, "score": 0, "creation_date": 1611713267, "post_id": 57114138, "comment_id": 116537949, "body": "@OlegYablokov   I meant   compileOptions {         sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8     }. See them here: <a href=\"https://stackoverflow.com/a/56911656/2823516\">stackoverflow.com/a/56911656/2823516</a>"}], "tags": [], "owner": {"reputation": 4983, "user_id": 2823516, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8xGKn.jpg?s=128&g=1", "display_name": "Joaquin Iurchuk", "link": "https://stackoverflow.com/users/2823516/joaquin-iurchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1563544933, "creation_date": 1563544933, "answer_id": 57114138, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/57114138#57114138", "title": "Default interface methods are only supported starting with Android N", "body": "<p>This also happened to me but using Dynamic Features. I already had Java 8 compatibility enabled in the app module but I had to add this compatibility lines to the Dynamic Feature module and then it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 935975, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1142bf528ef9277b15b3f618e77b4813?s=128&d=identicon&r=PG", "display_name": "leegor", "link": "https://stackoverflow.com/users/935975/leegor"}, "is_accepted": false, "score": 2, "last_activity_date": 1577203450, "creation_date": 1577203450, "answer_id": 59471166, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/59471166#59471166", "title": "Default interface methods are only supported starting with Android N", "body": "<p>My project use ButterKnife and Retro lambda, setting JavaVersion.VERSION_1_8 will not work. It always blames at ButterKnife static interface function until I found this <a href=\"https://developer.android.com/studio/write/java8-support#migrate_from_retrolambda\" rel=\"nofollow noreferrer\">Migrate from Retrolambda</a></p>\n\n<p>TL;DR</p>\n\n<p>Just add JavaVersion.VERSION_1_8 and completely REMOVE retrolambda from your project. It will build successfully.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 11233893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7My3Yjj77Rw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4oWeAoyx0a_BsFqtmvPX8BVgKpQ/mo/photo.jpg?sz=128", "display_name": "ricky roy", "link": "https://stackoverflow.com/users/11233893/ricky-roy"}, "is_accepted": false, "score": 2, "last_activity_date": 1589997943, "creation_date": 1589997943, "answer_id": 61919898, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/61919898#61919898", "title": "Default interface methods are only supported starting with Android N", "body": "<p>Setting the minSdkVersion to 21 from 19 solved the issue for me.</p>\n\n<pre><code>defaultConfig {\n        applicationId \"com.example\"\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 23\n        versionName \"1.0\"\n        vectorDrawables.useSupportLibrary = true\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 522, "user_id": 8354082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3wvb4.jpg?s=128&g=1", "display_name": "Jose Antonio", "link": "https://stackoverflow.com/users/8354082/jose-antonio"}, "is_accepted": false, "score": 9, "last_activity_date": 1603201774, "last_edit_date": 1603201774, "creation_date": 1594830542, "answer_id": 62919500, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n/62919500#62919500", "title": "Default interface methods are only supported starting with Android N", "body": "<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n\nandroid {\ncompileSdkVersion 30\nbuildToolsVersion &quot;30.0.0&quot;\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\ndefaultConfig {\n    applicationId &quot;com.example.architecture&quot;\n    minSdkVersion 16\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n   }\n}\ndependencies {\n\nimplementation 'androidx.room:room-runtime:2.2.5'\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\nannotationProcessor 'androidx.room:room-compiler:2.2.5'\ndef lifecycle_version = &quot;2.2.0&quot;\ndef arch_version = &quot;2.1.0&quot;\n\nimplementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\nimplementation 'androidx.core:core-ktx:1.3.0'\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\nimplementation &quot;androidx.cardview:cardview:1.0.0&quot;\n}\n</code></pre>\n<hr />\n<p>Add the configuration in your <strong>app</strong> module's <code>build.gradle</code></p>\n<pre><code>android {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118432, "favorite_count": 41, "protected_date": 1557748370, "accepted_answer_id": 49525685, "answer_count": 10, "score": 302, "last_activity_date": 1610755860, "creation_date": 1522152998, "last_edit_date": 1595538286, "question_id": 49512629, "link": "https://stackoverflow.com/questions/49512629/default-interface-methods-are-only-supported-starting-with-android-n", "title": "Default interface methods are only supported starting with Android N", "body": "<p>I upgraded to android studio 3.1 and I'm getting the following error:</p>\n<pre><code>Default interface methods are only supported starting with Android N (--min-api 24): void android.arch.lifecycle.DefaultLifecycleObserver.onCreate(android.arch.lifecycle.LifecycleOwner)\nMessage{kind=ERROR, text=Default interface methods are only supported starting with Android N (--min-api 24): void android.arch.lifecycle.DefaultLifecycleObserver.onCreate(android.arch.lifecycle.LifecycleOwner), sources=[Unknown source file], tool name=Optional.of(D8)}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Nof2r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Nof2r.png\" alt=\"Error\" /></a></p>\n<p>Here is my gradle config:</p>\n<pre><code>compileSdkVersion 27\n//buildToolsVersion '27.0.3'\ndefaultConfig {\n    minSdkVersion 16\n    targetSdkVersion 27\n     multiDexEnabled true\n     //...\n   }\n</code></pre>\n<p>As you can see, I am targeting 27 which is already ahead of 24 that it's complaining about. What exactly should I do to fix this? If I change to 1.8 java, won't I be missing a lot of customers? Why was I not getting this error before I upgraded Android Studio?</p>\n<p>I do not know if this is about the LifecycleObserver class I recently put in, it was in Kotlin and now I changed it to java but still get the same error after cleaning project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LifeCycleAwareObserver implements LifecycleObserver {\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)\n    public void  onAppBackgrounded() {\n        AnalyticsUtils.trackStartSession(true);\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_START)\n    public void onAppForegrounded() {\n        AnalyticsUtils.trackStartSession(false);\n    }\n}\n</code></pre>\n<p>How to trace where the error is coming from so I can fix it?</p>\n<p>Here are my version dependencies:</p>\n<pre><code>project.ext {\n      \n        firebase_version = '12.0.0'\n\n        supportlib_version = '27.0.2'\n\n        room_version = '1.0.0'\n\n        espresso_version = '3.0.1'\n\n        archLifecycleVersion = '1.1.1'\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-espresso", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1522614163, "post_id": 49521523, "comment_id": 86211764, "body": "i had to tweak it a little because of the vararg, and had to name the second argument explicitly - hence the edit."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1522611096, "last_edit_date": 1522611096, "creation_date": 1522180938, "answer_id": 49521523, "question_id": 49511741, "link": "https://stackoverflow.com/questions/49511741/kotlin-and-android-espresso-tests-adding-extension-function-with-receiver/49521523#49521523", "title": "Kotlin and Android Espresso tests: Adding extension function with receiver", "body": "<p>Sure! </p>\n\n<pre><code>private fun Int.matchAsRecyclerView(): RecyclerViewMatcher = withRecyclerView(this)\n\nprivate fun RecyclerViewMatcher.checkAtPositions(vararg indices: Int, assertionForIndex: (Int) -&gt; ViewAssertion) {\n    for(index in indices) {\n        onView(this.atPosition(index)).let { viewMatcher -&gt;\n            viewMatcher.check(assertionForIndex(index))\n        }\n    }\n}\n</code></pre>\n\n<p>Which should work as</p>\n\n<pre><code>R.id.multiselectview_recycler_view.matchAsRecyclerView().checkAtPositions(0, 1, 2, assertionForIndex = { \n    index -&gt; RecyclerViewMatcher.isSelected(true) \n})\n</code></pre>\n"}], "owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 49521523, "answer_count": 1, "score": 1, "last_activity_date": 1522611096, "creation_date": 1522150203, "question_id": 49511741, "link": "https://stackoverflow.com/questions/49511741/kotlin-and-android-espresso-tests-adding-extension-function-with-receiver", "title": "Kotlin and Android Espresso tests: Adding extension function with receiver", "body": "<p>I'm still working on improving my understanding of extension functions with receivers and need some help of you experts on a question I have regarding this.</p>\n\n<p>I have an Android Espresso testcase where I check that I have selected the items of a recyclerview. This is the same code repeated many times. I was wondering if it would be possible using kotlins extension functions with receiver to simplify this.</p>\n\n<p>My test code now:</p>\n\n<pre><code>@Test\npublic void shouldSelectAll() {\n    ...\n    onView(withRecyclerView(R.id.multiselectview_recycler_view).atPosition(0))\n            .check(RecyclerViewMatcher.isSelected(true));\n    onView(withRecyclerView(R.id.multiselectview_recycler_view).atPosition(1))\n            .check(RecyclerViewMatcher.isSelected(true));\n    onView(withRecyclerView(R.id.multiselectview_recycler_view).atPosition(2))\n            .check(RecyclerViewMatcher.isSelected(true));\n}\n</code></pre>\n\n<p>Is it some how possible to create a function <strong><code>atPositions(varag positions: Int)</code></strong> that would take an integer array and call the assertion on each of the positions in the array. Like this:</p>\n\n<pre><code>@Test\npublic void shouldSelectAll() {\n    ...\n    onView(withRecyclerView(R.id.multiselectview_recycler_view).atPositions(0, 1, 2))\n            .check(RecyclerViewMatcher.isSelected(true));\n}\n</code></pre>\n"}, {"tags": ["generics", "collections", "kotlin", "extension-methods"], "comments": [{"owner": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1522150271, "post_id": 49511735, "comment_id": 86027643, "body": "How is this related to Java? Also <a href=\"https://meta.stackexchange.com/questions/19190/should-questions-include-tags-in-their-titles\">don&#39;t tag in title</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1522158552, "post_id": 49512125, "comment_id": 86034169, "body": "Hello, I know about the <code>sum</code> method but cumulative sum is a whole other thing. A cumulative sum is a list where the <code>i</code>&#39;th element is the sum of the first <code>i</code> elements of the initial list. For example the cumulative sum of <code>1 3 5 2 1</code> is <code>1 4 9 11 12</code>. That is what I asked my question the way I did. Sorry but this doesn&#39;t really answer my question :/"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1522167384, "post_id": 49512125, "comment_id": 86041047, "body": "Oh god. I&#39;ve told you that there isn&#39;t a way to reuse the code among those subtypes of <code>Number</code> and use the implementation of <code>sum</code> as an example (to prove what I said is correct), but you say it&#39;s not answering your question. I assume <b>you&#39;re asking for an implementation of cumulative sum</b>, which is considered spam on SO."}, {"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1522184295, "post_id": 49512125, "comment_id": 86050471, "body": "No, I did not ask for that at all :/ That is simply the algorithm I was handling at the time I came across this problem/question and so I used it to give a concrete example. My question is about what you can and can&#39;t do with generics, which can be clearly seen in the last line of the question. However your answer focused more on the particular case of sum/cumsum and much less on the actual general-case question. This is not spam at all :)"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1522253657, "post_id": 49512125, "comment_id": 86086080, "body": "&quot;much less on the actual general-case question&quot; look at the 3rd non-code paragraph"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 2, "last_activity_date": 1522167427, "last_edit_date": 1522167427, "creation_date": 1522151385, "answer_id": 49512125, "question_id": 49511735, "link": "https://stackoverflow.com/questions/49511735/kotlin-generic-number-union/49512125#49512125", "title": "Kotlin generic number Union?", "body": "<p>In Kotlin, you have these extension functions in the stdlib:</p>\n\n<pre><code>fun Iterable&lt;Byte&gt;.sum(): Int { /* compiled code */ }\nfun Iterable&lt;Double&gt;.sum(): Double { /* compiled code */ }\nfun Iterable&lt;Float&gt;.sum(): Float { /* compiled code */ }\nfun Iterable&lt;Int&gt;.sum(): Int { /* compiled code */ }\nfun Iterable&lt;Long&gt;.sum(): Long { /* compiled code */ }\nfun Iterable&lt;Short&gt;.sum(): Int { /* compiled code */ }\ninline fun &lt;T&gt; Iterable&lt;T&gt;.sumBy(selector: (T) -&gt; Int): Int { /* compiled code */ }\ninline fun &lt;T&gt; Iterable&lt;T&gt;.sumByDouble(selector: (T) -&gt; Double): Double { /* compiled code */ }\n</code></pre>\n\n<p>And from that you can see there isn't a way to write a function for \"<code>List</code> of types that have <code>plus</code> method\", since Kotlin is not duck typed.</p>\n\n<p>Also, you mentioned <code>List&lt;anything that implements add&gt;</code>, which is unclear (or, clear but incorrect), because in Kotlin, all number types have <code>plus</code> instead of <code>add</code>. From that you can know, different classes have their own definitions of the \"add\" operation, and such operation have different names under different circumstances.</p>\n\n<p>I recommend you to use the function called <code>reduce</code>, or <code>reduceRight</code>, or <code>fold</code>, or <code>foldRight</code>, which allows you to customize your \"add\" operation by passing an argument.</p>\n\n<p>Like, the implementation of <code>sum</code> for <code>List&lt;Int&gt;</code> is basically:</p>\n\n<pre><code>fun List&lt;Int&gt;.sum() = fold(0, Int::plus)\n</code></pre>\n\n<p>And the like.</p>\n"}, {"comments": [{"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1522159465, "post_id": 49512165, "comment_id": 86034891, "body": "I see. So there is no way to impose a... contract... on the generic types you use then?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 1, "creation_date": 1522159561, "post_id": 49512165, "comment_id": 86034969, "body": "You can impose interfaces and classes, but there is no common interface or class with add, also, my answer is for normal sum, rather than cumulative"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 4, "last_activity_date": 1522152272, "last_edit_date": 1522152272, "creation_date": 1522151512, "answer_id": 49512165, "question_id": 49511735, "link": "https://stackoverflow.com/questions/49511735/kotlin-generic-number-union/49512165#49512165", "title": "Kotlin generic number Union?", "body": "<h1>Why you can't add numbers</h1>\n\n<p>Numbers only have the following methods:</p>\n\n<ul>\n<li><code>public abstract fun toDouble(): Double</code></li>\n<li><code>public abstract fun toFloat(): Float</code></li>\n<li><code>public abstract fun toLong(): Long</code></li>\n<li><code>public abstract fun toInt(): Int</code></li>\n<li><code>public abstract fun toChar(): Char</code></li>\n<li><code>public abstract fun toShort(): Short</code></li>\n<li><code>public abstract fun toByte(): Byte</code></li>\n</ul>\n\n<p>There is no add, so you can't add them together</p>\n\n<h1>Workarounds</h1>\n\n<ul>\n<li>You can use the Iterable methods, which should be available on lists</li>\n<li>You can wrap the Numbers, and have the wrappers supply an add method</li>\n<li>You could use reflection to do this, but it might not be the best way</li>\n</ul>\n\n<h1>Hacky casting workaround</h1>\n\n<pre><code>typealias Adder&lt;T&gt; = (T)-&gt;T\n\nfun &lt;T: Number&gt; T.toAdder(): Adder&lt;T&gt; {\n    return when(this) {\n        is Long -&gt; {{it -&gt; (this as Long + it as Long) as T}}\n        is Int -&gt; {{it -&gt; (this as Int + it as Int) as T}}\n        is Double -&gt; {{it -&gt; (this as Double + it as Double) as T}}\n        else -&gt; throw AssertionError()\n    }\n}\n\nfun &lt;T: Number&gt; List&lt;T&gt;.mySum(zero: T): T {\n    return map { it.toAdder() }.fold(zero) { acc, func -&gt; func(acc)  }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val total = listOf(1,2,4).mySum(0)\n}\n</code></pre>\n\n<p>This works, but it uses a lot of casting, and should be avoided</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1522161125, "last_edit_date": 1522161125, "creation_date": 1522160583, "answer_id": 49515459, "question_id": 49511735, "link": "https://stackoverflow.com/questions/49511735/kotlin-generic-number-union/49515459#49515459", "title": "Kotlin generic number Union?", "body": "<p>There is a solution for this in other languages (Haskell and Scala are best-known ones), which is likely to be added in Kotlin eventually: type classes. See <a href=\"https://github.com/Kotlin/KEEP/pull/87\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/pull/87</a> for the (non-final) proposal to add them to Kotlin.</p>\n\n<p>Until they are added, you can do something similar manually:</p>\n\n<pre><code>interface Adder&lt;T&gt; {\n    fun add(x: T, y: T): T\n}\n\nobject IntAdder : Adder&lt;Int&gt; {\n    fun add(x: Int, y: Int): Int = x + y\n}\n// similar for other types\n\n// definition of cumulativeSum\nfun &lt;T&gt; cumulativeSum(list: List&lt;T&gt;, adder: Adder&lt;T&gt;): List&lt;T&gt; = ...\n\n// call\ncumulativeSum(listOf(1,2,3), IntAdder)\n</code></pre>\n\n<p>The part type classes solve is that you won't need to pass the <code>adder</code> parameter manually, instead the compiler will determine it based on <code>T</code>.</p>\n"}], "owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 1, "accepted_answer_id": 49512165, "answer_count": 3, "score": 1, "last_activity_date": 1522167427, "creation_date": 1522150171, "last_edit_date": 1522151060, "question_id": 49511735, "link": "https://stackoverflow.com/questions/49511735/kotlin-generic-number-union", "title": "Kotlin generic number Union?", "body": "<p>I want to implement a cumulative sum method for <code>List</code>, such a function should accept <code>List&lt;Int&gt;</code>, <code>List&lt;Float&gt;</code>, etc.</p>\n\n<p>I could go as far as to say that it should accept <code>List&lt;anything that implements add&gt;</code> </p>\n\n<p>But I see no way of specifying this in the official documentation. </p>\n\n<p>I have tried using the type <code>Number</code> but it apparently does not work. </p>\n\n<p>How should I go about making a generic extension function that accepts any type implementing a particular method like <code>add</code>?</p>\n"}, {"tags": ["hibernate", "kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 9424392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd8125c02d239a99257bf3aa9482918?s=128&d=identicon&r=PG&f=1", "display_name": "Matthieu Merlyn", "link": "https://stackoverflow.com/users/9424392/matthieu-merlyn"}, "edited": false, "score": 0, "creation_date": 1523543805, "post_id": 49785642, "comment_id": 86613342, "body": "Tried that approach but now I&#39;m getting errors on the CommonSchemaV1: <code>Please register the entity &#39;net.corda.core.schemas.CommonSchemaV1&#39;</code>  Which is odd since this obviously is not a custom schema. Same error when running the <code>NodeDriver</code> or using the cordapp jars."}, {"owner": {"reputation": 216, "user_id": 1652377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a728a26b2cbc7711c40fc53b9b3fa0af?s=128&d=identicon&r=PG", "display_name": "Chris Rankin", "link": "https://stackoverflow.com/users/1652377/chris-rankin"}, "reply_to_user": {"reputation": 138, "user_id": 9424392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd8125c02d239a99257bf3aa9482918?s=128&d=identicon&r=PG&f=1", "display_name": "Matthieu Merlyn", "link": "https://stackoverflow.com/users/9424392/matthieu-merlyn"}, "edited": false, "score": 0, "creation_date": 1523553228, "post_id": 49785642, "comment_id": 86619385, "body": "Hmm, this is interesting. This looks like it might be a bug in Corda, and we&#39;ll need to dig a bit deeper here. We have managed to reproduce this problem using <code>SampleCashSchemaV2</code> from the <code>finance</code> module&#39;s own unit tests."}], "tags": [], "owner": {"reputation": 216, "user_id": 1652377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a728a26b2cbc7711c40fc53b9b3fa0af?s=128&d=identicon&r=PG", "display_name": "Chris Rankin", "link": "https://stackoverflow.com/users/1652377/chris-rankin"}, "is_accepted": false, "score": 1, "last_activity_date": 1523488607, "last_edit_date": 1523488607, "creation_date": 1523488091, "answer_id": 49785642, "question_id": 49511406, "link": "https://stackoverflow.com/questions/49511406/group-a-child-class-on-transient-parent-attributes-for-a-custom-fungiblestate-sc/49785642#49785642", "title": "Group a child class on transient parent attributes for a custom FungibleState schema", "body": "<p>Have you considered trying something like:</p>\n\n<pre><code>object CustomSchemaV1 : MappedSchema(schemaFamily = CustomSchema.javaClass, version = 1, mappedTypes = listOf(PersistentCustomState::class.java))\n{\n@Entity\n@Table(name = \"custom_states\", indexes = arrayOf(Index(name = \"custom_field_idx\", columnList = \"custom_field\")))\nclass PersistentCustomState(\n\n/** Custom attributes */\n@Column(name = \"custom_field\")\nvar customField: String? = null,\n\n/** FungibleState parent attributes */\nparticipants: MutableSet&lt;AbstractParty&gt;?,\nowner: AbstractParty,\nquantity: Long,\nissuerParty: AbstractParty,\nissuerRef: OpaqueBytes\n) : CommonSchemaV1.FungibleState(participants, owner, quantity, issuerParty, issuerRef.bytes)}\n</code></pre>\n\n<p>and then using the inherited <code>quantity</code> column? <code>CommonSchemaV1.FungibleState</code> is a <code>MappedSuperclass</code>, so its columns will be mapped into the child entity.</p>\n"}, {"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1525248956, "creation_date": 1525248956, "answer_id": 50129975, "question_id": 49511406, "link": "https://stackoverflow.com/questions/49511406/group-a-child-class-on-transient-parent-attributes-for-a-custom-fungiblestate-sc/50129975#50129975", "title": "Group a child class on transient parent attributes for a custom FungibleState schema", "body": "<p>This is a bug which is being tracked here: <a href=\"https://r3-cev.atlassian.net/browse/CORDA-1338\" rel=\"nofollow noreferrer\">https://r3-cev.atlassian.net/browse/CORDA-1338</a>.</p>\n"}], "owner": {"reputation": 138, "user_id": 9424392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd8125c02d239a99257bf3aa9482918?s=128&d=identicon&r=PG&f=1", "display_name": "Matthieu Merlyn", "link": "https://stackoverflow.com/users/9424392/matthieu-merlyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525248956, "creation_date": 1522149118, "question_id": 49511406, "link": "https://stackoverflow.com/questions/49511406/group-a-child-class-on-transient-parent-attributes-for-a-custom-fungiblestate-sc", "title": "Group a child class on transient parent attributes for a custom FungibleState schema", "body": "<p>In Corda V3, we are extending <code>FungibleState</code> as described in the <a href=\"https://docs.corda.net/api-vault-query.html\" rel=\"nofollow noreferrer\">API Vault Query</a> documentation:</p>\n\n<pre><code>object CustomSchemaV1 : MappedSchema(schemaFamily = CustomSchema.javaClass, version = 1, mappedTypes = listOf(PersistentCustomState::class.java))\n{\n@Entity\n@Table(name = \"custom_states\", indexes = arrayOf(Index(name = \"custom_field_idx\", columnList = \"custom_field\")))\nclass PersistentCustomState(\n\n/** Custom attributes */\n@Column(name = \"custom_field\")\nvar customField: String? = null,\n\n/** FungibleState parent attributes */\n@Transient\nval _participants: Set&lt;AbstractParty&gt;,\n@Transient\nval _owner: AbstractParty,\n@Transient\nval _quantity: Long,\n@Transient\nval _issuerParty: AbstractParty,\n@Transient\nval _issuerRef: OpaqueBytes\n) : CommonSchemaV1.FungibleState(_participants?.toMutableSet(), _owner, _quantity, _issuerParty, _issuerRef.bytes)}\n</code></pre>\n\n<p>Using this kind of schema, how can we sum the <code>_quantity</code> parent field, groupd by <code>custom_field</code>?</p>\n\n<p>Looking at the samples, we were trying to use <code>QueryCriteria</code>:</p>\n\n<pre><code>val sum = builder {\n    CustomSchemaV1.PersistentCustomState::_quantity.sum(\n        groupByColumns = listOf(\n            CustomSchemaV1.PersistentCustomState::customField\n        ),\n        orderBy = Sort.Direction.ASC\n    )\n}\nreturn QueryCriteria.VaultCustomQueryCriteria(sum)\n</code></pre>\n\n<p>But this throws an error: <code>Unable to locate Attribute  with the the given name [_quantity] on this ManagedType [net.corda.core.schemas.PersistentState]</code></p>\n\n<p>We were able to workaround removing the <code>@Transient</code> annotation which persists the <code>quantity</code> on the child class as well, but this leads to storing duplicate values in the database.</p>\n"}, {"tags": ["reflection", "kotlin", "copy", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 288, "user_id": 2857899, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MrjPO.jpg?s=128&g=1", "display_name": "Uziel Sulkies", "link": "https://stackoverflow.com/users/2857899/uziel-sulkies"}, "edited": false, "score": 0, "creation_date": 1531409586, "post_id": 49511306, "comment_id": 89595622, "body": "That helped me a lot. Thanks!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 15, "last_activity_date": 1546528527, "last_edit_date": 1546528527, "creation_date": 1522148849, "answer_id": 49511306, "question_id": 49511098, "link": "https://stackoverflow.com/questions/49511098/call-data-class-copy-via-reflection/49511306#49511306", "title": "Call data class copy() via reflection", "body": "<p>There's no common supertype for all <code>data</code> classes.</p>\n\n<p>Basically, <code>copy</code> is a normal member function which you can call with the <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">Kotlin reflection API</a> as follows:</p>\n\n<pre><code>val person = Person(\"Jane\", 23)\nval copy = person::class.memberFunctions.first { it.name == \"copy\" }\nval instanceParam = copy.instanceParameter!!\nval ageParam = copy.parameters.first { it.name == \"age\" }\nval result = copy.callBy(mapOf(instanceParam to person, ageParam to 18))\nprintln(result) // Person(name=Jane, age=18)\n</code></pre>\n\n<p><sup>Make sure you add <code>kotlin-reflect</code> as a dependency.</sup></p>\n\n<p>The example above shows how to omit values for the default parameters \u2013 no value is passed for <code>name</code>. If you want to pass all the parameters, this can be done in a simpler way:</p>\n\n<pre><code>val person = Person(\"Jane\", 23)\nval copy = person::class.memberFunctions.first { it.name == \"copy\" }\nval result = copy.call(person, person.name, 18)\nprintln(result) // Person(name=Jane, age=18)\n</code></pre>\n\n<p>Kotlin reflection API is not strictly necessary to call a function if you pass arguments for all of the parameters, you can do that via Java reflection as well:</p>\n\n<pre><code>val person = Person(\"Jane\", 23)\nval copy = person::class.java.methods.first { it.name == \"copy\" }\nval result = copy.invoke(person, person.name, 18)\nprintln(result) // Person(name=Jane, age=18)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 717, "user_id": 4919972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEvvh.jpg?s=128&g=1", "display_name": "Kirill Groshkov", "link": "https://stackoverflow.com/users/4919972/kirill-groshkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1573662783, "creation_date": 1573662783, "answer_id": 58841557, "question_id": 49511098, "link": "https://stackoverflow.com/questions/49511098/call-data-class-copy-via-reflection/58841557#58841557", "title": "Call data class copy() via reflection", "body": "<p>So, based on <a href=\"https://stackoverflow.com/users/2196460/hotkey\">https://stackoverflow.com/users/2196460/hotkey</a>'s answer above:</p>\n\n<pre><code>fun &lt;T : Any&gt; clone (obj: T): T {\n  if (!obj::class.isData) {\n    println(obj)\n    throw Error(\"clone is only supported for data classes\")\n  }\n\n  val copy = obj::class.memberFunctions.first { it.name == \"copy\" }\n  val instanceParam = copy.instanceParameter!!\n  return copy.callBy(mapOf(\n    instanceParam to obj\n  )) as T\n}\n\n\n</code></pre>\n"}], "owner": {"reputation": 292, "user_id": 2282093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/31WJk.png?s=128&g=1", "display_name": "Joao Neto", "link": "https://stackoverflow.com/users/2282093/joao-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 0, "accepted_answer_id": 49511306, "answer_count": 2, "score": 5, "last_activity_date": 1573662783, "creation_date": 1522148254, "question_id": 49511098, "link": "https://stackoverflow.com/questions/49511098/call-data-class-copy-via-reflection", "title": "Call data class copy() via reflection", "body": "<p>That's it. Is it possible to call the copy() function of a data class via reflection in Kotlin? How can I have a reference to the function itself? Is there a superclass for all data classes? (I can't find it...)</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 316, "user_id": 7338350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUUXw.png?s=128&g=1", "display_name": "Vishu", "link": "https://stackoverflow.com/users/7338350/vishu"}, "edited": false, "score": 0, "creation_date": 1522353015, "post_id": 49511066, "comment_id": 86136071, "body": "Can you show how you reading data in getMainActivityClassReference() class?"}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 316, "user_id": 7338350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUUXw.png?s=128&g=1", "display_name": "Vishu", "link": "https://stackoverflow.com/users/7338350/vishu"}, "edited": false, "score": 0, "creation_date": 1522396551, "post_id": 49511066, "comment_id": 86148856, "body": "@Vishu sure! <code>intent.extras.getString(&quot;TEST KEY&quot;)</code>"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522148162, "creation_date": 1522148162, "question_id": 49511066, "link": "https://stackoverflow.com/questions/49511066/how-add-extra-to-parent-activity-in-taskstackbuilder", "title": "How add extra to parent activity in TaskStackBuilder", "body": "<p>I need to add data to parent activity in <code>TaskStackBuilder</code>.\nIn notification i have next code: </p>\n\n<pre><code>val taskStackBuilder = android.support.v4.app.TaskStackBuilder.create(context)\n\nval intentMain = Intent(context, getMainActivityClassReference())\nintentMain.putExtra(\"TEST KEY\", \"TEST VALUE\")\n\ntaskStackBuilder.addParentStack(getMainActivityClassReference())\ntaskStackBuilder.addNextIntent(intentMain)\n\nval intentChat = Intent(context, ChatActivity::class.java)\nintentChat.putExtra(ChatActivity.CHAT_UID_KEY, data.chatUid)\n\ntaskStackBuilder.addNextIntent(intentChat)\n\nval pendingIntent = taskStackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT)\n</code></pre>\n\n<p>In second intent (with ChatActivity) i have correct workflow with extras - <code>intent.extras.getString(ChatActivity.CHAT_UID_KEY)</code> return correct value. But when i back press and check in main activity data (<code>intent.extras.getString(\"TEST KEY\")</code>) return always null.</p>\n\n<p>How with <code>TaskStackBuilder</code> correctly add data in intent where he is not top?</p>\n"}, {"tags": ["kotlin", "rx-java2", "behaviorsubject"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522148470, "post_id": 49510887, "comment_id": 86026401, "body": "I saw <a href=\"https://stackoverflow.com/questions/34114347/rx-behaviorsubject-scan-pushing-prior-event-to-new-subscriber\" title=\"rx behaviorsubject scan pushing prior event to new subscriber\">stackoverflow.com/questions/34114347/&hellip;</a> which was similar but it is RxJS and not entirely applicable."}, {"owner": {"reputation": 1649, "user_id": 301341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfe882190faa33d94983a2611e314b5?s=128&d=identicon&r=PG", "display_name": "Liminal", "link": "https://stackoverflow.com/users/301341/liminal"}, "edited": false, "score": 0, "creation_date": 1522157712, "post_id": 49510887, "comment_id": 86033450, "body": "the map part of <code>intents.concatMap.map</code> should be replaced with <code>.scan(initialState, { currentState, change -&gt; reducer(currentState, change)</code> and also remove the subscribeBy there. That block now returns an Observable&lt;Change&gt; instead of a disposable. Put that observable in the place of the stateRelay in the second bit and you&#39;re basically done."}, {"owner": {"reputation": 1649, "user_id": 301341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfe882190faa33d94983a2611e314b5?s=128&d=identicon&r=PG", "display_name": "Liminal", "link": "https://stackoverflow.com/users/301341/liminal"}, "edited": false, "score": 0, "creation_date": 1522158489, "post_id": 49510887, "comment_id": 86034108, "body": "Sorry, I of course meant that the <code>.scan</code> bit returns an <code>Observable&lt;State&gt;</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 1649, "user_id": 301341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfe882190faa33d94983a2611e314b5?s=128&d=identicon&r=PG", "display_name": "Liminal", "link": "https://stackoverflow.com/users/301341/liminal"}, "edited": false, "score": 0, "creation_date": 1522166060, "post_id": 49510887, "comment_id": 86040163, "body": "@Liminal I&#39;ve been making some tweaks but I can&#39;t seem to figure out what I should be calling <code>observable.scan()</code> on. I have edited the question with the changes I&#39;ve made since - for example, merging the two observables as you mentioned."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 1649, "user_id": 301341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfe882190faa33d94983a2611e314b5?s=128&d=identicon&r=PG", "display_name": "Liminal", "link": "https://stackoverflow.com/users/301341/liminal"}, "edited": false, "score": 0, "creation_date": 1522167374, "post_id": 49510887, "comment_id": 86041039, "body": "With some research, apparently I need to somehow apply the same thing that RxFeedback does: <a href=\"https://github.com/NoTests/RxFeedback.swift/blob/master/Sources/RxFeedback/ObservableType%2BRxFeedback.swift#L34-L56\" rel=\"nofollow noreferrer\">github.com/NoTests/RxFeedback.swift/blob/master/Sources/&hellip;</a>"}, {"owner": {"reputation": 251, "user_id": 3718235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfWNA.jpg?s=128&g=1", "display_name": "desmondtzq", "link": "https://stackoverflow.com/users/3718235/desmondtzq"}, "edited": false, "score": 0, "creation_date": 1522217678, "post_id": 49510887, "comment_id": 86060144, "body": "perhaps you can emit the <code>reducer</code> instead of <code>change</code>, then in <code>scan</code> you will receive <i>reducers</i>, which you can then apply to the state from the <code>scan</code> to return a new <code>state</code>"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522235733, "post_id": 49531453, "comment_id": 86072261, "body": "Huh. So you really just had to swap out the <code>map(reducer) { getValue() </code> with <code>scan(initialState, reducer)</code> and it works. And I was so close too... Thanks! :D"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522236456, "post_id": 49531453, "comment_id": 86072741, "body": "I also added a <code>replay(1).autoConnect(0)</code> at the end and it seems to be correct."}], "tags": [], "owner": {"reputation": 1649, "user_id": 301341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfe882190faa33d94983a2611e314b5?s=128&d=identicon&r=PG", "display_name": "Liminal", "link": "https://stackoverflow.com/users/301341/liminal"}, "is_accepted": true, "score": 1, "last_activity_date": 1522230998, "creation_date": 1522230998, "answer_id": 49531453, "question_id": 49510887, "link": "https://stackoverflow.com/questions/49510887/building-mvi-loop-with-rxjava-how-to-replace-behaviorsubject-with-scan/49531453#49531453", "title": "Building MVI loop with RxJava: how to replace BehaviorSubject with scan()", "body": "<p>I'll elaborate on my comment above.\nThis is a simple rewrite of your code to do what you're asking for. </p>\n\n<pre><code>fun bindIntents(intents: Observable&lt;Actions&gt;, stateRenderer: StateRenderer) {\n    val stateObservable = intents.concatMap { action -&gt;\n        when (action) {\n            is Actions.Increment -&gt; {\n                Observable.create&lt;Change&gt; { emitter -&gt;\n                // emit things\n                }\n            }\n            is Actions.Decrement -&gt; {\n                Observable.create&lt;Change&gt; { emitter -&gt;\n                    // emit things\n                }\n            }\n        }\n    }.scan(initialState, { currentState, change -&gt; reducer(currentState, change)})\n\n    compositeDisposable +=\n        stateObservable\n                .distinctUntilChanged()\n                .subscribeBy { state -&gt;\n                    stateRenderer(state)\n                }\n}\n</code></pre>\n\n<p>note that this can be simplified further by inlining the observable I assign to <code>stateObservable</code> in the expression below and using a method reference as the second argument to scan like this</p>\n\n<pre><code>fun bindIntents(intents: Observable&lt;Actions&gt;, stateRenderer: StateRenderer) {\n    compositeDisposable +=\n            intents.concatMap { action -&gt;\n                when (action) {\n                    is Actions.Increment -&gt; {\n                        Observable.create&lt;Change&gt; { emitter -&gt;\n                            // emit things\n                        }\n                    }\n                    is Actions.Decrement -&gt; {\n                        Observable.create&lt;Change&gt; { emitter -&gt;\n                            // emit things\n                        }\n                    }\n                }\n            }.scan(initialState, this::reducer)\n                    .distinctUntilChanged()\n                    .subscribeBy { state -&gt;\n                        stateRenderer(state)\n                    }\n}\n</code></pre>\n"}], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 49531453, "answer_count": 1, "score": 2, "last_activity_date": 1522236606, "creation_date": 1522147649, "last_edit_date": 1522236606, "question_id": 49510887, "link": "https://stackoverflow.com/questions/49510887/building-mvi-loop-with-rxjava-how-to-replace-behaviorsubject-with-scan", "title": "Building MVI loop with RxJava: how to replace BehaviorSubject with scan()", "body": "<p>I'm trying to figure out a way to eliminate mutable state and therefore possible race condition. But I can't seem to figure out how to somehow \"intertwine\" two Observables, while also using \"scan\".</p>\n\n<p>Hopefully by showing more code I can give you the idea:</p>\n\n<pre><code>private val stateRelay: BehaviorRelay&lt;State&gt; = BehaviorRelay.createDefault(initialState ?: DEFAULT_STATE) // maybe this should be `Observable.startWith()` somehow?\n\nfun bindIntents(intents: Observable&lt;Actions&gt;, stateRenderer: StateRenderer) {\n    compositeDisposable += intents.concatMap { action -&gt;\n        when (action) {\n            is Actions.Increment -&gt; {\n                Observable.create&lt;Change&gt; { emitter -&gt; \n                   // emit things\n                }\n            }\n            is Actions.Decrement -&gt; {\n                Observable.create&lt;Change&gt; { emitter -&gt; \n                   // emit things\n                }\n            }\n        }\n    }.map { change -&gt;\n        reducer(stateRelay.value, change) // TODO: figure out how to use scan() here, instead of stateRelay.value! :(\n    }.subscribeBy { newState -&gt;\n        stateRelay.accept(newState) // there is a chance that the relay shouldn't be here if scan is used\n    }\n\n    compositeDisposable += \n        stateRelay // TODO: figure out how to use scan() instead of a relay!\n            .distinctUntilChanged()\n            .subscribeBy { state -&gt;\n                stateRenderer(state)\n            }\n}\n\nfun unbindIntents() {\n    compositeDisposable.clear()\n}\n</code></pre>\n\n<p>So I'm receiving a <code>Observable&lt;Actions&gt;</code> in this method, which is technically a <code>PublishRelay</code> on the other side (this should be fine). </p>\n\n<p>However, somehow I'm supposed to replace the <code>BehaviorRelay</code> with <code>Observable.scan()</code> (possibly with <code>startWith</code>) to eliminate the mutable state, but I can't seem to wrap my head around what I'm supposed to do for that to happen.</p>\n\n<p>As for the types involved, in case they are needed:</p>\n\n<pre><code>private typealias Reducer = (state: State, change: Change) -&gt; State\n\nprivate typealias StateRenderer = (state: State) -&gt; Unit\n\n@Parcelize\ndata class State(val count: Int): Parcelable\n</code></pre>\n\n<hr>\n\n<p>How could I wrap <code>intents.concatMap.map</code>, as part of an  <code>Observable.scan()</code> (with possibly <code>startWith()</code> and <code>replay(1)</code>), to eliminate my usage of the BehaviorSubject?</p>\n"}, {"tags": ["kotlin", "anonymous-inner-class"], "comments": [{"owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1522150398, "post_id": 49510381, "comment_id": 86027729, "body": "I try to add more details so you could understand better.I&#39;m using the line of code I write above in my Android application and class B for me is a Fragment and class A is a public class with some method I use from fragment in order to do some work for me. When class A ends this work use the callback I passed inside its constructor (when I create an instance of class A inside fragment), to call the method doSomethig() defined inside the interface OnSomethingHappens. The fragment implements this method and prepare the callback variable as I show above, and pass it to class A."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1522147267, "creation_date": 1522147267, "answer_id": 49510761, "question_id": 49510381, "link": "https://stackoverflow.com/questions/49510381/kotlin-how-to-assign-callback-implementation-to-a-variable/49510761#49510761", "title": "Kotlin, how to assign callback implementation to a variable", "body": "<p>It's not obvious from the code snippets cut down to such small pieces, but your issue is that you're writing down the assignment inside the body of a class, but not inside a function.</p>\n\n<p>Here's an example of a valid declaration and immediate assignment:</p>\n\n<pre><code>class A {\n    var x: X? = X()\n}\n</code></pre>\n\n<p>Here's an example of an <em>invalid</em> assignment, which places an arbitrary expression in the body of a class:</p>\n\n<pre><code>class A {\n    lateinit var x: X\n\n    x = X()        // expression placed inside the class body, invalid syntax\n    someFunction() // extra example, calling functions here is invalid in the same way\n}\n</code></pre>\n\n<p>Instead, you could put this initialization inside a function:</p>\n\n<pre><code>class A {\n    lateinit var x: X\n\n    fun initializeX() {\n        x = X()\n    }\n}\n</code></pre>\n\n<p>Or inside an <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">initializer block</a> (in this case, you don't even need <code>lateinit</code>):</p>\n\n<pre><code>class A {\n    var x: X\n\n    init {\n        x = X()\n    }\n}\n</code></pre>\n\n<p>While I couldn't explain how to solve your exact problem, because I can't quite understand what code is in which class, I hope these examples and explanation helped.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1522147297, "creation_date": 1522147297, "answer_id": 49510771, "question_id": 49510381, "link": "https://stackoverflow.com/questions/49510381/kotlin-how-to-assign-callback-implementation-to-a-variable/49510771#49510771", "title": "Kotlin, how to assign callback implementation to a variable", "body": "<blockquote>\n  <p>I'm trying to assign an instance of an anonymous class that implements A.OnSomethingHappens using this code: ...</p>\n</blockquote>\n\n<p>This should work, but only inside a method: </p>\n\n<pre><code>class B {\n    private lateinit var callback:A.OnSomethingHappens\n\n    fun someMethod() {\n        callback = object : A.OnSomethingHappens { ... }\n    }\n    ...\n}\n</code></pre>\n\n<p>Given the error message and that <code>private var</code> compiles (which doesn't inside a method), you are trying to set it directly in the body of the class instead:</p>\n\n<pre><code>class B {\n    private lateinit var callback:A.OnSomethingHappens\n\n    callback = object : A.OnSomethingHappens { ... }\n    ...\n}\n</code></pre>\n\n<p>This is illegal: the only code you can write there is member definitions and <code>init</code> blocks. </p>\n\n<p>Also, if you can initialize <code>callback</code> directly where it's defined or inside <code>init</code>, there's no point to <code>lateinit</code> in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 287, "user_id": 7545481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef735b6cbca4958b7e6b61f4a978e3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Lvov", "link": "https://stackoverflow.com/users/7545481/dmitry-lvov"}, "is_accepted": false, "score": 0, "last_activity_date": 1522147430, "creation_date": 1522147430, "answer_id": 49510811, "question_id": 49510381, "link": "https://stackoverflow.com/questions/49510381/kotlin-how-to-assign-callback-implementation-to-a-variable/49510811#49510811", "title": "Kotlin, how to assign callback implementation to a variable", "body": "<p>Hmm, let me propose a variant. It's more simple for me:</p>\n\n<pre><code>import android.util.Log\n\nclass SomeClass {\n\n    fun mainMethod() {\n\n        ClassWithCallback(\n                { myBackValue: String -&gt;\n                    logMyString(myBackValue)\n                }\n        )\n\n        //simplify\n        ClassWithCallback({ logMyString(it) })\n    }\n\n    private fun logMyString(myBackValue: String) {\n        Log.d(\"SomeClass\", myBackValue)\n    }\n}\n\nclass ClassWithCallback(private val myCallBack: (myBackValue: String) -&gt; Unit) {\n\n    init {\n        // we do something here and back it by callback\n\n        val myString = \"Hello! Pass me back!\"\n        myCallBack.invoke(myString.toUpperCase())\n    }\n}\n</code></pre>\n\n<p>Using <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">Kotlin lambdas</a>. Hope this will help you.</p>\n"}], "owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7743, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1549629480, "creation_date": 1522146183, "last_edit_date": 1549629480, "question_id": 49510381, "link": "https://stackoverflow.com/questions/49510381/kotlin-how-to-assign-callback-implementation-to-a-variable", "title": "Kotlin, how to assign callback implementation to a variable", "body": "<p>I'm trying to assign a callback implementation of an interface (defined inside a class A) to a variabile defined inside another class B. Let's say that class A has the interface OnSomethingHappens which defines a doSomething method.</p>\n\n<p>Inside class B I've defined my callback variable like this:</p>\n\n<pre><code>private lateinit var callback:A.OnSomethingHappens\n</code></pre>\n\n<p>I need to create an instance of class A passing callback variabile to the constructor in this way:</p>\n\n<pre><code>myinstanceA = A(callback)\n</code></pre>\n\n<p>I'm trying to assign an instance of an anonymous class that implements <code>A.OnSomethingHappens</code> using this code:</p>\n\n<pre><code>callback = object : A.OnSomethingHappens {\n   override fun doSomething(..){\n      //here I put the implementation of this method\n   }\n }\n</code></pre>\n\n<p>but the compiler says \"expecting member declaration\" for my callback variable and \"name expected\" for object.\nWhat I'm doing wrong?</p>\n\n<p>Instead, I'm able to define and at the same time assign the callback variable in this way:</p>\n\n<pre><code>private var callback = object : A.OnSomethingHappens {\n      override fun doSomething(..){\n        //here I put the implementation of this method\n      }\n    }\n</code></pre>\n\n<p>Why? Which are the differences and a possible solution?</p>\n"}, {"tags": ["maven", "gradle", "java-8", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1522146672, "creation_date": 1522146672, "answer_id": 49510546, "question_id": 49509330, "link": "https://stackoverflow.com/questions/49509330/kotlin-compile-to-java-1-8/49510546#49510546", "title": "Kotlin compile to java 1.8", "body": "<p>There isn't a <code>sourceCompatibility</code> or <code>targetCompatibility</code> setting for the Kotlin compiler, you only need the <code>jvmTarget</code> option, which you got right. You might want to set it for your tests as well. Overall, this is the config you need:</p>\n\n<pre><code>compileKotlin.kotlinOptions.jvmTarget = \"1.8\"\ncompileTestKotlin.kotlinOptions.jvmTarget = \"1.8\"\n</code></pre>\n\n<p>Alternatively, with different formatting:</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Based on the documentation about <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-jvm\" rel=\"noreferrer\">using Kotlin with Gradle</a>.</p>\n"}], "owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3128, "favorite_count": 1, "accepted_answer_id": 49510546, "answer_count": 1, "score": 5, "last_activity_date": 1522146672, "creation_date": 1522143385, "question_id": 49509330, "link": "https://stackoverflow.com/questions/49509330/kotlin-compile-to-java-1-8", "title": "Kotlin compile to java 1.8", "body": "<p>How to set in gradle and in maven to compile and use jvm with Java 1.8?</p>\n\n<p>gradle</p>\n\n<pre><code>compileKotlin.sourceCompatibility = JavaVersion.VERSION_1_8\ncompileKotlin.targetCompatibility = JavaVersion.VERSION_1_8\ncompileKotlin.kotlinOptions.jvmTarget = \"1.8\"\n</code></pre>\n\n<p>is this ok?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1522142707, "post_id": 49509031, "comment_id": 86022174, "body": "post all of your gradle files !!"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1522142784, "post_id": 49509031, "comment_id": 86022224, "body": "yes i also got this error first time after updating android studio. I Just rebuild my project and error gone away."}, {"owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 0, "creation_date": 1522142960, "post_id": 49509031, "comment_id": 86022342, "body": "Update your project build gradle version and check."}, {"owner": {"reputation": 159, "user_id": 7828557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559759e56abb68afdfba63213a6f293c?s=128&d=identicon&r=PG&f=1", "display_name": "Karamba", "link": "https://stackoverflow.com/users/7828557/karamba"}, "edited": false, "score": 0, "creation_date": 1522143383, "post_id": 49509031, "comment_id": 86022655, "body": "I updated at first run, it didn&#39;t help"}, {"owner": {"reputation": 1151, "user_id": 6174073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e46f75cd6b376efd4dc6649cdc0791?s=128&d=identicon&r=PG&f=1", "display_name": "sealroto", "link": "https://stackoverflow.com/users/6174073/sealroto"}, "edited": false, "score": 0, "creation_date": 1522264284, "post_id": 49509031, "comment_id": 86092262, "body": "did you solve your problem?"}, {"owner": {"reputation": 159, "user_id": 7828557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559759e56abb68afdfba63213a6f293c?s=128&d=identicon&r=PG&f=1", "display_name": "Karamba", "link": "https://stackoverflow.com/users/7828557/karamba"}, "edited": false, "score": 0, "creation_date": 1522267359, "post_id": 49509031, "comment_id": 86093942, "body": "Yes, I answered below"}, {"owner": {"reputation": 189, "user_id": 4999018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D1W8tXKHYD4/AAAAAAAAAAI/AAAAAAAAFX4/6RvTj25DdfE/photo.jpg?sz=128", "display_name": "mario romano lopez", "link": "https://stackoverflow.com/users/4999018/mario-romano-lopez"}, "edited": false, "score": 0, "creation_date": 1522281710, "post_id": 49509031, "comment_id": 86099473, "body": "@Karamba how did you fix the problems with DataBinding?"}, {"owner": {"reputation": 159, "user_id": 7828557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559759e56abb68afdfba63213a6f293c?s=128&d=identicon&r=PG&f=1", "display_name": "Karamba", "link": "https://stackoverflow.com/users/7828557/karamba"}, "reply_to_user": {"reputation": 189, "user_id": 4999018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D1W8tXKHYD4/AAAAAAAAAAI/AAAAAAAAFX4/6RvTj25DdfE/photo.jpg?sz=128", "display_name": "mario romano lopez", "link": "https://stackoverflow.com/users/4999018/mario-romano-lopez"}, "edited": false, "score": 0, "creation_date": 1522309814, "post_id": 49509031, "comment_id": 86108437, "body": "@marioromanolopez yes, look below"}], "answers": [{"comments": [{"owner": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "edited": false, "score": 0, "creation_date": 1522256167, "post_id": 49521814, "comment_id": 86087596, "body": "You need all this."}], "tags": [], "owner": {"reputation": 159, "user_id": 7828557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559759e56abb68afdfba63213a6f293c?s=128&d=identicon&r=PG&f=1", "display_name": "Karamba", "link": "https://stackoverflow.com/users/7828557/karamba"}, "is_accepted": false, "score": 2, "last_activity_date": 1522182215, "creation_date": 1522182215, "answer_id": 49521814, "question_id": 49509031, "link": "https://stackoverflow.com/questions/49509031/error-when-building-on-new-android-studio-3-1/49521814#49521814", "title": "Error when building on new Android Studio 3.1", "body": "<p>This recommendations depends, how much complicated your project(these recommendations can be not usefull):</p>\n\n<ul>\n<li><p>Update <code>Kotlin plugin</code> to last version</p></li>\n<li><p>Remove </p>\n\n<p><code>kapt {\ngenerateStubs = true\n}</code></p></li>\n<li><p>If you use databinding, add to <code>gradle.properties</code> this line <code>android.databinding.enableV2=true</code></p></li>\n<li>update gradle</li>\n<li>update build tools</li>\n</ul>\n\n<p>Thanks for my coworkers to find these facts</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "is_accepted": false, "score": 1, "last_activity_date": 1522413613, "creation_date": 1522413613, "answer_id": 49574631, "question_id": 49509031, "link": "https://stackoverflow.com/questions/49509031/error-when-building-on-new-android-studio-3-1/49574631#49574631", "title": "Error when building on new Android Studio 3.1", "body": "<p>Update your kotlin version \"1.2.31\"\nadd following dependencies in app level gradle file</p>\n\n<blockquote>\n  <p><strong>compile \"org.jetbrains.kotlin:kotlin-stdlib\"</strong></p>\n\n<pre><code>android {\n  ...\n\n  sourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n  }\n}\n</code></pre>\n</blockquote>\n\n<p>It may help to you :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6606772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-esvTfNH2Mok/AAAAAAAAAAI/AAAAAAAAAeM/vIZr3X0IUTQ/photo.jpg?sz=128", "display_name": "Thierry Xing", "link": "https://stackoverflow.com/users/6606772/thierry-xing"}, "is_accepted": false, "score": 0, "last_activity_date": 1522759110, "last_edit_date": 1522759110, "creation_date": 1522758794, "answer_id": 49630191, "question_id": 49509031, "link": "https://stackoverflow.com/questions/49509031/error-when-building-on-new-android-studio-3-1/49630191#49630191", "title": "Error when building on new Android Studio 3.1", "body": "<p>Just checkout this project and see build.gradle files.\nI just updated this project for Android Studio 3.1 and met the same error as yours, but everything works well now after some changes in build.gradle.</p>\n\n<p><a href=\"https://github.com/thierryxing/Douban\" rel=\"nofollow noreferrer\">https://github.com/thierryxing/Douban</a></p>\n\n<p>The main updates:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n    kapt \"com.android.databinding:compiler:$gradle_version\"\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 7828557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/559759e56abb68afdfba63213a6f293c?s=128&d=identicon&r=PG&f=1", "display_name": "Karamba", "link": "https://stackoverflow.com/users/7828557/karamba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3321, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1522759110, "creation_date": 1522142648, "question_id": 49509031, "link": "https://stackoverflow.com/questions/49509031/error-when-building-on-new-android-studio-3-1", "title": "Error when building on new Android Studio 3.1", "body": "<p>I updated Android Studio to 3.1 stable version and get this error, when try to build project. At first there were problems with <code>DataBinding</code>, I fixed them, then I found this issue. </p>\n\n<pre><code>org.gradle.api.GradleException: Compilation error. See log for more details\nat org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:8)\nat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:415)\nat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:389)\nat org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:251)\nat org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:215)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n</code></pre>\n\n<p>[this is not full version of error logs]</p>\n\n<p>Does anybody find solution?</p>\n"}, {"tags": ["android", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1522141299, "post_id": 49508512, "comment_id": 86021259, "body": "There is no option for hint in <code>Spinner</code> . You can make your first element as hint like &quot;Select&quot; or whatever you need . Other option that you need to customized the <code>Spinner</code> ."}, {"owner": {"reputation": 6058, "user_id": 886001, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7db5b712efab2db3ab15e3f585f6e095?s=128&d=identicon&r=PG", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/886001/coldfire"}, "edited": false, "score": 0, "creation_date": 1522144078, "post_id": 49508512, "comment_id": 86023187, "body": "have you considered using <code>android:prompt</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 12, "last_activity_date": 1522141851, "last_edit_date": 1522141851, "creation_date": 1522141631, "answer_id": 49508686, "question_id": 49508512, "link": "https://stackoverflow.com/questions/49508512/how-to-add-a-hint-in-spinner/49508686#49508686", "title": "How to add a Hint in spinner", "body": "<p>There is not any default way to display hint in spinner.\nFor this you need to add one item manually in the array like below.</p>\n\n<pre><code>val myStrings = arrayOf(\"Select\",\"One\", \"Two\" , \"Three\", \"Four\")\n</code></pre>\n\n<p>Now, \n Define custom Adapter for the Spinner and disable the first item like below.</p>\n\n<pre><code>@Override\npublic boolean isEnabled(int position) {\n    if (position == 0) {\n        // Disable the first item from Spinner\n        // First item will be use for hint\n        return false;\n    } else {\n        return true;\n    }\n}\n</code></pre>\n\n<p>You can change the color like below</p>\n\n<pre><code>@Override\npublic View getDropDownView(int position, View convertView,\n                                    ViewGroup parent) {\n    View view = super.getDropDownView(position, convertView, parent);\n    TextView tv = (TextView) view;\n    if (position == 0) {\n        // Set the hint text color gray\n        tv.setTextColor(Color.GRAY);\n    } else {\n        tv.setTextColor(Color.BLACK);\n    }\n    return view;\n}\n</code></pre>\n\n<p>For more info please visit:- </p>\n\n<p><a href=\"https://android--code.blogspot.in/2015/08/android-spinner-hint.html\" rel=\"noreferrer\">Add hint in spinner</a></p>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": -2, "last_activity_date": 1522145465, "last_edit_date": 1522145465, "creation_date": 1522143171, "answer_id": 49509242, "question_id": 49508512, "link": "https://stackoverflow.com/questions/49508512/how-to-add-a-hint-in-spinner/49509242#49509242", "title": "How to add a Hint in spinner", "body": "<p>used below code for set spinner control hint value.</p>\n\n<pre><code> class SpinerActivity :AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.spiner)\n        setSpinner()\n    }\n\n    private fun setSpinner() {\n        val mySpinner:Spinner=findViewById(R.id.mySpinner)\n        val myStrings = arrayOf(\"Select Item\",\"One\", \"Two\" , \"Three\", \"Four\")\n        var adapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, myStrings)\n        mySpinner.adapter=adapter\n        mySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            }\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9557056, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "eyeballer", "link": "https://stackoverflow.com/users/9557056/eyeballer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11130, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1522145465, "creation_date": 1522141160, "last_edit_date": 1522143906, "question_id": 49508512, "link": "https://stackoverflow.com/questions/49508512/how-to-add-a-hint-in-spinner", "title": "How to add a Hint in spinner", "body": "<p>XML code of spinner:</p>\n\n<pre><code>&lt;Spinner\n    android:id=\"@+id/mySpinner\"\n    https://stackoverflow.com/questions       \n    style=\"@style/Widget.AppCompat.DropDownItem.Spinner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"70dp\" /&gt;`\n</code></pre>\n\n<p>.kotlin:</p>\n\n<pre><code>val myStrings = arrayOf(\"One\", \"Two\" , \"Three\", \"Four\")\nmySpinner.adapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, myStrings)\nmySpinner.onItemSelectedListener = object : \nAdapterView.OnItemSelectedListener {\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        TODO(\"not implemented\") \n        //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n        TODO(\"not implemented\") \n        //To change body of created functions use File | Settings | File Templates.\n    }\n}}\n</code></pre>\n\n<p>Equal to the \"hint\" option in Edittext, I need a default text in a Spinner. </p>\n"}, {"tags": ["java", "android", "kotlin", "viewmodel", "android-textinputlayout"], "comments": [{"owner": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522140942, "post_id": 49508402, "comment_id": 86021012, "body": "Why you need to access <code>Views</code> in <b>ViewModel</b>? Do UI work in <code>Fragment&#47;Activity</code>. Remember <code>KISS</code> rule. <b>Keep It Simple and Stupid</b>."}, {"owner": {"reputation": 33, "user_id": 9299287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c6d514ac3cb21a2a476ca2f4e55e52?s=128&d=identicon&r=PG&f=1", "display_name": "Dansh", "link": "https://stackoverflow.com/users/9299287/dansh"}, "reply_to_user": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522146106, "post_id": 49508402, "comment_id": 86024750, "body": "I want to set all the logic in the viewmodel according to the MVVM model and use data binding to connect view and viewmodel"}, {"owner": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522146247, "post_id": 49508402, "comment_id": 86024856, "body": "Pass the <code>View</code> as a parameter just like we do in <code>RecyclerView&#39;s ViewHolder</code>."}, {"owner": {"reputation": 33, "user_id": 9299287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c6d514ac3cb21a2a476ca2f4e55e52?s=128&d=identicon&r=PG&f=1", "display_name": "Dansh", "link": "https://stackoverflow.com/users/9299287/dansh"}, "reply_to_user": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522150396, "post_id": 49508402, "comment_id": 86027726, "body": "It works!! But do you know how to show the error only after the typing, not during the typing?"}, {"owner": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522156034, "post_id": 49508402, "comment_id": 86032062, "body": "set <code>OnTextChangedListener</code> for TextInputLayout."}], "answers": [{"comments": [{"owner": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522146181, "post_id": 49509707, "comment_id": 86024807, "body": "This is not what OP intended."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 3772, "user_id": 1676700, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hPLuO.jpg?s=128&g=1", "display_name": "Faizan Mubasher", "link": "https://stackoverflow.com/users/1676700/faizan-mubasher"}, "edited": false, "score": 0, "creation_date": 1522147884, "post_id": 49509707, "comment_id": 86025978, "body": "then provide your code to understand and your need."}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1522144341, "creation_date": 1522144341, "answer_id": 49509707, "question_id": 49508402, "link": "https://stackoverflow.com/questions/49508402/how-to-set-error-label-with-textinputlayout-in-the-viewmodel-with-kotlin/49509707#49509707", "title": "How to set error label with TextInputLayout in the viewmodel with kotlin", "body": "<p>used below code to set error in TextInputLayout..</p>\n\n<pre><code>class SpinerActivity :AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.spiner)\n    setEdittext()\n}\n\nprivate fun setEdittext() {\n    var textError:TextInputLayout=findViewById(R.id.amEt1)\n    textError.error=\"Please Enter Name\"\n\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 33, "user_id": 9299287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c6d514ac3cb21a2a476ca2f4e55e52?s=128&d=identicon&r=PG&f=1", "display_name": "Dansh", "link": "https://stackoverflow.com/users/9299287/dansh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1089, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522145434, "creation_date": 1522140806, "last_edit_date": 1522145434, "question_id": 49508402, "link": "https://stackoverflow.com/questions/49508402/how-to-set-error-label-with-textinputlayout-in-the-viewmodel-with-kotlin", "title": "How to set error label with TextInputLayout in the viewmodel with kotlin", "body": "<p>I need to do some input validation for my <code>TextInputEditText</code> that is wrapped with <code>TextInputLayout</code>. </p>\n\n<p>I'd like errors to appear below the line if the input is done in wrong format. </p>\n\n<p>All the logic is done in the viewmodel instead of the view(fragment or activity). But I can't seem to access the view through viewmodel, for instance:\n<code>textinputlayout.setError(\"error\")</code> doesn't work in the viewmodel\nand <code>layout.findViewbyId(layoutId)</code> doesn't work in the viewmodel either.\nAny idea?</p>\n"}, {"tags": ["java", "android", "kotlin", "client-server", "gregorian-calendar"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 5042484, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cba5562fcb91554b51b20da47fc36001?s=128&d=identicon&r=PG&f=1", "display_name": "KamCho", "link": "https://stackoverflow.com/users/5042484/kamcho"}, "is_accepted": false, "score": 0, "last_activity_date": 1522145823, "creation_date": 1522145823, "answer_id": 49510243, "question_id": 49507951, "link": "https://stackoverflow.com/questions/49507951/sending-gregoriancalendar-by-socket-in-kotlin/49510243#49510243", "title": "Sending GregorianCalendar by Socket in Kotlin", "body": "<p>I managed to solve this problem by passing time in millis (as Long value) and then changing it to GregorianCalendar object. It work perfectly now. I know it is kind of work-around so if You have better solution please share it with others. </p>\n"}], "owner": {"reputation": 131, "user_id": 5042484, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cba5562fcb91554b51b20da47fc36001?s=128&d=identicon&r=PG&f=1", "display_name": "KamCho", "link": "https://stackoverflow.com/users/5042484/kamcho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522145823, "creation_date": 1522139430, "last_edit_date": 1522139564, "question_id": 49507951, "link": "https://stackoverflow.com/questions/49507951/sending-gregoriancalendar-by-socket-in-kotlin", "title": "Sending GregorianCalendar by Socket in Kotlin", "body": "<p>I'm facing the problem of passing custom serialized class by Socket in my Android application written in Kotlin language. As far as I managed to resolve the problem is in GregorianCalendar class which is passed in my TakeKeyUserEvent class. The problem is no longer present when i'm not passing GregorianCalendar object in my class.</p>\n\n<p>Client:</p>\n\n<pre><code>        val event = TakeKeyUserEvnet(u,r,date)\n        val s: Socket = Socket(IP,PORT)\n        val out: ObjectOutputStream = ObjectOutputStream(s.getOutputStream())\n        out.writeObject(event)\n        out.flush()\n        out.close()\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>thread(start = true) {\n            val ss: ServerSocket = ServerSocket(PORT)\n\n            while(true){\n                clientSocket = ss.accept()\n\n                val input = ObjectInputStream(clientSocket.getInputStream())\n\n                val event: UserEvent = input.readObject() as UserEvent //error happens here\n\n                readMessage(event)\n            }\n        }\n</code></pre>\n\n<p>TakeKeyUserEvent class:</p>\n\n<pre><code>    class TakeKeyUserEvent(val user: User, val room: Room, val date: GregorianCalendar): UserEvent() { //Works perfectly without GregorianCalendar class\n    companion object {\n        @JvmStatic private val serialVersionUID: Long = 7571062817744602394L\n    }\n}\n</code></pre>\n\n<p>UserEvent class:</p>\n\n<pre><code>    abstract class UserEvent: Serializable {\n    companion object {\n        @JvmStatic\n        private val serialVersionUID: Long = 7571062817744602394L\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>java.io.InvalidClassException: libcore.util.ZoneInfo; Incompatible class (SUID): libcore.util.ZoneInfo: static final long serialVersionUID =-4598738130123921552L; but expected libcore.util.ZoneInfo: static final long serialVersionUID =5684813000093210627L;\n</code></pre>\n\n<p>I've tried to create my own GregorianCalendar class that inherits from original one and set my serialVersionUID but it did not help. I'll be thankful for any help. </p>\n"}, {"tags": ["unit-testing", "testing", "kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1522164121, "post_id": 49507261, "comment_id": 86038805, "body": "<code>if(isValid()){...} else if(isValid())...</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2889, "user_id": 916366, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/69f89628d31b36c1ffa590e1657449ac?s=128&d=identicon&r=PG", "display_name": "beni", "link": "https://stackoverflow.com/users/916366/beni"}, "edited": false, "score": 0, "creation_date": 1522161636, "post_id": 49514969, "comment_id": 86036722, "body": "The problem is that the forAll method of the KotlinTest library needs to return a Boolean value in each iteration. We can not use the verify(mockMainView).showMessage(any()) method because it returns Any."}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 2889, "user_id": 916366, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/69f89628d31b36c1ffa590e1657449ac?s=128&d=identicon&r=PG", "display_name": "beni", "link": "https://stackoverflow.com/users/916366/beni"}, "edited": false, "score": 0, "creation_date": 1522166425, "post_id": 49514969, "comment_id": 86040389, "body": "@beni Got it, I didn&#39;t know that. The ugly part would just be adding a <code>true</code> to the end of the method body."}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "reply_to_user": {"reputation": 2889, "user_id": 916366, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/69f89628d31b36c1ffa590e1657449ac?s=128&d=identicon&r=PG", "display_name": "beni", "link": "https://stackoverflow.com/users/916366/beni"}, "edited": false, "score": 0, "creation_date": 1522454655, "post_id": 49514969, "comment_id": 86174034, "body": "Actually @beni you&#39;re in luck because in release 3.0.0 of KotlinTest (just last couple of days), then you can use assertAll instead of forAll. It&#39;s another property testing method but one that lets you use normal assertions (matchers like shouldBe) instead of enforcing a boolean variable."}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": false, "score": 0, "last_activity_date": 1522159234, "creation_date": 1522159234, "answer_id": 49514969, "question_id": 49507261, "link": "https://stackoverflow.com/questions/49507261/how-to-verify-a-mock-interface-in-a-test-method-using-kotlintest-library/49514969#49514969", "title": "How to verify a mock interface in a test method using KotlinTest library?", "body": "<p>You mentioned Mockito, so I'll show you can example. I'm going to also use the <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\"><code>nhaarman/mockito-kotlin</code></a> library that makes it more expressive and easier to use in Kotlin.</p>\n\n<pre><code>import com.nhaarman.mockito_kotlin.mock\n\nval mockMainView: MainView = mock()\n</code></pre>\n\n<p>This is basically equivalent to <code>val mockMainView = Mockito.mock(MainView::class.java)</code> from Mockito.\nIn Kotlin, we can get a more concise and compact code due to some of its features.</p>\n\n<p>If you want to do some stubbing (like return values, exceptions, etc.) you could use the <code>whenever</code> (<code>Mockito.when(T methodCall)</code>) API.\nSee the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verification\" rel=\"nofollow noreferrer\">documentation for details</a>.\nI'm going to skip that for now.</p>\n\n<p>So, now you would call for method:</p>\n\n<pre><code>sendForm(loginData, mockMainView)\n</code></pre>\n\n<p>Then, you can perform verification.\nUsing <code>mockito-kotlin</code> method <code>verify</code> (<code>Mockito.verify(T mock)</code>) the behavior.</p>\n\n<pre><code>import com.nhaarman.mockito_kotlin.verify\n\nverify(mockMainView).showPasswordError()\n</code></pre>\n\n\n\n<pre><code>verify(mockMainView).showEmailError()\n</code></pre>\n\n<p>Using <code>any()</code> (<code>Mockito.any(Class&lt;T&gt; type)</code>) to not just verify method is called with any value. </p>\n\n<pre><code>import com.nhaarman.mockito_kotlin.any\n\nverify(mockMainView).showMessage(any())\n</code></pre>\n\n<p>There is support for other <a href=\"https://static.javadoc.io/org.mockito/mockito-core/latest/org/mockito/Mockito.html#argument_matchers\" rel=\"nofollow noreferrer\">argument matchers</a> if you want to be more explicit with what is being passed in.</p>\n\n<p>Note that Mockito also supports <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#unmockable\" rel=\"nofollow noreferrer\">opt-in mocking of final classes/methods</a>.\nThe example for Gradle would be something like adding a file to <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> with the contents of <code>mock-maker-inline</code>.</p>\n\n<p>References:</p>\n\n<ol>\n<li><a href=\"https://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">Mockito Javadoc</a></li>\n<li><a href=\"https://github.com/nhaarman/mockito-kotlin/wiki\" rel=\"nofollow noreferrer\"><code>mockito-kotlin</code> Wiki documentation</a></li>\n</ol>\n"}], "owner": {"reputation": 2889, "user_id": 916366, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/69f89628d31b36c1ffa590e1657449ac?s=128&d=identicon&r=PG", "display_name": "beni", "link": "https://stackoverflow.com/users/916366/beni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1875, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522223459, "creation_date": 1522137181, "last_edit_date": 1522223459, "question_id": 49507261, "link": "https://stackoverflow.com/questions/49507261/how-to-verify-a-mock-interface-in-a-test-method-using-kotlintest-library", "title": "How to verify a mock interface in a test method using KotlinTest library?", "body": "<p>I have an interface that communicates with my presenter who checks whether the fields of a form are valid. </p>\n\n<p>My interface is:</p>\n\n<pre><code>interface MainView {\n  fun showMessage(data: LoginEntity)\n  fun showEmailError()\n  fun showPasswordError()\n}\n</code></pre>\n\n<p>My method in the presenter is like that:</p>\n\n<pre><code>fun sendForm(loginData: LoginDataPresentation, view: MainView) {\n   if (isValid()) {\n     view.showMessage(mapData(loginData))\n   } else if (isValidPassword()) {\n     view.showPasswordError()\n   } else {\n     view.showEmailError()\n   }\n}\n</code></pre>\n\n<p>My test class with KotlinTest:</p>\n\n<pre><code>class LoginPresentationKtTest : StringSpec() {\n\n  init {\n    \"given a bunch of Login Data should be matched successfully\" {\n       forAll(EmailGenerator(), PasswordGenerator(), { email: String, password: String -&gt;\n\n         val loginData: LoginDataPresentation(email, password)\n\n         val mockMainView = mockMainView()\n\n         sendForm(loginData, mockMainView())\n\n       })\n    }\n  }\n\n  private fun mockMainView(): MainView {\n    //How to mock?????\n  }\n}\n</code></pre>\n\n<p>Using the KotlinTest library, is there any way to verify that the call to the showMessage method of the MainView class is done provided that the email and password generated is always correct? Is it possible to use a mock library like mockito?</p>\n\n<hr>\n\n<p>With the response of the user @mkobit, the following modification can be made using Mockito-Kotlin, with which the test would be as follows:</p>\n\n<pre><code>class LoginPresentationKtTest : StringSpec() {\n init {\n   \"given a bunch of Login Data should be matched successfully\" {\n     forAll(EmailGenerator(), PasswordGenerator(), { email: String, password: String -&gt;\n\n       val loginData = LoginDataPresentation(email, password)\n\n       val mockMainView = Mockito.mock(MainView::class.java)\n\n       sendForm(loginData, mockMainView)\n\n       verify(mockMainView).showMessage()\n       true\n     })\n   }\n }\n}\n</code></pre>\n\n<p>At each execution of the loop, it will be checked if the verify () function has been called. If the execution flow is the expected one, it will proceed to the next execution of the loop. If the verify () function fails, an error will occur in the console indicating that the test has failed.</p>\n\n<p>Is there any better solution?</p>\n"}, {"tags": ["android", "kotlin", "gradle-plugin", "kotlin-extension", "android-studio-3.1"], "comments": [{"owner": {"reputation": 670, "user_id": 4302046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db024da41ddbcc562a4f1d8cd2dd22dc?s=128&d=identicon&r=PG&f=1", "display_name": "BinqiangSun", "link": "https://stackoverflow.com/users/4302046/binqiangsun"}, "edited": false, "score": 2, "creation_date": 1522373434, "post_id": 49507226, "comment_id": 86142877, "body": "I unchecked the offline checkbox, while sync project always running Metadata of <a href=\"https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-reflect/1.1.3-2/kotlin-reflect-1.1.3-2-sources.jar\" rel=\"nofollow noreferrer\">jcenter.bintray.com/org/jetbrains/kotlin/kotlin-reflect/1.1.&zwnj;&#8203;3-2/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 1522852, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f9e0f88477b7bd60c4e7166df2fd0238?s=128&d=identicon&r=PG", "display_name": "Joker", "link": "https://stackoverflow.com/users/1522852/joker"}, "is_accepted": false, "score": -1, "last_activity_date": 1522138703, "creation_date": 1522138703, "answer_id": 49507737, "question_id": 49507226, "link": "https://stackoverflow.com/questions/49507226/gradle-sync-issue-kotlin-after-android-3-1-stable-update/49507737#49507737", "title": "Gradle Sync Issue Kotlin after Android 3.1 Stable Update", "body": "<p>Sorry, Silly Mistake figure out just <strong>Uncheck Offline checkbox from Gradle settings</strong>. :) Download all dependencies by build gradle online.</p>\n"}, {"tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": false, "score": 0, "last_activity_date": 1522138908, "creation_date": 1522138908, "answer_id": 49507803, "question_id": 49507226, "link": "https://stackoverflow.com/questions/49507226/gradle-sync-issue-kotlin-after-android-3-1-stable-update/49507803#49507803", "title": "Gradle Sync Issue Kotlin after Android 3.1 Stable Update", "body": "<p>I guess its Kotlin version related issue.\nFirst try to update your kotling version. I guess latest version is <code>1.2.31</code></p>\n\n<p>The version of Kotlin to use is usually defined as the kotlin_version property:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.31'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>For details: <code>https://kotlinlang.org/docs/reference/using-gradle.html</code></p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 3315959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000053258968/picture?type=large", "display_name": "Kanishk Gupta", "link": "https://stackoverflow.com/users/3315959/kanishk-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1523360184, "creation_date": 1523360184, "answer_id": 49752631, "question_id": 49507226, "link": "https://stackoverflow.com/questions/49507226/gradle-sync-issue-kotlin-after-android-3-1-stable-update/49752631#49752631", "title": "Gradle Sync Issue Kotlin after Android 3.1 Stable Update", "body": "<p>I have answered a similar question <a href=\"https://stackoverflow.com/a/49512570/3315959\">here</a> . One of the key is to update the kotlin plugin from settings in android studio.</p>\n"}], "owner": {"reputation": 542, "user_id": 1522852, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f9e0f88477b7bd60c4e7166df2fd0238?s=128&d=identicon&r=PG", "display_name": "Joker", "link": "https://stackoverflow.com/users/1522852/joker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8995, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1614261660, "creation_date": 1522137104, "question_id": 49507226, "link": "https://stackoverflow.com/questions/49507226/gradle-sync-issue-kotlin-after-android-3-1-stable-update", "title": "Gradle Sync Issue Kotlin after Android 3.1 Stable Update", "body": "<p>Hey after updating Android Studio to 3.1 Stable version i am getting following error to all my projects. Any help will be appreciated.</p>\n\n<blockquote>\n  <p>Could not download kotlin-reflect.jar (org.jetbrains.kotlin:kotlin-reflect:1.1.3-2): No cached version available for offline mode</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "edited": false, "score": 0, "creation_date": 1522130434, "post_id": 49504732, "comment_id": 86014662, "body": "Thanks for your answer. <code>internal</code> visibility modifier offers similar; but module level abstraction; and using this is solving my purpose."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 9, "last_activity_date": 1522127542, "last_edit_date": 1522127542, "creation_date": 1522127175, "answer_id": 49504732, "question_id": 49504624, "link": "https://stackoverflow.com/questions/49504624/modifier-protected-is-not-applicable-inside-file-error-in-kotlin/49504732#49504732", "title": "Modifier `protected` is not applicable inside `file` error in Kotlin", "body": "<p>As written in the <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"noreferrer\">docs</a>, there is no <code>protected</code> modifier for top-level entities like classes.</p>\n\n<p>Here\u2019s a <a href=\"https://discuss.kotlinlang.org/t/kotlin-to-support-package-protected-visibility/1544/2\" rel=\"noreferrer\">statement</a> coming from a Kotlin team member:</p>\n\n<blockquote>\n  <p>The motivation for not having package protected access is very simple: it does not provide any real encapsulation. Any other module in the system can define classes in the same package as your complex independent component and get full access to its internals. On the other hand, classes with internal visibility cannot be accessed from any module other than the one where they are defined.</p>\n</blockquote>\n"}], "owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 1, "accepted_answer_id": 49504732, "answer_count": 1, "score": 5, "last_activity_date": 1522147472, "creation_date": 1522126508, "last_edit_date": 1522147472, "question_id": 49504624, "link": "https://stackoverflow.com/questions/49504624/modifier-protected-is-not-applicable-inside-file-error-in-kotlin", "title": "Modifier `protected` is not applicable inside `file` error in Kotlin", "body": "<p>I have a class whose declaration is like :</p>\n\n<pre><code>class NetworkManagerImpl : NetworkManager { }\n</code></pre>\n\n<p>I wanted to make the class protected so that it is visible inside package only. But when i add protected in front of class like :</p>\n\n<pre><code>protected class NetworkManagerImpl : NetworkManager { }\n</code></pre>\n\n<p>It gives error as <strong>Modifier <code>protected</code> is not applicable inside <code>file</code></strong>\nHow to fix this error or more importantly how to make an entire class(Top level) protected?</p>\n"}, {"tags": ["android", "kotlin", "bitmapfactory"], "comments": [{"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522124780, "post_id": 49504289, "comment_id": 86012831, "body": "@skIndia please update question with what you are passing in &quot;imageList&quot;."}, {"owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "edited": false, "score": 0, "creation_date": 1522124789, "post_id": 49504289, "comment_id": 86012837, "body": "@YvetteColomb my problem is why it is getting an exception while decoding byte array"}, {"owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "reply_to_user": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125018, "post_id": 49504289, "comment_id": 86012891, "body": "@ankitpatidar Imagelist.image is an String"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125044, "post_id": 49504289, "comment_id": 86012900, "body": "ok let me check once thanks"}, {"owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "reply_to_user": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125159, "post_id": 49504289, "comment_id": 86012932, "body": "@ankitpatidar  bitmaps !!.add(BitmapFactory.decodeByteArray(imageAsBytes, 0, imageAsBytes.size)) at this line I am getting error"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125211, "post_id": 49504289, "comment_id": 86012946, "body": "please do check, you initialised the &quot;bitmaps&quot; arraylist?"}, {"owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "reply_to_user": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125423, "post_id": 49504289, "comment_id": 86012992, "body": "@ankitpatidar yes its ArrayList   val bitmaps: ArrayList&lt;Bitmap&gt;? = null"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125470, "post_id": 49504289, "comment_id": 86013002, "body": "okay wait for some time"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3956566"}, "edited": false, "score": 0, "creation_date": 1522125530, "post_id": 49504289, "comment_id": 86013015, "body": "@skIndia as it stands the question is impossible to answer, as you haven&#39;t provided us enough detail. You need to post your stack trace/log cat. By the time you do that it will be closed as a duplicate. The community has voted that nullpointerexceptions can be solved by following the answers in the question I&#39;ve marked for you. Please go through and read the answers carefully."}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125741, "post_id": 49504289, "comment_id": 86013065, "body": "ohho bro, write it as :: val bitmpas: ArrayList&lt;Bitmap&gt; = ArrayList()"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522125883, "post_id": 49504289, "comment_id": 86013104, "body": "is it solved???"}, {"owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "reply_to_user": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1522126079, "post_id": 49504289, "comment_id": 86013146, "body": "@ankitpatidar Thanks, bro it works its stupid mistake thanks a lot."}], "owner": {"reputation": 59, "user_id": 8199059, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01d598175605cc07e2ecfbe4d8bc6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "skIndia", "link": "https://stackoverflow.com/users/8199059/skindia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1522126090, "answer_count": 0, "score": 0, "last_activity_date": 1522125723, "creation_date": 1522124318, "last_edit_date": 1522125150, "question_id": 49504289, "link": "https://stackoverflow.com/questions/49504289/android-kotlin-bitmapfactory-gives-nullpointer-exception", "closed_reason": "Duplicate", "title": "Android-Kotlin : BitmapFactory gives nullpointer exception", "body": "<p>this is my code </p>\n\n<pre><code> private fun initDesign(imageList: List&lt;ImageList&gt;) {\n        //Initialize with empty data\n\n        for (i in 0 until imageList.size) {\n\n            val imageDataBytes = imageList.get(i).image\n            val iD = Integer.parseInt(imageList.get(i).imageIndex)\n            val  imageAsBytes : ByteArray  = Base64.decode(imageDataBytes,0)\n            bitmaps !!.add(BitmapFactory.decodeByteArray(imageAsBytes, 0, imageAsBytes.size))\n            imageID!!.add(iD)\n        }\n}\n</code></pre>\n\n<p>what was the wrong with this code </p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1522118589, "post_id": 49503452, "comment_id": 86011304, "body": "What line is the error on?"}, {"owner": {"reputation": 385, "user_id": 3920449, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9239dc64ff39ee6c6477d793a9322b7b?s=128&d=identicon&r=PG&f=1", "display_name": "johnguild", "link": "https://stackoverflow.com/users/3920449/johnguild"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1522118853, "post_id": 49503452, "comment_id": 86011362, "body": "inside the if, mFilter.javaClass is highlighted as error and does not give any suggestion when hovered"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1522118967, "post_id": 49503452, "comment_id": 86011386, "body": "Show your complete method with all variable declarations."}], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 3920449, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9239dc64ff39ee6c6477d793a9322b7b?s=128&d=identicon&r=PG&f=1", "display_name": "johnguild", "link": "https://stackoverflow.com/users/3920449/johnguild"}, "edited": false, "score": 0, "creation_date": 1522119622, "post_id": 49503609, "comment_id": 86011539, "body": "This is my first kotlin project and im kind of confused on the code you provied however your explanation gave me hint, so i tried to  mFilter?.javaClass != filter.javaClass and that works"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 0, "last_activity_date": 1522118829, "creation_date": 1522118829, "answer_id": 49503609, "question_id": 49503452, "link": "https://stackoverflow.com/questions/49503452/how-to-compare-java-class-in-kotlin/49503609#49503609", "title": "How to compare java class in kotlin", "body": "<p>What line is the error on? You're trying to put a nullable type (inferred) into something that is <code>Any</code> which is not nullable. You need to add a null check operator <code>!!</code> which throws. Or do a safe check with <code>let</code> or <code>if</code>. So instead off:</p>\n\n<pre><code>receiver.method(somethingNullable)\n</code></pre>\n\n<p>do either </p>\n\n<pre><code>receiver.method(somethingNullable!!)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>somethingNullable?.let {\n   receiver.method(it) \n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (somethingNullable != null) {\n    receiver.method(somethingNullable)\n}\n</code></pre>\n\n<p>instead of</p>\n"}], "owner": {"reputation": 385, "user_id": 3920449, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9239dc64ff39ee6c6477d793a9322b7b?s=128&d=identicon&r=PG&f=1", "display_name": "johnguild", "link": "https://stackoverflow.com/users/3920449/johnguild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 49503609, "answer_count": 1, "score": 1, "last_activity_date": 1524273125, "creation_date": 1522117546, "last_edit_date": 1524273125, "question_id": 49503452, "link": "https://stackoverflow.com/questions/49503452/how-to-compare-java-class-in-kotlin", "title": "How to compare java class in kotlin", "body": "<p>In my Kotlin project, I use <a href=\"https://github.com/CyberAgent/android-gpuimage\" rel=\"nofollow noreferrer\" title=\"android-gpuimage\">android-gpuimage</a>. \nBasically I want to convert the following from Java:</p>\n\n<pre><code>    if (mFilter == null || (filter != null &amp;&amp; !mFilter.getClass().equals(filter.getClass()))) {\n        mFilter = filter;\n        mGPUImage.setFilter(mFilter);\n        mFilterAdjuster = new GPUImageFilterTools.FilterAdjuster(mFilter);\n    }\n</code></pre>\n\n<p>The auto conversion of Android Studio 3 gives me:</p>\n\n<pre><code>    if (mFilter == null || filter != null &amp;&amp; mFilter.javaClass != filter.javaClass) {\n        mFilter = filter\n        mGPUImage.setFilter(mFilter)\n        mFilterAdjuster = GPUImageFilterTools.FilterAdjuster(mFilter)\n    }\n</code></pre>\n\n<p>The code does not compile with the following error:</p>\n\n<pre><code>  is not satisfied: inferred type GPUImageFilter? is not a subtype of Any\n</code></pre>\n\n<p>Any help will be appreciated. Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1522135996, "post_id": 49503300, "comment_id": 86017788, "body": "Which expression ?"}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 1, "creation_date": 1522164506, "post_id": 49516874, "comment_id": 86039075, "body": "This is the correct answer, though I would argue that it&#39;s less about thread safety, and more about the state of the data. Being <code>LiveData</code> means you should expect it to update at any moment and handle it."}], "tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": false, "score": 1, "last_activity_date": 1522164545, "last_edit_date": 1522164545, "creation_date": 1522164374, "answer_id": 49516874, "question_id": 49503300, "link": "https://stackoverflow.com/questions/49503300/android-kotlin-what-need-to-be-used-other-than-get-or-getvalue-on-observable/49516874#49516874", "title": "Android Kotlin what need to be used other than get() or getValue() on ObservableField", "body": "<p>I think the idea is that you should always use <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#observe(android.arch.lifecycle.LifecycleOwner,%20android.arch.lifecycle.Observer%3CT%3E)\" rel=\"nofollow noreferrer\">observe</a> for LiveData and <a href=\"https://developer.android.com/reference/android/databinding/BaseObservable.html#addOnPropertyChangedCallback(android.databinding.Observable.OnPropertyChangedCallback)\" rel=\"nofollow noreferrer\">addOnPropertyChangedCallback</a> for ObservableFields, because <code>get</code> and <code>getValue</code> are not thread safe.</p>\n"}], "owner": {"reputation": 2628, "user_id": 3598263, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/wZduf.jpg?s=128&g=1", "display_name": "Bharath Kumar Bachina", "link": "https://stackoverflow.com/users/3598263/bharath-kumar-bachina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522164545, "creation_date": 1522116181, "question_id": 49503300, "link": "https://stackoverflow.com/questions/49503300/android-kotlin-what-need-to-be-used-other-than-get-or-getvalue-on-observable", "title": "Android Kotlin what need to be used other than get() or getValue() on ObservableField", "body": "<p>I updated Kotlin version to 1.2.31 and getting the following warning.</p>\n\n<pre><code>Do not explicitly call 'get()' on ObservableFields or 'getValue()' \non LiveData in an expression. This support will be removed soon. \n</code></pre>\n\n<p>Now What function should I use?</p>\n"}, {"tags": ["inheritance", "enums", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522115885, "post_id": 49503242, "comment_id": 86010657, "body": "I&#39;d think <code>List&lt;Animal&gt;</code> or <code>List&lt;out Animal&gt;</code> should work"}, {"owner": {"reputation": 265, "user_id": 3314023, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe3f66ef2df6970dca67590ff7c3c75c?s=128&d=identicon&r=PG&f=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/3314023/casper"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522115972, "post_id": 49503242, "comment_id": 86010681, "body": "@EpicPandaForce nope, it really wants List&lt;Any&gt;"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1522116289, "post_id": 49503242, "comment_id": 86010757, "body": "Interestingly, you can force it to realize its problems by adding <code>as Animal</code> after either animal you are returning. The IDE will say it is an unused cast, but it is not"}, {"owner": {"reputation": 265, "user_id": 3314023, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe3f66ef2df6970dca67590ff7c3c75c?s=128&d=identicon&r=PG&f=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/3314023/casper"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1522116434, "post_id": 49503242, "comment_id": 86010801, "body": "@EpicPandaForce yeah i know casting works, but I still find it weird that the tree compiler generates does not see that"}, {"owner": {"reputation": 954, "user_id": 1654233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2tT0.jpg?s=128&g=1", "display_name": "yegodm", "link": "https://stackoverflow.com/users/1654233/yegodm"}, "edited": false, "score": 1, "creation_date": 1522116834, "post_id": 49503242, "comment_id": 86010895, "body": "<code>names.map&lt;String, Animal&gt;</code> also works."}, {"owner": {"reputation": 265, "user_id": 3314023, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe3f66ef2df6970dca67590ff7c3c75c?s=128&d=identicon&r=PG&f=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/3314023/casper"}, "reply_to_user": {"reputation": 954, "user_id": 1654233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2tT0.jpg?s=128&g=1", "display_name": "yegodm", "link": "https://stackoverflow.com/users/1654233/yegodm"}, "edited": false, "score": 0, "creation_date": 1522117203, "post_id": 49503242, "comment_id": 86010969, "body": "@yegodm yep, it does! Thanks - this way is nicer"}], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 1, "last_activity_date": 1522145474, "last_edit_date": 1522145474, "creation_date": 1522117355, "answer_id": 49503423, "question_id": 49503242, "link": "https://stackoverflow.com/questions/49503242/mixing-different-enums-sharing-the-same-interface-in-a-collection/49503423#49503423", "title": "Mixing different Enums sharing the same interface in a collection", "body": "<p>How is the compiler supposed to infer that it is a list of Animal? What if <code>Dog</code> also implements <code>Canine</code> interface? What if Cat and Dog both also implement <code>Carnivore</code> interface?</p>\n\n<p>If you want to return a list of <code>Animal</code> you need to cast your return values in this case.</p>\n\n<pre><code>fun loadAnimals(names: List&lt;String&gt;): List&lt;Animal&gt; {\n    return names.map {\n        when (/*some cond*/) {\n            true -&gt; Cat.Black as Animal\n            else -&gt; Dog.White as Animal\n        }\n    }\n}\n</code></pre>\n\n<p>or like this, without casting:</p>\n\n<pre><code>fun loadAnimals(names: List&lt;String&gt;): List&lt;Animal&gt; {\n    return names.map&lt;String, Animal&gt; {\n        when (/*some cond*/) {\n            true -&gt; Cat.BLACK\n            else -&gt; Dog.WHITE\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 3314023, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe3f66ef2df6970dca67590ff7c3c75c?s=128&d=identicon&r=PG&f=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/3314023/casper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 49503423, "answer_count": 1, "score": 3, "last_activity_date": 1522145474, "creation_date": 1522115710, "last_edit_date": 1522138731, "question_id": 49503242, "link": "https://stackoverflow.com/questions/49503242/mixing-different-enums-sharing-the-same-interface-in-a-collection", "title": "Mixing different Enums sharing the same interface in a collection", "body": "<p>For some reason, Kotlin evaluates the following expression as <code>List</code> of <code>Any</code> instead of <code>Animal</code>, how can I make this happen?</p>\n\n<p>.</p>\n\n<pre><code>interface Animal\nenum class Dog:Animal{\n   WHITE;\n}\nenum class Cat:Animal{\n   BLACK;\n}\n.............\n\nfun loadAnimals(names:List&lt;String&gt;):List&lt;???&gt;{\n    return names.map{\n       when (/*some cond*/) {\n        true -&gt; Cat.Black\n        else -&gt; Dog.White\n       }\n     }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1522127529, "post_id": 49502598, "comment_id": 86013567, "body": "Please, post your actual existing code."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1523340587, "post_id": 49502598, "comment_id": 86507215, "body": "Hey, did the provided answer help?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8412506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZNb7QyW_XZU/AAAAAAAAAAI/AAAAAAAAArI/wHwvyxs0ghE/photo.jpg?sz=128", "display_name": "Juan Carlos Trujillo Almanza", "link": "https://stackoverflow.com/users/8412506/juan-carlos-trujillo-almanza"}, "edited": false, "score": 0, "creation_date": 1522192874, "post_id": 49506684, "comment_id": 86053597, "body": "Thanks for the prompt response but how can I do this without the fun operator, because my class is in java"}, {"owner": {"reputation": 620, "user_id": 3906919, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/611290901/picture?type=large", "display_name": "Mikkel Larsen", "link": "https://stackoverflow.com/users/3906919/mikkel-larsen"}, "edited": false, "score": 0, "creation_date": 1587467578, "post_id": 49506684, "comment_id": 108517176, "body": "You asked for Kotlin, how is it in Java?"}, {"owner": {"reputation": 65, "user_id": 4761529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/SBpPB.jpg?s=128&g=1", "display_name": "FABiO", "link": "https://stackoverflow.com/users/4761529/fabio"}, "edited": false, "score": 0, "creation_date": 1618875369, "post_id": 49506684, "comment_id": 118730497, "body": "Thank you! day saved for you. Regards!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1522264320, "last_edit_date": 1522264320, "creation_date": 1522135438, "answer_id": 49506684, "question_id": 49502598, "link": "https://stackoverflow.com/questions/49502598/group-and-add-a-list-in-kotlin/49506684#49506684", "title": "Group and add a list in kotlin", "body": "<p>Let's define your shown entity as the following class:</p>\n\n<pre><code>data class Entity(\n    val id: String,\n    val d1: Double,\n    val d2: Double,\n    val i3: Int,\n    val prod: String,\n    val type: String\n)\n</code></pre>\n\n<p>Then we define the data structure of multiple entities:</p>\n\n<pre><code>val entities = listOf(\n        Entity(\"06\", 80.30, 30.0, 20, \"ProductA\", \"CANDY\"),\n        Entity(\"06\", 2.5, 9.0, 6, \"ProductB\", \"CANDY\"),\n        Entity(\"07\", 8.0, 5.7, 1, \"ProductC\", \"BEER\"),\n        Entity(\"08\", 10.0, 2.10, 40, \"ProductD\", \"PIZZA\"))\n</code></pre>\n\n<p>Finally, a simple grouping and aggregating gives the desired response:</p>\n\n<pre><code>val aggregate = entities.groupingBy(Entity::id)\n    .aggregate { _, accumulator: Entity?, element: Entity, _ -&gt;\n        accumulator?.let {\n            it.copy(d1 = it.d1 + element.d1, d2 = it.d2 + element.d2, i3 = it.i3 + element.i3)\n        } ?: element\n    }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{\n 06=Entity(id=06, d1=82.8, d2=39.0, i3=26, prod=ProductA, type=CANDY), \n 07=Entity(id=07, d1=8.0, d2=5.7, i3=1, prod=ProductC, type=BEER), \n 08=Entity(id=08, d1=10.0, d2=2.1, i3=40, prod=ProductD, type=PIZZA)\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8412506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZNb7QyW_XZU/AAAAAAAAAAI/AAAAAAAAArI/wHwvyxs0ghE/photo.jpg?sz=128", "display_name": "Juan Carlos Trujillo Almanza", "link": "https://stackoverflow.com/users/8412506/juan-carlos-trujillo-almanza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2050, "favorite_count": 0, "accepted_answer_id": 49506684, "answer_count": 1, "score": 3, "last_activity_date": 1522264320, "creation_date": 1522110204, "question_id": 49502598, "link": "https://stackoverflow.com/questions/49502598/group-and-add-a-list-in-kotlin", "title": "Group and add a list in kotlin", "body": "<p>How do I group a list and add its values in Kotlin ?.</p>\n\n<pre><code>List =  [0](\"06\",80.30, 30 , 20 ,\"ProductA\",\"CANDY\")\n        [1](\"06\", 2.5 , 9 , 6 ,\"ProductB\",\"CANDY\")\n        [2](\"07\", 8 , 5.7 , 1 ,\"ProductC\",\"BEER\")\n        [3](\"08\", 10 , 2.10 , 40 ,\"ProductD\",\"PIZZA\")\n</code></pre>\n\n<p>and get the next result</p>\n\n<pre><code>Result = (\"06\",82.8, 39 , 26,\"CANDY\")\n         (\"07\", 8 , 5.7 , 1,\"BEER\")\n         (\"08\", 10 , 2.10 , 40,\"PIZZA\")\n</code></pre>\n\n<p>I would greatly appreciate your help.</p>\n"}, {"tags": ["java", "android", "kotlin", "baidu", "baidu-map"], "comments": [{"owner": {"reputation": 16121, "user_id": 794088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b4b2a8dec652a64ee29a3d946294af?s=128&d=identicon&r=PG", "display_name": "petey", "link": "https://stackoverflow.com/users/794088/petey"}, "edited": false, "score": 0, "creation_date": 1522174360, "post_id": 49501505, "comment_id": 86045040, "body": "Can you check the logs and add relevant errors you might find there, to your question"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 16121, "user_id": 794088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b4b2a8dec652a64ee29a3d946294af?s=128&d=identicon&r=PG", "display_name": "petey", "link": "https://stackoverflow.com/users/794088/petey"}, "edited": false, "score": 0, "creation_date": 1522174711, "post_id": 49501505, "comment_id": 86045258, "body": "@petey I have added logs."}], "answers": [{"tags": [], "owner": {"reputation": 1129, "user_id": 5946253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23593068bbeea74b6aa9fda55c30468b?s=128&d=identicon&r=PG&f=1", "display_name": "sound", "link": "https://stackoverflow.com/users/5946253/sound"}, "is_accepted": false, "score": 0, "last_activity_date": 1523942956, "creation_date": 1523942956, "answer_id": 49870498, "question_id": 49501505, "link": "https://stackoverflow.com/questions/49501505/map-not-rendering-only-grid-lines-are-shown/49870498#49870498", "title": "Map not rendering. Only Grid lines are shown", "body": "<p>Several option can be the cause : </p>\n\n<ul>\n<li>No Api Key add in the Manifest</li>\n<li>Api Key bind to wrong SHA1, or wrong package name </li>\n<li>Use of the emulator. Based on my tests, never worked on emulator but worked perfectly on real devices (I bet on this one since i don't see communication error with baidu on your logs).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 5123894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BvJE30RJgMQ/AAAAAAAAAAI/AAAAAAAAAEs/yLhCRYF6Ixw/photo.jpg?sz=128", "display_name": "ROHIT LIEN", "link": "https://stackoverflow.com/users/5123894/rohit-lien"}, "is_accepted": false, "score": 0, "last_activity_date": 1599729512, "creation_date": 1599729512, "answer_id": 63826591, "question_id": 49501505, "link": "https://stackoverflow.com/questions/49501505/map-not-rendering-only-grid-lines-are-shown/63826591#63826591", "title": "Map not rendering. Only Grid lines are shown", "body": "<p>Try using china vpn and then see if the maps are loaded</p>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1599729512, "creation_date": 1522102576, "last_edit_date": 1522175514, "question_id": 49501505, "link": "https://stackoverflow.com/questions/49501505/map-not-rendering-only-grid-lines-are-shown", "title": "Map not rendering. Only Grid lines are shown", "body": "<p>I am using Baidu Map (<strong>SDK Version: 4.5.2</strong>) but they the map is not showing. Instead, only grid lines are shown.</p>\n\n<p>Code:</p>\n\n<pre><code>public class MainApp extends MultiDexApplication {\n@Override\npublic void onCreate() {\n        super.onCreate();\n        SDKInitializer.initialize(this);\n    }\n}\n</code></pre>\n\n<p><code>BaiduMapActivity</code> class: (This code is in Kotlin. If you need Java equiavalent of this code, then please put a comment below.)</p>\n\n<pre><code>class BaiduMapActivity : BaseActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_baidu_map)\n    }\n\noverride fun onResume() {\n    super.onResume()\n    bmapView.onResume()\n   }\n}\n</code></pre>\n\n<p>build.gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlinVersion = '1.2.10'\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        //noinspection GradleDynamicVersion\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'io.fabric'\n//For green dao\napply plugin: 'org.greenrobot.greendao'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url \"https://jitpack.io\" }\n    jcenter()\n}\n\nandroid {\n    configurations.all {\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:3.0.0'\n    }\n\n    aaptOptions.cruncherEnabled = false\n    aaptOptions.useNewCruncher = false\n\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n\n    defaultConfig {\n        applicationId \"com.emerson.oversight\"\n        minSdkVersion 16\n        targetSdkVersion 27\n\n        versionCode 6\n        versionName \"1.6.2\"\n        multiDexEnabled true\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    dataBinding {\n        enabled = true\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n        disable 'MissingTranslation'\n    }\n\n    buildTypes {\n        release {\n            lintOptions {\n                disable 'MissingTranslation'\n            }\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nkapt { generateStubs = true }\n\ndependencies {\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.7@aar') {\n        transitive = true\n    }\n    //AppCompat v7 support library\n    compile 'com.android.support:appcompat-v7:27.0.2'\n    //AppCompat v4 support library\n    compile 'com.android.support:support-v4:27.0.2'\n    //Support design\n    compile 'com.android.support:design:27.0.2'\n    //Google Maps\n    compile 'com.google.android.gms:play-services-maps:11.8.0'\n    //Retrofit - for making REST API calls\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    //For Runtime permissions\n    compile 'com.karumi:dexter:4.2.0'\n    //To set custom fonts\n    compile 'uk.co.chrisjenx:calligraphy:2.2.0'\n    //Attaches bullets to viewpager\n    compile 'com.robohorse.pagerbullet:pagerbullet:1.0.8'\n    //Expandable recycler view\n    compile 'com.bignerdranch.android:expandablerecyclerview:3.0.0-RC1'\n    //For Graph\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.0.3'\n    //Date time\n    compile 'com.wdullaer:materialdatetimepicker:3.2.1'\n    compile 'com.android.support:recyclerview-v7:27.0.2'\n    testCompile 'junit:junit:4.12'\n    androidTestCompile 'com.android.support:support-annotations:27.0.2'\n    androidTestCompile 'com.android.support.test:runner:1.0.1'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile 'com.android.support:gridlayout-v7:27.0.2'\n    compile 'com.android.support:cardview-v7:27.0.2'\n    compile 'jp.wasabeef:recyclerview-animators:2.2.6'\n//    compile 'com.ncornette.cache:okcache-control:1.1.1'\n    compile 'org.greenrobot:greendao:3.2.2'\n    compile 'net.danlew:android.joda:2.9.9'\n    compile 'com.github.barteksc:android-pdf-viewer:3.0.0-beta.3'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'org.jetbrains.anko:anko-common:0.8.3'\n    compile 'me.dm7.barcodescanner:zbar:1.9.8'\n    compile 'io.reactivex:rxjava:1.2.0'\n    compile 'com.squareup:android-times-square:1.6.5@aar'\n\n    // notice that the compiler version must be the same than our gradle version\n    kapt 'com.android.databinding:compiler:3.2.0-alpha05'\n\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n}\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Logs:</p>\n\n<pre><code>    03-27 23:44:51.059 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: ThreadedRenderer.create() translucent=true\n03-27 23:44:51.062 7163-7163/com.emerson.oversight D/InputTransport: Input channel constructed: fd=113\n03-27 23:44:51.062 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: setView = DecorView@dbaa2a1[BaiduMapActivity] touchMode=true\n03-27 23:44:51.074 7163-7163/com.emerson.oversight I/SemDesktopModeManager: registerListener: android.view.ViewRootImpl$3@1965e9e\n03-27 23:44:51.076 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: ThreadedRenderer.create() translucent=false\n03-27 23:44:51.078 7163-7163/com.emerson.oversight D/InputTransport: Input channel constructed: fd=115\n03-27 23:44:51.078 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: setView = DecorView@6f71595[BaiduMapActivity] touchMode=true\n03-27 23:44:51.079 7163-7163/com.emerson.oversight D/ViewRootImpl@52ebfdf[Toast]: MSG_RESIZED_REPORT: frame=Rect(318, 2414 - 1122, 2568) ci=Rect(0, 0 - 0, 0) vi=Rect(0, 0 - 0, 0) or=1\n03-27 23:44:51.102 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: dispatchAttachedToWindow\n03-27 23:44:51.127 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: Relayout returned: oldFrame=[0,0][0,0] newFrame=[37,1235][1403,1641] result=0x27 surface={isValid=true 547931812352} surfaceGenerationChanged=true\n    mHardwareRenderer.initialize() mSurface={isValid=true 547931812352} hwInitialized=true\n03-27 23:44:51.135 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: dispatchAttachedToWindow\n03-27 23:44:51.160 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: Relayout returned: oldFrame=[0,0][0,0] newFrame=[0,0][1440,2960] result=0x27 surface={isValid=true 547759640576} surfaceGenerationChanged=true\n    mHardwareRenderer.initialize() mSurface={isValid=true 547759640576} hwInitialized=true\n03-27 23:44:51.174 7163-7163/com.emerson.oversight D/SurfaceView: Relayout returned: oldFrame=[0,0][0,0] newFrame=[0,393][1440,2792] result=0x7 surface={Surface(name=null)/@0x479929b isValid=true 547759644160}\n03-27 23:44:51.221 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: MSG_WINDOW_FOCUS_CHANGED 1\n    mHardwareRenderer.initializeIfNeeded()#2 mSurface={isValid=true 547931812352}\n03-27 23:44:51.233 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: Relayout returned: oldFrame=[0,0][1440,2960] newFrame=[0,0][1440,2960] result=0x1 surface={isValid=true 547759640576} surfaceGenerationChanged=false\n03-27 23:44:51.237 7163-7163/com.emerson.oversight D/SurfaceView: Relayout returned: oldFrame=[0,393][1440,2792] newFrame=[0,393][1440,2792] result=0x1 surface={Surface(name=null)/@0x479929b isValid=true 547759647744}\n03-27 23:44:51.259 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: MSG_RESIZED_REPORT: frame=Rect(37, 1235 - 1403, 1641) ci=Rect(0, 0 - 0, 0) vi=Rect(0, 0 - 0, 0) or=1\n03-27 23:44:51.262 7163-7163/com.emerson.oversight D/TextView: setTypeface with style : 0\n03-27 23:44:51.263 7163-7163/com.emerson.oversight D/TextView: setTypeface with style : 0\n03-27 23:44:51.264 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: MSG_RESIZED_REPORT: frame=Rect(0, 0 - 1440, 2960) ci=Rect(0, 84 - 0, 168) vi=Rect(0, 84 - 0, 168) or=1\n03-27 23:44:51.339 7163-7163/com.emerson.oversight D/ViewRootImpl@ce7e452[SelectTripActivity]: mHardwareRenderer.destroy()#1\n03-27 23:44:51.359 7163-7163/com.emerson.oversight D/ViewRootImpl@ce7e452[SelectTripActivity]: Relayout returned: oldFrame=[0,0][1440,2960] newFrame=[0,0][1440,2960] result=0x5 surface={isValid=false 0} surfaceGenerationChanged=true\n03-27 23:44:54.241 7163-7163/com.emerson.oversight D/ViewRootImpl@52ebfdf[Toast]: mHardwareRenderer.destroy()#4\n03-27 23:44:54.247 7163-7163/com.emerson.oversight D/ViewRootImpl@52ebfdf[Toast]: dispatchDetachedFromWindow\n03-27 23:44:54.273 7163-7163/com.emerson.oversight D/InputTransport: Input channel destroyed: fd=108\n03-27 23:44:54.275 7163-7163/com.emerson.oversight I/SemDesktopModeManager: unregisterListener: android.view.ViewRootImpl$3@c320e7e\n03-27 23:44:59.878 7163-7168/com.emerson.oversight I/art: Do partial code cache collection, code=124KB, data=114KB\n03-27 23:44:59.880 7163-7168/com.emerson.oversight I/art: After code cache collection, code=123KB, data=113KB\n    Increasing code cache capacity to 512KB\n03-27 23:45:00.819 7163-7163/com.emerson.oversight D/ViewRootImpl@ce7e452[SelectTripActivity]: Relayout returned: oldFrame=[0,0][1440,2960] newFrame=[0,0][1440,2960] result=0x5 surface={isValid=false 0} surfaceGenerationChanged=false\n03-27 23:45:00.874 7163-7163/com.emerson.oversight I/CacheManager: TraxxEntity is null\n03-27 23:45:01.533 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: mHardwareRenderer.destroy()#4\n03-27 23:45:01.534 7163-7163/com.emerson.oversight D/ViewRootImpl@ebc9b08[BaiduMapActivity]: dispatchDetachedFromWindow\n03-27 23:45:01.572 7163-7163/com.emerson.oversight D/InputTransport: Input channel destroyed: fd=113\n03-27 23:45:01.575 7163-7163/com.emerson.oversight I/SemDesktopModeManager: unregisterListener: android.view.ViewRootImpl$3@7f928ab\n03-27 23:45:01.618 7163-7163/com.emerson.oversight D/ViewRootImpl@a0e9d7f[BaiduMapActivity]: MSG_WINDOW_FOCUS_CHANGED 1\n    mHardwareRenderer.initializeIfNeeded()#2 mSurface={isValid=true 547759640576}\n03-27 23:45:01.619 7163-7163/com.emerson.oversight V/InputMethodManager: Starting input: tba=android.view.inputmethod.EditorInfo@15fb381 nm : com.emerson.oversight ic=null\n03-27 23:45:01.619 7163-7163/com.emerson.oversight I/InputMethodManager: [IMM] startInputInner - mService.startInputOrWindowGainedFocus\n03-27 23:45:01.631 7163-7163/com.emerson.oversight D/InputTransport: Input channel constructed: fd=104\n    Input channel destroyed: fd=103\n03-27 23:45:01.631 7163-7163/com.emerson.oversight E/ViewRootImpl: sendUserActionEvent() returned.\n</code></pre>\n\n<p>Structure of libraries:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vQZra.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vQZra.png\" alt=\"enter image description here\"></a></p>\n\n<p>Result is below. Application is running perfectly but only Grid lines are shown and map is not visible.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dQj3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dQj3r.png\" alt=\"enter image description here\"></a></p>\n\n<p>What could be the possible reason?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1522158465, "post_id": 49501388, "comment_id": 86034081, "body": "Thanks, you mean I&#39;ve to call the receiver from the activity I&#39;m in, and destroy it once I leave it! what about if I need the receiver to  keep running regardless the active activity, and its response to be varies based on the active activity itself!"}], "tags": [], "owner": {"reputation": 769, "user_id": 2793494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZOih.jpg?s=128&g=1", "display_name": "Yurii Kyrylchuk", "link": "https://stackoverflow.com/users/2793494/yurii-kyrylchuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1522101958, "creation_date": 1522101958, "answer_id": 49501388, "question_id": 49501239, "link": "https://stackoverflow.com/questions/49501239/how-to-change-mainactivity-element-from-broadcastreceiver/49501388#49501388", "title": "How to change MainActivity element from BroadCastReceiver", "body": "<p>You can try to add a broadcast receiver with a custom listener programmatically, not inside an AndroidManifest. You will need these classes:</p>\n\n<pre><code>class Receiver(val receiverListener: ReceiverListener) : BroadcastReceiver() {\noverride fun onReceive(context: Context, intent: Intent) {\n    // somthing like\n    // MainActivity.layout.latitudeTxt = ....\n    receiverListener.doSomething()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>You can change this interface to make it suitable to your requirements(add methods, change it's signatures e.g.). This is a classic callback technique.</p>\n\n<pre><code>interface ReceiverListener {\n    fun doSomething()\n}\n</code></pre>\n\n<p>And then register you receiver in <code>onCreate()</code>:</p>\n\n<pre><code>    receiver = Receiver(object : ReceiverListener {\n        override fun doSomething() {\n            //If you need to change smth related to UI\n            runOnUiThread {\n\n            }\n        }\n    })\n    registerReceiver(receiver, IntentFilter(\"YOUR_ACTION\"))\n</code></pre>\n\n<p>Don't forget to unregister in <code>onDestroy()</code></p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 49501388, "answer_count": 1, "score": -1, "last_activity_date": 1561725425, "creation_date": 1522101276, "last_edit_date": 1561725425, "question_id": 49501239, "link": "https://stackoverflow.com/questions/49501239/how-to-change-mainactivity-element-from-broadcastreceiver", "title": "How to change MainActivity element from BroadCastReceiver", "body": "<p>I've a BroadcastReceive and want to change/display the text of the views in the <code>MainActivity</code> based on the logic in the broadcast</p>\n\n<pre><code>class Receiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n         // somthing like\n        // MainActivity.layout.latitudeTxt = ....\n   }\n}\n</code></pre>\n\n<p>My <code>MainActivity</code> is as below:</p>\n\n<pre><code>private lateinit var layout: View\nprivate lateinit var latitudeTxt: TextView\nprivate lateinit var longitudeTxt: TextView\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        layout = main_layout\n        latitudeTxt = latitudeText\n        longitudeTxt = longitudeText\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": true, "score": 3, "last_activity_date": 1522099843, "creation_date": 1522099843, "answer_id": 49500952, "question_id": 49500663, "link": "https://stackoverflow.com/questions/49500663/kotlin-singleton-getter-in-viewmodel/49500952#49500952", "title": "Kotlin singleton getter in ViewModel", "body": "<p>You shouldn't really use a make ViewModels a singleton - they should be scoped to the lifecycle of the Activity/Fragment in which they are created.</p>\n\n<p>If you want to expose the MyLocationListener instance you could use the AndroidViewModel class - this provides you with access to the application class which you can use as the Context.</p>\n\n<pre><code>class LocationViewModel(application: Application): AndroidViewModel(application) {\n    val locationData = MyLocationListener(application)\n}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 49500952, "answer_count": 1, "score": 2, "last_activity_date": 1522099843, "creation_date": 1522098667, "question_id": 49500663, "link": "https://stackoverflow.com/questions/49500663/kotlin-singleton-getter-in-viewmodel", "title": "Kotlin singleton getter in ViewModel", "body": "<p>I'm studying Android Architecture Components. How to implement singleton getInstance() method using Kotlin ? I did this using Java-like style (getLocation), but it is not kotlin-like. </p>\n\n<pre><code>class LocationViewModel: ViewModel() {\n        lateinit var locationData: MyLocationListener\n\n        fun getLocation(context: Context): MyLocationListener {\n            locationData = MyLocationListener(context)\n            return locationData\n        }\n    }\n</code></pre>\n"}, {"tags": ["listview", "android-studio", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "edited": false, "score": 0, "creation_date": 1522101394, "post_id": 49500591, "comment_id": 86006584, "body": "i lost my text on the EditText(Cleans himself) after i hide the keyboard"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1522130572, "post_id": 49500591, "comment_id": 86014740, "body": "Is the EditText showing after hiding keyboard?"}, {"owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "reply_to_user": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1522142774, "post_id": 49500591, "comment_id": 86022212, "body": "Yeah i can tap in and write again but every time i click done when i finshe or i hide the keyboard i lost my text (Cleans himself)"}], "owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522142893, "creation_date": 1522098394, "last_edit_date": 1522142893, "question_id": 49500591, "link": "https://stackoverflow.com/questions/49500591/how-to-hide-keyboard-from-edittext-after-finish-writing-without-lost-the-text", "title": "How to hide keyboard from EditText after finish writing without lost the text", "body": "<p>Hell, I have a ListView with adapter when the app start the code put a EditText in my ListView after click in the EditText I can't write so I tried to solve this problem I did a focus and it's work fine and the app allow me to write but after done writing and I hide the keyboard the text will gone.</p>\n\n<p>I wan't this editText to be normally like any other EditText when I clicked in I writed when I click done, the keyboard gone and my text stay there. How should I do that?</p>\n\n<pre><code>var List=ArrayList&lt;Ticket&gt;()\nvar adapter:ListAdabter?=null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_act2)\n\n    List.add(Ticket(\"1\"))\n    adapter=ListAdabter(this,List)\n    listview.adapter=adapter\n}\n\nfun View.showKeyboard() {\n    this.requestFocus()\n    val inputMethodManager = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    inputMethodManager.showSoftInput(this, InputMethodManager.SHOW_IMPLICIT)\n}\n\ninner class ListAdabter :BaseAdapter{\n    var ListLocal = ArrayList&lt;Ticket&gt;()\n    var mCtx:Context?=null\n\n    constructor(mCtx:Context,List:ArrayList&lt;Ticket&gt;):super(){\n        this.ListLocal=List\n        this.mCtx=mCtx\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val item = ListLocal[position]\n        val layoutInf = LayoutInflater.from(mCtx)\n        val view = layoutInf.inflate(R.layout.add_ticket,null)\n        val edit = view.findViewById&lt;EditText&gt;(R.id.txtDes)\n        edit.requestFocus()\n        edit.showKeyboard()  //The Problem is Here \n        return view\n    }\n\n    override fun getItem(position: Int): Any {\n        return ListLocal[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getCount(): Int {\n       return ListLocal.size\n    }\n\n}\n</code></pre>\n"}, {"tags": ["google-app-engine", "spring-boot", "kotlin", "google-cloud-platform", "google-cloud-stackdriver"], "answers": [{"comments": [{"owner": {"reputation": 1184, "user_id": 6938128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcdfa61a165fe77418b79dc6eb5efb0?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/6938128/george"}, "edited": false, "score": 0, "creation_date": 1522859285, "post_id": 49514641, "comment_id": 86321014, "body": "It is now possible to use Kotlin in the standard environment. An example is provided at <a href=\"https://github.com/GoogleCloudPlatform/getting-started-java/tree/master/appengine-standard-java8/kotlin-appengine-standard\" rel=\"nofollow noreferrer\">GoogleCloudPlatform/getting-started-java</a> on github."}, {"owner": {"reputation": 1418, "user_id": 19621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vj8zk.jpg?s=128&g=1", "display_name": "Balint Pato", "link": "https://stackoverflow.com/users/19621/balint-pato"}, "reply_to_user": {"reputation": 1184, "user_id": 6938128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcdfa61a165fe77418b79dc6eb5efb0?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/6938128/george"}, "edited": false, "score": 0, "creation_date": 1522868271, "post_id": 49514641, "comment_id": 86326148, "body": "But do they support Stackdriver Debug?"}, {"owner": {"reputation": 408, "user_id": 7999992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402e89a96aeabfe5448ab4f2e96bb837?s=128&d=identicon&r=PG&f=1", "display_name": "Gonca", "link": "https://stackoverflow.com/users/7999992/gonca"}, "edited": false, "score": 0, "creation_date": 1523023260, "post_id": 49514641, "comment_id": 86401597, "body": "I tried to debug that kotlin example in Stackdriver Debug, and it was not possible. Like Balint Pato said it\u2019s not supported."}], "tags": [], "owner": {"reputation": 1418, "user_id": 19621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Vj8zk.jpg?s=128&g=1", "display_name": "Balint Pato", "link": "https://stackoverflow.com/users/19621/balint-pato"}, "is_accepted": true, "score": 1, "last_activity_date": 1522868291, "last_edit_date": 1522868291, "creation_date": 1522158373, "answer_id": 49514641, "question_id": 49500442, "link": "https://stackoverflow.com/questions/49500442/is-it-possible-to-use-stackdriver-with-kotlin/49514641#49514641", "title": "Is it possible to use Stackdriver with Kotlin?", "body": "<p>Unfortunately, as of March 2016, Kotlin is not supported yet for StackDriver Debug, only Java.</p>\n"}], "owner": {"reputation": 38, "user_id": 5442142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s3zWlFJo4U0/AAAAAAAAAAI/AAAAAAAAAtw/43mJHVmtAyc/photo.jpg?sz=128", "display_name": "Carlos L&#225;zaro Costa", "link": "https://stackoverflow.com/users/5442142/carlos-l%c3%a1zaro-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 49514641, "answer_count": 1, "score": 0, "last_activity_date": 1522868291, "creation_date": 1522097710, "question_id": 49500442, "link": "https://stackoverflow.com/questions/49500442/is-it-possible-to-use-stackdriver-with-kotlin", "title": "Is it possible to use Stackdriver with Kotlin?", "body": "<p>I'm using Spring Boot with Kotlin and the app is deployed to Google App Engine Standard. I know that I can debug with Stackdriver using Java but can I use Stackdriver to debug my production code in Kotlin? I would like to use snapshots and logpoints.</p>\n"}, {"tags": ["java", "android", "android-activity", "kotlin", "navigation-drawer"], "comments": [{"owner": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "edited": false, "score": 1, "creation_date": 1522095989, "post_id": 49499994, "comment_id": 86004114, "body": "The  navigation drawer is part of your activity(view controller). So, you need to treat is as another view in you activity. So, it needs to be in your xml too. The link you provide does say that in the xml the nav drawer needs to be specified and you need to implement some Kotlin code for it in your activity. If it&#39;s all to confusing for you, create a new activity from Android Studio and select the nav drawer activity, it has all the boiler plate done for you, the move all your logic to it."}, {"owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "reply_to_user": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "edited": false, "score": 0, "creation_date": 1522096117, "post_id": 49499994, "comment_id": 86004190, "body": "@rgv - I created empty activities. I have no navigation drawer. Or this is not what you meant?"}, {"owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "reply_to_user": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "edited": false, "score": 1, "creation_date": 1522096412, "post_id": 49499994, "comment_id": 86004332, "body": "@rgv - Moving the logic from the template provided by AS was my first intention and I am seeing NullPointerException and an app crush on run. I&#39;ll give this another try, so far it seems the best idea for me."}, {"owner": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "edited": false, "score": 1, "creation_date": 1522096449, "post_id": 49499994, "comment_id": 86004346, "body": "Right click on your app module, then select new, then select activity from it, then select Navigation Drawer activity"}, {"owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "edited": false, "score": 0, "creation_date": 1522096515, "post_id": 49499994, "comment_id": 86004378, "body": "Check out this <a href=\"https://stackoverflow.com/questions/19451715/same-navigation-drawer-in-different-activities\">question</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522181324, "post_id": 49499994, "comment_id": 86049004, "body": "Well you have to either duplicate the navigation drawer in each Activity, or you have to use fragments."}], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1522097734, "creation_date": 1522097734, "answer_id": 49500446, "question_id": 49499994, "link": "https://stackoverflow.com/questions/49499994/android-add-navigation-drawer-to-multiple-activities/49500446#49500446", "title": "Android - Add navigation drawer to multiple activities", "body": "<p>To add a navigation drawer to multiple activities without going through and re-writing every activity's layout, you can leverage a base activity class and a <code>ViewStub</code> tag.</p>\n\n<p>Create a layout like this (I'll refer to it as <code>navdrawer_activity.xml</code> later):</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;ViewStub\n        android:id=\"@+id/navdrawer_stub\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n    &lt;!-- \n         your drawer here\n         you can use android.support.design.widget.NavigationView\n         or some other view if you want \n    --&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>Then create a class for all of your activities to extend:</p>\n\n<pre><code>public class NavDrawerActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        super.setContentView(R.layout.navdrawer_activity);\n    }\n\n    @Override\n    public final void setContentView(@LayoutRes int layoutResID) {\n        ViewStub stub = findViewById(R.id.navdrawer_stub);\n        stub.setLayoutResource(layoutResID);\n        stub.inflate();\n    }\n\n    @Override\n    protected void onPostCreate(Bundle savedInstanceState) {\n        super.onPostCreate(savedInstanceState);\n        // set up nav drawer as normal, using whatever\n        // callback methods or helper methods you want\n    }\n}\n</code></pre>\n\n<p>With these in place, the only thing you have to do is change any activity where you want the nav drawer to extend <code>NavDrawerActivity</code> instead of <code>AppCompatActivity</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1522181926, "creation_date": 1522181926, "answer_id": 49521752, "question_id": 49499994, "link": "https://stackoverflow.com/questions/49499994/android-add-navigation-drawer-to-multiple-activities/49521752#49521752", "title": "Android - Add navigation drawer to multiple activities", "body": "<p>Well as the guide you included says:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout ...&gt;\n\n    &lt;!-- Layout to contain contents of main body of screen (drawer will slide over this) --&gt;\n    &lt;content goes here\n        ... /&gt;\n\n    &lt;!-- Container for contents of drawer --&gt;\n    &lt;left pane of drawer goes here\n        ...\n        android:layout_gravity=\"start\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>You could define the left pane of the drawer as a compound view, and the content as a compound view. Kinda like this:</p>\n\n<p><code>your_view.xml</code></p>\n\n<pre><code>&lt;YourView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;Button android:id=\"@+id/...\"\n        android:layout_width=\"...\"\n        android:layout_height=\"...\"\n        android:layout_centerInParent=\"true\"/&gt;\n&lt;/YourView&gt;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public class YourView extends RelativeLayout {\n    public YourView(Context context) {\n        super(context);\n    }\n\n    public YourView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    // ... two more constructors are possible here\n\n    private Button button;\n\n    @Override\n    public void onFinishInflate() {\n        super.onFinishInflate();\n        button = findViewById(R.id.button);\n        button.setOnClickListener((view) -&gt; {\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>And you can do the same thing for the view of the left pane. Make sure you include the <code>android:layout_gravity=\"start\"</code> as an attribute of <code>&lt;YourLeftPane</code> in its xml.</p>\n\n<hr>\n\n<p>And now you can do in your <code>activity_whatever.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout ...&gt;\n\n    &lt;include layout=\"@layout/your_view\"/&gt;\n\n    &lt;include layout=\"@layout/your_left_pane\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 797, "user_id": 3265290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/640a8477464374b16e7afa7e04507ab5?s=128&d=identicon&r=PG", "display_name": "daydr3am3r", "link": "https://stackoverflow.com/users/3265290/daydr3am3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1522181926, "creation_date": 1522095759, "last_edit_date": 1522096298, "question_id": 49499994, "link": "https://stackoverflow.com/questions/49499994/android-add-navigation-drawer-to-multiple-activities", "title": "Android - Add navigation drawer to multiple activities", "body": "<p>I'm new to Android / Kotlin and I have an application with multiple activities.\nSo far I have created all the activities needed and the app works fine except for the fact now I need to add a Navigation Drawer.</p>\n\n<p>Coming from iOS, I designed all my layouts thinking I can add the Navigation Drawer after:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/backgroundColor\"\n    android:backgroundTint=\"@color/backgroundColor\"&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/mainRelativeLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"44dp\"\n        android:background=\"@drawable/navbar_border\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/ivNavBarLogo\"\n            android:layout_width=\"102dp\"\n            android:layout_height=\"24dp\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:contentDescription=\"@string/empty_description\"\n            app:srcCompat=\"@mipmap/navbar_logo\"/&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/btnSideMenu\"\n            android:layout_width=\"25dp\"\n            android:layout_height=\"15dp\"\n            android:layout_centerVertical=\"true\"\n            android:layout_marginStart=\"15dp\"\n            android:background=\"@mipmap/sidemenu_button\"\n            android:contentDescription=\"@string/empty_description\"\n            app:srcCompat=\"@mipmap/sidemenu_button\"/&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;!-- STUFF TO BE ADDED THERE --&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>My intention was to create a NavigationDrawer activity and call it when tapping the btnSideMenu on each activity.</p>\n\n<p>However, I've been trying to get around this for a few days now without any luck. I never thought such a basic feature could be so hard to implement. I tried almost every suggestion and example found here, and also this: <a href=\"https://developer.android.com/training/implementing-navigation/nav-drawer.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/implementing-navigation/nav-drawer.html</a> </p>\n\n<p>Am I thinking this issue the wrong way? Is there any way of doing this without having to recreate all my activities based on the template provided by Android Studio or using fragments?</p>\n\n<p>LE: Forgot to mention that I removed the ActionBar from all activities.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "baidu", "baidu-map"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1522094539, "post_id": 49499328, "comment_id": 86003437, "body": "post your <code>onCreate</code> method and your <code>build.gradle</code>"}, {"owner": {"reputation": 525, "user_id": 2392211, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9cf77dd57f4f1642fc626e9c4ac27a93?s=128&d=identicon&r=PG", "display_name": "ruin3936", "link": "https://stackoverflow.com/users/2392211/ruin3936"}, "edited": false, "score": 0, "creation_date": 1522649625, "post_id": 49499328, "comment_id": 86219102, "body": "this is my <code>onCreate</code>  ``` @Override protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);          SDKInitializer.initialize(this.getApplicationContext());         SDKInitializer.setCoordType(CoordType.BD09LL); } ```"}, {"owner": {"reputation": 434, "user_id": 4397653, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VBd7y-CxOQA/AAAAAAAAAAI/AAAAAAAAAE0/QBGdrrTPUqs/photo.jpg?sz=128", "display_name": "Hemendra Gangwar", "link": "https://stackoverflow.com/users/4397653/hemendra-gangwar"}, "edited": false, "score": 0, "creation_date": 1597045030, "post_id": 49499328, "comment_id": 111995102, "body": "Were you able to resolve this issue, if yes please share your solution to me as I&#39;m also having same problem while creating signed release apk"}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 3652747, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6eccda044e4643aaff108c8664c7dc4?s=128&d=identicon&r=PG&f=1", "display_name": "NoonanRosenblum", "link": "https://stackoverflow.com/users/3652747/noonanrosenblum"}, "is_accepted": false, "score": 0, "last_activity_date": 1536093821, "creation_date": 1536093821, "answer_id": 52173751, "question_id": 49499328, "link": "https://stackoverflow.com/questions/49499328/unsatisfiedlinkerror-while-initializing-baidu-map-sdk/52173751#52173751", "title": "UnsatisfiedLinkError while initializing Baidu Map SDK", "body": "<p>The <code>build.gradle</code> file at the app level (not the top level) should be :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nrepositories {\n    flatDir {\n        dir 'libs'\n    }\n}\n\nandroid {\n\n    // Stuff ...\n\n    sourceSets {\n        main {\n            jniLibs.srcDir 'libs'\n        }\n    }\n\n   // Stuff ...\n}\n\ndependencies {\n\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    // Stuff..\n}\n</code></pre>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536093821, "creation_date": 1522093120, "last_edit_date": 1522093514, "question_id": 49499328, "link": "https://stackoverflow.com/questions/49499328/unsatisfiedlinkerror-while-initializing-baidu-map-sdk", "title": "UnsatisfiedLinkError while initializing Baidu Map SDK", "body": "<p>I am trying to integrate Baidu Map SDK into my Android application.</p>\n\n<p>Structure of Libs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p9Bar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9Bar.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is causing issue in this Code:</p>\n\n<pre><code>SDKInitializer.initialize(applicationContext)\n</code></pre>\n\n<p>Error log:</p>\n\n<pre><code>    03-27 00:57:26.557 18050-18050/com.emerson.oversight E/NativeLoader: found libBaiduMapSDK_base_v4_5_2.so error\n03-27 00:57:26.558 18050-18050/com.emerson.oversight E/art: No implementation found for int com.baidu.platform.comjni.tools.JNITools.initClass(java.lang.Object, int) (tried Java_com_baidu_platform_comjni_tools_JNITools_initClass and Java_com_baidu_platform_comjni_tools_JNITools_initClass__Ljava_lang_Object_2I)\n03-27 00:57:26.560 18050-18050/com.emerson.oversight D/AndroidRuntime: Shutting down VM\n\n\n    --------- beginning of crash\n03-27 00:57:26.562 18050-18050/com.emerson.oversight E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.emerson.oversight, PID: 18050\n    java.lang.UnsatisfiedLinkError: No implementation found for int com.baidu.platform.comjni.tools.JNITools.initClass(java.lang.Object, int) (tried Java_com_baidu_platform_comjni_tools_JNITools_initClass and Java_com_baidu_platform_comjni_tools_JNITools_initClass__Ljava_lang_Object_2I)\n        at com.baidu.platform.comjni.tools.JNITools.initClass(Native Method)\n        at com.baidu.platform.comjni.tools.a.b(Unknown Source)\n        at com.baidu.platform.comapi.a.&lt;clinit&gt;(Unknown Source)\n        at com.baidu.platform.comapi.a.a(Unknown Source)\n        at com.baidu.platform.comapi.c.a(Unknown Source)\n        at com.baidu.mapapi.SDKInitializer.initialize(Unknown Source)\n        at com.baidu.mapapi.SDKInitializer.initialize(Unknown Source)\n        at oversight.controller.ui.activities.BaiduMapActivity.onCreate(BaiduMapActivity.kt:84)\n        at android.app.Activity.performCreate(Activity.java:6977)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1126)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3064)\n        at android.app.ActivityThread.-wrap14(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1659)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6823)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1563)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1451)\nlll\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "real-time"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1522091755, "post_id": 49498817, "comment_id": 86001968, "body": "Please add your database structure."}, {"owner": {"reputation": 85, "user_id": 4344615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-XCeno9J09jE/AAAAAAAAAAI/AAAAAAAAATE/WG1MVdq2Sac/photo.jpg?sz=128", "display_name": "Xcode", "link": "https://stackoverflow.com/users/4344615/xcode"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1522092488, "post_id": 49498817, "comment_id": 86002371, "body": "Thanks I think I have it here already"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1522093154, "post_id": 49498817, "comment_id": 86002712, "body": "Where, I cannot see it. Through database structure, I mean what you already have in your database."}, {"owner": {"reputation": 85, "user_id": 4344615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-XCeno9J09jE/AAAAAAAAAAI/AAAAAAAAATE/WG1MVdq2Sac/photo.jpg?sz=128", "display_name": "Xcode", "link": "https://stackoverflow.com/users/4344615/xcode"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1522093531, "post_id": 49498817, "comment_id": 86002896, "body": "Have you seen it @Alex"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4344615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-XCeno9J09jE/AAAAAAAAAAI/AAAAAAAAATE/WG1MVdq2Sac/photo.jpg?sz=128", "display_name": "Xcode", "link": "https://stackoverflow.com/users/4344615/xcode"}, "edited": false, "score": 0, "creation_date": 1522091916, "post_id": 49499023, "comment_id": 86002059, "body": "Thanks but what should I do in that instance Sir"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 85, "user_id": 4344615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-XCeno9J09jE/AAAAAAAAAAI/AAAAAAAAATE/WG1MVdq2Sac/photo.jpg?sz=128", "display_name": "Xcode", "link": "https://stackoverflow.com/users/4344615/xcode"}, "edited": false, "score": 0, "creation_date": 1522091962, "post_id": 49499023, "comment_id": 86002080, "body": "what value will contain, depends on your db schema. you will have to change it or evalurate the string. please set a breakpoint or add a println(dataSnapshot!!.value) to see what exaclty is going on. :)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1522091836, "creation_date": 1522091836, "answer_id": 49499023, "question_id": 49498817, "link": "https://stackoverflow.com/questions/49498817/java-lang-string-cannot-be-cast-to-java-util-hashmap-error-in-kotlin/49499023#49499023", "title": "java.lang.String cannot be cast to java.util.HashMap Error in Kotlin", "body": "<p>As the documentation states:</p>\n\n<blockquote>\n  <p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot.html#getValue()\" rel=\"nofollow noreferrer\">getValue()</a> returns the data contained in this snapshot as native\n  types. The possible types returned are:  </p>\n  \n  <p><code>Boolean</code><br>\n  <code>String</code><br>\n  <code>Long</code><br>\n  <code>Double</code><br>\n  <code>Map&lt;String, Object&gt;</code><br>\n  <code>List&lt;Object&gt;</code> </p>\n</blockquote>\n\n<p>So, in your case <code>dataSnapshot!!.value</code> returns a <code>String</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522093847, "creation_date": 1522093847, "answer_id": 49499517, "question_id": 49498817, "link": "https://stackoverflow.com/questions/49498817/java-lang-string-cannot-be-cast-to-java-util-hashmap-error-in-kotlin/49499517#49499517", "title": "java.lang.String cannot be cast to java.util.HashMap Error in Kotlin", "body": "<p>To solve this, please change the following line of code:</p>\n\n<pre><code>val td = dataSnapshot!!.value as HashMap&lt;String,Any&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>val td = dataSnapshot!!.value as String\n</code></pre>\n\n<p>The value of <code>Finders</code> property is actually a <code>String</code> and not HashMap.</p>\n"}], "owner": {"reputation": 85, "user_id": 4344615, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-XCeno9J09jE/AAAAAAAAAAI/AAAAAAAAATE/WG1MVdq2Sac/photo.jpg?sz=128", "display_name": "Xcode", "link": "https://stackoverflow.com/users/4344615/xcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1386, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527827413, "creation_date": 1522091010, "last_edit_date": 1522153085, "question_id": 49498817, "link": "https://stackoverflow.com/questions/49498817/java-lang-string-cannot-be-cast-to-java-util-hashmap-error-in-kotlin", "title": "java.lang.String cannot be cast to java.util.HashMap Error in Kotlin", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n    var adapter : MyTrackers.ContactAdapter?=null\n    var listOfContact = ArrayList&lt;UserContact&gt;()\n    var databaseRef:DatabaseReference?=null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    var userData = UserData(this)\n    userData.loadPhoneNumber()\n\n    databaseRef = FirebaseDatabase.getInstance().reference\n\n    //For debug only\n    //dummyData()\n\n    adapter = MyTrackers.ContactAdapter(this, listOfContact)\n    lvContactList.adapter = adapter\n    lvContactList.onItemClickListener = AdapterView.OnItemClickListener{\n        parent, view, position, id -&gt;\n        val userInfo = listOfContact[position]\n        UserData.myTrackers.remove(userInfo.phoneNumber)\n    }\n\n}\n\noverride fun onResume() {\n    super.onResume()\n    refereshUsers()\n}\n\nfun refereshUsers(){\n    val userData = UserData(this)\n    if(userData.loadPhoneNumber()==\"empty\"){ //FirstTIme activity Starts\n        return\n    }\n    databaseRef!!.child(\"Users\").child(userData.loadPhoneNumber())\n            .child(\"Finders\").addValueEventListener(object : ValueEventListener{\n\n\n                override fun onDataChange(dataSnapshot: DataSnapshot) {\n                    val td = dataSnapshot!!.value as HashMap&lt;String,Any&gt;\n                    listOfContact.clear()\n\n                    if(td==null){\n                        listOfContact.add(UserContact(\"NO_USERS\",\"Nothing\"))\n                        adapter!!.notifyDataSetChanged()\n                        return\n                    }\n\n                    for (key in td.keys){\n                        listOfContact.add(UserContact(\"NO_NAME\",key))\n                    }\n\n                }\n</code></pre>\n\n<p>I always get the above java.lang.String cannot be cast to java.util.HashMap in my td declaration in my onDataChange method. Whenever I try to debug based on previous stackoverflow solutions it still doesnt work can someone show me what error I am making and how will be able to make neccessary corrections.</p>\n\n<p>Here is The Structure of my Database</p>\n\n<pre><code> \"Users\" : {\n    \"7151418\" : {\n      \"Finders\" : \"2018/03/26 20:03:02\",\n      \"request\" : \"2018/03/26 20:03:02\"\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 0, "last_activity_date": 1522094217, "creation_date": 1522094217, "answer_id": 49499618, "question_id": 49498678, "link": "https://stackoverflow.com/questions/49498678/kotlin-platform-declaration-clash-same-jvm-signature/49499618#49499618", "title": "Kotlin: platform declaration clash: same JVM signature", "body": "<p>I think your problem begins with <code>MultivaluedMap&lt;String,String&gt;</code></p>\n\n<pre><code>abstract class ConfigProperties&lt;K, V&gt;(delegate: Map&lt;K, V&gt;?):\n        MultivaluedMap&lt;String, String&gt; { ... }\n</code></pre>\n\n<p>Overlook the <code>String</code> type parameter for the moment.  <code>MultivaluedMap&lt;K,V&gt;</code> is an interface that has the <code>Map&lt;K,List&lt;V&gt;&gt;</code> super interface.  But in your code, you have a <code>delegate</code> of type <code>Map&lt;K,V&gt;</code>.  You try to override a the <code>setKey</code> member of the <code>Map&lt;K,List&lt;V&gt;&gt;</code> super interface by returning <code>delegate.keys</code> which is not the same as <code>Map&lt;K,List&lt;V&gt;&gt;.keys</code> (i.e., whose member you are overriding).</p>\n\n<p>So, you can try the following...</p>\n\n<pre><code>abstract class ConfigProperties&lt;K, V&gt;(delegate: Map&lt;K, V&gt;?):\n        MultivaluedMap&lt;K, V&gt; {\n    protected val delegate: Map&lt;K, List&lt;V&gt;&gt;\n    init {\n        if (delegate == null) {\n            throw NullPointerException(\"Config properties delegate must not be null.\")\n        }\n        this.delegate = delegate\n    }\n    abstract fun putCacheProperty(key: Parameter, value: Any)\n    abstract fun getCacheProperty(key: Parameter): Any\n    protected val UNSUPPORTED_MESSAGE = \"ConfigProperties is immutable.\"\n    override fun keySet(): Set&lt;K&gt; {\n        return delegate.keys\n    }\n}\n</code></pre>\n\n<p>As for the <code>String</code> type parameter, did you mean to use <code>K,V</code>?  Whatever you meant, you will need to make the consistent.</p>\n"}], "owner": {"reputation": 13, "user_id": 9351413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1555e4ce37b2b6929bb9dd89303a66a8?s=128&d=identicon&r=PG&f=1", "display_name": "Juewei Dong", "link": "https://stackoverflow.com/users/9351413/juewei-dong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2287, "favorite_count": 0, "accepted_answer_id": 49499618, "answer_count": 1, "score": 1, "last_activity_date": 1522094217, "creation_date": 1522090479, "question_id": 49498678, "link": "https://stackoverflow.com/questions/49498678/kotlin-platform-declaration-clash-same-jvm-signature", "title": "Kotlin: platform declaration clash: same JVM signature", "body": "<p>I'm trying to implement an abstract class in kotlin which extends a <code>MultiValuedMap</code>, when I was trying to override <code>keySet()</code> method, I got the error</p>\n\n<pre><code>platform declaration clash: The following declarations have the same JVM signature (keySet()Ljava/util/Set;)\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>abstract class ConfigProperties&lt;K, V&gt;(delegate: Map&lt;K, V&gt;?): MultivaluedMap&lt;String, String&gt; {\n\n  protected val delegate: Map&lt;K, V&gt;\n\n  init {\n      if (delegate == null) {\n          throw NullPointerException(\"Config properties delegate must not be null.\")\n      }\n      this.delegate = delegate\n  }\n\n  abstract fun putCacheProperty(key: Parameter, value: Any)\n\n  abstract fun getCacheProperty(key: Parameter): Any\n\n  protected val UNSUPPORTED_MESSAGE = \"ConfigProperties is immutable.\"\n\n\n  override fun keySet(): Set&lt;String&gt; {\n      return delegate.keys\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Any hint to solve this? Thanks!</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-toolbar", "android-appbarlayout"], "comments": [{"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 0, "creation_date": 1522094771, "post_id": 49498062, "comment_id": 86003581, "body": "Just a question - did you try running your app without using databinding in your activity layout?"}, {"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "reply_to_user": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 0, "creation_date": 1522096178, "post_id": 49498062, "comment_id": 86004226, "body": "No i didn&#39;t. I could not think of a possibility how this could interfere."}, {"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "reply_to_user": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 0, "creation_date": 1522149319, "post_id": 49498062, "comment_id": 86026990, "body": "@muminers You seem to be on to something there. The problem starts when i add a binding. I&#39;ll update my question accordingly."}, {"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 1, "creation_date": 1522149951, "post_id": 49498062, "comment_id": 86027420, "body": "Sorry didn&#39;t see your previous comment - yes databinding causes some troubles applied to coordinator Layout on some devices. Don&#39;t know why, I just abbandoned using it with more complicated views. According to its unreliability it just doesn&#39;t seem like reasonable solution anymore"}, {"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "reply_to_user": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "edited": false, "score": 0, "creation_date": 1522150444, "post_id": 49498062, "comment_id": 86027760, "body": "That&#39;s not very satisfying... But thanks anyway!"}], "owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522149743, "creation_date": 1522088164, "last_edit_date": 1522149743, "question_id": 49498062, "link": "https://stackoverflow.com/questions/49498062/appbar-content-is-not-displayed-for-single-activity", "title": "AppBar content is not displayed for single Activity", "body": "<p>I have an <code>Activity</code> based on the scrolling <code>Activity</code> template. The <code>AppBar</code> is working as expected for the scrolling behaviour, but it does not show it's contents (Up navigation, options menu, Title).\n<a href=\"https://i.stack.imgur.com/BghN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BghN4.png\" alt=\"Screenshot of the activity.\"></a></p>\n\n<p>The following snippets are minimal excerpts.</p>\n\n<p><code>ContactEditActivity</code>:</p>\n\n<pre><code>class ContactEditActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_contact_edit)\n    setSupportActionBar(toolbar)\n    supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n    val binding = DataBindingUtil.setContentView&lt;ActivityContactEditBinding&gt;(\n        this,\n        R.layout.activity_contact_edit\n    )\n\n    binding.contact = contact\n    binding.executePendingBindings()\n}\n\noverride fun onOptionsItemSelected(item: MenuItem) = when (item.itemId) {\n    R.id.action_settings -&gt; {\n        true\n    }\n    R.id.action_save -&gt; {\n        true\n    }\n    else -&gt; {\n        super.onOptionsItemSelected(item)\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu?): Boolean {\n    menuInflater.inflate(R.menu.menu_contact_edit, menu)\n    return true\n}\n}\n</code></pre>\n\n<p><code>activity_contact_edit.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:fitsSystemWindows=\"true\"\ntools:context=\"(...).activities.ContactEditActivity\"&gt;\n&lt;data&gt;\n    &lt;variable\n        name=\"contact\"\n        type=\"(...).models.Contact\" /&gt;\n&lt;/data&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/app_bar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/app_bar_height\"\n        android:fitsSystemWindows=\"true\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/toolbar_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n            app:toolbarId=\"@+id/toolbar\"&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                app:layout_collapseMode=\"pin\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;include layout=\"@layout/content_contact_edit\"\n        app:contact=\"@={contact}\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><code>menu_contact_edit.xml</code>:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\ntools:context=\".activities.ContactEditActivity\"&gt;\n&lt;item\n    android:id=\"@+id/action_save\"\n    android:title=\"@string/action_save\"\n    app:showAsAction=\"ifRoom\"/&gt;\n&lt;item\n    android:id=\"@+id/action_settings\"\n    android:orderInCategory=\"100\"\n    android:title=\"@string/action_settings\"\n    app:showAsAction=\"never\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p><code>AndroidManifest.xml</code> (excerpt):</p>\n\n<pre><code>    &lt;activity\n        android:name=\".activities.ContactEditActivity\"\n        android:label=\"@string/title_activity_contact_edit\"\n        android:parentActivityName=\".activities.ContactActivity\"\n        android:theme=\"@style/AppTheme.NoActionBar\"\n        android:windowSoftInputMode=\"adjustPan\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.PARENT_ACTIVITY\"\n            android:value=\"(...).activities.ContactActivity\" /&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>I have cross checked my code the Developer Guide on AppBars and created a new app with the \"Scrolling Activity\" and compared the code. But i could not find any lead.</p>\n\n<h2>Update 1</h2>\n\n<p>As it has been pointed out in the comments, the issue seems to be with the binding. Without the variable declaration in the layout file and the corresponding binding section in the <code>ContactEditActivity</code> the appbar renders as expected.</p>\n\n<p>I added the binding section to the minimal Version of the <code>ContactEditActivity</code>.</p>\n"}, {"tags": ["android", "python", "http", "kotlin"], "comments": [{"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1522079514, "post_id": 49495580, "comment_id": 85995094, "body": "what is your url try it in postman first."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 3, "creation_date": 1522080039, "post_id": 49495580, "comment_id": 85995440, "body": "We don&#39;t know what data your server is expecting, nor what data you&#39;re posting. I don&#39;t see any &quot;Content-Type&quot; header which may be the issue."}], "owner": {"reputation": 1, "user_id": 9553540, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SctaM6fCoS0/AAAAAAAAAAI/AAAAAAAABos/XGh0gVWbCjE/photo.jpg?sz=128", "display_name": "Alexander Ashkinadze", "link": "https://stackoverflow.com/users/9553540/alexander-ashkinadze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522084824, "creation_date": 1522079330, "last_edit_date": 1522084824, "question_id": 49495580, "link": "https://stackoverflow.com/questions/49495580/getting-error-400-on-post-request", "title": "Getting error 400 on POST request", "body": "<p>So, I've got a simple Python server that listens to POST request with simple text and an Android app that should send the request. I've got code 400: Bad Request all the times.\nHere's my code:</p>\n\n<pre><code>fun post (url: URL, data: String) : String\n{\n    val connection = url.openConnection() as HttpsURLConnection\n\n    connection.doOutput = true\n    connection.doInput = true\n    connection.connectTimeout = 5000\n    connection.readTimeout = 5000\n    connection.requestMethod = \"POST\"\n\n    connection.setRequestProperty(\"ImageBase64\", data)        \n\n    connection.connect()\n\n    val rcode = connection.responseCode\n    //val response = connection.responseMessage\n\n    return rcode.toString()\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>UPD: I am sending a Base64-encoded picture as a string.</p>\n\n<p>Here's my server code:</p>\n\n<pre><code>import base64\nfrom flask import Flask, request\n\napp = Flask(__name__)\n\n\n@app.route('/', methods=[\"POST\"])\ndef imageget():\n    image_base64 = request.form['ImageBase64']\n\n    with open(\"C:/CatImage.png\", \"wb\") as Image:\n        Image.write(base64.decodebytes(bytes(image_base64, 'utf-8')))\n    return 'Success!'\n\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "yaml", "properties-file"], "owner": {"reputation": 758, "user_id": 1889512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c945f6200e1a27ed70b66212ce68010c?s=128&d=identicon&r=PG", "display_name": "BadChanneler", "link": "https://stackoverflow.com/users/1889512/badchanneler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522079255, "creation_date": 1522079255, "question_id": 49495546, "link": "https://stackoverflow.com/questions/49495546/error-when-reading-properties-from-yml-file-in-spring-boot", "title": "Error when reading properties from yml file in spring-boot", "body": "<p>My yml file looks like this</p>\n\n<pre><code>   template:\n        age: 2\n        row: 6\n        attributes:\n          - tagname: tag\n            type: string\n            value: VALUE\n            scopes:\n                - one-scope\n                - second-scope\n</code></pre>\n\n<p>Reading the same data from a .properties file works!</p>\n\n<pre><code>template.age=2\ntemplate.row=6\ntemplate.attributes[0].tagname=tag\ntemplate.attributes[0].type=string\ntemplate.attributes[0].value=VALUE\ntemplate.attributes[0].scopes=one-scope,second-scope\n</code></pre>\n\n<p>My propertis pojo it's written in kotlin and looks like this:</p>\n\n<pre><code>class TemplateProperties {\n    @NotNull\n    lateinit var age: String\n    @NotNull\n    lateinit var row: String\n    var attributes: List&lt;Attribute&gt; = mutableListOf()\n}\n</code></pre>\n\n<p>and Attribute</p>\n\n<pre><code>class Attribute {\n    @NotNull\n    lateinit var tagname: String\n    @NotNull\n    lateinit var value: String\n    @NotNull\n    lateinit var type: String\n    var scopes: Array&lt;String&gt; = arrayOf()\n}\n</code></pre>\n\n<p>The error I get is this</p>\n\n<pre><code>No converter found capable of converting from type [java.lang.String] to type [java.util.List&lt;props.Attribute&gt;]\n</code></pre>\n"}, {"tags": ["java", "kotlin", "cdi", "interceptor"], "comments": [{"owner": {"reputation": 5338, "user_id": 5342297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec65b3838b1d1ea981cdb5be0a7a4a57?s=128&d=identicon&r=PG", "display_name": "Siliarus", "link": "https://stackoverflow.com/users/5342297/siliarus"}, "edited": false, "score": 1, "creation_date": 1522080569, "post_id": 49494404, "comment_id": 85995749, "body": "A quick check - is your interceptor enabled? I see no <code>@Priority</code> on your interceptor (and you didn&#39;t mention <code>beans.xml</code>)."}, {"owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "reply_to_user": {"reputation": 5338, "user_id": 5342297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec65b3838b1d1ea981cdb5be0a7a4a57?s=128&d=identicon&r=PG", "display_name": "Siliarus", "link": "https://stackoverflow.com/users/5342297/siliarus"}, "edited": false, "score": 0, "creation_date": 1522082957, "post_id": 49494404, "comment_id": 85997132, "body": "Duh.  I was so focused on the Kotlin aspect that I completely missed the @Priority annotation.  Thanks for bringing me back to reality!"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1535987183, "post_id": 49494404, "comment_id": 91254885, "body": "you may want to supply this comment as an answer instead and accept it. Otherwise it will forever be an unanswered question ;-) and you both can profit from it and maybe also someone else... ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536043692, "post_id": 49494404, "comment_id": 91270250, "body": "As soon as one of you posts the comment as answer, I will happily delete the answer placeholder again ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1536043627, "creation_date": 1536043627, "answer_id": 52160305, "question_id": 49494404, "link": "https://stackoverflow.com/questions/49494404/kotlin-cdi-interceptor-not-being-called/52160305#52160305", "title": "Kotlin CDI Interceptor Not Being Called", "body": "<p>Credit goes to <a href=\"https://stackoverflow.com/users/5342297/siliarus\">Siliarus</a>: Is your interceptor enabled? I see no <code>@Priority</code> on your interceptor (and you didn't mention <code>beans.xml</code>).</p>\n\n<p><em>This answer is rather a placeholder so that this question is not listed on the unanswered questions anymore. In fact the comment was the solution.</em></p>\n"}], "owner": {"reputation": 8952, "user_id": 331747, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/08d311db9b4893455102265ceed010b2?s=128&d=identicon&r=PG", "display_name": "Shadowman", "link": "https://stackoverflow.com/users/331747/shadowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536043627, "creation_date": 1522075914, "question_id": 49494404, "link": "https://stackoverflow.com/questions/49494404/kotlin-cdi-interceptor-not-being-called", "title": "Kotlin CDI Interceptor Not Being Called", "body": "<p>I'm trying to learn Kotlin by porting over some existing Java code to see the differences.  I'm trying to write a simple CDI <code>Interceptor</code> that will allow me to log the start and end of an annotated method.  My interceptor and annotation look like this:</p>\n\n<pre><code>import javax.interceptor.InterceptorBinding\n\n@InterceptorBinding\n@Target(AnnotationTarget.CLASS, AnnotationTarget.FUNCTION, AnnotationTarget.TYPE)\n@Retention(AnnotationRetention.RUNTIME)\n@MustBeDocumented\nannotation class Logged {\n\n}\n\n\n\nimport org.apache.log4j.Logger\nimport javax.interceptor.AroundInvoke\nimport javax.interceptor.Interceptor\nimport javax.interceptor.InvocationContext\n\n@Interceptor\n@Logged\nclass LoggingInterceptor {\n\n    @AroundInvoke\n    fun logFunctionDetails(context: InvocationContext): Any  {\n        print(\"logFunctionDetails - start\")\n\n        // TODO Implement method\n\n        print(\"logFunctionDetails - end\")\n        return context.proceed()\n    }\n}\n</code></pre>\n\n<p>I've also got a simple JAX-RS endpoint annotated with @Logged.  It looks like this:</p>\n\n<pre><code>@Path(\"/healthCheck\")\n@Stateless\n@Logged\nopen class HealthCheckRS : AbstractRestService() {\n\n    @Path(\"/\")\n    @GET\n    @POST\n    @PUT\n    @DELETE\n    @HEAD\n    @OPTIONS\n    @Logged\n    open fun healthCheck(): String {\n        return \"\" + System.currentTimeMillis()\n    }\n}\n</code></pre>\n\n<p>I'm expecting to see my <code>LoggingInterceptor</code> function called, but it is completely bypassing the interceptor altogether.  Is there something more that I need to do in order to get this working in Kotlin?  I have similar code that works in Java with no problem.</p>\n"}, {"tags": ["android", "kotlin", "android-glide"], "owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553442498, "creation_date": 1522074889, "last_edit_date": 1553442498, "question_id": 49494016, "link": "https://stackoverflow.com/questions/49494016/load-vector-drawable-resource-multiple-times-with-glide-issue", "title": "Load vector drawable resource multiple times with glide issue", "body": "<p>I am using glide 4.6.1 to load a Resource (a vector drawable). It's always the same resource but sometimes does not load properly. Looks Emily Blunt image.</p>\n\n<p>The code:</p>\n\n<pre><code>fun AppCompatImageView.loadCircleImage(resId: Int, width: Int, height: Int) {\n    val options = RequestOptions()\n            .fitCenter()\n            .override(width, height)\n            .circleCrop()\n\n    Glide.with(context)\n            .load(AppCompatResources.getDrawable(context, resId))\n            .apply(options)\n            .into(this)\n}\n</code></pre>\n\n<p><img src=\"https://user-images.githubusercontent.com/1648539/37912458-f4675fe6-30e8-11e8-8e60-32cda4447cdd.jpg\" alt=\"error glide\"></p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1522075516, "post_id": 49494007, "comment_id": 85992152, "body": "Have you tried anything yet? What CAN you do? Where are you getting stuck?"}, {"owner": {"reputation": 35, "user_id": 9497838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BzHN0phtbbQ/AAAAAAAAAAI/AAAAAAAAAAg/WijCWbMciec/photo.jpg?sz=128", "display_name": "StarToLeft", "link": "https://stackoverflow.com/users/9497838/startoleft"}, "reply_to_user": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1522075802, "post_id": 49494007, "comment_id": 85992369, "body": "Can&#39;t find any docs for Kotlin,"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1522075964, "post_id": 49494007, "comment_id": 85992516, "body": "Can you find docs for Java?"}], "answers": [{"tags": [], "owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "is_accepted": true, "score": 3, "last_activity_date": 1522079204, "creation_date": 1522079204, "answer_id": 49495529, "question_id": 49494007, "link": "https://stackoverflow.com/questions/49494007/firebase-childs-to-array-kotlin/49495529#49495529", "title": "Firebase childs to array (Kotlin)", "body": "<p>Try this one.   </p>\n\n<pre><code> var firebaseDatabase: FirebaseDatabase\n            firebaseDatabase = FirebaseDatabase.getInstance();\n\n            progressBar.visibility = ProgressBar.VISIBLE\n            firebaseDatabase.getReference(\"players\").addValueEventListener(object: ValueEventListener {\n                override fun onDataChange(p0: DataSnapshot?) {\n\n                    Log.d(\"DAta\",p0.toString())\n\n                    progressBar.visibility = ProgressBar.GONE\n                    if(p0!!.exists()){\n                        for (h in p0.children){\n                             val player = h.getValue(Player::class.java)\n                            photosList.add(player)\n                            adapter.notifyDataSetChanged()\n                            Log.d(\"Data\",\"player is \"+player.toString())\n\n                        }\n                    }\n                }\n\n                override fun onCancelled(p0: DatabaseError?) {\n                    Toast.makeText(activity,\"Fail to Load Data\", Toast.LENGTH_SHORT).show()\n                }\n            });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 647, "user_id": 6193843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0420998b5ea04d752fe70cb3f82aa43d?s=128&d=identicon&r=PG&f=1", "display_name": "Link182", "link": "https://stackoverflow.com/users/6193843/link182"}, "is_accepted": false, "score": 0, "last_activity_date": 1522100217, "creation_date": 1522100217, "answer_id": 49501033, "question_id": 49494007, "link": "https://stackoverflow.com/questions/49494007/firebase-childs-to-array-kotlin/49501033#49501033", "title": "Firebase childs to array (Kotlin)", "body": "<p>You can try this library <a href=\"https://github.com/Link184/Respiration\" rel=\"nofollow noreferrer\">https://github.com/Link184/Respiration</a></p>\n\n<pre><code>@FirebaseRepository(dataSnapshotType = MyModel.class,\n    persistence = true,\n    isAccessPrivate = true,\n    children = {PlanEventRepository.USERS_CHILD, FirebaseRepository.USER_ID, PlanEventRepository.PLAN_EVENTS_CHILD})\npublic class MyRepo extends FirebaseListRepository&lt;MyModel&gt; {\n    static final String USERS_CHILD = \"users\";\n    static final String PLAN_EVENTS_CHILD = \"events\";\n\n    protected MyRepo(Configuration&lt;MyModel&gt; configuration) {\n        super(configuration);\n    }\n}\n</code></pre>\n\n<p>you can access your list in that way:</p>\n\n<pre><code>//MyRepoBuilder is a generated class by annotation processor and can be accedes only after a successful gradle build. \nMyRepoBuilder.getInstance().subscribeToList(new SubscriberRespiration&lt;List&lt;MyModel&gt;&gt;() {\n      @Override\n      public void onSuccess(List&lt;MyModel&gt; dataSnapShot) {\n          //here is your list =)\n      }\n  });\n</code></pre>\n\n<p>Kotlin annotation processing is not supported <strong>yet</strong> so you must use java on your custom repositories.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9488887, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215835396658878/picture?type=large", "display_name": "Renato", "link": "https://stackoverflow.com/users/9488887/renato"}, "is_accepted": false, "score": 0, "last_activity_date": 1522136974, "creation_date": 1522136974, "answer_id": 49507186, "question_id": 49494007, "link": "https://stackoverflow.com/questions/49494007/firebase-childs-to-array-kotlin/49507186#49507186", "title": "Firebase childs to array (Kotlin)", "body": "<p>All you want is to loop through all children of a DataSnapShot?\nIf so, a MutableList should work.\nYou can try something like this.</p>\n\n<pre><code>databaseReference.addValueEventListener(object : ValueEventListener {\n    override fun onDataChange(dataSnapshot: DataSnapshot) {\n        elements = dataSnapshot.children.toMutableList()\n        for (element in elements) {\n            //your logic\n        }\n    }\n    override fun onCancelled(databaseError: DatabaseError) {}\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 13918350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7kdf.jpg?s=128&g=1", "display_name": "gelojavonitalla", "link": "https://stackoverflow.com/users/13918350/gelojavonitalla"}, "is_accepted": false, "score": 0, "last_activity_date": 1596031076, "creation_date": 1596031076, "answer_id": 63155336, "question_id": 49494007, "link": "https://stackoverflow.com/questions/49494007/firebase-childs-to-array-kotlin/63155336#63155336", "title": "Firebase childs to array (Kotlin)", "body": "<p>There are two storage option for Firebase and it wasn't clear in the question which one is used. In our project we are using FirebaseFirestore and saving and retrieving array/list data is pretty straight forward. Save the object as list and just use toObject. For example below querying all the contents of the DB</p>\n<pre><code>val allEntities = mutableListOf&lt;YourEntityClass&gt;()\nval fireStore = FirebaseFirestore.getInstance()\nval ref = fireStore.collection(&quot;yourcollection&quot;)\nref.get().addOnSuccessListener { documents -&gt;\n            documents.forEach {\n                it.toObject(YourEntityClass::class.java).let { entity -&gt;\n                    allEntities.addOrReplace(entity)\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9497838, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BzHN0phtbbQ/AAAAAAAAAAI/AAAAAAAAAAg/WijCWbMciec/photo.jpg?sz=128", "display_name": "StarToLeft", "link": "https://stackoverflow.com/users/9497838/startoleft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 0, "accepted_answer_id": 49495529, "answer_count": 4, "score": 0, "last_activity_date": 1596031076, "creation_date": 1522074870, "question_id": 49494007, "link": "https://stackoverflow.com/questions/49494007/firebase-childs-to-array-kotlin", "title": "Firebase childs to array (Kotlin)", "body": "<p>Well good morning,</p>\n\n<p>Today my project was to work a bit with Kotlin firebase. Just found a problem I can't seem to find any good documentation on how to store all child's in an array which I then can do a \"for\" loop on.</p>\n"}, {"tags": ["java", "kotlin", "jakarta-mail"], "answers": [{"comments": [{"owner": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "edited": false, "score": 0, "creation_date": 1522103507, "post_id": 49494543, "comment_id": 86007396, "body": "And I assume you&#39;re using gimap because you need to use some gimap-specific feature, even though the code above doesn&#39;t need it.  Otherwise, you could&#39;ve just used the imap protocol."}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1522104066, "post_id": 49494543, "comment_id": 86007561, "body": "Correct Bill. I&#39;m doing server side filtering with GmailRawTerm."}], "tags": [], "owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "is_accepted": true, "score": -1, "last_activity_date": 1522076275, "creation_date": 1522076275, "answer_id": 49494543, "question_id": 49493532, "link": "https://stackoverflow.com/questions/49493532/folder-is-not-using-socketchannels/49494543#49494543", "title": "Folder is not using SocketChannels", "body": "<p>An hour after I posted this question (and 3 hours of researching) I finally found an answer.</p>\n\n<p>You have to set the property <code>mail.gimap.usesocketchannels</code> to <code>\"true\"</code> (and not <code>mail.imap.usesocketchannels</code> or <code>mail.imaps.usesocketchannels</code>)</p>\n\n<p>This is due to the fact that <code>gimap</code> is a different protocol than <code>imap</code>.</p>\n\n<p>There goes 3 hours down the drain.</p>\n"}], "owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 49494543, "answer_count": 1, "score": 0, "last_activity_date": 1522076275, "creation_date": 1522073509, "question_id": 49493532, "link": "https://stackoverflow.com/questions/49493532/folder-is-not-using-socketchannels", "title": "Folder is not using SocketChannels", "body": "<p>I have the following code:</p>\n\n<pre><code>typealias MessagePredicate = (Message) -&gt; Boolean\nobject EmailHelper {\n    private val session: Session by lazy {\n        val props = System.getProperties()\n        props[\"mail.imaps.usesocketchannels\"] = \"true\"\n        props[\"mail.imap.usesocketchannels\"] = \"true\"\n        Session.getInstance(props, null)\n    }\n    private val store = session.getStore(\"gimap\") as GmailStore\n    private val idleManager = IdleManager(session, Executors.newSingleThreadExecutor())\n    private val folder: GmailFolder by lazy { store.getFolder(\"INBOX\") as GmailFolder }\n\n\n    init {\n        store.connect(\"imap.gmail.com\", \"***@gmail.com\", \"***\")\n        folder.open(Folder.READ_ONLY)\n        idleManager.watch(folder)\n    }\n\n    fun watchForMessage(condition: MessagePredicate): CompletableFuture&lt;Message&gt; {\n        val promise = CompletableFuture&lt;Message&gt;()\n        folder.addMessageCountListener(object : MessageCountAdapter() {\n            override fun messagesAdded(e: MessageCountEvent) {\n                super.messagesAdded(e)\n                e.messages.firstOrNull(condition)?.let {\n                    folder.removeMessageCountListener(this)\n                    promise.complete(it)\n                }\n            }\n        })\n        return promise\n    }\n\n}\n</code></pre>\n\n<p>However when I run this code I'm getting the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at com.muliyul.MainKt.main(Main.kt:28)\nCaused by: javax.mail.MessagingException: Folder is not using SocketChannels\n    at com.sun.mail.imap.IdleManager.watch(IdleManager.java:205)\n    at com.muliyul.EmailHelper.&lt;clinit&gt;(EmailHelper.kt:40)\n    ... 1 more\n</code></pre>\n\n<p>I am setting the property \"mail.imaps.usesocketchannels\" beforehand and I've also read <a href=\"https://stackoverflow.com/questions/47346936/javamail-exception-javax-mail-messagingexception-folder-is-not-using-socketcha\">this</a> question yet I can't wrap my head around what's wrong with my code.</p>\n\n<p>Can someone point me in the right direction?</p>\n\n<p>Side note: the email provider is Gmail (obviously).</p>\n"}, {"tags": ["android", "junit", "kotlin", "rx-java2", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527861374, "post_id": 49493665, "comment_id": 88300506, "body": "&quot; .subscribeOn(scheduler.io())&quot; give me nullPointerException. have you an ideea why?"}, {"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "reply_to_user": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527861537, "post_id": 49493665, "comment_id": 88300607, "body": "I&#39;d guess scheduler is null. Check if it injects correctly inside of your presenter"}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527861654, "post_id": 49493665, "comment_id": 88300678, "body": "it`s not null but size, counter, time is 0. May be that a problem?"}, {"owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "reply_to_user": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527861953, "post_id": 49493665, "comment_id": 88300886, "body": "I&#39;m sorry but it&#39;s just impossible to give you any kind of answer here. I do not know what kind of &quot;size, counter, time&quot; you are writing about. But if you are 100% sure that NPE is from that specific line, than its probably due to null scheduler or null observable that you are calling .subsctibeOn on. And this error is probably not necessary connected with this suggested solution. It&#39;s rather implementation issue"}], "tags": [], "owner": {"reputation": 1180, "user_id": 5659492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8D5.png?s=128&g=1", "display_name": "muminers", "link": "https://stackoverflow.com/users/5659492/muminers"}, "is_accepted": false, "score": 0, "last_activity_date": 1522073945, "creation_date": 1522073945, "answer_id": 49493665, "question_id": 49492875, "link": "https://stackoverflow.com/questions/49492875/make-a-api-call-in-junit-with-kotlin/49493665#49493665", "title": "Make a API call in JUnit with Kotlin", "body": "<p>The idea is quite simple here. You have to provide a scheduler inside your presenter (or whatever class):</p>\n\n<pre><code>interface YourSchedulerProvider {\n    fun io(): Scheduler\n    fun ui(): Scheduler\n}\n\nclass YourPresenter\n@Inject constructor(\n        val scheduler: YourSchedulerProvider) {\n\n   fun someFun() {\n    mUserService.updateUser(id!!,accessToken!!,user)\n            .subscribeOn(scheduler.io())\n            .observeOn(scheduler.ui())\n            .subscribe({ _ -&gt;}, { _-&gt;})\n   }\n</code></pre>\n\n<p>and in your Dagger just provide some serious implementation of YourSchedulerProvider.</p>\n\n<p>Than in tests just provide:</p>\n\n<pre><code>class YourTestSchedulerProvider(private val scheduler: Scheduler) : YourSchedulerProvider {\n\n    override fun io(): Scheduler {\n        return scheduler\n    }\n\n    override fun ui(): Scheduler {\n        return scheduler\n    }\n\n    override fun computation(): Scheduler {\n        return scheduler\n    }\n}\n</code></pre>\n\n<p>And use this in your unit tests, like:</p>\n\n<pre><code>val testScheduler = TestScheduler()\nval scheduler = YourTestSchedulerProvider(testScheduler)\nval presenter = YourPresenter(..., scheduler)\n\n@Test\nfun test() {\n    (...)\n    presenter.someFun()\n    testScheduler.triggerActions()\n}\n</code></pre>\n"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527865473, "creation_date": 1522071507, "last_edit_date": 1527865473, "question_id": 49492875, "link": "https://stackoverflow.com/questions/49492875/make-a-api-call-in-junit-with-kotlin", "title": "Make a API call in JUnit with Kotlin", "body": "<p>I am beginner in automatic test so I wanna to make an API call to update some data on backend and I wanna to test that with JUnit4. The problem is when I wanna to subscribe make that call he throw NPE.</p>\n\n<p>My test class looks like:</p>\n\n<pre><code>class PhoneNumberPresenterTest {\n    @Mock\n    private val userService: UserService? = null\n\n    val testScheduler = TestScheduler()\n\n    val scheduler = TestSchedulerProvider(testScheduler)\n\n@Before\n    fun setup() {\n//init stuffs\n}\n        @Test\n    fun onContinueClicked_ResponseSuccess() {\n        val phoneNumber = \"(01234567890)\"\n\n        val genericResponse = GenericResponse&lt;CheckApprovedStatusResponse&gt;()\n        genericResponse.data = CheckApprovedStatusResponse()\n\n        `when`(userService!!.checkUserApprovedStatus(phoneNumber)).thenReturn(just(genericResponse))\n\n        presenter!!.onContinueClicked(phoneNumber)\n\n        testScheduler.triggerActions()\n        ///stuffs\n}\n</code></pre>\n\n<p>And here is where I POST my user data on backend in Presenter</p>\n\n<pre><code>class PhoneNumberPresenter(private var mView: PhoneNumberContract.View,\n                           private var scheduler: SchedulerProvider) : PhoneNumberContract.Handler {\n\n override fun onContinueClicked(enteredPhoneNumber: String) {\n        mUserService.checkUserApprovedStatus(phoneNumber)\n                .subscribeOn(scheduler.io())\n                .observeOn(scheduler.ui())\n                .subscribe({ response -&gt;\n                }, { error -&gt;\n                })\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>mUserService.checkUserApprovedStatus(phoneNumber) is null</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 4773, "user_id": 5353128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ACdqv.png?s=128&g=1", "display_name": "Kaushal28", "link": "https://stackoverflow.com/users/5353128/kaushal28"}, "edited": false, "score": 0, "creation_date": 1522068772, "post_id": 49491916, "comment_id": 85987166, "body": "<code>===</code> is referential equality which checks whether the objects are pointing to same locations or not. <code>==</code> checks for values"}, {"owner": {"reputation": 97, "user_id": 6458312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R_KCj6HfNd4/AAAAAAAAAAI/AAAAAAAAGhU/hX-QnEa5xLw/photo.jpg?sz=128", "display_name": "Jatin Bansal", "link": "https://stackoverflow.com/users/6458312/jatin-bansal"}, "reply_to_user": {"reputation": 4773, "user_id": 5353128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ACdqv.png?s=128&g=1", "display_name": "Kaushal28", "link": "https://stackoverflow.com/users/5353128/kaushal28"}, "edited": false, "score": 0, "creation_date": 1522068859, "post_id": 49491916, "comment_id": 85987232, "body": "i know about php but in kotlin not understand...if the check objects are pointing to same location or not so how can test this case"}, {"owner": {"reputation": 3046, "user_id": 9180439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WF0UI.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/9180439/ali"}, "edited": false, "score": 0, "creation_date": 1522068915, "post_id": 49491916, "comment_id": 85987284, "body": "Refer this link <a href=\"http://www.baeldung.com/kotlin-equality-operators\" rel=\"nofollow noreferrer\">baeldung.com/kotlin-equality-operators</a>"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "reply_to_user": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1522068997, "post_id": 49491916, "comment_id": 85987341, "body": "@NikolaLukic It&#39;s not checking <i>type</i> . It&#39;s checking reference equality."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1522069026, "post_id": 49491916, "comment_id": 85987358, "body": "In your case, the JVM decides (correctly) that you are creating two copies of the same String, so it just uses one. That&#39;s why <code>===</code> is true when you are actually trying to create two different String objects."}, {"owner": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1522069491, "post_id": 49491916, "comment_id": 85987716, "body": "How can we get == false and for === true ? Or any way to get different bool"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1522070272, "post_id": 49491916, "comment_id": 85988241, "body": "You could have <code>var b = &quot;H&quot;+a.substring(1);</code>. That will produce a different object with the same content."}, {"owner": {"reputation": 97, "user_id": 6458312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R_KCj6HfNd4/AAAAAAAAAAI/AAAAAAAAGhU/hX-QnEa5xLw/photo.jpg?sz=128", "display_name": "Jatin Bansal", "link": "https://stackoverflow.com/users/6458312/jatin-bansal"}, "edited": false, "score": 0, "creation_date": 1522070503, "post_id": 49491916, "comment_id": 85988421, "body": "no i checked it ...result also same &#39;true&#39;"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1522070965, "post_id": 49491916, "comment_id": 85988746, "body": "@JatinBansal Worked when I tried it."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 6458312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R_KCj6HfNd4/AAAAAAAAAAI/AAAAAAAAGhU/hX-QnEa5xLw/photo.jpg?sz=128", "display_name": "Jatin Bansal", "link": "https://stackoverflow.com/users/6458312/jatin-bansal"}, "edited": false, "score": 1, "creation_date": 1522069284, "post_id": 49492073, "comment_id": 85987554, "body": "ya i know this theory tom, can you give me any example of &#39;==&#39; type"}, {"owner": {"reputation": 214, "user_id": 8987792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cc8c0755e24116fcad5519718397f4?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/8987792/tom"}, "reply_to_user": {"reputation": 97, "user_id": 6458312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R_KCj6HfNd4/AAAAAAAAAAI/AAAAAAAAGhU/hX-QnEa5xLw/photo.jpg?sz=128", "display_name": "Jatin Bansal", "link": "https://stackoverflow.com/users/6458312/jatin-bansal"}, "edited": false, "score": 0, "creation_date": 1522069971, "post_id": 49492073, "comment_id": 85988040, "body": "So if you got two different objects but with the same values, if you use &quot;==&quot; it will compare only value of both. If you use &quot;===&quot; it will return false, becouse those objects are in different place in memory."}], "tags": [], "owner": {"reputation": 214, "user_id": 8987792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cc8c0755e24116fcad5519718397f4?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/8987792/tom"}, "is_accepted": true, "score": 0, "last_activity_date": 1522069130, "creation_date": 1522069130, "answer_id": 49492073, "question_id": 49491916, "link": "https://stackoverflow.com/questions/49491916/difference-between-and-in-kotlin/49492073#49492073", "title": "difference between &#39;==&#39; and &#39;===&#39; in kotlin?", "body": "<p>There is a difference in concepts of equality. \"==\" checks structural equality (same value), \"===\" checks referential equality (same place in memory).</p>\n"}], "owner": {"reputation": 97, "user_id": 6458312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R_KCj6HfNd4/AAAAAAAAAAI/AAAAAAAAGhU/hX-QnEa5xLw/photo.jpg?sz=128", "display_name": "Jatin Bansal", "link": "https://stackoverflow.com/users/6458312/jatin-bansal"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "closed_date": 1522069279, "accepted_answer_id": 49492073, "answer_count": 1, "score": -7, "last_activity_date": 1522069130, "creation_date": 1522068651, "question_id": 49491916, "link": "https://stackoverflow.com/questions/49491916/difference-between-and-in-kotlin", "closed_reason": "Duplicate", "title": "difference between &#39;==&#39; and &#39;===&#39; in kotlin?", "body": "<blockquote>\n  <p>i have also read from this link\n    <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/equality.html</a></p>\n  \n  <p>but i didn't understand can anyone give me example with proper clarification!!</p>\n</blockquote>\n\n<p>i mean if we do:</p>\n\n<pre><code>val str1 = \"Hello, World!\"\nval str2 = \"Hello,\" + \" World!\"\nprintln(str1 == str2)//print true\nprintln(str1 === str2)//also print true\n</code></pre>\n\n<p>so whats the difference between them??</p>\n"}, {"tags": ["java", "c#", "kotlin", "discriminated-union"], "comments": [{"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 1, "creation_date": 1522068282, "post_id": 49491593, "comment_id": 85986790, "body": "You are asking about Java, but show no Java code. I feel this isn&#39;t right."}, {"owner": {"reputation": 1888, "user_id": 6463426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c137962545c60312dbb2cab2bb8186?s=128&d=identicon&r=PG&f=1", "display_name": "dumetrulo", "link": "https://stackoverflow.com/users/6463426/dumetrulo"}, "edited": false, "score": 1, "creation_date": 1522069228, "post_id": 49491593, "comment_id": 85987507, "body": "Neither C# nor Java have union types, and any workarounds will be awkward to use at best. For a .NET language that does have union types, please look at F#."}, {"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 1, "creation_date": 1522069575, "post_id": 49491593, "comment_id": 85987776, "body": "Looks perhaps like you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">java.util.Optional</a> from Java 8."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1522070103, "post_id": 49491593, "comment_id": 85988123, "body": "There isn&#39;t anything exactly equivalent - but why do you need a Java solution, when you already have one in Kotlin, which has perfectly working interop?"}, {"owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "reply_to_user": {"reputation": 1888, "user_id": 6463426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c137962545c60312dbb2cab2bb8186?s=128&d=identicon&r=PG&f=1", "display_name": "dumetrulo", "link": "https://stackoverflow.com/users/6463426/dumetrulo"}, "edited": false, "score": 0, "creation_date": 1522070190, "post_id": 49491593, "comment_id": 85988188, "body": "@dumetrulo, you can easily simulate union types in C# without much typing, not as cleanly as in F# but perfectly usable, you can also do pattern-match generic types which is rather difficult in Java due to generic types erasure. The question how to achieve the same in Java."}, {"owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1522070665, "post_id": 49491593, "comment_id": 85988542, "body": "@Moira, you are right, unfortunately Java is the only approved JVM technology at my worklplace."}, {"owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 1, "creation_date": 1522072573, "post_id": 49491593, "comment_id": 85989880, "body": "@OldCurmudgeon, I seems like the java.util.Optional should do the job in case of the Option/Maybe type. Thanks for the suggestion."}, {"owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "edited": false, "score": 0, "creation_date": 1522072729, "post_id": 49491593, "comment_id": 85989989, "body": "Thanks All, I guess I&#39;ll need to start my Java learning excersise with something more down-to-the-earth."}], "answers": [{"tags": [], "owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "is_accepted": false, "score": 11, "last_activity_date": 1530233171, "last_edit_date": 1530233171, "creation_date": 1530232169, "answer_id": 51092768, "question_id": 49491593, "link": "https://stackoverflow.com/questions/49491593/union-types-in-java/51092768#51092768", "title": "Union types in Java", "body": "<p>in the specific case you mentioned, the following would work:</p>\n\n<ul>\n<li>(as @oldcurmudgeon mentioned) <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\"><code>java.util.Optional</code></a> it also has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"noreferrer\">a <code>map</code> function</a>.</li>\n<li>there's also the guava library, that has <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html\" rel=\"noreferrer\"><code>com.google.common.base.Optional</code></a>, in case you want it for java version 7 and below. the equivalent of <code>map</code> here would be <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html#transform(com.google.common.base.Function)\" rel=\"noreferrer\">the <code>transform</code> function</a>.</li>\n</ul>\n\n<p>Java doesn't have pattern matching. The closest you can get to pattern matching in Java is with <a href=\"https://refactoring.guru/design-patterns/visitor\" rel=\"noreferrer\">the visitor pattern</a>.</p>\n\n<p>usage:</p>\n\n<pre><code>UnionType unionType = new TypeA();\n\nInteger count = unionType.when(new UnionType.Cases&lt;Integer&gt;() {\n    @Override\n    public Integer is(TypeA typeA) {\n        // TypeA-specific handling code\n    }\n\n    @Override\n    public Integer is(TypeB typeB) {\n        // TypeB-specific handling code\n    }\n});\n</code></pre>\n\n<p>boilerplate code:</p>\n\n<pre><code>interface UnionType {\n    &lt;R&gt; R when(Cases&lt;R&gt; c);\n\n    interface Cases&lt;R&gt; {\n        R is(TypeA typeA);\n\n        R is(TypeB typeB);\n    }\n}\n\nclass TypeA implements UnionType {\n\n    // ... TypeA-specific code ...\n\n    @Override\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\n        return cases.is(this);\n    }\n}\n\nclass TypeB implements UnionType {\n\n    // ... TypeB-specific code ...\n\n    @Override\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\n        return cases.is(this);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13187, "favorite_count": 2, "answer_count": 1, "score": 14, "last_activity_date": 1530233171, "creation_date": 1522067577, "question_id": 49491593, "link": "https://stackoverflow.com/questions/49491593/union-types-in-java", "title": "Union types in Java", "body": "<p>I've been working with C# for a while and trying to get more familiar with Java. So I'm trying to migrate some of the basic patterns I use on daily basis in C# even only to understand the gap between JVM and dotnet and figure out how to deal with them. Here is the first problem I encountered - an option type - somethiong which is quite easy to achieve in many languages i.e. Koltlin: </p>\n\n<pre><code>sealed class Option&lt;out T : Any&gt; {\n    object None : Option&lt;Nothing&gt;()\n    data class Some&lt;out T : Any&gt;(val value: T) : Option&lt;T&gt;()}\n</code></pre>\n\n<p>so I can easily create a map functor:</p>\n\n<pre><code>fun &lt;T : Any, B : Any&gt; Option&lt;T&gt;.map(f: (T) -&gt; B): Option&lt;B&gt; =\n    when (this) {\n        is Option.None -&gt; Option.None\n        is Option.Some -&gt; Option.Some(f(this.value))} \n</code></pre>\n\n<p>Is this something I can achieve in Java? Im not concerned about the lack of extentions methods, I can leave without that, but how to perform the actual type matching without having to rely on an unchecked cast? At least thats what IntelliJ is complaining about...</p>\n"}, {"tags": ["kotlin", "intellij-plugin"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 0, "creation_date": 1522064144, "post_id": 49490129, "comment_id": 85983920, "body": "Yes indeed, exactly what I was looking for. Is there a way the community can write documentation? I will be happy to add the knowledge I gather to support site."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 0, "creation_date": 1522065108, "post_id": 49490129, "comment_id": 85984556, "body": "You&#39;re welcome to submit pull requests to <a href=\"https://github.com/JetBrains/kotlin/\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin</a> and <a href=\"https://github.com/JetBrains/intellij-sdk-docs/\" rel=\"nofollow noreferrer\">github.com/JetBrains/intellij-sdk-docs</a>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1522062871, "creation_date": 1522062871, "answer_id": 49490129, "question_id": 49489974, "link": "https://stackoverflow.com/questions/49489974/intellij-idea-plugin-create-kotlin-psi-visitor/49490129#49490129", "title": "Intellij Idea Plugin, Create Kotlin PSI Visitor", "body": "<p><code>KtVisitorVoid</code> is a non-recursive visitor class. If you want to visit the entire tree, you need to use <code>KtTreeVisitorVoid</code> as the base class for your visitor.</p>\n"}], "owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 1, "accepted_answer_id": 49490129, "answer_count": 1, "score": 2, "last_activity_date": 1522062871, "creation_date": 1522062378, "question_id": 49489974, "link": "https://stackoverflow.com/questions/49489974/intellij-idea-plugin-create-kotlin-psi-visitor", "title": "Intellij Idea Plugin, Create Kotlin PSI Visitor", "body": "<p>I'm creating a visitor for parsing all methods/properties inside of a <code>KtFile</code>. The problem is that, I'm hitting in debugger just one <em>@override</em> method which is <code>visitKtFile</code>, although I have put some other brake-points in another methods as well, please find attached the code for visitor.</p>\n\n<pre><code>public class TestVisitor extends KtVisitorVoid {\n\n@Override\npublic void visitProperty(@NotNull KtProperty property) {\n    super.visitProperty(property);\n}\n\n@Override\npublic void visitClass(@NotNull KtClass klass) {\n    super.visitClass(klass);\n}\n\n@Override\npublic void visitNamedFunction(@NotNull KtNamedFunction function) {\n    super.visitNamedFunction(function);\n}\n\n@Override\npublic void visitKtElement(@NotNull KtElement element) {\n    super.visitKtElement(element);\n}\n\n@Override\npublic void visitKtFile(@NotNull KtFile file) {\n    super.visitKtFile(file);\n}\n\n@Override\npublic void visitDeclaration(@NotNull KtDeclaration dcl) {\n    super.visitDeclaration(dcl);\n}\n}\n</code></pre>\n\n<p>Here is the code for Action, </p>\n\n<pre><code>public class HelloAction extends AnAction {\npublic HelloAction() {\n    super(\"Hello\");\n}\n\npublic void actionPerformed(AnActionEvent event) {\n    PsiFile psiFile = event.getData(PlatformDataKeys.PSI_FILE);\n    TestVisitor visitor = new TestVisitor();\n    psiFile.accept(visitor);\n}\n}\n</code></pre>\n\n<p>And here is the code of test class I'm trying to parse. By the structure I have I was expecting to hit the method <code>visitProperty</code> 2 times. Which is not happening at all now.</p>\n\n<pre><code>class TestC {\nvar s = true\nval t = 1\n\nfun testLog(): String {\n    var test = \"\"\n    test = \"Alex\"\n    return test\n}\n}\n</code></pre>\n\n<p>Appreciate any help in creating a plugin for this amazing platform Intellij Idea. Thank you.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 111, "user_id": 4297023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb723c4fa7e6eb3e38ed64d72930e564?s=128&d=identicon&r=PG&f=1", "display_name": "Amirhossein Akhoondzadeh", "link": "https://stackoverflow.com/users/4297023/amirhossein-akhoondzadeh"}, "edited": false, "score": 0, "creation_date": 1522058150, "post_id": 49488308, "comment_id": 85979901, "body": "refer to this answer: <a href=\"https://stackoverflow.com/a/34005063/4297023\">the link describes how to create || in kotlin using with expression</a> Good luck."}, {"owner": {"reputation": 111, "user_id": 4297023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb723c4fa7e6eb3e38ed64d72930e564?s=128&d=identicon&r=PG&f=1", "display_name": "Amirhossein Akhoondzadeh", "link": "https://stackoverflow.com/users/4297023/amirhossein-akhoondzadeh"}, "edited": false, "score": 0, "creation_date": 1522058242, "post_id": 49488308, "comment_id": 85979959, "body": "refer to the link below: <a href=\"https://stackoverflow.com/a/34005063/4297023\">stackoverflow.com/a/34005063/4297023</a> Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 2488539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nVDnW.jpg?s=128&g=1", "display_name": "Saikumar", "link": "https://stackoverflow.com/users/2488539/saikumar"}, "edited": false, "score": 0, "creation_date": 1522057807, "post_id": 49488396, "comment_id": 85979666, "body": "Still i am getting error only...private var notifyDetails: Notification? = null; notifyDetails = notifyDetails or Notification.FLAG_AUTO_CANCEL                 inapp_btn.addFlags(notifyDetails)"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 715, "user_id": 2488539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nVDnW.jpg?s=128&g=1", "display_name": "Saikumar", "link": "https://stackoverflow.com/users/2488539/saikumar"}, "edited": false, "score": 1, "creation_date": 1522058065, "post_id": 49488396, "comment_id": 85979850, "body": "Please show a larger snippet of your code. You need to fix the nullability, but I can&#39;t show you how to do this correctly based on this single line."}, {"owner": {"reputation": 715, "user_id": 2488539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nVDnW.jpg?s=128&g=1", "display_name": "Saikumar", "link": "https://stackoverflow.com/users/2488539/saikumar"}, "edited": false, "score": 0, "creation_date": 1522058533, "post_id": 49488396, "comment_id": 85980152, "body": "Screen added above"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1522057407, "creation_date": 1522057407, "answer_id": 49488396, "question_id": 49488308, "link": "https://stackoverflow.com/questions/49488308/convert-java-assignment-expression-to-kotlin/49488396#49488396", "title": "Convert Java assignment expression to Kotlin", "body": "<p>Kotlin doesn't allow you to use assignments such as <code>|=</code> as part of an expression. You need to split this into two expressions:</p>\n\n<pre><code>notifyDetailsFlags = notifyDetailsFlags or Notification.FLAG_AUTO_CANCEL\n\n// the beginning of the call\n.addFlags(notifyDetailsFlags)\n</code></pre>\n"}], "owner": {"reputation": 715, "user_id": 2488539, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nVDnW.jpg?s=128&g=1", "display_name": "Saikumar", "link": "https://stackoverflow.com/users/2488539/saikumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 49488396, "answer_count": 1, "score": 0, "last_activity_date": 1522061577, "creation_date": 1522057148, "last_edit_date": 1522061577, "question_id": 49488308, "link": "https://stackoverflow.com/questions/49488308/convert-java-assignment-expression-to-kotlin", "title": "Convert Java assignment expression to Kotlin", "body": "<p><a href=\"https://i.stack.imgur.com/fTsbi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTsbi.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Recently I converted the Java code into the Kotlin like pushnotification. After the conversion its shown some error and indicate to manually correct those issues.</p>\n\n<p>In Java:</p>\n\n<pre><code>.addFlags(notifyDetails.flags |= Notification.FLAG_AUTO_CANCEL); \n</code></pre>\n\n<p>After the conversion it's shown like</p>\n\n<pre><code>.addFlags(notifyDetails!!.flags notifyDetails!!.flags or Notification.FLAG_AUTO_CANCEL)\n</code></pre>\n\n<p>Also, it's indicating an error. How do I fix this?</p>\n"}, {"tags": ["gradle", "kotlin", "spring-boot-gradle-plugin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522055570, "post_id": 49487660, "comment_id": 85978274, "body": "Please show how your <code>Application.kt</code> file looks like?"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522055993, "post_id": 49487660, "comment_id": 85978508, "body": "Are you sure the <code>package</code> is specified correctly in the <code>Application.kt</code> ?"}, {"owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522056629, "post_id": 49487660, "comment_id": 85978914, "body": "package app.main  import org.springframework.boot.SpringApplication import org.springframework.boot.autoconfigure.SpringBootApplication import org.springframework.context.annotation.ComponentScan import org.springframework.context.annotation.ImportResource  @SpringBootApplication @ImportResource(&quot;classpath*:camel-context.xml&quot;) @ComponentScan(&quot;app&quot;) class Application  fun main(args:Array&lt;String&gt;){     SpringApplication.run(Application::class.java, *args) }"}, {"owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522056746, "post_id": 49487660, "comment_id": 85978987, "body": "@miensol yes this is what my Application.kt file looks like"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522057970, "post_id": 49487660, "comment_id": 85979791, "body": "What is the command you use to run the jar?"}, {"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "edited": false, "score": 0, "creation_date": 1522058435, "post_id": 49487660, "comment_id": 85980093, "body": "have you used <code>java -jar youJarFile.jar</code> ?"}, {"owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "edited": false, "score": 0, "creation_date": 1522059238, "post_id": 49487660, "comment_id": 85980602, "body": "java -jar myapp.jar"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1522077568, "post_id": 49487660, "comment_id": 85993743, "body": "If possible upload the jar file so we can inspect it."}], "answers": [{"tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": false, "score": 0, "last_activity_date": 1522074291, "creation_date": 1522074291, "answer_id": 49493798, "question_id": 49487660, "link": "https://stackoverflow.com/questions/49487660/kotlin-gradle-build-is-not-running/49493798#49493798", "title": "Kotlin Gradle build is not running", "body": "<p>In <code>Application.kt</code>, you do not have a <code>package</code> declaration. From the <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>All the contents (such as classes and functions) of the source file are contained by the package declared. So, in the example above, the full name of <code>baz()</code> is <code>foo.bar.baz</code>, and the full name of <code>Goo</code> is <code>foo.bar.Goo</code>.</p>\n  \n  <p>If the package is not specified, the contents of such a file belong to \"default\" package that has no name.</p>\n</blockquote>\n\n<p>You can look into the <code>build/classes</code> directory to inspect what packages the classes were compiled into.</p>\n\n<p>To fix this issue, add <code>package app.main</code> to the top of the <code>Application.kt</code> file.</p>\n"}], "owner": {"reputation": 885, "user_id": 3156383, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/7445148ad2e57bfa63d86232e9c02293?s=128&d=identicon&r=PG&f=1", "display_name": "dks551", "link": "https://stackoverflow.com/users/3156383/dks551"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 826, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522074291, "creation_date": 1522055047, "last_edit_date": 1522074049, "question_id": 49487660, "link": "https://stackoverflow.com/questions/49487660/kotlin-gradle-build-is-not-running", "title": "Kotlin Gradle build is not running", "body": "<p>I have a Spring Boot application backed with Kotlin as the language, and Gradle as the build system. So basically I'm trying to build a fat jar out of the application source and dependencies, which can be run using Java command line tool.</p>\n\n<p>Gradle build script:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: \"kotlin-spring\"\napply plugin: 'org.springframework.boot'\n\n\ngroup 'myapp'\nversion '1.0'\n\nbuildscript {\n    ext.kotlin_version = '1.2.21' // Required for Kotlin integration\n    ext.spring_boot_version = '1.5.4.RELEASE'\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Required for Kotlin integration\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\" // See https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-spring-compiler-plugin\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version\"\n    }\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin/'\n    test.java.srcDirs += 'src/test/kotlin/'\n}\n\n\njar {\n    zip64 true\n    manifest {\n        attributes 'Main-Class': 'app.main.ApplicationKt'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    compile group: 'com.typesafe', name: 'config', version: '1.3.2'\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    compile group: 'org.apache.camel', name: 'camel-spring-boot-starter', version: '2.20.2'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-redis', version: '2.0.0.RELEASE'\n\n    compile group: 'org.apache.camel', name: 'camel-quartz2', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-http4', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-docker', version: '2.20.2'\n    compile group: 'org.apache.camel', name: 'camel-aws', version: '2.20.2'\n\n    compile group: 'com.jayway.jsonpath', name: 'json-path', version: '2.4.0'\n    compile group: 'redis.clients', name: 'jedis', version: '2.9.0'\n    compile group: 'joda-time', name: 'joda-time', version: '2.9.9'\n    compile group: 'net.gpedro.integrations.slack', name: 'slack-webhook', version: '1.4.0'\n    compile group: 'org.json', name: 'json', version: '20180130'\n    compile group: 'org.jfree', name: 'jfreechart', version: '1.5.0'\n\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>If I run the project using gradle command then it runs fine. But when I build the jar and try ti run it complains with the below error:-</p>\n\n<pre><code>Error: Could not find or load main class app.main.ApplicationKt\n</code></pre>\n\n<p>Application.kt:-</p>\n\n<pre><code>@SpringBootApplication\n@ImportResource(\"classpath*:camel-context.xml\")\n@ComponentScan(\"app\")\nclass Application\n\nfun main(args:Array&lt;String&gt;){\n    SpringApplication.run(Application::class.java, *args)\n}\n</code></pre>\n\n<p>Not sure where exactly I'm doing anything wrong.</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "facebook-sdk-4.0"], "comments": [{"owner": {"reputation": 1188, "user_id": 5154891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u29JD.png?s=128&g=1", "display_name": "Thomas Mary", "link": "https://stackoverflow.com/users/5154891/thomas-mary"}, "edited": false, "score": 1, "creation_date": 1522053830, "post_id": 49487271, "comment_id": 85977113, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48988489/gradle-error-duplicate-value-for-resource-attr-font-with-config-solutions\">Gradle Error : Duplicate value for resource &#39;attr/font&#39; with config &quot; solutions not working</a>"}, {"owner": {"reputation": 4987, "user_id": 8089770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCnvg.jpg?s=128&g=1", "display_name": "Vishva Dave", "link": "https://stackoverflow.com/users/8089770/vishva-dave"}, "edited": false, "score": 0, "creation_date": 1522053847, "post_id": 49487271, "comment_id": 85977128, "body": "<a href=\"https://stackoverflow.com/a/47753465/8089770\">stackoverflow.com/a/47753465/8089770</a>"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1522054821, "post_id": 49487271, "comment_id": 85977752, "body": "I already tried their solution, not working for me"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522161692, "creation_date": 1522053727, "last_edit_date": 1522161692, "question_id": 49487271, "link": "https://stackoverflow.com/questions/49487271/facebook-sdk-conflict-compatibility-error-duplicate-value-for-resource-att", "title": "Facebook sdk conflict, compatibility error ? - Duplicate value for resource &#39;attr/font&#39; with config &quot;", "body": "<p>I am trying to use facebook login API, but when I write the \"implementation\" in gradle file, I get an error :</p>\n\n<pre><code>Error:(252, 5) error: duplicate value for resource 'attr/font' with config ''.\nError:(252, 5) error: resource previously defined here.\n</code></pre>\n\n<p>When I click on \"Jump to source\", Android Studio brings me in a file \"values.xml\", a non-writable file, that looks like this :</p>\n\n<pre><code>// More stuff above, the following line is where the error brings me\n&lt;dimen name=\"abc_action_bar_content_inset_material\"&gt;16dp&lt;/dimen&gt;\n&lt;dimen name=\"abc_action_bar_content_inset_with_nav\"&gt;72dp&lt;/dimen&gt;\n&lt;dimen name=\"abc_action_bar_default_height_material\"&gt;56dp&lt;/dimen&gt;\n&lt;dimen name=\"abc_action_bar_default_padding_end_material\"&gt;0dp&lt;/dimen&gt;\n&lt;dimen name=\"abc_action_bar_default_padding_start_material\"&gt;0dp&lt;/dimen&gt;\n// More stuff\n</code></pre>\n\n<p>Here is my 'app' build.gradle :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>apply plugin: 'com.android.application'\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-kapt'\r\n\r\nandroid {\r\n    compileSdkVersion 27\r\n    buildToolsVersion '26.0.2'\r\n    defaultConfig {\r\n        applicationId \"com.discodery.android.discoderyapp\"\r\n        minSdkVersion 16\r\n        targetSdkVersion 27\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\r\n        vectorDrawables.useSupportLibrary = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\r\n        }\r\n        buildTypes.each {\r\n            it.buildConfigField 'Integer', 'RESTAURANT_ID', '2'\r\n        }\r\n    }\r\n    /*\r\n    productFlavors {\r\n        dev {\r\n\r\n        }\r\n        prod {\r\n\r\n        }\r\n    }*/\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n}\r\n\r\nkapt {\r\n    generateStubs = true\r\n\r\n}\r\n\r\ndependencies {\r\n    compile fileTree(dir: 'libs', include: ['*.jar'])\r\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\r\n        exclude group: 'com.android.support', module: 'support-annotations'\r\n    })\r\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\r\n    compile 'com.mikhaellopez:circularimageview:3.0.2'\r\n    compile 'de.hdodenhof:circleimageview:2.2.0'\r\n\r\n    //Permissions\r\n\r\n    compile 'com.beust:klaxon:2.0.11'\r\n    compile 'com.android.support:appcompat-v7:25.3.1'\r\n    compile 'com.android.support:appcompat-v7:25.3.1'\r\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\r\n    compile 'io.reactivex:rxandroid:1.2.1'\r\n    compile 'io.reactivex:rxjava:1.1.6'\r\n    compile 'com.hwangjr.rxbus:rxbus:1.0.5'\r\n    compile 'org.parceler:parceler-api:1.1.6'\r\n    compile 'com.squareup.retrofit2:retrofit:2.1.0'\r\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\r\n    compile 'com.squareup.retrofit2:adapter-rxjava:2.1.0'\r\n    compile 'com.squareup.okhttp3:okhttp:3.4.1'\r\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\r\n    compile 'com.squareup.okhttp3:okhttp-urlconnection:3.4.1'\r\n    compile 'com.android.support:design:25.3.1'\r\n    compile 'com.android.support:support-v4:25.3.1'\r\n    compile 'com.android.support:cardview-v7:25.3.1'\r\n    compile 'com.android.support:recyclerview-v7:25.3.1'\r\n    compile 'com.google.dagger:dagger:2.7'\r\n    compile 'com.facebook.fresco:fresco:1.0.0'\r\n    compile 'com.squareup.picasso:picasso:2.5.2'\r\n    compile 'com.nineoldandroids:library:2.4.0'\r\n    compile 'com.daimajia.slider:library:1.1.5@aar'\r\n    compile 'com.karumi:dexter:2.3.1'\r\n    testCompile 'junit:junit:4.12'\r\n    kapt 'com.android.databinding:compiler:2.3.0'\r\n    kapt 'org.parceler:parceler:1.1.6'\r\n    kapt 'com.google.dagger:dagger-compiler:2.7'\r\n\r\n    compile 'com.google.android.gms:play-services-vision:11.6.0'\r\n\r\n    // Facebook SDK Core only (Analytics)\r\n    implementation 'com.facebook.android:facebook-core:4.+'\r\n    // Facebook Login only\r\n    implementation 'com.facebook.android:facebook-login:4.+'\r\n    // Facebook Share only\r\n    implementation 'com.facebook.android:facebook-share:4.+'\r\n    // Facebook Places only\r\n    implementation 'com.facebook.android:facebook-places:4.+'\r\n    // Facbeook Messenger only\r\n    implementation 'com.facebook.android:facebook-messenger:4.+'\r\n    // Facebook App Links only\r\n    implementation 'com.facebook.android:facebook-applinks:4.+'\r\n    // Facebook Android SDK (everything)\r\n    implementation 'com.facebook.android:facebook-android-sdk:4.+'\r\n    // Audience Network SDK. Only versions 4.6.0 and above are available\r\n    implementation 'com.facebook.android:audience-network-sdk:4.+'\r\n    // Account Kit\r\n    implementation 'com.facebook.android:account-kit-sdk:4.+'\r\n}\r\nrepositories {\r\n    jcenter()\r\n    mavenCentral()\r\n}\r\n\r\napply plugin: 'kotlin-android-extensions'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Does someone have an idea about wich \"implementation\" or \"compile\" line it could be from ?\nWithout the facebook sdk implementation lines, the project does compile and works properly.</p>\n\n<p>As the logs tell me \"duplicate value\", i think that facebook sdks create some values like strings, that have exactly the same id or name that an other sdk.</p>\n\n<p>Does anyone have a solution for this ?</p>\n\n<p>EDIT</p>\n\n<p>The question concern the compatibility errors with facebook sdk.\nIs there a way to see if a dependency is or is not compatible with another one ?</p>\n"}, {"tags": ["kotlin", "variadic-functions", "overloading"], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1522053028, "post_id": 49486997, "comment_id": 85976705, "body": "Why does that call the &quot;correct&quot; overload to be called?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1522053704, "post_id": 49486997, "comment_id": 85977023, "body": "I&#39;ve added explanation to my answer."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1522053698, "last_edit_date": 1522053698, "creation_date": 1522052715, "answer_id": 49486997, "question_id": 49486877, "link": "https://stackoverflow.com/questions/49486877/kotlin-function-overloading-varargs-vs-single-parameter/49486997#49486997", "title": "Kotlin function overloading (varargs vs single parameter)", "body": "<p>You can do the same thing as in Java with a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function reference</a>, which would look like this:</p>\n\n<pre><code>fun isBlank(vararg strings: String) : Boolean {\n    return strings.isEmpty() || strings.any(::isBlank)\n}\n</code></pre>\n\n<p>This works because <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/any.html\" rel=\"nofollow noreferrer\"><code>any</code></a> expects a parameter of type <code>(T) -&gt; Boolean</code>, <code>T</code> in this case being <code>String</code>. Only the non-<code>vararg</code> function has this type, the <code>vararg</code> function's type is actually <code>(Array&lt;out String&gt;) -&gt; Boolean</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1522053697, "last_edit_date": 1522053697, "creation_date": 1522053339, "answer_id": 49487157, "question_id": 49486877, "link": "https://stackoverflow.com/questions/49486877/kotlin-function-overloading-varargs-vs-single-parameter/49487157#49487157", "title": "Kotlin function overloading (varargs vs single parameter)", "body": "<p>There's a little problem, I guess: The <code>vararg</code> function can not be called with <code>null</code> currently, you only accept <code>String</code>. Checking for <code>null</code> doesn't make sense anyway. You would have to change the parameter <code>strings</code> to type <code>vararg strings: String?</code>. Another solution is casting to <code>String?</code> inside <code>any</code>:</p>\n\n<pre><code>fun isBlank(vararg strings: String): Boolean {\n    return strings.isEmpty() ||\n            strings.any { isBlank(it as String?) }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "is_accepted": false, "score": 0, "last_activity_date": 1522054014, "creation_date": 1522054014, "answer_id": 49487354, "question_id": 49486877, "link": "https://stackoverflow.com/questions/49486877/kotlin-function-overloading-varargs-vs-single-parameter/49487354#49487354", "title": "Kotlin function overloading (varargs vs single parameter)", "body": "<p>The second function calls itself because the type of <strong><code>it</code></strong> (in <code>strings.any { isBlank(it) }</code>) is <code>String</code>, which is the type this second function accepts. The compiler chooses this function because, though the first one also accepts <code>String</code>, it receives <code>String?</code>.</p>\n\n<p>Anyway, you could have just this function:</p>\n\n<pre><code>fun isBlank(vararg strings: String?)\n        = strings.any { it == null || it.isEmpty() || it.isBlank() }\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 5955376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1634355886825243/picture?type=large", "display_name": "nllsdfx", "link": "https://stackoverflow.com/users/5955376/nllsdfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 49486997, "answer_count": 3, "score": 1, "last_activity_date": 1522054014, "creation_date": 1522052245, "question_id": 49486877, "link": "https://stackoverflow.com/questions/49486877/kotlin-function-overloading-varargs-vs-single-parameter", "title": "Kotlin function overloading (varargs vs single parameter)", "body": "<p>I have two functions check if String/Strings are blank.</p>\n\n<pre><code>fun isBlank(s: String?) : Boolean {\n            return s.isNullOrBlank()\n        }\n\nfun isBlank(vararg strings: String) : Boolean {\n            return strings.isEmpty() ||\n                    strings.any { isBlank(it) }\n        }\n</code></pre>\n\n<p>So I try to call first function from the second one but seems it tries to call itself. For instance it works nice in java:</p>\n\n<pre><code>public static boolean isBlank(final String string) {\n        return string == null || string.trim().isEmpty();\n}\n\npublic static boolean isBlank(final String... strings) {\n        return strings.length == 0\n                || Arrays.stream(strings).anyMatch(StringUtil::isBlank);\n}\n</code></pre>\n\n<p>How to handle such a situation in kotlin?</p>\n"}]