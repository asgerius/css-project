[{"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509037231, "post_id": 46943433, "comment_id": 80867207, "body": "inf1.plus_button.setOnClickListener {                                   inf1.hash.text=&quot;1&quot;                                  } Will above one work for you ?"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509037278, "post_id": 46943433, "comment_id": 80867240, "body": "ok what does that exactly do?"}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509037337, "post_id": 46943433, "comment_id": 80867270, "body": "on plus_button click it will set textview with id &quot;hash&quot; with test &quot;1&quot;"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509037405, "post_id": 46943433, "comment_id": 80867310, "body": "yes but both areas will have the same ID because they are being generated from the loop inflator. I&#39;m working around things by using tags...which I will document here when I&#39;m done with the way of doing it."}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509037522, "post_id": 46943433, "comment_id": 80867372, "body": "Even if it having same id, both will be in different view since you are inflating view programmatically"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508973294, "creation_date": 1508973294, "question_id": 46943433, "link": "https://stackoverflow.com/questions/46943433/after-adding-layouts-programmatically-how-can-i-change-the-text-view-by-butt", "title": "After adding Layouts programmatically how can I change the &quot;#&quot; text view by button click", "body": "<p><strong>The goal is to increment and decrement the # symbol on button click</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/LbUzB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LbUzB.png\" alt=\"Two layouts in scroll view programmatically added\"></a></p>\n\n<p>So the above picture is the inner of a scroll view. I add the layouts to the scrollview with the following code. What I can't seem t</p>\n\n<pre><code> if(json.string(\"status\")==\"Success\"){\n\n                            var ticketAr:JsonArray&lt;JsonObject&gt;? = json.array(\"info\")\n\n\n                            for(i in ticketAr?.indices!!){\n                                Log.d(\"indicies\",i.toString())\n                                val inf1 = LayoutInflater.from(context).inflate(R.layout.ticket_individual,null,false)\n                                inf1.setId(parseInt(ticketAr[i].string(\"ntb_id\")))\n                                inf1.tck_cat_title.text = ticketAr[i].string(\"age_group_desc\")\n                                inf1.tck_cost.text = \"$\"+ticketAr[i].string(\"amount\")\n                                inf1.plus_button.setOnClickListener {\n                                    Log.d(\"plusplus\",parent.parent.toString())\n\n                                }\n                                inf1.minus_button.setOnClickListener {\n                                    Log.d(\"minusminus\",parent.toString())\n\n                                }\n                                ticket_holder.addView(inf1)\n                            }\n                            getData(\"available\",event)\n                        }\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 3, "creation_date": 1515361655, "post_id": 46943128, "comment_id": 83261622, "body": "Never post <b>pictures of code</b> when you can just post the text!"}], "owner": {"reputation": 5412, "user_id": 876603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YpsjN.jpg?s=128&g=1", "display_name": "dors", "link": "https://stackoverflow.com/users/876603/dors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2651, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515361620, "creation_date": 1508971364, "last_edit_date": 1515361620, "question_id": 46943128, "link": "https://stackoverflow.com/questions/46943128/failing-to-run-unit-tests-on-a-new-android-kotlin-project", "title": "Failing to run unit tests on a new Android Kotlin project", "body": "<p>I'm failing to run unit tests on Android Kotlin projects.</p>\n\n<p>I'm using Android Studio 3.</p>\n\n<p>To make sure I did not break anything, I created a brand new Android Kotlin app and did not change a thing.</p>\n\n<p>Trying to run the test in the ExampleUnitTest.kt (comes with new projects) shows the following log:</p>\n\n<blockquote>\n  <p>Error:Gradle: A problem occurred configuring root project 'TestProject'.\n  Could not resolve all files for configuration ':classpath'.\n  Could not resolve com.android.tools.build:gradle:3.0.0.\n       Required by:\n           project :\n  No cached version of com.android.tools.build:gradle:3.0.0 available for offline mode.\n  No cached version of com.android.tools.build:gradle:3.0.0 available for offline mode.\n  Could not resolve org.jetbrains:annotations:13.0.\n       Required by:\n           project : > org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.51 > org.jetbrains.kotlin:kotlin-stdlib:1.1.51\n  No cached version of org.jetbrains:annotations:13.0 available for offline mode.\n  No cached version of org.jetbrains:annotations:13.0 available for offline mode.</p>\n</blockquote>\n\n<p>This is my build.gradle file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/M4XQ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4XQ0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am able to run the application. I tried cleaning the project, rebuilding and all that jazz, and nothing seems to work.</p>\n\n<p>Can anyone help?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Going to \"Preferences\" -> \"Build, Execution, Deployment\" -> \"Compiler\", and removing --offline from \"Command-line Options\" works, however, I do want to use the --offline option</p>\n"}, {"tags": ["javascript", "java", "android", "react-native", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 1853938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f2b715ea3b71385f665bfc3f9aeb787?s=128&d=identicon&r=PG", "display_name": "diegoperini", "link": "https://stackoverflow.com/users/1853938/diegoperini"}, "is_accepted": true, "score": 0, "last_activity_date": 1508964583, "last_edit_date": 1508964583, "creation_date": 1508963701, "answer_id": 46941602, "question_id": 46941601, "link": "https://stackoverflow.com/questions/46941601/how-to-inject-non-static-on-demand-nativemodules-into-react-native-android/46941602#46941602", "title": "How to inject non static, on demand NativeModules into React Native Android?", "body": "<p>This problem kept me awake for days. Finally, I have a solution. I hope it helps someone in the future. The solution is in Kotlin but it is quite straightforward to translate it into Java. <code>someVariable!!</code> is a \"not null\" assertion, uppercase <code>SomeObject()</code> calls are instance creation, <code>SomeType:SomeOtherType</code> is inheritence or implementation, <code>val someVar:SomeType</code> is a variable declaration. The rest is the same.</p>\n\n<p>Steps:</p>\n\n<p><strong>1)</strong> Run the below code at the time you want to inject a module to your RN runtime. Inside of <code>Activity.onCreate()</code> or <code>Fragment.onCreateView()</code> are some good candidates. <code>mReactInstanceManager</code> is your singleton, global react runtime. <code>packageToInject</code> definition will be given later.</p>\n\n<pre><code>synchronized(mReactInstanceManager!!.currentReactContext!!) {\n    val nativeModuleRegistryBuilder = NativeModuleRegistryBuilder(\n        mReactInstanceManager!!.currentReactContext as ReactApplicationContext?, \n        mReactInstanceManager!!, \n        false\n    )\n\n    nativeModuleRegistryBuilder.processPackage(packageToInject)\n    mReactInstanceManager!!.currentReactContext!!.catalystInstance!!.extendNativeModules(nativeModuleRegistryBuilder.build())\n}\n</code></pre>\n\n<p><strong>2)</strong> Instance held inside <code>packageToInject</code> must be prepared like below to have a unique module with a unique name per <code>Fragment</code>/<code>Activity</code> instance. Make these inner classes of your <code>Fragment</code> or <code>Activity</code>.</p>\n\n<pre><code>class ReactManagerPackage : ReactPackage {\n    override fun createViewManagers(reactContext: ReactApplicationContext): List&lt;ViewManager&lt;*, *&gt;&gt; {\n        return emptyList()\n    }\n\n    override fun createNativeModules(reactContext: ReactApplicationContext): List&lt;NativeModule&gt; {\n        val modules = ArrayList&lt;NativeModule&gt;()\n        modules.add(ReactBridge(reactContext))\n        return modules\n    }\n}\n\nclass ReactBridge(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\n    override fun getName(): String {\n        return myFragmentOrActivity.hashCode().toString()\n    }\n\n    @ReactMethod\n    fun showToast(text: String) {\n        Toast.makeText(text, Toast.LENGTH_SHORT).show()\n    }  \n}\n</code></pre>\n\n<p><strong>3)</strong> Pass the <code>myFragmentOrActivity.hashCode().toString()</code> as a prop when you initiate <code>mReactRootView.startReactApplication()</code> either in your <code>Activity.onCreate()</code> or <code>Fragment.onCreateView()</code> . Put it in the bundle that you give to <code>mReactRootView.startReactApplication()</code> as 3rd argument.</p>\n\n<pre><code>val bundle = Bundle()\nbundle.putString(\"fragmentOrActivityHash\", myFragmentOrActivity.hashCode().toString())\nmReactRootView.startReactApplication(mReactInstanceManager, \"MyRootComponent\", bundle )\n</code></pre>\n\n<p><strong>4)</strong> Use the prop in your component (<code>MyRootComponent</code> in this example) to retrieve your specific bridge. (Javascript)</p>\n\n<pre><code>NativeModules[this.props.fragmentOrActivityHash].showToast(\"It works\")\n</code></pre>\n\n<p>Profit!</p>\n"}], "owner": {"reputation": 1666, "user_id": 1853938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f2b715ea3b71385f665bfc3f9aeb787?s=128&d=identicon&r=PG", "display_name": "diegoperini", "link": "https://stackoverflow.com/users/1853938/diegoperini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 2, "accepted_answer_id": 46941602, "answer_count": 1, "score": 1, "last_activity_date": 1509017003, "creation_date": 1508963701, "last_edit_date": 1509017003, "question_id": 46941601, "link": "https://stackoverflow.com/questions/46941601/how-to-inject-non-static-on-demand-nativemodules-into-react-native-android", "title": "How to inject non static, on demand NativeModules into React Native Android?", "body": "<p>In a hybrid app where multiple <code>Activity</code>/<code>Fragment</code> instances nesting their own <code>ReactRootView</code>s share a single <code>ReactInstanceManager</code> instance, there seems to be no official way to inject a native module per <code>Activity</code>/<code>Fragment</code> instance. By nature, native modules are singleton like javascript modules residing in a <code>.js</code> file. This is not the intended behavior if JS code running inside different instances of the same <code>Fragment</code> wants to access Java/Kotlin side to interact with the local properties of the <code>Fragment</code>.</p>\n\n<p>I tried using <code>registerAdditionalPackages()</code> method of <code>ReactInstanceManager</code> but it fails with an assertion error like below if used simultaneously by multiple <code>Fragment</code>s/<code>Activity</code>s. </p>\n\n<p><code>\"Extending native modules with non-matching application contexts.\"</code></p>\n\n<p>It wasn't a thread safety issue but a design consequence of <code>registerAdditionalPackages()</code> implementation. Is there another way, and if so, how do you access the injected module on the JS side?</p>\n"}, {"tags": ["android", "if-statement", "imageview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508962830, "post_id": 46941269, "comment_id": 80830040, "body": "Exact same issue doing it that way. I may be wrong, but I don&#39;t think it has to do with my check of the string; as you can see in the image, it says the bool is false."}, {"owner": {"reputation": 161, "user_id": 379507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43824985b78db6c1e32d978c697552e6?s=128&d=identicon&r=PG", "display_name": "Enrico Casini", "link": "https://stackoverflow.com/users/379507/enrico-casini"}, "reply_to_user": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508962997, "post_id": 46941269, "comment_id": 80830134, "body": "Adding a log? Log.d(&quot;image&quot;, &quot;Image is: $image&quot;) and check that the image is not null first"}, {"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508963092, "post_id": 46941269, "comment_id": 80830167, "body": "It&#39;s not null. If you look at the bottom right corner of the screenshot, you can see that it&#39;s &quot;&quot;. I&#39;ll do the log, though, and see what it comes out with. <i>EDIT:</i> Confirmed, it&#39;s empty."}, {"owner": {"reputation": 161, "user_id": 379507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43824985b78db6c1e32d978c697552e6?s=128&d=identicon&r=PG", "display_name": "Enrico Casini", "link": "https://stackoverflow.com/users/379507/enrico-casini"}, "reply_to_user": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508964810, "post_id": 46941269, "comment_id": 80831024, "body": "If it&#39;s empty then hasImage will be true. Not sure what you were expecting, I am glad you solved your problem."}, {"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1510603343, "post_id": 46941269, "comment_id": 81496123, "body": "Why would it be true? Unless I&#39;m misunderstanding what <code>.isNotBlank()</code> does... Shouldn&#39;t <code>.isNotBlank()</code> return false for &quot;&quot;?"}, {"owner": {"reputation": 161, "user_id": 379507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43824985b78db6c1e32d978c697552e6?s=128&d=identicon&r=PG", "display_name": "Enrico Casini", "link": "https://stackoverflow.com/users/379507/enrico-casini"}, "reply_to_user": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1510605213, "post_id": 46941269, "comment_id": 81497100, "body": "Sorry just a typo, I meant &quot;will not be true&quot;  From the standard library (Strings.kt)  &quot; * Returns <code>true</code> if this char sequence is not empty and contains some characters except of whitespace characters.&quot;  Which means that <code>&quot;&quot;.isNotBlank()</code> will return <code>false</code>, as expected.  Your first <code>image != null</code> in the example is redundant. My two cents"}], "tags": [], "owner": {"reputation": 161, "user_id": 379507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43824985b78db6c1e32d978c697552e6?s=128&d=identicon&r=PG", "display_name": "Enrico Casini", "link": "https://stackoverflow.com/users/379507/enrico-casini"}, "is_accepted": false, "score": 1, "last_activity_date": 1508969370, "last_edit_date": 1508969370, "creation_date": 1508962335, "answer_id": 46941269, "question_id": 46941091, "link": "https://stackoverflow.com/questions/46941091/kotlin-if-statement-executing-even-when-false/46941269#46941269", "title": "Kotlin if statement executing even when false", "body": "<p>If the image is an empty string (\"\") that Boolean will be evaluated as true and the if branch executed. Change your condition accordingly and/or use this standard library function, for the sake of clarity:</p>\n\n<pre><code>isNullOrBlank()\n</code></pre>\n\n<p>(<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-blank.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-blank.html</a>)</p>\n\n<p>Like this:</p>\n\n<pre><code>if (!image.isNullOrBlank()) {\n    Picasso.with(context).load(image).into(row.image)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508963465, "post_id": 46941521, "comment_id": 80830343, "body": "I just use Shift+F9 to start the app. I&#39;ll try rebuilding. What sort of logs are you wanting to see? (Sorry, this is day 2 of my experience with Android/Kotlin.)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508963507, "post_id": 46941521, "comment_id": 80830357, "body": "Simply add a log of the Boolean and then inside the if for example :)"}, {"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "edited": false, "score": 0, "creation_date": 1508964370, "post_id": 46941521, "comment_id": 80830773, "body": "The rebuild seems to have done the trick! Thanks! I spent way too many hours trying to figure out why on earth it was executing."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1508963367, "creation_date": 1508963367, "answer_id": 46941521, "question_id": 46941091, "link": "https://stackoverflow.com/questions/46941091/kotlin-if-statement-executing-even-when-false/46941521#46941521", "title": "Kotlin if statement executing even when false", "body": "<p>Probably there\u2019s a <strong>compilation</strong> problem. The screenshot shows an impossible scenario. Where do you start the app? Try to rebuild and then debug again. Also try to add some logs.</p>\n\n<p>It\u2019s not due to the way you chose to check the Boolean expression...</p>\n"}], "owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "accepted_answer_id": 46941521, "answer_count": 2, "score": 4, "last_activity_date": 1508969370, "creation_date": 1508961547, "question_id": 46941091, "link": "https://stackoverflow.com/questions/46941091/kotlin-if-statement-executing-even-when-false", "title": "Kotlin if statement executing even when false", "body": "<p>I'm trying to check if a profile has an image URL set and, if so, load it into an <code>ImageView</code>:</p>\n\n<pre><code>val hasImage = image != null &amp;&amp; image.isNotBlank()\n\nif (hasImage) {\n    Picasso.with(context).load(image).into(row.image)\n}\n</code></pre>\n\n<p><code>image</code> is a nullable string. The problem is that even when <code>hasImage</code> is false, it still loads the image, as you can see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j2pnv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j2pnv.jpg\" alt=\"WHYYYYY\"></a></p>\n\n<p>However, if I do <code>val hasImage = false</code> it behaves as expected.</p>\n\n<p>I'm incredibly confused as to what is going on here. Why is the <code>if</code> condition still executing?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines", "spek"], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "is_accepted": true, "score": 3, "last_activity_date": 1509024367, "creation_date": 1509024367, "answer_id": 46955620, "question_id": 46940718, "link": "https://stackoverflow.com/questions/46940718/how-organize-multiple-coroutine-and-expectation-blocks-in-a-kotlin-spek-test/46955620#46955620", "title": "How organize multiple coroutine and expectation blocks in a Kotlin Spek test?", "body": "<p>Spek is basically written using lambdas, so in order for Spek to know about the test tree it has to execute it - that's called the discovery phase. In that phase group scopes (given, describe, context) are executed, in your case <em>runBlocking { print(\"a\") }</em> and <em>runBlocking { print(\"c\") }</em> are invoked. Once the test tree is known, Spek can now proceed to the execution phase. In this phase Spek will execute the lambdas passed to test (it) and action (on) scopes.</p>\n\n<p>As a fix to your problem you should use the action scope <em>on</em> instead of <em>given</em>.</p>\n\n<pre><code>on(\"a test\") {\n    runBlocking { print(\"a\") }\n\n    it(\"block 1\") {\n        runBlocking { print(\"b\") }\n    }\n\n    runBlocking { print(\"c\") }\n\n    it(\"block 2\") {\n        runBlocking { print(\"d\") }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1739, "user_id": 57357, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46b892c9b15be26fec41fe9112410d5f?s=128&d=identicon&r=PG", "display_name": "Dan Tanner", "link": "https://stackoverflow.com/users/57357/dan-tanner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 46955620, "answer_count": 1, "score": 2, "last_activity_date": 1509024367, "creation_date": 1508960014, "question_id": 46940718, "link": "https://stackoverflow.com/questions/46940718/how-organize-multiple-coroutine-and-expectation-blocks-in-a-kotlin-spek-test", "title": "How organize multiple coroutine and expectation blocks in a Kotlin Spek test?", "body": "<p>I wrote a failing Spek test because I made an incorrect assumption about execution order involving multiple coroutines and <code>it</code> functions:  </p>\n\n<pre><code>given(\"a test\") {\n    runBlocking { print(\"a\") }\n\n    it(\"block 1\") {\n        runBlocking { print(\"b\") }\n    }\n\n    runBlocking { print(\"c\") }\n\n    it(\"block 2\") {\n        runBlocking { print(\"d\") }\n    }\n}\n</code></pre>\n\n<p>I expected <code>abcd</code> to be printed, but <code>acbd</code> actually printed.  </p>\n\n<p>How should I write this test so that it both visually reads and executes in the intended order?  </p>\n"}, {"tags": ["kotlin", "super", "method-reference"], "comments": [{"owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "edited": false, "score": 0, "creation_date": 1509388730, "post_id": 46939676, "comment_id": 80991165, "body": "Can you show us how you are trying to do this in Kotlin?"}, {"owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "reply_to_user": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "edited": false, "score": 0, "creation_date": 1509389210, "post_id": 46939676, "comment_id": 80991424, "body": "@BernardoRocha Sure. I added an example to my question."}], "answers": [{"tags": [], "owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "is_accepted": false, "score": 3, "last_activity_date": 1509453787, "last_edit_date": 1509453787, "creation_date": 1508958139, "answer_id": 46940180, "question_id": 46939676, "link": "https://stackoverflow.com/questions/46939676/method-references-to-super-class-method/46940180#46940180", "title": "Method References to Super Class Method", "body": "<p>As the <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">documentation says</a> you use it like in java:</p>\n\n<blockquote>\n  <p>If we need to use a member of a class, or an extension function, it\n  needs to be qualified. e.g. String::toCharArray gives us an extension\n  function for type String: String.() -> CharArray.</p>\n</blockquote>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think you can achieve what you want doing something like this:</p>\n\n<pre><code>open class SuperClass {\n    companion object {\n        fun getMyString(): String {\n            return \"Hello\"\n        }\n    }\n}\n\nclass SubClass : SuperClass() {\n    fun getMyAwesomeString(): String {\n        val reference = SuperClass.Companion\n        return testFunction(reference::getMyString)\n    }\n\n    private fun testFunction(s: KFunction0&lt;String&gt;): String {\n        return s.invoke()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "is_accepted": false, "score": 1, "last_activity_date": 1509023555, "last_edit_date": 1509023555, "creation_date": 1508959776, "answer_id": 46940648, "question_id": 46939676, "link": "https://stackoverflow.com/questions/46939676/method-references-to-super-class-method/46940648#46940648", "title": "Method References to Super Class Method", "body": "<p>According to Bernardo's answer, you might have something like this. It doesn't have remarkable changes.</p>\n\n<pre><code>fun methodInActivity() {\n    runOnUiThread(this::config)\n}\n\nfun config(){\n\n}\n</code></pre>\n\n<p>What is more, in the incoming 1.2 version you can use just </p>\n\n<pre><code>::config\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": false, "score": 1, "last_activity_date": 1509414851, "creation_date": 1509414851, "answer_id": 47026776, "question_id": 46939676, "link": "https://stackoverflow.com/questions/46939676/method-references-to-super-class-method/47026776#47026776", "title": "Method References to Super Class Method", "body": "<p>Don't know if it is possible to get the reference to super class's function, but here is an alternative to what you want to achieve:</p>\n\n<pre><code>override fun getString(): String = testFunction { super.getString() }\n</code></pre>\n"}], "owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12263, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1590177513, "creation_date": 1508956216, "last_edit_date": 1509909686, "question_id": 46939676, "link": "https://stackoverflow.com/questions/46939676/method-references-to-super-class-method", "title": "Method References to Super Class Method", "body": "<p>How to use method references to refer to super class methods?</p>\n\n<p>In Java 8 you can do <code>SubClass.super::method</code>.</p>\n\n<p>What would be the syntax in Kotlin?</p>\n\n<p>Looking forward to your response!</p>\n\n<p><s><strong>Conclusion</strong></p>\n\n<p>Thanks to Bernard Rocha!\nThe syntax is <code>SubClass::method</code>.</p>\n\n<p>But be careful. In my case the subclass was a generic class. Don't forget to declare it as those: </p>\n\n<p><code>MySubMap&lt;K, V&gt;::method</code>.</s></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It still doesn't work in Kotlin.</p>\n\n<p>Hers's an example in Java 8 of a method reference to a super class method:</p>\n\n<pre><code>public abstract class SuperClass {\n    void method() { \n        System.out.println(\"superclass method()\");\n    }\n}\n\npublic class SubClass extends SuperClass {\n    @Override\n    void method() {\n        Runnable superMethodL = () -&gt; super.method();\n        Runnable superMethodMR = SubClass.super::method;\n    }\n}\n</code></pre>\n\n<p>I'm still not able to do the same in Kotlin...</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is an example how I tried to achieve it in Kotlin:</p>\n\n<pre><code>open class Bar {\n    open fun getString(): String = \"Hello\"\n}\n\nclass Foo : Bar() {\n\n    fun testFunction(action: () -&gt; String): String = action()\n\n    override fun getString(): String {\n        //this will throw an StackOverflow error, since it will continuously call 'Foo.getString()'\n        return testFunction(this::getString)\n    }\n}\n</code></pre>\n\n<p>I want to have something like that:</p>\n\n<pre><code>...\n    override fun getString(): String {\n        //this should call 'Bar.getString' only once. No StackOverflow error should happen.\n        return testFunction(super::getString)\n    }\n...\n</code></pre>\n\n<p><strong>Conclusion</strong></p>\n\n<p>It's not possible to do so in Kotlin yet.</p>\n\n<p>I submitted a feature report. It can be found here: <a href=\"https://youtrack.jetbrains.com/issue/KT-21103\" rel=\"nofollow noreferrer\">KT-21103 Method Reference to Super Class Method</a></p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508997714, "post_id": 46938919, "comment_id": 80840791, "body": "Why the hell do you explicitly generate the setter instead of let kotlin generate it for you?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1509002553, "post_id": 46938919, "comment_id": 80843322, "body": "It was the simplest way to maintain Java compatibility and let Java code access the instance as <code>BusbyMoviesMainApplication.getBusbyInstance()</code>. I assumed this was required from the <code>@JvmStatic</code> in the question. Of course if you&#39;re only using Kotlin, you could make the <code>instance</code> property public and get rid of the getter, and then access it as <code>BusbyMoviesMainApplication.instance</code>."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1509002688, "post_id": 46938919, "comment_id": 80843403, "body": "Kotlin will generate the getter anyway. For java interop, you can make it public and add <code>@JvmStatic</code> annotation to get <code>getInstance()</code> method"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1509002831, "post_id": 46938919, "comment_id": 80843494, "body": "You&#39;re right, I was avoiding this because it would also generate a setter, since <code>lateinit</code> properties always have to be <code>var</code> to be assignable. I just realized that this can be solved by <code>private set</code> to it though. I&#39;ll edit the answer in a moment."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1509002916, "last_edit_date": 1509002916, "creation_date": 1508953618, "answer_id": 46938919, "question_id": 46938693, "link": "https://stackoverflow.com/questions/46938693/using-companion-object-to-return-an-instance-of-the-class-in-kotlin/46938919#46938919", "title": "Using companion object to return an instance of the class in Kotlin", "body": "<p>In the Kotlin code, you're calling the constructor of the <code>Application</code> subclass directly instead of letting the framework create it for you. You could instead do what you did in the Java code, and initialize the <code>instance</code> property in the <code>Application</code>'s <code>onCreate</code> method (plus I shortened the getter a bit):</p>\n\n<pre><code>class BusbyMoviesMainApplication : Application() {\n    companion object {\n        private lateinit var instance: BusbyMoviesMainApplication\n\n        @JvmStatic\n        fun getBusbyInstance() = instance\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Based on the discussion in the comments below, this would perhaps be a more idiomatic solution for the getter:</p>\n\n<pre><code>class BusbyMoviesMainApplication : Application() {\n    companion object {\n        @JvmStatic\n        lateinit var instance: BusbyMoviesMainApplication\n            private set\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "accepted_answer_id": 46938919, "answer_count": 1, "score": -1, "last_activity_date": 1509002916, "creation_date": 1508952885, "question_id": 46938693, "link": "https://stackoverflow.com/questions/46938693/using-companion-object-to-return-an-instance-of-the-class-in-kotlin", "title": "Using companion object to return an instance of the class in Kotlin", "body": "<pre><code>Android Studio 3.0 RC2\nKolin 1.1.51\n</code></pre>\n\n<p>I creating an Android App, and I want to return the instance of the class that extends Application and access the equivalent you would do using a static in Java.</p>\n\n<pre><code>class BusbyMoviesMainApplication : Application() {\n    companion object {\n        private val instance: BusbyMoviesMainApplication = BusbyMoviesMainApplication()\n\n        @JvmStatic\n        fun getBusbyInstance(): BusbyMoviesMainApplication {\n            return instance\n        }\n    }\n}\n</code></pre>\n\n<p>I am accessing it like this. However, getCacheDir returns null</p>\n\n<pre><code>BusbyMoviesMainApplication.getBusbyInstance().getCacheDir()\n</code></pre>\n\n<p>I can't see what I am doing wrong.</p>\n\n<p>In Java I have done like this before, which works, I am trying to do the same in Kotlin:</p>\n\n<pre><code>public class BusbyMoviesApplication extends Application {\n    private static BusbyMoviesApplication mBusbyMoviesApplication;\n\n    public static BusbyMoviesApplication getInstance() {\n        return mBusbyMoviesApplication;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        mBusbyMoviesApplication = BusbyMoviesApplication.this;\n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1508951751, "post_id": 46938241, "comment_id": 80823852, "body": "Is it necessary to have an enum which seems to do nothing more than mirror the class types? You could simply be passing in the type to getMapper rather than trying to match enums to types."}, {"owner": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "reply_to_user": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1509056138, "post_id": 46938241, "comment_id": 80877089, "body": "it was meant as an example, since in my real case i preferred to have an enum/identifier. But in the end yes, i could pass the type"}], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 0, "last_activity_date": 1508951763, "creation_date": 1508951763, "answer_id": 46938394, "question_id": 46938241, "link": "https://stackoverflow.com/questions/46938241/kotlin-return-a-generic-interface/46938394#46938394", "title": "Kotlin: return a generic interface", "body": "<p>Kotlin doesn't have raw types so you can't return <code>Printer</code> from <code>getMapper</code>. You can either return <code>Printer&lt;*&gt;</code>, make <code>getMapper</code> generic, or change your inheritance structure to have a common super type.</p>\n"}, {"comments": [{"owner": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "edited": false, "score": 0, "creation_date": 1509056335, "post_id": 46938817, "comment_id": 80877149, "body": "i don&#39;t understand why we would need the &quot;as Printer&lt;T&gt;&quot; inside getMapper, but that&#39;s ok. Your answer was the best, thanks. I ended up using a solution where i pass in the class type as a getMapper argument. (copied from your link)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1508955423, "last_edit_date": 1508955423, "creation_date": 1508953286, "answer_id": 46938817, "question_id": 46938241, "link": "https://stackoverflow.com/questions/46938241/kotlin-return-a-generic-interface/46938817#46938817", "title": "Kotlin: return a generic interface", "body": "<p>I've modified your code a bit. The <code>getMapper</code> function is <code>inline</code> with a <code>reified</code> <strong>generic</strong> type now, which makes the call pretty readable at <code>getMapper&lt;Dog&gt;()</code>. </p>\n\n<p>Read about <code>reified</code> here: <a href=\"https://stackoverflow.com/questions/45949584/what-does-the-reified-keyword-in-kotlin-really-do/45952201#45952201\">What does the reified keyword in Kotlin really do?</a></p>\n\n<pre><code>private inline fun &lt;reified T&gt; getMapper(): Printer&lt;T&gt; {\n    when (T::class) {\n        Cat::class -&gt; return CatPrinter() as Printer&lt;T&gt;\n        Dog::class -&gt; return DogPrinter() as Printer&lt;T&gt;\n    }\n    throw IllegalArgumentException()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(getMapper&lt;Dog&gt;().mapToString(Dog()))\n    println(getMapper&lt;Cat&gt;().mapToString(Cat()))\n}\n</code></pre>\n\n<p>The reified thing is not even necessary actually but makes the client side more readable. Alternatively, you could also pass in the class as an argument to the <code>getMapper</code> function. The really important part is to make this one <strong>generic</strong>.\nThe unchecked casts are not very cool but seem to be safe here.</p>\n"}, {"comments": [{"owner": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "edited": false, "score": 0, "creation_date": 1509056479, "post_id": 46939030, "comment_id": 80877188, "body": "yes, mapToString(5) was a typo. Anyway, i had to fight with the compiler to understand the error messages but now that you say that, it makes sense. thanks for your answer."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1508954007, "creation_date": 1508954007, "answer_id": 46939030, "question_id": 46938241, "link": "https://stackoverflow.com/questions/46938241/kotlin-return-a-generic-interface/46939030#46939030", "title": "Kotlin: return a generic interface", "body": "<p>Returning <code>Printer&lt;*&gt;</code> works fine. But it isn't actually useful because you can't call <code>mapToString(Dog())</code> (I assume <code>mapToString(5)</code> is a typo) and it's a good thing: if it compiled then </p>\n\n<pre><code>getMapper(AnimalType.CAT).mapToString(Dog())\n</code></pre>\n\n<p>would also have to compile, because the return <em>type</em> can only depend on argument <em>type</em>, not on <em>value</em>, and <code>AnimalType.CAT</code> and <code>AnimalType.DOG</code> have the same type. There are some languages which allow it, but Kotlin isn't one of them.</p>\n"}], "owner": {"reputation": 536, "user_id": 1383284, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7f79cb32444a3f5d73511dc2354ef8b0?s=128&d=identicon&r=PG", "display_name": "Ricardo Belchior", "link": "https://stackoverflow.com/users/1383284/ricardo-belchior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4536, "favorite_count": 1, "accepted_answer_id": 46938817, "answer_count": 3, "score": 6, "last_activity_date": 1508955423, "creation_date": 1508951239, "question_id": 46938241, "link": "https://stackoverflow.com/questions/46938241/kotlin-return-a-generic-interface", "title": "Kotlin: return a generic interface", "body": "<p>In Kotlin,  I'm trying to compile the following:</p>\n\n<ol>\n<li>given an interface with generic types (Printer)</li>\n<li>and two implementations of that interface (DogPrinter and CatPrinter)</li>\n<li>return one of the printers, according to an external variable (AnimalType)</li>\n</ol>\n\n<p>The following code does not compile, because a type is required at:\n<code>fun getMapper(animalType: AnimalType): Printer</code></p>\n\n<p>I tried to use <code>&lt;Any&gt;</code> or <code>&lt;*&gt;</code> but got no success. Can someone help?</p>\n\n<p><em>(easy to see the error by copypasting the code below into <a href=\"https://try.kotlinlang.org)_\" rel=\"noreferrer\">https://try.kotlinlang.org)</em></a></p>\n\n<pre><code>enum class AnimalType {\n    CAT, DOG\n}\n\nclass Dog\nclass Cat\n\ninterface Printer&lt;in T&gt; {\n    fun mapToString(input: T): String\n}\n\n\nclass DogPrinter : Printer&lt;Dog&gt; {\n    override fun mapToString(input: Dog): String {\n        return \"dog\"\n    }\n}\n\nclass CatPrinter : Printer&lt;Cat&gt; {\n    override fun mapToString(input: Cat): String {\n        return \"cat\"\n    }\n}\n\nprivate fun getMapper(animalType: AnimalType): Printer {\n    return when(animalType) {\n        AnimalType.CAT -&gt; CatPrinter()\n        AnimalType.DOG -&gt; DogPrinter()\n    }\n}\n\nfun usage_does_not_compile() {\n    getMapper(AnimalType.DOG)\n            .mapToString(5)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 1, "creation_date": 1508945480, "post_id": 46936383, "comment_id": 80820083, "body": "Did you tried to first call <code>linearLayout.addView(imageView)</code> and only after start loading gif with <code>Glide</code> ?"}, {"owner": {"reputation": 180, "user_id": 4062703, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e914a86d649e4f3c7f543398071d8?s=128&d=identicon&r=PG", "display_name": "tontus", "link": "https://stackoverflow.com/users/4062703/tontus"}, "reply_to_user": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 0, "creation_date": 1508945721, "post_id": 46936383, "comment_id": 80820250, "body": "WOW! It&#39;s working like a charm. But this didn&#39;t create a problem when loading an image. Can you please explain to me why this is happening with GIF?"}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 1, "creation_date": 1508947432, "post_id": 46936383, "comment_id": 80821439, "body": "I am not completely sure, but from brief checking of glide source code, it seems that it verify first visibility/validity of drawable before showing gif (c.f. <code>GifDrawble</code>), so view must be visible. This is not the case for images, because standard <code>BitampDrawble</code> is used."}], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 1160314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991e697bdba47ebed00b2b7745458000?s=128&d=identicon&r=PG", "display_name": "touti", "link": "https://stackoverflow.com/users/1160314/touti"}, "is_accepted": false, "score": 2, "last_activity_date": 1551089643, "creation_date": 1551089643, "answer_id": 54863880, "question_id": 46936383, "link": "https://stackoverflow.com/questions/46936383/load-gif-using-glide-version-4-2-0-in-kotlin/54863880#54863880", "title": "Load GIF using glide version 4.2.0 in Kotlin", "body": "<p>For Glide 4+</p>\n\n<pre><code>    Glide.with(this).asGif().load(\"http://www.dreamworks.com/trolls/assets/downloads/trailer2_branch-eyebrow412.gif\").into(gifImageView)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "is_accepted": false, "score": 1, "last_activity_date": 1551092448, "creation_date": 1551092448, "answer_id": 54864699, "question_id": 46936383, "link": "https://stackoverflow.com/questions/46936383/load-gif-using-glide-version-4-2-0-in-kotlin/54864699#54864699", "title": "Load GIF using glide version 4.2.0 in Kotlin", "body": "<p>Change in your code <code>GlideApp</code> to <code>Glide</code> for above Glide 4 version.</p>\n\n<p>For more information review on it : <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a></p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_load_gif_using_glide)\n        val linearLayout = findViewById&lt;LinearLayout&gt;(R.id.linearLayout)\n        val imageView = ImageView(this)\n        Glide.with(this)\n                .asGif()\n                .load(\"https://s3.amazonaws.com/appsdeveloperblog/micky.gif\")\n                .into(imageView)\n        linearLayout.addView(imageView)\n}\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 4062703, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e914a86d649e4f3c7f543398071d8?s=128&d=identicon&r=PG", "display_name": "tontus", "link": "https://stackoverflow.com/users/4062703/tontus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1530, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551092448, "creation_date": 1508945248, "question_id": 46936383, "link": "https://stackoverflow.com/questions/46936383/load-gif-using-glide-version-4-2-0-in-kotlin", "title": "Load GIF using glide version 4.2.0 in Kotlin", "body": "<p>I'm trying to load GIF using glide 4.2.0 in kotlin. I loaded GIf and image using the previous version of glide. it was piece of cake. However, I was following <a href=\"http://sjudd.github.io/glide/doc/generatedapi.html#getting-started\" rel=\"nofollow noreferrer\">this link</a> to use new glide. But I can't load GIf with it. </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_load_gif_using_glide)\n        val linearLayout = findViewById&lt;LinearLayout&gt;(R.id.linearLayout)\n        val imageView = ImageView(this)\n        GlideApp.with(this)\n                .asGif()\n                .load(\"https://s3.amazonaws.com/appsdeveloperblog/micky.gif\")\n                .into(imageView)\n        linearLayout.addView(imageView)\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "build", "libgdx", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1508963363, "creation_date": 1508963363, "answer_id": 46941520, "question_id": 46935735, "link": "https://stackoverflow.com/questions/46935735/error-androidtransformkotlinclasseswithjillfordebug-when-building-android-a/46941520#46941520", "title": "Error &#39;:android:transformKotlinClassesWithJillForDebug&#39;. When building Android application written in Kotlin + LibGDX", "body": "<p>First of all, You need to update Kotlin version <code>1.1.1</code> to <code>1.1.51</code> </p>\n\n<p>than add <code>kotlin-stdlib</code> artifact in android dependency tag.</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n</code></pre>\n"}], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 46941520, "answer_count": 1, "score": 0, "last_activity_date": 1508963363, "creation_date": 1508943442, "question_id": 46935735, "link": "https://stackoverflow.com/questions/46935735/error-androidtransformkotlinclasseswithjillfordebug-when-building-android-a", "title": "Error &#39;:android:transformKotlinClassesWithJillForDebug&#39;. When building Android application written in Kotlin + LibGDX", "body": "<p>I'm developing game on Kotlin using LibGDX framework. I have problem when building Android application. Desktop and IOS(<a href=\"https://github.com/multi-os-engine/multi-os-engine\" rel=\"nofollow noreferrer\">moe-framework</a>) builds fine.</p>\n\n<p>Here is full message:</p>\n\n<pre><code>Error:A problem was found with the configuration of task ':android:transformKotlinClassesWithJillForDebug'.\n&gt; File '/Users/maximternovtsi/bagel/android/build/tmp/kotlin-classes/debug.jar' specified for property 'inputJarFile' does not exist.\n</code></pre>\n\n<p>My <code>build.gradle</code> file: </p>\n\n<pre><code> buildscript {\n     repositories {\n         mavenLocal()\n         mavenCentral()\n         maven {\n             url \"https://oss.sonatype.org/content/repositories/snapshots/\"\n         }\n         jcenter()\n     }\n     dependencies {\n         classpath 'com.android.tools.build:gradle:2.3.3'\n         classpath 'org.multi-os-engine:moe-gradle:1.3.6'\n         classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.1\"\n     }\n }\n allprojects {\n     apply plugin: \"eclipse\"\n     apply plugin: \"idea\"\n     version = '1.0'\n     ext {\n         appName = \"Bagel\"\n         gdxVersion = '1.9.6'\n     }\n     repositories {\n         mavenLocal()\n         mavenCentral()\n         maven {\n             url \"https://oss.sonatype.org/content/repositories/snapshots/\"\n         }\n         maven {\n             url \"https://oss.sonatype.org/content/repositories/releases/\"\n         }\n     }\n }\n project(\":desktop\") {\n     apply plugin: \"kotlin\"\n     dependencies {\n         compile project(\":core\")\n         compile \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n         compile \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n         compile \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop\"\n         compile \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop\"\n     }\n }\n project(\":android\") {\n     apply plugin: \"android\"\n     apply plugin: \"kotlin-android\"\n     configurations {\n         natives\n     }\n     dependencies {\n         compile project(\":core\")\n         compile \"com.badlogicgames.gdx:gdx-backend-android:$gdxVersion\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64\"\n         compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64\"\n         compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64\"\n     }\n }\n project(\":core\") {\n     apply plugin: \"kotlin\"\n     dependencies {\n         compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n         compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n         compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n         compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.1\"\n         compile \"com.badlogicgames.ashley:ashley:1.7.0\"\n         //        compile 'com.esotericsoftware:kryonet:2.22.0-RC1'\n         //        compile 'io.netty:netty-all:4.1.13.Final-SNAPSHOT'\n     }\n }\n project(\":ios-moe\") {\n     apply plugin: \"moe\"\n     configurations {\n         natives\n     }\n     dependencies {\n         compile project(\":core\")\n         compile \"com.badlogicgames.gdx:gdx-backend-moe:$gdxVersion\"\n         natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-ios\"\n         natives \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-ios\"\n         natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-ios\"\n     }\n }\n tasks.eclipse.doLast {\n     delete \".project\"\n }\n</code></pre>\n\n<p>Maybe i should post more code. I don't know what else can help you. Just write a comment and i will show you what you need. I've never faced problems like this. Google also didn't help. </p>\n"}, {"tags": ["unit-testing", "mockito", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508945173, "post_id": 46935260, "comment_id": 80819859, "body": "How do you use the dependency to <code>RxLocationRepository</code>?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508945802, "post_id": 46935260, "comment_id": 80820308, "body": "@tynn I updated my question, not sure what do you mean. I use Dagger to inject my repository to the client"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508946521, "post_id": 46935260, "comment_id": 80820816, "body": "Ah, ok. So i need to create another module, which will be only in my test package? So in Dagger i must not provide this Repository through constructor and just add this manually in test or how to achive this with dagger? ESala answer seems legit after this"}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508947884, "post_id": 46935260, "comment_id": 80821728, "body": "@okset I don&#39;t think you need another Dagger module for this. Besides, your <code>LocationManager</code> does not use the repository, so you could remove it from the constructor. Anyways, you need to think about what you are really testing. If you are testing the <code>LocationManager.appendGeoEvent(...)</code> method, then you don&#39;t even need a repository mock, just create a test location like in my answer and use it to call the method. Hope this helps ;)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511346397, "post_id": 46935260, "comment_id": 81818715, "body": "It actually use this repository, i;ve just removed the &quot;append&quot; function, so i only depend on location delivered from the repository"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508947033, "post_id": 46936717, "comment_id": 80821180, "body": "What mockito i need for gradle, to use it like this? I am using testImplementation &quot;org.mockito:mockito-core:2.7.19&quot; and this is not recognized"}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508947758, "post_id": 46936717, "comment_id": 80821655, "body": "@okset I have updated the answer with a full example. What do you mean not recognized? try to re-build the project."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508947838, "post_id": 46936717, "comment_id": 80821706, "body": "Ok, i found the answer i was using it in androidTest, not test. So:     // required if you want to use Mockito for unit tests     testCompile &#39;org.mockito:mockito-core:2.7.22&#39;     // required if you want to use Mockito for Android tests     androidTestCompile &#39;org.mockito:mockito-android:2.7.22&#39;"}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511307879, "post_id": 46936717, "comment_id": 81804064, "body": "@okset if the answer worked, could you consider accepting it?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511345596, "post_id": 46936717, "comment_id": 81818167, "body": "The answer would work if i want to use that repository in the test(the same instance), but the repository was actually implemented and closed in different class, provided with Dagger. So i cannot mock it like this, however i just set up new Dagger module which will provide me this mock implementation only for test, in different test project module. So i guess your answer will work of course, if you want to test something which is not provided with Dagger, because my repository is embedded and cannot mock it like this in test"}], "tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": false, "score": 1, "last_activity_date": 1508958853, "last_edit_date": 1508958853, "creation_date": 1508946191, "answer_id": 46936717, "question_id": 46935260, "link": "https://stackoverflow.com/questions/46935260/how-to-mock-reactive-repository-which-returns-observable/46936717#46936717", "title": "How to mock reactive repository which returns Observable", "body": "<p>If using Mockito, you could do something like this:</p>\n\n<pre><code>import android.location.Location\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.Mockito\nimport org.mockito.Mockito.`when`\nimport org.mockito.Mockito.mock\nimport org.mockito.junit.MockitoJUnitRunner\nimport java.util.*\n\n@RunWith(MockitoJUnitRunner::class)\nclass LocationsTest{\n\n    @Test\n    fun should_return_one_location() {\n        val location = Location(\"test\").apply {\n            latitude = 1.234\n            longitude = 5.678\n            // ...\n        }\n        val mockRepository = mock(RxLocationRepository::class.java)\n        `when`(mockRepository.onLocationUpdate()).thenReturn(Observable.just(location))\n        // use the mock\n    }\n\n}\n</code></pre>\n\n<p>I am using: <code>testCompile \"org.mockito:mockito-core:2.11.0\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "is_accepted": true, "score": 0, "last_activity_date": 1511346702, "last_edit_date": 1511346702, "creation_date": 1511346312, "answer_id": 47432229, "question_id": 46935260, "link": "https://stackoverflow.com/questions/46935260/how-to-mock-reactive-repository-which-returns-observable/47432229#47432229", "title": "How to mock reactive repository which returns Observable", "body": "<p>I needed to setup different Dagger module, which just provide me implementation of this repository - it returns different Observable stream. </p>\n\n<p>I set it up like this.</p>\n\n<pre><code>@Module\nabstract class StubLocationRepositoryModule {\n\n@Binds\ninternal abstract fun bindsRxLocationRepository(stubRxLocationRepository: StubRxLocationRepository) : RxLocationRepository\n}\n</code></pre>\n\n<p>I was just using this in my androidTest package in component.</p>\n\n<p>So my implementation was like this:</p>\n\n<p>just an example:</p>\n\n<pre><code>class StubRxLocationRepository @Inject constructor(val stubLocationParameterName: String) : RxLocationRepository {\n\nval location = Location(\"test\").apply {\n    latitude = 1.234\n    longitude = 5.678\n    accuracy = 20f\n    time = Date().time\n}\n\noverride fun onLocationUpdate(): Observable&lt;Location&gt; {\n    Log.v(\"StubLocationRepository\", \"CHOSEN PARAMETER: $stubLocationParameterName\")\n\n\n    return when (stubLocationParameterName) {\n        \"highFreq\" -&gt; Observable.interval(50, TimeUnit.MILLISECONDS)\n                .flatMap(\n                        {\n                            Observable.just(location)\n                        }\n                )\n                .doOnNext{ t: Location -&gt; Log.v(\"onLocationUpdate\", t.toString()) }\n        else -&gt; Observable.interval(1, TimeUnit.SECONDS)\n                .flatMap(\n                        {\n                            Observable.just(location)\n                        }\n                )\n                .doOnNext{ t: Location -&gt; Log.v(\"onLocationUpdate\", t.toString()) }\n    }\n}\n\noverride fun stopLocationUpdates() {\n    Log.v(\"StubLocationRepository\", \"stopLocationUpdates\")\n}\n}\n</code></pre>\n\n<p>So in my Dagger Component builder i expose a method which will provide me some parameter in which i will depend in the StubRxLocation implementation - it will return me some stream i need for specific test case.</p>\n\n<p>So the component:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(StubLocationRepositoryModule::class, \nLocationTestInstrumentalModule::class, StubRssiRepositoryModule::class))\ninterface LocationTestInstrumentalComponent{\nfun locationClient(): LocationClient\n\n\n@Component.Builder\ninterface Builder {\n    @BindsInstance\n    fun context(context: Context): Builder\n    @BindsInstance\n    fun stubLocationRepositoryParameter(stubLocationRepositoryParameter: String): Builder\n    fun build(): LocationTestInstrumentalComponent\n}\n\n}\n</code></pre>\n\n<p>So in every test i can bring the mocked repository it like this, which will be ready form me to use for that test case:</p>\n\n<pre><code>@Test\nfun someTest(){\n       val component = DaggerLocationTestInstrumentalComponent.builder().stubLocationRepositoryParameter(\"highFreq\").context(InstrumentationRegistry.getContext()).build()\n\nval client = component.locationClient()\n//i can expose some other methods, not only this 'locationClient' in this Component to return me some classes, like this RxLocationRepository(which will behave as i want) and others\n}\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 0, "accepted_answer_id": 47432229, "answer_count": 2, "score": 1, "last_activity_date": 1511346702, "creation_date": 1508942207, "last_edit_date": 1508945754, "question_id": 46935260, "link": "https://stackoverflow.com/questions/46935260/how-to-mock-reactive-repository-which-returns-observable", "title": "How to mock reactive repository which returns Observable", "body": "<p>So i have repository, which provides the Observable to the client. Is there a way i can mock this repository, so i don't need to send location from my emulator or using the real device to gain some Location?</p>\n\n<p>Here is how the interface looks like:</p>\n\n<pre><code>interface RxLocationRepository {\n\n@SuppressLint(\"MissingPermission\")\nfun onLocationUpdate(): Observable&lt;Location&gt;\n\nfun stopLocationUpdates()\n}\n</code></pre>\n\n<p>In my client side i use this like this:</p>\n\n<pre><code>class LocationManager(\n    val rxLocationRepository: RxLocationRepository){\n\nprivate fun appendGeoEvent(location: Location) {\n    val locationGeoEvent = LocationGeoEvent(\n            accuracy = location.accuracy.toDouble(),\n            latitude = location.latitude,\n            longitude = location.longitude,\n            timestampGeoEvent = location.time\n    )\n    processGeoEvent(locationGeoEvent)\n}\n\ncompositeDisposable.add(rxLocationRepository.onLocationUpdate()\n            .subscribe(Consumer { location -&gt;\n                appendGeoEvent(location)\n            }))\n ....\n</code></pre>\n\n<p>So i sending this obtained location to my appendGeoEvent method.</p>\n\n<p>I can use for example Mockito, but i don't know how to mock this repository so i can use the fake locations.\nAlso, i want to use Kotlin.</p>\n"}, {"tags": ["android", "asynchronous", "kotlin"], "comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1508939458, "post_id": 46934127, "comment_id": 80815473, "body": "You probably need to change to the UI Thread to change the UI components. See <a href=\"https://developer.android.com/reference/android/view/View.html#post(java.lang.Runnable)\" rel=\"nofollow noreferrer\">view.post()</a>"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1508939634, "post_id": 46934127, "comment_id": 80815618, "body": "Just a small detail also: prefer to use snakeCase (e.g. <code>usernameInput</code>, not <code>username_input</code>) in Kotlin code."}, {"owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1508939636, "post_id": 46934127, "comment_id": 80815621, "body": "@Renato That did, it, thank you! If you add an answer I&#39;ll mark it as accepted. And thanks for the tip! This is all still quite new to me."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1508940247, "post_id": 46934127, "comment_id": 80816178, "body": "Added the answer :) good luck."}], "answers": [{"tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": true, "score": 2, "last_activity_date": 1508940333, "last_edit_date": 1508940333, "creation_date": 1508939888, "answer_id": 46934425, "question_id": 46934127, "link": "https://stackoverflow.com/questions/46934127/kotlin-fun-returning-prematurely/46934425#46934425", "title": "Kotlin fun returning prematurely", "body": "<p>UI code must run in the UI Thread in Android.</p>\n\n<p>The <code>disableInput</code> function runs in response to a button click, so it is already in the UI Thread, but when you handle the HTTP response, Fuel will run your callback in a different Thread.</p>\n\n<p>To change back to the UI Thread to update your UI components, use <a href=\"https://developer.android.com/reference/android/view/View.html#post(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>View::post</code></a>, something like this:</p>\n\n<pre><code>private fun enableInput() {\n    username_input.post {\n        username_input.isEnabled = true\n        password_input.isEnabled = true\n        sign_in_button.isEnabled = true\n        login_progress.visibility = View.GONE\n    }    \n}   \n</code></pre>\n\n<p>As I said in the comments, in Kotlin, it's also a convention to use camelCase, so instead of <code>username_input</code>, use <code>usernameInput</code>.</p>\n"}], "owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 46934425, "answer_count": 1, "score": 1, "last_activity_date": 1508940333, "creation_date": 1508939126, "last_edit_date": 1508939470, "question_id": 46934127, "link": "https://stackoverflow.com/questions/46934127/kotlin-fun-returning-prematurely", "title": "Kotlin fun returning prematurely", "body": "<p>I'm trying to get started with Android development using Kotlin. Part of what I'm trying to do is send an HTTP request from my login activity and take appropriate action from the response. I'm using <a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">Fuel</a> for this.</p>\n\n<p>When the \"Sign in\" button is tapped, I'm calling the following <code>fun</code>:</p>\n\n<pre><code>private fun disableInput() {\n    username_input.isEnabled = false\n    password_input.isEnabled = false\n    sign_in_button.isEnabled = false\n    login_progress.visibility = View.VISIBLE\n}\n</code></pre>\n\n<p>This works fine. I then make my HTTP request:</p>\n\n<pre><code>\"http://my.login.url.com\".httpPost()\n    .header(\"Content-Type\" to \"application/json\")\n    .body(json, Charsets.UTF_8)\n    .response(AuthorizationSuccess.Deserializer()) { _, response, result -&gt;\n        val (auth, error) = result\n\n        if (error != null || auth == null) {\n            Snackbar.make(view, \"Error\", 0).show()\n            enableInput()\n        } else {\n           // Handle the response\n        }\n    }\n</code></pre>\n\n<p>The problem is that when I receive an error, I can't seem to re-enable the UI. The <code>Snack</code> is shown and <code>enableInput</code> is called:</p>\n\n<pre><code>private fun enableInput() {\n    username_input.isEnabled = true\n    password_input.isEnabled = true\n    sign_in_button.isEnabled = true\n    login_progress.visibility = View.GONE\n}\n</code></pre>\n\n<p>However, it hits only the first line (<code>username_input.isEnabled = true</code>) and goes no further. It does enable the username input so I know the assignment is succeeding, but I can't figure out why it doesn't proceed to enable the rest of the UI.</p>\n\n<p>I suspect it has something to do with the fact that I'm calling it from an asynchronous operation, but I haven't been able to find any other way to do it.</p>\n\n<p>Is there a special way I ought to be calling <code>enableInput</code>, or is this completely the wrong way to go about it?</p>\n"}, {"tags": ["android", "layout", "kotlin", "layout-inflater"], "comments": [{"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1508947736, "post_id": 46933647, "comment_id": 80821634, "body": "Try my answer and see if it works."}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1508947821, "post_id": 46934300, "comment_id": 80821697, "body": "What had happened is that Android Studio reverted my custom layout names to the generic Textview7/8 etc etc. The GUI was showing my custom names but the XML behind the scenes was showing the generic names. Reported it as a bug to the developer"}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "reply_to_user": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1508949517, "post_id": 46934300, "comment_id": 80822622, "body": "Oh I see. So you were in fact using the Kotlin Android Extensions. Glad to know you figured it out :) (But don&#39;t forget to create the inflater outside the loop!)"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1508949583, "post_id": 46934300, "comment_id": 80822658, "body": "Yes I was. I just started learning development a few weeks ago so I decided to start right with Kotlin"}], "tags": [], "owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "is_accepted": false, "score": 1, "last_activity_date": 1508941131, "last_edit_date": 1508941131, "creation_date": 1508939595, "answer_id": 46934300, "question_id": 46933647, "link": "https://stackoverflow.com/questions/46933647/textview-null-after-inflating-parent-layout/46934300#46934300", "title": "TextView Null after inflating parent layout", "body": "<p>You're not using <code>findViewById()</code> anywhere in your code. Instead of doing:</p>\n\n<pre><code> var thetitle = infv.tck_event_title\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code> var thetitle = infv.findViewById(R.id.tck_event_title) as TextView\n</code></pre>\n\n<p>Or the equivalent ID of that <code>TextView</code> you're trying to use.</p>\n\n<p>Also, you're creating a new <code>LayoutInflater</code> on each loop. This line of code: </p>\n\n<pre><code>var inf1:LayoutInflater = LayoutInflater.from(context)\n</code></pre>\n\n<p>Should really be outside the loop (And can even be a <code>val</code> instead of a <code>var</code>).</p>\n\n<p><strong>Edit:</strong> If you were trying to use the Kotlin Android Extensions, I suggest that you check <a href=\"https://stackoverflow.com/a/44748437/4070469\">this answer</a>. You might've forgotten to import something.</p>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "is_accepted": false, "score": 0, "last_activity_date": 1508947856, "creation_date": 1508947856, "answer_id": 46937276, "question_id": 46933647, "link": "https://stackoverflow.com/questions/46933647/textview-null-after-inflating-parent-layout/46937276#46937276", "title": "TextView Null after inflating parent layout", "body": "<p>Not really and answer other then the original code does work. </p>\n\n<p>What had happened is that Android Studio reverted my custom layout names to the generic Textview7/8 etc etc. The GUI was showing my custom names but the XML behind the scenes was showing the generic names. Reported it as a bug to the developer </p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508947856, "creation_date": 1508937804, "last_edit_date": 1508939215, "question_id": 46933647, "link": "https://stackoverflow.com/questions/46933647/textview-null-after-inflating-parent-layout", "title": "TextView Null after inflating parent layout", "body": "<p>TextView Null after inflating parent layout.\nI'm running a loop which inflates a number of these layouts:</p>\n\n<pre><code>for(i in ticketAr?.indices!!){\n\n    var inf1:LayoutInflater = LayoutInflater.from(context)\n    var infv:View = inf1.inflate(R.layout.ticket_individual,null,false)\n    infv.setId(parseInt(ticketAr[i].string(\"ntb_id\")))\n    var thetitle = infv.tck_event_title\n    thetitle.setText(ticketAr[i].string(\"age_group_desc\"))\n}\n</code></pre>\n\n<p><strong>STACKTRACE</strong></p>\n\n<pre><code>10-25 09:30:35.839 11549-11549/com.example.xx.listview\nE/AndroidRuntime: FATAL EXCEPTION: main\n  Process: com.example.xx.listview, PID: 11549\n  java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n\n  at\ncom.example.xx.listview.Ordering_Setup$getData$1.invoke(Ordering_Setup.kt:145)\n  at\ncom.example.xx.listview.Ordering_Setup$getData$1.invoke(Ordering_Setup.kt:29)\n  at\ncom.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Deserializable.kt:37)\n  at\ncom.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Deserializable.kt)\n  at\ncom.github.kittinunf.fuel.core.DeserializableKt$response$5$1.invoke(Deserializable.kt:62)\n  at\ncom.github.kittinunf.fuel.core.DeserializableKt$response$5$1.invoke(Deserializable.kt)\n  at\ncom.github.kittinunf.fuel.core.Request$callback$1.run(Request.kt:225)\n   at android.os.Handler.handleCallback(Handler.java:751)\n   at android.os.Handler.dispatchMessage(Handler.java:95)\n   at android.os.Looper.loop(Looper.java:154)\n   at android.app.ActivityThread.main(ActivityThread.java:6077)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at\ncom.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1508936640, "post_id": 46932879, "comment_id": 80813362, "body": "Thanks. The solution was to use PackageManager.FEATURE_BLUETOOTH_LE instead of simple string &quot;FEATURE_BLUETOOTH_LE&quot;. That&#39;s the only change in my code. Yeah I have API requirement set to be at least 18."}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": true, "score": 0, "last_activity_date": 1508935653, "creation_date": 1508935653, "answer_id": 46932879, "question_id": 46932518, "link": "https://stackoverflow.com/questions/46932518/hassystemfeature-method-returns-wrong-value-while-checking-for-bluetoothle-suppo/46932879#46932879", "title": "hasSystemFeature method returns wrong value while checking for BluetoothLE support", "body": "<p>You should be using:</p>\n\n<pre><code>hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_BLUETOOTH_LE\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_BLUETOOTH_LE</a></p>\n\n<p>An alternate way to check if the device supports bluetooth:</p>\n\n<pre><code>val btAdapter = BluetoothAdapter.getDefaultAdapter() \nval btSupported = btAdapter != null\n</code></pre>\n\n<p>And to check if it's turned on:</p>\n\n<pre><code>val btEnabled: Boolean = btAdapter?.isEnabled ?: false\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 46932879, "answer_count": 1, "score": 0, "last_activity_date": 1508936104, "creation_date": 1508934645, "last_edit_date": 1508936104, "question_id": 46932518, "link": "https://stackoverflow.com/questions/46932518/hassystemfeature-method-returns-wrong-value-while-checking-for-bluetoothle-suppo", "title": "hasSystemFeature method returns wrong value while checking for BluetoothLE support", "body": "<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.bluetooth.BluetoothAdapter\nimport android.bluetooth.BluetoothManager\nimport android.content.Context\nimport org.jetbrains.anko.toast\n\nclass MainActivity : AppCompatActivity() {\n\n    var deviceBluetoothAdapter : BluetoothAdapter? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        val bluetoothManager : BluetoothManager = getSystemService(Context.BLUETOOTH_SERVICE) as BluetoothManager\n\n        val check = packageManager.hasSystemFeature(\"FEATURE_BLUETOOTH_LE\")\n\n        deviceBluetoothAdapter = bluetoothManager.adapter\n\n        if (check) toast(\"BLE supported\") else toast(\"BLE not supported\")\n\n    }\n\n}\n</code></pre>\n\n<p>I'm using phone that supports Bluetooth Low Energy but I get wrong toast - \"BLE not supported\". I check the output of <code>hasSystemFeature</code> for other peripherials like Camera and it also returns false. What am I doing wrong ?</p>\n\n<p>I have proper configs inside the Manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n\n    &lt;uses-feature android:name=\"android.hardware.bluetooth.le\" android:required=\"false\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "edited": false, "score": 0, "creation_date": 1508930671, "post_id": 46930690, "comment_id": 80808956, "body": "Did you specify the custom application in your manifet? :p also show your app-level build gradle pls"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "edited": false, "score": 1, "creation_date": 1508932248, "post_id": 46930690, "comment_id": 80810051, "body": "You have the room compiler twice, remove the <code>annotationProcessor</code> one"}, {"owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508932366, "post_id": 46930690, "comment_id": 80810143, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/157465/discussion-between-kibar-and-epicpandaforce\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 4, "last_activity_date": 1508933583, "last_edit_date": 1508933583, "creation_date": 1508929291, "answer_id": 46930690, "question_id": 46930637, "link": "https://stackoverflow.com/questions/46930637/android-kotlin-with-dagger/46930690#46930690", "title": "Android: Kotlin with Dagger", "body": "<pre><code>fun inject(application: Application)\n</code></pre>\n\n<p>Should be </p>\n\n<pre><code>fun inject(application: App)\n</code></pre>\n\n<hr>\n\n<p>Don't forget to specify the <code>App</code> class as the <code>application:name</code> in the AndroidManifest.xml</p>\n\n<pre><code>&lt;application\n    android:name=\".application.App\"\n</code></pre>\n\n<hr>\n\n<p>And you must make sure you define the compiler with <code>kapt</code> scope</p>\n\n<pre><code>kapt 'com.google.dagger:dagger-compiler:2.x'\n</code></pre>\n\n<p>and you also apply <code>kotlin-kapt</code> plugin</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n</code></pre>\n\n<hr>\n\n<p>And if you use field injection, you need to specify the annotation target (in Kotlin):</p>\n\n<pre><code>@field:Inject lateinit var thing: Thing;\n</code></pre>\n\n<hr>\n\n<p>You were also missing a qualifier for <code>@ApplicationContext</code> on your provider method argument, so that was added as well.</p>\n\n<pre><code>fun database(@ApplicationContext context: Context) : Database {\n  ...\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 46930690, "answer_count": 1, "score": 0, "last_activity_date": 1508933583, "creation_date": 1508929130, "last_edit_date": 1508932030, "question_id": 46930637, "link": "https://stackoverflow.com/questions/46930637/android-kotlin-with-dagger", "title": "Android: Kotlin with Dagger", "body": "<p>I'm new on Dagger. I want to use Dependecy Injection system on my project with <code>Dagger 2</code>. When I was debug my project injected fields is showing <code>null</code>.</p>\n\n<p>What's wrong?</p>\n\n<pre><code>class App : Application() {\n\n    lateinit var component: AppComponent\n\n    @Inject lateinit var database: AppDatabase //--&gt; null??\n    @Inject lateinit var      app: App //--&gt; null??\n\n    override fun onCreate() {\n        super.onCreate()\n\n        component = DaggerAppComponent.builder()\n                .appModule(AppModule(this))\n                .databaseModule(DatabaseModule())\n                .build().apply {\n            inject(this@App)\n            Timber.d(\"App: $app\")\n        }\n    }\n\n}\n\n@AppScope\n@Component(modules = arrayOf(AppModule::class, DatabaseModule::class))\ninterface AppComponent {\n\n    fun inject(application: Application)\n\n}\n\n@Module\nclass AppModule(private val application: Application) {\n\n    @Provides\n    @AppScope\n    fun provideApplication() = application\n\n    @Provides\n    @AppScope\n    @ApplicationContext\n    fun provideContext() = application.applicationContext!!\n\n}\n\n@Module(includes = arrayOf(AppModule::class))\nclass DatabaseModule {\n\n    @Inject\n    lateinit var context: Context\n\n    private val database by lazy {\n        Room.databaseBuilder(context, AppDatabase::class.java, AppDatabase.CONS.NAME)\n                .build()\n    }\n\n    @Provides\n    @AppScope\n    fun provideDatabase(context: Context): AppDatabase = database\n\n}\n</code></pre>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\nbuildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.2'\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 26\n\n        applicationId \"com.kibar.app\"\n        versionCode 1100\n        versionName '1.1.0'\n        archivesBaseName = \"app-$versionName-$versionCode\"\n        multiDexEnabled true\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                includeCompileClasspath = true\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            debuggable false\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n\n        debug {\n            debuggable true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        exclude 'META-INF/rxjava.properties'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:multidex:1.0.2'\n    implementation \"com.android.support:design:$android_support_version\"\n    implementation \"com.android.support:appcompat-v7:$android_support_version\"\n    implementation \"com.android.support:recyclerview-v7:$android_support_version\"\n    implementation \"com.android.support:cardview-v7:$android_support_version\"\n    implementation \"com.google.firebase:firebase-ads:$firebase_version\"\n    implementation \"com.google.firebase:firebase-crash:$firebase_version\"\n    implementation \"com.google.firebase:firebase-config:$firebase_version\"\n    implementation 'com.google.code.gson:gson:2.8.2'\n    implementation 'com.jakewharton.timber:timber:4.5.1'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation \"android.arch.persistence.room:runtime:$room_version\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$room_version\"\n\n    implementation \"com.google.dagger:dagger:$dagger_version\"\n    implementation \"com.google.dagger:dagger-android:$dagger_version\"\n    implementation \"com.google.dagger:dagger-android-support:$dagger_version\"\n    kapt \"android.arch.persistence.room:compiler:$room_version\"\n    kapt \"com.google.dagger:dagger-android-processor:$dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>Top gradle:</strong></p>\n\n<pre><code>buildscript {\n    ext{\n        android_support_version = \"26.1.0\"\n        kotlin_version          = \"1.1.51\"\n        firebase_version        = \"11.4.2\"\n        room_version            = \"1.0.0-alpha9-1\"\n        dagger_version          = \"2.11\"\n    }\n\n    repositories {\n        jcenter()\n        maven { url \"https://maven.google.com\" }\n        maven { url \"https://jitpack.io\" }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-rc2'\n        classpath 'com.google.gms:google-services:3.1.1'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url \"https://maven.google.com\" }\n        maven { url \"https://jitpack.io\" }\n    }\n\n    gradle.projectsEvaluated {\n        tasks.withType(JavaCompile) {\n            options.compilerArgs &lt;&lt; \"-Xmaxerrs\" &lt;&lt; \"1000\"\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-custom-view", "android-touch-event"], "comments": [{"owner": {"reputation": 1445, "user_id": 3925552, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/958a4e2ad31e6f7f611ae08786eafb5b?s=128&d=identicon&r=PG", "display_name": "HassanUsman", "link": "https://stackoverflow.com/users/3925552/hassanusman"}, "edited": false, "score": 0, "creation_date": 1508929179, "post_id": 46930625, "comment_id": 80807956, "body": "show your code."}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "reply_to_user": {"reputation": 1445, "user_id": 3925552, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/958a4e2ad31e6f7f611ae08786eafb5b?s=128&d=identicon&r=PG", "display_name": "HassanUsman", "link": "https://stackoverflow.com/users/3925552/hassanusman"}, "edited": false, "score": 0, "creation_date": 1508929286, "post_id": 46930625, "comment_id": 80808042, "body": "What code would you like to see?"}, {"owner": {"reputation": 1468, "user_id": 7871298, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-Z8nbNGPk0iA/AAAAAAAAAAI/AAAAAAAAKfc/KmxGQUcAZDE/photo.jpg?sz=128", "display_name": "Niraj Sanghani", "link": "https://stackoverflow.com/users/7871298/niraj-sanghani"}, "edited": false, "score": 0, "creation_date": 1508930829, "post_id": 46930625, "comment_id": 80809069, "body": "in ur recyclerview adapter, u must have put a global click listner and also the item click listner, make sure u only do that for items. Post code for more details"}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1508935731, "post_id": 46930625, "comment_id": 80812654, "body": "Each item&#39;s view has it&#39;s own clickListener, not the adapter (that is not a View and can&#39;t register a clickListener). The problem is not item&#39;s click listener, but the clicks not registered outside item&#39;s bound (where their clickListeners do not have jurisdiction)."}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 0, "creation_date": 1508937997, "post_id": 46930625, "comment_id": 80814364, "body": "I&#39;ve added the link to a simple test project to show my problem."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 2, "creation_date": 1509351966, "post_id": 46930625, "comment_id": 80967848, "body": "This is what I tell nicely constructed question, I&#39;m enjoying reading it."}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 0, "creation_date": 1509357213, "post_id": 46930625, "comment_id": 80970882, "body": "Set margin on top to get the click event on <code>FrameLayout</code> instead of Padding"}], "answers": [{"comments": [{"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "edited": false, "score": 1, "creation_date": 1509357548, "post_id": 47012139, "comment_id": 80971102, "body": "Works like a charm."}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 15, "last_activity_date": 1509391405, "last_edit_date": 1509391405, "creation_date": 1509356726, "answer_id": 47012139, "question_id": 46930625, "link": "https://stackoverflow.com/questions/46930625/recyclerview-listen-to-padding-click-events/47012139#47012139", "title": "Recyclerview: listen to padding click events", "body": "<p>You have to create your custom <code>RecyclerView</code> implementation, where you would listen to touch events and perform filtering based on that.</p>\n\n<pre><code>class MyRecyclerView @JvmOverloads constructor(\n        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : RecyclerView(context, attrs, defStyleAttr) {\n\n    private var isValid = false\n    private var x: Int = 0\n    private var y: Int = 0\n    // this will help us to understand whether the event can be considered a touch or scroll\n    private val delta: Int = ViewConfiguration.get(getContext()).scaledTouchSlop\n\n    override fun onTouchEvent(e: MotionEvent?): Boolean {\n        val onTouchEvent = super.onTouchEvent(e)\n        when (e?.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                // saving initial touch location\n                x = e.rawX.toInt()\n                y = e.rawY.toInt()\n                isValid = true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                if (Math.abs(e.rawX - x) &gt; delta ||\n                        Math.abs(e.rawY - y) &gt; delta) {\n                    // if a scroll happens - no longer consider this movement as valid\n                    // this is needed for handling scroll on the inner part of `RecyclerView`                            \n                    isValid = false\n                }\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                if (isValid &amp;&amp; Math.abs(e.rawX - x) &lt; delta &amp;&amp;\n                        Math.abs(e.rawY - y) &lt; delta &amp;&amp;\n                        isInRightArea(e)) {\n                    // 1. if the movement is still valid\n                    // 2. we have actually performed a click                            \n                    // 3. the click is in expected rectangle\n                    // then perform click\n                    performClick()\n                }\n            }\n        }\n        return onTouchEvent\n    }\n\n    // This is needed in order to handle the edge case, when a click listener \n    // would be fired when performing a click between the items of `RecyclerView`\n    private fun isInRightArea(e: MotionEvent): Boolean {\n        val r = Rect()\n        getGlobalVisibleRect(r)\n        r.left = paddingLeft\n        r.top = r.top + paddingTop\n        return !r.contains(e.rawX.toInt(), e.rawY.toInt())\n    }\n\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7NeIK.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7NeIK.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 47012139, "answer_count": 1, "score": 14, "last_activity_date": 1519036378, "creation_date": 1508929103, "last_edit_date": 1509356847, "question_id": 46930625, "link": "https://stackoverflow.com/questions/46930625/recyclerview-listen-to-padding-click-events", "title": "Recyclerview: listen to padding click events", "body": "<p>I have an horizontal <code>RecyclerView</code> with <code>leftPadding = 48dp</code>, <code>topPadding = 24dp</code> and <code>clipToPadding = false</code>. It starts with an empty space on the left, but when the user scrolls the list its items are drawn on that (previously empty) space. The top space is always empty.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xmzOd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xmzOd.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This <code>RecyclerView</code> is inside a FrameLayout with <code>foreground = selectableItemBackground</code>.</p>\n\n<p>My problem comes from the fact that the <code>RecyclerView</code> consumes and ignores touches on the left and top spaces, meaning an <code>OnClickListener</code> won't be triggered, both when attached to the <code>FrameLayout</code> or to the <code>RecyclerView</code>.</p>\n\n<p>I already tried with <code>clickable = false</code> and <code>focusable = false</code> on the <code>RecyclerView</code>, it doesn't work.</p>\n\n<p>What I'm looking for:</p>\n\n<ol>\n<li>Scrollable <code>RecyclerView</code>\n<a href=\"https://i.stack.imgur.com/ZESPi.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZESPi.jpg\" alt=\"enter image description here\"></a></li>\n<li>Clickable <code>RecyclerView</code> items\n<a href=\"https://i.stack.imgur.com/BQzHe.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BQzHe.jpg\" alt=\"enter image description here\"></a></li>\n<li><code>FrameLayout</code> click events when <code>RecyclerView's</code> empty spaces are clicked</li>\n<li>(alternative to 3) Clickable <code>RecyclerView's</code> empty spaces\n<a href=\"https://i.stack.imgur.com/Usca1.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Usca1.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/s9D4W.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s9D4W.jpg\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>EDIT: I've created a simple project that shows the problem I'm talking about: <a href=\"https://github.com/dadino/recyclerviewemptyspacestest\" rel=\"noreferrer\">https://github.com/dadino/recyclerviewemptyspacestest</a>\nThere are 2 commits, on the first one I try to catch the click on the parent view, on the second one I try to catch the click on the RecyclerView itself. Neither of them works.</p>\n"}, {"tags": ["kotlin", "logback", "slf4j", "extension-function"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1508931049, "post_id": 46930386, "comment_id": 80809235, "body": "It seems like <code>LoggerFactory.getLogger(...)</code> does not construct a new logger each times and is able to re-use them, but, as said in <a href=\"https://stackoverflow.com/a/3924399/2196460\">this answer</a>, the calls are not free, so you should not do it that way."}, {"owner": {"reputation": 589, "user_id": 2870934, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e350144313fcd939fb5d4534c50c6862?s=128&d=identicon&r=PG&f=1", "display_name": "user2870934", "link": "https://stackoverflow.com/users/2870934/user2870934"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1508941928, "post_id": 46930386, "comment_id": 80817490, "body": "Maybe there is another option to make an extension kotlin function with logback?"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508998476, "post_id": 46930386, "comment_id": 80841119, "body": "If you use <code>Any.foo() { do sth with javaClass }</code> and call it like <code>String.foo()</code>, then <code>javaClass</code> should be <code>String</code> or <code>Any</code> (I&#39;m not sure), but definitely not the calling class. However, compared to the old-fashioned way this doesn&#39;t give you the same result"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508998567, "post_id": 46930386, "comment_id": 80841156, "body": "Actually I&#39;d probably go with <code>interface HasLogger { val logger : Logger }</code> and define <code>HasLogger.log()</code>. Although this still requires one logger per instance and not one logger per class"}], "answers": [{"tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 3, "last_activity_date": 1509019563, "creation_date": 1509019563, "answer_id": 46953892, "question_id": 46930386, "link": "https://stackoverflow.com/questions/46930386/kotlin-extension-log-function-with-logbackslf4j/46953892#46953892", "title": "Kotlin extension log function with logback(slf4j)", "body": "<p>For logging, I could recommend another solution.</p>\n\n<p>First, add interface ILogging and class LoggingImpl:</p>\n\n<pre><code>interface ILogging {\n    val log: Logger\n}\n\nclass LoggingImp(loggerImpl: Logger) : ILogging {\n    override val log: Logger = loggerImpl\n\n    companion object {\n        operator inline fun &lt;reified T&gt; invoke(): LoggingImp {\n            return LoggingImp(LoggerFactory.getLogger(T::class.java))\n        }\n    }\n}\n</code></pre>\n\n<p>And now you could add logger to any class using Kotlin delegation:</p>\n\n<pre><code>class TestClass : ILogging by LoggingImp&lt;TestClass&gt;() {\n    fun test() {\n        log.info(\"test\")\n    }\n}\n</code></pre>\n\n<p>Logger will be created when create parent object. Example of usage:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val testClass = TestClass()\n\n    testClass.test()\n}\n</code></pre>\n\n<p>Hope, this will help you. </p>\n"}], "owner": {"reputation": 589, "user_id": 2870934, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e350144313fcd939fb5d4534c50c6862?s=128&d=identicon&r=PG&f=1", "display_name": "user2870934", "link": "https://stackoverflow.com/users/2870934/user2870934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1744, "favorite_count": 0, "accepted_answer_id": 46953892, "answer_count": 1, "score": 5, "last_activity_date": 1509119400, "creation_date": 1508928437, "question_id": 46930386, "link": "https://stackoverflow.com/questions/46930386/kotlin-extension-log-function-with-logbackslf4j", "title": "Kotlin extension log function with logback(slf4j)", "body": "<p>I have create an extension function for logging:</p>\n\n<pre><code>import org.slf4j.LoggerFactory\n\nfun Any.log(msg: String) {\n    LoggerFactory.getLogger(javaClass.name).debug(msg)\n}\n</code></pre>\n\n<p>But i'm not sure about will it be init any time when it will be called or not, because method <code>LoggerFactory.getLogger</code> invoking <code>getILoggerFactory</code>.</p>\n\n<p>Mb someone already did something like that and can assure me that it's won't be any memory leaks :) ?</p>\n\n<p>For now i using old fashion approach(of declaring logger field in a class):</p>\n\n<pre><code>companion object {\n    private val logger = LoggerFactory.getLogger(LoggerTest::class.java.name)\n}\n</code></pre>\n\n<p>but a simple <code>unit</code> test like this:</p>\n\n<pre><code>@Test\nfun testLogger() {\n    val start = System.currentTimeMillis()\n    for (i in 0..999) {\n        log(\"i=\" + i)\n    }\n    val end = System.currentTimeMillis()\n    val time = end - start\n    println(\"*** TIME=\" + time.toDouble() / 1000 + \" sec\")\n}\n</code></pre>\n\n<p>shows same result as with old fashion option:</p>\n\n<pre><code>@Test\nfun testLogger() {\n    val start = System.currentTimeMillis()\n    for (i in 0..999) {\n        logger.debug(\"i=\" + i)\n    }\n    val end = System.currentTimeMillis()\n    val time = end - start\n    println(\"*** TIME=\" + time.toDouble() / 1000 + \" sec\")\n}\n\ncompanion object {\n    private val logger = LoggerFactory.getLogger(LoggerTest::class.java.name)\n}\n</code></pre>\n\n<p>~ <code>*** TIME=0.02 sec</code></p>\n\n<p>I'm using:</p>\n\n<pre><code>org.slf4j - 1.7.25\nch.qos.logback - 1.2.3\n</code></pre>\n"}, {"tags": ["properties", "kotlin", "field"], "answers": [{"comments": [{"owner": {"reputation": 3038, "user_id": 923557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b23414bad0323fc9258c50a931edf1a?s=128&d=identicon&r=PG", "display_name": "Nino van Hooff", "link": "https://stackoverflow.com/users/923557/nino-van-hooff"}, "edited": false, "score": 0, "creation_date": 1508922797, "post_id": 46928177, "comment_id": 80803561, "body": "Isn&#39;t it a waste of memory to have an unused circleColor Int?"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1508922085, "creation_date": 1508922085, "answer_id": 46928177, "question_id": 46928048, "link": "https://stackoverflow.com/questions/46928048/kotlin-getter-setter-without-field/46928177#46928177", "title": "Kotlin getter setter without field", "body": "<p>I'd suggest to just implement it the way you're intending to do it:</p>\n\n<pre><code>var circleColor: Int\n    @ColorInt get() = circlePaint.color\n    set(@ColorInt color) {\n        circlePaint.color = ColorUtils.setAlphaComponent(color, circlePaint.alpha)\n    }\n</code></pre>\n"}], "owner": {"reputation": 3038, "user_id": 923557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b23414bad0323fc9258c50a931edf1a?s=128&d=identicon&r=PG", "display_name": "Nino van Hooff", "link": "https://stackoverflow.com/users/923557/nino-van-hooff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 46928177, "answer_count": 1, "score": 1, "last_activity_date": 1508922085, "creation_date": 1508921682, "question_id": 46928048, "link": "https://stackoverflow.com/questions/46928048/kotlin-getter-setter-without-field", "title": "Kotlin getter setter without field", "body": "<p>I would like to create a getter and setter without a field. Currently I have this function:</p>\n\n<pre><code>/** Only the color component will be considered, alpha has no effect */ \nfun setCircleColor(@ColorInt color : Int){\n    circlePaint.color = ColorUtils.setAlphaComponent(color, circlePaint.alpha)\n}\n</code></pre>\n\n<p>Ideally I would like to have something like this</p>\n\n<pre><code>circleColor: @ColorInt Int \n  get(){\n    return circlePaint.color\n  set(value){\n    circlePaint.color = ColorUtils.setAlphaComponent(color, circlePaint.alpha)\n  }\n</code></pre>\n\n<p>As you can see, I don't want to store circleColor in a var, yet be able to call </p>\n\n<p><code>myView.color = 0xFFaaaaaa</code> \ninstead of <code>myView.setColor(0xFFaaaaaa)</code>. Is this possible?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 2, "last_activity_date": 1508901314, "creation_date": 1508901314, "answer_id": 46923356, "question_id": 46923161, "link": "https://stackoverflow.com/questions/46923161/kotlin-access-backing-field-in-other-place/46923356#46923356", "title": "Kotlin access backing field in other place?", "body": "<p>No. Your C# example works fine in Kotlin, it's called a <a href=\"http://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow noreferrer\">backing property</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2569, "user_id": 2853392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2j5ao.jpg?s=128&g=1", "display_name": "vishal jangid", "link": "https://stackoverflow.com/users/2853392/vishal-jangid"}, "is_accepted": true, "score": 1, "last_activity_date": 1508903330, "creation_date": 1508903330, "answer_id": 46923661, "question_id": 46923161, "link": "https://stackoverflow.com/questions/46923161/kotlin-access-backing-field-in-other-place/46923661#46923661", "title": "Kotlin access backing field in other place?", "body": "<p>Kotlin, You can use backing properties</p>\n\n<p><strong>Backing Properties</strong></p>\n\n<p>If you want to do something that does not fit into this \"implicit backing field\" scheme, you can always fall back to having a backing property:</p>\n\n<pre><code>private var _table: Map&lt;String, Int&gt;? = null\npublic val table: Map&lt;String, Int&gt;\n    get() {\n        if (_table == null) {\n            _table = HashMap() // Type parameters are inferred\n        }\n        return _table ?: throw AssertionError(\"Set to null by another thread\")\n    }\n</code></pre>\n\n<p>In all respects, this is just the same as in Java since access to private properties with default getters and setters is optimized so that no function call overhead is introduced.</p>\n"}], "owner": {"reputation": 429, "user_id": 8499384, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WyvDW.jpg?s=128&g=1", "display_name": "BlackCat", "link": "https://stackoverflow.com/users/8499384/blackcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 46923661, "answer_count": 2, "score": 0, "last_activity_date": 1508903330, "creation_date": 1508899809, "last_edit_date": 1508900446, "question_id": 46923161, "link": "https://stackoverflow.com/questions/46923161/kotlin-access-backing-field-in-other-place", "title": "Kotlin access backing field in other place?", "body": "<p>I find it can only access backing field in the set or get.Is there any way can access backing field in other place at class?\nfor example.</p>\n\n<pre><code>var width:Int=0\nget() {\n    return field*10;\n}\nset(value) {\n    field=value/10;\n}\n</code></pre>\n\n<p>I want to access the real value but not it multiple 10</p>\n\n<p>when i using c#,there are no field keyword so always need to declare a new variable to store the real data.In the previous example it's will be something look like</p>\n\n<pre><code>private var _width=0;\nvar width:Int\nget() {\n    return _width*10;\n}\nset(value) {\n    _width=value/10;\n}\n</code></pre>\n\n<p>so if i want to access real value in the class,i can just access _value.\nBut in kotlin,is there have someway can just access backing field without these verbose declaration?</p>\n"}, {"tags": ["android", "facebook", "button", "sdk", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "is_accepted": false, "score": 0, "last_activity_date": 1508916689, "creation_date": 1508916689, "answer_id": 46926499, "question_id": 46922546, "link": "https://stackoverflow.com/questions/46922546/facebook-info-not-showing/46926499#46926499", "title": "Facebook info not showing", "body": "<p>You must use FirebaseAuth.getInstance() instead of App.currentAuth.\nFor example;</p>\n\n<pre><code>val mAuth = FirebaseAuth.getInstance()\n\nval credential = FacebookAuthProvider.getCredential(token)\nmAuth.signInWithCredential(credential)\n  .addOnCompleteListener(this) { task -&gt;\n    if (task.isSuccessful) {\n\n      val user = mAuth.currentUser\n\n    } else {\n\n      task.exception?.printStackTrace()\n\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1181, "user_id": 6067866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SFK5E.png?s=128&g=1", "display_name": "Vanraj Ghed", "link": "https://stackoverflow.com/users/6067866/vanraj-ghed"}, "is_accepted": false, "score": 0, "last_activity_date": 1508917671, "creation_date": 1508917671, "answer_id": 46926780, "question_id": 46922546, "link": "https://stackoverflow.com/questions/46922546/facebook-info-not-showing/46926780#46926780", "title": "Facebook info not showing", "body": "<p><strong>Try This it's work for me</strong></p>\n\n<pre><code> private fun loginWithFaceBook()\n    {\n        LoginManager.getInstance().registerCallback(callbackManager, facebookCallBack)\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(\"public_profile\",\"email\"))\n    }\n\n    private val facebookCallBack = object : FacebookCallback&lt;LoginResult&gt; {\n\n        override fun onSuccess(result: LoginResult?) {\n                val graphRequest = GraphRequest.newMeRequest(result?.accessToken) { _, response -&gt;\n\n                val graphObject = response.jsonObject\n                val id = if(graphObject.has(\"id\")) graphObject.getString(\"id\") else null\n                val email = if(graphObject.has(\"email\")) graphObject.getString(\"email\") else null\n                val firstName = if(graphObject.has(\"first_name\")) graphObject.getString(\"first_name\") else null\n                val lastName = if(graphObject.has(\"last_name\")) graphObject.getString(\"last_name\") else null\n                val photoUrl = if(graphObject.has(\"picture\")) {\n                        val picture : JSONObject = graphObject.getJSONObject(\"picture\")\n                        if(picture.has(\"data\") &amp;&amp; picture.has(\"url\") &amp;&amp; picture.getString(\"url\").isNotBlank()) {\n                           picture.getString(\"url\")\n                        }\n                        else\n                            null\n                }\n                else\n\n\n            val bundle = Bundle()\n            bundle.putString(\"fields\", \"id,first_name,last_name,name,picture,email,gender,birthday,link\")\n            graphRequest.parameters = bundle\n            graphRequest.executeAsync()\n\n        }\n\n        override fun onError(error: FacebookException) {\n            when{\n                error.message != null -&gt; showSnackbar(error.message.toString())\n            }\n        }\n\n        override fun onCancel() {\n\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 8121548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5ca5f9a2906614731dd01681dbbaf720?s=128&d=identicon&r=PG&f=1", "display_name": "Flugrek", "link": "https://stackoverflow.com/users/8121548/flugrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508955354, "creation_date": 1508895251, "question_id": 46922546, "link": "https://stackoverflow.com/questions/46922546/facebook-info-not-showing", "title": "Facebook info not showing", "body": "<p>I'm trying to get the user info with this code but is not showing on the activity \nThe profile picture and the name are not creating a new user on the base</p>\n\n<p>What am I missing?\nDoes anyone had coded this using Kotlin?</p>\n\n<pre><code>private fun handleFacebookAccessToken(token: AccessToken) {\n    Log.d(TAG, \"handleFacebookAccessToken:\" + token)\n\n    val credential = FacebookAuthProvider.getCredential(token.token)\n    App.currentAuth.signInWithCredential(credential)\n            .addOnCompleteListener(this) { Log.d(TAG, \"signInWithCredential:success\") }\n            .addOnSuccessListener(this) { authResult -&gt;\n                if (authResult != null) {\n                    val firebaseUser = authResult.user\n                    if (App.database_table_users.child(firebaseUser.uid) == null) {\n                        var facebookId = \"\"\n                        firebaseUser.providerData\n                                .filter { it.providerId == FacebookAuthProvider.PROVIDER_ID }\n                                .forEach { facebookId = it.uid }\n\n                        val photoUrl = \"https://graph.facebook.com/$facebookId/picture?width=1024&amp;height=1024\"\n                        App.database_table_users.child(firebaseUser.uid).setValue(\n                                User(firebaseUser.uid,\n                                        firebaseUser.email.orEmpty(),\n                                        firebaseUser.displayName.orEmpty(),\n                                        photoUrl,\n                                        false\n                                )\n                        )\n                    }\n                }\n            }\n            .addOnFailureListener(this) { ex -&gt;\n                if (ex is FirebaseAuthUserCollisionException) {\n                    LoginManager.getInstance().logOut()\n                    val ad = AlertDialog.Builder(this@LoginActivity)\n                    ad.setMessage(getString(R.string.auth_user_collision))\n                    ad.setPositiveButton(getString(R.string.ok), null)\n                    ad.show()\n                } else {\n                    ex.printStackTrace()\n                }\n            }\n}\n</code></pre>\n"}, {"tags": ["string", "kotlin", "extension-methods", "boxing"], "comments": [{"owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 1, "creation_date": 1508895765, "post_id": 46922445, "comment_id": 80792423, "body": "Are you against making these functions of Customer instead of this string subtype you want? Have a <code>Customer.zipCodePlusFour</code> and a <code>Customer.emailDomain</code>?"}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "reply_to_user": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1508896969, "post_id": 46922445, "comment_id": 80792747, "body": "That&#39;s the backup plan, because I hate the idea of boxing just for this.  Because this is a simplified example, it doesn&#39;t show that there are many fields of each string &quot;subtype&quot; which would ideally inherit the same functionality.  However, even with your suggestion, I could just have a master function for each subtype&#39;s behavior that takes a parameter to indicate which var it is to operate on."}, {"owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 1, "creation_date": 1508897208, "post_id": 46922445, "comment_id": 80792811, "body": "Yea I agree with the anti-boxing sentiment. Have you also considered perhaps going the extension method route, but returning a nullable/option type so that the extension method could null/None if it wasn&#39;t a valid string to begin with? That may end up being more overhead than the boxing though..."}], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508901354, "post_id": 46922682, "comment_id": 80793872, "body": "Implementing <code>Comparable&lt;String&gt;</code> for a class that is not a subclass of type <code>String</code> doesn&#39;t make sense. While you can call <code>YourString.compareTo(String)</code>, it will be impossible to call <code>String.compareTo(YourString)</code> or <code>YourString.compareTo(YourString)</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1508914348, "post_id": 46922682, "comment_id": 80798285, "body": "This fails objective 1."}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1508915837, "post_id": 46922682, "comment_id": 80799166, "body": "This is interesting, but as Alexey mentions, it doesn&#39;t fully avoid the overhead and the referential ugliness of applying the lipstick to the pig (and/or its values).  However, you&#39;ve set me thinking about delegates, both class- and property-type.  I&#39;m looking into the source code implementations of <code>lazy</code> and others to see if I can get any ideas.  I&#39;m wondering if the 1.1 addition of <code>provideDelegate</code> might provide the necessary place to slip in the syntactic magic.  More to come... or if anyone has thoughts... I&#39;m still interested."}], "tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": false, "score": 1, "last_activity_date": 1508896265, "creation_date": 1508896265, "answer_id": 46922682, "question_id": 46922445, "link": "https://stackoverflow.com/questions/46922445/alternatives-to-boxing-string-field-or-extending-all-strings-in-kotlin/46922682#46922682", "title": "Alternatives to boxing string field or extending ALL strings in Kotlin?", "body": "<p>You may create a decorator class using delegate:</p>\n\n<pre><code>class YourString(val value: String) : Comparable&lt;String&gt; by value, CharSequence by value {\n\n    val plusFour: String\n        get() = \"\"  //your logic here\n\n    val domain: String\n        get() = \"\"  //your logic here\n\n    override fun toString() = value\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun String.toYourString() = YourString(this)\n\nclass Customer(var zipCode: YourString, var email: YourString)\n\nval customer = Customer(\"+4 99999-9999\".toYourString(), \"xxx@company.com\".toYourString())\nprintln(customer.zipCode.plusFour)\nprintln(customer.email.domain)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1508916209, "post_id": 46926014, "comment_id": 80799424, "body": "This is a good fallback as well, but as you say, would be better if/when assignment-incompatible type aliases worked.  I&#39;m going to tinker with delegates a bit more, and if it leads nowhere, then I&#39;m coming back to your <code>typealias</code> idea."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1508915086, "creation_date": 1508915086, "answer_id": 46926014, "question_id": 46922445, "link": "https://stackoverflow.com/questions/46922445/alternatives-to-boxing-string-field-or-extending-all-strings-in-kotlin/46926014#46926014", "title": "Alternatives to boxing string field or extending ALL strings in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a> to make the intention clear:</p>\n\n<pre><code>typealias ZipCode = String\nval ZipCode.plusFour get() = ...\n\ntypealias Email = String\nval Email.domain get() = ...\n\nclass Customer {\n  // ...\n  var zipcode: ZipCode\n  var email: Email\n  // ...\n}\n</code></pre>\n\n<p>Unfortunately, this <em>only</em> clarifies intentions and doesn't stop the compiler from allowing <code>zipcode.domain</code>. But for now I don't think there is any way which satisfies both objectives 1 and 3.</p>\n\n<p>Kotlin developers have decided not to support assignment-incompatible type aliases, which would have fit all your requirements, in favor of waiting for value classes to be available on JVM, as discussed in <a href=\"https://github.com/Kotlin/KEEP/issues/4\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/issues/4</a>.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 2, "accepted_answer_id": 46926014, "answer_count": 2, "score": 3, "last_activity_date": 1508915086, "creation_date": 1508894435, "question_id": 46922445, "link": "https://stackoverflow.com/questions/46922445/alternatives-to-boxing-string-field-or-extending-all-strings-in-kotlin", "title": "Alternatives to boxing string field or extending ALL strings in Kotlin?", "body": "<p>Given that one can't subclass builtin types in Kotlin, I'm looking for a way to add special method functionality to <strong>specific types of string fields</strong> in a record, without applying those extension functions to <strong>all strings</strong> (even within that record type).  Say, for example, I have some mutable string fields inside a record, for which I want to define special purpose behaviors.</p>\n\n<pre><code>class Customer {\n  // ...\n  var zipcode: String\n  var email: String\n  // ...\n}\n</code></pre>\n\n<ul>\n<li>For <code>zipcode</code>, assume I'd like to be able to call\n<code>thisCustomer.zipcode.plusFour</code> to get the +4 of the zip code (99999-<strong>9999</strong>) via regex.</li>\n<li>For <code>email</code>, assume I'd like to be able to call\n<code>thisCustomer.email.domain</code> to have a regex go get the ...@<strong>company.com</strong>\nportion of the specified email.</li>\n</ul>\n\n<p>My objectives are to:</p>\n\n<ol>\n<li>Avoid the runtime overhead of boxing <code>zipcode</code> into a <code>class Zipcode</code> with just a \nsingle var inside, given that the size of the Customer recordset could potentailly be millions.</li>\n<li>Avoid the syntax of having to assign \n    <code>thisCustomer.zipcode.value = \"99999-9999\"</code> or <code>thisCustomer.zipcode = Zipcode(\"99999-9999\")</code>, if I did end up having to box the string.</li>\n<li>Avoid adding general <code>String.plusFour</code> and\n    <code>String.domain</code> extension properties, even just within the Customer\n    class... because zipcodes and emails could technically call each others'\n    extensions</li>\n</ol>\n\n<p>I've been thinking this over and considered the following options, but struck out with each:</p>\n\n<ul>\n<li>subclassing String:  <em>Not possible since strings (and all built-ins)\nare closed</em></li>\n<li>applying an interface Zip to the var declaration (<code>var zipcode:\nString, Zip</code>):  <em>No such syntax I could find</em></li>\n<li>adding inner functions within the getter itself:  <em>Syntax doesn't seem to exist for this</em></li>\n<li>using objects or functions-within-functions:  <em>Couldn't think of a way\nfor this to work, although I might not be imaginative enough</em></li>\n</ul>\n\n<p>Am I missing an obvious solution here?  Even if not obvious, with all the syntactic magic of Kotlin, is there a way to make it happen?  Maybe there's a way to accomplish some/all of the objectives above without using any of these approaches?</p>\n"}, {"tags": ["android-studio", "kotlin", "rx-java", "rx-java2", "android-studio-3.0"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 6487528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062238b667b2ce3a7882214c48e16135?s=128&d=identicon&r=PG&f=1", "display_name": "Joeleski", "link": "https://stackoverflow.com/users/6487528/joeleski"}, "edited": false, "score": 0, "creation_date": 1508913859, "post_id": 46925070, "comment_id": 80797977, "body": "This issue might be of interest &quot;Dealing with necessary SAM adapters with RxJava2&quot; <a href=\"https://github.com/ReactiveX/RxKotlin/issues/103\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxKotlin/issues/103</a>"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508915834, "post_id": 46925070, "comment_id": 80799164, "body": "Can you post the whole statement? (the whole temp() method from my question)I am afraid it doesn&#39;t work"}, {"owner": {"reputation": 451, "user_id": 6487528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062238b667b2ce3a7882214c48e16135?s=128&d=identicon&r=PG&f=1", "display_name": "Joeleski", "link": "https://stackoverflow.com/users/6487528/joeleski"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508967082, "post_id": 46925070, "comment_id": 80832156, "body": "Updated to include the whole temp method @okset"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508967570, "post_id": 46925070, "comment_id": 80832367, "body": "Thanks, i also tried this but not worked. What worked for me was this: Function3&lt;List&lt;String&gt;, List&lt;Int&gt;, Boolean, Boolean&gt; { t1, t2, t3 -&gt;                     saveEvents(t1, t2, t3)"}, {"owner": {"reputation": 451, "user_id": 6487528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062238b667b2ce3a7882214c48e16135?s=128&d=identicon&r=PG&f=1", "display_name": "Joeleski", "link": "https://stackoverflow.com/users/6487528/joeleski"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508994073, "post_id": 46925070, "comment_id": 80839474, "body": "I&#39;ll update the answer to what worked for you. It may depend on the version of Kotlin as to whether the explicit type arguments are required"}], "tags": [], "owner": {"reputation": 451, "user_id": 6487528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062238b667b2ce3a7882214c48e16135?s=128&d=identicon&r=PG&f=1", "display_name": "Joeleski", "link": "https://stackoverflow.com/users/6487528/joeleski"}, "is_accepted": true, "score": 7, "last_activity_date": 1538629483, "last_edit_date": 1538629483, "creation_date": 1508911595, "answer_id": 46925070, "question_id": 46920864, "link": "https://stackoverflow.com/questions/46920864/kotlin-and-rxjava2-zip-operator-none-of-the-following-functions-can-be-called/46925070#46925070", "title": "Kotlin and RxJava2 zip operator - None of the following functions can be called with the arguments supplied", "body": "<p>For some reason using RxJava 1.1.7 it considers explicitly specifying the type of zipper argument as Func3 a redundant SAM-constructor (which it is) and allows you to replace it with a lambda. However, using RxJava 2.1.5 the type changes to Function3 and it no longer recognises it as an interface with a single abstract method (which it still is). I'm not sure why that is. </p>\n\n<p>Regardless, specifying the type of the zipper function will do the trick:</p>\n\n<pre><code>import io.reactivex.functions.Function3\n...\n\nfun temp() {\n    Observable.zip&lt;List&lt;String&gt;, List&lt;Int&gt;, Boolean, Boolean&gt;(updateStringEventsSubject.buffer(trigger),\n            updateIntEventsSubject.buffer(trigger),\n            trigger, Function3 { strings, integers, someBoolean -&gt; saveEvents(strings, integers, someBoolean) } )\n            .subscribe()\n}\n</code></pre>\n\n<p>Note: I managed to get it to work without explicitly specifying the type arguments for <code>Function3</code>. It may depend on which version of Kotlin or RxJava you're using as to whether it can infer the types. If not you can always be more explicit:</p>\n\n<pre><code>Function3&lt;List&lt;String&gt;, List&lt;Int&gt;, Boolean, Boolean&gt; { ... }\n</code></pre>\n\n<p><strong>Edit:</strong> There's an even easier way: Use <code>io.reactivex.rxkotlin.Observables</code> instead. It's an inline function that does the ugly type declaration under the hood for us. Then you can just do this:</p>\n\n<pre><code>import io.reactivex.rxkotlin.Observables\n...\n\nObservables.zip(updateStringEventsSubject.buffer(trigger),\n                updateIntEventsSubject.buffer(trigger),\n                trigger, \n                ::saveEvents)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1525785167, "creation_date": 1525785167, "answer_id": 50234505, "question_id": 46920864, "link": "https://stackoverflow.com/questions/46920864/kotlin-and-rxjava2-zip-operator-none-of-the-following-functions-can-be-called/50234505#50234505", "title": "Kotlin and RxJava2 zip operator - None of the following functions can be called with the arguments supplied", "body": "<p>Thanks to @Joeleski I found a bug. In my case I <em>specified type explicitly</em> to every parameter of a <code>zip</code> operator, then found that one variable had a wrong type.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11518520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BO7jp4Sz7C4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsTVTRv0i_EJhqnHLuIeViDD-Yfw/mo/photo.jpg?sz=128", "display_name": "Nick Kalpakis", "link": "https://stackoverflow.com/users/11518520/nick-kalpakis"}, "is_accepted": false, "score": 0, "last_activity_date": 1560896934, "creation_date": 1560896934, "answer_id": 56657832, "question_id": 46920864, "link": "https://stackoverflow.com/questions/46920864/kotlin-and-rxjava2-zip-operator-none-of-the-following-functions-can-be-called/56657832#56657832", "title": "Kotlin and RxJava2 zip operator - None of the following functions can be called with the arguments supplied", "body": "<p>For who it may concern....</p>\n\n<p>I had this issue when trying to execute <code>Observable.merge()</code> </p>\n\n<p>The solution was changing it to <code>Observable.mergeArray()</code></p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3800, "favorite_count": 0, "accepted_answer_id": 46925070, "answer_count": 3, "score": 8, "last_activity_date": 1560896934, "creation_date": 1508883171, "last_edit_date": 1508885945, "question_id": 46920864, "link": "https://stackoverflow.com/questions/46920864/kotlin-and-rxjava2-zip-operator-none-of-the-following-functions-can-be-called", "title": "Kotlin and RxJava2 zip operator - None of the following functions can be called with the arguments supplied", "body": "<p>I have a problem with writing the .zip Observable in Kotlin using Android Studio 3.0 IDE.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>internal var updateStringEventsSubject = PublishSubject.create&lt;String&gt;()\ninternal var updateIntEventsSubject = PublishSubject.create&lt;Int&gt;()\n\ninternal var triggerSave = PublishSubject.create&lt;Boolean&gt;()\ninternal var triggerStopAndSave = PublishSubject.create&lt;Boolean&gt;()\n\ninternal var normalSaveTrigger = triggerSave.debounce(30, TimeUnit.SECONDS)\ninternal var trigger = Observable.merge(normalSaveTrigger, triggerStopAndSave)\n\nprivate fun saveEvents(\n        strings: List&lt;String&gt;,\n        integers: List&lt;Int&gt;,\n        someBoolean: Boolean): Boolean {\n\n    return true //doesn't matter for now\n}\n\nfun temp() {\n    Observable.zip&lt;List&lt;String&gt;, List&lt;Int&gt;, Boolean, Boolean&gt;(updateStringEventsSubject.buffer(trigger),\n            updateIntEventsSubject.buffer(trigger),\n            trigger, { strings: List&lt;String&gt;, integers: List&lt;Int&gt;, someBoolean: Boolean -&gt; saveEvents(strings, integers, someBoolean) })\n            .subscribe()\n}\n</code></pre>\n\n<p>However, my IDE(Android Studio 3.0 RC2) underlines the .zip operator and says:</p>\n\n<blockquote>\n  <p>None of the following functions can be called with the arguments supplied.\n  zip(((observer: Observer!>) \u2192 Unit)!, ((observer: Observer!>) \u2192 Unit)!, ((observer: Observer) \u2192 Unit)!, ((t1: List, t2: List, t3: Boolean) \u2192 Boolean)!) \u00a0\u00a0where T1 = List, T2 = List, T3 = Boolean, R = Boolean for  \u00a0\u00a0fun  zip(source1: ((observer: Observer) \u2192 Unit)!, source2: ((observer: Observer) \u2192 Unit)!, source3: ((observer: Observer) \u2192 Unit)!, zipper: ((t1: T1, t2: T2, t3: T3) \u2192 R)!): Observable! defined in io.reactivex.Observable\n  zip(((observer: Observer!>) \u2192 Unit)!, ((observer: Observer!>) \u2192 Unit)!, ((t1: List, t2: List) \u2192 Boolean)!, Boolean) \u00a0\u00a0where T1 = List, T2 = List, R = Boolean for  \u00a0\u00a0fun  zip(source1: ((observer: Observer) \u2192 Unit)!, source2: ((observer: Observer) \u2192 Unit)!, zipper: ((t1: T1, t2: T2) \u2192 R)!, delayError: Boolean): Observable! defined in io.reactivex.Observable\n  zip(ObservableSource!>!, ObservableSource!>!, ObservableSource!, io.reactivex.functions.Function3!, in List!, in Boolean!, out Boolean!>!) \u00a0\u00a0where T1 = List, T2 = List, T3 = Boolean, R = Boolean for  \u00a0\u00a0fun  zip(source1: ObservableSource!, source2: ObservableSource!, source3: ObservableSource!, zipper: Function3!): Observable! defined in io.reactivex.Observable\n  zip(ObservableSource!>!, ObservableSource!>!, BiFunction!, in List!, out Boolean!>!, Boolean) \u00a0\u00a0where T1 = List, T2 = List, R = Boolean for  \u00a0\u00a0fun  zip(source1: ObservableSource!, source2: ObservableSource!, zipper: BiFunction!, delayError: Boolean): Observable! defined in io.reactivex.Observable</p>\n</blockquote>\n\n<p>How to make it work with Kotlin?</p>\n"}, {"tags": ["java", "kotlin", "hashcode", "equality"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1508872933, "creation_date": 1508872933, "answer_id": 46918453, "question_id": 46918311, "link": "https://stackoverflow.com/questions/46918311/does-kotlin-structural-equality-check-super-types/46918453#46918453", "title": "Does kotlin structural equality check super types?", "body": "<blockquote>\n  <p>So in other words if we want to check the customer1 == customer2 then we first have to define what structural equality is for Customer by implementing equals, and at that point Kotlin will use our implementation by means of the == operator?</p>\n</blockquote>\n\n<p>Yes. If <code>Customer</code> is a <code>data class</code>, then you get the implementation of <code>equals</code> automatically, otherwise you need to define it explicitly.</p>\n\n<blockquote>\n  <p>So in this case if Customer inherits from Person and we also want perform a structural equality check using properties from Person then we would implement that in the equals(Object object) method?</p>\n</blockquote>\n\n<p>Again, yes (use <code>Any?</code> instead of <code>Object</code>), just like you would in Java, and it's... complicated. See <a href=\"https://stackoverflow.com/a/7798706/9204\">https://stackoverflow.com/a/7798706/9204</a> and <a href=\"https://stackoverflow.com/a/13163898/9204\">https://stackoverflow.com/a/13163898/9204</a>, and the articles linked from them, for more.</p>\n\n<p>I'll add that Kotlin's usage of the term \"structural equality\" is not the normal one. It's usually reserved for the cases where equality is checked by comparing all (relevant) fields for equality like in <code>data class</code>, not \"whatever <code>equals</code> happens to do\".</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 46918453, "answer_count": 1, "score": 1, "last_activity_date": 1508872933, "creation_date": 1508872353, "question_id": 46918311, "link": "https://stackoverflow.com/questions/46918311/does-kotlin-structural-equality-check-super-types", "title": "Does kotlin structural equality check super types?", "body": "<p>I read up on my subject heading a little bit more, and I just want to make sure I understand this correctly. It seems like the answer is that we still need to override equals on the class to define what the structural equality check is?  So in other words if we want to check the <code>customer1 == customer2</code> then we first have to define what structural equality is for <code>Customer</code> by implementing equals, and at that point Kotlin will use our implementation by means of the <code>==</code> operator?</p>\n\n<p>So in this case if <code>Customer</code> inherits from <code>Person</code> and we also want perform a structural equality check using properties from <code>Person</code> then we would implement that in the <code>equals(Object object)</code> method?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1508864522, "post_id": 46915905, "comment_id": 80779580, "body": "Multiplatform projects always use Gradle. Creating a multiplatform project adds the kotlin-stdlib-js dependency to the JavaScript module in the project."}], "answers": [{"comments": [{"owner": {"reputation": 600, "user_id": 5287436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f58a88a0c7cc7ed6117b1255f27a12?s=128&d=identicon&r=PG&f=1", "display_name": "Hai nguyen thanh", "link": "https://stackoverflow.com/users/5287436/hai-nguyen-thanh"}, "edited": false, "score": 0, "creation_date": 1582276875, "post_id": 46916475, "comment_id": 106729186, "body": "Can you please convert it to build.gradle.kts?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1508868263, "last_edit_date": 1508868263, "creation_date": 1508865731, "answer_id": 46916475, "question_id": 46915905, "link": "https://stackoverflow.com/questions/46915905/where-does-intellij-put-kotlin-js-in-a-multiplatform-project/46916475#46916475", "title": "Where does intelliJ put kotlin.js in a Multiplatform Project", "body": "<p>As said in the docs <a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html#examining-the-compilation-output\" rel=\"nofollow noreferrer\">where the <code>kotlin.js</code> is mentioned</a>:</p>\n\n<blockquote>\n  <p>Note: ... In a Maven or Gradle build, no library files are copied by default to the compilation output directory, see the corresponding tutorials for the instructions. </p>\n</blockquote>\n\n<p>The Kotlin Multiplatform project builds are always run with Gradle, and you need to refer to the <a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">Gradle tutorial</a>, which says:</p>\n\n<blockquote>\n  <p>By default, Gradle does not expand the JARs in the build process, so we need to add an additional step in our build to do so:</p>\n\n<pre><code>task assembleWeb(type: Sync) {\n    configurations.compile.each { File file -&gt;\n        from(zipTree(file.absolutePath), {\n            includeEmptyDirs = false\n            include { fileTreeElement -&gt;\n                def path = fileTreeElement.path\n                path.endsWith(\".js\") &amp;&amp; (path.startsWith(\"META-INF/resources/\") || \n                    !path.startsWith(\"META-INF/\"))\n            }\n        })\n    }\n    from compileKotlin2Js.destinationDir\n    into \"${projectDir}/web\"\n\n    dependsOn classes\n}\n\nassemble.dependsOn assembleWeb\n</code></pre>\n  \n  <p>This task copies both dependencies runtime files and the compilation output to the web directory.</p>\n</blockquote>\n"}], "owner": {"reputation": 1858, "user_id": 4690711, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-OyIsivw15Ww/AAAAAAAAAAI/AAAAAAAAAWw/wDgQJ3UYMhw/photo.jpg?sz=128", "display_name": "Dave Ford", "link": "https://stackoverflow.com/users/4690711/dave-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508868263, "creation_date": 1508863554, "question_id": 46915905, "link": "https://stackoverflow.com/questions/46915905/where-does-intellij-put-kotlin-js-in-a-multiplatform-project", "title": "Where does intelliJ put kotlin.js in a Multiplatform Project", "body": "<p>When using IntelliJ to create a Multiplatform Project, it doesn't seem to create kotlin.js (the std lib) like it does for a js project. </p>\n"}, {"tags": ["android", "android-asynctask", "kotlin", "android-dialogfragment"], "answers": [{"comments": [{"owner": {"reputation": 847, "user_id": 5400847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/---nToSRbky4/AAAAAAAAAAI/AAAAAAAAAXc/RGgyKXJX5XE/photo.jpg?sz=128", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/5400847/ayush-singh"}, "edited": false, "score": 0, "creation_date": 1508859989, "post_id": 46914099, "comment_id": 80776757, "body": "So what should I do?"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 847, "user_id": 5400847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/---nToSRbky4/AAAAAAAAAAI/AAAAAAAAAXc/RGgyKXJX5XE/photo.jpg?sz=128", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/5400847/ayush-singh"}, "edited": false, "score": 0, "creation_date": 1508861730, "post_id": 46914099, "comment_id": 80778002, "body": "Generally people store a <code>WeakReference</code> of the parent activity in the <code>AsyncTask</code>, then access that reference in <code>postExecute</code> if they need to call something on the activity."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1508857895, "creation_date": 1508857895, "answer_id": 46914099, "question_id": 46913907, "link": "https://stackoverflow.com/questions/46913907/supportfragmentmanager-becomes-null-android-kotlin/46914099#46914099", "title": "SupportfragmentManager becomes null android kotlin", "body": "<p>In your <code>postExecute</code> function you have the following code:</p>\n\n<pre><code>MainActivity().showAlertDialog(...)\n</code></pre>\n\n<p>This <strong>creates</strong> a new activity object which is definitely not what should be done. Since that object is newly created and not properly initialized by android, internal objects like the supportFragmentManager are not initialized, resulting in the <code>null</code> you're seeing.</p>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "is_accepted": true, "score": 0, "last_activity_date": 1508919791, "creation_date": 1508919791, "answer_id": 46927450, "question_id": 46913907, "link": "https://stackoverflow.com/questions/46913907/supportfragmentmanager-becomes-null-android-kotlin/46927450#46927450", "title": "SupportfragmentManager becomes null android kotlin", "body": "<p>You can use Observer Pattern for this.</p>\n\n<p>Create a interface like that</p>\n\n<pre><code>interface myExecListener {\n fun onFinish(title: String, content: String, imageid: Int, button: \n String)\n }\n</code></pre>\n\n<p>Add this lines into SubscribeTask</p>\n\n<pre><code>class SubscribeTask: AsyncTask&lt;Void, Void, Void&gt;() {\n var listener: myExecListener? = null\n\n  fun exec(listener: myExecListener){\n    this.listener = listener\n    this.execute()\n  }\n\n  override fun doInBackground(vararg params: Void?): Void? {\n\n\n    return null\n  }\n\n  override fun onPostExecute(result: Void?) {\n    super.onPostExecute(result)\n    listener?.onFinish(\"Fire\", \"There might be a fire in the house\", 333, \"Stop Alarm\")\n  }\n }\n</code></pre>\n\n<p>And execute in your activity</p>\n\n<pre><code>SubscribeTask().exec(object : myExecListener{\n  override fun onFinish(title: String, content: String, imageid: Int, button: String) {\n    println(\"Observer triggered\")\n    showAlertDialog(title, content, imageid, button)\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 847, "user_id": 5400847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/---nToSRbky4/AAAAAAAAAAI/AAAAAAAAAXc/RGgyKXJX5XE/photo.jpg?sz=128", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/5400847/ayush-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 46927450, "answer_count": 2, "score": 0, "last_activity_date": 1508919791, "creation_date": 1508857338, "question_id": 46913907, "link": "https://stackoverflow.com/questions/46913907/supportfragmentmanager-becomes-null-android-kotlin", "title": "SupportfragmentManager becomes null android kotlin", "body": "<p>I am trying to launch a dialogFragment from onPostExecute but the supportFragmentManager for some reason returns null. I have tried launching the dialogFragment from main activity and other fragments and it works perfectly but I am not able to launch it from AsyncTask. Here is the AsyncTask:-</p>\n\n<pre><code>class SubscribeTask: AsyncTask&lt;Void, Void, Void&gt; {\n    var mContext: Context\n    var mTextView_temp: TextView\n    var mTextView_humidity: TextView\n    var mWeather_image: ImageView\n    var mMessage: JsonObject\n    var mResult = JsonObject()\n    var mTemp: String = \"\"\n    var mHumidity: String = \"\"\n    var mLdr: Boolean = true\n    var mRain: Boolean = false\n    var mWeather: Int = 0\n    var tester: Boolean = false\n    var mFire: Boolean = false\n\n    constructor(context: Context, textView_temp: TextView, textView_humidity: TextView, weather_image: ImageView, message: PNMessageResult){\n        mContext = context\n        mMessage = message.message.asJsonObject\n        mTextView_temp = textView_temp\n        mTextView_humidity = textView_humidity\n        mWeather_image = weather_image\n    }\n\n    override fun doInBackground(vararg p0: Void?): Void? {\n        if (mMessage.has(\"pi\")){\n            mResult = mMessage.getAsJsonObject(\"pi\")\n            mTemp = mResult.get(\"temp\").asString\n            mHumidity = mResult.get(\"humidity\").asString\n            mLdr = mResult.get(\"ldr\").asBoolean\n            mRain = mResult.get(\"rain\").asBoolean\n            mFire = mResult.get(\"fire\").asBoolean\n            tester = true\n            if(mRain){\n              mWeather = R.drawable.rainy\n            }else if(mLdr){\n                mWeather = R.drawable.suny\n            }else{\n                mWeather = R.drawable.cloudyy\n            }\n        }\n        return null\n    }\n\n    override fun onPostExecute(result: Void?) {\n        if(tester) {\n            mTextView_temp.text = mTemp\n            mTextView_humidity.text = mHumidity\n            mWeather_image.setImageResource(mWeather)\n            if(mFire){\n                MainActivity().showAlertDialog(\"Fire\", \"There might be a fire in the house\", R.drawable.house_fire, \"Stop Alarm\")\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here is the showAlertDialog() function:-</p>\n\n<pre><code>fun showAlertDialog(title: String, content: String, imageid: Int, button: String){\n        val fm = supportFragmentManager\n        val alertDialogFragment = AlertFragment(title, content, imageid, button).newInstance(title, content, imageid, button)\n        alertDialogFragment.show(fm, \"fragment_alert\")\n    }\n</code></pre>\n\n<p>Here is the dialogFragment:-</p>\n\n<pre><code>class AlertFragment(val mTitle: String, val mContent: String, val mImageId: Int, val mButton: String) : DialogFragment() {\n\n    fun newInstance(title: String, content: String, imageid: Int, button: String): AlertFragment {\n        val alertfrag = AlertFragment(title, content, imageid, button)\n        val args = Bundle()\n        args.putString(\"title\", title)\n        alertfrag.arguments = args\n        return alertfrag\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_alert, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        title.text = mTitle\n        alertContent.text = mContent\n        alertImageId.setImageResource(mImageId)\n        alertButton.text = mButton\n    }\n}\n</code></pre>\n\n<p>Can someone please help me. Answers in Java are also okay.</p>\n"}, {"tags": ["kotlin", "bytecode"], "answers": [{"comments": [{"owner": {"reputation": 11535, "user_id": 961759, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZqgkZ.jpg?s=128&g=1", "display_name": "Robert Estivill", "link": "https://stackoverflow.com/users/961759/robert-estivill"}, "edited": false, "score": 0, "creation_date": 1508917303, "post_id": 46911376, "comment_id": 80800157, "body": "Is interesting that a <code>when</code> clause becomes an <code>if</code> clause after compiling to bytecode and decompiling again back to Java. I guess some compiler optimizations are in place for this logic. Thanks for the answer."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 9, "last_activity_date": 1508850606, "last_edit_date": 1508850606, "creation_date": 1508850259, "answer_id": 46911376, "question_id": 46911205, "link": "https://stackoverflow.com/questions/46911205/kotlin-using-when-for-simple-conditions/46911376#46911376", "title": "Kotlin using when for simple conditions", "body": "<p>The only difference here is that in <code>method3</code> the <code>BuildConfig.DEBUG</code> value gets stored in a local variable first. When decompiling the bytecode to Java, you see the following:</p>\n\n<pre><code>   @NotNull\n   public static final String method2() {\n      return BuildConfig.DEBUG?\"something\":\"else\";\n   }\n\n   @NotNull\n   public static final String method3() {\n      boolean var0 = BuildConfig.DEBUG;\n      return var0?\"something\":\"else\";\n   }\n</code></pre>\n\n<p>This is negligible.</p>\n\n<hr>\n\n<p>If we expand the <code>if/else</code> clauses, we can construct the following:</p>\n\n<pre><code>fun method4(a: Int): String {\n    if (a == 1) {\n        return \"1\"\n    } else if (a == 2) {\n        return \"2\"\n    } else if (a == 3) {\n        return \"3\"\n    } else {\n        return \"4\"\n    }\n}\n\nfun method5(a: Int): String {\n    when (a) {\n        1 -&gt; return \"1\"\n        2 -&gt; return \"2\"\n        3 -&gt; return \"3\"\n        else -&gt; return \"4\"\n    }\n}\n</code></pre>\n\n<p>The decompiled bytecode for this is:</p>\n\n<pre><code>@NotNull\npublic static final String method4(int a) {\n  return a == 1?\"1\":(a == 2?\"2\":(a == 3?\"3\":\"4\"));\n}\n\n@NotNull\npublic static final String method5(int a) {\n  switch(a) {\n  case 1:\n     return \"1\";\n  case 2:\n     return \"2\";\n  case 3:\n     return \"3\";\n  default:\n     return \"4\";\n  }\n}\n</code></pre>\n\n<p>Thus, a simple <code>when</code> statement boils down to a <code>switch</code> statement in Java. See <a href=\"https://stackoverflow.com/questions/6705955/why-switch-is-faster-than-if\">'Why switch is faster than if'</a> for a comparison between these two.</p>\n"}], "owner": {"reputation": 11535, "user_id": 961759, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ZqgkZ.jpg?s=128&g=1", "display_name": "Robert Estivill", "link": "https://stackoverflow.com/users/961759/robert-estivill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "accepted_answer_id": 46911376, "answer_count": 1, "score": 10, "last_activity_date": 1508850606, "creation_date": 1508849806, "question_id": 46911205, "link": "https://stackoverflow.com/questions/46911205/kotlin-using-when-for-simple-conditions", "title": "Kotlin using when for simple conditions", "body": "<p>I personaly like the <code>when</code> syntax as it causes identation to be much clearer. However I am concerned about the 'penalties' that I might be introducing by doing this.</p>\n\n<p>I'm not really an expert on bytecode, but I can see that for the same 'logic', the when clause takes more bytecode operations.</p>\n\n<p>Simple file with 3 different Kotlin functions</p>\n\n<pre><code>package com.whatever\n\nfun method1(): String {\n  return if (BuildConfig.DEBUG) \"something\" else \"else\"\n}\n\nfun method2(): String {\n  return if (BuildConfig.DEBUG) {\n    \"something\"\n  } else {\n    \"else\"\n  }\n}\n\nfun method3(): String {\n  return when (BuildConfig.DEBUG) {\n    true -&gt; \"something\"\n    else -&gt; \"else\"\n  }\n}\n</code></pre>\n\n<p>Generated bytecode</p>\n\n<pre><code>  // access flags 0x19\n  public final static method1()Ljava/lang/String;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 4 L0\n    GETSTATIC com/whatever/BuildConfig.DEBUG : Z\n    IFEQ L1\n    LDC \"something\"\n    GOTO L2\n   L1\n    LDC \"else\"\n   L2\n    ARETURN\n   L3\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x19\n  public final static method2()Ljava/lang/String;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 8 L0\n    GETSTATIC com/whatever/BuildConfig.DEBUG : Z\n    IFEQ L1\n   L2\n    LINENUMBER 9 L2\n    LDC \"something\"\n   L3\n    GOTO L4\n   L1\n    LINENUMBER 11 L1\n    LDC \"else\"\n   L5\n    LINENUMBER 8 L5\n   L4\n    ARETURN\n   L6\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x19\n  public final static method3()Ljava/lang/String;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 16 L0\n    GETSTATIC com/whatever/BuildConfig.DEBUG : Z\n    ISTORE 0\n   L1\n    LINENUMBER 17 L1\n    ILOAD 0\n    ICONST_1\n    IF_ICMPNE L2\n   L3\n    LDC \"something\"\n    GOTO L4\n   L2\n    LINENUMBER 18 L2\n    LDC \"else\"\n   L5\n    LINENUMBER 16 L5\n   L4\n    ARETURN\n   L6\n    MAXSTACK = 2\n    MAXLOCALS = 1\n</code></pre>\n\n<p>Can someone point out how significant this cost is? And wether we should try to stay away from this pattern for simple operations?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1508856984, "post_id": 46913660, "comment_id": 80774678, "body": "nailed it first time. MANY thanks for your time and insights."}], "tags": [], "owner": {"reputation": 462, "user_id": 7194993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gesAIUmzKAM/AAAAAAAAAAI/AAAAAAAACkY/jBbhA1hb9Bc/photo.jpg?sz=128", "display_name": "Pietro Scarampella", "link": "https://stackoverflow.com/users/7194993/pietro-scarampella"}, "is_accepted": true, "score": 1, "last_activity_date": 1508856571, "creation_date": 1508856571, "answer_id": 46913660, "question_id": 46911022, "link": "https://stackoverflow.com/questions/46911022/add-data-to-recyclerview-in-kotlin-android/46913660#46913660", "title": "Add data to Recyclerview in Kotlin Android", "body": "<p>Think i found out the problem.\nYou are creating a list of TrainStatus and you get that list from a remote API.\nFor each call you iterate and add the result given. The problem lies in the declaration of the variable trainStatus.</p>\n\n<p>You do a var trainStatus = TrainStatus() outside the function readTrains and then, on each iteration, you change the value of that variable and add it to the list.</p>\n\n<p>You do so but you don't create a new instance for each TrainStatus you want to add, so you add every time the same instance of the same object to your list just changing the value in it. This way, each element of the list point to the same object TrainStatus, that hold the value of the last element received from your request.</p>\n\n<p>To fix the proble simply create a new instance every time you star a new iteration.</p>\n\n<p>So change your code to: </p>\n\n<pre><code>for (i in 0..responseModeRouteObjRoute.length() - 1){\n                val responseModeRouteObjRouteRouteObj = responseModeRouteObjRoute.getJSONObject(i)\n                val responseModeRouteObjRouteRouteObjDirection = responseModeRouteObjRouteRouteObj.getJSONArray(\"direction\")\n                for (j in 0.. responseModeRouteObjRouteRouteObjDirection.length() - 1){\n                    val responseModeRouteObjRouteRouteObjDirectionDirectionObj = responseModeRouteObjRouteRouteObjDirection.getJSONObject(j)\n                    val direction = responseModeRouteObjRouteRouteObjDirectionDirectionObj.getString(\"direction_id\")\n                    val tripArray = responseModeRouteObjRouteRouteObjDirectionDirectionObj.getJSONArray(\"trip\")\n                    for (k in 0..tripArray.length() - 1){\n                        trainStatus.direction_id = TrainStatus()\n                        trainStatus.direction_id = direction.toInt()\n                        var tripArrayObj = tripArray.getJSONObject(k)\n                        var schArrival = tripArrayObj.getString(\"sch_arr_dt\")\n                        trainStatus.sch_arr_time = schArrival.toLong()\n                        trainStatus.station = station\n\n                        println(\"ARRIVAL TIME = ${trainStatus.sch_arr_time}\") // DEBUGGING print statement\n\n                        listOfTrains!!.add(trainStatus)\n                    }\n                }\n            }\n</code></pre>\n\n<p>I'd also suggest you to not create a new instance of the adapter for each call you do but to keep the list of trainstatus in the adapter directly</p>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1400, "favorite_count": 0, "accepted_answer_id": 46913660, "answer_count": 1, "score": 1, "last_activity_date": 1508856571, "creation_date": 1508849213, "question_id": 46911022, "link": "https://stackoverflow.com/questions/46911022/add-data-to-recyclerview-in-kotlin-android", "title": "Add data to Recyclerview in Kotlin Android", "body": "<p>I am using Volley to read a JSON API. Everything is working on that end. When I look at the arrival times that I get from the API there are varied which is what I would expect.</p>\n\n<p><strong>JSON Output</strong></p>\n\n<pre><code>10-24 08:34:17.831 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508849280\n10-24 08:34:17.831 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508850180\n10-24 08:34:17.831 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508850600\n10-24 08:34:17.831 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508848920\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508851500\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508851980\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508849340\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508850000\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508849760\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508849340\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508848680\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508850000\n10-24 08:34:17.832 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME = 1508851980\n</code></pre>\n\n<p>My code adds the right number of elements to the ArrayList, but when I look at the data in the recycler it is multiple occurrences of the last element captured:</p>\n\n<pre><code>10-24 08:34:17.929 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.932 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.935 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.940 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.942 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.945 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.950 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.954 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n10-24 08:34:17.970 4671-4671/org.sherman.tony.nexttrain I/System.out: ARRIVAL TIME ===&gt; 1508851980\n</code></pre>\n\n<p>This is the heart of my Activity Code:</p>\n\n<pre><code>// Get a list of train schedules\n//\nlistOfTrains = ArrayList&lt;TrainStatus&gt;()\n\nvolleyRequest = Volley.newRequestQueue(this)\nreadTrains(url,station)\n}\n\nfun readTrains(url:String, station: String) {\n\nvar listOfTrains = ArrayList&lt;TrainStatus&gt;()\nvar trainStatus = TrainStatus()\n\nprintln(\"URL ===&gt; $url\")\nval jsonObjectRequest = JsonObjectRequest(Request.Method.GET,url,\n        Response.Listener {\n            response: JSONObject -&gt;\n            try {\n                val responseMode = response.getJSONArray(\"mode\")\n                val responseModeRouteObj = responseMode.getJSONObject(0)\n                val responseModeRouteObjRoute = responseModeRouteObj.getJSONArray(\"route\")\n                for (i in 0..responseModeRouteObjRoute.length() - 1){\n                    val responseModeRouteObjRouteRouteObj = responseModeRouteObjRoute.getJSONObject(i)\n                    val responseModeRouteObjRouteRouteObjDirection = responseModeRouteObjRouteRouteObj.getJSONArray(\"direction\")\n                    for (j in 0.. responseModeRouteObjRouteRouteObjDirection.length() - 1){\n                        val responseModeRouteObjRouteRouteObjDirectionDirectionObj = responseModeRouteObjRouteRouteObjDirection.getJSONObject(j)\n                        val direction = responseModeRouteObjRouteRouteObjDirectionDirectionObj.getString(\"direction_id\")\n                        trainStatus.direction_id = direction.toInt()\n                        val tripArray = responseModeRouteObjRouteRouteObjDirectionDirectionObj.getJSONArray(\"trip\")\n                        for (k in 0..tripArray.length() - 1){\n                            var tripArrayObj = tripArray.getJSONObject(k)\n                            var schArrival = tripArrayObj.getString(\"sch_arr_dt\")\n                            trainStatus.sch_arr_time = schArrival.toLong()\n                            trainStatus.station = station\n\n                            println(\"ARRIVAL TIME = ${trainStatus.sch_arr_time}\") // DEBUGGING print statement\n\n                            listOfTrains!!.add(trainStatus)\n                        }\n                    }\n                }\n                trainAdapter = TrainListAdapter(listOfTrains, this)\n                layoutManager = LinearLayoutManager(this)\n                // Set up recycler Adapter\n                recyclerViewID.layoutManager = layoutManager\n                recyclerViewID.adapter = trainAdapter\n                trainAdapter!!.notifyDataSetChanged()\n\n            } catch (e: JSONException){e.printStackTrace()}\n        },\n        Response.ErrorListener {\n            error: VolleyError? -&gt;\n            try{\n            error!!.printStackTrace()\n        }catch(e:JSONException) {\n                e.printStackTrace()\n            }\n        })\n//val list:ArrayList&lt;TrainList&gt;? = null\n\nvolleyRequest!!.add(jsonObjectRequest)\nprintln(\"SIZE OF ARRAY ===&gt; ${listOfTrains.size}\")\nreturn\n//return list\n}\n</code></pre>\n\n<p>And this is my Adapter Code:</p>\n\n<pre><code>package org.sherman.tony.nexttrain.adapters\n\nimport android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport org.sherman.tony.nexttrain.models.TrainStatus\nimport org.sherman.tony.nexttrain.R\nimport java.text.DateFormat\nimport java.text.SimpleDateFormat\nimport java.util.*\n\n\nclass TrainListAdapter(var listOfTrains: ArrayList&lt;TrainStatus&gt;,\n                       val context: Context): RecyclerView.Adapter&lt;TrainListAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup?, position: Int): ViewHolder {\n        val view = LayoutInflater.from(context)\n                .inflate(R.layout.station_lst_item, parent, false)\n        return ViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return listOfTrains.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        holder!!.bindView(listOfTrains[position])\n    }\n\n    inner class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView) {\n\n        var station = itemView.findViewById&lt;TextView&gt;(R.id.stationListTextViewID)\n        var arrivalTime = itemView.findViewById&lt;TextView&gt;(R.id.timeScheduleID)\n\n        fun bindView(train: TrainStatus){\n            var humanTime = readableTime(train.sch_arr_time!!)\n            println(\"ARRIVAL TIME ===&gt; ${train.sch_arr_time}\")\n            station.text = train.station.toString()\n            //arrivalTime.text = humanTime\n            arrivalTime.text = train.sch_arr_time.toString()\n        }\n        fun readableTime(milliSeconds: Long): String {\n            var date = Date(milliSeconds)\n            val dateFormat: DateFormat = SimpleDateFormat(\"H:mm\")\n            return dateFormat.format(date)\n        }\n\n    }\n}\n</code></pre>\n\n<p>How do I get the adapter to add the actual returned vales instead of multiple copies of the last element.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "kotlin", "android-youtube-api", "android-audiomanager"], "answers": [{"tags": [], "owner": {"reputation": 5451, "user_id": 4587527, "user_type": "registered", "profile_image": "https://graph.facebook.com/656830941094290/picture?type=large", "display_name": "Somesh Kumar", "link": "https://stackoverflow.com/users/4587527/somesh-kumar"}, "is_accepted": true, "score": 3, "last_activity_date": 1508847167, "creation_date": 1508847167, "answer_id": 46910289, "question_id": 46909977, "link": "https://stackoverflow.com/questions/46909977/avoid-another-audio-app-pausing-on-youtubeplayerfragment-init/46910289#46910289", "title": "Avoid another audio app pausing on YouTubePlayerFragment init", "body": "<p>I faced the same issue. <code>setManageAudioFocus(false)</code> is what you need.\nYou can disable auto gain of audio focus inside your <code>onInitializationSuccess</code> by doing <code>player.setManageAudioFocus(false)</code> but remember you need to manage audio focus manually. You can read about managing audio focus <a href=\"https://developer.android.com/guide/topics/media-apps/audio-focus.html\" rel=\"nofollow noreferrer\">here</a> </p>\n"}], "owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 46910289, "answer_count": 1, "score": 3, "last_activity_date": 1508847167, "creation_date": 1508846287, "last_edit_date": 1508846579, "question_id": 46909977, "link": "https://stackoverflow.com/questions/46909977/avoid-another-audio-app-pausing-on-youtubeplayerfragment-init", "title": "Avoid another audio app pausing on YouTubePlayerFragment init", "body": "<p>I am working on YouTubePlayerFragment integration.\nwhile the initialize YouTubePlayer in YouTubePlayerFragment it acquires audio from another app and that particular app stops playing audio ie. PlayMusic.</p>\n\n<p>As User does not touch play button in my app's youtube player it would not acquire audio from another app. so how to avoid such issue and let another app plays the audio?</p>\n\n<p>Here is my Fragment code, written in Kotlin.</p>\n\n<pre><code>class MyVideoFragment : YouTubePlayerFragment() {\n    lateinit var mPlayer: YouTubePlayer\n\n    companion object {\n\n    fun newInstance(url: String): TutorialVideoFragment {\n\n        val v = TutorialVideoFragment()\n        val b = Bundle()\n        b.putString(\"url\", url)\n        v.init()\n        v.arguments = b\n        return v\n    }\n}\n\n\nprivate fun init() {\n    initialize(DEVELOPER_KEY,\n            object : YouTubePlayer.OnInitializedListener {\n\n                override fun onInitializationSuccess(arg0: YouTubePlayer.Provider,\n                                                     player: YouTubePlayer, wasRestored: Boolean) {\n                    if (!wasRestored) {\n                        player.cueVideo(arguments.getString(\"url\"))\n                        if (player.isPlaying) {\n                            player.pause();\n                        }\n\n                        player.setShowFullscreenButton(true)\n                        mPlayer = player\n                    }\n                }\n\n                override fun onInitializationFailure(provider: YouTubePlayer.Provider,\n                                                     errorReason: YouTubeInitializationResult) {\n                    if (errorReason.isUserRecoverableError) {\n                        //                            errorReason.getErrorDialog(getActivity(), RECOVERY_DIALOG_REQUEST).show();\n                    } else {\n                        val errorMessage = String.format(\n                                getString(R.string.error_player), errorReason.toString())\n                        toast(errorMessage)\n                    }\n                }\n            })\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1508854651, "post_id": 46909745, "comment_id": 80772833, "body": "Why are you trying to do this? Why can&#39;t you create a class that implements this interface and use its instance from JavaScript?"}, {"owner": {"reputation": 51, "user_id": 6856347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bd9fce322cd5a2dcb2fde4df6cff0a?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cochran", "link": "https://stackoverflow.com/users/6856347/j-cochran"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1508865897, "post_id": 46909745, "comment_id": 80780372, "body": "I am creating an API for both java and javascript.  I want to use Kotlin to export out to both java and javascript and maintain a single code-base. In this API it doesn&#39;t implement any of the interfaces."}, {"owner": {"reputation": 51, "user_id": 6856347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bd9fce322cd5a2dcb2fde4df6cff0a?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cochran", "link": "https://stackoverflow.com/users/6856347/j-cochran"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1508866809, "post_id": 46909745, "comment_id": 80780860, "body": "Well it implements some of the interfaces but not all.  It sets the standard of what some objects should be like.  I am guessing by your question this is not supported in Kotlin?"}, {"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1508875735, "post_id": 46909745, "comment_id": 80785738, "body": "When you write <code>var x: String</code> in interface, it does not mean that actual implementation of <code>x</code> is provided by Kotlin. It means that any class that implements this interface is expected to provide this implementation. You can&#39;t use interfaces this way."}, {"owner": {"reputation": 51, "user_id": 6856347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bd9fce322cd5a2dcb2fde4df6cff0a?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cochran", "link": "https://stackoverflow.com/users/6856347/j-cochran"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1508929061, "post_id": 46909745, "comment_id": 80807847, "body": "Thanks for the help.  Just knowing it isn&#39;t an expected behavior from Kotlin helps me from wondering if I had setup something incorrectly."}], "owner": {"reputation": 51, "user_id": 6856347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bd9fce322cd5a2dcb2fde4df6cff0a?s=128&d=identicon&r=PG&f=1", "display_name": "J.Cochran", "link": "https://stackoverflow.com/users/6856347/j-cochran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508846190, "creation_date": 1508845578, "last_edit_date": 1508846190, "question_id": 46909745, "link": "https://stackoverflow.com/questions/46909745/kotlin-interfaces-exporting-to-javascript-missing-properties", "title": "Kotlin interfaces exporting to Javascript missing properties", "body": "<p>I have a simple interface in Kotlin that looks like this:</p>\n\n<pre><code>interface IMyInterface {\n\nvar name: String\n\nvar description: String }\n</code></pre>\n\n<p>With a build.gradle file like this:</p>\n\n<pre><code> apply plugin: 'java' \n apply plugin: 'kotlin2js'\n\n sourceCompatibility = 1.8\n\n repositories {\n     mavenCentral() }\n\n dependencies {\n     compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n     compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" }\n\n compileKotlin2Js {\n     kotlinOptions.moduleKind = \"umd\"\n     kotlinOptions.sourceMap = true }\n</code></pre>\n\n<p>The javascript that it exports when I build exports this:</p>\n\n<pre><code>  (function (root, factory) {\n  if (typeof define === 'function' &amp;&amp; define.amd)\n    define(['exports', 'kotlin'], factory);\n  else if (typeof exports === 'object')\n    factory(module.exports, require('kotlin'));\n  else {\n    if (typeof kotlin === 'undefined') {\n      throw new Error(\"Error loading module 'myModule'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'myModule'.\");\n    }\n    root['myModule'] = factory(typeof this['myModule'] === 'undefined' ? {} : this['myModule'], kotlin);\n  }\n}(this, function (_, Kotlin) {\n  'use strict';\n  function IMyInterface() {\n  }\n  IMyInterface.$metadata$ = {\n    kind: Kotlin.Kind.INTERFACE,\n    simpleName: 'IMyInterface',\n    interfaces: []\n  };\n  _.IMyInterface = IMyInterface;\n  Kotlin.defineModule('myModule', _);\n  return _;\n}));\n</code></pre>\n\n<p>If you notice that the javascript that is exported does not contain any of the properties that my interface defines (name,description are missing).  </p>\n\n<p>What I would like to see is an export along the lines like this:</p>\n\n<pre><code>  IMyInterface = function ( args ) {\n\n  \"use strict\";\n\n  var _name =  \"\";\n  Object.defineProperty(this,\"name\",{\n\n    enumerable: true,\n    get: function() { return _name; },\n\n    set: function(value) { _name = value; }\n\n  });\n\n  var _description =  \"\";\n  Object.defineProperty(this,\"description\",{\n\n    enumerable: true,\n    get: function() { return _description; },\n\n    set: function(value) { _description = value; }\n\n  });\n</code></pre>\n\n<p>Also I am using kotlin version 1.1.51</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0", "android-instant-apps"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1508847270, "post_id": 46908920, "comment_id": 80767085, "body": "Could you please post a link the problem you mention as <code>known issue from Google that you can&#39;t do a Gradle sync with the kotlin plugin and Instant Apps SDK</code>?"}, {"owner": {"reputation": 1, "user_id": 6296155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413ccd75bd84d9c5faa7393264684124?s=128&d=identicon&r=PG&f=1", "display_name": "ancy mathai", "link": "https://stackoverflow.com/users/6296155/ancy-mathai"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1509099309, "post_id": 46908920, "comment_id": 80892735, "body": "<a href=\"https://www.reddit.com/r/androiddev/comments/6hun17/instant_apps_and_kotlin/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/6hun17/instant_apps_and_kot&zwnj;&#8203;lin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6296155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413ccd75bd84d9c5faa7393264684124?s=128&d=identicon&r=PG&f=1", "display_name": "ancy mathai", "link": "https://stackoverflow.com/users/6296155/ancy-mathai"}, "edited": false, "score": 0, "creation_date": 1509099577, "post_id": 46909007, "comment_id": 80892900, "body": "By using stable version of android studio 3 no issues seen. Thanks"}], "tags": [], "owner": {"reputation": 14411, "user_id": 422060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2a06312762581d504ba0a25e5a90def?s=128&d=identicon&r=PG", "display_name": "keyboardsurfer", "link": "https://stackoverflow.com/users/422060/keyboardsurfer"}, "is_accepted": false, "score": 2, "last_activity_date": 1508843440, "creation_date": 1508843440, "answer_id": 46909007, "question_id": 46908920, "link": "https://stackoverflow.com/questions/46908920/in-kotlin-how-to-do-instant-app-feature/46909007#46909007", "title": "In kotlin how to do instant app feature?", "body": "<p>I haven't encountered any issues in regards to Kotlin and Android Instant Apps.</p>\n\n<p>Several of the publicly available Android Instant Apps sample apps are written in Kotlin.</p>\n\n<p>See <a href=\"https://github.com/googlesamples/android-instant-apps/tree/master/hello-kotlin\" rel=\"nofollow noreferrer\">hello-kotlin</a> and <a href=\"https://github.com/googlesamples/android-instant-apps\" rel=\"nofollow noreferrer\">browse through the samples</a> for implementation details.</p>\n"}], "owner": {"reputation": 1, "user_id": 6296155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413ccd75bd84d9c5faa7393264684124?s=128&d=identicon&r=PG&f=1", "display_name": "ancy mathai", "link": "https://stackoverflow.com/users/6296155/ancy-mathai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510407064, "creation_date": 1508843183, "last_edit_date": 1510407064, "question_id": 46908920, "link": "https://stackoverflow.com/questions/46908920/in-kotlin-how-to-do-instant-app-feature", "title": "In kotlin how to do instant app feature?", "body": "<p>I need to do a new Android project in kotlin which support instant app feature how I could achieve that? It is a known issue from Google that you can't do a Gradle sync with the kotlin plugin and Instant Apps SDK. Is , this issue still exist?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 62, "user_id": 7990343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd81554974b76d9fcce6bd43c08daf4f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv", "link": "https://stackoverflow.com/users/7990343/dhruv"}, "edited": false, "score": 0, "creation_date": 1508841341, "post_id": 46907302, "comment_id": 80763167, "body": "Follow this <a href=\"http://www.vogella.com/tutorials/AndroidTouch/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/AndroidTouch/article.html</a>"}, {"owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "edited": false, "score": 2, "creation_date": 1509099242, "post_id": 46907302, "comment_id": 80892689, "body": "This question is too broad and would require significant effort to be answered. Asking for a tutorial is also not in the scope of SO."}, {"owner": {"reputation": 1402, "user_id": 6752629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCwgS.jpg?s=128&g=1", "display_name": "Farmaan Elahi", "link": "https://stackoverflow.com/users/6752629/farmaan-elahi"}, "edited": false, "score": 1, "creation_date": 1509485513, "post_id": 46907302, "comment_id": 81037019, "body": "For this,You need to understand how touch event work in Android.It is a very broad topic.You need to have proper understanding of <code>MotionEvent</code> ,how and when they are triggered.I would recommend you to listen to this talk from Dave Smith on <a href=\"https://www.youtube.com/watch?v=EZAoJU-nUyI&amp;t=3650s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=EZAoJU-nUyI&amp;t=3650s</a>"}], "answers": [{"tags": [], "owner": {"reputation": 989, "user_id": 8399299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-uSRfwE0sfxk/AAAAAAAAAAI/AAAAAAAAAB4/xpEwh2GDwiY/photo.jpg?sz=128", "display_name": "Zulqurnain Jutt", "link": "https://stackoverflow.com/users/8399299/zulqurnain-jutt"}, "is_accepted": false, "score": 0, "last_activity_date": 1509583027, "creation_date": 1509583027, "answer_id": 47065772, "question_id": 46907302, "link": "https://stackoverflow.com/questions/46907302/how-to-create-multiple-sections-of-textviews-using-multiple-touch/47065772#47065772", "title": "How to create multiple sections of textviews using multiple touch?", "body": "<p>Sorry Not Much of a kotlin fan yet , but i did implemented this kind of task a while ago.</p>\n\n<p>I created a view on which if you multi touch it will give you exact <em>android.graphics.PointF</em> object for the finger , then you can easily compare by getting position other views on top of my view to check if finger is pressing/dragging that particular view.View is hosted on <a href=\"https://gist.github.com/ZulqurnainSDSOL/dd59b3d6c21648deaa8a3b3a14e8e10c\" rel=\"nofollow noreferrer\">Github</a>.</p>\n\n<p>And to check if finger point is overlapping other view , check <a href=\"https://stackoverflow.com/a/19949906/8399299\">this answer</a>.</p>\n\n<p><strong>Note:</strong> this answer is just to kick start your process of solving the problem , as question itself is too broad to answer completely </p>\n"}, {"tags": [], "owner": {"reputation": 2652, "user_id": 3007180, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/4rPnk.jpg?s=128&g=1", "display_name": "Hardik Chauhan", "link": "https://stackoverflow.com/users/3007180/hardik-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513075470, "creation_date": 1513075470, "answer_id": 47770653, "question_id": 46907302, "link": "https://stackoverflow.com/questions/46907302/how-to-create-multiple-sections-of-textviews-using-multiple-touch/47770653#47770653", "title": "How to create multiple sections of textviews using multiple touch?", "body": "<p>Thanks for reaching out. I understand that the question is too broad, So I have started working on my own to achieve this functionality. I do have found some success a while back and I have uploaded the demo project on GitHub, here's the link, <a href=\"http://github.com/nightfox8/SwipeDemo\" rel=\"nofollow noreferrer\">github.com/nightfox8/SwipeDemo</a> To all those who might need this kind of solution in future, Thanks</p>\n"}], "owner": {"reputation": 2652, "user_id": 3007180, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/4rPnk.jpg?s=128&g=1", "display_name": "Hardik Chauhan", "link": "https://stackoverflow.com/users/3007180/hardik-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1513075470, "creation_date": 1508838549, "last_edit_date": 1508851543, "question_id": 46907302, "link": "https://stackoverflow.com/questions/46907302/how-to-create-multiple-sections-of-textviews-using-multiple-touch", "title": "How to create multiple sections of textviews using multiple touch?", "body": "<p>I am working on this project where I have requirement like follows,</p>\n\n<p><a href=\"https://i.stack.imgur.com/6PgM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PgM7.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see in this image I have views with few <code>textViews</code> or <code>imageViews</code>.\nUser can move any <code>view</code> horizontally only, This is I am able to do and its working fine.</p>\n\n<p>But I have a second scenario with multiple finger touch like this,</p>\n\n<p><a href=\"https://i.stack.imgur.com/ltA8U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ltA8U.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this scenario user can move two views using multiple finger max. 2, This I am not able to do.</p>\n\n<p>I have tried with finding the multiple pointer index in touch listener but I am not able to make it work properly.</p>\n\n<p>Can anyone help me with this?</p>\n\n<p>Thanks in Adv.</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1508836950, "creation_date": 1508836950, "answer_id": 46906738, "question_id": 46906561, "link": "https://stackoverflow.com/questions/46906561/rxjava2-observable-not-processing-onnext-when-there-is-a-change/46906738#46906738", "title": "RxJava2 observable not processing onNext when there is a change", "body": "<p>You created a simple observable only emitting one element, but you can use a <code>Subject</code> for your use-case:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    lateinit var button: Button\n    var counter: Int = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val subject: BehaviorSubject&lt;Int&gt; = BehaviorSubject.createDefault(counter)\n        val observable: Observable&lt;Int&gt; = subject.hide()\n\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener(View.OnClickListener {\n            subject.onNext(++counter)\n        })\n\n        observable.subscribe(\n                Consumer { t -&gt;\n                    Log.d(\"fromObservable\", counter.toString()) }\n            )\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508837509, "post_id": 46906798, "comment_id": 80760492, "body": "If you want to use it directly with the property, consider using an observable delegate though."}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 1, "last_activity_date": 1508837099, "creation_date": 1508837099, "answer_id": 46906798, "question_id": 46906561, "link": "https://stackoverflow.com/questions/46906561/rxjava2-observable-not-processing-onnext-when-there-is-a-change/46906798#46906798", "title": "RxJava2 observable not processing onNext when there is a change", "body": "<p>You are not creating your <code>Observable</code> correctly.</p>\n\n<p><code>Observable.just(counter)</code> will create an <code>Observable</code> that emit the value of <code>counter</code> and complete. <a href=\"http://reactivex.io/documentation/operators/just.html\" rel=\"nofollow noreferrer\">Documentation of Observable.just()</a></p>\n\n<p>You can do what you want with a <code>Subject</code> like <code>BehaviorSubject</code>. <a href=\"http://reactivex.io/documentation/subject.html\" rel=\"nofollow noreferrer\">Documentation of Subject</a></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var button: Button\n\n    var counter : Int = 0\n        set(value) {\n            field = value\n            observable.onNext(value)\n        }\n    val observable : BehaviorSubject&lt;Int&gt; = BehaviorSubject.createDefault(counter)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener(View.OnClickListener {\n            counter++\n        })\n\n        observable.subscribe(\n                Consumer { t -&gt;\n                    Log.d(\"fromObservable\", counter.toString()) }\n        )\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 46906738, "answer_count": 2, "score": 1, "last_activity_date": 1508837099, "creation_date": 1508836439, "last_edit_date": 1508837012, "question_id": 46906561, "link": "https://stackoverflow.com/questions/46906561/rxjava2-observable-not-processing-onnext-when-there-is-a-change", "title": "RxJava2 observable not processing onNext when there is a change", "body": "<p>I am beginner in RxJava. \nI want to track changes of the <code>Int</code> variable and react to it when it changes.</p>\n\n<p>Here is my example:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    lateinit var button: Button\n    var counter: Int = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        val observable :Observable&lt;Int&gt; = Observable.just(counter)\n\n        button = findViewById(R.id.button)\n\n        button.setOnClickListener(View.OnClickListener {\n            counter++\n        })\n\n\n        observable.subscribe(\n                Consumer { t -&gt;\n                    Log.d(\"fromObservable\", counter.toString()) }\n            )\n        }\n    }\n}\n</code></pre>\n\n<p>However, the Log never invokes when I click the button. \nHow can I make it properly with RxJava2?</p>\n"}, {"tags": ["android", "gson", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": false, "score": 2, "last_activity_date": 1508836153, "last_edit_date": 1508836153, "creation_date": 1508835653, "answer_id": 46906245, "question_id": 46906092, "link": "https://stackoverflow.com/questions/46906092/gson-cant-deserialize-kotlin-class-with-custom-getter/46906245#46906245", "title": "GSON can`t deserialize Kotlin class with custom getter", "body": "<p>You are trying to access a property in its getter method. Which will in turn call its getter method and so on... Which mean it's calling itself recursively until the exception.</p>\n\n<p>use <code>field</code> operator to access its value</p>\n\n<pre><code>var address1: String? = null\n    get() = field ?: \"\"\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Why allow nullability if it doesn't make any sense?\nLet Kotlin take care of the issue. Just do</p>\n\n<pre><code>var address1: String = \"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 1, "creation_date": 1508835874, "post_id": 46906248, "comment_id": 80759352, "body": "*Facepalm*, you are right, that works, thanks =) So stupid mistake from me"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1508837368, "post_id": 46906248, "comment_id": 80760405, "body": "Great. Please consider refactoring the property to a not nullable <code>String</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1508837158, "last_edit_date": 1508837158, "creation_date": 1508835664, "answer_id": 46906248, "question_id": 46906092, "link": "https://stackoverflow.com/questions/46906092/gson-cant-deserialize-kotlin-class-with-custom-getter/46906248#46906248", "title": "GSON can`t deserialize Kotlin class with custom getter", "body": "<p>You should work with the <code>field</code> instead:</p>\n\n<pre><code>class Address {\n    var address1: String? = null\n        get() = field ?: \"\"\n}\n</code></pre>\n\n<p>The problem is, that using <code>address1</code> inside its own setter leads to a recursive call sequence. Instead, the <code>field</code> qualifier refers to the <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing</a> field. The recursive sequence leads to the <code>StackOverflowError</code> you encountered.</p>\n\n<p>But actually, you should also think about the sense of your property: It's declared as a nullable <code>String</code>, but you don't allow <code>null</code> since you map it to an empty <code>String</code>. Is <code>\"\"</code> really accepted for the address? It would be much better to simply do <code>val address1: String = \"\"</code>. </p>\n"}], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 46906248, "answer_count": 2, "score": 0, "last_activity_date": 1508837158, "creation_date": 1508835186, "question_id": 46906092, "link": "https://stackoverflow.com/questions/46906092/gson-cant-deserialize-kotlin-class-with-custom-getter", "title": "GSON can`t deserialize Kotlin class with custom getter", "body": "<p>Well I have a class </p>\n\n<pre><code>class Address {\n    var address1: String? = null\n}\n</code></pre>\n\n<p>And simple json </p>\n\n<pre><code>String jsonString = \"{\\\"address1\\\":\\\"test\\\"}\";\n</code></pre>\n\n<p>So all I want to deserialize that, so I just write</p>\n\n<pre><code>    Gson gson = new GsonBuilder().create();\n    Address address = gson.fromJson(jsonString, Address.class);\n</code></pre>\n\n<p>And it works perfectly.</p>\n\n<p>But if I add custom getter</p>\n\n<pre><code>class Address {\n    var address1: String? = null\n        get() = address1 ?: \"\"\n}\n</code></pre>\n\n<p>I`m getting </p>\n\n<pre><code>java.lang.StackOverflowError\n    at ru.reksoft.okey.models.Address.getAddress1(Address.kt:8)\n    at ru.reksoft.okey.models.Address.getAddress1(Address.kt:8)\n    //and here are a lot of same lines\n</code></pre>\n\n<p><strong>So what can I do to make it work properly?</strong></p>\n\n<p>The one solution I see is removing custom getters at all, but what if I really need them?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508838103, "post_id": 46906983, "comment_id": 80760923, "body": "Can you see my updated question? Is there a good way to do this?"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1508837669, "creation_date": 1508837669, "answer_id": 46906983, "question_id": 46905453, "link": "https://stackoverflow.com/questions/46905453/rxjava2-how-to-separate-different-implementation-of-observable-emitter/46906983#46906983", "title": "RxJava2 how to separate different implementation of observable emitter", "body": "<p>You are creating a new observable every time <code>onLocationChanged</code> is called, which makes no sense. \nJust use a <code>PublishSubject</code> (or <code>BehaviorSubject</code> may be more suitable in this case) which can be returned as <code>Observable</code> to clients and call <code>subject.onNext(location)</code> in <code>onLocationChanged</code>.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 46906983, "answer_count": 1, "score": 2, "last_activity_date": 1508838078, "creation_date": 1508833145, "last_edit_date": 1508838078, "question_id": 46905453, "link": "https://stackoverflow.com/questions/46905453/rxjava2-how-to-separate-different-implementation-of-observable-emitter", "title": "RxJava2 how to separate different implementation of observable emitter", "body": "<p>This is my situation.\nI want to expose 2 different implementation of Observable&lt;'Location'> from my native LocationManager of Android or from the Google Services.</p>\n\n<p>I want to check if i use the native approach or gms.</p>\n\n<p>So in the end i want to expose Observable to my client - he don't need to know from wich approach i gathered the location.\nNOTE that i am using this library: \n<a href=\"https://github.com/mcharmas/Android-ReactiveLocation\" rel=\"nofollow noreferrer\">https://github.com/mcharmas/Android-ReactiveLocation</a></p>\n\n<p>for exposing Observable from google services. It already expose the Observable that i'am searching for.\nBut what about the other - Location Manager. It uses callbacks.</p>\n\n<p>Here is my implementation:</p>\n\n<pre><code>  var locationEmitter : Observable&lt;Location&gt; = Observable.empty()\n\n\ninit {\n    configureEmitter()\n}\n\n@SuppressLint(\"MissingPermission\")\nprivate fun configureEmitter(){\n    if (!isUsingLocationNativeApi)\n      locationEmitter = reactiveLocationProvider.getUpdatedLocation(reactiveLocationRequest)\n    else{\n      configureNativeLocationEmitter()\n    }\n}\n\n@SuppressLint(\"MissingPermission\")\nprivate fun configureNativeLocationEmitter() {\n\n\n    val mLocationCallbackNativeApi: LocationListener = object : LocationListener {\n\n        override fun onLocationChanged(location: Location) {\n        locationEmitter = Observable.create&lt;Location&gt; { emitter -&gt; emitter.onNext(location) }\n\n        }\n\n        override fun onStatusChanged(provider: String, status: Int, extras: Bundle) {}\n\n        override fun onProviderEnabled(provider: String) {}\n\n        override fun onProviderDisabled(provider: String) {}\n\n    }\n\n\n    try {\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,\n                (geoEventsIntervalSeconds * 1000).toLong(),\n                geoEventsDistanceMeters.toFloat(),\n                mLocationCallbackNativeApi,\n                Looper.getMainLooper())\n    } catch (ignored: IllegalArgumentException) {\n        ignored.printStackTrace()\n\n    }\n\n    try {\n        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,\n                (geoEventsIntervalSeconds * 1000).toLong(),\n                geoEventsDistanceMeters.toFloat(),\n                mLocationCallbackNativeApi,\n                Looper.getMainLooper())\n    } catch (ignored: IllegalArgumentException) {\n        ignored.printStackTrace()\n    }\n}\n\n\n\n@SuppressLint(\"MissingPermission\")\noverride fun onLocationUpdate(): Observable&lt;Location&gt; {\n    return locationEmitter\n    }\n\n}\n</code></pre>\n\n<p>However, it does not work for the LocationManager implementation,</p>\n\n<p>In the client side i want to be able to do something like this:</p>\n\n<pre><code> rxLocationRepository.onLocationUpdate()\n            .subscribe(Consumer { location -&gt; \n    //do something with location, no matter it is from LocationManager or google play services\n })\n</code></pre>\n\n<p>How to do that in Kotlin?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>How to get rid of the tracking from subject(actually get rid of subject) and the other locationProvider? I don't want to lose use them if the client will not want to use this and for example invoke such method in the client side</p>\n\n<pre><code> override fun stopLocationUpdates() {\n //get rid of the location updates\n}\n</code></pre>\n\n<p>E.g in the client side:</p>\n\n<pre><code> rxLocationRepository.stopLocationUpdates()\n</code></pre>\n"}, {"tags": ["interface", "kotlin", "diamond-problem"], "comments": [{"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 1, "creation_date": 1508831723, "post_id": 46905026, "comment_id": 80756777, "body": "<code>Java did not allow writing code in interface</code> It does: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 1647, "user_id": 7676637, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b6c7df7d106931e84b857641ab1f70c5?s=128&d=identicon&r=PG&f=1", "display_name": "AwaisMajeed", "link": "https://stackoverflow.com/users/7676637/awaismajeed"}, "reply_to_user": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1508831772, "post_id": 46905026, "comment_id": 80756800, "body": "yeah I said it did not, now it does (after Java 8). please read the article i linked"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1508831915, "post_id": 46905026, "comment_id": 80756888, "body": "Did you try to just create an example to see what happens?"}, {"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1508831948, "post_id": 46905026, "comment_id": 80756913, "body": "neither java nor kotlin support multiple inheritance. do you understand what &quot;diamond problem&quot; refers to really?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1508832219, "post_id": 46905026, "comment_id": 80757070, "body": "@MarcinOrlowski He refers to a class that implements multiple interfaces even though the interfaces have code in them."}, {"owner": {"reputation": 1647, "user_id": 7676637, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b6c7df7d106931e84b857641ab1f70c5?s=128&d=identicon&r=PG&f=1", "display_name": "AwaisMajeed", "link": "https://stackoverflow.com/users/7676637/awaismajeed"}, "reply_to_user": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1508832421, "post_id": 46905026, "comment_id": 80757217, "body": "@MarcinOrlowski I do understand Diamond problem, once again please read the article I linked."}], "answers": [{"tags": [], "owner": {"reputation": 1010, "user_id": 3338287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/gT1Ja.jpg?s=128&g=1", "display_name": "rana_sadam", "link": "https://stackoverflow.com/users/3338287/rana-sadam"}, "is_accepted": true, "score": 2, "last_activity_date": 1508846254, "last_edit_date": 1508846254, "creation_date": 1508841111, "answer_id": 46908199, "question_id": 46905026, "link": "https://stackoverflow.com/questions/46905026/code-in-interfaces-kotlin-how-do-they-avoid-the-deadly-diamond-of-death/46908199#46908199", "title": "&quot;Code in Interfaces&quot; Kotlin, how do they avoid the &quot;deadly diamond of death&quot;?", "body": "<p>Scenario 1 </p>\n\n<p>Two interfaces have methods with same signature and both don't have implementation in interface then it need to implement a method single method with same signature.</p>\n\n<p>Example</p>\n\n<pre><code>interface InterfaceA {\n    fun sum(a: Int, b: Int)\n}\n\ninterface InterfaceB {\n    fun sum(x: Int, y: Int)\n}\n\nclass TestClass : InterfaceA, InterfaceB {\n    override fun sum(x: Int, y: Int) {\n       return a+b\n   }\n}\n</code></pre>\n\n<p>Scenario 2</p>\n\n<p>Two interfaces have methods with same signature and different return type will be an error in this case </p>\n\n<p>Example</p>\n\n<pre><code>interface InterfaceA {\n    fun sum(a: Int, b: Int):Int = a+b\n}\n\ninterface InterfaceB {\n    fun sum(x: Int, y: Int)\n}\n\nclass TestClass : InterfaceA, InterfaceB {\n    override fun sum(x: Int, y: Int) {\n       return a+b\n   }\n}\n</code></pre>\n\n<p>In this case compiler show error because both method must have same return type</p>\n\n<p>The diamond problem is associated with multiple inheritance of classes that is not allowed in Kotlin as well as Java though you can create a scenario of diamond shape by implementing an interface with two interfaces then in kotlin you need to override all of methods otherwise it is a compile time error and this avoid diamond shape problem.</p>\n\n<p>Example</p>\n\n<pre><code>interface InterfaceA {\n    fun sum(a: Int, b: Int): Int {\n        print(\"InterFaceA\");\n        return a + b\n    }\n}\n\ninterface InterfaceB:InterfaceA {\n    override fun sum(a: Int, b: Int): Int {\n        print(\"InterFaceB\");\n        return a + b\n    }\n}\n\ninterface InterfaceC:InterfaceA {\n    override fun sum(a: Int, b: Int): Int {\n        print(\"InterFaceC\");\n        return a + b\n    }\n}\n\ninterface InterfaceD : InterfaceB, InterfaceC {\n    override fun sum(a: Int, b: Int): Int {\n        print(\"InterFaceD\");\n        return a + b\n    }\n}\n</code></pre>\n\n<p>override is necessary otherwise compiler will show an error and won't proceed further.</p>\n"}], "owner": {"reputation": 1647, "user_id": 7676637, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b6c7df7d106931e84b857641ab1f70c5?s=128&d=identicon&r=PG&f=1", "display_name": "AwaisMajeed", "link": "https://stackoverflow.com/users/7676637/awaismajeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 46908199, "answer_count": 1, "score": 4, "last_activity_date": 1508846254, "creation_date": 1508831534, "question_id": 46905026, "link": "https://stackoverflow.com/questions/46905026/code-in-interfaces-kotlin-how-do-they-avoid-the-deadly-diamond-of-death", "title": "&quot;Code in Interfaces&quot; Kotlin, how do they avoid the &quot;deadly diamond of death&quot;?", "body": "<p>I was reading <a href=\"https://antonioleiva.com/interfaces-kotlin/#comment-8057\" rel=\"nofollow noreferrer\">this</a> article and it says that you can write code in Kotlin interfaces. Java did not allow writing code in interface to avoid diamond problem as of this <a href=\"https://www.quora.com/How-does-using-an-interface-in-Java-solve-the-diamond-problem/answer/Usman-Saleem?srid=hSxyQ\" rel=\"nofollow noreferrer\">answer</a>. If Kotlin allows code in interface and multiple interfaces can be implemented in a class, doesn't this create the \"Diamond Problem\" all over again?</p>\n"}, {"tags": ["libgdx", "kotlin", "multi-touch"], "answers": [{"tags": [], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "is_accepted": false, "score": 0, "last_activity_date": 1508916281, "creation_date": 1508916281, "answer_id": 46926372, "question_id": 46904703, "link": "https://stackoverflow.com/questions/46904703/android-firstpersoncameracontroller-multitouch/46926372#46926372", "title": "Android : FirstPersonCameraController : Multitouch", "body": "<p>So,here is the fixed class, once you realise that finger 2 is a different input it makes sense :)</p>\n\n<pre><code>class InputController : FirstPersonCameraController {\n\n    private var gameRenderScreen: GameRenderScreen = GameRenderScreen()\n    private val forwardButton = TextButton(\"Forward\", Gui.skin)\n    private val backwardButton = TextButton(\"Backward\", Gui.skin)\n    private val leftButton = TextButton(\"Left\", Gui.skin)\n    private val rightButton = TextButton(\"Right\", Gui.skin)\n    private val jumpButton = TextButton(\"Jump\", Gui.skin)\n    private val modeButton = TextButton(\"Mode\", Gui.skin)\n    var myCamera: Camera\n\n    var tmp2 = Vector3();\n    private var degreesPerPixel2 = 0.5f\n\n    // stop to much dragging\n    private val touchPos = Vector2()\n    private val dragPos = Vector2()\n    private val radius = 20f\n\n    @JvmField\n    var isAdding = true\n\n    constructor(camera: Camera, gameRenderScreen: GameRenderScreen, stage: Stage) : super(camera) {\n        this.gameRenderScreen = gameRenderScreen\n        myCamera = camera\n\n        // create control\n        if (Gdx.app.type == Application.ApplicationType.Android || Gdx.app.type == Application.ApplicationType.iOS) {\n\n            var width: Float = width() / 10f\n            var height: Float = height() / 10f\n\n            forwardButton.setBounds(50f + width, 100f + (height * 2), width, height)\n            stage.addActor(forwardButton)\n\n            leftButton.setBounds(50f, 50f + height, width, height)\n            stage.addActor(leftButton)\n\n            rightButton.setBounds(50f + (width * 2), 50f + height, width, height)\n            stage.addActor(rightButton)\n\n            backwardButton.setBounds(50f + width, 10f, width, height)\n            stage.addActor(backwardButton)\n\n            jumpButton.setBounds(Gdx.graphics.width - width - 50f, 50f + height, width, height)\n            jumpButton.addListener(object : InputListener() {\n                override fun touchDown(event: InputEvent?, x: Float, y: Float, pointer: Int, button: Int): Boolean {\n                    if (gameRenderScreen.isJump == false &amp;&amp; gameRenderScreen.jumping == 0.0f) {\n                        gameRenderScreen.isJump = true\n                    }\n                    return super.touchDown(event, x, y, pointer, button)\n                }\n            })\n            stage.addActor(jumpButton)\n\n            modeButton.setBounds(Gdx.graphics.width - width - 50f, 100f + (height * 2), width, height)\n            modeButton.addListener(object : InputListener() {\n                override fun touchDown(event: InputEvent?, x: Float, y: Float, pointer: Int, button: Int): Boolean {\n                    isAdding = !isAdding\n                    return super.touchDown(event, x, y, pointer, button)\n                }\n            })\n            stage.addActor(modeButton)\n        }\n\n        val multiplexer = InputMultiplexer()\n        multiplexer.addProcessor(stage)\n        multiplexer.addProcessor(this)\n        Gdx.input.inputProcessor = multiplexer\n\n    }\n\n    override fun keyDown(keycode: Int): Boolean {\n\n        if (keycode == Input.Keys.SPACE &amp;&amp; gameRenderScreen.isJump == false &amp;&amp; gameRenderScreen.jumping == 0.0f) {\n            gameRenderScreen.isJump = true\n        }\n\n        if (keycode == Input.Keys.ENTER || modeButton.isPressed) {\n            isAdding = !isAdding\n        }\n\n        Gdx.app.log(\"INPUT\", \"Keydown \" + keycode)\n        return super.keyDown(keycode)\n    }\n\n    // Called from Render loop\n    fun updateControls() {\n\n        if (Gdx.app.type == Application.ApplicationType.Android || Gdx.app.type == Application.ApplicationType.iOS) {\n\n            if (forwardButton.isPressed) {\n                keyDown(Input.Keys.W)\n            } else {\n                keyUp(Input.Keys.W)\n            }\n\n            if (backwardButton.isPressed) {\n                keyDown(Input.Keys.S)\n            } else {\n                keyUp(Input.Keys.S)\n            }\n\n            if (leftButton.isPressed) {\n                keyDown(Input.Keys.A)\n            } else {\n                keyUp(Input.Keys.A)\n            }\n\n            if (rightButton.isPressed) {\n                keyDown(Input.Keys.D)\n            } else {\n                keyUp(Input.Keys.D)\n            }\n        }\n    }\n\n    override fun touchDragged(screenX: Int, screenY: Int, pointer: Int): Boolean {\n\n        dragPos.set(screenX.toFloat(), height() - screenY.toFloat())\n        val distance = touchPos.dst(dragPos)\n\n        if (distance &lt;= radius) {\n            Gdx.app.log(\"BUILDING\", \"Not Dragging \" + distance)\n        } else {\n            Gdx.app.log(\"BUILDING\", \"Dragging \" + distance)\n            hasMoved = true\n\n            var cutoff = width() * 0.75\n            if (screenX &gt; cutoff &amp;&amp; pointer == 1 &amp;&amp; Gdx.app.type == Application.ApplicationType.Android || Gdx.app.type == Application.ApplicationType.iOS) {\n\n                var deltaX = -Gdx.input.getDeltaX(1) * degreesPerPixel2\n                var deltaY = -Gdx.input.getDeltaY(1) * degreesPerPixel2\n\n                myCamera.direction.rotate(myCamera.up, deltaX)\n                tmp2.set(myCamera.direction).crs(myCamera.up).nor()\n                myCamera.direction.rotate(tmp2, deltaY)\n\n                return true\n            }\n        }\n\n        return super.touchDragged(screenX, screenY, pointer)\n    }\n\n    override fun touchDown(screenX: Int, screenY: Int, pointer: Int, button: Int): Boolean {\n        hasMoved = false\n        Gdx.app.log(\"INPUT\", \"touch Down \" + pointer + \" \" + button)\n\n        touchPos.set(screenX.toFloat(), height() - screenY.toFloat());\n\n        return super.touchDown(screenX, screenY, pointer, button)\n    }\n\n    override fun touchUp(screenX: Int, screenY: Int, pointer: Int, button: Int): Boolean {\n        if (hasMoved == false) {\n            gameRenderScreen.getObject(screenX, screenY)\n        }\n\n        Gdx.app.log(\"INPUT\", \"touch up \" + pointer + \" \" + button)\n\n        return super.touchUp(screenX, screenY, pointer, button)\n    }\n\n    companion object {\n\n        fun width(): Int {\n            return Gdx.graphics.width\n        }\n\n        fun height(): Int {\n            return Gdx.graphics.height\n        }\n\n        var hasMoved: Boolean = false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508916281, "creation_date": 1508830402, "question_id": 46904703, "link": "https://stackoverflow.com/questions/46904703/android-firstpersoncameracontroller-multitouch", "title": "Android : FirstPersonCameraController : Multitouch", "body": "<p>I am making a first-person 3D game in Libgdx and everything is going well.  I have a small issue with the controls when running on mobile.</p>\n\n<p>If a direction button (up, down, left or right) are pressed down first, then dragging around the screen (to look around) does not work.  If I drag around the screen first, then both work together.  The code is in Kotlin</p>\n\n<pre><code>class InputController : FirstPersonCameraController {\n\n    private var gameRenderScreen: GameRenderScreen = GameRenderScreen()\n    private val forwardButton = TextButton(\"Forward\", Gui.skin)\n    private val backwardButton = TextButton(\"Backward\", Gui.skin)\n    private val leftButton = TextButton(\"Left\", Gui.skin)\n    private val rightButton = TextButton(\"Right\", Gui.skin)\n    private val jumpButton = TextButton(\"Jump\", Gui.skin)\n    private val modeButton = TextButton(\"Mode\", Gui.skin)\n\n    @JvmField\n    var isAdding = true\n\n    constructor(camera: Camera) : super(camera) {}\n\n    constructor(camera: Camera, gameRenderScreen: GameRenderScreen, stage: Stage) : super(camera) {\n        this.gameRenderScreen = gameRenderScreen\n\n        // create control\n        if (Gdx.app.type == Application.ApplicationType.Android || Gdx.app.type == Application.ApplicationType.iOS) {\n\n            var width: Float = Gdx.graphics.width / 10f\n            var height: Float = Gdx.graphics.height / 10f\n\n            forwardButton.setBounds(50f + width, 100f + (height * 2), width, height)\n            stage.addActor(forwardButton)\n\n            leftButton.setBounds(50f, 50f + height, width, height)\n            stage.addActor(leftButton)\n\n            rightButton.setBounds(50f + (width * 2), 50f + height, width, height)\n            stage.addActor(rightButton)\n\n            backwardButton.setBounds(50f + width, 10f, width, height)\n            stage.addActor(backwardButton)\n\n            jumpButton.setBounds(Gdx.graphics.width - width - 50f, 50f + height, width, height)\n            stage.addActor(jumpButton)\n\n            modeButton.setBounds(Gdx.graphics.width - width - 50f, 100f + (height * 2), width, height)\n            stage.addActor(modeButton)\n        }\n\n        //Todo fix this as it stops touching working\n        val multiplexer = InputMultiplexer()\n        multiplexer.addProcessor(this)\n        multiplexer.addProcessor(stage)\n        Gdx.input.inputProcessor = multiplexer\n\n    }\n\n    override fun keyDown(keycode: Int): Boolean {\n\n        if ((keycode == Input.Keys.SPACE || jumpButton.isPressed) &amp;&amp; gameRenderScreen.isJump == false &amp;&amp; gameRenderScreen.jumping == 0.0f) {\n            gameRenderScreen.isJump = true\n        }\n\n        if (keycode == Input.Keys.ENTER || modeButton.isPressed) {\n            isAdding = !isAdding\n        }\n\n        return super.keyDown(keycode)\n    }\n\n    // Called from Render loop\n    fun updateControls() {\n\n        if (Gdx.app.type == Application.ApplicationType.Android || Gdx.app.type == Application.ApplicationType.iOS) {\n\n            if (forwardButton.isPressed) {\n                keyDown(Input.Keys.W)\n            } else {\n                keyUp(Input.Keys.W)\n            }\n\n            if (backwardButton.isPressed) {\n                keyDown(Input.Keys.S)\n            } else {\n                keyUp(Input.Keys.S)\n            }\n\n            if (leftButton.isPressed) {\n                keyDown(Input.Keys.A)\n            } else {\n                keyUp(Input.Keys.A)\n            }\n\n            if (rightButton.isPressed) {\n                keyDown(Input.Keys.D)\n            } else {\n                keyUp(Input.Keys.D)\n            }\n\n            if (modeButton.isPressed) {\n                isAdding = !isAdding\n            } else {\n            }\n\n            if (jumpButton.isPressed &amp;&amp; gameRenderScreen.isJump == false &amp;&amp; gameRenderScreen.jumping == 0.0f) {\n                gameRenderScreen.isJump = true\n            } else {\n            }\n        }\n    }\n\n    override fun touchDragged(screenX: Int, screenY: Int, pointer: Int): Boolean {\n        hasMoved = true\n        return super.touchDragged(screenX, screenY, pointer)\n    }\n\n    override fun touchDown(screenX: Int, screenY: Int, pointer: Int, button: Int): Boolean {\n        hasMoved = false\n        return super.touchDown(screenX, screenY, pointer, button)\n    }\n\n    override fun touchUp(screenX: Int, screenY: Int, pointer: Int, button: Int): Boolean {\n        if (hasMoved == false) {\n            gameRenderScreen.getObject(screenX, screenY)\n        }\n\n        return super.touchUp(screenX, screenY, pointer, button)\n    }\n\n    companion object {\n\n        fun width(): Int {\n            return Gdx.graphics.width\n        }\n\n        fun height(): Int {\n            return Gdx.graphics.height\n        }\n\n        var hasMoved: Boolean = false\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508829161, "post_id": 46904260, "comment_id": 80755241, "body": "show dependencies too, especially dagger"}, {"owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508829264, "post_id": 46904260, "comment_id": 80755297, "body": "<code>compile &#39;com.google.dagger:dagger:2.12&#39; kapt &#39;com.google.dagger:dagger-compiler:2.12&#39;     kapt &#39;com.google.dagger:dagger-android-processor:2.12&#39;</code>"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1508829583, "post_id": 46904260, "comment_id": 80755480, "body": "What&#39;s the point of this injection, you&#39;re providing itself?"}, {"owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "edited": false, "score": 0, "creation_date": 1508829983, "post_id": 46904260, "comment_id": 80755726, "body": "In actual scenario the injection happens in some fragment"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1508830078, "post_id": 46904260, "comment_id": 80755774, "body": "You&#39;re using a qualifier <code>@ActivityContext</code>. Either remove it in your module so that you provide a plain <code>Context</code>, or also add it in your MainActivity so that you request a <code>@ActivityContext Context</code>."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1508830101, "post_id": 46904260, "comment_id": 80755786, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44912080/how-do-i-fix-dagger-2-error-cannot-be-provided\">How do I fix Dagger 2 error &#39;... cannot be provided &#91;...&#93;&#39;?</a>"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1508830184, "post_id": 46904260, "comment_id": 80755851, "body": "@DavidMedenjak, I see he has declared <code>@Inject @ActivityContext lateinit var context:Context</code> in activity."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1508830778, "post_id": 46904260, "comment_id": 80756217, "body": "@azizbekian Thank you, I overlooked that. @Debu I still believe this is a problem with the qualifier, please include the source of the <code>@ActivityContext</code> annotation and try if it would work without it"}, {"owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "edited": false, "score": 0, "creation_date": 1508831409, "post_id": 46904260, "comment_id": 80756589, "body": "its working if I remove <code>@ActivityContext</code> , now what if I want to provide separate context for activity and application??"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1508835286, "post_id": 46904260, "comment_id": 80758957, "body": "@Debu as I said, please include the code of the annotation so that we can verify it"}, {"owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "edited": false, "score": 0, "creation_date": 1508844774, "post_id": 46904260, "comment_id": 80765449, "body": "<code>@Qualifier @Retention(RetentionPolicy.RUNTIME) public @interface ActivityContext { }  </code>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1508853040, "post_id": 46904260, "comment_id": 80771629, "body": "@Debu You should try switching to a Kotlin annotation"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 4, "last_activity_date": 1508832820, "creation_date": 1508832820, "answer_id": 46905375, "question_id": 46904260, "link": "https://stackoverflow.com/questions/46904260/context-cannot-be-provided-without-an-provides-or-produces-annotated-method-i/46905375#46905375", "title": "Context cannot be provided without an @Provides- or @Produces-annotated method in kotlin", "body": "<p>You injected property</p>\n\n<pre><code>@Inject @ActivityContext lateinit var context: Context\n</code></pre>\n\n<p>only annotates the property with <code>@ActivityContext</code>. So <em>Dagger</em> is looking for a provider for a simple <code>Context</code> without any qualifier. Instead you have to annotate the field with it</p>\n\n<pre><code>@Inject @field:ActivityContext lateinit var context: Context\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1674, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1508833064, "creation_date": 1508828992, "last_edit_date": 1508833064, "question_id": 46904260, "link": "https://stackoverflow.com/questions/46904260/context-cannot-be-provided-without-an-provides-or-produces-annotated-method-i", "title": "Context cannot be provided without an @Provides- or @Produces-annotated method in kotlin", "body": "<p>I am using Dagger for dependency injection in Kotlin. Now here are the necessary classes </p>\n\n<p><strong>ActivityModule</strong></p>\n\n<pre><code>@Module class ActivityModule (val activity : Activity){\n    @Provides\n    @ActivityContext\n    fun provideContext() : Context{\n        return activity\n    }\n}\n</code></pre>\n\n<p><strong>ActivityComponent</strong></p>\n\n<pre><code>@PerActivity\n@Component(dependencies = arrayOf(ApplicationComponent::class), modules = arrayOf(ActivityModule::class))\ninterface ActivityComponent {\n    fun inject(activity: MainActivity)\n}\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>@Inject @ActivityContext lateinit var context:Context\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        DaggerActivityComponent.builder()\n.applicationComponent(MainApplication.getInstance().getApplicationComponent()).activityModule(ActivityModule(this)).build()\n.inject(this);\n</code></pre>\n\n<p>Now I am getting the following error</p>\n\n<pre><code>error: android.content.Context cannot be provided without an @Provides- or @Produces-annotated method.\ne: \n\ne:     public abstract void inject(@org.jetbrains.annotations.NotNull()\ne:                          ^\ne:       android.content.Context is injected at\ne:           app.feed.com.ui.MainActivity.context\ne:       app.feed.com.ui.MainActivity is injected at\ne:           app.feed.com.injection.component.ActivityComponent.inject(p0)\n</code></pre>\n\n<p><strong>I am using the same code in java and its working fine</strong> but here in kotlin its giving the error, also <code>ApplicaionComponent</code> dependencies are working fine. Meanwhile i am using the following versions of gradle and kotlin </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-3'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>Kindly help me to figure out what am I doing wrong</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508826813, "post_id": 46903587, "comment_id": 80753860, "body": "Note that <code>String</code> is not a primitive type."}, {"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508832389, "post_id": 46903587, "comment_id": 80757192, "body": "even so why get true, i thought only primitive type"}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508844482, "post_id": 46903587, "comment_id": 80765258, "body": "Because <code>===</code> compares references, and just like in Java, there is a string pool - string literals are shared in the pool, so if you have two string literals with the same content then there is only one <code>String</code> object and both your variables point to the same object."}, {"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508893122, "post_id": 46903587, "comment_id": 80791800, "body": "I mean val a1 =1     val a2=1   print(a1 === a2) get ture, why? there is a Integer pool?"}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508910987, "post_id": 46903587, "comment_id": 80796618, "body": "No. In that example <code>a1</code> and <code>a2</code> are not <code>Integer</code> objects, they are just primitive values - not objects. <code>===</code> just compares the values. Exactly the same as what <code>==</code> does in Java."}, {"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508918351, "post_id": 46903587, "comment_id": 80800759, "body": "if write val a1:Int =1    val a2:Int =2 , they are still primitive values? How to judge a object or primitive"}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1508918706, "post_id": 46903587, "comment_id": 80800975, "body": "There is a <a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">fixed set of primitive types</a>: Double, Float, Long, Int, Short, Byte, Char, Boolean. Those are primitive types, any other type is not."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508899773, "post_id": 46903892, "comment_id": 80793480, "body": "Kotlin has no primitive type? I only saw Int,Boolean,Double... &lt;- class"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508913516, "post_id": 46903892, "comment_id": 80797776, "body": "Just because it looks like a class doesn&#39;t mean it has to be represented as a class in bytecode."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 6, "last_activity_date": 1508828174, "last_edit_date": 1508828174, "creation_date": 1508827691, "answer_id": 46903892, "question_id": 46903587, "link": "https://stackoverflow.com/questions/46903587/why-kotlin-use-compare-primitive-type-equal-each-other-if-they-has-same-valu/46903892#46903892", "title": "why kotlin use === compare primitive type equal each other if they has same value", "body": "<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (\u00a715.28) - are \"interned\" so as to share unique instances, using the method String.intern.</a></p>\n</blockquote>\n\n<p>Kotlin simply reuses the same mechanism. See <a href=\"https://stackoverflow.com/questions/11700320/is-string-literal-pool-a-collection-of-references-to-the-string-object-or-a-col\">Is String Literal Pool a collection of references to the String Object, Or a collection of Objects</a> and <a href=\"https://stackoverflow.com/questions/8046045/java-string-literal-pool-and-string-object\">Java String literal pool and string object</a> for additional explanations.</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508899884, "post_id": 46904149, "comment_id": 80793500, "body": "Kotlin has no primitive type? I only saw Int,Boolean,Double... &lt;- class"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508907158, "post_id": 46904149, "comment_id": 80795278, "body": "Kotlin do have primitives, but the compiler decides when to use it and when to use the wrapper types. so <code>Int</code>, <code>Boolean</code>, ... will be compiled to primitive types in the bytecode in most situations (when they are not involved in generics or you use the nullable-variant of the type <code>Int?</code>)"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 2, "last_activity_date": 1508841119, "last_edit_date": 1508841119, "creation_date": 1508828554, "answer_id": 46904149, "question_id": 46903587, "link": "https://stackoverflow.com/questions/46903587/why-kotlin-use-compare-primitive-type-equal-each-other-if-they-has-same-valu/46904149#46904149", "title": "why kotlin use === compare primitive type equal each other if they has same value", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/equality.html</a></p>\n\n<blockquote>\n  <p>In Kotlin there are two types of equality:</p>\n  \n  <ul>\n  <li>Referential equality (two references point to the same object);</li>\n  <li>Structural equality (a check for equals()).</li>\n  </ul>\n  \n  <p><strong>Referential equality</strong> is checked by the <code>===</code> operation (and its negated counterpart <code>!==</code>). <code>a === b</code> evaluates to true if and only if\n  a and b point to the <strong>same object</strong>.</p>\n  \n  <p><strong>Structural equality</strong> is checked by the <code>==</code> operation (and its negated counterpart <code>!=</code>). By convention, an expression like <code>a == b</code>\n  is translated to:So you see</p>\n</blockquote>\n\n<pre><code>a?.equals(b) ?: (b === null)\n</code></pre>\n\n<p>So you see: <code>==</code> means <code>equals</code> and <code>===</code> means referential equality</p>\n\n<p>That would imply that</p>\n\n<pre><code>val hello1 = \"hello\"\nval hello2 = \"hello\"\nprintf(hello1 === hello2)\n</code></pre>\n\n<p>is referential compared which should lead to <code>false</code>.\nBUT: When you use a string literal like <code>\"hello\"</code>, the string cache of java is used (this is an optimization to save memory). So you get both times the same reference, and therefore the reference equality is true.</p>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508833003, "post_id": 46904523, "comment_id": 80757522, "body": "No this particular feature is dedicated to <code>String</code>"}, {"owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508833742, "post_id": 46904523, "comment_id": 80757955, "body": "Even so why other primitive types run === will also get true"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "edited": false, "score": 0, "creation_date": 1508833853, "post_id": 46904523, "comment_id": 80758015, "body": "For primitives it is like you say, but string isn\u2019t a primitive, strings are objects which makes it special (the pool)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1543506294, "last_edit_date": 1543506294, "creation_date": 1508829753, "answer_id": 46904523, "question_id": 46903587, "link": "https://stackoverflow.com/questions/46903587/why-kotlin-use-compare-primitive-type-equal-each-other-if-they-has-same-valu/46904523#46904523", "title": "why kotlin use === compare primitive type equal each other if they has same value", "body": "<h3>Equality in Kotlin</h3>\n\n<p>I explained the general equality tools used in Kotlin in <a href=\"https://stackoverflow.com/a/45775038/8073652\">this answer</a>. \nTLDR: </p>\n\n<ol>\n<li><p>structural equality: <code>==</code> is compiled to Java's <code>equals</code></p></li>\n<li><p>Referential equality: <code>===</code> is what <code>==</code> does in Java: References are compared to each other. It yields <code>true</code> if <em>the same</em> objects are being compared.</p></li>\n</ol>\n\n<h3>What about Strings like in your example?</h3>\n\n<p>Strings are special in that they work with a so called <em>string constant pool</em>. For example, even in Java, the following is <code>true</code> for both comparisons:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"prasad\";\n    String s2 = \"prasad\";\n\n    System.out.println(s.equals(s2));\n    System.out.println(s == s2);\n}\n</code></pre>\n\n<p>On the other hand, the next snippet does work differently since <code>new</code> Strings are being created:</p>\n\n<pre><code>String foo = new String(\"hello\");\nString bar = new String(\"hello\");\nSystem.out.println(foo == bar);  // prints 'false'\n</code></pre>\n\n<p>Read about it here: <a href=\"https://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings\">What is the Java string pool and how is &quot;s&quot; different from new String(&quot;s&quot;)?</a></p>\n\n<p>FYI: <code>String</code>s are not primitive.</p>\n"}], "owner": {"reputation": 307, "user_id": 7970550, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-Q1ZetmMgMSA/AAAAAAAAAAI/AAAAAAAAAAw/7NzFSWs43mY/photo.jpg?sz=128", "display_name": "Shawn Plus", "link": "https://stackoverflow.com/users/7970550/shawn-plus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1594, "favorite_count": 0, "accepted_answer_id": 46904523, "answer_count": 3, "score": 2, "last_activity_date": 1543506294, "creation_date": 1508826606, "question_id": 46903587, "link": "https://stackoverflow.com/questions/46903587/why-kotlin-use-compare-primitive-type-equal-each-other-if-they-has-same-valu", "title": "why kotlin use === compare primitive type equal each other if they has same value", "body": "<pre><code>val hello1 = \"hello\"\nval hello2 = \"hello\"\nprintf(hello1 === hello2)\n</code></pre>\n\n<p>why print true?</p>\n\n<p>I guess kotlin has a primitive type pool(or something like that).\nIf the value is equality,a pointer points to same place.I'm not sure.</p>\n"}, {"tags": ["java", "kotlin", "apache-fop"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1516649780, "post_id": 48388972, "comment_id": 83765676, "body": "That&#39;s an absolute path though, not a relative path. I don&#39;t have the absolute path most of the time unfortunately."}], "tags": [], "owner": {"reputation": 11, "user_id": 9253373, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PNQ1_ABD2fc/AAAAAAAAAAI/AAAAAAAALQ8/UkkkJo2sAoA/photo.jpg?sz=128", "display_name": "Esteban Ibarra", "link": "https://stackoverflow.com/users/9253373/esteban-ibarra"}, "is_accepted": false, "score": 1, "last_activity_date": 1516649568, "creation_date": 1516649568, "answer_id": 48388972, "question_id": 46901724, "link": "https://stackoverflow.com/questions/46901724/apache-fop-2-2-include-fonts-using-relative-path/48388972#48388972", "title": "Apache FOP 2.2 Include Fonts using Relative Path", "body": "<p>put the URL = (/Users/me/Code/company/project/src/main/resources/templates/fonts) in <code>&lt;font-base&gt;./&lt;/font-base&gt;</code> like this: </p>\n\n<ul>\n<li><code>&lt;font-base&gt;/Users/me/Code/company/project/src/main/resources/templates/fonts&lt;/font-base&gt;</code></li>\n</ul>\n\n<p>And you solve the problem! ;)</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 4564898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBUYy24iWUE/AAAAAAAAAAI/AAAAAAAAAAA/zgTuKVtgKhk/photo.jpg?sz=128", "display_name": "Josel Pasilan", "link": "https://stackoverflow.com/users/4564898/josel-pasilan"}, "is_accepted": false, "score": 1, "last_activity_date": 1537339456, "last_edit_date": 1537339456, "creation_date": 1537339099, "answer_id": 52399603, "question_id": 46901724, "link": "https://stackoverflow.com/questions/46901724/apache-fop-2-2-include-fonts-using-relative-path/52399603#52399603", "title": "Apache FOP 2.2 Include Fonts using Relative Path", "body": "<p>I would say that this footnote in the FOP configuration documentation is the most helpful.</p>\n\n<p><a href=\"https://xmlgraphics.apache.org/fop/trunk/configuration.html#fnref:1\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/trunk/configuration.html#fnref:1</a></p>\n\n<p>It states that all relative paths in the configuration will resolve to the <code>&lt;base&gt;</code> path. In your case, it includes the <code>&lt;font-base&gt;</code>. Also, the last bit of the footnote states that if <code>&lt;base&gt;</code> is in itself a relative path, it will by default resolve to the current working directory.</p>\n\n<p>Basically, there would be two approaches so that the <code>fonts</code> directory will be properly resolved and be found by FOP.</p>\n\n<ol>\n<li>You can programmatically set the <code>&lt;base&gt;</code> path using the <code>FopFactory.setUserConfigBaseURI</code> API. That is if you're using Java.</li>\n<li><p>If you're not using Java, you can set the  path relative to the current working directory, e.g. <code>&lt;base&gt;.&lt;/base&gt;</code>, and within your program/script call a system function to change the current working directory to something that's known and will resolve the relative paths. Here's an example with PHP.</p>\n\n<pre><code>// This would be in the PHP script.\nchdir(\"/var/www/html/site\");\nexec(\"$path_to_fop -c $path_to_fop_xconf ...\");\n\n// This would be how the &lt;directory&gt; element in fop.xconf would be written.\n// Since the current working directory is changed with chdir(), this should\n// resolve to /var/www/html/site/libraries/fop/fonts.\n&lt;directory recursive=\"true\"&gt;./libraries/fop/fonts&lt;/directory&gt;\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 720, "user_id": 1501375, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JSddq.png?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/1501375/kai"}, "is_accepted": false, "score": 2, "last_activity_date": 1547194213, "creation_date": 1547194213, "answer_id": 54142592, "question_id": 46901724, "link": "https://stackoverflow.com/questions/46901724/apache-fop-2-2-include-fonts-using-relative-path/54142592#54142592", "title": "Apache FOP 2.2 Include Fonts using Relative Path", "body": "<p>Although this is an old thread, I might add that even in FOP 2.3 the issue is still present. You might find <a href=\"https://issues.apache.org/jira/browse/FOP-2600\" rel=\"nofollow noreferrer\">this FOP Bug</a> useful: </p>\n\n<ul>\n<li>font-base has been removed from config (not in the docs)</li>\n<li>use absolute paths</li>\n</ul>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1547194213, "creation_date": 1508815704, "question_id": 46901724, "link": "https://stackoverflow.com/questions/46901724/apache-fop-2-2-include-fonts-using-relative-path", "title": "Apache FOP 2.2 Include Fonts using Relative Path", "body": "<p>I'm setting up a <code>fop.xconf</code> and configuring which fonts are available to Apache FOP and would like to use a relative path rather than an absolute path:</p>\n\n<pre><code>&lt;fop version=\"1.0\"&gt;\n\n    &lt;strict-configuration&gt;true&lt;/strict-configuration&gt;\n    &lt;strict-validation&gt;true&lt;/strict-validation&gt;\n    &lt;base&gt;./&lt;/base&gt;\n    &lt;font-base&gt;./&lt;/font-base&gt;\n    &lt;source-resolution&gt;72&lt;/source-resolution&gt;\n    &lt;target-resolution&gt;72&lt;/target-resolution&gt;\n    &lt;default-page-settings height=\"11in\" width=\"8.26in\"/&gt;\n\n    &lt;hyphenation-pattern lang=\"en\" country=\"ZA\"&gt;en_ZA&lt;/hyphenation-pattern&gt;\n\n    &lt;renderers&gt;\n        &lt;renderer mime=\"application/pdf\"&gt;\n        &lt;fonts&gt;\n            &lt;directory recursive=\"true\"&gt;/Users/me/Code/company/project/src/main/resources/templates/fonts&lt;/directory&gt;\n            &lt;substitutions&gt;\n                &lt;substitution&gt;\n                    &lt;from font-family=\"Helvetica\" /&gt;\n                    &lt;to font-family=\"OpenSans\" /&gt;\n                &lt;/substitution&gt;\n            &lt;/substitutions&gt;\n        &lt;/fonts&gt;\n        &lt;/renderer&gt;\n   &lt;/renderers&gt;    \n&lt;/fop&gt;\n</code></pre>\n\n<p>Is it possible to set that fonts directory inside renderers to use a relative path? </p>\n\n<p>Or is possible to set it programmatically in which case I could make use of</p>\n\n<pre><code>this::class.java.getResource(\"/templates/fonts/MyFont.ttf\")\n</code></pre>\n\n<p>to get the full path?</p>\n\n<pre><code>2017-10-24 05:24:48,591 WARN  org.apache.fop.apps.FOUserAgent - The font directory ./fonts could not be found.\n2017-10-24 05:24:48,591 WARN  org.apache.fop.apps.FOUserAgent - The font directory ./templates/fonts could not be found.\n2017-10-24 05:24:48,591 WARN  org.apache.fop.apps.FOUserAgent - The font directory ./resources/templates/fonts could not be found.\n</code></pre>\n"}, {"tags": ["json", "kotlin", "google-directions-api", "klaxon"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508814656, "post_id": 46901512, "comment_id": 80749998, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6343166/how-do-i-fix-android-os-networkonmainthreadexception\">How do I fix android.os.NetworkOnMainThreadException?</a>"}, {"owner": {"reputation": 1, "user_id": 8764659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0435463e81a2826f352ecc7b37643566?s=128&d=identicon&r=PG&f=1", "display_name": "MrBazilevs", "link": "https://stackoverflow.com/users/8764659/mrbazilevs"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508815225, "post_id": 46901512, "comment_id": 80750130, "body": "I used async {                     distanceDier (LatLng (53.402971, 91.083748), LatLng (53.529799, 91.410684), &quot;TravelMode&quot;)                 } but the error has remained"}, {"owner": {"reputation": 1, "user_id": 8764659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0435463e81a2826f352ecc7b37643566?s=128&d=identicon&r=PG&f=1", "display_name": "MrBazilevs", "link": "https://stackoverflow.com/users/8764659/mrbazilevs"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508815284, "post_id": 46901512, "comment_id": 80750149, "body": "no. this is not a duplicate"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508815372, "post_id": 46901512, "comment_id": 80750172, "body": "If you continuously get <code>NetworkOnMainThreadException</code> than that&#39;s still the same problem. See the question I&#39;ve linked for fixes."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508815511, "post_id": 46901512, "comment_id": 80750200, "body": "If async doesn&#39;t work, I&#39;d recommend reading <a href=\"https://stackoverflow.com/a/21284021/3755692\">this answer</a>. It has a good alternative plus lots of explanations"}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519083870, "post_id": 46904189, "comment_id": 84755616, "body": "This doesn&#39;t work. If you try you get the following error, because Klaxon and Fuel don&#39;t play nice together  <code>java.lang.ClassCastException: com.beust.klaxon.JsonArray cannot be cast to java.lang.String</code>"}, {"owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "edited": false, "score": 0, "creation_date": 1520536619, "post_id": 46904189, "comment_id": 85367164, "body": "Sounds like the result is an array, so you should call <code>parser.parseArray(stringBuilder)</code>."}], "tags": [], "owner": {"reputation": 1, "user_id": 8764659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0435463e81a2826f352ecc7b37643566?s=128&d=identicon&r=PG&f=1", "display_name": "MrBazilevs", "link": "https://stackoverflow.com/users/8764659/mrbazilevs"}, "is_accepted": false, "score": 0, "last_activity_date": 1508828715, "creation_date": 1508828715, "answer_id": 46904189, "question_id": 46901512, "link": "https://stackoverflow.com/questions/46901512/kotlin-klaxon-parse-google-direction-api/46904189#46904189", "title": "Kotlin klaxon parse Google direction Api", "body": "<pre><code> fun distanceDier (start: LatLng, end: LatLng, mode: String) {\nval url = (\"http://maps.googleapis.com/maps/api/directions/json?\"\n        + \"origin=\" + start.latitude + \",\" + start.longitude\n        + \"&amp;destination=\" + end.latitude + \",\" + end.longitude\n        + \"&amp;sensor=false&amp;units=metric&amp;mode=\" + mode)\n//val result = URL(url).readText()\n//an extension over string (support GET, PUT, POST, DELETE with httpGet(), httpPut(), httpPost(), httpDelete())\nurl.httpGet().responseString { request, response, result -&gt;\n    //do something with response\n    when (result) {\n        is Result.Failure -&gt; {\n\n        }\n        is Result.Success -&gt; {\n            val res = result.value\n            println(\"Result: $result\")\n            val parser: Parser = Parser()\n            val stringBuilder: StringBuilder = StringBuilder(res)\n            val json: JsonObject = parser.parse(stringBuilder) as JsonObject\n            println(\"distance : ${json.lookup&lt;String?&gt;(\"routes.legs.distance.text\")},\")\n\n        }\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8764659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0435463e81a2826f352ecc7b37643566?s=128&d=identicon&r=PG&f=1", "display_name": "MrBazilevs", "link": "https://stackoverflow.com/users/8764659/mrbazilevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1508828715, "creation_date": 1508814081, "question_id": 46901512, "link": "https://stackoverflow.com/questions/46901512/kotlin-klaxon-parse-google-direction-api", "title": "Kotlin klaxon parse Google direction Api", "body": "<p>Sorry for my English(google translate). \nI'm trying to get a distance between two points from the answer google directions using klaxon (<a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">https://github.com/cbeust/klaxon</a>) on Kotlin.</p>\n\n<pre><code> fun distanceDier (start: LatLng, end: LatLng, mode: String) {\n    val url = (\"http://maps.googleapis.com/maps/api/directions/json?\"\n            + \"origin=\" + start.latitude + \",\" + start.longitude\n            + \"&amp;destination=\" + end.latitude + \",\" + end.longitude\n            + \"&amp;sensor=false&amp;units=metric&amp;mode=\" + mode)\n    val result = URL(\"$url\").readText()\n    val parser: Parser = Parser()\n    val stringBuilder: StringBuilder = StringBuilder(result)\n    val json: JsonObject = parser.parse(stringBuilder) as JsonObject\n    println(\"distance : ${json.string(\"routes.legs.distance.text\")},\")\n    println(\"$url\") //test\n</code></pre>\n\n<p>setpoints </p>\n\n<pre><code> distanceDier(LatLng(53.402971, 91.083748),LatLng(53.529799, 91.410684),\"TravelMode\")\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                      Process: ru.kbais.coal4, PID: 4494\n                                                      java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { (has extras) }} to activity {ru.kbais.coal4/ru.kbais.coal4.MainActivity}: android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>place error</p>\n\n<pre><code>val result = URL(\"$url\").readText()\n</code></pre>\n\n<p>Url:  <a href=\"http://maps.googleapis.com/maps/api/directions/json?origin=53.402971,91.083748&amp;destination=53.529799,91.410684&amp;sensor=false&amp;units=metric&amp;mode=TravelMode\" rel=\"nofollow noreferrer\">http://maps.googleapis.com/maps/api/directions/json?origin=53.402971,91.083748&amp;destination=53.529799,91.410684&amp;sensor=false&amp;units=metric&amp;mode=TravelMode</a></p>\n\n<p>How to get the distance from the Json file and what is the error code?</p>\n"}, {"tags": ["kotlin", "stack"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 12, "creation_date": 1508814787, "post_id": 46900048, "comment_id": 80750033, "body": "Don&#39;t use <code>Stack</code> anymore, it&#39;s very old java and relies on <code>Vector</code>. Instead use <code>Deque</code>, implemented by e.g. <code>ArrayDeque</code> or <code>LinkedList</code>"}, {"owner": {"reputation": 741, "user_id": 4334953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmvHs.jpg?s=128&g=1", "display_name": "tung", "link": "https://stackoverflow.com/users/4334953/tung"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1523874963, "post_id": 46900048, "comment_id": 86724777, "body": "the stack implementation in java is quite bad either use the suggestion of @msrd0 or implement your own stack"}], "answers": [{"comments": [{"owner": {"reputation": 1957, "user_id": 117376, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2809be0268b31a2c4759610b496a8a65?s=128&d=identicon&r=PG", "display_name": "Cincinnati Joe", "link": "https://stackoverflow.com/users/117376/cincinnati-joe"}, "edited": false, "score": 3, "creation_date": 1521481595, "post_id": 46901094, "comment_id": 85739481, "body": "As noted in the comment on the question, should use Deque instead of Stack. <a href=\"https://stackoverflow.com/questions/12524826/why-should-i-use-deque-over-stack\" title=\"why should i use deque over stack\">stackoverflow.com/questions/12524826/&hellip;</a>"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1606166534, "post_id": 46901094, "comment_id": 114874950, "body": "Java collection in Kotlin?"}], "tags": [], "owner": {"reputation": 448, "user_id": 2140736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bdb06b00ebff0f70a594a525061931?s=128&d=identicon&r=PG", "display_name": "Ed Kohlwey", "link": "https://stackoverflow.com/users/2140736/ed-kohlwey"}, "is_accepted": false, "score": 15, "last_activity_date": 1508810757, "creation_date": 1508810757, "answer_id": 46901094, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/46901094#46901094", "title": "How can I use stack in Kotlin?", "body": "<p>This is done in the same way as you would in Java, but with Kotlin syntax - notably different are the <code>val</code> keyword and lack of new keyword. For example:</p>\n\n<pre><code>import java.util.Stack\n...\nval someList = ArrayList()\n...\nval stack = Stack()\nstack.addAll(someList)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 279, "user_id": 5652258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7f5ad8993dd02091bad75d3dff20151?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/5652258/some-guy"}, "edited": false, "score": 1, "creation_date": 1548328144, "post_id": 46917878, "comment_id": 95505948, "body": "The use of &#39;count&#39; here is unnecessary for adding elements, since it is the default location for single-parameter &#39;add&#39;. Thus, &#39;stackDemo.add(&quot;One&quot;)&#39; will suffice. Also, for removing elements, you should be using count()-1, not count(), or you will get exceptions thrown."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1552423386, "post_id": 46917878, "comment_id": 97002261, "body": "Is <b>mutableList</b> more memory-efficient than <b>stack</b>?"}], "tags": [], "owner": {"reputation": 1980, "user_id": 4759033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk2tt.jpg?s=128&g=1", "display_name": "Satej S", "link": "https://stackoverflow.com/users/4759033/satej-s"}, "is_accepted": false, "score": 9, "last_activity_date": 1508870696, "creation_date": 1508870696, "answer_id": 46917878, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/46917878#46917878", "title": "How can I use stack in Kotlin?", "body": "<p>I don't believe there's a specific separate implementation of Stack in Kotlin. You could definitely use the answer by Ed. </p>\n\n<p>Alternatively, you could use a <code>mutableListOf&lt;DataType&gt;</code> construct, and then have custom methods that are on top of this.</p>\n\n<p>It would be something like this :</p>\n\n<pre><code>var stackDemo = mutableListOf&lt;String&gt;()\n</code></pre>\n\n<p>To push an element</p>\n\n<pre><code>var count = stackDemo.count()\nstackDemo.add(count,\"One\")\n</code></pre>\n\n<p>To pop an element</p>\n\n<pre><code>var count = stackDemo.count()\nstackDemo.removeAt(count)\n</code></pre>\n\n<p>You can refer to this <a href=\"https://github.com/gazolla/Kotlin-Algorithm/tree/master/Stack\" rel=\"noreferrer\">Github link</a> for a model implementation</p>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 1532987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EyRl5.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1532987/ali"}, "is_accepted": false, "score": 10, "last_activity_date": 1523816273, "last_edit_date": 1523816273, "creation_date": 1523804936, "answer_id": 49843441, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/49843441#49843441", "title": "How can I use stack in Kotlin?", "body": "<p>you can define Stack like it. </p>\n\n<pre><code>val stack = Stack&lt;YourStackType&gt;()\n</code></pre>\n\n<p>notice that set the data type of your stack, for example stack of Int is like this:</p>\n\n<pre><code>val stack = Stack&lt;Int&gt;()\n</code></pre>\n\n<p>after that you can use push , pop , or other stack operations</p>\n\n<p>example for Int stack :</p>\n\n<pre><code>a:Int = 10\nstack.push(a)\na = stack.pop()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15772, "user_id": 264276, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6acfa5e87353a9f9bf563e5f64279c06?s=128&d=identicon&r=PG", "display_name": "Martyn", "link": "https://stackoverflow.com/users/264276/martyn"}, "edited": false, "score": 1, "creation_date": 1584962789, "post_id": 59677155, "comment_id": 107593042, "body": "This should be mentioned more in this thread - don&#39;t use Stack, instead use Deque.  For reasons why: <a href=\"https://stackoverflow.com/questions/12524826/why-should-i-use-deque-over-stack\" title=\"why should i use deque over stack\">stackoverflow.com/questions/12524826/&hellip;</a>"}, {"owner": {"reputation": 1715, "user_id": 910095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e96728ed86fffbb7960da7fe34cd47?s=128&d=identicon&r=PG", "display_name": "Nikola Mihajlovi\u0107", "link": "https://stackoverflow.com/users/910095/nikola-mihajlovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1608935132, "post_id": 59677155, "comment_id": 115716457, "body": "Be careful because the iteration order of <code>ArrayDeque</code> when used as a stack is wrong."}], "tags": [], "owner": {"reputation": 238, "user_id": 932066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914f733186933c1e932103feca03699c?s=128&d=identicon&r=PG", "display_name": "sandeep549", "link": "https://stackoverflow.com/users/932066/sandeep549"}, "is_accepted": false, "score": 17, "last_activity_date": 1582022201, "last_edit_date": 1582022201, "creation_date": 1578641267, "answer_id": 59677155, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/59677155#59677155", "title": "How can I use stack in Kotlin?", "body": "<pre><code>import java.util.ArrayDeque\n\nvar stack = ArrayDeque&lt;Int&gt;()\nstack.push(1)\nstack.push(2)\nstack.push(3)\nstack.push(4)\nprintln(stack)           // --&gt; [4, 3, 2, 1]\nprintln(stack.isEmpty()) // --&gt; false\n\nprintln(stack.peek())    // --&gt; 4\nprintln(stack)           // --&gt; [4, 3, 2, 1]\n\nprintln(stack.pop())     // --&gt; 4\nprintln(stack)           // --&gt; [3, 2, 1]\n\nstack.push(9)\nprintln(stack)           // --&gt; [9, 3, 2, 1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 1276478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87fed883efa800fbce5799c34328eafb?s=128&d=identicon&r=PG", "display_name": "adammtlx", "link": "https://stackoverflow.com/users/1276478/adammtlx"}, "is_accepted": false, "score": 9, "last_activity_date": 1580499075, "creation_date": 1580499075, "answer_id": 60010142, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/60010142#60010142", "title": "How can I use stack in Kotlin?", "body": "<p>This is a few years old but I suspect there's room for a different approach. If you want to use a stack structure in Kotlin you certainly don't need to resort to Java. You could easily just create a new class with an internal Kotlin list and stack-like public functions, or use Kotlin's extension methods to give an existing Kotlin collection \"stack-like\" functionality, for example:</p>\n\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.push(item: T) = this.add(this.count(), item)\nfun &lt;T&gt; MutableList&lt;T&gt;.pop(): T? = if(this.count() &gt; 0) this.removeAt(this.count() - 1) else null\nfun &lt;T&gt; MutableList&lt;T&gt;.peek(): T? = if(this.count() &gt; 0) this[this.count() - 1] else null\nfun &lt;T&gt; MutableList&lt;T&gt;.hasMore() = this.count() &gt; 0 \n</code></pre>\n\n<p>Then, optionally, you could use a typealias to make it more obvious what you're trying to do when using those functions:</p>\n\n<pre><code>typealias Stack = MutableList&lt;MyClass&gt;\n</code></pre>\n\n<p>Then create one and use it:</p>\n\n<pre><code>val myStack: Stack = mutableListOf()\nmyStack.push(MyClass())\nmyStack.pop()\n</code></pre>\n\n<p>etc</p>\n"}, {"tags": [], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "is_accepted": false, "score": 11, "last_activity_date": 1589293230, "last_edit_date": 1589293230, "creation_date": 1589181737, "answer_id": 61724278, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin/61724278#61724278", "title": "How can I use stack in Kotlin?", "body": "<p>You can use following:</p>\n\n<pre><code>/**\n * Stack as type alias of Mutable List\n */\ntypealias Stack&lt;T&gt; = MutableList&lt;T&gt;\n\n/**\n * Pushes item to [Stack]\n * @param item Item to be pushed\n */\ninline fun &lt;T&gt; Stack&lt;T&gt;.push(item: T) = add(item)\n\n/**\n * Pops (removes and return) last item from [Stack]\n * @return item Last item if [Stack] is not empty, null otherwise\n */\nfun &lt;T&gt; Stack&lt;T&gt;.pop(): T? = if (isNotEmpty()) removeAt(lastIndex) else null\n\n/**\n * Peeks (return) last item from [Stack]\n * @return item Last item if [Stack] is not empty, null otherwise\n */\nfun &lt;T&gt; Stack&lt;T&gt;.peek(): T? = if (isNotEmpty()) this[lastIndex] else null\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6556881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26621, "favorite_count": 2, "answer_count": 6, "score": 23, "last_activity_date": 1619180539, "creation_date": 1508802041, "last_edit_date": 1619180539, "question_id": 46900048, "link": "https://stackoverflow.com/questions/46900048/how-can-i-use-stack-in-kotlin", "title": "How can I use stack in Kotlin?", "body": "<p>How can I use Stack (from java) in Kotlin?</p>\n<p>Or theres any other alternative?</p>\n<ul>\n<li>I'm trying to convert list to Stack</li>\n</ul>\n"}, {"tags": ["android", "gradle", "kotlin", "proguard", "release"], "comments": [{"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1508794670, "post_id": 46898911, "comment_id": 80745047, "body": "Are you using proguard? This looks like it might be a code stripping issue."}, {"owner": {"reputation": 249, "user_id": 6787154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcf3a0dfdde96f9f6ba1f18ee7cde000?s=128&d=identicon&r=PG", "display_name": "Harman Kamboj", "link": "https://stackoverflow.com/users/6787154/harman-kamboj"}, "reply_to_user": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1508794865, "post_id": 46898911, "comment_id": 80745114, "body": "@emerssso I&#39;m new to android and yes proguard is used however I set minifyEnabled to false and tried it again, the same. So am I doing something wrong? How can I disable proguard completely?"}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1508795431, "post_id": 46898911, "comment_id": 80745358, "body": "If you have <code>minifyEnabled false</code> then proguard is off, so that can&#39;t be it. Can you include your <code>build.gradle</code> file for the app? It&#39;s probably an issue there..."}, {"owner": {"reputation": 249, "user_id": 6787154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcf3a0dfdde96f9f6ba1f18ee7cde000?s=128&d=identicon&r=PG", "display_name": "Harman Kamboj", "link": "https://stackoverflow.com/users/6787154/harman-kamboj"}, "reply_to_user": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1508796295, "post_id": 46898911, "comment_id": 80745669, "body": "@emerssso I&#39;ve attached the gradle file. can you please take a look at it?"}, {"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1508803689, "post_id": 46898911, "comment_id": 80747554, "body": "Your gradle file looks ok, what version of android are you testing on? Could be a multidex issue."}], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 6787154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcf3a0dfdde96f9f6ba1f18ee7cde000?s=128&d=identicon&r=PG", "display_name": "Harman Kamboj", "link": "https://stackoverflow.com/users/6787154/harman-kamboj"}, "is_accepted": true, "score": 0, "last_activity_date": 1508892424, "creation_date": 1508892424, "answer_id": 46922165, "question_id": 46898911, "link": "https://stackoverflow.com/questions/46898911/android-crashing-after-trying-to-build-a-release-version/46922165#46922165", "title": "Android crashing after trying to build a release version", "body": "<p>Close Android Studio Completely. Clean and Rebuild the Project.</p>\n"}], "owner": {"reputation": 249, "user_id": 6787154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcf3a0dfdde96f9f6ba1f18ee7cde000?s=128&d=identicon&r=PG", "display_name": "Harman Kamboj", "link": "https://stackoverflow.com/users/6787154/harman-kamboj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 1, "accepted_answer_id": 46922165, "answer_count": 1, "score": 2, "last_activity_date": 1532542385, "creation_date": 1508794546, "last_edit_date": 1532542385, "question_id": 46898911, "link": "https://stackoverflow.com/questions/46898911/android-crashing-after-trying-to-build-a-release-version", "title": "Android crashing after trying to build a release version", "body": "<p>The App works fine when I export it as as a debug version with no errors at all however it crashes at launch when I export it as a release version.</p>\n\n<p>I've attached the error from the Android Monitor</p>\n\n<pre><code>10-24 03:02:02.286 17303-17303/? E/CustomizationReader: appName = Prism\n10-24 03:02:02.287 17303-17303/? E/CustomizationReader: key = sku_id\n10-24 03:02:02.287 17303-17303/? E/CustomizationReader: Result = 33\n10-24 03:02:02.531 24402-24402/? E/dalvikvm: Could not find class 'kotlin.jvm.internal.PropertyReference1Impl', referenced from method com.earnso.mangaworld.util.RarContentProvider.&lt;clinit&gt;\n10-24 03:02:02.549 24402-24402/? E/AndroidRuntime: FATAL EXCEPTION: main\n                                                   Process: com.earnso.mangaworld, PID: 24402\n                                                   java.lang.NoClassDefFoundError: kotlin.jvm.internal.PropertyReference1Impl\n                                                       at com.earnso.mangaworld.util.RarContentProvider.&lt;clinit&gt;(RarContentProvider.kt)\n                                                       at java.lang.Class.newInstanceImpl(Native Method)\n                                                       at java.lang.Class.newInstance(Class.java:1215)\n                                                       at android.app.ActivityThread.installProvider(ActivityThread.java:5037)\n                                                       at android.app.ActivityThread.installContentProviders(ActivityThread.java:4623)\n                                                       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4563)\n                                                       at android.app.ActivityThread.access$1500(ActivityThread.java:151)\n                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1402)\n                                                       at android.os.Handler.dispatchMessage(Handler.java:110)\n                                                       at android.os.Looper.loop(Looper.java:193)\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5333)\n                                                       at java.lang.reflect.Method.invokeNative(Native Method)\n                                                       at java.lang.reflect.Method.invoke(Method.java:515)\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:828)\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:644)\n                                                       at dalvik.system.NativeStart.main(Native Method)\n10-24 03:02:02.862 1130-1350/? E/cm_cmc_c: app launch:com.earnso.mangaworld\n10-24 03:02:03.297 24442-24442/? E/dalvikvm: Could not find class 'android.os.LocaleList', referenced from method com.domobile.applock.aa.a\n10-24 03:02:03.491 24442-24442/? E/dalvikvm: Could not find class 'android.graphics.drawable.AdaptiveIconDrawable', referenced from method com.domobile.applock.aa.r\n10-24 03:02:03.769 24442-24442/? E/dalvikvm: Could not find class 'android.app.job.JobScheduler', referenced from method com.google.android.gms.internal.zzcjg.z\n10-24 03:02:03.770 24442-24442/? E/dalvikvm: Could not find class 'android.app.job.JobScheduler', referenced from method com.google.android.gms.internal.zzcjg.a\n10-24 03:02:04.062 1130-1350/? E/cm_cmc_c: app launch:com.htc.launcher\n10-24 03:02:04.080 24442-24442/? E/dalvikvm: Could not find class 'android.app.usage.UsageStatsManager', referenced from method com.domobile.applock.service.LockService.onCreate\n10-24 03:02:04.104 24442-24442/? E/eLock: startWatching\n10-24 03:02:09.807 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 84, plugged = true, isChargingProtection = true\n10-24 03:02:12.308 739-762/? E/WindowManager: Starting window AppWindowToken{432983f0 token=Token{42f86568 ActivityRecord{42aeee78 u0 com.earnso.mangaworld/.ui.main.MainActivity t947}}} timed out\n10-24 03:02:16.404 17303-17754/? E/Prism.WidgetManager: The same lists. No need to update. skip it.\n10-24 03:02:19.775 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 84, plugged = true, isChargingProtection = true\n10-24 03:02:29.814 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 84, plugged = true, isChargingProtection = true\n10-24 03:02:31.433 1130-24563/? E/NativeCrypto: ssl=0x63b441f8 cert_verify_callback x509_store_ctx=0x68dd2940 arg=0x0\n10-24 03:02:31.438 1130-24563/? E/NativeCrypto: ssl=0x63b441f8 cert_verify_callback calling verifyCertificateChain authMethod=ECDHE_RSA\n10-24 03:02:39.811 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 85, plugged = true, isChargingProtection = true\n10-24 03:02:42.729 31423-31423/? E/SS3StatQuery: ScreenSaver3Activity changeScreenStat false\n10-24 03:02:47.732 17303-18963/? E/Prism.MastheadStatePro_: uri: content://com.htc.launcher.masthead_state/visibility\n10-24 03:02:47.741 17303-24059/? E/Prism.MastheadStatePro_: uri: content://com.htc.launcher.masthead_state/visibility\n10-24 03:02:47.965 739-1035/? E/RemoteViews: ANR Warning,RemoteViews can only be used once ,if not ,it may cause ANR in hosts such as Laucher,SystemUI. keys for search &lt;ANR Exception MSG   History&gt;\n10-24 03:02:48.218 17303-24721/? E/Prism.MastheadStatePro_: uri: content://com.htc.launcher.masthead_state/panelstatus?notify=false\n10-24 03:02:49.782 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 85, plugged = true, isChargingProtection = true\n10-24 03:02:59.810 829-829/? E/StatusBar.BatteryControllerHTC: battery level = 85, plugged = true, isChargingProtection = true\n</code></pre>\n\n<p>This is the app level gradle file.</p>\n\n<pre><code>import java.text.SimpleDateFormat\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nif (file(\"custom.gradle\").exists()) {\n    apply from: \"custom.gradle\"\n}\n\next {\n    // Git is needed in your system PATH for these commands to work.\n    // If it's not installed, you can return a random value as a workaround\n    getCommitCount = {\n        return 'git rev-list --count HEAD'.execute().text.trim()\n        // return \"1\"\n    }\n\n    getGitSha = {\n        return 'git rev-parse --short HEAD'.execute().text.trim()\n        // return \"1\"\n    }\n\n    getBuildTime = {\n        def df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\")\n        df.setTimeZone(TimeZone.getTimeZone(\"UTC\"))\n        return df.format(new Date())\n    }\n}\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    publishNonDefault true\n    dexOptions {\n        // Prevent OutOfMemory with MultiDex during the build phase\n        javaMaxHeapSize \"4g\"\n    }\n    defaultConfig {\n        applicationId \"com.earnso.mangaworld\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        versionCode 26\n        versionName \"0.6.3\"\n\n        buildConfigField \"String\", \"COMMIT_COUNT\", \"\\\"${getCommitCount()}\\\"\"\n        buildConfigField \"String\", \"COMMIT_SHA\", \"\\\"${getGitSha()}\\\"\"\n        buildConfigField \"String\", \"BUILD_TIME\", \"\\\"${getBuildTime()}\\\"\"\n        buildConfigField \"boolean\", \"INCLUDE_UPDATER\", \"false\"\n\n        vectorDrawables.useSupportLibrary = true\n\n        ndk {\n            abiFilters \"armeabi-v7a\", \"arm64-v8a\", \"x86\"\n        }\n    }\n    buildTypes {\n        debug {\n            //versionNameSuffix \"-${getCommitCount()}\"\n            //applicationIdSuffix \".debug\"\n            multiDexEnabled true\n        }\n        release {\n            minifyEnabled false\n            //shrinkResources true\n            multiDexEnabled true\n            //proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n        standard {\n            buildConfigField \"boolean\", \"INCLUDE_UPDATER\", \"true\"\n        }\n        fdroid {\n        }\n        dev {\n            minSdkVersion 16\n            resConfigs \"en\", \"xxhdpi\"\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'LICENSE.txt'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE'\n    }\n    lintOptions {\n        abortOnError false\n        checkReleaseBuilds false\n    }\n}\n\ndependencies {\n\n    // Modified dependencies\n\n    // Android support library\n    final support_library_version = '26.1.0'\n    // ReactiveX\n\n    // Network client\n\n    // REST\n    final retrofit_version = '2.3.0'\n    compile \"com.squareup.retrofit2:retrofit:$retrofit_version\"\n    compile \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\n    compile \"com.squareup.retrofit2:adapter-rxjava:$retrofit_version\"\n    // JSON\n\n    // YAML\n\n    // JavaScript engine\n\n    // Disk\n\n    // HTML parser\n\n    // Job scheduling\n\n    // Changelog\n\n    // Database\n\n    // Model View Presenter\n    final nucleus_version = '3.0.0'\n    compile \"info.android15.nucleus:nucleus:$nucleus_version\"\n    compile \"info.android15.nucleus:nucleus-support-v7:$nucleus_version\"\n    // Dependency injection\n\n    // Image library\n    final glide_version = '4.2.0'\n    compile \"com.github.bumptech.glide:glide:$glide_version\"\n    compile \"com.github.bumptech.glide:okhttp3-integration:$glide_version\"\n    kapt \"com.github.bumptech.glide:compiler:$glide_version\"\n    // Transformations\n\n    // Logging\n\n    // Crash reports\n\n    // Sort\n\n    // UI\n    compile('com.afollestad.material-dialogs:core:0.9.4.7') {\n        exclude group: \"com.android.support\", module: \"support-v13\"\n    }\n    // Conductor\n\n    // RxBindings\n    final rxbindings_version = '1.0.1'\n    compile \"com.jakewharton.rxbinding:rxbinding-kotlin:$rxbindings_version\"\n    compile \"com.jakewharton.rxbinding:rxbinding-appcompat-v7-kotlin:$rxbindings_version\"\n    compile \"com.jakewharton.rxbinding:rxbinding-support-v4-kotlin:$rxbindings_version\"\n    compile \"com.jakewharton.rxbinding:rxbinding-recyclerview-v7-kotlin:$rxbindings_version\"\n    // Tests\n    final robolectric_version = '3.1.4'\n    testCompile \"org.robolectric:robolectric:$robolectric_version\"\n    testCompile \"org.robolectric:shadows-multidex:$robolectric_version\"\n    testCompile \"org.robolectric:shadows-play-services:$robolectric_version\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    final coroutines_version = '0.19.1'\n    compile 'com.github.inorichi:subsampling-scale-image-view:01e5385'\n    compile 'com.github.inorichi:tachimage:68cd311'\n    compile 'com.github.inorichi:junrar-android:634c1f5'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'io.reactivex:rxandroid:1.2.1'\n    compile 'io.reactivex:rxjava:1.3.2'\n    compile 'com.jakewharton.rxrelay:rxrelay:1.2.0'\n    compile 'com.f2prateek.rx.preferences:rx-preferences:1.0.2'\n    compile 'com.github.pwittchen:reactivenetwork:0.7.0'\n    compile 'com.squareup.okhttp3:okhttp:3.9.0'\n    compile 'com.squareup.okio:okio:1.13.0'\n    compile 'com.google.code.gson:gson:2.8.2'\n    compile 'com.github.salomonbrys.kotson:kotson:2.5.0'\n    compile 'com.github.bmoliveira:snake-yaml:v1.18-android'\n    compile 'com.squareup.duktape:duktape-android:1.2.0'\n    compile 'com.jakewharton:disklrucache:2.0.2'\n    compile 'com.github.seven332:unifile:1.0.0'\n    compile 'org.jsoup:jsoup:1.10.2'\n    compile 'com.evernote:android-job:1.1.11'\n    compile 'com.google.android.gms:play-services-gcm:11.0.4'\n    compile 'com.github.gabrielemariotti.changeloglib:changelog:2.1.0'\n    compile 'com.pushtorefresh.storio:sqlite:1.13.0'\n    compile 'uy.kohesive.injekt:injekt-core:1.16.1'\n    compile 'jp.wasabeef:glide-transformations:3.0.1'\n    compile 'com.jakewharton.timber:timber:4.5.1'\n    compile 'ch.acra:acra:4.9.2'\n    compile 'com.github.gpanther:java-nat-sort:natural-comparator-1.1'\n    compile 'com.dmitrymalkovich.android:material-design-dimens:1.4'\n    compile 'com.github.dmytrodanylyk.android-process-button:library:1.0.4'\n    compile 'eu.davidea:flexible-adapter:5.0.0-rc1'\n    compile 'com.nononsenseapps:filepicker:2.5.2'\n    compile 'com.github.amulyakhare:TextDrawable:558677e'\n    compile 'me.zhanghai.android.systemuihelper:library:1.0.0'\n    compile 'com.nightlynexus.viewstatepageradapter:viewstatepageradapter:1.0.4'\n    compile 'com.github.mthli:Slice:v1.2'\n    compile 'com.bluelinelabs:conductor:2.1.4'\n    compile 'com.github.inorichi:conductor-support-preference:26.0.2'\n    compile 'com.google.android.gms:play-services-ads:11.0.4'\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.assertj:assertj-core:1.7.1'\n    testCompile 'org.mockito:mockito-core:1.10.19'\n    compile \"com.android.support:support-v4:$support_library_version\"\n    compile \"com.android.support:appcompat-v7:$support_library_version\"\n    compile \"com.android.support:cardview-v7:$support_library_version\"\n    compile \"com.android.support:design:$support_library_version\"\n    compile \"com.android.support:recyclerview-v7:$support_library_version\"\n    compile \"com.android.support:preference-v7:$support_library_version\"\n    compile \"com.android.support:support-annotations:$support_library_version\"\n    compile \"com.android.support:customtabs:$support_library_version\"\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version\"\n    compile \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_version\"\n    compile 'com.google.android.gms:play-services-ads:11.0.4'\n}\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nkotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\n\n// add support for placeholders in resource files\n//https://code.google.com/p/android/issues/detail?id=69224\ndef replacePlaceholdersInFile(basePath, fileName, placeholders) {\n    def file = new File(basePath, fileName);\n\n    if (!file.exists()) {\n        logger.quiet(\"Unable to replace placeholders in \" + file.toString() + \". File cannot be found.\")\n        return;\n    }\n\n    logger.debug(\"Replacing placeholders in \" + file.toString())\n    logger.debug(\"Placeholders: \" + placeholders.toString())\n\n    def content = file.getText('UTF-8')\n\n    placeholders.each { entry -&gt;\n        content = content.replaceAll(\"\\\\\\$\\\\{${entry.key}\\\\}\", entry.value)\n    }\n\n    file.write(content, 'UTF-8')\n}\n\nafterEvaluate {\n    android.applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            output.processResources.doFirst {\n                // prepare placeholder map from manifestPlaceholders including applicationId placeholder\n                def placeholders = variant.mergedFlavor.manifestPlaceholders + [applicationId: variant.applicationId]\n\n                replacePlaceholdersInFile(resDir, 'xml-v25/shortcuts.xml', placeholders)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Building on the debug version works completely fine but as soon as I transfer it to release version it starts crashing.</p>\n"}, {"tags": ["maven", "cucumber", "kotlin", "pom.xml"], "answers": [{"comments": [{"owner": {"reputation": 20110, "user_id": 472245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/395b65e986e8aca7c1af4643d162012e?s=128&d=identicon&r=PG", "display_name": "towi", "link": "https://stackoverflow.com/users/472245/towi"}, "edited": false, "score": 0, "creation_date": 1509354492, "post_id": 46983479, "comment_id": 80969196, "body": "No, thats not it. I updated the information in the Q"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 20110, "user_id": 472245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/395b65e986e8aca7c1af4643d162012e?s=128&d=identicon&r=PG", "display_name": "towi", "link": "https://stackoverflow.com/users/472245/towi"}, "edited": false, "score": 2, "creation_date": 1509367033, "post_id": 46983479, "comment_id": 80977177, "body": "There is no artifact <code>cucumber-kotlin-java8</code> as there is no &quot;special&quot; Kotlin classes for Cucumber. As stated in their docs: &quot;You can use <code>cucumber-java</code> or <code>cucumber-java8</code> directly in Kotlin.&quot; Also, <code>cucumber.runtime.kotlin.test</code> package seems to be yours: <code>package cucumber.runtime.kotlin.test;</code> in the first file. And then you&#39;re trying to import it in <code>SomeStepDefs</code>. <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/kotlin-java8/src/test/kotlin/cucumber/runtime/kotlin/test/LambdaStepdefs.kt\" rel=\"nofollow noreferrer\">The example you&#39;ve posted</a> works perfectly when I import in the IDE."}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 3, "last_activity_date": 1509138716, "creation_date": 1509138716, "answer_id": 46983479, "question_id": 46896866, "link": "https://stackoverflow.com/questions/46896866/what-maven-dependency-for-kotlin-cucumber/46983479#46983479", "title": "What maven dependency for kotlin cucumber?", "body": "<p>It looks like that <code>Given</code> is not a Kotlin specific DSL / method. It is a part of <code>cucumber.api.java8.En</code>. All you have to do is to extend your class from it:</p>\n\n<pre><code>package vc.capper.cutest;\n\nimport cucumber.runtime.kotlin.test\nimport cucumber.api.java8.En\n\nclass SomeStepDefs : En {\n    Given(\"blabla\") {\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2164, "user_id": 7121619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e413a729d8325c52d4861a97a928959?s=128&d=identicon&r=PG&f=1", "display_name": "Marit", "link": "https://stackoverflow.com/users/7121619/marit"}, "is_accepted": false, "score": 0, "last_activity_date": 1559992211, "last_edit_date": 1559992211, "creation_date": 1521639448, "answer_id": 49407843, "question_id": 46896866, "link": "https://stackoverflow.com/questions/46896866/what-maven-dependency-for-kotlin-cucumber/49407843#49407843", "title": "What maven dependency for kotlin cucumber?", "body": "<p>Change <code>&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;</code> to <code>&lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;</code> to use lambda style definitions.</p>\n\n<p>Note there currently is no native Kotlin implementation of cucumber.</p>\n\n<p>Also, the <code>cucumber-kotlin-java8</code> you are referring to is an example of how to use Cucumber-java8 with Kotlin.</p>\n\n<p>In addition, you'll need to extend the <code>En</code> interface.</p>\n"}], "owner": {"reputation": 20110, "user_id": 472245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/395b65e986e8aca7c1af4643d162012e?s=128&d=identicon&r=PG", "display_name": "towi", "link": "https://stackoverflow.com/users/472245/towi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1559992211, "creation_date": 1508786103, "last_edit_date": 1509354472, "question_id": 46896866, "link": "https://stackoverflow.com/questions/46896866/what-maven-dependency-for-kotlin-cucumber", "title": "What maven dependency for kotlin cucumber?", "body": "<p>I want to use the kotlin native step definitions <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/kotlin-java8/src/test/kotlin/cucumber/runtime/kotlin/test/LambdaStepdefs.kt\" rel=\"nofollow noreferrer\">like</a>:</p>\n\n<pre><code>package cucumber.runtime.kotlin.test;\n...\nclass LambdaStepdefs : En {\ninit {\n    Before { scenario: Scenario -&gt;\n        assertNotSame(this, lastInstance)\n        lastInstance = this\n    }\n\n    Given(\"^this data table:$\") { peopleTable: DataTable -&gt;\n        val people = peopleTable.asList(Person::class.java)\n        assertEquals(\"Aslak\", people[0].first)\n        assertEquals(\"Helles\u00f8y\", people[0].last)\n    }\n</code></pre>\n\n<p>Where <code>Given</code> takes a function and is not an annotation. I do not want to use the Java-style like <code>@Given(\"blabla\") void blabla() { ... }</code>.</p>\n\n<p>I tried to import the package from the example:</p>\n\n<pre><code>package vc.capper.cutest;\n\nimport cucumber.runtime.kotlin.test\n\nclass SomeStepDefs\n{\n    Given(\"blabla\") {\n    }\n}\n</code></pre>\n\n<p>But the package <code>kotlin</code> can not be found in <code>cucumber.runtime</code>.</p>\n\n<p>I thought the <code>io.cucumber:cucumber-jvm</code> (artifact)[<a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/pom.xml]\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/blob/master/pom.xml]</a> comes with <code>cucumber-kotlin-java8</code>, but it either does not or it does not contain said <code>Given</code>.</p>\n\n<p>This is an excerpt from my <code>pom.xml</code> -- somethign is missing, I guess, but what?</p>\n\n<p>Prelude:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;kotlin.version&gt;1.1.2-2&lt;/kotlin.version&gt;\n  &lt;spring-boot.version&gt;1.5.7.RELEASE&lt;/spring-boot.version&gt;\n  &lt;cucumber.version&gt;2.0.1&lt;/cucumber.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  ...\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>Dependencies:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><em>Update</em> and clarification:</p>\n\n<p>The packages that seem to be missing are <code>cucumber.runtime.kotlin</code> and <code>cucumber.api.java8.En</code> as you can see from the IntelliJ screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8meKF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8meKF.png\" alt=\"missings\"></a></p>\n\n<p>Also you can see the list of actual dependencies the project uses:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yVuCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVuCW.png\" alt=\"dependencies\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1508785044, "post_id": 46896136, "comment_id": 80740262, "body": "As evident by the fundamentally differing answers, you should edit your question to include some context. What would this supposed <code>Long Long</code> do for you that <code>Long</code> doesn&#39;t?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1508788641, "post_id": 46896136, "comment_id": 80742150, "body": "Java itself has no <code>long long</code> type. <code>long</code> is 64-bit, <code>int</code> is 32-bit, <code>short</code> is 16-bit and <code>byte</code> is 8-bit. Kotlin doesn&#39;t change this."}], "answers": [{"tags": [], "owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "is_accepted": false, "score": 9, "last_activity_date": 1508783617, "creation_date": 1508783617, "answer_id": 46896193, "question_id": 46896136, "link": "https://stackoverflow.com/questions/46896136/how-to-define-long-long-data-type-in-kotlin/46896193#46896193", "title": "How to define Long Long data type in kotlin?", "body": "<p>Kotlin's <code>Long</code> is 64-bit already. No need for ancient <code>long long</code> trickery:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1508783685, "creation_date": 1508783685, "answer_id": 46896214, "question_id": 46896136, "link": "https://stackoverflow.com/questions/46896136/how-to-define-long-long-data-type-in-kotlin/46896214#46896214", "title": "How to define Long Long data type in kotlin?", "body": "<p>If you're on the JVM, there isn't a <code>long long</code> type, but you could use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>java.math.BigInteger</code></a> for arbitrarily large numbers instead.</p>\n\n<p>See more discussion on this topic and some more alternatives at a Java question <a href=\"https://stackoverflow.com/q/508630/4465208\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13886199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/844d063351af8c89a7ea17ad6070d839?s=128&d=identicon&r=PG&f=1", "display_name": "Ransom Ahanmisi", "link": "https://stackoverflow.com/users/13886199/ransom-ahanmisi"}, "is_accepted": false, "score": 0, "last_activity_date": 1601244230, "creation_date": 1601244230, "answer_id": 64093743, "question_id": 46896136, "link": "https://stackoverflow.com/questions/46896136/how-to-define-long-long-data-type-in-kotlin/64093743#64093743", "title": "How to define Long Long data type in kotlin?", "body": "<p>Kotlin handles long long data type with the BigInteger data type. Replace the long with BigInteger;</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    try {\n        var sum = 0.toBigInteger()\n        val n: Int = readLine()!!.toInt()\n\n        for (i in 0..(n - 1)) {\n            var input: BigInteger?\n            input = readLine()!!.toBigInteger()\n            sum += input\n        }\n        println(sum)\n    } catch (ex: Exception) {\n        println(ex.message)\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8453956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f3d9143f57eec4bd68c7adf2034781?s=128&d=identicon&r=PG&f=1", "display_name": "sandip4069", "link": "https://stackoverflow.com/users/8453956/sandip4069"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3828, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1601244230, "creation_date": 1508783360, "last_edit_date": 1508785156, "question_id": 46896136, "link": "https://stackoverflow.com/questions/46896136/how-to-define-long-long-data-type-in-kotlin", "title": "How to define Long Long data type in kotlin?", "body": "<pre><code>fun main(args: Array&lt;String&gt;) {\n    try {\n        var sum: Long = 0\n        val n: Int = readLine()!!.toInt()\n\n        for (i in 0..(n - 1)) {\n            var input: Long?\n            input = readLine()!!.toLong()\n            sum += input\n        }\n        println(sum)\n    } catch (ex: Exception) {\n        println(ex.message)\n    } \n}\n</code></pre>\n\n<p>I want to take data Type Long Long replacing at Long . So how can I define Long Long data type?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 7, "last_activity_date": 1508782271, "creation_date": 1508782271, "answer_id": 46895875, "question_id": 46895821, "link": "https://stackoverflow.com/questions/46895821/how-to-have-custom-setter-with-check-of-the-parameter-for-validity/46895875#46895875", "title": "How to have custom setter with check of the parameter for validity?", "body": "<p>You have to use the automatic <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">backing field</a> provided by Kotlin.\nYou can access to it using the <code>field</code> identifier.</p>\n\n<pre><code>class Test {\n    var presni: Int = 1\n        set(value) {\n            if (value &lt; 0) {\n                throw IllegalArgumentException(\"Negative value\");\n            }\n\n            // Assign the value to the backing field.\n            field = value\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 7, "last_activity_date": 1508787267, "creation_date": 1508787267, "answer_id": 46897164, "question_id": 46895821, "link": "https://stackoverflow.com/questions/46895821/how-to-have-custom-setter-with-check-of-the-parameter-for-validity/46897164#46897164", "title": "How to have custom setter with check of the parameter for validity?", "body": "<p>To validate a value before saving it in the backing field you can also use the Vetoable Delegate. </p>\n\n<p>This is an example:</p>\n\n<pre><code>var presni: Int by Delegates.vetoable(1,{ _, _, newValue -&gt;\n        newValue &gt;= 0\n    })\n</code></pre>\n\n<p>The official documentation says: </p>\n\n<blockquote>\n  <p>If the callback returns <code>true</code> the value of the property is being set\n  to the new value, and if the callback returns <code>false</code> the new value is\n  discarded and the property remains its old value.</p>\n</blockquote>\n"}], "owner": {"reputation": 12866, "user_id": 425183, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e0c5c530fea29645f2ed15380c66afe8?s=128&d=identicon&r=PG", "display_name": "Ognyan", "link": "https://stackoverflow.com/users/425183/ognyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 0, "accepted_answer_id": 46895875, "answer_count": 2, "score": 2, "last_activity_date": 1508787267, "creation_date": 1508782093, "question_id": 46895821, "link": "https://stackoverflow.com/questions/46895821/how-to-have-custom-setter-with-check-of-the-parameter-for-validity", "title": "How to have custom setter with check of the parameter for validity?", "body": "<p>I am new to Kotlin and I can't wrap my head around a extremely basic problem:</p>\n\n<p>I want to have a custom setter and to check if the parameter value is valid (and throw exception if not).</p>\n\n<p>My code:</p>\n\n<pre><code>class Test {\n    var presni: Int = 1\n        set(value) {\n            if (value &lt; 0) {\n                throw IllegalArgumentException(\"Negative value\");\n            }\n\n            presni = value\n        }\n}\n</code></pre>\n\n<p>but it gives me warning at the <code>presni = value</code> line: <em>Recursive property accessor</em></p>\n\n<p>What is the idiom in Kotlin for checking the parameter in a setter for validity?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "edited": false, "score": 0, "creation_date": 1508779850, "post_id": 46895140, "comment_id": 80737524, "body": "What exactly &quot;doesn&#39;t seem to work&quot;?"}, {"owner": {"reputation": 10239, "user_id": 273456, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/elCxp.jpg?s=128&g=1", "display_name": "Zordid", "link": "https://stackoverflow.com/users/273456/zordid"}, "edited": false, "score": 0, "creation_date": 1606800135, "post_id": 46895140, "comment_id": 115064521, "body": "Please - edit and correct your question! It works and what you are doing wrong here has NOTHING to do with combinations. By now you should have found that out... It&#39;s sad to stumble upon such questions."}], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1508783772, "post_id": 46895228, "comment_id": 80739551, "body": "Which one is more idiomatic, the <code>forEach</code> solution or the nested <code>for</code> loops, keeping in mind that the number of lists could be up to 10?"}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1508796891, "post_id": 46895228, "comment_id": 80745878, "body": "@breezymri I would say those are equal"}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 6, "last_activity_date": 1508780138, "last_edit_date": 1508780138, "creation_date": 1508779833, "answer_id": 46895228, "question_id": 46895140, "link": "https://stackoverflow.com/questions/46895140/how-to-perform-action-for-all-combinations-of-elements-in-lists/46895228#46895228", "title": "How to perform action for all combinations of elements in lists?", "body": "<p>The <code>forEach</code> is the closest as it can get:</p>\n\n<pre><code>names.forEach {\n    i -&gt; days.forEach { j -&gt; f(i, j)}\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>private fun f(i: String, j: Int) = println(\"$i,$j\")\n</code></pre>\n\n<p>Result: </p>\n\n<pre><code>John,1\nJohn,2\nJohn,3\nTom,1\nTom,2\nTom,3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 5, "last_activity_date": 1508781087, "creation_date": 1508781087, "answer_id": 46895573, "question_id": 46895140, "link": "https://stackoverflow.com/questions/46895140/how-to-perform-action-for-all-combinations-of-elements-in-lists/46895573#46895573", "title": "How to perform action for all combinations of elements in lists?", "body": "<p>What's wrong with a regular <code>for</code> loop?</p>\n\n<pre><code>for (name in names) for (day in days) f(name, day)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "is_accepted": false, "score": 4, "last_activity_date": 1517135192, "creation_date": 1517135192, "answer_id": 48485313, "question_id": 46895140, "link": "https://stackoverflow.com/questions/46895140/how-to-perform-action-for-all-combinations-of-elements-in-lists/48485313#48485313", "title": "How to perform action for all combinations of elements in lists?", "body": "<p>In case you actually need the result from <code>f</code> here's what you can do:</p>\n\n<pre><code>fun &lt;T1, T2, R&gt; combine(\n        first: Iterable&lt;T1&gt;,\n        second: Iterable&lt;T2&gt;,\n        combiner: (T1, T2) -&gt; R\n): List&lt;R&gt; = first.flatMap { firstItem -&gt; second.map { secondItem -&gt; combiner(firstItem, secondItem) } }\n\n@Test fun test() {\n    val names = listOf(\"John\", \"Tom\")\n    val days = listOf(1, 2, 3)\n\n    val result = combine(days, names, { day, name -&gt; \"${day}. ${name}\" })\n\n    @Suppress(\"DEPRECATION\")\n    kotlin.test.assert(result) {\n        shouldBe(listOf(\n                \"1. John\",\n                \"1. Tom\",\n                \"2. John\",\n                \"2. Tom\",\n                \"3. John\",\n                \"3. Tom\"\n        ))\n    }\n}\n</code></pre>\n\n<p>Note: it also works with <code>println</code>, in that case <code>R</code> is <code>Unit</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "is_accepted": false, "score": 9, "last_activity_date": 1575309831, "creation_date": 1575309831, "answer_id": 59144418, "question_id": 46895140, "link": "https://stackoverflow.com/questions/46895140/how-to-perform-action-for-all-combinations-of-elements-in-lists/59144418#59144418", "title": "How to perform action for all combinations of elements in lists?", "body": "<p>The name of the output you're looking for is a <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"noreferrer\">Cartesian Product</a>.</p>\n\n<p>If you don't need all of the combinations up front, and you're just searching for one or more, you could make it a lazily generated sequence:</p>\n\n<pre><code>private fun &lt;A, B&gt; lazyCartesianProduct(\n    listA: Iterable&lt;A&gt;,\n    listB: Iterable&lt;B&gt;\n): Sequence&lt;Pair&lt;A, B&gt;&gt; =\n    sequence {\n        listA.forEach { a -&gt;\n            listB.forEach { b -&gt;\n                yield(a to b)\n            }\n        }\n    }\n</code></pre>\n\n<p>Then you can map, filter etc only what you need:</p>\n\n<pre><code>val names = listOf(\"John\", \"Tom\")\nval days = listOf(1, 2, 3)\n\nlazyCartesianProduct(names, days)\n    .map { it.toSomethingElse() }\n    .find { it.isWhatImLookingFor() }\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5230, "favorite_count": 0, "accepted_answer_id": 46895228, "answer_count": 4, "score": 8, "last_activity_date": 1575309831, "creation_date": 1508779500, "last_edit_date": 1508822136, "question_id": 46895140, "link": "https://stackoverflow.com/questions/46895140/how-to-perform-action-for-all-combinations-of-elements-in-lists", "title": "How to perform action for all combinations of elements in lists?", "body": "<p>I have multiple lists, for the sake of simplicity, let's say 2:</p>\n\n<pre><code>val names = listOf(\"John\", \"Tom\")\nval days = listOf(1, 2, 3)\n</code></pre>\n\n<p>And I want to iterate over all the combinations of these possible values with a function <code>f: (String, Int): Unit</code>:</p>\n\n<pre><code>f(\"John\", 1)\nf(\"John\", 2)\nf(\"John\", 3)\nf(\"Tom\", 1)\nf(\"Tom\", 2)\nf(\"Tom\", 3)\n</code></pre>\n\n<p>I'd like to find out the idiomatic way to do this in kotlin. Off the top of my head, I imagine that this can be done with a nested map. Something along the lines of:</p>\n\n<pre><code>a.map { itA -&gt; \n  b.map { itB -&gt;\n    f(itA, itB)\n  }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:\nThis doesn't seem to work for me though as it returns:</p>\n\n<pre><code>[() -&gt; kotlin.collections.List&lt;kotlin.Unit&gt;, () -&gt; kotlin.collections.List&lt;kotlin.Unit&gt;]\n</code></pre>\n"}, {"tags": ["lambda", "kotlin", "object-expression"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1508773039, "post_id": 46892958, "comment_id": 80733673, "body": "Can foo be open?"}, {"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1508774979, "post_id": 46892958, "comment_id": 80734820, "body": "@jrtapsell yes it can"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1508862096, "post_id": 46892958, "comment_id": 80778188, "body": "Do you need the <code>Bar</code> interface, or could you just have <code>fun useJob(bar: (T) -&gt; Unit)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1508773290, "creation_date": 1508773290, "answer_id": 46893337, "question_id": 46892958, "link": "https://stackoverflow.com/questions/46892958/lambda-in-multiple-type-object-expression/46893337#46893337", "title": "Lambda in multiple type object expression", "body": "<p>It's a problem, that <code>useJob</code> is expecting an interface instead of a function type directly. This way you can only do:</p>\n\n<pre><code>val bar = object : Bar {\n    override fun doJob(x: String) = Foo().work(x)\n}\n\nuseJob(bar)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "is_accepted": false, "score": 4, "last_activity_date": 1508773645, "creation_date": 1508773645, "answer_id": 46893434, "question_id": 46892958, "link": "https://stackoverflow.com/questions/46892958/lambda-in-multiple-type-object-expression/46893434#46893434", "title": "Lambda in multiple type object expression", "body": "<p>Well the easiest way to achieve this would be by using a factory method that creates a instance of Bar and accepts a function call:</p>\n\n<pre><code>fun job(func: (Param) -&gt; Unit) : Bar = object: Bar { \n   override fun doJob(x: Param) = func(x)\n}\n</code></pre>\n\n<p>then you can use</p>\n\n<pre><code>useJob( job { Foo().work(it) } )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1508779862, "creation_date": 1508779862, "answer_id": 46895241, "question_id": 46892958, "link": "https://stackoverflow.com/questions/46892958/lambda-in-multiple-type-object-expression/46895241#46895241", "title": "Lambda in multiple type object expression", "body": "<p>If <code>Bar</code> were defined in Java, you could write </p>\n\n<pre><code>useJob { Foo().work(x) }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val foo = Foo()\nuseJob { foo.work(x) }\n</code></pre>\n\n<p>to avoid constructing <code>Foo()</code> every time in case <code>useJob</code> calls its argument multiple times.</p>\n\n<p>But</p>\n\n<blockquote>\n  <p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</a></p>\n</blockquote>\n\n<p>Without moving <code>Bar</code> to Java, I'd go with joecks' solution or define an overload of <code>useJob</code> (possibly as extension method). Which is better depends on how many methods like <code>useJob</code> you have and how many uses for each.</p>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1508820693, "post_id": 46895747, "comment_id": 80751548, "body": "Nice code. Actually <code>Param</code> was a typo in <code>Bar</code> and <code>T</code> is a defined type, not a genericity parameter."}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 0, "last_activity_date": 1508781822, "creation_date": 1508781822, "answer_id": 46895747, "question_id": 46892958, "link": "https://stackoverflow.com/questions/46892958/lambda-in-multiple-type-object-expression/46895747#46895747", "title": "Lambda in multiple type object expression", "body": "<p>You could do it like this:</p>\n\n<pre><code>// Mock class\nclass Param\n\n// Provided code\nopen class Foo&lt;T&gt; {\n    fun work(x: T) {\n        // Effects taking place here\n    }\n}\n\nfun useJob(bar: Bar) {}\n\ninterface Bar {\n    fun doJob(x: Param)\n}\n\n// New code\nobject FooBar: Foo&lt;Param&gt;(), Bar {\n    override fun doJob(x: Param) = work(x)\n    fun use() = useJob(this)\n}\n\nfun x() {\n    FooBar.use()\n}\n</code></pre>\n\n<p>It requires a bit more code for the FooBar object, but it cleans up the call sites.</p>\n"}], "owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 46895241, "answer_count": 4, "score": 0, "last_activity_date": 1508820376, "creation_date": 1508772043, "last_edit_date": 1508820376, "question_id": 46892958, "link": "https://stackoverflow.com/questions/46892958/lambda-in-multiple-type-object-expression", "title": "Lambda in multiple type object expression", "body": "<p>I'm provided a class <code>Foo</code> which does some <code>work()</code>:</p>\n\n<pre><code>open class Foo() {      \n    fun work(x: T) {\n        // Effects taking place here  \n    }\n}\n</code></pre>\n\n<p>And I am also provided (but by someone else) a method <code>useJob()</code> which consumes an object of interface type <code>Bar</code> having a single method <code>doJob()</code>.</p>\n\n<pre><code>fun useJob(bar: Bar)\n\ninterface Bar {\n    fun doJob(x: T)\n}\n</code></pre>\n\n<p>It turns out <code>Foo.work()</code> does the job expected by <code>useJob()</code>. However, in order to have <code>useJob()</code> calling <code>work()</code>, I need to write something like that:</p>\n\n<pre><code>useJob(object : Foo(), Bar { fun doJob(x: T) { work(x) } })\n</code></pre>\n\n<p>Is there any way to use a lambda instead of this blob?</p>\n\n<p>EDIT: @jrtapsell comment made me realize Foo is actually open. </p>\n"}, {"tags": ["java", "jvm", "kotlin", "primitive"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1508779832, "last_edit_date": 1508779832, "creation_date": 1508775380, "answer_id": 46893981, "question_id": 46892929, "link": "https://stackoverflow.com/questions/46892929/are-number-operations-using-kotlin-as-fast-as-the-equivalent-with-java-primitive/46893981#46893981", "title": "Are number operations using Kotlin as fast as the equivalent with Java primitives?", "body": "<p>Quoting the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">docs</a>: </p>\n\n<blockquote>\n  <p>Some of the types can have a special internal representation - for example, numbers, characters and booleans can be represented as primitive values at runtime - but to the user they look like ordinary classes. In this section we describe the basic types used in Kotlin: numbers, characters, booleans, arrays, and strings.</p>\n</blockquote>\n\n<p>So yes, the compiler does optimise in a way that the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html\" rel=\"nofollow noreferrer\">JVM primitive types</a> are used at runtime. There are certain exceptions of course:</p>\n\n<blockquote>\n  <p>On the Java platform, numbers are physically stored as JVM primitive types, unless we need a nullable number reference (e.g. Int?) or generics are involved. In the latter cases numbers are boxed.</p>\n</blockquote>\n\n<p>There's also a hint in the source documentation, e.g. <code>Int</code>:</p>\n\n<blockquote>\n  <p>Represents a 32-bit signed integer. On the JVM, non-nullable values of this type are represented as values of the primitive type int.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1508779435, "creation_date": 1508779435, "answer_id": 46895122, "question_id": 46892929, "link": "https://stackoverflow.com/questions/46892929/are-number-operations-using-kotlin-as-fast-as-the-equivalent-with-java-primitive/46895122#46895122", "title": "Are number operations using Kotlin as fast as the equivalent with Java primitives?", "body": "<p>Yes, Kotlin uses primitives as well. But note that:</p>\n\n<ol>\n<li><p>Reasons for \"less error-prone\" don't really apply in Kotlin: the boxed types aren't nullable unless you ask for it (just like the primitives) and you can't confuse <code>==</code> and <code>equals</code>. </p></li>\n<li><p>Neither do the \"more readable\": you can use operators with both. </p></li>\n<li><p>The \"more efficient\" part does very much apply, but you can't make the one-character typographical error mentioned in the top answer to the linked question: you have to write <code>java.lang.Long</code> to get the boxed type!</p></li>\n</ol>\n\n<p>On the other hand, you need to be aware of <code>IntArray</code> being more efficient than <code>Array&lt;Int&gt;</code> (the correspond to Java <code>int[]</code> and <code>java.lang.Integer[]</code>) despite both appearing to use <code>Int</code>.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 46895122, "answer_count": 2, "score": 3, "last_activity_date": 1508779832, "creation_date": 1508771970, "last_edit_date": 1508775545, "question_id": 46892929, "link": "https://stackoverflow.com/questions/46892929/are-number-operations-using-kotlin-as-fast-as-the-equivalent-with-java-primitive", "title": "Are number operations using Kotlin as fast as the equivalent with Java primitives?", "body": "<p>Java has primitives because using them leads to more <a href=\"https://softwareengineering.stackexchange.com/questions/203970/when-to-use-primitive-vs-class-in-java\">efficient, readable, and less error prone code</a> than their class based counterparts.  </p>\n\n<p>Does Kotlin perform compile time optimizations to ensure that number operations perform at the same level (Or better) as Java primitives would?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "textview"], "comments": [{"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1508772337, "post_id": 46892588, "comment_id": 80733228, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1697084/handle-textview-link-click-in-my-android-app\">handle textview link click in my android app</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1643, "user_id": 856823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93XvP.jpg?s=128&g=1", "display_name": "Johnny C", "link": "https://stackoverflow.com/users/856823/johnny-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1523548372, "creation_date": 1523548372, "answer_id": 49800955, "question_id": 46892588, "link": "https://stackoverflow.com/questions/46892588/clickable-link-handler-in-textview/49800955#49800955", "title": "Clickable link handler in TextView", "body": "<p>Split the string in to parts: Before link text, link text, after link text:</p>\n\n<p><code>\n    &lt;string name=\"part_1\"&gt;Here is a &lt;/string&gt;\n    &lt;string name=\"link_text\"&gt;link&lt;/string&gt;\n    &lt;string name=\"part_2\"&gt; for you to tap&lt;/string&gt;\n</code></p>\n\n<p>Then use a <code>SpannableStringBuilder</code> to assemble the parts, and when you add the link text, set a <code>ClickableSpan</code> with the appropriate link handler on the span from the end of part 1 string to the end of the part 1 + link string:</p>\n\n<p><code>\n    SpannableStringBuilder  builder = new SpannableStringBuilder(getString(R.string.part_1));\n    int spanStart = builder.length();\n    builder.append(getString(R.string.link_text));\n    int spanEnd = builder.length();\n    builder.setSpan(new ClickableSpan() {\n        @Override\n        public void onClick(View widget) {\n            // Do my thang\n        }\n    }, spanStart, spanEnd, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    builder.append(getString(R.string.part_2));\n    textView.setText(builder);\n    textView.setMovementMethod(LinkMovementMethod.getInstance());\n</code></p>\n"}], "owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523548372, "creation_date": 1508770904, "question_id": 46892588, "link": "https://stackoverflow.com/questions/46892588/clickable-link-handler-in-textview", "title": "Clickable link handler in TextView", "body": "<p>Similar to this SO question, I'm trying to display clickable links in a TextView: <a href=\"https://stackoverflow.com/questions/2734270/how-do-i-make-links-in-a-textview-clickable\">How do I make links in a TextView clickable?</a></p>\n\n<p>But I don't just want the link to open a website. I want to handle the click event myself and, say, launch an activity. Here is what I have so far:</p>\n\n<pre><code>myTextView.movementMethod = object: LinkMovementMethod() {\n    override fun onTouchEvent(widget: TextView?, buffer: Spannable?, event: MotionEvent?): Boolean {\n\n        doTheThing()\n\n        return super.onTouchEvent(widget, buffer, event)\n    }\n}\n</code></pre>\n\n<p>And on my TextView:</p>\n\n<pre><code>android:text=\"Foo &lt;a href=\"bar\"&gt;Bar&lt;/a&gt;\"\n</code></pre>\n\n<p>As expected, \"Bar\" is underlined in blue, but the onTouchEvent is tripped whenever I click on the whole TextView, including on Foo. I only want it to fire when I tap \"Bar\" because that's what's underlined. Also, what if I had multiple links in the text? How would I get each one to respond differently?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2"], "comments": [{"owner": {"reputation": 1991, "user_id": 3343174, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3qwe4.jpg?s=128&g=1", "display_name": "Fakher", "link": "https://stackoverflow.com/users/3343174/fakher"}, "edited": false, "score": 0, "creation_date": 1508769817, "post_id": 46892100, "comment_id": 80731465, "body": "take a look at this project: <a href=\"https://github.com/Fakher-Hakim/Rx-Android-Samples\" rel=\"nofollow noreferrer\">github.com/Fakher-Hakim/Rx-Android-Samples</a>"}, {"owner": {"reputation": 544, "user_id": 1477917, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd3ae469afaded04bc4c6f3e4e34901e?s=128&d=identicon&r=PG", "display_name": "Watcharin.s", "link": "https://stackoverflow.com/users/1477917/watcharin-s"}, "edited": false, "score": 0, "creation_date": 1508770191, "post_id": 46892100, "comment_id": 80731738, "body": "What is your exactly problem?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 544, "user_id": 1477917, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd3ae469afaded04bc4c6f3e4e34901e?s=128&d=identicon&r=PG", "display_name": "Watcharin.s", "link": "https://stackoverflow.com/users/1477917/watcharin-s"}, "edited": false, "score": 0, "creation_date": 1508770423, "post_id": 46892100, "comment_id": 80731891, "body": "@Watcharin.s I am new and bit confused way to use rxjava2 in my case and how to send back result to view model"}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1509549607, "post_id": 46892100, "comment_id": 81063485, "body": "you can check my repo: <a href=\"https://github.com/savepopulation/wikilight\" rel=\"nofollow noreferrer\">github.com/savepopulation/wikilight</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509597233, "post_id": 46893128, "comment_id": 81083276, "body": "Any standard and best approach like wrapper for error handling and all ?"}, {"owner": {"reputation": 544, "user_id": 1477917, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd3ae469afaded04bc4c6f3e4e34901e?s=128&d=identicon&r=PG", "display_name": "Watcharin.s", "link": "https://stackoverflow.com/users/1477917/watcharin-s"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1509890438, "post_id": 46893128, "comment_id": 81194452, "body": "see this <a href=\"https://rongi.github.io/kotlin-blog/rxjava/rx/2017/08/01/error-handling-in-rxjava.html?utm_source=Android+Weekly&amp;utm_campaign=51f4814861-android-weekly-269&amp;utm_medium=email&amp;utm_term=0_4eb677ad19-51f4814861-337969913\" rel=\"nofollow noreferrer\">rongi.github.io/kotlin-blog/rxjava/rx/2017/08/01/&hellip;</a>"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509891613, "post_id": 46893128, "comment_id": 81194828, "body": "can you check this question <a href=\"https://stackoverflow.com/questions/47119352/rxjava2-how-to-pass-baseview-to-the-callbackwrapper\" title=\"rxjava2 how to pass baseview to the callbackwrapper\">stackoverflow.com/questions/47119352/&hellip;</a>"}], "tags": [], "owner": {"reputation": 544, "user_id": 1477917, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd3ae469afaded04bc4c6f3e4e34901e?s=128&d=identicon&r=PG", "display_name": "Watcharin.s", "link": "https://stackoverflow.com/users/1477917/watcharin-s"}, "is_accepted": true, "score": 4, "last_activity_date": 1508772975, "last_edit_date": 1508772975, "creation_date": 1508772668, "answer_id": 46893128, "question_id": 46892100, "link": "https://stackoverflow.com/questions/46892100/how-to-use-rxjava2-with-retrofit-in-android/46893128#46893128", "title": "How to use rxjava2 with retrofit in android", "body": "<p>This is the rough idea to show you how to use Retrofit2 with RxJava2. you can find a lot of tutorial in google.</p>\n\n<p>Step 1: \nAdd the following dependencies to your gradle file</p>\n\n<pre><code>// Rx stuff\ncompile \"io.reactivex.rxjava2:rxjava:$rxJavaVersion\"\ncompile \"io.reactivex.rxjava2:rxandroid:$rxAndroidVersion\"\n\n// retrofit\ncompile \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\ncompile \"com.squareup.retrofit2:adapter-rxjava2:$retrofitVersion\"\ncompile \"com.squareup.retrofit2:converter-moshi:$retrofitVersion\"\n</code></pre>\n\n<p>Step 2: Create you Retrofit API interface like you do but it has a bit difference that is the return type should be <code>Observable&lt;LoginResponse&gt;</code> not a <code>Call&lt;LoginResponse&gt;</code></p>\n\n<pre><code>interface RestApi {\n\n    @FormUrlEncoded\n    @POST(\"/partner_login\")\n    fun login(@Field(\"email\") email: String, @Field(\"password\") password: String): Observable&lt;LoginResponse&gt;\n}\n</code></pre>\n\n<p>Step 3: \nbuild you retrofit API object:</p>\n\n<pre><code>retrofit.create(RestApi::class.java).login(email, password)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe{ loginResponse -&gt;\n             // TODO deal with your response here\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "is_accepted": false, "score": 1, "last_activity_date": 1508822392, "creation_date": 1508822392, "answer_id": 46902731, "question_id": 46892100, "link": "https://stackoverflow.com/questions/46892100/how-to-use-rxjava2-with-retrofit-in-android/46902731#46902731", "title": "How to use rxjava2 with retrofit in android", "body": "<p>Do not you just know how to return results?</p>\n\n<p>The way to return results with rx is as follows.</p>\n\n<pre><code>ApiHelperImpl().doServerLoginApiCall(email, password)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe { result -&gt;\n                    // doSomething\n                }\n</code></pre>\n\n<p><code>subscribeOn</code> calls api in a other thread.<br>\n<code>observeOn</code> is a process for processing <code>subscribe</code> in the main thread.<br>\n<code>subscribe</code> has multiple overloading methods. Please check the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#subscribe-io.reactivex.functions.Consumer-\" rel=\"nofollow noreferrer\">document</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1509502767, "creation_date": 1509502767, "answer_id": 47047246, "question_id": 46892100, "link": "https://stackoverflow.com/questions/46892100/how-to-use-rxjava2-with-retrofit-in-android/47047246#47047246", "title": "How to use rxjava2 with retrofit in android", "body": "<p>You can refer to the following article: [link]:<a href=\"https://medium.com/3xplore/handling-api-calls-using-retrofit-2-and-rxjava-2-1871c891b6ae\" rel=\"nofollow noreferrer\">https://medium.com/3xplore/handling-api-calls-using-retrofit-2-and-rxjava-2-1871c891b6ae</a></p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 0, "accepted_answer_id": 46893128, "answer_count": 3, "score": 0, "last_activity_date": 1509502767, "creation_date": 1508769552, "last_edit_date": 1508951301, "question_id": 46892100, "link": "https://stackoverflow.com/questions/46892100/how-to-use-rxjava2-with-retrofit-in-android", "title": "How to use rxjava2 with retrofit in android", "body": "<p>Hi I am trying to learn rxjava2. I am trying to call API's using rxjava2 and using retrofit for building URL and converting JSON into Moshi.</p>\n\n<p>I want to use <code>Observable</code> pattern with <code>retrofit</code>. Does anyone know whats way to do it ? Any standard and best approach like wrapper for error handling and all ?</p>\n\n<p><strong>AppModule.kt</strong></p>\n\n<pre><code>@Provides\n@Singleton\nfun provideRetrofit(moshi: Moshi, okHttpClient: OkHttpClient): Retrofit {\n    return Retrofit.Builder()\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\n            .baseUrl(BuildConfig.BASE_URL)\n            .client(okHttpClient)\n            .build()\n}\n</code></pre>\n\n<p><strong>ApiHelperImpl.kt</strong></p>\n\n<pre><code>@Inject\nlateinit var retrofit: Retrofit\n\noverride fun doServerLoginApiCall(email: String, password: String): Observable&lt;LoginResponse&gt; {\n    retrofit.create(RestApi::class.java).login(email, password)\n}\n</code></pre>\n\n<p>I am calling <code>doServerLoginApiCall</code> from the <code>LoginViewModel</code> like below</p>\n\n<p><strong>LoginViewModel.kt</strong></p>\n\n<pre><code>fun login(view: View) {\n    if (isEmailAndPasswordValid(email, password)) {\n        ApiHelperImpl().doServerLoginApiCall(email, password)\n    }\n}\n</code></pre>\n\n<p><strong>RestApi.kt</strong></p>\n\n<pre><code>interface RestApi {\n\n    @FormUrlEncoded\n    @POST(\"/partner_login\")\n    fun login(@Field(\"email\") email: String, @Field(\"password\") password: String): Call&lt;LoginResponse&gt;\n}\n</code></pre>\n\n<p><strong>LoginResponse.kt</strong></p>\n\n<pre><code>data class LoginResponse(\n\n        @Json(name = \"code\")\n        val code: Int? = null,\n\n        @Json(name = \"otp_verify\")\n        val otpVerify: Int? = null,\n\n        @Json(name = \"data\")\n        val userDetails: UserDetails? = null,\n\n        @Json(name = \"message\")\n        val message: String? = null,\n\n        @Json(name = \"status\")\n        val status: String? = null\n)\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508774955, "post_id": 46891120, "comment_id": 80734802, "body": "Do you need to change the behaviour of <code>Cash.State</code> itself, or of the <code>Cash</code> contract? What happens when you try and implement the scenario above with the existing <code>Cash.State</code>? Does contract verification fail?"}, {"owner": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "reply_to_user": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508820385, "post_id": 46891120, "comment_id": 80751453, "body": "yes..i call &#39;Cash.generateSpend&#39; in a loop and because of that it creates multiple Move commands and fails..i have updated the question with some code.."}, {"owner": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "edited": false, "score": 0, "creation_date": 1508836533, "post_id": 46891120, "comment_id": 80759789, "body": "Ah.. I think the Cash Move verification should be changed to allow multiple move commands... What you can do in the interim is union together all the public keys from the multiple commands into one single command."}, {"owner": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "reply_to_user": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "edited": false, "score": 0, "creation_date": 1508839675, "post_id": 46891120, "comment_id": 80762032, "body": "@RogerWillis how do i do that..should i create a new transactionbuilder?..can you please provide some code snippet.."}], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1508919509, "creation_date": 1508919509, "answer_id": 46927358, "question_id": 46891120, "link": "https://stackoverflow.com/questions/46891120/extending-cash-state-in-corda/46927358#46927358", "title": "Extending Cash.State in CORDA", "body": "<p>Try using the more generic <code>OnLedgerAsset.generateSpend</code> method instead. It works for any <code>FungibleAsset</code>, including <code>Cash</code>.</p>\n\n<p><code>OnLedgerAsset.generateSpend</code> allows you to specify how the move command is generated.</p>\n"}], "owner": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508919509, "creation_date": 1508766864, "last_edit_date": 1508820566, "question_id": 46891120, "link": "https://stackoverflow.com/questions/46891120/extending-cash-state-in-corda", "title": "Extending Cash.State in CORDA", "body": "<p>We are using the cash state for <code>FungibleAsstes</code> as we have a similar scenario but we need some extended functionality with the existing ones.</p>\n\n<p>We need to create a transaction with a single move command and multiple states. Each states will contain a fraction of total amount from multiple issuers(the amount for each issuers will be provided by us) for that node.</p>\n\n<p>Is there a way to extend the <code>Cash.States</code> class for this feature.</p>\n\n<pre><code>issuerConstraint.forEach {\n                pair = try {\n                    Cash.generateSpend(serviceHub,\n                            builder,\n                            distributedAmount,\n                            recipient,\n                            setOf(it))\n\n                } catch (e: InsufficientBalanceException) {\n                    throw CashException(\"Insufficient cash for spend: ${e.message}\", e)\n                }\n            }\n</code></pre>\n"}, {"tags": ["java", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1508770069, "post_id": 46891116, "comment_id": 80731632, "body": "Java syntax would actually be <code>.class</code>, not <code>.getClass()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1559051291, "post_id": 46891183, "comment_id": 99292444, "body": "This works but won&#39;t if List is used instead of Array."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 16, "last_activity_date": 1508767755, "last_edit_date": 1508767755, "creation_date": 1508767050, "answer_id": 46891183, "question_id": 46891116, "link": "https://stackoverflow.com/questions/46891116/how-get-javaclass-from-java-type-array-in-kotlin/46891183#46891183", "title": "How get javaclass from java type array in Kotlin?", "body": "<p>It's simple:</p>\n\n<pre><code>Array&lt;String&gt;::class.java\n// on objects \nargs.javaClass\n</code></pre>\n\n<p>Arrays in Kotlin don't look as <code>MyClass[]</code>, this is Java. Always use <code>Array</code> class with generic types. For primitives there are specialized versions like <code>IntArray</code>.</p>\n"}], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2067, "favorite_count": 0, "accepted_answer_id": 46891183, "answer_count": 1, "score": 4, "last_activity_date": 1508809348, "creation_date": 1508766852, "last_edit_date": 1508809348, "question_id": 46891116, "link": "https://stackoverflow.com/questions/46891116/how-get-javaclass-from-java-type-array-in-kotlin", "title": "How get javaclass from java type array in Kotlin?", "body": "<p>For pojo classes:</p>\n\n<pre><code>//java\nMyClass.getClass();\n//kotlin\nMyClass::class.java\n</code></pre>\n\n<p>But how getClass from array?</p>\n\n<pre><code>//java\nMyClass[].class;\n//kotlin\n???\n</code></pre>\n\n<p><code>MyClass[]::class.java</code> - does not work :(</p>\n"}, {"tags": ["android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 0, "creation_date": 1508777931, "post_id": 46891087, "comment_id": 80736512, "body": "If possible, post more of your code. Show where webView is declared, and other relevant parts of the code related to it. Just as plain text post the code."}, {"owner": {"reputation": 302, "user_id": 3827687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58defa5d03c6728a4a881472c3a0d394?s=128&d=identicon&r=PG&f=1", "display_name": "adrianolsk", "link": "https://stackoverflow.com/users/3827687/adrianolsk"}, "reply_to_user": {"reputation": 2918, "user_id": 984724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T2JaK.png?s=128&g=1", "display_name": "Dave Thomas", "link": "https://stackoverflow.com/users/984724/dave-thomas"}, "edited": false, "score": 0, "creation_date": 1508780171, "post_id": 46891087, "comment_id": 80737693, "body": "I just found that removing this line from the module gradle file fix  <code>compile &quot;org.jetbrains.anko:anko-appcompat-v7-coroutines:$anko_versi&zwnj;&#8203;on&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 3827687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58defa5d03c6728a4a881472c3a0d394?s=128&d=identicon&r=PG&f=1", "display_name": "adrianolsk", "link": "https://stackoverflow.com/users/3827687/adrianolsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1508780665, "creation_date": 1508780665, "answer_id": 46895449, "question_id": 46891087, "link": "https://stackoverflow.com/questions/46891087/unresolved-reference-createprintdocumentadapter-kotlin-android/46895449#46895449", "title": "Unresolved reference: createPrintDocumentAdapter (Kotlin + Android)", "body": "<p>I found that the problem is probably due to a bug in the anko library, when I removed the <code>anko-appcompat-v7-coroutines</code> the code worked</p>\n\n<pre><code> // Anko Layouts\ncompile \"org.jetbrains.anko:anko-sdk25:$anko_version\" // sdk15, sdk19, sdk21, sdk23 are also available\ncompile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n\n// Coroutine listeners for Anko Layouts\ncompile \"org.jetbrains.anko:anko-sdk2-coroutines:$anko_version\"\ncompile \"org.jetbrains.anko:anko-appcompat-v7-coroutines:$anko_version\"\n</code></pre>\n\n<p>My anko version was <code>ext.anko_version = '0.10.0'</code> since I wans't using anko just yet I opted to remove it and things started to work as expected.</p>\n"}], "owner": {"reputation": 302, "user_id": 3827687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58defa5d03c6728a4a881472c3a0d394?s=128&d=identicon&r=PG&f=1", "display_name": "adrianolsk", "link": "https://stackoverflow.com/users/3827687/adrianolsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 994, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508780665, "creation_date": 1508766758, "last_edit_date": 1508779409, "question_id": 46891087, "link": "https://stackoverflow.com/questions/46891087/unresolved-reference-createprintdocumentadapter-kotlin-android", "title": "Unresolved reference: createPrintDocumentAdapter (Kotlin + Android)", "body": "<p>I'm trying to implement the code from this <a href=\"https://developer.android.com/training/printing/html-docs.html#print-job\" rel=\"nofollow noreferrer\">link</a> using <code>kotlin</code>, but when I try to use any method of the webView I get errors:</p>\n\n<p><code>\nError:(238, 17) Unresolved reference: webViewClient\nError:(265, 43) Unresolved reference: PRINT_SERVICE\nError:(268, 36) Unresolved reference: createPrintDocumentAdapter\n</code></p>\n\n<p>The strange thing is if I comment out the code and while running the app I use the evaluate expression I can create the adapter instance.</p>\n\n<p>Has anyone any Idea?</p>\n\n<p>I also can't access methods from the <code>webView</code>, like <code>webView.webViewClient</code></p>\n\n<p>Here is the <code>kotlin</code> version of the <code>java</code> code in the link above</p>\n\n<pre><code>private fun doWebViewPrint() {\n    // Create a WebView object specifically for printing\n    val webView = WebView(this)\n    webView.webViewClient = object : WebViewClient() {\n\n        override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n            return false\n        }\n\n        override fun onPageFinished(view: WebView, url: String) {\n            createWebPrintJob(view)\n        }\n    }\n\n    // Generate an HTML document on the fly:\n    val htmlDocument = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Test Content&lt;/h1&gt;&lt;p&gt;Testing, \" + \"testing, testing...&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\"\n    webView.loadDataWithBaseURL(null, htmlDocument, \"text/HTML\", \"UTF-8\", null)\n}\n\n\nprivate fun createWebPrintJob(webView: WebView) {\n\n    // Get a PrintManager instance\n    val printManager = this\n            .getSystemService(Context.PRINT_SERVICE) as PrintManager\n\n    // Get a print adapter instance\n    val printAdapter = webView.createPrintDocumentAdapter(\"document\")\n\n    // Create a print job with name and adapter instance\n    val jobName = getString(R.string.app_name) + \" Document\"\n    val printJob = printManager.print(jobName, printAdapter,\n            PrintAttributes.Builder().build())\n\n}\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 0, "last_activity_date": 1508767823, "creation_date": 1508767823, "answer_id": 46891467, "question_id": 46889763, "link": "https://stackoverflow.com/questions/46889763/kodein-datas-value-injected-are-not-datas-value-retrieve/46891467#46891467", "title": "kodein - data&#39;s value injected are not data&#39;s value retrieve", "body": "<p>The problem lies here:</p>\n\n<pre><code>bind&lt;ConnectivityState&gt;() with provider { ConnectivityState() }\n</code></pre>\n\n<p>You are binding to a <code>provider</code> scope, which means that <em>a new instance will be returned every time you ask for an instance</em>.</p>\n\n<p>If you want the same instance to be returned every time, you need to bind to a <code>singleton</code>:</p>\n\n<pre><code>bind&lt;ConnectivityState&gt;() with singleton { ConnectivityState() }\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 46891467, "answer_count": 1, "score": 0, "last_activity_date": 1610052212, "creation_date": 1508762783, "last_edit_date": 1610052212, "question_id": 46889763, "link": "https://stackoverflow.com/questions/46889763/kodein-datas-value-injected-are-not-datas-value-retrieve", "title": "kodein - data&#39;s value injected are not data&#39;s value retrieve", "body": "<p>In my <code>CallType</code> class, i put my injected data <code>connectivityState.callBackState</code> to true, which is initialized to false in my <code>ConnectivitySte</code> class. But in my <code>IncomingCallBroadcastReceiver</code> class, my boolean data <code>callBackState</code> is not <code>true</code> but <code>false</code>.</p>\n<pre><code>class CallType {\n\nval kodein = Kodein {\n    bind&lt;ConnectivityState&gt;() with provider { ConnectivityState() }\n}\n\nprivate val connectivityState: ConnectivityState = kodein.instance()\n\nfun call(number: String) {\n\n//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\\\\\nconnectivityState.callBackState = true\n}    \n\n\nclass IncomingCallBroadcastReceiver : KodeinBroadcastReceiver() {\n\n   private val connectivityState: ConnectivityState by instance()\n\n   override fun onBroadcastReceived(context: Context, intent: Intent) {\n   \n   //!!!!!!!!!!!!!!  IT'S FALSE HERE WHEREAS I PUT IT TO TRUE IN CALLTYPE CLASS\n   if (connectivityState.callBackState) {\n    }\n}    \n\nclass ConnectivityState {\n   var iaxState = false    \n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 3, "creation_date": 1508761063, "post_id": 46888757, "comment_id": 80725433, "body": "Something in your example is off. You&#39;re calling <code>findViewById</code> for the view on the view itself. Also you don&#39;t use <code>editTextCity</code>. Did you maybe use the id more than once?"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508767306, "post_id": 46888757, "comment_id": 80729685, "body": "@tynn I meant <code>editTextCity.text.toString()</code> there. But I want to access directly to <code>editText_city.text.toString()</code> by using kotlin extensions (without findviewbyId)"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508767328, "post_id": 46888757, "comment_id": 80729702, "body": "<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 2, "creation_date": 1508771504, "post_id": 46888757, "comment_id": 80732634, "body": "You should edit and update your question to make it more clear."}, {"owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "edited": false, "score": 0, "creation_date": 1509039825, "post_id": 46888757, "comment_id": 80868649, "body": "Also post your xml"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6248719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/052c1684b9d4f54f7ce60b29046e86c8?s=128&d=identicon&r=PG&f=1", "display_name": "Dir", "link": "https://stackoverflow.com/users/6248719/dir"}, "is_accepted": false, "score": 0, "last_activity_date": 1526638437, "creation_date": 1526638437, "answer_id": 50408999, "question_id": 46888757, "link": "https://stackoverflow.com/questions/46888757/kotlin-android-extension-cant-resolve-text/50408999#50408999", "title": "Kotlin Android extension can&#39;t resolve &quot;text&quot;", "body": "<p>Try to edit classpath in the project level gradle.build to: </p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n\n<p>and add this to your app level gradle.build as dependency:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p>Hope that works.</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1527090965, "last_edit_date": 1527090965, "creation_date": 1527090577, "answer_id": 50492659, "question_id": 46888757, "link": "https://stackoverflow.com/questions/46888757/kotlin-android-extension-cant-resolve-text/50492659#50492659", "title": "Kotlin Android extension can&#39;t resolve &quot;text&quot;", "body": "<p>for edit text  you have to use :</p>\n\n<pre><code> etEmail.setText(preferenceKeeper?.user?.email)\n</code></pre>\n\n<p>and if you want to get text from there then :</p>\n\n<pre><code>val valueFromEditText=etEmail.text.toString()\n</code></pre>\n\n<p><strong>And if you are using Kotlin extension then you can directly access by  id in your activity which is mention in you .xml</strong></p>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1527090965, "creation_date": 1508759754, "question_id": 46888757, "link": "https://stackoverflow.com/questions/46888757/kotlin-android-extension-cant-resolve-text", "title": "Kotlin Android extension can&#39;t resolve &quot;text&quot;", "body": "<p>So I'm trying to get rid of \"findViewById\" and decided to add Kotlin Android extension to my project</p>\n\n<p>Inside my gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>In project level gradle.build:</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n</code></pre>\n\n<p>In my MainActivity:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>However, I still need <code>var editTextCity = editText_city.findViewById&lt;EditText&gt;(R.id.editText_city)</code></p>\n\n<p>to resolve  <code>var city = editText_city.text.toString()</code></p>\n\n<p>seems like the extension is not working</p>\n"}, {"tags": ["date", "gson", "kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1508757988, "post_id": 46888187, "comment_id": 80723327, "body": "I answer my own question, but every comment/feedback/alternative/improvement are very welcomed"}], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 3, "last_activity_date": 1508757904, "creation_date": 1508757904, "answer_id": 46888188, "question_id": 46888187, "link": "https://stackoverflow.com/questions/46888187/gson-setdateformat-thows-exception-when-date-is-null/46888188#46888188", "title": "Gson setDateFormat thows exception when date is null", "body": "<p>I really amazed that <code>setDateFormat</code> does not handle null serialization. I think you are forced to implement type adapters:</p>\n\n<pre><code>val gson = GsonBuilder()\n        //.setDateFormat(DATE_FORMAT_MASK)\n        .registerTypeAdapter(Date::class.java, JsonSerializer&lt;Date&gt; { date: Date?, type, context -&gt;\n            val parsed = date?.toString(DATE_FORMAT_MASK)\n            if(parsed == null) null\n            else context?.serialize(parsed)\n\n        })\n        .registerTypeAdapter(Date::class.java, JsonDeserializer&lt;Date&gt; { json: JsonElement?, type, context -&gt;\n            json?.asString?.toDate(DATE_FORMAT_MASK)\n        })\n        .create()\n</code></pre>\n\n<p>Where <code>toDate</code> and <code>toString</code> are:</p>\n\n<pre><code>fun Date.toString(mask: String): String? {\n    try {\n        val simpleDateFormat = SimpleDateFormat(mask, Locale.getDefault())\n        return simpleDateFormat.format(this)\n    } catch (ignored: Exception) {\n        return null\n    }\n}\n\nfun String.toDate(mask: String): Date? {\n    return try {\n        val simpleDateFormat = SimpleDateFormat(mask, Locale.getDefault())\n        simpleDateFormat.parse(this)\n    } catch (ignored: Exception) {\n        null\n    }\n}\n</code></pre>\n\n<p>This cover te following test:</p>\n\n<pre><code>data class DateWrapper(val date: Date?)\n\n@Test fun date_serialization() {\n\n    val deserializedDate = gson.fromJson(\"\\\"2017-10-23T12:48:43+0200\\\"\", Date::class.java)\n    assertNotNull(deserializedDate)\n\n    val deserializedNullDate = gson.fromJson(\"null\", Date::class.java)\n    assertNull(deserializedNullDate)\n\n    val deserializedNullDate2 = gson.fromJson(\"\", Date::class.java)\n    assertNull(deserializedNullDate2)\n\n\n    val deserializedDateWrapper = gson.fromJson(\"{date: null}\", DateWrapper::class.java)\n    assertNull(deserializedDateWrapper.date)\n\n    val deserializedDateWrapper2 = gson.fromJson(\"{date: \\\"\\\"}\", DateWrapper::class.java)\n    assertNull(deserializedDateWrapper2.date)\n\n    val deserializedDateWrapper3 = gson.fromJson(\"{}\", DateWrapper::class.java)\n    assertNull(deserializedDateWrapper3.date)\n\n\n    val serializedDate = gson.toJson(Date(), Date::class.java)\n    assertNotNull(serializedDate)\n\n    val serializedNullDate = gson.toJson(null, Date::class.java)\n    assertEquals(\"null\", serializedNullDate)\n\n    val date = Date()\n    val serializedDateWrapper = gson.toJson(DateWrapper(date), DateWrapper::class.java)\n    assertNotNull(serializedDateWrapper)\n\n    val serializedDateWrapper2 = gson.toJson(DateWrapper(null), DateWrapper::class.java)\n    assertNotNull(serializedDateWrapper2)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1549405179, "post_id": 54538585, "comment_id": 95888935, "body": "Oh, thanks, by the date didn&#39;t find the related issue :)"}], "tags": [], "owner": {"reputation": 66, "user_id": 4863806, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mgbxhjh1fH0/AAAAAAAAAAI/AAAAAAAAAPQ/oL-pX5a5BBs/photo.jpg?sz=128", "display_name": "Gabe Lilly", "link": "https://stackoverflow.com/users/4863806/gabe-lilly"}, "is_accepted": true, "score": 4, "last_activity_date": 1549405599, "last_edit_date": 1549405599, "creation_date": 1549383177, "answer_id": 54538585, "question_id": 46888187, "link": "https://stackoverflow.com/questions/46888187/gson-setdateformat-thows-exception-when-date-is-null/54538585#54538585", "title": "Gson setDateFormat thows exception when date is null", "body": "<p>If anyone else runs into this, the issue was present in version 2.8.1 of Gson. Either going back to 2.8.0 or forward to 2.8.2 fixes the issue. If you're stuck on 2.8.1, there is <a href=\"https://github.com/google/gson/issues/1096#issuecomment-324931546\" rel=\"nofollow noreferrer\">another workaround</a> detailed in this bug report: <a href=\"https://github.com/google/gson/issues/1096\" rel=\"nofollow noreferrer\">https://github.com/google/gson/issues/1096</a></p>\n\n<pre><code>private Gson getGson() {\n  // Trick to get the DefaultDateTypeAdatpter instance\n  // Create a first instance a Gson\n  Gson gson = new GsonBuilder()\n    .setDateFormat(DATE_FORMAT_COMPLETE)\n    .create();\n\n  // Get the date adapter\n  TypeAdapter&lt;Date&gt; dateTypeAdapter = gson.getAdapter(Date.class);\n\n  // Ensure the DateTypeAdapter is null safe\n  TypeAdapter&lt;Date&gt; safeDateTypeAdapter = dateTypeAdapter.nullSafe();\n\n  // Build the definitive safe Gson instance\n  return new GsonBuilder()\n    .registerTypeAdapter(Date.class, safeDateTypeAdapter)\n    .create();\n}\n</code></pre>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "accepted_answer_id": 54538585, "answer_count": 2, "score": 3, "last_activity_date": 1549405599, "creation_date": 1508757904, "last_edit_date": 1508860309, "question_id": 46888187, "link": "https://stackoverflow.com/questions/46888187/gson-setdateformat-thows-exception-when-date-is-null", "title": "Gson setDateFormat thows exception when date is null", "body": "<p>I have built my Gson instance as :</p>\n\n<pre><code>val DATE_FORMAT_MASK = \"yyyy-MM-dd'T'HH:mm:ssZ\"\n\nval gson = GsonBuilder()\n        .setDateFormat(DATE_FORMAT_MASK)\n        .create()\n</code></pre>\n\n<p>This work properly until I execute the serialization of a null date </p>\n\n<pre><code>gson.toJson(null, Date::class.java)\n</code></pre>\n\n<p>Then I'm getting the following exception:</p>\n\n<pre><code>java.lang.NullPointerException\n    at java.util.Calendar.setTime(Calendar.java:1770)\n    at java.text.SimpleDateFormat.format(SimpleDateFormat.java:943)\n    at java.text.SimpleDateFormat.format(SimpleDateFormat.java:936)\n    at java.text.DateFormat.format(DateFormat.java:345)\n    at com.google.gson.DefaultDateTypeAdapter.write(DefaultDateTypeAdapter.java:88)\n    at com.google.gson.DefaultDateTypeAdapter.write(DefaultDateTypeAdapter.java:40)\n    at com.google.gson.Gson.toJson(Gson.java:669)\n    at com.google.gson.Gson.toJson(Gson.java:648)\n    at com.google.gson.Gson.toJson(Gson.java:603)\n</code></pre>\n\n<p>How I can handle this situation ?</p>\n\n<p>May be a bug in Gson library ?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "combinelatest"], "comments": [{"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1508768864, "post_id": 46887528, "comment_id": 80730809, "body": "Your approach is the one that I would recommend. It allows you fine-grained control without a lot of overhead."}, {"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "reply_to_user": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1508831662, "post_id": 46887528, "comment_id": 80756738, "body": "except the threading part. when i inout a new value to the subject, the thread specified in combinelatest is disregarded. idk if it suposed to be that way"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1508852941, "post_id": 46887528, "comment_id": 80771557, "body": "<code>combineLatest()</code> will run on the scheduler that it was subscribed on, either implicitly or explicitly, using <code>subscribeOn()</code>. That being said, any input to <code>combineLatest()</code> will likely trigger the function and that function will run on the thread of the last submission. Add <code>observeOn()</code> to each contributing observable to control where the function runs."}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508755702, "creation_date": 1508755702, "question_id": 46887528, "link": "https://stackoverflow.com/questions/46887528/input-own-values-to-combinelatest", "title": "Input own values to combinelatest", "body": "<p>I have this combinelatest flowable:</p>\n\n<pre><code>private val subject: BehaviorSubject&lt;Int&gt; = BehaviorSubject.create()\n\nFlowable.combineLatest(\n    materialA, \n    materialB, \n    subject.toFlowable(LATEST), \n    Function3 { ma, mb, index -&gt; if(index == 0) ... else if(index ==1) ... else ... }  \n\nsubject.onNext(99)\n</code></pre>\n\n<p>Basically, i want to observe db changes on both this materials, and combine them to show user some data. On occasion, i need to use the latest output, and do a different combination (computation heavy). Thats why i made the <code>index</code> a source to the <code>combinelatest</code>. Is this a valid approach or is there any better alternative?</p>\n\n<p>PS. I need to be able to ask for a different combination any time i want (that's i didnt use Flowable.just()) and i would like to avoid saving state outside of the obs chain.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508755413, "post_id": 46887270, "comment_id": 80721863, "body": "Can you show output from <code>.&#47;gradlew depI  --configuration compile --dependency kotlin-runtime</code> please? Seems like one of the dependencies has promoted to the higher version"}, {"owner": {"reputation": 43, "user_id": 8818520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sXZ6lgCqIzY/AAAAAAAAAAI/AAAAAAAACYA/9qHRfoO84aQ/photo.jpg?sz=128", "display_name": "\u30d1\u30e9\u30b8", "link": "https://stackoverflow.com/users/8818520/%e3%83%91%e3%83%a9%e3%82%b8"}, "reply_to_user": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508755984, "post_id": 46887270, "comment_id": 80722195, "body": "this is the <a href=\"https://pastebin.com/RksLK2dc\" rel=\"nofollow noreferrer\">output</a>."}, {"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508756657, "post_id": 46887270, "comment_id": 80722565, "body": "From output I see version <code>1.1.3</code>  was promoted by your dependency Forgelin, I found that it actually <a href=\"https://github.com/shadowfacts/Forgelin/blob/master/gradle.properties\" rel=\"nofollow noreferrer\">use it</a>. Is there a good reason why do you want to use older version of kotlin?"}, {"owner": {"reputation": 43, "user_id": 8818520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sXZ6lgCqIzY/AAAAAAAAAAI/AAAAAAAACYA/9qHRfoO84aQ/photo.jpg?sz=128", "display_name": "\u30d1\u30e9\u30b8", "link": "https://stackoverflow.com/users/8818520/%e3%83%91%e3%83%a9%e3%82%b8"}, "reply_to_user": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508757416, "post_id": 46887270, "comment_id": 80722987, "body": "No, I want to use the latest version of kotlin. but, using forgelin is the best way to use kotlin for minecraft-modding"}, {"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 1, "creation_date": 1508758170, "post_id": 46887270, "comment_id": 80723455, "body": "kotlin runtime has been <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-runtime\" rel=\"nofollow noreferrer\">officially deprecated</a> you <i>can try</i> to include runtime dependency using the same version as you wish <code>compile group: &quot;org.jetbrains.kotlin:kotlin-runtime:$kotlin_version&quot;</code>"}, {"owner": {"reputation": 43, "user_id": 8818520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sXZ6lgCqIzY/AAAAAAAAAAI/AAAAAAAACYA/9qHRfoO84aQ/photo.jpg?sz=128", "display_name": "\u30d1\u30e9\u30b8", "link": "https://stackoverflow.com/users/8818520/%e3%83%91%e3%83%a9%e3%82%b8"}, "reply_to_user": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508759201, "post_id": 46887270, "comment_id": 80724142, "body": "I tried it and I succeed to overwrite version of kotlin-runtime. Thank you!"}, {"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1508761406, "post_id": 46887270, "comment_id": 80725678, "body": "You&#39;re welcome! I have posted answer so you can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "is_accepted": true, "score": 1, "last_activity_date": 1508798444, "last_edit_date": 1508798444, "creation_date": 1508761367, "answer_id": 46889269, "question_id": 46887270, "link": "https://stackoverflow.com/questions/46887270/using-kotlin-stdlib-1-1-51-but-kotlin-runtime-1-3-is-loaded/46889269#46889269", "title": "Using kotlin-stdlib 1.1.51 but kotlin-runtime 1.3 is loaded", "body": "<p>The solution is to enforce version of <code>kotlin-runtime</code> to one used in project <code>1.1.51</code></p>\n\n<pre><code>compile group: \"org.jetbrains.kotlin:kotlin-runtime:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8818520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sXZ6lgCqIzY/AAAAAAAAAAI/AAAAAAAACYA/9qHRfoO84aQ/photo.jpg?sz=128", "display_name": "\u30d1\u30e9\u30b8", "link": "https://stackoverflow.com/users/8818520/%e3%83%91%e3%83%a9%e3%82%b8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 46889269, "answer_count": 1, "score": 4, "last_activity_date": 1508798444, "creation_date": 1508754818, "question_id": 46887270, "link": "https://stackoverflow.com/questions/46887270/using-kotlin-stdlib-1-1-51-but-kotlin-runtime-1-3-is-loaded", "title": "Using kotlin-stdlib 1.1.51 but kotlin-runtime 1.3 is loaded", "body": "<p>I use kotlin-1.1.51 with gradle, but kotlin-runtime-1.1.3 is loaded<br>\nEnvironment:  </p>\n\n<ul>\n<li>Windows10</li>\n<li>IntelliJ IDEA Ultimate 2017.2.5</li>\n</ul>\n\n<p><a href=\"https://github.com/C6H2Cl2/MCDevNightSample/blob/master/build.gradle\" rel=\"nofollow noreferrer\">build.gradle</a><br>\n<a href=\"https://i.stack.imgur.com/peJr1.png\" rel=\"nofollow noreferrer\">dependencies</a></p>\n"}, {"tags": ["android", "kotlin", "protocol-buffers"], "comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1508755648, "post_id": 46887067, "comment_id": 80722025, "body": "I&#39;m suspecting the isue lies in  <code>sourceSets {     main {         java {             srcDirs += file(&quot;${protobuf.generatedFilesBaseDir}&#47;debug&#47;javalite&quot;)         }     } }</code> But in Android, we don&#39;t have <code>srcDirs</code> for <code>kotlin</code> as per <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/using-gradle.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 0, "last_activity_date": 1510109407, "creation_date": 1510109407, "answer_id": 47170797, "question_id": 46887067, "link": "https://stackoverflow.com/questions/46887067/protocol-buffer-gradle-support-for-kotlin-android-not-working/47170797#47170797", "title": "Protocol Buffer gradle support for Kotlin Android not working?", "body": "<p>There's a workaround on getting Kotlin supported, that is to use a Kotlin Module for the protobuf file generation. Then as a separate module, it could then be used. Check out  <a href=\"https://medium.com/@elye.project/android-protobuf-in-kotlin-a1c33014a4e2\" rel=\"nofollow noreferrer\">https://medium.com/@elye.project/android-protobuf-in-kotlin-a1c33014a4e2</a> for more detail.</p>\n"}, {"comments": [{"owner": {"reputation": 1867, "user_id": 3848334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XyhMu.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3848334/david"}, "edited": false, "score": 0, "creation_date": 1555741519, "post_id": 50526478, "comment_id": 98214975, "body": "is this for java-lite? what for java?"}], "tags": [], "owner": {"reputation": 11, "user_id": 8080130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a4bf3edda109e2f2d20e4181a4e7e56?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Chiang", "link": "https://stackoverflow.com/users/8080130/daniel-chiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1527242253, "creation_date": 1527242253, "answer_id": 50526478, "question_id": 46887067, "link": "https://stackoverflow.com/questions/46887067/protocol-buffer-gradle-support-for-kotlin-android-not-working/50526478#50526478", "title": "Protocol Buffer gradle support for Kotlin Android not working?", "body": "<p>I've just resolved this problem in my project. Maybe you could try my solution. Adding below config in app build.gradle:</p>\n\n<pre><code>android {\n    ...\n     // Adding generated proto to srcDirs depending on build variant\n     variantFilter { variant -&gt;\n        def sourceSet = android.sourceSets.findByName(variant.buildType.name)\n         if (sourceSet != null) {\n             sourceSet.java.srcDirs += \"build/generated/source/proto/${variant.name}/javalite\"\n        }\n    }\n    ...\n}\n\n//Running generating proto task before compiling Kotlin\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    mustRunAfter tasks.withType(com.google.protobuf.gradle.GenerateProtoTask)\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1527242253, "creation_date": 1508754206, "last_edit_date": 1508754945, "question_id": 46887067, "link": "https://stackoverflow.com/questions/46887067/protocol-buffer-gradle-support-for-kotlin-android-not-working", "title": "Protocol Buffer gradle support for Kotlin Android not working?", "body": "<p>I have an Android project in Kotlin, where it is setup properly and works</p>\n\n<p>In Root build.gradle</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n\n<p>In App build.gradle</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n// ...\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>All works well.</p>\n\n<p>It also has Protobuf Support as per <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/google/protobuf-gradle-plugin</a></p>\n\n<p>Where in the App build.gradle it has</p>\n\n<pre><code>apply plugin: 'com.google.protobuf'\n// ...\nprotobuf {\n    protoc {\n        // Download from repositories\n        artifact = 'com.google.protobuf:protoc:3.0.0'\n    }\n\n    plugins {\n        javalite {\n            // The codegen for lite comes as a separate artifact\n            artifact = 'com.google.protobuf:protoc-gen-javalite:3.0.0'\n        }\n    }\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.plugins {\n                javalite { }\n            }\n        }\n    }\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs += file(\"${protobuf.generatedFilesBaseDir}/debug/javalite\")\n        }\n    }\n}\n\n// ...\napi 'com.google.protobuf:protobuf-lite:3.0.0'\n</code></pre>\n\n<p>The only thing is, when the code that access the Protobuf generated codes i.e. codes in <code>com.elyeproj.proto.*</code>, is in Java, all works well</p>\n\n<pre><code>package com.elyeproj.myapplication;\n\nimport com.elyeproj.proto.Card;\nimport com.elyeproj.proto.Heart;\nimport com.elyeproj.proto.Result;\nimport com.elyeproj.proto.Spade;\n\npublic class MainPresenter {\n\n    private MainView mainView;\n\n    public MainPresenter(MainView mainView) {\n        this.mainView = mainView;\n    }\n\n    public void fetchData() {\n        Card card1 = Card.newBuilder().setHeart(Heart.newBuilder().build()).build();\n        Card card2 = Card.newBuilder().setSpade(Spade.newBuilder().build()).build();\n        Result result = Result.newBuilder().addCards(card1).addCards(card2).build();\n        mainView.showResult(result.toString());\n\n    }\n}\n</code></pre>\n\n<p>However, when converted to Kotlin</p>\n\n<pre><code>package com.elyeproj.myapplication\n\nimport com.elyeproj.proto.Card\nimport com.elyeproj.proto.Heart\nimport com.elyeproj.proto.Result\nimport com.elyeproj.proto.Spade\n\nclass MainPresenter(private val mainView: MainView) {\n\n    fun fetchData() {\n        val card1 = Card.newBuilder().setHeart(Heart.newBuilder().build()).build()\n        val card2 = Card.newBuilder().setSpade(Spade.newBuilder().build()).build()\n        val result = Result.newBuilder().addCards(card1).addCards(card2).build()\n        mainView.showResult(result.toString())\n\n    }\n}\n</code></pre>\n\n<p>It will render an error at compile time with the message:</p>\n\n<pre><code>Error:(6, 21) Unresolved reference: proto\nError:(11, 21) Unresolved reference: Card\nError:(11, 48) Unresolved reference: Heart\nError:(12, 48) Unresolved reference: Spade\nError:(13, 22) Unresolved reference: Result\n</code></pre>\n\n<p>i.e. it can not access to those Protobuf generated code (although in the Android Studio, it could still access the code, e.g. code autocomplete could find the functions).</p>\n\n<p>It looks like Protobuf Gradle support and Kotlin is not working. Or did I miss something?</p>\n\n<p>To test it out, you could access the code in <a href=\"https://github.com/elye/issue_android_protobuf_light_java\" rel=\"nofollow noreferrer\">https://github.com/elye/issue_android_protobuf_light_java</a> with MainPresentation in Java, which compiles fine. But if converts to Kotlin, it would render an error as above.</p>\n"}, {"tags": ["multithreading", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 3527, "user_id": 7057156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWGOY.jpg?s=128&g=1", "display_name": "Hans Wurst", "link": "https://stackoverflow.com/users/7057156/hans-wurst"}, "is_accepted": false, "score": 1, "last_activity_date": 1508754188, "creation_date": 1508754188, "answer_id": 46887057, "question_id": 46886956, "link": "https://stackoverflow.com/questions/46886956/exception-blockingconnect-must-not-be-called-on-the-ui-thread-despite-i-subsri/46887057#46887057", "title": "Exception: blockingConnect must not be called on the UI thread despite, I subsribed on another thread", "body": "<p>This is because Observable#just is eager and will block untill #blockingConnect finishes.</p>\n\n<p>This example should do the trick:</p>\n\n<pre><code>    Observable.fromCallable(() -&gt; {\n        return googleApiClient.blockingConnect();\n    }).subscribeOn(Schedulers.io());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 2, "last_activity_date": 1508755142, "creation_date": 1508755142, "answer_id": 46887372, "question_id": 46886956, "link": "https://stackoverflow.com/questions/46886956/exception-blockingconnect-must-not-be-called-on-the-ui-thread-despite-i-subsri/46887372#46887372", "title": "Exception: blockingConnect must not be called on the UI thread despite, I subsribed on another thread", "body": "<p><code>Observable.just()</code> accepts value(s) which is/are passed to next chained observable. If you examine carefully, then in your case here</p>\n\n<pre><code>Observable.just(googleApiClient.blockingConnect())\n</code></pre>\n\n<p><code>googleApiClient.blockingConnect()</code> gets executed first as <code>just</code> operator needs a value/values. So you need an operator here that accepts a function call or something like that.</p>\n\n<p>For your case <code>Observable.fromCallable()</code> can be used which receives a callable as a parameter:</p>\n\n<pre><code>Observable.fromCallable(() -&gt; googleApiClient.blockingConnect());\n</code></pre>\n\n<p>Here <code>googleApiClient.blockingConnect()</code> will execute when you subscribe to observable chain.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 46887372, "answer_count": 2, "score": 0, "last_activity_date": 1508755142, "creation_date": 1508753820, "question_id": 46886956, "link": "https://stackoverflow.com/questions/46886956/exception-blockingconnect-must-not-be-called-on-the-ui-thread-despite-i-subsri", "title": "Exception: blockingConnect must not be called on the UI thread despite, I subsribed on another thread", "body": "<p>I have invocation like this:</p>\n\n<pre><code> val connectionResult = googleApiClient.blockingConnect()\n</code></pre>\n\n<p>which is cause of this exception: </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: blockingConnect must not be called on the UI thread</p>\n</blockquote>\n\n<pre><code>at com.google.android.gms.common.internal.zzbp.zza(Unknown Source)\nat com.google.android.gms.common.api.internal.zzbd.blockingConnect(Unknown Source)\nat com.elstatgroup.elstat.NexoLocationManager.startLocationUpdatesGmsApi(NexoLocationManager.kt:510)\nat com.elstatgroup.elstat.NexoLocationManager.startLocationUpdates(NexoLocationManager.kt:498)\nat com.elstatgroup.elstat.NexoLocationManager.appendRSSIEvent(NexoLocationManager.kt:283)\nat com.elstatgroup.elstat.NexoLocationManager.appendRSSIEvent(NexoLocationManager.kt:273)\nat com.elstatgroup.elstat.NexoLocationTest.testAppendLocationEvents(NexoLocationTest.kt:111)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:497)\nat org.robolectric.internal.SandboxTestRunner$2.evaluate(SandboxTestRunner.java:228)\nat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:110)\nat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:37)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.robolectric.internal.SandboxTestRunner$1.evaluate(SandboxTestRunner.java:64)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>I thought, that this will help:</p>\n\n<pre><code> Observable.just(googleApiClient.blockingConnect())\n                    .subscribeOn(Schedulers.newThread())\n                    .subscribe(Consumer { connectionResult -&gt;\n                        if (connectionResult.isSuccess()) {\n\n                //do something\n                     }\n                    })\n</code></pre>\n\n<p>But i am wrong and this not help.\nThe only way i make it not crash is this:</p>\n\n<pre><code>         Thread(Runnable {\n                val connectionResult = googleApiClient.blockingConnect() \n                if (connectionResult.isSuccess()) {\n                    //do something\n                }\n            }).start()\n</code></pre>\n\n<p>So why my RxJava solution not working?</p>\n"}, {"tags": ["android", "google-maps", "data-binding", "kotlin", "marker"], "comments": [{"owner": {"reputation": 538, "user_id": 3824099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba28bd6b02be9350b717348abb98ee3c?s=128&d=identicon&r=PG&f=1", "display_name": "J Ramesh", "link": "https://stackoverflow.com/users/3824099/j-ramesh"}, "edited": false, "score": 0, "creation_date": 1508753592, "post_id": 46886636, "comment_id": 80720722, "body": "Have you check  myMarker!!.remove()  statement is setting myMarker as null ? If no then you have to set  null."}, {"owner": {"reputation": 133, "user_id": 6169950, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YftAL1LRO3E/AAAAAAAAAAI/AAAAAAAABwY/FTJ_bxIeNkg/photo.jpg?sz=128", "display_name": "Frendi", "link": "https://stackoverflow.com/users/6169950/frendi"}, "reply_to_user": {"reputation": 538, "user_id": 3824099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba28bd6b02be9350b717348abb98ee3c?s=128&d=identicon&r=PG&f=1", "display_name": "J Ramesh", "link": "https://stackoverflow.com/users/3824099/j-ramesh"}, "edited": false, "score": 0, "creation_date": 1508753943, "post_id": 46886636, "comment_id": 80720929, "body": "ya, i remove my marker, because i want update my marker position, as you see, after i remove my marker i set my marker again if mymarker == null"}, {"owner": {"reputation": 538, "user_id": 3824099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba28bd6b02be9350b717348abb98ee3c?s=128&d=identicon&r=PG&f=1", "display_name": "J Ramesh", "link": "https://stackoverflow.com/users/3824099/j-ramesh"}, "edited": false, "score": 0, "creation_date": 1508754025, "post_id": 46886636, "comment_id": 80720990, "body": "Have you check control go inside if(myMarker == null){   condition ?"}, {"owner": {"reputation": 538, "user_id": 3824099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba28bd6b02be9350b717348abb98ee3c?s=128&d=identicon&r=PG&f=1", "display_name": "J Ramesh", "link": "https://stackoverflow.com/users/3824099/j-ramesh"}, "edited": false, "score": 0, "creation_date": 1508754119, "post_id": 46886636, "comment_id": 80721052, "body": "Instead of removing marker you can update marker position using marker.setPosition(latlng)"}, {"owner": {"reputation": 133, "user_id": 6169950, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YftAL1LRO3E/AAAAAAAAAAI/AAAAAAAABwY/FTJ_bxIeNkg/photo.jpg?sz=128", "display_name": "Frendi", "link": "https://stackoverflow.com/users/6169950/frendi"}, "reply_to_user": {"reputation": 538, "user_id": 3824099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba28bd6b02be9350b717348abb98ee3c?s=128&d=identicon&r=PG&f=1", "display_name": "J Ramesh", "link": "https://stackoverflow.com/users/3824099/j-ramesh"}, "edited": false, "score": 0, "creation_date": 1508754390, "post_id": 46886636, "comment_id": 80721228, "body": "wow,, it&#39;s working, thankyou @JRamesh, you save my day."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 6169950, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YftAL1LRO3E/AAAAAAAAAAI/AAAAAAAABwY/FTJ_bxIeNkg/photo.jpg?sz=128", "display_name": "Frendi", "link": "https://stackoverflow.com/users/6169950/frendi"}, "is_accepted": true, "score": 0, "last_activity_date": 1508755467, "last_edit_date": 1508755467, "creation_date": 1508754678, "answer_id": 46887231, "question_id": 46886636, "link": "https://stackoverflow.com/questions/46886636/google-map-marker-not-working/46887231#46887231", "title": "Google Map Marker not working", "body": "<p>as @J Ramesh suggest, very funny. i just replace with this.</p>\n\n<pre><code>fun SetMapMarker(){\nval latlng = LatLng(myLastLocation!!.latitude, myLastLocation!!.longitude)\nLog.i(TAG, \"set marker\")\nif(myMarker != null){\n    myMarker!!.position = latlng\n}\n\nif(myMarker == null){\n    myMarker = mMap!!.addMarker(\n            MarkerOptions()\n                    .position(latlng)\n                    .icon(BitmapDescriptorFactory\n                            .defaultMarker(BitmapDescriptorFactory.HUE_BLUE))\n    )\n\n\n// you can set title and message only one time not required all time (if you want to change message every time then write these line outside if statement)\n myMarker!!.snippet = \"ok\"\n myMarker!!.title = \"i'm here\"\n}\n\nval camera = CameraPosition\n        .builder()\n        .target(latlng)\n        .zoom(16.0F)\n        .build()\nmMap!!.animateCamera(CameraUpdateFactory.newCameraPosition(camera))\n}\n</code></pre>\n\n<p>hope help someone.</p>\n"}], "owner": {"reputation": 133, "user_id": 6169950, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-YftAL1LRO3E/AAAAAAAAAAI/AAAAAAAABwY/FTJ_bxIeNkg/photo.jpg?sz=128", "display_name": "Frendi", "link": "https://stackoverflow.com/users/6169950/frendi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 46887231, "answer_count": 1, "score": 1, "last_activity_date": 1508755467, "creation_date": 1508752930, "question_id": 46886636, "link": "https://stackoverflow.com/questions/46886636/google-map-marker-not-working", "title": "Google Map Marker not working", "body": "<p>recently i found \"FusedLocationApi\" is deprecated, so i try fix my apps regarding google doc. my code working fine, and my activity get location, but when i try to set marker, it's not working. i'm so confuse, can anyone help me to find where i missing ?</p>\n\n<p>Here my code. </p>\n\n<pre><code>class DealerMapsActivity : FragmentActivity(),\n    OnMapReadyCallback,\n    GoogleApiClient.ConnectionCallbacks,\n    GoogleApiClient.OnConnectionFailedListener{\n\nprivate val TAG = \"DealerMapsActivity\"\nprivate var mMap: GoogleMap? = null\nprivate var mGoogleApi: GoogleApiClient? = null\nprivate lateinit var binding: ActivityDealerMapsBinding\nprivate var myLastLocation: Location? = null\nprivate var myMarker: Marker? = null\nprivate var mFusedLocationClient: FusedLocationProviderClient? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    Log.d(TAG,\"onCreate\")\n    binding = DataBindingUtil.setContentView(this,R.layout.activity_dealer_maps)\n    val mapFragment = supportFragmentManager\n            .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n}\n</code></pre>\n\n<p>in this case i use LocationCallback to get location.</p>\n\n<pre><code>private var mLocationCallback: LocationCallback = object : LocationCallback() {\n    override fun onLocationResult(locationResult: LocationResult?) {\n\n        for (location in locationResult!!.locations) {\n            Log.i(TAG, \"accuracy: \"+ location.accuracy + \" Location: \" +\n                    location.latitude + \" \" + location.longitude)\n            myLastLocation = location\n        }\n        SetMapMarker()\n        if(myLastLocation!!.accuracy &gt; 0) {\n            Log.i(TAG, \"set accuracy into text: \"+ myLastLocation!!.accuracy)\n            binding.vAccurate.text =\n                    \"Accurate to \"+myLastLocation!!.accuracy.toInt().toString()+ \" meters\"\n        }\n    }\n\n}\n</code></pre>\n\n<p>and here my code to set Map Marker.</p>\n\n<pre><code>fun SetMapMarker(){\n    Log.i(TAG, \"set marker\")\n    if(myMarker != null){\n        myMarker!!.remove()\n    }\n    val latlng = LatLng(myLastLocation!!.latitude, myLastLocation!!.longitude)\n    if(myMarker == null){\n        myMarker = mMap!!.addMarker(\n                MarkerOptions()\n                        .position(latlng)\n                        .icon(BitmapDescriptorFactory\n                                .defaultMarker(BitmapDescriptorFactory.HUE_BLUE))\n        )\n    }\n    myMarker!!.snippet = \"ok\"\n    myMarker!!.title = \"i'm here\"\n\n    val camera = CameraPosition\n            .builder()\n            .target(latlng)\n            .zoom(16.0F)\n            .build()\n    mMap!!.animateCamera(CameraUpdateFactory.newCameraPosition(camera))\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "delegation"], "answers": [{"comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508751515, "post_id": 46886105, "comment_id": 80719557, "body": "You finished the answer after I just finish my first two sentence. =p If you use <code>this::class</code> instead of v, the first one will be <code>AImpl</code> and the second one will be <code>B</code>"}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 0, "creation_date": 1508751709, "post_id": 46886105, "comment_id": 80719672, "body": "I&#39;m still unsure, If I understand it properly - I would have expected the delegation to be more inheritance-like. Could you elaborate on the second part regarding super a bit more?"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 7, "last_activity_date": 1508758386, "last_edit_date": 1508758386, "creation_date": 1508751303, "answer_id": 46886105, "question_id": 46885891, "link": "https://stackoverflow.com/questions/46885891/unexpected-behaviour-of-override-with-kotlin-class-delegation/46886105#46886105", "title": "unexpected behaviour of override with Kotlin class delegation", "body": "<p>This works as expected. </p>\n\n<blockquote>\n  <p>I expected that B(AImpl()).printV() would print B, however instead it\n  prints A, i.e. it uses the default implementation of AImpl.</p>\n</blockquote>\n\n<p>Always imagine class delegation, as you would redirect the call to the delegation class by yourself:</p>\n\n<pre><code>class B(private val a: A) : A {\n    override val v: String = \"B\"\n\n    override fun printV() {\n        a.printV()\n    }\n}\n</code></pre>\n\n<p>This makes clear, that a call to <code>printV</code> is just delegated to <code>a</code> and it doesn't really matter what the value of <code>v</code> is in the class <code>B</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Moreover, if I override the printV() Method in B using the super\n  implementation, i.e.\n  I now expected that B(AImpl()).printV() would print A, however this\n  time it prints B. This seems counterintuitive.</p>\n</blockquote>\n\n<p>Again, imagine how the delegation works internally:</p>\n\n<pre><code>class B(private val a: A) : A {\n    override val v: String = \"B\"\n\n    override fun printV() {\n        super.printV() // the super call than uses the overridden v\n    }\n}\n</code></pre>\n\n<p>This makes clear, that <code>a</code> is not longer involved and <code>printV</code> uses your local overridden variable.</p>\n\n<p><strong>Update 1 (elaboration on second part)</strong></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegation.html</a></p>\n\n<blockquote>\n  <p>The Delegation pattern has proven to be a good alternative to\n  implementation inheritance</p>\n</blockquote>\n\n<p>So you must not see delegation as inheritance. It is delegation (look up wikipedia for the delegation pattern)</p>\n\n<blockquote>\n  <p>... and the compiler will generate all the methods of Base that forward to b.</p>\n</blockquote>\n\n<p>So all the methods of your interface (<code>v</code>-property and <code>printV</code>) are just generated and forwarded to the delegation class.</p>\n\n<p>Here the code snippets of the class <code>B</code> and the decompiled code to see how it works internally:</p>\n\n<pre><code>class B(a: A) : A by a {\n    override val v: String = \"B\"\n}\nclass C(a: A) : A by a {\n    override val v: String = \"B\"\n    override fun printV() {\n        super.printV()\n    }\n}\n\npublic final class B implements A {\n  @NotNull\n  private final String v = \"B\";\n\n  public B(@NotNull A a) {\n    this.$$delegate_0 = a;\n    this.v = \"B\"; \n  } \n\n  @NotNull\n  public String getV() { return this.v; }\n\n  public void printV() {\n    this.$$delegate_0.printV();\n  }\n}\n\npublic final class C implements A {\n  @NotNull\n  private final String v = \"B\";\n\n  public C(@NotNull A a) {\n    this.$$delegate_0 = a;\n  }\n\n  @NotNull\n  public String getV() {\n    return this.v;\n  }\n\n  /*This more or less means super.printV() */\n  public void printV() { A.DefaultImpls.printV(this); }\n}\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 46886105, "answer_count": 1, "score": 4, "last_activity_date": 1508758386, "creation_date": 1508750629, "question_id": 46885891, "link": "https://stackoverflow.com/questions/46885891/unexpected-behaviour-of-override-with-kotlin-class-delegation", "title": "unexpected behaviour of override with Kotlin class delegation", "body": "<p>From what I understand, class delegation is supposed to </p>\n\n<blockquote>\n  <p>allow object composition to achieve the same code reuse as\n  inheritance. <a href=\"https://en.wikipedia.org/wiki/Delegation_pattern\" rel=\"nofollow noreferrer\">[wikipedia]</a></p>\n</blockquote>\n\n<p>Kotlin supports Class Delegation, and note the following statement form the <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>overrides work as you might expect: The compiler will use your\n  override implementations instead of those in the delegate object.</p>\n</blockquote>\n\n<p>With this in mind, consider the following minimal example:</p>\n\n<pre><code>interface A {\n  val v: String\n\n  fun printV() {\n    Logger.getLogger().info(Logger.APP, \"A\", v)\n  }\n}\n\nclass AImpl : A {\n  override val v = \"A\"\n}\n\nclass B(a: A) : A by a {\n  override val v: String = \"B\"\n}\n</code></pre>\n\n<p>I expected that <code>B(AImpl()).printV()</code> would print <code>B</code>, however instead it prints <code>A</code>, i.e. it uses the default implementation of <code>AImpl</code>.</p>\n\n<p>Moreover, if I override the <code>printV()</code> Method in B using the <code>super</code> implementation, i.e.</p>\n\n<pre><code>class B(a: A) : A by a {\n  override val v: String = \"B\"\n  override fun printV() {\n    super.printV()\n  }\n}\n</code></pre>\n\n<p>I now expected that <code>B(AImpl()).printV()</code> would print <code>A</code>, however this time it prints <code>B</code>.\nThis seems counterintuitive.</p>\n\n<p>Can you give a good explanation for this behavior?</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1508766646, "post_id": 46885555, "comment_id": 80729243, "body": "Anyone knows? :)"}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508768408, "post_id": 46885555, "comment_id": 80730465, "body": "provide output error."}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508768894, "post_id": 46885555, "comment_id": 80730829, "body": "I get an error in &quot;for (document in snapshot.documents)&quot;: unresolved reference documents"}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508769505, "post_id": 46885555, "comment_id": 80731249, "body": "Have you tried to call the original Java beans method <code>getDocuments()</code>?"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508769594, "post_id": 46885555, "comment_id": 80731320, "body": "I am using Kotlin. The equivalent for both get/set is what I have"}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508769760, "post_id": 46885555, "comment_id": 80731428, "body": "I know. but you can still use getter/setter methods. provide the error stacktrace for more information."}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508769892, "post_id": 46885555, "comment_id": 80731519, "body": "if I do that I get error on the get instead. (unresolved)"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "edited": false, "score": 0, "creation_date": 1508832387, "post_id": 46885555, "comment_id": 80757191, "body": "No one, really? :/"}], "owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508750944, "creation_date": 1508749545, "last_edit_date": 1508750944, "question_id": 46885555, "link": "https://stackoverflow.com/questions/46885555/firebase-firestore-cant-use-two-documents", "title": "Firebase-firestore can&#39;t use two documents", "body": "<p>So I'm starting to mess around with <code>firestore</code> and I'm having one problem:</p>\n\n<p>When I add a second document to my <code>collection</code>, the <code>spinner</code> I have stops loading the information and the <strong>app crashes</strong>.</p>\n\n<pre><code>db.collection(\"KitList\").get().addOnSuccessListener { snapshot -&gt;\n        for (document in snapshot.documents) {\n            val data = document.data\n            val skipRope = data[\"rope\"] as String\n\n            spinnerArray.add(skipRope)\n\n            val kettle = data[\"kettle\"] as ArrayList&lt;String&gt;\n            for (item in kettle) {\n                val kettleWeight = \"kettle $item\"\n                spinnerArray.add(kettleWeight)\n            }\n        }\n        spinnerArrayAdapter.notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>I know, most likely it is because on my code I'm only setting up the load to be from my collection, but I tried to do something like </p>\n\n<pre><code>`db.collection(\"KitList\").document(documentName).get().addOnSuccessListener { snapshot -&gt;` \n</code></pre>\n\n<p>but it didn't work.</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508750605, "post_id": 46885498, "comment_id": 80718965, "body": "Hey akarnokd, thank you for your answer. What interested me was the reason (I want to understand the internal mechanics hehe). I know that it would be easier to just use <code>Flowable.generate</code> but if I understand correctly, that way would effectively behave similar to a <code>BUFFER</code> strategy? I wish to be able to choose the strategy (maybe <code>DROP</code>, maybe no backpressure at all) when I subscribe. Is this approach correct?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508750903, "post_id": 46885498, "comment_id": 80719145, "body": "<code>Flowable.generate</code> will emit based on demand and not buffer or lose anything. You can apply one of the <code>onBackpressureXXX</code> operators to get a different behavior."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 5, "last_activity_date": 1508749343, "creation_date": 1508749343, "answer_id": 46885498, "question_id": 46885324, "link": "https://stackoverflow.com/questions/46885324/converting-an-observable-to-a-flowable-with-backpressure-in-rxjava2/46885498#46885498", "title": "Converting an Observable to a Flowable with backpressure in RxJava2", "body": "<p>First of all, you are using the wrong type and wrong operator. Using <code>Flowable</code> removes the need for conversion. Using <code>Flowable.generate</code> gets you backpressure:</p>\n\n<pre><code>Flowable.generate(emitter -&gt; {\n    String line = resource.readLine();\n    if (line == null) {\n        emitter.onComplete();\n    } else {\n        emitter.onNext(line);\n    }\n});\n</code></pre>\n\n<p>Second, the reason your version hangs is due to a same pool deadlock caused by <code>subscribeOn</code>. Requests from downstream are scheduled behind your eager emission loop and can not take effect, stopping the emission at the default 128 elements. Use <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Flowable.html#subscribeOn-io.reactivex.Scheduler-boolean-\" rel=\"noreferrer\"><code>Flowable.subscribeOn(scheduler, false)</code></a> to avoid this case.</p>\n"}], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3755, "favorite_count": 0, "accepted_answer_id": 46885498, "answer_count": 1, "score": 1, "last_activity_date": 1508749343, "creation_date": 1508748755, "question_id": 46885324, "link": "https://stackoverflow.com/questions/46885324/converting-an-observable-to-a-flowable-with-backpressure-in-rxjava2", "title": "Converting an Observable to a Flowable with backpressure in RxJava2", "body": "<p>I am observing the lines produced by a <code>NetworkResource</code>, wrapping it in an <code>Observable.create</code>. Here is the code, missing try/catch and cancellation for simplicity:</p>\n\n<pre><code>fun linesOf(resource: NetworkResource): Observable&lt;String&gt; =\n        Observable.create { emitter -&gt;\n            while (!emitter.isDisposed) {\n                val line = resource.readLine()\n                Log.i(TAG, \"Emitting: $line\")\n                emitter.onNext(line)\n            }\n        }\n</code></pre>\n\n<p>The problem is that later I want to turn it into a <code>Flowable</code> using <code>observable.toFlowable(LATEST)</code> to add backpressure in case my consumer can't keep up, but depending on how I do it, the consumer stops receiving items after item 128.</p>\n\n<p><strong>A)</strong> this way everything works:</p>\n\n<pre><code>val resource = ...\nlinesOf(resource)\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .toFlowable(BackpressureStrategy.LATEST)\n    .subscribe { Log.i(TAG, \"Consuming: $it\") }\n</code></pre>\n\n<p><strong>B)</strong> here the consumer gets stuck after 128 items (but the emitting continues):</p>\n\n<pre><code>val resource = ...\nlinesOf(resource)\n    .toFlowable(BackpressureStrategy.LATEST)\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe { Log.i(TAG, \"Consuming: $it\") } // &lt;-- stops after 128\n</code></pre>\n\n<p>In option <strong>A)</strong> everything works without any issues, and I can see the <code>Emitting: ...</code> log side by side with the <code>Consuming: ...</code> log.</p>\n\n<p>In option <strong>B)</strong> I can see the <code>Emitting: ...</code> log message happily emitting new lines, but I stop seeing the <code>Consuming: ...</code> log message after item 128, even though the emitting continues.</p>\n\n<p><strong>Question</strong>: Can someone help me understand why this happens?</p>\n"}, {"tags": ["function", "generics", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 1391572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afa3d49b26a8c4f6aa72750a3ac447e?s=128&d=identicon&r=PG", "display_name": "tobiasH", "link": "https://stackoverflow.com/users/1391572/tobiash"}, "edited": false, "score": 0, "creation_date": 1508749810, "post_id": 46885388, "comment_id": 80718449, "body": "The same problem as with @RobCo &#39;s answer applies here - I basically want to return a function equivalent to <code>fun &lt;T: Any&gt; (String, KClass&lt;T&gt;) -&gt; T</code>, except I can&#39;t specify that as a return type."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 341, "user_id": 1391572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afa3d49b26a8c4f6aa72750a3ac447e?s=128&d=identicon&r=PG", "display_name": "tobiasH", "link": "https://stackoverflow.com/users/1391572/tobiash"}, "edited": false, "score": 0, "creation_date": 1508750072, "post_id": 46885388, "comment_id": 80718626, "body": "How would you implement a generic function like this? You&#39;d have to store it in a variable which holds the non-generic information. You&#39;d have to cast it from there anyway. Maybe extend a little on what you actually want to achieve."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1508749011, "creation_date": 1508749011, "answer_id": 46885388, "question_id": 46885015, "link": "https://stackoverflow.com/questions/46885015/kotlin-generic-function-as-return-type/46885388#46885388", "title": "Kotlin: Generic function as return type?", "body": "<p>You're doing it almost correctly. You only need to define the generic part at the <code>prefixer</code> function directly.</p>\n\n<pre><code>fun &lt;T: Any&gt; prefixer(prefix: String): (String, KClass&lt;T&gt;) -&gt; T { TODO() }\n</code></pre>\n\n<p>Depending on you actual implementation, you could have a look at the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code></a> keyword.</p>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 1391572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afa3d49b26a8c4f6aa72750a3ac447e?s=128&d=identicon&r=PG", "display_name": "tobiasH", "link": "https://stackoverflow.com/users/1391572/tobiash"}, "edited": false, "score": 0, "creation_date": 1508749606, "post_id": 46885392, "comment_id": 80718340, "body": "But then the returned function is not generic, it is fixed to whatever <code>T</code> is at the call to <code>prefixer</code>."}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 2, "last_activity_date": 1508749018, "creation_date": 1508749018, "answer_id": 46885392, "question_id": 46885015, "link": "https://stackoverflow.com/questions/46885015/kotlin-generic-function-as-return-type/46885392#46885392", "title": "Kotlin: Generic function as return type?", "body": "<p>The following line does compile:</p>\n\n<pre><code>fun &lt;T : Any&gt; prefixer(prefix: String): (String, KClass&lt;T&gt;) -&gt; T = TODO()\n</code></pre>\n\n<p>First, the generic deceleration should be right after the fun keyword.  </p>\n\n<p>Then it has has to be declared as type Any. The default is Any? but KClass only takes Any.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1508769954, "creation_date": 1508769954, "answer_id": 46892225, "question_id": 46885015, "link": "https://stackoverflow.com/questions/46885015/kotlin-generic-function-as-return-type/46892225#46892225", "title": "Kotlin: Generic function as return type?", "body": "<p>No, it isn't possible (as far as I know). The technical term for such a type is \"higher-kinded type\" and very few languages support them, on JVM I only know of Scala.</p>\n\n<p>If someone asked me the same question without having an interface like <code>Factory</code>, I'd suggest creating exactly this interface as a workaround.</p>\n"}, {"tags": [], "owner": {"reputation": 2213, "user_id": 840714, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b03266eb0b2d980e14d514943903e98f?s=128&d=identicon&r=PG", "display_name": "Druckles", "link": "https://stackoverflow.com/users/840714/druckles"}, "is_accepted": false, "score": 1, "last_activity_date": 1577028850, "creation_date": 1577028850, "answer_id": 59445593, "question_id": 46885015, "link": "https://stackoverflow.com/questions/46885015/kotlin-generic-function-as-return-type/59445593#59445593", "title": "Kotlin: Generic function as return type?", "body": "<p>Although I was disappointed to read @Alexey's answer, I found a more streamlined workaround taking advantage of Kotlin's operators. The following makes it look more like a lambda when used:</p>\n\n<pre><code>private class Prefixer(private val: String) {\n    operator fun &lt;T&gt; invoke(name: String, type: Class&lt;T&gt;): T {\n        TODO()\n    }\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<pre><code>val createMy = Prefixer(\"MyPrefix\")\nval result = createMy(\"Configuration\", Configuration::class.java)\n</code></pre>\n\n<p>Feel free to replace with <code>KClass</code> where necessary. I was actually using this for a slightly different purpose.</p>\n"}], "owner": {"reputation": 341, "user_id": 1391572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afa3d49b26a8c4f6aa72750a3ac447e?s=128&d=identicon&r=PG", "display_name": "tobiasH", "link": "https://stackoverflow.com/users/1391572/tobiash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3058, "favorite_count": 0, "accepted_answer_id": 46892225, "answer_count": 4, "score": 1, "last_activity_date": 1577028850, "creation_date": 1508747658, "last_edit_date": 1508762423, "question_id": 46885015, "link": "https://stackoverflow.com/questions/46885015/kotlin-generic-function-as-return-type", "title": "Kotlin: Generic function as return type?", "body": "<p>In Kotlin, is it possible to declare a generic function type as the return type of a function?</p>\n\n<p>What I want to achieve would look like this in Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Factory {\n\n    static Factory INSTANCE = new FactoryImpl();\n\n    &lt;T&gt; T create(String name, Class&lt;T&gt; type);\n\n}\n\nclass PrefixedFactory implements Factory {\n    private final String prefix;\n\n    PrefixedFactory(String prefix) {\n        this.prefix = prefix;\n    }\n\n    @Override\n    public &lt;T&gt; T create(String name, Class&lt;T&gt; type) {\n        return Factory.INSTANCE.create(prefix + name, type);\n    }\n}\n</code></pre>\n\n<p>(Note that in the example I access the Factory instance using the static field to avoid passing a generic function as a parameter, which would present its own problems in Kotlin).\nI would like convert the prefixer to a kotlin function, but it seems to be impossible to declare a generic function as the return type:</p>\n\n\n\n<pre><code>fun prefixer(prefix: String): &lt;T&gt; (String, KClass&lt;T&gt;) -&gt; T { TODO() }\n</code></pre>\n\n<p>This of course does not compile. It seems to me that this is a limitation compared to Java's functional interfaces. Is there a way to accomplish this, or a workaround?</p>\n\n<h2>(Edit) Clarification</h2>\n\n<p>I want the actual result function to be generic. If I do</p>\n\n<pre><code>fun &lt;T: Any&gt; prefixer(prefix: String): (String, KClass&lt;T&gt;) -&gt; T { TODO() }\n</code></pre>\n\n<p>as the current answers suggest; I don't get a generic function, instead I get <code>(String, KClass&lt;Foo&gt;) -&gt; Foo</code> if I call <code>prefixer&lt;Foo&gt;(\"\")</code>. So that function can only be called with <code>Foo</code>, while the factory function <code>prefixer</code> in that case is generic, the result is not. I hope that clears up the misunderstandings.</p>\n\n<p>My use case is in a Gradle plugin, where I wrote a helper method similar to this one that applies some defaults to each task created:</p>\n\n<pre><code>val myPrefix = \"...\"\nval project: Project = &lt;from context&gt;\nfun &lt;T: Task&gt; String.task(type: KClass&lt;T&gt;, doConfig: T.() -&gt; Unit) {\n  project.tasks.create(\"$prefix$this\", type.java, { it.doConfig() })\n}\n</code></pre>\n\n<p>Note that the project comes in as closure. Now I want to reuse that helper in a different plugin, so I would like to create this function using a factory for different project instances.</p>\n"}, {"tags": ["android", "sockets", "bluetooth", "kotlin"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1508745802, "post_id": 46884390, "comment_id": 80716233, "body": "Seems like peer has closed connection, try to reconnect"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1508746332, "post_id": 46884390, "comment_id": 80716498, "body": "@Stanislav I have tried this repeatedly and always get the same result. What do you mean reconnect? Like call creatBond again?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1508782074, "post_id": 46884390, "comment_id": 80738615, "body": "@Stanislav any idea what could be causing the connection to close early? Any noticeable problem with my code?"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508745926, "creation_date": 1508745254, "last_edit_date": 1508745926, "question_id": 46884390, "link": "https://stackoverflow.com/questions/46884390/bt-socket-closed-exception", "title": "Bt Socket closed exception", "body": "<p>I am building an app that is supposed to send a file over a Bluetooth socket but for some reason i keep getting the same Exception. The error message says that the socket is already closed but i don't understand how or why it is getting closed before i attempt to read from it. The user is presented with an AlertDialog with options to choose from. they are supposed to: 1. Pair to a device. 2. send file to device (currently labeled 'connect' in dialog). The exception occurs after the devices are paired, when the connect option is selected. when the receiving device attempts to read from socket i get this exception: </p>\n\n<pre><code>Process: com.example.zemcd.toofxchange, PID: 1074\n      java.io.IOException: bt socket closed, read return: -1\n      at android.bluetooth.BluetoothSocket.read(BluetoothSocket.java:588)\n      at android.bluetooth.BluetoothInputStream.read(BluetoothInputStream.java:96)\n      at java.io.BufferedInputStream.read1(BufferedInputStream.java:273)\n      at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\n      at java.io.FilterInputStream.read(FilterInputStream.java:107)\n      at kotlin.io.ByteStreamsKt.copyTo(IOStreams.kt:101)\n      at kotlin.io.ByteStreamsKt.copyTo$default(IOStreams.kt:98)\n      at kotlin.io.ByteStreamsKt.readBytes(IOStreams.kt:117)\n      at com.example.zemcd.toofxchange.BluetoothUtils$Companion.receiveFile(BluetoothUtils.kt:82)\n      at com.example.zemcd.toofxchange.ListenThread$run$acceptThread$1.run(BluetoothUtils.kt:104)\n      at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n\n<p>below are the functions used for pair, unpair, and connect (to send data) along with the threads subclasses that used:</p>\n\n<pre><code>class BluetoothUtils {\n\ncompanion object {\n\n    var listener: ListenThread? = null\n\n    val _UUID = UUID.fromString(\"a0e7e4c7-0e4e-43b7-9d18-659192512164\")\n    val TAG = \"BluetoothUtils\"\n\n    val receiver = MainBTStatusReceiver()\n\n    fun initPairingServer(adapter: BluetoothAdapter){\n        var mmServerSocket: BluetoothServerSocket?\n        try {\n            var tmp = adapter.listenUsingRfcommWithServiceRecord(TAG, _UUID)\n            mmServerSocket = tmp\n            listener = ListenThread(mmServerSocket)\n            listener!!.start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error initializing Bluetooth\", ioe)\n        }\n    }\n\n    fun cancelListener() = listener!!.cancel()\n\n    fun connect(adapter: BluetoothAdapter, device: BluetoothDevice):Unit{\n        var btSocket: BluetoothSocket?\n        Log.d(TAG, \"connect function called\")\n        if (device.bondState==BluetoothDevice.BOND_NONE)return //to prompt user to pair\n        try {\n            adapter.cancelDiscovery()\n            btSocket = device.createRfcommSocketToServiceRecord(_UUID)\n            ConnectThread(btSocket).start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"error connecting\", ioe)\n        }\n    }\n\n    fun startPair(adapter: BluetoothAdapter, device: BluetoothDevice): Unit{\n        adapter.cancelDiscovery()\n        Log.d(TAG, device.bondState.toString())\n        device.createBond()\n    }\n\n    fun unPair(device: BluetoothDevice): Any = device::class.java.getMethod(\"removeBond\").invoke(device)\n\n    fun sendFile(btSocket: BluetoothSocket){\n        val out = btSocket.outputStream.buffered()\n        out.use {\n            val msg = \"hello\".toByteArray()\n            Log.d(TAG, \"sending data\")\n            it.write(msg, 0, msg.size)\n            it.flush()\n        }\n        btSocket.close()\n    }\n\n    fun receiveFile(btSocket: BluetoothSocket){\n        Log.d(TAG, \"receiveFile called\")\n        val inStream = btSocket.inputStream.buffered()\n        //val bytes: ByteArray = ByteArray(1024)\n        val bytes: ByteArray = inStream.use { it.readBytes(1024)}\n        Log.d(TAG, bytes.toString())\n        btSocket.close()\n    }\n\n}\n}\n\nclass ListenThread(val btServSock: BluetoothServerSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"ListenThread\"\n}\n\nvar btSocket: BluetoothSocket? = null\n\noverride fun run() {\n    super.run()\n    while (true){\n        try {\n            Log.d(TAG, \"listening . . . \")\n            btSocket = btServSock.accept()\n            Log.d(TAG, btSocket.toString() + \" was accepted\")\n            val acceptThread = Thread(Runnable { BluetoothUtils.receiveFile(btSocket!!) })\n            acceptThread.start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error\", ioe)\n            break\n        }\n    }\n}\n\nfun cancel() = btServSock.close()\n}\n\nclass ConnectThread(val btSocket: BluetoothSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"Pairing Thread\"\n}\n\noverride fun run() {\n    super.run()\n\n    try {\n        Log.d(TAG, \"attempting to connect\")\n        btSocket.connect()\n        BluetoothUtils.sendFile(btSocket)\n    }catch (ioe: IOException){\n        Log.e(TAG, \"error connecting\", ioe)\n        btSocket.close()\n    }\n}\n}\n</code></pre>\n\n<p>and they are called like this inside of OnClickListener:</p>\n\n<pre><code>ops.forEach { it.setOnClickListener {\n                Toast.makeText(it.context, it.id.toString(), Toast.LENGTH_SHORT).show()\n                when(it.id){\n                    R.id.statOp -&gt; {}\n                    R.id.connectOp -&gt; {\n                        Log.d(TAG, \"connectOp reached\")\n                        BluetoothUtils.connect(BluetoothAdapter.getDefaultAdapter(), btDevice)\n                        dialog!!.dismiss()\n                    }\n                    R.id.pairOp -&gt; {\n                        Log.d(TAG, \"pairOp reached\")\n                        mReceiver.setFocus(this@DeviceHolder)\n                        BluetoothUtils.startPair(BluetoothAdapter.getDefaultAdapter(), btDevice)\n                        Log.d(TAG, \"start pair complete\")\n                        dialog!!.dismiss()\n                    }\n                    R.id.unPairOp -&gt; {\n                        Log.d(TAG, \"unPairOp reached\")\n                        mReceiver.setFocus(this@DeviceHolder)\n                        BluetoothUtils.unPair(btDevice)\n                        Log.d(TAG, \"unpair complete\")\n                        dialog!!.dismiss()\n                    }\n                    R.id.sendOp -&gt; {}\n                }\n            } }\n</code></pre>\n\n<p>and here is my with resources function:</p>\n\n<pre><code>inline fun &lt;T: AutoCloseable, U&gt; withResources(resource: T, fn: (T) -&gt; U) : U{\ntry {\n    return fn(resource)\n}finally {\n    resource.close()\n}\n}\n</code></pre>\n\n<p>please help me find my mistake. if other pieces of my code are needed let me know and i will post them. thank you for your help.</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 7398901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GJN_RiTMB2A/AAAAAAAAAAI/AAAAAAAAAD0/jdCrp4KN3gM/photo.jpg?sz=128", "display_name": "Jack Zhu", "link": "https://stackoverflow.com/users/7398901/jack-zhu"}, "is_accepted": true, "score": 8, "last_activity_date": 1508748418, "creation_date": 1508748418, "answer_id": 46885217, "question_id": 46884149, "link": "https://stackoverflow.com/questions/46884149/cant-compile-project-using-gradle-and-kotlin/46885217#46885217", "title": "Can&#39;t compile project using Gradle and Kotlin", "body": "<p>I came across the same issue.\nUse gradle 3.4(+) will solve it for me.</p>\n"}], "owner": {"reputation": 11547, "user_id": 811071, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e2b815d9b4865455e6143abada764cd?s=128&d=identicon&r=PG", "display_name": "piotrpo", "link": "https://stackoverflow.com/users/811071/piotrpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4582, "favorite_count": 0, "accepted_answer_id": 46885217, "answer_count": 1, "score": 5, "last_activity_date": 1508749705, "creation_date": 1508744333, "last_edit_date": 1508749705, "question_id": 46884149, "link": "https://stackoverflow.com/questions/46884149/cant-compile-project-using-gradle-and-kotlin", "title": "Can&#39;t compile project using Gradle and Kotlin", "body": "<p>After bumping up kotlin-gradle-plugin from 1.1.4-3 to 1.1.50 (or 51), as well as all Kotlin related libraries I got error like below when trying to import gradle files:</p>\n\n<pre><code>Unable to build Kotlin project configuration\nDetails: java.lang.reflect.InvocationTargetException: null\nCaused by: java.lang.NoSuchMethodError: kotlin.reflect.jvm.internal.KClassImpl.getData()Lkotlin/reflect/jvm/internal/ReflectProperties$LazyVal;\n</code></pre>\n\n<p>Compilation works fine when using older version of plugin (1.1.4-3).</p>\n\n<p>Full gradle file:</p>\n\n<pre><code>apply plugin: 'war'\napply plugin: 'com.google.cloud.tools.appengine'\napply plugin: 'kotlin'\napply plugin: 'kotlin-kapt'\napply plugin: \"net.ltgt.apt\"\napply plugin: 'idea'\napply plugin: 'org.jetbrains.dokka'\n\n\n\n\ndef daggerVersion = \"2.11\"\n\nsourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath \"org.jetbrains.dokka:dokka-gradle-plugin:0.9.9\"\n        classpath 'com.google.cloud.tools:appengine-gradle-plugin:1.3.2'\n        classpath \"net.ltgt.gradle:gradle-apt-plugin:0.3\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n\ndependencies {\n    compile \"com.google.appengine:appengine-api-1.0-sdk:${appengineVersion}\"\n    compile \"com.google.appengine:appengine-endpoints-deps:${appengineVersion}\"\n\n    compile \"com.google.dagger:dagger:${daggerVersion}\"\n\n    compile 'com.google.endpoints:endpoints-framework:2.0.5'\n    compile project(':backend')\n\n    kapt \"com.google.dagger:dagger-compiler:${daggerVersion}\"\n    apt \"com.google.dagger:dagger-compiler:${daggerVersion}\"\n\n    testCompile 'junit:junit:4.12'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    compile \"com.google.code.gson:gson:2.8.2\"\n\n    compile 'org.thymeleaf:thymeleaf:3.0.7.RELEASE'\n\n    compile 'com.warrenstrange:googleauth:1.1.2'\n    compile 'org.mindrot:jbcrypt:0.4'\n\n    testCompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    testCompile \"org.mockito:mockito-core:2.+\"\n\n    testCompile \"com.google.appengine:appengine-api-labs:${appengineVersion}\"\n    testCompile \"com.google.appengine:appengine-api-stubs:${appengineVersion}\"\n    testCompile \"com.google.appengine:appengine-tools-sdk:${appengineVersion}\"\n    testCompile \"com.google.appengine:appengine-testing:${appengineVersion}\"\n}\nappengine {\n    stage {\n        enableJarClasses = true\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\ncompileKotlin{\n    kotlinOptions{\n        jvmTarget = 1.8\n    }\n}\n\ndokka {\n    outputFormat = 'html'\n    outputDirectory = file(\"${buildDir}/javadoc\")\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/java'\n    main.java.srcDirs += 'build/generated/source/kapt/main'\n    main.kotlin.srcDirs += 'src/main/kotlin'\n}\n\nidea {\n    module {\n        sourceDirs += file(\"./build/generated/source/kapt/main\")\n        excludeDirs -= file(\"$buildDir\")\n        excludeDirs += file(\"$buildDir/dependency-cache\")\n        excludeDirs += file(\"$buildDir/libs\")\n        excludeDirs += file(\"$buildDir/tmp\")\n    }\n}\n</code></pre>\n\n<p><strong><em>EDIT - SOLUTION</em></strong></p>\n\n<p>Just to elaborate Jack's answer: \nI had to locate gradle-wrapper.properties and change the distribution url to:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.2.1-all.zip\n</code></pre>\n"}, {"tags": ["multithreading", "kotlin", "javafx-8", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 2123, "user_id": 1937994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7d764c416ec8923d5a2bd3863889dbbd?s=128&d=identicon&r=PG", "display_name": "gronostaj", "link": "https://stackoverflow.com/users/1937994/gronostaj"}, "edited": false, "score": 0, "creation_date": 1508789192, "post_id": 46892905, "comment_id": 80742414, "body": "Thank you! I like your approach, it&#39;s concise, readable and works as expected."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 2123, "user_id": 1937994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7d764c416ec8923d5a2bd3863889dbbd?s=128&d=identicon&r=PG", "display_name": "gronostaj", "link": "https://stackoverflow.com/users/1937994/gronostaj"}, "edited": false, "score": 1, "creation_date": 1508830594, "post_id": 46892905, "comment_id": 80756125, "body": "Happy to hear that :))"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1508771891, "creation_date": 1508771891, "answer_id": 46892905, "question_id": 46884079, "link": "https://stackoverflow.com/questions/46884079/label-text-isnt-updating-even-though-ui-thread-seems-to-be-responsive/46892905#46892905", "title": "Label text isn&#39;t updating even though UI thread seems to be responsive", "body": "<p>Your code isn't runnable, but I created a minimal sample based on these concepts, using a more idiomatic approach. </p>\n\n<pre><code>class MainView : View(\"Tasks\") {\n    private val mainController: MainController by inject()\n\n    override val root = borderpane {\n        setPrefSize(600.0, 400.0)\n        top {\n            button(\"Start task\").action {\n                mainController.reloadTranslations()\n            }\n        }\n        bottom(TasksView::class)\n    }\n}\n\nclass MainController : Controller() {\n    private val tasksController: TasksController by inject()\n\n    fun reloadTranslations(): TaskStatus {\n        val task = TaskStatus()\n        tasksController.tasks.add(task)\n        runAsync(task) {\n            updateMessage(messages[\"loadingTranslations\"] + \" $this...\")\n            Thread.sleep(Random().nextInt(2000).toLong())\n            updateMessage(messages[\"loadingTranslations\"] + \" $this - half way\")\n            updateProgress(50.0, 100.0)\n            Thread.sleep(Random().nextInt(2000).toLong())\n        }\n        return task\n    }\n}\n\nclass TasksView : View() {\n    val controller: TasksController by inject()\n\n    override val root = vbox {\n        bindChildren(controller.tasks) { task -&gt;\n            hbox {\n                progressbar(task.progress)\n                label(task.message)\n            }\n        }\n    }\n}\n\nclass TasksController : Controller() {\n    val tasks: ObservableList&lt;TaskStatus&gt; = FXCollections.observableArrayList()\n\n    init {\n        tasks.onChange { change -&gt;\n            change.next()\n            change.addedSubList.forEach { added -&gt;\n                added.completed.onChangeOnce {\n                    tasks.remove(added)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This can also be done with less fanfare, but I don't know the complexity or requirements of your app, so I changed it as little as possible :)</p>\n"}], "owner": {"reputation": 2123, "user_id": 1937994, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7d764c416ec8923d5a2bd3863889dbbd?s=128&d=identicon&r=PG", "display_name": "gronostaj", "link": "https://stackoverflow.com/users/1937994/gronostaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 46892905, "answer_count": 1, "score": 1, "last_activity_date": 1508771891, "creation_date": 1508744114, "question_id": 46884079, "link": "https://stackoverflow.com/questions/46884079/label-text-isnt-updating-even-though-ui-thread-seems-to-be-responsive", "title": "Label text isn&#39;t updating even though UI thread seems to be responsive", "body": "<p>I'm building an application with TornadoFX 1.7.11 using Kotlin 1.1.51 on JDK 8u121.</p>\n\n<p>I'm trying to execute a long-running task in a separate thread and show progress in the UI using a progressbar and a label. Strangely, the label isn't updating. I thought that maybe I somehow ran the task on UI thread and it's stuck, but the progressbar works and UI is otherwise responsive (controls work etc.).</p>\n\n<p><a href=\"https://i.stack.imgur.com/vCAxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vCAxA.png\" alt=\"Screenshot with progressbar half-filled and console messages showing that message is updated. A red arrow is pointing to a place where label should be, but no text is visible there.\"></a></p>\n\n<p>I've also tried to manually edit the label with ScenicView and it worked. I'm out of ideas, can you guys help?</p>\n\n<p>Here are somewhat simplified code snippets:</p>\n\nMainView.kt\n\n<pre><code>class MainView : View(\"\") {\n    private val controller: MainController by inject()\n\n    override val root = borderpane {\n        bottom(TasksView::class)\n    }\n\n    init {\n        controller.reloadTranslations().completed.onChange {\n            // do some lightweight UI stuff\n        }\n    }\n}\n</code></pre>\n\nMainController.kt\n\n<pre><code>class MainController : Controller() {\n    private val tasksController: TasksController by inject()\n\n    fun reloadTranslations(): TaskStatus {\n        val task = TaskStatus()\n        tasksController.tasks.add(task)\n        runAsync(task) {\n            updateMessage(messages[\"loadingTranslations\"])\n            BibxCache.rebuild().subscribe {\n                updateMessage(messages[\"loadingTranslations\"] + \" \" + it.loaded)  // for debugging\n                updateProgress(it.loaded.toLong(), it.total.toLong())\n            }\n        }\n        return task\n    }\n\n    fun getTranslations() = BibxCache.values.toSortedSet()\n}\n</code></pre>\n\nTasksView.kt\n\n<pre><code>class TasksView : View() {\n    override val root = vbox()\n\n    val controller: TasksController by inject()\n\n    init {\n        controller.tasks.onChange {\n            root.clear()\n            controller.tasks.map { TaskRow(it) }.forEach { root.add(it) }\n        }\n    }\n}\n\nclass TaskRow(task: TaskStatus) : HBox() {\n    init {\n        val progressBar = ProgressBar(task.progress.get())\n        progressBar.bind(task.progress)\n        val label = Label(task.message.get())\n        label.bind(task.message)\n        task.message.onChange { println(it) }  // for debugging\n        children.addAll(\n                progressBar,\n                Label(task.message.get())\n        )\n    }\n}\n</code></pre>\n\nTasksController.kt\n\n<pre><code>class TasksController : Controller() {\n    val tasks: ObservableList&lt;TaskStatus&gt; = FXCollections.observableArrayList()\n\n    init {\n        tasks.onChange { change -&gt;\n            change.next()\n            change.addedSubList.forEach { added -&gt;\n                added.completed.onChange {\n                    tasks.remove(added)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1508743173, "post_id": 46883432, "comment_id": 80714915, "body": "Do you need to explicitly expose this dependency to consuming modules?  You can use <code>implementation</code> for this."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1508744126, "post_id": 46883432, "comment_id": 80715449, "body": "Ya, I agree the above I could use implementation. I do have api need for other library, the above is just example."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 7, "last_activity_date": 1508743541, "creation_date": 1508743541, "answer_id": 46883931, "question_id": 46883432, "link": "https://stackoverflow.com/questions/46883432/plain-kotlin-module-in-android-studio-3-0-api-is-not-supported/46883931#46883931", "title": "Plain Kotlin module in Android Studio 3.0, `api` is not supported?", "body": "<p><code>compile</code> isn't deprecated in Gradle, but only in specific plugins, namely Android and <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"noreferrer\">Java Library</a> plugins. The standard <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"noreferrer\">Java</a> plugin hasn't made this change. Neither has the Kotlin plugin, yet. It probably will eventually (possibly after the issues described in the Java Library documentation will be solved).</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "accepted_answer_id": 46883931, "answer_count": 1, "score": 5, "last_activity_date": 1508743541, "creation_date": 1508741430, "question_id": 46883432, "link": "https://stackoverflow.com/questions/46883432/plain-kotlin-module-in-android-studio-3-0-api-is-not-supported", "title": "Plain Kotlin module in Android Studio 3.0, `api` is not supported?", "body": "<p>Started in Gradle plugin 3.0 (Android Studio 3.0), the <code>compile</code> command has been replaced with <code>api</code> and <code>implementation</code>. It is explained here <a href=\"https://blog.mindorks.com/implementation-vs-api-in-gradle-3-0-494c817a6fa\" rel=\"noreferrer\">https://blog.mindorks.com/implementation-vs-api-in-gradle-3-0-494c817a6fa</a></p>\n\n<p>However, for a pure Kotlin module as below, I can't use <code>api</code>. i.e. the below code will have error when I perform a sync</p>\n\n<pre><code>apply plugin: 'kotlin'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    api \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>The error is</p>\n\n<pre><code>Could not find method api() for arguments [org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-4] \non object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler. Open File`\n</code></pre>\n\n<p>I have to use the 'deprecated' <code>compile</code> instead.</p>\n\n<p>Why isn't <code>api</code> supported when in a pure <code>kotlin</code> module?</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0", "kotlin-extension"], "comments": [{"owner": {"reputation": 5947, "user_id": 1276636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5pipn.jpg?s=128&g=1", "display_name": "Sufian", "link": "https://stackoverflow.com/users/1276636/sufian"}, "edited": false, "score": 1, "creation_date": 1508736665, "post_id": 46882421, "comment_id": 80712164, "body": "Because it doesn&#39;t know that <code>userNameField</code> is an <code>EditText</code>."}, {"owner": {"reputation": 1445, "user_id": 3925552, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/958a4e2ad31e6f7f611ae08786eafb5b?s=128&d=identicon&r=PG", "display_name": "HassanUsman", "link": "https://stackoverflow.com/users/3925552/hassanusman"}, "edited": false, "score": 1, "creation_date": 1508736785, "post_id": 46882421, "comment_id": 80712206, "body": "Show your <code>onCreate</code> method"}, {"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1508739691, "post_id": 46882421, "comment_id": 80713269, "body": "Which kotlin version you are using?"}, {"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1508741439, "post_id": 46882421, "comment_id": 80714027, "body": "Check <a href=\"https://github.com/gradle/kotlin-dsl/issues/377\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/issues/377</a> . It may helps you."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1508744519, "post_id": 46882421, "comment_id": 80715613, "body": "The view is called <code>userNameTextField</code> but you are using <code>userNameField</code>."}, {"owner": {"reputation": 693, "user_id": 1184205, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e6b2beef26cb5ee7d5287fa8d804a7b4?s=128&d=identicon&r=PG", "display_name": "user1184205", "link": "https://stackoverflow.com/users/1184205/user1184205"}, "reply_to_user": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1508772451, "post_id": 46882421, "comment_id": 80733286, "body": "@RobCo Thanks for the catch, unfortunately this was an error in copying into stackoverflow and not an error in my actual code."}, {"owner": {"reputation": 693, "user_id": 1184205, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e6b2beef26cb5ee7d5287fa8d804a7b4?s=128&d=identicon&r=PG", "display_name": "user1184205", "link": "https://stackoverflow.com/users/1184205/user1184205"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1508773132, "post_id": 46882421, "comment_id": 80733722, "body": "@pRaNaY. Version: 1.1.51-release-Studio3.0-1"}], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": true, "score": 3, "last_activity_date": 1508787848, "creation_date": 1508787848, "answer_id": 46897296, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin/46897296#46897296", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>In the onCreateView just return the inflated view.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\nreturn inflater!!.inflate(R.layout.fragment_sign_in, container, false)\n\n}\n</code></pre>\n\n<p>In the onViewCreated you can access your view components</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        userNameField.setText(\"hello world\")\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 6371885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B9zDSSWOb4M/AAAAAAAAAAI/AAAAAAAAALw/mxrjifiabnE/photo.jpg?sz=128", "display_name": "Kushal Desai", "link": "https://stackoverflow.com/users/6371885/kushal-desai"}, "is_accepted": false, "score": 0, "last_activity_date": 1544454434, "creation_date": 1544454434, "answer_id": 53708396, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin/53708396#53708396", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>I faced a similar problem.</p>\n\n<p>I had a private function. I'd also imported the kotlinx library. But I was not able to access the editText from that function.</p>\n\n<p>I just removed the function and defined it again.</p>\n\n<p>Voila! It worked.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 14472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcfa153b8048ab9e9e49944fd6bdaaa?s=128&d=identicon&r=PG&f=1", "display_name": "Dirk H&#246;nisch", "link": "https://stackoverflow.com/users/14472976/dirk-h%c3%b6nisch"}, "is_accepted": false, "score": 3, "last_activity_date": 1604236223, "creation_date": 1604236223, "answer_id": 64632259, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin/64632259#64632259", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>I was brought here by searching for the same issue. I missed to add the kotlin-android-extensions to the build.gradle:</p>\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14704851, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/248a6a99bec49c7faa6763cb43ed04dd?s=128&d=identicon&r=PG", "display_name": "user14704851", "link": "https://stackoverflow.com/users/14704851/user14704851"}, "is_accepted": false, "score": 2, "last_activity_date": 1606292191, "creation_date": 1606292191, "answer_id": 65000793, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin/65000793#65000793", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>Was unable to access the ui components like OP faced looks like below was needed inside app gradle:</p>\n<pre><code>plugins {\n    ...\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n<p>Even though after adding this line android studio was still not able to auto resolve the imports for kotlin synthetics so you may need to invalidate cache and restart.</p>\n<p>If still not working then import manually depending on views</p>\n<ul>\n<li>activity /fragment view:  import\nkotlinx.android.synthetic.main.&lt;your_activity_view&gt;.*</li>\n<li>normal views :\nimport kotlinx.android.synthetic.main.&lt;your_layout_view&gt;.view.*</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 8940448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ac51c55abaf2b5bcfd2b2854f8fd18?s=128&d=identicon&r=PG&f=1", "display_name": "mOOn", "link": "https://stackoverflow.com/users/8940448/moon"}, "is_accepted": false, "score": 0, "last_activity_date": 1610387779, "last_edit_date": 1610387779, "creation_date": 1610379036, "answer_id": 65669779, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin/65669779#65669779", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>For those who have this problem in 2021:</p>\n<p><strong>I know</strong> this question is asked in the past but since it is still relevant here I want to help others:\ntoday I ran to this problem and tried the suggested ways and unfortunately, the</p>\n<p><code>plugins { ... id  'kotlin-android-extensions' }</code></p>\n<p>is not working anymore or more accurately is deprecated, so try to use the Jetpack view binding approach and you'll be good.</p>\n<p>The message I got after adding the Gradle Kotlin Android extension dependency is:\nThe 'kotlin-android-extensions' Gradle plugin is deprecated. Please use this migration guide (<a href=\"https://goo.gle/kotlin-android-extensions-deprecation\" rel=\"nofollow noreferrer\">click here</a>) to start working with View Binding. (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">click here</a>) and the 'kotlin-parcelize' plugin.</p>\n"}], "owner": {"reputation": 693, "user_id": 1184205, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e6b2beef26cb5ee7d5287fa8d804a7b4?s=128&d=identicon&r=PG", "display_name": "user1184205", "link": "https://stackoverflow.com/users/1184205/user1184205"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 2, "accepted_answer_id": 46897296, "answer_count": 5, "score": 7, "last_activity_date": 1610387779, "creation_date": 1508736117, "last_edit_date": 1508772231, "question_id": 46882421, "link": "https://stackoverflow.com/questions/46882421/cant-access-edittext-or-other-ui-components-with-kotlin", "title": "Can&#39;t access EditText or other UI components with Kotlin", "body": "<p>I'm using Android Studio 3.0 RC2 &amp; Kotlin.</p>\n\n<p>When I try to access a UI component the app crashes unless I first write findViewById.  I thought Kotlin was supposed to get rid of having to write <code>findViewById</code> line? The UI is a <code>fragment</code> and I'm trying to access from the same <code>fragment</code> code.  Is there a way to not have to write findViewById? </p>\n\n<p>These lines work:</p>\n\n<pre><code>var userNameField = view?.findViewById&lt;EditText&gt;(R.id.userNameTextField) as EditText\nuserNameField.setText(\"hello world\")\n</code></pre>\n\n<p>This line doesn't work without findViewById line </p>\n\n<pre><code>userNameTextField.setText(\"hello world\")\n</code></pre>\n\n<p>I even have </p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_sign_in.*\n</code></pre>\n\n<p>The <code>onCreateView()</code> code:</p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    var view = inflater!!.inflate(R.layout.fragment_sign_in, container, false)\n\n    var userNameField = view?.findViewById&lt;EditText&gt;(R.id.userNameTextField) as EditText\n    userNameField.setText(\"hello world\")\n\n    return view\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 577, "user_id": 4619977, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fe2187a9cba2627a4ff29f745a6e1254?s=128&d=identicon&r=PG&f=1", "display_name": "Deepan", "link": "https://stackoverflow.com/users/4619977/deepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1508735602, "creation_date": 1508732733, "last_edit_date": 1508735602, "question_id": 46881950, "link": "https://stackoverflow.com/questions/46881950/custom-suggestions-in-searchview-in-menu", "title": "Custom suggestions in SearchView in menu", "body": "<p>I have a <code>searchview</code> in my <code>menu</code> (toolbar). It performs a search query in my recycler view and it works fine. I need to add a custom search suggestions to my <code>searchview</code> and I can't find any way to add it to a default <code>searchview</code> menu item. I have shared the code of my menu items and search query.</p>\n\n<p><strong>Menu XML file:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/actionSearch\"\n        android:title=\"\"\n        android:icon=\"@drawable/ic_search\"\n        app:actionViewClass=\"android.support.v7.widget.SearchView\"\n        app:showAsAction=\"always|collapseActionView\"/&gt;\n    &lt;item\n        android:id=\"@+id/actionAdd\"\n        android:title=\"\"\n        android:icon=\"@drawable/ic_add\"\n        app:showAsAction=\"always|collapseActionView\"/&gt;\n    &lt;item\n        android:id=\"@+id/actionImport\"\n        android:orderInCategory=\"100\"\n        android:title=\"Import from phone\"\n        app:showAsAction=\"never\"/&gt;\n    &lt;item\n        android:id=\"@+id/actionExport\"\n        android:orderInCategory=\"100\"\n        android:title=\"Export as VCF\"\n        app:showAsAction=\"never\" /&gt;\n    &lt;item\n        android:id=\"@+id/actionSettings\"\n        android:orderInCategory=\"100\"\n        android:title=\"Settings\"\n        app:showAsAction=\"never\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p><strong>Search Query:</strong></p>\n\n<pre><code>private fun search(searchView: SearchView) {\n        searchView.queryHint = \"Search Here\"\n        searchView.setIconifiedByDefault(false)\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n            override fun onQueryTextSubmit(query: String): Boolean = false\n            override fun onQueryTextChange(newText: String): Boolean {\n                initRecentRecyclerView()\n                mAdapter2.getFilter().filter(newText)\n                recentAdapter.getFilter().filter(newText)\n                return true\n            }})\n        MenuItemCompat.setOnActionExpandListener(search, object : MenuItemCompat.OnActionExpandListener {\n            override fun onMenuItemActionExpand(item: MenuItem): Boolean {\n                initRecentRecyclerView()\n                return true\n            }\n\n            override fun onMenuItemActionCollapse(item: MenuItem): Boolean {\n                recentRecyclerView.visibility = View.GONE\n                return true\n            }\n        })\n        searchView.setOnFocusChangeListener({ _: View, b: Boolean -&gt;\n            if(!b){\n                recentRecyclerView.visibility = View.GONE\n            }\n        })\n        searchView.setOnCloseListener{\n            recentRecyclerView.visibility = View.GONE\n            true\n        }\n        searchView.setOnQueryTextFocusChangeListener({ view: View, b: Boolean -&gt;\n            if(!b){\n                try {\n                    recentRecyclerView.visibility = View.GONE\n                }catch(e: Exception){}\n            }\n        })\n    }\n</code></pre>\n\n<p>actionSearch is the id of my searchView, searchView is the reference I have used in my <code>kotlin</code> code. I need to show a list of suggestions in my <code>searchview</code>. Hope that someone can help me out!</p>\n"}, {"tags": ["android", "kotlin", "nullable", "illegalargumentexception"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508724212, "post_id": 46880976, "comment_id": 80709241, "body": "Can you show us the relevant stack trace of your exception?"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508724403, "post_id": 46880976, "comment_id": 80709267, "body": "By the way the exception says the parameter&#39;s name is <code>bundle</code>, however you call it <code>savedInstanceState</code>"}, {"owner": {"reputation": 191, "user_id": 7702375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3e9c3ca860775e921647ebbb2d84693?s=128&d=identicon&r=PG&f=1", "display_name": "Komang Sidhi Artha", "link": "https://stackoverflow.com/users/7702375/komang-sidhi-artha"}, "edited": false, "score": 1, "creation_date": 1508737612, "post_id": 46880976, "comment_id": 80712518, "body": "I down vote because i didn&#39;t get what is OP intention, s/he ask with the answer already on the question"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 818992, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8073b18485b9b66650b0b58dc802fba5?s=128&d=identicon&r=PG&f=1", "display_name": "user818992", "link": "https://stackoverflow.com/users/818992/user818992"}, "is_accepted": false, "score": 2, "last_activity_date": 1508725103, "creation_date": 1508725103, "answer_id": 46881086, "question_id": 46880976, "link": "https://stackoverflow.com/questions/46880976/android-kotlin-oncreatesavedinstancestate-bundle-cause-illegalargumentexcept/46881086#46881086", "title": "Android kotlin onCreate(savedInstanceState: Bundle?) cause IllegalArgumentException", "body": "<p>That's error occurred at Application class, not Activity.</p>\n\n<p>Need to change Bundle into \"Bundle?\" both Activity and Application class.</p>\n\n<pre><code>  override fun onActivityCreated(activity: Activity, bundle: Bundle?) {\n\n    }\n\n  override fun onActivitySaveInstanceState(activity: Activity, bundle: Bundle?) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8102432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556a5b993668c8a4ef1a2b67021456ef?s=128&d=identicon&r=PG&f=1", "display_name": "Justin_Lee", "link": "https://stackoverflow.com/users/8102432/justin-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1589534325, "creation_date": 1589534325, "answer_id": 61815858, "question_id": 46880976, "link": "https://stackoverflow.com/questions/46880976/android-kotlin-oncreatesavedinstancestate-bundle-cause-illegalargumentexcept/61815858#61815858", "title": "Android kotlin onCreate(savedInstanceState: Bundle?) cause IllegalArgumentException", "body": "<p>I had same error when i exchange .java to .kt automatically. But the real wrong point wasn't in Activity. In my case, the wrong place was ActivityLifecycleCallbacks where some parameters missing '?' in exchanging.</p>\n\n<p>Wrong:</p>\n\n<pre><code>override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle) \noverride fun onActivitySaveInstanceState(activity: Activity, outState: Bundle)\n</code></pre>\n\n<p>Correct:</p>\n\n<pre><code>override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) \noverride fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?)\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 818992, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8073b18485b9b66650b0b58dc802fba5?s=128&d=identicon&r=PG&f=1", "display_name": "user818992", "link": "https://stackoverflow.com/users/818992/user818992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2413, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1589534325, "creation_date": 1508724094, "last_edit_date": 1508724193, "question_id": 46880976, "link": "https://stackoverflow.com/questions/46880976/android-kotlin-oncreatesavedinstancestate-bundle-cause-illegalargumentexcept", "title": "Android kotlin onCreate(savedInstanceState: Bundle?) cause IllegalArgumentException", "body": "<p>The first Activity doesn't launch nevertheless <code>Bundle?</code>.</p>\n\n<pre><code>class FirstActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter bundle</p>\n</blockquote>\n\n<p>This error should occur when <code>override fun onCreate(savedInstanceState: Bundle)</code></p>\n\n<p>However, I fixed <code>override fun onCreate(savedInstanceState: Bundle?)</code></p>\n"}, {"tags": ["java", "android", "performance", "kotlin", "android-custom-view"], "comments": [{"owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "edited": false, "score": 0, "creation_date": 1514890503, "post_id": 46879249, "comment_id": 83091569, "body": "Could you give some more info about the raster asset, like size? Have you tried compressing it? Also, as it may be a performance issue, have you tried looking at memory usage and maybe ensure there are no known memory leaks in your app?"}], "owner": {"reputation": 159, "user_id": 7742966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/295cf22cbf58f089928e25ef9ba07354?s=128&d=identicon&r=PG&f=1", "display_name": "rycirese", "link": "https://stackoverflow.com/users/7742966/rycirese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1508709513, "creation_date": 1508706934, "question_id": 46879249, "link": "https://stackoverflow.com/questions/46879249/android-custom-view-slow-rendering-with-background-drawable", "title": "Android custom view slow rendering with background drawable", "body": "<p>I'm trying to implement <a href=\"https://blog.stylingandroid.com/snowfall/\" rel=\"nofollow noreferrer\">this custom view</a> in my application but on some devices it renders incredibly slowly. I've narrowed down the problem to when I set the background of the parent layout to a drawable (just a png image) it causes the massive slowdown. If I set the background to a color there is no slow down. </p>\n\n<p>I'm guessing it has something to do with invalidating in order to redraw the snowflakes? I've tried making an <code>ImageView</code> with the background image instead of setting <code>android:background</code> in the XML but no improvement.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["android-studio", "android-gradle-plugin", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2302, "user_id": 3801650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c6cef0ccea8019ee0cff4c5ad081fda?s=128&d=identicon&r=PG&f=1", "display_name": "Kamer358", "link": "https://stackoverflow.com/users/3801650/kamer358"}, "is_accepted": false, "score": 3, "last_activity_date": 1523002400, "last_edit_date": 1523002400, "creation_date": 1509025093, "answer_id": 46955899, "question_id": 46877517, "link": "https://stackoverflow.com/questions/46877517/kotlin-unit-tests-in-android-studio/46955899#46955899", "title": "Kotlin unit tests in android studio", "body": "<p>Yes, there is a workaround.</p>\n\n<p>You should create a configuration that will run your tests then remove \"Gradle-aware Make\" from \"Before launch\" list and add gradle task you want (e.g. <code>generateDebugSources compileDebugUnitTestSources compileDebugSources</code>)</p>\n\n<p><strong>Update</strong></p>\n\n<p>Fixed in AS 3.1</p>\n"}], "owner": {"reputation": 41, "user_id": 4389455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a98aef274ed6ace84176bc4ce4dc9d7?s=128&d=identicon&r=PG&f=1", "display_name": "Franc", "link": "https://stackoverflow.com/users/4389455/franc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1523002400, "creation_date": 1508695732, "question_id": 46877517, "link": "https://stackoverflow.com/questions/46877517/kotlin-unit-tests-in-android-studio", "title": "Kotlin unit tests in android studio", "body": "<p>I am using Android studio RC2. When I try to run kotlin unit tests through android studio, gradle executes the assembleDebug task and creates a debug apk before running the test.  With Java unit tests, it doesn't do this. </p>\n\n<p>Is there a workaround for this? Kotlin unit tests are slow and take a minute to just setup and rub.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1508697867, "creation_date": 1508697867, "answer_id": 46877856, "question_id": 46877257, "link": "https://stackoverflow.com/questions/46877257/how-can-i-make-kotlin-realize-this-bst-compare-function-is-tail-recursive/46877856#46877856", "title": "How can I make kotlin realize this BST compare function is tail recursive?", "body": "<p>Like stated in <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\">Tail recursive functions</a>:</p>\n\n<blockquote>\n  <p>To be eligible for the <code>tailrec</code> modifier, a function must call itself as the last operation it performs. You cannot use tail recursion when there is more code after the recursive call, and you cannot use it within try/catch/finally blocks.</p>\n</blockquote>\n\n<p>There your implementation fails already with the first constraint to call the function itself again. Even though you call this function, it's at another instance and also not the last operation of this block.</p>\n\n<p>The best I could come up with was implementing it <em>\"statically\"</em> in the <em>Kotlin</em> context.</p>\n\n<pre><code>data class Bst&lt;T: Comparable&lt;T&gt;&gt;(var left: Bst&lt;T&gt;?, var value: T, var right: Bst&lt;T&gt;?) {\n    fun contains(key: T) = contains(key, this)\n\n    companion object {\n        tailrec fun &lt;T: Comparable&lt;T&gt;&gt; contains(key: T, bst: Bst&lt;T&gt;): Boolean {\n            if (key == bst.value) return true\n            val bst2 = bst.run { if (key &lt; value) left else right }\n            if (bst2 == null) return false\n            return contains(key, bst2)\n        }\n    }\n}\n</code></pre>\n\n<p>But additionally you should consider to implement a null-value pattern, instead of using nullable values for left and right. You could utilize <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">Sealed Classes</a> for this.</p>\n"}], "owner": {"reputation": 1084, "user_id": 4302668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/EmGum.png?s=128&g=1", "display_name": "Michael Hewson", "link": "https://stackoverflow.com/users/4302668/michael-hewson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508697958, "creation_date": 1508694142, "last_edit_date": 1508697958, "question_id": 46877257, "link": "https://stackoverflow.com/questions/46877257/how-can-i-make-kotlin-realize-this-bst-compare-function-is-tail-recursive", "title": "How can I make kotlin realize this BST compare function is tail recursive?", "body": "<p>Here is a simple Binary Search Tree class that I put together. </p>\n\n<pre><code>data class Bst&lt;T: Comparable&lt;T&gt;&gt;(var left: Bst&lt;T&gt;?, var value: T, var right: Bst&lt;T&gt;?) {\n    tailrec fun contains(key: T): Boolean {\n        return if (key &lt; value) {\n            left?.contains(key) ?: false\n        } else if (key &gt; value) {\n            right?.contains(key) ?: false\n        } else {\n            true\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, when I paste this into <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a>, it says that the recursive calls are not tail-recursive. If I refactor the <code>left?.contains</code> code into an if statement that tests for <code>left == null</code>, it comes up with another error about how <code>left</code> is mutable and could have changed since the <code>if</code> statement. How can I make these calls tail recursive in the eyes of kotlin?</p>\n"}, {"tags": ["java", "android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 170, "user_id": 5032522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c909a5fa8b54e9ec7a568025e132caf?s=128&d=identicon&r=PG&f=1", "display_name": "yfdgvf asdasdas", "link": "https://stackoverflow.com/users/5032522/yfdgvf-asdasdas"}, "edited": false, "score": 0, "creation_date": 1508695024, "post_id": 46877178, "comment_id": 80701665, "body": "did you try using ImageButton, or custom drawables"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 8757254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f520131db83ab498642f7ef51295933e?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Moorthy", "link": "https://stackoverflow.com/users/8757254/akshay-moorthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1508696491, "creation_date": 1508696491, "answer_id": 46877642, "question_id": 46877178, "link": "https://stackoverflow.com/questions/46877178/how-to-create-a-custom-shape-of-a-button-but-keep-it-clickable-and-focusable/46877642#46877642", "title": "How to create a custom shape of a button but keep it clickable and focusable", "body": "<p>You can do it by two ways,</p>\n\n<ol>\n<li><p>Set any layout/button with shape drawable and add         <code>android:foreground=\"?attr/selectableItemBackground\"</code> in XML</p></li>\n<li><p>Set the Style attribute in button.\n<code>style=\"@style/buttonTheme\"</code> in its XML and define\n<code>&lt;style name=\"buttonTheme\" parent=\"Widget.AppCompat.Button.Colored\"&gt;\n    &lt;item name=\"colorButtonNormal\"&gt;@color/#000000&lt;/item&gt;</code> in /style folder.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 8106988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PSr6y.jpg?s=128&g=1", "display_name": "DWndrer", "link": "https://stackoverflow.com/users/8106988/dwndrer"}, "edited": false, "score": 0, "creation_date": 1510111387, "post_id": 46878331, "comment_id": 81291696, "body": "Any luck with your button background?"}], "tags": [], "owner": {"reputation": 81, "user_id": 8106988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PSr6y.jpg?s=128&g=1", "display_name": "DWndrer", "link": "https://stackoverflow.com/users/8106988/dwndrer"}, "is_accepted": true, "score": 1, "last_activity_date": 1508700878, "creation_date": 1508700878, "answer_id": 46878331, "question_id": 46877178, "link": "https://stackoverflow.com/questions/46877178/how-to-create-a-custom-shape-of-a-button-but-keep-it-clickable-and-focusable/46878331#46878331", "title": "How to create a custom shape of a button but keep it clickable and focusable", "body": "<p>I hope this is what you are looking for, but I have done this a couple times where I liked a rounded button a little bit more, or if it's a widget, I wanted a checkbox.  Here's a couple examples I just did by just changing android:background:</p>\n\n<pre><code> &lt;Button\n            android:id=\"@+id/widget_yes_no_checkbox_off\"\n            android:layout_width=\"@dimen/checkbox_size\"\n            android:layout_height=\"@dimen/checkbox_size\"\n            android:layout_marginEnd=\"@dimen/right_margin\"\n            android:layout_gravity=\"center\"\n            android:background=\"@android:drawable/checkbox_off_background\"\n           /&gt;\n</code></pre>\n\n<p>This gave me a button that looks like a checkbox (necessary for making a checkbox in a widget).  </p>\n\n<p>Or, here's a drawable xml to help me round a button</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"rectangle\" android:padding=\"10dp\"&gt;\n    &lt;solid android:color=\"@color/primaryDarkColor\"/&gt;\n    &lt;corners android:radius=\"20dp\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>with it's corresponding style theme:  </p>\n\n<pre><code> &lt;style name=\"myAppStyle.ButtonStyle\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/rounded_button&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>So, in summary, I think the easiest way to do this is to still do a button layout, but use the background attribute to change the way your button looks.  </p>\n"}], "owner": {"reputation": 324, "user_id": 7739417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc131c639fec0a6a1151cd861be7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/7739417/boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 46878331, "answer_count": 2, "score": -1, "last_activity_date": 1508700878, "creation_date": 1508693714, "question_id": 46877178, "link": "https://stackoverflow.com/questions/46877178/how-to-create-a-custom-shape-of-a-button-but-keep-it-clickable-and-focusable", "title": "How to create a custom shape of a button but keep it clickable and focusable", "body": "<p>I want to make a button to have a custom shape, but when I tried the shape changed, but it wasn't clickable/focusable, how do I do it?</p>\n"}, {"tags": ["java", "libgdx", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 1, "last_activity_date": 1508685117, "creation_date": 1508685117, "answer_id": 46875646, "question_id": 46875398, "link": "https://stackoverflow.com/questions/46875398/libgdx-ground-doesnt-work/46875646#46875646", "title": "libgdx ground doesnt work", "body": "<p>Here's your <code>create</code> method:</p>\n\n<pre><code>override fun create() {\n    createBody()\n    createBall()\n    createGround()\n\n    camera.setToOrtho(false, 800f, 480f)\n    debugRenderer = Box2DDebugRenderer()\n}\n</code></pre>\n\n<p>You're setting the camera dimensions after you call <code>createGround</code>, yet <code>createGround</code> already makes use of <code>camera.viewportWidth</code>. Therefore, the ground body has a width of zero.</p>\n\n<p>Move the call to <code>setToOrtho</code> to the start of the method.</p>\n\n<p>Additionally, here's a Kotlin tip: instead of having many nullable variables, use <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\">lateinit properties</a> instead to avoid all of the unnecessary null checks.</p>\n\n<p>You could also make some of your fields local variables instead, such as <code>groundBodyDef</code>.</p>\n"}], "owner": {"reputation": 1907, "user_id": 1902570, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/110a426ea70c739aa926efef57ab8428?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/1902570/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 46875646, "answer_count": 1, "score": 0, "last_activity_date": 1508685117, "creation_date": 1508683542, "question_id": 46875398, "link": "https://stackoverflow.com/questions/46875398/libgdx-ground-doesnt-work", "title": "libgdx ground doesnt work", "body": "<p>i'm following along this tutorial <a href=\"https://github.com/libgdx/libgdx/wiki/Box2d\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/wiki/Box2d</a> and i'm currently stuck at static objects. Here is my game class:</p>\n\n<pre><code>package com.mygdx.physics\n\nimport com.badlogic.gdx.ApplicationAdapter\nimport com.badlogic.gdx.Gdx\nimport com.badlogic.gdx.graphics.GL20\nimport com.badlogic.gdx.graphics.Texture\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch\nimport com.badlogic.gdx.math.Vector2\nimport com.badlogic.gdx.physics.box2d.World\nimport com.badlogic.gdx.physics.box2d.Box2DDebugRenderer\nimport com.badlogic.gdx.graphics.OrthographicCamera\nimport com.badlogic.gdx.physics.box2d.BodyDef.BodyType\nimport com.badlogic.gdx.physics.box2d.Body\nimport com.badlogic.gdx.physics.box2d.CircleShape\nimport com.badlogic.gdx.physics.box2d.FixtureDef\nimport com.badlogic.gdx.physics.box2d.Fixture\nimport com.badlogic.gdx.physics.box2d.BodyDef\nimport com.badlogic.gdx.physics.box2d.PolygonShape\n\n\n\nclass Physics : ApplicationAdapter() {\n    internal var batch: SpriteBatch? = null\n    internal var world: World = World(Vector2(0.toFloat(), -10.toFloat()), true)\n    internal var camera: OrthographicCamera = OrthographicCamera()\n    internal var debugRenderer: Box2DDebugRenderer? = null\n    internal var bodyDef: BodyDef = BodyDef()\n    internal var body: Body? = null\n\n    private var groundBodyDef: BodyDef = BodyDef()\n    private var groundBox: PolygonShape = PolygonShape()\n    private var groundBody: Body? = null\n\n    override fun create() {\n        createBody()\n        createBall()\n        createGround()\n\n        camera.setToOrtho(false, 800f, 480f)\n        debugRenderer = Box2DDebugRenderer()\n    }\n\n    override fun render() {\n        Gdx.gl.glClearColor(1f, 0f, 0f, 1f)\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT)\n\n        camera.update()\n        debugRenderer?.render(world, camera.combined);\n        world.step(1/45f, 6, 2);\n    }\n\n    override fun dispose() {\n    }\n\n    private fun createBody() {\n      bodyDef.type = BodyType.DynamicBody\n      bodyDef.position.set(100.toFloat(), 300.toFloat())\n      body = world.createBody(bodyDef)\n    }\n\n    private fun createBall() {\n      BallHandler(body).createBall()\n    }\n\n    private fun createGround() {\n      groundBodyDef = BodyDef()\n      groundBodyDef.position.set(Vector2(0f, 10f))\n\n      groundBody = world.createBody(groundBodyDef)\n\n      groundBox = PolygonShape()\n      groundBox.setAsBox(camera.viewportWidth, 10.0f)\n      groundBody?.createFixture(groundBox, 0.0f)\n      groundBox.dispose()\n    }\n}\n</code></pre>\n\n<p>As you can see i implemented it in almost identical way. they ball part works like a charm, the rest is compiling but i cannot see the created ground, nor its effect. why is that or how can I effectively debug it?</p>\n"}, {"tags": ["android", "kotlin", "parcelable", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1508688946, "post_id": 46875178, "comment_id": 80699551, "body": "Is these files are in test folder or androidTest folder ?"}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1508720163, "post_id": 46875178, "comment_id": 80708425, "body": "@SangeetSuresh It is in androidTest"}, {"owner": {"reputation": 6857, "user_id": 1385488, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6d4c9982d2d676cbab4466b49fd55fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Silvia H", "link": "https://stackoverflow.com/users/1385488/silvia-h"}, "edited": false, "score": 3, "creation_date": 1509372757, "post_id": 46875178, "comment_id": 80981138, "body": "it&#39;s a bug <a href=\"https://youtrack.jetbrains.com/issue/KT-20032\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-20032</a>"}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 6857, "user_id": 1385488, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6d4c9982d2d676cbab4466b49fd55fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Silvia H", "link": "https://stackoverflow.com/users/1385488/silvia-h"}, "edited": false, "score": 0, "creation_date": 1509378321, "post_id": 46875178, "comment_id": 80985060, "body": "@SilviaH You are right. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 3, "creation_date": 1548105678, "post_id": 47653115, "comment_id": 95416251, "body": "It has happened to me with Kotlin 1.3.11 :/"}, {"owner": {"reputation": 3863, "user_id": 1272303, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/VxLmR.png?s=128&g=1", "display_name": "MohammadReza", "link": "https://stackoverflow.com/users/1272303/mohammadreza"}, "edited": false, "score": 1, "creation_date": 1551687652, "post_id": 47653115, "comment_id": 96716516, "body": "And also with 1.3.21 !"}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 1, "creation_date": 1574326089, "post_id": 47653115, "comment_id": 104195138, "body": "hit the bug in 1.3.50"}], "tags": [], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "is_accepted": true, "score": 6, "last_activity_date": 1512475105, "creation_date": 1512475105, "answer_id": 47653115, "question_id": 46875178, "link": "https://stackoverflow.com/questions/46875178/how-to-use-null-with-kotlin-parcelize/47653115#47653115", "title": "How to use null with kotlin @Parcelize", "body": "<p>The bug has been <a href=\"https://youtrack.jetbrains.com/issue/KT-20032\" rel=\"noreferrer\">fixed</a> in Kotlin 1.1.60.</p>\n"}], "owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1681, "favorite_count": 0, "accepted_answer_id": 47653115, "answer_count": 1, "score": 10, "last_activity_date": 1512475105, "creation_date": 1508682221, "question_id": 46875178, "link": "https://stackoverflow.com/questions/46875178/how-to-use-null-with-kotlin-parcelize", "title": "How to use null with kotlin @Parcelize", "body": "<p>Here is very simple code:</p>\n\n<pre><code>@Parcelize\ndata class Inner(val a: Int): Parcelable\n\n@Parcelize\ndata class Test(val a: Int, val inner: Inner?): Parcelable\n\n@RunWith(AndroidJUnit4::class)\nclass ExampleInstrumentedTest {\n    @Test\n    fun testParcel() {\n        val test = Test(0, null)\n\n        val parcel = Parcel.obtain()\n        parcel.writeParcelable(test, test.describeContents())\n    }\n}\n</code></pre>\n\n<p>I have nullable property <code>Test.inner</code>. If it is not null, the code works fine but when it is null then I have the exception:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'void android.os.Parcelable.writeToParcel(android.os.Parcel, int)' on a null object reference\n</code></pre>\n\n<p>How to resolve this? Maybe I do something wrong.</p>\n"}, {"tags": ["validation", "constructor", "kotlin", "builder"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1508707451, "post_id": 46874506, "comment_id": 80705714, "body": "I&#39;ve tried that too.  The challenge is that <code>Foo</code> (in my app) is a type of field in a database, so there are 10+ fields of that type in each record, and some have different defaults upon validation failure.  Actually, even these 10+ could be grouped into a few groups, which was why I was trying to create subclasses <code>Bar</code>, <code>Baz</code> etc. to handle the different types of the same fundamental type <code>Foo</code>.  Even among <code>Bar</code>, <code>Baz</code>, etc., there&#39;s more than one of each in the record and each has different defaults.  That&#39;s why I thought null/Elvis might be a nice way to handle it... Any other options?"}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1508708039, "post_id": 46874506, "comment_id": 80705867, "body": "To your second point about <code>IllegalArgumentException</code>, I think that&#39;s my next best option.  In these cases though, failure <b>is expected</b> and will happen often.  I also didn&#39;t want to create a behind-the-scenes default... which is why I wanted to expose the applied <code>?: default</code> at the call site, but that requires an <code>orNull</code> secondary constructor for that to work.  90% of instantiations will the primary null-safe constructor, but the companion/secondary validating constructor would only by used for processing external input where failure is likely.  Open to other thoughts though..."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 1, "creation_date": 1508709440, "post_id": 46874506, "comment_id": 80706257, "body": "Regarding other options: in that case I\u2019d make the validation abstract so that the subclasses have to provide the rules which can be used in the validation during construction."}, {"owner": {"reputation": 2444, "user_id": 3197387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ec27435a4e7d85c8eb8b5e4799abc7?s=128&d=identicon&r=PG&f=1", "display_name": "Sisir", "link": "https://stackoverflow.com/users/3197387/sisir"}, "edited": false, "score": 0, "creation_date": 1566325085, "post_id": 46874506, "comment_id": 101618706, "body": "How will it be if the class is a data class ?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1508678122, "creation_date": 1508678122, "answer_id": 46874506, "question_id": 46874406, "link": "https://stackoverflow.com/questions/46874406/how-to-implement-a-validating-constructor-in-kotlin/46874506#46874506", "title": "How to implement a validating constructor in Kotlin?", "body": "<p>could you simply use a single constructor and always validate its argument <code>x</code> and assign it to a property like here:</p>\n\n<pre><code>open class Foo (x: Int) {   // relies on valid x in 1..3\n    val x: Int = if (x in 1..3) x else 1\n}\n\nclass Bar(x: Int) : Foo(x) \n</code></pre>\n\n<p>Now calling the constructor with a value that is not in range, a default <code>Foo</code> is created, which is basically what you wanted to have I think. In my opinion it would be better if you threw a <code>IllegalArgumentException</code> instead of creating a default behind the scenes. What do you think?</p>\n"}, {"tags": [], "owner": {"reputation": 773, "user_id": 4140977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/423fe89b2f08058a59dd8d4106ea537f?s=128&d=identicon&r=PG&f=1", "display_name": "Android14", "link": "https://stackoverflow.com/users/4140977/android14"}, "is_accepted": false, "score": 1, "last_activity_date": 1586085066, "last_edit_date": 1586085066, "creation_date": 1586081111, "answer_id": 61040921, "question_id": 46874406, "link": "https://stackoverflow.com/questions/46874406/how-to-implement-a-validating-constructor-in-kotlin/61040921#61040921", "title": "How to implement a validating constructor in Kotlin?", "body": "<p>You could also look for <strong>\"overloading invoke() function for constructor validation\"</strong>.</p>\n\n<pre><code>class Student private constructor(val rollNo: Int) {\ncompanion object {\n    operator fun invoke(rollNo: Int): Student {\n        //Do your validation here\n        if (rollNo &lt; 1) {\n            throw Exception() // or any default Student\n        } else\n            return Student(rollNo)\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>val student1 =Student(4)\nval student2 =Student(-1) // will throw exception\n</code></pre>\n\n<p>This approach hides the constructor(private) and because of the overloaded syntax it looks like we are making a constructor call .</p>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 6, "last_activity_date": 1591722885, "creation_date": 1591722885, "answer_id": 62288213, "question_id": 46874406, "link": "https://stackoverflow.com/questions/46874406/how-to-implement-a-validating-constructor-in-kotlin/62288213#62288213", "title": "How to implement a validating constructor in Kotlin?", "body": "<p>You can use the init block as well as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/require.html\" rel=\"noreferrer\"><code>require</code></a>.</p>\n\n<pre><code>open class Foo(val x:Int) {\n  init {\n    require(x in 1..3) {\n      \"relies on valid x in 1..3\"\n    }\n  }\n}\nclass Bar(x:Int) : Foo(x)\n</code></pre>\n\n<p>Example run:</p>\n\n<pre><code>&gt;&gt;&gt; open class Foo(val x:Int) {\n...   init {\n...     require(x in 1..3) {\n...       \"relies on valid x in 1..3\"\n...     }\n...   }\n... }\n&gt;&gt;&gt; class Bar(x:Int) : Foo(x)\n&gt;&gt;&gt; val b = Bar(3)\n&gt;&gt;&gt; val b = Bar(4)\njava.lang.IllegalArgumentException: relies on valid x in 1..3\n    at Line_18$Foo.&lt;init&gt;(Line_18.kts:3)\n    at Line_19$Bar.&lt;init&gt;(Line_19.kts:1)\n&gt;&gt;&gt; b.x\nres22: kotlin.Int = 3\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3473, "favorite_count": 0, "accepted_answer_id": 46874506, "answer_count": 3, "score": 4, "last_activity_date": 1591722885, "creation_date": 1508677436, "question_id": 46874406, "link": "https://stackoverflow.com/questions/46874406/how-to-implement-a-validating-constructor-in-kotlin", "title": "How to implement a validating constructor in Kotlin?", "body": "<p>I'm implementing vars in Kotlin that could receive out-of-bounds input from certain of their users.  I'd like to be able to optionally call (only on input from these untrusted users) a validating constructor that can return null, and then use the Elvis operator to specify defaults in the case of invalid input, as in:  <code>var myFoo = Foo.fromInt(i) ?: 1</code>.  I'm currently using a companion object method to validate the input:</p>\n\n<pre><code>open class Foo(val x:Int) {   // relies on valid x in 1..3\n  companion object {\n    fun fromInt(x: Int): Foo? = if (x in 1..3) Foo(x) else null\n  }\n}\nclass Bar(x:Int) : Foo(x)\n\nfun main(args:Array&lt;String&gt;) {\n  println(Foo.fromInt(2))    // Foo(2)\n  println(Foo.fromInt(20))   // null\n  // println(Bar.fromInt(2))\n  // would like Bar(2) but as expected, companion isn't inherited\n}\n</code></pre>\n\n<p>When I subclass <code>Foo</code>, I know I have to recreate the companion object.  I've tried inheriting the companion from an abstract class; however, the call to <code>Foo(x)</code> still points to <code>Foo</code> and not <code>Bar</code>, unless I override <code>fromInt</code> in each subclass' companion.  Is there a better or more Kotlin-idomatic way to deal with this kind of pattern of a validating constructor that can return <code>null</code> rather than creating the requested object?</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508878848, "post_id": 46918784, "comment_id": 80787388, "body": "Thanks, i will try to work with your solution, but have you tried this solution in Android Studio IDE? Something is wrong with the Observable.zip(..) part. However i am using Kotlin(this is wrong in Kotlin too). IDE says &#39;Cannot infer functional interface type&#39; and underlines the (geo, rss, trgr) -&gt; saveEvents(geo, rss, trgr) part"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508879108, "post_id": 46918784, "comment_id": 80787534, "body": "Oh, sorry. <code>saveEvents</code> should return a boolean so that there is a value to pass on."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508879254, "post_id": 46918784, "comment_id": 80787619, "body": "Also i didn&#39;t mention important thing about appendRssiEvent - it looks somehow different, maybe it don&#39;t change much to your implementation. I updated my question. Also, the scheduleStopLocationUpdates is scheduled in different time than the scheduleStopLocation, to 45 seconds. So i guess it is more complications. Thank you for your help, i really appreciate it."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508880705, "post_id": 46918784, "comment_id": 80788297, "body": "Also, if you can please check if this Observable.zip(..) can be converted to Kotlin, i can&#39;t convert it. The IDE underlines the .zip and says this: <a href=\"https://gist.github.com/oksett/a406c8d6e2cae3d96fa3c19535e4b138\" rel=\"nofollow noreferrer\">gist.github.com/oksett/a406c8d6e2cae3d96fa3c19535e4b138</a>"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508881614, "post_id": 46918784, "comment_id": 80788641, "body": "I have no experience with Kotlin. I suspect that it does something fancy with type inference that is getting in the way."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508932341, "post_id": 46918784, "comment_id": 80810132, "body": "Also, i want to be able to not have empty buffer when the stopAndSave trigger will occur. I want to have boolean locationUpdatesAboutToStop set to false when normalSave occurs, and set to true when triggerStopAndSave will occur. When the triggerStopAndSave will occur i want to still have items in my buffer to do something with them"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508934421, "post_id": 46918784, "comment_id": 80811659, "body": "The interval is also not working. I want to be able to invoke save after 30 seconds from the first event occur, and not schedule anymore. It appears it schedules only from the last event"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508934688, "post_id": 46918784, "comment_id": 80811870, "body": "I need such mechanism, because i need to store those events in Database, so i must not insert everything at once"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508952150, "post_id": 46918784, "comment_id": 80824090, "body": "You should have enough information to build your application code. You can use <code>sample()</code> operator to delay triggering the save, instead of <code>debounce()</code>. You can put the code into a test harness and check out all the different scenarios, and adjust the timings, and change the timing operators."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1509004687, "post_id": 46918784, "comment_id": 80844632, "body": "Thanks for advice. I get into something strange, i tried to log each of those normalSaveTrigger(that, which is scheduled to 30 seconds) action in doOnNext and it always logs 3 each times(no 1 as i thought) Maybe you know what can cause this?"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1509027939, "post_id": 46918784, "comment_id": 80861194, "body": "It sounds like the observable has multiple subscriptions, which makes sense. Change the definition of <code>normalSaveTrigger</code> to add <code>.share()</code> at the end and see if that works."}], "tags": [], "owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "is_accepted": false, "score": 1, "last_activity_date": 1508874123, "creation_date": 1508874123, "answer_id": 46918784, "question_id": 46873977, "link": "https://stackoverflow.com/questions/46873977/rxjava-using-kotlin-how-to-synchronize-2-asynchronous-methods-refactor-from-j/46918784#46918784", "title": "RxJava using Kotlin - how to synchronize 2 asynchronous methods, refactor from Java", "body": "<p>You can buffer the two streams of data and then combine them for saving. Also, you can use the buffer trigger to stop the updates as well.</p>\n\n<pre><code>PublishSubject&lt;LocationGeoEvent&gt; mUpdateGeoEventsSubject = PublishSubject.create();\nPublishSubject&lt;LocationRSSIEvent&gt; mUpdateRSSIEventsSubject = PublishSubject.create();\n\npublic void appendGeoEvent(LocationGeoEvent event) {\n  mUpdateGeoEventsSubject.onNext( event );\n  triggerSave.onNext( Boolean.TRUE );\n}\n</code></pre>\n\n<p>and the same for RSS feed.</p>\n\n<p>Now we need triggers that will be used to drive the saving step.</p>\n\n<pre><code>PublishSubject&lt;Boolean&gt; triggerSave = PublishSubject.create();\nPublishSubject&lt;Boolean&gt; triggerStopAndSave = PublishSubject.create();\n\nObservable&lt;Boolean&gt; normalSaveTrigger = triggerSave.debounce( 30, TimeUnit.SECONDS );\nObservable&lt;Boolean&gt; trigger = Observable.merge( normalSaveTrigger, triggerStopAndSave );\n</code></pre>\n\n<p>The <code>trigger</code> observable fires when either the normal save process fires or if we are stopping the save.</p>\n\n<pre><code>private void saveEvents(\n  List&lt;LocationGeoEvent&gt; geo,\n  List&lt;LocationRSSIEvent&gt; rss,\n  boolean locationUpdatesAboutToStop) {\n\n    synchronized (mEventsMonitor) {\n        if (geo.size() &gt; 0 || rss.size() &gt; 0) {\n             //do something with the data from buffered collection arrayLists and with the boolean locationUpdatesAboutToStop\n        }\n    }\n}\nprivate void scheduleStopLocationUpdates() {\n  stopLocationUpdates();\n  triggerStopAndSave.onNext( Boolean.FALSE );\n  cleanAllReadingsData();\n}\n\nObservable.zip( mUpdateGeoEventsSubject.buffer( trigger ),\n                mUpdateRSSIEventsSubject.buffer( trigger ),\n                trigger, (geo, rss, trgr) -&gt; saveEvents(geo, rss, trgr) )\n  .subscribe();\n</code></pre>\n\n<p>You will still need to some tuning with respect to multi-threading and safety. The first step would be to turn the various subjects into <code>SerializedSubject</code>s so that multiple threads can emit events.</p>\n\n<p>If you want <code>saveEvents</code> to run on a particular scheduler, you will either need to add an intermediate data structure, a triple, to pass the parameters through <code>observeOn()</code> operator, or apply <code>observeOn()</code> operator to each of <code>zip()</code> arguments.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508879070, "creation_date": 1508674756, "last_edit_date": 1508879070, "question_id": 46873977, "link": "https://stackoverflow.com/questions/46873977/rxjava-using-kotlin-how-to-synchronize-2-asynchronous-methods-refactor-from-j", "title": "RxJava using Kotlin - how to synchronize 2 asynchronous methods, refactor from Java", "body": "<p>I have 2 collections, which buffer location update events:</p>\n\n<pre><code>     private List&lt;LocationGeoEvent&gt; mUpdateGeoEvents = new ArrayList&lt;&gt;();\n    private List&lt;LocationRSSIEvent&gt; mUpdateRSSIEvents = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>There is also present in my code:</p>\n\n<pre><code>        private final ScheduledExecutorService mSaveDataExecutor = Executors.newSingleThreadScheduledExecutor();\n    private boolean mSaveDataScheduled;\n    private final Object mEventsMonitor = new Object();\n\n    private ScheduledFuture&lt;?&gt; mScheduledStopLocationUpdatesFuture;\n    private final ScheduledExecutorService mStopLocationUpdatesExecutor = Executors.newSingleThreadScheduledExecutor();\n</code></pre>\n\n<p>I add event to this colections like this:</p>\n\n<pre><code>    public void appendGeoEvent(LocationGeoEvent event) {\n            synchronized (mEventsMonitor) {\n                mUpdateGeoEvents.add(event);\n                scheduleSaveEvents();\n            }\n    }\n</code></pre>\n\n<p>The same goes for the RSSI event</p>\n\n<p>Now, the scheduleSaveEvents method looks like this:</p>\n\n<pre><code>      private void scheduleSaveEvents() {\n\n        synchronized (mSaveDataExecutor) {\n            if (!mSaveDataScheduled) {\n                mSaveDataScheduled = true;\n                mSaveDataExecutor.schedule(\n                        new Runnable() {\n                            @Override\n                            public void run() {\n                                synchronized (mSaveDataExecutor) {\n                                    saveEvents(false);\n                                    mSaveDataScheduled = false;\n                                }\n                            }\n                        },\n                        30,\n                        TimeUnit.SECONDS);\n            }\n        }\n\n    }\n</code></pre>\n\n<p>The problem is, that i need to synchronize the other method which stops the updates. It is triggered like this:</p>\n\n<pre><code>      private void scheduleStopLocationUpdates() {\n\n        synchronized (mStopLocationUpdatesExecutor) {\n            if (mScheduledStopLocationUpdatesFuture != null)\n                mScheduledStopLocationUpdatesFuture.cancel(true);\n\n            mScheduledStopLocationUpdatesFuture = mStopLocationUpdatesExecutor.schedule(\n                    new Runnable() {\n                        @Override\n                        public void run() {\n                            synchronized (mStopLocationUpdatesExecutor) {\n                                stopLocationUpdates();\n                                saveEvents(true);\n                                cleanAllReadingsData();\n                            }\n                        }\n                    },\n                    45,\n                    TimeUnit.SECONDS);\n        }\n\n    }\n</code></pre>\n\n<p>In the saveEvents method i do:</p>\n\n<pre><code>    private void saveEvents(boolean locationUpdatesAboutToStop) {\n\n        synchronized (mEventsMonitor) {\n            if (mUpdateGeoEvents.size() &gt; 0 || mUpdateRSSIEvents.size() &gt; 0) {\n\n                 //do something with the data from buffered collection arrayLists and with the boolean locationUpdatesAboutToStop\n\n                mUpdateGeoEvents.clear();\n                mUpdateRSSIEvents.clear();\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>Is there a way to refactor this simplier to RxJava using Kotlin? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is my appendRSSIevents method:</p>\n\n<pre><code>    private fun appendRSSIEvent(event: LocationRSSIEvent) {\n    synchronized(mEventsMonitor) {\n        if (!shouldSkipRSSIData(event.nexoIdentifier)) {\n            mUpdateRSSIEvents.add(event)\n            acknowledgeDevice(event.nexoIdentifier)\n            scheduleSaveEvents()\n            startLocationUpdates()\n        } else\n            removeExpiredData()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1508673478, "post_id": 46873671, "comment_id": 80694554, "body": "As to your next question: Are you sure you want to compute <code>d1 + d2</code> only once at the beginning? You should probably move reading current values to the click listener. (Do what CrazyApple says.)"}], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1508673263, "post_id": 46873739, "comment_id": 80694500, "body": "Unrelated: While at it, please, give your variables more meaningful names. When you look at the code in a few weeks you&#39;re going to ask yourself &quot;What the hell does <code>r1</code> mean?&quot;."}, {"owner": {"reputation": 37, "user_id": 6960347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af6d92ef3e28c408324230616c707829?s=128&d=identicon&r=PG&f=1", "display_name": "reader", "link": "https://stackoverflow.com/users/6960347/reader"}, "edited": false, "score": 0, "creation_date": 1508674537, "post_id": 46873739, "comment_id": 80694846, "body": "thank you for the detailed explanation.i did forgot to declare it outside the oncreate. you are right the variable names should be easy to understand i will definitely follow it from the next tutorial."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 0, "last_activity_date": 1508673156, "creation_date": 1508673156, "answer_id": 46873739, "question_id": 46873671, "link": "https://stackoverflow.com/questions/46873671/unresolved-reference-using-kotlin-for-android/46873739#46873739", "title": "Unresolved Reference using Kotlin for android", "body": "<p><code>r1</code> is a local variable in <code>onCreate</code> so it's not accessible outside of this function.</p>\n\n<p>Declare it outside of the function like so:</p>\n\n<pre><code>private lateinit var r1: TextView\n</code></pre>\n\n<p>Assign it in <code>onCreate</code> like so:</p>\n\n<pre><code>r1 = findViewById(R.id.res)\n</code></pre>\n\n<p>Then you can access it as you expect:</p>\n\n<pre><code>r1.text= ds.toString()\n</code></pre>\n\n<p>The same rule applies for other variables you want to access outside of <code>onCreate</code>.</p>\n\n<h3>Why lateinit</h3>\n\n<p><code>onCreate</code> is not a constructor so <code>r1</code> is uninitialized before that. But you know that <code>onCreate</code> is the first thing called in the activity lifecycle so when you initialize the variable here it will always be non-null.</p>\n\n<p>Otherwise you'd have to declare the variable like this:</p>\n\n<pre><code>private var r1: TextView?\n</code></pre>\n\n<p>and access it with the <code>!!</code> operator, for example:</p>\n\n<pre><code>r1!!.setText(...)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 6960347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af6d92ef3e28c408324230616c707829?s=128&d=identicon&r=PG&f=1", "display_name": "reader", "link": "https://stackoverflow.com/users/6960347/reader"}, "edited": false, "score": 0, "creation_date": 1508674859, "post_id": 46873741, "comment_id": 80694949, "body": "yes sir u r right , i missed this point. thank you for the reply"}], "tags": [], "owner": {"reputation": 744, "user_id": 6913016, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0b6177616ddaeed18dab5860e52d112a?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio", "link": "https://stackoverflow.com/users/6913016/sergio"}, "is_accepted": false, "score": 0, "last_activity_date": 1508673174, "creation_date": 1508673174, "answer_id": 46873741, "question_id": 46873671, "link": "https://stackoverflow.com/questions/46873671/unresolved-reference-using-kotlin-for-android/46873741#46873741", "title": "Unresolved Reference using Kotlin for android", "body": "<p>The variable <strong>ds</strong> only exists into the first function. You must declare it outside to access it from the second.</p>\n"}, {"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1508673540, "post_id": 46873781, "comment_id": 80694570, "body": "I think it&#39;s safe to say that <code>v</code> is never null."}, {"owner": {"reputation": 37, "user_id": 6960347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af6d92ef3e28c408324230616c707829?s=128&d=identicon&r=PG&f=1", "display_name": "reader", "link": "https://stackoverflow.com/users/6960347/reader"}, "edited": false, "score": 0, "creation_date": 1508674776, "post_id": 46873781, "comment_id": 80694919, "body": "what you are suggesting is correct, but some times we want same variable in the main and in the methods so this will create a confilct it is better to define it outside the on create as suggested by eugen pechanec ,thank you"}], "tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": true, "score": 1, "last_activity_date": 1508674035, "last_edit_date": 1508674035, "creation_date": 1508673437, "answer_id": 46873781, "question_id": 46873671, "link": "https://stackoverflow.com/questions/46873671/unresolved-reference-using-kotlin-for-android/46873781#46873781", "title": "Unresolved Reference using Kotlin for android", "body": "<p><code>ds</code> is local variable that can only be accessed within the function <code>onCreate()</code>. If you want to sum up the numbers of the <code>EditText</code>, you should put your addition logic inside the <code>onClick()</code> method:</p>\n\n<pre><code>override fun onClick(v: View) {\n    when (v.id) {\n        R.id.add -&gt; {\n            val d1: Int = et1.text.toString().toInt()\n            val d2: Int = et2.text.toString().toInt()\n            val ds = d1 + d2\n            r1.text = ds.toString()\n        }\n    }\n}\n</code></pre>\n\n<p>Also, you should declare <code>r1</code> and other view reference as class member so that they can be accessed within your <code>Activity</code> class but not only <code>onCreate()</code>.</p>\n"}], "owner": {"reputation": 37, "user_id": 6960347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af6d92ef3e28c408324230616c707829?s=128&d=identicon&r=PG&f=1", "display_name": "reader", "link": "https://stackoverflow.com/users/6960347/reader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2532, "favorite_count": 0, "accepted_answer_id": 46873781, "answer_count": 3, "score": 0, "last_activity_date": 1508674035, "creation_date": 1508672747, "question_id": 46873671, "link": "https://stackoverflow.com/questions/46873671/unresolved-reference-using-kotlin-for-android", "title": "Unresolved Reference using Kotlin for android", "body": "<p>I am getting Unresolved Reference when compiling </p>\n\n<p>Error:(42, 26) Unresolved reference: r1\nError:(42, 36) Unresolved reference: ds</p>\n\n<p>in the onClick method variables r1, and ds are shown to be in errors.\nin kotlin all varibales are final. so how come it is not accepting it. \nplease advice following is the script</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), View.OnClickListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val b1: Button = findViewById(R.id.add)\n\n        val a1: EditText = findViewById(R.id.opr1)\n        val a2: EditText = findViewById(R.id.opr2)\n\n        val d1: Int = (a1.getText().toString().toInt())\n        val d2: Int = (a2.getText().toString().toInt())\n\n      var r1: TextView = findViewById(R.id.res)\n        var ds :Int =d1+d2\n\n\n    }\n\n    override fun onClick(v: View?) {\n\n        when (v?.id) {\n\n            R.id.add -&gt;  r1.text= (ds).toString()\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3421, "user_id": 2155922, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/BrZhv.jpg?s=128&g=1", "display_name": "Rahul Rastogi", "link": "https://stackoverflow.com/users/2155922/rahul-rastogi"}, "edited": false, "score": 0, "creation_date": 1508670343, "post_id": 46873314, "comment_id": 80693731, "body": "Thanks! In my case it was savedInstanceState: Bundle instead of, savedInstanceState: Bundle?. In return type, View? is fine."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 3421, "user_id": 2155922, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/BrZhv.jpg?s=128&g=1", "display_name": "Rahul Rastogi", "link": "https://stackoverflow.com/users/2155922/rahul-rastogi"}, "edited": false, "score": 0, "creation_date": 1508704482, "post_id": 46873314, "comment_id": 80704819, "body": "@RahulRastogi The method you overwrite comes from Java with has no built-in nulability (although sometimes I see <code>@NotNull</code> annotation used). It is always save to use nullable types in this case, however non-nullable types can result in errors, so only use if you are 100% sure the values will never be null"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 2, "last_activity_date": 1508670693, "last_edit_date": 1508670693, "creation_date": 1508670206, "answer_id": 46873314, "question_id": 46873283, "link": "https://stackoverflow.com/questions/46873283/unknown-source7-error-in-kotlin-android/46873314#46873314", "title": "(Unknown Source:7) error in kotlin android", "body": "<p>In MallListFragment, you need to define <code>onCreateView</code> like this</p>\n\n<pre><code>fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?) : View? {\n    ... \n} \n</code></pre>\n"}], "owner": {"reputation": 3421, "user_id": 2155922, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/BrZhv.jpg?s=128&g=1", "display_name": "Rahul Rastogi", "link": "https://stackoverflow.com/users/2155922/rahul-rastogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508670693, "creation_date": 1508670059, "question_id": 46873283, "link": "https://stackoverflow.com/questions/46873283/unknown-source7-error-in-kotlin-android", "title": "(Unknown Source:7) error in kotlin android", "body": "<p>I just converted my java project to kotlin in android and after that I'm facing following issue. This isn't indicating whether the error is?</p>\n\n<pre><code>    Process: com.app.furr, PID: 12420 \njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.app.furr/com.app.furr.DashboardActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n                                                                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n                                                                      at android.app.ActivityThread.-wrap11(Unknown Source:0)\n                                                                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n                                                                      at android.os.Handler.dispatchMessage(Handler.java:105)\n                                                                      at android.os.Looper.loop(Looper.java:164)\n                                                                      at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                      at java.lang.reflect.Method.invoke(Native Method)\n                                                                      at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n                                                                   Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                      at com.app.furr.mall.list.MallListFragment.onCreateView(Unknown Source:7)\n                                                                      at android.app.Fragment.performCreateView(Fragment.java:2611)\n                                                                      at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1276)\n                                                                      at android.app.FragmentManagerImpl.addAddedFragments(FragmentManager.java:2415)\n                                                                      at android.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2194)\n                                                                      at android.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2148)\n                                                                      at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2049)\n                                                                      at android.app.FragmentManagerImpl.dispatchMoveToState(FragmentManager.java:3044)\n                                                                      at android.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:2991)\n                                                                      at android.app.FragmentController.dispatchActivityCreated(FragmentController.java:178)\n                                                                      at android.app.Activity.performCreateCommon(Activity.java:6969)\n                                                                      at android.app.Activity.performCreate(Activity.java:6977)\n                                                                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n                                                                      at android.app.ActivityThread.p\n\nerformLaunchActivity(ActivityThread.java:2770\n</code></pre>\n"}, {"tags": ["java", "gradle", "libgdx", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508683987, "post_id": 46872254, "comment_id": 80697866, "body": "Did it help you?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 1953330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8091b5177e8794ef3b66fe3be29160d?s=128&d=identicon&r=PG", "display_name": "octopussy", "link": "https://stackoverflow.com/users/1953330/octopussy"}, "is_accepted": false, "score": 4, "last_activity_date": 1511307057, "creation_date": 1511307057, "answer_id": 47424467, "question_id": 46872254, "link": "https://stackoverflow.com/questions/46872254/java-lang-noclassdeffounderror-kotlin-jvm-internal-intrinsics-in-libgdx/47424467#47424467", "title": "java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics in libgdx", "body": "<p>Just add jar{} section indo desktop.gradle like this:</p>\n\n<pre><code>apply plugin: \"kotlin\"\n\nsourceCompatibility = 1.6\nsourceSets.main.java.srcDirs = [ \"src/\" ]\n\nproject.ext.mainClassName = \"com.your.class.name\"\nproject.ext.assetsDir = new File(\"../android/assets\");\n\njar {\n    manifest {}\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n"}], "owner": {"reputation": 1907, "user_id": 1902570, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/110a426ea70c739aa926efef57ab8428?s=128&d=identicon&r=PG", "display_name": "Leo", "link": "https://stackoverflow.com/users/1902570/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4094, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1511307057, "creation_date": 1508662751, "last_edit_date": 1508664360, "question_id": 46872254, "link": "https://stackoverflow.com/questions/46872254/java-lang-noclassdeffounderror-kotlin-jvm-internal-intrinsics-in-libgdx", "title": "java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics in libgdx", "body": "<p>in my libgdx gradle app I have a class of GroundHandler:</p>\n\n<pre><code>package com.mygdx.physics\n\nimport com.badlogic.gdx.ApplicationAdapter\nimport com.badlogic.gdx.Gdx\nimport com.badlogic.gdx.math.Vector2\n\nimport com.badlogic.gdx.physics.box2d.Fixture\nimport com.badlogic.gdx.physics.box2d.Body\nimport com.badlogic.gdx.physics.box2d.BodyDef\nimport com.badlogic.gdx.graphics.OrthographicCamera\nimport com.badlogic.gdx.physics.box2d.PolygonShape\n\nimport com.badlogic.gdx.physics.box2d.World\n\nclass GroundHandler(val world: World, val camera: OrthographicCamera) {\n  private var groundBodyDef: BodyDef = BodyDef()\n  private var groundBox: PolygonShape = PolygonShape()\n  private var groundBody: Body? = null\n\n  fun createGround() {\n    groundBodyDef.position.set(Vector2(0f, 10f))\n    groundBody = world.createBody(groundBodyDef)\n    groundBox.setAsBox(camera.viewportWidth, 10.0f)\n    groundBody?.createFixture(groundBox, 0.0f)\n    groundBox.dispose()\n  }\n}\n</code></pre>\n\n<p>which is used in a different class. at first it compiles well, but when app window starts i get </p>\n\n<pre><code>Exception in thread \"LWJGL Application\" com.badlogic.gdx.utils.GdxRuntimeException: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:133)\nCaused by: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at com.mygdx.physics.GroundHandler.&lt;init&gt;(GroundHandler.kt)\n        at com.mygdx.physics.Physics.createGround(Physics.kt:60)\n        at com.mygdx.physics.Physics.create(Physics.kt:31)\n</code></pre>\n\n<p>Physics 31 is a line where I call createGround()</p>\n\n<p>UPDATE:</p>\n\n<p>build.gradle as requested  (without jar{} part that hasnt worked)</p>\n\n<pre><code>buildscript {\n  ext.kotlin_version = '1.1.51'\n\n  repositories {\n      mavenLocal()\n      mavenCentral()\n      maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n      jcenter()\n  }\n  dependencies {\n      classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n  }\n}\n\nallprojects {\n    apply plugin: \"eclipse\"\n    apply plugin: \"idea\"\n\n    version = '1.0'\n    ext {\n        appName = \"physics game\"\n        gdxVersion = '1.9.6'\n        roboVMVersion = '2.3.1'\n        box2DLightsVersion = '1.4'\n        ashleyVersion = '1.7.0'\n        aiVersion = '1.8.0'\n    }\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/releases/\" }\n    }\n}\n\nproject(\":core\") {\n    apply plugin: \"kotlin\"\n\n\n    dependencies {\n        compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-bullet:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-controllers:$gdxVersion\"\n        compile \"com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion\"\n        compile \"com.badlogicgames.gdx:gdx-ai:$aiVersion\"\n        compile \"com.badlogicgames.ashley:ashley:$ashleyVersion\"\n\n    }\n}\n\nproject(\":desktop\") {\n    apply plugin: \"kotlin\"\n\n\n    dependencies {\n        compile project(\":core\")\n        compile \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-tools:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-controllers-desktop:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-controllers-platform:$gdxVersion:natives-desktop\"\n\n    }\n}\n\ntasks.eclipse.doLast {\n    delete \".project\"\n}\n</code></pre>\n\n<p>all i did to this was changing 'java' to 'kotlin' two times and added kotlin dependency to buildscript {}</p>\n"}, {"tags": ["android", "kotlin", "async-await", "retrofit2", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 2641491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5Nag.png?s=128&g=1", "display_name": "Fatih Co\u015fkun", "link": "https://stackoverflow.com/users/2641491/fatih-co%c5%9fkun"}, "edited": false, "score": 1, "creation_date": 1509054685, "post_id": 46890009, "comment_id": 80876549, "body": "This was something that was at the back of my head for some days now. Nice to see the solution is not more complex than what I was imagining. I was also asking myself whether it would make sense to define this helper function as an inline function. And last but not least: how would the a be modified, if you want to execute the retry only after asking the user  to do so (eg. in a dialogue)?"}, {"owner": {"reputation": 1979, "user_id": 251120, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6fd9c654e8f517d530d62b6dd7494a3?s=128&d=identicon&r=PG", "display_name": "kenyee", "link": "https://stackoverflow.com/users/251120/kenyee"}, "edited": false, "score": 1, "creation_date": 1510077320, "post_id": 46890009, "comment_id": 81278538, "body": "Also so much cleaner than the Rx solution :-O"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 2, "creation_date": 1572749371, "post_id": 46890009, "comment_id": 103654914, "body": "if <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/retry.html\" rel=\"nofollow noreferrer\">kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/&zwnj;&#8203;&hellip;</a> would also emit the current amount of retries it could be used to make a clean (exponential) back-off with it"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 143, "last_activity_date": 1508763622, "creation_date": 1508763622, "answer_id": 46890009, "question_id": 46872242, "link": "https://stackoverflow.com/questions/46872242/how-to-exponential-backoff-retry-on-kotlin-coroutines/46890009#46890009", "title": "How to Exponential Backoff retry on kotlin coroutines", "body": "<p>I would suggest to write a helper <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"noreferrer\">higher-order function</a> for your retry logic. You can use the following implementation for a start:</p>\n\n<pre><code>suspend fun &lt;T&gt; retryIO(\n    times: Int = Int.MAX_VALUE,\n    initialDelay: Long = 100, // 0.1 second\n    maxDelay: Long = 1000,    // 1 second\n    factor: Double = 2.0,\n    block: suspend () -&gt; T): T\n{\n    var currentDelay = initialDelay\n    repeat(times - 1) {\n        try {\n            return block()\n        } catch (e: IOException) {\n            // you can log an error here and/or make a more finer-grained\n            // analysis of the cause to see if retry is needed\n        }\n        delay(currentDelay)\n        currentDelay = (currentDelay * factor).toLong().coerceAtMost(maxDelay)\n    }\n    return block() // last attempt\n}\n</code></pre>\n\n<p>Using this function is very strightforward:</p>\n\n<pre><code>val networkResult = retryIO { api.getArticle().await() }\n</code></pre>\n\n<p>You can change retry parameters on case-by-case basis, for example:</p>\n\n<pre><code>val networkResult = retryIO(times = 3) { api.doSomething().await() }\n</code></pre>\n\n<p>You can also completely change the implementation of <code>retryIO</code> to suit the needs of your application. For example, you can hard-code all the retry parameters, get rid of the limit on the number of retries, change defaults, etc. </p>\n"}, {"tags": [], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "is_accepted": false, "score": 0, "last_activity_date": 1589903235, "creation_date": 1589903235, "answer_id": 61895172, "question_id": 46872242, "link": "https://stackoverflow.com/questions/46872242/how-to-exponential-backoff-retry-on-kotlin-coroutines/61895172#61895172", "title": "How to Exponential Backoff retry on kotlin coroutines", "body": "<p>You can try this simple but very agile approach with a simple usage:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Completion(private val retry: (Completion) -&gt; Unit) {\n    fun operationFailed() {\n        retry.invoke(this)\n    }\n}\n\nfun retryOperation(retries: Int, \n                   dispatcher: CoroutineDispatcher = Dispatchers.Default, \n                   operation: Completion.() -&gt; Unit\n) {\n    var tryNumber = 0\n\n    val completion = Completion {\n        tryNumber++\n        if (tryNumber &lt; retries) {\n            GlobalScope.launch(dispatcher) {\n                delay(TimeUnit.SECONDS.toMillis(tryNumber.toLong()))\n                operation.invoke(it)\n            }\n        }\n    }\n\n    operation.invoke(completion)\n}\n</code></pre>\n\n<p>The use it like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>retryOperation(3) {\n    if (!tryStuff()) {\n        // this will trigger a retry after tryNumber seconds\n        operationFailed()\n    }\n}\n</code></pre>\n\n<p>You can obviously build more on top of it.</p>\n"}], "owner": {"reputation": 1269, "user_id": 3700517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/548449082/picture?type=large", "display_name": "shakil.k", "link": "https://stackoverflow.com/users/3700517/shakil-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12529, "favorite_count": 27, "accepted_answer_id": 46890009, "answer_count": 2, "score": 44, "last_activity_date": 1589903235, "creation_date": 1508662701, "last_edit_date": 1552981632, "question_id": 46872242, "link": "https://stackoverflow.com/questions/46872242/how-to-exponential-backoff-retry-on-kotlin-coroutines", "title": "How to Exponential Backoff retry on kotlin coroutines", "body": "<p>I am using kotlin coroutines for network request using extension method to call class in retrofit like this</p>\n\n<pre><code>public suspend fun &lt;T : Any&gt; Call&lt;T&gt;.await(): T {\n\n  return suspendCancellableCoroutine { continuation -&gt; \n\n    enqueue(object : Callback&lt;T&gt; {\n\n        override fun onResponse(call: Call&lt;T&gt;?, response: Response&lt;T?&gt;) {\n            if (response.isSuccessful) {\n                val body = response.body()\n                if (body == null) {\n                    continuation.resumeWithException(\n                            NullPointerException(\"Response body is null\")\n                    )\n                } else {\n                    continuation.resume(body)\n                }\n            } else {\n                continuation.resumeWithException(HttpException(response))\n            }\n        }\n\n        override fun onFailure(call: Call&lt;T&gt;, t: Throwable) {\n            // Don't bother with resuming the continuation if it is already cancelled.\n            if (continuation.isCancelled) return\n            continuation.resumeWithException(t)\n        }\n    })\n\n      registerOnCompletion(continuation)\n  }\n}\n</code></pre>\n\n<p>then from calling side i am using above method like this </p>\n\n<pre><code>private fun getArticles()  = launch(UI) {\n\n    loading.value = true\n    try {\n        val networkResult = api.getArticle().await()\n        articles.value =  networkResult\n\n    }catch (e: Throwable){\n        e.printStackTrace()\n        message.value = e.message\n\n    }finally {\n        loading.value = false\n    }\n\n}\n</code></pre>\n\n<p>i  want to exponential retry this api call in some case i.e (IOException) how can i achieve it ??</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 3, "creation_date": 1508662068, "post_id": 46872127, "comment_id": 80691466, "body": "You\u2019re using not nullable type <code>String</code> already?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508662125, "post_id": 46872127, "comment_id": 80691482, "body": "String is not nullable type ? I see that java has @NotNull annotation for these"}, {"owner": {"reputation": 679, "user_id": 7135485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7144d49088d98e9f6f7f000f60d6a0f6?s=128&d=identicon&r=PG&f=1", "display_name": "Nikitah", "link": "https://stackoverflow.com/users/7135485/nikitah"}, "edited": false, "score": 2, "creation_date": 1508662228, "post_id": 46872127, "comment_id": 80691512, "body": "In Kotlin <code>String</code> is not nullable, you need to add a question mark to make it nullable: <code>String?</code>"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508662307, "post_id": 46872175, "comment_id": 80691536, "body": "Thank you what If I have custom type in params in this method and need to make not null then what is the way to do this in Kotlin ?"}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508662388, "post_id": 46872175, "comment_id": 80691555, "body": "Then I would suggest you to do a safe call, like <code>obj?.method()</code> then the method is only executed when <code>obj</code> is not null. You can also use the <code>!!</code> parameter, which will raise an NPE exception if the object is null."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508662495, "post_id": 46872175, "comment_id": 80691587, "body": "Thank you Giovanni :) +1"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508663338, "post_id": 46872175, "comment_id": 80691815, "body": "@Williams a variable of &quot;custom type&quot; still cannot be null if the type is not nullable. If a type does not end with <code>?</code> it <i>cannot</i> be set to null."}], "tags": [], "owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "is_accepted": false, "score": 1, "last_activity_date": 1508662219, "creation_date": 1508662219, "answer_id": 46872175, "question_id": 46872127, "link": "https://stackoverflow.com/questions/46872127/how-to-set-not-null-for-function-params-in-kotlin/46872175#46872175", "title": "How to set not null for function params in kotlin", "body": "<p>When I check the Kotlin documentation, I can see that a String variable can't be set to null, unless you declare it can be, and your compiler will raise an error.</p>\n\n<blockquote>\n  <p>For example, a regular variable of type String can not hold null</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508662380, "post_id": 46872188, "comment_id": 80691552, "body": "Thank you what If I have custom type in params in this method and need to make not null then what is the way to do this in Kotlin ?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1508662468, "post_id": 46872188, "comment_id": 80691578, "body": "Even custom types work like this. If you have a class <code>Person</code> the type <code>Person</code> cannot be null. Only <code>Person?</code> could"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508664863, "post_id": 46872188, "comment_id": 80692223, "body": "So suppose if I have fun <code>do(person: Person?) { }</code> and How should I call it ? What to check before calling this function. like this <code>do(?person)</code>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508664969, "post_id": 46872188, "comment_id": 80692263, "body": "In the function you have to handle the nullability of <code>person</code>, you will see when you try it"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508665183, "post_id": 46872188, "comment_id": 80692334, "body": "Look at the link I shared in the answer"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508665308, "post_id": 46872188, "comment_id": 80692374, "body": "I read so I have to do like this <code>if(person != null) { do(person) }</code>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508665378, "post_id": 46872188, "comment_id": 80692383, "body": "This is possible:)"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508665434, "post_id": 46872188, "comment_id": 80692401, "body": "Can we do <code>do(person?)</code>  safe calls ?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1508665473, "post_id": 46872188, "comment_id": 80692413, "body": "This can be achieved with <code>let</code>: person?.let{}"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1508662533, "last_edit_date": 1508662533, "creation_date": 1508662298, "answer_id": 46872188, "question_id": 46872127, "link": "https://stackoverflow.com/questions/46872127/how-to-set-not-null-for-function-params-in-kotlin/46872188#46872188", "title": "How to set not null for function params in kotlin", "body": "<p>Kotlin differentiates all types by <strong>nullable</strong> and <strong>not-nullable</strong>. For example, the class <code>String</code> can be used for the type <code>String</code>, which is not nullable, and the type <code>String?</code>, which IS nullable, i.e. could hold <code>null</code>. </p>\n\n<p>In your example no nullable types are used, so you\u2019re all good - no additional annotation needed.</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">documentation</a> should be studied for further information.</p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": false, "score": 2, "last_activity_date": 1508662459, "creation_date": 1508662459, "answer_id": 46872212, "question_id": 46872127, "link": "https://stackoverflow.com/questions/46872127/how-to-set-not-null-for-function-params-in-kotlin/46872212#46872212", "title": "How to set not null for function params in kotlin", "body": "<p>Kotlin has build-in null safety. <code>String</code> is a non-null type while <code>String?</code> is a nullable type. So, <code>isEmailAndPasswordValid(email: String, password: String)</code> will enforce the value passed to it is non-null.</p>\n"}, {"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508664803, "post_id": 46872351, "comment_id": 80692206, "body": "So suppose if I have <code>fun do(person: Person?) { }</code> and Should I call it <code>do(?person)</code> ?"}, {"owner": {"reputation": 1979, "user_id": 3914166, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4jU6D.jpg?s=128&g=1", "display_name": "Bachiri Taoufiq Abderrahman", "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1508669343, "post_id": 46872351, "comment_id": 80693467, "body": "nn if you have a function with a nullable type you can call it normally but the function should be aware that the params are null"}], "tags": [], "owner": {"reputation": 1979, "user_id": 3914166, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4jU6D.jpg?s=128&g=1", "display_name": "Bachiri Taoufiq Abderrahman", "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"}, "is_accepted": false, "score": 3, "last_activity_date": 1508663319, "creation_date": 1508663319, "answer_id": 46872351, "question_id": 46872127, "link": "https://stackoverflow.com/questions/46872127/how-to-set-not-null-for-function-params-in-kotlin/46872351#46872351", "title": "How to set not null for function params in kotlin", "body": "<p>The Kotlin language is by default null-safe so when creating a new variable it can't be null, but when you want a nullable variable you can add The exclamation mark to specify that it can be null for Example String?, Int? ...</p>\n\n<p>Not Nullable</p>\n\n<pre><code>var a: String = \"bachiri\"\na = null // compilation error\n</code></pre>\n\n<p>Nullable Type</p>\n\n<pre><code>var a: String? = \"bachiri\"\na = null // OK\n</code></pre>\n\n<p>and bare in mind if you want to call a function on the nullable Type you should use eighter the check for null variable(1) or use the safe calls(2)</p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 46872188, "answer_count": 4, "score": 1, "last_activity_date": 1508663319, "creation_date": 1508661851, "last_edit_date": 1508662659, "question_id": 46872127, "link": "https://stackoverflow.com/questions/46872127/how-to-set-not-null-for-function-params-in-kotlin", "title": "How to set not null for function params in kotlin", "body": "<p>I'm creating one function in <code>Kotlin</code>. It validates email and password fields. I want to apply email and password should not be null. <code>@NotNull</code> kinda annotation here. </p>\n\n<p>Does anyone know how to do this in <code>Kotlin</code>? So the caller cannot send the null value.</p>\n\n<pre><code>private fun isEmailAndPasswordValid(email: String, password: String): Boolean {\n\n    if (email.isEmpty()) return false\n\n    if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) return false\n\n    if (password.isEmpty()) return false\n\n    return true\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-android", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": true, "score": 1, "last_activity_date": 1508663530, "creation_date": 1508663530, "answer_id": 46872384, "question_id": 46871913, "link": "https://stackoverflow.com/questions/46871913/how-to-get-value-of-the-observablefield-in-android/46872384#46872384", "title": "How to get value of the ObservableField in android", "body": "<p>I think it is good enough to use <code>email.get()</code>. If you really want to eliminate the use of <code>.get()</code> in your code, you may use backing field:</p>\n\n<pre><code>val _email = ObservableField&lt;String&gt;()\nvar email: String\n    get() = _email.get()\n    set(value) = _email.set(value)\n\n//use\nfun login(view: View) {\n    val emailVal = email\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": false, "score": 4, "last_activity_date": 1508669790, "creation_date": 1508669790, "answer_id": 46873250, "question_id": 46871913, "link": "https://stackoverflow.com/questions/46871913/how-to-get-value-of-the-observablefield-in-android/46873250#46873250", "title": "How to get value of the ObservableField in android", "body": "<p>This is exactly what delegation is about. Delegation of a property in Kotlin means having a class that implements the operator function <code>getValue</code> and optionally <code>setValue</code>, which will be called when accessing or updating the property.</p>\n\n<p>Your delegate could look like this:</p>\n\n<pre><code>class &lt;T&gt; ObservableDelegate\n{\n    val field = ObservableField&lt;T&gt;()\n    operator fun getValue(self: Any?, prop: KProperty&lt;*&gt;) : T\n        = field.get()\n    operator fun setValue(self: Any?, prop: KProperty&lt;*&gt;, value: T)\n        = field.set(value)\n}\n</code></pre>\n\n<p>You can then use the delegate like this:</p>\n\n<pre><code>val email : String by ObservableDelegate()\n\nfun login(view: View) {\n    val emailVal = email\n}\n</code></pre>\n\n<p>Read more about delegation of properties here: <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html</a></p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2687, "favorite_count": 0, "accepted_answer_id": 46872384, "answer_count": 2, "score": 1, "last_activity_date": 1508669790, "creation_date": 1508660042, "last_edit_date": 1508660748, "question_id": 46871913, "link": "https://stackoverflow.com/questions/46871913/how-to-get-value-of-the-observablefield-in-android", "title": "How to get value of the ObservableField in android", "body": "<p>Hi I have this <code>ObservableField</code> in my java code. I want to get the value of it which can be done by calling <code>get</code> method on it.</p>\n\n<pre><code>val email = ObservableField&lt;String&gt;()\n</code></pre>\n\n<p>This can be done using below approach. I am confused and don't know should I make a getter here to get the value of it ? or there is different standard approach to get the value of <code>ObservableField</code> I am using RxJava too in my app.</p>\n\n<pre><code>fun login(view: View) {\n    val emailVal = email.get()\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "postgresql", "hibernate", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 268, "user_id": 6330587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe39446e10f8f184ed5ddb1eeaf6eff?s=128&d=identicon&r=PG&f=1", "display_name": "paddy_89", "link": "https://stackoverflow.com/users/6330587/paddy-89"}, "is_accepted": true, "score": 0, "last_activity_date": 1508667057, "creation_date": 1508667057, "answer_id": 46872865, "question_id": 46871757, "link": "https://stackoverflow.com/questions/46871757/kotlin-hibernate-illegalargumentexception-can-not-set-string-field-job-name-t/46872865#46872865", "title": "Kotlin &amp; Hibernate IllegalArgumentException: Can not set String field Job.name to Job", "body": "<p>I finally got it working. It turned out that spring devtools somehow are conflicting with kotlin and hibernate. After removing them from the project everything works nice.</p>\n"}], "owner": {"reputation": 268, "user_id": 6330587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe39446e10f8f184ed5ddb1eeaf6eff?s=128&d=identicon&r=PG&f=1", "display_name": "paddy_89", "link": "https://stackoverflow.com/users/6330587/paddy-89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 46872865, "answer_count": 1, "score": 0, "last_activity_date": 1508669416, "creation_date": 1508658853, "last_edit_date": 1508669416, "question_id": 46871757, "link": "https://stackoverflow.com/questions/46871757/kotlin-hibernate-illegalargumentexception-can-not-set-string-field-job-name-t", "title": "Kotlin &amp; Hibernate IllegalArgumentException: Can not set String field Job.name to Job", "body": "<p>I am trying to persist a single object with hibernate into a postgres db. The class looks like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"jobs\")\ndata class Job(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int? = 0,\n    var name: String? = \"\"\n)\n</code></pre>\n\n<p>I create a hibernate session with the following code:</p>\n\n<pre><code>fun createSessionFactory(targetClass: Class&lt;*&gt;): SessionFactory? {\n    val registryBuilder = StandardServiceRegistryBuilder()\n\n    if (sessionFactory == null) {\n        val configuration = hashMapOf(\n                Environment.DRIVER to \"org.postgresql.Driver\",\n                Environment.URL to \"jdbc:postgresql://localhost:5432/testdb\",\n                Environment.DIALECT to \"org.hibernate.dialect.PostgreSQL9Dialect\",\n                Environment.USER to \"user\",\n                Environment.PASS to \"password\",\n                Environment.HBM2DDL_AUTO to \"create\"\n        )\n\n\n        registryBuilder.applySettings(configuration)\n        serviceRegistry = registryBuilder.build()\n\n        val sources = MetadataSources(serviceRegistry)\n        sources.addAnnotatedClass(targetClass)\n        val metadata = sources.metadataBuilder.build()\n\n        sessionFactory = metadata.sessionFactoryBuilder.build()\n    }\n    return sessionFactory\n}\n</code></pre>\n\n<p>When I try to store an instance ob the job class with:</p>\n\n<pre><code>override fun persistEntity(entity: Job) {\n    val session = databaseSession.createSessionFactory(Job::class.java)!!.openSession()\n    session.beginTransaction()\n    session.save(entity)\n\n    session.transaction.commit()\n    session.close()\n    databaseSession.destroySession()\n}\n</code></pre>\n\n<p>I get the exception java.lang.IllegalArgumentException: Can not set java.lang.String field Job.name to Job.</p>\n\n<p>All this is implemented inside a spring boot application with multiple modules. To make sure that there is no problem with the dependencies between the modules I recreated the structure in an other project and there the same code works as expected.</p>\n\n<p>Does anybody have an idea what I am missing here?</p>\n"}, {"tags": ["reflection", "properties", "delegates", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508670893, "post_id": 46873363, "comment_id": 80693848, "body": "Using the first solution, is it possible to map the delegated field and the delegate field? Since my delegated properties must all inherit from one interface, this would make it easy to return only <code>delegatedProperty2</code>"}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1508671576, "post_id": 46873363, "comment_id": 80694031, "body": "@msrd0 Yes, you can. You can change the condition: <code>CustomDelegate::class.java == property.javaField?.type</code> to the condition <code>CustomDelegate::class.java == property.javaField?.type &amp;&amp; property.returnType.isSubtypeOf(MyInterface::class.starProje&zwnj;&#8203;ctedType)</code>"}], "tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 2, "last_activity_date": 1508671108, "last_edit_date": 1508671108, "creation_date": 1508670572, "answer_id": 46873363, "question_id": 46870280, "link": "https://stackoverflow.com/questions/46870280/access-kotlin-delegate-type-without-an-instance/46873363#46873363", "title": "Access Kotlin Delegate Type without an Instance", "body": "<blockquote>\n  <p>How can I, given I have KClass&lt;Example&gt;, but not an instance of\n  Example, get all properties delegated to CustomDelegate?</p>\n</blockquote>\n\n<p>You can do it in two ways depending on your needs.</p>\n\n<p>First of all, you have to include the <em>kotlin-reflect</em> dependency in your <code>build.gradle</code> file:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-reflect:1.1.51\"\n</code></pre>\n\n<p>In my opinion, you should use the first solution if you can, because it's the most clear and optimized one. The second solution instead, can handle one case that the first solution can't.</p>\n\n<p><strong>First</strong></p>\n\n<p>You can loop an the declared properties and check if the type of the property or the type of the delegate is <code>CustomDelegate</code>.</p>\n\n<pre><code>// Loop on the properties of this class.\nExample::class.declaredMemberProperties.filter { property -&gt;\n    // If the type of field is CustomDelegate or the delegate is an instance of CustomDelegate,\n    // it will return true.\n    CustomDelegate::class.java == property.javaField?.type\n}\n</code></pre>\n\n<p>There's only one problem with this solution, you will get also the fields with type <code>CustomDelegate</code>, so, given this example:</p>\n\n<pre><code>class Example {\n    var nonDelegatedProperty = \"I don't care about this property\"\n    val delegatedProperty1 by lazy { \"I don't care about this too\" }\n    val delegatedProperty2 by CustomDelegate(\"I care about this one\")\n    val customDelegate = CustomDelegate(\"jdo\")\n}\n</code></pre>\n\n<p>You will get <code>delegatedProperty2</code> and <code>customDelegate</code>. If you want to get only <code>delegatedProperty2</code>, I found an horrible solution that you can use if you need to manage this case.</p>\n\n<p><strong>Second</strong></p>\n\n<p>If you check the source code of <code>KPropertyImpl</code>, you can see how a delegation is implemented. So, you can do something like this:</p>\n\n<pre><code>// Loop on the properties of this class.\nExample::class.declaredMemberProperties.filter { property -&gt;\n    // You must check in all superclasses till you find the right method.\n    property::class.allSuperclasses.find {\n        val computeField = try {\n            // Find the protected method \"computeDelegateField\".\n            it.declaredFunctions.find { it.name == \"computeDelegateField\" } ?: return@find false\n        } catch (t: Throwable) {\n            // Catch KotlinReflectionInternalError.\n            return@find false\n        }\n\n        // Get the delegate or null if the delegate is not present.\n        val delegateField = computeField.call(property) as? Field\n        // If the delegate was null or the type is different from CustomDelegate, it will return false.\n        CustomDelegate::class.java == delegateField?.type\n    } != null\n}\n</code></pre>\n\n<p>In this case, you will get only <code>delegatedProperty2</code> as result.</p>\n"}], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 46873363, "answer_count": 1, "score": 3, "last_activity_date": 1508671108, "creation_date": 1508643672, "question_id": 46870280, "link": "https://stackoverflow.com/questions/46870280/access-kotlin-delegate-type-without-an-instance", "title": "Access Kotlin Delegate Type without an Instance", "body": "<p>I have read <a href=\"https://stackoverflow.com/q/30896314/3755692\">Access property delegate in Kotlin</a> which is about accessing a delegate from an instance. One can use <code>KProperty::getDelegate</code> since Kotlin 1.1, however this will return the instance of the delegate and therefore needs an instance of the class first.</p>\n\n<p>Now I want to get the type of the delegate without having an instance of the class. Consider a library with a custom delegate type <code>CustomDelegate</code> that want's to get all properties of a class that are delegated to an instance of <code>CustomDelegate</code>:</p>\n\n<pre><code>class Example\n{\n    var nonDelegatedProperty = \"I don't care about this property\"\n    var delegatedProperty1 by lazy { \"I don't care about this too\" }\n    var delegatedProperty2 by CustomDelegate(\"I care about this one\")\n}\n</code></pre>\n\n<p>How can I, given I have <code>KClass&lt;Example&gt;</code>, but not an instance of <code>Example</code>, get all properties delegated to <code>CustomDelegate</code>?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 3, "last_activity_date": 1508632891, "creation_date": 1508632891, "answer_id": 46869456, "question_id": 46869395, "link": "https://stackoverflow.com/questions/46869395/java-lang-nosuchmethodexception-com-employee-init/46869456#46869456", "title": "java.lang.NoSuchMethodException: com...Employee.&lt;init&gt;()", "body": "<pre><code>@field: ManyToOne(targetEntity = District::class)\nvar district : District?,\n@field: ManyToOne(targetEntity = Company::class)\nvar company : Company?,\n</code></pre>\n\n<p>These don't have default values so empty constructor is not generated.</p>\n\n<p>Add <code>= null</code> to each.</p>\n"}], "owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 46869456, "answer_count": 1, "score": 0, "last_activity_date": 1508632891, "creation_date": 1508632232, "question_id": 46869395, "link": "https://stackoverflow.com/questions/46869395/java-lang-nosuchmethodexception-com-employee-init", "title": "java.lang.NoSuchMethodException: com...Employee.&lt;init&gt;()", "body": "<p>I have this class for which I have a constructor:</p>\n\n<pre><code>@Entity\ndata class Employee(\n    @field: Id\n    @field:GeneratedValue var id : Long = 0,\n    var username : String = \"\",\n    var password : String =\"\",\n    var name : String =\"\",\n    var lastName: String =\"\",\n    var phone : String=\"\",\n    var email : String =\"\",\n    var sex : String =\"\",\n    var active : Boolean = false,\n    @field: ManyToOne(targetEntity = District::class)\n    var district : District?,\n    @field: ManyToOne(targetEntity = Company::class)\n    var company : Company?,\n    var picture:String=\"\",\n    var resetPasswordCode:String=\"\",\n    // c\u00f3digo que se le env\u00eda al usuario en el momento que crea\n    // la cuenta, deber\u00e1 abrir en enlace del correo para activarla\n    // de ah\u00ed que \"active\" sea false.\n    var activationCode : String=\"\",\n    var enabled : Boolean = true,\n    var accountNonExpired: Boolean = true,\n    var credentialsNonExpired: Boolean = true,\n    var accountNonLocked : Boolean = true,\n    @field: OneToMany(targetEntity = Roles::class) var roles :MutableSet&lt;Roles&gt; = mutableSetOf())\n\n{\n    fun toUser() : User\n    {\n        val authorities = mutableSetOf&lt;GrantedAuthority&gt;()\n        roles.forEach{authorities.add(SimpleGrantedAuthority(it.role))}\n        return User(username,password,enabled,accountNonExpired,credentialsNonExpired,accountNonLocked, authorities)\n    }\n}\n</code></pre>\n\n<p>I have a controller method and for testing, I just print the \"saving\" text (as I'm having this issue, it doesn't make sense (to me) to go any further):</p>\n\n<pre><code>@RequestMapping(method = arrayOf(RequestMethod.POST))\nfun doPost(employee: Employee) : String {\n    println(\"saving!!!\")\n    // employeeService.save(employee)\n    return \"redirect:/display\"\n}\n</code></pre>\n\n<p>When sending the form, I get this error:</p>\n\n<p><code>java.lang.NoSuchMethodException: com.almasoft.facturapp.entities.Employee.&lt;init&gt;()</code></p>\n\n<p>The form is this:</p>\n\n<pre><code>&lt;form th:action=\"@{/register}\" method=\"post\" role=\"form\" \n    th:object=\"${employee}\"&gt;\n    &lt;legend&gt;Register a User&lt;/legend&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"username\"&gt;User Name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" name=\"username\" id=\"username\" th:field=\"*{username}\"&gt;&lt;/input&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"password\"&gt;Password&lt;/label&gt;\n        &lt;input type=\"password\" class=\"form-control\" name=\"password\" id=\"password\" th:field=\"*{password}\"&gt;&lt;/input&gt;\n    &lt;/div&gt;\n\n    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm following <a href=\"https://stonesoupprogramming.com/2017/07/08/kotlin-spring-security-hibernate-login/\" rel=\"nofollow noreferrer\">this</a> post and adapting the code for my needs, but I can't get this to work :(</p>\n\n<p>So, why would it complain about a default constructor if there is already one?</p>\n\n<p>And: how can I solve this?</p>\n"}, {"tags": ["java", "arrays", "generics", "kotlin", "reification"], "answers": [{"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 41, "last_activity_date": 1508647108, "creation_date": 1508647108, "answer_id": 46870546, "question_id": 46869353, "link": "https://stackoverflow.com/questions/46869353/kotlin-generics-arrayt-results-in-cannot-use-t-as-a-reified-type-parameter-u/46870546#46870546", "title": "Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not", "body": "<p>Looking at the declaration of <code>emptyArray()</code> in the kotlin stdlib (jvm), we notice the <code>reified</code> type parameter:</p>\n\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n\n<p>The <code>reified</code> type parameter means that you have access to the class of <code>T</code> at compile-time and can access it like <code>T::class</code>. You can read more about <code>reified</code> type parameters in the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">Kotlin reference</a>. Since <code>Array&lt;T&gt;</code> compiles to java <code>T[]</code>, we need to know the type at compile-time, hence the <code>reified</code> parameter. If you try writing an emptyArray() function without the <code>reified</code> keyword, you'll get a compiler error:</p>\n\n<pre><code>fun &lt;T&gt; emptyArray() : Array&lt;T&gt; = Array(0, { throw Exception() })\n</code></pre>\n\n<blockquote>\n  <p>Cannot use T as a reified type parameter. Use a class instead.</p>\n</blockquote>\n\n<hr/>\n\n<p>Now, let's take a look at the implementation of <code>emptyList()</code>:</p>\n\n<pre><code>public fun &lt;T&gt; emptyList(): List&lt;T&gt; = EmptyList\n</code></pre>\n\n<p>This implementation doesn't need the parameter <code>T</code> at all. It just returns the internal object <code>EmptyList</code>, which itself inherits from <code>List&lt;Nothing&gt;</code>. The kotlin type <code>Nothing</code> is the return-type of the <code>throw</code> keyword and is <em>a value that never exists</em> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"noreferrer\">reference</a>). If a method returns <code>Nothing</code>, is is equivalent to throwing an exception at that place. So we can safely use <code>Nothing</code> here because everytime we would call <code>EmptyList.get()</code> the compiler knows that this will return an exception.</p>\n\n<hr/>\n\n<p><strong>Bonus question:</strong></p>\n\n<p>Coming from Java and C++, I am used to <code>ArrayList</code> or <code>std::vector</code> to be far easier to use that arrays. I use kotlin now for a few month and I usually don't see a big difference between arrays and lists when writing source code. Both have tons of usefull extension functions which behave in a similar way. However, the Kotlin compiler handles arrays and lists very different, as Java interoperability is very important for the Kotlin team. I usually prefer using lists, and that's what I'd recommend in your case too.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 11, "last_activity_date": 1588343355, "last_edit_date": 1588343355, "creation_date": 1508677156, "answer_id": 46874354, "question_id": 46869353, "link": "https://stackoverflow.com/questions/46869353/kotlin-generics-arrayt-results-in-cannot-use-t-as-a-reified-type-parameter-u/46874354#46874354", "title": "Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not", "body": "<p>The problem is that the generic type of an <code>Array</code> must be known at <em>compile time</em>, which is indicated by the <code>reified</code> type parameter here, as seen in the declaration:</p>\n\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n\n<p>It's only possible to create concrete arrays like <code>Array&lt;String&gt;</code> or <code>Array&lt;Int&gt;</code> but not of type <code>Array&lt;T&gt;</code>.</p>\n\n<p>In this <a href=\"https://stackoverflow.com/a/41946516/8073652\">answer</a>, you can find several workarounds.</p>\n"}, {"tags": [], "owner": {"reputation": 872, "user_id": 704132, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XoaW2.png?s=128&g=1", "display_name": "Riki137", "link": "https://stackoverflow.com/users/704132/riki137"}, "is_accepted": false, "score": 0, "last_activity_date": 1526114434, "creation_date": 1526114434, "answer_id": 50304366, "question_id": 46869353, "link": "https://stackoverflow.com/questions/46869353/kotlin-generics-arrayt-results-in-cannot-use-t-as-a-reified-type-parameter-u/50304366#50304366", "title": "Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not", "body": "<p>The workaround that worked best for me was:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nvar pool: Array&lt;T?&gt; = arrayOfNulls&lt;Any?&gt;(initialCapacity) as Array&lt;T?&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1598975584, "last_edit_date": 1598975584, "creation_date": 1585239318, "answer_id": 60871541, "question_id": 46869353, "link": "https://stackoverflow.com/questions/46869353/kotlin-generics-arrayt-results-in-cannot-use-t-as-a-reified-type-parameter-u/60871541#60871541", "title": "Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not", "body": "<p>I got <code>Type parameter T cannot be called as function</code> when tried to return T.</p>\n<pre><code>private fun &lt;T&gt; getData(): T {\n    return T()\n}\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/26992039/what-is-the-proper-way-to-create-new-instance-of-generic-class-in-kotlin\">What is the proper way to create new instance of generic class in kotlin?</a>:</p>\n<pre><code>private fun &lt;T&gt; create(\n    method: (Int) -&gt; T,\n    value: Int\n): T {\n    return method(value) // Creates T(value).\n}\n\n// Usage:\n\ncreate(::ClassName, 1)\n</code></pre>\n<p>where <code>ClassName</code> extends <code>T</code>.</p>\n<p>Also maybe this will help:</p>\n<pre><code>private inline fun &lt;reified T&gt; getData(): T {\n    return T::class.java.newInstance()\n}\n</code></pre>\n<p>But in my case I had to return <code>T(parameter)</code>, not <code>T()</code>, so, didn't try. See also <a href=\"https://stackoverflow.com/questions/52446900/how-to-get-class-of-generic-type-parameter-in-kotlin\">How to get class of generic type parameter in Kotlin</a>.</p>\n"}], "owner": {"reputation": 2497, "user_id": 4280615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vNe8H.png?s=128&g=1", "display_name": "Nate Vaughan", "link": "https://stackoverflow.com/users/4280615/nate-vaughan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27481, "favorite_count": 4, "accepted_answer_id": 46870546, "answer_count": 4, "score": 48, "last_activity_date": 1598975584, "creation_date": 1508631619, "last_edit_date": 1513482740, "question_id": 46869353, "link": "https://stackoverflow.com/questions/46869353/kotlin-generics-arrayt-results-in-cannot-use-t-as-a-reified-type-parameter-u", "title": "Kotlin generics Array&lt;T&gt; results in &quot;Cannot use T as a reified type parameter. Use a class instead&quot; but List&lt;T&gt; does not", "body": "<p>I have an interface that contains an array (or list) of T and some metadata.</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): Array&lt;T&gt;\n}\n</code></pre>\n\n<p>If I write the simplest implementation of the interface, I get a compile error on the <code>emptyArray()</code>: \"Cannot use T as a reified type parameter. Use a class instead.\"</p>\n\n<pre><code>class ArrayWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: Array&lt;T&gt; = emptyArray()\n\n    override fun getData(): Array&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>However, if I change both the interface and the implementation to a list, I have no compile-time issues:</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): List&lt;T&gt;\n}\n\nclass ListWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: List&lt;T&gt; = emptyList()\n\n    override fun getData(): List&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>I suspect there is some interesting lesson in Kotlin generics inside my issue. Can anyone tell me what the compiler is doing under the hood and why Array fails but List does not? Is there an idiomatic way to make the Array implementation compile in this context?</p>\n\n<p>Bonus question: The only reason I reached for Array over List is that I often see Kotlin developers favor Arrays. Is this the case, and if so, why?</p>\n"}, {"tags": ["list", "kotlin", "mutable"], "answers": [{"tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": false, "score": 15, "last_activity_date": 1508626845, "creation_date": 1508626845, "answer_id": 46868920, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin/46868920#46868920", "title": "Sort data from a MutableList in Kotlin", "body": "<p>Mutable means changeable, so it makes sense that rather than <code>sortBy</code> returning a new list, the order of the items has changed \"in place\" in the current list.</p>\n\n<p>Try looking at the order of the items in <code>myMutableList</code> after the <code>sortBy</code> and you will see they are now in the order requested.</p>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": false, "score": 5, "last_activity_date": 1508647532, "creation_date": 1508647532, "answer_id": 46870580, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin/46870580#46870580", "title": "Sort data from a MutableList in Kotlin", "body": "<p>The kotlin functions <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort.html\" rel=\"noreferrer\"><code>sort</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort-by.html\" rel=\"noreferrer\"><code>sortBy</code></a> etc. all sort the items in the list itself. From the documentation of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort.html\" rel=\"noreferrer\"><code>sort</code></a>:</p>\n\n<blockquote>\n  <p>Sorts the array in-place according to the natural order of its elements.</p>\n</blockquote>\n\n<p>If you don't want to sort the elements in-place but rather return a sorted list (your base doesn't need to be a <code>MutableList</code>), you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted.html\" rel=\"noreferrer\"><code>sorted</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by.html\" rel=\"noreferrer\"><code>sortedBy</code></a> etc:</p>\n\n<blockquote>\n  <p>Returns a list of all elements sorted according to their natural sort order.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1503, "user_id": 8579556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8yYmHTyoi0/AAAAAAAAAAI/AAAAAAAAABI/X0nQIekE8Rk/photo.jpg?sz=128", "display_name": "Luca Murra", "link": "https://stackoverflow.com/users/8579556/luca-murra"}, "is_accepted": false, "score": 0, "last_activity_date": 1517327164, "last_edit_date": 1517327164, "creation_date": 1517326786, "answer_id": 48525220, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin/48525220#48525220", "title": "Sort data from a MutableList in Kotlin", "body": "<p>To sort a mutable list you can use:</p>\n\n<pre><code>Collections.sort(myMutableList)\nCollections.reverse(myMutableList)  //To sort the list by descending order\n</code></pre>\n\n<p>And in kotlin you can use the contract kotlin stdlib instruction, and it becomes:</p>\n\n<pre><code>myMutableList.sort()\nmyMutableList.reverse()  //To sort the list by descending order\n</code></pre>\n\n<p>And then you can call <code>myMutableList</code> and it's order is changed, like this:</p>\n\n<pre><code>val myMutableList = mutableListOf(8,5,4,6)\n\nSystem.out.println(\"myMutableList: ${myMutableList[0]}\")\n\nmyMutableList.sort()\n\nSystem.out.println(\"myMutableList: ${myMutableList[0]}\")\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>myMutableList: 8\nmyMutableList: 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 4519936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cne3i.jpg?s=128&g=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/4519936/mohsen"}, "edited": false, "score": 0, "creation_date": 1578903079, "post_id": 56333078, "comment_id": 105576509, "body": "you can sort with <code>var sortedByName =  myObjectList.sortedBy { it.name }</code> And beside that you can sort with <code>myObjectList.sortedByDescending { it.name }</code>"}], "tags": [], "owner": {"reputation": 39, "user_id": 7794952, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YivBvqCdZ4I/AAAAAAAAAAI/AAAAAAAAABA/_eLuJoLxkvQ/photo.jpg?sz=128", "display_name": "Moises Orduno", "link": "https://stackoverflow.com/users/7794952/moises-orduno"}, "is_accepted": false, "score": 2, "last_activity_date": 1558996332, "creation_date": 1558996332, "answer_id": 56333078, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin/56333078#56333078", "title": "Sort data from a MutableList in Kotlin", "body": "<p>You can do something like this with the properties of the object inside the list, so let's say you have an object with a string and a number</p>\n\n<pre><code>data class MyObject(var name:String,var number:Int)\n</code></pre>\n\n<p>add some values to it</p>\n\n<pre><code> val myObjectList: MutableList&lt;MyObject&gt;? = mutableListOf()\n myObjectList!!.add(MyObject(\"C\",3))\n myObjectList.add(MyObject(\"B\",1))\n myObjectList.add(MyObject(\"A\",2))\n</code></pre>\n\n<p>And then you can sort it by either one of its properties, it'll return a mutable list with the sorted values</p>\n\n<pre><code>var sortedByName =  myObjectList.sortedBy { myObject -&gt; myObject.name }\nvar sortedByNumber =  myObjectList.sortedBy { myObject -&gt; myObject.number }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 10784151, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IRF8ewUvTIE/AAAAAAAAAAI/AAAAAAAAABI/eQBIqHaMffU/photo.jpg?sz=128", "display_name": "TOUSIF AHAMMAD", "link": "https://stackoverflow.com/users/10784151/tousif-ahammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1615965257, "creation_date": 1615965257, "answer_id": 66668490, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin/66668490#66668490", "title": "Sort data from a MutableList in Kotlin", "body": "<p>You can use mutableList's extension methods. like</p>\n<pre><code>list.sort()\nlist.sortBy{it.value}\nlist.sortByDescending()\nlist.sortByDescending{it.value}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 5968720, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a49a6241c969502243d60fe542ef5e20?s=128&d=identicon&r=PG", "display_name": "VTR2015", "link": "https://stackoverflow.com/users/5968720/vtr2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14616, "favorite_count": 1, "answer_count": 5, "score": 11, "last_activity_date": 1615965257, "creation_date": 1508626675, "last_edit_date": 1508647300, "question_id": 46868903, "link": "https://stackoverflow.com/questions/46868903/sort-data-from-a-mutablelist-in-kotlin", "title": "Sort data from a MutableList in Kotlin", "body": "<p>I'm new to Kotlin and need to ask some questions about ordering a <code>MutableList&lt;MyObject&gt;</code>. As I understand it, I can do a <code>myMutableList.sortBy {it.int}</code> and a <code>myMutableList.sortByDescending {it.int}</code> for both <code>Int</code> and <code>String</code>. But return is always a <code>Unit</code> and not a <code>MutableList</code>. </p>\n\n<p>Where am I going wrong and how do I proceed?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508666225, "post_id": 46868437, "comment_id": 80692618, "body": "You could have a look at the generated classes."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508672793, "post_id": 46868437, "comment_id": 80694360, "body": "Does removing <code>import kotlinx.android.synthetic.main.fragment_profile.*</code> help?"}, {"owner": {"reputation": 585, "user_id": 925097, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c5eb181aae80e18b1820aca251c34b4c?s=128&d=identicon&r=PG", "display_name": "Vivek C A", "link": "https://stackoverflow.com/users/925097/vivek-c-a"}, "edited": false, "score": 0, "creation_date": 1526018502, "post_id": 46868437, "comment_id": 87587697, "body": "did you find any solution for this?"}, {"owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "edited": false, "score": 0, "creation_date": 1526079422, "post_id": 46868437, "comment_id": 87619155, "body": "I believe it was a conflict between Butterknife and the new kotlin synthetic imports. I think the conflict might have been resolved, but in my case I just used Sergio&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 1056, "user_id": 1887402, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n6sUb.jpg?s=128&g=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/1887402/rick"}, "edited": false, "score": 1, "creation_date": 1512455570, "post_id": 46868564, "comment_id": 82253100, "body": "But can a function be defined directly which binds to on click?"}, {"owner": {"reputation": 977, "user_id": 5105806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/07ad97fe6e4a8ad317f6d1b89fbb8fdb?s=128&d=identicon&r=PG&f=1", "display_name": "has19", "link": "https://stackoverflow.com/users/5105806/has19"}, "edited": false, "score": 0, "creation_date": 1555539973, "post_id": 46868564, "comment_id": 98151499, "body": "actually u don&#39;t need to even use findViewById in kotlin , just access the view button directly using its id like this  &#39;btn_click_me.setOnClickListener{}&#39;"}, {"owner": {"reputation": 2169, "user_id": 858626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/01444692638f193c72b1c140fca8382e?s=128&d=identicon&r=PG", "display_name": "Jose_GD", "link": "https://stackoverflow.com/users/858626/jose-gd"}, "reply_to_user": {"reputation": 977, "user_id": 5105806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/07ad97fe6e4a8ad317f6d1b89fbb8fdb?s=128&d=identicon&r=PG&f=1", "display_name": "has19", "link": "https://stackoverflow.com/users/5105806/has19"}, "edited": false, "score": 0, "creation_date": 1598628335, "post_id": 46868564, "comment_id": 112530442, "body": "@has19 provided you added <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> to the module&#39;s build.gradle"}], "tags": [], "owner": {"reputation": 744, "user_id": 6913016, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0b6177616ddaeed18dab5860e52d112a?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio", "link": "https://stackoverflow.com/users/6913016/sergio"}, "is_accepted": true, "score": 2, "last_activity_date": 1508623395, "creation_date": 1508623395, "answer_id": 46868564, "question_id": 46868437, "link": "https://stackoverflow.com/questions/46868437/butterknife-onclick-annotation-not-working-in-kotlin-fragment/46868564#46868564", "title": "ButterKnife @OnClick annotation not working in Kotlin fragment", "body": "<p>Why don't you do it like this?</p>\n\n<pre><code>// get reference to button\nval btn_click_me = findViewById(R.id.btn_click_me) as Button\n// set on-click listener\nbtn_click_me.setOnClickListener {\n    // your code to perform when the user clicks on the button\n    Toast.makeText(this@MainActivity, \"You clicked me.\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1789, "user_id": 8726579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6eTA.jpg?s=128&g=1", "display_name": "Rishabh Saxena", "link": "https://stackoverflow.com/users/8726579/rishabh-saxena"}, "is_accepted": false, "score": 6, "last_activity_date": 1558210426, "creation_date": 1558210426, "answer_id": 56202515, "question_id": 46868437, "link": "https://stackoverflow.com/questions/46868437/butterknife-onclick-annotation-not-working-in-kotlin-fragment/56202515#56202515", "title": "ButterKnife @OnClick annotation not working in Kotlin fragment", "body": "<p>If you are using Kotlin, replace <code>annotationProcessor</code> with <code>kapt</code></p>\n\n<p>The reason behind it is that may be you are using dependencies like this :</p>\n\n<pre><code>dependencies {\n  implementation 'com.jakewharton:butterknife:10.1.0'\n  annotationProcessor 'com.jakewharton:butterknife-compiler:10.1.0'\n}\n</code></pre>\n\n<p>replace it like this:</p>\n\n<pre><code>dependencies {\n  implementation 'com.jakewharton:butterknife:10.1.0'\n  kapt'com.jakewharton:butterknife-compiler:10.1.0'\n}\n</code></pre>\n"}], "owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 0, "accepted_answer_id": 46868564, "answer_count": 2, "score": 7, "last_activity_date": 1558210426, "creation_date": 1508622338, "question_id": 46868437, "link": "https://stackoverflow.com/questions/46868437/butterknife-onclick-annotation-not-working-in-kotlin-fragment", "title": "ButterKnife @OnClick annotation not working in Kotlin fragment", "body": "<p>I like the readability of the <code>@OnClick</code> attribute from ButterKnife: hence, I'm using it even in Kotlin. Unfortunately, the click handler just isn't being fired when I click. Am I missing something? Is there something I have to do to integrate the click listener in kotlin?</p>\n\n<p><strong>Fragment:</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_profile.*\n\nclass ProfileFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val view = inflater!!.inflate(R.layout.fragment_profile, container, false)\n        ButterKnife.bind(this, view)\n\n\n        return view\n    }\n\n    companion object {\n        fun newInstance(): ProfileFragment {\n            return ProfileFragment()\n        }\n    }\n\n    @OnClick(R.id.fab)\n    public fun onFab() {\n        Toast.makeText(activity, \"ABC\", Toast.LENGTH_LONG).show()\n        Snackbar.make(container, \"Hey there!\", Snackbar.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n\n<p><strong>Layout</strong></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"300dp\"&gt;\n\n&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"16dp\"\n    android:layout_gravity=\"bottom|right|end\"\n    android:src=\"@drawable/ic_edit\"\n    app:fabSize=\"normal\"\n    app:elevation=\"6dp\"\n    app:pressedTranslationZ=\"12dp\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": ["arrays", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 1253, "user_id": 1415751, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AcTjh.jpg?s=128&g=1", "display_name": "Tiar&#234; Balbi", "link": "https://stackoverflow.com/users/1415751/tiar%c3%aa-balbi"}, "edited": false, "score": 0, "creation_date": 1508615702, "post_id": 46867406, "comment_id": 80682247, "body": "Just a comment, the code above is just Java masked in a Kotlin file, my recommendation is to you try to look Kotlin code in a different way, this will help you to use everything that we have available."}, {"owner": {"reputation": 2497, "user_id": 4280615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vNe8H.png?s=128&g=1", "display_name": "Nate Vaughan", "link": "https://stackoverflow.com/users/4280615/nate-vaughan"}, "reply_to_user": {"reputation": 1253, "user_id": 1415751, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AcTjh.jpg?s=128&g=1", "display_name": "Tiar&#234; Balbi", "link": "https://stackoverflow.com/users/1415751/tiar%c3%aa-balbi"}, "edited": false, "score": 1, "creation_date": 1508615899, "post_id": 46867406, "comment_id": 80682314, "body": "Absolutely. This is why I asked the question."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 11, "last_activity_date": 1508619879, "last_edit_date": 1508619879, "creation_date": 1508615540, "answer_id": 46867431, "question_id": 46867406, "link": "https://stackoverflow.com/questions/46867406/kotlin-filter-lambda-array-using-iteration-index/46867431#46867431", "title": "Kotlin filter lambda array using iteration index", "body": "<p>Use Array.withIndex():</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html</a>:</p>\n\n<pre><code>array.withIndex().filter { (i, value) -&gt; i % n == 0 }.map { (i, value) -&gt; value }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 27, "last_activity_date": 1508628173, "creation_date": 1508628173, "answer_id": 46869060, "question_id": 46867406, "link": "https://stackoverflow.com/questions/46867406/kotlin-filter-lambda-array-using-iteration-index/46869060#46869060", "title": "Kotlin filter lambda array using iteration index", "body": "<p><code>filterIndexed</code> function is suited exactly for this case:</p>\n\n<pre><code>array.filterIndexed { index, value -&gt; index % n == 0 }\n</code></pre>\n"}], "owner": {"reputation": 2497, "user_id": 4280615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vNe8H.png?s=128&g=1", "display_name": "Nate Vaughan", "link": "https://stackoverflow.com/users/4280615/nate-vaughan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9721, "favorite_count": 1, "accepted_answer_id": 46869060, "answer_count": 2, "score": 9, "last_activity_date": 1508628173, "creation_date": 1508615355, "question_id": 46867406, "link": "https://stackoverflow.com/questions/46867406/kotlin-filter-lambda-array-using-iteration-index", "title": "Kotlin filter lambda array using iteration index", "body": "<p>I would like to filter an array into an array of every nth item. For examples:</p>\n\n<pre><code>fun getNth(array: Array&lt;Any&gt;, n: Int): Array&lt;Any&gt; {\n    val newList = ArrayList&lt;Any&gt;()\n    for  (i in 0..array.size) {\n        if (i % n == 0) {\n            newList.add(array[i])\n        }\n    }\n    return newList.toArray()\n}\n</code></pre>\n\n<p>Is there an idiomatic way to do this using for example Kotlin's .filter() and without A) provisioning a new ArrayList and B) manually iterating with a for/in loop?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1508617805, "post_id": 46867157, "comment_id": 80682861, "body": "What is the whole error message? I&#39;ve posted only half"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1508619485, "post_id": 46867157, "comment_id": 80683319, "body": "after Found: is nothing"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1508619643, "post_id": 46867157, "comment_id": 80683366, "body": "Well that&#39;s obviously not good. Can you reproduce the problem in another environment, like <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a>?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508671362, "post_id": 46867157, "comment_id": 80693968, "body": "What happens if you remove <code>equals</code> from the interface definition? Also is it possible you&#39;re importing the wrong (java) class somehow?"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508615171, "creation_date": 1508613897, "last_edit_date": 1508615171, "question_id": 46867157, "link": "https://stackoverflow.com/questions/46867157/kotlin-error-when-converting-from-java-code", "title": "Kotlin error when converting from Java code", "body": "<p>I have an ArraysHelper class which looks like this in Java:</p>\n\n<pre><code>public class ArraysHelper&lt;T&gt; {\n\n  public final Iterable&lt;T&gt; iterable;\n\n  private ArraysHelper(Iterable&lt;T&gt; iterable) {\n    this.iterable = iterable;\n  }\n\n  public static &lt;T&gt; T[] concat(T[] array, @Nullable T element) {\n    T[] result = Arrays.copyOf(array, array.length + 1);\n    result[array.length] = element;\n    return result;\n  }\n\n  public final ArraysHelper&lt;T&gt; filter(Prediction&lt;T&gt; prediction) {\n    return from(filter(iterable, prediction));\n  }\n\n  private static &lt;T&gt; List&lt;T&gt; filter(Iterable&lt;T&gt; iterable, Prediction&lt;T&gt; predicate) {\n    ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n    for (T object : iterable) {\n        if (predicate.apply(object)) {\n            list.add(object);\n        }\n    }\n\n    return list;\n  }\n\n  public final List&lt;T&gt; toList() {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    for (T item : iterable) {\n        list.add(item);\n    }\n    return list;\n  }\n\n  public static &lt;T&gt; ArraysHelper&lt;T&gt; from(final Iterable&lt;T&gt; iterable) {\n    return new ArraysHelper&lt;&gt;(iterable);\n  }\n}\n</code></pre>\n\n<p>I converted it to Kotlin like this:</p>\n\n<pre><code>class ArraysHelper&lt;T&gt; private constructor(val iterable: Iterable&lt;T&gt;) {\n\n  fun filter(prediction: Prediction&lt;T&gt;): ArraysHelper&lt;T&gt; {\n    return from(filter(iterable, prediction))\n  }\n\n  fun toList(): ArrayList&lt;T&gt; {\n    val list = ArrayList&lt;T&gt;()\n    for (item in iterable) {\n        list.add(item)\n    }\n    return list\n  }\n\n  companion object {\n\n    fun &lt;T&gt; concat(array: Array&lt;T&gt;, element: T?): Array&lt;T&gt; {\n        val result = Arrays.copyOf(array, array.size + 1)\n        result[array.size] = element\n        return result\n    }\n\n    private fun &lt;T&gt; filter(iterable: Iterable&lt;T&gt;, predicate: Prediction&lt;T&gt;): ArrayList&lt;T&gt; {\n        val list = ArrayList&lt;T&gt;()\n        for (`object` in iterable) {\n            if (predicate.apply(`object`)) {\n                list.add(`object`)\n            }\n        }\n\n        return list\n    }\n\n\n    fun &lt;T&gt; from(iterable: Iterable&lt;T&gt;): ArraysHelper&lt;T&gt; {\n        return ArraysHelper(iterable)\n    }\n  }\n}\n</code></pre>\n\n<p>I am also converted one interface which i am using. In java:</p>\n\n<pre><code>public interface Prediction&lt;T&gt; {\n\n  boolean apply(@Nullable T input);\n\n  @Override\n  boolean equals(@Nullable Object object);\n}\n</code></pre>\n\n<p>In Kotlin:</p>\n\n<pre><code>interface Prediction&lt;T&gt; {\n\n  fun apply(input: T?): Boolean\n\n  override fun equals(`object`: Any?): Boolean\n}\n</code></pre>\n\n<p>Now to the point - I want to use those here:</p>\n\n<pre><code> val rssiEvents = locationRSSIEvents\n    if (rssiEvents.isNotEmpty()) {\n        val latestRSSIEvent = rssiEvents.last()\n\n        val cleanedGeoEvents = ArraysHelper.from&lt;LocationGeoEvent&gt;(locationGeoEvents).filter(object : Prediction&lt;LocationGeoEvent&gt; {\n            override fun apply(input: LocationGeoEvent): Boolean {\n                return Math.abs(input.timestamp - latestRSSIEvent.timestamp) &lt; maxTimeDifferenceSeconds * 1000\n            }\n        }).toList()\n\n    }\n</code></pre>\n\n<p>But in IDE(Android Studio 3.0) underlines the filter method:</p>\n\n<pre><code>object : Prediction&lt;LocationGeoEvent&gt;\n</code></pre>\n\n<p>and it says:</p>\n\n<pre><code>Required: Prediction&lt;LocationGeoEvent&gt; Found: \n</code></pre>\n\n<p>So what exatcly is wrong with it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Of course, in Kotlin i can make something like this:</p>\n\n<pre><code>    val cleanedGeoEvents = locationGeoEvents\n                .filter { locationGeoEvent -&gt; Math.abs(locationGeoEvent.timestamp - latestRSSIEvent.timestamp) &lt; maxTimeDifferenceSeconds * 1000 }\n                .toList()\n</code></pre>\n\n<p>But still, will be useful what exactly is wrong with this previous version</p>\n"}, {"tags": ["opengl", "3d", "kotlin", "lwjgl"], "comments": [{"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 2, "creation_date": 1508614185, "post_id": 46867132, "comment_id": 80681853, "body": "The &quot;named&quot; functions are only available in newer versions of OpenGL such as 4.5. They did not exist before. What to use depends on whether you want to ensure compatibility with older hardware or not."}], "answers": [{"comments": [{"owner": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "reply_to_user": {"reputation": 543, "user_id": 3027604, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wUHYR.jpg?s=128&g=1", "display_name": "Hitokage", "link": "https://stackoverflow.com/users/3027604/hitokage"}, "edited": false, "score": 1, "creation_date": 1508705259, "post_id": 46867213, "comment_id": 80705031, "body": "@Hitokage: What exactly do you mean? It is core since 4.5."}, {"owner": {"reputation": 543, "user_id": 3027604, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wUHYR.jpg?s=128&g=1", "display_name": "Hitokage", "link": "https://stackoverflow.com/users/3027604/hitokage"}, "edited": false, "score": 0, "creation_date": 1508823746, "post_id": 46867213, "comment_id": 80752550, "body": "Ah sorry, my mistake."}], "tags": [], "owner": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "is_accepted": true, "score": 3, "last_activity_date": 1508619502, "last_edit_date": 1508619502, "creation_date": 1508614233, "answer_id": 46867213, "question_id": 46867132, "link": "https://stackoverflow.com/questions/46867132/why-bind-opengl-buffer-objects/46867213#46867213", "title": "Why bind OpenGL buffer objects?", "body": "<p>The named functions are part of the <code>ARB_direct_state_access</code> extension which was introduced in OpenGL 4.5. Before that only the normal methods existed.</p>\n\n<p>The main reason for using the older version is when targeting pre OpenGL 4.5 hardware. Most tutorials are also written against older versions of OpenGL.</p>\n"}], "owner": {"reputation": 1265, "user_id": 4385297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/999fea9eb37d49b4c7a4dd44c6759ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/4385297/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 46867213, "answer_count": 1, "score": 2, "last_activity_date": 1508619502, "creation_date": 1508613779, "question_id": 46867132, "link": "https://stackoverflow.com/questions/46867132/why-bind-opengl-buffer-objects", "title": "Why bind OpenGL buffer objects?", "body": "<p>In OpenGL a general procedure is to bind a named buffer object (or vertex array object, framebuffer, ...), invoke some operations on the currently bound object and then bind some kind of \"default\" object:</p>\n\n<pre><code>glBindBufferObject(GL_ARRAY_BUFFER, bufferObjectName)\nglBufferData(GL_ARRAY_BUFFER, data, GL_STATIC_DRAW)\nglBindBufferObject(GL_ARRAY_BUFFER, 0)\n</code></pre>\n\n<p>(LWJGL in Kotlin)</p>\n\n<p>I just discovered that there are \"named\" version for many functions. The example from above would become something like</p>\n\n<pre><code>glNamedBufferData(bufferObjectName, data, GL_STATIC_DRAW)\n</code></pre>\n\n<p>which is way more suitable in an object-oriented context.</p>\n\n<p>So why use something like in the first example? Every tutorial I came upon used the first approach, so is there some performance lost or similar downsides in the \"named\" approach?</p>\n"}, {"tags": ["android", "swift", "kotlin"], "comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 2, "creation_date": 1508607346, "post_id": 46866052, "comment_id": 80679625, "body": "Kotlin in swift for ios? Wtf."}, {"owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508608589, "post_id": 46866052, "comment_id": 80680031, "body": "Kotlin for Android. In Swift for Ios, I have editted my question"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1508611726, "post_id": 46866052, "comment_id": 80681022, "body": "<code>pullToRefresh.setOnClickListener {  view -&gt; viewmodel.didTapRefresh() }</code>"}, {"owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1508613942, "post_id": 46866052, "comment_id": 80681781, "body": "bind in swift is kind of Reactive thing"}, {"owner": {"reputation": 392, "user_id": 3648678, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f5d3d3463ad87237ca6d6e3b50f99b35?s=128&d=identicon&r=PG&f=1", "display_name": "gyosida", "link": "https://stackoverflow.com/users/3648678/gyosida"}, "edited": false, "score": 0, "creation_date": 1508619547, "post_id": 46866052, "comment_id": 80683336, "body": "that is a swifts rx extension isn&#39;t it?"}, {"owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1508619746, "post_id": 46866052, "comment_id": 80683389, "body": "it is swift rxcocoa"}], "owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508608601, "creation_date": 1508607144, "last_edit_date": 1508608601, "question_id": 46866052, "link": "https://stackoverflow.com/questions/46866052/mvvm-bind-in-android", "title": "MVVM bind in Android", "body": "<p>I write an Android application using Kotlin.\nIn swift for ios, I have written these code for MVVM but I do not know what I can use for Android</p>\n\n<pre><code> view.pullToRefresh.tap.bind(to: viewmodel.didTapRefresh)\n</code></pre>\n\n<p>When write Rx code, I can use method bind. But I cannot find the same thing for Android. </p>\n\n<p>Can you show me how you write these code in Kotlin? Thank you</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508599699, "post_id": 46864838, "comment_id": 80677124, "body": "Because you&#39;re adding the fragment even if it&#39;s already added (see after rotation for example)"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508601075, "post_id": 46864838, "comment_id": 80677589, "body": "Even when the page loads for the first time? (it happens even when I haven&#39;t actually touched the bottom nav bar, like right when the home screen opens up)"}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 4274055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ca8fb0057f2fb7d6ffb2c4b5907564?s=128&d=identicon&r=PG&f=1", "display_name": "GRK", "link": "https://stackoverflow.com/users/4274055/grk"}, "is_accepted": true, "score": 0, "last_activity_date": 1508751333, "creation_date": 1508751333, "answer_id": 46886122, "question_id": 46864838, "link": "https://stackoverflow.com/questions/46864838/ghost-bottom-navigation-bar-when-fragment-loads-in-home-activity/46886122#46886122", "title": "&quot;Ghost&quot; Bottom Navigation Bar when fragment loads in home activity", "body": "<p>You have added <code>android.support.design.widget.BottomNavigationView</code> in both <code>activity_home.xml</code> as well as in <code>home_fragment.xml</code>. So you are seeing two bottom navigation views.  </p>\n\n<p>you have set listener to the activity's navigation view But didn't set any listener to the fragment's navigation view and so the one that is shown in the middle is not functional.</p>\n\n<p>Remove navigation view from <code>home_fragment.xml</code>. It should solve the issue.</p>\n"}], "owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 46886122, "answer_count": 1, "score": 0, "last_activity_date": 1508751333, "creation_date": 1508599577, "question_id": 46864838, "link": "https://stackoverflow.com/questions/46864838/ghost-bottom-navigation-bar-when-fragment-loads-in-home-activity", "title": "&quot;Ghost&quot; Bottom Navigation Bar when fragment loads in home activity", "body": "<p>I'm currently working on the home screen of my app and am using fragments to load the different \"pages\" when a user clicks on a button on a bottom navigation bar.  What I've found is that when I load the home screen the bottom bar seems to reload itself again, creating two bars, one in the middle of the page and one in the proper position at the bottom of the screen (while the middle bar isn't actually functional).  I'm thinking that the fragment loading in the activity is the cause, but I'm not entirely sure on how to solve it.  Below is an image of the problem as well as some of the code that I've got.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hRNFT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRNFT.jpg\" alt=\"image of android app screen highlighting the &quot;ghost&quot; navigation bar\"></a>\nactivity_home.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:design=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/home_screen\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        tools:ignore=\"MissingConstraints\"\n        tools:layout_editor_absoluteX=\"0dp\"\n        tools:layout_editor_absoluteY=\"225dp\" /&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n            &lt;FrameLayout\n                android:id=\"@+id/fragment_container\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\" /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/frame_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom\"\n        android:background=\"#f1f1f1\"\n        tools:layout_editor_absoluteX=\"8dp\"\n        tools:layout_editor_absoluteY=\"25dp\"&gt;\n\n        &lt;View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"2dp\"\n            android:background=\"@drawable/shadow\" /&gt;\n\n        &lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/bottom_nav\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"start\"\n            design:menu=\"@menu/bottom_nav_menu\"\n            /&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>home_fragment.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:design=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/home_fragment\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:layout_editor_absoluteX=\"0dp\"\n        tools:layout_editor_absoluteY=\"0dp\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tokyo_placeholder\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:adjustViewBounds=\"true\"\n            android:scaleType=\"fitStart\"\n            design:layout_constraintLeft_toLeftOf=\"parent\"\n            design:layout_constraintRight_toRightOf=\"parent\"\n            design:layout_constraintTop_toTopOf=\"parent\"\n            design:srcCompat=\"@drawable/main_screen_placeholder\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/airplane_icon\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:background=\"@drawable/circle_background\"\n            design:layout_constraintBottom_toBottomOf=\"@+id/tokyo_placeholder\"\n            design:layout_constraintLeft_toLeftOf=\"@+id/tokyo_placeholder\"\n            design:layout_constraintRight_toRightOf=\"@+id/tokyo_placeholder\"\n            design:layout_constraintTop_toTopOf=\"@+id/tokyo_placeholder\"\n            design:srcCompat=\"@drawable/icons8_airplane_48\" /&gt;\n\n        &lt;include\n            layout=\"@layout/app_bar\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            tools:ignore=\"MissingConstraints\"\n            tools:layout_editor_absoluteX=\"0dp\"\n            tools:layout_editor_absoluteY=\"225dp\" /&gt;\n\n        &lt;TableLayout\n            android:layout_width=\"349dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"8dp\"\n            android:orientation=\"horizontal\"\n            design:layout_constraintLeft_toLeftOf=\"parent\"\n            design:layout_constraintRight_toRightOf=\"parent\"\n            design:layout_constraintTop_toBottomOf=\"@+id/tokyo_placeholder\"&gt;\n\n            &lt;TableRow\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/destination_headline\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"sans-serif\"\n                    android:text=\"Featured Destinations\"\n                    android:textAllCaps=\"true\"\n                    android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                    android:textSize=\"14sp\"\n                    android:textStyle=\"bold\" /&gt;\n\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:layout_editor_absoluteX=\"8dp\"\n                tools:layout_editor_absoluteY=\"8dp\"&gt;\n\n\n                &lt;HorizontalScrollView\n                    android:id=\"@+id/horizontal_scroll\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    tools:layout_editor_absoluteX=\"8dp\"\n                    tools:layout_editor_absoluteY=\"8dp\"&gt;\n\n                    &lt;LinearLayout\n                        android:id=\"@+id/featured_destinations_gallery\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:orientation=\"horizontal\" &gt;\n\n                    &lt;/LinearLayout&gt;\n                &lt;/HorizontalScrollView&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/saved_trips_headline\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"sans-serif\"\n                    android:text=\"Saved Trips\"\n                    android:textAllCaps=\"true\"\n                    android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                    android:textSize=\"14sp\"\n                    android:textStyle=\"bold\" /&gt;\n            &lt;/TableRow&gt;\n\n        &lt;/TableLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom\"&gt;\n\n        &lt;View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"4dp\"\n            android:background=\"@drawable/shadow\" /&gt;\n\n        &lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/bottom_nav\"\n            elevation=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom\"\n            design:menu=\"@menu/bottom_nav_menu\" /&gt;\n\n    &lt;/FrameLayout&gt;\n    &lt;!-- TODO: Make page scrollable and fix bottom navigation bar --&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>HomeActivity.kt</p>\n\n<pre><code>package projectrc_android.project_rc\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.design.widget.BottomNavigationView\nimport android.support.v7.widget.Toolbar\nimport projectrc_android.project_rc.R.*\n\n\nclass HomeActivity : AppCompatActivity() {\n\n    private var current_fragment = id.home_fragment\n    private val fragmentManager = supportFragmentManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(layout.activity_home)\n\n        val toolbar = findViewById(R.id.app_bar) as Toolbar\n        setSupportActionBar(toolbar)\n        supportActionBar?.setDisplayShowTitleEnabled(false)\n\n        val bottomNavigationBar = findViewById(id.bottom_nav) as BottomNavigationView // get bottom navigation bar\n        bottomNavigationBar.selectedItemId = R.id.home_button  // set the selected menu item to home at the start\n        ShowFragment(R.id.home_button) // load the home fragment item into the activity\n        var selectedMenuItem = bottomNavigationBar.selectedItemId  // get currently selected menu item\n\n        bottomNavigationBar.setOnNavigationItemSelectedListener { item -&gt;\n            if(item.itemId != selectedMenuItem) { // if the user picks a button that's NOT the currently selected one\n                selectedMenuItem = item.itemId // update the selected menu item\n                ShowFragment(item.itemId)\n            }\n            true\n        }\n    }\n\n    private fun ShowFragment(menuButton: Int) {\n        val transaction = fragmentManager.beginTransaction()\n        when (menuButton) {\n            R.id.home_button -&gt; {\n                transaction.replace(R.id.fragment_container, HomeFragment())\n                current_fragment = R.id.home_fragment\n            }\n            R.id.inbox_button -&gt; {\n                    transaction.replace(R.id.fragment_container, InboxFragment())\n                    current_fragment = R.id.inbox_fragment\n            }\n            R.id.account_button -&gt; {\n                transaction.replace(R.id.fragment_container, AccountFragment())\n                current_fragment = R.id.account_fragment\n            }\n        }\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n}\n</code></pre>\n\n<p>HomeFragment.kt</p>\n\n<pre><code>package projectrc_android.project_rc\n\nimport android.support.v4.app.Fragment;\nimport android.content.Context\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.LinearLayout\nimport android.widget.ImageView\nimport com.bumptech.glide.Glide\nimport com.bumptech.glide.request.RequestOptions\n\nclass HomeFragment : Fragment() {\n    private val imagePaths = intArrayOf(R.drawable.cuba_placeholder, R.drawable.s_korea_placeholder,\n            R.drawable.greece_placeholder, R.drawable.san_francisco_placeholder, R.drawable.cuba_placeholder, R.drawable.s_korea_placeholder,\n            R.drawable.greece_placeholder, R.drawable.san_francisco_placeholder)\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        var view = inflater!!.inflate(R.layout.home_fragment, container, false)\n        val destinationGallery = view.findViewById(R.id.featured_destinations_gallery) as LinearLayout\n        //set up toolbar in place of action bar (and remove title)\n\n\n        //dynamically add images to scrollview\n        addImageToLayout(view.context, destinationGallery, imagePaths, 260, 360)\n        return view\n    }\n\n\n    private fun addImageToLayout(context : Context, layout: LinearLayout, imagePaths: IntArray, width: Int, height: Int) {\n        val numberOfImages = imagePaths.size\n        for (index in 0 until numberOfImages) {\n            val imageView = ImageView(context)\n            imageView.id = index\n            imageView.setPadding(2, 2, 2, 2)\n            Glide\n                    .with(this)\n                    .load(imagePaths[index])\n                    .apply(RequestOptions()\n                            .override(width, height)\n                            .centerCrop())\n                    .into(imageView)\n            layout.addView(imageView)\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["go", "kotlin", "coroutine", "goroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1508918506, "post_id": 46864623, "comment_id": 80800857, "body": "The distinction between &quot;stackful coroutines&quot; and &quot;stackless coroutines&quot; is ill-defined and moot. See my JVMLS talk for details: <a href=\"https://www.youtube.com/watch?v=3xalVUY69Ok\" rel=\"nofollow noreferrer\">youtube.com/watch?v=3xalVUY69Ok</a>"}], "answers": [{"comments": [{"owner": {"reputation": 42799, "user_id": 720999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04ee78e90161fa1c4dce14d615315160?s=128&d=identicon&r=PG", "display_name": "kostix", "link": "https://stackoverflow.com/users/720999/kostix"}, "edited": false, "score": 2, "creation_date": 1508829990, "post_id": 46865213, "comment_id": 80755729, "body": "The &#171;There is no way to say in code &quot;run these goroutines on the same OS thread&quot;.&#187; is not 100% true: the <code>runtime.LockOSThread()</code> calls locks the calling goroutine to the OS thread it&#39;s currently running on. This will ensure that the calling goroutine will always be scheduled on that same thread and no other goroutine will. OTOH, except for very rare cases, this is not needed, and in fact is often counter-productive as the Go scheduler tries very hard to ensure a goroutine removed from a thread is scheduled again on it, if possible."}, {"owner": {"reputation": 42799, "user_id": 720999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04ee78e90161fa1c4dce14d615315160?s=128&d=identicon&r=PG", "display_name": "kostix", "link": "https://stackoverflow.com/users/720999/kostix"}, "edited": false, "score": 5, "creation_date": 1508830067, "post_id": 46865213, "comment_id": 80755768, "body": "@Max, consider reading <a href=\"http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">this classic essay</a> on the difference between concurrency-as-a-library and concurrency-via-runtime-scheduler distinction (here: Java+anything vs Go)."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 42799, "user_id": 720999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04ee78e90161fa1c4dce14d615315160?s=128&d=identicon&r=PG", "display_name": "kostix", "link": "https://stackoverflow.com/users/720999/kostix"}, "edited": false, "score": 1, "creation_date": 1508918290, "post_id": 46865213, "comment_id": 80800729, "body": "@kostix Thanks. Corrected, by removing this section for accuracy."}, {"owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "reply_to_user": {"reputation": 42799, "user_id": 720999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04ee78e90161fa1c4dce14d615315160?s=128&d=identicon&r=PG", "display_name": "kostix", "link": "https://stackoverflow.com/users/720999/kostix"}, "edited": false, "score": 0, "creation_date": 1589546968, "post_id": 46865213, "comment_id": 109344487, "body": "@kostix I actually found <code>runtime.LockOSThread()</code> useful. I had a CPU bound task which I parallelized by goroutines. I actually needed threads, but we don&#39;t have that in Go. I found locking goroutine to be much faster."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 96, "last_activity_date": 1508918254, "last_edit_date": 1508918254, "creation_date": 1508602148, "answer_id": 46865213, "question_id": 46864623, "link": "https://stackoverflow.com/questions/46864623/which-of-coroutines-goroutines-and-kotlin-coroutines-are-faster/46865213#46865213", "title": "Which of coroutines (goroutines and kotlin coroutines) are faster?", "body": "<p>Coroutines in Kotlin are implemented in a different way than goroutines in Go, so which one is \"faster\" depends on the problem that you are solving and the kind of code you are writing.</p>\n\n<p>In general, it is very hard to tell in advance which one is going to work better for a problem you have at hand. You have to run benchmarks for your particular workloads to figure it out. However, here is a general summary of key differences that should give you some guidance.</p>\n\n<ul>\n<li><p>Kotlin coroutines require less memory per simple instance than Go goroutines. A simple coroutine in Kotlin occupies only a few dozen bytes of heap memory, while a Go goroutine starts with 4KiB of stack space. It means, that if you are planning to have literally millions of coroutines, then coroutines in Kotlin might give you an edge versus Go. It also makes Kotlin coroutines better suited for very short-lived and small tasks like generators and lazy sequences.</p></li>\n<li><p>Kotlin coroutines can go to any stack depth, however each invocation of suspending function allocates object in heap for its stack. An invocation stack in Kotlin coroutines is currently implemented as a linked list of heap objects. In contrast, goroutines in Go use linear stack space. This makes suspension on deep stacks more efficient in Go. So, if the code you are writing suspends very deep down the stack, you may find that goroutines are more efficient for you.</p></li>\n<li><p>Efficient asynchronous IO is a very multidimensional design problem. An approach that is efficient for one kind of application may not give the best performance to another one. All IO operations in Kotlin coroutines are implemented by libraries written in Kotlin or Java. There is a huge variety of IO libraries available to Kotlin code. In Go asynchronous IO is implemented by Go runtime using primitives that are not available to general Go code. If Go approach to implementing IO operations is well suited to your application, then you might find that its tight integration with Go runtime gives you an advantage. On the other side, in Kotlin you can find a library or write one yourself that implements asynchronous IO in a way that is best suited to your application.</p></li>\n<li><p>Go runtime takes complete control of scheduling goroutines execution on the physical OS threads. The advantage of this approach is that you don't have to think about it all. With Kotlin coroutines you have fine-grained control on the execution environment of your coroutines. This is error-prone (e.g. you may simply create too many different thread-pools and waste your CPU time on context switching between them). However, it gives you ability to fine-tune your thread allocation and context switches for your application. For example, in Kotlin it is easy to execute your whole application or a subset of its code in a single OS thread (or thread pool) to completely avoid switching contexts between OS threads just by writing an appropriate code for that.</p></li>\n</ul>\n"}], "owner": {"reputation": 1383, "user_id": 4167563, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/90cc579fcc609be0144e24cdd6e056fa?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/4167563/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9239, "favorite_count": 26, "closed_date": 1508829717, "accepted_answer_id": 46865213, "answer_count": 1, "score": 40, "last_activity_date": 1552981640, "creation_date": 1508598099, "last_edit_date": 1552981640, "question_id": 46864623, "link": "https://stackoverflow.com/questions/46864623/which-of-coroutines-goroutines-and-kotlin-coroutines-are-faster", "closed_reason": "Needs more focus", "title": "Which of coroutines (goroutines and kotlin coroutines) are faster?", "body": "<p>Kotlin corutines is sugar for finite state machine and some task runner (for example, default ForkJoinPool). <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#implementation-details\" rel=\"noreferrer\">https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#implementation-details</a> </p>\n\n<p>In other words, there is no runtime coroutines in java/kotlin runtime yet (but this can change with <a href=\"http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\" rel=\"noreferrer\">http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html</a> ). Kotlin coroutine is just sequential of tasks, which are executed one by one. Each task can be executed in any thread from thread pool.</p>\n\n<p>Go runtime supports \"coroutines\". But goroutines is not the real coroutines. Goroutines does not allow to set yield points in program. Also, Go does not allow to set custom thread pool. You can to set only size of threads in default pool. </p>\n\n<p>First difference between kotlin coroutines and goroutines is Go runtime manages which coroutine is running at this moment. When goroutine are blocked at some IO operation (or synchronization primitives), Go choices next Job to execute it. In JVM there is no intellectual job switching in such terms. </p>\n\n<p>Because of this, Go can cheaply change currently running job. Go has only to change few registries <a href=\"https://groups.google.com/forum/#!msg/golang-nuts/j51G7ieoKh4/wxNaKkFEfvcJ\" rel=\"noreferrer\"><a href=\"https://groups.google.com/forum/#!msg/golang-nuts/j51G7ieoKh4/wxNaKkFEfvcJ\" rel=\"noreferrer\">https://groups.google.com/forum/#!msg/golang-nuts/j51G7ieoKh4/wxNaKkFEfvcJ</a></a>. But some people say, that JVM can use stack of threads instead of using registers. So there is no saving and loading of registers at all.</p>\n\n<p>The second difference between kotlin coroutines and goroutines is type of coroutines. Kotlin coroutines is stackless coroutines. Goroutines are stackful coroutines. All state of Kotlin coroutines are stored in Kotlin context, which is stored in heap. Goroutines state is stored in registers and thread stack.</p>\n\n<p>I want to know, which coroutines (goroutines and kotlin coroutines) are faster in IO bound tasks? CPU bound tasks? What about memory consumption?</p>\n"}, {"tags": ["android", "kotlin", "fragment-oncreateview"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1508593935, "post_id": 46863935, "comment_id": 80675262, "body": "I might also add, that in my custom view code, I am initializing a load of properties in Kotlin&#39;s &quot;init { }&quot; block."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1508594234, "post_id": 46863935, "comment_id": 80675354, "body": "Always post you stacktrace and all relevant parts of your code please."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1508595340, "post_id": 46863935, "comment_id": 80675664, "body": "How the hell is this a duplicate of &quot;what&#39;s a null pointer and how to fix it?&quot; Are you effing kidding me?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1508596690, "post_id": 46863935, "comment_id": 80676155, "body": "Do you have multiple layout resources for different configurations? Also better use <code>inflater!!</code> instead of <code>inflater ?: LayoutInflater.from(context)</code> or define it as non-null <code>LayoutInflater</code>."}, {"owner": {"reputation": 2364, "user_id": 383676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/512533dbca12b5d8f03aade683e2fdd4?s=128&d=identicon&r=PG", "display_name": "fejd", "link": "https://stackoverflow.com/users/383676/fejd"}, "edited": false, "score": 0, "creation_date": 1508627341, "post_id": 46863935, "comment_id": 80685092, "body": "How about moving the listeners to onViewCreated instead?"}, {"owner": {"reputation": 106, "user_id": 9284892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9nPibGPgArA/AAAAAAAAAAI/AAAAAAAAAK8/0SknA94ZRj0/photo.jpg?sz=128", "display_name": "necavit", "link": "https://stackoverflow.com/users/9284892/necavit"}, "edited": false, "score": 0, "creation_date": 1592815212, "post_id": 46863935, "comment_id": 110548789, "body": "@ThomasCook did you ever manage to solve this issue? We&#39;re facing the same problem. Using <code>onViewCreated</code> results in the same: <code>null</code>. The view is visible, but not accessible..."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 106, "user_id": 9284892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9nPibGPgArA/AAAAAAAAAAI/AAAAAAAAAK8/0SknA94ZRj0/photo.jpg?sz=128", "display_name": "necavit", "link": "https://stackoverflow.com/users/9284892/necavit"}, "edited": false, "score": 0, "creation_date": 1592817178, "post_id": 46863935, "comment_id": 110549721, "body": "@necavit - I did, but I can&#39;t for the life of me remember how."}, {"owner": {"reputation": 106, "user_id": 9284892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9nPibGPgArA/AAAAAAAAAAI/AAAAAAAAAK8/0SknA94ZRj0/photo.jpg?sz=128", "display_name": "necavit", "link": "https://stackoverflow.com/users/9284892/necavit"}, "edited": false, "score": 1, "creation_date": 1592949680, "post_id": 46863935, "comment_id": 110607447, "body": "@ThomasCook hehehe! No problem, absolutely understandable ;) It&#39;s a weird issue indeed! We&#39;re now trying to move the view usage to onActivityCreated to see if it helps... Fingers crossed! Cheers!"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 106, "user_id": 9284892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9nPibGPgArA/AAAAAAAAAAI/AAAAAAAAAK8/0SknA94ZRj0/photo.jpg?sz=128", "display_name": "necavit", "link": "https://stackoverflow.com/users/9284892/necavit"}, "edited": false, "score": 0, "creation_date": 1592985510, "post_id": 46863935, "comment_id": 110617662, "body": "@necavit - hey, I think I remember something now; try using <code>doOnLayout { &#47;&#47; access view }</code> to make sure the view is fully setup before accessing custom properties on it (in my case, it was properties on a custom view called &quot;DayView&quot;."}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 943, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1508596224, "creation_date": 1508593751, "last_edit_date": 1508595155, "question_id": 46863935, "link": "https://stackoverflow.com/questions/46863935/view-is-null-in-oncreateview-android", "title": "View is null in onCreateView android", "body": "<p>I've written a custom view for displaying events in a 24 hour vertical scroll timeline.</p>\n\n<p>In the onCreateView method in the fragment that inflates this view, I am inflating the view and then trying to set callbacks which are exposed by the view. However I am getting a null reference exception when trying to set a property on the custom view (i.e. the custom view is null).</p>\n\n<p>Here is my layout (with my custom DayView inside the constraint layout):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".application.home.HomeActivity\"&gt;\n\n        &lt;com.condecosoftware.core.dayview.DayView\n            android:id=\"@+id/dayView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:timeColumnWidth=\"52dp\"\n            app:timeColumnPadding=\"16dp\"\n            app:hourHeight=\"96dp\"\n            app:textSize=\"14sp\"\n            app:eventNameTextSize=\"18sp\"\n            app:hourSeparatorHeight=\"1dp\"\n            app:timeTextColor=\"@color/slateGrey\"\n            app:timeColumnBGColor=\"@color/white_2\"\n            app:hourSeparatorColor=\"@color/white_2\"\n            app:nowLineColor=\"@color/lipstick\"\n            app:eventColumnBGColor=\"@android:color/white\"\n            app:eventBGColor=\"@color/brightSkyBlue\"\n            app:eventCornerRadius=\"3.8dp\"\n            app:eventTextColor=\"@android:color/white\"/&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Now, I should note at this point, that the view IS inflating and being displayed correctly (if I remove the assignments to the callback in onCreateView). </p>\n\n<p>Here is the code that is causing the NPE (bizzarly, Kotlin does NOT think that the variable I am trying to access can be null (I don't need to do safe cast or anything to get it to compile)):</p>\n\n<pre><code>@SuppressLint(\"MissingSuperCall\")\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    val viewBinding = FragmentBookingsTodayBinding.inflate(inflater ?: LayoutInflater.from(context))\n\n    // Setup day view listeners\n    viewBinding.dayView.eventClickListener = this\n    viewBinding.dayView.eventLongPressListener = this\n    viewBinding.dayView.dayViewCallbacks = this\n\n    this.viewBinding = viewBinding\n\n    return viewBinding.root\n}\n</code></pre>\n\n<p>I am aware I am supressing the super call on that method, but as you can see I am returning the viewbinding root at the bottom so it's ok.</p>\n\n<p>Does anyone have any ideas?</p>\n\n<p>EDIT (Stack Trace):</p>\n\n<pre><code>FATAL EXCEPTION: main\n   Process: com.condecosoftware.roombooking.develop, PID: 3949\n   java.lang.NullPointerException: Attempt to invoke virtual method 'void com.condecosoftware.core.dayview.DayView.setEventClickListener(com.condecosoftware.core.dayview.DayView$EventClickListener)' on a null object reference\n       at com.condecosoftware.roombooking.application.home.FragmentBookingsToday.onCreateView(FragmentBookingsToday.kt:53)\n       at android.support.v4.app.Fragment.performCreateView(Fragment.java:2354)\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1419)\n       at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1740)\n       at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1809)\n       at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:799)\n       at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2580)\n       at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2367)\n       at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2322)\n       at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:2199)\n       at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:651)\n       at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(FragmentStatePagerAdapter.java:167)\n       at android.support.v4.view.ViewPager.populate(ViewPager.java:1236)\n       at android.support.v4.view.ViewPager.populate(ViewPager.java:1084)\n       at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1614)\n       at android.view.View.measure(View.java:22002)\n       at android.support.constraint.ConstraintLayout.onMeasure(ConstraintLayout.java:1028)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6580)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n       at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6580)\n       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1514)\n       at android.widget.LinearLayout.measureVertical(LinearLayout.java:806)\n       at android.widget.LinearLayout.onMeasure(LinearLayout.java:685)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6580)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6580)\n       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1514)\n       at android.widget.LinearLayout.measureVertical(LinearLayout.java:806)\n       at android.widget.LinearLayout.onMeasure(LinearLayout.java:685)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6580)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n       at com.android.internal.policy.DecorView.onMeasure(DecorView.java:721)\n       at android.view.View.measure(View.java:22002)\n       at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2410)\n       at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1498)\n       at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1751)\n       at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1386)\n       at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6733)\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n       at android.view.Choreographer.doCallbacks(Choreographer.java:723)\n       at android.view.Choreographer.doFrame(Choreographer.java:658)\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n       at android.os.Handler.handleCallback(Handler.java:789)\n       at android.os.Handler.dispatchMessage(Handler.java:98)\n       at android.os.Looper.loop(Looper.java:164)\n10-21 14:05:30.514 3949-3949/com.condecosoftware.roombooking.develop E/AndroidRuntime:\n       at android.app.ActivityThread.main(ActivityThread.java:6541)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1508594778, "creation_date": 1508594778, "answer_id": 46864082, "question_id": 46863693, "link": "https://stackoverflow.com/questions/46863693/login-method-is-not-calling-using-databinding-in-android/46864082#46864082", "title": "login method is not calling using databinding in android", "body": "<p>Having a look at you <code>Activity</code>, it seems you're missing to set the <code>viewModel</code> variable there.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val activityLoginBinding: ActivityLoginBinding = DataBindingUtil.setContentView&lt;ActivityLoginBinding&gt;(this, R.layout.activity_login)\n    activityLoginBinding.loginViewModel = LoginViewModel()\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 46864082, "answer_count": 1, "score": 2, "last_activity_date": 1508594778, "creation_date": 1508592271, "last_edit_date": 1508592703, "question_id": 46863693, "link": "https://stackoverflow.com/questions/46863693/login-method-is-not-calling-using-databinding-in-android", "title": "login method is not calling using databinding in android", "body": "<p>Hi I have this <code>layout</code> and I am trying to call login <code>viewmodel</code> function from the <code>layout</code> on click on <code>button</code> but it is not calling.</p>\n\n<p>Does anyone know whats issue ? How to resolve it ? </p>\n\n<p><strong>activity_login.xml</strong></p>\n\n<pre><code>&lt;layout&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"loginViewModel\"\n            type=\"com.app.android.login.LoginViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fillViewport=\"true\"\n        tools:context=\"com.app.android.login.LoginActivity\"\n        tools:ignore=\"missingPrefix\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:paddingBottom=\"@dimen/default_view_margin_bottom_8dp\"&gt;\n\n            &lt;android.support.design.widget.TextInputLayout\n                android:id=\"@+id/til_login_email\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"@dimen/default_view_margin_right_8dp\"\n                android:layout_marginStart=\"@dimen/default_view_margin_left_8dp\"\n                android:textColorHint=\"@color/colorSecondaryText\"\n                app:hintTextAppearance=\"@style/AppTheme.InputLayoutStyle\"\n                app:layout_constraintBottom_toTopOf=\"@+id/til_login_password\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintVertical_chainStyle=\"packed\"&gt;\n\n                &lt;android.support.design.widget.TextInputEditText\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:hint=\"@string/login_email\"\n                    android:imeOptions=\"actionNext\"\n                    android:singleLine=\"true\"\n                    android:text=\"@={loginViewModel.email}\"\n                    android:textColor=\"@color/colorPrimaryText\" /&gt;\n            &lt;/android.support.design.widget.TextInputLayout&gt;\n\n            &lt;android.support.design.widget.TextInputLayout\n                android:id=\"@+id/til_login_password\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"@dimen/default_view_margin_right_8dp\"\n                android:layout_marginStart=\"@dimen/default_view_margin_left_8dp\"\n                android:textColorHint=\"@color/colorSecondaryText\"\n                app:hintTextAppearance=\"@style/AppTheme.InputLayoutStyle\"\n                app:layout_constraintBottom_toTopOf=\"@+id/btn_login_login\"\n                app:layout_constraintTop_toBottomOf=\"@+id/til_login_email\"\n                app:layout_constraintVertical_chainStyle=\"packed\"&gt;\n\n                &lt;android.support.design.widget.TextInputEditText\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:hint=\"@string/login_password\"\n                    android:imeOptions=\"actionDone\"\n                    android:singleLine=\"true\"\n                    android:text=\"@={loginViewModel.password}\"\n                    android:textColor=\"@color/colorPrimaryText\" /&gt;\n            &lt;/android.support.design.widget.TextInputLayout&gt;\n\n            &lt;Button\n                android:id=\"@+id/btn_login_login\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"@dimen/default_view_margin_right_8dp\"\n                android:layout_marginStart=\"@dimen/default_view_margin_left_8dp\"\n                android:layout_marginTop=\"48dp\"\n                android:onClick=\"@{loginViewModel.login}\"\n                android:text=\"@string/login_btn_text\"\n                android:textColor=\"@color/colorWhite\"\n                app:layout_constraintBottom_toTopOf=\"@+id/textview_login_forgot_password\"\n                app:layout_constraintTop_toBottomOf=\"@+id/til_login_password\"\n                app:layout_constraintVertical_chainStyle=\"packed\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textview_login_forgot_password\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"@dimen/default_view_margin_right_8dp\"\n                android:layout_marginStart=\"@dimen/default_view_margin_left_8dp\"\n                android:layout_marginTop=\"36dp\"\n                android:gravity=\"center\"\n                android:text=\"@string/login_forgot_password\"\n                app:layout_constraintBottom_toTopOf=\"@+id/btn_login_register\"\n                app:layout_constraintTop_toBottomOf=\"@+id/btn_login_login\"\n                app:layout_constraintVertical_chainStyle=\"packed\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/btn_login_register\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"@dimen/default_view_margin_right_8dp\"\n                android:layout_marginStart=\"@dimen/default_view_margin_left_8dp\"\n                android:text=\"@string/login_sign_up\"\n                android:textColor=\"@color/colorWhite\"\n                app:layout_constraintBottom_toBottomOf=\"parent\" /&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>LoginActivity.kt</strong></p>\n\n<pre><code>class LoginActivity : BaseActivity(), LoginNavigator {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val activityLoginBinding: ActivityLoginBinding = DataBindingUtil.setContentView&lt;ActivityLoginBinding&gt;(this, R.layout.activity_login)\n    }\n\n    override fun startHomeActivity() {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun startRegistrationActivity() {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun startForgotPasswordActivity() {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun handleError(throwable: Throwable) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n}\n</code></pre>\n\n<p><strong>LoginViewModel.kt</strong></p>\n\n<pre><code>class LoginViewModel : AnkoLogger {\n\n    val email = ObservableField&lt;String&gt;()\n    val password = ObservableField&lt;String&gt;()\n\n    fun login(view: View) {\n        val viewVisibility: Int = view.visibility\n        info { viewVisibility }\n        info {\n            \"${email} and ${password}\"\n        }\n    }\n\n    /**\n     * Validate email and password. It checks email and password is empty or not\n     * and validate email address is correct or not\n     * @param email email address for login\n     * @param password password for login\n     * @return true if email and password pass all conditions else false\n     */\n    fun isEmailAndPasswordValid(email: String, password: String): Boolean {\n\n        if (email.isEmpty()) return false\n\n        if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) return false\n\n        if (password.isEmpty()) return false\n\n        return true\n    }\n\n}\n</code></pre>\n"}]