[{"tags": ["pointers", "kotlin", "var"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1488402806, "post_id": 42540035, "comment_id": 72220078, "body": "A minor note: I think you can improve the code greatly if you check if <code>z</code> is <code>null</code> or not only once in the beginning of <code>insertFixup</code>. Right now there are kinda too much <code>?</code> all over the place ;)"}, {"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1572463904, "post_id": 42540035, "comment_id": 103571966, "body": "The question is how to make Kotlin understand what I want from him? lol :)"}, {"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1572464068, "post_id": 42540035, "comment_id": 103572025, "body": "In Java, function parameters can be made readonly by adding <code>final</code> keyword before the parameter. Well Kotlin has that by default"}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 13, "creation_date": 1488402628, "post_id": 42540294, "comment_id": 72219987, "body": "This does not answer the question on how to make <code>z</code> pointer-like."}, {"owner": {"reputation": 757, "user_id": 4633354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c290c24f88566771b594bb7c18c0b71?s=128&d=identicon&r=PG&f=1", "display_name": "metis", "link": "https://stackoverflow.com/users/4633354/metis"}, "edited": false, "score": 0, "creation_date": 1583323461, "post_id": 42540294, "comment_id": 107075407, "body": "I didn&#39;t understand why you make a local copy of z and made it var. You cannot reassign to z, even if you make local copy of it like you said. That does not work. This answer should be wrong or correct me please"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1583342551, "post_id": 42540294, "comment_id": 107086542, "body": "The question was about reassigning the value of the function parameter, such as <code>z = z.parent</code>, inside the function. This isn&#39;t possible, but if you use a local <code>var</code> instead, you can reassign that local <code>var</code> as you like."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 40, "last_activity_date": 1583342608, "last_edit_date": 1583342608, "creation_date": 1488396323, "answer_id": 42540294, "question_id": 42540035, "link": "https://stackoverflow.com/questions/42540035/kotlin-function-parameter-val-cannot-be-reassigned/42540294#42540294", "title": "Kotlin function parameter: Val cannot be reassigned", "body": "<p>Function parameters in Kotlin are basically read-only <code>val</code>'s inside the function, so <code>z</code> here will always refer to the original object that was passed in. </p>\n\n<p>If you need to modify what it points to while your function is running, you'll have to make a local copy of it at the beginning of the function, and then you can make that a <code>var</code>.</p>\n\n<p>For example, you could start your function like this, which lets you reassign this local <code>var</code> later:</p>\n\n<pre><code>fun insertFixup(_z: Node?) {\n    var z = _z\n    // ...\n    z = z.parent\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 7, "last_activity_date": 1488402444, "last_edit_date": 1488402444, "creation_date": 1488398816, "answer_id": 42541036, "question_id": 42540035, "link": "https://stackoverflow.com/questions/42540035/kotlin-function-parameter-val-cannot-be-reassigned/42541036#42541036", "title": "Kotlin function parameter: Val cannot be reassigned", "body": "<p>Kotlin function parameters are read-only values and are not assignable.</p>\n\n<p>You can however create a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-read-write-property/\" rel=\"noreferrer\"><code>ReadWriteProperty</code></a> object to pass to <code>insertFixup</code> for getting/setting <code>newNode</code>:</p>\n\n<pre><code>...\nclass BinarySearchTree {\n...\n    fun insertFixup(zProperty: ReadWriteProperty&lt;Any?, Node?&gt;) {\n        var z by zProperty\n...\n\nfun main(args: Array&lt;String&gt;) {\n    val bst = BinarySearchTree()\n\n    var newNode: Node? = null\n    val newNodeProperty = object : ReadWriteProperty&lt;Any?, Node?&gt; {\n        override operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): Node? {\n            return newNode\n        }\n\n        override operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;,\n                                       value: Node?) {\n            newNode = value\n        }\n    }\n\n    while (true) {\n        newNode = Node(readLine()!!.toInt())\n        bst.insert(newNode!!)\n        bst.insertFixup(newNodeProperty)\n    }\n}\n</code></pre>\n\n<p>And if you are willing to use a property instead of a variable then you can use a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#property-references\" rel=\"noreferrer\">property reference</a> for getting/setting <code>newNode</code> from <code>insertFixup</code> instead:</p>\n\n<pre><code>...\nclass BinarySearchTree {\n...\n    fun insertFixup(zProperty: KMutableProperty0&lt;Node?&gt;) {\n        var z by zProperty\n...\n\nvar newNode: Node? = null\n\nfun main(args: Array&lt;String&gt;) {\n    val bst = BinarySearchTree()\n\n    while (true) {\n        newNode = Node(readLine()!!.toInt())\n        bst.insert(newNode!!)\n        bst.insertFixup(::newNode)\n    }\n}\n\n// the following allow `KMutableProperty0` to be used as a read/write delegate\noperator fun &lt;T&gt; KProperty0&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = get()\noperator fun &lt;T&gt; KMutableProperty0&lt;T&gt;.setValue(thisRef: Any?, property: KProperty&lt;*&gt;, \n                                               value: T) = set(value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 12159546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bMY9j.jpg?s=128&g=1", "display_name": "Bryan Neuberger", "link": "https://stackoverflow.com/users/12159546/bryan-neuberger"}, "is_accepted": false, "score": 1, "last_activity_date": 1570646731, "creation_date": 1570646731, "answer_id": 58310395, "question_id": 42540035, "link": "https://stackoverflow.com/questions/42540035/kotlin-function-parameter-val-cannot-be-reassigned/58310395#58310395", "title": "Kotlin function parameter: Val cannot be reassigned", "body": "<p>I ran into this issue as well. What i did was create a data class and pass the data class as a parameter that i could then use to modify its properties.</p>\n\n<pre><code>data class SomeDataClass(\n    val x: Int,\n    val y: Int,\n    val z: Int\n)\n\nfun someMethod(someDataClass: SomeDataClass) {\n    someDataClass.z = 23 //whatever Int value you please\n    // more computations...\n    someDataClass.z = 67 // or whatever new value you need to assign.\n}\n\nfun parentMethod() {\n    val someDataClass = SomeDataClass()\n    someMethod(someDataClass)\n    val newZValue = someDataClass.z // someDataClass holds modified data from above \n                                    // method\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 9418648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b2f203609112fb8762f07d8ae479e1?s=128&d=identicon&r=PG", "display_name": "sophin", "link": "https://stackoverflow.com/users/9418648/sophin"}, "is_accepted": false, "score": 0, "last_activity_date": 1609290475, "creation_date": 1609290475, "answer_id": 65500758, "question_id": 42540035, "link": "https://stackoverflow.com/questions/42540035/kotlin-function-parameter-val-cannot-be-reassigned/65500758#65500758", "title": "Kotlin function parameter: Val cannot be reassigned", "body": "<p>In my case, I was working on the content provider which manages the data for different application. I got a new kotlin file that inheritance properties from Content Provider like this:</p>\n<p>class ProviderClass() : ContentProvider(){</p>\n<p>}</p>\n<p>ContentProvider() is an abstract class, so we need to implement all the members.</p>\n<p>I was trying to reassigned value to sortOrder parameter, on that one I got these issues.\nWhat I did to solve is,\n//After implementing members</p>\n<pre><code>....\noverride fun query(\n        uri: Uri,\n        projection: Array&lt;out String&gt;?,\n        selection: String?,\n        selectionArgs: Array&lt;out String&gt;?,\n        sortOrder: String?\n    ): Cursor? {\nvar _sortOrder = sortOrder\nif (sortOrder == null || sortOrder == &quot;&quot;){\n            _sortOrder = NAME\n        }\nval cursor = qb.query(db, projection, selection, selectionArgs, null, null, _sortOrder) //_sorOrder newly created variable\n\n</code></pre>\n<p>I created a new variable called _sortOrder and put that newly created variable on the query method after two nulls on the second one where I created a new variable called cursor and set our newly created variable with the value that we want to set on it.</p>\n"}], "owner": {"reputation": 391, "user_id": 7329781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92251f1c532ae10fd9a214a46cd9b49f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Ostrouhhov", "link": "https://stackoverflow.com/users/7329781/anton-ostrouhhov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40268, "favorite_count": 4, "accepted_answer_id": 42540294, "answer_count": 4, "score": 30, "last_activity_date": 1609290475, "creation_date": 1488395381, "last_edit_date": 1500904319, "question_id": 42540035, "link": "https://stackoverflow.com/questions/42540035/kotlin-function-parameter-val-cannot-be-reassigned", "title": "Kotlin function parameter: Val cannot be reassigned", "body": "<p>I have written Red\u2013black tree in Kotlin. Fun <em>insertFixup</em> restores balance after inserting new element (<em>z: Node?</em> is new element). Algorithm of tree balancing is taken from <a href=\"http://software.ucv.ro/~mburicea/lab8ASD.pdf\" rel=\"noreferrer\">here</a> (pages 2-3). The <strong>problem</strong> is that Kotlin <strong>does not allow me to reassign</strong> <em>z</em> to <em>z.parent</em> and <em>z.parent.parent</em>. I want <em>z</em> to be a <strong>pointer</strong>. The question is how to make Kotlin understand what I want from him?</p>\n\n<pre><code>class Node(key: Int) {...}\n\nclass BinarySearchTree {\n    var root: Node? = null\n\n    fun insert(newNode: Node) {...}\n\n    fun RotateLeft(x: Node?) {...}\n\n    fun RotateRight(x: Node?) {...}\n\n    fun insertFixup(z: Node?) {\n        var y: Node?\n        while (z?.parent?.color == \"RED\") {\n            if (z?.parent == z?.parent?.parent?.left) {\n                y = z?.parent?.parent?.right\n                if (y?.color == \"RED\") {\n                    z?.parent?.color = \"BLACK\"\n                    y?.color = \"BLACK\"\n                    z?.parent?.parent?.color = \"RED\"\n                    z = z?.parent?.parent\n                }\n                if (z == z?.parent?.right) {\n                    z = z?.parent\n                    RotateLeft(z)\n                    z?.parent?.color = \"BLACK\"\n                    z?.parent?.parent?.color = \"RED\"\n                    RotateRight(z?.parent?.parent)\n                }\n            } else {\n                y = z?.parent?.parent?.left\n                if (y?.color == \"RED\") {\n                    z?.parent?.color = \"BLACK\"\n                    y?.color = \"BLACK\"\n                    z?.parent?.parent?.color = \"RED\"\n                    z = z?.parent?.parent\n                }\n                if (z != z?.parent?.left) {\n                    z = z?.parent\n                    RotateLeft(z)\n                    z?.parent?.color = \"BLACK\"\n                    z?.parent?.parent?.color = \"RED\"\n                    RotateRight(z?.parent?.parent)\n                }\n            }\n        }\n        root?.color = \"BLACK\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val bst = BinarySearchTree()\n\n    while (true) {\n        var newNode = Node(readLine()!!.toInt())\n        bst.insert(newNode)\n        bst.insertFixup(newNode)\n    }\n}\n</code></pre>\n\n<p><strong>UPD:</strong> Thanks to all! All the answers were helpful and I have found the solution in your replies.</p>\n"}, {"tags": ["javascript", "unit-testing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1132, "user_id": 5250468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce28b2c511204f5b1cb9a0b4087f5e3e?s=128&d=identicon&r=PG", "display_name": "Sebas LG", "link": "https://stackoverflow.com/users/5250468/sebas-lg"}, "is_accepted": false, "score": 1, "last_activity_date": 1488388983, "last_edit_date": 1488388983, "creation_date": 1488388592, "answer_id": 42538011, "question_id": 42538010, "link": "https://stackoverflow.com/questions/42538010/referenceerror-ok-is-not-defined-at-qunitasserter-asserttrue-in-kotlin-javascri/42538011#42538011", "title": "ReferenceError: ok is not defined at QUnitAsserter.assertTrue in Kotlin Javascript", "body": "<p>The problem is in the <strong>version of QUnit 2.1.1</strong>, by using <strong>version 1.23.1</strong> the problem is solved.</p>\n\n<p>This is the html code that loads the test with the fix:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Fibonacci Counter&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"css/app.css\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://code.jquery.com/qunit/qunit-1.23.1.css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"qunit\"&gt;&lt;/div&gt;\n        &lt;div id=\"qunit-fixture\"&gt;&lt;/div&gt;\n        &lt;footer id=\"info\"&gt;\n            &lt;p&gt;Placeholder&lt;/p&gt;\n        &lt;/footer&gt;\n        &lt;span id=\"text\"&gt;&lt;/span&gt;\n        &lt;script src=\"external_libs/jquery-3.1.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.jquery.com/qunit/qunit-1.23.1.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"lib/kotlin.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"lib/kotlin-test-js.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app_main.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app_test.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1132, "user_id": 5250468, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce28b2c511204f5b1cb9a0b4087f5e3e?s=128&d=identicon&r=PG", "display_name": "Sebas LG", "link": "https://stackoverflow.com/users/5250468/sebas-lg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488388983, "creation_date": 1488388592, "question_id": 42538010, "link": "https://stackoverflow.com/questions/42538010/referenceerror-ok-is-not-defined-at-qunitasserter-asserttrue-in-kotlin-javascri", "title": "ReferenceError: ok is not defined at QUnitAsserter.assertTrue in Kotlin Javascript", "body": "<p>Kotlin versions 1.0.x-1.1.0 support out of the box unit testing with <a href=\"http://qunitjs.com/\" rel=\"nofollow noreferrer\">QUnit</a> but when I load tests it throws this exception:</p>\n\n<pre><code>ReferenceError: ok is not defined\n    at QUnitAsserter.assertTrue_4mavae$ (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/lib/kotlin-test-js.js:50:5)\n    at assertTrue (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/lib/kotlin-test-js.js:93:27)\n    at QUnitAsserter.assertTrue_o10pc4$ (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/lib/kotlin-test-js.js:47:5)\n    at QUnitAsserter.Asserter.assertEquals_lzc6tz$ (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/lib/kotlin-test-js.js:182:10)\n    at assertEquals (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/lib/kotlin-test-js.js:108:20)\n    at AppTest.myFirstTest (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/app_test.js:17:5)\n    at Object.&lt;anonymous&gt; (file:///D:/neoranga/Mis%20documentos/GitHub/FibonacciCounter/app/build/classes/test/app_test.js:29:21)\n</code></pre>\n\n<p>This is my test class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test\nimport kotlin.test.assertEquals\n\nclass AppTest {\n\n    @Test fun myFirstTest() {\n        assertEquals(1, 1, \"Test in test folder works\")\n    }\n}\n</code></pre>\n\n<p>This is the html code that loads the test:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Fibonacci Counter&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"css/app.css\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://code.jquery.com/qunit/qunit-2.1.1.css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"qunit\"&gt;&lt;/div&gt;\n        &lt;div id=\"qunit-fixture\"&gt;&lt;/div&gt;\n        &lt;footer id=\"info\"&gt;\n            &lt;p&gt;Placeholder&lt;/p&gt;\n        &lt;/footer&gt;\n        &lt;span id=\"text\"&gt;&lt;/span&gt;\n        &lt;script src=\"external_libs/jquery-3.1.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.jquery.com/qunit/qunit-2.1.1.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"lib/kotlin.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"lib/kotlin-test-js.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app_main.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app_test.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "kotlin"], "comments": [{"owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "edited": false, "score": 2, "creation_date": 1488391005, "post_id": 42537677, "comment_id": 72213130, "body": "kotlin does not map 1-to-1 to javascript as typescript does  so even if such tool existed, kotlin types would not represent the generated javascript all the time"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1488398972, "post_id": 42537677, "comment_id": 72217889, "body": "AFAIK such tool is not exist (yet)"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 5, "creation_date": 1488827376, "post_id": 42537677, "comment_id": 72394970, "body": "related issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-16604\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-16604</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1467, "user_id": 980915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93beb63e76fbcf6ee23758450667cd51?s=128&d=identicon&r=PG", "display_name": "Ynv", "link": "https://stackoverflow.com/users/980915/ynv"}, "edited": false, "score": 0, "creation_date": 1573310187, "post_id": 49370293, "comment_id": 103844651, "body": "If you&#39;re looking for an easy way to try ts-generator, check out the <a href=\"https://github.com/ayedo/ktsgenerator\" rel=\"nofollow noreferrer\">ktsgenerator</a> Gradle plugin"}], "tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": false, "score": 1, "last_activity_date": 1521485138, "creation_date": 1521485138, "answer_id": 49370293, "question_id": 42537677, "link": "https://stackoverflow.com/questions/42537677/kotlin-javascript-to-typescript-definition-file/49370293#49370293", "title": "Kotlin JavaScript to TypeScript Definition File", "body": "<p>I'm looking to do something like this to share models between Android and JS. There is the <a href=\"https://github.com/ntrrgc/ts-generator\" rel=\"nofollow noreferrer\">ts-generator</a> library, which takes jvm classes and generates ts definitions from them.</p>\n\n<p>I haven't tried this yet, but it theoretically should work. Separate the API for your library (or an interface the api implements) into a <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">kotlin common module</a>. You can then compile the api into a jvm module, and run it through the <a href=\"https://github.com/ntrrgc/ts-generator\" rel=\"nofollow noreferrer\">ts-generator</a> to generate ts definitions.</p>\n\n<p>Maybe there is a clever way to do this to skip the compilation to jvm for ts definition generation.</p>\n"}, {"tags": [], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "is_accepted": true, "score": 2, "last_activity_date": 1590015183, "creation_date": 1590015183, "answer_id": 61924272, "question_id": 42537677, "link": "https://stackoverflow.com/questions/42537677/kotlin-javascript-to-typescript-definition-file/61924272#61924272", "title": "Kotlin JavaScript to TypeScript Definition File", "body": "<p>In Kotlin 1.4-M1 support for exporting TypeScript definitions was added:</p>\n\n<blockquote>\n  <p>Preview: TypeScript definitions\n         Another feature in the new Kotlin/JS IR compiler we\u2019re excited to show off is the generation of TypeScript definitions from Kotlin\n  code. These definitions can be used by JavaScript tools and IDEs when\n  working on hybrid apps to provide autocompletion, support static\n  analyzers, and make it easier to include Kotlin code in JS and TS\n  projects.\n         For top-level declarations marked with @JsExport (see above) in a project configured to use produceExecutable(), a .d.ts file with the\n  TypeScript definitions will be generated. For the snippet above, they\n  look like this:</p>\n\n<pre><code>    // [...]\n\n    namespace blogpost {\n\n        class KotlinGreeter {\n\n            constructor(who: string)\n\n            greet(): string\n\n        }\n\n        function farewell(who: string): string\n\n    }\n\n    // [...]\n   In Kotlin 1.4-M1, these declarations can be found in build/js/packages/&lt;package_name&gt;/kotlin alongside the corresponding,\n</code></pre>\n  \n  <p>un-webpacked JavaScript code. Please note that since this is only a\n  preview, they are not added to the distributions folder by default for\n  now. You can expect this behavior to change in the future.</p>\n</blockquote>\n\n<p>Source:</p>\n\n<p><a href=\"https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-4-m1-released/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2020/03/kotlin-1-4-m1-released/</a></p>\n"}], "owner": {"reputation": 6247, "user_id": 429108, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eccf7c340d29d7994b5427fe481c6e34?s=128&d=identicon&r=PG", "display_name": "Jon O", "link": "https://stackoverflow.com/users/429108/jon-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2159, "favorite_count": 4, "accepted_answer_id": 61924272, "answer_count": 2, "score": 41, "last_activity_date": 1590015183, "creation_date": 1488387609, "last_edit_date": 1518241660, "question_id": 42537677, "link": "https://stackoverflow.com/questions/42537677/kotlin-javascript-to-typescript-definition-file", "title": "Kotlin JavaScript to TypeScript Definition File", "body": "<p>I have found the <a href=\"https://github.com/Kotlin/ts2kt\" rel=\"noreferrer\">ts2kt library</a> which will create Kotlin header files from arbitrary <code>.d.ts</code> files.  But, I want to go in the opposite direction.</p>\n\n<p><em>I want to build a Kotlin library that will compile to JavaScript, but I want to use it from TypeScript.</em>  Is there a way to make Kotlin generate a <code>.d.ts</code> file(s) from its exposed interfaces?  Am I approaching this the right way?</p>\n"}, {"tags": ["arrays", "kotlin", "bytebuffer"], "comments": [{"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1488476129, "post_id": 42534295, "comment_id": 72258396, "body": "Your actual question has been answered. You should either clarify the question or ask a new question that explains exactly what you&#39;re trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1488383685, "post_id": 42534588, "comment_id": 72208201, "body": "Thanks! It works but if I would like to write Int (4 byte) value &quot;40000&quot; to 2 byte buffer?"}, {"owner": {"reputation": 2988, "user_id": 1507512, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5EsQG.jpg?s=128&g=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/1507512/massimo"}, "reply_to_user": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1488384149, "post_id": 42534588, "comment_id": 72208572, "body": "What about writing shorts? (40000 would be an &quot;unsigned short&quot;, otherwise you can&#39;t have 40000 in a short)"}, {"owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1488384823, "post_id": 42534588, "comment_id": 72209031, "body": "Yes. It is unsigned short but 40000.toShort() give me -25536. Is it correct buffer.putShort(40000.toShort())?"}, {"owner": {"reputation": 2988, "user_id": 1507512, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5EsQG.jpg?s=128&g=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/1507512/massimo"}, "reply_to_user": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1488385012, "post_id": 42534588, "comment_id": 72209186, "body": "The question is: why you need to write 4 bytes in 2? You can write 40000 (which became -25536) and compose it again on destination (supposed that destination knows that you wrote on the first side 2 bytes which are part of 4)"}, {"owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1488442197, "post_id": 42534588, "comment_id": 72234991, "body": "My idea is that if I have a chance to write number like unsigned then I should do it. 40000 (which became -25536) will be 0x4000 but it is wrong value. 40000 have to be 0x9C40."}], "tags": [], "owner": {"reputation": 2988, "user_id": 1507512, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5EsQG.jpg?s=128&g=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/1507512/massimo"}, "is_accepted": true, "score": 2, "last_activity_date": 1488382067, "last_edit_date": 1488382067, "creation_date": 1488379235, "answer_id": 42534588, "question_id": 42534295, "link": "https://stackoverflow.com/questions/42534295/how-to-write-short-int-into-1-byte-buffer/42534588#42534588", "title": "How to write Short/Int into 1 byte buffer", "body": "<p>Don't write the <code>Int</code> directly, write the result of <code>value.toByte()</code>:</p>\n\n<pre><code>fun asByteArray(value: Short): ByteArray {\n    val buffer: ByteBuffer = ByteBuffer.allocate(1)\n    buffer.put(value.toByte())\n    return buffer.array()\n}\n\nfun asByteArray(value: Int): ByteArray {\n    val buffer: ByteBuffer = ByteBuffer.allocate(1)\n    buffer.put(value.toByte())\n    return buffer.array()\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 42534588, "answer_count": 1, "score": 1, "last_activity_date": 1488382067, "creation_date": 1488378423, "question_id": 42534295, "link": "https://stackoverflow.com/questions/42534295/how-to-write-short-int-into-1-byte-buffer", "title": "How to write Short/Int into 1 byte buffer", "body": "<p>I have these functions:</p>\n\n<pre><code>fun asByteArray(value: Short): ByteArray {\n    val buffer: ByteBuffer = ByteBuffer.allocate(2)\n    buffer.order(ByteOrder.BIG_ENDIAN)\n    buffer.putShort(value)\n    buffer.flip()\n    return buffer.array()\n}\n\nfun asByteArray(value: Int): ByteArray {\n    val buffer: ByteBuffer = ByteBuffer.allocate(4)\n    buffer.order(ByteOrder.BIG_ENDIAN)\n    buffer.putInt(value)\n    buffer.flip()\n    return buffer.array()\n}\n</code></pre>\n\n<p>If the value is 255 then I would like to write it into 1 byte buffer. How can I do it?\nIf I do <code>ByteBuffer.allocate(1)</code> and try to write short/int value then the BufferOverflowException occurs.</p>\n"}, {"tags": ["android", "rx-java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 10, "last_activity_date": 1488374060, "creation_date": 1488374060, "answer_id": 42532776, "question_id": 42532725, "link": "https://stackoverflow.com/questions/42532725/observable-just-which-returns-unit-in-kotlin/42532776#42532776", "title": "Observable.just() which returns Unit in Kotlin", "body": "<p>Use <code>Observable.just(Unit)</code>. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/\" rel=\"noreferrer\"><code>Unit</code></a> itself is the single object of the type <code>Unit</code>.</p>\n"}], "owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2205, "favorite_count": 0, "accepted_answer_id": 42532776, "answer_count": 1, "score": 7, "last_activity_date": 1488374275, "creation_date": 1488373908, "question_id": 42532725, "link": "https://stackoverflow.com/questions/42532725/observable-just-which-returns-unit-in-kotlin", "title": "Observable.just() which returns Unit in Kotlin", "body": "<p>I have a piece of Observable which in the end either returns an error and retries or just returns onNext. I don't need anything in onNext, so this is just an <code>Observable&lt;Unit&gt;</code>. </p>\n\n<p>Now the problem is that at the end of the chain I have to hit this onNext and I don't have anything other than good old <code>Observable.just()</code>. But I cannot return Observable.just(null) because it returns <code>Nothing?</code>, not <code>Unit</code>. I cannot return <code>Unit</code>, because it's not instantiable. Therefore I have <code>Observable.just(null).map{}</code>. It works, but looks ugly. Any idea for a better solution?</p>\n"}, {"tags": ["android", "testing", "realm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 4816099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-WpM2D5hcJ0Y/AAAAAAAAAAI/AAAAAAAAJdU/mSaIgSfv0jU/photo.jpg?sz=128", "display_name": "gilcu2", "link": "https://stackoverflow.com/users/4816099/gilcu2"}, "edited": false, "score": 0, "creation_date": 1488367951, "post_id": 42528612, "comment_id": 72196878, "body": "Thanks, &quot;@get Rule&quot; fixed the problem. Now I am getting java.lang.NoClassDefFoundError: org/mockito/cglib/proxy/Enhancer but this is another question."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 6, "last_activity_date": 1488362421, "last_edit_date": 1495540817, "creation_date": 1488362421, "answer_id": 42528612, "question_id": 42528039, "link": "https://stackoverflow.com/questions/42528039/android-test-in-kotlin-of-realm/42528612#42528612", "title": "Android test in kotlin of realm", "body": "<p>You can make the getter of the rule public like so:</p>\n\n<pre><code>@get: Rule\nvar rule = PowerMockRule()\n</code></pre>\n\n<p>Or you can mark it as a Java style field with the <code>@JvmField</code> annotation:</p>\n\n<pre><code>@JvmField @Rule\nvar rule = PowerMockRule()\n</code></pre>\n\n<p>You can find more details in this answer: <a href=\"https://stackoverflow.com/a/32827600/4465208\">https://stackoverflow.com/a/32827600/4465208</a></p>\n\n<p>Ps. You should also consider making it a <code>val</code> if you don't intend on changing its value anywhere.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "is_accepted": false, "score": -1, "last_activity_date": 1508851852, "last_edit_date": 1508851852, "creation_date": 1508676588, "answer_id": 46874267, "question_id": 42528039, "link": "https://stackoverflow.com/questions/42528039/android-test-in-kotlin-of-realm/46874267#46874267", "title": "Android test in kotlin of realm", "body": "<p>Realm java 4.1.0 has been released and most problem of Realm with Kotlin has resolved! . You can test <a href=\"https://github.com/c2c2/RealmKotlinShop\" rel=\"nofollow noreferrer\">my sample project</a> to see how you must config project or create classes. My sample is for testing module in Realm object Server with kotlin.</p>\n"}], "owner": {"reputation": 303, "user_id": 4816099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-WpM2D5hcJ0Y/AAAAAAAAAAI/AAAAAAAAJdU/mSaIgSfv0jU/photo.jpg?sz=128", "display_name": "gilcu2", "link": "https://stackoverflow.com/users/4816099/gilcu2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1508851852, "creation_date": 1488360745, "question_id": 42528039, "link": "https://stackoverflow.com/questions/42528039/android-test-in-kotlin-of-realm", "title": "Android test in kotlin of realm", "body": "<p>How can be done a simple test of a realm database in Android implementing the test in Kotlin?</p>\n\n<p>I attempted to adapt a fragment from java realm <a href=\"https://github.com/realm/realm-java/blob/master/examples/unitTestExample/src/test/java/io/realm/examples/unittesting/ExampleRealmTest.java\" rel=\"nofollow noreferrer\">test on github</a> to kotlin and got the next code:</p>\n\n<pre><code>import io.realm.Realm \nimport io.realm.log.RealmLog \nimport org.hamcrest.CoreMatchers \nimport org.junit.Assert\n\nimport org.junit.Test import org.junit.Before import org.junit.Rule\nimport org.mockito.Mockito.`when` \nimport org.powermock.api.mockito.PowerMockito \nimport org.powermock.modules.junit4.rule.PowerMockRule\n\nclass DBTest {\n\n    @Rule\n    var rule = PowerMockRule()\n    lateinit internal var mockRealm: Realm\n\n    @Before\n    fun setup() {\n        PowerMockito.mockStatic(RealmLog::class.java)\n        PowerMockito.mockStatic(Realm::class.java)\n\n        val mockRealm = PowerMockito.mock(Realm::class.java)\n\n        `when`(Realm.getDefaultInstance()).thenReturn(mockRealm)\n\n        this.mockRealm = mockRealm\n    }\n\n    @Test\n    fun shouldBeAbleToGetDefaultInstance() {\n        Assert.assertThat(Realm.getDefaultInstance(), CoreMatchers.`is`(mockRealm))\n    }\n\n}\n</code></pre>\n\n<p>But when I execute the test I get:</p>\n\n<pre><code>org.junit.internal.runners.rules.ValidationError: The @Rule 'rule' must be public.\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 4, "creation_date": 1488375650, "post_id": 42524478, "comment_id": 72202259, "body": "Note that you can also use a <code>Lazy</code> directly instead of as a delegate and access the lazily evaluated value with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/value.html\" rel=\"nofollow noreferrer\"><code>Lazy.value</code></a>. See also <a href=\"http://stackoverflow.com/q/38794502/3255152\">stackoverflow.com/q/38794502/3255152</a>."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 70, "last_activity_date": 1488348724, "creation_date": 1488348724, "answer_id": 42524478, "question_id": 42522739, "link": "https://stackoverflow.com/questions/42522739/kotlin-check-if-lazy-val-has-been-initialised/42524478#42524478", "title": "Kotlin: Check if lazy val has been initialised", "body": "<p>There is a way, but you have to access the delegate object which is returned by <code>lazy {}</code>:</p>\n\n<pre><code>val messageBrokerDelegate = lazy { MessageBroker() }\nval messageBroker by messageBrokerDelegate\n\nif(messageBrokerDelegate.isInitialized())\n    ...\n</code></pre>\n\n<p><code>isInitialized</code> is a public method on interface <code>Lazy&lt;T&gt;</code>, here are the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/\" rel=\"noreferrer\">docs</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1488386324, "post_id": 42536189, "comment_id": 72210127, "body": "Wow, I did&#39;t see it in the release notes!"}, {"owner": {"reputation": 813, "user_id": 920849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b87d446580566b0ab1f7ac2f715107?s=128&d=identicon&r=PG", "display_name": "Stephen Talley", "link": "https://stackoverflow.com/users/920849/stephen-talley"}, "edited": false, "score": 0, "creation_date": 1527105151, "post_id": 42536189, "comment_id": 88005617, "body": "Make sure you import isAccessible: import kotlin.reflect.jvm.isAccessible"}, {"owner": {"reputation": 143, "user_id": 452632, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2bafa867e09b647948a240be223c87a0?s=128&d=identicon&r=PG", "display_name": "Neikius", "link": "https://stackoverflow.com/users/452632/neikius"}, "edited": false, "score": 2, "creation_date": 1549543504, "post_id": 42536189, "comment_id": 95945030, "body": "I had to remove &quot;if (this !is Lazy&lt;*&gt;) return true&quot;, without that it works. Changes in 1.3?"}, {"owner": {"reputation": 1553, "user_id": 304876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2fa6520391f87d2f02b7d8d0fec5fdf?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Paour", "link": "https://stackoverflow.com/users/304876/pierre-luc-paour"}, "edited": false, "score": 2, "creation_date": 1559566046, "post_id": 42536189, "comment_id": 99449837, "body": "If you&#39;re using R8 (perhaps ProGuard too, not tested), two things need to be excluded from minification: the class that contains the field must be accessible, along with its parent class and implemented interfaces. And the field itself must be marked <code>@delegate:Keep</code>."}, {"owner": {"reputation": 1677, "user_id": 1644934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1f5a756128531dc47f04597c6e4768?s=128&d=identicon&r=PG", "display_name": "Vincent Sit", "link": "https://stackoverflow.com/users/1644934/vincent-sit"}, "reply_to_user": {"reputation": 143, "user_id": 452632, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2bafa867e09b647948a240be223c87a0?s=128&d=identicon&r=PG", "display_name": "Neikius", "link": "https://stackoverflow.com/users/452632/neikius"}, "edited": false, "score": 0, "creation_date": 1587388644, "post_id": 42536189, "comment_id": 108483884, "body": "@Neikius Same here."}, {"owner": {"reputation": 382, "user_id": 11988215, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CUYW-QVDyCM/AAAAAAAAAAI/AAAAAAAAAFE/62lnnfEvFAk/photo.jpg?sz=128", "display_name": "Arutyun Enfendzhyan", "link": "https://stackoverflow.com/users/11988215/arutyun-enfendzhyan"}, "edited": false, "score": 0, "creation_date": 1592149359, "post_id": 42536189, "comment_id": 110314846, "body": "This answer didn&#39;t fit me, because for some reason the value gets initialized, when I use &#39;isLazyInitialized&#39;"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 29, "last_activity_date": 1548859908, "last_edit_date": 1548859908, "creation_date": 1488383358, "answer_id": 42536189, "question_id": 42522739, "link": "https://stackoverflow.com/questions/42522739/kotlin-check-if-lazy-val-has-been-initialised/42536189#42536189", "title": "Kotlin: Check if lazy val has been initialised", "body": "<p>Since Kotlin 1.1, you can access a property delegate directly using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property0/get-delegate.html\" rel=\"noreferrer\"><code>.getDelegate()</code></a>.</p>\n\n<p>You can write an extension property for a property reference that checks that it has a <code>Lazy</code> delegate that has already been initialized:</p>\n\n<pre><code>/**\n * Returns true if a lazy property reference has been initialized, or if the property is not lazy.\n */\nval KProperty0&lt;*&gt;.isLazyInitialized: Boolean\n    get() {\n        if (this !is Lazy&lt;*&gt;) return true\n\n        // Prevent IllegalAccessException from JVM access check on private properties.\n        val originalAccessLevel = isAccessible\n        isAccessible = true\n        val isLazyInitialized = (getDelegate() as Lazy&lt;*&gt;).isInitialized()\n        // Reset access level.\n        isAccessible = originalAccessLevel\n        return isLazyInitialized\n    }\n</code></pre>\n\n<p>Then at the use site:</p>\n\n<pre><code>val messageBroker: MessageBroker by lazy { MessageBroker() }\n\nif (this::messageBroker.isLazyInitialized) {\n    // ... do stuff here\n}\n</code></pre>\n\n<p><sup>This solution requires <code>kotlin-reflect</code> to be on the classpath. With Gradle, use <br><code>compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"</code>\n</sup></p>\n\n<p><sup>The <code>isAccessible = true</code> part is required for the <code>.getDelegate()</code>, because otherwise it cannot access the private field storing the delegate reference.</sup></p>\n"}, {"tags": [], "owner": {"reputation": 813, "user_id": 920849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b87d446580566b0ab1f7ac2f715107?s=128&d=identicon&r=PG", "display_name": "Stephen Talley", "link": "https://stackoverflow.com/users/920849/stephen-talley"}, "is_accepted": false, "score": 13, "last_activity_date": 1588904471, "last_edit_date": 1588904471, "creation_date": 1527260658, "answer_id": 50532129, "question_id": 42522739, "link": "https://stackoverflow.com/questions/42522739/kotlin-check-if-lazy-val-has-been-initialised/50532129#50532129", "title": "Kotlin: Check if lazy val has been initialised", "body": "<p>Testing if the lazy property is easy enough:</p>\n\n<pre><code>import kotlin.reflect.KProperty0\nimport kotlin.reflect.jvm.isAccessible\n\nval KProperty0&lt;*&gt;.isLazyInitialized: Boolean\n    get() {\n        // Prevent IllegalAccessException from JVM access check\n        isAccessible = true\n        return (getDelegate() as Lazy&lt;*&gt;).isInitialized()\n    }\n</code></pre>\n\n<p>\u2026but you can make it even easier to reference a property without initializing it:</p>\n\n<pre><code>/**\n * Returns the value of the given lazy property if initialized, null\n * otherwise.\n */\nval &lt;T&gt; KProperty0&lt;T&gt;.orNull: T?\n    get() = if (isLazyInitialized) get() else null\n</code></pre>\n\n<p>Now you can do things like:</p>\n\n<pre><code>private val myList by lazy {\n    mutableSetOf&lt;String&gt;()\n}\n\nfun add(str: String) {\n    // Create the list if necessary\n    myList += str\n}\n\nfun remove(str: String) {\n    // Don't create the list\n    ::myList.orNull?.remove(str)\n}\n\nfun clear() {\n    // Don't create the list\n    ::myList.orNull?.clear()\n}\n</code></pre>\n"}], "owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11498, "favorite_count": 3, "accepted_answer_id": 42524478, "answer_count": 3, "score": 47, "last_activity_date": 1588904471, "creation_date": 1488339532, "last_edit_date": 1495542749, "question_id": 42522739, "link": "https://stackoverflow.com/questions/42522739/kotlin-check-if-lazy-val-has-been-initialised", "title": "Kotlin: Check if lazy val has been initialised", "body": "<p>Is there a way to tell if a lazy val has been initialised in Kotlin without initialising it in the process?</p>\n\n<p>eg if I have a lazy val, querying if it is null would instantiate it</p>\n\n<pre><code>val messageBroker: MessageBroker by lazy { MessageBroker() }\nif (messageBroker == null) {\n    // oops\n}\n</code></pre>\n\n<p>I could potentially use a second variable, but that seems messy.</p>\n\n<pre><code>private var isMessageBrokerInstantiated: Boolean = false\nval messageBroker: MessageBroker by lazy {\n    isMessageBrokerInstantiated = true\n    MessageBroker()\n}\n\n...\n\nif (!isMessageBrokerInstantiated) {\n    // use case\n}\n</code></pre>\n\n<p>Is there some sexy way of determining this, like <code>if (Lazy(messageBroker).isInstantiated())</code>?</p>\n\n<p>Related (but not the same): <a href=\"https://stackoverflow.com/questions/37618738/how-to-check-if-a-lateinit-variable-has-been-initialized\">How to check if a &quot;lateinit&quot; variable has been initialized?</a></p>\n"}, {"tags": ["maven", "kotlin", "maven-3", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 2259855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TSjF7.jpg?s=128&g=1", "display_name": "rodrigomelo", "link": "https://stackoverflow.com/users/2259855/rodrigomelo"}, "edited": false, "score": 0, "creation_date": 1597347937, "post_id": 42526170, "comment_id": 112111289, "body": "If using Nexus <a href=\"https://bintray.com/package/buildSettings?pkgPath=%2Fkotlin%2Fexposed%2Fexposed\" rel=\"nofollow noreferrer\">bintray.com/package/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 11, "last_activity_date": 1488355146, "creation_date": 1488355146, "answer_id": 42526170, "question_id": 42512447, "link": "https://stackoverflow.com/questions/42512447/maven-import-dependency-jetbrains-exposed/42526170#42526170", "title": "Maven import dependency Jetbrains Exposed", "body": "<p>It is listed on mvnrepository, but artifact itself is located in <a href=\"https://mvnrepository.com/repos/kotlin-exposed\" rel=\"noreferrer\">Kotlin Exposed</a> repository. You have to add link to the Exposed repository to your POM for Maven to find it.</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;exposed&lt;/id&gt;\n        &lt;name&gt;exposed&lt;/name&gt;\n        &lt;url&gt;https://dl.bintray.com/kotlin/exposed&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5645304, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8cc7f6d1493b60e74dadcd629642b286?s=128&d=identicon&r=PG&f=1", "display_name": "OmerSakar", "link": "https://stackoverflow.com/users/5645304/omersakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1634, "favorite_count": 0, "accepted_answer_id": 42526170, "answer_count": 1, "score": 7, "last_activity_date": 1503092967, "creation_date": 1488294956, "last_edit_date": 1503092967, "question_id": 42512447, "link": "https://stackoverflow.com/questions/42512447/maven-import-dependency-jetbrains-exposed", "title": "Maven import dependency Jetbrains Exposed", "body": "<p>On the github page of Jetbrains' Exposed,a Kotlin SQL Framework, there is a link to a page where you can get the maven dependency for this library (<a href=\"https://bintray.com/kotlin/exposed/exposed/view#\" rel=\"noreferrer\">https://bintray.com/kotlin/exposed/exposed/view#</a>). The same dependecy can also be found on MVNRepository (<a href=\"https://mvnrepository.com/artifact/org.jetbrains.exposed/exposed/0.7.6\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.exposed/exposed/0.7.6</a>).</p>\n\n<p>I am using maven 3.3.9 and Intellij 2016.3.4, but maven cannot resolve this dependency. I check the ~/.m2/ directory and it seems that it is downloaded (there is a jar present). After looking at the repository I saw that there was no pom.xml and they where using Gradle.</p>\n\n<p>Is it still possible to import this dependency with maven?</p>\n"}, {"tags": ["kotlin", "nosuchmethoderror"], "answers": [{"comments": [{"owner": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 0, "creation_date": 1488275161, "post_id": 42504926, "comment_id": 72148184, "body": "It looks like it&#39;s a bug on that RC version, this works fine in v1.0.6"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1488315423, "post_id": 42504926, "comment_id": 72174041, "body": "Did anyone file a bug report for this?"}], "tags": [], "owner": {"reputation": 133, "user_id": 1113090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcf4a90aa21f887bf3988d3716eccb1?s=128&d=identicon&r=PG", "display_name": "aimozg", "link": "https://stackoverflow.com/users/1113090/aimozg"}, "is_accepted": true, "score": 2, "last_activity_date": 1488274275, "creation_date": 1488274275, "answer_id": 42504926, "question_id": 42503938, "link": "https://stackoverflow.com/questions/42503938/kotlin-nosuchmethoderror-on-the-get-operator/42504926#42504926", "title": "Kotlin, NoSuchMethodError on the get [ ] operator", "body": "<p>That looks like a bug in Kotlin compiler.</p>\n\n<p><code>Map.get</code> in Java is Object->Object, and K->V in Kotlin.</p>\n\n<p>I suspect it causes the implementation generate <code>fun get(s: String):Any?</code> and call site tries to find <code>fun get(s: String):Int</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488292762, "post_id": 42510903, "comment_id": 72160252, "body": "It doesn&#39;t work if you remove <code>: Int</code> on the <code>[ ]</code> operator (and probably add it as a dependency)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488297957, "post_id": 42510903, "comment_id": 72164286, "body": "Oh, right. Removing the explicit type and using it from another file does get me the error you&#39;re facing."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488376264, "post_id": 42510903, "comment_id": 72202653, "body": "Update: Kotlin 1.1 has just been just released, and I can no longer reproduce the issue."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488379795, "post_id": 42510903, "comment_id": 72205163, "body": "Unfortunately I can still do.. uff"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488380013, "post_id": 42510903, "comment_id": 72205340, "body": "Oh, nevermind, I double checked now and it turns out I just messed up the test. Still crashes. Sorry."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1488386191, "post_id": 42510903, "comment_id": 72210028, "body": "That&#39;s conforting somehow :p"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1488290861, "creation_date": 1488290861, "answer_id": 42510903, "question_id": 42503938, "link": "https://stackoverflow.com/questions/42503938/kotlin-nosuchmethoderror-on-the-get-operator/42510903#42510903", "title": "Kotlin, NoSuchMethodError on the get [ ] operator", "body": "<p>This is the example I tried, and it works for me (even when calling it from Java) on 1.1.0-rc-91. What am I missing?</p>\n\n<pre><code>class Program {\n\n    val uniforms = HashMap&lt;String, Int&gt;()\n\n    operator fun get(s: String): Int = uniforms[s]!!\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    val program = Program()\n\n    program.uniforms.put(\"hello\", 42)\n\n    println(program[\"hello\"])\n\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 42504926, "answer_count": 2, "score": 2, "last_activity_date": 1488290861, "creation_date": 1488271479, "last_edit_date": 1488273320, "question_id": 42503938, "link": "https://stackoverflow.com/questions/42503938/kotlin-nosuchmethoderror-on-the-get-operator", "title": "Kotlin, NoSuchMethodError on the get [ ] operator", "body": "<p>I have this code in a third part library of <a href=\"https://github.com/elect86/uno-sdk/blob/master/src/main/kotlin/glsl/Program.kt\" rel=\"nofollow noreferrer\">mine</a>:</p>\n\n<pre><code>class Program {\n\n    val uniforms = HashMap&lt;String, Int&gt;()    \n    operator fun get(s: String) = uniforms[s]!!\n}\n</code></pre>\n\n<p>When I use the <code>[ ]</code> operator</p>\n\n<pre><code>glUniformMatrix4fv(uniformColor.uniforms[\"cameraToClipMatrix\"], 1, false, matBuffer)\n</code></pre>\n\n<p>I get this:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NoSuchMethodError: glsl.Program.get(Ljava/lang/String;)I</p>\n</blockquote>\n\n<p>Why?</p>\n\n<p>Everything seems fine</p>\n\n<pre><code>uniformColor.uniforms.contains[\"cameraToClipMatrix\"]\n</code></pre>\n\n<p>returns true and if not, it should just return <code>null</code></p>\n\n<p>What am I missing?</p>\n\n<p>kotlin 1.1-rc-91</p>\n"}, {"tags": ["spring", "spring-data", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4231, "user_id": 104783, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cd6b89674c17f2eab7fd5c76b16d0a7f?s=128&d=identicon&r=PG", "display_name": "sclarson", "link": "https://stackoverflow.com/users/104783/sclarson"}, "edited": false, "score": 0, "creation_date": 1488252795, "post_id": 42499611, "comment_id": 72138084, "body": "Thanks!  Yeah the example here is just the easiest non-specific contrived example I could come up with to show the issue I was running into. The Error I receive trying to use @Qualifier in a parameter is &quot;This annotation is not applicable to target &#39;value parameter&#39;&quot;."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 4231, "user_id": 104783, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cd6b89674c17f2eab7fd5c76b16d0a7f?s=128&d=identicon&r=PG", "display_name": "sclarson", "link": "https://stackoverflow.com/users/104783/sclarson"}, "edited": false, "score": 1, "creation_date": 1488253173, "post_id": 42499611, "comment_id": 72138181, "body": "You must have accidentally imported the <code>javax.inject.Qualifier</code> annotation, which will not work. You need to import the <code>org.springframework.beans.factory.annotation.Qualifier</code> annotation."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 2, "last_activity_date": 1488253230, "last_edit_date": 1488253230, "creation_date": 1488252240, "answer_id": 42499611, "question_id": 42499479, "link": "https://stackoverflow.com/questions/42499479/working-with-qualifier-in-kotlin-functions/42499611#42499611", "title": "Working with @Qualifier in Kotlin functions", "body": "<p>There is no need to inject the dependency from the same class into the method that requires that dependency in Spring. You can just call the method directly.</p>\n\n<pre><code>@Configuration\nclass DatabaseAdminConfig {\n\n    @Bean\n    @ConfigurationProperties(prefix = \"spring.ds_admin\")\n    fun adminDataSource() = DataSourceBuilder.create().build()\n\n    @Bean\n    fun adminJdbcTemplate() = JdbcTemplate(adminDataSource())\n\n    @Bean\n    @ConfigurationProperties(prefix = \"spring.ds_widget\")\n    fun widgetDataSource() = DataSourceBuilder.create().build()\n\n    @Bean\n    fun widgetJdbcTemplate() = JdbcTemplate(widgetDataSource())\n}\n</code></pre>\n\n<p>PS: function expression bodies (as above) make Spring Configuration classes look even more concise.</p>\n\n<p>PPS: <code>@Qualifier</code> works totally fine for me. I just tested it.</p>\n\n<p>PPPS: And for completeness to address the specific problem, as I commented: You must have accidentally imported the <code>javax.inject.Qualifier</code> annotation, which will not work. You need to import the <code>org.springframework.beans.factory.annotation.Qualifier</code> which works</p>\n"}], "owner": {"reputation": 4231, "user_id": 104783, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cd6b89674c17f2eab7fd5c76b16d0a7f?s=128&d=identicon&r=PG", "display_name": "sclarson", "link": "https://stackoverflow.com/users/104783/sclarson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3123, "favorite_count": 0, "accepted_answer_id": 42499611, "answer_count": 1, "score": 0, "last_activity_date": 1488253230, "creation_date": 1488251363, "question_id": 42499479, "link": "https://stackoverflow.com/questions/42499479/working-with-qualifier-in-kotlin-functions", "title": "Working with @Qualifier in Kotlin functions", "body": "<p>In Kotlin function parameters are always values which prevents <code>@Qualifier()</code> from being used at the parameter level.</p>\n\n<p>If someone wanted to create multiple <code>DataSource</code>s in a config class for different databases frequently accessed within the same application what is the recommended way to organize this?</p>\n\n<p>Doing the following which seemed fairly common in Java isn't allowed in Kotlin.</p>\n\n<pre><code>@Configuration\nclass DatabaseAdminConfig {\n\n    @Bean\n    @ConfigurationProperties(prefix = \"spring.ds_admin\")\n    fun adminDataSource(): DataSource {\n        return DataSourceBuilder.create().build()\n    }\n\n    @Bean\n    fun adminJdbcTemplate(@Qualifier(\"adminDataSource\") dsAdminDb: DataSource): JdbcTemplate {\n        return JdbcTemplate(dsAdminDb)\n    }\n\n    @ConfigurationProperties(prefix = \"spring.ds_widget\")\n    fun widgetDataSource(): DataSource {\n        return DataSourceBuilder.create().build()\n    }\n\n    @Bean\n    fun widgetJdbcTemplate(@Qualifier(\"widgetDataSource\") widgetDataSource: DataSource): JdbcTemplate {\n        return JdbcTemplate(widgetDataSource)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 1, "creation_date": 1488287813, "post_id": 42499387, "comment_id": 72156758, "body": "Can you specify whether you are using the synthetic properties on the Fragment (imported via <code>kotlinx.android.synthetic.main.my_layout.*</code>) or on the View (imported via <code>kotlinx.android.synthetic.main.my_layout.view.*</code>)?"}, {"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 0, "creation_date": 1488361196, "post_id": 42499387, "comment_id": 72192082, "body": "What did you expect? A synthetic will keep in cache the reference after the first <code>findById(...)</code>. Did you change the view inflated?"}, {"owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1498071683, "post_id": 42499387, "comment_id": 76352585, "body": "Did you try setting the listener to null in onViewDestroyed()?"}], "owner": {"reputation": 2703, "user_id": 736963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0555bcd8e1daf09e4dd7576d246e222?s=128&d=identicon&r=PG", "display_name": "David Pisoni", "link": "https://stackoverflow.com/users/736963/david-pisoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488250837, "creation_date": 1488250837, "question_id": 42499387, "link": "https://stackoverflow.com/questions/42499387/kotlin-extensions-synthetic-properties-same-object-in-multiple-invocations-of-f", "title": "Kotlin extensions/synthetic properties: same object in multiple invocations of Fragment.onViewCreated()", "body": "<p>I am using kotlin-android-extensions to import synthetic view properties from my layout to my Fragment. In my <code>onViewCreated()</code> Fragment method I am calling <code>addTextChangedListener()</code> on an <code>EditText</code> view that is a synthetic import. This is working fine the first time the Fragment is instantiated, but the next time it comes along, my new listener is being added to the <em>same</em> view object as the last invocation. So now both <code>TextChangedListener</code> objects are being triggered on text changes, with predictably poor results. The view from the first appearance of the Fragment is never dereferenced as far as I can tell.</p>\n\n<p>Here's my output from logging the view object which shows it's the same thing.</p>\n\n<p>First appearance:</p>\n\n<pre><code>AmountTextWatcher (com.redacted.util.AmountTextWatcher@36d1ccc) added to amount_edit_text: android.support.v7.widget.AppCompatEditText{79e2a VFED..CL. ......I. 0,0-0,0 #7f0f013a app:id/amount_edit_text}\n</code></pre>\n\n<p>Second appearance:</p>\n\n<pre><code>AmountTextWatcher (com.redacted.util.AmountTextWatcher@5812584) added to amount_edit_text: android.support.v7.widget.AppCompatEditText{79e2a VFED..CL. ......ID 0,0-434,200 #7f0f013a app:id/amount_edit_text}\n</code></pre>\n\n<p>Of course, I can work around this issue by using <code>findViewById()</code> to access my view instead of the synthetic reference, but I'm wondering if anyone else is running in to this issue and if there is a better way to handle it (other than not using the synthetic view reference.)</p>\n\n<p>FYI: Using Kotlin version <strong>1.0.6</strong>.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 3, "creation_date": 1488259659, "post_id": 42499020, "comment_id": 72140063, "body": "Could you please add a usage example? That would clarify the question."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1488297373, "post_id": 42499020, "comment_id": 72163805, "body": "It sounds like you want something like Guava&#39;s <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">Multimap</a>. Is that right?"}, {"owner": {"reputation": 75, "user_id": 5136381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29edc53b4403799b1a10a72d0541b762?s=128&d=identicon&r=PG&f=1", "display_name": "henrik", "link": "https://stackoverflow.com/users/5136381/henrik"}, "edited": false, "score": 0, "creation_date": 1488309822, "post_id": 42499020, "comment_id": 72171111, "body": "I&#39;ve updated the post with an example. The Multimap is pretty close, but I would like to support multiple value types."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1488365785, "post_id": 42499020, "comment_id": 72195400, "body": "Your tastes are very... singular :D Are you sure, you need to do that?"}], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": true, "score": 2, "last_activity_date": 1488377579, "creation_date": 1488377579, "answer_id": 42534000, "question_id": 42499020, "link": "https://stackoverflow.com/questions/42499020/creating-a-map-with-values-containing-generics/42534000#42534000", "title": "Creating a map with values containing generics", "body": "<p>Working from your example, this should work for you.</p>\n\n<pre><code>data class Data&lt;E&gt;(val str: String, val int: Int, val e: E)\n\nclass SomeClass&lt;E&gt; {\n\n    val map: MutableMap&lt;String, Data&lt;E&gt;&gt; = mutableMapOf()\n\n}\n</code></pre>\n\n<p>I'm defining <code>Data</code> as an external, generic class, and use that inside the actual class.</p>\n\n<p>Edit: Actually, you don't even need to move the data class outside of the outer class:</p>\n\n<pre><code>class SomeClass&lt;E&gt; {\n    data class Data&lt;T&gt;(val str: String, val int: Int, val e: T)\n\n    val map: MutableMap&lt;String, Data&lt;E&gt;&gt; = mutableMapOf()\n\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5136381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29edc53b4403799b1a10a72d0541b762?s=128&d=identicon&r=PG&f=1", "display_name": "henrik", "link": "https://stackoverflow.com/users/5136381/henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 42534000, "answer_count": 1, "score": 1, "last_activity_date": 1488377579, "creation_date": 1488248435, "last_edit_date": 1488309704, "question_id": 42499020, "link": "https://stackoverflow.com/questions/42499020/creating-a-map-with-values-containing-generics", "title": "Creating a map with values containing generics", "body": "<p>I want to create a map with a key being a single object and a value being many objects, some containing generics. Is there a concise way to do this in Kotlin? I've used data classes in the past, but haven't found a way to make that work with generics.</p>\n\n<p>Thanks!</p>\n\n<p>Edit: Here's an example:</p>\n\n<pre><code>class SomeClass&lt;E&gt; {\n    data class Data(val str: String, val int: Int, val e: E) //the last value is invalid\n\n    val map: MutableMap&lt;String, Data&gt; = mutableMapOf()\n\n}\n</code></pre>\n"}, {"tags": ["java", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 1190, "user_id": 625158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7618d9dbfe0d76057acabf4fe82bc3?s=128&d=identicon&r=PG", "display_name": "olivierlemasle", "link": "https://stackoverflow.com/users/625158/olivierlemasle"}, "edited": false, "score": 0, "creation_date": 1488237730, "post_id": 42497513, "comment_id": 72134350, "body": "Could you please add a example of your keys (i.e. the &quot;column ID&quot; serialized format)?"}, {"owner": {"reputation": 8155, "user_id": 1431244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21b31222e990b631fee5484a7115a991?s=128&d=identicon&r=PG", "display_name": "Oliver Dain", "link": "https://stackoverflow.com/users/1431244/oliver-dain"}, "reply_to_user": {"reputation": 1190, "user_id": 625158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7618d9dbfe0d76057acabf4fe82bc3?s=128&d=identicon&r=PG", "display_name": "olivierlemasle", "link": "https://stackoverflow.com/users/625158/olivierlemasle"}, "edited": false, "score": 0, "creation_date": 1488238692, "post_id": 42497513, "comment_id": 72134674, "body": "@olivierlemasle added the serialized format. It&#39;s just basic JSON and serializes and deserializes with <code>ObjectMapper</code> without issues."}, {"owner": {"reputation": 1190, "user_id": 625158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7618d9dbfe0d76057acabf4fe82bc3?s=128&d=identicon&r=PG", "display_name": "olivierlemasle", "link": "https://stackoverflow.com/users/625158/olivierlemasle"}, "edited": false, "score": 0, "creation_date": 1488387060, "post_id": 42497513, "comment_id": 72210677, "body": "Ok, so in that case (where the key is a plain JSON object), I think you did it the right way. I was thinking about KeySerializers where the key is just a string with a custom format like in <a href=\"https://github.com/FasterXML/jackson-datatype-joda/blob/master/src/main/java/com/fasterxml/jackson/datatype/joda/deser/key/DateTimeKeyDeserializer.java\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-datatype-joda/blob/master/src/m&zwnj;&#8203;ain/&hellip;</a>"}, {"owner": {"reputation": 8155, "user_id": 1431244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21b31222e990b631fee5484a7115a991?s=128&d=identicon&r=PG", "display_name": "Oliver Dain", "link": "https://stackoverflow.com/users/1431244/oliver-dain"}, "reply_to_user": {"reputation": 1190, "user_id": 625158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7618d9dbfe0d76057acabf4fe82bc3?s=128&d=identicon&r=PG", "display_name": "olivierlemasle", "link": "https://stackoverflow.com/users/625158/olivierlemasle"}, "edited": false, "score": 0, "creation_date": 1488399086, "post_id": 42497513, "comment_id": 72217963, "body": "Thanks @olivierlemasle"}], "owner": {"reputation": 8155, "user_id": 1431244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21b31222e990b631fee5484a7115a991?s=128&d=identicon&r=PG", "display_name": "Oliver Dain", "link": "https://stackoverflow.com/users/1431244/oliver-dain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488238654, "creation_date": 1488237241, "last_edit_date": 1488238654, "question_id": 42497513, "link": "https://stackoverflow.com/questions/42497513/custom-keydeserializer", "title": "Custom KeyDeserializer", "body": "<p>I have a use case where I need a custom <code>KeyDeserializer</code>. The following works but feel wrong (it's Kotlin but should be pretty readable for Java folk):</p>\n\n<pre><code>class KeepMapKeyDeserializer : KeyDeserializer() {\n    // In reality this is a single executable-wide instance\n    val mapper = ObjectMapper()\n    override fun deserializeKey(key: String, ctxt: DeserializationContext): ColumnId&lt;*&gt; {\n        return mapper.readValue(key, ColumnId::class.java)\n    }\n}\n</code></pre>\n\n<p>It feels odd to use an <code>ObjectMapper</code> directly in the <code>deserializeKey</code> method but I can't find any way to use the <code>DeserializationContext</code> that passed to that method. For example, using <code>ctxt.parser.readValueAs(ColumnId::class.java)</code> doesn't work nor do more verbose options like:</p>\n\n<pre><code>val colIdType = ctxt.typeFactory.constructType(ColumnId::class.java)\nval deserializer = ctxt.findRootValueDeserializer(colIdType)\nreturn deserializer.deserialize(ctxt.parser, ctxt) as ColumnId&lt;*&gt;\n</code></pre>\n\n<p>Is this really the right way to go about things?</p>\n\n<p>Note, a serialized <code>ColumnId</code> looks like this: <code>{\"name\":\"c1\",\"clazz\":\"kotlin.String\"}</code></p>\n"}, {"tags": ["java", "eclipse", "maven", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "edited": false, "score": 0, "creation_date": 1488278528, "post_id": 42505091, "comment_id": 72150574, "body": "Thanks for the reply, but it does not seem to help."}, {"owner": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "edited": false, "score": 0, "creation_date": 1488278951, "post_id": 42505091, "comment_id": 72150863, "body": "After running Maven &gt; update project, the Kotlin nature is back and the kotlin_bin is empty."}, {"owner": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "reply_to_user": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "edited": false, "score": 0, "creation_date": 1488289651, "post_id": 42505091, "comment_id": 72158100, "body": "Just to be clear: you&#39;ve removed and then added Kotlin nature? If it doesn&#39;t help, try to rebuild project (Project -&gt; Clean)"}, {"owner": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "edited": false, "score": 0, "creation_date": 1488445345, "post_id": 42505091, "comment_id": 72236994, "body": "did all of that, to no avail."}, {"owner": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "edited": false, "score": 0, "creation_date": 1488551882, "post_id": 42505091, "comment_id": 72295559, "body": "This is not my main problem. The main problem is that my standard java project is not building when I&#39;m using Maven, which is stopping my progress all together."}, {"owner": {"reputation": 81, "user_id": 265098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c54fb64e1a9f70ad412a20686d39f395?s=128&d=identicon&r=PG", "display_name": "Firebird", "link": "https://stackoverflow.com/users/265098/firebird"}, "edited": false, "score": 0, "creation_date": 1523446867, "post_id": 42505091, "comment_id": 86563098, "body": "Just for clarification, in the Java Build Path, I added the kotlin source, but I DID NOT change the Default output folder (my-project/target/classes). Then I first removed the kotlin nature, then added the kotlin nature, then clean build the project and the problem was gone."}], "tags": [], "owner": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "is_accepted": false, "score": 4, "last_activity_date": 1488275107, "last_edit_date": 1488275107, "creation_date": 1488274721, "answer_id": 42505091, "question_id": 42496708, "link": "https://stackoverflow.com/questions/42496708/cant-get-kotlin-classes-in-java-maven-project-to-work-eclipse/42505091#42505091", "title": "Can&#39;t get Kotlin classes in Java maven project to work (Eclipse)", "body": "<p>It seems that there are several issues. </p>\n\n<p>Eclipse doesn't recognize <code>src/main/kotlin</code> as source directory. To fix it, please add the directory to the classpath manually: properties for mixed-code-hello-world -> Java Build Path -> Source tab -> Add Folder...</p>\n\n<p>Then, try to Remove and Add Kotlin Nature to reindex Kotlin files in the project. To do this, press right-click on the project -> Configure Kotlin -> Remove Kotlin Nature.<a href=\"https://i.stack.imgur.com/jen1x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jen1x.png\" alt=\"Kotlin Configuration\"></a></p>\n\n<p>I've created tickets for these problems:</p>\n\n<ol>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-16540\" rel=\"nofollow noreferrer\">Eclipse does not recognize kotlin source directory</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-16541\" rel=\"nofollow noreferrer\">Kotlin plugin does not reindex files after adding source directory</a></li>\n</ol>\n"}], "owner": {"reputation": 920, "user_id": 1127980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/482695fefe98ce543f696624ffce8193?s=128&d=identicon&r=PG", "display_name": "Friso", "link": "https://stackoverflow.com/users/1127980/friso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2398, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1533904994, "creation_date": 1488233450, "last_edit_date": 1488278612, "question_id": 42496708, "link": "https://stackoverflow.com/questions/42496708/cant-get-kotlin-classes-in-java-maven-project-to-work-eclipse", "title": "Can&#39;t get Kotlin classes in Java maven project to work (Eclipse)", "body": "<p>I've got a maven (DropWizard) java project. I'd really like to add some Kotlin classes, but seem unable to do so. In my real project I've added the maven configuration like <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources</a>, but my Kotlin classes aren't seen by the 'normal' java code. Neither by maven nor by Eclipse. </p>\n\n<p>So I tried the mixed-source example <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/maven/mixed-code-hello-world\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-examples/tree/master/maven/mixed-code-hello-world</a>. That worked in Maven, but still not in Eclipse. </p>\n\n<p>What am I missing here?</p>\n\n<p><a href=\"https://i.stack.imgur.com/qkcoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qkcoW.png\" alt=\"This is my workspace\"></a></p>\n"}, {"tags": ["intellij-idea", "kotlin", "noclassdeffounderror", "classnotfoundexception", "intrinsics"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 4, "creation_date": 1488232255, "post_id": 42496309, "comment_id": 72132045, "body": "<a href=\"https://youtrack.jetbrains.com/issue/IDEA-167412\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-167412</a>"}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1488232609, "post_id": 42496309, "comment_id": 72132215, "body": "Confirming it is a duplicate, thanks @IRus for the solution!"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "closed_date": 1488232394, "answer_count": 0, "score": 2, "last_activity_date": 1488231785, "creation_date": 1488231785, "question_id": 42496309, "link": "https://stackoverflow.com/questions/42496309/kotlin-from-intellij-noclassdeffounderror-kotlin-jvm-internal-intrinsics", "closed_reason": "Duplicate", "title": "Kotlin from IntelliJ: NoClassDefFoundError: kotlin/jvm/internal/Intrinsics", "body": "<p>Ever since I upgraded to Kotlin <code>1.1.0-rc-91</code> I have been receiving this exception when trying to run my app from IntelliJ.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at com.charlatano.Charlatano.main(Charlatano.kt)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>It does, however, work when I build a JAR of the app and run it that way.</p>\n\n<p>The entire app is hosted here: <a href=\"https://github.com/Jire/Charlatano\" rel=\"nofollow noreferrer\">https://github.com/Jire/Charlatano</a></p>\n\n<p>Specifically, I think it has something to do with my Gradle configuration: <a href=\"https://github.com/Jire/Charlatano/blob/master/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/Jire/Charlatano/blob/master/build.gradle</a></p>\n"}, {"tags": ["functional-programming", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 5, "creation_date": 1488232545, "post_id": 42496227, "comment_id": 72132185, "body": "This code doesn&#39;t do what it is intended to. Each item of <code>records</code> will be mapped to the function reference, and you will get a list of N identical items <code>::extract</code>."}], "tags": [], "owner": {"reputation": 2191, "user_id": 2794332, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5ea3c23bb50f4cdb54a2008d3e990a0d?s=128&d=identicon&r=PG&f=1", "display_name": "pezetem", "link": "https://stackoverflow.com/users/2794332/pezetem"}, "is_accepted": false, "score": 1, "last_activity_date": 1488231432, "creation_date": 1488231432, "answer_id": 42496227, "question_id": 42496032, "link": "https://stackoverflow.com/questions/42496032/kotlin-function-reference/42496227#42496227", "title": "Kotlin function reference", "body": "<p>you could use method reference (similar to Java). </p>\n\n<pre><code>records.map {::extract} \n</code></pre>\n\n<p>take a look at the function references examples on kotlin docs\n<a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#function-references</a></p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 12, "last_activity_date": 1488976584, "last_edit_date": 1488976584, "creation_date": 1488232075, "answer_id": 42496375, "question_id": 42496032, "link": "https://stackoverflow.com/questions/42496032/kotlin-function-reference/42496375#42496375", "title": "Kotlin function reference", "body": "<ul>\n<li><p>If <code>extract</code> is a value (local variable, property, parameter) of a functional type <code>(T) -&gt; R</code> or <code>T.() -&gt; R</code> for some <code>T</code> and <code>R</code>, then you can pass it directly to <code>map</code>:</p>\n\n<pre><code>records.map(extract)\n</code></pre>\n\n<p><sup>Example:</sup></p>\n\n<pre><code>val upperCaseReverse: (String) -&gt; String = { it.toUpperCase().reversed() }\n\nlistOf(\"abc\", \"xyz\").map(upperCaseReverse) // [CBA, ZYX]\n</code></pre></li>\n<li><p>If <code>extract</code> is a top-level single argument function or a local single argument function, you can <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">make a function reference as <code>::extract</code></a> and pass it to <code>map</code>:</p>\n\n<pre><code>records.map(::extract)\n</code></pre>\n\n<p><sup>Example:</sup></p>\n\n<pre><code>fun rotate(s: String) = s.drop(1) + s.first()\n\nlistOf(\"abc\", \"xyz\").map(::rotate) // [bca, yzx]\n</code></pre></li>\n<li><p>If it is a member or an extension function of a class <code>SomeClass</code> accepting no arguments or a property of <code>SomeClass</code>, you can use it as <code>SomeClass::extract</code>. In this case, <code>records</code> should contain items of <code>SomeType</code>, which will be used as a receiver for <code>extract</code>.</p>\n\n<pre><code>records.map(SomeClass::extract)\n</code></pre>\n\n<p><sup>Example:</sup></p>\n\n<pre><code>fun Int.rem2() = this % 2\n\nlistOf(\"abc\", \"defg\").map(String::length).map(Int::rem2) // [1, 0]\n</code></pre></li>\n<li><p><em>Since Kotlin 1.1</em>, if <code>extract</code> is a member or an extension function of a class <code>SomeClass</code> accepting one argument, you can <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/bound-callable-references.md\" rel=\"nofollow noreferrer\">make a bound callable reference</a> with some receiver <code>foo</code>:</p>\n\n<pre><code>records.map(foo::extract)\nrecords.map(this::extract) // to call on `this` receiver\n</code></pre>\n\n<p><sup>Example:</sup></p>\n\n<pre><code>listOf(\"abc\", \"xyz\").map(\"prefix\"::plus) // [prefixabc, prefixxyz]\n</code></pre></li>\n</ul>\n\n<p><sup><a href=\"http://try.kotlinlang.org/#/UserProjects/e2dsmpb3vs4elaugjprp90tbqp/glu259po0vouhr93rf1pl41ktc\" rel=\"nofollow noreferrer\">(runnable demo with all the code samples above)</a></sup></p>\n"}], "owner": {"reputation": 9606, "user_id": 1449676, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/4D92n.png?s=128&g=1", "display_name": "ps-aux", "link": "https://stackoverflow.com/users/1449676/ps-aux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 1, "accepted_answer_id": 42496375, "answer_count": 2, "score": 8, "last_activity_date": 1488976584, "creation_date": 1488230666, "question_id": 42496032, "link": "https://stackoverflow.com/questions/42496032/kotlin-function-reference", "title": "Kotlin function reference", "body": "<p>Let <code>records</code> be stream/collection and <code>extract</code> function which transforms data form an element of such collection.</p>\n\n<p>Is there a way in Kotlin to write </p>\n\n<pre><code>records.map {extract(it)} \n</code></pre>\n\n<p>without explicitely applying<code>(it)</code> ?</p>\n\n<p>E.g. <code>records.map(extract)</code> or <code>records.map {extract}</code></p>\n"}, {"tags": ["android", "mocking", "mockito", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": false, "score": 1, "last_activity_date": 1516586033, "creation_date": 1516586033, "answer_id": 48373729, "question_id": 42490850, "link": "https://stackoverflow.com/questions/42490850/how-to-mock-kotlins-object-using-mockito-powermockito/48373729#48373729", "title": "How to mock Kotlin&#39;s Object using Mockito/PowerMockito?", "body": "<p>Not using Mockito/PowerMockito, but there's a new library called <a href=\"http://mockk.io\" rel=\"nofollow noreferrer\">Mockk</a> that allows you to do exactly that:</p>\n\n<hr>\n\n<p>From it's documentation:</p>\n\n<pre><code>object MockObj {\n  fun add(a: Int, b: Int) = a + b\n}\n\nobjectMockk(MockObj).use {\n  assertEquals(3, MockObj.add(1, 2))\n\n  every { MockObj.add(1, 2) } returns 55\n\n  assertEquals(55, MockObj.add(1, 2))\n}\n</code></pre>\n"}], "owner": {"reputation": 3471, "user_id": 2068693, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Cu4rC.jpg?s=128&g=1", "display_name": "E. Fernandes", "link": "https://stackoverflow.com/users/2068693/e-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516586033, "creation_date": 1488213049, "last_edit_date": 1488213368, "question_id": 42490850, "link": "https://stackoverflow.com/questions/42490850/how-to-mock-kotlins-object-using-mockito-powermockito", "title": "How to mock Kotlin&#39;s Object using Mockito/PowerMockito?", "body": "<p>I have the following class:</p>\n\n<pre><code>object CharacterDAO : GenericDAO&lt;Character&gt;(Character::class.java, \"id\") {\n}\n</code></pre>\n\n<p>That I would like to mock using Mockito/PowerMockito. Any suggestions?</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 4029, "user_id": 3866010, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/sdH3K.png?s=128&g=1", "display_name": "\u1d1b\u029c\u1d07\u1d18\u1d00\u1d1b\u1d07\u029f", "link": "https://stackoverflow.com/users/3866010/%e1%b4%9b%ca%9c%e1%b4%87%e1%b4%98%e1%b4%80%e1%b4%9b%e1%b4%87%ca%9f"}, "edited": false, "score": 0, "creation_date": 1488198043, "post_id": 42485596, "comment_id": 72110729, "body": "If I understand it correctly, You want to find out what type of value is in the <code>intent</code> <code>bundle</code>? Can&#39;t you just use <code>get</code> method which will return <code>Object</code> and then look do <code>getClass().getSimpleName()</code> on that <code>Object</code> to find the class. You can even use <code>instanceof</code>to do something by type."}], "answers": [{"tags": [], "owner": {"reputation": 4010, "user_id": 1958659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70540a61e67f7f3042c6930bd9074b1b?s=128&d=identicon&r=PG", "display_name": "npace", "link": "https://stackoverflow.com/users/1958659/npace"}, "is_accepted": false, "score": 0, "last_activity_date": 1488198302, "creation_date": 1488198302, "answer_id": 42485786, "question_id": 42485596, "link": "https://stackoverflow.com/questions/42485596/universal-pair-value-type-for-intent-extras/42485786#42485786", "title": "Universal Pair value type for intent extras", "body": "<p>I don't think it's possible. Take a look at the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/content/Intent.java#7109\" rel=\"nofollow noreferrer\">implementation of the putExtra() methods</a>.</p>\n\n<p>They don't use polymorphism to determine the type of operation to be performed, you really need to invoke the method with the correct type signature for its second argument.</p>\n"}, {"comments": [{"owner": {"reputation": 1621, "user_id": 4311759, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/9xRdP.png?s=128&g=1", "display_name": "Ardi", "link": "https://stackoverflow.com/users/4311759/ardi"}, "edited": false, "score": 0, "creation_date": 1488278792, "post_id": 42495067, "comment_id": 72150769, "body": "Didn&#39;t even look into Anko source, thank you for notice"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1488227009, "creation_date": 1488227009, "answer_id": 42495067, "question_id": 42485596, "link": "https://stackoverflow.com/questions/42485596/universal-pair-value-type-for-intent-extras/42495067#42495067", "title": "Universal Pair value type for intent extras", "body": "<p>I believe this isn't possible with the current language features and Android API.</p>\n\n<p>If you dive into the source of <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a>, you'll find that in the end they resort to the trivial and somewhat ugly solution as well. (For the higher level public functions you're supposed to use, they use <code>vararg params: Pair&lt;String, Any?&gt;</code>, and then delegate to the following.)</p>\n\n<pre><code>@JvmStatic\nprivate fun fillIntentArguments(intent: Intent, params: Array&lt;out Pair&lt;String, Any?&gt;&gt;) {\n    params.forEach {\n        val value = it.second\n        when (value) {\n            null -&gt; intent.putExtra(it.first, null as Serializable?)\n            is Int -&gt; intent.putExtra(it.first, value)\n            is Long -&gt; intent.putExtra(it.first, value)\n            is CharSequence -&gt; intent.putExtra(it.first, value)\n            is String -&gt; intent.putExtra(it.first, value)\n            is Float -&gt; intent.putExtra(it.first, value)\n            is Double -&gt; intent.putExtra(it.first, value)\n            is Char -&gt; intent.putExtra(it.first, value)\n            is Short -&gt; intent.putExtra(it.first, value)\n            is Boolean -&gt; intent.putExtra(it.first, value)\n            is Serializable -&gt; intent.putExtra(it.first, value)\n            is Bundle -&gt; intent.putExtra(it.first, value)\n            is Parcelable -&gt; intent.putExtra(it.first, value)\n            is Array&lt;*&gt; -&gt; when {\n                value.isArrayOf&lt;CharSequence&gt;() -&gt; intent.putExtra(it.first, value)\n                value.isArrayOf&lt;String&gt;() -&gt; intent.putExtra(it.first, value)\n                value.isArrayOf&lt;Parcelable&gt;() -&gt; intent.putExtra(it.first, value)\n                else -&gt; throw AnkoException(\"Intent extra ${it.first} has wrong type ${value.javaClass.name}\")\n            }\n            is IntArray -&gt; intent.putExtra(it.first, value)\n            is LongArray -&gt; intent.putExtra(it.first, value)\n            is FloatArray -&gt; intent.putExtra(it.first, value)\n            is DoubleArray -&gt; intent.putExtra(it.first, value)\n            is CharArray -&gt; intent.putExtra(it.first, value)\n            is ShortArray -&gt; intent.putExtra(it.first, value)\n            is BooleanArray -&gt; intent.putExtra(it.first, value)\n            else -&gt; throw AnkoException(\"Intent extra ${it.first} has wrong type ${value.javaClass.name}\")\n        }\n        return@forEach\n    }\n}\n</code></pre>\n\n<p>You can find the file here: <a href=\"https://github.com/Kotlin/anko/blob/683115f93ca6b0ed36ab36f3814dbc0da0abe7d3/anko/library/static/common/src/Internals.kt#L143\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/blob/683115f93ca6b0ed36ab36f3814dbc0da0abe7d3/anko/library/static/common/src/Internals.kt#L143</a></p>\n"}], "owner": {"reputation": 1621, "user_id": 4311759, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/9xRdP.png?s=128&g=1", "display_name": "Ardi", "link": "https://stackoverflow.com/users/4311759/ardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1054, "favorite_count": 1, "accepted_answer_id": 42495067, "answer_count": 2, "score": 3, "last_activity_date": 1488227009, "creation_date": 1488197729, "question_id": 42485596, "link": "https://stackoverflow.com/questions/42485596/universal-pair-value-type-for-intent-extras", "title": "Universal Pair value type for intent extras", "body": "<p>Quite simple issue: is it possible to find universal Intent extra type for second Pair argument (String, Int, Bundle etc)? </p>\n\n<pre><code>inline fun &lt;reified T : Activity&gt; Context.startActivity(vararg params: Pair&lt;String, ?&gt;) {\n    val intent = Intent(this, T::class.java)\n    params.forEach { intent.putExtra(it.first, it.second) }\n    startActivity(intent)\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-lint"], "answers": [{"tags": [], "owner": {"reputation": 1611, "user_id": 1306579, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/7GIkj.png?s=128&g=1", "display_name": "wnc_21", "link": "https://stackoverflow.com/users/1306579/wnc-21"}, "is_accepted": true, "score": 20, "last_activity_date": 1488207258, "creation_date": 1488207258, "answer_id": 42488822, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/42488822#42488822", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>I am not sure if you can do it in code, but you can at least disable it in the IDE. Go to \"File | Settings | Editor | Inspections | Illegal Android Identifier\" and disable this inspection.</p>\n"}, {"comments": [{"owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "reply_to_user": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "edited": false, "score": 3, "creation_date": 1497985653, "post_id": 42525322, "comment_id": 76307784, "body": "I don&#39;t want to take credit from wnc_21. This answer just builds on his."}], "tags": [], "owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "is_accepted": false, "score": 49, "last_activity_date": 1488352008, "creation_date": 1488352008, "answer_id": 42525322, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/42525322#42525322", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>Based on wnc_21 answer I found that it can be disabled for a specific scope, in my case it's only used in tests so there's that. </p>\n\n<p><a href=\"https://i.stack.imgur.com/0lHsU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0lHsU.png\" alt=\"Android Studio disable inspection for tests scope\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "edited": false, "score": 0, "creation_date": 1506130302, "post_id": 44741479, "comment_id": 79709594, "body": "This is a great answer as gives you more granular control and can be shared with other users that clone your code"}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1536761863, "post_id": 44741479, "comment_id": 91542510, "body": "It&#39;s more elegant and flexible way!"}], "tags": [], "owner": {"reputation": 250, "user_id": 3739366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1048037995/picture?type=large", "display_name": "MarcinM", "link": "https://stackoverflow.com/users/3739366/marcinm"}, "is_accepted": false, "score": 17, "last_activity_date": 1498343040, "creation_date": 1498343040, "answer_id": 44741479, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/44741479#44741479", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>Use:</p>\n\n<pre><code>@file:Suppress(\"IllegalIdentifier\")\n</code></pre>\n\n<p>on the top of the file</p>\n"}, {"tags": [], "owner": {"reputation": 4401, "user_id": 5980046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzzMj.jpg?s=128&g=1", "display_name": "PsychedelicSubstance", "link": "https://stackoverflow.com/users/5980046/psychedelicsubstance"}, "is_accepted": false, "score": 9, "last_activity_date": 1509111806, "creation_date": 1509111806, "answer_id": 46976529, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/46976529#46976529", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>I use</p>\n\n<pre><code>@Suppress(\"IllegalIdentifier\")\n</code></pre>\n\n<p>example</p>\n\n<pre><code>@Suppress(\"IllegalIdentifier\")\nclass SignUpTest {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2671, "user_id": 958025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd938d17202eccdfaa0bd9a389a2627e?s=128&d=identicon&r=PG&f=1", "display_name": "Nimrod Dayan", "link": "https://stackoverflow.com/users/958025/nimrod-dayan"}, "is_accepted": false, "score": 2, "last_activity_date": 1519291721, "creation_date": 1519291721, "answer_id": 48923767, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/48923767#48923767", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>There's a way to suppress Lint checks from a Lint configuration file instead of annotating each and every single file or whatever with <code>@Suppress</code>. Note that it only affects builds executed from command line. I still haven't figured out how to make Android Studio use this configuration file for code inspections.</p>\n\n<p>Android Gradle plugin has <code>lintConfig</code> property under <code>lintOptions</code> in its <a href=\"https://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.LintOptions.html\" rel=\"nofollow noreferrer\">DSL</a>.</p>\n\n<p>It allows you to specify the path to a Lint configuration xml file. The feature is documented <a href=\"https://developer.android.com/studio/write/lint.html#pref\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>An example Lint config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;lint&gt;\n    &lt;!-- Disable the given check in this project --&gt;\n    &lt;issue id=\"IllegalIdentifier\"&gt;\n        &lt;ignore path=\"**/androidTest/**\" /&gt;\n        &lt;ignore path=\"**/test/**\" /&gt;\n    &lt;/issue&gt;\n&lt;/lint&gt;\n</code></pre>\n\n<p>This way, code inspection configuration is part of the codebase and is shared among all developers.</p>\n"}, {"tags": [], "owner": {"reputation": 2180, "user_id": 3900793, "user_type": "registered", "profile_image": "https://graph.facebook.com/641421048/picture?type=large", "display_name": "dianakarenms", "link": "https://stackoverflow.com/users/3900793/dianakarenms"}, "is_accepted": false, "score": 0, "last_activity_date": 1619022394, "creation_date": 1619022394, "answer_id": 67199813, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android/67199813#67199813", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>I got this error when I intended to add a new test class into <code>test</code> package but added it to the <code>androidTest</code> by mistake.</p>\n<p>It got solved after moving the class into the correct <code>test</code> package.</p>\n"}], "owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4338, "favorite_count": 3, "accepted_answer_id": 42488822, "answer_count": 6, "score": 32, "last_activity_date": 1619022394, "creation_date": 1488196476, "question_id": 42485164, "link": "https://stackoverflow.com/questions/42485164/suppress-identifier-not-allowed-in-android", "title": "Suppress &quot;Identifier not allowed in Android&quot;", "body": "<p>For my application written in Kotlin I use backticked method names for tests, like this:</p>\n\n<pre><code>fun `API login error - don't save token or user`() {\n</code></pre>\n\n<p>It works, the tests compile and work without a problem, but Lint in Android Studio is marking those methods as error with message <code>Identifier not allowed in Android</code>.</p>\n\n<p>Is there any way to suppress this so that the Lint check passes without errors and it's not marked with red underline in Android Studio?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 829, "user_id": 6171845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PdX4_q0H3vU/AAAAAAAAAAI/AAAAAAAAAKI/gWUxvF_CGvU/photo.jpg?sz=128", "display_name": "Sofiane Daoud", "link": "https://stackoverflow.com/users/6171845/sofiane-daoud"}, "edited": false, "score": 0, "creation_date": 1488192404, "post_id": 42483639, "comment_id": 72106926, "body": "could you past you gradle file"}, {"owner": {"reputation": 47, "user_id": 1004686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001435962576/picture?type=large", "display_name": "sucharita ganguly", "link": "https://stackoverflow.com/users/1004686/sucharita-ganguly"}, "reply_to_user": {"reputation": 829, "user_id": 6171845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PdX4_q0H3vU/AAAAAAAAAAI/AAAAAAAAAKI/gWUxvF_CGvU/photo.jpg?sz=128", "display_name": "Sofiane Daoud", "link": "https://stackoverflow.com/users/6171845/sofiane-daoud"}, "edited": false, "score": 0, "creation_date": 1488196991, "post_id": 42483639, "comment_id": 72110078, "body": "i have added the image, please check."}, {"owner": {"reputation": 47, "user_id": 1004686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001435962576/picture?type=large", "display_name": "sucharita ganguly", "link": "https://stackoverflow.com/users/1004686/sucharita-ganguly"}, "reply_to_user": {"reputation": 829, "user_id": 6171845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PdX4_q0H3vU/AAAAAAAAAAI/AAAAAAAAAKI/gWUxvF_CGvU/photo.jpg?sz=128", "display_name": "Sofiane Daoud", "link": "https://stackoverflow.com/users/6171845/sofiane-daoud"}, "edited": false, "score": 0, "creation_date": 1497003024, "post_id": 42483639, "comment_id": 75906370, "body": "i am facing this issue again... any solution is appriciated"}], "owner": {"reputation": 47, "user_id": 1004686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001435962576/picture?type=large", "display_name": "sucharita ganguly", "link": "https://stackoverflow.com/users/1004686/sucharita-ganguly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488196953, "creation_date": 1488192097, "last_edit_date": 1488196953, "question_id": 42483639, "link": "https://stackoverflow.com/questions/42483639/gradle-sinc-failed-with-kotlin-extension-for-input-string-in-build-gradle", "title": "Gradle sinc failed with kotlin extension. for input string : &quot; &quot; in build.gradle file module(app)", "body": "<p><a href=\"https://i.stack.imgur.com/GWcER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GWcER.png\" alt=\"enter image description here\"></a>I am getting the following error, when i try to build my application. It is already build with kotlin extension.but suddenly it gives me this error.</p>\n\n<blockquote>\n  <p>Gradle sync failed: For input string: \"     \" and it pointing to build.gradle apply plugin:'kotlin-android' line.</p>\n</blockquote>\n"}, {"tags": ["multithreading", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1488197336, "last_edit_date": 1495535383, "creation_date": 1488179687, "answer_id": 42479801, "question_id": 42479009, "link": "https://stackoverflow.com/questions/42479009/kotlin-local-variable-thread-safety/42479801#42479801", "title": "Kotlin local variable thread safety", "body": "<p>When compiled with the <a href=\"https://blog.jetbrains.com/kotlin/2017/02/kotlin-1-1-release-candidate-is-here/\" rel=\"nofollow noreferrer\">Kotlin 1.1 RC</a> compiler, the local variables in your code are stored in <a href=\"https://github.com/JetBrains/kotlin/blob/8e3cb912c7d4a43eaa453b124d6604d5aedcb26d/core/runtime.jvm/src/kotlin/jvm/internal/Ref.java#L24\" rel=\"nofollow noreferrer\"><code>ObjectRef</code></a>s, which are then used in the lambdas.</p>\n\n<p><sup>You can check what a piece of code is compiled to using the <a href=\"https://stackoverflow.com/questions/35538049/kotlin-bytecode\">Kotlin bytecode viewer</a>.</sup></p>\n\n<p><strong><code>ObjectRef</code> stores the reference in a non-volatile field</strong>, so there is indeed no guarantee that the program completes.</p>\n\n<p>Earlier versions of Kotlin used to have a <code>volatile</code> field in the <code>Ref</code> classes, but this was an undocumented implementation detail (i.e. not something to rely on) that <a href=\"https://youtrack.jetbrains.com/issue/KT-14746\" rel=\"nofollow noreferrer\">has eventually been changed</a> in Kotlin 1.1. See <a href=\"https://discuss.kotlinlang.org/t/non-volatile-vs-volatile-captured-refs-by-default/2122\" rel=\"nofollow noreferrer\">this thread</a> for the motivation behind the non-volatile captured variables.</p>\n\n<hr>\n\n<p>As said in <a href=\"https://youtrack.jetbrains.com/issue/KT-14746\" rel=\"nofollow noreferrer\">the issue</a> description,</p>\n\n<blockquote>\n  <p>If a user is capturing a variable and handing it to other threads to work with, then it is a requirement of whatever concurrency control mechanism they are using to establish the corresponding happens-before edges between reads and writes to the captured variables. All regular concurrency mechanisms like starting/joining threads, creating futures, etc do so.</p>\n</blockquote>\n\n<p>To make your example program correctly synchronized, it is enough to call <code>.get()</code> on the two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a> instances returned from <code>exec.submit { }</code>, since <code>Future</code> provides happens-before guarantees:</p>\n\n<blockquote>\n  <p>Actions taken by the asynchronous computation represented by a <code>Future</code> happen-before actions subsequent to the retrieval of the result via <code>Future.get()</code> in another thread.</p>\n</blockquote>\n\n<pre><code>val f1 = exec.submit { /* ... */ }\nval f2 = exec.submit { /* ... */ }\n\nf1.get()\nf2.get()\n\n// Both assignments made in the submitted tasks are visible now\nassert(firstNumber != null) \nassert(secondNumber != null) \n</code></pre>\n"}], "owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3209, "favorite_count": 0, "accepted_answer_id": 42479801, "answer_count": 1, "score": 3, "last_activity_date": 1488305479, "creation_date": 1488176281, "last_edit_date": 1488305479, "question_id": 42479009, "link": "https://stackoverflow.com/questions/42479009/kotlin-local-variable-thread-safety", "title": "Kotlin local variable thread safety", "body": "<p>So I was writing a unit test to test some multi-threading, and I want to know if this code is guaranteed to work as I would expect.</p>\n\n<pre><code>fun testNumbers() {\n    var firstNumber: Int? = null\n    var secondNumber: Int? = null\n    val startLatch = CountDownLatch(2)\n    val exec = Executors.newFixedThreadPool(2)\n\n    exec.submit({\n        startLatch.countDown()\n        startLatch.await()\n        firstNumber = StuffDoer.makeNumber()\n    })\n    exec.submit({\n        startLatch.countDown()\n        startLatch.await()\n        secondNumber = StuffDoer().makeNumber()\n    })\n    while (firstNumber == null || secondNumber == null) {\n        Thread.sleep(1)\n    }\n}\n</code></pre>\n\n<p>Specifically, is this method guaranteed to complete? <code>firstNumber</code> and <code>secondNumber</code> aren't <code>volatile</code> so does that mean the results set in those values from the <code>exec</code> threads might never be seen by the thread running the test? You can't apply volatile to local variables, so practically speaking it wouldn't make sense to me that you can't make function-local variables volatile if it might be necessary.</p>\n\n<p>(I added Java as a tag because presumably the basic question is the same in Java.)</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 1361, "user_id": 3286059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03116cc2ac1d8e53a16fda1af383b8b?s=128&d=identicon&r=PG", "display_name": "Dimezis", "link": "https://stackoverflow.com/users/3286059/dimezis"}, "edited": false, "score": 0, "creation_date": 1488149058, "post_id": 42475094, "comment_id": 72090772, "body": "Take a look at <a href=\"http://stackoverflow.com/questions/36199796/dagger-2-named-cannot-be-provided-without-a-provides-method\">this topic</a>. Named injections have some special syntax"}, {"owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "reply_to_user": {"reputation": 1361, "user_id": 3286059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03116cc2ac1d8e53a16fda1af383b8b?s=128&d=identicon&r=PG", "display_name": "Dimezis", "link": "https://stackoverflow.com/users/3286059/dimezis"}, "edited": false, "score": 0, "creation_date": 1488149341, "post_id": 42475094, "comment_id": 72090868, "body": "thank you @Dimezis"}], "answers": [{"tags": [], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "is_accepted": false, "score": 3, "last_activity_date": 1498207064, "creation_date": 1498207064, "answer_id": 44716823, "question_id": 42475094, "link": "https://stackoverflow.com/questions/42475094/how-to-inject-into-var-in-kotlin/44716823#44716823", "title": "How to inject into var in Kotlin?", "body": "<p>You have to change your injection code like this:</p>\n\n<pre><code>@field:[Inject Named(\"accessTokenObservable\")]\nlateinit var accessTokenObservable: Flowable&lt;Optional&lt;AccessToken&gt;&gt;\n</code></pre>\n\n<p>, and it will be fixed.</p>\n"}, {"comments": [{"owner": {"reputation": 5552, "user_id": 20444, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46d69f41ea8fd84eae4f5df6e9b9bd29?s=128&d=identicon&r=PG", "display_name": "activout.se", "link": "https://stackoverflow.com/users/20444/activout-se"}, "edited": false, "score": 1, "creation_date": 1507538813, "post_id": 44721136, "comment_id": 80233593, "body": "Slightly off-topic nitpick but according to <a href=\"https://google.github.io/dagger/android.html\" rel=\"nofollow noreferrer\">google.github.io/dagger/android.html</a>  &#39;&#39;AndroidInjection.inject(this);&#39;&#39; should be called before &#39;&#39;super.onCreate(savedInstanceState);&#39;&#39;"}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "edited": false, "score": 0, "creation_date": 1526970424, "post_id": 44721136, "comment_id": 87935286, "body": "This is fine if you have no @name qualifier!"}], "tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": false, "score": 11, "last_activity_date": 1512598379, "last_edit_date": 1512598379, "creation_date": 1498219811, "answer_id": 44721136, "question_id": 42475094, "link": "https://stackoverflow.com/questions/42475094/how-to-inject-into-var-in-kotlin/44721136#44721136", "title": "How to inject into var in Kotlin?", "body": "<p>I just use </p>\n\n<pre><code>@Inject\nlateinit var presenter: ItemsPresenter\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    AndroidInjection.inject(this)\n    super.onCreate(savedInstanceState)\n    ...\n}\n</code></pre>\n\n<p>Without any problems</p>\n"}, {"tags": [], "owner": {"reputation": 897, "user_id": 2855810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0mS1.png?s=128&g=1", "display_name": "Ergin Ersoy", "link": "https://stackoverflow.com/users/2855810/ergin-ersoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1517843916, "last_edit_date": 1517843916, "creation_date": 1512650852, "answer_id": 47695496, "question_id": 42475094, "link": "https://stackoverflow.com/questions/42475094/how-to-inject-into-var-in-kotlin/47695496#47695496", "title": "How to inject into var in Kotlin?", "body": "<p>Do you provide <code>Flowable&lt;Optional&lt;AccessToken&gt;&gt; accessTokenObservable</code> somewhere  in your code? </p>\n\n<p>If not \n<code>Error:Flowable&lt;Optional&lt;AccessToken&gt;&gt; cannot be provided without\nan @Provides- or @Produces-annotated method.</code> can be produced. Because you are trying to inject object without provide it.\nIn this case you need to provide in your injector class:</p>\n\n<pre><code>@Provide\n@Named(\"accessTokenObservable\")\nfun provideAccessTokenObservable : Flowable&lt;Optional&lt;AccessToken&gt;&gt;{\n    return yourAccessTokenObservable\n}\n</code></pre>\n\n<p>then you need to inject your object in your activity</p>\n\n<pre><code>@Inject\n@Named(\"accessTokenObservable\")\nlateinit var accessTokenObservable: Flowable&lt;Optional&lt;AccessToken&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6055, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1517843916, "creation_date": 1488148681, "question_id": 42475094, "link": "https://stackoverflow.com/questions/42475094/how-to-inject-into-var-in-kotlin", "title": "How to inject into var in Kotlin?", "body": "<p>I try to implement Dagger2 into my Kotlin project but I have problems with the <code>@Inject</code> annotation.</p>\n\n<p>In Java it looks like this and this works fine:</p>\n\n<pre><code>public class FooActivity extends Activity {\n\n    @Inject\n    @Named(\"accessTokenObservable\")\n    public Flowable&lt;Optional&lt;AccessToken&gt;&gt; accessTokenObservable;\n\n    @Override\n    protected void onCreate(@Nullable final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        App.getGraph().inject(this);\n    }\n}\n</code></pre>\n\n<p>But how I have to write the <code>@Inject</code> line in Kotlin?</p>\n\n<p>When I use this one:</p>\n\n<pre><code>@Inject\n@Named(\"accessTokenObservable\")\nvar accessTokenObservable: Flowable&lt;Optional&lt;AccessToken&gt;&gt;? = null\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>Error:Dagger does not support injection into private fields\n</code></pre>\n\n<p>If I use <code>lateinit</code>:</p>\n\n<pre><code>@Inject\n@Named(\"accessTokenObservable\")\nlateinit var accessTokenObservable: Flowable&lt;Optional&lt;AccessToken&gt;&gt;\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>Error:Flowable&lt;Optional&lt;AccessToken&gt;&gt; cannot be provided without\nan @Provides- or @Produces-annotated method.\n</code></pre>\n\n<p>What is the right syntax to inject something in Kotlin?</p>\n"}, {"tags": ["java", "exception-handling", "kotlin", "slf4j"], "answers": [{"comments": [{"owner": {"reputation": 33762, "user_id": 16050, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7e1282298aec568f8bad5afe46cb40b8?s=128&d=identicon&r=PG", "display_name": "sanity", "link": "https://stackoverflow.com/users/16050/sanity"}, "edited": false, "score": 0, "creation_date": 1488132860, "post_id": 42472045, "comment_id": 72084962, "body": "You might be right in most scenarios, but I don&#39;t think this applies to this scenario because I&#39;m the one throwing the exception from my own code, so I can indeed know in advance what parts of the stacktrace are relevant (as illustrated in the example I provided)."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 33762, "user_id": 16050, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7e1282298aec568f8bad5afe46cb40b8?s=128&d=identicon&r=PG", "display_name": "sanity", "link": "https://stackoverflow.com/users/16050/sanity"}, "edited": false, "score": 0, "creation_date": 1488133330, "post_id": 42472045, "comment_id": 72085134, "body": "As a developer who has had to debug other people&#39;s code many times, I stand by my assertion that the entire stack trace is important.  But that&#39;s only my opinion from 20+ years of experience."}, {"owner": {"reputation": 33762, "user_id": 16050, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7e1282298aec568f8bad5afe46cb40b8?s=128&d=identicon&r=PG", "display_name": "sanity", "link": "https://stackoverflow.com/users/16050/sanity"}, "edited": false, "score": 1, "creation_date": 1488137644, "post_id": 42472045, "comment_id": 72086780, "body": "And mine is just my opinion from 20+ years of experience :/"}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 1, "last_activity_date": 1488132088, "last_edit_date": 1488132088, "creation_date": 1488131572, "answer_id": 42472045, "question_id": 42471992, "link": "https://stackoverflow.com/questions/42471992/what-are-best-practices-for-trimming-an-exception-stacktrace-prior-to-logging/42472045#42472045", "title": "What are best practices for &quot;trimming&quot; an exception stacktrace prior to logging with SLF4J?", "body": "<p>The only valid answer is DON'T. </p>\n\n<p>You cannot know in advance what parts of the stack trace are relevant, and if you remove or trim anything you may be removing the one piece of data that allows you to troubleshoot. </p>\n\n<p>To repeat: DON'T DO IT. The stack trace is ugly but necessary. Also resist the urge to remove \"Caused By\" sections.  They are there for a reason and often contain the \"real\" exception.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 0, "last_activity_date": 1488207322, "creation_date": 1488207322, "answer_id": 42488845, "question_id": 42471992, "link": "https://stackoverflow.com/questions/42471992/what-are-best-practices-for-trimming-an-exception-stacktrace-prior-to-logging/42488845#42488845", "title": "What are best practices for &quot;trimming&quot; an exception stacktrace prior to logging with SLF4J?", "body": "<p>I think the best approach is to catch the JavaScript error and throw a custom exception containing the message (or details to construct the message) you want the user to receive.</p>\n"}], "owner": {"reputation": 33762, "user_id": 16050, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7e1282298aec568f8bad5afe46cb40b8?s=128&d=identicon&r=PG", "display_name": "sanity", "link": "https://stackoverflow.com/users/16050/sanity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1488207322, "creation_date": 1488131302, "question_id": 42471992, "link": "https://stackoverflow.com/questions/42471992/what-are-best-practices-for-trimming-an-exception-stacktrace-prior-to-logging", "title": "What are best practices for &quot;trimming&quot; an exception stacktrace prior to logging with SLF4J?", "body": "<p><em>Note: I'm coding in <a href=\"http://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> but I think the answer will likely be the same for Kotlin or Java</em></p>\n\n<p>I am building <a href=\"https://github.com/sanity/kweb\" rel=\"nofollow noreferrer\">a web framework</a> in which I want to report errors to the user along with a stacktrace pertaining to where in the user's code the error is (it's a little complicated because the errors are actually JavaScript errors generated by a web browser that is being \"remote controlled\" by the web framework).</p>\n\n<p>I can create a Throwable() however the stacktrace will have a lot of superfluous StackTraceElements from my framework code, both before and after the StackTraceElements relevant to the user of the code, like so:</p>\n\n<pre><code>[nioEventLoopGroup-3-2] ERROR com.github.sanity.kweb.KWeb - JavaScript error: 'Invalid left-hand side expression in postfix operation'\nCaused by executing: '1++2':\n        at com.github.sanity.kweb.KWeb.execute(KWeb.kt:136)\n        at com.github.sanity.kweb.RootReceiver.execute(RootReceiver.kt:30)\n        at com.github.sanity.kweb.dom.element.Element.execute(Element.kt:24)\n        at com.github.sanity.kweb.demos.todo.TodoKt$main$1.invoke(todo.kt:15)\n        at com.github.sanity.kweb.KWeb$2.invoke(KWeb.kt:63)\n        at com.github.sanity.kweb.KWeb$2.invoke(KWeb.kt:28)\n        at org.wasabifx.wasabi.protocol.http.HttpRequestHandler.runHandlers(HttpRequestHandler.kt:123)\n        at org.wasabifx.wasabi.protocol.http.HttpRequestHandler.channelRead0(HttpRequestHandler.kt:82)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n        at org.wasabifx.wasabi.core.HttpPipelineInitializer.applyHttp1Pipeline(HttpPipelineInitializer.kt:72)\n        at org.wasabifx.wasabi.core.HttpPipelineInitializer.initHttpPipeline(HttpPipelineInitializer.kt:51)\n        at org.wasabifx.wasabi.core.HttpPipelineInitializer.channelRead0(HttpPipelineInitializer.kt:32)\n        at org.wasabifx.wasabi.core.HttpPipelineInitializer.channelRead0(HttpPipelineInitializer.kt:17)\n        at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:610)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:551)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:465)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:437)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:873)\n        at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>So I'm filtering the StackTraceElements to remove those not relevant to the user (mostly by filtering by class name and package), and then appending the stacktrace to a StringBuilder in the standard stacktrace format before logging it to SLF4J as a string (with line separator characters).  </p>\n\n<pre><code>val disregardClassPrefixes = listOf(KWeb::class.jvmName, RootReceiver::class.jvmName, Element::class.jvmName, \"org.wasabifx\", \"io.netty\", \"java.lang\")\ndebugInfo.throwable.stackTrace\n  .filter { ste -&gt; ste.lineNumber &gt;= 0 &amp;&amp; !disregardClassPrefixes.any { ste.className.startsWith(it) } }\n  .forEach { stackTraceElement -&gt;\n                logStatementBuilder.appendln(\"        at ${stackTraceElement.className}.${stackTraceElement.methodName}(${stackTraceElement.fileName}:${stackTraceElement.lineNumber})\")\n}\n</code></pre>\n\n<p>This gives us the much nicer:</p>\n\n<pre><code>[nioEventLoopGroup-3-2] ERROR com.github.sanity.kweb.KWeb - JavaScript error: 'Invalid left-hand side expression in postfix operation'\nCaused by executing: '1++2':\n        at com.github.sanity.kweb.demos.todo.TodoKt$main$1.invoke(todo.kt:15)\n</code></pre>\n\n<p>However, this approach smells somewhat kludgy and I'm wondering if there is a better way to do this.</p>\n"}, {"tags": ["java", "events", "kotlin", "unsubscribe", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1488121544, "post_id": 42466995, "comment_id": 72080944, "body": "That makes some code added and rewrote, and at last I got it! Thanks, it already works in my test code."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1488121822, "post_id": 42466995, "comment_id": 72081033, "body": "Great :) You might want to revisit it after 1.6.3 is released to further reduce the boiler plate :)"}, {"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1488159839, "post_id": 42466995, "comment_id": 72093545, "body": "That&#39;s great!! I cannot wait for checking the new version and new features available soon, finally I can use it in my way...(\u2229_\u2229)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1488117202, "last_edit_date": 1488117202, "creation_date": 1488102760, "answer_id": 42466995, "question_id": 42465786, "link": "https://stackoverflow.com/questions/42465786/how-to-unsubscribe-events-in-tornadofx/42466995#42466995", "title": "How to unsubscribe events in TornadoFX?", "body": "<p>The <code>unsubscribe</code> function takes the event listener as it's only parameter. To be able to unsubscribe, you therefore need to save the listener as a member val so you can reference it. To make matters more interesting, you cannot reference <code>this</code> inside the listener itself, so you need to call out to another function to be able to unsubscribe successfully. Here is a complete example:</p>\n\n<pre><code>object MyEvent : FXEvent()\n\nclass MyView : View() {\n    override val root = stackpane {\n        paddingAll = 100\n        button(\"Fire!\") {\n            setOnAction {\n                fire(MyEvent)\n            }\n        }\n    }\n\n    val myListener: (MyEvent) -&gt; Unit = {\n        alert(Alert.AlertType.INFORMATION, \"Event received!\", \"This message should only appear once.\")\n        stopListening()\n    }\n\n    init {\n        subscribe(myListener)\n    }\n\n    fun stopListening() = unsubscribe(myListener)\n\n}\n</code></pre>\n\n<p>If it was possible to reference the listener from within itself we could have added an <code>unsubscribe()</code> call directly inside the listener, but that's not possible, at least not with Kotlin 1.0.</p>\n\n<p><em>EDIT:</em> We just added a <code>times = n</code> parameter to subscribe so you don't need to deal with unregistration yourself. By default your event listener will be triggered every time the event fires, but by passing <code>1</code>, you can unregistrer automatically after the first time. With this new feature, coming in TornadoFX 1.6.3, you can simply do this instead:</p>\n\n<pre><code>class MyView : View() {\n    override val root = stackpane {\n        paddingAll = 100\n        button(\"Fire!\") {\n            setOnAction {\n                fire(MyEvent)\n            }\n        }\n    }\n\n    init {\n         subscribe&lt;MyEvent&gt;(times = 1) {\n            alert(Alert.AlertType.INFORMATION, \"Event received!\", \"This message should only appear once.\")\n        }\n    }\n\n}\n</code></pre>\n\n<p><em>EDIT2:</em> TornadoFX 1.6.3 will also introduce an <code>EventContext</code> which the trigger operates on, so you will be able to do <code>unsubscribe()</code> inside the event listener from the next version. Then you can do this as an alternative to the <code>times</code> parameter:</p>\n\n<pre><code>subscribe&lt;MyEvent&gt; {\n    alert(Alert.AlertType.INFORMATION, \"Event received!\", \"This message should only appear once.\")\n    unsubscribe()\n}\n</code></pre>\n"}], "owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 42466995, "answer_count": 1, "score": 1, "last_activity_date": 1488117202, "creation_date": 1488093368, "question_id": 42465786, "link": "https://stackoverflow.com/questions/42465786/how-to-unsubscribe-events-in-tornadofx", "title": "How to unsubscribe events in TornadoFX?", "body": "<p>In TornadoFX I want to unsubscribe a custom event so that the receiver will never handle the unnecessary events again, and maybe avoid something like memory leaks, however, when I use the <code>unsubscribe&lt;MyEvent&gt;</code> method in my code it doesn't work at all. Here is the part of my code:</p>\n\n<pre><code>object MyEventObj: FXEvent(EventBus.RunOn.BackgroundThread)\nclass MyEventBus(val personlist:List&lt;PersonOld&gt;): FXEvent()\nclass MyController: Controller()\n{\n    init\n    {\n        subscribe&lt;MyEventObj&gt; {\n            unsubscribe&lt;MyEventObj&gt; { \n                println(\"Unsubscribe event!\") //unsubscrib event and make sure the next code just runs once, but never works!\n            }\n            println(\"Event has received!\")\n            val items = listOf(PersonOld(\"Name A\", 20), PersonOld(\"Name B\", 25))\n            fire(MyEventBus(items))\n        }\n    }\n}\n</code></pre>\n\n<p>So, what is the problem? And how to use <code>unsubscribe</code> in TornadoFX? Thanks for help me in advance!</p>\n"}, {"tags": ["android", "admob", "kotlin"], "comments": [{"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1488059943, "post_id": 42462030, "comment_id": 72066282, "body": "Why not? You can call java code from kotlin, and kotlin code from java freely."}, {"owner": {"reputation": 1330, "user_id": 5322236, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VaFGf.jpg?s=128&g=1", "display_name": "Kyryl Zotov", "link": "https://stackoverflow.com/users/5322236/kyryl-zotov"}, "reply_to_user": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1488661533, "post_id": 42462030, "comment_id": 72333355, "body": "@Ufkoku Could you please add some sprcific code?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7107508, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338964802789012/picture?type=large", "display_name": "Ysen Eycen", "link": "https://stackoverflow.com/users/7107508/ysen-eycen"}, "is_accepted": false, "score": 0, "last_activity_date": 1502049707, "last_edit_date": 1502049707, "creation_date": 1495235375, "answer_id": 44080168, "question_id": 42462030, "link": "https://stackoverflow.com/questions/42462030/can-i-integrate-and-use-admob-ads-in-an-android-project-using-kotlin/44080168#44080168", "title": "Can I integrate and use admob ads in an Android project using Kotlin?", "body": "<p>Yes You can do that by initializing the following vars inside your class</p>\n\n<pre><code>internal lateinit var mInterstitialAd: InterstitialAd\ninternal lateinit var adRequest : AdRequest\n</code></pre>\n\n<p>And Start an adrequest inside  override fun onCreate with the following codes </p>\n\n<pre><code>mInterstitialAd =  InterstitialAd(this);\nmInterstitialAd.adUnitId = \" YOUR INTERSTITIAL ID\";\nadRequest =  AdRequest.Builder()\n    .build();\nmInterstitialAd.loadAd(adRequest);\nmInterstitialAd.adListener = object : AdListener() {\n\n@Override    public  override fun onAdLoaded() {\n    requestNewInterstitial()\n  }\n};\n</code></pre>\n\n<p>Visit this link for the complete admob use and integration using Kotlin : <a href=\"http://www.nulledmobileapps.com/2017/05/integrate-and-use-admob-ads-in-android.html\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 5718563, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201106995994441/picture?type=large", "display_name": "Yassine En", "link": "https://stackoverflow.com/users/5718563/yassine-en"}, "is_accepted": false, "score": 0, "last_activity_date": 1506986676, "creation_date": 1506986676, "answer_id": 46535076, "question_id": 42462030, "link": "https://stackoverflow.com/questions/42462030/can-i-integrate-and-use-admob-ads-in-an-android-project-using-kotlin/46535076#46535076", "title": "Can I integrate and use admob ads in an Android project using Kotlin?", "body": "<pre><code>    lateinit var interstitialAd: InterstitialAd\n    lateinit var adRequest: AdRequest   \n\n    interstitialAd = InterstitialAd(this)\n    interstitialAd.adUnitId = getString(R.string.admob_interstitial)\n    adRequest = AdRequest.Builder().build()\n    interstitialAd.loadAd(adRequest)\n\n    interstitialAd.adListener = object : AdListener() {\n        override fun onAdLoaded() {\n            if (interstitialAd.isLoaded) {\n                interstitialAd.show()\n            }\n\n        }\n\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6672953, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JzcQ7PfRWg4/AAAAAAAAAAI/AAAAAAAAAfM/OUHqIcp-KwA/photo.jpg?sz=128", "display_name": "Jamal bagui", "link": "https://stackoverflow.com/users/6672953/jamal-bagui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 867, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1506986676, "creation_date": 1488059616, "question_id": 42462030, "link": "https://stackoverflow.com/questions/42462030/can-i-integrate-and-use-admob-ads-in-an-android-project-using-kotlin", "title": "Can I integrate and use admob ads in an Android project using Kotlin?", "body": "<p>I have an android project that's written with Kotlin. can i add admob ads to it using kotlin? </p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "is_accepted": false, "score": 0, "last_activity_date": 1488059472, "creation_date": 1488059472, "answer_id": 42462011, "question_id": 42461857, "link": "https://stackoverflow.com/questions/42461857/kotlin-on-converting-to-generic-class/42462011#42462011", "title": "Kotlin on converting to generic class", "body": "<pre><code>class Service&lt;T&gt;(val type: Class&lt;T&gt;) {\n\n      val query: Object\n\n      init {\n          //init query\n      }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8155, "user_id": 1431244, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21b31222e990b631fee5484a7115a991?s=128&d=identicon&r=PG", "display_name": "Oliver Dain", "link": "https://stackoverflow.com/users/1431244/oliver-dain"}, "is_accepted": true, "score": 4, "last_activity_date": 1543717247, "last_edit_date": 1543717247, "creation_date": 1488060169, "answer_id": 42462103, "question_id": 42461857, "link": "https://stackoverflow.com/questions/42461857/kotlin-on-converting-to-generic-class/42462103#42462103", "title": "Kotlin on converting to generic class", "body": "<p>@Ufkoku is correct but I thought a bit more explanation might help.</p>\n\n<pre><code>class UserService&lt;T&gt;(val clazz: Class&lt;T&gt;) : BaseService {  \n    val query = datastore.createQuery(clazz)\n}\n</code></pre>\n\n<p>Note that using Kotlin's <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified generics</a> you can also create a convenience construct for the above that allows you to construct one without passing the <code>Class</code> instance:</p>\n\n<pre><code>class UserService&lt;T&gt;(val clazz: Class&lt;T&gt;) : BaseService { \n    val query = datastore.createQuery(clazz)\n\n    companion object {\n        inline fun &lt;reified T&gt; create() = UserService(T::class.java)\n    }\n}\n</code></pre>\n\n<p>So then you can construct these as either <code>val s = UserService(String::class.java)</code> or <code>val s = UserService.create&lt;String&gt;()</code></p>\n"}], "owner": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1070, "favorite_count": 0, "accepted_answer_id": 42462103, "answer_count": 2, "score": 1, "last_activity_date": 1543717247, "creation_date": 1488058392, "last_edit_date": 1488260266, "question_id": 42461857, "link": "https://stackoverflow.com/questions/42461857/kotlin-on-converting-to-generic-class", "title": "Kotlin on converting to generic class", "body": "<p>How do you convert the code below to a generic class, so that one can specify type parameter <code>T</code> instead of concrete type <code>User</code>?</p>\n\n<pre><code>class UserService : BaseService {  \n    val query = datastore.createQuery(User::class.java)\n}\n</code></pre>\n"}, {"tags": ["java", "ssl", "jetty", "kotlin", "keystore"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1488008091, "post_id": 42453189, "comment_id": 72049882, "body": "<i><code>IllegalStateException: no valid keystore</code></i> seems to indicate you don&#39;t have a well configured Keystore. It does not appear to be related to your SSL/TLS configuration."}, {"owner": {"reputation": 40772, "user_id": 775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qp51T.png?s=128&g=1", "display_name": "Joakim Erdfelt", "link": "https://stackoverflow.com/users/775715/joakim-erdfelt"}, "edited": false, "score": 0, "creation_date": 1488031252, "post_id": 42453189, "comment_id": 72056558, "body": "Try a simple <code>myKeystorePath.exists()</code> check on the path you think you are using."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9628968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3b03c8f18f33b58b81748c0f7fd2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Moby", "link": "https://stackoverflow.com/users/9628968/moby"}, "is_accepted": false, "score": 3, "last_activity_date": 1523430464, "creation_date": 1523430464, "answer_id": 49768626, "question_id": 42453189, "link": "https://stackoverflow.com/questions/42453189/configuring-jetty-with-ssl-tls-and-keystore/49768626#49768626", "title": "Configuring Jetty with SSL/TLS and Keystore", "body": "<p>I believe this is a problem with your path / location of the keystore. \nThis exception is thrown when the keystore is not found, which is kind of confusing. </p>\n"}], "owner": {"reputation": 117, "user_id": 4697283, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/453e6d8a81aa53383ebec1cb1d89e2a2?s=128&d=identicon&r=PG&f=1", "display_name": "Timofey", "link": "https://stackoverflow.com/users/4697283/timofey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9636, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1523430464, "creation_date": 1488007214, "last_edit_date": 1488008029, "question_id": 42453189, "link": "https://stackoverflow.com/questions/42453189/configuring-jetty-with-ssl-tls-and-keystore", "title": "Configuring Jetty with SSL/TLS and Keystore", "body": "<p>I have created key and certificate, signed by root CA using OpenSSL. I'm trying to use server.key file as keystore and performing it in code:</p>\n\n<pre><code>private fun setupHttps(server : Server, port: Int) {\nval https = HttpConfiguration()\nhttps.addCustomizer(SecureRequestCustomizer())\n\nval sslFactory = SslContextFactory()\nsslFactory.keyStorePath = Paths.get(System.getProperty(\"user.dir\"), \"..\", \"server.key\").toString()\nsslFactory.setKeyStorePassword(\"password\")\n\nval sslConnector = ServerConnector(\n    server,\n    SslConnectionFactory(sslFactory, \"http/1.1\"),\n    HttpConnectionFactory(https)\n)\n\nsslConnector.port = port\nserver.connectors = arrayOf(sslConnector)\n</code></pre>\n\n<p>}</p>\n\n<p>But I had this exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: no valid keystore\n    at org.eclipse.jetty.util.security.CertificateUtils.getKeyStore(CertificateUtils.java:48)\n    at org.eclipse.jetty.util.ssl.SslContextFactory.loadKeyStore(SslContextFactory.java:998)\n    at org.eclipse.jetty.util.ssl.SslContextFactory.load(SslContextFactory.java:252)\n    at org.eclipse.jetty.util.ssl.SslContextFactory.doStart(SslContextFactory.java:219)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:131)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:113)\n    at org.eclipse.jetty.server.SslConnectionFactory.doStart(SslConnectionFactory.java:72)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:131)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:113)\n    at org.eclipse.jetty.server.AbstractConnector.doStart(AbstractConnector.java:270)\n    at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:81)\n    at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:236)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:431)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at ru.servicesmarket.server.LaunchKt.main(launch.kt:44)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "butterknife"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 1, "creation_date": 1488007099, "post_id": 42453010, "comment_id": 72049638, "body": "<a href=\"http://stackoverflow.com/q/32952049/2949612\">stackoverflow.com/q/32952049/2949612</a>"}, {"owner": {"reputation": 1271, "user_id": 5554930, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/75ec5e8612e63e54af86d7a9a7ee1e44?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/5554930/rahul"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 1, "creation_date": 1488008889, "post_id": 42453010, "comment_id": 72050089, "body": "@pRaNaY did you even read the question? I have exactly the same done in my code"}, {"owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "edited": false, "score": 9, "creation_date": 1488015843, "post_id": 42453010, "comment_id": 72051656, "body": "I know it is not a direct answer but with Kotlin, Anko and Kotlin Android Extensions I don&#39;t see any use for ButterKnife."}, {"owner": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "edited": false, "score": 3, "creation_date": 1488024453, "post_id": 42453010, "comment_id": 72054118, "body": "Did you call <code>ButterKnife.bind(this)</code>?"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "edited": false, "score": 2, "creation_date": 1495977856, "post_id": 42453010, "comment_id": 75465541, "body": "@JanSlominski unless the OP wants to rewrite the whole application in Kotlin there is still a need to run alongside Java"}, {"owner": {"reputation": 2277, "user_id": 3306437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GR4Wx.jpg?s=128&g=1", "display_name": "Lovekush Vishwakarma", "link": "https://stackoverflow.com/users/3306437/lovekush-vishwakarma"}, "edited": false, "score": 0, "creation_date": 1499098179, "post_id": 42453010, "comment_id": 76757934, "body": "better you can use Kotlin extension plugin  <a href=\"https://www.youtube.com/watch?v=AvMbTY6Vruk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=AvMbTY6Vruk</a>"}, {"owner": {"reputation": 14968, "user_id": 3994630, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EsfVg.png?s=128&g=1", "display_name": "Pablo Cegarra", "link": "https://stackoverflow.com/users/3994630/pablo-cegarra"}, "reply_to_user": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "edited": false, "score": 1, "creation_date": 1502876424, "post_id": 42453010, "comment_id": 78378187, "body": "@JanSlominski Can you explain us why with anko we dont need more buttkernife?"}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1270018, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a65141579ffc7d02be69ae37468d89c7?s=128&d=identicon&r=PG", "display_name": "dhiku", "link": "https://stackoverflow.com/users/1270018/dhiku"}, "is_accepted": false, "score": 2, "last_activity_date": 1496920709, "creation_date": 1496920709, "answer_id": 44434252, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/44434252#44434252", "title": "Android: Kotlin with Butterknife", "body": "<p>Add this in your Project Build.gradle</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.2-4'\next.butterknife_version = '8.6.0'\nrepositories {\n    maven { url 'https://maven.google.com' }\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"com.jakewharton:butterknife-gradle-plugin:$butterknife_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n   }\n}\n</code></pre>\n\n<p>And in your app Build.Gradle add this.</p>\n\n<pre><code>    //Butterknife\ncompile \"com.jakewharton:butterknife:$butterknife_version\"\nkapt \"com.jakewharton:butterknife-compiler:$butterknife_version\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "edited": false, "score": 0, "creation_date": 1500457274, "post_id": 44826837, "comment_id": 77340786, "body": "can you post a link to it"}, {"owner": {"reputation": 791, "user_id": 2965785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bbqbR.jpg?s=128&g=1", "display_name": "sashk0", "link": "https://stackoverflow.com/users/2965785/sashk0"}, "reply_to_user": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "edited": false, "score": 0, "creation_date": 1500485285, "post_id": 44826837, "comment_id": 77361780, "body": "sure. you can find more details here: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}], "tags": [], "owner": {"reputation": 791, "user_id": 2965785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bbqbR.jpg?s=128&g=1", "display_name": "sashk0", "link": "https://stackoverflow.com/users/2965785/sashk0"}, "is_accepted": false, "score": 19, "last_activity_date": 1498743708, "creation_date": 1498743708, "answer_id": 44826837, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/44826837#44826837", "title": "Android: Kotlin with Butterknife", "body": "<p>Kotlin creators tell on their site that:\nKotlin Android Extensions plugin (automatically bundled into the Kotlin plugin in Android Studio) solves the same issue: r<strong>eplacing <code>findViewById</code> with a concise and straightforward code. Consider using it</strong> unless you're already using ButterKnife and don't want to migrate.</p>\n\n<p>and e.g.</p>\n\n<pre><code>// Using R.layout.activity_main from the main source set\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MyActivity : Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        textView.setText(\"Hello, world!\")\n        // Instead of findViewById(R.id.textView) as TextView\n    }\n}\n</code></pre>\n\n<p><code>textView</code> is an extension property for <code>Activity</code>, and it has the same type as declared in <code>activity_main.xml</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "edited": false, "score": 0, "creation_date": 1505206655, "post_id": 45592221, "comment_id": 79306142, "body": "Great! I didn&#39;t think kotlin could get any better!"}, {"owner": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "edited": false, "score": 5, "creation_date": 1508418410, "post_id": 45592221, "comment_id": 80608484, "body": "so how do you use @OnTextChanged with Kotlin Extensions?"}, {"owner": {"reputation": 222, "user_id": 4034143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8b9624c3b5e085309e53567fcbf7fb?s=128&d=identicon&r=PG&f=1", "display_name": "hmac", "link": "https://stackoverflow.com/users/4034143/hmac"}, "edited": false, "score": 7, "creation_date": 1509720801, "post_id": 45592221, "comment_id": 81146872, "body": "note from a Fragment you need to call from <code>onViewCreated</code> <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">antonioleiva.com/kotlin-android-extensions</a>"}, {"owner": {"reputation": 873, "user_id": 2278438, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6445978d48253edb913792a2c2036927?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2278438/michael"}, "edited": false, "score": 2, "creation_date": 1520395629, "post_id": 45592221, "comment_id": 85293121, "body": "what about string, colors, dimensions bindings?"}, {"owner": {"reputation": 1900, "user_id": 1464571, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fJKsl.jpg?s=128&g=1", "display_name": "Rowland Mtetezi", "link": "https://stackoverflow.com/users/1464571/rowland-mtetezi"}, "edited": false, "score": 0, "creation_date": 1526768916, "post_id": 45592221, "comment_id": 87874644, "body": "Wow! Kotlin is simply beautiful and elegant. The real Swiss army Knife."}, {"owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "edited": false, "score": 0, "creation_date": 1526877725, "post_id": 45592221, "comment_id": 87898178, "body": "Thanks rowland-mtetezi."}, {"owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "edited": false, "score": 0, "creation_date": 1530689145, "post_id": 45592221, "comment_id": 89319051, "body": "Thank you, Dan Loewenherz"}, {"owner": {"reputation": 879, "user_id": 2218746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9bfd3230d46d5be0487ad851ce1ff3?s=128&d=identicon&r=PG", "display_name": "Ethan_AI", "link": "https://stackoverflow.com/users/2218746/ethan-ai"}, "edited": false, "score": 0, "creation_date": 1530987991, "post_id": 45592221, "comment_id": 89431996, "body": "This is super great. Looks like you also need to import the xml file such as: <code>import kotlinx.android.synthetic.main.activity_main.*</code>"}, {"owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "edited": false, "score": 2, "creation_date": 1544109527, "post_id": 45592221, "comment_id": 94167481, "body": "This answer could do with more explanation."}, {"owner": {"reputation": 155, "user_id": 4184966, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d09cf8bdc12911cd4373da1b94a0d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Papps", "link": "https://stackoverflow.com/users/4184966/papps"}, "edited": false, "score": 9, "creation_date": 1558410400, "post_id": 45592221, "comment_id": 99081136, "body": "Just FYI, Google does not recommend using synthetic view references anymore. <a href=\"https://old.reddit.com/r/androiddev/comments/ala9p2/why_kotlinx_synthetic_is_no_longer_a_recommended/efdvpkg/\" rel=\"nofollow noreferrer\">old.reddit.com/r/androiddev/comments/ala9p2/&hellip;</a>"}, {"owner": {"reputation": 2224, "user_id": 345810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/jRHH0.jpg?s=128&g=1", "display_name": "tim4dev", "link": "https://stackoverflow.com/users/345810/tim4dev"}, "reply_to_user": {"reputation": 873, "user_id": 2278438, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6445978d48253edb913792a2c2036927?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2278438/michael"}, "edited": false, "score": 0, "creation_date": 1562058900, "post_id": 45592221, "comment_id": 100248739, "body": "@Michael <code>@BindDimen(R.dimen.text_margin) @JvmField var textMargin: Int = 0</code>"}, {"owner": {"reputation": 231, "user_id": 8260782, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gbj8bZDy7p4/AAAAAAAAAAI/AAAAAAAAAsY/EBJrKtvpKDs/photo.jpg?sz=128", "display_name": "laim2003", "link": "https://stackoverflow.com/users/8260782/laim2003"}, "edited": false, "score": 0, "creation_date": 1610477469, "post_id": 45592221, "comment_id": 116144495, "body": "Kotlin syntethics are deprecated from Nov 2020"}], "tags": [], "owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "is_accepted": false, "score": 99, "last_activity_date": 1531989982, "last_edit_date": 1531989982, "creation_date": 1502285583, "answer_id": 45592221, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/45592221#45592221", "title": "Android: Kotlin with Butterknife", "body": "<p>There's no need for butterknife in Kotlin. You can directly use the following:</p>\n\n<p>// app:build.gradle file</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    defaultConfig {\n        applicationId \"com.example.nikhiljadhav.myapplication\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.0'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>// xml layout file</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/tvHello\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Hello World!\"\n    android:layout_marginBottom=\"8dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    android:layout_marginEnd=\"8dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    android:layout_marginStart=\"8dp\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvId\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Hello World!\"\n    android:layout_marginBottom=\"8dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    android:layout_marginEnd=\"8dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    android:layout_marginStart=\"8dp\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/etDemo\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"8dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    android:layout_marginEnd=\"8dp\"\n    android:onClick=\"onClick\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    android:layout_marginStart=\"8dp\" /&gt;\n</code></pre>\n\n<p>// MainActivity.kt file</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        // use the kotlin property\n        tvHello.text=\"Hi bla bla\"\n        tvId.text=\"buubububub\"\n        //set textcolor  \n        tvId.setTextColor(ContextCompat.getColor(this, R.color.colorAccent)) \n        etDemo.hint=\"nhdodfhfgf\"\n\n        tvId.setOnClickListener{ view-&gt;\n            onClick(view)\n        }\n\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show()\n        }\n    }\n\n    fun onClick(view: View) {\n        Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n    }\n\n    ...\n}\n</code></pre>\n\n<p>For onTextChangeListner:</p>\n\n<pre><code>etText.addTextChangedListener(object : TextWatcher{\n        override fun afterTextChanged(p0: Editable?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n    }) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14968, "user_id": 3994630, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EsfVg.png?s=128&g=1", "display_name": "Pablo Cegarra", "link": "https://stackoverflow.com/users/3994630/pablo-cegarra"}, "is_accepted": false, "score": 11, "last_activity_date": 1509381828, "last_edit_date": 1509381828, "creation_date": 1502875870, "answer_id": 45709937, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/45709937#45709937", "title": "Android: Kotlin with Butterknife", "body": "<p><strong>In your gradle:</strong></p>\n\n<pre><code>compile 'com.jakewharton:butterknife:8.8.0'\nkapt \"com.jakewharton:butterknife-compiler:8.8.0\"\n</code></pre>\n\n<p><strong>In your activity</strong></p>\n\n<pre><code>@BindView(R.id.toolbar)\nlateinit var mToolbar: Toolbar\n</code></pre>\n\n<p>Of course, remember <code>ButterKnife.bind(this)</code> and apply the plugin on the top of your app.gradle <code>apply plugin: 'kotlin-kapt'</code></p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/android-butterknife\" rel=\"noreferrer\">Check full example</a></p>\n\n<p>Full Link: <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/android-butterknife\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin-examples/tree/master/gradle/android-butterknife</a></p>\n"}, {"comments": [{"owner": {"reputation": 1536, "user_id": 113012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ba5ae7f8877bdd8be04b09c7840ade4?s=128&d=identicon&r=PG", "display_name": "Simon Featherstone", "link": "https://stackoverflow.com/users/113012/simon-featherstone"}, "edited": false, "score": 0, "creation_date": 1562846271, "post_id": 45846693, "comment_id": 100511824, "body": "Synthetics rule, but sometimes you are not ready to replace them. Thanks for answering the question."}], "tags": [], "owner": {"reputation": 461, "user_id": 6200125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGoQ5.png?s=128&g=1", "display_name": "AyoGitNg", "link": "https://stackoverflow.com/users/6200125/ayogitng"}, "is_accepted": false, "score": 45, "last_activity_date": 1577642576, "last_edit_date": 1577642576, "creation_date": 1503511809, "answer_id": 45846693, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/45846693#45846693", "title": "Android: Kotlin with Butterknife", "body": "<p>In your app level <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-kapt'\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    compile 'com.jakewharton:butterknife:10.2.0'\n    kapt 'com.jakewharton:butterknife-compiler:10.2.0'\n}\n</code></pre>\n\n<p><strong>In your Top Level build.gradle</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.30'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>@BindView(R.id.toolbar)  @JvmField var toolbar: Toolbar? = null\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>@BindView(R.id.toolbar) lateinit var toolbar: Toolbar\n</code></pre>\n\n<p>Inside <strong>OnCreate</strong></p>\n\n<pre><code>ButterKnife.bind(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1509396273, "creation_date": 1509396273, "answer_id": 47023857, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/47023857#47023857", "title": "Android: Kotlin with Butterknife", "body": "<p>You can implement some extensions to improve your views behavior. Checkout this example for \"onTextChange\" in a regular editText:</p>\n\n<pre><code>fun EditText.onTextChange(callback: (text: CharSequence?, start: Int, before: Int, count: Int) -&gt; Unit) {\n    addTextChangedListener(object : TextWatcher {\n        override fun afterTextChanged(s: Editable?) {}\n\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n            callback(s, start, before, count)\n        }\n    })\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>m_editText.onTextChange { text, _, _, _ -&gt; \n   m_textView.text = text\n}\n</code></pre>\n\n<p>I vote for kotlin-android-extensions</p>\n"}, {"tags": [], "owner": {"reputation": 2728, "user_id": 5453198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/XlbTz.jpg?s=128&g=1", "display_name": "Sackurise", "link": "https://stackoverflow.com/users/5453198/sackurise"}, "is_accepted": false, "score": 1, "last_activity_date": 1510745563, "creation_date": 1510745563, "answer_id": 47306313, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/47306313#47306313", "title": "Android: Kotlin with Butterknife", "body": "<p>In Kotlin, actually there is no need (or) necessity  for going ButterKnife concepts. because <strong>in your activity you can directly refer the view _id of the layout file</strong> as referred below.</p>\n\n<p><strong>layout.xml</strong></p>\n\n<pre><code>&lt;Button\n     android:id=\"@+id/btn_prestage\"\n     android:layout_width=\"20dp\"\n     android:layout_height=\"20dp\"\n     android:background=\"@drawable/prestaging_off\"/&gt;\n</code></pre>\n\n<p><strong>Activity.kt</strong></p>\n\n<pre><code> btn_prestage.setBackgroundResource(R.drawable.staging_on)\n btn_prestage.setOnClickListener{ view -&gt;\n            Snackbar.make(view, \"My Action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show() }\n</code></pre>\n\n<p><strong>build.gradle</strong>(app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n   dependencies {... }\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1977, "user_id": 4421627, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4UlLm.png?s=128&g=1", "display_name": "Flummox - don&#39;t be evil SE", "link": "https://stackoverflow.com/users/4421627/flummox-dont-be-evil-se"}, "edited": false, "score": 0, "creation_date": 1573323012, "post_id": 49507081, "comment_id": 103847982, "body": "Kotter Knife::: Deprecated: This was a terrible idea because it allocates an object for every view reference. Do not use, and do not use anything like it. Use view binding instead."}], "tags": [], "owner": {"reputation": 149, "user_id": 4999834, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a40693d4384f1f6b20e23c22f54a717f?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Jadhav", "link": "https://stackoverflow.com/users/4999834/vaibhav-jadhav"}, "is_accepted": false, "score": 3, "last_activity_date": 1522140474, "last_edit_date": 1522140474, "creation_date": 1522136624, "answer_id": 49507081, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/49507081#49507081", "title": "Android: Kotlin with Butterknife", "body": "<p>You need to simply add <code>ButterKnife.kt</code> into your source tree from the following link:<br>\n<a href=\"https://github.com/JakeWharton/kotterknife\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/kotterknife</a><br>\nIt worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4530713, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004000352962655/picture?type=large", "display_name": "Michael Ibrahim", "link": "https://stackoverflow.com/users/4530713/michael-ibrahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1539853369, "last_edit_date": 1539853369, "creation_date": 1539853064, "answer_id": 52870462, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/52870462#52870462", "title": "Android: Kotlin with Butterknife", "body": "<p>Jake Wharton created new library for kotlin called kotterknife:\n<a href=\"https://github.com/JakeWharton/kotterknife\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/kotterknife</a>\nGradle:</p>\n\n<pre><code>compile 'com.jakewharton:kotterknife:0.1.0-SNAPSHOT'\n</code></pre>\n\n<p>View: </p>\n\n<pre><code>val lastName: TextView by bindView(R.id.last_name)\n\n  // Optional binding.\n  val details: TextView? by bindOptionalView(R.id.details)\n\n  // List binding.\n  val nameViews: List&lt;TextView&gt; by bindViews(R.id.first_name, R.id.last_name)\n\n  // List binding with optional items being omitted.\n  val nameViews: List&lt;TextView&gt; by bindOptionalViews(R.id.first_name, R.id.middle_name, R.id.last_name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 7628524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P3vvZQahoHE/AAAAAAAAAAI/AAAAAAAAAZw/dYFJIjn2rC0/photo.jpg?sz=128", "display_name": "Adnan Yousaf", "link": "https://stackoverflow.com/users/7628524/adnan-yousaf"}, "is_accepted": false, "score": 2, "last_activity_date": 1552894140, "last_edit_date": 1552894140, "creation_date": 1552893397, "answer_id": 55216248, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife/55216248#55216248", "title": "Android: Kotlin with Butterknife", "body": "<p>you can import all synthetic properties for the free/res/layout/activity_main.xml layout by adding this import:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>Now you can access all views by using there id's no need to initiate findbyid</p>\n"}], "owner": {"reputation": 1271, "user_id": 5554930, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/75ec5e8612e63e54af86d7a9a7ee1e44?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/5554930/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51158, "favorite_count": 10, "answer_count": 10, "score": 53, "last_activity_date": 1577642576, "creation_date": 1488005882, "question_id": 42453010, "link": "https://stackoverflow.com/questions/42453010/android-kotlin-with-butterknife", "title": "Android: Kotlin with Butterknife", "body": "<p>I'm trying to use Kotlin with Butterknife for my Android Application.</p>\n\n<p>Here is my build.gradle</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.jakewharton:butterknife:8.0.1'\n    kapt 'com.jakewharton:butterknife-compiler:8.0.1'\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>I also has an EditText and I want to show a message using ButterKnife when it is changed:</p>\n\n<pre><code>@OnTextChanged(R.id.input)\nfun test() {\n   toast(1)\n}\n</code></pre>\n\n<p>However, nothing happens. I put a breakpoint into the function - and it is not even executed.</p>\n\n<p>P.S: I have heard about kotterknife, however I have seen an <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/android-butterknife\" rel=\"noreferrer\">example</a> with pure Butterknife.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5530363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c922088cc6e3a9547f20e337fd6a95a?s=128&d=identicon&r=PG&f=1", "display_name": "aul12", "link": "https://stackoverflow.com/users/5530363/aul12"}, "edited": false, "score": 0, "creation_date": 1488017310, "post_id": 42454490, "comment_id": 72052063, "body": "I have read this part of the documentation, but to me it is still unclear on how to use this code snippets. Do you have an example?"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 35, "user_id": 5530363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c922088cc6e3a9547f20e337fd6a95a?s=128&d=identicon&r=PG&f=1", "display_name": "aul12", "link": "https://stackoverflow.com/users/5530363/aul12"}, "edited": false, "score": 0, "creation_date": 1488118153, "post_id": 42454490, "comment_id": 72079708, "body": "@aul12 added an example"}, {"owner": {"reputation": 722, "user_id": 6629569, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eec30cf8d13a1de12bde3a38dd18d483?s=128&d=identicon&r=PG&f=1", "display_name": "Abby", "link": "https://stackoverflow.com/users/6629569/abby"}, "edited": false, "score": 0, "creation_date": 1532012922, "post_id": 42454490, "comment_id": 89823219, "body": "Hmm, that link to the documentation is dead. It seems the <a href=\"https://github.com/Kotlin/anko/tree/master/doc\" rel=\"nofollow noreferrer\">docs</a> in the Anko repo have been replaced by three png images that are not particularly useful..."}], "tags": [], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "is_accepted": true, "score": 4, "last_activity_date": 1532071818, "last_edit_date": 1532071818, "creation_date": 1488016425, "answer_id": 42454490, "question_id": 42442165, "link": "https://stackoverflow.com/questions/42442165/anko-view-from-class/42454490#42454490", "title": "Anko view from class", "body": "<p>Anko has great <a href=\"https://github.com/Kotlin/anko/wiki/Anko-Layouts#is-it-extensible\" rel=\"nofollow noreferrer\">documentation about that case</a> (But who read docs, yeah?)</p>\n\n<blockquote>\n  <p>Let's say, <code>CustomView</code> is your custom <code>View</code> class name, and\n  <code>customView</code> is what you want to write in the DSL.</p>\n  \n  <p>If you only plan to use your custom <code>View</code> in the DSL surrounded by\n  some other <code>View</code>:</p>\n\n<pre><code>inline fun ViewManager.customView(theme: Int = 0) = customView(theme) {}\ninline fun ViewManager.customView(theme: Int = 0, init: CustomView.() -&gt; Unit) = ankoView({ CustomView(it) }, theme, init)\n</code></pre>\n  \n  <p>So now you can write this:</p>\n\n<pre><code>frameLayout {\n    customView()\n}\n</code></pre>\n  \n  <p>\u2026or this (see the UI wrapper chapter):</p>\n\n<pre><code>UI {\n    customView()\n}\n</code></pre>\n  \n  <p>But if you want to use your view as a top-level widget without a UI\n  wrapper inside <code>Activity</code>, add this as well:</p>\n\n<pre><code>inline fun Activity.customView(theme: Int = 0) = customView(theme) {}\ninline fun Activity.customView(theme: Int = 0, init: CustomView.() -&gt; Unit) = ankoView({ CustomView(it) }, theme, init)\n</code></pre>\n</blockquote>\n\n<p>Example (that's just how I would use it, you may choose different approach):</p>\n\n<pre><code>class YourAwesomeButton: Button() {\n    /* ... */ \n    fun makeThisButtonAwesome() {/* ... */}\n}\n\n/** This lines may be in any file of the project, but better to put them right under the button class */\ninline fun ViewManager.yourAwesomeButton(theme: Int = 0) = yourAwesomeButton(theme) {}\ninline fun ViewManager.yourAwesomeButton(theme: Int = 0, init: CustomView.() -&gt; Unit) = \n    ankoView({ YourAwesomeButton(it) }, theme, init)\n</code></pre>\n\n<p>In another file:</p>\n\n<pre><code>class YourAwesomeActivity: Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(saveInstanceState)\n        relativeLayout(R.style.YourAwesomeAppTheme) {\n            yourAwesomeButton(R.style.YourAwesomeAppTheme) {\n                makeThisButtonAwesome()\n            }.lparams {\n                centerInParent()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5530363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c922088cc6e3a9547f20e337fd6a95a?s=128&d=identicon&r=PG&f=1", "display_name": "aul12", "link": "https://stackoverflow.com/users/5530363/aul12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 42454490, "answer_count": 1, "score": 2, "last_activity_date": 1532071818, "creation_date": 1487949503, "question_id": 42442165, "link": "https://stackoverflow.com/questions/42442165/anko-view-from-class", "title": "Anko view from class", "body": "<p>I have implemented a class which does various api-request, my idea was that every instance of the class has a method to create a view to have tile like interface.</p>\n\n<p>My problem is i don't know how this should be implemented in a good way.</p>\n\n<p>What is the prefered way doing this using Anko and Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 20, "last_activity_date": 1487941762, "creation_date": 1487941762, "answer_id": 42439469, "question_id": 42439341, "link": "https://stackoverflow.com/questions/42439341/how-to-reference-boolean-java-class-from-kotlin/42439469#42439469", "title": "How to reference Boolean java class from kotlin?", "body": "<p>To reference Java primitive and boxed types, use:</p>\n\n<ul>\n<li><p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java-primitive-type.html\" rel=\"noreferrer\"><code>Boolean::class.javaPrimitiveType</code></a> (equivalent to Java <code>Boolean.TYPE</code>)</p></li>\n<li><p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java-object-type.html\" rel=\"noreferrer\"><code>Boolean::class.javaObjectType</code></a> (equivalent to Java <code>Boolean.class</code>)</p></li>\n</ul>\n"}], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1799, "favorite_count": 1, "accepted_answer_id": 42439469, "answer_count": 1, "score": 15, "last_activity_date": 1487941762, "creation_date": 1487941313, "question_id": 42439341, "link": "https://stackoverflow.com/questions/42439341/how-to-reference-boolean-java-class-from-kotlin", "title": "How to reference Boolean java class from kotlin?", "body": "<p>As far as I understand <code>Boolean::class.java</code> gives me <code>Boolean.TYPE</code>, but not <code>Boolean.class</code></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "edited": false, "score": 3, "creation_date": 1488183080, "post_id": 42442252, "comment_id": 72101134, "body": "thx it wokrs.  BTW: can you explain why shouldn&#39;t construct layouts in that way? If I have fixed identical 7 rows? Why should I make one huge xml with names day(1..7)name and so on. Any diff rent way to avoid huge xml?"}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "reply_to_user": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "edited": false, "score": 0, "creation_date": 1488184659, "post_id": 42442252, "comment_id": 72101946, "body": "@LunaVulpo That was more of a &quot;disclaimer&quot; from my side. I think in your case, with a fixed set of identical layouts, it&#39;s probably warranted, but in a lot of cases other solutions might be better suited, like making the layout a fragment or a custom view. I do realize that that&#39;s technically still putting views with the same IDs in the same resulting layout, but that way they&#39;re cleanly separated in code."}], "tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": true, "score": 51, "last_activity_date": 1487949739, "creation_date": 1487949739, "answer_id": 42442252, "question_id": 42435227, "link": "https://stackoverflow.com/questions/42435227/kotlin-synthetic-extension-and-several-include-same-layout/42442252#42442252", "title": "Kotlin synthetic extension and several include same layout", "body": "<p>As a general rule of thumb, you should not construct layouts that end up having multiple views with the same id - for this very reason.</p>\n\n<p>But, to solve your problem: \nInstead of importing</p>\n\n<p><code>kotlinx.android.synthetic.main.layout.day_row.*</code></p>\n\n<p>you can import</p>\n\n<p><code>kotlinx.android.synthetic.main.layout.day_row.view.*</code> (Notice the additional <code>.view</code> at the end).</p>\n\n<p>This will import the views not as properties on the Activity/Fragment level, but instead as extension properties for <code>View</code>. That way, you can do it the way you want, assuming that <code>day1</code> and <code>day2</code> contain the views you want:</p>\n\n<pre><code>day1.dayName.text = \"xxx\"\nday2.dayName.text = \"sss\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5338873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoApn.png?s=128&g=1", "display_name": "Morilo", "link": "https://stackoverflow.com/users/5338873/morilo"}, "is_accepted": false, "score": -2, "last_activity_date": 1539909255, "creation_date": 1539909255, "answer_id": 52884363, "question_id": 42435227, "link": "https://stackoverflow.com/questions/42435227/kotlin-synthetic-extension-and-several-include-same-layout/52884363#52884363", "title": "Kotlin synthetic extension and several include same layout", "body": "<p>In this case, use:</p>\n\n<pre><code>(day1 as TextView).text = \"\"\n(day2 as TextView).text = \"\"\n</code></pre>\n"}], "owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12789, "favorite_count": 5, "accepted_answer_id": 42442252, "answer_count": 2, "score": 18, "last_activity_date": 1566562172, "creation_date": 1487929110, "last_edit_date": 1487937785, "question_id": 42435227, "link": "https://stackoverflow.com/questions/42435227/kotlin-synthetic-extension-and-several-include-same-layout", "title": "Kotlin synthetic extension and several include same layout", "body": "<p>How to access to view using kotlin synthetic extension if I have a layout like below:</p>\n\n<p>file:two_days_view.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;include\n        android:id=\"@+id/day1\"\n        layout=\"@layout/day_row\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;include\n        android:id=\"@+id/day2\"\n        layout=\"@layout/day_row\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>file: day_row.xml</p>\n\n<pre><code>   &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"       &gt;\n\n        &lt;TextView\n            android:id=\"@+id/dayName\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>How to access to dayName? I looked for some like this:</p>\n\n<pre><code>day1.dayName.text = \"xxx\"\nday2.dayName.text = \"sss\"\n</code></pre>\n\n<p>I see in Studio that I have access to <code>dayName</code> but to which one of dayName TextView is reference to?</p>\n\n<p>Normal if I have only one included layout it works fine. But now I have multiple times included same layout.</p>\n\n<p>of course I can always do:</p>\n\n<pre><code>day1.findViewById(R.id.dayName).text = \"xxx\"\n</code></pre>\n\n<p>but I'm looking for nice solution. :)</p>\n"}, {"tags": ["gradle", "jar", "runtime", "std", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "is_accepted": false, "score": 2, "last_activity_date": 1487994498, "creation_date": 1487994498, "answer_id": 42451735, "question_id": 42429289, "link": "https://stackoverflow.com/questions/42429289/gradle-compilekotlin-includeruntime-not-adding-runtime-to-jar/42451735#42451735", "title": "Gradle compileKotlin includeRuntime not adding runtime to jar", "body": "<p>Here's an alternative I came up with. It'll add the Kotlin runtime and stdlib to the jar using the jar task.</p>\n\n<pre><code>jar {\n    from {\n        String[] include = [\n            \"kotlin-runtime-${version_kotlin}.jar\",\n            \"kotlin-stdlib-${version_kotlin}.jar\"\n        ]\n\n        configurations.compile\n                .findAll { include.contains(it.name) }\n                .collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1598987774, "creation_date": 1598987774, "answer_id": 63694051, "question_id": 42429289, "link": "https://stackoverflow.com/questions/42429289/gradle-compilekotlin-includeruntime-not-adding-runtime-to-jar/63694051#63694051", "title": "Gradle compileKotlin includeRuntime not adding runtime to jar", "body": "<p>Gradle Kotlin DSL:</p>\n<pre><code>tasks.withType&lt;Jar&gt; {\n\n    val include = setOf(&quot;kotlin-stdlib-1.4.0.jar&quot;)\n\n    configurations.runtimeClasspath.get()\n        .filter { it.name in include }\n        .map { zipTree(it) }\n        .also { from(it) }\n}\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1598987774, "creation_date": 1487900245, "last_edit_date": 1487952608, "question_id": 42429289, "link": "https://stackoverflow.com/questions/42429289/gradle-compilekotlin-includeruntime-not-adding-runtime-to-jar", "title": "Gradle compileKotlin includeRuntime not adding runtime to jar", "body": "<p>I have a Kotlin Gradle project, and I would like to include Kotlin's runtime and stdlib in the jar file. I'm currently using this, but it's not including the runtime or stdlib when I build the project using the build.gradle configuration.</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions {\n        includeRuntime = true\n        noStdlib = false\n    }\n}\n</code></pre>\n\n<p>This is the Gradle code I'm using to include the runtime/stdlib in the jar, but it isn't working like I expect it to. Here's the full build.gradle file for some context:\n<a href=\"https://github.com/BenWoodworth/CrossPlatformGreeter/blob/bd1da79f36e70e3d88ed871bc35502ecc3a852fb/build.gradle#L35-L43\" rel=\"noreferrer\">https://github.com/BenWoodworth/CrossPlatformGreeter/blob/bd1da79f36e70e3d88ed871bc35502ecc3a852fb/build.gradle#L35-L43</a></p>\n\n<p>Kotlin's Gradle documentation seems to indicate that setting kotlinOptions.includeRuntime to true should include the Kotlin runtime in the resulting .jar.<br>\n<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-kotlin\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-kotlin</a></p>\n\n<p><strong>Edit:</strong>\nThis might be related. When I run compileKotlin, I'm getting a couple of warnings related to the runtime:</p>\n\n<pre><code>:compileKotlin\nw: Classpath entry points to a non-existent location: &lt;no_path&gt;\\lib\\kotlin-runtime.jar\n\nBUILD SUCCESSFUL\n</code></pre>\n"}, {"tags": ["kotlin", "test-reporting"], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "edited": false, "score": 0, "creation_date": 1488978415, "post_id": 42520303, "comment_id": 72469013, "body": "Thanks for answer. It&#39;s not necessary what I was looking for, but great insight anyway. I am using JaCoCo for my Java projects and will gladly use it for Kotlin, too."}], "tags": [], "owner": {"reputation": 1696, "user_id": 1766828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d42089f03a647bcd617b57967efabef3?s=128&d=identicon&r=PG", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/1766828/javier-diaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1488322599, "creation_date": 1488322599, "answer_id": 42520303, "question_id": 42428850, "link": "https://stackoverflow.com/questions/42428850/kotlin-spek-how-to-generate-xml-with-tests-report/42520303#42520303", "title": "Kotlin Spek - How to generate XML with tests report?", "body": "<p>I am currently using <a href=\"http://www.eclemma.org/jacoco/\" rel=\"nofollow noreferrer\">JaCoCo</a> with <a href=\"https://coveralls.io\" rel=\"nofollow noreferrer\">Coveralls</a> to integrate my (multi-module) project after the CI build so I might have slightly mistakes for a mono-module (I have adapted it) build but this is part of my research.</p>\n\n<p>The first thing that you need to do is configure your build.gradle in order to have your tests working is applying the Jacoco plugin to your gradle:</p>\n\n<pre><code>apply plugin: \"jacoco\"\n</code></pre>\n\n<p>And then you have to enable the output:</p>\n\n<pre><code>jacocoTestReport {\n    group = \"Report\"\n    reports {\n        xml.enabled = true\n        csv.enabled = false\n        html.destination \"${buildDir}/reports/coverage\"\n    }\n}\n</code></pre>\n\n<p>To generate the reports you can use: <code>gradle test jacocoTestReport</code> (Feel free to add just a jacocoTestReport to your already working command to build)</p>\n\n<p>After the reports are generated now you have to send them to coveralls, this is done in a step after the compilation/testing has finished.</p>\n\n<p>To send it to coveralls you need to add the gradle plugin for coveralls:</p>\n\n<pre><code>plugins {\n    id 'com.github.kt3k.coveralls' version '2.7.1'\n}\n</code></pre>\n\n<p>Create a rootReport task</p>\n\n<pre><code>task jacocoRootReport(type: org.gradle.testing.jacoco.tasks.JacocoReport) {\n    dependsOn = subprojects.test\n    sourceDirectories = files(subprojects.sourceSets.main.allSource.srcDirs)\n    classDirectories =  files(subprojects.sourceSets.main.output)\n    executionData = files(subprojects.jacocoTestReport.executionData)\n    reports {\n        html.enabled = true\n        xml.enabled = true\n        csv.enabled = false\n    }\n}\n</code></pre>\n\n<p>and add the kotlin sources for the coveralls task (only java support by default, <a href=\"https://github.com/kt3k/coveralls-gradle-plugin/issues/63\" rel=\"nofollow noreferrer\">Coveralls gradle plugin issue</a>):</p>\n\n<pre><code>coveralls {\n    sourceDirs += ['src/main/kotlin']\n}\n</code></pre>\n\n<p>I stumbled upon a bug when doing it that needed this three lines when generating the jacocoRootReport but this is mostly for a multi module project (<a href=\"https://gist.github.com/aalmiray/e6f54aa4b3803be0bcac#gistcomment-1268725\" rel=\"nofollow noreferrer\">workaround source</a>):</p>\n\n<pre><code>onlyIf = {\n    true\n}\n</code></pre>\n\n<p>The last step is configuring your CI tool to know where to find your coveralls token/properties (<a href=\"https://coveralls.zendesk.com/hc/en-us/articles/201347419-Coveralls-currently-supports\" rel=\"nofollow noreferrer\">source</a>). I personally have done it by adding environment variables and not <code>coveralls.yml</code> (it didn't work well).</p>\n\n<p>And now you can add two steps to your after build:</p>\n\n<pre><code>gradlew jacocoRootReport coveralls\n</code></pre>\n\n<p>And you should see your reports in your coveralls page!</p>\n\n<p>Jacoco and coveralls: <a href=\"https://nofluffjuststuff.com/blog/andres_almiray/2014/07/gradle_glam_jacoco__coveralls\" rel=\"nofollow noreferrer\">https://nofluffjuststuff.com/blog/andres_almiray/2014/07/gradle_glam_jacoco__coveralls</a></p>\n\n<p>Working example: <a href=\"https://github.com/jdiazcano/cfg4k/blob/master/build.gradle#L24\" rel=\"nofollow noreferrer\">https://github.com/jdiazcano/cfg4k/blob/master/build.gradle#L24</a></p>\n"}, {"comments": [{"owner": {"reputation": 276, "user_id": 3475052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3e1ec2f3466c91959d6a67ac50309bae?s=128&d=identicon&r=PG&f=1", "display_name": "user3475052", "link": "https://stackoverflow.com/users/3475052/user3475052"}, "edited": false, "score": 0, "creation_date": 1548523609, "post_id": 42672156, "comment_id": 95574954, "body": "giving me this error - Could not find method junitPlatform() for arguments"}], "tags": [], "owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "is_accepted": true, "score": 1, "last_activity_date": 1488978264, "creation_date": 1488978264, "answer_id": 42672156, "question_id": 42428850, "link": "https://stackoverflow.com/questions/42428850/kotlin-spek-how-to-generate-xml-with-tests-report/42672156#42672156", "title": "Kotlin Spek - How to generate XML with tests report?", "body": "<p>I haven't checked thoroughly my <code>build</code> directory. Since Spek is using JUnit 5 Platform Engine it will produce reports the same way as JUnit 5 would have done.</p>\n\n<p>Indeed, after running <code>./gradlew clean build</code> you can see the file here: <code>./build/reports/junit/TEST-spek.xml</code>. I used Jenkins to publish JUnit XML report after build and it works fine.</p>\n\n<p>If you'd like to change reports directory, you should configure it in Gradle build script as follows.</p>\n\n<pre><code>junitPlatform {\n    reportsDir file(\"$buildDir/your/path\")\n    filters {\n        engines {\n            include 'spek'\n        }\n    }\n}\n</code></pre>\n\n<p>Source, JUnit 5 User guide: <a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-build\" rel=\"nofollow noreferrer\">http://junit.org/junit5/docs/current/user-guide/#running-tests-build</a></p>\n"}], "owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2193, "favorite_count": 0, "accepted_answer_id": 42672156, "answer_count": 2, "score": 0, "last_activity_date": 1488978264, "creation_date": 1487896980, "question_id": 42428850, "link": "https://stackoverflow.com/questions/42428850/kotlin-spek-how-to-generate-xml-with-tests-report", "title": "Kotlin Spek - How to generate XML with tests report?", "body": "<p>I am using Spek to test my Kotlin app. I would like to publish my tests report after Jenkins build. JUnit or TestNG would generate XML report which Jenkins can use to generate tests stats.</p>\n\n<p>Does Spek generate such report? If so, how to configure my Gradle project to get it? If not, what are the other reporting options available?</p>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 957, "user_id": 1343997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e5978579438c20fc4815dce79579e8e?s=128&d=identicon&r=PG", "display_name": "Vincent D.", "link": "https://stackoverflow.com/users/1343997/vincent-d"}, "edited": false, "score": 0, "creation_date": 1508874863, "post_id": 42428731, "comment_id": 80785267, "body": "Any news on this? Did you found a way?"}, {"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "reply_to_user": {"reputation": 957, "user_id": 1343997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e5978579438c20fc4815dce79579e8e?s=128&d=identicon&r=PG", "display_name": "Vincent D.", "link": "https://stackoverflow.com/users/1343997/vincent-d"}, "edited": false, "score": 2, "creation_date": 1508876440, "post_id": 42428731, "comment_id": 80786118, "body": "AFAIK, you cannot."}], "answers": [{"tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 0, "last_activity_date": 1518484209, "creation_date": 1518484209, "answer_id": 48758061, "question_id": 42428731, "link": "https://stackoverflow.com/questions/42428731/how-to-inject-into-a-kotlin-delegated-property-with-dagger-2/48758061#48758061", "title": "How to inject into a Kotlin delegated property with Dagger 2?", "body": "<p>You cannot because such property doesn't have any field but instead, delegates get and set calls to delegate property object. And dagger knows nothing about this delegate, this is just 2 methods and an object.</p>\n\n<p>I'm not sure about your case, but probably you can inject your delegate class instance Ref with required value, but I don't know what you want to do, how your delegate works and how do you use Dagger (what type of injection do you use)</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 790, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1518484209, "creation_date": 1487896235, "question_id": 42428731, "link": "https://stackoverflow.com/questions/42428731/how-to-inject-into-a-kotlin-delegated-property-with-dagger-2", "title": "How to inject into a Kotlin delegated property with Dagger 2?", "body": "<p>I need to do (<code>@Named</code>) injection with dagger2 into a kotlin delegated property.</p>\n\n<pre><code>//works great!\n@set:Inject var cat: Cat by Ref(ref)\n\n//fails\n@set:[Inject Named(\"dog\")] var dog : Animal by Ref(ref)\n</code></pre>\n\n<p>So I tried</p>\n\n<pre><code>//fails, can't use `@field` with a delegated property\n@field:[Inject Named(\"dog\")] var dog : Animal by Ref(ref)\n\n//fails, can't use `lateinit` with a delegated property\n@field:[Inject Named(\"dog\")] lateinit var dog : Animal by Ref(ref)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1487880703, "post_id": 42425091, "comment_id": 71995857, "body": "What about this? <code>buf.take(bufLimit).reversed().forEach { ... }</code>"}, {"owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1487880975, "post_id": 42425091, "comment_id": 71996005, "body": "@marstran <code>ByteArray.take</code> as well isn&#39;t lazy, it creates an <code>ArrayList</code>"}], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 1, "last_activity_date": 1487886824, "creation_date": 1487886824, "answer_id": 42426911, "question_id": 42425091, "link": "https://stackoverflow.com/questions/42425091/kotlin-lazy-slice-array/42426911#42426911", "title": "Kotlin lazy slice array", "body": "<p>I suggest creating an extension function to handle your specific use case. e.g.:</p>\n\n<pre><code>/**\n * Performs the given [action] on each element at the specified [indices].\n */\ninline fun ByteArray.forEachAt(indices: Iterable&lt;Int&gt;, action: (Byte) -&gt; Unit): Unit {\n    indices.forEach { index -&gt; action(this[index]) }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>buf.forEachAt((0 until bufLimit).reversed)) {}\n// or\nbuf.forEachAt(bufLimit - 1 downTo 0) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1488039101, "creation_date": 1488039101, "answer_id": 42458385, "question_id": 42425091, "link": "https://stackoverflow.com/questions/42425091/kotlin-lazy-slice-array/42458385#42458385", "title": "Kotlin lazy slice array", "body": "<p>If you use a list instead of an array, then you can reverse it and then convert to a <code>Sequence</code>:</p>\n\n<pre><code>val buf: List = listOf(1, 2, 3, 4, 5)\nval bufLimit = 3\n\nfor (b in buf.asReversed().asSequence().drop(buf.size - bufLimit)) {\n    println(b)\n}\n</code></pre>\n\n<p>Functions with the <code>as</code> prefix only wrap objects without copying, so the code above does not copy the <code>buf</code> content.</p>\n\n<p>Note that you shouldn't loose any performance compared to <code>Array</code> if you use an <code>ArrayList</code>.</p>\n\n<p>However this solution does involve several iterators, so it is somewhat less efficient than the index code you have suggested in the question:</p>\n\n<pre><code>for (bIdx in bufLimit - 1 downTo 0) {\n    val b = buf[bIdx]\n} \n</code></pre>\n"}], "owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2318, "favorite_count": 0, "accepted_answer_id": 42458385, "answer_count": 2, "score": 3, "last_activity_date": 1488039101, "creation_date": 1487880099, "last_edit_date": 1487880808, "question_id": 42425091, "link": "https://stackoverflow.com/questions/42425091/kotlin-lazy-slice-array", "title": "Kotlin lazy slice array", "body": "<p>I need to iterate part of an array backwards. I'd like to do that \"functionally\" as it's more comprehensible, like that</p>\n\n<pre><code>for (b in buf.sliceArray(0 until bufLimit).reversedArray()) {}\n</code></pre>\n\n<p>But both <code>sliceArray</code> and <code>reversedArray</code> are not lazy. Is there a lazy version or should I probably fall back to</p>\n\n<pre><code>for (bIdx in bufLimit - 1 downTo 0) {\n    val b = buf[bIdx]\n}\n</code></pre>\n\n<p>which is more confusing and verbose?</p>\n"}, {"tags": ["java", "escaping", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "edited": false, "score": 0, "creation_date": 1487841763, "post_id": 42411170, "comment_id": 71969165, "body": "That&#39;s the answer that I needed :) Thanks:) +1"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1487840524, "creation_date": 1487840524, "answer_id": 42411170, "question_id": 42410731, "link": "https://stackoverflow.com/questions/42410731/how-to-call-from-java-kotlin-method-which-is-named-with-escape-characters/42411170#42411170", "title": "How to call from Java Kotlin method which is named with escape characters?", "body": "<p>Java provides no character escaping in identifiers. You can only do that using Java reflection:</p>\n\n<p><sub>Kotlin:</sub></p>\n\n<pre><code>class MyClass {\n    fun `some random function name`() { }\n}\n</code></pre>\n\n<p><sub>Java:</sub></p>\n\n<pre><code>MyClass c = new MyClass();\nc.getClass().getMethod(\"some random function name\").invoke(c);\n</code></pre>\n\n<p><sup>Or cache the <code>Method</code> returned from the <code>getMethod()</code> call. Or use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.html\" rel=\"noreferrer\">method handles</a>.</sup></p>\n"}], "owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 42411170, "answer_count": 1, "score": 2, "last_activity_date": 1487844206, "creation_date": 1487839266, "last_edit_date": 1487844206, "question_id": 42410731, "link": "https://stackoverflow.com/questions/42410731/how-to-call-from-java-kotlin-method-which-is-named-with-escape-characters", "title": "How to call from Java Kotlin method which is named with escape characters?", "body": "<p>How this Kotlin function should be called from Java?</p>\n\n<pre><code>fun `some random function name`(){\n\n}\n</code></pre>\n"}, {"tags": ["javafx", "tableview", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1487834186, "post_id": 42408981, "comment_id": 71964824, "body": "Sorry, the last code of Person class should not use data class but just common class prefix. this works: <code>class Person(var name : String, var age : Int, sex : Boolean) {     var sex by property(SimpleBooleanProperty(sex))     fun sexProperty() = getProperty(Person::sex) }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1487841111, "post_id": 42410619, "comment_id": 71968755, "body": "Thanks very much, and I should test that in my code right now."}, {"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1487843934, "post_id": 42410619, "comment_id": 71970665, "body": "Thanks, <code>cellFormat</code> works for me! <code>graphic = checkbox {                         isSelected = it                         setOnAction {                             println(&quot;Selection: $isSelected&quot;)                         }                     }</code>"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 0, "last_activity_date": 1487838893, "creation_date": 1487838893, "answer_id": 42410619, "question_id": 42408981, "link": "https://stackoverflow.com/questions/42408981/cellcache-renders-unexpectedly-in-tableview-with-tornadofx/42410619#42410619", "title": "CellCache renders unexpectedly in TableView with tornadoFX", "body": "<p>The <code>cellCache</code> creates a unique cell per item in your list. If your items does not implement meaningful <code>equals</code> and <code>hashCode</code> functions you will run into trouble with <code>cellCache</code> since the same cell will be used for multiple underlying items.</p>\n\n<p>Adding <code>equals</code> and <code>hashCode</code> implementation that ensures each item is unique should solve the problem. It seems that the default implementation in a Kotlin data class doesn't cut it :)</p>\n\n<p>If you can't or won't provide <code>equals</code> and <code>hashCode</code> implementations I would suggest using <code>cellFormat</code> instead, which doesn't rely on object equality to produce a unique cell.</p>\n\n<p>I'm sorry this isn't made clear in the guide, I will update the TableView part with more information and a warning about the use of <code>cellCache</code>.</p>\n"}], "owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 42410619, "answer_count": 1, "score": 0, "last_activity_date": 1487838893, "creation_date": 1487833024, "question_id": 42408981, "link": "https://stackoverflow.com/questions/42408981/cellcache-renders-unexpectedly-in-tableview-with-tornadofx", "title": "CellCache renders unexpectedly in TableView with tornadoFX", "body": "<p>I just puzzled by the <code>cellCache</code> funtion usage in <code>TornadoFX</code> with <code>Kotlin</code>. The render is always strange and unexpected, what happens with that? The code is here:</p>\n\n<pre><code>data class Person(var name : String, var age : Int, var sex : Boolean)\n\nclass MyView: View()\n{\n    val list = listOf&lt;Person&gt;(\n            Person(\"Name A\", 20, false),\n            Person(\"Name B\", 22, false),\n            Person(\"Name C\", 21, true),\n            Person(\"Name D\", 30, true),\n            Person(\"Name E\", 35, true)\n    ).observable()\n\n    override val root = stackpane {\n\n        vbox {\n            tableview(items = list) {\n                column(\"Name\", Person::name)\n                column(\"Age\", Person::age)\n                column(\"Sex\", Person::sex).cellCache{\n                    checkbox{\n                        isSelected = it\n                        setOnAction {\n                            println(\"Selection: $isSelected\")\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I expect all the rows will render with a <code>checkbox</code> in column <code>\"Sex\"</code>, but the code above will just display two: one <code>selected</code> and another <code>unselected</code>, what the hell is going on with <code>cellcache</code>?\nI also find changing the <code>data class</code> with the one below, and it is all right:</p>\n\n<pre><code>data class Person(var name : String, var age : Int, var sex : SimpleBooleanProperty)\n</code></pre>\n\n<p>However I must change a lot with the data class properties in this way, I also don't know why.\nHelp me, and thanks in advance!</p>\n"}]