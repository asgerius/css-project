[{"tags": ["generics", "constructor", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1459380463, "last_edit_date": 1495542236, "creation_date": 1459372765, "answer_id": 36319955, "question_id": 36319737, "link": "https://stackoverflow.com/questions/36319737/generic-bounds-on-a-single-constructor/36319955#36319955", "title": "Generic bounds on a single constructor", "body": "<p>There's no way to introduce a generic bound on a constructor because constructors don't have their own generic parameters, they can only use the class parameters.</p>\n\n<p>Consider the following workarounds:</p>\n\n<ul>\n<li><p>One solution is to make a subclass with the generic bound and use it:</p>\n\n<pre><code>class NaturallyOrderedArray&lt;T: Comparable&lt;T&gt;&gt;(items: Array&lt;T&gt;) \n    : OrderedArray&lt;T&gt;(items, naturalOrder&lt;T&gt;())\n</code></pre>\n\n<p>But it looks clumsy (<em>write a class just to override a generic bound and introduce another constructor?!</em>) and requires the parent class to be <code>open</code> or at least <code>sealed</code>.</p></li>\n<li><p>You can make a factory function with the desired generic bound:</p>\n\n<pre><code>fun &lt;T: Comparable&lt;T&gt;&gt; naturallyOrderedArray(items: Array&lt;T&gt;) = \n    OrderedArray(items, naturalOrder&lt;T&gt;())\n</code></pre>\n\n<p>You might make the function mimic a constructor so that it would be called like <code>OrderedArray(items)</code>, but <a href=\"https://stackoverflow.com/questions/34751897/is-naming-a-function-same-as-an-existing-class-should-be-avoided-in-kotlin-why\">it's better to keep to consistent naming</a> that would also hint that the natural order is used.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1459437315, "post_id": 36336888, "comment_id": 60296612, "body": "The thing is that I would like my class to work with non-comparable T-s as well. Of course an explicit comparator must be provided in those cases."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1459435990, "creation_date": 1459435990, "answer_id": 36336888, "question_id": 36319737, "link": "https://stackoverflow.com/questions/36319737/generic-bounds-on-a-single-constructor/36336888#36336888", "title": "Generic bounds on a single constructor", "body": "<p>I would write strait-forwardly:</p>\n\n<pre><code>class OrderedArray&lt;T: Comparable&lt;T&gt;&gt;(\n    private val items: Array&lt;T&gt;,\n    private val comparator: Comparator&lt;in T&gt; = naturalOrder&lt;T&gt;())\n</code></pre>\n\n<p>Does it solve the problem? If not, what are the limitations for your case?</p>\n"}], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36319955, "answer_count": 2, "score": 2, "last_activity_date": 1459435990, "creation_date": 1459371964, "question_id": 36319737, "link": "https://stackoverflow.com/questions/36319737/generic-bounds-on-a-single-constructor", "title": "Generic bounds on a single constructor", "body": "<p>Let's say I have a generic class:</p>\n\n<pre><code>class OrderedArray&lt;T&gt;(\n    private val items: Array&lt;T&gt;,\n    private val comparator: Comparator&lt;in T&gt;\n) {\n    constructor(items: Array&lt;T&gt;) : this(items, naturalOrder&lt;T&gt;())\n}\n</code></pre>\n\n<p>Of course this code does not compile as <code>T</code> is not necessarily comparable. Is there a language construct available which bounds the generic parameter of a type on a constructor? How could I allow to construct an instance of my class without explicitly passing the comparator when a natural ordering is available?</p>\n"}, {"tags": ["kotlin", "default-parameters"], "comments": [{"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1459297520, "post_id": 36297460, "comment_id": 60219649, "body": "try to make zero-parameters function wrapper over adder, I don&#39;t know if you there is some syntactic sugar in kotlin to create ad hoc anonymous functions within another function declaration. Something like <code>.... = :: ( ()-&gt;(add()) ) ):Int{.....</code>"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1459297555, "post_id": 36297460, "comment_id": 60219660, "body": "no idea about the language, but in general making wrapper seems solving your issue."}, {"owner": {"reputation": 6147, "user_id": 43836, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbfa20635c9269675d54547c080c9b64?s=128&d=identicon&r=PG", "display_name": "pondermatic", "link": "https://stackoverflow.com/users/43836/pondermatic"}, "edited": false, "score": 0, "creation_date": 1459298256, "post_id": 36297460, "comment_id": 60219841, "body": "Yup, creating a wrapper works, but I&#39;m wondering if there&#39;s a way I can do this with type signatures. I expect it&#39;s not possible."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1459352672, "last_edit_date": 1459352672, "creation_date": 1459298355, "answer_id": 36297622, "question_id": 36297460, "link": "https://stackoverflow.com/questions/36297460/type-signature-for-kotlin-function-with-default-parameters/36297622#36297622", "title": "Type signature for Kotlin function with default parameters", "body": "<p>You can make a lambda of your <code>add</code> which will be no-argument function and will call <code>add</code> with its default arguments: <code>{ add() }</code>.</p>\n\n<p>Complete code: </p>\n\n<pre><code>fun addInvoker(adder: () -&gt; Int = { add() }): Int {\n    return adder()\n}\n\nfun add(num1: Int = 1, num2: Int = 1): Int {\n    return num1 + num2\n}\n</code></pre>\n\n<p>In Kotlin, functions with default arguments have no special representation in the type system, so the only option is to make wrappers passing only part of arguments to them:</p>\n\n<pre><code>val add0: () -&gt; Int = { add() }\nval add1: (Int) -&gt; Int = { add(num1 = it) }\nval add2: (Int) -&gt; Int = { add(num2 = it) }\n</code></pre>\n"}], "owner": {"reputation": 6147, "user_id": 43836, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbfa20635c9269675d54547c080c9b64?s=128&d=identicon&r=PG", "display_name": "pondermatic", "link": "https://stackoverflow.com/users/43836/pondermatic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 882, "favorite_count": 0, "accepted_answer_id": 36297622, "answer_count": 1, "score": 5, "last_activity_date": 1459467806, "creation_date": 1459297202, "last_edit_date": 1459467806, "question_id": 36297460, "link": "https://stackoverflow.com/questions/36297460/type-signature-for-kotlin-function-with-default-parameters", "title": "Type signature for Kotlin function with default parameters", "body": "<p>Let's say I have:</p>\n\n<pre><code>fun addInvoker(adder: () -&gt; Int = ::add): Int{\n    return adder()\n}\n\nfun add(num1:Int = 1, num2:Int = 1): Int{\n    return num1 + num2\n}\n</code></pre>\n\n<p>I get an error since ::add has two parameters, but the signature of addInvoker requires it to have zero parameters. However, if I change it to:</p>\n\n<pre><code>fun addInvoker(adder: (Int, Int) -&gt; Int = ::add): Int{\n    return adder()\n}\n\nfun add(num1:Int = 1, num2:Int = 1): Int{\n    return num1 + num2\n}\n</code></pre>\n\n<p>Then I can't invoke adder(), i.e. invoking add with its default arguments.</p>\n\n<p>So, is there some way I can make ::add the default argument to invokeAdder but still invoke add with <code>adder()</code>, thus invoking it with the default args?</p>\n"}, {"tags": ["gradle", "build.gradle", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1459291431, "post_id": 36296418, "comment_id": 60217746, "body": "Could you please add your project modules &amp; files layout? And probably your buildscripts content would also make things more clear."}, {"owner": {"reputation": 1, "user_id": 4111326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d401bbe74ea206621a6a3b1a777486?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Bo\u017enar", "link": "https://stackoverflow.com/users/4111326/jan-bo%c5%benar"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1459328815, "post_id": 36296418, "comment_id": 60232294, "body": "I have added some screens to hopefully make things a bit clearer."}], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 3836081, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000265489427/picture?type=large", "display_name": "Natalia Selezneva", "link": "https://stackoverflow.com/users/3836081/natalia-selezneva"}, "is_accepted": false, "score": 1, "last_activity_date": 1459330054, "creation_date": 1459330054, "answer_id": 36304703, "question_id": 36296418, "link": "https://stackoverflow.com/questions/36296418/kotlin-gradle-plugin-auto-configure-error/36304703#36304703", "title": "kotlin-gradle plugin auto configure error", "body": "<hr>\n\n<p>Seems that you are using Idea 2016.1. There is a bug in your tracker: <a href=\"https://youtrack.jetbrains.com/issue/KT-11593\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-11593</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4111326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d401bbe74ea206621a6a3b1a777486?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Bo\u017enar", "link": "https://stackoverflow.com/users/4111326/jan-bo%c5%benar"}, "edited": false, "score": 0, "creation_date": 1459583659, "post_id": 36347723, "comment_id": 60359969, "body": "Downloading the maven repository did not fix the problem. Also changing repos from jcenter to maven in build.gradle yields the same result."}], "tags": [], "owner": {"reputation": 19, "user_id": 4559053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oHtFL.jpg?s=128&g=1", "display_name": "muhrifqii", "link": "https://stackoverflow.com/users/4559053/muhrifqii"}, "is_accepted": false, "score": 0, "last_activity_date": 1459482693, "creation_date": 1459482693, "answer_id": 36347723, "question_id": 36296418, "link": "https://stackoverflow.com/questions/36296418/kotlin-gradle-plugin-auto-configure-error/36347723#36347723", "title": "kotlin-gradle plugin auto configure error", "body": "<p>Download the Maven repo from SDK manager, then try to reconfigure the kotlin again.</p>\n"}], "owner": {"reputation": 1, "user_id": 4111326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72d401bbe74ea206621a6a3b1a777486?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Bo\u017enar", "link": "https://stackoverflow.com/users/4111326/jan-bo%c5%benar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1459482693, "creation_date": 1459291355, "last_edit_date": 1459328558, "question_id": 36296418, "link": "https://stackoverflow.com/questions/36296418/kotlin-gradle-plugin-auto-configure-error", "title": "kotlin-gradle plugin auto configure error", "body": "<p><a href=\"http://i.stack.imgur.com/1JGUW.png\" rel=\"nofollow\">Module build.gradle code and file structure</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/rBXSL.png\" rel=\"nofollow\">Project build.gradle and buildscript code, and reported error</a></p>\n\n<p>Just getting started with kotlin for android development here. After converting MainActivity to .kt, the kotlin-gradle plugin needs to be configured. IntelliJ offers to do it automatically, but fails with the error:\nCannot find build.gradle for module app.\nI know I can configure it myself, but why cant intelliJ find the build.gradle files, they are in the project that was automatically generated by intelliJ itself. Do I have something configured incorrectly?\nAny help or insight is appreciated, thank you in advance.</p>\n"}, {"tags": ["android", "kotlin", "findviewbyid"], "comments": [{"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1459291711, "post_id": 36294260, "comment_id": 60217865, "body": "Is <a href=\"https://github.com/JakeWharton/kotterknife\" rel=\"nofollow noreferrer\">Kotterknife</a> an option?"}, {"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "reply_to_user": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1459291779, "post_id": 36294260, "comment_id": 60217891, "body": "was before i started to use Android Extensions :p I just simply skipped KotterKnife because it hasn&#39;t any way of re-binding views"}], "answers": [{"tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": true, "score": 5, "last_activity_date": 1459662933, "creation_date": 1459662933, "answer_id": 36382099, "question_id": 36294260, "link": "https://stackoverflow.com/questions/36294260/kotlin-with-android-base-classes-and-kotlin-android-extensions/36382099#36382099", "title": "Kotlin with Android: Base classes and Kotlin Android Extensions", "body": "<p><code>Kotlin Android Extensions</code> generates an extension function for each element on a given layout. Since extension methods exist outside the inheritance model, there is no way to define a common protocol like <code>abstract val toolbar:Toolbar</code> on the parent.</p>\n\n<p>However, under the hood the extension methods only execute <code>findById</code>, if the given ID exists on a layout it will fetch the element. This means that if you maintain the same ids for your common elements inside your layouts (i.e.: all toolbars with <code>@id/toolbar</code>), you can create a dummy layout with your common elements and their respective IDs. This layout will work as a sort of interface, allowing you to do <code>import kotlinx.android.synthetic.main.base_activity_dummy.*</code> and thus generating the extension methods you want.</p>\n\n<p>By doing the above, the <code>this.toolbar</code> on your <code>BaseActivity</code> will fetch the actual item on your concrete activity instead of the element on the dummy layout.</p>\n\n<p>Of course, this technique, while convenient, is error prone and could make your program very confusing for an outsider. But again, it won't be more error prone than calling <code>findById</code> everywhere.</p>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 2, "accepted_answer_id": 36382099, "answer_count": 1, "score": 7, "last_activity_date": 1459662933, "creation_date": 1459282435, "last_edit_date": 1459283192, "question_id": 36294260, "link": "https://stackoverflow.com/questions/36294260/kotlin-with-android-base-classes-and-kotlin-android-extensions", "title": "Kotlin with Android: Base classes and Kotlin Android Extensions", "body": "<p>So i have used <code>Kotlin Android Extensions</code> and i find it very easy to use and well worth it. No more <code>findViewById</code> or <code>Butterknife.Bind(...)</code>. I have found no issue with it all all except for one situation.</p>\n\n<p>In a base class, for example, <code>BaseActivity</code>, there's normally a bunch of views that will be present in all the layouts, for example, a toolbar. And common operations like <code>changeToolbarColor()</code>, or <code>setToolbarTitle()</code>.</p>\n\n<p>In this simple cases, i canno't use <code>Kotlin Android Extensions</code> because, as it is a base class, the view itself will be present on multiple layouts and tho can't be property imported. In this cases i just simply use <code>by lazy {find&lt;&gt;(...)</code>.</p>\n\n<p>Is there any way this can be accomplished with the build-in android extension plugin?</p>\n"}, {"tags": ["java", "maven", "maven-3", "kotlin", "maven-assembly-plugin"], "answers": [{"comments": [{"owner": {"reputation": 6826, "user_id": 2746110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/l78qs.jpg?s=128&g=1", "display_name": "Arefe", "link": "https://stackoverflow.com/users/2746110/arefe"}, "edited": false, "score": 1, "creation_date": 1613386499, "post_id": 36293818, "comment_id": 117050143, "body": "This is super helpful. Thank you."}], "tags": [], "owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "is_accepted": true, "score": 12, "last_activity_date": 1459280972, "creation_date": 1459280972, "answer_id": 36293818, "question_id": 36293625, "link": "https://stackoverflow.com/questions/36293625/why-do-i-get-no-assembly-descriptors-found-error-while-building-this-project/36293818#36293818", "title": "Why do I get &quot;No assembly descriptors found.&quot; error while building this project?", "body": "<p>First use an uptodate version of <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"noreferrer\">maven-assembly-plugin</a> and not an ancient version...Furthermore you should call it via <code>mvn clean package</code> cause you bound the maven-assembly-plugin to the <code>package</code> life cycle phase...if you try to do <code>mvn ... assembly:single</code> you are not calling the life cycle...Apart from that you would like to use <code>jar-with-dependencies</code> descriptor than you should do that like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    [...]\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;!-- NOTE: We don't need a groupId specification because the group is\n             org.apache.maven.plugins ...which is assumed by default.\n         --&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>Apart from that if you call Maven like this:</p>\n\n<pre><code>mvn clean compile assembly:single install\n</code></pre>\n\n<p>Than you calling the compile phase double, cause just simply a:</p>\n\n<pre><code>mvn clean install \n</code></pre>\n\n<p>is sufficient. I can recommend to read the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">build life doc.</a></p>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8580, "favorite_count": 1, "accepted_answer_id": 36293818, "answer_count": 1, "score": 1, "last_activity_date": 1464234163, "creation_date": 1459280301, "question_id": 36293625, "link": "https://stackoverflow.com/questions/36293625/why-do-i-get-no-assembly-descriptors-found-error-while-building-this-project", "title": "Why do I get &quot;No assembly descriptors found.&quot; error while building this project?", "body": "<p>I have a little <a href=\"https://bitbucket.org/altruix/alma-econsim/src\" rel=\"nofollow\">project</a> written in Kotlin. When I run <code>clean compile assembly:single install</code>, I get following error message:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single \n(default-cli) on project alma-econsim: Error reading assemblies: No assembly \ndescriptors found. -&gt; [Help 1]\n</code></pre>\n\n<p>My <code>jar-with-dependencies.xml</code> is located in <a href=\"https://bitbucket.org/altruix/alma-econsim/src/4c06fceb8e2e1ec2e4ebb78d4d481eed0619b4a1/src/main/assembly/jar-with-dependencies.xml?at=master&amp;fileviewer=file-view-default\" rel=\"nofollow\">src/main/assembly</a> and referenced in <a href=\"https://bitbucket.org/altruix/alma-econsim/src/d747ed949f232d4219170141503a7b8d1615a8dd/pom.xml?fileviewer=file-view-default\" rel=\"nofollow\">pom.xml</a> like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2-beta-5&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;assembly&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;src/main/assembly/jar-with-dependencies.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But I still get the error. How can I correct my project in order to be able to package it as jar with dependencies?</p>\n"}, {"tags": ["json", "spring-mvc", "jackson", "kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 1562, "user_id": 608011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f503ccc16672cb7738ea63ba6f16f77?s=128&d=identicon&r=PG", "display_name": "zulqarnain", "link": "https://stackoverflow.com/users/608011/zulqarnain"}, "is_accepted": false, "score": 4, "last_activity_date": 1496866503, "last_edit_date": 1496866503, "creation_date": 1459291218, "answer_id": 36296384, "question_id": 36293570, "link": "https://stackoverflow.com/questions/36293570/kotlin-data-class-to-json-with-spring-jackson/36296384#36296384", "title": "Kotlin data class to JSON with spring/jackson", "body": "<p>Based on the information you gave, the problem seems to be with using <code>_</code> as <code>JsonProperty value</code>. You may have observed all your properties for <code>MetaData</code> contain <code>_</code>. Try removing all the underscores and see. I hope also you've registered the <code>ObjectMapper</code>, example in your <code>Application class</code>:</p>\n\n<pre><code>@Bean\nopen fun objectMapperBuilder(): Jackson2ObjectMapperBuilder\n        = Jackson2ObjectMapperBuilder().modulesToInstall(KotlinModule())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 828507, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a51e0f26bcbb16486d35970670ed0734?s=128&d=identicon&r=PG", "display_name": "Bruno Araujo", "link": "https://stackoverflow.com/users/828507/bruno-araujo"}, "is_accepted": true, "score": 2, "last_activity_date": 1459358277, "creation_date": 1459358277, "answer_id": 36315554, "question_id": 36293570, "link": "https://stackoverflow.com/questions/36293570/kotlin-data-class-to-json-with-spring-jackson/36315554#36315554", "title": "Kotlin data class to JSON with spring/jackson", "body": "<p>I had to use the following combination of dependencies</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The update form <code>jackson-module-kotlin</code> from 2.7.1-2 to 2.7.3 had little to no diference in the problem, but i was obligated to include the <code>jackson-core</code>, <code>jackson-annotations</code>, and <code>jackson-databind</code>. </p>\n\n<p>Aparently the jackson jar included in the <code>jackson-module-kotlin</code> had some issues <code>spring-webmvc</code> that prevented me from registering the kotlin module as shown below</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters register-defaults=\"true\"&gt;\n        &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n            &lt;property name=\"objectMapper\" ref=\"kotlinMapper\" /&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n\n&lt;bean id=\"kotlinMapper\"\n      class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\"&gt;\n\n    &lt;property name=\"featuresToEnable\"&gt;\n        &lt;array&gt;\n            &lt;util:constant static-field=\"com.fasterxml.jackson.databind.SerializationFeature.INDENT_OUTPUT\" /&gt;\n            &lt;util:constant static-field=\"com.fasterxml.jackson.databind.SerializationFeature.WRITE_EMPTY_JSON_ARRAYS\" /&gt;\n        &lt;/array&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"modulesToInstall\" value=\"com.fasterxml.jackson.module.kotlin.KotlinModule\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>In the end those <code>_</code> in the <code>@JsonProperty</code> worked just fine.</p>\n"}], "owner": {"reputation": 107, "user_id": 828507, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a51e0f26bcbb16486d35970670ed0734?s=128&d=identicon&r=PG", "display_name": "Bruno Araujo", "link": "https://stackoverflow.com/users/828507/bruno-araujo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8113, "favorite_count": 2, "accepted_answer_id": 36315554, "answer_count": 2, "score": 4, "last_activity_date": 1496866503, "creation_date": 1459280129, "last_edit_date": 1464703290, "question_id": 36293570, "link": "https://stackoverflow.com/questions/36293570/kotlin-data-class-to-json-with-spring-jackson", "title": "Kotlin data class to JSON with spring/jackson", "body": "<p>I'm tryin to expose some data class as JSON objects but something ain't working.</p>\n\n<p>I have the following data classes:</p>\n\n<pre><code>data class Link(\n        @JsonProperty(\"rel\")\n        @JsonView(View.Bind::class)\n        val rel: String,\n\n        @JsonProperty(\"method\")\n        @JsonView(View.Bind::class)\n        val method: HttpMethod,\n\n        @JsonProperty(\"href\")\n        @JsonView(View.Bind::class)\n        val href: String)\n\n\ndata class MetaData(val status: HttpStatus) {\n    @JsonView(View.Bind::class)\n    @JsonProperty(\"status_code\")\n    fun getStatusCode(): Int {\n        return status.value()\n    }\n\n    @JsonView(View.Bind::class)\n    @JsonProperty(\"status_desc\")\n    fun getStatusDesc(): String {\n        return status.name\n    }\n}\n\ndata class Payload(\n        @JsonView(View.Bind::class)\n        @JsonProperty(\"payload\")\n        val payload: Any,\n\n        @JsonProperty(\"_meta\")\n        @JsonView(View.Bind::class)\n        val metaData: MetaData,\n\n        @JsonProperty(\"_links\")\n        @JsonView(View.Bind::class)\n        val links: List&lt;Link&gt;)\n</code></pre>\n\n<p>And for some reason, when the Payload class is a JAVA class everything works fine, but when it is a kotlin class only the payload element gets into the JSON.</p>\n\n<p>For dependency i'm using:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1-1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1-2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If i change the \"_meta\" and \"_links\" to \"meta\" and \"links\" the \"links\" elements are rendered.</p>\n"}, {"tags": ["nullable", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 1, "creation_date": 1459265127, "post_id": 36288288, "comment_id": 60202711, "body": "I guess this begs a larger design question: if the JDBC was written with Kotlin, would <i>every</i> field getter be nullable? This might make sense since  the library has no idea if a column in a table is nullable or not..."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1459463776, "last_edit_date": 1459463776, "creation_date": 1459265999, "answer_id": 36288903, "question_id": 36288288, "link": "https://stackoverflow.com/questions/36288288/kotlin-extension-functions-and-platform-types/36288903#36288903", "title": "Kotlin- Extension functions and platform types?", "body": "<p>Look at it from a different angle: if you could make your functions return a value of platform type <code>LocalDate!</code>, Java unsafe nullability would spread to the functions usages in your Kotlin code: they would return <code>null</code> at any time, possibly unexpected to the caller using the return value as non-null.</p>\n\n<p>Kotlin, in turn, <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow\">is null-safe</a> and it won't allow passing <code>null</code> silently to somewhere where it will cause an NPE. Instead, every value is either passed around as nullable or passes non-null check or assertion.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow\">Platform types</a> are non-denotable in the language, this is just a way of dealing with unsafe Java nullability (simply treating all Java values as nullable <a href=\"http://blog.jetbrains.com/kotlin/2014/10/making-platform-interop-even-smoother/\" rel=\"nofollow\">wouldn't work</a>). They provide you a way to state that you <em>believe that this call to Java code won't return null</em>: when you treat <code>T!</code> as <code>T</code>, an assertion is generated to check it. Otherwise you work with platform type <code>T!</code> as with nullable <code>T?</code>.</p>\n\n<p>Null safety is one of the key points in Kotlin language design, and it makes you decide for each value in your Kotlin code whether it is nullable or not.</p>\n\n<p>You have two options for API design:</p>\n\n<ul>\n<li>Return a non-null value, checking the nullability inside your function</li>\n<li>Return nullable value and thus warn the caller about possible <code>null</code></li>\n</ul>\n\n<p>However, if a function has semantics allowing the caller to assume that it won't return <code>null</code> in some conditions, you can make a wrapper function that makes the assertion. This is feasible if coupled with additional logic or fallback, otherwise it will hardly be more concise than the assertion (<code>!!</code>) at call site.</p>\n"}], "owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 1, "accepted_answer_id": 36288903, "answer_count": 1, "score": 3, "last_activity_date": 1459467831, "creation_date": 1459264414, "last_edit_date": 1459467831, "question_id": 36288288, "link": "https://stackoverflow.com/questions/36288288/kotlin-extension-functions-and-platform-types", "title": "Kotlin- Extension functions and platform types?", "body": "<p>I want to add two extension functions to <code>ResultSet</code> that gets a value as a <code>LocalDate</code>.</p>\n\n<pre><code>fun ResultSet.getLocalDate(colName: String) = getDate(colName)?.toLocalDate()\nfun ResultSet.getLocalDate(colIndex: Int) = getDate(colIndex)?.toLocalDate()\n</code></pre>\n\n<p>The problem is <code>getDate()</code> returns a <code>Date!</code>, and obviously I could get a null error without the <code>?.</code> call before <code>toLocalDate()</code>. But then anyone using this extension must use the result as a <code>LocalDate?</code> rather than a <code>LocalDate!</code>. </p>\n\n<p>Is there any way I can maintain the platform type for consistency's sake? And let the user of the extension function decide if it is allowed to be nullable or not? Or am I looking at this wrongly as an inconvenience rather than a feature?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "edited": false, "score": 0, "creation_date": 1459248231, "post_id": 36281165, "comment_id": 60189992, "body": "I&#39;ve tried this, it doesn&#39;t work.it says parameter not compatible"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "edited": false, "score": 0, "creation_date": 1459282405, "post_id": 36281165, "comment_id": 60213618, "body": "Can you please provide more information? I don&#39;t see how such error would be possible in the code you posted"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 4, "last_activity_date": 1459245805, "creation_date": 1459245805, "answer_id": 36281165, "question_id": 36280935, "link": "https://stackoverflow.com/questions/36280935/kotlins-generics-have-to-write-type-parameter/36281165#36281165", "title": "kotlin&#39;s generics have to write type parameter", "body": "<p>If the generic type argument is not used in the subsequent code, you can use a <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow\">star-projection</a>:</p>\n\n<pre><code>class ShareDialogFragment(val mTopics: List&lt;AdapterItem&lt;*&gt;&gt;) {}\n</code></pre>\n"}], "owner": {"reputation": 1358, "user_id": 5218585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gtN7e.jpg?s=128&g=1", "display_name": "Allen Vork", "link": "https://stackoverflow.com/users/5218585/allen-vork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459245805, "creation_date": 1459245251, "question_id": 36280935, "link": "https://stackoverflow.com/questions/36280935/kotlins-generics-have-to-write-type-parameter", "title": "kotlin&#39;s generics have to write type parameter", "body": "<p>in java ,i defined a class </p>\n\n<pre><code>public abstract class AdapterItem&lt;T extends AdapterItem&gt; {}\n</code></pre>\n\n<p>then ,i put the data of this class to a list</p>\n\n<pre><code>List&lt;AdapterItem&gt; topics\n</code></pre>\n\n<p>and i have to deliver the \"topics\" to a kotlin class</p>\n\n<p>and my class is :</p>\n\n<pre><code>class ShareDialogFragment(val mTopics: List&lt;AdapterItem&gt;) {}\n</code></pre>\n\n<p>but i got an error: \"type argument is required\". i have to change the <code>List&lt;AdapterItem&gt;</code> to <code>List&lt;AdapterItem&lt;out AdapterItem&gt;&gt;</code> and it's not the end. i still got the error.because AdapterItem still needs type arguement.  my solution is to replace it to <code>List&lt;AdapterItem&lt;TopicItem&gt;&gt;</code> (topicItem is the subclass of AdapterItem)</p>\n\n<p>but it's worse. Anybody has a solution?</p>\n"}, {"tags": ["spring", "hibernate", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110794, "user_id": 280244, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/835Lz.png?s=128&g=1", "display_name": "Ralph", "link": "https://stackoverflow.com/users/280244/ralph"}, "is_accepted": true, "score": 2, "last_activity_date": 1459242473, "creation_date": 1459242473, "answer_id": 36279902, "question_id": 36279248, "link": "https://stackoverflow.com/questions/36279248/select-as-in-hibernate/36279902#36279902", "title": "Select as in hibernate", "body": "<p>You could use a native query instead of an HQL/JPQL query.</p>\n\n<pre><code>@Query(value = \"SELECT * FROM Driver ORDER BY ST_Distance(u.position, st_setsrid(st_makepoint(:lat, :lng), 4326))\",\n       nativeQuery =  true)\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 893405, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4649b5a9f1cf23ba00066758632cca4d?s=128&d=identicon&r=PG", "display_name": "Fernando Luiz", "link": "https://stackoverflow.com/users/893405/fernando-luiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 36279902, "answer_count": 1, "score": 0, "last_activity_date": 1459242473, "creation_date": 1459240457, "question_id": 36279248, "link": "https://stackoverflow.com/questions/36279248/select-as-in-hibernate", "title": "Select as in hibernate", "body": "<p>How can i add <strong><em>ST_Distance(u.position, st_setsrid(st_makepoint(:lat, :lng), 4326))</em></strong> into select statement in Hibernate?</p>\n\n<pre><code>@Query(\"\"\"SELECT u FROM Driver u\n    ORDER BY ST_Distance(u.position, st_setsrid(st_makepoint(:lat, :lng), 4326))\n\"\"\")\nfun findNearest(@Param(\"lat\") lat: Double,\n                @Param(\"lng\") lng: Double): List&lt;Driver&gt;\n</code></pre>\n\n<p>When i try this:</p>\n\n<pre><code>@Query(\"\"\"SELECT u, ST_Distance(u.position, st_setsrid(st_makepoint(:lat, :lng), 4326)) as position FROM Driver u\n    ORDER BY ST_Distance(u.position, st_setsrid(st_makepoint(:lat, :lng), 4326))\n\"\"\")\nfun findNearest(@Param(\"lat\") lat: Double,\n                @Param(\"lng\") lng: Double): List&lt;Driver&gt;\n</code></pre>\n\n<p>I got the following error:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: No data type for node: org.hibernate.hql.internal.ast.tree.MethodNode \n \\-[METHOD_CALL] MethodNode: '('\n    +-[METHOD_NAME] IdentNode: 'ST_Distance' {originalText=ST_Distance}\n    \\-[EXPR_LIST] SqlNode: 'exprList'\n       +-[DOT] DotNode: 'driver0_.position' {propertyName=position,dereferenceType=PRIMITIVE,getPropertyPath=position,path=u.position,tableAlias=driver0_,className=com.cloudtaxi.repository.entity.Driver,classAlias=u}\n       |  +-[ALIAS_REF] IdentNode: 'driver0_.id' {alias=u, className=com.cloudtaxi.repository.entity.Driver, tableAlias=driver0_}\n       |  \\-[IDENT] IdentNode: 'position' {originalText=position}\n       \\-[METHOD_CALL] MethodNode: '('\n          +-[METHOD_NAME] IdentNode: 'st_setsrid' {originalText=st_setsrid}\n          \\-[EXPR_LIST] SqlNode: 'exprList'\n             +-[METHOD_CALL] MethodNode: '('\n             |  +-[METHOD_NAME] IdentNode: 'st_makepoint' {originalText=st_makepoint}\n             |  \\-[EXPR_LIST] SqlNode: 'exprList'\n             |     +-[NAMED_PARAM] ParameterNode: '?' {name=lat, expectedType=null}\n             |     \\-[NAMED_PARAM] ParameterNode: '?' {name=lng, expectedType=null}\n             \\-[NUM_INT] LiteralNode: '4326'\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": false, "score": 7, "last_activity_date": 1459192921, "creation_date": 1459192921, "answer_id": 36269526, "question_id": 36269488, "link": "https://stackoverflow.com/questions/36269488/how-do-i-make-a-null-character-in-kotlin/36269526#36269526", "title": "How do I make a Null character in Kotlin", "body": "<p>I believe it must be <code>'\\u0000'</code>. Please visit this <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\">page</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 39, "last_activity_date": 1459264655, "last_edit_date": 1459264655, "creation_date": 1459193287, "answer_id": 36269616, "question_id": 36269488, "link": "https://stackoverflow.com/questions/36269488/how-do-i-make-a-null-character-in-kotlin/36269616#36269616", "title": "How do I make a Null character in Kotlin", "body": "<p>These options will work:</p>\n\n<ul>\n<li><code>'\\u0000'</code> (Unicode escape syntax, as described in the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>0.toChar()</code> (<a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">conversions</a> are optimized and have no function call overhead)</li>\n<li><code>import java.lang.Character.MIN_VALUE as nullChar</code>, then use <code>nullChar</code> (<a href=\"https://kotlinlang.org/docs/reference/packages.html#imports\" rel=\"noreferrer\">renaming import</a>)</li>\n</ul>\n"}], "owner": {"reputation": 629, "user_id": 2104648, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/422a99817d5df8fce3ed70457ffbe79d?s=128&d=identicon&r=PG", "display_name": "Caelum", "link": "https://stackoverflow.com/users/2104648/caelum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5212, "favorite_count": 2, "accepted_answer_id": 36269616, "answer_count": 2, "score": 21, "last_activity_date": 1459264655, "creation_date": 1459192786, "question_id": 36269488, "link": "https://stackoverflow.com/questions/36269488/how-do-i-make-a-null-character-in-kotlin", "title": "How do I make a Null character in Kotlin", "body": "<p>In Java, one can use the escape sequence <code>\\0</code> to represent the <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"noreferrer\">Null character</a></p>\n\n<p><code>\\0</code> and <code>\\0000</code> are not valid escape sequences in Kotlin, so I've been using a static java char and accessing that from Kotlin.</p>\n\n<pre><code>public class StringUtils{\n  public static char escapeChar = '\\0';\n}\n</code></pre>\n\n<p>Is there a Null character literal, or a better way of doing this in Kotlin?</p>\n"}, {"tags": ["arrays", "list", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1459169883, "post_id": 36262520, "comment_id": 60153609, "body": "I&#39;m not fully convinced here. What&#39;s mutable in <code>Array</code>? Only it&#39;s elements - the same in the <code>List</code>. The size of <code>List</code> is also fixed."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 1, "creation_date": 1459171931, "post_id": 36262520, "comment_id": 60154840, "body": "@AndroidEx the following will compile <code>val intArray = arrayOf(1,2,3); intArray[0] = 2</code> while this will not <code>val intList = listOf(1,2,3); intList[0] = 2</code>. The <code>List</code> indeed has a fixed size but <code>MutableList</code> which extends it doesn&#39;t hence it is possible that a <code>val a:List&lt;Int&gt;</code> will report different <code>size</code> on subsequent calls."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1576618294, "post_id": 36262520, "comment_id": 104956725, "body": "Is it recommended to use <code>List</code> or <code>ArrayList</code>?"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1576647995, "post_id": 36262520, "comment_id": 104963300, "body": "@IgorGanapolsky If you don&#39;t care about concrete implementation use <code>List</code> (probably 99% of the cases \ud83d\ude42). If you do care about implementation use <code>ArrayList</code> or <code>LinkedList</code> or any other concrete implementation."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 34, "last_activity_date": 1608389914, "last_edit_date": 1608389914, "creation_date": 1459168827, "answer_id": 36262520, "question_id": 36262305, "link": "https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin/36262520#36262520", "title": "Difference between List and Array types in Kotlin", "body": "<p>The major difference from usage side is that <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\">Arrays</a> have a fixed size while <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\"><code>(Mutable)List</code></a> can adjust their size dynamically. Moreover <code>Array</code> is mutable whereas <code>List</code> is not.</p>\n<p>Furthermore <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>kotlin.collections.List</code></a> is an interface implemented among others by <code>java.util.ArrayList</code>. It's also extended by <code>kotlin.collections.MutableList</code> to be used when a collection that allows for item modification is needed.</p>\n<p>On the jvm level, <code>Array</code> is represented by <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\" rel=\"noreferrer\">arrays</a>. <code>List</code> on the other hand is represented by <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>java.util.List</code></a> since there are no immutable collections equivalents available in Java.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 341, "last_activity_date": 1516204963, "last_edit_date": 1516204963, "creation_date": 1459173038, "answer_id": 36263748, "question_id": 36262305, "link": "https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin/36263748#36263748", "title": "Difference between List and Array types in Kotlin", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\">Arrays</a> and lists (represented by <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/\" rel=\"noreferrer\"><code>List&lt;T&gt;</code></a> and its subtype <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\"><code>MutableList&lt;T&gt;</code></a>) have many differences, here are the most significant ones:</p>\n\n<ul>\n<li><p><code>Array&lt;T&gt;</code> is a class with known implementation: it's a sequential fixed-size memory region storing the items (and on JVM it is represented by <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">Java array</a>).</p>\n\n<p><code>List&lt;T&gt;</code> and <code>MutableList&lt;T&gt;</code> are interfaces which have different implementations: <code>ArrayList&lt;T&gt;</code>, <code>LinkedList&lt;T&gt;</code> etc. Memory representation and operations logic of lists are defined in concrete implementation, e.g. indexing in a <code>LinkedList&lt;T&gt;</code> goes through the links and takes O(n) time whereas <code>ArrayList&lt;T&gt;</code> stores its items in a dynamically allocated array.</p>\n\n<pre><code>val list1: List&lt;Int&gt; = LinkedList&lt;Int&gt;()\nval list2: List&lt;Int&gt; = ArrayList&lt;Int&gt;()\n</code></pre></li>\n<li><p><code>Array&lt;T&gt;</code> is mutable (it can be changed through any reference to it), but <code>List&lt;T&gt;</code> doesn't have modifying methods (it is either <a href=\"https://stackoverflow.com/questions/34770493/kotlin-instantiate-immutable-list/34770659#34770659\">read-only view of <code>MutableList&lt;T&gt;</code></a> or an <a href=\"https://stackoverflow.com/questions/7713274/java-immutable-collections\">immutable list implementation</a>).</p>\n\n<pre><code>val a = arrayOf(1, 2, 3)\na[0] = a[1] // OK\n\nval l = listOf(1, 2, 3)\nl[0] = l[1] // doesn't compile\n\nval m = mutableListOf(1, 2, 3)\nm[0] = m[1] // OK\n</code></pre></li>\n<li><p>Arrays have fixed size and cannot expand or shrink retaining identity (you need to copy an array to resize it). As to the lists, <code>MutableList&lt;T&gt;</code> has <code>add</code> and <code>remove</code> functions, so that it can increase and reduce its size.</p>\n\n<pre><code>val a = arrayOf(1, 2, 3)\nprintln(a.size) // will always be 3 for this array\n\nval l = mutableListOf(1, 2, 3)\nl.add(4)\nprintln(l.size) // 4\n</code></pre></li>\n<li><p><code>Array&lt;T&gt;</code> is <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"noreferrer\">invariant on <code>T</code></a> (<code>Array&lt;Int&gt;</code> is not <code>Array&lt;Number&gt;</code>), the same for <code>MutableList&lt;T&gt;</code>, but <code>List&lt;T&gt;</code> is covariant (<code>List&lt;Int&gt;</code> is <code>List&lt;Number&gt;</code>).</p>\n\n<pre><code>val a: Array&lt;Number&gt; = Array&lt;Int&gt;(0) { 0 } // won't compile\nval l: List&lt;Number&gt; = listOf(1, 2, 3) // OK\n</code></pre></li>\n<li><p>Arrays are optimized for primitives: there are separate <code>IntArray</code>, <code>DoubleArray</code>, <code>CharArray</code> etc. which are mapped to Java primitive arrays (<code>int[]</code>, <code>double[]</code>, <code>char[]</code>), not <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">boxed</a> ones (<code>Array&lt;Int&gt;</code> is mapped to Java's <code>Integer[]</code>). Lists in general do not have implementations optimized for primitives, though some libraries (outside JDK) provide primitive-optimized lists.</p></li>\n<li><p><code>List&lt;T&gt;</code> and <code>MutableList&lt;T&gt;</code> are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a> and have special behaviour in Java interoperability (Java's <code>List&lt;T&gt;</code> is seen from Kotlin as either <code>List&lt;T&gt;</code> or <code>MutableList&lt;T&gt;</code>). Arrays are also mapped, but they have <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#java-arrays\" rel=\"noreferrer\">other rules</a> of Java interoperability.</p></li>\n<li><p>Certain array types are used in <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotations\" rel=\"noreferrer\">annotations</a> (primitive arrays, <code>Array&lt;String&gt;</code>, and arrays with <code>enum class</code> entries), and there's a special <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"noreferrer\">array literal syntax for annotations</a>. Lists and other collections cannot be used in annotations.</p></li>\n<li><p>As to the usage, good practice is to prefer using lists over arrays everywhere except for performance critical parts of your code, the reasoning is the same to <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=39\" rel=\"noreferrer\">that for Java</a>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1871, "user_id": 1272659, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c4cf8ee7777eb59a09ddcf9aea442059?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/1272659/sean"}, "is_accepted": false, "score": 7, "last_activity_date": 1602796905, "creation_date": 1602796905, "answer_id": 64379829, "question_id": 36262305, "link": "https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin/64379829#64379829", "title": "Difference between List and Array types in Kotlin", "body": "<p>In additional to the above, identity comparison is also different:</p>\n<pre><code>val l1 = listOf(&quot;a&quot;)\nval l2 = listOf(&quot;a&quot;)\nvar x = (l1 == l2) // =&gt; true\n\nval a1 = arrayOf(&quot;a&quot;)\nval a2 = arrayOf(&quot;a&quot;)\nvar y = (a1 == a2) // =&gt; false\n</code></pre>\n"}], "owner": {"reputation": 5481, "user_id": 1386911, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y36Ht.jpg?s=128&g=1", "display_name": "Daniel H&#225;ri", "link": "https://stackoverflow.com/users/1386911/daniel-h%c3%a1ri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75317, "favorite_count": 61, "accepted_answer_id": 36263748, "answer_count": 3, "score": 224, "last_activity_date": 1608389914, "creation_date": 1459168072, "last_edit_date": 1608022908, "question_id": 36262305, "link": "https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin", "title": "Difference between List and Array types in Kotlin", "body": "<p>What is the difference between <code>List</code> and <code>Array</code> types?<br>\nIt seems can make same operations with them (loops, filter expression, etc..), is there any difference in behavior or usage?</p>\n\n<pre><code>val names1 = listOf(\"Joe\",\"Ben\",\"Thomas\")\nval names2 = arrayOf(\"Joe\",\"Ben\",\"Thomas\")\n\nfor (name in names1)\n    println(name)\nfor (name in names2)\n    println(name)\n</code></pre>\n"}, {"tags": ["kotlin", "try-with-resources", "autocloseable"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 3, "creation_date": 1459163898, "post_id": 36260556, "comment_id": 60150479, "body": "the reason they don&#39;t support <code>AutoClosable</code> out-of-the-box is that they are still to implement Java8 support, as well to support JDK8 classes"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1459177541, "post_id": 36260556, "comment_id": 60157868, "body": "You could always copy the source for <code>use</code> and change <code>Closeable</code> to <code>AutoCloseable</code> (see <a href=\"https://github.com/JetBrains/kotlin/blob/8549ec7645ff6db4d5fede2c43034be66683561a/libraries/stdlib/src/kotlin/io/ReadWrite.kt#L145-L177\" rel=\"nofollow noreferrer\">ReadWrite.kt:145-177</a>."}, {"owner": {"reputation": 3629, "user_id": 2463695, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/hSucb.png?s=128&g=1", "display_name": "Quy Tang", "link": "https://stackoverflow.com/users/2463695/quy-tang"}, "edited": false, "score": 0, "creation_date": 1491540984, "post_id": 36260556, "comment_id": 73608351, "body": "Consider using java 8 for the pattern. You can find it here <a href=\"http://stackoverflow.com/a/43269795/2463695\">stackoverflow.com/a/43269795/2463695</a>"}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1459176257, "post_id": 36260918, "comment_id": 60157138, "body": "There is no <code>addSuppress(Throwable)</code> method on <code>kotlin.Throwable</code> and you cannot use <code>java.lang.Throwable</code> in a Kotlin try-catch so how does this code compile (other than <code>s&#47;throwble&#47;throwable&#47;</code>)?"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1459176375, "post_id": 36260918, "comment_id": 60157209, "body": "@mfulton26 I believe its supposed to be <code>Exception</code> instead of <code>Throwable</code>."}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1459176850, "post_id": 36260918, "comment_id": 60157496, "body": "@mfulton26 Thanks, that&#39;s a good point. Updated the code to make it compile."}], "tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": true, "score": 7, "last_activity_date": 1459177194, "last_edit_date": 1495539206, "creation_date": 1459162720, "answer_id": 36260918, "question_id": 36260556, "link": "https://stackoverflow.com/questions/36260556/my-own-solution-for-kotlins-try-with-resources-absence/36260918#36260918", "title": "My own solution for Kotlin&#39;s try-with-resources absence", "body": "<p>Your implementation will work fine but it's different from a standard try-with-resources implementation. If you want it to work like in Java you should do something like that:</p>\n\n<pre><code>inline fun &lt;T : AutoCloseable, R&gt; trywr(closeable: T, block: (T) -&gt; R): R {\n  var currentThrowable: java.lang.Throwable? = null\n  try {\n    return block(closeable)\n  } catch (throwable: Throwable) {\n    currentThrowable = throwable as java.lang.Throwable\n    throw throwable\n  } finally {\n    if (currentThrowable != null) {\n      try {\n        closeable.close()\n      } catch (throwable: Throwable) {\n        currentThrowable.addSuppressed(throwable)\n      }\n    } else {\n      closeable.close()\n    }\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/3255152/mfulton26\">mfulton26</a> pointed out in his <a href=\"https://stackoverflow.com/questions/36260556/36260918?noredirect=1#comment60157138_36260918\">comment</a> <code>kotlin.Throwable</code> doesn't contain <code>addSuppressed(Throwable)</code> method so we have to cast <code>kotlin.Throwable</code> to <code>java.lang.Throwable</code> to make the code work.</p>\n"}, {"tags": [], "owner": {"reputation": 5628, "user_id": 1340183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd31e838b01c32ffe216b6d3163289f1?s=128&d=identicon&r=PG", "display_name": "evanchooly", "link": "https://stackoverflow.com/users/1340183/evanchooly"}, "is_accepted": false, "score": 0, "last_activity_date": 1459176499, "creation_date": 1459176499, "answer_id": 36264740, "question_id": 36260556, "link": "https://stackoverflow.com/questions/36260556/my-own-solution-for-kotlins-try-with-resources-absence/36264740#36264740", "title": "My own solution for Kotlin&#39;s try-with-resources absence", "body": "<p>I think what you want is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow\"><code>use()</code></a> as defined on <code>Closable</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1344, "user_id": 4864852, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY50Djl9mIM/AAAAAAAAAAI/AAAAAAAAnOk/Q3Zjw_8RKWA/photo.jpg?sz=128", "display_name": "Islam Abdalla", "link": "https://stackoverflow.com/users/4864852/islam-abdalla"}, "is_accepted": false, "score": 2, "last_activity_date": 1495258811, "creation_date": 1495258811, "answer_id": 44082346, "question_id": 36260556, "link": "https://stackoverflow.com/questions/36260556/my-own-solution-for-kotlins-try-with-resources-absence/44082346#44082346", "title": "My own solution for Kotlin&#39;s try-with-resources absence", "body": "<p>Since Kotlin 1.1, <code>.use</code>  has an <code>AutoCloseable</code> implementation. </p>\n\n<pre><code>@SinceKotlin(\"1.1\")\n@Suppress(\"INVISIBLE_REFERENCE\", \"INVISIBLE_MEMBER\")\n@kotlin.internal.InlineOnly\npublic inline fun &lt;T : AutoCloseable?, R&gt; T.use(block: (T) -&gt; R): R {\n    var exception: Throwable? = null\n    try {\n        return block(this)\n    } catch (e: Throwable) {\n        exception = e\n        throw e\n    } finally {\n        this.closeFinally(exception)\n    }\n}\n</code></pre>\n\n<p>Copied from <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/jre7/src/kotlin/AutoCloseable.kt#L33\" rel=\"nofollow noreferrer\">source</a></p>\n"}], "owner": {"reputation": 1203, "user_id": 4342515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_oRpj7EPDWQ/AAAAAAAAAAI/AAAAAAAAAGE/Ai1BO27JJIs/photo.jpg?sz=128", "display_name": "Mario", "link": "https://stackoverflow.com/users/4342515/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 1, "accepted_answer_id": 36260918, "answer_count": 3, "score": 6, "last_activity_date": 1495258811, "creation_date": 1459161354, "question_id": 36260556, "link": "https://stackoverflow.com/questions/36260556/my-own-solution-for-kotlins-try-with-resources-absence", "title": "My own solution for Kotlin&#39;s try-with-resources absence", "body": "<p>Kotlin provides the <code>use</code> function for <code>Closeable</code> objects, but it seems they forgot to consider <code>AutoCloseable</code> (e.g. DB prepared statements) for the try-with-resources full Java equivalent.</p>\n\n<p>I've implemented the next \"home-made\" solution:</p>\n\n<pre><code>inline fun &lt;T:AutoCloseable,R&gt; trywr(closeable: T, block: (T) -&gt; R): R {\n    try {\n        return block(closeable);\n    } finally {\n        closeable.close()\n    }\n}\n</code></pre>\n\n<p>Then you can use it the next way:</p>\n\n<pre><code>fun countEvents(sc: EventSearchCriteria?): Long {\n    return trywr(connection.prepareStatement(\"SELECT COUNT(*) FROM event\")) {\n        var rs = it.executeQuery()\n        rs.next()\n        rs.getLong(1)\n    }\n}\n</code></pre>\n\n<p>I'm new to Kotlin and I would like to know if I'm missing something important in my own solution that could give me problems/leakages in a production environment.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1459162379, "post_id": 36259894, "comment_id": 60149761, "body": "Consider using <code>buildString</code> as a more concise way of building a <code>String</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4956, "user_id": 4356889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Le2lz.png?s=128&g=1", "display_name": "szym", "link": "https://stackoverflow.com/users/4356889/szym"}, "is_accepted": true, "score": 11, "last_activity_date": 1459160426, "last_edit_date": 1459160426, "creation_date": 1459158987, "answer_id": 36259894, "question_id": 36259770, "link": "https://stackoverflow.com/questions/36259770/kotlin-how-to-swap-character-in-string/36259894#36259894", "title": "Kotlin: how to swap character in String", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\">Strings in Kotlin</a> just like in Java are immutable, so there is no <code>string.set(index, value)</code> (which is what <code>string[index] = value</code> is equivalent to).</p>\n\n<p>To build a string from pieces you could use a <code>StringBuilder</code>, construct a <code>CharSequence</code> and use <code>joinToString</code>, operate on a plain array (<code>char[]</code>) or do <code>result = result + nextCharacter</code> (creates a new String each time -- this is the most expensive way).</p>\n\n<p>Here's how you could do this with <code>StringBuilder</code>:</p>\n\n<pre><code>var prevResult = \"abcde\"\nvar tmp = prevResult[0]\n\nvar builder = StringBuilder()\n\nfor (i in 0..prevResult.length - 2) {\n  builder.append(prevResult[i+1])\n}\n\nbuilder.append(tmp)  // Don't really need tmp, use prevResult[0] instead.\nvar result = builder.toString()\n</code></pre>\n\n<p>However, a much simpler way to achieve your goal (\"bcdea\" from \"abcde\") is to just \"move\" one character:</p>\n\n<pre><code>var result = prevResult.substring(1) + prevResult[0]\n</code></pre>\n\n<p>or using the <code>Sequence</code> methods:</p>\n\n<pre><code>var result = prevResult.drop(1) + prevResult.take(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1459159289, "creation_date": 1459159289, "answer_id": 36259988, "question_id": 36259770, "link": "https://stackoverflow.com/questions/36259770/kotlin-how-to-swap-character-in-string/36259988#36259988", "title": "Kotlin: how to swap character in String", "body": "<p>Since Strings are immutable, you will have to copy the source string into an array, make changes to the array, then create a new string from the modified array.  Look into:</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/reference/java/lang/String.html#getChars(int,%20int,%20char[],%20int)\" rel=\"nofollow\">getChars()</a> to copy the string chars into an array.</li>\n<li>Perform your algorithm on that array, making changes to it as needed.</li>\n<li>Convert the modified array back into a String with <a href=\"http://developer.android.com/reference/java/lang/String.html#String(char[])\" rel=\"nofollow\">String(char[])</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1459164416, "post_id": 36259991, "comment_id": 60150739, "body": "I wonder what is the performance for those. In a naive implementation the version with <code>CharArray</code> must be the most mem-efficient and mem-local. On the other hand JIT may optimise the other ones away, so there is 1 allocation instead of 3."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1459191748, "post_id": 36259991, "comment_id": 60165506, "body": "@voddan, here&#39;s a test with the result: <a href=\"https://gist.github.com/h0tk3y/bc508a573abfe8e8b3b3\" rel=\"nofollow noreferrer\">gist.github.com/h0tk3y/bc508a573abfe8e8b3b3</a>. Seems quite strange, but drop+take shows itself a little better."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1459264099, "post_id": 36259991, "comment_id": 60201934, "body": "hah, nobody expected <code>StringBuilder</code> to shine here :) Thanks for the tests!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 7, "last_activity_date": 1459163560, "last_edit_date": 1459163560, "creation_date": 1459159300, "answer_id": 36259991, "question_id": 36259770, "link": "https://stackoverflow.com/questions/36259770/kotlin-how-to-swap-character-in-string/36259991#36259991", "title": "Kotlin: how to swap character in String", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/drop.html\" rel=\"noreferrer\"><code>drop(1)</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/first.html\" rel=\"noreferrer\"><code>first()</code></a> (or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/take.html\" rel=\"noreferrer\"><code>take(1)</code></a>) to do it in one line:</p>\n\n<pre><code>val str = \"abcde\"\nval r1 = str.drop(1) + str.first()\nval r2 = str.drop(1) + str.take(1)\n</code></pre>\n\n<p>As to your code, Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/\" rel=\"noreferrer\"><code>String</code></a> is immutable and you cannot modify its characters. To achieve what you want, you can convert a <code>String</code> to <code>CharArray</code>, modify it and then make a new <code>String</code> of it:</p>\n\n<pre><code>val r1 = str.toCharArray().let {\n    for (i in 0..it.lastIndex - 1)\n        it[i] = it[i+1]\n    it[it.lastIndex] = str[0] // str is unchanged\n    String(it)\n}\n</code></pre>\n\n<p>(<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"noreferrer\"><code>let</code></a> is used for conciseness to avoid creating more variables)</p>\n\n<hr>\n\n<p>Also, you can write a more general version of this operation as an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension function</a> for <code>String</code>:</p>\n\n<pre><code>fun String.rotate(n: Int) = drop(n % length) + take(n % length)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val str = \"abcde\"\nval r1 = str.rotate(1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 936, "user_id": 2615117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4f3c4304c38e78431b4f13dfeca641?s=128&d=identicon&r=PG", "display_name": "nocdib", "link": "https://stackoverflow.com/users/2615117/nocdib"}, "edited": false, "score": 1, "creation_date": 1524079811, "post_id": 47844037, "comment_id": 86831061, "body": "Making the string a Mutable List solved my issue. Thanks!"}], "tags": [], "owner": {"reputation": 1905, "user_id": 673294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HdYOI.jpg?s=128&g=1", "display_name": "Miguel Beltran", "link": "https://stackoverflow.com/users/673294/miguel-beltran"}, "is_accepted": false, "score": 3, "last_activity_date": 1513414166, "creation_date": 1513414166, "answer_id": 47844037, "question_id": 36259770, "link": "https://stackoverflow.com/questions/36259770/kotlin-how-to-swap-character-in-string/47844037#47844037", "title": "Kotlin: how to swap character in String", "body": "<p>Simpler solution: Just use toMutableList() to create a MutableList of Char and then join it all together with joinToString.</p>\n\n<p>Example:</p>\n\n<p>Given a String input, we want to exchange characters at positions posA and posB:</p>\n\n<pre><code>val chars = input.toMutableList()\nval temp = chars[posA]\nchars[posA] = chars[posB]\nchars[posB] = temp\nreturn chars.joinToString(separator = \"\")\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8050, "favorite_count": 1, "accepted_answer_id": 36259894, "answer_count": 4, "score": 10, "last_activity_date": 1513414166, "creation_date": 1459158466, "last_edit_date": 1459163299, "question_id": 36259770, "link": "https://stackoverflow.com/questions/36259770/kotlin-how-to-swap-character-in-string", "title": "Kotlin: how to swap character in String", "body": "<p>I would like to swap a string from \"abcde\" to \"bcdea\". So I wrote my code as below in Kotlin</p>\n\n<pre><code>var prevResult = \"abcde\"\nvar tmp = prevResult[0]\n\nfor (i in 0..prevResult.length - 2) {\n    prevResult[i] = prevResult[i+1]  // Error on preveResult[i]\n}\n\nprevResult[prevResult.length-1] = tmp // Error on preveResult[prevResult.lengt-1]\n</code></pre>\n\n<p>It errors out as stated above comment line. What did I do wrong? How could I fix this and get what I want?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 27, "last_activity_date": 1498858775, "last_edit_date": 1498858775, "creation_date": 1459132192, "answer_id": 36255047, "question_id": 36255016, "link": "https://stackoverflow.com/questions/36255016/kotlin-infinite-sequences-with-iterator-function/36255047#36255047", "title": "Kotlin infinite sequences with iterator function", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"noreferrer\"><code>generateSequence</code></a> factory method:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>generateSequence(0) { it + 2 }.forEach { println(it) }\n</code></pre>\n\n<p>or for the limited case:</p>\n\n<pre><code>generateSequence(0) { it + 2 }.take(100).forEach { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 733, "user_id": 4727842, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0483ae091acc1d00135c0bc5a1df6e6d?s=128&d=identicon&r=PG", "display_name": "Grayden Hormes", "link": "https://stackoverflow.com/users/4727842/grayden-hormes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5504, "favorite_count": 0, "accepted_answer_id": 36255047, "answer_count": 1, "score": 9, "last_activity_date": 1528041448, "creation_date": 1459131880, "last_edit_date": 1528041448, "question_id": 36255016, "link": "https://stackoverflow.com/questions/36255016/kotlin-infinite-sequences-with-iterator-function", "title": "Kotlin infinite sequences with iterator function", "body": "<p>I am confused about how to create an infinite sequence in Kotlin to use for lazy evaluation. </p>\n\n<p>In Java:</p>\n\n<pre><code>IntStream.iterate(0, i -&gt; i + 2)\n     .limit(100)\n     .forEach(System.out::println);\n</code></pre>\n\n<p>but sequences seem much more confusing then Java streams. The sequence constructor is very confusing the doc for it says:</p>\n\n<pre><code>/**\n * Given an [iterator] function constructs a [Sequence] that returns values through the [Iterator]\n * provided by that function.\n * The values are evaluated lazily, and the sequence is potentially infinite.\n */\n</code></pre>\n\n<p>but I don't know what it means by an iterator function or how to make one.</p>\n\n<pre><code>Sequence { iterator(arrayOf&lt;Int&gt;()) }\n        .forEach { print(it) }\n</code></pre>\n\n<p>I have this which compiles but obviously doesn't print anything. I don't think my iterator function makes any sense. It wants a function that takes no arguments and returns an iterator, which isn't like the Java <code>.iterate</code> function at all. Iterator happens to have a constructor that takes an array, which would make sense if I had a data set to work with in an array but I don't. I want to be working with an infinite sequence. </p>\n\n<p>There is no <code>.limit</code>, so I previously tried to add a <code>.reduce</code> but the arguments for <code>.reduce</code> were even more confusing. I think there should be a <code>.toList</code> but I knew it wasn't working so I didn't try it.</p>\n\n<p>If someone would show me how to implement the above Java code in Kotlin it would help a lot.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 4727842, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0483ae091acc1d00135c0bc5a1df6e6d?s=128&d=identicon&r=PG", "display_name": "Grayden Hormes", "link": "https://stackoverflow.com/users/4727842/grayden-hormes"}, "edited": false, "score": 0, "creation_date": 1459128768, "post_id": 36254470, "comment_id": 60139022, "body": "Thanks, turns out I just had to sift through the docs more :/"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 13, "last_activity_date": 1459126865, "creation_date": 1459126865, "answer_id": 36254470, "question_id": 36254340, "link": "https://stackoverflow.com/questions/36254340/kotlin-constructor-with-super-class/36254470#36254470", "title": "Kotlin constructor with super class", "body": "<p>Kotlin's constructor is contained in an <code>init</code> block</p>\n\n<pre><code>class Test : SuperClass() {\n    init {\n      // Do constructor stuff here\n    }\n}\n</code></pre>\n\n<p>More information can be found in the Kotlin reference on classes: <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\">https://kotlinlang.org/docs/reference/classes.html#constructors</a></p>\n"}, {"comments": [{"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1491484919, "post_id": 38946332, "comment_id": 73581555, "body": "Thank you for this, helped me out alot"}], "tags": [], "owner": {"reputation": 1044, "user_id": 2923205, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001913757092/picture?type=large", "display_name": "Sakib Sami", "link": "https://stackoverflow.com/users/2923205/sakib-sami"}, "is_accepted": false, "score": 10, "last_activity_date": 1471206569, "creation_date": 1471206569, "answer_id": 38946332, "question_id": 36254340, "link": "https://stackoverflow.com/questions/36254340/kotlin-constructor-with-super-class/38946332#38946332", "title": "Kotlin constructor with super class", "body": "<p>In addition to above answer.\nIf super class have any parameter pass it like this,</p>\n\n<pre><code>class Dog(name: String, color: String): Animal(name, color){\n    init {\n        // Do Constructor tasks here...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 5416615, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a098a61b2adec91399be136a8dd54a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Bala", "link": "https://stackoverflow.com/users/5416615/the-bala"}, "is_accepted": false, "score": 0, "last_activity_date": 1577357818, "creation_date": 1577357818, "answer_id": 59487434, "question_id": 36254340, "link": "https://stackoverflow.com/questions/36254340/kotlin-constructor-with-super-class/59487434#59487434", "title": "Kotlin constructor with super class", "body": "<p>You can use init</p>\n\n<pre><code>class Test : Parent Class(){\ninit {\n   //your code goes here\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 733, "user_id": 4727842, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0483ae091acc1d00135c0bc5a1df6e6d?s=128&d=identicon&r=PG", "display_name": "Grayden Hormes", "link": "https://stackoverflow.com/users/4727842/grayden-hormes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9912, "favorite_count": 0, "accepted_answer_id": 36254470, "answer_count": 3, "score": 4, "last_activity_date": 1577357818, "creation_date": 1459125658, "question_id": 36254340, "link": "https://stackoverflow.com/questions/36254340/kotlin-constructor-with-super-class", "title": "Kotlin constructor with super class", "body": "<p>Any way I try, be it primary constructors or secondary, I can't figure out how to declare a new class with a super class and a constructor in kotlin.</p>\n\n<pre><code>class myPanel : JPanel {\n    myPanel() : super() {\n\n    }\n}\n</code></pre>\n\n<p>This is how i would most like t do it but it gives an error expecting member declaration.</p>\n\n<pre><code>class myPanel() : JPanel() {\n    {\n        ...\n    }\n}\n</code></pre>\n\n<p>this is how I thought a primary constructor looked but it gives the same error. Searching the internet hasn't been helpful and all I could find was the second example.</p>\n\n<p>So, what are all of the valid ways of creating a class with a super class and its one constructor?</p>\n"}, {"tags": ["android", "android-toolbar", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1459120523, "post_id": 36253456, "comment_id": 60137300, "body": "What is the rest of your layout? Since you&#39;re using a <code>RelativeLayout</code>, it might be that the other children lie on top of the toolbar."}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1459122337, "post_id": 36253456, "comment_id": 60137706, "body": "Like Firefox likes to say: Well... this is embarrassing! You are right. It was covered by the rest of the content. Thumbs up for you!"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1459122980, "post_id": 36253456, "comment_id": 60137851, "body": "Great! Sometimes another pair of eyes is all that&#39;s needed ;-)"}, {"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1459149571, "post_id": 36253456, "comment_id": 60144313, "body": "@nhaarman: you or the OP should add it as a proper answer, then."}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "reply_to_user": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 1, "creation_date": 1459159426, "post_id": 36253456, "comment_id": 60148332, "body": "@Cactus: I agree. nhaarman, would you add this as an answer, so I can mark it?"}], "answers": [{"comments": [{"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1459118876, "post_id": 36253487, "comment_id": 60136907, "body": "It&#39;s not working. Even hardcoding it to 100dp doesn&#39;t work."}], "tags": [], "owner": {"reputation": 3290, "user_id": 4109713, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z0gtVzo_pVg/AAAAAAAAAAI/AAAAAAAAACc/zf9eXprNRfE/photo.jpg?sz=128", "display_name": "Andre Classen", "link": "https://stackoverflow.com/users/4109713/andre-classen"}, "is_accepted": false, "score": 0, "last_activity_date": 1459117921, "creation_date": 1459117921, "answer_id": 36253487, "question_id": 36253456, "link": "https://stackoverflow.com/questions/36253456/android-toolbar-not-showing/36253487#36253487", "title": "Android: Toolbar not showing", "body": "<p>You should set the toolbar height:</p>\n\n<pre><code>android:layout_height=\"?attr/actionBarSize\"\n</code></pre>\n"}], "owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1459117921, "creation_date": 1459117727, "question_id": 36253456, "link": "https://stackoverflow.com/questions/36253456/android-toolbar-not-showing", "title": "Android: Toolbar not showing", "body": "<p>My App is written in Kotlin. I've removed the default Action bar:</p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"FullscreenTheme\" parent=\"AppTheme\"&gt;\n        &lt;item name=\"android:actionBarStyle\"&gt;@style/FullscreenActionBarStyle&lt;/item&gt;\n        &lt;item name=\"android:windowActionBarOverlay\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"metaButtonBarStyle\"&gt;?android:attr/buttonBarStyle&lt;/item&gt;\n        &lt;item name=\"metaButtonBarButtonStyle\"&gt;?android:attr/buttonBarButtonStyle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"FullscreenActionBarStyle\" parent=\"Widget.AppCompat.ActionBar\"&gt;\n        &lt;item name=\"android:background\"&gt;@color/black_overlay&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"Toolbar\" parent=\"ThemeOverlay.AppCompat.Dark\"&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then I declared my own Toolbar in the activity:</p>\n\n<pre><code>class ResultActivity : AppCompatActivity() {\n\n    var mToolbar: Toolbar? = null\n    var realmRecyclerView: RealmRecyclerView? = null\n    var flightAdapter: FlightRecyclerViewAdapter? = null\n    var realmAccess: RealmAccess? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_result)\n        mToolbar = findViewById(R.id.toolbar) as Toolbar\n        realmAccess = RealmAccess(baseContext)\n        realmRecyclerView = findViewById(R.id.realm_recycler_view) as RealmRecyclerView?\n\n        // Set up the action bar.\n        setSupportActionBar(mToolbar)\n        //supportActionBar!!.setDisplayShowTitleEnabled(true)\n...\n</code></pre>\n\n<p>The XML is also added:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".activity.ResultActivity\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorPrimary\"\n        android:minHeight=\"50dp\"\n        app:theme=\"@style/Toolbar\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:text=\"Toolbar Title\" /&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n    ...\n</code></pre>\n\n<p>But still the Toolbar doesn't show up. </p>\n\n<p>I've done this the same way in a previous app with good results, I can't see what the problem can be here.</p>\n"}, {"tags": ["generics", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 591, "user_id": 6819868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOHGU.jpg?s=128&g=1", "display_name": "\u042d\u043b\u044c\u043d\u0430\u0440 \u0411\u0435\u0440\u0445\u0435\u0435\u0432", "link": "https://stackoverflow.com/users/6819868/%d0%ad%d0%bb%d1%8c%d0%bd%d0%b0%d1%80-%d0%91%d0%b5%d1%80%d1%85%d0%b5%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1484773689, "post_id": 36253310, "comment_id": 70653373, "body": "Replace <b>Any</b> with the required interface, and work with interface :)"}], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 5666171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Nu7os.png?s=128&g=1", "display_name": "CLOVIS", "link": "https://stackoverflow.com/users/5666171/clovis"}, "edited": false, "score": 0, "creation_date": 1554873331, "post_id": 36253311, "comment_id": 97905334, "body": "This only works in Kotlin/JVM, is there a way to make it work in Kotlin/common for multiplatform projects?"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1556115176, "post_id": 36253311, "comment_id": 98328911, "body": "I feel like I saw a YouTrack issue for the stdlib (or maybe reflect library) to support type tokens directly, but I can&#39;t find it now."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 1, "creation_date": 1556121331, "post_id": 36253311, "comment_id": 98332784, "body": "@mkobit This one I believe: <a href=\"https://youtrack.jetbrains.com/issue/KT-28230\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-28230</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 44, "last_activity_date": 1590663728, "last_edit_date": 1590663728, "creation_date": 1459116826, "answer_id": 36253311, "question_id": 36253310, "link": "https://stackoverflow.com/questions/36253310/how-to-get-actual-type-arguments-of-a-reified-generic-parameter-in-kotlin/36253311#36253311", "title": "How to get actual type arguments of a reified generic parameter in Kotlin?", "body": "<p>Due to <a href=\"http://en.wikipedia.org/wiki/Generics_in_Java#Type_erasure\" rel=\"nofollow noreferrer\">type erasure</a>, actual generic arguments cannot be obtained through <code>T::class</code> token of a generic class. Different objects of a class must have the same class token, that's why it cannot contain actual generic arguments.</p>\n\n<p>But there is a techinque called <a href=\"http://gafter.blogspot.ru/2006/12/super-type-tokens.html\" rel=\"nofollow noreferrer\">super type tokens</a> which can give actual type arguments in case when the type is known at compile time (it is true for reified generics in Kotlin because of inlining).</p>\n\n<hr>\n\n<p><strong>Edit</strong>: Since Kotlin 1.3.50, following the technique described below to get type information for a reified type parameter is no longer necessary. Instead, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html\" rel=\"nofollow noreferrer\"><code>typeOf&lt;T&gt;()</code></a> on reified type parameters.</p>\n\n<hr>\n\n<p>The trick is that the compiler retains actual type arguments for a non-generic class derived from a generic class (all its instances will have the same arguments, good explanation <a href=\"https://stackoverflow.com/questions/23401848/why-is-anonymous-class-required-in-super-type-token-pattern-in-java\">here</a>). They are accessible through <code>clazz.genericSuperClass.actualTypeArguments</code> of a <code>Class&lt;*&gt;</code> instance.</p>\n\n<p>Given all that, you can write a util class like this:</p>\n\n<pre><code>abstract class TypeReference&lt;T&gt; : Comparable&lt;TypeReference&lt;T&gt;&gt; {\n    val type: Type = \n        (javaClass.genericSuperclass as ParameterizedType).actualTypeArguments[0]\n\n    override fun compareTo(other: TypeReference&lt;T&gt;) = 0\n}\n</code></pre>\n\n<p><sup>Explained in <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/type/TypeReference.java\" rel=\"nofollow noreferrer\">Jackson TypeReference</a> which uses the same approach. Jackson Kotlin module <a href=\"https://github.com/FasterXML/jackson-module-kotlin/blob/8ab36da8ba1115d0ef1c2ff20a2f6b1a221fdf73/src/main/kotlin/com/fasterxml/jackson/module/kotlin/Extensions.kt\" rel=\"nofollow noreferrer\">uses it</a> on reified generics.</sup></p>\n\n<p>After that, in an inline function with a reified generic, <code>TypeReference</code> needs to be subclassed (an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> will go), and then its <code>type</code> can be used.</p>\n\n<p>Example:</p>\n\n<pre><code>inline fun &lt;reified T: Any&gt; printGenerics() {\n    val type = object : TypeReference&lt;T&gt;() {}.type\n    if (type is ParameterizedType)\n        type.actualTypeArguments.forEach { println(it.typeName) }\n}\n</code></pre>\n\n<p><code>printGenerics&lt;HashMap&lt;Int, List&lt;String&gt;&gt;&gt;()</code>:    </p>\n\n<blockquote>\n<pre><code>java.lang.Integer\njava.util.List&lt;? extends java.lang.String&gt;\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2902, "user_id": 1421435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o99uu.jpg?s=128&g=1", "display_name": "Shivanand Darur", "link": "https://stackoverflow.com/users/1421435/shivanand-darur"}, "is_accepted": false, "score": -1, "last_activity_date": 1564133388, "creation_date": 1564133388, "answer_id": 57217073, "question_id": 36253310, "link": "https://stackoverflow.com/questions/36253310/how-to-get-actual-type-arguments-of-a-reified-generic-parameter-in-kotlin/57217073#57217073", "title": "How to get actual type arguments of a reified generic parameter in Kotlin?", "body": "<p>If you are using gson library already in the project(for example json parsing). It provides a class for this. <code>com.google.gson.reflect.TypeToken()</code>.\nSo you could use something like,</p>\n\n<pre><code> f(object : TypeToken&lt;List&lt;Integer&gt;&gt;() {}.type)\n\n</code></pre>\n"}], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7752, "favorite_count": 8, "accepted_answer_id": 36253311, "answer_count": 2, "score": 27, "last_activity_date": 1590663728, "creation_date": 1459116826, "last_edit_date": 1459119473, "question_id": 36253310, "link": "https://stackoverflow.com/questions/36253310/how-to-get-actual-type-arguments-of-a-reified-generic-parameter-in-kotlin", "title": "How to get actual type arguments of a reified generic parameter in Kotlin?", "body": "<p>Using <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\">reified type parameters</a>, one can write an inline function which works with the type parameter through reflection at runtime:</p>\n\n<pre><code>inline fun &lt;reified T: Any&gt; f() {\n    val clazz = T::class\n    // ...\n}\n</code></pre>\n\n<p>But when <code>f</code> is called with a parameter which is itself a generic class, there seems to be no way to obtain its actual type arguments through <code>T::class</code>:</p>\n\n<pre><code>f&lt;List&lt;Integer&gt;&gt;() // T::class is just kotlin.collections.List\n</code></pre>\n\n<p>Is there a way to get actual type arguments of a reified generic through reflection?</p>\n"}, {"tags": ["javascript", "jquery", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 11, "creation_date": 1459149303, "post_id": 36250680, "comment_id": 60144202, "body": "The short answer is that you should wait until at least Kotlin 1.1. The work on the Kotlin JS backend was suspended before 1.0 and is being resumed now. If you try to use the JS support in its current state, you may manage to get something running, but you&#39;ll encounter many problems. Once the JS support is more complete, there will be much better docs, IDE support and everything else you might need."}, {"owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1459150840, "post_id": 36250680, "comment_id": 60144828, "body": "Alright, than I guess I&#39;ll wait and stick to the JVM backend for now. Thanks!"}, {"owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1485797164, "post_id": 36250680, "comment_id": 71063787, "body": "Kotlin 1.1 is announced to offer full support of compilation to JavaScript <a href=\"https://blog.jetbrains.com/kotlin/2017/01/kotlin-1-1-beta-is-here\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2017/01/kotlin-1-1-beta-is-here</a>"}, {"owner": {"reputation": 390, "user_id": 181010, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58e3c4aa7693072f34938c9ddf207704?s=128&d=identicon&r=PG", "display_name": "maxmil", "link": "https://stackoverflow.com/users/181010/maxmil"}, "edited": false, "score": 2, "creation_date": 1490339405, "post_id": 36250680, "comment_id": 73077419, "body": "It&#39;s here! <a href=\"http://kotlinlang.org/docs/reference/js-overview.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/js-overview.html</a>. There is also a library for integration with React being developed by the Kotlin team that will be open sourced soon."}, {"owner": {"reputation": 14080, "user_id": 1253156, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/EqBbg.png?s=128&g=1", "display_name": "Patrick Hund", "link": "https://stackoverflow.com/users/1253156/patrick-hund"}, "edited": false, "score": 0, "creation_date": 1494014908, "post_id": 36250680, "comment_id": 74665402, "body": "Please note that asking for external resources is off-topic for Stack Overflow. See <a href=\"http://stackoverflow.com/help/on-topic\">off-topic</a>: <i>Questions asking us to recommend or find a tool, library or favorite off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam.</i>"}, {"owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "edited": false, "score": 0, "creation_date": 1494253622, "post_id": 36250680, "comment_id": 74736280, "body": "Thanks Patrick for your hint. However, the article you&#39;re referencing continues with &quot;Instead, describe the problem and what has been done so far to solve it.&quot;. Well, I guess that&#39;s what I did ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3065813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDQ54.png?s=128&g=1", "display_name": "techprd.com", "link": "https://stackoverflow.com/users/3065813/techprd-com"}, "is_accepted": false, "score": 1, "last_activity_date": 1498383919, "creation_date": 1498383919, "answer_id": 44745108, "question_id": 36250680, "link": "https://stackoverflow.com/questions/36250680/writing-javascript-applications-with-kotlin/44745108#44745108", "title": "Writing javascript applications with Kotlin", "body": "<p>if you're interested to learn about using Kotlin in Node.js app, I've put together a starter project that running a node.js server written in Kotlin.\n<a href=\"https://github.com/techprd/kotlin_node_js_seed\" rel=\"nofollow noreferrer\">https://github.com/techprd/kotlin_node_js_seed</a></p>\n\n<p>The aim of this project is to write a full stack web application written entirely with Kotlin JS </p>\n\n<p>let me know what you guys think about this...</p>\n"}, {"tags": [], "owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "is_accepted": true, "score": 1, "last_activity_date": 1517660078, "last_edit_date": 1517660078, "creation_date": 1516116909, "answer_id": 48284806, "question_id": 36250680, "link": "https://stackoverflow.com/questions/36250680/writing-javascript-applications-with-kotlin/48284806#48284806", "title": "Writing javascript applications with Kotlin", "body": "<p>Meanwhile Kotlin/JS is available in version 1.2 and there is an <a href=\"https://kotlinlang.org/docs/reference/js-overview.html\" rel=\"nofollow noreferrer\">introduction</a>, <a href=\"https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html\" rel=\"nofollow noreferrer\">tutorial</a> and <a href=\"https://kotlinlang.org/docs/reference/dynamic-type.html\" rel=\"nofollow noreferrer\">reference</a> on the official website.</p>\n"}, {"tags": [], "owner": {"reputation": 5987, "user_id": 1555615, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BwrUZ.jpg?s=128&g=1", "display_name": "Marinos An", "link": "https://stackoverflow.com/users/1555615/marinos-an"}, "is_accepted": false, "score": 0, "last_activity_date": 1576000001, "last_edit_date": 1576000001, "creation_date": 1575999684, "answer_id": 59272747, "question_id": 36250680, "link": "https://stackoverflow.com/questions/36250680/writing-javascript-applications-with-kotlin/59272747#59272747", "title": "Writing javascript applications with Kotlin", "body": "<p>Using the pom below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\n        xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-js&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;    \n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.3.61&lt;/kotlin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;kotlin.compiler.languageVersion&gt;1.3&lt;/kotlin.compiler.languageVersion&gt;\n        &lt;kotlin.compiler.apiVersion&gt;1.3&lt;/kotlin.compiler.apiVersion&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-js&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration/&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                            &lt;id&gt;compile&lt;/id&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;js&lt;/goal&gt;\n                            &lt;/goals&gt;                        \n                            &lt;configuration&gt;\n                                &lt;sourceDirs&gt;\n                                  &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;/sourceDirs&gt;\n                                &lt;moduleKind&gt;umd&lt;/moduleKind&gt;\n                            &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;                                    \n        &lt;/plugins&gt;        \n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Inside <code>src/main/kotlin</code> you can add <code>Hello.kt</code> containing a <code>fun main(args : Array&lt;String&gt;){println(\"hello\")}</code></p>\n\n<p>then the following would print <code>hello</code></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean package\ncd target\nnpm i kotlin\nnode js/kotlin-js.js\n</code></pre>\n\n<p>or you can add a non-main method and then use <code>require()</code> from other js code  or add it to the browser using <code>&lt;script&gt;</code> (together with <code>kotlin</code> runtime).</p>\n"}], "owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3803, "favorite_count": 5, "accepted_answer_id": 48284806, "answer_count": 3, "score": 20, "last_activity_date": 1576000001, "creation_date": 1459101458, "last_edit_date": 1495540976, "question_id": 36250680, "link": "https://stackoverflow.com/questions/36250680/writing-javascript-applications-with-kotlin", "title": "Writing javascript applications with Kotlin", "body": "<p>I recently started to have a look at Kotlin and managed to create my first JVM applications. It's so cool to have a single language that compiles both to Java and JS. So, now I started playing with Kotlin2js and tried to understand the Javascript interoperability, and the possibilities to use JS frameworks like jQuery.</p>\n\n<p>I found a couple of blog posts and examples:\n<a href=\"http://blog.jetbrains.com/kotlin/2013/10/writing-kotlin-in-the-browser/\" rel=\"noreferrer\">http://blog.jetbrains.com/kotlin/2013/10/writing-kotlin-in-the-browser/</a>\n<a href=\"http://blog.jetbrains.com/kotlin/2014/12/javascript-interop/\" rel=\"noreferrer\">http://blog.jetbrains.com/kotlin/2014/12/javascript-interop/</a>\n<a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/test/resources/testProject/kotlin2JsProject/mainProject/src/main/kotlin/example/main.kt\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/test/resources/testProject/kotlin2JsProject/mainProject/src/main/kotlin/example/main.kt</a></p>\n\n<p><strong>Is there a documentation of the Kotlin JS library?</strong>\nIt's not yet mentioned at <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"noreferrer\">http://kotlinlang.org/api/latest/jvm/stdlib/index.html</a></p>\n\n<p>I first compiled a simple sample app which used <code>import kotlin.browser.*</code> with gradle as build system which (finally and with <a href=\"https://stackoverflow.com/questions/36226278/setup-kotlin-project-with-gradle\">some help here</a> worked, thanks again!). Than I imported the project into IDEA and suddenly it didn't compile anymore, I had to change the import to <code>import js.dom.html.*</code>. So, I guess it uses a different version of library? (And IDEA added <code>apply plugin: 'kotlin'</code> to my build.gradle in addition to kotlin2js and I guess this doesn't work.)</p>\n\n<p>IDEA copied kotlin-jslib.jar to lib which says it's \"Implementation-Version: 0.7.270\" in its Manifest. For the compilation with gradle I used kotlin 1.0.1-1 and I'm pretty sure that I also selected this version in IDEA when creating the project.</p>\n\n<p><strong>So, what are the best sources of information to understand Kotlin2js and the Kotlin-js-lib?</strong>\nEspecially the Javascript interoperability, how to use Frameworks like jQuery (it seems that there is jQuery support in the kotlin-js-lib), but also, how I can use other frameworks that don't come with Kotlin support yet. I understood that Kotlin has the <code>dynamic</code> keyword, and <a href=\"http://blog.jetbrains.com/kotlin/2014/12/javascript-interop/\" rel=\"noreferrer\">http://blog.jetbrains.com/kotlin/2014/12/javascript-interop/</a> mentioned noImpl which lead to a compile error when I tried to use it.\nMaybe the best way for now is to look at the Kotlin sources?</p>\n\n<p>Well, this is a rather long and unstructured question covering several aspects, but that's my current state of learning Kotlin :-) And maybe others experience the same problem.</p>\n"}, {"tags": ["eclipse", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 14359, "user_id": 243991, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a11af2fdbb73a5b23029ce3c1a94cade?s=128&d=identicon&r=PG", "display_name": "Peter Kriens", "link": "https://stackoverflow.com/users/243991/peter-kriens"}, "edited": false, "score": 0, "creation_date": 1459357594, "post_id": 36259756, "comment_id": 60253961, "body": "Thanks. Any way to trigger this creation of those classes from the outside?"}, {"owner": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "reply_to_user": {"reputation": 14359, "user_id": 243991, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a11af2fdbb73a5b23029ce3c1a94cade?s=128&d=identicon&r=PG", "display_name": "Peter Kriens", "link": "https://stackoverflow.com/users/243991/peter-kriens"}, "edited": false, "score": 0, "creation_date": 1459808057, "post_id": 36259756, "comment_id": 60443220, "body": "Unfortunately, this is also not possible for now."}, {"owner": {"reputation": 14359, "user_id": 243991, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a11af2fdbb73a5b23029ce3c1a94cade?s=128&d=identicon&r=PG", "display_name": "Peter Kriens", "link": "https://stackoverflow.com/users/243991/peter-kriens"}, "edited": false, "score": 1, "creation_date": 1460221762, "post_id": 36259756, "comment_id": 60645175, "body": "But you can run the application so the class files must already be generated somehow? Is there really no way to capture them?"}], "tags": [], "owner": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "is_accepted": true, "score": 7, "last_activity_date": 1459158950, "last_edit_date": 1459158950, "creation_date": 1459158426, "answer_id": 36259756, "question_id": 36248021, "link": "https://stackoverflow.com/questions/36248021/output-folder-of-the-kotlin-compiler-in-eclipse/36259756#36259756", "title": "Output folder of the Kotlin compiler in Eclipse", "body": "<p>Currently, this is not possible in the Kotlin Eclipse plugin.</p>\n\n<p>To make it possible that Kotlin code can be used from Java, Kotlin plugin produce so-called lightweight class files to this folder. These class files do not contain bodies for methods and they are stored in memory. </p>\n\n<p>Actual class files, that are used to run an application, are being built only before launch and they are produced to the default output folder. For now, we cannot produce class files on each save reasonably fast as there is no incremental compilation in the <a href=\"https://youtrack.jetbrains.com/issue/KT-10361\" rel=\"noreferrer\">plugin</a> yet:\nFeel free to upvote for this issue.</p>\n"}, {"tags": [], "owner": {"reputation": 1910, "user_id": 283519, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e60903f1cfe943d420b047006475e66?s=128&d=identicon&r=PG", "display_name": "pwes", "link": "https://stackoverflow.com/users/283519/pwes"}, "is_accepted": false, "score": 2, "last_activity_date": 1469011877, "creation_date": 1469011877, "answer_id": 38479226, "question_id": 36248021, "link": "https://stackoverflow.com/questions/36248021/output-folder-of-the-kotlin-compiler-in-eclipse/38479226#38479226", "title": "Output folder of the Kotlin compiler in Eclipse", "body": "<p>From the short analysis of the code of Kotlin plugin, it looks like the proper method is <a href=\"https://github.com/JetBrains/kotlin-eclipse/blob/0.7.1/kotlin-eclipse-core/src/org/jetbrains/kotlin/core/compiler/KotlinCompiler.java#L48\" rel=\"nofollow\"><code>KotlinCompiler.compileKotlinFiles</code></a>. It is being called in two contexts:</p>\n\n<ol>\n<li><a href=\"https://github.com/JetBrains/kotlin-eclipse/blob/0.7.1/kotlin-eclipse-ui/src/org/jetbrains/kotlin/ui/builder/KotlinBuilder.kt#L57\" rel=\"nofollow\"><code>KotlinBuilder.build</code></a> \u2014 this is the one called on the project build; it makes a call stack trick (or rather a hack...) to check if being called from the <code>LaunchConfigurationDelegate</code>, and depending on the results, either compiles whole project (via its own private fun <code>compileKotlinFiles</code>), or just makes stubs in memory.</li>\n<li><a href=\"https://github.com/JetBrains/kotlin-eclipse/blob/0.7.1/kotlin-eclipse-core/src/org/jetbrains/kotlin/core/compiler/KotlinCompilerUtils.java#L31\" rel=\"nofollow\"><code>KotlinCompilerUtils.compileWholeProject</code></a> \u2014 this is in fact being called from 1.; nice static method, perfect for abuse until the problem is correctly solved in the plugin. :)</li>\n</ol>\n\n<p>So, I'd use the method from 2. wrapped in a similar way as <code>compileKotlinFiles</code> from file in 1.</p>\n"}], "owner": {"reputation": 14359, "user_id": 243991, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a11af2fdbb73a5b23029ce3c1a94cade?s=128&d=identicon&r=PG", "display_name": "Peter Kriens", "link": "https://stackoverflow.com/users/243991/peter-kriens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1257, "favorite_count": 3, "accepted_answer_id": 36259756, "answer_count": 2, "score": 9, "last_activity_date": 1469011877, "creation_date": 1459086231, "question_id": 36248021, "link": "https://stackoverflow.com/questions/36248021/output-folder-of-the-kotlin-compiler-in-eclipse", "title": "Output folder of the Kotlin compiler in Eclipse", "body": "<p>The Jetbrains Kotlin compiler in Eclipse outputs to a hidden folder inside the Eclipse compiler plugin. This hidden folder is then made available through the Eclipse Kotlin classpath container.</p>\n\n<p>In bndtools we need a normal file system folder since bnd can run both from the file system as well as in Eclipse. Since the folder is a linked resource there is no known way to translate it outside Eclipse.</p>\n\n<p>Anybody knows how to tell the Kotlin compiler to just output it in the bin folder?</p>\n"}, {"tags": ["thread-safety", "synchronized", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1459087727, "post_id": 36246609, "comment_id": 60126094, "body": "@Ilya are there any plans to make the compiler to support such cases? With <code>mustExecute</code> closure specifier or something?"}], "tags": [], "owner": {"reputation": 10942, "user_id": 18575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318654a786700455b96049d8ac9beb11?s=128&d=identicon&r=PG", "display_name": "Ilya Ryzhenkov", "link": "https://stackoverflow.com/users/18575/ilya-ryzhenkov"}, "is_accepted": true, "score": 17, "last_activity_date": 1459076619, "creation_date": 1459076619, "answer_id": 36246609, "question_id": 36246511, "link": "https://stackoverflow.com/questions/36246511/kotlin-synchronized-makes-compiler-not-to-be-sure-about-the-initialization-of/36246609#36246609", "title": "Kotlin: &quot;synchronized&quot; makes compiler not to be sure about the initialization of a variable", "body": "<p><code>synchronized</code> is just an inline function and compiler doesn't know if lambda will be executed once, or even executed at all. Idiomatic way is to return value from lambda and assign it to the local:</p>\n\n<pre><code>val results =\n  synchronized(preparedStatement) {\n    preparedStatement.clearParameters()\n    preparedStatement.setInt(1,value1);\n    preparedStatement.setInt(2,value2)\n    preparedStatement.executeQuery()\n  }\n</code></pre>\n"}], "owner": {"reputation": 1203, "user_id": 4342515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_oRpj7EPDWQ/AAAAAAAAAAI/AAAAAAAAAGE/Ai1BO27JJIs/photo.jpg?sz=128", "display_name": "Mario", "link": "https://stackoverflow.com/users/4342515/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1927, "favorite_count": 1, "accepted_answer_id": 36246609, "answer_count": 1, "score": 7, "last_activity_date": 1459164464, "creation_date": 1459075884, "last_edit_date": 1459164464, "question_id": 36246511, "link": "https://stackoverflow.com/questions/36246511/kotlin-synchronized-makes-compiler-not-to-be-sure-about-the-initialization-of", "title": "Kotlin: &quot;synchronized&quot; makes compiler not to be sure about the initialization of a variable", "body": "<p>Let's imagine the next piece of Kotlin code that performs some query to a database by means a JDBC connector:</p>\n\n<pre><code>    var results : ResultSet\n    preparedStatement.clearParameters()\n    preparedStatement.setInt(1,value1);\n    preparedStatement.setInt(2,value2)\n    results = preparedStatement.executeQuery()\n    while(results.next()) {\n        // parse results\n    }\n</code></pre>\n\n<p>that compiles without problems. However, when I try to add thread safety to the access to the preparedStatement:</p>\n\n<pre><code>    var results : ResultSet\n    synchronized(preparedStatement) {\n        preparedStatement.clearParameters()\n        preparedStatement.setInt(1,value1);\n        preparedStatement.setInt(2,value2)\n        results = preparedStatement.executeQuery()\n    }\n    while(results.next()) {\n        // parse results\n    }\n</code></pre>\n\n<p>... I got a <em>\"Variable 'results' must be initialized\"</em>. It seems the <code>synchronized</code> block acts as a conditional block, but you can be sure that it will be executed once, before the <code>while</code> block.</p>\n\n<p>I have implemented this same block in Java and I don't get the error. Is this a design/implementation error of Kotlin? Or does it have a good reason to behave like that? </p>\n"}, {"tags": ["kotlin", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 3, "last_activity_date": 1459018407, "creation_date": 1459018407, "answer_id": 36239464, "question_id": 36239422, "link": "https://stackoverflow.com/questions/36239422/moshi-custom-qualifier-annotation-in-kotlin/36239464#36239464", "title": "Moshi custom qualifier annotation in Kotlin", "body": "<p>Please try this syntax:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@field:[HexColor]\noverride var backgroundColor: Int = 0\n</code></pre>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 36239464, "answer_count": 1, "score": 2, "last_activity_date": 1459018407, "creation_date": 1459018242, "question_id": 36239422, "link": "https://stackoverflow.com/questions/36239422/moshi-custom-qualifier-annotation-in-kotlin", "title": "Moshi custom qualifier annotation in Kotlin", "body": "<p>I am having a problem converting some code to kotlin. The annotation for custom qualifier are ignored.\nI define them like this:</p>\n\n<pre><code>class ColorAdapter {\n\n    @ToJson\n    internal fun toJson(@PassDefinitions.HexColor rgb: Int): String {\n        return String.format(\"#%06x\", rgb)\n    }\n\n    @FromJson\n    @PassDefinitions.HexColor\n    internal fun fromJson(rgb: String): Int {\n        return Color.parseColor(rgb)\n    }\n}\n</code></pre>\n\n<p>and trying to use them like this:</p>\n\n<pre><code>@HexColor\noverride var backgroundColor: Int = 0\n</code></pre>\n\n<p>but it just gets ignored.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 3673750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb59d865b8ee722388071d894a96959a?s=128&d=identicon&r=PG&f=1", "display_name": "pjozsef", "link": "https://stackoverflow.com/users/3673750/pjozsef"}, "edited": false, "score": 0, "creation_date": 1459018097, "post_id": 36239295, "comment_id": 60108867, "body": "Wow, I completely forgot to actually invoke the lambda itself. Thanks a lot, it now works without an error!  Also, the &quot;itWorks&quot; method did not raise an error, because the return type of the method was implicit and became the type of the lambda. Now I understand."}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 4, "last_activity_date": 1459031112, "last_edit_date": 1459031112, "creation_date": 1459017676, "answer_id": 36239295, "question_id": 36238930, "link": "https://stackoverflow.com/questions/36238930/assign-lambda-directly-to-inherited-abstract-method-kotlin/36239295#36239295", "title": "Assign lambda directly to inherited abstract method [Kotlin]", "body": "<p>You need to invoke your lambda <code>callback</code> with parameters:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    override fun onReceive(context: Context?, intent: Intent?) = callback(context, intent) // returns Unit\n</code></pre>\n\n<p>This works only because the method's return type becomes <code>(Context?, Intent?) -&gt; Unit</code> (with the method parameters being unused):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    fun itWorks(context: Context?, intent: Intent?) = callback // returns (Context?, Intent?) \u2192 Unit\n</code></pre>\n"}], "owner": {"reputation": 765, "user_id": 3673750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb59d865b8ee722388071d894a96959a?s=128&d=identicon&r=PG&f=1", "display_name": "pjozsef", "link": "https://stackoverflow.com/users/3673750/pjozsef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 36239295, "answer_count": 1, "score": 1, "last_activity_date": 1459031112, "creation_date": 1459015785, "last_edit_date": 1459017978, "question_id": 36238930, "link": "https://stackoverflow.com/questions/36238930/assign-lambda-directly-to-inherited-abstract-method-kotlin", "title": "Assign lambda directly to inherited abstract method [Kotlin]", "body": "<p>I am subclassing a BroadcastReceiver and would like to be able to specify a lambda as an input parameter and assign it directly to be used as the implementation for \"onReceive\". This is how my code looks like:</p>\n\n<pre><code>class Receiver(val callback: (Context?, Intent?) -&gt; Unit): BroadcastReceiver(){\n    override fun onReceive(context: Context?, intent: Intent?) = callback\n\n    fun itWorks(context: Context?, intent: Intent?) = callback\n}\n</code></pre>\n\n<p>I would like to be able to instantiate it like:</p>\n\n<pre><code>val myReceiver = Receiver({context: Context?, intent: Intent?-&gt; {\n    println(\"Intent received: $intent\")\n}})\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>val myReceiver2 = Receiver(::implementationHere)\n</code></pre>\n\n<p>However I get the following error:</p>\n\n<blockquote>\n  <p>Error:(2, 18) Return type of 'onReceive' is not a subtype of the return type of the overridden member 'public abstract fun onReceive(p0: android.content.Context!, p1: android.content.Intent!): kotlin.Unit defined in android.content.BroadcastReceiver'</p>\n</blockquote>\n\n<p>Interestingly, I am not getting an error when assigning this lambda to the \"itWorks\" method. Could you please tell me what's the difference between these two methods? Why does it work with one but not the other? As far as I can tell the signatures are the same in both methods. </p>\n\n<p>(I'm coming from a Java8 background, where (as far as lambdas go) all you care about is to have the same method signature)</p>\n\n<p>Of course this works, but I would prefer the other way:</p>\n\n<pre><code>class Receiver2(val callback: (Context?, Intent?) -&gt; Unit): BroadcastReceiver(){\n    override fun onReceive(context: Context?, intent: Intent?) {\n        callback(context, intent)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1459017180, "post_id": 36238648, "comment_id": 60108540, "body": "And the interface is out of your control? You cannot convert the method in the interface to a property?"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1459017273, "post_id": 36238648, "comment_id": 60108585, "body": "the interface is java"}], "answers": [{"comments": [{"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1459020671, "post_id": 36239899, "comment_id": 60109878, "body": "Thanks for the detailed info!"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1459020568, "creation_date": 1459020568, "answer_id": 36239899, "question_id": 36238648, "link": "https://stackoverflow.com/questions/36238648/modifier-override-is-not-applicable-to-getter/36239899#36239899", "title": "Modifier &#39;override&#39; is not applicable to &#39;getter&#39;", "body": "<p>As of Kotlin 1.0, there is no shorter way: a method <code>getBarCode()</code> in a Java interface needs to be implemented by a method named <code>getBarCode()</code> in Kotlin, not by a property named <code>barCode</code>. </p>\n\n<p>There's <a href=\"https://youtrack.jetbrains.com/issue/KT-6653\" rel=\"noreferrer\">an issue</a> requesting to make it possible to override Java methods with properties; you can vote for it to get notifications of updates.</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 2, "accepted_answer_id": 36239899, "answer_count": 1, "score": 3, "last_activity_date": 1459020568, "creation_date": 1459014287, "question_id": 36238648, "link": "https://stackoverflow.com/questions/36238648/modifier-override-is-not-applicable-to-getter", "title": "Modifier &#39;override&#39; is not applicable to &#39;getter&#39;", "body": "<p>I have something like this in the code</p>\n\n<pre><code>var barCode: BarCode? = null\n</code></pre>\n\n<p>now getBarCode() is defined in the interface - then I get the error that this might be an accidental override. unfortunately this does not work:</p>\n\n<pre><code>var barCode: BarCode? = null\noverride get\n</code></pre>\n\n<p>I could do something like this:</p>\n\n<pre><code>private var barCode: BarCode? = null\n\noverride fun getBarCode(): BarCode? = barCode\nfun setBarCode(barCode: BarCode) {\n    this.barCode = barCode\n}\n</code></pre>\n\n<p>but this looks like way to many likes and verbosity for kotlin - there must be a shorter way - especially as this pattern will repeat multiple times in this class</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 0, "creation_date": 1459178460, "post_id": 36233649, "comment_id": 60158342, "body": "I like how you fit all three possibilities into one code example."}], "tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": true, "score": 30, "last_activity_date": 1459000704, "last_edit_date": 1459000704, "creation_date": 1458984266, "answer_id": 36233649, "question_id": 36232137, "link": "https://stackoverflow.com/questions/36232137/how-to-lazy-initialize-with-a-parameter-in-kotlin/36233649#36233649", "title": "How to Lazy Initialize with a parameter in Kotlin", "body": "<p>You can use any element within the accessible scope, that is constructor parameters, properties, and functions. You can even use other lazy properties, which can be quite useful sometimes. Here are all three variant in a single piece of code.</p>\n\n<pre><code>abstract class Class&lt;V&gt;(viewInterface: V) {\n  private val anotherViewInterface: V by lazy { createViewInterface() }\n\n  val presenter1 by lazy { initializePresenter(viewInterface) }\n  val presenter2 by lazy { initializePresenter(anotherViewInterface) }\n  val presenter3 by lazy { initializePresenter(createViewInterface()) }\n\n  abstract fun initializePresenter(viewInterface: V): T\n\n  private fun createViewInterface(): V {\n    return /* something */\n  }\n}\n</code></pre>\n\n<p>And any top-level functions and properties can be used as well.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10724, "favorite_count": 2, "accepted_answer_id": 36233649, "answer_count": 1, "score": 24, "last_activity_date": 1459000704, "creation_date": 1458971930, "last_edit_date": 1458984652, "question_id": 36232137, "link": "https://stackoverflow.com/questions/36232137/how-to-lazy-initialize-with-a-parameter-in-kotlin", "title": "How to Lazy Initialize with a parameter in Kotlin", "body": "<p>In Kotlin, I could perform Lazy Initialization without Parameter as below declaration.</p>\n\n<pre><code>val presenter by lazy { initializePresenter() }\nabstract fun initializePresenter(): T\n</code></pre>\n\n<p>However, if I have a parameter in my initializerPresenter i.e. <code>viewInterface</code>, how could I pass the parameter into the Lazy Initiallization?</p>\n\n<pre><code>val presenter by lazy { initializePresenter(/*Error here: what should I put here?*/) }\nabstract fun initializePresenter(viewInterface: V): T\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1458944569, "post_id": 36228921, "comment_id": 60089149, "body": "<a href=\"https://kotlinlang.org/docs/reference/extensions.html#scope-of-extensions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 765, "user_id": 3673750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb59d865b8ee722388071d894a96959a?s=128&d=identicon&r=PG&f=1", "display_name": "pjozsef", "link": "https://stackoverflow.com/users/3673750/pjozsef"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1458945277, "post_id": 36228921, "comment_id": 60089389, "body": "Thanks, I must have accidentally missed this part in the docs."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1459086635, "post_id": 36228921, "comment_id": 60125734, "body": "<code>best practices&#47;approaches to store&#47;organize such methods</code> that makes this question very opinion based"}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 11, "last_activity_date": 1495382439, "creation_date": 1495382439, "answer_id": 44098931, "question_id": 36228921, "link": "https://stackoverflow.com/questions/36228921/how-to-organize-kotlin-extension-methods/44098931#44098931", "title": "How to organize Kotlin extension methods", "body": "<p>As far as I am concerned, you should put them into a utility file, as you did in Java code base before.</p>\n\n<p>But mention, you no longer need to put them into a class. Top-level functions are the best choice.</p>\n\n<p>You can refer to the kotlin standard library or some open source projects like <a href=\"https://github.com/Kotlin/anko/\" rel=\"noreferrer\">anko</a>, those would be good examples.</p>\n\n<p>In my case, I put extensions of one class into a file which have the same name of the original file in another package, and use</p>\n\n<pre><code>@JvmMultifileClass\n</code></pre>\n\n<p>to reduce the number of generated class files.</p>\n"}], "owner": {"reputation": 765, "user_id": 3673750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb59d865b8ee722388071d894a96959a?s=128&d=identicon&r=PG&f=1", "display_name": "pjozsef", "link": "https://stackoverflow.com/users/3673750/pjozsef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5971, "favorite_count": 4, "accepted_answer_id": 44098931, "answer_count": 1, "score": 36, "last_activity_date": 1495382439, "creation_date": 1458944150, "last_edit_date": 1459034686, "question_id": 36228921, "link": "https://stackoverflow.com/questions/36228921/how-to-organize-kotlin-extension-methods", "title": "How to organize Kotlin extension methods", "body": "<p>Let's say I have a few extension methods for \"MyClass\".\nMy question is, what's the best practice to organize/store these methods?\nShould they be simply put into a \"MyClassExtensions\" Kotlin file?</p>\n\n<p>I have tried to encapsulate these methods within a class, but after importing the class I couldn't seem to figure out how to use/access the extension methods.</p>\n\n<p>Edit:\nFor clarification, I was not asking for help what to call a file that contains extension methods. I was asking about best practices/approaches to store/organize such methods. Ie. should they be simply put into kotlin files, or should they be encapsulated in a class. I am coming from a Java background, so I'm used to store stuff in classes.</p>\n"}, {"tags": ["oop", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1458935615, "post_id": 36226655, "comment_id": 60085152, "body": "Aside from the conceptual stuff, yes: a private property behaves like a field and is actually compiled to a field, i.e. no accessor methods."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1458935712, "post_id": 36226655, "comment_id": 60085198, "body": "@KirillRakhman, only if it has no custom accessors, of course."}], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 0, "creation_date": 1459255552, "post_id": 36226914, "comment_id": 60195219, "body": "A private property, in Java, IS a private field (under certain conditions). The annotation is only needed to <i>expose</i> a field (make it more visible than private). &quot;access to private properties with default getters and setters is optimized so that no function call overhead is introduced&quot;"}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 1, "last_activity_date": 1458935129, "creation_date": 1458935129, "answer_id": 36226914, "question_id": 36226655, "link": "https://stackoverflow.com/questions/36226655/is-a-private-property-a-field/36226914#36226914", "title": "Is a private &#39;property&#39; a &#39;field&#39;?", "body": "<p>No because \"classes in Kotlin cannot have fields\" (<a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow\">Properties and Fields - Kotlin Programming Language</a>).</p>\n\n<p>In addition, \"if you need to expose a Kotlin property as a field in Java, you need to annotate it with the <code>@JvmField</code> annotation\" (<a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow\">Calling Kotlin from Java - Kotlin Programming Language</a>). It still isn't a field though.</p>\n\n<p>As Kotlin classes do not have fields it is best to always refer to properties as properties.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1459102583, "last_edit_date": 1459102583, "creation_date": 1458935321, "answer_id": 36226971, "question_id": 36226655, "link": "https://stackoverflow.com/questions/36226655/is-a-private-property-a-field/36226971#36226971", "title": "Is a private &#39;property&#39; a &#39;field&#39;?", "body": "<p>You can consider properties as values that you can <em>get</em> (and <em>set</em> for mutable ones), but they can have custom and overridable behaviour and might not be actually stored. So properties are not fields.</p>\n\n<p>In Kotlin, all member properties, <code>private</code> or not, <strong>can have</strong> a <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow\">backing field</a>, but it is not necessary.</p>\n\n<ul>\n<li><p>Property with a backing field:</p>\n\n<pre><code>var counter = 0 \n</code></pre>\n\n<p>Here, <code>0</code> is put into the backing field, and the property <em>behaves like a field</em>: getting a value from it returns the value stored in the field, setting a value to it just stores the value into the backing field. But it's not a field, e.g. for Java it will still be a pair of getter and setter. </p>\n\n<p><sup>Private properties with no custom accessors <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow\">are optimized</a> and compiled into fields to avoid function call overhead, but it's rather an implementation detail, and adding a custom accessor will also change the bytecode that accessing the property is compiled into.</sup></p>\n\n<pre><code>var counter = 0\n    get() = field + 1\n    set(value) { if (value &gt;= 0) field = value }\n</code></pre>\n\n<p>Here again the property has a backing field, but its behaviour is different,  custom accessors <code>get()</code> and <code>set(...)</code> will be executed in statements like <code>counter = something</code> or <code>val x = counter</code>. This is true for accessing the property both from within and from outside the class, and <code>private</code> properties are not different here.</p>\n\n<p>The backing field can be accessed directly only inside the accessors code by a soft keyword <code>field</code>, it is not exposed to the other code. If you want to access the backing value from somewhere else, you have to define another <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow\">backing property</a>. You can expose a backing field to Java code by adding <code>@JvmField</code> annotation to the property (this won't make it accessible from Kotlin).</p></li>\n<li><p>Property without a backing field</p>\n\n<p>When a property has no initializer and has at least <code>get()</code>, it is a property with no backing field:</p>\n\n<pre><code>val time: Long get() = System.currentTimeMillis()\n</code></pre>\n\n<p>No backing field will be generated for it, but you can use another property as a backing property as stated above.</p></li>\n</ul>\n\n<hr>\n\n<p>Properties with no backing field can also be <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"nofollow\">extension properties</a>, which is quite far from <em>fields</em>:</p>\n\n<pre><code>val String.isCapitalized: Boolean get() = length &gt; 0 &amp;&amp; this[0].isUpperCase()     \n</code></pre>\n\n<p>These can also be <code>private</code>, but it will have different semantics.</p>\n"}], "owner": {"reputation": 55477, "user_id": 397991, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zZTWl.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/397991/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 36226971, "answer_count": 2, "score": 4, "last_activity_date": 1461505862, "creation_date": 1458934193, "last_edit_date": 1461505862, "question_id": 36226655, "link": "https://stackoverflow.com/questions/36226655/is-a-private-property-a-field", "title": "Is a private &#39;property&#39; a &#39;field&#39;?", "body": "<p>Looking into <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow\">properties</a> in Kotlin, this concept is a somewhat new to me so I'm curious, is it legitimate to state that a private <code>property</code> is a <code>field</code> (instance variable)?</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 1, "creation_date": 1458933400, "post_id": 36226432, "comment_id": 60084032, "body": "jcenter() is better (uses https)"}, {"owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "edited": false, "score": 0, "creation_date": 1458940646, "post_id": 36226432, "comment_id": 60087579, "body": "@hotkey Thanks for your very quick help!"}, {"owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "edited": false, "score": 1, "creation_date": 1458940819, "post_id": 36226432, "comment_id": 60087653, "body": "As the kotlin version is defined as a property, I can use it in the dependency as well, I guess that&#39;s better to allow future changes: dependencies {     compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; }"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1458949073, "last_edit_date": 1495539960, "creation_date": 1458933311, "answer_id": 36226432, "question_id": 36226278, "link": "https://stackoverflow.com/questions/36226278/setup-kotlin-project-with-gradle/36226432#36226432", "title": "Setup kotlin project with gradle", "body": "<p>The reference is missing the <code>kotlin-stdlib</code> dependency. It is not added automatically.</p>\n\n<p><code>kotlin-gradle-plugin</code> buildscript dependency is only Gradle plugin for Kotlin builds, and it doesn't add any dependencies to your project code. In order to use the standard library, one should add it as a dependency.</p>\n\n<p>Append the following to your <code>build.gradle</code>:</p>\n\n<pre><code>repositories {\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>(<code>jcenter()</code> is needed again, these <code>repositories</code> <a href=\"https://stackoverflow.com/questions/13923766/gradle-buildscript-dependencies\">are different</a> from those in <code>buildscript</code>)</p>\n"}], "owner": {"reputation": 2133, "user_id": 1480587, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QGpb2.jpg?s=128&g=1", "display_name": "Peter T.", "link": "https://stackoverflow.com/users/1480587/peter-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4612, "favorite_count": 2, "accepted_answer_id": 36226432, "answer_count": 1, "score": 8, "last_activity_date": 1458949073, "creation_date": 1458932597, "question_id": 36226278, "link": "https://stackoverflow.com/questions/36226278/setup-kotlin-project-with-gradle", "title": "Setup kotlin project with gradle", "body": "<p>I'm new to kotlin and gradle and tried to set up my very first project:</p>\n\n<p>build.gradle</p>\n\n<pre><code>buildscript {\n   ext.kotlin_version = '1.0.1-1'\n\n   repositories {\n     mavenCentral()\n     jcenter()\n   }\n\n   dependencies {\n     classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n   }\n}\n\napply plugin: \"kotlin\"\n</code></pre>\n\n<p>src\\main\\kotlin\\main.kt</p>\n\n<pre><code>package hello\n\nfun main(args: Array&lt;String&gt;) {\n   println(\"Hello World!\")\n}\n</code></pre>\n\n<p>And I get the error message \"src\\main\\kotlin\\main.kt: (4, 4): Unresolved reference: println\".</p>\n\n<p>The build.gradle file I copied from <a href=\"http://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/using-gradle.html</a></p>\n\n<p>I'd expect that the standard libraries are included automatically - or do I need to add something here?</p>\n\n<p>I'm using gradle 2.12, JDK 1.8. (in case this matters)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 1, "creation_date": 1458914919, "post_id": 36221405, "comment_id": 60074403, "body": "<code>@Suppress(&quot;UNCHECKED_CAST&quot;)</code> works well for IDEA 15.0.4. Just press Alt+Enter on highlighted <code>test as List&lt;String&gt;</code> and use <i>&quot;Suppress &#39;UNCHECKED_CAST&#39; for fun doSomething&quot;</i>"}], "answers": [{"comments": [{"owner": {"reputation": 4983, "user_id": 66620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ea3e6eddef2d610b5ee26a796c4fac7?s=128&d=identicon&r=PG", "display_name": "flodin", "link": "https://stackoverflow.com/users/66620/flodin"}, "edited": false, "score": 0, "creation_date": 1585306931, "post_id": 36221525, "comment_id": 107719090, "body": "@Suppress? What package is that in?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 4983, "user_id": 66620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ea3e6eddef2d610b5ee26a796c4fac7?s=128&d=identicon&r=PG", "display_name": "flodin", "link": "https://stackoverflow.com/users/66620/flodin"}, "edited": false, "score": 1, "creation_date": 1585310326, "post_id": 36221525, "comment_id": 107720584, "body": "@flodin, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-suppress/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/-suppress</a>"}, {"owner": {"reputation": 1512, "user_id": 5132301, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/GUE3k.jpg?s=128&g=1", "display_name": "Sero", "link": "https://stackoverflow.com/users/5132301/sero"}, "edited": false, "score": 0, "creation_date": 1592850503, "post_id": 36221525, "comment_id": 110567131, "body": "Is there a document available anywhere stating all the &quot;suppressables&quot; for kotlin or java?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 50, "last_activity_date": 1534240984, "last_edit_date": 1534240984, "creation_date": 1458914916, "answer_id": 36221525, "question_id": 36221405, "link": "https://stackoverflow.com/questions/36221405/how-can-i-suppress-unchecked-cast-warnings/36221525#36221525", "title": "How can I suppress unchecked cast warnings?", "body": "<p>Adding <code>@Suppress(\"UNCHECKED_CAST\")</code> (also possible through IDEA's <kbd>Alt</kbd>+<kbd>Enter</kbd> menu) to any of <em>statement</em>, <em>function</em>, <em>class</em> and <em>file</em> should help.</p>\n\n<p>Before:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qxbZo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qxbZo.png\" alt=\"enter image description here\"></a></p>\n\n<p>After:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9VUSC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9VUSC.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3121, "user_id": 3699808, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f0af2052e664e9f832421cb56590b935?s=128&d=identicon&r=PG", "display_name": "mhlz", "link": "https://stackoverflow.com/users/3699808/mhlz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12529, "favorite_count": 4, "accepted_answer_id": 36221525, "answer_count": 1, "score": 29, "last_activity_date": 1534240984, "creation_date": 1458914403, "last_edit_date": 1534240953, "question_id": 36221405, "link": "https://stackoverflow.com/questions/36221405/how-can-i-suppress-unchecked-cast-warnings", "title": "How can I suppress unchecked cast warnings?", "body": "<p>Having the following code:</p>\n\n<pre><code>fun doSomething(): List&lt;String&gt; {\n\n    val test: List&lt;*&gt; = arrayListOf(\"test1\", \"test2\")\n\n    return test as List&lt;String&gt;\n}\n</code></pre>\n\n<p>Is there some way to suppress the unchecked cast warning that comes up in the last line? I tried to use the standard Java way <code>@SuppressWarnings(\"unchecked\")</code> at the method level, but it didn't work.</p>\n"}, {"tags": ["gradle", "groovy", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1458909016, "post_id": 36216844, "comment_id": 60071302, "body": "thanks for the answer, but according to this: <a href=\"https://discuss.gradle.org/t/kotlin-groovy-and-java-compilation/14903/2\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/kotlin-groovy-and-java-compilation/1490&zwnj;&#8203;3/2</a> , it seems to be possible. Just don&#39;t know how."}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1458910225, "post_id": 36216844, "comment_id": 60071844, "body": "Why you can&#39;t introduce additional module?"}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 1, "creation_date": 1458915457, "post_id": 36216844, "comment_id": 60074674, "body": "Kotlin is applicant to be primary language in any java/groovy project, because of it&#39;s safety and language features. So adding an additional module (which is super simple) doesn&#39;t look too hard."}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1458948706, "post_id": 36216844, "comment_id": 60090603, "body": "What do you mean with: &quot;Looks like change order of kotlin and groovy tasks enough.&quot; ? How did you manage to change this build order?"}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 2, "creation_date": 1458970772, "post_id": 36216844, "comment_id": 60094938, "body": "In <code>gradle.build</code> i wrote: <code>compileKotlin.dependsOn(compileGroovy)</code>, than i remove <code>compileJava</code> from <code>compileGroovy</code>, because first change intoroduced circular dependenc\u0443: <code>compileGroovy.dependsOn.remove(&#39;compileJava&#39;)</code>."}, {"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1458980817, "post_id": 36216844, "comment_id": 60097009, "body": "Okay, that changes the build order indeed, but you&#39;re right, Kotlin still doesn&#39;t see the compiled classes. Strange."}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 7, "last_activity_date": 1458915099, "last_edit_date": 1458915099, "creation_date": 1458896053, "answer_id": 36216844, "question_id": 36214437, "link": "https://stackoverflow.com/questions/36214437/compile-groovy-and-kotlin/36216844#36216844", "title": "Compile Groovy and Kotlin?", "body": "<p>I think this is not possible to compile Kotlin against Groovy in one module, but you can move Groovy (or Kotlin) in separate module. Groovy will be compiled in jar, and Kotlin now can depend on Groovy code. To help you i wrote simple project, and <a href=\"https://github.com/IRus/kotlin-groovy\" rel=\"nofollow\">publish it</a> on github.</p>\n\n<p><strong>upd 1:</strong></p>\n\n<p>I create new module and project with kotlin and groovy, and inspect tasks dependencies:</p>\n\n<pre><code>./gradlew -m kotlin-groovy:build\n:kotlin-groovy:compileKotlin SKIPPED\n:kotlin-groovy:compileJava SKIPPED\n:kotlin-groovy:compileGroovy SKIPPED\n:kotlin-groovy:processResources SKIPPED\n:kotlin-groovy:classes SKIPPED\n:kotlin-groovy:jar SKIPPED\n:kotlin-groovy:assemble SKIPPED\n:kotlin-groovy:compileTestKotlin SKIPPED\n:kotlin-groovy:compileTestJava SKIPPED\n:kotlin-groovy:compileTestGroovy SKIPPED\n:kotlin-groovy:processTestResources SKIPPED\n:kotlin-groovy:testClasses SKIPPED\n:kotlin-groovy:test SKIPPED\n:kotlin-groovy:check SKIPPED\n:kotlin-groovy:build SKIPPED\n\nBUILD SUCCESSFUL\n\nTotal time: 2.587 secs\n</code></pre>\n\n<p>Looks like change order of kotlin and groovy tasks enough. But if we change steps in this way:</p>\n\n<pre><code>./gradlew -m kotlin-groovy:build\n:kotlin-groovy:compileGroovy SKIPPED\n:kotlin-groovy:compileKotlin SKIPPED\n:kotlin-groovy:compileJava SKIPPED\n:kotlin-groovy:processResources SKIPPED\n:kotlin-groovy:classes SKIPPED\n:kotlin-groovy:jar SKIPPED\n:kotlin-groovy:assemble SKIPPED\n:kotlin-groovy:compileTestKotlin SKIPPED\n:kotlin-groovy:compileTestJava SKIPPED\n:kotlin-groovy:compileTestGroovy SKIPPED\n:kotlin-groovy:processTestResources SKIPPED\n:kotlin-groovy:testClasses SKIPPED\n:kotlin-groovy:test SKIPPED\n:kotlin-groovy:check SKIPPED\n:kotlin-groovy:build SKIPPED\n\nBUILD SUCCESSFUL\n\nTotal time: 2.745 secs\n</code></pre>\n\n<p>Build still doesn't work, because of Kotlin doesn't see Groovy. </p>\n"}, {"comments": [{"owner": {"reputation": 18715, "user_id": 1979703, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c1f76cdf2001aaf3ca7d8e0cc79f324e?s=128&d=identicon&r=PG", "display_name": "Niklas", "link": "https://stackoverflow.com/users/1979703/niklas"}, "edited": false, "score": 1, "creation_date": 1512864005, "post_id": 37851957, "comment_id": 82429480, "body": "This seems to be working for the main sources. However, this workaround does not work for me when I try to reference a Kotlin file in Groovy Testing code. I also tried changing <code>compile[Language]</code> to <code>compileTest[Language</code> and <code>classes</code> to <code>testClasses</code>. It didn&#39;t help either though."}, {"owner": {"reputation": 248, "user_id": 2938293, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3c56e91fe340bfd1bb5be05affda1?s=128&d=identicon&r=PG", "display_name": "Ryan Hendry", "link": "https://stackoverflow.com/users/2938293/ryan-hendry"}, "edited": false, "score": 0, "creation_date": 1520530064, "post_id": 37851957, "comment_id": 85363443, "body": "I was getting an error with this answer. This is what worked for me in the end: <a href=\"https://stackoverflow.com/a/44521266/2938293\">stackoverflow.com/a/44521266/2938293</a>"}, {"owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "reply_to_user": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1521339660, "post_id": 37851957, "comment_id": 85688070, "body": "@JaredBurrows It isn&#39;t possible as far as I can tell in Gradle 4.6. <code>org.gradle.api.internal.tasks.DefaultTaskDependency</code> doesn&#39;t permit removing task dependencies anymore."}, {"owner": {"reputation": 198, "user_id": 1372202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dadFK.jpg?s=128&g=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/1372202/jannik"}, "edited": false, "score": 2, "creation_date": 1539857908, "post_id": 37851957, "comment_id": 92657145, "body": "Yes, for never versions of Gradle), <code>taskDependencies</code> doesn&#39;t work. When upgrading from Gradle 3.1 to 4.10.2, removing this line fixed it: <code>compileKotlin.dependsOn = compileKotlin.taskDependencies.values - &#39;compileJava&#39;</code>  Also, seems <code>classes.dependsOn compileGroovy</code> is no longer needed."}], "tags": [], "owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "is_accepted": true, "score": 29, "last_activity_date": 1550372496, "last_edit_date": 1550372496, "creation_date": 1466060279, "answer_id": 37851957, "question_id": 36214437, "link": "https://stackoverflow.com/questions/36214437/compile-groovy-and-kotlin/37851957#37851957", "title": "Compile Groovy and Kotlin?", "body": "<p>It can be done like so:</p>\n\n<h2>After 4.10</h2>\n\n<p><strong>Kotlin First:</strong></p>\n\n<pre><code>//compileKotlin.dependsOn = compileKotlin.taskDependencies.values - 'compileJava'\ncompileGroovy.dependsOn compileKotlin\ncompileGroovy.classpath += files(compileKotlin.destinationDir)\nclasses.dependsOn compileGroovy\n</code></pre>\n\n<h2>Before 4.10</h2>\n\n<p><strong>Groovy First:</strong></p>\n\n<pre><code>compileGroovy.dependsOn = compileGroovy.taskDependencies.values - 'compileJava'\ncompileKotlin.dependsOn compileGroovy\ncompileKotlin.classpath += files(compileGroovy.destinationDir)\nclasses.dependsOn compileKotlin\n</code></pre>\n\n<p>or <strong>Kotlin First:</strong></p>\n\n<pre><code>compileKotlin.dependsOn = compileKotlin.taskDependencies.values - 'compileJava'\ncompileGroovy.dependsOn compileKotlin\ncompileGroovy.classpath += files(compileKotlin.destinationDir)\nclasses.dependsOn compileGroovy\n</code></pre>\n\n<p>To be clear, you get to choose whether your Kotlin code depends on Groovy or Groovy on Kotlin, but you don't get to have it both ways.</p>\n"}, {"comments": [{"owner": {"reputation": 238, "user_id": 2491459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4yEW.jpg?s=128&g=1", "display_name": "varcharmander", "link": "https://stackoverflow.com/users/2491459/varcharmander"}, "edited": false, "score": 1, "creation_date": 1573755044, "post_id": 57101258, "comment_id": 103997270, "body": "In Gradle 6.0 you cannot remove a dependsOn, but I got this to work with only doing this: <code>compileKotlin.classpath += files(compileGroovy.destinationDir)</code>."}, {"owner": {"reputation": 1334, "user_id": 1447456, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/606d9f69e64fa4eddea4bada8802f7f2?s=128&d=identicon&r=PG", "display_name": "Francisco Albert", "link": "https://stackoverflow.com/users/1447456/francisco-albert"}, "edited": false, "score": 0, "creation_date": 1611876733, "post_id": 57101258, "comment_id": 116599083, "body": "This is really useful.  Is it possible to see an example as well?"}, {"owner": {"reputation": 4003, "user_id": 1278769, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/veyGo.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/1278769/kris"}, "reply_to_user": {"reputation": 1334, "user_id": 1447456, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/606d9f69e64fa4eddea4bada8802f7f2?s=128&d=identicon&r=PG", "display_name": "Francisco Albert", "link": "https://stackoverflow.com/users/1447456/francisco-albert"}, "edited": false, "score": 1, "creation_date": 1612019758, "post_id": 57101258, "comment_id": 116638482, "body": "@FranciscoAlbert We moved from Groovy to Kotlin with our application last year. During the transition period we had to support both languages. After some initial setup problems it worked rather smoothly and now all is in Kotlin. If you really want I can tell you more."}], "tags": [], "owner": {"reputation": 4003, "user_id": 1278769, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/veyGo.png?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/1278769/kris"}, "is_accepted": false, "score": 1, "last_activity_date": 1563477158, "creation_date": 1563477158, "answer_id": 57101258, "question_id": 36214437, "link": "https://stackoverflow.com/questions/36214437/compile-groovy-and-kotlin/57101258#57101258", "title": "Compile Groovy and Kotlin?", "body": "<p>For <strong>Gradle 5.2.1</strong> if you want to call Groovy from Kotlin:</p>\n\n<pre><code>compileGroovy.dependsOn.remove('compileJava')\ncompileKotlin.dependsOn compileGroovy\ncompileKotlin.classpath += files(compileGroovy.destinationDir)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "edited": false, "score": 2, "creation_date": 1581549179, "post_id": 59418448, "comment_id": 106476559, "body": "So, beautiful! Thanks for highlighting this from release notes."}, {"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 0, "creation_date": 1584437392, "post_id": 59418448, "comment_id": 107429441, "body": "With gradle-6.2.2 I cound not adapt your configuration to the scenario where groovy test code depends on kotlin test code. The recommendation <a href=\"https://stackoverflow.com/a/56128450/4774054\">in this answer</a> however works perfectly: <code>compileTestGroovy.classpath += files(compileTestKotlin.destinationDir)</code>"}], "tags": [], "owner": {"reputation": 5410, "user_id": 1191727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684ae4319fded1d947c5f7181b28b944?s=128&d=identicon&r=PG", "display_name": "chalimartines", "link": "https://stackoverflow.com/users/1191727/chalimartines"}, "is_accepted": false, "score": 4, "last_activity_date": 1595280656, "last_edit_date": 1595280656, "creation_date": 1576800974, "answer_id": 59418448, "question_id": 36214437, "link": "https://stackoverflow.com/questions/36214437/compile-groovy-and-kotlin/59418448#59418448", "title": "Compile Groovy and Kotlin?", "body": "<p>When Gradle 6.1 is released proposed solutions above will not work. You can use a new way of how to solve the original issue.</p>\n<pre><code>tasks.named('compileGroovy') {\n    // Groovy only needs the declared dependencies\n    // and not the output of compileJava\n    classpath = sourceSets.main.compileClasspath\n}\ntasks.named('compileKotlin') {\n    // Kotlin also depends on the result of Groovy compilation \n    // which automatically makes it depend of compileGroovy\n    classpath += files(sourceSets.main.groovy.classesDirectory)\n}\n</code></pre>\n<p>And with Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.named&lt;GroovyCompile&gt;(&quot;compileGroovy&quot;) {\n    // Groovy only needs the declared dependencies\n    // and not the output of compileJava\n    classpath = sourceSets.main.get().compileClasspath\n}\ntasks.named&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;(&quot;compileKotlin&quot;) {\n    // Kotlin also depends on the result of Groovy compilation \n    // which automatically makes it depend of compileGroovy\n    classpath += files(conventionOf(sourceSets.main.get()).getPlugin(GroovySourceSet::class.java).groovy.classesDirectory)\n}\n\n</code></pre>\n<p><a href=\"https://docs.gradle.org/6.1-rc-1/release-notes.html#compilation-order\" rel=\"nofollow noreferrer\">https://docs.gradle.org/6.1-rc-1/release-notes.html#compilation-order</a></p>\n"}], "owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4475, "favorite_count": 7, "accepted_answer_id": 37851957, "answer_count": 4, "score": 23, "last_activity_date": 1595280656, "creation_date": 1458883012, "last_edit_date": 1458888696, "question_id": 36214437, "link": "https://stackoverflow.com/questions/36214437/compile-groovy-and-kotlin", "title": "Compile Groovy and Kotlin?", "body": "<p>I'm working on a small project with Groovy and Kotlin, and my Kotlin code depends on my Groovy code, not the other way around. However, Kotlin compiles my code first instead of Groovy, and, as a result, I get errors like <code>Unresolved reference: SiteRepository</code></p>\n\n<p>Any suggestions how I can fix this, by either changing the build sequence, or Kotlin depending explicitly on Groovy, or any other suggestion?</p>\n"}, {"tags": ["java", "eclipse", "maven", "kotlin", "aether"], "comments": [{"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1458856814, "post_id": 36210710, "comment_id": 60054642, "body": "Could you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Your code is unlikely to work because it has typos to begin with. You need post something that we can test."}, {"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1458858273, "post_id": 36210710, "comment_id": 60055193, "body": "That said, from the top of my head, you should be using <code>resolveVersionRange</code> with the artifact <code>&quot;org.testng:testng:(0,]&quot;</code> like I showed here <a href=\"http://stackoverflow.com/q/35488167/1743880\">stackoverflow.com/q/35488167/1743880</a>"}, {"owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "reply_to_user": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1458870429, "post_id": 36210710, "comment_id": 60058593, "body": "Ranges are the first thing I tried and they return the same result, 6.9.8 instead of 6.9.10. There are no typos, it&#39;s valid Kotlin. The elided code is just boiler plate creation of a context and a session, using default constructors. I don&#39;t think they will change much to the outcome."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1458891020, "post_id": 36210710, "comment_id": 60063819, "body": "you do have at least one typo, unless the method is actually called &quot;resolveVrsion&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "edited": false, "score": 0, "creation_date": 1458917919, "post_id": 36218487, "comment_id": 60076023, "body": "Thanks. I actually came upon this method which, you are right, is the correct one. I&#39;m now realizing that there are additional parameters to force the resolution to go remote instead of relying on the local XML metadata. I haven&#39;t quite figured everything out yet but I&#39;m on my way. Accepting your answer."}], "tags": [], "owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "is_accepted": true, "score": 3, "last_activity_date": 1458902852, "creation_date": 1458902852, "answer_id": 36218487, "question_id": 36210710, "link": "https://stackoverflow.com/questions/36210710/eclipse-aether-not-resolving-latest-correctly/36218487#36218487", "title": "Eclipse Aether not resolving `LATEST` correctly", "body": "<p>There are two things which might the cause of your problem. First you assume that the magic word <code>LATEST</code> is supported by Aether and if i remember correctly (and looking into the code of Aether it is not supported). This means you should use a version range to get the latest.</p>\n\n<p>Furthermore if you have a version range you need to call <code>resolveVersionRange(...)</code> instead of <code>resolveVersion(..)</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    String versionRange = \"[0,)\";\n\n    Artifact artifact =\n        new DefaultArtifact( \"org.testng:testng:jar:\" + versionRange );\n    VersionRangeRequest rangeRequest = new VersionRangeRequest();\n    rangeRequest.setArtifact( artifact );\n    rangeRequest.setRepositories( remoteRepos );\n\n    VersionRangeResult rangeResult = repository.resolveVersionRange( repositorySystemSession, rangeRequest );\n    List&lt;Version&gt; versions = rangeResult.getVersions();\n</code></pre>\n\n<p>The <a href=\"https://github.com/khmarbaise/uptodate-maven-plugin/blob/master/src/main/java/com/soebes/maven/plugins/uptodate/AbstractUpToDateMojo.java#L95\" rel=\"nofollow\">above is a slightly modified version taken from a plugin</a> i wrote. There is also a <a href=\"https://github.com/eclipse/aether-core/blob/master/aether-api/src/main/java/org/eclipse/aether/artifact/DefaultArtifact.java#L94\" rel=\"nofollow\">ctor of DefaultArtifact which contains only the appropriate parameters</a> which might be a better alternative to use instead of concatenating the strings.</p>\n"}], "owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 36218487, "answer_count": 1, "score": 1, "last_activity_date": 1458902852, "creation_date": 1458856713, "question_id": 36210710, "link": "https://stackoverflow.com/questions/36210710/eclipse-aether-not-resolving-latest-correctly", "title": "Eclipse Aether not resolving `LATEST` correctly", "body": "<p>Eclipse Aether doesn't seem to return the correct release when I try to resolve a <code>LATEST</code> version:</p>\n\n<pre><code>val artifact = DefaultArtifact(\"org.testng:testng:LATEST\")\nval versionResult = system.resolveVrsion(session, VersionRequest(artifact, repositories, null))\nprintln(versionResult)\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>6.9.8 @ maven (https://jcenter.bintray.com/, default, releases+snapshots)\n</code></pre>\n\n<p>However, 6.9.10 is the latest, and JCenter is reporting it correctly, both <a href=\"http://jcenter.bintray.com/org/testng/testng/\" rel=\"nofollow\">in the directory</a> and also in the <code>maven-metadata.xml</code>:</p>\n\n<pre><code>&lt;metadata&gt;\n  &lt;groupId&gt;org.testng&lt;/groupId&gt;\n  &lt;artifactId&gt;testng&lt;/artifactId&gt;\n  &lt;version&gt;6.9.10&lt;/version&gt;\n  &lt;versioning&gt;\n    &lt;latest&gt;6.9.10&lt;/latest&gt;\n    &lt;release&gt;6.9.10&lt;/release&gt;\n</code></pre>\n\n<p>Why am I getting <code>6.9.8</code> instead of <code>6.9.10</code>?</p>\n"}, {"tags": ["kotlin", "scripting"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1458890953, "post_id": 36210011, "comment_id": 60063800, "body": "How exactly are you running the script?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1458898409, "post_id": 36210011, "comment_id": 60066511, "body": "I tried to run a script with IJ run configuration - no luck, same error as here"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1458898420, "post_id": 36210011, "comment_id": 60066515, "body": "Looks like a bug to me"}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1458915544, "post_id": 36210011, "comment_id": 60074724, "body": "@yole I&#39;m running it from IntelliJ like this: <a href=\"http://i.imgur.com/JgHvMfA.png\" rel=\"nofollow noreferrer\">i.imgur.com/JgHvMfA.png</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 7, "last_activity_date": 1458895730, "creation_date": 1458895730, "answer_id": 36216775, "question_id": 36210011, "link": "https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code/36216775#36216775", "title": "Kotlin: Kotlin-script (.kts) cannot use regular code?", "body": "<p>I suggest to use <a href=\"https://github.com/holgerbrandl/kscript\" rel=\"noreferrer\">holgerbrandl/kscript</a> to manage dependencies of your script.</p>\n"}, {"comments": [{"owner": {"reputation": 3386, "user_id": 307735, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4z7bq.jpg?s=128&g=1", "display_name": "clemp6r", "link": "https://stackoverflow.com/users/307735/clemp6r"}, "edited": false, "score": 0, "creation_date": 1574252141, "post_id": 36221769, "comment_id": 104163992, "body": "Even if the bug is marked as &quot;Fixed&quot;, this still does seem to work."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 8, "last_activity_date": 1458915833, "creation_date": 1458915833, "answer_id": 36221769, "question_id": 36210011, "link": "https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code/36221769#36221769", "title": "Kotlin: Kotlin-script (.kts) cannot use regular code?", "body": "<p>This is a bug in the Kotlin plugin: <a href=\"https://youtrack.jetbrains.com/issue/KT-11618\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-11618</a></p>\n"}, {"tags": [], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1498942087, "creation_date": 1498942087, "answer_id": 44865284, "question_id": 36210011, "link": "https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code/44865284#44865284", "title": "Kotlin: Kotlin-script (.kts) cannot use regular code?", "body": "<p>Alternative is using the Kotlin REPL instead.</p>\n"}, {"tags": [], "owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "is_accepted": false, "score": 4, "last_activity_date": 1556191936, "creation_date": 1556191936, "answer_id": 55848301, "question_id": 36210011, "link": "https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code/55848301#55848301", "title": "Kotlin: Kotlin-script (.kts) cannot use regular code?", "body": "<p>There is experimental support for maven imports in Kotlin scripts since 1.3.</p>\n\n<p>Take a look at <a href=\"https://blog.jetbrains.com/kotlin/2018/09/kotlin-1-3-rc-is-here-migrate-your-coroutines/#scripting\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2018/09/kotlin-1-3-rc-is-here-migrate-your-coroutines/#scripting</a>:</p>\n\n<pre><code>@file:Repository(\"https://jcenter.bintray.com\")\n@file:DependsOn(\"org.jetbrains.kotlinx:kotlinx-html-jvm:0.6.11\")\n\nimport kotlinx.html.*\nimport kotlinx.html.stream.*\n\nprint(createHTML().html {\n    body {\n        h1 { +\"Hello, World!\" }\n    }\n})\n</code></pre>\n\n<p>And here is the KEEP: <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md</a>.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3240, "favorite_count": 5, "accepted_answer_id": 36221769, "answer_count": 4, "score": 15, "last_activity_date": 1556191990, "creation_date": 1458853676, "last_edit_date": 1556191990, "question_id": 36210011, "link": "https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code", "title": "Kotlin: Kotlin-script (.kts) cannot use regular code?", "body": "<p>In my library's codebase, I have this package function: <code>fun sayHello() = println(\"Hello there!\")</code><br>\nThe function is defined in the package <code>org.jire.pomade</code></p>\n\n<p>I would like to use this function in a <em>.kts</em> file like so: <code>sayHello()</code></p>\n\n<p>Unfortunately I can't seem to get code apart from Kotlin's own stdlib to work in Kotlin-script files.</p>\n\n<p>The entirety of my script:</p>\n\n<pre><code>import org.jire.pomade.sayHello\n\nsayHello()\n</code></pre>\n\n<p>The result of running the script:</p>\n\n<pre><code>pomade.kts:1:12: error: unresolved reference: jire\nimport org.jire.pomade.sayHello\n           ^\npomade.kts:3:1: error: unresolved reference: sayHello\nsayHello()\n^\n</code></pre>\n\n<p>Anybody know why this is happening? Thanks.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1458824229, "post_id": 36199796, "comment_id": 60034741, "body": "Hmm, your setup seems fine. Could you try two things? 1) explicitly specify return type as <code>Uri</code> for your <code>provides*</code> methods. 2) try qualifier annotation (custom annotation itself annotated with <code>@Qualifier</code> and used in the same way as <code>@Named</code>) instead of <code>@Named</code> to differentiate uri&#39;s."}, {"owner": {"reputation": 221, "user_id": 2507678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMyXH.png?s=128&g=1", "display_name": "Matt Sams", "link": "https://stackoverflow.com/users/2507678/matt-sams"}, "reply_to_user": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1458826397, "post_id": 36199796, "comment_id": 60036232, "body": "@AndroidEx changed per suggestions, see edited post. No difference in result so far!"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1458830359, "post_id": 36199796, "comment_id": 60038971, "body": "I have not seen scopes on fields before. Try removing the scope in <code>@Inject @AppScope @Tag(&quot;Uri1&quot;) lateinit var uri1: Uri</code>, else I have to agree, it looks fine"}, {"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1458834312, "post_id": 36199796, "comment_id": 60041880, "body": "I agree with David on the scope. Plus you don&#39;t need to set retention as it&#39;s runtime by default in kotlin, saves you one line. I&#39;ve also never used qualifier annotations with additional fields in them, e.g. you can create <code>@Uri1</code> and <code>@Uri2</code> annotations and use them..."}, {"owner": {"reputation": 221, "user_id": 2507678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMyXH.png?s=128&g=1", "display_name": "Matt Sams", "link": "https://stackoverflow.com/users/2507678/matt-sams"}, "edited": false, "score": 0, "creation_date": 1458840898, "post_id": 36199796, "comment_id": 60046234, "body": "Thank you for the suggestions insofar David and AndroidEx. Unfortunately the same problem remains. I&#39;ve added a link to the test project repo at GitHub if a fuller context would help: <a href=\"https://github.com/deadpixelsociety/sandbox\" rel=\"nofollow noreferrer\">github.com/deadpixelsociety/sandbox</a>. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 2507678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMyXH.png?s=128&g=1", "display_name": "Matt Sams", "link": "https://stackoverflow.com/users/2507678/matt-sams"}, "edited": false, "score": 1, "creation_date": 1458859009, "post_id": 36211005, "comment_id": 60055461, "body": "You nailed it! After you said that it makes perfect sense. Thank you for the effort!"}, {"owner": {"reputation": 5215, "user_id": 702229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae6e60f46454f2a58e049c5cd302d579?s=128&d=identicon&r=PG", "display_name": "NitroG42", "link": "https://stackoverflow.com/users/702229/nitrog42"}, "edited": false, "score": 0, "creation_date": 1461230477, "post_id": 36211005, "comment_id": 61108437, "body": "The current syntax is  <code>@Inject @AppScope @field:[Named (&quot;Uri1&quot;)] lateinit var uri1: Uri </code> instead of <code>@Inject @AppScope @field:[Uri1] lateinit var uri1: Uri</code>"}, {"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "reply_to_user": {"reputation": 5215, "user_id": 702229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae6e60f46454f2a58e049c5cd302d579?s=128&d=identicon&r=PG", "display_name": "NitroG42", "link": "https://stackoverflow.com/users/702229/nitrog42"}, "edited": false, "score": 0, "creation_date": 1461242037, "post_id": 36211005, "comment_id": 61116872, "body": "@NitroG42 I think you describe a different case, if <code>@Uri1</code> is annotated as <code>@Qualifier</code> then my syntax was correct. That was just an example, and I didn&#39;t specify if I used <code>@Qualifier</code> or <code>@Named</code> annotation, leaving this implementation to the reader."}, {"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 0, "creation_date": 1486037935, "post_id": 36211005, "comment_id": 71180289, "body": "That saved me a ton of time! 10x Just a note: I don&#39;t think the scope annotations are required in the use site."}, {"owner": {"reputation": 364, "user_id": 3238938, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SEynD.jpg?s=128&g=1", "display_name": "Damien Diehl", "link": "https://stackoverflow.com/users/3238938/damien-diehl"}, "edited": false, "score": 0, "creation_date": 1499305969, "post_id": 36211005, "comment_id": 76853433, "body": "Just want to add: <code>lateinit</code> is <i>required</i> here. The error still persists for me if I try to inject into non-lateinit, named vars. Only after converting to lateinit fields am I able to build."}, {"owner": {"reputation": 924, "user_id": 2939453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feCOq.jpg?s=128&g=1", "display_name": "Adam Kis", "link": "https://stackoverflow.com/users/2939453/adam-kis"}, "edited": false, "score": 1, "creation_date": 1553771983, "post_id": 36211005, "comment_id": 97512813, "body": "@AppScope annotation was not necessary in my case"}, {"owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "edited": false, "score": 0, "creation_date": 1571695695, "post_id": 36211005, "comment_id": 103319150, "body": "Thank you very much. I was getting crazy with the error :X"}, {"owner": {"reputation": 1867, "user_id": 3848334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XyhMu.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3848334/david"}, "edited": false, "score": 0, "creation_date": 1583843733, "post_id": 36211005, "comment_id": 107243209, "body": "Update 10/28/19: This was fixed in Dagger v2.25. If you use this version, you can just type what wasn\u2019t working before: <code>@Inject @Uri2 lateinit var uri2: Uri</code>"}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": true, "score": 28, "last_activity_date": 1553865146, "last_edit_date": 1553865146, "creation_date": 1458858129, "answer_id": 36211005, "question_id": 36199796, "link": "https://stackoverflow.com/questions/36199796/dagger-2-named-cannot-be-provided-without-a-provides-method/36211005#36211005", "title": "Dagger 2 Named cannot be provided without a @Provides method", "body": "<p>I think I found the problem (at least I checked out your project and it generated dagger classes correctly). If you need to inject fields annotated with <code>@Named</code> or some <code>@Qualifier</code> annotation you have to use this kind of syntax:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    @Inject lateinit var preferences: SharedPreferences\n    @Inject @field:[Named (\"Uri1\")] lateinit var uri1: Uri // for @Named annotation or...\n    @Inject @field:Uri2 lateinit var uri2: Uri // ...for @Qualifier annotation\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        app().component.inject(this)\n\n        println(uri1)\n        println(uri2)\n    }\n}\n</code></pre>\n\n<p>Notice how <code>@Named</code> / qualifier annotation goes inside <code>@field:</code> (without <code>@</code> itself).</p>\n\n<p>Idea borrowed from this <a href=\"https://github.com/damianpetla/kotlin-dagger-example/blob/master/app/src/main/kotlin/org/loop/example/MainActivity.kt\" rel=\"noreferrer\">repo</a>.</p>\n"}], "owner": {"reputation": 221, "user_id": 2507678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMyXH.png?s=128&g=1", "display_name": "Matt Sams", "link": "https://stackoverflow.com/users/2507678/matt-sams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3225, "favorite_count": 1, "accepted_answer_id": 36211005, "answer_count": 1, "score": 9, "last_activity_date": 1553865146, "creation_date": 1458821187, "last_edit_date": 1592644375, "question_id": 36199796, "link": "https://stackoverflow.com/questions/36199796/dagger-2-named-cannot-be-provided-without-a-provides-method", "title": "Dagger 2 Named cannot be provided without a @Provides method", "body": "<p>Trying to grok Dagger 2 and having an issue with named providers. I have a simple setup as follows:</p>\n<pre><code>// Module\n@Module\nclass AppModule(private val app: App) {\n    @Provides @AppScope fun providesApp() = app\n\n    @Provides @AppScope fun provideSharedPreferences(app: App) = PreferenceManager.getDefaultSharedPreferences(app)\n\n    @Provides @AppScope @Named(&quot;Uri1&quot;) fun providesUri1() = Uri.Builder().scheme(&quot;https&quot;).authority(&quot;authory1&quot;).build()\n\n    @Provides @AppScope @Named(&quot;Uri2&quot;) fun providesUri2() = Uri.Builder().scheme(&quot;https&quot;).authority(&quot;authory2&quot;).build()\n}\n\n// Component\n@AppScope\n@Component(modules = arrayOf(AppModule::class))\ninterface AppComponent {\n    fun inject(target: MainActivity)\n}\n\n// MainActivity\n@Inject @AppScope lateinit var preferences: SharedPreferences\n@Inject @AppScope @Named(&quot;Uri1&quot;) lateinit var uri1: Uri\n@Inject @AppScope @Named(&quot;Uri2&quot;) lateinit var uri2: Uri\n</code></pre>\n<p>When rebuilding my project I am given:</p>\n<pre><code>Error:Gradle: android.net.Uri cannot be provided without an @Provides- or @Produces-annotated method.\n</code></pre>\n<p>I don't understand why adding the Named qualifier doesn't work for me here. If I remove these I can get an instance of SharedPreferences without issue.</p>\n<p>Any insight into what I'm doing wrong would be appreciated!</p>\n<h3>EDIT:</h3>\n<p>Changes per suggestions with the same results as above.</p>\n<pre><code>// New module\n@Module\nclass AppModule(private val app: App) {\n    @Provides @AppScope fun providesApp() = app\n\n    @Provides @AppScope fun provideSharedPreferences(app: App) = PreferenceManager.getDefaultSharedPreferences(app)\n\n    @Provides @AppScope @Tag(&quot;Uri1&quot;) fun providesUri1(): Uri = Uri.Builder().scheme(&quot;https&quot;).authority(&quot;authority1&quot;).build()\n\n    @Provides @AppScope @Tag(&quot;Uri2&quot;) fun providesUri2(): Uri = Uri.Builder().scheme(&quot;https&quot;).authority(&quot;authority2&quot;).build()\n}\n\n// Tag annotation\n@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class Tag(val tag: String = &quot;&quot;)\n\n// MainActivity\n@Inject @AppScope lateinit var preferences: SharedPreferences\n@Inject @AppScope @Tag(&quot;Uri1&quot;) lateinit var uri1: Uri\n@Inject @AppScope @Tag(&quot;Uri2&quot;) lateinit var uri2: Uri\n</code></pre>\n<p><a href=\"https://github.com/deadpixelsociety/sandbox\" rel=\"noreferrer\">Project Repo @ Github</a></p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 6615, "user_id": 4803633, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReFXG.png?s=128&g=1", "display_name": "razzledazzle", "link": "https://stackoverflow.com/users/4803633/razzledazzle"}, "edited": false, "score": 0, "creation_date": 1458789545, "post_id": 36191305, "comment_id": 60019898, "body": "Do you have the imports in place?"}, {"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1458792512, "post_id": 36191305, "comment_id": 60020549, "body": "Which version of studio your are using?"}], "answers": [{"comments": [{"owner": {"reputation": 1576, "user_id": 2686165, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Sqsiz.png?s=128&g=1", "display_name": "Limnic", "link": "https://stackoverflow.com/users/2686165/limnic"}, "edited": false, "score": 0, "creation_date": 1458816649, "post_id": 36193073, "comment_id": 60030031, "body": "Alright thanks, I suppose whatever I did was by accident then. It worked for one class but perhaps it wouldn&#39;t have if I tested it with more classes. Can it be solved by using an extension function instead or will that be the same outcome?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 1576, "user_id": 2686165, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Sqsiz.png?s=128&g=1", "display_name": "Limnic", "link": "https://stackoverflow.com/users/2686165/limnic"}, "edited": false, "score": 0, "creation_date": 1458826672, "post_id": 36193073, "comment_id": 60036405, "body": "No, the outcome will be the same. The dispatch is always static."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1458792144, "creation_date": 1458792144, "answer_id": 36193073, "question_id": 36191305, "link": "https://stackoverflow.com/questions/36191305/kotlin-extension-properties-not-recognized-in-v1-0-1/36193073#36193073", "title": "Kotlin extension properties not recognized in V1.0.1", "body": "<p>Overriding an extension property with a property of a class was not possible in any pre-release version of Kotlin, nor it is possible in 1.0.1. Extension properties are compiled to static methods, and code accessing the extension properties is simply calling the static method; there is no possibility to perform dynamic dispatch based on the type of the receiver.</p>\n\n<p>Without the override, the extension property will work. You need to make sure that you have imported it in the place where you try to access it.</p>\n"}, {"tags": [], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "is_accepted": false, "score": 0, "last_activity_date": 1458793239, "creation_date": 1458793239, "answer_id": 36193234, "question_id": 36191305, "link": "https://stackoverflow.com/questions/36191305/kotlin-extension-properties-not-recognized-in-v1-0-1/36193234#36193234", "title": "Kotlin extension properties not recognized in V1.0.1", "body": "<p>Make sure your <code>gradle</code> look like below :</p>\n\n<pre><code> apply plugin: 'kotlin-android'\n...\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n}\n...\ndependencies {\n    ...\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n...\nbuildscript {\n    ext.kotlin_version = '1.0.0-XYZ'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>Replace <code>$kotlin_version</code> with your kotlin version.</p>\n\n<p><strong>Note:</strong> If you are using <strong>Android Studio 2.0 Preview</strong>, expect some <strong>weir</strong> behaviours in the Plugin, also in some situations it <strong>stop</strong> working, so for now suggest you to use <strong>1.5</strong> version as it\u2019s working as expected.</p>\n\n<p>See <a href=\"https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-1-e0f51fc1a8b3#.1ojc8dhjw\" rel=\"nofollow\">Configuring Android Studio with Kotlin</a></p>\n\n<p>hope its helps you.</p>\n"}], "owner": {"reputation": 1576, "user_id": 2686165, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Sqsiz.png?s=128&g=1", "display_name": "Limnic", "link": "https://stackoverflow.com/users/2686165/limnic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 36193073, "answer_count": 2, "score": 1, "last_activity_date": 1458793239, "creation_date": 1458780057, "last_edit_date": 1458780427, "question_id": 36191305, "link": "https://stackoverflow.com/questions/36191305/kotlin-extension-properties-not-recognized-in-v1-0-1", "title": "Kotlin extension properties not recognized in V1.0.1", "body": "<p>Revisiting some code from a pre-1.0.1 version of Kotlin, it appears that my extension property no longer works. In fact, it still does but I can no longer override it.</p>\n\n<p>Consider this class:</p>\n\n<pre><code>class TestClass {\n\n    override val loggerName: String\n        get() = \"A new name\"\n\n    fun aMethod() {\n        info(\"test info message\")\n    }\n}\n</code></pre>\n\n<p>Pre Kotlin 1.0.1 this would work if you have the following extensions:</p>\n\n<pre><code>val Any.loggerName: String\n    get() = javaClass.simpleName!!\n\nfun Any.info(message: String) {\n    //...\n}\n</code></pre>\n\n<p>loggerName would by default take the class name of the instance in question. Currently, loggerName is correctly assigned to <strong>TestClass</strong> in this case, however I cannot override it.</p>\n\n<p>Is this an accidental bug or a new limitation in this new version of Kotlin? I have searched <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"nofollow\">Kotlin - Extensions</a> but found only that it should work.</p>\n\n<p><strong>Technicals</strong>:</p>\n\n<p>I am testing this in IntelliJ IDEA 2016.1 with Kotlin plugin version 1.0.1-release-IJ143-32.</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>TestClass does not even recognize this property however when accessing an instance of TestClass (example: <code>instanceOfTestClass.loggerName</code>) it is recognized.</p>\n"}]