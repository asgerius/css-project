[{"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444837704, "post_id": 33129314, "comment_id": 54071658, "body": "The only thing I see here at first glance is that you&#39;re using jcenter() and not mavenCentral()"}, {"owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "reply_to_user": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444838099, "post_id": 33129314, "comment_id": 54071923, "body": "@Jeremy Thanks for noting that! I have just tried adding <code>mavenCentral()</code> but it hasn&#39;t helped. I cannot remove jcenter() because otherwise gradle cannot resolve <code>databinding</code> library."}, {"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444838174, "post_id": 33129314, "comment_id": 54071976, "body": "jcenter should be fine as I have that in my project as well. Does your app&#39;s build.gradle also define the following as a top level function : repositories {     mavenCentral()     jcenter() }"}, {"owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "reply_to_user": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444838537, "post_id": 33129314, "comment_id": 54072234, "body": "@Jeremy I&#39;ve just tried adding this and it hasn&#39;t helped as well (after syncing with gradle and cleaning/rebuilding project)."}], "answers": [{"comments": [{"owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "edited": false, "score": 0, "creation_date": 1444871924, "post_id": 33138243, "comment_id": 54087759, "body": "Wow, thanks for the info, I&#39;ll have a look at it tomorrow."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1451933268, "post_id": 33138243, "comment_id": 56940969, "body": "If the reddit link has value, please edit your answer to include the relevant portion as a quote.  As to the &quot;why?&quot; -- It is the version mismatch between the compiler the author of the question is using and the version of the library."}], "tags": [], "owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "is_accepted": true, "score": 2, "last_activity_date": 1444871858, "creation_date": 1444871858, "answer_id": 33138243, "question_id": 33129314, "link": "https://stackoverflow.com/questions/33129314/kotlin-plugin-error-in-android-studio/33138243#33138243", "title": "Kotlin plugin error in android studio", "body": "<p>The current version of the databinding library is using kotlin. I believe the message you are seeing is because the library is using kotlin version 0.12.613.</p>\n\n<p>There was a little bit of discussion about this on <a href=\"https://www.reddit.com/r/androiddev/comments/3egzq5/so_has_google_started_using_kotlin/\" rel=\"nofollow\">reddit</a>.</p>\n\n<p>You can try updating to the most recent version of the databinding library <a href=\"https://bintray.com/android/android-tools/com.android.databinding.dataBinder/1.0-rc4/view\" rel=\"nofollow\">1.0-rc4</a> to see if they've updated to M14 yet.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 1, "last_activity_date": 1451933194, "creation_date": 1451933194, "answer_id": 34597747, "question_id": 33129314, "link": "https://stackoverflow.com/questions/33129314/kotlin-plugin-error-in-android-studio/34597747#34597747", "title": "Kotlin plugin error in android studio", "body": "<p>Other answers cover the basics for this particular library.  But in general:</p>\n\n<p><strong>About the error message...</strong></p>\n\n<p>The \"unsupported format\" error comes when the ABI version number of the class files created by Kotlin does not match the expected used by the Kotlin compiler.  This is no longer an issue with Kotlin 1.0 Betas since the ABI number will not change again for 1.0.  But, there will be one forced recompile at 1.0 release candidate to ensure no old compiler bugs affect libraries or code and everything is rebuilt clean.  Afterwards no issues such as this will exist.</p>\n\n<p>Therefore if a library is not up to date with the same ABI, or hits this last \"1.0 recompile\" you may run into a similar error.  The solution is always to find the updated library.</p>\n\n<p>More about this in the <a href=\"http://blog.jetbrains.com/kotlin/2015/12/kotlin-1-0-beta-4-is-out/\" rel=\"nofollow\">Kotlin 1.0 Beta 4 announcement</a> \"What's Next\" section:</p>\n\n<blockquote>\n  <p>After the Beta period is over, there will an RC and then 1.0.</p>\n  \n  <p>We would really like to make sure that no code compiled with\n  pre-release versions of Kotlin are kept around after 1.0, so the RC\n  compiler will force recompilation of all the old code. We will\n  coordinate with library maintainers outside JetBrains to make sure\n  that all the widely-used libraries will be recompiled in time.</p>\n  \n  <p>We\u2019ll also take the opportunity to remove some legacy at this point:</p>\n  \n  <ul>\n  <li>remove all the deprecations that we have accumulated in the process of evolving our libraries, </li>\n  <li>remove all the deprecations from the generated code (you might not have heard of those, but they exist!),</li>\n  <li>get rid of some legacy bytecode peculiarities that were found during the beta,</li>\n  <li>move some of the stdlib code around so that the packages there have\n  more structure. </li>\n  </ul>\n  \n  <p>After that point, the only compatible changes to the\n  standard library are deprecations and additions (this does not include\n  reflection APIs). We are running an open review for the library API to\n  make sure we haven\u2019t missed anything important.</p>\n</blockquote>\n"}], "owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2418, "favorite_count": 0, "accepted_answer_id": 33138243, "answer_count": 2, "score": 5, "last_activity_date": 1451933194, "creation_date": 1444836003, "last_edit_date": 1444838355, "question_id": 33129314, "link": "https://stackoverflow.com/questions/33129314/kotlin-plugin-error-in-android-studio", "title": "Kotlin plugin error in android studio", "body": "<p>I'm trying to setup kotlin plugin for android studio and following <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow\">this guide</a>. Everything compiles fine and I can use <code>.kt</code> files in my project. However, in every kotlin files android-studio says the following:</p>\n\n<blockquote>\n  <p>Kotlin library 'compiler-1.0-rc1.jar' has an unsupported format. Please update library or plugin</p>\n</blockquote>\n\n<p>How can I remove this warning/error?</p>\n\n<p>Here is my top-level <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.3.0'\n        classpath 'me.tatarka:gradle-retrolambda:3.2.3'\n        classpath \"com.android.databinding:dataBinder:1.0-rc1\"\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:0.14.449'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>Here is my <code>build.gradle</code> in <code>app</code> dir:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n\n    //Ommited for brevity\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile 'org.jetbrains.kotlin:kotlin-stdlib:0.14.449'\n}\n</code></pre>\n\n<p>I'm using Android studio 1.4,<br>\nbuildToolsVersion 23.0.1,<br>\nAndroid studio kotlin plugin version 0.14.449.Idea141.12</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11850, "user_id": 215266, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a8390f51211bcbf7f8df930327ee785?s=128&d=identicon&r=PG", "display_name": "satur9nine", "link": "https://stackoverflow.com/users/215266/satur9nine"}, "edited": false, "score": 13, "creation_date": 1565548722, "post_id": 33129510, "comment_id": 101379888, "body": "There are several big disadvantages to this answer. The first is that the caller can forget to invoke <code>init</code>. The second is that argument is stored in a <code>var</code> meaning it can be changed by mistake later, usually in a singleton you would not want something required during construction to be modified later. The third is that this answer doesn&#39;t even use method chaining which makes it a pain to use."}, {"owner": {"reputation": 1972, "user_id": 7098269, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/SPI6D.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/7098269/ehsan"}, "reply_to_user": {"reputation": 11850, "user_id": 215266, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a8390f51211bcbf7f8df930327ee785?s=128&d=identicon&r=PG", "display_name": "satur9nine", "link": "https://stackoverflow.com/users/215266/satur9nine"}, "edited": false, "score": 0, "creation_date": 1612183370, "post_id": 33129510, "comment_id": 116678517, "body": "This answer is not the best practice to the question, As @satur9nine said"}], "tags": [], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "is_accepted": true, "score": 15, "last_activity_date": 1444836520, "creation_date": 1444836520, "answer_id": 33129510, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/33129510#33129510", "title": "Singleton with argument in Kotlin", "body": "<p>Since objects do not have constructors what I have done the following to inject the values on an initial setup. You can call the function whatever you want and it can be called at any time to modify the value (or reconstruct the singleton based on your needs).</p>\n\n<pre><code>object Singleton {\n    private var myData: String = \"\"\n\n    fun init(data: String)  {\n        myData = data\n    }\n\n    fun singletonDemo() {\n        System.out.println(\"Singleton Data: ${myData}\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 3, "last_activity_date": 1446138114, "creation_date": 1446138114, "answer_id": 33420408, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/33420408#33420408", "title": "Singleton with argument in Kotlin", "body": "<p>There are also two native Kotlin injection libraries that are quite easy to use, and have other forms of singletons including per thread, key based, etc.  Not sure if is in context of your question, but here are links to both:</p>\n\n<ul>\n<li>Injekt (mine, I'm the author): <a href=\"https://github.com/kohesive/injekt\" rel=\"nofollow\">https://github.com/kohesive/injekt</a></li>\n<li>Kodein (similar to Injekt): <a href=\"https://github.com/SalomonBrys/Kodein\" rel=\"nofollow\">https://github.com/SalomonBrys/Kodein</a></li>\n</ul>\n\n<p>Typically in Android people are using a library like this, or Dagger, et al to accomplish parameterizing singletons, scoping them, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 1103, "user_id": 490395, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/382eb01b56c3d4a7156c485cb7b79c7b?s=128&d=identicon&r=PG", "display_name": "jakk", "link": "https://stackoverflow.com/users/490395/jakk"}, "edited": false, "score": 0, "creation_date": 1480194517, "post_id": 40823081, "comment_id": 68865202, "body": "This does the same as Jeremy&#39;s solution, but with different syntax. The singleton is still created without any arguments."}, {"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "reply_to_user": {"reputation": 1103, "user_id": 490395, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/382eb01b56c3d4a7156c485cb7b79c7b?s=128&d=identicon&r=PG", "display_name": "jakk", "link": "https://stackoverflow.com/users/490395/jakk"}, "edited": false, "score": 0, "creation_date": 1480274674, "post_id": 40823081, "comment_id": 68883434, "body": "If you want it to work like a constructor, you can simply return <code>this</code>. I&#39;ve updated the answer demonstrating that."}, {"owner": {"reputation": 1103, "user_id": 490395, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/382eb01b56c3d4a7156c485cb7b79c7b?s=128&d=identicon&r=PG", "display_name": "jakk", "link": "https://stackoverflow.com/users/490395/jakk"}, "edited": false, "score": 3, "creation_date": 1480326111, "post_id": 40823081, "comment_id": 68899418, "body": "Ok, but what prevents you from using the object without ever calling the <code>invoke</code> method?"}], "tags": [], "owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "is_accepted": false, "score": 6, "last_activity_date": 1480274659, "last_edit_date": 1480274659, "creation_date": 1480193903, "answer_id": 40823081, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/40823081#40823081", "title": "Singleton with argument in Kotlin", "body": "<p>Kotlin has a feature called <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">Operator overloading</a>, letting you pass arguments directly to an object.</p>\n\n<pre><code>object DataProviderManager {\n  fun registerDataProvider(provider: String) {\n      //\n  }\n\n  operator fun invoke(context: ApplicationContext): DataProviderManager {\n      //...\n      return this\n  }\n}\n\n//...\nval myManager: DataProviderManager = DataProviderManager(someContext)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 8768273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1938869099463398/picture?type=large", "display_name": "Leandro Castillo Borja", "link": "https://stackoverflow.com/users/8768273/leandro-castillo-borja"}, "is_accepted": false, "score": 1, "last_activity_date": 1563342904, "last_edit_date": 1563342904, "creation_date": 1536474067, "answer_id": 52241902, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/52241902#52241902", "title": "Singleton with argument in Kotlin", "body": "<p>I recommend that you use this form to pass arguments in a singleton in Kotlin debit that the object your constructor is deprived and blocked:</p>\n\n<pre><code>object Singleton {\n\n    fun instance(context: Context): Singleton {\n        return this\n    }\n\n    fun SaveData() {}\n}\n</code></pre>\n\n<p>and you call it this way in the activity</p>\n\n<pre><code>Singleton.instance(this).SaveData()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1103, "user_id": 490395, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/382eb01b56c3d4a7156c485cb7b79c7b?s=128&d=identicon&r=PG", "display_name": "jakk", "link": "https://stackoverflow.com/users/490395/jakk"}, "edited": false, "score": 0, "creation_date": 1572445406, "post_id": 58567248, "comment_id": 103562447, "body": "This is fine, but the main reason for using <code>object</code> would be to eliminate this synchronized singleton creation code."}], "tags": [], "owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "is_accepted": false, "score": 4, "last_activity_date": 1572051711, "creation_date": 1572051711, "answer_id": 58567248, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/58567248#58567248", "title": "Singleton with argument in Kotlin", "body": "<p>With most of the existing answers it's possible to access the class members without having initialized the singleton first. Here's a thread-safe sample that <strong>ensures</strong> that a single instance is created before accessing any of its members.</p>\n\n<pre><code>class MySingleton private constructor(private val param: String) {\n\n    companion object {\n        @Volatile\n        private var INSTANCE: MySingleton? = null\n\n        @Synchronized\n        fun getInstance(param: String): MySingleton = INSTANCE ?: MySingleton(param).also { INSTANCE = it }\n    }\n\n    fun printParam() {\n        print(\"Param: $param\")    \n    }\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>MySingleton.getInstance(\"something\").printParam()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 6737970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lybfo.jpg?s=128&g=1", "display_name": "Duc Thang", "link": "https://stackoverflow.com/users/6737970/duc-thang"}, "is_accepted": false, "score": 0, "last_activity_date": 1609581803, "creation_date": 1609581803, "answer_id": 65537901, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin/65537901#65537901", "title": "Singleton with argument in Kotlin", "body": "<p>If you looking for a base SingletonHolder class with more than one argument. I had created the SingletonHolder generic class, which supports to create only one instance of the singleton class with one argument, two arguments, and three arguments.</p>\n<p><a href=\"https://github.com/tranducthang1505/KotlinUtils/blob/main/SingletonHolder.kts\" rel=\"nofollow noreferrer\">link Github of the base class here</a></p>\n<p><strong>Non-argument (default of Kotlin):</strong></p>\n<pre><code>object AppRepository \n</code></pre>\n<p><strong>One argument (from an example code in the above link):</strong></p>\n<pre><code>class AppRepository private constructor(private val db: Database) {\n    companion object : SingleArgSingletonHolder&lt;AppRepository, Database&gt;(::AppRepository)\n}\n// Use\nval appRepository =  AppRepository.getInstance(db)\n</code></pre>\n<p><strong>Two arguments:</strong></p>\n<pre><code>class AppRepository private constructor(private val db: Database, private val apiService: ApiService) {\n    companion object : PairArgsSingletonHolder&lt;AppRepository, Database, ApiService&gt;(::AppRepository)\n}\n// Use\nval appRepository =  AppRepository.getInstance(db, apiService)\n</code></pre>\n<p><strong>Three arguments:</strong></p>\n<pre><code>class AppRepository private constructor(\n   private val db: Database,\n   private val apiService: ApiService,\n   private val storage : Storage\n) {\n   companion object : TripleArgsSingletonHolder&lt;AppRepository, Database, ApiService, Storage&gt;(::AppRepository)\n}\n// Use\nval appRepository =  AppRepository.getInstance(db, apiService, storage)\n</code></pre>\n<p><strong>More than 3 arguments:</strong></p>\n<p>To implement this case, I suggest creating a config object to pass to the singleton constructor.</p>\n"}], "owner": {"reputation": 1103, "user_id": 490395, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/382eb01b56c3d4a7156c485cb7b79c7b?s=128&d=identicon&r=PG", "display_name": "jakk", "link": "https://stackoverflow.com/users/490395/jakk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11247, "favorite_count": 4, "closed_date": 1612241392, "accepted_answer_id": 33129510, "answer_count": 6, "score": 32, "last_activity_date": 1609581803, "creation_date": 1444832705, "last_edit_date": 1460967417, "question_id": 33128024, "link": "https://stackoverflow.com/questions/33128024/singleton-with-argument-in-kotlin", "closed_reason": "Duplicate", "title": "Singleton with argument in Kotlin", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\">Kotlin reference</a> says that I can create a singleton using the <em>object</em> keyword like so:</p>\n\n<pre><code>object DataProviderManager {\n  fun registerDataProvider(provider: DataProvider) {\n    //\n  }\n}\n</code></pre>\n\n<p>However, I would like to pass an argument to that object. For example an ApplicationContext in an Android project.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1444759137, "post_id": 33109264, "comment_id": 54033365, "body": "I don&#39;t know about kotlin. But in java a switch case constant must be known at compile time. So a final/constant field that is assigned during compile time can not be used in a switch statement."}, {"owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "reply_to_user": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1444760379, "post_id": 33109264, "comment_id": 54034065, "body": "@Pinkie yeah, if I declared <code>CONSTANT_ONE</code> as <code>static final</code> somewhere in java code, I could use it in switch statement. However I don&#39;t know how could I write it in more strict way in Kotlin than it is now."}, {"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 1, "creation_date": 1444766268, "post_id": 33109264, "comment_id": 54037194, "body": "M14 changes state &quot;Since M14 we need to prefix Kotlin constants with const to be able to use them in annotations and see as fields from Java&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2753, "user_id": 57624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f525bca56fcb7107eb4c1138fb57c?s=128&d=identicon&r=PG", "display_name": "Michael Rush", "link": "https://stackoverflow.com/users/57624/michael-rush"}, "edited": false, "score": 0, "creation_date": 1465573622, "post_id": 33112139, "comment_id": 62974102, "body": "Still seeing the error (Constant expression required) in IntelliJ IDEA 2016.1.3 / Kotlin 1.0.2-release-IJ145-10, but it does compile and work for me (odd!)"}, {"owner": {"reputation": 2753, "user_id": 57624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0f525bca56fcb7107eb4c1138fb57c?s=128&d=identicon&r=PG", "display_name": "Michael Rush", "link": "https://stackoverflow.com/users/57624/michael-rush"}, "edited": false, "score": 0, "creation_date": 1465574761, "post_id": 33112139, "comment_id": 62974825, "body": "Looks like a fix is coming in Kotlin 1.0.3: <a href=\"https://youtrack.jetbrains.com/issue/KT-12026\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-12026</a>"}], "tags": [], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "is_accepted": true, "score": 25, "last_activity_date": 1444768510, "creation_date": 1444768510, "answer_id": 33112139, "question_id": 33109264, "link": "https://stackoverflow.com/questions/33109264/using-kotlin-constants-in-java-switch-expression/33112139#33112139", "title": "Using kotlin constants in java switch expression", "body": "<p>M14 changes state \"Since M14 we need to prefix Kotlin constants with const to be able to use them in annotations and see as fields from Java\"</p>\n\n<pre><code>class Service {\n    companion object {\n        const val CONSTANT_ONE = 1\n        const val CONSTANT_TWO = 2\n    }\n}\n</code></pre>\n\n<p>IntelliJ still shows me an error in the Java case but it compiles and works.</p>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 3835455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qdBh3.png?s=128&g=1", "display_name": "Eric Liu", "link": "https://stackoverflow.com/users/3835455/eric-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1496707648, "last_edit_date": 1496707648, "creation_date": 1496583973, "answer_id": 44354737, "question_id": 33109264, "link": "https://stackoverflow.com/questions/33109264/using-kotlin-constants-in-java-switch-expression/44354737#44354737", "title": "Using kotlin constants in java switch expression", "body": "<p>A even more simple solution would be:\nto declare the constants in the 'Kotlin file' instead of 'Kotlin class', which is basically declaring the constants outside the class scope and <strong>they can be referenced anywhere</strong> with proper imports.  </p>\n\n<pre><code>const val CONSTANT_ONE = 1\nconst val CONSTANT_TWO = 2\n\nclass Service {\n}\n</code></pre>\n\n<p>Or if you want something that's similar to <code>private static final int CONSTANT_ONE = 1;</code></p>\n\n<p>You can declare the constants to be private in Kotlin file, and only classes within the same file have accesses to it.</p>\n\n<pre><code>private const val CONSTANT_ONE = 1\nclass A{\n   // can access CONSTANT_ONE\n}\n\nclass B{\n  // can access CONSTANT_ONE\n}\n</code></pre>\n"}], "owner": {"reputation": 3354, "user_id": 4261613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d8f052f9d8434d59270feefcf6cc65d5?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4261613/mikhail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5864, "favorite_count": 2, "accepted_answer_id": 33112139, "answer_count": 2, "score": 15, "last_activity_date": 1496707648, "creation_date": 1444758332, "question_id": 33109264, "link": "https://stackoverflow.com/questions/33109264/using-kotlin-constants-in-java-switch-expression", "title": "Using kotlin constants in java switch expression", "body": "<p>I've been looking into Kotlin lang recently and its interop with java. I have following java code:</p>\n\n<pre><code>public void select(int code) {\n    switch code {\n        case Service.CONSTANT_ONE:\n            break;\n        case Service.CONSTANT_TWO:\n             break;\n        default:\n             break;\n    }\n}\n</code></pre>\n\n<p>Where <code>Service.kt</code> written as follows:</p>\n\n<pre><code>class Service {\n    companion object {\n        val CONSTANT_ONE = 1\n        val CONSTANT_TWO = 2\n    }\n}\n</code></pre>\n\n<p>Java compiler says that CONSTANT_ONE and CONSTANT_TWO must be constants, but I don't know, how I can make them more constant than they are now. So my question is: how to use constants from kotlin in java swicth statement?</p>\n\n<p>I'm using jdk8 and kotlin M14.</p>\n"}, {"tags": ["android", "rx-java", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1444753483, "post_id": 33097400, "comment_id": 54030213, "body": "Did you import the rxRequest function in your main project?"}, {"owner": {"reputation": 436, "user_id": 2124006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3qh8.jpg?s=128&g=1", "display_name": "WangJie", "link": "https://stackoverflow.com/users/2124006/wangjie"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1444789086, "post_id": 33097400, "comment_id": 54045184, "body": "@yole Yes, I import <code>rxRequest</code> function in my <code>main project</code>. When I move the <code>reRequest</code> function to my <code>main project</code>, it work."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452133187, "post_id": 33097400, "comment_id": 57038374, "body": "Did the answer from @juancho help?"}], "answers": [{"tags": [], "owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "is_accepted": false, "score": 1, "last_activity_date": 1449988400, "creation_date": 1449988400, "answer_id": 34248600, "question_id": 33097400, "link": "https://stackoverflow.com/questions/33097400/android-library-can-not-compile-kotlin/34248600#34248600", "title": "Android library can not compile kotlin", "body": "<p>I had the same issue, <strong>I fix it adding all the kotlin dependencies in both modules/projects</strong> and of course make sure to add also the kotlin plugin and setting the kotlin folder to be included in the javaSrc.</p>\n"}], "owner": {"reputation": 436, "user_id": 2124006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3qh8.jpg?s=128&g=1", "display_name": "WangJie", "link": "https://stackoverflow.com/users/2124006/wangjie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1449988400, "creation_date": 1444723821, "last_edit_date": 1444789392, "question_id": 33097400, "link": "https://stackoverflow.com/questions/33097400/android-library-can-not-compile-kotlin", "title": "Android library can not compile kotlin", "body": "<p>My project has two projects: <code>main project</code> and <code>library project</code>.</p>\n\n<p>The <code>main project</code> dependency <code>library project</code>.</p>\n\n<p>Now I want to use <code>kotlin</code> both of them. I had added my <code>common rx extension code</code> into <code>library project</code>:</p>\n\n<pre><code>fun String.rxRequest(@NotNull builder: (Request.Builder) -&gt; Unit): Observable&lt;Response&gt; = Observable.create&lt;Response&gt; {\n  var mBuilder: Request.Builder = Request.Builder().url(this)\n  builder.invoke(mBuilder);\n  it.onNext(HttpClient.create().newCall(mBuilder.build()).execute())\n  it.onCompleted()\n}.subscribeOn(Schedulers.from(THREAD_POOL_NET));\n</code></pre>\n\n<p>And then I call this function in my <code>main project</code>:</p>\n\n<pre><code>\"http://www.xxx.xxx\".rxRequest {\n        val requestBody = FormEncodingBuilder().add(\"code\", code).build()\n        it.post(requestBody)\n                .header(\"XRDid\", appInfo.deviceId)\n    }\n</code></pre>\n\n<p>It build failed:</p>\n\n<p><code>LoginPresenter.kt: Unresolved reference: rxRequest</code></p>\n\n<p><code>library project</code> build success, kotlin .class generated in build folder.</p>\n\n<p>But <code>main project</code> build failed, have no kotlin .class file in build folder. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444664321, "post_id": 33081531, "comment_id": 53986373, "body": "I&#39;m wondering if it&#39;s a semantic issue. Java really resolves to HiddenClass.NestedStaticClass and you could always just reference it the same way in Kotlin."}, {"owner": {"reputation": 11, "user_id": 4173676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJN_kKOfTNs/AAAAAAAAAAI/AAAAAAAABE8/_WKga7-t6wY/photo.jpg?sz=128", "display_name": "Kristian Kl&#252;ver", "link": "https://stackoverflow.com/users/4173676/kristian-kl%c3%bcver"}, "reply_to_user": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444685518, "post_id": 33081531, "comment_id": 53997089, "body": "referencing <code>HiddenClass.NestedStaticClass</code> also does not work"}, {"owner": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "edited": false, "score": 0, "creation_date": 1444826312, "post_id": 33081531, "comment_id": 54063417, "body": "are you going to move all classes to Kotlin or keep java and extend with kotlin?"}, {"owner": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "edited": false, "score": 0, "creation_date": 1444826976, "post_id": 33081531, "comment_id": 54063842, "body": "I tried to reproduce your example and it works with <code>HiddenClass.NestedStaticClass</code> for me"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 4, "creation_date": 1444827276, "post_id": 33081531, "comment_id": 54064057, "body": "The issue is that Kotlin before M15 does not support inheriting nested classes, this will be changed soon. But, incidentally, it won&#39;t support deriving a public class from a non-public one."}, {"owner": {"reputation": 11, "user_id": 4173676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJN_kKOfTNs/AAAAAAAAAAI/AAAAAAAABE8/_WKga7-t6wY/photo.jpg?sz=128", "display_name": "Kristian Kl&#252;ver", "link": "https://stackoverflow.com/users/4173676/kristian-kl%c3%bcver"}, "edited": false, "score": 0, "creation_date": 1444935127, "post_id": 33081531, "comment_id": 54121415, "body": "Cool, I will look forward to M15."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452133591, "post_id": 33081531, "comment_id": 57038490, "body": "So Kristian, do you want to write an answer that shows how this now works in Kotlin 1.0 betas?"}, {"owner": {"reputation": 11, "user_id": 4173676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJN_kKOfTNs/AAAAAAAAAAI/AAAAAAAABE8/_WKga7-t6wY/photo.jpg?sz=128", "display_name": "Kristian Kl&#252;ver", "link": "https://stackoverflow.com/users/4173676/kristian-kl%c3%bcver"}, "edited": false, "score": 0, "creation_date": 1452675279, "post_id": 33081531, "comment_id": 57269434, "body": "M15 did not solve the problem. As of 1.0.0-beta-4584 the example is still not compiling."}, {"owner": {"reputation": 11, "user_id": 4173676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJN_kKOfTNs/AAAAAAAAAAI/AAAAAAAABE8/_WKga7-t6wY/photo.jpg?sz=128", "display_name": "Kristian Kl&#252;ver", "link": "https://stackoverflow.com/users/4173676/kristian-kl%c3%bcver"}, "reply_to_user": {"reputation": 8433, "user_id": 1456931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5b9a171ecc501424c4fb4fa166fe0cf?s=128&d=identicon&r=PG", "display_name": "Damian Petla", "link": "https://stackoverflow.com/users/1456931/damian-petla"}, "edited": false, "score": 0, "creation_date": 1452675425, "post_id": 33081531, "comment_id": 57269513, "body": "@DamianPetla. Using <code>HiddenClass.NestedStaticClass</code> is not working for me. The two java classes <code>HiddenClass</code> and <code>VisibleClass</code> must not be changed, and <code>KotlinClass</code> must extend <code>VisibleClass</code>."}], "owner": {"reputation": 11, "user_id": 4173676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJN_kKOfTNs/AAAAAAAAAAI/AAAAAAAABE8/_WKga7-t6wY/photo.jpg?sz=128", "display_name": "Kristian Kl&#252;ver", "link": "https://stackoverflow.com/users/4173676/kristian-kl%c3%bcver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444653965, "creation_date": 1444653965, "question_id": 33081531, "link": "https://stackoverflow.com/questions/33081531/kotlin-visibility-of-static-nested-java-class-declared-inside-a-non-visible-cla", "title": "Kotlin: Visibility of static nested Java class declared inside a non-visible class", "body": "<p>Using java my static-nested java class is visible, but using Kotlin it is not. See my example below. Is there a good reason it is not allowed, or is it a bug? And are there any workarounds so that I can extend <code>NestedStaticClass</code> from Kotlin?</p>\n\n<p>I have a package-private java class containing the static-nested class</p>\n\n<pre><code>package javapackage;\n\nclass HiddenClass {\n    public static class NestedStaticClass {}\n}\n</code></pre>\n\n<p><code>HiddenClass</code> is extended by a public class.</p>\n\n<pre><code>package javapackage;\n\npublic class VisibleClass extends HiddenClass{}\n</code></pre>\n\n<p>From my java class extending <code>VisibleClass</code>, I can see <code>NestedStaticClass</code> (It compiles)</p>\n\n<pre><code>package otherpackage;\n\nimport javapackage.VisibleClass;\n\npublic class JavaClass extends VisibleClass {\n\n    public static class C4 extends NestedStaticClass {}\n\n    public JavaClass() {\n        new NestedStaticClass();\n    }\n}\n</code></pre>\n\n<p>But from Kotlin this does not work. I get the compile error: \"Unresolved reference NestedStaticClass\"</p>\n\n<pre><code>package otherpackage\n\nimport javapackage.VisibleClass\n\nclass KotlinClass() : VisibleClass() {\n    class C1() : NestedStaticClass()\n\n    init {\n        val v = NestedStaticClass()\n    }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-14"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452133898, "post_id": 33079617, "comment_id": 57038581, "body": "A lot of code in Kotlin calls one extension function from another.  The issue lies in your code, as en error.   You have two incorrect answers so far.  I&#39;ll add a new one."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452134505, "post_id": 33079617, "comment_id": 57038728, "body": "Your accepted answer does not work, can you check it and edit it to be correct, or change to the answer that does?"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1444664437, "post_id": 33083963, "comment_id": 53986452, "body": "In the second function, I try to call the first one. The arguments do not match the second function (so It should not be a recursive call). Anyway, that would be a runtime error, but I&#39;m getting a compile error. Am I missing something?"}, {"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "reply_to_user": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1444665441, "post_id": 33083963, "comment_id": 53987081, "body": "this.replace (&quot;&quot;, &quot;&quot;, parameters) does not match as vararg does not translate to another vararg but an Array. Your first function gives an error saying result.replace(2) is a recursive call and that&#39;s because vararg will match on 0 and pair.first and pair.second are strings while the String.replace(1) function expects a vararg of pairs."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455739149, "post_id": 33083963, "comment_id": 58628694, "body": "You shouldn&#39;t avoid the <code>vararg</code> in the 2nd function, you can add the final boolean parameter to the <code>replace</code> call within the function so that it calls the correct runtime function instead of recursing.   T"}], "tags": [], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "is_accepted": false, "score": 0, "last_activity_date": 1444661034, "creation_date": 1444661034, "answer_id": 33083963, "question_id": 33079617, "link": "https://stackoverflow.com/questions/33079617/compile-error-calling-an-extension-method-from-another-extension-method-in-kotli/33083963#33083963", "title": "Compile error calling an extension method from another extension method in Kotlin", "body": "<p>Your issue is that the first String.replace is recursively calling itself and the primary String.replace is never reached. Also, the vararg in the second is passed to the first as an Array> so calling the second function would never match the first.</p>\n\n<pre><code>fun String.replace(vararg parameters: Pair&lt;String, String&gt;) =\n        this.replace(\"\", \"\", parameters)\n\nfun String.replace(prefix: String, suffix: String, parameters: Array&lt;out Pair&lt;String, String&gt;&gt;) =\n        parameters.fold(this, { result, pair -&gt; result.replace(prefix + pair.first + suffix, pair.second) })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452134016, "post_id": 33136514, "comment_id": 57038615, "body": "This answer is not correct for Kotlin 1.0 betas+ because it causes a recursion within the first method, since the method itself overrides the version trying to be called (varargs can be omitted, so can the 3rd boolean parameter of <code>string.replace(string,string,boolean[optional])</code>)  Therefore the local function wins and is wrong."}, {"owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452162349, "post_id": 33136514, "comment_id": 57050408, "body": "I have to check it with my unit tests... but so far is working in my project with Kotlin 1.0 beta. Anyway, the method sign is <code>String.replace(vararg Pair&lt;String, String&gt;)</code>... so calling it within the same method with two strings in the first place will never resolve to the same method."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452168793, "post_id": 33136514, "comment_id": 57054750, "body": "its the other form of the method that calls itself, in your answer the top one with <code>string, string, vararg: Pair&lt;String, String&gt;</code> calls itself on accident within the <code>fold</code> lambda.   Or maybe on purpose to recurse?  I didn&#39;t look at the logic to see if recursion made sense, but looks like you mean to call <code>string, string, boolean (defaulted)</code> version instead from the stdlib.  If not, let me know because then my answer is wrong.  Also, posting one unit test is useful since it shows intended results.  I&#39;m testing with Kotlin 1.0 beta"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455738924, "post_id": 33136514, "comment_id": 58628549, "body": "Syntax error, this does not compile.  The 2nd function calls <code>replace</code> instead of <code>filter</code>.  It avoids recursion by renaming it to filter instead of keeping the name <code>replace</code> (which would cause accidental recursion in the first method).  You shouldn&#39;t silently make that &quot;fix&quot; without saying why."}], "tags": [], "owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "is_accepted": true, "score": 0, "last_activity_date": 1455739403, "last_edit_date": 1455739403, "creation_date": 1444860846, "answer_id": 33136514, "question_id": 33079617, "link": "https://stackoverflow.com/questions/33079617/compile-error-calling-an-extension-method-from-another-extension-method-in-kotli/33136514#33136514", "title": "Compile error calling an extension method from another extension method in Kotlin", "body": "<p>As I though It was a bug, I searched into the Kotlin issue tracker and found this: <a href=\"https://youtrack.jetbrains.com/issue/KT-2079\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-2079</a></p>\n\n<p>The correct syntax to pass a <code>vararg</code> argument to another function is using an asterisk '*':</p>\n\n<pre><code>fun String.filter (prefix: String, suffix: String, vararg parameters: Pair&lt;String, String&gt;) =\n    parameters.fold(this, { result, pair -&gt; result.replace (prefix + pair.first + suffix, pair.second) })\n\nfun String.filter (vararg parameters: Pair&lt;String, String&gt;) =\n    this.filter(\"\", \"\", *parameters)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1455737803, "post_id": 34646530, "comment_id": 58627825, "body": "Excuse me Jayson, the code I posted is working. It had a problem with the name of the method, so I changed the name for other equivalent one instead making the code more complex. I would appreciate that you edit your post. Even if the code does not work at all, is the first time I see someone saying that their answer is good and the others are bad. The reader should judge that. Thanks for beeing a polite Stackoverflow user!"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1455738473, "post_id": 34646530, "comment_id": 58628259, "body": "@jamming the problem isn&#39;t that your answer is &quot;bad&quot;, it is that it doesn&#39;t compile and therefore is &quot;does not work&quot;.  I left comments about the errors as well to help.  It still does not compile, you have another error.  If people see accepted answers that are invalid, and use them, it is a problem.  So I was trying to help the readers that come along later to avoid frustration."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1455739178, "post_id": 34646530, "comment_id": 58628713, "body": "and yes @jamming I would gladly remove the comment saying the accepted answer is broken, once it is no longer broken.  I left comments for any issue I saw there, including new ones today."}, {"owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "edited": false, "score": 0, "creation_date": 1455739606, "post_id": 34646530, "comment_id": 58628994, "body": "Sorry, you were right. It wasn&#39;t compiling, I should have copied the code from the project I&#39;m using it. Now it is corrected. Thanks for taking the time to check it, I appreciate it!"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1455740012, "last_edit_date": 1455740012, "creation_date": 1452134438, "answer_id": 34646530, "question_id": 33079617, "link": "https://stackoverflow.com/questions/33079617/compile-error-calling-an-extension-method-from-another-extension-method-in-kotli/34646530#34646530", "title": "Compile error calling an extension method from another extension method in Kotlin", "body": "<p>There are other answers, but here are more notes about what is going on and a similar solution follows that keeps the method naming, avoids recursion, and keeps <code>varargs</code> for both method signatures:</p>\n\n<ul>\n<li><p>When passing one varargs to another, you need to use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow\">spread operator</a> because varargs are received as an array, you want to convert them back into a list of parameters and spread operator does just that.</p></li>\n<li><p>The call inside the <code>fold()</code> lambda accidentally calls itself.  Since you call <code>string.replace()</code> with 2 parameters, which version wins?  The version <code>string.replace(String, String, vararg Pair&lt;String,String&gt;)</code> or <code>string.replace(String, String, Boolean[defaulted to false])</code>?  They both look the same when only called with 2 parameters.  And the local one wins and therefore you have recursion.  To force a call to the stdlib replace function, the 3rd parameter defaults to <code>false</code> so pass that value specifically so the correct method signature is found. </p></li>\n</ul>\n\n<p><strong>Working code:</strong></p>\n\n<pre><code>fun String.replace(prefix: String, suffix: String, vararg parameters: Pair&lt;String, String&gt;) {\n    parameters.fold(this) { result, pair -&gt;\n        // add a last parameter to differentiate what version I want called, the one with optional\n        // boolean parameter last (ignoreCase: Boolean = false).  Otherwise this recurses on accident.\n        result.replace(prefix + pair.first + suffix, pair.second, false)\n    }\n}\n\nfun String.replace(vararg parameters: Pair&lt;String, String&gt;) {\n    this.replace (\"\", \"\", *parameters) // add * spread operator\n}\n</code></pre>\n"}], "owner": {"reputation": 1390, "user_id": 973418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d37cb9f616127132eef2ffafebb65280?s=128&d=identicon&r=PG", "display_name": "jaguililla", "link": "https://stackoverflow.com/users/973418/jaguililla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 33136514, "answer_count": 3, "score": 1, "last_activity_date": 1455740012, "creation_date": 1444648124, "question_id": 33079617, "link": "https://stackoverflow.com/questions/33079617/compile-error-calling-an-extension-method-from-another-extension-method-in-kotli", "title": "Compile error calling an extension method from another extension method in Kotlin", "body": "<p>When I try to call an extension method from another extension method (overloading that method) it does not compile in IntelliJ 14.1.5 and Kotlin 0.14.449</p>\n\n<p>As I'm new to the language and in the reference it does not forbid to do so I would like to know:</p>\n\n<ul>\n<li>Is possible to call an extension method from another extension method?</li>\n<li>Is the syntax I'm using correct (and thus this is a bug)?</li>\n<li>If not, what is the correct syntax?</li>\n</ul>\n\n<p>This is the code that does not compile:</p>\n\n<pre><code>fun String.replace (prefix: String, suffix: String, vararg parameters: Pair&lt;String, String&gt;) =\n    parameters.fold(this, { result, pair -&gt; result.replace (prefix + pair.first + suffix, pair.second) })\n\nfun String.replace (vararg parameters: Pair&lt;String, String&gt;) =\n    this.replace (\"\", \"\", parameters)\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "android-espresso", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452134757, "post_id": 33059307, "comment_id": 57038794, "body": "Can you define &quot;code fails&quot; ... an exception, error message, doesn&#39;t do anything, etc."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452201027, "post_id": 33059307, "comment_id": 57076142, "body": "That was by biggest issue: no error whatsoever, just the data being still there. I&#39;ve workaround this by doing the same stick I&#39;ve done before with Robotium <a href=\"https://stackoverflow.com/questions/12125656/robotium-testing-failed-because-of-deletedatabase#comment19606825_12125656\" title=\"robotium testing failed because of deletedatabase%23comment19606825_12125656\">stackoverflow.com/questions/12125656/&hellip;</a>"}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1471298725, "post_id": 33059307, "comment_id": 65282318, "body": "is a problem so;lved?"}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1471514646, "post_id": 33059307, "comment_id": 65381153, "body": "As I said in the comment juste above yours, I&#39;ve used a workaround"}], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1572, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1444513748, "creation_date": 1444513748, "question_id": 33059307, "link": "https://stackoverflow.com/questions/33059307/google-espresso-delete-user-data-on-each-test", "title": "Google Espresso:&#160;delete user data on each test", "body": "<p>I'm looking for a way to delete the database from the app before each test using Google Espresso.</p>\n\n<p>I've got this piece of code in a @Before function (kotlin code):</p>\n\n<pre><code>@Before\nfun setUp() {\n    val appCtx = InstrumentationRegistry.getTargetContext().applicationContext\n    DBPrefsManager.getInstance(appCtx).resetAll()\n    val client = appCtx.contentResolver.acquireContentProviderClient(\"fr.geobert.radis.db\")\n    val provider = client.localContentProvider as DbContentProvider\n    provider.deleteDatabase(appCtx)\n    client.release()\n\n    val i = Intent()\n    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)\n    activityRule.launchActivity(i)\n}\n</code></pre>\n\n<p>It used to work before but I left my part time project for some month and now, after upgrading to API 23 and new testing framework version, all my test can't start because of the \"activityRule.launchActivity(i)\". So I got rid of the last 3 lines and the tests can start again but by delete database code fails one time in two :(</p>\n\n<p>Is there any better way to delete user data before the app is started by the test framework?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 33, "creation_date": 1444565776, "post_id": 33055281, "comment_id": 53948514, "body": "Wish alt+enter on IntelliJ let you import static like it does with Java!"}, {"owner": {"reputation": 756, "user_id": 1405990, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f14477dd001e0c1954cafcbf3f47c12?s=128&d=identicon&r=PG", "display_name": "user1405990", "link": "https://stackoverflow.com/users/1405990/user1405990"}, "edited": false, "score": 1, "creation_date": 1464572090, "post_id": 33055281, "comment_id": 62526512, "body": "Was looking for how to call Mockito&#39;s static when function rather than Kotlin&#39;s when keyword... using back ticks. Thanks :)"}, {"owner": {"reputation": 453, "user_id": 1077411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b4f064bbe5902c1c0b39bd466dc462?s=128&d=identicon&r=PG", "display_name": "Happy Dev", "link": "https://stackoverflow.com/users/1077411/happy-dev"}, "reply_to_user": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 1, "creation_date": 1502847534, "post_id": 33055281, "comment_id": 78365972, "body": "@Jire it does, you just have to put cursor on Mockito then you will have option: &#39;Import members from *&#39;"}, {"owner": {"reputation": 1583, "user_id": 1329427, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4TQGW.jpg?s=128&g=1", "display_name": "Davi Alves", "link": "https://stackoverflow.com/users/1329427/davi-alves"}, "reply_to_user": {"reputation": 453, "user_id": 1077411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b4f064bbe5902c1c0b39bd466dc462?s=128&d=identicon&r=PG", "display_name": "Happy Dev", "link": "https://stackoverflow.com/users/1077411/happy-dev"}, "edited": false, "score": 0, "creation_date": 1504297376, "post_id": 33055281, "comment_id": 78975931, "body": "@HappyDev at least here it will use an wildcard import for that class, and for some (me included) that is not ideal. But thanks for the tip."}], "tags": [], "owner": {"reputation": 1851, "user_id": 4850160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HErtk.png?s=128&g=1", "display_name": "memoizr", "link": "https://stackoverflow.com/users/4850160/memoizr"}, "is_accepted": true, "score": 54, "last_activity_date": 1444488656, "creation_date": 1444488656, "answer_id": 33055281, "question_id": 33055189, "link": "https://stackoverflow.com/questions/33055189/static-method-imports-in-kotlin/33055281#33055281", "title": "Static method imports in Kotlin", "body": "<p>It turns out it's very easy. To import a single static method:</p>\n\n<pre><code>import org.mockito.Mockito.verify\n</code></pre>\n\n<p>And to import everything:</p>\n\n<pre><code>import org.mockito.Mockito.*\n</code></pre>\n\n<p>so it will be possible to do</p>\n\n<pre><code>`when`(someMock.someAction).thenReturn(someResult)\nverify(mock).doSomething()\n</code></pre>\n"}], "owner": {"reputation": 1851, "user_id": 4850160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HErtk.png?s=128&g=1", "display_name": "memoizr", "link": "https://stackoverflow.com/users/4850160/memoizr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13552, "favorite_count": 1, "accepted_answer_id": 33055281, "answer_count": 1, "score": 50, "last_activity_date": 1444488656, "creation_date": 1444488104, "question_id": 33055189, "link": "https://stackoverflow.com/questions/33055189/static-method-imports-in-kotlin", "title": "Static method imports in Kotlin", "body": "<p>How can a method be statically imported in Kotlin? For example, in Java it's possible to do:</p>\n\n<pre><code>...\nimport static org.mockito.Mockito.verify;\n...\nclass FoobarTest {\n     ...\n     @Test public void testFoo() {\n          verify(mock).doSomething();\n     } \n}\n</code></pre>\n\n<p>How can the same be done in Kotlin without having to fully qualify the method every time with <code>Mockito.verify(mock).doSomething()</code>?</p>\n"}, {"tags": ["java", "spring", "jackson", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 20925, "user_id": 1919879, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c7f02af4f361fc398a95f60771ca8e8?s=128&d=identicon&r=PG", "display_name": "luboskrnac", "link": "https://stackoverflow.com/users/1919879/luboskrnac"}, "edited": false, "score": 0, "creation_date": 1444477470, "post_id": 33049162, "comment_id": 53927290, "body": "I would say this question should be asked on <a href=\"http://programmers.stackexchange.com\">programmers.stackexchange.com</a>"}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "reply_to_user": {"reputation": 20925, "user_id": 1919879, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0c7f02af4f361fc398a95f60771ca8e8?s=128&d=identicon&r=PG", "display_name": "luboskrnac", "link": "https://stackoverflow.com/users/1919879/luboskrnac"}, "edited": false, "score": 0, "creation_date": 1444477908, "post_id": 33049162, "comment_id": 53927403, "body": "@ luboskrnac Of the two questions in the bullet points, I think the first one is a SO type question. Perhaps I can move the second one to StackExchange."}], "answers": [{"tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": false, "score": 1, "last_activity_date": 1444760943, "creation_date": 1444760943, "answer_id": 33110022, "question_id": 33049162, "link": "https://stackoverflow.com/questions/33049162/jackson-custom-serializer-or-value-object/33110022#33110022", "title": "Jackson custom serializer or value object?", "body": "<p>Depending on your use case, using dedicated DTOs could be a good idea. Just so you know, you can get more flexibility from Jackson without implementing custom serializers for each scenario - <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring#json-views\" rel=\"nofollow\">Jackson Json Views are now supported in Spring MVC</a> and quite useful. </p>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444760943, "creation_date": 1444438769, "question_id": 33049162, "link": "https://stackoverflow.com/questions/33049162/jackson-custom-serializer-or-value-object", "title": "Jackson custom serializer or value object?", "body": "<p>I'm returning to backend development after a few years focusing on iOS. I've chosen Spring Boot with Kotlin. </p>\n\n<ul>\n<li>I would like to have a domain-centric, general, reusable model objects. </li>\n<li>For service invocations I would like to return use-cases specific responses where the payload in/out is just the information for that particular scenario. (We can call this \"contract-first\" or \"don't spill your guts\")</li>\n</ul>\n\n<p>In the past I might've implemented a service by mapping the information from reusable model objects onto a serializable value object using a framework like <a href=\"https://github.com/DozerMapper/dozer\" rel=\"nofollow\">Dozer</a>. </p>\n\n<p>Alternatively, I was thinking of registering a custom serializer for a given endpoint, as eg Django Rest Framework does. (Not sure how this would work given jackson serializes by annotations). </p>\n\n<p><strong>Questions:</strong></p>\n\n<ul>\n<li>Is there an easy way to use custom serializers with jackson to do what I want? </li>\n<li>Or is it better to continue using the value-object approach I used years ago? </li>\n</ul>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "is_accepted": false, "score": 4, "last_activity_date": 1444413904, "last_edit_date": 1444413904, "creation_date": 1444412266, "answer_id": 33044161, "question_id": 33043744, "link": "https://stackoverflow.com/questions/33043744/how-to-access-members-of-an-inner-object-in-kotlin/33044161#33044161", "title": "How to access members of an inner object in Kotlin", "body": "<p>The problem is that <em>obj</em> is seen as type <em>Any</em> outside of its own scope. This means that only obj can reference its own properties because the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/\" rel=\"nofollow\">Any</a> class doesn't contain any properties.</p>\n\n<p>If instead you had an interface that had a property, and made your object extend that interface and implement the property, you would be able to reference it anywhere that had visibility of that property:</p>\n\n<pre><code>interface FieldHolder {\n  val field: Int\n}\n\nclass Foo {\n  val obj = object: FieldHolder {\n    override val field = 42\n  }\n}\n\nfun foo() {\n  Foo().obj.field // this should now work.\n}\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1744, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1444413904, "creation_date": 1444410552, "last_edit_date": 1444411062, "question_id": 33043744, "link": "https://stackoverflow.com/questions/33043744/how-to-access-members-of-an-inner-object-in-kotlin", "title": "How to access members of an inner object in Kotlin", "body": "<p>I'm not able to access members of an inner object.</p>\n\n<pre><code>class Foo {\n    val obj = object {\n        val field = 42\n    }\n}\n\nfun foo() {\n    Foo().obj.field // unresolved reference field\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1444331811, "post_id": 33023949, "comment_id": 53870756, "body": "because <code>0xFF0000FF</code> is not an integer already, so you have to convert it to an integer if you want your <code>color</code> variable to be that type."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1509350095, "post_id": 33023949, "comment_id": 80966940, "body": "@dubstylee What if I have the same, but for &quot;long&quot; type? converting to long won&#39;t help, no? 0xFF0000FFFF0000FF , for example..."}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452135008, "post_id": 33024884, "comment_id": 57038852, "body": "Partially under KT-2780, but now the rest of it and the part affecting this is under <a href=\"https://youtrack.jetbrains.com/issue/KT-4749\" rel=\"nofollow noreferrer\">KT-4749</a>"}, {"owner": {"reputation": 4341, "user_id": 1152643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/095bf83a49faf8a8c8282020b28dfb5b?s=128&d=identicon&r=PG", "display_name": "Oleg Gryb", "link": "https://stackoverflow.com/users/1152643/oleg-gryb"}, "edited": false, "score": 0, "creation_date": 1528089947, "post_id": 33024884, "comment_id": 88357274, "body": "As of today it&#39;s still a bug in Android/Kotlin ver 1.2.41"}, {"owner": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 0, "creation_date": 1543990095, "post_id": 33024884, "comment_id": 94112142, "body": "Still a bug in Kotlin 1.3.10 :("}, {"owner": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 7, "creation_date": 1543990491, "post_id": 33024884, "comment_id": 94112295, "body": "This S.O. question has thousands of views but these kotlin bugs only have dozens of votes. Please take a minute to vote on these issues, if they impacted you."}, {"owner": {"reputation": 77, "user_id": 7249108, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sa4d9JoF7JI/AAAAAAAAAAI/AAAAAAAAAJQ/xSobqeOd8_Q/photo.jpg?sz=128", "display_name": "mcpiroman", "link": "https://stackoverflow.com/users/7249108/mcpiroman"}, "edited": false, "score": 0, "creation_date": 1591034304, "post_id": 33024884, "comment_id": 109898072, "body": "The related issue now is <a href=\"https://youtrack.jetbrains.com/issue/KT-4749\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-4749</a>"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 36, "last_activity_date": 1444334284, "creation_date": 1444334284, "answer_id": 33024884, "question_id": 33023949, "link": "https://stackoverflow.com/questions/33023949/0xff0000ff-an-integer-literal-does-not-conform-to-the-expected-type-kotlin-int/33024884#33024884", "title": "0xFF0000FF An integer literal does not conform to the expected type kotlin.Int", "body": "<p>This is a bug in the compiler, feel free to vote / watch it: <a href=\"https://youtrack.jetbrains.com/issue/KT-2780\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-2780</a></p>\n"}], "owner": {"reputation": 741, "user_id": 869497, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/070d85efd688d81a6aee4a780c9a5785?s=128&d=identicon&r=PG", "display_name": "Diemex", "link": "https://stackoverflow.com/users/869497/diemex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9014, "favorite_count": 2, "accepted_answer_id": 33024884, "answer_count": 1, "score": 39, "last_activity_date": 1444334284, "creation_date": 1444331016, "question_id": 33023949, "link": "https://stackoverflow.com/questions/33023949/0xff0000ff-an-integer-literal-does-not-conform-to-the-expected-type-kotlin-int", "title": "0xFF0000FF An integer literal does not conform to the expected type kotlin.Int", "body": "<p>Why doesn't this work:</p>\n\n<pre><code>var color: Int = 0xFF0000FF\n</code></pre>\n\n<p>and why do I have to call <code>toInt()</code></p>\n\n<pre><code>var color: Int = 0xFF0000FF.toInt()\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452135062, "post_id": 33023443, "comment_id": 57038863, "body": "can you please move the code into the question and not use a link?  The links can go away, become invalid and any question should be reduced into something that can fit directly here.  Simplify the code so it is small and concise showing what you are asking."}], "answers": [{"comments": [{"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "reply_to_user": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "edited": false, "score": 0, "creation_date": 1444411624, "post_id": 33040097, "comment_id": 53908802, "body": "You&#39;re welcome! There&#39;s also kotterknife and the android extensions library as alternatives too."}, {"owner": {"reputation": 2804, "user_id": 1213197, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/5FAnq.png?s=128&g=1", "display_name": "Oleksii Masnyi", "link": "https://stackoverflow.com/users/1213197/oleksii-masnyi"}, "edited": false, "score": 0, "creation_date": 1446863878, "post_id": 33040097, "comment_id": 54934664, "body": "Or you can use Kotlin Android Extension project and forget about findViewById in Activities and Fragments <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}, {"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 1, "creation_date": 1446863991, "post_id": 33040097, "comment_id": 54934687, "body": "That is true, but it&#39;s not a general solution to the problem of lazy initialization."}], "tags": [], "owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "is_accepted": true, "score": 22, "last_activity_date": 1510156203, "last_edit_date": 1510156203, "creation_date": 1444398848, "answer_id": 33040097, "question_id": 33023443, "link": "https://stackoverflow.com/questions/33023443/kotlin-lateinit-properties-npe-danger/33040097#33040097", "title": "Kotlin lateinit properties, NPE danger?", "body": "<p>The same basic feature of <em>lateinit</em> was actually possible with Delegates.notNull prior to M13. </p>\n\n<p>There's other features that also allow you to bypass the nullability enforcements. The <em><a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"noreferrer\">!!</a></em> operator will convert a nullable value into a non-null value. </p>\n\n<p>The point is not to strictly require nullability constraints, but to make nullability a very explicit part of the language. Every time you use <em>lateinit</em> or <em>!!</em> you are making a conscious decision to leave the safety of the nullability constraints, hopefully with good reason.</p>\n\n<p>As a rule of thumb it is best to avoid <em>lateinit</em>, <em>!!</em>, and even <em>?</em> (nullable) as much as possible.</p>\n\n<p>A lot of the time you can use a <em><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"noreferrer\">lazy</a></em> delegate to avoid <em>lateinit</em> which can keep you in the realm of non-null vals (M14 now prohibits using vals with <em>lateinit</em>).</p>\n\n<p>The code you linked to includes a lot of lateinit views. You could keep these as non-null vals by doing something like this:</p>\n\n<pre><code>private val mapView: MapView by lazy { findViewById(R.id.notif_map) as MapView }\n</code></pre>\n\n<p>This will initialize the value the first time mapView is used and use the previously initialized value thereafter. The caveat is that this could break if you tried to use the mapView before the call to <em>setContentView</em>. However, that doesn't seem like that big of a deal and you've gained the benefit that your initialization is right next to your declaration. </p>\n\n<p>This is what the <a href=\"https://github.com/JakeWharton/kotterknife/blob/c663030388f670ea1f10ac6ad828b1d2207cccc7/src/main/kotlin/butterknife/ButterKnife.kt#L96\" rel=\"noreferrer\">kotterknife library</a> used to achieve view injection.</p>\n"}, {"tags": [], "owner": {"reputation": 752, "user_id": 882782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2636892fb42822f7f44b7237b55c1515?s=128&d=identicon&r=PG", "display_name": "Wextux", "link": "https://stackoverflow.com/users/882782/wextux"}, "is_accepted": false, "score": 5, "last_activity_date": 1493997298, "creation_date": 1493997298, "answer_id": 43808469, "question_id": 33023443, "link": "https://stackoverflow.com/questions/33023443/kotlin-lateinit-properties-npe-danger/43808469#43808469", "title": "Kotlin lateinit properties, NPE danger?", "body": "<p>Kotlin's lazy delegation will work for many cases although you will run into trouble when reloading Fragments that have been saved in FragmentManager. When the Android system rebuilds the fragment it will actually recreate the view causing a <code>view?.findViewById(R.id.notif_map)</code> to actually return an invalid View.</p>\n\n<p>In these cases you will have to use a read-only property:</p>\n\n<pre><code>private val mapView: MapView\n    get() = view?.findViewById(R.id.notif_map) as MapView\n</code></pre>\n"}], "owner": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4465, "favorite_count": 3, "accepted_answer_id": 33040097, "answer_count": 2, "score": 15, "last_activity_date": 1510156203, "creation_date": 1444329253, "last_edit_date": 1454828700, "question_id": 33023443, "link": "https://stackoverflow.com/questions/33023443/kotlin-lateinit-properties-npe-danger", "title": "Kotlin lateinit properties, NPE danger?", "body": "<p>I am using lateinit properties in order to avoid continuous null checking with the ? operator. I have a lot of View properties that are assigned first time in the getViews() function. If that function weren't there, my application would crash with a NPE, from a Kotlin code. </p>\n\n<p>In my opinion lateinit properties basically ruin the nice null safety features of the language. I know they are introduced in M13 because of better framework support, but does it worth it?</p>\n\n<p>Or am I missing something here?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>package com.attilapalfi.exceptional.ui\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport android.widget.Button\nimport android.widget.ImageView\nimport android.widget.TextView\nimport com.attilapalfi.exceptional.R\nimport com.attilapalfi.exceptional.dependency_injection.Injector\nimport com.attilapalfi.exceptional.model.Exception\nimport com.attilapalfi.exceptional.model.ExceptionType\nimport com.attilapalfi.exceptional.model.Friend\nimport com.attilapalfi.exceptional.persistence.*\nimport com.attilapalfi.exceptional.rest.ExceptionRestConnector\nimport com.attilapalfi.exceptional.ui.helpers.ViewHelper\nimport com.attilapalfi.exceptional.ui.question_views.QuestionYesNoClickListener\nimport com.google.android.gms.maps.MapView\nimport java.math.BigInteger\nimport javax.inject.Inject\n\npublic class ShowNotificationActivity : AppCompatActivity(), QuestionChangeListener {\n    @Inject\n    lateinit val exceptionTypeStore: ExceptionTypeStore\n    @Inject\n    lateinit val friendStore: FriendStore\n    @Inject\n    lateinit val imageCache: ImageCache\n    @Inject\n    lateinit val metadataStore: MetadataStore\n    @Inject\n    lateinit val viewHelper: ViewHelper\n    @Inject\n    lateinit val exceptionInstanceStore: ExceptionInstanceStore\n    @Inject\n    lateinit val exceptionRestConnector: ExceptionRestConnector\n    @Inject\n    lateinit val questionStore: QuestionStore\n    private lateinit var sender: Friend\n    private lateinit var exception: Exception\n    private lateinit var exceptionType: ExceptionType\n    private lateinit var exceptionNameView: TextView\n    private lateinit var exceptionDescView: TextView\n    private lateinit var senderImageView: ImageView\n    private lateinit var senderNameView: TextView\n    private lateinit var sendDateView: TextView\n    private lateinit var mapView: MapView\n    private lateinit var questionText: TextView\n    private lateinit var noButton: Button\n    private lateinit var yesButton: Button\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_show_notification)\n        Injector.INSTANCE.applicationComponent.inject(this)\n        questionStore.addChangeListener(this)\n        getModelFromBundle()\n        getViews()\n        loadViewsWithData()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        questionStore.removeChangeListener(this)\n    }\n\n    private fun getModelFromBundle() {\n        val bundle = intent.extras\n        val instanceId = BigInteger(bundle.getString(\"instanceId\"))\n        exception = exceptionInstanceStore.findById(instanceId)\n        sender = friendStore.findById(exception.fromWho)\n        exceptionType = exceptionTypeStore.findById(exception.exceptionTypeId)\n    }\n\n    private fun getViews() {\n        exceptionNameView = findViewById(R.id.notif_full_exc_name) as TextView\n        exceptionDescView = findViewById(R.id.notif_exc_desc) as TextView\n        senderImageView = findViewById(R.id.notif_sender_image) as ImageView\n        senderNameView = findViewById(R.id.notif_sender_name) as TextView\n        sendDateView = findViewById(R.id.notif_sent_date) as TextView\n        mapView = findViewById(R.id.notif_map) as MapView\n        questionText = findViewById(R.id.notif_question_text) as TextView\n        noButton = findViewById(R.id.notif_question_no) as Button\n        yesButton = findViewById(R.id.notif_question_yes) as Button\n    }\n\n    private fun loadViewsWithData() {\n        exceptionNameView.text = exceptionType.prefix + \"\\n\" + exceptionType.shortName\n        exceptionDescView.text = exceptionType.description\n        imageCache.setImageToView(sender, senderImageView)\n        senderNameView.text = viewHelper.getNameAndCity(exception, sender)\n        sendDateView.text = exception.date.toString()\n        loadQuestionToViews()\n    }\n\n    private fun loadQuestionToViews() {\n        if (exception.question.hasQuestion) {\n            showQuestionViews()\n        } else {\n            hideQuestionViews()\n        }\n    }\n\n    private fun showQuestionViews() {\n        questionText.text = exception.question.text\n        val listener = QuestionYesNoClickListener(exception, exceptionRestConnector, noButton, yesButton)\n        noButton.setOnClickListener(listener)\n        yesButton.setOnClickListener(listener)\n    }\n\n    private fun hideQuestionViews() {\n        questionText.visibility = View.INVISIBLE\n        noButton.visibility = View.INVISIBLE\n        yesButton.visibility = View.INVISIBLE\n    }\n\n    override fun onQuestionsChanged() {\n        onBackPressed()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1444325783, "post_id": 33022160, "comment_id": 53867343, "body": "and BTW, syntax <code>T?</code> is not allowed, so technically there is NO inconsistency."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 5, "creation_date": 1452135182, "post_id": 33022160, "comment_id": 57038893, "body": "<code>T?</code> is allowed in the use of <code>T</code>, not the declaration of <code>T</code>.   So <code>val x: T?</code> is valid."}, {"owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "edited": false, "score": 0, "creation_date": 1497902508, "post_id": 33022160, "comment_id": 76263869, "body": "You can read more on T? here <a href=\"https://medium.com/@igorwojda/kotlin-deep-dive-into-generics-nullability-9853d9a9f50d\" rel=\"nofollow noreferrer\">medium.com/@igorwojda/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 103, "last_activity_date": 1599342307, "last_edit_date": 1599342307, "creation_date": 1444324696, "answer_id": 33022160, "question_id": 33021802, "link": "https://stackoverflow.com/questions/33021802/why-is-a-generic-typed-property-nullable/33022160#33022160", "title": "Why is a generic typed property nullable?", "body": "<blockquote>\n<p>The default upper bound (if none specified) is <code>Any?</code> (<a href=\"http://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"noreferrer\">Source</a>)</p>\n</blockquote>\n<p>In other words, when you use <code>T</code>, Kotlin assumes that this might be <em>any</em> type, be it primitive, object or a nullable reference.</p>\n<p>To fix this add an upper type:</p>\n<pre><code>class Test&lt;T: Any&gt; { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "is_accepted": false, "score": 2, "last_activity_date": 1578834444, "last_edit_date": 1578834444, "creation_date": 1578810180, "answer_id": 59701494, "question_id": 33021802, "link": "https://stackoverflow.com/questions/33021802/why-is-a-generic-typed-property-nullable/59701494#59701494", "title": "Why is a generic typed property nullable?", "body": "<p><a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"nofollow noreferrer\">Kotlin In Action</a> has following to say on nullability of type parameters</p>\n\n<blockquote>\n  <p>Nullability of type parameters:</p>\n  \n  <p>By default, all type parameters of\n  functions and classes in Kotlin are nullable. Any type, including a\n  nullable type, can be substituted for a type parameter; in this case,\n  declarations using the type parameter as a type are allowed to be\n  null, even though the type parameter T doesn\u2019t end with a question\n  mark.</p>\n</blockquote>\n\n<p>How to make type parameters not-null?</p>\n\n<blockquote>\n  <p>To make the type parameter non-null, you need to specify a non-null\n  upper bound for it. That will reject a nullable value as an argument.</p>\n  \n  <p>Note that type parameters are the only exception to the rule that a\n  question mark at the end is required to mark a type as nullable, and\n  types without a question mark are non-null. The next section shows\n  another special case of nullability: types that come from the Java\n  code.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 12696290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWqmF.jpg?s=128&g=1", "display_name": "Timotej Leginus", "link": "https://stackoverflow.com/users/12696290/timotej-leginus"}, "is_accepted": false, "score": 0, "last_activity_date": 1578834229, "creation_date": 1578834229, "answer_id": 59704082, "question_id": 33021802, "link": "https://stackoverflow.com/questions/33021802/why-is-a-generic-typed-property-nullable/59704082#59704082", "title": "Why is a generic typed property nullable?", "body": "<p>T, when used as a type parameter, is always null. (All type parameters are nullable). You don't need to declare <code>T?</code>, only <code>T</code> is needed. To use declare an upper bound, do this <code>public class Foo&lt;T: Any&gt;</code> (<code>Any</code> isn't nullable)</p>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 1, "last_activity_date": 1608588724, "creation_date": 1608588724, "answer_id": 65400640, "question_id": 33021802, "link": "https://stackoverflow.com/questions/33021802/why-is-a-generic-typed-property-nullable/65400640#65400640", "title": "Why is a generic typed property nullable?", "body": "<h2>Nullable Type Parameter</h2>\n<p><code>Any?</code> is the supertype of <em>all</em> types in Kotlin. So, when you don't specify any upper bound for the type parameter <code>T</code>, the default bound is <code>Any?</code>.</p>\n<p>For example:</p>\n<p><code>class Test&lt;T&gt; { }</code></p>\n<p>is the same as</p>\n<p><code>class Test&lt;T : Any?&gt; { }</code></p>\n<p>This results in the <code>T</code> being nullable in the following example:</p>\n<pre><code>class Test&lt;T&gt; {\n    private var t : T          // T can have a nullable type\n}\n</code></pre>\n<p>This means that the generic type above can be instantiated with nullable as well as non-null type arguments:</p>\n<pre><code>val test: Test&lt;Int&gt; = Test()   // OK\nval test: Test&lt;Int?&gt; = Test()  // OK\n</code></pre>\n<hr />\n<h2>Non-null Type Parameter</h2>\n<p><code>Any</code> is the supertype of <em>all non-null</em> types in Kotlin. So, to make a generic class accept only non-null type arguments, you need to explicitly specify <code>Any</code> as an upper bound of <code>T</code>, that is <code>T : Any</code>.</p>\n<p>This results in the <code>T</code> being non-null in the following example:</p>\n<pre><code>class Test&lt;T : Any&gt; {\n    private var t: T           // T is non-null\n    private var t2: T?         // T can be used as nullable\n}\n</code></pre>\n<p>The generic type with <code>T : Any</code> can be instantiated only with non-null type arguments and prevents the instantiation with nullable type arguments:</p>\n<pre><code>val test: Test&lt;Int&gt; = Test()   // OK\nval test: Test&lt;Int?&gt; = Test()  // Error\n</code></pre>\n<hr />\n<h2><code>lateinit var</code></h2>\n<p>The <code>lateinit var</code> must always be non-null because it is used in the cases where you want a variable to be non-null but don't want to initialize its value at the time of object creation.</p>\n<p>So, to create the <code>lateinit</code> variable that has the same type as the type parameter <code>T</code>, the type parameter needs to be non-null too.</p>\n<p>To achieve that, specify the upper bound <code>T : Any</code> explicitly:</p>\n<pre><code>class Test&lt;T : Any&gt; {\n    private lateinit var t: T\n}\n</code></pre>\n<p>It's worth noting that you can use a more specific type, if you have one depending on your business logic. For example, instead of <code>T : Any</code>, you could have <code>T : SomeProduct</code>, if that is what you want the upper bound to be. It just needs to be non-null.</p>\n<p>This will ensure that the user of your class won't be able to instantiate with nullable type arguments and your assumption of the <code>lateinit var</code> always being non-null will hold true.</p>\n<hr />\n<p>That's it! Hope that helps.</p>\n"}], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9424, "favorite_count": 8, "accepted_answer_id": 33022160, "answer_count": 4, "score": 67, "last_activity_date": 1608588724, "creation_date": 1444323491, "last_edit_date": 1599342482, "question_id": 33021802, "link": "https://stackoverflow.com/questions/33021802/why-is-a-generic-typed-property-nullable", "title": "Why is a generic typed property nullable?", "body": "<p>I am trying to create a parameterized class with a <code>lateinit</code> non-nullable property of the generic type:</p>\n<pre><code>class Test&lt;T&gt; {\n\n   private lateinit var t : T\n\n   private lateinit var s : String\n\n}\n</code></pre>\n<p>The latter is allowed, but the former is not. The compiler returns the following error:</p>\n<blockquote>\n<p>Error:(7, 11) ''lateinit'' modifier is not allowed on nullable properties</p>\n</blockquote>\n<p>Since I didn't declare <code>T?</code>, I am confused as to why this is the case.</p>\n"}]