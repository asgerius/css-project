[{"tags": ["android-studio", "kotlin", "code-inspection"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 3, "creation_date": 1505339242, "post_id": 46207235, "comment_id": 79378033, "body": "Not sure about Android Studio, but in IntelliJ this is called <code>Condition of &#39;if&#39; expression is constant</code>, and I can turn it off or increase its level under Inspections."}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 1, "creation_date": 1505339422, "post_id": 46207235, "comment_id": 79378094, "body": "I think the point is deterring that behavior and promoting use of flags outside of code (assuming what this is used for--otherwise, why wrap block in <code>if</code>?)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1505339847, "post_id": 46207235, "comment_id": 79378232, "body": "Look in preferences -&gt; Editor -&gt; Inspections -&gt; &quot;Constant &#39;if&#39; statement&quot;"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1505340784, "post_id": 46207235, "comment_id": 79378541, "body": "Is this of help? <a href=\"https://stackoverflow.com/q/26443321/8041461\">stackoverflow.com/q/26443321/8041461</a>"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1505352076, "post_id": 46207235, "comment_id": 79381403, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26443321/turn-off-an-annoying-inspection-in-android-studio\">Turn off an annoying Inspection, in Android Studio</a>"}, {"owner": {"reputation": 1015, "user_id": 3054855, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/774ae7bce6faf0f2227e163399b0809f?s=128&d=identicon&r=PG", "display_name": "puredevotion", "link": "https://stackoverflow.com/users/3054855/puredevotion"}, "edited": false, "score": 0, "creation_date": 1542279224, "post_id": 46207235, "comment_id": 93515600, "body": "<code>@Suppress(&quot;SENSELESS_COMPARISON&quot;)</code> above the expression, method or class is probably what you are looking for"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1598924864, "post_id": 46207235, "comment_id": 112607589, "body": "@Joshua Nope, it&#39;s not.  This is very specific; your link is to something very general.  Both are hit from <i>very</i> different search results..  If you think these are the same question, then when someone asks were you&#39;re from, you probably say, &quot;Earth.&quot;"}, {"owner": {"reputation": 168, "user_id": 3363520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915780abfd8976744c92c0ac8c456ab0?s=128&d=identicon&r=PG", "display_name": "Xials", "link": "https://stackoverflow.com/users/3363520/xials"}, "edited": false, "score": 0, "creation_date": 1604970552, "post_id": 46207235, "comment_id": 114504594, "body": "AMEN! I am currently tying to do this because arrayOfNulls doesn&#39;t actually give me an arrayOfNulls..."}], "answers": [{"comments": [{"owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1505400490, "post_id": 46209495, "comment_id": 79407230, "body": "Was looking for the specific setting, not listed in the comments"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1505477490, "post_id": 46209495, "comment_id": 79441904, "body": "@rmirabelle It&#39;s right in the first comment, combined with IntelliJ ability to search settings, that should have been an easy task. Credit where it&#39;s due! Off-topic: If <i>inspections</i> on Android code make you go crazy maybe you should get into another profession."}, {"owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1505503366, "post_id": 46209495, "comment_id": 79456720, "body": "@EugenPechanec Well, it wasn&#39;t so easy for stupid old me.  Despite the fact that you accurately indicated to press the right arrow key, I didn&#39;t do it, because I rarely encounter submenus that ONLY expand via a key.  To me, that&#39;s a UI anti-pattern - i.e. you must use both mouse and keys to work the menu properly. Now I know. Off topic: I&#39;ll go ahead and keep my profession if that&#39;s quite alright with you...jeez."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1505554663, "post_id": 46209495, "comment_id": 79468266, "body": "You&#39;re telling me, I only found this a week ago AFTER YEARS. You can of course use just keyboard for the whole thing (I mean Alt+Enter and arrow keys are all there) BUT! I JUST NOW found out that you can use mouse as well to expand the menu. You don&#39;t click on the arrow though, no sir, you have to click on the millimeter thick spot on the right side of the arrow. That&#39;s brilliant."}, {"owner": {"reputation": 5569, "user_id": 796231, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6bTb4.jpg?s=128&g=1", "display_name": "easycheese", "link": "https://stackoverflow.com/users/796231/easycheese"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1510453983, "post_id": 46209495, "comment_id": 81440191, "body": "Holy crap, thanks @EugenPechanec I totally didn&#39;t know clicking on the arrow worked differently!!"}], "tags": [], "owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "is_accepted": false, "score": 1, "last_activity_date": 1505355652, "creation_date": 1505355652, "answer_id": 46209495, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true/46209495#46209495", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>Found it:</p>\n\n<p><code>Settings &gt; Editor &gt; Inspections &gt; Kotlin &gt; Redundant Constructs &gt; Condition of 'if' expression is constant</code></p>\n"}, {"comments": [{"owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "edited": false, "score": 4, "creation_date": 1505482616, "post_id": 46239365, "comment_id": 79445516, "body": "As with MANY other inspections, there is no option for suppressing this inspection in Android Studio via Alt+Enter.  This is a source of constant frustration for me."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "edited": false, "score": 2, "creation_date": 1505482874, "post_id": 46239365, "comment_id": 79445714, "body": "Well, I just tested and described it, take a step back and read the whole thing. The suppression options are hidden in the Alt+Enter menu accessible by pressing right arrow key. If Alt+Enter doesn&#39;t work, check your key bindings."}, {"owner": {"reputation": 3545, "user_id": 824712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73c5a2bbc02df31f78a789f2e9bf24d?s=128&d=identicon&r=PG", "display_name": "Ercan", "link": "https://stackoverflow.com/users/824712/ercan"}, "edited": false, "score": 0, "creation_date": 1541761172, "post_id": 46239365, "comment_id": 93335688, "body": "My eyes are full of tears. Thanks, stranger."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 16, "last_activity_date": 1505477741, "creation_date": 1505477741, "answer_id": 46239365, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true/46239365#46239365", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>In Android Studio, </p>\n\n<ol>\n<li>put text cursor in the condition you'd like to suppress,</li>\n<li>press Alt+Enter on your keyboard and this pops up:</li>\n</ol>\n\n<blockquote>\n  <p>\ud83d\udca1 Simplify expression \u2bc8</p>\n</blockquote>\n\n<ol start=\"3\">\n<li>Press right arrow on your keyboard,</li>\n<li><p>select any of the options you like, for example:</p>\n\n<ul>\n<li>Disable inspection</li>\n<li>Suppress 'ConstantConditionIf' for statement/fun/class/file</li>\n</ul></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 7598, "user_id": 1276306, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/AV2Uk.jpg?s=128&g=1", "display_name": "flawyte", "link": "https://stackoverflow.com/users/1276306/flawyte"}, "is_accepted": false, "score": 19, "last_activity_date": 1599636847, "last_edit_date": 1599636847, "creation_date": 1537355561, "answer_id": 52404548, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true/52404548#52404548", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>This is how you would do it <strong>in Java</strong> :</p>\n<pre><code>@SuppressWarnings(&quot;ConstantConditions&quot;) // Add this line\npublic int foo() {\n    boolean ok = true;\n    if (ok) // No more warning here\n        ...\n}\n</code></pre>\n<p><strong>In Kotlin</strong> I think you have to use <code>@Suppress(&quot;SENSELESS_COMPARISON&quot;)</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 1943, "user_id": 1154390, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/432e442a9f1a89f13b008e8feb2100cb?s=128&d=identicon&r=PG", "display_name": "user1154390", "link": "https://stackoverflow.com/users/1154390/user1154390"}, "edited": false, "score": 3, "creation_date": 1568967337, "post_id": 55569465, "comment_id": 102451341, "body": "In my case it was not working however I tried following and warning gone away @Suppress(&quot;SENSELESS_COMPARISON&quot;)"}], "tags": [], "owner": {"reputation": 12701, "user_id": 2611161, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/KX1vb.gif?s=128&g=1", "display_name": "Kevin ABRIOUX", "link": "https://stackoverflow.com/users/2611161/kevin-abrioux"}, "is_accepted": false, "score": 28, "last_activity_date": 1554715813, "last_edit_date": 1554715813, "creation_date": 1554713258, "answer_id": 55569465, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true/55569465#55569465", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>In Kotlin, use <code>ConstantConditionIf</code>to ignore this warning :</p>\n\n<pre><code>@Suppress(\"ConstantConditionIf\")\nif(ANDROID_IS_AWESOME) {\n    fml()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 1947494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yGTAe.jpg?s=128&g=1", "display_name": "Nikhil Katekhaye", "link": "https://stackoverflow.com/users/1947494/nikhil-katekhaye"}, "is_accepted": false, "score": 0, "last_activity_date": 1604002767, "creation_date": 1604002767, "answer_id": 64598664, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true/64598664#64598664", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>In Kotlin, We can use <code>@Suppress(&quot;SENSELESS_COMPARISON&quot;)</code> for a class or if statement.</p>\n"}], "owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6163, "favorite_count": 3, "answer_count": 5, "score": 18, "last_activity_date": 1604002767, "creation_date": 1505338830, "last_edit_date": 1505356013, "question_id": 46207235, "link": "https://stackoverflow.com/questions/46207235/kotlin-suppress-condition-is-always-true", "title": "Kotlin suppress &#39;condition is always true&#39;", "body": "<p>Wasting more time scouring through the COUNTLESS number of inspections (which I know how to enable and disable), I cannot find ANY way to disable the particular inspection of <code>'Condition is always true'</code> for my Kotlin (not Java) file in Android Studio.  I know what I'm doing and don't need this inspection AT ALL, but more appropriately, I'd like to suppress it for the file or class or function or ANYTHING.</p>\n\n<p>Incredibly frustrating, as always.</p>\n\n<pre><code>//I'm well aware the condition below is ALWAYS true\nif(ANDROID_SUCKS) {\n    fml()\n}\n</code></pre>\n"}, {"tags": ["class", "variables", "constructor", "kotlin"], "comments": [{"owner": {"reputation": 1583, "user_id": 1329427, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4TQGW.jpg?s=128&g=1", "display_name": "Davi Alves", "link": "https://stackoverflow.com/users/1329427/davi-alves"}, "edited": false, "score": 0, "creation_date": 1505338259, "post_id": 46207097, "comment_id": 79377643, "body": "couldn&#39;t you just declare name as var?"}], "answers": [{"comments": [{"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "edited": false, "score": 0, "creation_date": 1505338998, "post_id": 46207140, "comment_id": 79377931, "body": "Yes, I am quite confused with visibility, getters and setters. Compared to java rules you address the members directly and yet there are setters and getters and that makes member visibility even  more confusing to me"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1505338326, "creation_date": 1505338326, "answer_id": 46207140, "question_id": 46207097, "link": "https://stackoverflow.com/questions/46207097/class-constructor-and-member-variablesfields/46207140#46207140", "title": "class constructor and member variables(fields)", "body": "<p>You don't need any of that. You can just define <code>name</code> in the constructor as a <code>var</code>, and Kotlin will expose it as a property.</p>\n\n<pre><code>class Person(var name: String)\n\n// Usage...\nval p = Person(\"Dave\")\nprintln(p.name) // \"Dave\"\np.name = \"Phil\"\nprintln(p.name) // \"Phil\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1505350231, "post_id": 46207176, "comment_id": 79381032, "body": "Why did you make name Optional in the first example?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1505338530, "creation_date": 1505338530, "answer_id": 46207176, "question_id": 46207097, "link": "https://stackoverflow.com/questions/46207097/class-constructor-and-member-variablesfields/46207176#46207176", "title": "class constructor and member variables(fields)", "body": "<p>You're using the setter inside your setter by doing <code>set(myName) {this.name = myName}</code>. This is a recursive call and not what you should do. Instead use the <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\"><code>field</code> accessor</a> like this: </p>\n\n<pre><code>name: String? = null\n  set(myName) {\n     field = myName\n  } \n</code></pre>\n\n<p>But actually, you don't even need this. You can declare in the primary constructor, that <code>name</code> should be a property of your class:</p>\n\n<pre><code>class Person(var name: String) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8455, "user_id": 1349366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f9a569a1c0af19fbe093e2ed751a7?s=128&d=identicon&r=PG", "display_name": "Aivean", "link": "https://stackoverflow.com/users/1349366/aivean"}, "is_accepted": false, "score": 0, "last_activity_date": 1505338714, "creation_date": 1505338714, "answer_id": 46207215, "question_id": 46207097, "link": "https://stackoverflow.com/questions/46207097/class-constructor-and-member-variablesfields/46207215#46207215", "title": "class constructor and member variables(fields)", "body": "<p>Just to add to what have been said by others, here is a better syntax if you want to have <code>aName</code> as a separate constructor parameter:</p>\n\n<pre><code>class Person (aName:String) {\n    var name = aName\n}\n</code></pre>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 46207176, "answer_count": 3, "score": 2, "last_activity_date": 1505338714, "creation_date": 1505338074, "question_id": 46207097, "link": "https://stackoverflow.com/questions/46207097/class-constructor-and-member-variablesfields", "title": "class constructor and member variables(fields)", "body": "<p>I am trying to declare class with constructor however there seems to be conflict with that syntax and declaring class members.</p>\n\n<p>Any suggestions how these go together?</p>\n\n<pre><code>class Person (aName:String) {\n    var name : String\n        get() = this.name\n        set(myName) {this.name = myName}\n\n    init {\n        this.name = aName\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "json", "kotlin"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1505334203, "post_id": 46205973, "comment_id": 79375828, "body": "I don&#39;t quite get what you mean with &quot;expired links&quot;. Do you mean URLs that will take the user to some error page? Do you know if they are &quot;expired&quot; when the user clicks them?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 2, "creation_date": 1505334316, "post_id": 46205973, "comment_id": 79375888, "body": "The problem is language agnostic surely, it is there whether you&#39;re using Kotlin or Java? I think you&#39;re asking how do I handle a Http Code 404, or something like that? Why not do a preliminary http request and check the response .. is 2xx and not 4xx, 5xx .. <a href=\"https://stackoverflow.com/a/18135030/4252352\">stackoverflow.com/a/18135030/4252352</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7571182"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1505334512, "post_id": 46205973, "comment_id": 79375970, "body": "Sir(@Ascorbin) the links does not contain any thing means that the URL has been removed form the website?"}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1505334737, "post_id": 46205973, "comment_id": 79376058, "body": "@Mandy8055 Your best chance would then be to go with Mark Keens comment and &quot;silently&quot; check if the webpage / URL is still valid before starting your browser Intent."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7571182"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1505334750, "post_id": 46205973, "comment_id": 79376063, "body": "Sir(@Mark Keen) that is helpful I will surely look into it. The links are from news website so they keep on throwing <b>HTTP Code 404</b> on quick succession(probably 10 to 12 days).So for that also I have to keep a regular checks in the app itself?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7571182"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1505334867, "post_id": 46205973, "comment_id": 79376120, "body": "Okay Sir(@Ascorbin) I will go on with it"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1505335042, "post_id": 46205973, "comment_id": 79376203, "body": "The request will not be free, however should be a relatively inexpensive operation (depends on network speed / remote server speed etc..) - and if showing a expired/404 webpage has a negative impact on user experience, then I&#39;d check each link every time if you can&#39;t guarantee the stability of the remote web sites."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7571182"}, "edited": false, "score": 0, "creation_date": 1505335218, "post_id": 46205973, "comment_id": 79376272, "body": "Thank you Sir I will surely keep this in mind and try to implement it!!!"}], "owner": {"user_type": "does_not_exist", "display_name": "user7571182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507102872, "creation_date": 1505333009, "last_edit_date": 1507102872, "question_id": 46205973, "link": "https://stackoverflow.com/questions/46205973/handle-expired-links-while-parsing-json-from-within-the-android-application", "title": "Handle expired links while parsing JSON from within the android application", "body": "<p>I am designing an application in Kotlin which parses json-array.\nI have completed the application successfully but I was stuck on one minor(in my case major) glitch.I have <strong>successfully parsed the array</strong> and displayed the required array of objects in <code>CardView</code> and also opened the link in the browser when the card item is clicked.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>The JSON contains certain links which are expired or are no longer in use. How do <strong>I handle such(expired) links from within the app when the user clicks on that particular card</strong>(with any flowery message or `ImageView)? I am comfortable in Android basics and still learning to devise Kotlin in android application and searched on the internet to the best of my knowledge but all my efforts went in vein.</p>\n\n<p>Any help is warmly and benignly welcomed....</p>\n\n<p>Below is my Code fragment(<strong>FeedViewHolder.kt</strong>):</p>\n\n<pre><code>class FeedViewHolder(itemView: View):RecyclerView.ViewHolder(itemView), View.OnClickListener,View.OnLongClickListener {\n\nvar txtTitle: TextView\nvar txtPubdate: TextView\nvar txtContent: TextView\n\nprivate var itemClickListener: ItemClickListener? = null\n\ninit {\n    txtTitle = itemView.findViewById(R.id.txtTitle) as TextView\n    txtPubdate = itemView.findViewById(R.id.txtPubdate) as TextView\n    txtContent = itemView.findViewById(R.id.txtContent) as TextView\n\n    itemView.setOnClickListener(this)\n    itemView.setOnLongClickListener(this)\n\n}\n\nfun setItemClickListener(itemClickListener: ItemClickListener) {\n    this.itemClickListener = itemClickListener\n}\n\noverride fun onClick(v: View?) {\n    itemClickListener!!.onClick(v, adapterPosition, false)\n}\n\noverride fun onLongClick(v: View?): Boolean {\n    itemClickListener!!.onClick(v, adapterPosition, true)\n    return true\n}\n}\n</code></pre>\n\n<p><strong>Adapter Class</strong></p>\n\n<pre><code>class FeedAdapter(private val rssObject: RSSObject, private  val \n mContext:Context): RecyclerView.Adapter&lt;FeedViewHolder&gt;()\n{\nprivate val inflater:LayoutInflater\n\ninit {\n    inflater = LayoutInflater.from(mContext)\n}\noverride fun getItemCount(): Int {\n    return rssObject.items.size\n}\n\noverride fun onBindViewHolder(holder: FeedViewHolder, position: Int) {\n\n    holder.txtTitle.text = rssObject.items[position].title\n    holder.txtContent.text = rssObject.items[position].Content\n    holder.txtPubdate.text = rssObject.items[position].pubDate\n\n    holder.setItemClickListener(ItemClickListener { view, position, isLongClick -&gt;\n\n        if(!isLongClick){\n\n            val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(rssObject.items[position].link))\n            browserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n            mContext.startActivity(browserIntent)\n        }\n\n    })\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): FeedViewHolder {\nval itemView = inflater.inflate(R.layout.row,parent,false)\n    return FeedViewHolder(itemView)\n}\n</code></pre>\n"}, {"tags": ["java", "encryption", "kotlin", "aes", "rsa"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1505333253, "post_id": 46205964, "comment_id": 79375316, "body": "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Signature.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/security/Signature.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 5721, "user_id": 3823831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e10a2607a7827988b6ac570fe168e02a?s=128&d=identicon&r=PG", "display_name": "TheGreatContini", "link": "https://stackoverflow.com/users/3823831/thegreatcontini"}, "edited": false, "score": 2, "creation_date": 1505333609, "post_id": 46205964, "comment_id": 79375492, "body": "We do not &#39;encrypt&#39; with private keys.  Instead, we &#39;digitally sign&#39; with private keys."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 1, "creation_date": 1505352640, "post_id": 46205964, "comment_id": 79381511, "body": "And it&#39;s standard, conventional, and almost always better to sign the whole message (not just the key), preferably after encrypting, unless (you are certain) your encryption is not malleable."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1505431750, "post_id": 46205964, "comment_id": 79423081, "body": "@dave_thompson_085 Not with asymmetric crypto, it is not. Somebody could strip the signature and replace it. For asymmetric you&#39;d use sign-then-encrypt. For AES you could still use GCM mode or encrypt-then-mac of course."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1505980147, "post_id": 46205964, "comment_id": 79636220, "body": "@MaartenBodewes: why is that bad? Bob shouldn&#39;t trust <i>any</i> signature from Mallory, ever. And with StE if signing is deterministic (sometimes) and encryption malleable (sometimes) and known-plaintext possible (more often than designers/admins expect) attacker can replace the signature so you&#39;re no better off. GCM is one good certain way of being unmalleable. EtS does make it somewhat more difficult to forward the signed data to a third party, including an arbiter, but whether that&#39;s a problem depends on applications not mentioned in the Q."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1505981646, "post_id": 46205964, "comment_id": 79637247, "body": "&quot;Bob shouldn&#39;t trust any signature from Mallory, ever.&quot; No, this is not true, Mallory could be in the same PKI; think for instance about PGP signatures or code signing. Often just the CA is trusted. I agree that care should be taken to implement StE. And if the key of Bob can be explicitly trusted, then EtS <i>could</i> work, as long as you&#39;re OK with storing the ciphertext in addition to the plaintext. But in general StE is used for asymmetric and in that case authenticated ciphers such as GCM are an extremely good idea."}], "owner": {"reputation": 71, "user_id": 5608927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed97b7409c6561b50729f6d8f0154040?s=128&d=identicon&r=PG&f=1", "display_name": "Intektor", "link": "https://stackoverflow.com/users/5608927/intektor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3054, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1505332967, "creation_date": 1505332967, "question_id": 46205964, "link": "https://stackoverflow.com/questions/46205964/java-kotlin-encrypt-aes-key-with-private-and-public-key", "title": "Java/Kotlin Encrypt AES key with private and public key", "body": "<p>so I lately saw a video from computerphile where they said that when using encryption you should be using AES keys and encrypt this key with public and private key. This means: I have a public key from someone else, and my own private key. </p>\n\n<p>The reason behind encrypting it with your own private key is, that this verifies that the message has to be comming from me, because no one else has my private key, so encryption with my public key can only work on messages comming from me. </p>\n\n<p>Problem is that after my first encryption, the byte array outcomming becomes too long and I cant encrypt it another time. Is there a way around this?</p>\n\n<p>This is my code: </p>\n\n<pre><code>val aKey = generateAESKey()\n\nval kG = KeyPairGenerator.getInstance(\"RSA\")\nkG.initialize(2048)\nval own = kG.genKeyPair()\nval strange = kG.genKeyPair()\n\nString(aKey.encoded).encryptRSA(strange.public).encryptRSA(own.public)\n\nfun generateAESKey(): Key {\nval generator = KeyGenerator.getInstance(\"AES\")\ngenerator.init(128)\nreturn generator.generateKey()\n\nfun String.encryptRSA(key: Key): String {\n    val encryptCipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\")\n    encryptCipher.init(Cipher.ENCRYPT_MODE, key)\n    val cipherText = encryptCipher.doFinal(this.toByteArray(charset(\"UTF-\n    8\")))\n    return String(cipherText)\n}\n\nfun String.decryptRSA(key: Key): String {\n    val bytes = this.toByteArray()\n    val decryptCipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\")\n    decryptCipher.init(Cipher.DECRYPT_MODE, key)\n    return String(decryptCipher.doFinal(bytes), charset(\"UTF-8\"))\n}\n</code></pre>\n\n<p>This for example gives me the following error: </p>\n\n<pre><code>Exception in thread \"main\" javax.crypto.IllegalBlockSizeException: Data must not be longer than 245 bytes\nat com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:344)\nat com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:389)\nat javax.crypto.Cipher.doFinal(Cipher.java:2165)\nat de.intektor.kentai_http_common.util.EncryptionKt.encryptRSA(encryption.kt:30)\nat de.intektor.test.TestKt.main(Test.kt:19)\n</code></pre>\n\n<p>Of course this is just a testcase. </p>\n"}, {"tags": ["android-studio", "intellij-idea", "comments", "kotlin", "javadoc"], "answers": [{"tags": [], "owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "is_accepted": true, "score": 3, "last_activity_date": 1505337978, "creation_date": 1505337978, "answer_id": 46207064, "question_id": 46205212, "link": "https://stackoverflow.com/questions/46205212/kotlin-comment-formatting-in-intellij-android-studio/46207064#46207064", "title": "Kotlin comment formatting in IntelliJ/Android Studio", "body": "<p>There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-19963\" rel=\"nofollow noreferrer\">open issue</a> already reported, please follow it for updates.</p>\n"}], "owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "accepted_answer_id": 46207064, "answer_count": 1, "score": 4, "last_activity_date": 1505337978, "creation_date": 1505329977, "question_id": 46205212, "link": "https://stackoverflow.com/questions/46205212/kotlin-comment-formatting-in-intellij-android-studio", "title": "Kotlin comment formatting in IntelliJ/Android Studio", "body": "<p>Is there a way to format long Kotlin comments in IntelliJ IDEA/Android Studio the same way as Java comments when you set:</p>\n\n<blockquote>\n  <p>Code Style > Java > JavaDoc > Wrap at right margin</p>\n</blockquote>\n\n<p>When you turn this setting on, after formatting it turns this:</p>\n\n<pre><code>/**\n * This is my very very very long comment which probably should be multi-line....\n */\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>/**\n * This is my very very very long comment\n * which probably should be multi-line...\n */\n</code></pre>\n\n<p>I don't see the same option for Kotlin but maybe there is another way to achieve this? </p>\n"}, {"tags": ["kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 14, "last_activity_date": 1505320618, "creation_date": 1505320618, "answer_id": 46202749, "question_id": 46202147, "link": "https://stackoverflow.com/questions/46202147/kotlin-quadruple-quintuple-etc-for-destructuring/46202749#46202749", "title": "Kotlin quadruple, quintuple, etc. for destructuring", "body": "<p>In contrast to Scala, Kotlin does not have n-tuples for values higher than 3 defined. You've correctly identified <code>Pair</code> and <code>Triple</code>. </p>\n\n<p>Kotlin favors using data classes for these use cases, according to <a href=\"https://blog.jetbrains.com/kotlin/migrating-tuples/\" rel=\"noreferrer\">this blog post</a>. So yes, you'll have to define a data class in order to do what you want, there is no <code>Quadruple</code>. I'd personally argue that defining your own data class is more clear, and will end up being compiled and used the same way a hypothetical <code>Quadruple</code> would anyway, under the covers.</p>\n\n<p>As for destructuring data classes, Kotlin supports that as well:</p>\n\n<pre><code>data class Thingy(val a: String, val b: String, val c: String, val d: String)\nval t = Thingy(\"A\", \"B\", \"C\", \"D\")\nval (aa, bb, cc, dd) = t\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 32, "last_activity_date": 1555343870, "last_edit_date": 1555343870, "creation_date": 1505339342, "answer_id": 46207340, "question_id": 46202147, "link": "https://stackoverflow.com/questions/46202147/kotlin-quadruple-quintuple-etc-for-destructuring/46207340#46207340", "title": "Kotlin quadruple, quintuple, etc. for destructuring", "body": "<h2>Basics</h2>\n\n<p>Let's see how <strong>destructuring</strong> works:</p>\n\n<p>Kotlin defines a convention for this, i.e. <code>componentX()</code> <code>operator</code> functions are an example of the principle of conventions used in Kotlin in many places. These <code>componentX()</code> functions are used by the compiler for the initialization of variables in destructuring declarations. </p>\n\n<p>For example in <code>Pair&lt;A,B&gt;</code> these functions look as follows:</p>\n\n<pre><code>operator fun component1(): A = first \n\noperator fun component2(): B = second\n</code></pre>\n\n<p>As you can see these are <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\"><code>operators</code></a>, specially handled functions.\nThese <code>componentX()</code> functions can be provided by the developer and will automatically be produced by the compiler for <code>data</code> classes. <code>Pair</code> also is such a <code>data</code> class btw.</p>\n\n<h2>Answer</h2>\n\n<p>Thus, just go ahead and use <code>data</code> classes whenever you need more than a <code>Triple</code>.</p>\n\n<p>For example, a class <code>MultiComponent</code> defined as this:</p>\n\n<pre><code>data class MultiComponent(val x: Int, val y: Int, val z: Int, val a: Int, val b: Int, val c: Int)\n</code></pre>\n\n<p>will be compiled to a class with functions <code>component1()</code>, <code>component2()</code>, ..., <code>component6()</code> and can be used in destructuring declarations:</p>\n\n<pre><code>val (q, w, e, r, t, z) = MultiComponent(1, 2, 3, 4, 5, 6)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "is_accepted": false, "score": 9, "last_activity_date": 1549737314, "last_edit_date": 1549737314, "creation_date": 1549736765, "answer_id": 54609291, "question_id": 46202147, "link": "https://stackoverflow.com/questions/46202147/kotlin-quadruple-quintuple-etc-for-destructuring/54609291#54609291", "title": "Kotlin quadruple, quintuple, etc. for destructuring", "body": "<p>You can add these <code>kotlin</code> classes to your project, they will work exactly like <code>Pair</code> or <code>Triple</code> but you will be able to pass more objects.</p>\n\n<p><strong>Quadruple</strong> (lets you pass 4 objects)</p>\n\n<pre><code>import java.io.Serializable\n\n/**\n * Created by nalcalag on 09/02/2019.\n * \n * Represents a quartet of values\n *\n * There is no meaning attached to values in this class, it can be used for any purpose.\n * Quadruple exhibits value semantics\n *\n * @param A type of the first value.\n * @param B type of the second value.\n * @param C type of the third value.\n * @param D type of the fourth value.\n * @property first First value.\n * @property second Second value.\n * @property third Third value.\n * @property fourth Fourth value.\n */\ndata class Quadruple&lt;out A, out B, out C, out D&gt;(\n        val first: A,\n        val second: B,\n        val third: C,\n        val fourth: D\n) : Serializable {\n\n    /**\n     * Returns string representation of the [Quadruple] including its [first], [second], [third] and [fourth] values.\n     */\n    override fun toString(): String = \"($first, $second, $third, $fourth)\"\n}\n\n/**\n * Converts this quadruple into a list.\n */\nfun &lt;T&gt; Quadruple&lt;T, T, T, T&gt;.toList(): List&lt;T&gt; = listOf(first, second, third, fourth)\n</code></pre>\n\n<p><strong>Quintuple</strong> (lets you pass 5 objects)</p>\n\n<pre><code>import java.io.Serializable\n\n/**\n * Created by nalcalag on 09/02/2019.\n * \n * Represents a quartet of values\n *\n * There is no meaning attached to values in this class, it can be used for any purpose.\n * Quadruple exhibits value semantics\n *\n * @param A type of the first value.\n * @param B type of the second value.\n * @param C type of the third value.\n * @param D type of the fourth value.\n * @param E type of the fifth value.\n * @property first First value.\n * @property second Second value.\n * @property third Third value.\n * @property fourth Fourth value.\n * @property fifth Fifth value.\n */\ndata class Quintuple&lt;out A, out B, out C, out D, out E&gt;(\n        val first: A,\n        val second: B,\n        val third: C,\n        val fourth: D,\n        val fifth: E\n) : Serializable {\n\n    /**\n     * Returns string representation of the [Quintuple] including its [first], [second], [third], [fourth] and [fifth] values.\n     */\n    override fun toString(): String = \"($first, $second, $third, $fourth, $fifth)\"\n}\n\n/**\n * Converts this quadruple into a list.\n */\nfun &lt;T&gt; Quintuple&lt;T, T, T, T, T&gt;.toList(): List&lt;T&gt; = listOf(first, second, third, fourth, fifth)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 2, "creation_date": 1612834407, "post_id": 55459156, "comment_id": 116885101, "body": "nice use of infix functions. though at that point could also just define an overloaded <code>tuple(..)</code> method. the repeated <code>then</code> makes it kinda long and verbose."}, {"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "reply_to_user": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 0, "creation_date": 1613287581, "post_id": 55459156, "comment_id": 117025497, "body": "Agreed, but the real value is when you already have a tuple; such as <code>val nTuple6 = nTuple4 then 7 then 8</code> \u2014 but indeed, a constructor-helper would be helpful too."}, {"owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "reply_to_user": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 0, "creation_date": 1615476320, "post_id": 55459156, "comment_id": 117707171, "body": "I think I misunderstood your comment @0cd \u2014 rereading I believe you were referring to overloading <code>rangeTo</code> to use <code>..</code> between tuple components? If so, absolutely! The only issue is existing overloads for <code>Int</code>, wherein <code>1 .. 2</code> would result in a range, rather than an <code>NTuple&lt;Int, Int&gt;</code>. You\u2019d have to do <code>NTuple(1, 2) .. 3</code>. Otherwise agreed, it\u2019s much less verbose."}, {"owner": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 0, "creation_date": 1615577343, "post_id": 55459156, "comment_id": 117743684, "body": "oh, i just meant to say one could create methods like tuple(T1 v1), tuple(T1 v1, T2 v2) and so on. I realized now I shouldn&#39;t have used the .. as that could lead to confusion. I like the &quot;then&quot; version that you have too :) .. was just sharing another option."}], "tags": [], "owner": {"reputation": 18378, "user_id": 409279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6mDB9.png?s=128&g=1", "display_name": "Dan Lugg", "link": "https://stackoverflow.com/users/409279/dan-lugg"}, "is_accepted": false, "score": 24, "last_activity_date": 1554134208, "creation_date": 1554134208, "answer_id": 55459156, "question_id": 46202147, "link": "https://stackoverflow.com/questions/46202147/kotlin-quadruple-quintuple-etc-for-destructuring/55459156#55459156", "title": "Kotlin quadruple, quintuple, etc. for destructuring", "body": "<p>I found it easiest to just code-gen the n-tuples needed. Use-case was functional extension methods for things like memoization, etc.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class NTuple2&lt;T1, T2&gt;(val t1: T1, val t2: T2)\n\ndata class NTuple3&lt;T1, T2, T3&gt;(val t1: T1, val t2: T2, val t3: T3)\n\ndata class NTuple4&lt;T1, T2, T3, T4&gt;(val t1: T1, val t2: T2, val t3: T3, val t4: T4)\n\ndata class NTuple5&lt;T1, T2, T3, T4, T5&gt;(val t1: T1, val t2: T2, val t3: T3, val t4: T4, val t5: T5)\n\ndata class NTuple6&lt;T1, T2, T3, T4, T5, T6&gt;(val t1: T1, val t2: T2, val t3: T3, val t4: T4, val t5: T5, val t6: T6)\n</code></pre>\n\n<p>And then generate the necesssary construction-helpers:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>infix fun &lt;T1, T2&gt; T1.then(t2: T2): NTuple2&lt;T1, T2&gt;\n{\n    return NTuple2(this, t2)\n}\n\ninfix fun &lt;T1, T2, T3&gt; NTuple2&lt;T1, T2&gt;.then(t3: T3): NTuple3&lt;T1, T2, T3&gt;\n{\n    return NTuple3(this.t1, this.t2, t3)\n}\n\ninfix fun &lt;T1, T2, T3, T4&gt; NTuple3&lt;T1, T2, T3&gt;.then(t4: T4): NTuple4&lt;T1, T2, T3, T4&gt;\n{\n    return NTuple4(this.t1, this.t2, this.t3, t4)\n}\n\ninfix fun &lt;T1, T2, T3, T4, T5&gt; NTuple4&lt;T1, T2, T3, T4&gt;.then(t5: T5): NTuple5&lt;T1, T2, T3, T4, T5&gt;\n{\n    return NTuple5(this.t1, this.t2, this.t3, this.t4, t5)\n}\n\ninfix fun &lt;T1, T2, T3, T4, T5, T6&gt; NTuple5&lt;T1, T2, T3, T4, T5&gt;.then(t6: T6): NTuple6&lt;T1, T2, T3, T4, T5, T6&gt;\n{\n    return NTuple6(this.t1, this.t2, this.t3, this.t4, this.t5, t6)\n}\n</code></pre>\n\n<p>So I could then do:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val nTuple4 = 1 then 2 then \"foo\" then \"bar\"\n</code></pre>\n\n<p>Resulting in:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val nTuple4: NTuple4&lt;Int, Int, String, String&gt;\n</code></pre>\n"}], "owner": {"reputation": 3305, "user_id": 356629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f563718f19b5aab648973d6e38a9d8af?s=128&d=identicon&r=PG", "display_name": "kenny_k", "link": "https://stackoverflow.com/users/356629/kenny-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12788, "favorite_count": 4, "accepted_answer_id": 46207340, "answer_count": 4, "score": 27, "last_activity_date": 1555343870, "creation_date": 1505318594, "question_id": 46202147, "link": "https://stackoverflow.com/questions/46202147/kotlin-quadruple-quintuple-etc-for-destructuring", "title": "Kotlin quadruple, quintuple, etc. for destructuring", "body": "<p>I am looking for a clean way to create destructurable objects in-line. <code>kotlin.Pair</code> and <code>kotlin.Triple</code> cover a lot of use cases, but sometimes there are more objects that are needed to be passed.</p>\n\n<p>One sample use case is RX's <code>zip</code> function, where the results of several I/O calls need to be mapped into another object:</p>\n\n<pre><code>Single\n    .zip(repositoryA.loadData(someId),\n         repositoryB.loadData(someId),\n         repositoryC.loadAll(),\n         repositoryD.loadAll()),\n         { objectA, objectB, objectsC, objectsD -&gt; /*some Kotlin magic*/ }\n    )\n    .map { (objectA, objectB, objectsC, objectsD) -&gt; /*do the mapping*/ }\n</code></pre>\n\n<p>I am trying to figure out what would go in the \"some Kotlin magic\" part. If there were only 3 repositories, it would be</p>\n\n<pre><code>Triple(objectA, objectB, objectsC)\n</code></pre>\n\n<p>Do I need to create a new data class for this, and for any n-tuple case, or is there another way?</p>\n"}, {"tags": ["arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "is_accepted": true, "score": 5, "last_activity_date": 1505307832, "creation_date": 1505307832, "answer_id": 46198367, "question_id": 46198280, "link": "https://stackoverflow.com/questions/46198280/assigning-values-to-arraylist-using-mapto/46198367#46198367", "title": "Assigning values to ArrayList using mapTo", "body": "<p>From the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-to.html\" rel=\"noreferrer\"><code>mapTo</code> documentation</a>:</p>\n\n<blockquote>\n  <p>Applies the given transform function to each element of the original collection and appends the results to the given destination.</p>\n</blockquote>\n\n<p>Therefore, you just need to return the elements you want:</p>\n\n<pre><code>(1..item_count).mapTo(mItems) { ModelClass(it) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1505340607, "post_id": 46206447, "comment_id": 79378479, "body": "I don&#39;t see a constructor that works like this and I can&#39;t get it to compile. Am I missing something?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1505376974, "post_id": 46206447, "comment_id": 79390511, "body": "You are right, it works only for <code>MutableList</code>, sorry"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1505391405, "post_id": 46206447, "comment_id": 79400204, "body": "Ah, makes sense."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1505377044, "last_edit_date": 1505377044, "creation_date": 1505335114, "answer_id": 46206447, "question_id": 46198280, "link": "https://stackoverflow.com/questions/46198280/assigning-values-to-arraylist-using-mapto/46206447#46206447", "title": "Assigning values to ArrayList using mapTo", "body": "<p>If you are OK with any <code>MutableList</code> (which is often <code>ArrayList</code> or similar):</p>\n\n<pre><code>val mItems1 = MutableList(item_count) { i -&gt; i }\nval mItems2 = MutableList(item_count) { ModelClass(it) }\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 6514270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97e2a509de8c25e864803c1d95d71fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Amiraslan", "link": "https://stackoverflow.com/users/6514270/amiraslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 0, "accepted_answer_id": 46198367, "answer_count": 2, "score": 2, "last_activity_date": 1505377044, "creation_date": 1505307527, "last_edit_date": 1505311529, "question_id": 46198280, "link": "https://stackoverflow.com/questions/46198280/assigning-values-to-arraylist-using-mapto", "title": "Assigning values to ArrayList using mapTo", "body": "<p>Previously I was using this code:</p>\n\n<pre><code>private val mItems = ArrayList&lt;Int&gt;()\n(1..item_count).mapTo(mItems) { it }\n\n/*\n mItems will be: \"1, 2, 3, 4, 5, ..., item_count\"\n*/\n</code></pre>\n\n<p>Now, I am using a class instead of <code>Int</code>, but the class has <code>Int</code> member with name <code>id</code>. </p>\n\n<pre><code>class ModelClass(var id: Int = 0, var status: String = \"smth\")\n</code></pre>\n\n<p>So how can I use this method to fill the <code>ArrayList</code> in similar way? </p>\n\n<pre><code>//?\nprivate val mItems = ArrayList&lt;ModelClass&gt;()\n(1..item_count).mapTo(mItems) { mItems[position].id = it } // Something like this\n//?\n</code></pre>\n"}, {"tags": ["android", "compiler-errors", "kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1505307340, "post_id": 46198164, "comment_id": 79358753, "body": "You tried to use <code>null</code> with a <code>String</code>. If that seems lacklustre, it&#39;s because there&#39;s zero code or anything to go from. Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1505312613, "post_id": 46198164, "comment_id": 79362817, "body": "@BakaWaii same user, same zero description"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1505346170, "post_id": 46198164, "comment_id": 79380036, "body": "Please don&#39;t repeat questions. Simply editing your original post with any new information you have, any new code you&#39;ve tried, or an explanation of why any posted answers aren&#39;t working will bump it to the top of the active queue."}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "is_accepted": true, "score": 1, "last_activity_date": 1505307323, "creation_date": 1505307323, "answer_id": 46198213, "question_id": 46198164, "link": "https://stackoverflow.com/questions/46198164/i-have-error-in-android-with-kotlin/46198213#46198213", "title": "I have error in android with Kotlin", "body": "<p>TypeCastException: null cannot be cast to non-null type kotlin.String</p>\n\n<p>You try to cast object which null to String. See line 56 in All_Station.kt</p>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 0, "last_activity_date": 1505308312, "creation_date": 1505308312, "answer_id": 46198547, "question_id": 46198164, "link": "https://stackoverflow.com/questions/46198164/i-have-error-in-android-with-kotlin/46198547#46198547", "title": "I have error in android with Kotlin", "body": "<p>You are trying to pass <strong>null</strong> to <strong>Non-null</strong> String type.</p>\n\n<p>For example, if you have String like this.</p>\n\n<p><code>var myString: String = \"\"</code></p>\n\n<p>In runtime, if you try to set it as null it will cause you the error.</p>\n\n<p>You have to make the specific string to nullable type like the below example:</p>\n\n<pre><code>var myString: String? = null\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "closed_date": 1505346139, "accepted_answer_id": 46198213, "answer_count": 2, "score": -4, "last_activity_date": 1505309178, "creation_date": 1505307170, "last_edit_date": 1505309178, "question_id": 46198164, "link": "https://stackoverflow.com/questions/46198164/i-have-error-in-android-with-kotlin", "closed_reason": "Duplicate", "title": "I have error in android with Kotlin", "body": "<p>Why this error?</p>\n\n<pre><code>    09-12 16:36:31.502 1886-1886/com.getloction.nourmedhat.smartgate.getlocation \nE/AndroidRuntime: FATAL EXCEPTION:\n main Process: com.getloction.nourmedhat.smartgate.getlocation, \nPID: 1886 kotlin.TypeCastException: null cannot be cast to non-null type kotlin.String \n\nat com.getloction.nourmedhat.smartgate.getlocation.All_Station$onCreate$2.onDataChange(All_Station.kt:56) \nat com.google.android.gms.internal.to.zza(Unknown Source) at com.google.android.gms.internal.vj.zzHX(Unknown Source) \n        at com.google.android.gms.internal.vp.run(Unknown Source) \n        at android.os.Handler.handleCallback(Handler.java:751) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:154) \n        at android.app.ActivityThread.main(ActivityThread.java:6682) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8602929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qeJtm.jpg?s=128&g=1", "display_name": "Angeles G", "link": "https://stackoverflow.com/users/8602929/angeles-g"}, "edited": false, "score": 0, "creation_date": 1505342439, "post_id": 46205250, "comment_id": 79379077, "body": "I&#39;ve tried the simplified version and the CountDownLatch and both work great. Thank you!"}, {"owner": {"reputation": 2332, "user_id": 682216, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/752644e7386956fde1e497e0b27546f3?s=128&d=identicon&r=PG", "display_name": "Nicolas Jafelle", "link": "https://stackoverflow.com/users/682216/nicolas-jafelle"}, "edited": false, "score": 0, "creation_date": 1512074290, "post_id": 46205250, "comment_id": 82121946, "body": "I read that runBlocking is for testing purposes, not ideal for final products."}], "tags": [], "owner": {"reputation": 2472, "user_id": 775282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c161c3b25645471c05560402910ef118?s=128&d=identicon&r=PG", "display_name": "fal", "link": "https://stackoverflow.com/users/775282/fal"}, "is_accepted": true, "score": 3, "last_activity_date": 1505330107, "creation_date": 1505330107, "answer_id": 46205250, "question_id": 46197077, "link": "https://stackoverflow.com/questions/46197077/kotlin-anko-coroutines-return-outside-async/46205250#46205250", "title": "Kotlin &amp; Anko coroutines: return outside async", "body": "<p>I see a couple of ways to do this. One is to use the <code>kotlinx.coroutines.experimental</code> method <code>runBlocking</code>:</p>\n\n<pre><code>val user = runBlocking(CommonPool) {\n    val asyncUser = async(UI) {\n        val obtainData: Deferred&lt;String&gt; = bg {\n            ...\n        }\n\n        val obtainedData = storeAndRetrieve(obtainData.await(), context)\n        return@async obtainedData\n    }\n    return@runBlocking asyncUser.await()\n}\n</code></pre>\n\n<p>Depending on use case, you may even be able to simplify this to: </p>\n\n<pre><code>val asyncUser = runBlocking {\n    async(CommonPool) {\n        val obtainedData = storeAndRetrieve(api?.obtainData(sphelper.getDefaultUser(context)), context)\n        return@async obtainedData\n    }.await()\n}\n</code></pre>\n\n<p>Another way is to use a basic Java <code>CountDownLatch</code>:</p>\n\n<pre><code>var asyncUser: String? = null\nval c = CountDownLatch(1)\nasync(UI) {\n    val obtainData: Deferred&lt;String&gt; = bg {\n        ...\n    }\n\n    val obtainedData = obtainData.await()\n    asyncUser = obtainedData\n    c.countDown()\n}\nc.await()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8602929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qeJtm.jpg?s=128&g=1", "display_name": "Angeles G", "link": "https://stackoverflow.com/users/8602929/angeles-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1490, "favorite_count": 0, "accepted_answer_id": 46205250, "answer_count": 1, "score": 2, "last_activity_date": 1505330107, "creation_date": 1505304253, "last_edit_date": 1505315344, "question_id": 46197077, "link": "https://stackoverflow.com/questions/46197077/kotlin-anko-coroutines-return-outside-async", "title": "Kotlin &amp; Anko coroutines: return outside async", "body": "<p>In our project we need to obtain some data (which will be stored) before doing operations. In case the data was obtained more than 15 minutes ago we have to refresh it. </p>\n\n<p>We're using Kotlin + Anko coroutines in order to do that. The idea (assuming the data was obtained at some point before) is that:</p>\n\n<p>The method gets called and checks when we got the data.\nIf it was less than 15 min ago, returns it. \nIf not, obtain it asynchronously (it's a network operation), store it and return it. </p>\n\n<p>Since we can't do anything before getting the refreshed data, the refresh must be synchronous (althrough the network operation itself is async). </p>\n\n<p>We've this code:</p>\n\n<pre><code>fun Context.retrieveInfo(api: Api?): User? {\n\n  try {\n\n    // For sake of simplification the real conditional check is removed\n    if (time &gt; 15) {\n\n        val context = this\n        val asyncUser = async(UI) {\n            val obtainData: Deferred&lt;Data?&gt; = bg {\n                api?.obtainData(sphelper.getDefaultUser(context))\n            }\n\n            val obtainedData = storeAndRetrieve(obtainData.await(), context)\n            return@async obtainedData\n        }\n\n // ???????\n\n    } else {\n        val input = ObjectInputStream(this.openFileInput(\"data.dat\"))\n        return input.readObject() as Data\n    }\n  } catch (e: Exception) {\n    return null\n  }\n}\n</code></pre>\n\n<p>How can we make the function wait for the result outside the async(UI) block? That return is needed, but we have no clue about what should we put there. We've tried with the getCompleted() method of the Deferred object ( return asyncUser.getCompleted()) but it ends up crashing because it returns null. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 3143, "user_id": 1380823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQFQV.jpg?s=128&g=1", "display_name": "Rafal Malek", "link": "https://stackoverflow.com/users/1380823/rafal-malek"}, "edited": false, "score": 3, "creation_date": 1505300292, "post_id": 46195553, "comment_id": 79353730, "body": "you have to add same scope to Component, try: <code>@Singleton @Subcomponent(modules = arrayOf(NetModule::class))</code>"}, {"owner": {"reputation": 385, "user_id": 8352819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d123e9c386d3b9638cea80081e736035?s=128&d=identicon&r=PG&f=1", "display_name": "Kremik13", "link": "https://stackoverflow.com/users/8352819/kremik13"}, "reply_to_user": {"reputation": 3143, "user_id": 1380823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQFQV.jpg?s=128&g=1", "display_name": "Rafal Malek", "link": "https://stackoverflow.com/users/1380823/rafal-malek"}, "edited": false, "score": 0, "creation_date": 1505301284, "post_id": 46195553, "comment_id": 79354366, "body": "I doesn&#39;t help as it shouldn&#39;t: <a href=\"https://stackoverflow.com/questions/37797519/how-to-make-subcomponent-singleton-in-dagger-2\" title=\"how to make subcomponent singleton in dagger 2\">stackoverflow.com/questions/37797519/&hellip;</a>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1505303300, "post_id": 46195553, "comment_id": 79355785, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28170292/problems-with-singletons-when-using-component-dependencies\">Problems with singletons when using component dependencies</a>"}, {"owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "edited": false, "score": 0, "creation_date": 1505307669, "post_id": 46195553, "comment_id": 79358997, "body": "Modules in subcomponent should have another scope as in parent component. Try to use custom scopes for your module"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1505349287, "post_id": 46195553, "comment_id": 79380826, "body": "The error message tells you exactly what is wrong. Your subcomponent is unscoped. It can&#39;t reference scoped (<code>@Singleton</code>) bindings. The solution is to define a new scope for your Subcomponent"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "reply_to_user": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "edited": false, "score": 0, "creation_date": 1524057771, "post_id": 46195553, "comment_id": 86817103, "body": "@EduardKornev care to explain more about that? I tried having my appComponent scoped with a singleton and the rest of my modules and SubComponents, another scope and get an error saying you cant reference different scopes in the appComponent"}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 8482176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dedd9cd1f3714a107e0077c176b8a35?s=128&d=identicon&r=PG&f=1", "display_name": "Ron Daulagupu", "link": "https://stackoverflow.com/users/8482176/ron-daulagupu"}, "edited": false, "score": 19, "creation_date": 1551989577, "post_id": 47120351, "comment_id": 96854054, "body": "This helped me but can you explain why adding singleton annotation matters here??"}, {"owner": {"reputation": 600, "user_id": 3488026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b5829ce0ab643d2ebeb56bff6fe7ae?s=128&d=identicon&r=PG&f=1", "display_name": "mz496", "link": "https://stackoverflow.com/users/3488026/mz496"}, "edited": false, "score": 2, "creation_date": 1566260468, "post_id": 47120351, "comment_id": 101592111, "body": "Thanks! Sneaky bug I had, though: make sure it&#39;s Javax&#39;s javax.inject.Singleton! I accidentally imported Guice&#39;s com.google.inject.Singleton and had a bad time..."}], "tags": [], "owner": {"reputation": 1980, "user_id": 8886090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1584554224961757/picture?type=large", "display_name": "Dipendra Sharma", "link": "https://stackoverflow.com/users/8886090/dipendra-sharma"}, "is_accepted": true, "score": 60, "last_activity_date": 1509876614, "creation_date": 1509876614, "answer_id": 47120351, "question_id": 46195553, "link": "https://stackoverflow.com/questions/46195553/component-unscoped-may-not-reference-scoped-bindings/47120351#47120351", "title": "Component (unscoped) may not reference scoped bindings", "body": "<p>Put @Singleton with your Component</p>\n\n<pre><code>@Singleton\n@Subcomponent(modules = arrayOf(NetModule::class))\ninterface NetComponent {\nfun inject(service: CurrencyDownloaderService)\n}\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 8352819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d123e9c386d3b9638cea80081e736035?s=128&d=identicon&r=PG&f=1", "display_name": "Kremik13", "link": "https://stackoverflow.com/users/8352819/kremik13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13246, "favorite_count": 3, "accepted_answer_id": 47120351, "answer_count": 1, "score": 36, "last_activity_date": 1509876614, "creation_date": 1505299777, "question_id": 46195553, "link": "https://stackoverflow.com/questions/46195553/component-unscoped-may-not-reference-scoped-bindings", "title": "Component (unscoped) may not reference scoped bindings", "body": "<p>I've recently started using dagger-2 with kotlin. Unfortunately I have ecnountered a problem with sumbcomponants and I have trouble understanding why I get this gradle error:</p>\n\n<pre><code>...NetComponent (unscoped) may not reference scoped bindings:\n@dagger.Subcomponent(modules = \n{com.example.kremik.cryptodroid.di.module.NetModule.class})\n@Singleton @Provides com.example.kremik.cryptodroid.data.remote.CMCService com.example.kremik.cryptodroid.di.module.NetModule.providesCMCService(retrofit2.Retrofit)\n@Singleton @Provides retrofit2.Retrofit com.example.kremik.cryptodroid.di.module.NetModule.providesRetrofit()\n@org.jetbrains.annotations.NotNull @Singleton @Provides com.example.kremik.cryptodroid.data.service.CurrencyDataPresenter com.example.kremik.cryptodroid.di.module.NetModule.providesCurrencyDataPresenter(com.example.kremik.cryptodroid.data.local.CurrenciesProvider, com.example.kremik.cryptodroid.ui.LivePrices.LivePricesPresenter)\n</code></pre>\n\n<p>Module:app</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.1\"\ndefaultConfig {\n    applicationId \"com.example.kremik.cryptodroid\"\n    minSdkVersion 19\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner     \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nconfigurations.all {\n    resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'),     \n'proguard-rules.pro'\n    }\n}\n//    dataBinding {\n//        enabled = true\n//    }\nkapt {\n    generateStubs = true\n}\n\n}\ndependencies {\n (...)\n//Dagger2\nimplementation 'com.google.dagger:dagger:2.11'\nimplementation 'com.google.dagger:dagger-android-support:2.11'\nimplementation 'com.google.dagger:dagger-android-processor:2.11'\nkapt 'com.google.dagger:dagger-compiler:2.11'\n(...)\n}\n</code></pre>\n\n<p>NetModule:\n    @Module\n    class NetModule(private val BASE_URL: String) {</p>\n\n<pre><code>@Provides\n@Singleton\nfun providesCurrencyDataPresenter(provider: CurrenciesProvider,\n                                  pricesPresenter: LivePricesPresenter) =\n        CurrencyDataPresenter(provider, pricesPresenter)\n\n@Provides\n@Singleton\nfun providesRetrofit() = Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(GsonConverterFactory.create())\n        .build()\n\n@Provides\n@Singleton\nfun providesCMCService(retrofit: Retrofit) = \nretrofit.create(CMCService::class.java)\n}\n</code></pre>\n\n<p>NetComponent:</p>\n\n<pre><code>@Subcomponent(modules = arrayOf(NetModule::class))\ninterface NetComponent {\nfun inject(service: CurrencyDownloaderService)\n}\n</code></pre>\n\n<p>Does anyone know what could be the issue ?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1505292895, "post_id": 46193055, "comment_id": 79348235, "body": "Something with Firebase, although you haven&#39;t add any dependency to it? Strange thing."}, {"owner": {"reputation": 87, "user_id": 5049379, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e8218ef1352e7686796d85f0fb1b30e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanni Raj", "link": "https://stackoverflow.com/users/5049379/sanni-raj"}, "reply_to_user": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1505292970, "post_id": 46193055, "comment_id": 79348286, "body": "I have added all these library - compile &#39;com.google.firebase:firebase-messaging:10.2.6&#39;     compile &#39;com.google.firebase:firebase-database:10.0.1&#39;     compile &#39;com.firebase:firebase-client-android:2.3.1&#39;     compile &#39;com.google.firebase:firebase-auth:10.0.1&#39;     compile &#39;com.google.firebase:firebase-storage:10.0.1&#39;"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1505293122, "post_id": 46193055, "comment_id": 79348397, "body": "Just an idea: Kotlin does not have static methods. Maybe you have a static method in Java that simply wasn&#39;t converted appropriately. See: <a href=\"https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin\" title=\"what is the equivalent of java static methods in kotlin\">stackoverflow.com/questions/40352684/&hellip;</a>"}, {"owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "edited": false, "score": 0, "creation_date": 1505293189, "post_id": 46193055, "comment_id": 79348454, "body": "Just use the same version number through out i.e 10.2.6 @ Sanni Raj"}, {"owner": {"reputation": 87, "user_id": 5049379, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e8218ef1352e7686796d85f0fb1b30e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanni Raj", "link": "https://stackoverflow.com/users/5049379/sanni-raj"}, "reply_to_user": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1505293855, "post_id": 46193055, "comment_id": 79348954, "body": "@xvlcw There is not static method in that file"}, {"owner": {"reputation": 87, "user_id": 5049379, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e8218ef1352e7686796d85f0fb1b30e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanni Raj", "link": "https://stackoverflow.com/users/5049379/sanni-raj"}, "reply_to_user": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "edited": false, "score": 0, "creation_date": 1505294223, "post_id": 46193055, "comment_id": 79349248, "body": "@A.N.T after changing version number getting same issue"}, {"owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "edited": false, "score": 0, "creation_date": 1505294587, "post_id": 46193055, "comment_id": 79349540, "body": "where is the error coming from ? is it coming from a method ? @ Sanni Raj ?"}, {"owner": {"reputation": 87, "user_id": 5049379, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e8218ef1352e7686796d85f0fb1b30e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanni Raj", "link": "https://stackoverflow.com/users/5049379/sanni-raj"}, "reply_to_user": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "edited": false, "score": 0, "creation_date": 1505295265, "post_id": 46193055, "comment_id": 79350050, "body": "@A.N.T, After installing the app when I open it then getting this issue"}, {"owner": {"reputation": 1931, "user_id": 7471088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/edAis.jpg?s=128&g=1", "display_name": "Tandoh Anthony Nwi-Ackah", "link": "https://stackoverflow.com/users/7471088/tandoh-anthony-nwi-ackah"}, "edited": false, "score": 0, "creation_date": 1505297247, "post_id": 46193055, "comment_id": 79351529, "body": "can you please send the build.gradle(Module:app) @ Sannni ?"}], "owner": {"reputation": 87, "user_id": 5049379, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e8218ef1352e7686796d85f0fb1b30e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanni Raj", "link": "https://stackoverflow.com/users/5049379/sanni-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505314419, "creation_date": 1505292794, "last_edit_date": 1505314419, "question_id": 46193055, "link": "https://stackoverflow.com/questions/46193055/migration-from-java-to-kotlin", "title": "Migration from Java to Kotlin", "body": "<p>I have one Android app written in Java but I want to convert it to Kotlin. I have added Kotlin plugin and configured my app's gradle.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\ndependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>I am converting a single file from Java to Kotlin using - code -> convert java file to kotlin</p>\n\n<p>After conversion I am getting this error:</p>\n\n<pre><code>Process: com.stockal.app, PID: 10633\n\njava.lang.NoSuchMethodError: No static method zzb(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Lcom/google/android/gms/common/internal/zzac; or its super classes (declaration of 'com.google.android.gms.common.internal.zzac' appears in /data/app/com.stockal.app-1/base.apk:classes75.dex)\n    at com.google.firebase.provider.FirebaseInitProvider.zza(Unknown Source)\n    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source)\n    at android.app.ActivityThread.installProvider(ActivityThread.java:5461)\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:5032)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4972)\n    at android.app.ActivityThread.-wrap1(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1555)\n    at android.os.Handler.dispatchMessage(Handler.java:111)\n    at android.os.Looper.loop(Looper.java:207)\n    at android.app.ActivityThread.main(ActivityThread.java:5776)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 2396145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b998d5d4d8db4b60e98462151d843b29?s=128&d=identicon&r=PG", "display_name": "michael salmon", "link": "https://stackoverflow.com/users/2396145/michael-salmon"}, "edited": false, "score": 0, "creation_date": 1505295606, "post_id": 46193052, "comment_id": 79350300, "body": "Maybe I&#39;m missing something, but from the javadoc <a href=\"https://docs.spring.io/autorepo/docs/spring-boot/1.4.x-SNAPSHOT/api/org/springframework/boot/test/web/client/TestRestTemplate.html\" rel=\"nofollow noreferrer\">docs.spring.io/autorepo/docs/spring-boot/1.4.x-SNAPSHOT/api/&zwnj;&#8203;org/&hellip;</a> it says the opposite &quot;If you are using the SpringBootTest annotation, a TestRestTemplate is automatically available and can be Autowired into your test.&quot;"}, {"owner": {"reputation": 382, "user_id": 2396145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b998d5d4d8db4b60e98462151d843b29?s=128&d=identicon&r=PG", "display_name": "michael salmon", "link": "https://stackoverflow.com/users/2396145/michael-salmon"}, "edited": false, "score": 0, "creation_date": 1505297344, "post_id": 46193052, "comment_id": 79351597, "body": "also got it working unexpectedly by extending AbstractTestNGSpringContextTests, i.e. class ProductSetControllerTest : AbstractTestNGSpringContextTests() {"}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 382, "user_id": 2396145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b998d5d4d8db4b60e98462151d843b29?s=128&d=identicon&r=PG", "display_name": "michael salmon", "link": "https://stackoverflow.com/users/2396145/michael-salmon"}, "edited": false, "score": 0, "creation_date": 1505297681, "post_id": 46193052, "comment_id": 79351830, "body": "@michaelsalmon interesting, It used to NOT do that - anyway, I am glad it&#39;s solved and I will remove my answer soon"}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 382, "user_id": 2396145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b998d5d4d8db4b60e98462151d843b29?s=128&d=identicon&r=PG", "display_name": "michael salmon", "link": "https://stackoverflow.com/users/2396145/michael-salmon"}, "edited": false, "score": 0, "creation_date": 1505297910, "post_id": 46193052, "comment_id": 79352013, "body": "@michaelsalmon that&#39;s just a standard spring config class where you manually configure and set up the bean - that&#39;s all. This is especially useful when you want to have a preconfigured testRestTemplate at your disposal"}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": false, "score": 4, "last_activity_date": 1505293218, "last_edit_date": 1505293218, "creation_date": 1505292778, "answer_id": 46193052, "question_id": 46192828, "link": "https://stackoverflow.com/questions/46192828/kotlin-lateinit-testresttemplate-not-initializing-for-integration-tests/46193052#46193052", "title": "Kotlin - lateinit TestRestTemplate not initializing for integration tests", "body": "<p>Spring Boot does not automatically instantiate <code>TestRestTemplate</code> bean(duh!). </p>\n\n<p>You need to define it yourself and then you will be able to use it.</p>\n\n<pre><code>@Bean\nopen fun restTemplate(): TestRestTemplate {\n    return TestRestTemplate()\n}\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 2396145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b998d5d4d8db4b60e98462151d843b29?s=128&d=identicon&r=PG", "display_name": "michael salmon", "link": "https://stackoverflow.com/users/2396145/michael-salmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2666, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505293218, "creation_date": 1505292100, "question_id": 46192828, "link": "https://stackoverflow.com/questions/46192828/kotlin-lateinit-testresttemplate-not-initializing-for-integration-tests", "title": "Kotlin - lateinit TestRestTemplate not initializing for integration tests", "body": "<p>I have a spring-boot app in development using kotlin - overall things are going well. (spring 1.5.6.RELEASE, kotlin 1.1.4-3)</p>\n\n<p>Anyway, I was adding my first controller test after reviewing some example code, and am running into this annoying error: </p>\n\n<p><strong>kotlin.UninitializedPropertyAccessException: lateinit property restTemplate has not been initialized</strong></p>\n\n<p>kotlin.UninitializedPropertyAccessException: lateinit property testRestTemplate has not been initialized</p>\n\n<pre><code>at com.thingy.controllers.ProductSetControllerTest.getTestRestTemplate(ProductSetControllerTest.kt:16)\nat com.thingy.controllers.ProductSetControllerTest.testGet(ProductSetControllerTest.kt:20)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat org.testng.TestRunner.privateRun(TestRunner.java:767)\nat org.testng.TestRunner.run(TestRunner.java:617)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\nat org.testng.SuiteRunner.run(SuiteRunner.java:240)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:72)\nat org.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:123)\n</code></pre>\n\n<p>Here's the test class</p>\n\n<pre><code>import org.junit.runner.RunWith\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.boot.test.web.client.TestRestTemplate\nimport org.springframework.test.context.junit4.SpringRunner\nimport org.testng.Assert\nimport org.testng.annotations.Test\n\n@RunWith(SpringRunner::class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass ProductSetControllerTest {\n\n    @Autowired\n    lateinit var restTemplate: TestRestTemplate\n\n    @Test\n    fun testGet() {\n        val forObject = restTemplate.getForObject(\"/\", String::class.java)\n        Assert.assertEquals(forObject, \"gettest\")\n    }\n}\n</code></pre>\n\n<p>Some addl things I've tried:\n - ensured I'm not using deprecated TestRestTemplate\n - tried using setter injection instead of field injection, but was a waste of time.\n - disabled kotlin compiler plugins</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 2, "creation_date": 1505293103, "post_id": 46192621, "comment_id": 79348382, "body": "For completeness: Null variable without explicit type declaration will implicitly assume type <code>Nothing?</code> which can only be <code>null</code>."}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 4, "last_activity_date": 1505291798, "last_edit_date": 1505291798, "creation_date": 1505291433, "answer_id": 46192621, "question_id": 46192450, "link": "https://stackoverflow.com/questions/46192450/required-nothing-error-while-defining-null-local-variable-and-setting-it-later-i/46192621#46192621", "title": "Required Nothing error while defining null local variable and setting it later in method", "body": "<p>If you know <code>center</code> will be <code>RequestCenterDetails</code>, do </p>\n\n<pre><code>var center: RequestCenterDetails? = null\n</code></pre>\n\n<p>If <code>center</code> can also be of another type, do </p>\n\n<pre><code> var center: Any? = null\n</code></pre>\n\n<p>A more concise version of what you're doing would be: </p>\n\n<pre><code>var center: RequestCenterdetails? = tagObject as? RequestCenterDetails\n</code></pre>\n\n<p>which assigns center the value of <code>tagObject</code> if <code>tagObject</code> is <code>RequestRecenterDetails</code>, else assigns it <code>null</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 1, "last_activity_date": 1505291460, "creation_date": 1505291460, "answer_id": 46192631, "question_id": 46192450, "link": "https://stackoverflow.com/questions/46192450/required-nothing-error-while-defining-null-local-variable-and-setting-it-later-i/46192631#46192631", "title": "Required Nothing error while defining null local variable and setting it later in method", "body": "<p>The reason is, that your variable <code>center</code> has the type <code>Nothing?</code>.\nYou can change this by saying:</p>\n\n<pre><code>var center: Any? = null\n</code></pre>\n\n<p>But this is not advisable to work with such a generic type.</p>\n"}, {"tags": [], "owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "is_accepted": false, "score": 0, "last_activity_date": 1505301984, "creation_date": 1505301984, "answer_id": 46196324, "question_id": 46192450, "link": "https://stackoverflow.com/questions/46192450/required-nothing-error-while-defining-null-local-variable-and-setting-it-later-i/46196324#46196324", "title": "Required Nothing error while defining null local variable and setting it later in method", "body": "<p>You just need to specify type as it's not clear to the compiler, I'd recommend you to put the highest possible common possible type in hierarchy(for both <code>RequestCenterDetails</code> and <code>Center</code>) , or just <code>Any</code> if you're okay to accept any type:</p>\n\n<p><code>\n        var center: Any = null\n</code></p>\n\n<p>or </p>\n\n<p><code>\n        var center: CommonBaseClass = null\n</code></p>\n"}], "owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 46192621, "answer_count": 3, "score": 1, "last_activity_date": 1505301984, "creation_date": 1505290843, "question_id": 46192450, "link": "https://stackoverflow.com/questions/46192450/required-nothing-error-while-defining-null-local-variable-and-setting-it-later-i", "title": "Required Nothing error while defining null local variable and setting it later in method", "body": "<p>I have defined variable which is null but later on based on view.tag object type i have to set it.But it say <code>Required Nothing found RequestCenterDetails</code>. Below is how i am trying to do this</p>\n\n<pre><code> holder?.addressIcon?.setOnClickListener {\n\n        val tagObject = holder.institutecardView.getTag(R.id.item_institute_cardview)\n        var center=null\n\n        if(tagObject is RequestCenterDetails)\n        {\n            Log.d(\"location\",\"-------------TEST----------- its a RequestCenter\")\n            center=tagObject as RequestCenterDetails // over here it say \"Required Nothing found RequestCenterDetails\"\n        }\n        else if(tagObject is Center)\n        {\n            Log.d(\"location\",\"-------------TEST----------- its a Center\")\n        }\n</code></pre>\n\n<p>Problem is that i have to take same action based on there field value but both object has different field names. Is there any better way to do this. I am new to kotlin.</p>\n"}, {"tags": ["javascript", "export", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 8601705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b614879f1f961c909eea87148066c6ed?s=128&d=identicon&r=PG", "display_name": "Maxim Shafirov", "link": "https://stackoverflow.com/users/8601705/maxim-shafirov"}, "is_accepted": true, "score": 2, "last_activity_date": 1505286713, "creation_date": 1505286713, "answer_id": 46191103, "question_id": 46190782, "link": "https://stackoverflow.com/questions/46190782/how-to-export-kotlin-functions-to-javascript-with-correct-name/46191103#46191103", "title": "How to export Kotlin functions to Javascript with correct name", "body": "<p>You can use @JsName annotation to provide exact name for the function (or other symbol) in compiled javascript.\nI.e.</p>\n\n<pre><code>@JsName(\"withParam\")    \nfun withParam(args: String) {\n      println(\"JavaScript generated through Kotlin\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1795, "user_id": 5267551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/882235991864355/picture?type=large", "display_name": "Rafal Wili\u0144ski", "link": "https://stackoverflow.com/users/5267551/rafal-wili%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 46191103, "answer_count": 1, "score": 1, "last_activity_date": 1505286713, "creation_date": 1505285655, "question_id": 46190782, "link": "https://stackoverflow.com/questions/46190782/how-to-export-kotlin-functions-to-javascript-with-correct-name", "title": "How to export Kotlin functions to Javascript with correct name", "body": "<p>I'm trying to export Kotlin functions to Javascript. The problem is, functions which require arguments are renamed after Kotlin2JS operation, here's an example:</p>\n\n<p>Kotlin source:</p>\n\n<pre><code>fun withParam(args: String) {\n    println(\"JavaScript generated through Kotlin\")\n}\n\nfun withoutParams() {\n    println(\"Without params\")\n}\n</code></pre>\n\n<p>After Kotlin2JS, trying to require in Node REPL:</p>\n\n<pre><code>&gt; const kotlinBundle = require('./build/index.js');\nundefined\n&gt; kotlinBundle\n{ 'withParam_61zpoe$': [Function: withParam],\n  withoutParams: [Function: withoutParams] }\n&gt;\n</code></pre>\n\n<p>As you can see, function with argument got exported with <code>_61zpoe$</code> suffix. Is it possible to get rid of that part?</p>\n\n<p>I'm using <code>kotlin2js</code> plugin and <code>kotlin-stdlib-js:1.1.1</code> library, my <code>kotlinOptions</code> are:</p>\n\n<pre><code>compileKotlin2Js.kotlinOptions {\n  moduleKind = \"commonjs\"\n  outputFile = \"build/index.js\"\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 744, "user_id": 3333848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/339dfebbd8671f34e6181bc6f937e0d9?s=128&d=identicon&r=PG&f=1", "display_name": "Manthan Patel", "link": "https://stackoverflow.com/users/3333848/manthan-patel"}, "edited": false, "score": 0, "creation_date": 1505283588, "post_id": 46190107, "comment_id": 79342420, "body": "please check this <a href=\"https://stackoverflow.com/a/7471652/3333848\">stackoverflow.com/a/7471652/3333848</a>"}, {"owner": {"reputation": 406, "user_id": 4548398, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mn7tMTO_juI/AAAAAAAAAAI/AAAAAAAAAS4/Wa67ryftnGA/photo.jpg?sz=128", "display_name": "Anders S&#248;rensen", "link": "https://stackoverflow.com/users/4548398/anders-s%c3%b8rensen"}, "edited": false, "score": 0, "creation_date": 1505283620, "post_id": 46190107, "comment_id": 79342443, "body": "Im not sure what you want here, can you please try explain it more detailed. What i read here sounds really shady."}, {"owner": {"reputation": 530, "user_id": 5576570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LE3UV.jpg?s=128&g=1", "display_name": "Sanjay Kumaar", "link": "https://stackoverflow.com/users/5576570/sanjay-kumaar"}, "edited": false, "score": 0, "creation_date": 1505283654, "post_id": 46190107, "comment_id": 79342458, "body": "what you exactly want to do explain please.."}, {"owner": {"reputation": 535, "user_id": 5608448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uSIcVcSPLcI/AAAAAAAAAAI/AAAAAAAAAE8/U6-BeiweceM/photo.jpg?sz=128", "display_name": "Geethakrishna Juluri", "link": "https://stackoverflow.com/users/5608448/geethakrishna-juluri"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1505284341, "post_id": 46190107, "comment_id": 79342796, "body": "Yeah, @Lunar, thats what I am looking for. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3181, "user_id": 3728438, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/51f9885689692b6056ae66e2a517ef1f?s=128&d=identicon&r=PG&f=1", "display_name": "Manikanta", "link": "https://stackoverflow.com/users/3728438/manikanta"}, "is_accepted": false, "score": 2, "last_activity_date": 1505283845, "creation_date": 1505283845, "answer_id": 46190215, "question_id": 46190107, "link": "https://stackoverflow.com/questions/46190107/call-back-on-new-app-install/46190215#46190215", "title": "Call back on new App install", "body": "<p>You should register for a broadcast when a package is added/removed, where android system broadcast a message to the all the registered apps.</p>\n\n<p>so in your manifest add a broadcast receiver.</p>\n\n<pre><code>&lt;receiver android:name=\".AppListener\"&gt;\n            &lt;intent-filter android:priority=\"{highInteger}\"&gt;\n                &lt;action android:name=\"android.intent.action.PACKAGE_ADDED\"/&gt;\n                &lt;action android:name=\"android.intent.action.PACKAGE_REMOVED\"/&gt;\n                &lt;data android:scheme=\"package\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n\n<p>Where <code>AppListener</code> is your java class where in onReceive() you can perform the desired operation.</p>\n\n<p>Comment for any further doubts.</p>\n"}], "owner": {"reputation": 535, "user_id": 5608448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uSIcVcSPLcI/AAAAAAAAAAI/AAAAAAAAAE8/U6-BeiweceM/photo.jpg?sz=128", "display_name": "Geethakrishna Juluri", "link": "https://stackoverflow.com/users/5608448/geethakrishna-juluri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1505457953, "answer_count": 1, "score": -2, "last_activity_date": 1505283845, "creation_date": 1505283417, "question_id": 46190107, "link": "https://stackoverflow.com/questions/46190107/call-back-on-new-app-install", "closed_reason": "Duplicate", "title": "Call back on new App install", "body": "<p>I want to perform some action in my app when a new other application is installed in the device.</p>\n\n<p>Is there any way I can do that? TIA</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1505302417, "creation_date": 1505302417, "answer_id": 46196474, "question_id": 46187319, "link": "https://stackoverflow.com/questions/46187319/how-to-create-splash-screen-in-tornadofx/46196474#46196474", "title": "How to create splash screen in tornadofx", "body": "<p>You are not using the JavaFX preloader here as far as I can see, so this is really no different from opening one View while you do your loading, and then replacing that View with another View when you're done. Just point your app class to a <code>SplashScreenView</code>, handle your loading there, then do <code>replaceWith(MainView::class)</code> when you are done. In <code>MainView</code>, you might want to override the <code>onDock</code> callback and do <code>currentStage?.sizeToScene()</code> to make sure the window resizes to your desired size.</p>\n"}], "owner": {"reputation": 5339, "user_id": 314310, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/9c74f9c66df98052bef13864bffcd09c?s=128&d=identicon&r=PG", "display_name": "Anindya Chatterjee", "link": "https://stackoverflow.com/users/314310/anindya-chatterjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 46196474, "answer_count": 1, "score": 1, "last_activity_date": 1505302417, "creation_date": 1505264590, "question_id": 46187319, "link": "https://stackoverflow.com/questions/46187319/how-to-create-splash-screen-in-tornadofx", "title": "How to create splash screen in tornadofx", "body": "<p>I could not find any example, neither any resource on how to create a splash screen in tornadofx. I have a working splash screen in plain javafx along the same line of this example : <a href=\"https://gist.github.com/jewelsea/2305098\" rel=\"nofollow noreferrer\">https://gist.github.com/jewelsea/2305098</a></p>\n\n<p>But, I have no clue on how to achieve it in tornadofx as it uses different paradigm with views and fragments instead of stage and screen.</p>\n"}, {"tags": ["android", "unit-testing", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1505251241, "post_id": 46185397, "comment_id": 79333801, "body": "You should try using: <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">github.com/nhaarman/mockito-kotlin</a>. Here is an example here: <a href=\"https://github.com/jaredsburrows/android-gif-example\" rel=\"nofollow noreferrer\">github.com/jaredsburrows/android-gif-example</a>."}, {"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "reply_to_user": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1505252781, "post_id": 46185397, "comment_id": 79334430, "body": "@JaredBurrows I&#39;d tried using <code>com.nhaarman:mockito-kotlin</code> too, same error. The example repo you had linked have single module with different package names(data, presentation) but mine has multiple modules (domain, data, presentation) like the clean-architetcture-java implementation."}, {"owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "edited": false, "score": 0, "creation_date": 1505308192, "post_id": 46185397, "comment_id": 79359430, "body": "Try to initialize mock objects. In @Before method use first: MockitoAnnotations.initMocks(this)"}], "answers": [{"tags": [], "owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "is_accepted": true, "score": 0, "last_activity_date": 1505840787, "creation_date": 1505840787, "answer_id": 46306128, "question_id": 46185397, "link": "https://stackoverflow.com/questions/46185397/kotlinmockito2-classnotfoundexception-for-presenter-tests/46306128#46306128", "title": "Kotlin+Mockito2: ClassNotFoundException for presenter tests", "body": "<p>Resolved the issue by manually specifying the classpaths for all the modules in the <code>presentation/build.gradle</code></p>\n\n<pre><code>sourceSets {\n    main.java.srcDirs += 'src/main/java'\n    main.java.srcDirs += [file(\"$buildDir/generated/source/kapt/main\")]\n    main.java.srcDirs += '../data/src/main/java'\n    main.java.srcDirs += '../entities/src/main/java'\n    main.java.srcDirs += '../domain/src/main/java'\n  }\n</code></pre>\n\n<p><em>Settings</em>: Gradle version \"3.0.0-beta6\", Android Studio 3.0-Beta 6.</p>\n"}], "owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 46306128, "answer_count": 1, "score": 1, "last_activity_date": 1505840787, "creation_date": 1505250788, "last_edit_date": 1505251114, "question_id": 46185397, "link": "https://stackoverflow.com/questions/46185397/kotlinmockito2-classnotfoundexception-for-presenter-tests", "title": "Kotlin+Mockito2: ClassNotFoundException for presenter tests", "body": "<p>I have a sample app written in Kotlin based on <a href=\"https://github.com/android10/Android-CleanArchitecture\" rel=\"nofollow noreferrer\">CleanArchitecture-Android</a> style. Below is the configuration for the app:</p>\n\n<p><strong>presentation/build.gradle</strong></p>\n\n<pre><code>dependencies {\n  implementation project(':domain')\n\n  def presentationDependencies = rootProject.ext.presentationDependencies\n  def commonDependencies = rootProject.ext.commonDependencies\n\n  testCompile testingDependencies.junit\n  testCompile testingDependencies.mockito // org.mockito:mockito-inline:2.10.0\n}\n</code></pre>\n\n<p><strong>presentation/src/test/java/package/RepoPreferencesPresenterTest.kt</strong></p>\n\n<pre><code>internal class RepoPreferencesPresenterTest : UnitTest() {\n  // FIXME: Mocking fails\n  @Mock private lateinit var mockRepositoriesUseCase: RepositoriesUseCase\n  @Mock private lateinit var mockView: RepoPreferencesContract.View\n\n  private lateinit var presenter: RepoPreferencesPresenter&lt;RepoPreferencesContract.View&gt;\n\n  @Before\n  fun setUp() {\n    presenter = RepoPreferencesPresenter(mockRepositoriesUseCase)\n    presenter.onAttach(mockView)\n  }\n}\n</code></pre>\n\n<p>When I try to run the testcase, I'd face with <code>ClassNotFoundException</code> everytime. Unable to mock the UseCase present in <strong>domain module</strong> for the presenter tests, other than that app is running fine.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Lcom/sample/domain/usecases/RepositoriesUseCase;\n......\nCaused by: java.lang.ClassNotFoundException: com.sample.domain.usecases.RepositoriesUseCase\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n</code></pre>\n\n<p>Any idea how to solve the problem? (I'd also tried using mock-maker-inline but it doesn't work)</p>\n"}, {"tags": ["java", "unit-testing", "dependency-injection", "kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 4986, "user_id": 1634695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ba40fe836c9fbdf2e3aadb155a90b23?s=128&d=identicon&r=PG", "display_name": "Mehdi Karamosly", "link": "https://stackoverflow.com/users/1634695/mehdi-karamosly"}, "edited": false, "score": 1, "creation_date": 1505398547, "post_id": 46213944, "comment_id": 79405742, "body": "thanks for the response, in my case I do have a class dependency that interacts with other services, how do I inject that one (so when I write my test I just stub/mock that dependency and pass a mock instance instead of the real one)"}], "tags": [], "owner": {"reputation": 10942, "user_id": 18575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318654a786700455b96049d8ac9beb11?s=128&d=identicon&r=PG", "display_name": "Ilya Ryzhenkov", "link": "https://stackoverflow.com/users/18575/ilya-ryzhenkov"}, "is_accepted": false, "score": 11, "last_activity_date": 1505377082, "creation_date": 1505377082, "answer_id": 46213944, "question_id": 46185168, "link": "https://stackoverflow.com/questions/46185168/how-to-inject-dependencies-in-a-ktor-application/46213944#46213944", "title": "How to inject dependencies in a ktor Application", "body": "<p>Ktor doesn't have a built-in dependency injection mechanism. If you need to use DI, you will need to use any framework you like, such as Guice for example. It would look something like this:</p>\n\n<pre><code>fun Application.module() {\n  Guice.createInjector(MainModule(this))\n}\n\n// Main module, binds application and routes\nclass MainModule(private val application: Application) : AbstractModule() {\n    override fun configure() {\n        bind(Application::class.java).toInstance(application)\n        ... other bindings ...\n    }\n}\n</code></pre>\n\n<p>This way you delegate application composition to Guice and build it up as any other application. E.g. you might compose different parts of your application like this:</p>\n\n<pre><code>class Hello @Inject constructor(application: Application) {\n  init {\n    application.routing {\n        get(\"/\") {\n            call.respondText(\"Hello\")\n        }\n    }\n  }\n}\n</code></pre>\n\n<p>and then bind it in a main module:</p>\n\n<pre><code>bind(Hello::class.java).asEagerSingleton()\n</code></pre>\n\n<p><code>asEagerSingleton</code> is needed so that Guice will create it eagerly since no other service would query it. </p>\n"}, {"tags": [], "owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "is_accepted": false, "score": 6, "last_activity_date": 1547167992, "creation_date": 1547167992, "answer_id": 54138970, "question_id": 46185168, "link": "https://stackoverflow.com/questions/46185168/how-to-inject-dependencies-in-a-ktor-application/54138970#54138970", "title": "How to inject dependencies in a ktor Application", "body": "<p>Easy example with <strong>Koin</strong></p>\n\n<p>1) At first, define our prod and test dependencies:</p>\n\n<pre><code>val prodModule = module {\n    single&lt;IFirstService&gt; { RealFirstService() }\n    single&lt;ISecondService&gt; { RealSecondService() }\n}\n\nval testModule = module {\n    single&lt;IFirstService&gt; { FakeFirstService() }\n    single&lt;ISecondService&gt; { FakeSecondService() }\n}\n</code></pre>\n\n<p>2) Then add DI initialization before app start:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    startKoin(listOf(prodModule))\n    embeddedServer(Netty, commandLineEnvironment(args)).start(true)\n}\n</code></pre>\n\n<p>3) Use inject in Application or in routes:</p>\n\n<pre><code>fun Application.apiModule() {\n    val firstService: IFirstService by inject()\n    val secondService: ISecondService by inject()\n    ...\n    routing {\n        someApi(inject(), inject())\n    }\n}\n</code></pre>\n\n<p>4) <em>(Optional)</em> For tests just add initialization in testModule before run test:</p>\n\n<pre><code>fun testApp(test: TestApplicationEngine.() -&gt; Unit) {\n    withTestApplication({\n        ... // configure your test app here\n\n        stopKoin() // Need to stop koin and restart after other tests\n        startKoin(listOf(testModule)) // Init with test DI\n\n        apiModule() // Run you application\n    })\n}\n\n// And run tests\n@Test\nfun `get events`() = testApp {\n    // do tests\n}\n</code></pre>\n\n<p>That's all!</p>\n"}, {"tags": [], "owner": {"reputation": 1922, "user_id": 306047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9036cb8dc5eafb78f197e3c446aeca7?s=128&d=identicon&r=PG", "display_name": "snorbi", "link": "https://stackoverflow.com/users/306047/snorbi"}, "is_accepted": false, "score": 0, "last_activity_date": 1609678193, "creation_date": 1609678193, "answer_id": 65550034, "question_id": 46185168, "link": "https://stackoverflow.com/questions/46185168/how-to-inject-dependencies-in-a-ktor-application/65550034#65550034", "title": "How to inject dependencies in a ktor Application", "body": "<p><a href=\"https://kodein.org/di/\" rel=\"nofollow noreferrer\">Kodein DI</a> has good Ktor support, see the <a href=\"https://docs.kodein.org/kodein-di/7.2/framework/ktor.html\" rel=\"nofollow noreferrer\">corresponding documentation</a> for more details.</p>\n<p>Example code from the documentation:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, port = 8080) {\n        di { \n            bind&lt;Random&gt;() with singleton { SecureRandom() } \n        }\n\n        routing {\n            get(&quot;/&quot;) {\n                val random by di().instance&lt;Random&gt;() \n                /* logic here */\n            }\n        }\n   }.start(true)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 759, "user_id": 7441319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c7723cec11c73621d4f848b43da582?s=128&d=identicon&r=PG&f=1", "display_name": "Alkis Mavridis", "link": "https://stackoverflow.com/users/7441319/alkis-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1617270349, "creation_date": 1617270349, "answer_id": 66902225, "question_id": 46185168, "link": "https://stackoverflow.com/questions/46185168/how-to-inject-dependencies-in-a-ktor-application/66902225#66902225", "title": "How to inject dependencies in a ktor Application", "body": "<p>After experimenting a bit with koin kodein and daggers, we ended up using <strong>spring-context</strong> with ktor. It works like a charm.</p>\n<p><strong>Step 1</strong>: In our gradle file:</p>\n<pre><code>implementation(group = &quot;org.springframework&quot;, name = &quot;spring-context&quot;, version = &quot;5.3.5&quot;)\n</code></pre>\n<p>Feel free to change that with any spring-context version you prefer.</p>\n<p><strong>Step 2</strong>: We defined our <code>@Component</code>s, <code>@Configuration</code>s, <code>@Bean</code>s etc like we would with any spring application.</p>\n<p><strong>Step 3</strong>: in our main method, we have a little bit of glue code to explicitly initialize the DI context and use it for initializing ktor:</p>\n<pre><code>val ctx = AnnotationConfigApplicationContext(&quot;YOUR.ROOT.PACKAGE.GOES.HERE&quot;)\nval someBean = ctx.getBean(SomeBean::class.java) // you can get any bean you need to use in your top-level glue code\n\n// ... go ahead with KTOR configuration as usual. You can access any bean using the ctx variable.\n</code></pre>\n<p>Of course this glue code where we explicitly interact with the spring context is a very tiny portion of our project. The vast majority of our code consist of components that reference each other using the regular spring-context way.</p>\n"}], "owner": {"reputation": 4986, "user_id": 1634695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ba40fe836c9fbdf2e3aadb155a90b23?s=128&d=identicon&r=PG", "display_name": "Mehdi Karamosly", "link": "https://stackoverflow.com/users/1634695/mehdi-karamosly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4864, "favorite_count": 3, "answer_count": 4, "score": 8, "last_activity_date": 1617270349, "creation_date": 1505249618, "last_edit_date": 1509983305, "question_id": 46185168, "link": "https://stackoverflow.com/questions/46185168/how-to-inject-dependencies-in-a-ktor-application", "title": "How to inject dependencies in a ktor Application", "body": "<p>The documentation talks about dependency injection but does not really show how it is being done.</p>\n\n<p>Documentation is not completed as well and has a bunch of place holders:\n<a href=\"http://ktor.io/getting-started.html\" rel=\"noreferrer\">http://ktor.io/getting-started.html</a></p>\n\n<p>I tried to create my main function in a way that it accepts parameter (which is my dependency) but that failed on the test side when I call <code>withTestApplication</code>.\nI looked into the application code and saw that Application accepts a configuration object but I have no idea how I can change that configuration object to inject some dependencies inside of it.</p>\n\n<pre><code>package org.jetbrains.ktor.application\n\n/**\n * Represents configured and running web application, capable of handling requests\n */\nclass Application(val environment: ApplicationEnvironment) : ApplicationCallPipeline() {\n    /**\n     * Called by host when [Application] is terminated\n     */\n    fun dispose() {\n        uninstallAllFeatures()\n    }\n}\n\n/**\n * Convenience property to access log from application\n */\nval Application.log get() = environment.log\n</code></pre>\n\n<p>In the test code using <code>withTestApplication</code> I have something similar to the below:</p>\n\n<pre><code>@Test\ninternal fun myTest() = withTestApplication (Application::myMain)\n</code></pre>\n\n<p>The above <code>withTestApplication</code> would fail if I call <code>myMain</code> with parameters (parameters that I need to mock and inject.)</p>\n\n<p><strong>Update:</strong></p>\n\n<p>The issue is that in my request handling, I am using a dependency class that connects to other web services outside and does some requests, I need a way to be able to inject this so in my tests I can stub/mock it and change its behavior based on my test cases.</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1505324881, "post_id": 46186128, "comment_id": 79370752, "body": "couldn&#39;t I just define a custom configuration of <code>src&#47;fakes&#47;java</code> and build a .jar off that?   The trick though is that I want downstream modules whose <code>main</code> classpath depends on the upstream module&#39;s <code>main</code>. but for the downstream <code>test</code> classpath to depend on the upstream&#39;s <code>fakes</code> classpath. Do you get a conflict here, because downstream&#39;s <code>test</code> configuration extends from its <code>main</code> configuration, where this <code>main</code> configuration depends on the upstream <code>main</code>, while the downstream <code>test</code> depends on the upstream <code>fakes</code>?"}, {"owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "reply_to_user": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1531934702, "post_id": 46186128, "comment_id": 89786757, "body": "Not sure why you&#39;d want to do all that custom config when you get everything for free if you put it in another module of a multi-module build (option 2)"}], "tags": [], "owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "is_accepted": false, "score": 1, "last_activity_date": 1505291015, "last_edit_date": 1505291015, "creation_date": 1505254715, "answer_id": 46186128, "question_id": 46184664, "link": "https://stackoverflow.com/questions/46184664/how-to-provide-test-data-and-classes-in-multi-module-gradle-projects/46186128#46186128", "title": "How to provide test data and classes in multi-module gradle projects", "body": "<p>There's two approaches</p>\n\n<ol>\n<li>Create a test jar in the same project as the main jar which can be used as a test dependency in other projects. This jar will be the combination of <code>src/test/java</code> (compiled) and <code>src/test/resources</code></li>\n<li>Create a separate project for the common test utilities which can be used as a test dependency in other projects </li>\n</ol>\n\n<p>I, myself, prefer option 2 as I feel it's the most cleanest approach since you put exactly what you want in the jar (test utilities, abstract base classes, test resources etc) and you don't include actual tests in the jar.</p>\n\n<p>See <a href=\"https://plugins.gradle.org/plugin/nebula.nebula-test-jar\" rel=\"nofollow noreferrer\">nebula-test-jar</a> plugin for option 1. Note that nebula have deprecated this plugin in favour of option 2</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1505337557, "creation_date": 1505247266, "last_edit_date": 1505337557, "question_id": 46184664, "link": "https://stackoverflow.com/questions/46184664/how-to-provide-test-data-and-classes-in-multi-module-gradle-projects", "title": "How to provide test data and classes in multi-module gradle projects", "body": "<p>I want to provide downstream modules with test data/classes from an upstream module. What's the best way to do this?</p>\n\n<p>Let's say I have the following modules:</p>\n\n<p><code>:data-transactions</code> - \nHas an interface <code>TransactionsCache</code>. This module by default will provide a <code>TransactionDbCache</code> which backs this cache with SQLite.</p>\n\n<p><code>:ui-transactions</code> - requires an instance of <code>TransactionsCache</code> to display the transactions to the user. This module is dependant on <code>:data-transactions</code>.</p>\n\n<p><strong>What I want</strong></p>\n\n<ul>\n<li>While testing <code>:ui-transactions</code>, I want to provide a fake implementation of <code>TransactionsCache</code>, like <code>TransactionsInMemoryCache</code>. Other downstream modules of <code>:data-transactions</code> may need <code>TransactionsInMemoryCache</code> too. This class should NOT be included in non-test modules.</li>\n<li>These test dependencies like <code>TransactionsInMemoryCache</code> should be able to leverage kotlin the <code>internal</code> visibility modifier - i.e. be in the same module as <code>:data-transactions</code></li>\n</ul>\n\n<p>I'm guessing that the solution here is something to do with <code>srcSets</code> and a special <code>testHelper</code> configuration?</p>\n\n<p>note: this is for android, so I'd need to generate an APK. is this possible without flavors?</p>\n"}, {"tags": ["inheritance", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505249215, "post_id": 46184161, "comment_id": 79332906, "body": "I cannot figure out what you are trying to do.  I would translate that Java, like this (my apologies for the formatting): <code>abstract class NumericValue {     abstract var a: String     abstract var b: String }  data class Abc(         override var a: String,         override var b: String)     : NumericValue()   fun main(vararg args: String) {     val abc = Abc(&quot;a&quot;, &quot;b&quot;)     val a = abc.a }</code>  Are you just not happy with the AS&#39;s autotranslation?"}], "answers": [{"comments": [{"owner": {"reputation": 976, "user_id": 787660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1e47e97943542c76efeb578dfd6be04?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/787660/chris"}, "edited": false, "score": 0, "creation_date": 1505246945, "post_id": 46184478, "comment_id": 79331903, "body": "Simple enough, but my question targets explicitly data-classes. How does that translate to this explanaition?"}, {"owner": {"reputation": 976, "user_id": 787660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1e47e97943542c76efeb578dfd6be04?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/787660/chris"}, "edited": false, "score": 0, "creation_date": 1505328348, "post_id": 46184478, "comment_id": 79372745, "body": "Thanks for your detailed explanation! In the process I realised that I might not need data classes, so I&#39;ll have a try with that."}, {"owner": {"reputation": 976, "user_id": 787660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1e47e97943542c76efeb578dfd6be04?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/787660/chris"}, "edited": false, "score": 0, "creation_date": 1505330012, "post_id": 46184478, "comment_id": 79373635, "body": "... To subsumarize, it&#39;s not possible to get rid of the duplication clutter. Is that correct?  But I don&#39;t understand yet if I can omit the duplication if I skip the &quot;data&quot; in the classes when you said &quot;But if you want override benefits, it again costs some syntactic verbage.&quot;"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 976, "user_id": 787660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1e47e97943542c76efeb578dfd6be04?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/787660/chris"}, "edited": false, "score": 0, "creation_date": 1505331424, "post_id": 46184478, "comment_id": 79374410, "body": "Right, if you want override behavior for members, you&#39;ll repeat a lot of the syntax in the override declaration.  I can&#39;t see avoiding it for either data classes or regular classes.  But I&#39;ve edited my answer to try and clarified this."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 2, "last_activity_date": 1505331378, "last_edit_date": 1505331378, "creation_date": 1505246445, "answer_id": 46184478, "question_id": 46184161, "link": "https://stackoverflow.com/questions/46184161/how-to-use-simple-inheritance-for-data-class/46184478#46184478", "title": "How to use simple inheritance for data-class?", "body": "<p>IntelliJ Idea translates your Java code into the following which seems reasonable and reduced in boiler plate.  So, I would answer, \"No, your premise does not accurately characterize whether or not Kotlin is state of the art \".  </p>\n\n<pre><code>internal abstract class NumericValue {\n    var a: String? = null\n    var b: String? = null\n\n    override fun equals(o: Any?): Boolean {\n        if (this === o) return true\n        if (o == null || javaClass != o.javaClass) return false\n\n        val that = o as NumericValue?\n\n        if (if (a != null) a != that!!.a else that!!.a != null) return false\n        return if (b != null) b == that.b else that.b == null\n    }\n\n    override fun hashCode(): Int {\n        var result = if (a != null) a!!.hashCode() else 0\n        result = 31 * result + if (b != null) b!!.hashCode() else 0\n        return result\n    }\n}\n\ninternal class Abc : NumericValue() {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val abc = Abc()\n            abc.a\n        }\n    }\n}\n</code></pre>\n\n<p>But, your question specifically targets \"data\" classes.  Data classes are a nice component of the language that gives us \"deconstruction\" and some useful automatically generated methods for deconstruction (such as <code>componentN</code>).  So, using the code above (and adding <code>open</code> to class and the declarations of <code>a</code> and <code>b</code>), here is slightly different implementation of your example derived class.</p>\n\n<pre><code>internal data class AbcB (override var a: String?, override var b: String?) : NumericValue() {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val abc = AbcB(\"a\",\"b\")\n            println(\"b = \" + abc.component2())\n            val n: NumericValue = abc\n            println(\"a = \" + n.a)\n        }\n    }\n}\n</code></pre>\n\n<p>Which seems reasonable, in that, your starting example is not a data class and your apparent desire is to make use of the Kotlin data class.  It gives you a desirable feature (if you need it), at the cost of a little more code verbage. </p>\n\n<p>The derived class is the same code if you declare the base as <code>sealed</code> and <code>a</code> and <code>b</code> as <code>abstract</code>.</p>\n\n<p>So, in the case of data classes, there <strong>is</strong> duplication of any part of the base class that you want to expose as \"data\" in the derived class (it's already exposed, just not as \"data class\" special members, as shown in the example below).  But this is analogous to overrides in other contexts.  Just for thought, consider now the following derived class.</p>\n\n<pre><code>internal data class AbcCD (var c: String?, var d: String?) : NumericValue() {\n    companion object {\n        @JvmStatic\n        fun x() {\n            val abc = AbcCD(\"c\",\"d\")\n            abc.b = \"B\"\n            abc.a = \"A\"\n            println(\"d = \" + abc.component2())\n            abc.a\n        }\n    }\n}\n</code></pre>\n\n<p>You get all the members of base class, and the new data members of the derived class.  But if you want override benefits, it again costs some syntactic verbage (for derived data classes and regular classes).</p>\n\n<p>One last point.  Data classes still have other weirdness-es associated with inheritance and overrides that may still have to be worked out.  <code>toString</code>, <code>hashCode</code> and <code>equals</code> get their own special implementations and the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"nofollow noreferrer\">documentation</a> says...</p>\n\n<blockquote>\n  <p>If there are explicit implementations of equals(), hashCode() or toString() in the data class body or final implementations in a superclass, then these functions are not generated, and the existing implementations are used;</p>\n</blockquote>\n\n<p>... which I find to be confusing to read (leading me to experiment rather than rely upon the docs).  And there are other SO questions dealing with struggles over <code>toString</code> and data classes (for example: <a href=\"https://stackoverflow.com/questions/45333916/generated-tostring-method-to-include-members-from-base-class\">this OP trying to create a DTO</a>).</p>\n\n<p><strong>So</strong>, I think this is the state-of-the-art and it's not that bad (IMO).  And yes, if you want the features of data classes, you can translate it pretty much as you've done.</p>\n"}], "owner": {"reputation": 976, "user_id": 787660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e1e47e97943542c76efeb578dfd6be04?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/787660/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1307, "favorite_count": 0, "accepted_answer_id": 46184478, "answer_count": 1, "score": 1, "last_activity_date": 1505331378, "creation_date": 1505245200, "last_edit_date": 1505282454, "question_id": 46184161, "link": "https://stackoverflow.com/questions/46184161/how-to-use-simple-inheritance-for-data-class", "title": "How to use simple inheritance for data-class?", "body": "<p>In java, </p>\n\n<pre><code>abstract class NumericValue{\n    private String a;\n    private String b;\n\n    public String getA() { return a; }\n\n    public void setA(String a) { this.a = a; }\n\n    public String getB() { return b; }\n\n    public void setB(String b) { this.b = b; }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        NumericValue that = (NumericValue) o;\n\n        if (a != null ? !a.equals(that.a) : that.a != null) return false;\n        return b != null ? b.equals(that.b) : that.b == null;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = a != null ? a.hashCode() : 0;\n        result = 31 * result + (b != null ? b.hashCode() : 0);\n        return result;\n    }\n}\n\nclass Abc extends NumericValue{\n    public static void main(String[] args) {\n        Abc abc = new Abc();\n        abc.getA();\n    }\n}\n</code></pre>\n\n<p>In Kotlin, this boils down to:</p>\n\n<p>Approach 1:</p>\n\n<pre><code>sealed class NumericValueA{\n    abstract var a: String\n    abstract var b: String\n}\n\ndata class AbcA(\n        override var a:String,\n        override var b:String\n):NumericValueA()\n</code></pre>\n\n<p>Approach 2:</p>\n\n<pre><code>open class NumericValueB(\n        open var a:String,\n        open var b:String\n)\n\ndata class AbcB(\n        override var a:String,\n        override var b:String\n):NumericValueB(a,b)\n</code></pre>\n\n<p>Both approaches tend to massive duplication when you have data classes that simply inherit attributes since you have to write down everything you specified again - this simply doesn't scale and somehow feels wrong.</p>\n\n<p>Is this state of the art or is that really the best way to translate the former java code to kotlin?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1505244326, "post_id": 46183858, "comment_id": 79330697, "body": "This is a good article about how a <code>@UserScope</code> could work: <a href=\"http://frogermcs.github.io/dependency-injection-with-dagger-2-custom-scopes/\" rel=\"nofollow noreferrer\">frogermcs.github.io/&hellip;</a>"}, {"owner": {"reputation": 412, "user_id": 7564126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/971ce542fb730b6e4b06d66e6b6240ed?s=128&d=identicon&r=PG&f=1", "display_name": "Tarcisio Wensing", "link": "https://stackoverflow.com/users/7564126/tarcisio-wensing"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1505244653, "post_id": 46183858, "comment_id": 79330850, "body": "@DavidMedenjak i will take a look, thank you"}], "owner": {"reputation": 412, "user_id": 7564126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/971ce542fb730b6e4b06d66e6b6240ed?s=128&d=identicon&r=PG&f=1", "display_name": "Tarcisio Wensing", "link": "https://stackoverflow.com/users/7564126/tarcisio-wensing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505244188, "creation_date": 1505243787, "last_edit_date": 1505244188, "question_id": 46183858, "link": "https://stackoverflow.com/questions/46183858/dagger-and-login-credentials", "title": "Dagger and Login Credentials", "body": "<p>Im looking in a way to create a Dagger2 component to store UserCredentials after password validation</p>\n\n<p>i have 3 activities -> Login, Home, About </p>\n\n<p>i want to create a LoggedUser component after password validation at Login and than @Inject this UserLogged at Home and About, im trying to avoid multiple database access (my case ask for it) and than when user click close Home or About activity, it return to Login and destroy the UserLogged and than restart the process, but im a little bit lost how to create a Custom Component for @ActivityScope to be created at Login but destroyed at Login too</p>\n\n<p>Curreclty im using Kotlin + MVP and Injecting Field at <strong>presenter</strong> in this way:</p>\n\n<pre><code>init {\n        println(\"Presenter Init: \" + javaClass.simpleName)\n        MyApplicationCloudant.getAppComponent().inject(this)\n}\n</code></pre>\n\n<p>the component is build in this way:</p>\n\n<pre><code>component = DaggerAndroidComponent.builder()\n                .androidModule(AndroidModule(this))\n                .build()\n</code></pre>\n\n<p>my AndroidModule:</p>\n\n<pre><code>@Module class AndroidModule(private val application: PontotelApplicationCloudant) {\n\n    /**\n     * Allow the application context to be injected but require that it be annotated with\n     * [@Annotation][ForApplication] to explicitly differentiate it from an activity context.\n     */\n    @Provides @Singleton\n//    @ForApplication\n    fun provideApplicationContext(): Application {\n        return application\n    }\n\n    @Provides @Singleton\n    fun provideLocationManager(): LocationManager {\n        return application.getSystemService(LOCATION_SERVICE) as LocationManager\n    }\n\n....\n\n}\n</code></pre>\n\n<p>my AndroidComponent</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidModule::class))\ninterface AndroidComponent {\n\n    fun inject(application: MyApplicationCloudant)\n    fun inject(loginPresenter: loginPresenter)\n    fun inject(homePresenter: HomePresenter)\n    fun inject(aboutPresenter: aboutPresenter)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 379, "user_id": 1402804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b072a8ac1f269f6456acf9c1fdc9ce24?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/1402804/saurabh"}, "is_accepted": false, "score": 0, "last_activity_date": 1505245077, "creation_date": 1505245077, "answer_id": 46184139, "question_id": 46183169, "link": "https://stackoverflow.com/questions/46183169/how-create-tabbed-view-in-anko/46184139#46184139", "title": "How create tabbed view in anko", "body": "<p>You have to create it by using TabLayout with ViewPager using fragments.\nHere is the Kotlin code snippet</p>\n\n<pre><code> // Create the adapter that will return a fragment for each of the three\n    // primary sections of the activity.\n    mPagerAdapter = PageAdapter(supportFragmentManager, this)\n\n    // Set up the ViewPager with the sections adapter.\n    mViewPager = findViewById&lt;ViewPager?&gt;(R.id.container)\n    mViewPager!!.adapter = mPagerAdapter\n\n    val tabLayout = findViewById&lt;View&gt;(R.id.tabs) as TabLayout\n    tabLayout.setupWithViewPager(mViewPager)\n\n    // set icons\n    tabLayout.getTabAt(0)!!.setIcon(R.drawable.ic_call)\n    tabLayout.getTabAt(1)!!.setIcon(R.drawable.ic_fav)\n    tabLayout.getTabAt(2)!!.setIcon(R.drawable.ic_contacts)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 4753468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8f08e8464a42eb58bac292e412abcf?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Luis Berrocal", "link": "https://stackoverflow.com/users/4753468/jose-luis-berrocal"}, "edited": false, "score": 1, "creation_date": 1530333542, "post_id": 48800691, "comment_id": 89210420, "body": "additional  to your first suggestion you should also provide your versions object, otherwise is not understandable by its own"}, {"owner": {"reputation": 1100, "user_id": 3115675, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c89ee313a5eb4465260d74f9ac6e016?s=128&d=identicon&r=PG&f=1", "display_name": "roman", "link": "https://stackoverflow.com/users/3115675/roman"}, "edited": false, "score": 0, "creation_date": 1536341170, "post_id": 48800691, "comment_id": 91403680, "body": "I was looking for the same thing, tried this but <code>coordinatorLayout</code> could not be resolved."}], "tags": [], "owner": {"reputation": 532, "user_id": 1532987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EyRl5.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1532987/ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1518673853, "creation_date": 1518673853, "answer_id": 48800691, "question_id": 46183169, "link": "https://stackoverflow.com/questions/46183169/how-create-tabbed-view-in-anko/48800691#48800691", "title": "How create tabbed view in anko", "body": "<p>if your problem is the anko side, at first you should use</p>\n\n<p><code>\"org.jetbrains.anko:anko-support-v4:${versions.anko}\"</code></p>\n\n<p>and then the anko code could be like this</p>\n\n<pre><code>coordinatorLayout {\n  lparams(matchParent, matchParent)\n\n  appBarLayout {\n    lparams(matchParent, wrapContent)\n\n    myTabLayout = themedTabLayout(R.style.ThemeOverlay_AppCompat_Dark) {\n      lparams(matchParent, wrapContent)\n      {\n        tabGravity = Gravity.FILL\n        tabMode = TabLayout.MODE_FIXED\n      }\n    }\n  }\n  myViewPager = viewPager {\n    id = R.id.viewpager\n  }.lparams(matchParent, matchParent)\n  (myViewPager!!.layoutParams as CoordinatorLayout.LayoutParams).behavior = AppBarLayout.ScrollingViewBehavior()\n}\n</code></pre>\n\n<p>at last the kotlin side can be like @Saurabh's solution :</p>\n\n<pre><code> mPagerAdapter = PageAdapter(supportFragmentManager, this)\n\n// Set up the ViewPager with the sections adapter.\nmyViewPager!!.adapter = mPagerAdapter\n\nmyTtabLayout.setupWithViewPager(myViewPager)\n\n// set icons\nmyTabLayout.getTabAt(0)!!.setIcon(R.drawable.ic_call)\nmyTabLayout.getTabAt(1)!!.setIcon(R.drawable.ic_fav)\nmyTabLayout.getTabAt(2)!!.setIcon(R.drawable.ic_contacts)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8599352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45747b6ecee9f78d28c91d268f113f78?s=128&d=identicon&r=PG&f=1", "display_name": "jasufo", "link": "https://stackoverflow.com/users/8599352/jasufo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1907, "favorite_count": 0, "accepted_answer_id": 48800691, "answer_count": 2, "score": 3, "last_activity_date": 1518673853, "creation_date": 1505240744, "question_id": 46183169, "link": "https://stackoverflow.com/questions/46183169/how-create-tabbed-view-in-anko", "title": "How create tabbed view in anko", "body": "<p>I want create timetable app, but I have problem with create tabbed view like in the picture. I tried to use the tabhost and tabwidget, but without effects. Is it possible, build tabview using anko?\n<a href=\"https://i.stack.imgur.com/wuWmZ.png\" rel=\"nofollow noreferrer\">Picture</a></p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1505249576, "post_id": 46185133, "comment_id": 79333072, "body": "I think if you do <code>target.javaClass.kotlin.memberProperties</code> instead, you don&#39;t have to specify <code>T</code> at all."}], "tags": [], "owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "is_accepted": true, "score": 6, "last_activity_date": 1505250074, "last_edit_date": 1505250074, "creation_date": 1505249478, "answer_id": 46185133, "question_id": 46182841, "link": "https://stackoverflow.com/questions/46182841/how-do-i-get-the-value-of-a-property-with-reflection/46185133#46185133", "title": "How do I get the value of a property with reflection", "body": "<p>The problem boils down to the fact that <code>T::class</code> gives you a <code>KClass&lt;T&gt;</code>, whereas <code>t::class</code> gives you a <code>KClass&lt;out T&gt;</code>. Consider the following:</p>\n\n<pre><code>class Foo {\n    val foo = 2\n    val bar = 3\n}\n\nfun f() {\n    val any: Any = Foo()\n    any::class.memberProperties.forEach {\n        println(it.get(2)) // Oops\n    }\n}\n</code></pre>\n\n<p>This would essentially attempt to access <code>2.foo</code> and <code>2.bar</code>, but it's not allowed because <code>get</code> errs on the side of caution instead of allowing a parameter of type <code>Any</code>. It appears doing <code>t.javaClass.kotlin</code> will produce a <code>KClass&lt;T&gt;</code>, however. Misusing it as above causes an <code>IllegalArgumentException</code>.</p>\n\n<p>You can give the compiler some more help by providing a compile-time guarantee that the <code>KClass</code> will be for the type and nothing else:</p>\n\n<pre><code>private inline fun &lt;reified A : Annotation, reified T : Any&gt; foo(target: T) {\n    T::class.memberProperties\n            .filter { it.annotations.any { annotation -&gt; annotation is A } }\n            .forEach {\n                println(it.get(target))\n            }\n}\n</code></pre>\n\n<p>Unfortunately, I don't know if it's possible to specify <code>A</code> while deducing <code>T</code> from <code>target</code>. I haven't found a way past calling it like <code>foo&lt;Attr, Bar&gt;(bar)</code>.</p>\n\n<p>Alternatively, you can go through <code>javaClass</code>, though I'd wager it's less portable:</p>\n\n<pre><code>private inline fun &lt;reified A : Annotation&gt; foo(target: Any) {\n    target.javaClass.kotlin.memberProperties\n            .filter { it.annotations.any { annotation -&gt; annotation is A } }\n            .forEach {\n                println(it.get(target))\n            }\n}\n</code></pre>\n\n<p>We know this won't run into the above problem because we pass the same object in both cases. This also looks nicer on the caller's side, which might be worth the portability hit, assuming there is one.</p>\n"}], "owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2792, "favorite_count": 0, "accepted_answer_id": 46185133, "answer_count": 1, "score": 2, "last_activity_date": 1505250306, "creation_date": 1505239368, "question_id": 46182841, "link": "https://stackoverflow.com/questions/46182841/how-do-i-get-the-value-of-a-property-with-reflection", "title": "How do I get the value of a property with reflection", "body": "<p>I want to use the values of all properties that have some annotation. For the most part my code works, I get all the properties and only take those that have that annotation.</p>\n\n<pre><code>private inline fun &lt;reified A : Annotation&gt; (target: Any) {\n    target::class.memberProperties\n                 .filter { it.annotations.any { annotation -&gt; annotation is A } }\n                 .forEach {\n                     // How do I get the value here?\n                 }\n}\n</code></pre>\n\n<p>I wanted to use <code>it.get(...)</code> but <code>get</code> expects a <code>Nothing</code> as parameter. Same goes for <code>getter</code>. Calling <code>it.call(target)</code> does work but it looks wrong since there is an actuall <code>get</code> which I don't know how to invoke.</p>\n\n<p>So what is the correct way of getting the properties value?</p>\n"}, {"tags": ["java", "kotlin", "junit5", "parameterized-unit-test"], "comments": [{"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 4, "creation_date": 1505240700, "post_id": 46182118, "comment_id": 79329012, "body": "Sounds like you may be looking for <a href=\"https://github.com/junit-team/junit5/issues/878\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/878</a>"}, {"owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1505243232, "post_id": 46182118, "comment_id": 79330228, "body": "@mkobit Exactly. Are there any alternatives for that?"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1505315321, "post_id": 46182118, "comment_id": 79364795, "body": "There may be a workaround, it would be useful to sample code about what you would like to accomplish."}, {"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1580671980, "post_id": 46182118, "comment_id": 106164781, "body": "Similar popular question: <a href=\"https://stackoverflow.com/questions/46897134/how-to-implement-junit-4-parameterized-tests-in-junit-5\" title=\"how to implement junit 4 parameterized tests in junit 5\">stackoverflow.com/questions/46897134/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 12, "creation_date": 1563789902, "post_id": 56822593, "comment_id": 100802214, "body": "The question is about parameters at class level. The answer is about parameters at method level."}, {"owner": {"reputation": 4137, "user_id": 2774914, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RjqK5.jpg?s=128&g=1", "display_name": "diziaq", "link": "https://stackoverflow.com/users/2774914/diziaq"}, "reply_to_user": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 0, "creation_date": 1563800389, "post_id": 56822593, "comment_id": 100808303, "body": "@AlikElzin-kilaka, the answer is in the first paragraph. The rest are the hints to start adopting Junit 5."}, {"owner": {"reputation": 6825, "user_id": 1262865, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c93afaf48cdb37ee73b67acb533e63c?s=128&d=identicon&r=PG", "display_name": "john16384", "link": "https://stackoverflow.com/users/1262865/john16384"}, "edited": false, "score": 2, "creation_date": 1614946640, "post_id": 56822593, "comment_id": 117547163, "body": "Seems to be a serious lack in Junit 5.  We have <code>Nested</code> now to test entire flows with short to the point test methods, but no way to initialize those flows with different parameters."}], "tags": [], "owner": {"reputation": 4137, "user_id": 2774914, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RjqK5.jpg?s=128&g=1", "display_name": "diziaq", "link": "https://stackoverflow.com/users/2774914/diziaq"}, "is_accepted": false, "score": 10, "last_activity_date": 1598700633, "last_edit_date": 1598700633, "creation_date": 1561872115, "answer_id": 56822593, "question_id": 46182118, "link": "https://stackoverflow.com/questions/46182118/junit5-parameterized-tests-at-class-level/56822593#56822593", "title": "JUnit5 parameterized tests at class level", "body": "<p><strong>JUnit 5</strong> has its own approach for making parameterized tests, and, of course, it is different from <strong>JUnit 4</strong>. The new approach does not allow to use parameterized fixtures at the class level, i.e. through its every test method.\nSo every parameterized test method should be explicitly annotated with a <em>link to parameters</em>.</p>\n<p><strong>JUnit 5</strong> provides a plenty of parameter source types, that could be found in <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://nirajsonawane.github.io/2018/12/30/Junit-5-Write-Powerful-Unit-Test-Cases-Using-Parameterized-Tests\" rel=\"nofollow noreferrer\">guides</a></p>\n<p>In your case, the simplest way to migrate from <code>@Parameters</code> of <strong>Junit 4</strong> is using <code>@MethodSource</code> or <code>@ArgumentsSource</code> of <code>org.junit.jupiter.params.provider.*</code>.</p>\n<p><strong>JUnit 4</strong>:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class MyTestWithJunit4 {\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {     \n               { 0, 0, 0 },\n               { 1, 2, 3 }, \n               { 5, 3, 8 } \n      });\n    }\n\n    int first;\n    int second;\n    int sum;\n\n    public MyTestWithJunit4(int first, int second, int sum) {\n      this.first = first;\n      this.second = second;\n      this.sum = sum;\n    }\n\n    @Test\n    public void test() {\n      assertEquals(sum, first + second));\n    }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@MethodSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n\n  @DisplayName(&quot;Test with @MethodSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @MethodSource(&quot;localParameters&quot;)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static Stream&lt;Arguments&gt; localParameters() {\n    return Stream.of(\n        Arguments.of(0, 0, 0),\n        Arguments.of(1, 2, 3),\n        Arguments.of(5, 3, 8)\n    );\n  }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@ArgumentsSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n  @DisplayName(&quot;Test with @ArgumentsSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @ArgumentsSource(Params.class)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static class Params implements ArgumentsProvider {\n    @Override\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\n      return Stream.of(\n          Arguments.of(0, 0, 0),\n          Arguments.of(1, 2, 3),\n          Arguments.of(5, 3, 8)\n      );\n    }\n  }\n}\n</code></pre>\n<p>Consider that a method in <code>@MethodSource</code> and a class in <code>@ArgumentsSource</code> could be described anywhere, not only inside the same class where the test methods are located. Also <code>@MethodSource</code> allows to provide multiple source methods, since its <code>value</code> is a <code>String[]</code>.</p>\n<p><strong>Some remarks and comparison</strong></p>\n<p>In <strong>JUnit 4</strong> we could only have a single factory method providing parameters, and the tests were supposed to be built around those parameters.\nOn the contrary, <strong>JUnit 5</strong> gives more abstraction and flexibility in binding parameters and decouples test logic from its parameters, which are secondary.\nThat allows building tests independently from parameter sources, and easily change them when needed.</p>\n<p><strong>Dependency requirement</strong></p>\n<p>Parameterized tests feature is not included in the core <code>junit-jupiter-engine</code>,\nbut is located in a separate dependency <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"nofollow noreferrer\"><code>junit-jupiter-params</code></a>.</p>\n"}], "owner": {"reputation": 575, "user_id": 8528561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62188dfc7f2e1a56d65b939ee4383048?s=128&d=identicon&r=PG&f=1", "display_name": "IS1_SO", "link": "https://stackoverflow.com/users/8528561/is1-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5714, "favorite_count": 3, "answer_count": 1, "score": 26, "last_activity_date": 1598700633, "creation_date": 1505236402, "question_id": 46182118, "link": "https://stackoverflow.com/questions/46182118/junit5-parameterized-tests-at-class-level", "title": "JUnit5 parameterized tests at class level", "body": "<p>Is it possible to use JUnit5's parameterized new features to run test classes to receive test parameters instead of doing it at method level?</p>\n\n<p>With JUnit 4 a runner such as <code>@RunWith(Parameterized::class)</code> plus inheritance could be used to pass an array of parameters to subclasses, but I am not sure if it is possible to achieve something equivalent but using the new JUnit 5 api.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1505236416, "post_id": 46181537, "comment_id": 79326993, "body": "It worked perfectly. Thanks."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505236460, "post_id": 46181537, "comment_id": 79327016, "body": "I don&#39;t think you want that second <code>kapt</code> entry.  It should work with just kapt for the dagger-compiler and compile (implementation) for dagger-android"}], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1505236475, "answer_count": 0, "score": 0, "last_activity_date": 1505233961, "creation_date": 1505233961, "question_id": 46181537, "link": "https://stackoverflow.com/questions/46181537/using-dagger-2-11-with-kotlin-in-android", "closed_reason": "Duplicate", "title": "Using Dagger 2.11 with kotlin in android", "body": "<p>I'm trying to implement Dagger 2.11 in Android using kotlin. The first step is to add the Dagger (2.11) dependency to the Gradle build script. This is what I did:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n...\n\ndependencies {\n    // Dagger core\n    compile 'com.google.dagger:dagger:2.11'\n    kapt 'com.google.dagger:dagger-compiler:2.11'\n    // Dagger Android\n    compile 'com.google.dagger:dagger-android-support:2.11'\n    kapt 'com.google.dagger:dagger-android-processor:2.11'\n    ...\n</code></pre>\n\n<p>This is supposed to work, but when I try to sync I get this error:\n<code>Error:Conflict with dependency 'com.google.code.findbugs:jsr305' in project ':app'. Resolved versions for app (3.0.1) and test app (2.0.1) differ. See http://g.co/androidstudio/app-test-app-conflict for details.</code></p>\n\n<p>Does anyone have any idea what causes this issue? Thanks</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1505232581, "post_id": 46181103, "comment_id": 79324842, "body": "ok, nice. But still, in which case can <code>t!!::class</code> be problematic?"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1505233305, "post_id": 46181103, "comment_id": 79325279, "body": "Not really sure. I played with it and don&#39;t really have a good explanation, TBH."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1505240929, "post_id": 46181103, "comment_id": 79329132, "body": "@danielspaniol See: <a href=\"https://stackoverflow.com/questions/35602231/kotlin-generics-reflection-and-the-difference-between-type-t-and-tany/35602699#35602699\" title=\"kotlin generics reflection and the difference between type t and tany\">stackoverflow.com/questions/35602231/&hellip;</a>, the <code>t!!</code> is discussed in the comments of the answer."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 55, "last_activity_date": 1505232531, "creation_date": 1505232531, "answer_id": 46181103, "question_id": 46181041, "link": "https://stackoverflow.com/questions/46181041/why-cant-i-get-the-class-of-a-generic-parameter/46181103#46181103", "title": "Why can&#39;t I get the class of a generic parameter?", "body": "<p>Change your type to indicate it is not-nullable and it should work. You can do this by indicating that <code>T</code> needs to extend <code>Any</code> (rather than <code>Any?</code>).</p>\n\n<pre><code>fun &lt;T : Any&gt; test(t: T) {\n    t::class\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1505234750, "post_id": 46181677, "comment_id": 79326141, "body": "You don&#39;t need to do this. You can also pass the class to the function as he did"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1505235319, "post_id": 46181677, "comment_id": 79326433, "body": "You&#39;re right. But I&#39;m not sure, whether he wanted to get the class of that specific instance, or to get the the class from the type. Personally, I&#39;ve never used <code>::class</code> function reference to access the entity&#39;s type."}], "tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 4, "last_activity_date": 1505234481, "creation_date": 1505234481, "answer_id": 46181677, "question_id": 46181041, "link": "https://stackoverflow.com/questions/46181041/why-cant-i-get-the-class-of-a-generic-parameter/46181677#46181677", "title": "Why can&#39;t I get the class of a generic parameter?", "body": "<p>You want to use the <code>reified</code> type. You can learn more about the reified type parameters <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/reified-type-parameters.md\" rel=\"nofollow noreferrer\">here</a>. The code:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; test(t: T) {\n    println(T::class)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "edited": false, "score": 0, "creation_date": 1561453032, "post_id": 46181704, "comment_id": 100058389, "body": "I&#39;d throwing a NPE in case of a null is what is wanted, because the null will most likely be a mistake, so I&#39;d argue that this is exactly what would be wanted. Of course this expose the true problem, using nullable in the first place. The good thing about Kotlin is that is exposes the entry points of the nulls early on. Kotlin does not fix the underlying issues with nulls anyway, it only makes them nicer to work with."}, {"owner": {"reputation": 434, "user_id": 705147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DqZB0.png?s=128&g=1", "display_name": "cbaldan", "link": "https://stackoverflow.com/users/705147/cbaldan"}, "edited": false, "score": 0, "creation_date": 1600526216, "post_id": 46181704, "comment_id": 113118762, "body": "I don&#39;t understand why the default upper bound is nullable - <code>Any?</code>, it would be simpler if it was just <code>Any</code>. It becomes rather inconvenient when there is a base class that is parameterized <code>Type&lt;T : Any&gt;</code> and then it&#39;s used to build subtypes - <code>SubType&lt;Type&lt;T : Any&gt;&gt;</code>. This approach makes it necessary to override the upper bound for every subclass."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 9, "last_activity_date": 1600527217, "last_edit_date": 1600527217, "creation_date": 1505234559, "answer_id": 46181704, "question_id": 46181041, "link": "https://stackoverflow.com/questions/46181041/why-cant-i-get-the-class-of-a-generic-parameter/46181704#46181704", "title": "Why can&#39;t I get the class of a generic parameter?", "body": "<h2>First, let's fix it</h2>\n<p>Make the generic type <code>T</code> non-nullable:</p>\n<pre><code>fun &lt;T: Any&gt; test(t: T) {\n    println(t::class)\n}\n</code></pre>\n<p>By <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">default</a>, the upper bound is <code>Any?</code> instead of <code>Any</code>:</p>\n<blockquote>\n<p>&quot;The default upper bound (if none specified) is Any?. Only one upper bound can be specified inside the angle brackets. If the same type parameter needs more than one upper bound, we need a separate where-clause.&quot;</p>\n</blockquote>\n<h3>Side Note: You're using <code>!!</code> incorrectly</h3>\n<blockquote>\n<p>&quot;But if I change it to guaranty that t is not-null ...&quot;</p>\n</blockquote>\n<p>This is <em>not</em> what you're doing when using <code>!!</code>. Instead, you're telling the compiler: <em>I don't want you to check my type for nullability. Just go ahead and call that function. I'm not afraid of <code>NullpointerException</code>s.</em></p>\n<blockquote>\n<p>&quot;In which case can t!!::class still cause trouble?&quot;</p>\n</blockquote>\n<p>As I said above, it causes trouble when the type, which you invoke <code>!!</code> on, <strong>is</strong> <code>null</code>. Then, same as in Java, NPEs will be thrown at runtime.</p>\n"}], "owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6319, "favorite_count": 4, "accepted_answer_id": 46181103, "answer_count": 3, "score": 30, "last_activity_date": 1600527217, "creation_date": 1505232350, "question_id": 46181041, "link": "https://stackoverflow.com/questions/46181041/why-cant-i-get-the-class-of-a-generic-parameter", "title": "Why can&#39;t I get the class of a generic parameter?", "body": "<p>I have a function which takes one argument of a generic type and I want to access the class of it:</p>\n\n<pre><code>fun &lt;T&gt; test(t: T) {\n    t::class\n}\n</code></pre>\n\n<p>This fails with \"expression in class literal has nullable type\". That's ok, I understand it (I could use <code>Any?</code> as my <code>T</code> and <code>null</code> as the value). <br>\nBut if I change it to guaranty that <code>t</code> is not-null it still fails with the same error message:</p>\n\n<pre><code>fun &lt;T&gt; test(t: T) {\n    t!!::class\n}\n</code></pre>\n\n<p>In which case can <code>t!!::class</code> still cause trouble? <br>\nIs there a way to get the class without using Any (or casting to Any)?</p>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 13, "last_activity_date": 1505231315, "creation_date": 1505231315, "answer_id": 46180725, "question_id": 46180654, "link": "https://stackoverflow.com/questions/46180654/select-property-from-each-object-in-a-list/46180725#46180725", "title": "Select property from each object in a list", "body": "<p>In Kotlin, a Tuple could be a <code>Pair</code> or a <code>Triple</code>. You could just map over the list and select out the first element, like this:</p>\n\n<pre><code>val myTuples : List&lt;Triple&lt;String,String,String&gt;&gt; = listOf(\n    Triple(\"A\", \"B\", \"C\"), \n    Triple(\"D\", \"E\", \"F\")\n)\nval myFirstElements: List&lt;String&gt; = myTuples.map { it.first } // [\"A\", \"D\"]\n</code></pre>\n\n<p>And of course, you can leave off the types, I've left them in to make this easier to follow.</p>\n"}], "owner": {"reputation": 2346, "user_id": 2329708, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5Du22.jpg?s=128&g=1", "display_name": "Nate Jenson", "link": "https://stackoverflow.com/users/2329708/nate-jenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3481, "favorite_count": 1, "accepted_answer_id": 46180725, "answer_count": 1, "score": 10, "last_activity_date": 1514666947, "creation_date": 1505231122, "question_id": 46180654, "link": "https://stackoverflow.com/questions/46180654/select-property-from-each-object-in-a-list", "title": "Select property from each object in a list", "body": "<p>Say I have a <code>List&lt;Tuple&gt;</code>, where the first element in each is a string. Is there an extension function in Kotlin to select the first element from each of these tuples?</p>\n\n<p>I'm looking for something like the C# LINQ syntax for <code>Select</code>:</p>\n\n<pre><code>myTuples.Select(t =&gt; t.item1)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5865, "user_id": 3676184, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e3d0f66167a77f42ccbc191a91f163fd?s=128&d=identicon&r=PG&f=1", "display_name": "Pavya", "link": "https://stackoverflow.com/users/3676184/pavya"}, "edited": false, "score": 0, "creation_date": 1505230916, "post_id": 46180560, "comment_id": 79323743, "body": "cellName is not a view"}, {"owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "edited": false, "score": 0, "creation_date": 1505230946, "post_id": 46180560, "comment_id": 79323771, "body": "but <code>cellName</code> is not a <code>View</code>, it is just a <code>String</code>"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1505231328, "post_id": 46180560, "comment_id": 79324033, "body": "Thanks for that can you give me some pointers on how I can programatically generate a View name then, that is where I am stuck."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505232207, "post_id": 46180560, "comment_id": 79324613, "body": "When you say &quot;programatically generate a View name&quot;, you mean for example turning <code>&quot;imageView&quot; + row + col</code> into <code>R.id.imageView01</code>?"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1505232467, "post_id": 46180560, "comment_id": 79324775, "body": "I think so Ben, yes. I am not sure what R.id. is but the imageView01 is spot on."}], "answers": [{"comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505232665, "post_id": 46181104, "comment_id": 79324890, "body": "If you&#39;re not executing this code directly inside an activity, note that <code>getResources()</code> and <code>getPackageName()</code> are both methods of <code>Context</code>, so you can call them on any context object you have access to."}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1505233502, "post_id": 46181104, "comment_id": 79325403, "body": "Ben, the IDE translates Java to Kotlin, so I end up with : val id = resources.getIdentifier(cellName, &quot;id&quot;, packageName) which seems OK but then the compiler baulks at : val imageView = findViewById(id) by saying not enough information to infer parameter. Any ideas?"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1505233803, "post_id": 46181104, "comment_id": 79325610, "body": "I have almost zero experience with kotlin, but it is my understanding that you could write <code>val imageView: ImageView? = findViewById(id)</code>"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1505232532, "creation_date": 1505232532, "answer_id": 46181104, "question_id": 46180560, "link": "https://stackoverflow.com/questions/46180560/programatically-make-an-imageview-visible-invisible-using-a-variable/46181104#46181104", "title": "Programatically make an imageView visible/invisible using a variable", "body": "<p>You can generate a view id (aka an <code>R.id</code> constant) by using <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>Resources.getIdentifier()</code></a>.</p>\n\n<p>A sample for your code (assuming you're running inside an <code>Activity</code>) might be:</p>\n\n<pre><code>int row = 0;\nint col = 1;\nString name = \"imageView\" + row + col;\n\nint id = getResources().getIdentifier(name, \"id\", getPackageName());\n\nImageView imageView = findViewById(id);\nimageView.setVisibility(View.INVISIBLE);\n</code></pre>\n\n<p>Sorry that this is in Java, not Kotlin. Hopefully you can adapt it.</p>\n"}, {"tags": [], "owner": {"reputation": 1911, "user_id": 5635880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNMO0.jpg?s=128&g=1", "display_name": "Brian Yencho", "link": "https://stackoverflow.com/users/5635880/brian-yencho"}, "is_accepted": false, "score": 0, "last_activity_date": 1505232630, "creation_date": 1505232630, "answer_id": 46181135, "question_id": 46180560, "link": "https://stackoverflow.com/questions/46180560/programatically-make-an-imageview-visible-invisible-using-a-variable/46181135#46181135", "title": "Programatically make an imageView visible/invisible using a variable", "body": "<p>Your best bet might be to just put all the <code>ImageViews</code> in question into a map where the value you have for \"cellName\" is the key. Then just retrieve each <code>ImageView</code> from the map.</p>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 46181104, "answer_count": 2, "score": 0, "last_activity_date": 1505233410, "creation_date": 1505230812, "question_id": 46180560, "link": "https://stackoverflow.com/questions/46180560/programatically-make-an-imageview-visible-invisible-using-a-variable", "title": "Programatically make an imageView visible/invisible using a variable", "body": "<p>I have a Kotlin function, that works as expected when an imageView is explicitly called. However when a variable 'cellName' is used the code will not compile.</p>\n\n<p>My objective here is to programatically generate the imageView name and then set/unset its visibility. Could someone please tell me where I am going wrong.</p>\n\n<p>TIA</p>\n\n<pre><code>   fun game(view: View) {\n        var col = 1\n        var row = 0\n        var cellName = \"\"\n\n        object : CountDownTimer(10000, 1000){\n            override fun onFinish() {\n                Toast.makeText(applicationContext, \"Time's Up\", Toast.LENGTH_LONG).show()\n                textView9.text = \"Time: 0\"\n            }\n\n            override fun onTick(p0: Long) {\n                textView9.text = \"Time: \"+ p0 /1000\n                // Hide current position\n                cellName = \"imageView\"+row+col\n                imageView01.setVisibility(View.INVISIBLE)\n                // Get next random position\n                // Show new Position\n            }\n        }.start()\n    }\n</code></pre>\n\n<p>So:\n                imageView01.setVisibility(View.INVISIBLE) --> works\n                cellName.setVisibility(View.INVISIBLE)  -- does not compile</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-view", "android-constraintlayout"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505234000, "post_id": 46180091, "comment_id": 79325734, "body": "Have you been able to reproduce this in a project that doesn&#39;t use kotlin? I have not been able to, but it could be device-specific."}, {"owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505234590, "post_id": 46180091, "comment_id": 79326054, "body": "No I&#39;ve not tried without Kotlin. I&#39;d be extremely surprised if it was something do with the Kotlin language. Did you try the project here? <a href=\"https://github.com/alexbirkett/ConstraintLayoutBug\" rel=\"nofollow noreferrer\">github.com/alexbirkett/ConstraintLayoutBug</a> It seems easiest to reproduce on older slower phones. I used a Samsung Galaxy S3 in the video"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505235865, "post_id": 46180091, "comment_id": 79326728, "body": "I downloaded it, but I don&#39;t have the Android Studio 3 beta installed. Of course I could install it or try to get the project working with a different gradle plugin but that&#39;s just enough of an obstacle for me to not want to bother. Plus if I change the plugin and then I can&#39;t reproduce it, is that really useful info?"}, {"owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1505289553, "post_id": 46180091, "comment_id": 79346061, "body": "Issue raised here <a href=\"https://issuetracker.google.com/issues/65613481\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/65613481</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "edited": false, "score": 0, "creation_date": 1505288582, "post_id": 46191597, "comment_id": 79345497, "body": "The views are being set to visible, not invisible, after 100ms but sometimes they don&#39;t appear. I&#39;ve not tried reproducing with an emulator but it happens on slower devices e.g. Samsung Galaxy S3"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "edited": false, "score": 0, "creation_date": 1505288758, "post_id": 46191597, "comment_id": 79345594, "body": "<code>The views are being set to visible, not invisible</code> I&#39;m talking about this line <code>text1.visibility = View.GONE</code>. <code>it happens on slower devices</code> which means 100ms is not enough."}, {"owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "edited": false, "score": 0, "creation_date": 1505289251, "post_id": 46191597, "comment_id": 79345873, "body": "It should be possible to set visibility from GONE to VISIBLE without waiting for an arbitrary amount of time even if layout happens asynchronously"}, {"owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "edited": false, "score": 0, "creation_date": 1505290173, "post_id": 46191597, "comment_id": 79346457, "body": "Just to double check I tested with a RelativeLayout instead of ConstraintLayout but I can&#39;t reproduce the bug."}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 0, "last_activity_date": 1505288274, "creation_date": 1505288274, "answer_id": 46191597, "question_id": 46180091, "link": "https://stackoverflow.com/questions/46180091/constraintlayout-intermittent-layout-failure/46191597#46191597", "title": "ConstraintLayout intermittent layout failure", "body": "<p>I'm looking to your statement in <a href=\"https://github.com/alexbirkett/ConstraintLayoutBug\" rel=\"nofollow noreferrer\">github page</a>:</p>\n\n<blockquote>\n  <p><strong>ConstraintLayout</strong> intermittently fails to layout correctly when a view is set from <strong>GONE</strong> to <strong>VISIBLE</strong> shortly after an activity is resumed</p>\n</blockquote>\n\n<p>I've checked out your project and changed 100ms to 1000ms.\nHere's the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ztuCm.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztuCm.gif\" alt=\"enter image description here\"></a></p>\n\n<p>It seems to me, that you expect that the moment you perform <code>textview.setVisibility(View.GONE)</code> you expect the view to be not visible. That's not the way android works. You are merely posting an event to the <code>MessageQueue</code> that would be handled later by <code>Looper</code>, and this 100ms is not enough for human eye to see those changes happening.</p>\n"}, {"tags": [], "owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "is_accepted": true, "score": 0, "last_activity_date": 1507793567, "creation_date": 1507793567, "answer_id": 46703911, "question_id": 46180091, "link": "https://stackoverflow.com/questions/46180091/constraintlayout-intermittent-layout-failure/46703911#46703911", "title": "ConstraintLayout intermittent layout failure", "body": "<p>This was a bug in the ConstraintLayout fixed in <code>constraint-layout:1.1.0-beta2</code> <a href=\"https://issuetracker.google.com/issues/65613481\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/65613481</a></p>\n"}], "owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 46703911, "answer_count": 2, "score": 0, "last_activity_date": 1507793567, "creation_date": 1505229440, "last_edit_date": 1505288387, "question_id": 46180091, "link": "https://stackoverflow.com/questions/46180091/constraintlayout-intermittent-layout-failure", "title": "ConstraintLayout intermittent layout failure", "body": "<p><code>ConstraintLayout</code> intermittently fails to layout correctly when a view is set from <code>GONE</code> to <code>VISIBLE</code> shortly after an activity is resumed:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    android:id=\"@+id/constraint_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintLeft_toRightOf=\"@id/text1\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n\n\noverride fun onResume() {\n        super.onResume()\n\n        text1.text = \"\"\n        text1.visibility = View.GONE\n\n        text2.text = \"\"\n        text2.visibility = View.GONE\n\n        text1.postDelayed({\n                    text1.text = \"Hello\"\n                    text1.visibility = View.VISIBLE\n\n                    text2.text = \"World\"\n                    text2.visibility = View.VISIBLE\n                }, 100\n        )\n    }\n</code></pre>\n\n<p><a href=\"https://github.com/alexbirkett/ConstraintLayoutBug\" rel=\"nofollow noreferrer\">Full source code here</a></p>\n\n<p>Instrumenting the <code>TextView</code> class reveals that the <code>TextView</code> instances are measured correctly but their width is set to 0 when they are laid out.</p>\n\n<p>I wonder if the <code>ConstraintLayout</code> <code>LinearSystem</code> is non-deterministic. Are there maps that are iterated over where the iteration order is undefined? (I've seen this with Cassowary)</p>\n"}, {"tags": ["android", "error-handling", "kotlin"], "comments": [{"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "edited": false, "score": 1, "creation_date": 1505227877, "post_id": 46179528, "comment_id": 79321645, "body": "post your code, where you are facing the problem"}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 2, "creation_date": 1505227938, "post_id": 46179528, "comment_id": 79321693, "body": "Log explains pretty clear: <b>TypeCastException: null cannot be cast to non-null type kotlin</b>"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1505227952, "post_id": 46179528, "comment_id": 79321707, "body": "It says that your <code>String</code> is <code>null</code>. You should declare it as <code>String?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1505228373, "last_edit_date": 1505228373, "creation_date": 1505228056, "answer_id": 46179620, "question_id": 46179528, "link": "https://stackoverflow.com/questions/46179528/i-have-error-in-android-studio-with-kotlin/46179620#46179620", "title": "i have error in android studio with kotlin", "body": "<p>As commented by AlexTa you're getting a <code>TypeCastException</code> because you cast <code>null</code> to a non-null type.</p>\n\n<p>In Kotlin types are \"@NotNull\" by default. So if you declare a variable like this:</p>\n\n<pre><code>var yourVar: String\n</code></pre>\n\n<p>you cannot assign null to it. If it should be capable of storing <code>null</code> (which it often shouldn't) you declare it like this:</p>\n\n<pre><code>var yourVar: String? = null\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 46179620, "answer_count": 1, "score": -3, "last_activity_date": 1505228373, "creation_date": 1505227802, "question_id": 46179528, "link": "https://stackoverflow.com/questions/46179528/i-have-error-in-android-studio-with-kotlin", "title": "i have error in android studio with kotlin", "body": "<p>why this error? </p>\n\n<p>09-12 16:36:31.502 1886-1886/com.getloction.nourmedhat.smartgate.getlocation E/AndroidRuntime: FATAL EXCEPTION: main\n            Process: com.getloction.nourmedhat.smartgate.getlocation, PID: 1886\n            kotlin.TypeCastException: null cannot be cast to non-null type kotlin.String\n            at com.getloction.nourmedhat.smartgate.getlocation.All_Station$onCreate$2.onDataChange(All_Station.kt:56)\n            at com.google.android.gms.internal.to.zza(Unknown Source)\n            at com.google.android.gms.internal.vj.zzHX(Unknown Source)\n            at com.google.android.gms.internal.vp.run(Unknown Source)\n            at android.os.Handler.handleCallback(Handler.java:751)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:154)\n            at android.app.ActivityThread.main(ActivityThread.java:6682)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)</p>\n"}, {"tags": ["java", "sql", "orm", "kotlin", "querydsl"], "answers": [{"tags": [], "owner": {"reputation": 2346, "user_id": 2329708, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5Du22.jpg?s=128&g=1", "display_name": "Nate Jenson", "link": "https://stackoverflow.com/users/2329708/nate-jenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1505231368, "creation_date": 1505231368, "answer_id": 46180743, "question_id": 46178011, "link": "https://stackoverflow.com/questions/46178011/querydsl-split-results-into-two-or-more-objects/46180743#46180743", "title": "Querydsl - Split results into two or more objects", "body": "<p>I was able to achieve this by adding the <code>SQLExpression</code> needed for the window function to the <code>select(...)</code>. The query now returns a <code>List&lt;Tuple&gt;</code> where the first element of the Tuple is my <code>Employee</code> object, and the second is the <code>total</code>:</p>\n\n<pre><code>projection = Projections.constructor(Employee.class, qEmployee.id, qEmployee.age);\nList&lt;Tuple&gt; results = select(projection, SQLExpressions.count().over()).from(qEmployee).where(foobar).offset(0).limit(3);\n</code></pre>\n"}], "owner": {"reputation": 2346, "user_id": 2329708, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5Du22.jpg?s=128&g=1", "display_name": "Nate Jenson", "link": "https://stackoverflow.com/users/2329708/nate-jenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505231368, "creation_date": 1505223659, "last_edit_date": 1505226767, "question_id": 46178011, "link": "https://stackoverflow.com/questions/46178011/querydsl-split-results-into-two-or-more-objects", "title": "Querydsl - Split results into two or more objects", "body": "<p>I have a query that's returning a list of objects (say <code>Employee</code>), and I'd like to append the total, unpaged <code>count(*)</code> of the results along side it. Something like:</p>\n\n<pre><code>+---+-------------------+-------------+------------+\n|   |     id            |      age    |    total   |\n+---+-------------------+-------------+------------+\n| 1 | 1234              | 24          |12          |\n| 2 | 154367            | 61          |12          |\n| 3 | 9485048386        | 36          |12          |\n+---+-------------------+-------------+------------+\n</code></pre>\n\n<p>Which I would get from emulating a query like:</p>\n\n<pre><code>SELECT * , COUNT(*) OVER() AS total\nFROM employee\nLIMIT 3\nOFFSET 0\n</code></pre>\n\n<p>How can I query for this type of data and retrieve a <code>List&lt;Employee&gt;</code> and a singular <code>Long</code> for the <code>total</code>? Currently, I have this going, but I'm uncertain how to expand it for the new <code>total</code> column/value:</p>\n\n<pre><code>projection = Projections.constructor(Employee.class, qEmployee.id, qEmployee.age);\nselect(projection).from(qEmployee).where(foobar).offset(0).limit(3);\n</code></pre>\n"}, {"tags": ["hibernate", "spring-boot", "kotlin", "hibernate-5.x"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1505221715, "post_id": 46177276, "comment_id": 79316758, "body": "Why do you want a <code>SessionFactory</code>? Just inject an <code>EntityManager</code> to use JPA instead of plain Hibernate. This is basically also what your exception is telling you, it is complaining about an <code>EntityManagerFactory</code> NOT a <code>SessionFactory</code>."}, {"owner": {"reputation": 159, "user_id": 6273371, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-dUq8XNiscss/AAAAAAAAAAI/AAAAAAAAAA4/nreZFum107U/photo.jpg?sz=128", "display_name": "Olesia Ilchuk", "link": "https://stackoverflow.com/users/6273371/olesia-ilchuk"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1505223114, "post_id": 46177276, "comment_id": 79317940, "body": "@M.Deinum I work with big amount of data and need increase performance. I need Session method saveOrUpdate"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1505223180, "post_id": 46177276, "comment_id": 79318005, "body": "That won&#39;t increase your performance. Proper batching techniques will."}, {"owner": {"reputation": 159, "user_id": 6273371, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-dUq8XNiscss/AAAAAAAAAAI/AAAAAAAAAA4/nreZFum107U/photo.jpg?sz=128", "display_name": "Olesia Ilchuk", "link": "https://stackoverflow.com/users/6273371/olesia-ilchuk"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1505377848, "post_id": 46177276, "comment_id": 79390981, "body": "@M.Deinum I try batch, but it is still not enough. So I wanna to try saveOrUpdate"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 1, "creation_date": 1505377997, "post_id": 46177276, "comment_id": 79391054, "body": "What did you try? As mentioned saveOrUpdate won&#39;t help you trust me. Proper batching techniques (clearing and flushing the entity manager) will."}], "owner": {"reputation": 159, "user_id": 6273371, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-dUq8XNiscss/AAAAAAAAAAI/AAAAAAAAAA4/nreZFum107U/photo.jpg?sz=128", "display_name": "Olesia Ilchuk", "link": "https://stackoverflow.com/users/6273371/olesia-ilchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1505221596, "creation_date": 1505221596, "question_id": 46177276, "link": "https://stackoverflow.com/questions/46177276/how-autowire-sessionfactory-in-hibernate-5", "title": "How autowire SessionFactory in Hibernate 5?", "body": "<p>I try autowire SessionFactory, but get this error:</p>\n\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField bookRepository in com.test.app.BookService required a bean named 'entityManagerFactory' that could not be found.\n</code></pre>\n\n<p>Here I autowire SessionFactory:</p>\n\n<pre><code>@Service\nclass TestClass{\n    @Autowired\n    lateinit var sessionFactory: SessionFactory\n......\n}\n</code></pre>\n\n<p>This is my config class:</p>\n\n<pre><code>@Configuration\nclass SpringConfig {\n    @Bean\n    fun sessionFactory(emf: EntityManagerFactory): HibernateJpaSessionFactoryBean {\n        val fact = HibernateJpaSessionFactoryBean()\n        fact.entityManagerFactory = emf\n        return fact\n    }\n}\n</code></pre>\n\n<p>I try this way to:</p>\n\n<pre><code>@Configuration\nclass SpringConfig {\n    @Bean\n    fun sessionFactory(): HibernateJpaSessionFactoryBean {\n        return HibernateJpaSessionFactoryBean()\n    }\n}\n</code></pre>\n\n<p>My application.yml:</p>\n\n<pre><code>spring:\n    datasource:\n        driver-class-name: org.postgresql.Driver\n        url: datasource_url\n        password: password\n        username: username\n        hikari:\n            maximum-pool-size: 5\n    jpa:\n        properties:\n            hibernate:\n                jdbc:\n                    batch_size: 20\n                current_session_context_class: org.springframework.orm.hibernate5.SpringSessionContext\n</code></pre>\n\n<p>Hibernate version: 5.4.1</p>\n\n<p>Spring boot version: 2.0.0.M3</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 4, "creation_date": 1505227882, "post_id": 46177133, "comment_id": 79321651, "body": "Have you tried <a href=\"https://antonioleiva.com/retrofit-android-kotlin/\" rel=\"nofollow noreferrer\">using <b>Retrofit</b></a>? You can find Retrofit <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\"><b>here</b></a>"}], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 4575505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204940618347955/picture?type=large", "display_name": "Thecave3", "link": "https://stackoverflow.com/users/4575505/thecave3"}, "edited": false, "score": 4, "creation_date": 1505227757, "post_id": 46179139, "comment_id": 79321540, "body": "Some Apache components are marked as deprecated in Java Android, it is better to use the <a href=\"https://developer.android.com/training/volley/index.html\" rel=\"nofollow noreferrer\">Volley library</a> for HTTP requests"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 681, "user_id": 4575505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204940618347955/picture?type=large", "display_name": "Thecave3", "link": "https://stackoverflow.com/users/4575505/thecave3"}, "edited": false, "score": 2, "creation_date": 1505227827, "post_id": 46179139, "comment_id": 79321601, "body": "Okay, I did not see the android tag, the question only mentioned Kotlin here"}, {"owner": {"reputation": 681, "user_id": 4575505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204940618347955/picture?type=large", "display_name": "Thecave3", "link": "https://stackoverflow.com/users/4575505/thecave3"}, "edited": false, "score": 0, "creation_date": 1505228034, "post_id": 46179139, "comment_id": 79321783, "body": "I don&#39;t know if kotlin could be used outside Android, but I know for real that Apache on Android does not work as it should be"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 681, "user_id": 4575505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204940618347955/picture?type=large", "display_name": "Thecave3", "link": "https://stackoverflow.com/users/4575505/thecave3"}, "edited": false, "score": 10, "creation_date": 1505228102, "post_id": 46179139, "comment_id": 79321846, "body": "Yes sure it can be used outside Android. Kotlin was never targeted for Android initially ;-)"}, {"owner": {"reputation": 1039, "user_id": 7860624, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f1c4e74e89bf24736ebd89f3e642620?s=128&d=identicon&r=PG&f=1", "display_name": "Rajkumar K", "link": "https://stackoverflow.com/users/7860624/rajkumar-k"}, "edited": false, "score": 0, "creation_date": 1505280287, "post_id": 46179139, "comment_id": 79341085, "body": "How to give server username and password?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1505282036, "post_id": 46179139, "comment_id": 79341731, "body": "With the approach I suggested, this can help for Basic Auth: <a href=\"https://stackoverflow.com/questions/7019997/preemptive-basic-auth-with-httpurlconnection\" title=\"preemptive basic auth with httpurlconnection\">stackoverflow.com/questions/7019997/&hellip;</a>"}, {"owner": {"reputation": 2054, "user_id": 7487335, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32244f1bdffe72c55bc128e9aa1e7a47?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Correia", "link": "https://stackoverflow.com/users/7487335/josh-correia"}, "edited": false, "score": 2, "creation_date": 1593710087, "post_id": 46179139, "comment_id": 110882462, "body": "Don&#39;t forget to add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; &#47;&gt;</code> to AndroidManifest.xml"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 58, "last_activity_date": 1603955188, "last_edit_date": 1603955188, "creation_date": 1505226679, "answer_id": 46179139, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/46179139#46179139", "title": "HTTP Request in Kotlin", "body": "<p>For Android, <a href=\"https://developer.android.com/training/volley/index.html\" rel=\"noreferrer\">Volley</a> is a good place to get started. For all platforms, you might also want to check out <a href=\"https://ktor.io/clients/http-client.html\" rel=\"noreferrer\">ktor</a> client or <a href=\"https://www.http4k.org/guide/modules/clients/\" rel=\"noreferrer\">http4k</a> which are both good libraries.</p>\n<p>However, you can also use standard Java libraries like <code>java.net.HttpURLConnection</code>\nwhich is part of the Java SDK:</p>\n<pre><code>fun sendGet() {\n    val url = URL(&quot;http://www.google.com/&quot;)\n\n    with(url.openConnection() as HttpURLConnection) {\n        requestMethod = &quot;GET&quot;  // optional default is GET\n\n        println(&quot;\\nSent 'GET' request to URL : $url; Response Code : $responseCode&quot;)\n\n        inputStream.bufferedReader().use {\n            it.lines().forEach { line -&gt;\n                println(line)\n            }\n        }\n    }\n}\n</code></pre>\n<p>Or simpler:</p>\n<pre><code>URL(&quot;https://google.com&quot;).readText()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1541708323, "post_id": 48082976, "comment_id": 93318656, "body": "This works fine <i>outside</i> of Android, but that wasn&#39;t what the quesiton was asking for"}], "tags": [], "owner": {"reputation": 2403, "user_id": 4805412, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/29393e9cd0c3e706af924e3944c75016?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Hanpari", "link": "https://stackoverflow.com/users/4805412/pavel-hanpari"}, "is_accepted": false, "score": 3, "last_activity_date": 1515006051, "last_edit_date": 1515006051, "creation_date": 1515003403, "answer_id": 48082976, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/48082976#48082976", "title": "HTTP Request in Kotlin", "body": "<pre><code>import java.io.IOException\nimport java.net.URL\n\nfun main(vararg args: String) {\n    val response = try {\n        URL(\"http://seznam.cz\")\n                .openStream()\n                .bufferedReader()\n                .use { it.readText() }\n    } catch (e: IOException) {\n        \"Error with ${e.message}.\"\n    }\n    println(response)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3579, "user_id": 3634990, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nM3wb.jpg?s=128&g=1", "display_name": "jungledev", "link": "https://stackoverflow.com/users/3634990/jungledev"}, "edited": false, "score": 0, "creation_date": 1543856933, "post_id": 50272269, "comment_id": 94059560, "body": "where are <code>url</code> and <code>inputStream</code> vars defined?  This code is incomplete."}, {"owner": {"reputation": 124, "user_id": 2520998, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ce6acc3536b0e0340b5f0569d3394c9c?s=128&d=identicon&r=PG", "display_name": "kwmt", "link": "https://stackoverflow.com/users/2520998/kwmt"}, "edited": false, "score": 2, "creation_date": 1560011712, "post_id": 50272269, "comment_id": 99603676, "body": "BufferedReader implements AutoClosable, so you don&#39;t need to explicitly call <code>it.close</code>."}], "tags": [], "owner": {"reputation": 2402, "user_id": 1427776, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/4kPYD.png?s=128&g=1", "display_name": "Deven", "link": "https://stackoverflow.com/users/1427776/deven"}, "is_accepted": false, "score": 23, "last_activity_date": 1586171377, "last_edit_date": 1586171377, "creation_date": 1525952894, "answer_id": 50272269, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/50272269#50272269", "title": "HTTP Request in Kotlin", "body": "<p>Send HTTP POST/GET request with parameters using <code>HttpURLConnection</code> :</p>\n\n<p><strong>POST with Parameters:</strong></p>\n\n<pre><code>fun sendPostRequest(userName:String, password:String) {\n\n    var reqParam = URLEncoder.encode(\"username\", \"UTF-8\") + \"=\" + URLEncoder.encode(userName, \"UTF-8\")\n    reqParam += \"&amp;\" + URLEncoder.encode(\"password\", \"UTF-8\") + \"=\" + URLEncoder.encode(password, \"UTF-8\")\n    val mURL = URL(\"&lt;Your API Link&gt;\")\n\n    with(mURL.openConnection() as HttpURLConnection) {\n        // optional default is GET\n        requestMethod = \"POST\"\n\n        val wr = OutputStreamWriter(getOutputStream());\n        wr.write(reqParam);\n        wr.flush();\n\n        println(\"URL : $url\")\n        println(\"Response Code : $responseCode\")\n\n        BufferedReader(InputStreamReader(inputStream)).use {\n            val response = StringBuffer()\n\n            var inputLine = it.readLine()\n            while (inputLine != null) {\n                response.append(inputLine)\n                inputLine = it.readLine()\n            }\n            println(\"Response : $response\")\n        }\n    }\n}\n</code></pre>\n\n<p><strong>GET with Parameters:</strong></p>\n\n<pre><code>fun sendGetRequest(userName:String, password:String) {\n\n        var reqParam = URLEncoder.encode(\"username\", \"UTF-8\") + \"=\" + URLEncoder.encode(userName, \"UTF-8\")\n        reqParam += \"&amp;\" + URLEncoder.encode(\"password\", \"UTF-8\") + \"=\" + URLEncoder.encode(password, \"UTF-8\")\n\n        val mURL = URL(\"&lt;Yout API Link&gt;?\"+reqParam)\n\n        with(mURL.openConnection() as HttpURLConnection) {\n            // optional default is GET\n            requestMethod = \"GET\"\n\n            println(\"URL : $url\")\n            println(\"Response Code : $responseCode\")\n\n            BufferedReader(InputStreamReader(inputStream)).use {\n                val response = StringBuffer()\n\n                var inputLine = it.readLine()\n                while (inputLine != null) {\n                    response.append(inputLine)\n                    inputLine = it.readLine()\n                }\n                it.close()\n                println(\"Response : $response\")\n            }\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "edited": false, "score": 0, "creation_date": 1592657554, "post_id": 52745513, "comment_id": 110506268, "body": "Hm, Android Studio says &quot;Experimental coroutines support will be dropped in 1.4&quot;"}, {"owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "edited": false, "score": 0, "creation_date": 1593035895, "post_id": 52745513, "comment_id": 110642941, "body": "Looks like coroutines have been moved out of experimental! Also the launch syntax is a bit different now."}, {"owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "edited": false, "score": 0, "creation_date": 1598490281, "post_id": 52745513, "comment_id": 112478593, "body": "Sorry, me again. My IDE tells me &quot;inappropriate blocking method call&quot; for <code>readText</code> -- is it okay to use <code>readText</code> with coroutines rather than threads?"}], "tags": [], "owner": {"reputation": 8420, "user_id": 229906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/at3Cf.jpg?s=128&g=1", "display_name": "0llie", "link": "https://stackoverflow.com/users/229906/0llie"}, "is_accepted": false, "score": 9, "last_activity_date": 1539191516, "creation_date": 1539191516, "answer_id": 52745513, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/52745513#52745513", "title": "HTTP Request in Kotlin", "body": "<h2>Maybe the simplest GET</h2>\n\n<p>For everybody stuck with <strong>NetworkOnMainThreadException</strong> for the other solutions: use AsyncTask or, even shorter, (yet still experimental) Coroutines:</p>\n\n<pre><code>launch {\n\n    val jsonStr = URL(\"url\").readText()\n\n}\n</code></pre>\n\n<hr>\n\n<p>If you need to test with plain http don't forget to add to your manifest:\n<code>android:usesCleartextTraffic=\"true\"</code></p>\n\n<hr>\n\n<p>For the experimental Coroutines you have to add to build.gradle as of 10/10/2018:</p>\n\n<pre><code>kotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\ndependencies {\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:0.24.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:0.24.0\"\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3579, "user_id": 3634990, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/nM3wb.jpg?s=128&g=1", "display_name": "jungledev", "link": "https://stackoverflow.com/users/3634990/jungledev"}, "is_accepted": false, "score": 3, "last_activity_date": 1543926200, "creation_date": 1543926200, "answer_id": 53612920, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/53612920#53612920", "title": "HTTP Request in Kotlin", "body": "<p><strong>Without adding additional dependencies, this works.</strong>  You don't need Volley for this.  This works using the current version of Kotlin as of Dec 2018: Kotlin 1.3.10</p>\n\n<p>If using Android Studio, you'll need to add this declaration in your AndroidManifest.xml:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>You should manually declare imports here.  The auto-import tool caused me many conflicts.:</p>\n\n<pre><code>import android.os.AsyncTask\nimport java.io.BufferedReader\nimport java.io.InputStreamReader\nimport java.io.OutputStream\nimport java.io.OutputStreamWriter\nimport java.net.URL\nimport java.net.URLEncoder\nimport javax.net.ssl.HttpsURLConnection\n</code></pre>\n\n<p>You can't perform network requests on a background thread.  You <strong>must</strong> subclass <code>AsyncTask</code>.</p>\n\n<p>To call the method:</p>\n\n<pre><code>NetworkTask().execute(requestURL, queryString)\n</code></pre>\n\n<p>Declaration:</p>\n\n<pre><code>private class NetworkTask : AsyncTask&lt;String, Int, Long&gt;() {\n    override fun doInBackground(vararg parts: String): Long? {\n        val requestURL = parts.first()\n        val queryString = parts.last()\n\n        // Set up request\n        val connection: HttpsURLConnection = URL(requestURL).openConnection() as HttpsURLConnection\n        // Default is GET so you must override this for post\n        connection.requestMethod = \"POST\"\n        // To send a post body, output must be true\n        connection.doOutput = true\n        // Create the stream\n        val outputStream: OutputStream = connection.outputStream\n        // Create a writer container to pass the output over the stream\n        val outputWriter = OutputStreamWriter(outputStream)\n        // Add the string to the writer container\n        outputWriter.write(queryString)\n        // Send the data\n        outputWriter.flush()\n\n        // Create an input stream to read the response\n        val inputStream = BufferedReader(InputStreamReader(connection.inputStream)).use {\n            // Container for input stream data\n            val response = StringBuffer()\n            var inputLine = it.readLine()\n            // Add each line to the response container\n            while (inputLine != null) {\n                response.append(inputLine)\n                inputLine = it.readLine()\n            }\n            it.close()\n            // TODO: Add main thread callback to parse response\n            println(\"&gt;&gt;&gt;&gt; Response: $response\")\n        }\n        connection.disconnect()\n\n        return 0\n    }\n\n    protected fun onProgressUpdate(vararg progress: Int) {\n    }\n\n    override fun onPostExecute(result: Long?) {\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1605275974, "post_id": 53683169, "comment_id": 114608348, "body": "Don&#39;t forget to close the <code>InputStream</code>, like <code>inputStream.bufferedReader().use {readText()}</code>"}], "tags": [], "owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "is_accepted": false, "score": 6, "last_activity_date": 1544277299, "last_edit_date": 1544277299, "creation_date": 1544276917, "answer_id": 53683169, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/53683169#53683169", "title": "HTTP Request in Kotlin", "body": "<p>If you are using <code>Kotlin</code>, you might as well keep your code as succinct as possible. The <code>run</code> method turns the receiver into <code>this</code> and returns the value of the block.\n<code>this as HttpURLConnection</code> creates a smart cast.  <code>bufferedReader().readText()</code> avoids a bunch of boilerplate code.</p>\n\n<pre><code>return URL(url).run {\n        openConnection().run {\n            this as HttpURLConnection\n            inputStream.bufferedReader().readText()\n        }\n}\n</code></pre>\n\n<p>You can also wrap this into an extension function.</p>\n\n<pre><code>fun URL.getText(): String {\n    return openConnection().run {\n                this as HttpURLConnection\n                inputStream.bufferedReader().readText()\n            }\n}\n</code></pre>\n\n<p>And call it like this</p>\n\n<pre><code>return URL(url).getText()\n</code></pre>\n\n<p>Finally, if you are super lazy, you can extend the <code>String</code> class instead.</p>\n\n<pre><code>fun String.getUrlText(): String {\n    return URL(this).run {\n            openConnection().run {\n                this as HttpURLConnection\n                inputStream.bufferedReader().readText()\n            }\n    }\n}\n</code></pre>\n\n<p>And call it like this</p>\n\n<pre><code>return \"http://somewhere.com\".getUrlText()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "reply_to_user": {"reputation": 1524, "user_id": 1096030, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e4996975620a58b826bac17c75bfe8f4?s=128&d=identicon&r=PG&f=1", "display_name": "LowFieldTheory", "link": "https://stackoverflow.com/users/1096030/lowfieldtheory"}, "edited": false, "score": 0, "creation_date": 1574284972, "post_id": 53881947, "comment_id": 104182241, "body": "It depends of your needs. GET method is declared as <code>fun httpGet(client: Call.Factory = defaultHttpClient, init: HttpGetContext.() -&gt; Unit): Response</code> so it can use call factory with a configuration specific for your project needs and performance issues."}], "tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 4, "last_activity_date": 1590258471, "last_edit_date": 1590258471, "creation_date": 1545383392, "answer_id": 53881947, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/53881947#53881947", "title": "HTTP Request in Kotlin", "body": "<p>You can use <a href=\"https://github.com/rybalkinsd/kohttp\" rel=\"nofollow noreferrer\">kohttp</a> library. It is a Kotlin DSL HTTP client. It supports the features of square.okhttp and provides a clear DSL for them. KoHttp async calls are powered by coroutines. </p>\n\n<p><code>httpGet</code> extension function</p>\n\n<pre><code>val response: Response = \"https://google.com/search?q=iphone\".httpGet()\n</code></pre>\n\n<p>you can also use async call with coroutines</p>\n\n<pre><code>val response: Deferred&lt;Response&gt; = \"https://google.com/search?q=iphone\".asyncHttpGet()\n</code></pre>\n\n<p>or DSL function for more complex requests</p>\n\n<pre><code>val response: Response = httpGet {\n    host = \"google.com\"\n    path = \"/search\"\n    param {\n       \"q\" to \"iphone\"\n       \"safe\" to \"off\"\n   }\n}\n</code></pre>\n\n<p>You can find more details in <a href=\"https://github.com/rybalkinsd/kohttp\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p>To get it with gradle use </p>\n\n<pre><code>implementation 'io.github.rybalkinsd:kohttp:0.12.0'\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3237183"}, "is_accepted": false, "score": 8, "last_activity_date": 1557730542, "last_edit_date": 1557730542, "creation_date": 1548319197, "answer_id": 54342434, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/54342434#54342434", "title": "HTTP Request in Kotlin", "body": "<p>Have a look at <a href=\"https://github.com/kittinunf/fuel\" rel=\"noreferrer\">Fuel</a> library, a sample <strong>GET request</strong></p>\n\n<pre><code>\"https://httpbin.org/get\"\n  .httpGet()\n  .responseString { request, response, result -&gt;\n    when (result) {\n      is Result.Failure -&gt; {\n        val ex = result.getException()\n      }\n      is Result.Success -&gt; {\n        val data = result.get()\n      }\n    }\n  }\n\n// You can also use Fuel.get(\"https://httpbin.org/get\").responseString { ... }\n// You can also use FuelManager.instance.get(\"...\").responseString { ... }\n</code></pre>\n\n<p>A sample <strong>POST request</strong></p>\n\n<pre><code>Fuel.post(\"https://httpbin.org/post\")\n    .jsonBody(\"{ \\\"foo\\\" : \\\"bar\\\" }\")\n    .also { println(it) }\n    .response { result -&gt; }\n</code></pre>\n\n<p>Their documentation can be found <a href=\"https://fuel.gitbook.io/documentation/core/fuel\" rel=\"noreferrer\">here</a>\n\u200b</p>\n"}, {"comments": [{"owner": {"reputation": 1821, "user_id": 7406389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOFCj.jpg?s=128&g=1", "display_name": "Abhijith K", "link": "https://stackoverflow.com/users/7406389/abhijith-k"}, "edited": false, "score": 1, "creation_date": 1562332528, "post_id": 55054806, "comment_id": 100352308, "body": "Thanks. That worked for me. But RequestBody.created() is deprecated now. What is the solution ?"}, {"owner": {"reputation": 1215, "user_id": 4414359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a8314189196f1f31ae825807125de8d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raksha", "link": "https://stackoverflow.com/users/4414359/raksha"}, "edited": false, "score": 0, "creation_date": 1586382782, "post_id": 55054806, "comment_id": 108112381, "body": "what are you imports? I can&#39;t figure out which &quot;get&quot; it&#39;s supposed to be that goes with what i&#39;m assuming is okhttp MediaType... And what are &quot;$data&quot; and &quot;$token&quot;? Also says &quot;Cannot access &#39;body&#39;: it is private in &#39;Response&#39;&quot; in &quot;val responseBody = response.body!!.string()&quot;"}, {"owner": {"reputation": 187, "user_id": 1712906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJnZY.jpg?s=128&g=1", "display_name": "fvildoso", "link": "https://stackoverflow.com/users/1712906/fvildoso"}, "reply_to_user": {"reputation": 1215, "user_id": 4414359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a8314189196f1f31ae825807125de8d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raksha", "link": "https://stackoverflow.com/users/4414359/raksha"}, "edited": false, "score": 0, "creation_date": 1586390224, "post_id": 55054806, "comment_id": 108114474, "body": "@Raksha   import com.fasterxml.jackson.databind.ObjectMapper import okhttp3.MediaType.Companion.toMediaType import okhttp3.OkHttpClient import okhttp3.Request import java.net.URL import okhttp3.RequestBody.Companion.toRequestBody  you should try with the updated examples."}, {"owner": {"reputation": 1173, "user_id": 5390254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CwUA1.png?s=128&g=1", "display_name": "J A S K I E R", "link": "https://stackoverflow.com/users/5390254/j-a-s-k-i-e-r"}, "edited": false, "score": 0, "creation_date": 1610970964, "post_id": 55054806, "comment_id": 116292403, "body": "<i>Unresolved reference: ObjectMapper</i> Is it custom class?"}, {"owner": {"reputation": 187, "user_id": 1712906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJnZY.jpg?s=128&g=1", "display_name": "fvildoso", "link": "https://stackoverflow.com/users/1712906/fvildoso"}, "reply_to_user": {"reputation": 1173, "user_id": 5390254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CwUA1.png?s=128&g=1", "display_name": "J A S K I E R", "link": "https://stackoverflow.com/users/5390254/j-a-s-k-i-e-r"}, "edited": false, "score": 0, "creation_date": 1611545311, "post_id": 55054806, "comment_id": 116477639, "body": "@Oleksandr you don&#39;t need any custom class. In my example, you have to use OkHttp to do request, and Jackson to serialize JSONs.  I&#39;ve added it the dependencies."}], "tags": [], "owner": {"reputation": 187, "user_id": 1712906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJnZY.jpg?s=128&g=1", "display_name": "fvildoso", "link": "https://stackoverflow.com/users/1712906/fvildoso"}, "is_accepted": false, "score": 7, "last_activity_date": 1611545206, "last_edit_date": 1611545206, "creation_date": 1552003626, "answer_id": 55054806, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/55054806#55054806", "title": "HTTP Request in Kotlin", "body": "<p>I think using okhttp is the easiest solution. Here you can see an example for POST method, sending a json, and with auth.</p>\n<pre><code>val url = &quot;https://example.com/endpoint&quot;\n\nval client = OkHttpClient()\n\nval JSON = MediaType.get(&quot;application/json; charset=utf-8&quot;)\nval body = RequestBody.create(JSON, &quot;{\\&quot;data\\&quot;:\\&quot;$data\\&quot;}&quot;)\nval request = Request.Builder()\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer $token&quot;)\n        .url(url)\n        .post(body)\n        .build()\n\nval  response = client . newCall (request).execute()\n\nprintln(response.request())\nprintln(response.body()!!.string())\n</code></pre>\n<p>Remember to add this dependency to your project <a href=\"https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp</a></p>\n<p><strong>UPDATE: July 7th, 2019</strong>\nI'm gonna give two examples using latest Kotlin (1.3.41), OkHttp (4.0.0) and Jackson (2.9.9).</p>\n<p><strong>UPDATE: January 25th, 2021</strong>\nEverything is okay with the most updated versions.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-module-kotlin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Get Method</p>\n<pre><code>fun get() {\n    val client = OkHttpClient()\n    val url = URL(&quot;https://reqres.in/api/users?page=2&quot;)\n\n    val request = Request.Builder()\n            .url(url)\n            .get()\n            .build()\n\n    val response = client.newCall(request).execute()\n\n    val responseBody = response.body!!.string()\n\n    //Response\n    println(&quot;Response Body: &quot; + responseBody)\n\n    //we could use jackson if we got a JSON\n    val mapperAll = ObjectMapper()\n    val objData = mapperAll.readTree(responseBody)\n\n    objData.get(&quot;data&quot;).forEachIndexed { index, jsonNode -&gt;\n        println(&quot;$index $jsonNode&quot;)\n    }\n}\n</code></pre>\n<p>POST Method</p>\n<pre><code>fun post() {\n    val client = OkHttpClient()\n    val url = URL(&quot;https://reqres.in/api/users&quot;)\n\n    //just a string\n    var jsonString = &quot;{\\&quot;name\\&quot;: \\&quot;Rolando\\&quot;, \\&quot;job\\&quot;: \\&quot;Fakeador\\&quot;}&quot;\n\n    //or using jackson\n    val mapperAll = ObjectMapper()\n    val jacksonObj = mapperAll.createObjectNode()\n    jacksonObj.put(&quot;name&quot;, &quot;Rolando&quot;)\n    jacksonObj.put(&quot;job&quot;, &quot;Fakeador&quot;)\n    val jacksonString = jacksonObj.toString()\n\n    val mediaType = &quot;application/json; charset=utf-8&quot;.toMediaType()\n    val body = jacksonString.toRequestBody(mediaType)\n\n    val request = Request.Builder()\n            .url(url)\n            .post(body)\n            .build()\n\n    val response = client.newCall(request).execute()\n\n    val responseBody = response.body!!.string()\n\n    //Response\n    println(&quot;Response Body: &quot; + responseBody)\n\n    //we could use jackson if we got a JSON\n    val objData = mapperAll.readTree(responseBody)\n\n    println(&quot;My name is &quot; + objData.get(&quot;name&quot;).textValue() + &quot;, and I'm a &quot; + objData.get(&quot;job&quot;).textValue() + &quot;.&quot;)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1173, "user_id": 5390254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CwUA1.png?s=128&g=1", "display_name": "J A S K I E R", "link": "https://stackoverflow.com/users/5390254/j-a-s-k-i-e-r"}, "edited": false, "score": 0, "creation_date": 1610969718, "post_id": 59688395, "comment_id": 116291864, "body": "<b>Unresolved reference: toRequestBody</b>"}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1618759853, "post_id": 59688395, "comment_id": 118694041, "body": "(In English, it is <i><a href=\"https://en.wikipedia.org/wiki/Brazil\" rel=\"nofollow noreferrer\">Brazil</a></i>, not <i>Brasil</i> (your profile).)"}, {"owner": {"reputation": 518, "user_id": 9813163, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F05--Od_DUQ/AAAAAAAAAAI/AAAAAAAAAvk/luZw-x5__As/photo.jpg?sz=128", "display_name": "Mateus Melo", "link": "https://stackoverflow.com/users/9813163/mateus-melo"}, "reply_to_user": {"reputation": 1173, "user_id": 5390254, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CwUA1.png?s=128&g=1", "display_name": "J A S K I E R", "link": "https://stackoverflow.com/users/5390254/j-a-s-k-i-e-r"}, "edited": false, "score": 0, "creation_date": 1618855056, "post_id": 59688395, "comment_id": 118723843, "body": "@JASKIER did you add the dependencies?"}, {"owner": {"reputation": 518, "user_id": 9813163, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F05--Od_DUQ/AAAAAAAAAAI/AAAAAAAAAvk/luZw-x5__As/photo.jpg?sz=128", "display_name": "Mateus Melo", "link": "https://stackoverflow.com/users/9813163/mateus-melo"}, "reply_to_user": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1618855071, "post_id": 59688395, "comment_id": 118723853, "body": "@PeterMortensen Thanks!"}], "tags": [], "owner": {"reputation": 518, "user_id": 9813163, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F05--Od_DUQ/AAAAAAAAAAI/AAAAAAAAAvk/luZw-x5__As/photo.jpg?sz=128", "display_name": "Mateus Melo", "link": "https://stackoverflow.com/users/9813163/mateus-melo"}, "is_accepted": false, "score": 1, "last_activity_date": 1578687088, "creation_date": 1578687088, "answer_id": 59688395, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/59688395#59688395", "title": "HTTP Request in Kotlin", "body": "<p><strong>GET and POST using OkHttp</strong></p>\n\n<pre><code>private const val CONNECT_TIMEOUT = 15L\nprivate const val READ_TIMEOUT = 15L\nprivate const val WRITE_TIMEOUT = 15L\n\nprivate fun performPostOperation(urlString: String, jsonString: String, token: String): String? {\n    return try {\n        val client = OkHttpClient.Builder()\n            .connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)\n            .writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS)\n            .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)\n            .build()\n\n        val body = jsonString.toRequestBody(\"application/json; charset=utf-8\".toMediaTypeOrNull())\n\n        val request = Request.Builder()\n            .url(URL(urlString))\n            .header(\"Authorization\", token)\n            .post(body)\n            .build()\n\n        val response = client.newCall(request).execute()\n        response.body?.string()\n    }\n    catch (e: IOException) {\n        e.printStackTrace()\n        null\n    }\n}\n\nprivate fun performGetOperation(urlString: String, token: String): String? {\n    return try {\n        val client = OkHttpClient.Builder()\n            .connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)\n            .writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS)\n            .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)\n            .build()\n\n        val request = Request.Builder()\n            .url(URL(urlString))\n            .header(\"Authorization\", token)\n            .get()\n            .build()\n\n        val response = client.newCall(request).execute()\n        response.body?.string()\n    }\n    catch (e: IOException) {\n        e.printStackTrace()\n        null\n    }\n}\n</code></pre>\n\n<p><strong>Object serialization and deserialization</strong></p>\n\n<pre><code>@Throws(JsonProcessingException::class)\nfun objectToJson(obj: Any): String {\n    return ObjectMapper().writeValueAsString(obj)\n}\n\n@Throws(IOException::class)\nfun jsonToAgentObject(json: String?): MyObject? {\n    return if (json == null) { null } else {\n        ObjectMapper().readValue&lt;MyObject&gt;(json, MyObject::class.java)\n    }\n}\n</code></pre>\n\n<p><strong>Dependencies</strong></p>\n\n<p>Put the following lines in your gradle (<strong><em>app</em></strong>) file. Jackson is optional. You can use it for object serialization and deserialization.</p>\n\n<pre><code>implementation 'com.squareup.okhttp3:okhttp:4.3.1'\nimplementation 'com.fasterxml.jackson.core:jackson-core:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-annotations:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-databind:2.9.8'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 208, "user_id": 3961710, "user_type": "registered", "profile_image": "https://graph.facebook.com/1620095693/picture?type=large", "display_name": "Marco Ottina", "link": "https://stackoverflow.com/users/3961710/marco-ottina"}, "edited": false, "score": 0, "creation_date": 1590609312, "post_id": 62025764, "comment_id": 109747951, "body": "Why don&#39;t You just wrap the function body as described below instead of only making (useful) warnings? &lt;pre&gt;     var worker = object : AsyncTask&lt;Void, Void, Void?&gt;() {                  override fun doInBackground(params: Array&lt;Void&gt;): Void? {                     runner()                     return null                  }                  override fun onPostExecute(result: Void?) {                     super.onPostExecute(result)                      /*do something with result*/                  }             }             worker.execute() &lt;/pre&gt;"}, {"owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "reply_to_user": {"reputation": 208, "user_id": 3961710, "user_type": "registered", "profile_image": "https://graph.facebook.com/1620095693/picture?type=large", "display_name": "Marco Ottina", "link": "https://stackoverflow.com/users/3961710/marco-ottina"}, "edited": false, "score": 1, "creation_date": 1590616891, "post_id": 62025764, "comment_id": 109751411, "body": "Hey Marco, I&#39;m currently using <i>AsyncTask</i> as well, but it will be <b>deprecated in Android 11</b>. And I haven&#39;t experimented with other approaches so I don&#39;t feel comfortable explaining them yet, I&#39;ll edit my answer later."}, {"owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "reply_to_user": {"reputation": 208, "user_id": 3961710, "user_type": "registered", "profile_image": "https://graph.facebook.com/1620095693/picture?type=large", "display_name": "Marco Ottina", "link": "https://stackoverflow.com/users/3961710/marco-ottina"}, "edited": false, "score": 0, "creation_date": 1618147302, "post_id": 62025764, "comment_id": 118508514, "body": "I&#39;ve edited my answer to use <code>thread</code> instead of <code>AsyncTask</code> now."}], "tags": [], "owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "is_accepted": false, "score": 4, "last_activity_date": 1618147401, "last_edit_date": 1618147401, "creation_date": 1590507039, "answer_id": 62025764, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin/62025764#62025764", "title": "HTTP Request in Kotlin", "body": "<p>Using only the <strong>standard library</strong> with minimal code!</p>\n<pre><code>thread {\n    val json = try { URL(url).readText() } catch (e: Exception) { return@thread }\n    runOnUiThread { displayOrWhatever(json) }\n}\n</code></pre>\n<p>This starts a GET request <strong>on a new thread</strong>, leaving the UI thread to respond to user input. However, we can only modify UI elements from the main/UI thread, so we actually need a <code>runOnUiThread</code> block to show the result to our user. This enqueues our display code to be run on the UI thread soon.</p>\n<p>The <strong>try/catch</strong> is there so your app won't crash if you make a request with your phone's internet off. Add your own error handling (e.g. showing a Toast) as you please.</p>\n<p><code>.readText()</code> is not part of the <code>java.net.URL</code> class but a Kotlin <a href=\"https://en.wikipedia.org/wiki/Extension_method\" rel=\"nofollow noreferrer\">extension method</a>, Kotlin &quot;glues&quot; this method onto <code>URL</code>. This is enough for plain GET requests, but for more control and POST requests you need something like the <a href=\"https://github.com/kittinunf/fuel\" rel=\"nofollow noreferrer\"><code>Fuel</code></a> library.</p>\n"}], "owner": {"reputation": 1039, "user_id": 7860624, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f1c4e74e89bf24736ebd89f3e642620?s=128&d=identicon&r=PG&f=1", "display_name": "Rajkumar K", "link": "https://stackoverflow.com/users/7860624/rajkumar-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142031, "favorite_count": 15, "accepted_answer_id": 46179139, "answer_count": 11, "score": 80, "last_activity_date": 1618147401, "creation_date": 1505221286, "last_edit_date": 1541708336, "question_id": 46177133, "link": "https://stackoverflow.com/questions/46177133/http-request-in-kotlin", "title": "HTTP Request in Kotlin", "body": "<p>I'm completely new to Kotlin. I want to do a login validation using POST method and to get some information using GET method. I've URL, server Username and Password already of my previous project. I didn't find any proper example project which uses this thing. Anyone please suggest me any working example where I can use GET and POST method in HTTP request</p>\n"}, {"tags": ["android", "sms", "kotlin"], "comments": [{"owner": {"reputation": 2220, "user_id": 4098637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uYGnV.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/4098637/raghavendra"}, "edited": false, "score": 0, "creation_date": 1505220103, "post_id": 46176634, "comment_id": 79315489, "body": "Post the logcat?"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1505220144, "post_id": 46176634, "comment_id": 79315523, "body": "did you add run time permission if you are running your app fro android version&gt;=23"}], "answers": [{"tags": [], "owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "is_accepted": false, "score": 1, "last_activity_date": 1505220276, "creation_date": 1505220276, "answer_id": 46176748, "question_id": 46176634, "link": "https://stackoverflow.com/questions/46176634/app-crash-when-i-try-send-sms/46176748#46176748", "title": "App crash when I try send SMS", "body": "<p>you have to request the permission by yourself. \nAs described in this <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">guide</a></p>\n\n<pre><code>// Here, thisActivity is the current activity\nif (ContextCompat.checkSelfPermission(thisActivity,\n            Manifest.permission.SEND_SMS)\n    != PackageManager.PERMISSION_GRANTED) {\n\n    // Should we show an explanation?\n    if (ActivityCompat.shouldShowRequestPermissionRationale(thisActivity,\n        Manifest.permission.SEND_SMS)) {\n\n        // Show an explanation to the user *asynchronously* -- don't block\n        // this thread waiting for the user's response! After the user\n        // sees the explanation, try again to request the permission.\n\n    } else {\n\n        // No explanation needed, we can request the permission.\n\n        ActivityCompat.requestPermissions(thisActivity,\n            new String[]{Manifest.permission.SEND_SMS},\n            MY_PERMISSIONS_REQUEST_SEND_SMS);\n\n        // MY_PERMISSIONS_REQUEST_SEND_SMS is an\n        // app-defined int constant. The callback method gets the\n        // result of the request.\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": -1, "last_activity_date": 1505221423, "creation_date": 1505221423, "answer_id": 46177191, "question_id": 46176634, "link": "https://stackoverflow.com/questions/46176634/app-crash-when-i-try-send-sms/46177191#46177191", "title": "App crash when I try send SMS", "body": "<p>If you don't want to use run time permissions set target SDK version to 21 in your Gradle.</p>\n\n<p>Add <strong>target SDK</strong> in your <strong>Gradle</strong> like this:</p>\n\n<pre><code>android {\n    defaultConfig {\n        .....\n        .....\n        targetSdkVersion 21\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 7785601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/964d1a16170f4fbc0f49c4552a6f4f7d?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal Wegrzyniak", "link": "https://stackoverflow.com/users/7785601/rafal-wegrzyniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1505221423, "creation_date": 1505219982, "question_id": 46176634, "link": "https://stackoverflow.com/questions/46176634/app-crash-when-i-try-send-sms", "title": "App crash when I try send SMS", "body": "<p>I try to send SMS in kotlin, I wrote simple app with the following code:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.telephony.SmsManager\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val textView = findViewById(R.id.mainTextView) as TextView\n    SEND.setOnClickListener {\n        textView.setText(\"click\")\n        val sm = SmsManager.getDefault()\n        sm.sendTextMessage(\"123123123\", null, \"test\", null, null)\n        textView.setText(\"OK\")\n\n    }\n  }\n}\n</code></pre>\n\n<p>When I try run app via USB cable from AndroidStudio app don't want permissions despite the fact I've added permission SEND_SMS to manifest. When I push button app closes</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1505219120, "post_id": 46176332, "comment_id": 79314818, "body": "That does not apply for inline functions"}, {"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "reply_to_user": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1505219415, "post_id": 46176332, "comment_id": 79315019, "body": "Very true, but I see this as a restriction of the JVM rather than a design choice,  given that normal functions do have such access.   My point is that this ability to access is more inline with what would be expected rather than being a problem."}], "tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1505220429, "last_edit_date": 1505220429, "creation_date": 1505219092, "answer_id": 46176332, "question_id": 46176200, "link": "https://stackoverflow.com/questions/46176200/why-can-public-inline-functions-call-private-constructors/46176332#46176332", "title": "Why can public inline functions call private constructors", "body": "<p>The companion object is within the class.  So the code within the class is providing an interface to call the private method, but remember this code is code within the class.</p>\n\n<p>Just as public class methods can access private variables and return their values to the outside, these methods can do this because they are part of the class.  The same principle applies in this case, so I suggest this ability to access private members from within the class is to be expected, and behaviour that is less expected is the behaviour of regular inline functions of a class.  I believe the behaviour of regular inline functions in this respect is an implementation restriction that simply is not necessary from the companion object.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1505224123, "last_edit_date": 1505224123, "creation_date": 1505223654, "answer_id": 46178008, "question_id": 46176200, "link": "https://stackoverflow.com/questions/46176200/why-can-public-inline-functions-call-private-constructors/46178008#46178008", "title": "Why can public inline functions call private constructors", "body": "<blockquote>\n  <ul>\n  <li>Why can that internal inline fun call a private constructor? (a public fun couldn't)</li>\n  </ul>\n</blockquote>\n\n<p>An <strong><code>internal</code></strong> <code>inline</code> function can access non-public API, because it can only be called in the same module, and thus it won't suffer from binary incompatibility that might be introduced when the API changes and the calling module is not re-compiled (see the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#public-inline-restrictions\" rel=\"nofollow noreferrer\">docs</a>). Such calls are only prohibited for public API <code>inline</code> functions.</p>\n\n<blockquote>\n  <ul>\n  <li>Why can that public inline fun call an internal function?</li>\n  </ul>\n</blockquote>\n\n<p>It's a bug. Normally, a public <code>inline</code> function cannot access non-public API. This rule seems not to be checked for the <code>invoke()</code> operator calls. I've submitted the issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-20223\" rel=\"nofollow noreferrer\">KT-20223</a>.</p>\n\n<blockquote>\n  <ul>\n  <li>And why can I ultimately expose a private constructor in a public inline fun?</li>\n  </ul>\n</blockquote>\n\n<p>That's due to the composition of the expected behavior in the first point and the bug in the second point. Ultimately, it's also a bug.</p>\n"}], "owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "accepted_answer_id": 46178008, "answer_count": 2, "score": 4, "last_activity_date": 1505224123, "creation_date": 1505218728, "question_id": 46176200, "link": "https://stackoverflow.com/questions/46176200/why-can-public-inline-functions-call-private-constructors", "title": "Why can public inline functions call private constructors", "body": "<p>I have a private constructor for my class and implemented invoke on the companion object for some kind of \"generic constructor\"</p>\n\n<pre><code>class Test private constructor(className: String) {\n    companion object {\n        // If I remove the internal it fails \n        internal inline operator fun &lt;reified T&gt; invoke(): Test {\n            return Test(T::class.java.name) // why can I even call it? The constructor is private\n        }\n    }\n}\n</code></pre>\n\n<p>and I can even have a public inline function that calls that generic constructor</p>\n\n<pre><code>public inline fun test() = Test&lt;Any&gt;() // Why can I call it, it is internal\n</code></pre>\n\n<p>shouldn't that mean that every invokation <code>test()</code> expands to <code>Test(Any::class.java.name)</code> even though that constructor is private?</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Why can that <code>internal inline fun</code> call a private constructor? (a public fun couldn't)</li>\n<li>Why can that <code>public inline fun</code> call an internal function?</li>\n<li>And why can I ultimately expose a private constructor in a <code>public inline fun</code>?</li>\n</ul>\n"}, {"tags": ["asynchronous", "async-await", "kotlin", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 0, "creation_date": 1505214806, "post_id": 46174914, "comment_id": 79311870, "body": "so completionBlocks won&#39;t be created under the hood like instead of <code>func processImageData() async -&gt; Image { ... }</code> will be this <code>func processImageData(completionHandler: (result: Image) -&gt; Void) { ... }</code>?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 2, "creation_date": 1505214934, "post_id": 46174914, "comment_id": 79311962, "body": "<code>Continuation</code>s are added to <code>suspend</code> functions: <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#continuation-passing-style\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 0, "creation_date": 1505215307, "post_id": 46174914, "comment_id": 79312218, "body": "I still have a feeling that these coroutines are just nothing special other than syntactic sugar around completion blocks/lambdas, but implicitly calling the lambda/block on other thread. Is it any different from async/await stuff from C#?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 2, "creation_date": 1505215581, "post_id": 46174914, "comment_id": 79312403, "body": "The concept is very old and not dedicated to Kotlin. Of course there are many different languages supporting it."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 2, "creation_date": 1505227303, "post_id": 46174914, "comment_id": 79321181, "body": "As you can read here &quot;The first class of motivating use cases for coroutines are <i>asynchronous computations</i> (handled by async/await in C# and other languages)&quot;. So yes, it&#39;s similar. But the good thing is, Kotlin does not enforce any specific style like async/await in C#, you can also implement your own stuff, work with promises, actors, whatsoever. This here is another interesting document, I&#39;d suggest to you: <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 0, "creation_date": 1505289811, "post_id": 46174914, "comment_id": 79346209, "body": "while aRead/aWrite are special suspending functions which implicitly receive continuations (<b>continuations</b> are <code>just generic callbacks</code>)"}, {"owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "edited": false, "score": 0, "creation_date": 1505385877, "post_id": 46174914, "comment_id": 79396480, "body": "in case  you are curious look at my answer or just listen to that podcast :)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1541433508, "last_edit_date": 1541433508, "creation_date": 1505214673, "answer_id": 46174914, "question_id": 46174154, "link": "https://stackoverflow.com/questions/46174154/are-coroutines-just-syntactic-sugar-around-completion-handlers/46174914#46174914", "title": "Are coroutines just syntactic sugar around completion handlers?", "body": "<p>It's not just syntactic sugar, not at all. Coroutines <strong>do not block</strong> threads, they just <strong>suspend</strong> execution, thus they encourage <strong>non-blocking</strong> concurrent programming.</p>\n\n<p>Coroutines do not rely on features of the operating system or the JVM (e.g. they are not mapped to native Threads). Instead, coroutines and <code>suspend</code> functions particularly are transformed by the compiler producing a <strong>state machine</strong> capable of handling suspensions in general and passing around suspending coroutines keeping their state. This is enabled by <strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/-continuation/index.html\" rel=\"nofollow noreferrer\">Continuations</a></strong>, which are added as a parameter to each and every suspending function by the compiler; this technique is called \u201cContinuation-passing style\u201d.</p>\n\n<p>For details please have a look at <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md</a></p>\n"}, {"tags": [], "owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "is_accepted": false, "score": 1, "last_activity_date": 1588769396, "last_edit_date": 1588769396, "creation_date": 1505385760, "answer_id": 46216938, "question_id": 46174154, "link": "https://stackoverflow.com/questions/46174154/are-coroutines-just-syntactic-sugar-around-completion-handlers/46216938#46216938", "title": "Are coroutines just syntactic sugar around completion handlers?", "body": "<p>Here is an interesting article mentioning implementing async/await in their system: <a href=\"http://joeduffyblog.com/2015/11/19/asynchronous-everything/\" rel=\"nofollow noreferrer\">http://joeduffyblog.com/2015/11/19/asynchronous-everything/</a></p>\n\n<blockquote>\n  <p>Along with this, we added the await and async keywords. A method could be marked async:</p>\n  \n  <p>async int Foo() { ... }</p>\n  \n  <p>All this meant was that it was allowed to await inside of it:</p>\n  \n  <p>async int Bar() {\n      int x = await Foo();\n      ...\n      return x * x;\n  }</p>\n  \n  <p>Originally this was merely syntactic sugar for all the callback goop above, like it is in C#. Eventually, however, we went way beyond this, in the name of performance, and added lightweight coroutines and linked stacks.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 9685251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K-T_vt_x4a0/AAAAAAAAAAI/AAAAAAAAAA0/ZWNgDb9zAY4/photo.jpg?sz=128", "display_name": "iry", "link": "https://stackoverflow.com/users/9685251/iry"}, "edited": false, "score": 0, "creation_date": 1596127736, "post_id": 46219185, "comment_id": 111718951, "body": "After diving into some source code, I suspect that implementing a coroutine cannot be done without mobbing with the compiler. Kotlin uses intrinsic implementations to achieve suspension and continuation, which is kinda bummer as Kotlin tried to avoid using the syntactic coroutine to leave some space for third parties but actually ended up with intrinsic methods that third parties normally really don&#39;t want to mess with."}], "tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": false, "score": 2, "last_activity_date": 1505392135, "creation_date": 1505392135, "answer_id": 46219185, "question_id": 46174154, "link": "https://stackoverflow.com/questions/46174154/are-coroutines-just-syntactic-sugar-around-completion-handlers/46219185#46219185", "title": "Are coroutines just syntactic sugar around completion handlers?", "body": "<p>No, coroutines are not syntactic sugar. You can think of coroutines as of functions that can interact with the caller. When you call a normal function, say <code>foo</code> you pass control to <code>foo</code> and have to wait until <code>foo</code> either completes or throws exception. Coroutines are functions which can pass control back to caller, and caller can decide whether coroutine should continue and <em>when</em> and <em>how</em> coroutine should continue. This gives opportunity to implement things which are special language constructs in other languages:</p>\n\n<ul>\n<li>Generators (aka <code>yield</code> keyword) like in C# and JavaScript. Caller continues execution of coroutine when a user wants new value from iterator. Coroutine passes back to caller by calling <code>yield()</code> function, which also passes some value to caller.</li>\n<li>Async/await like in C# and JavaScript. Caller continues execution when Future (similar to Task or Promise) gets resolved. Coroutine passes back to caller by calling <code>await()</code> function. Caller passes value to coroutine when Future gets resolved and coroutine observes this value as a result of <code>await()</code> call.</li>\n<li>Goroutines/channels in Go.</li>\n</ul>\n\n<p>Unlike C#, JavaScript or Go, Kotlin does not implement any of these features in special syntax. Instead, Kotlin provides only <code>suspend fun</code> syntax, and then you can implement these features yourself (or get existing one from corresponding library called <code>kotlinx.coroutines</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "edited": false, "score": 0, "creation_date": 1588836187, "post_id": 51665525, "comment_id": 109054013, "body": "and completion handlers are asynchronous procedures."}], "tags": [], "owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "is_accepted": false, "score": 2, "last_activity_date": 1533271864, "creation_date": 1533271864, "answer_id": 51665525, "question_id": 46174154, "link": "https://stackoverflow.com/questions/46174154/are-coroutines-just-syntactic-sugar-around-completion-handlers/51665525#51665525", "title": "Are coroutines just syntactic sugar around completion handlers?", "body": "<p>Corutines are syntactic sugar around asyncronous procedures, or, better say, Actors, which are repeatable asynchronous procedures.</p>\n"}], "owner": {"reputation": 1596, "user_id": 1446139, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7afb11066c85e5c5d28301f285a78be?s=128&d=identicon&r=PG&f=1", "display_name": "denis631", "link": "https://stackoverflow.com/users/1446139/denis631"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "accepted_answer_id": 46174914, "answer_count": 4, "score": 5, "last_activity_date": 1588769396, "creation_date": 1505212455, "last_edit_date": 1505426354, "question_id": 46174154, "link": "https://stackoverflow.com/questions/46174154/are-coroutines-just-syntactic-sugar-around-completion-handlers", "title": "Are coroutines just syntactic sugar around completion handlers?", "body": "<p>Are coroutines just syntactic sugar around completion blocks and completion blocks will be created under the hood? Or is the concept of coroutines much more complex and broad then just compiler trick aka syntactic sugar</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8376, "user_id": 5346095, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45ae60b0c535116b89c74f42242c3e81?s=128&d=identicon&r=PG&f=1", "display_name": "JS dev", "link": "https://stackoverflow.com/users/5346095/js-dev"}, "edited": false, "score": 0, "creation_date": 1505210177, "post_id": 46173227, "comment_id": 79308717, "body": "Kindly share the scenario based on which you want to compare."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1505210565, "post_id": 46173227, "comment_id": 79309013, "body": "Please don&#39;t put so much code in the comments. It&#39;s very hard to read. Edit your question instead."}, {"owner": {"reputation": 143, "user_id": 7956343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vd4IU-31fvI/AAAAAAAAAAI/AAAAAAAAAME/VPQTQWu8hqw/photo.jpg?sz=128", "display_name": "Yii. Guxing", "link": "https://stackoverflow.com/users/7956343/yii-guxing"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1505211353, "post_id": 46173227, "comment_id": 79309622, "body": "@Thomas  see question."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505233594, "post_id": 46173227, "comment_id": 79325462, "body": "Which one would you rather read?"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7956343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vd4IU-31fvI/AAAAAAAAAAI/AAAAAAAAAME/VPQTQWu8hqw/photo.jpg?sz=128", "display_name": "Yii. Guxing", "link": "https://stackoverflow.com/users/7956343/yii-guxing"}, "edited": false, "score": 0, "creation_date": 1505215427, "post_id": 46174720, "comment_id": 79312301, "body": "This is just an example. I can&#39;t put the complete code, it can&#39;t be submitted. In the case of normal naming, let/takeIf is better?"}, {"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "reply_to_user": {"reputation": 143, "user_id": 7956343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vd4IU-31fvI/AAAAAAAAAAI/AAAAAAAAAME/VPQTQWu8hqw/photo.jpg?sz=128", "display_name": "Yii. Guxing", "link": "https://stackoverflow.com/users/7956343/yii-guxing"}, "edited": false, "score": 0, "creation_date": 1505216062, "post_id": 46174720, "comment_id": 79312728, "body": "if you mean better than &#39;if&#39;.... then sometimes yes, sometimes no.  I suggest best to evaluate on a case by case base use both &#39;if&#39; and &#39;let/takeIf&#39; depending on which reads better in each use case"}], "tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1505214071, "creation_date": 1505214071, "answer_id": 46174720, "question_id": 46173227, "link": "https://stackoverflow.com/questions/46173227/if-vs-takeif-in-kotlin/46174720#46174720", "title": "&quot;if&quot; vs. &quot;takeIf&quot; in Kotlin?", "body": "<p>The let/takeIf in this example is very hard to read.  Perhaps different indentation would help, but the fact that the function names are so artificial and the result of each get has an identically named 'f' function all contributes to the problem.</p>\n\n<p>Let and takeIf can be highly readable in more normal cases.</p>\n\n<p>Breaking into separate statements in this artificial case whether using let/takeIf or conventional 'if' helps with this example.</p>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 4, "last_activity_date": 1505247739, "last_edit_date": 1505247739, "creation_date": 1505216078, "answer_id": 46175328, "question_id": 46173227, "link": "https://stackoverflow.com/questions/46173227/if-vs-takeif-in-kotlin/46175328#46175328", "title": "&quot;if&quot; vs. &quot;takeIf&quot; in Kotlin?", "body": "<p>\"takeIf\" and \"let\" is the better approach. Though it is bit harder at first but as you will be experienced with lambda expression you will find them really help full.</p>\n\n<p>Kotlin is the new language and one of the advantage is to remove boilerplate code.</p>\n\n<pre><code>fun f2(a: A?): R? = a\n        ?.let { getB(it) }\n        ?.takeIf { it.f() }\n        ?.let { getC(it) }\n        ?.takeIf { it.f() }\n        ?.let { it.f2() }\n</code></pre>\n\n<p>This code snippet does exactly that. It just removed ugly 4 level nesting of if conditions.</p>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505233819, "post_id": 46175737, "comment_id": 79325618, "body": "That is just so very nice and clear!"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 4, "last_activity_date": 1505217325, "creation_date": 1505217325, "answer_id": 46175737, "question_id": 46173227, "link": "https://stackoverflow.com/questions/46173227/if-vs-takeif-in-kotlin/46175737#46175737", "title": "&quot;if&quot; vs. &quot;takeIf&quot; in Kotlin?", "body": "<p>This is kind of a subjective question. Some people like one version, others like another.\nPersonally, I think this is more readable:</p>\n\n<pre><code>fun f3(a: A?): R? {\n    if (a == null) {\n        return null\n    }\n\n    val b = getB(a)\n    if (b == null || !b.f()) {\n        return null\n    }\n\n    val c = getC(b)\n    if (c == null || !c.f()) {\n        return null\n    }\n\n    return c.f2()\n}\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7956343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vd4IU-31fvI/AAAAAAAAAAI/AAAAAAAAAME/VPQTQWu8hqw/photo.jpg?sz=128", "display_name": "Yii. Guxing", "link": "https://stackoverflow.com/users/7956343/yii-guxing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1560, "favorite_count": 0, "closed_date": 1505316542, "answer_count": 3, "score": 3, "last_activity_date": 1505247739, "creation_date": 1505209852, "last_edit_date": 1505211255, "question_id": 46173227, "link": "https://stackoverflow.com/questions/46173227/if-vs-takeif-in-kotlin", "closed_reason": "Opinion-based", "title": "&quot;if&quot; vs. &quot;takeIf&quot; in Kotlin?", "body": "<p>Which of the following two implementations is better:</p>\n\n<p>1.use \"if\"</p>\n\n<pre><code>fun f1(a: A?): R? {\n    if (a != null) {\n        val b = getB(a)\n        if (b != null &amp;&amp; b.f()) {\n            val c = getC(b)\n            if (c != null &amp;&amp; c.f()) {\n                return c.f2()\n            }\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>2.use \"takeIf\" and \"let\"</p>\n\n<pre><code>fun f2(a: A?): R? = a\n        ?.let { getB(it) }\n        ?.takeIf { it.f() }\n        ?.let { getC(it) }\n        ?.takeIf { it.f() }\n        ?.let { it.f2() }\n</code></pre>\n"}, {"tags": ["kotlin", "factorial"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1505208722, "post_id": 46172588, "comment_id": 79307709, "body": "Why are you converting to doubles in your <code>Stirling_factorial</code> function? That&#39;s probably where your fault is."}, {"owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1505209157, "post_id": 46172588, "comment_id": 79308011, "body": "I had to &#39;cause Math.sqrt only works with doubles"}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "edited": false, "score": 1, "creation_date": 1505216529, "post_id": 46173252, "comment_id": 79312987, "body": "Thanks bro! It worked for me. Not the best precission in the world, but it&#39;s fine"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1505210336, "last_edit_date": 1505210336, "creation_date": 1505209923, "answer_id": 46173252, "question_id": 46172588, "link": "https://stackoverflow.com/questions/46172588/how-to-implement-stirlings-formula-with-bigdecimal-and-biginteger-in-kotlin/46173252#46173252", "title": "How to implement Stirling&#39;s formula with BigDecimal and BigInteger in Kotlin?", "body": "<p>You need a proper library for such large computations. Take a look at <a href=\"https://github.com/eobermuhlner/kotlin-big-math\" rel=\"nofollow noreferrer\">kotlin-big-math</a>.</p>\n\n<pre><code>val a = Math.pow(250102.0, 250102.0)\nprintln(a) // &gt;&gt; Infinity\n\nval b = BigDecimal(a) // Exception in thread \"main\" java.lang.NumberFormatException:\n                      // Infinite or NaN\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 46173252, "answer_count": 1, "score": 1, "last_activity_date": 1505227962, "creation_date": 1505208001, "last_edit_date": 1505227962, "question_id": 46172588, "link": "https://stackoverflow.com/questions/46172588/how-to-implement-stirlings-formula-with-bigdecimal-and-biginteger-in-kotlin", "title": "How to implement Stirling&#39;s formula with BigDecimal and BigInteger in Kotlin?", "body": "<p>I'm trying to do a factorial program. If the input number is below 250 000 I use a tail recursive function to find the factorial of that number. \nBut if the input number exceed the value of 250 000 I try to use the Stirling's formula (<a href=\"https://i.stack.imgur.com/XUgGI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUgGI.gif\" alt=\"enter image description here\"></a>). I want to be able to work with BigIntegers and BigDecimals, but whenever I try to calculate 250 102 I get NaN (Not a Number ... error). Can you please help me?</p>\n\n<p>Here is my code in Kotlin:</p>\n\n<pre><code>import java.io.File\nimport java.math.BigDecimal\nimport java.math.BigInteger\n\ntailrec fun tail_recursion_factorial(n: BigInteger, factorialOfN: BigInteger = BigInteger.valueOf(2)): BigInteger {\n    return when(n){\n        BigInteger.ZERO -&gt; BigInteger.ONE\n        BigInteger.ONE -&gt;  BigInteger.ONE\n        BigInteger.valueOf(2) -&gt;  factorialOfN\n        else -&gt; tail_recursion_factorial(n.minus(BigInteger.ONE), n.times(factorialOfN))\n    }\n}\n\n// calculate approximate value of n!\n//  using Stirling's approximation:\n\nfun Stirling_factorial(n: BigInteger): BigDecimal {\n    return BigDecimal.valueOf(Math.sqrt((2*n.toDouble()*1.0/3.0)*Math.PI))*BigDecimal.valueOf(Math.pow(n.toDouble(),n\n            .toDouble()))*BigDecimal.valueOf(Math.pow(Math.E,-1.0*n.toDouble()))\n}\n\n\nfun main(args: Array&lt;String&gt;){\n    print(\"n == \")\n    var n = readLine()\n    try {\n        when {\n            BigInteger(n) &lt; BigInteger.ZERO -&gt; println(\"Sorry bro! Can't do a factorial to a negative number.\")\n            BigInteger(n) &gt;= BigInteger.ZERO -&gt; {\n                when{\n                    BigInteger(n) &lt;= BigInteger.valueOf(250000) -&gt; {\n                        File(\"factorial.txt\").writeText(\"\\\"$n! is ${tail_recursion_factorial(BigInteger(n))}\\\"\")\n                        println(\"Check factorial.txt in the project directory!\")\n                    }\n                    else -&gt; {\n                        println(\"Since your number is bigger than 250 000\\nwe're calculating using the Stirling's formula wich is an approximation of the factorial.\\n\")\n                        File(\"factorial.txt\").writeText(\"The aproximation of $n! is\\n${Stirling_factorial\n                        (BigInteger(n))}\")\n                        println(\"Check factorial.txt in the project directory!\")\n                    }\n                }\n\n            }\n        }\n    }catch (e: NumberFormatException){\n        println(\"Sorry bro! Can't do that ...\")\n    }\n}\n</code></pre>\n\n<p><strong>EDIT: Problem solved</strong></p>\n\n<pre><code>import ch.obermuhlner.math.big.BigDecimalMath\nimport java.io.File\nimport java.math.BigDecimal\nimport java.math.MathContext\n</code></pre>\n\n<p>and .... </p>\n\n<pre><code>fun Stirling_formula(n: BigDecimal) : BigDecimal {\n    val mathContext = MathContext(121)\n    return (BigDecimal.ONE + BigDecimal.ONE.divide(BigDecimal.valueOf(12).times(n),mathContext))\n            .times(BigDecimalMath.sqrt((n.times(BigDecimal.valueOf(2.0))).times(BigDecimalMath.pi(mathContext)), mathContext))\n            .times(BigDecimalMath.pow(n,n,mathContext))\n            .times(BigDecimalMath.pow(BigDecimalMath.e(mathContext),-n,mathContext))\n</code></pre>\n\n<p>All thanks goes to <a href=\"https://stackoverflow.com/users/7637657/alexander-romanov\">Alexander Romanov</a></p>\n\n<p>PS: Also I've updated the formula with a slightly more accurate approximation one: \n<a href=\"https://i.stack.imgur.com/Gq3pu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gq3pu.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 0, "creation_date": 1505207269, "post_id": 46171379, "comment_id": 79306569, "body": "Maybe the IDE&#39;s confusion is because it doesn&#39;t know that the passed in view is your <code>draggableBar</code> instance.. Have you tried doing <code>draggableBar!!.performClick()</code> instead?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1505212363, "post_id": 46171379, "comment_id": 79310322, "body": "Could you give a little more context to your implementation? And please add the error as printed by Android Studio."}], "answers": [{"tags": [], "owner": {"reputation": 690, "user_id": 5584127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ahA1f.jpg?s=128&g=1", "display_name": "lambda", "link": "https://stackoverflow.com/users/5584127/lambda"}, "is_accepted": false, "score": 4, "last_activity_date": 1510109697, "creation_date": 1510109697, "answer_id": 47170835, "question_id": 46171379, "link": "https://stackoverflow.com/questions/46171379/android-kotlin-ontouchlistener-wants-me-to-override-performclick/47170835#47170835", "title": "Android kotlin onTouchListener wants me to override performClick()", "body": "<p>Okay, I have the same problem but i fixed it by overriding the onTouch listener.</p>\n\n<p>The default onTouch wants us to override performClick(), but this does not work even calling the method by view.performClick().</p>\n\n<p>So therefore override your onTouch like this:</p>\n\n<pre><code>override fun onTouch(view: View, motionEvent: MotionEvent): Boolean {\n    when (view) {\n        draggableBar -&gt; {\n            when (motionEvent.getAction()) {\n                MotionEvent.ACTION_DOWN -&gt; {\n\n                }\n                MotionEvent.ACTION_UP -&gt; {\n                    view.performClick()\n                }\n            }\n        }\n        otherButtonHere -&gt; {\n            //your welcome\n        }\n    }\n\n    return true\n}\n</code></pre>\n\n<p>And in that way, you can use single onTouch() in all clickable views you have.</p>\n\n<p>Don't forget to implement to your Class:</p>\n\n<pre><code>View.OnTouchListener\n</code></pre>\n\n<p>And set the listener:</p>\n\n<pre><code>draggableBar!!.setOnTouchListener(this)\n</code></pre>\n\n<p>HOPE IT HELPS! :)</p>\n"}], "owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6128, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1510109697, "creation_date": 1505204510, "question_id": 46171379, "link": "https://stackoverflow.com/questions/46171379/android-kotlin-ontouchlistener-wants-me-to-override-performclick", "title": "Android kotlin onTouchListener wants me to override performClick()", "body": "<p>I'm trying to get rid of a warning where Android Studio wants my onTouchListener to override performClick which I do, but the warning remains. </p>\n\n<pre><code>draggableBar!!.setOnTouchListener(View.OnTouchListener { view, motionEvent -&gt;\n    when (motionEvent.getAction()) {\n        MotionEvent.ACTION_DOWN -&gt; {\n\n        }\n        MotionEvent.ACTION_UP -&gt; {\n            view.performClick()\n        }\n    }\n\n    return@OnTouchListener true\n})\n</code></pre>\n\n<p>Could this be an Android Studio bug or am I doing something wrong?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 4, "creation_date": 1505201901, "post_id": 46170543, "comment_id": 79303194, "body": "I think you have answered your own question: it is neither. It is not purely OO, it is not purely functional."}, {"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1505202158, "post_id": 46170543, "comment_id": 79303350, "body": "Your example of a &quot;functional&quot; program could also be written in Java with static methods."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1505203889, "post_id": 46170543, "comment_id": 79304355, "body": "I would argue that Java isn&#39;t a &quot;pure object oriented language&quot; either."}], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 3130461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LqvAX.jpg?s=128&g=1", "display_name": "imGs", "link": "https://stackoverflow.com/users/3130461/imgs"}, "edited": false, "score": 0, "creation_date": 1505288802, "post_id": 46176133, "comment_id": 79345619, "body": "If u could direct me to some specific reliable resources, that will be helpful"}, {"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "reply_to_user": {"reputation": 424, "user_id": 3130461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LqvAX.jpg?s=128&g=1", "display_name": "imGs", "link": "https://stackoverflow.com/users/3130461/imgs"}, "edited": false, "score": 1, "creation_date": 1505307066, "post_id": 46176133, "comment_id": 79358545, "body": "I added a specific reliable source in the original post as links word better there than in comments."}], "tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": true, "score": 6, "last_activity_date": 1505307009, "last_edit_date": 1505307009, "creation_date": 1505218513, "answer_id": 46176133, "question_id": 46170543, "link": "https://stackoverflow.com/questions/46170543/what-type-of-language-kotlin-is-pure-oops-or-functional/46176133#46176133", "title": "What type of language Kotlin is? Pure OOP&#39;s or Functional", "body": "<p>Actually most language analysts do not regard Java as a purely Object Oriented Language at all.  All code needing to be in a class is not a good test, and a better test is everything in the language an object.  In Java, many language elements, very notably methods and functions (functions were for a long time missing but then added recently through lambdas) were not available as objects.</p>\n\n<p>Kotlin does correct many of the flaws of Java in being OO, although Java itself has also been slowly correcting these flaws.  But generally it could be said that Kotlin could be considered more 'OO' than Java, largely as a benefit of being a newer design able to correct errors of the past.</p>\n\n<p>Being able to write functions, as is now possible in Java with Lambdas, is not 'anti object oriented', the real test is if the functions themselves can be first class objects.  By adding functions Java has not become less OO, and in fact Java is gradually becoming more OO over time.  Research 'Is Java OO?'</p>\n\n<p>Being able to support functional programming does not make a language 'non-oo' either. Consider (or research) scala.</p>\n\n<p>Functional programming may be as old or even older than OO, but has become more popular recently and this is reflecting in more FP features being in new languages, and Kotlin also provides more support FP.  No language is 'pure' FP and even a 'print' statement has side effects.</p>\n\n<p>Kotlin provides support for both idioms, and may be more OO than Java but is considered less FP than more dedicated FP languages.  More FP features may be added over time. </p>\n\n<p>----- addition of a reference\nFor a source on Java with respect to OO, I suggest <a href=\"https://www.russel.org.uk/stories/cv.html\" rel=\"noreferrer\">Dr Russel Winder</a> as an authority, among other credentials, co-author of <a href=\"http://au.wiley.com/WileyCDA/WileyTitle/productCd-EHEP000931.html\" rel=\"noreferrer\">Developing Java Software</a> which reached 3 editions.  For one reference, <a href=\"https://www.youtube.com/watch?v=Q_Z_8HXt68k\" rel=\"noreferrer\">see this video</a> with a slide at 1:40 with the statement </p>\n\n<blockquote>\n  <p>Java is a 1990s imperative language that isn't really object-oriented.</p>\n</blockquote>\n\n<p>As an acknowledged Java expert there is further explanation of this view both in that video and other presentations by Russel.  This view is also expressed by many other Java experts and I may add references, but it would make this post too long to add as much detail for each example.</p>\n"}], "owner": {"reputation": 424, "user_id": 3130461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LqvAX.jpg?s=128&g=1", "display_name": "imGs", "link": "https://stackoverflow.com/users/3130461/imgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 1, "accepted_answer_id": 46176133, "answer_count": 1, "score": -2, "last_activity_date": 1511176216, "creation_date": 1505201673, "last_edit_date": 1505203294, "question_id": 46170543, "link": "https://stackoverflow.com/questions/46170543/what-type-of-language-kotlin-is-pure-oops-or-functional", "title": "What type of language Kotlin is? Pure OOP&#39;s or Functional", "body": "<p>I'm learning <code>Kotlin</code>. Having Java background I know, Java is pure object oriented language. Everything has to be inside class even the main function.</p>\n\n<p>That's why I'm wondering is <code>Kotlin</code> a true object oriented language?\nBecause it is possible to write functionl programs with Kotlin.</p>\n\n<pre><code>package functions\n\nfun sayHello(name: String): String {\n    val personName = name\n    return \"hello $personName\"\n}\nfun main(args: Array&lt;String&gt;) {\n    println(sayHello(\"Netra\"))\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin", "bundle", "classcastexception"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1505195816, "post_id": 46168887, "comment_id": 79299687, "body": "You really need to add class A to the question. Without it it&#39;s very hard to answer"}, {"owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1505196172, "post_id": 46168887, "comment_id": 79299854, "body": "Please see edit"}], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "edited": false, "score": 1, "creation_date": 1505196160, "post_id": 46168969, "comment_id": 79299849, "body": "Even If I do it , I am getting classcastexpection. Cannot case Parcelable[] to A[]"}, {"owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "reply_to_user": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "edited": false, "score": 0, "creation_date": 1505196480, "post_id": 46168969, "comment_id": 79299983, "body": "could you paste your stack trace?"}, {"owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "edited": false, "score": 0, "creation_date": 1505196589, "post_id": 46168969, "comment_id": 79300033, "body": "java.lang.ClassCastException: android.os.Parcelable[] cannot be cast to A[]"}, {"owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "edited": false, "score": 0, "creation_date": 1505209621, "post_id": 46168969, "comment_id": 79308312, "body": "let me try this and let you know"}], "tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": false, "score": 1, "last_activity_date": 1505197292, "last_edit_date": 1505197292, "creation_date": 1505196085, "answer_id": 46168969, "question_id": 46168887, "link": "https://stackoverflow.com/questions/46168887/kotlin-getparcelablearray-from-intent-bundle-not-able-to-cast-it-to-custom-type/46168969#46168969", "title": "Kotlin getParcelableArray from intent bundle not able to cast it to custom type", "body": "<p>You need to use <code>getParcelableArrayExtra</code> to retrieve <code>Parcelable</code> objects as in</p>\n\n<pre><code>arrayA = intent.getParcelableArrayExtra(\"array\") as Array&lt;A?&gt;\n</code></pre>\n\n<p>Make <code>class A</code> as <code>Nullable</code> all over, because you can't cast <code>Nullable</code> to <code>Non Nullable</code> in Kotlin</p>\n\n<p>creator should be like below</p>\n\n<pre><code>companion object CREATOR : Parcelable.Creator&lt;A?&gt; {\n        override fun createFromParcel(parcel: Parcel): A? {\n            return A(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;A?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45525, "user_id": 1795356, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cTBRN.png?s=128&g=1", "display_name": "Jordan H", "link": "https://stackoverflow.com/users/1795356/jordan-h"}, "is_accepted": false, "score": 6, "last_activity_date": 1559165247, "creation_date": 1559165247, "answer_id": 56368768, "question_id": 46168887, "link": "https://stackoverflow.com/questions/46168887/kotlin-getparcelablearray-from-intent-bundle-not-able-to-cast-it-to-custom-type/56368768#56368768", "title": "Kotlin getParcelableArray from intent bundle not able to cast it to custom type", "body": "<p>I ran into the same problem. This is how I was able to workaround it:</p>\n\n<p><code>arrayOfA = intent.getParcelableArrayExtra(\"array\").map { it as A }.toTypedArray()</code></p>\n\n<p>For some reason this does not work:</p>\n\n<p><code>arrayOfA = intent.getParcelableArrayExtra(\"array\") as Array&lt;A&gt;</code></p>\n\n<p>That unfortunately exhibits a warning </p>\n\n<blockquote>\n  <p>Unchecked cast: Array&lt;(out) Parcelable!>! to Array)</p>\n</blockquote>\n\n<p>and runtime exception</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: android.os.Parcelable[] cannot be cast\n  to com.company.app.A[]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 4, "last_activity_date": 1559166350, "creation_date": 1559166350, "answer_id": 56368961, "question_id": 46168887, "link": "https://stackoverflow.com/questions/46168887/kotlin-getparcelablearray-from-intent-bundle-not-able-to-cast-it-to-custom-type/56368961#56368961", "title": "Kotlin getParcelableArray from intent bundle not able to cast it to custom type", "body": "<p><code>Bundle.getParcelableArray</code> (and <code>Intent.getParcelableArrayExtra</code>) return <code>Parcelable[]</code>. You can't cast <code>Parcelable[]</code> as <code>MyClass[]</code>. You can cast an <em>element</em> of <code>Parcelable[]</code> as <code>MyClass</code>.</p>\n\n<p>Use <code>Bundle.getParcelableArrayList</code> (or its <code>Intent</code> counterpart) instead, because it has a generic type.</p>\n\n<pre><code>var values: List&lt;MyClass&gt; = listOf(...)\nintent.putParcelableArrayListExtra(\"key\", values.asArrayList())\nvalues = intent.getParcelableArrayListExtra(\"key\")!!\n\nfun &lt;E&gt; List&lt;E&gt;.asArrayList(): ArrayList&lt;E&gt; = this as? ArrayList&lt;E&gt; ?: ArrayList(this)\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3570, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1559166350, "creation_date": 1505195692, "last_edit_date": 1505196107, "question_id": 46168887, "link": "https://stackoverflow.com/questions/46168887/kotlin-getparcelablearray-from-intent-bundle-not-able-to-cast-it-to-custom-type", "title": "Kotlin getParcelableArray from intent bundle not able to cast it to custom type", "body": "<p>I am running into a weird problem . I have a class A which implements Parcelable interface in kotlin.</p>\n\n<p>I am passing the array of class A from one activity to another no issues here.</p>\n\n<pre><code> var arrayOfA:Array&lt;A&gt; // just to tell the type assume the array is initialised with the value\n intent.putExtra(\"array\", arrayOfA)\n</code></pre>\n\n<p>But while receiving it in another activity , I am not able to assign it to variable of type Array it is asking me to assign it to Array when A is on type parcelable why I am not able to assign it the variable. </p>\n\n<pre><code>in second Activity \nvar arrayOfA:Array&lt;A&gt;?=null\n\n\narrayA=intent.get(\"array\") as Array&lt;A&gt; // Problem here. Class cast exception\n</code></pre>\n\n<p>I am not able to understand why. Can some one help me here. I don't want to change the type of variable to Array as it as many inter depedencies.(The class here is just a demonstration)</p>\n\n<p>========================================</p>\n\n<pre><code>class A(val a:String?,val b:String?):Parcelable {\n    constructor(parcel: Parcel) : this(\n            parcel.readString(),\n            parcel.readString()) {\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(a)\n        parcel.writeString(b)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;A&gt; {\n        override fun createFromParcel(parcel: Parcel): A {\n            return A(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;A?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1505196025, "creation_date": 1505196025, "answer_id": 46168958, "question_id": 46168397, "link": "https://stackoverflow.com/questions/46168397/refactor-my-viewholder-class-in-kotlin/46168958#46168958", "title": "Refactor my viewholder class in kotlin", "body": "<p>kotlin supports view binding so no need to do other stuffs for binding view.\nJust follow steps and you will able to access view by its <strong>id</strong> defined in xml layout.</p>\n\n<p>In app level gradle add following </p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p><strong>Import view</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.&lt;layout_file&gt;.view.*\n</code></pre>\n\n<p>Just check this class for <strong>demo</strong></p>\n\n<pre><code>class NotificationHolder(itemView: View?, listener: NotificationItemListener) : RecyclerView.ViewHolder(itemView) {\n    init {\n        itemView?.setOnClickListener {\n            listener.onNotificationItemClicked(adapterPosition)\n        }\n    }\n\n    fun bind(notificationModel: NotificationModel) {\n        val titleArray = notificationModel.title.split(\"#\".toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n        itemView.tvNotificationTitle.text = titleArray[0]\n        itemView.tvNotificationDetails.text = notificationModel.message\n        itemView.tvNotificationTime.text = notificationModel.formattedTime\n        Glide.with(itemView.context).load(ServiceHandler.BASE_URL + notificationModel.icon).dontAnimate().diskCacheStrategy(DiskCacheStrategy.SOURCE).error(R.drawable.user_default_logo).into(itemView.imageView)\n        if (CommonUtils.lastNotificationTime &lt; notificationModel.date) {\n            itemView.card.setCardBackgroundColor(Color.parseColor(\"#ffffff\"))\n        } else {\n            itemView.card.setCardBackgroundColor(Color.parseColor(\"#f2f2f2\"))\n        }\n    }\n}\n</code></pre>\n\n<p>In adapter you can override </p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder {\n        return if (viewType == 0 || viewType == 3) {\n            NotificationHolder(LayoutInflater.from(parent?.context).inflate(R.layout.item_notification, parent, false), this)\n        } else {\n            NotificationListHeaderHolder(LayoutInflater.from(parent?.context).inflate(R.layout.item_notification_header, parent, false))\n        }\n    }\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder?, position: Int) {\n        (holder as? NotificationHolder)?.bind(notificationList[position])\n        (holder as? NotificationListHeaderHolder)?.bind(notificationList[position])\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 5475014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9cfa79cbcfcd32f2511f5e36e46a4f4?s=128&d=identicon&r=PG", "display_name": "iammini", "link": "https://stackoverflow.com/users/5475014/iammini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 789, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505198411, "creation_date": 1505193281, "last_edit_date": 1505198411, "question_id": 46168397, "link": "https://stackoverflow.com/questions/46168397/refactor-my-viewholder-class-in-kotlin", "title": "Refactor my viewholder class in kotlin", "body": "<p>I have a recycler list which holds many different types of item views. It is quite easy to use databinding without necessary to declare the layout and assignment in the viewholder, however I end up with many biloplate code to just create the different viewholders with databinding, is there a way to get rid of them?</p>\n\n<pre><code>class ViewHolder1 private constructor(\n    val binding: ViewHolder1LayoutBinding\n): RecyclerView.ViewHolder(binding.root) {\n    companion object {\n        fun create(parent: ViewGroup): RecyclerView.ViewHolder {\n            val inflater = LayoutInflater.from(parent.context)\n            val binding = ViewHolder1LayoutBinding.inflate(inflater, parent, false)\n            return ViewHolder1(binding)\n        }\n    }\n\n    fun bind(viewModel: ViewHolder1ViewModel) {\n        binding.viewModel = viewModel\n        binding.executePendingBindings()\n    }\n}\n</code></pre>\n"}, {"tags": ["postgresql", "kotlin", "jooq"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1505155607, "post_id": 46162376, "comment_id": 79286932, "body": "What is the type returned by <code>record.get(String)</code>?"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1505155794, "post_id": 46162376, "comment_id": 79287038, "body": "You can define your custom extension methods for &quot;record&quot; class. It would be nicer to read."}], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1505234073, "post_id": 46168804, "comment_id": 79325776, "body": "Sorry I forgot to mention that the database is postgresql and the type for <code>TABLE.VALUE</code> is <code>TableField&lt;TableRecord, BigDecimal&gt;</code>. That&#39;s why I&#39;m have a hard time to convert it to <code>Int</code>."}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1505244941, "post_id": 46168804, "comment_id": 79330985, "body": "@breezymri: Java&#39;s <code>BigDecimal</code> type has an <code>intValue()</code> method that you can use."}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 1, "last_activity_date": 1505244757, "last_edit_date": 1505244757, "creation_date": 1505195382, "answer_id": 46168804, "question_id": 46162376, "link": "https://stackoverflow.com/questions/46162376/jooq-sum-field-value-bigdecimal-to-int/46168804#46168804", "title": "JOOQ sum field value: BigDecimal to Int", "body": "<p>Yes, there is. Just reuse your column referenes from earlier:</p>\n\n<pre><code>record -&gt; SumById(\n  id = record.get(TABLE.id.`as`(\"id\")),\n  sum = record.get(sumField.`as`(\"sum\"))\n)\n</code></pre>\n\n<p>Alternatively, you can store those in local variables as well. Another option is to use <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/Record2.html#value1--\" rel=\"nofollow noreferrer\"><code>Record2.value1()</code></a> and <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/Record2.html#value2--\" rel=\"nofollow noreferrer\"><code>Record2.value2()</code></a></p>\n\n<pre><code>record -&gt; SumById(\n  id = record.value1(),\n  sum = record.value2()\n)\n</code></pre>\n\n<p>... as the type information is maintained by the jOOQ API across your query (up to degrees of 22, at least).</p>\n\n<p>In jOOQ 3.10, you may also be able to use the new Kotlin destructuring support, where a <code>Record2&lt;String, BigDecimal&gt;</code> can be destructured as follows:</p>\n\n<pre><code>val (id, sum) = record;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1121, "user_id": 2937875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da97c9604533eb5c853ce676c9e77093?s=128&d=identicon&r=PG", "display_name": "Grigory K", "link": "https://stackoverflow.com/users/2937875/grigory-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1589371735, "creation_date": 1589371735, "answer_id": 61774260, "question_id": 46162376, "link": "https://stackoverflow.com/questions/46162376/jooq-sum-field-value-bigdecimal-to-int/61774260#61774260", "title": "JOOQ sum field value: BigDecimal to Int", "body": "<p>You can create package <code>org.jooq.impl</code> in your source set, and make there your own function <code>sum</code> with Integer type:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    package org.jooq.impl\n\n    import org.jooq.AggregateFunction\n    import org.jooq.Field\n\n    public class DSLX {\n        public AggregateFunction&lt;Integer&gt; sum(Field&lt;Integer&gt; field) {\n            return new Function(\"sum\", SQLDataType.INTEGER, field);\n        }\n    }\n</code></pre>\n\n<p>Because class <code>Function</code> has package-private constructor.\nAnd now you do not need to convert BigDecimal</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 46168804, "answer_count": 2, "score": 2, "last_activity_date": 1589371735, "creation_date": 1505155290, "last_edit_date": 1505234114, "question_id": 46162376, "link": "https://stackoverflow.com/questions/46162376/jooq-sum-field-value-bigdecimal-to-int", "title": "JOOQ sum field value: BigDecimal to Int", "body": "<p>I'm using postgres with a value field that is <code>numeric</code>. JOOQ turns it into <code>BigDecimal</code>. My JOOQ query is:</p>\n\n<pre><code>val sumField = DSL.sum(TABLE.VALUE)\nval query = dsl().select(TABLE.id.`as`(\"id\"), sumField.`as`(\"sum\"))\n  .from(TABLE)\n  .groupBy(TABLE.id)\n  .fetch()\n  .map{\n    record -&gt; SumById(\n      id = record.get(\"id\").toString(),\n      sum = record.get(\"sum\").toString().toInt()\n    )\n  }\n</code></pre>\n\n<p>where <code>SumById</code> is a data class with <code>id</code> and <code>sum</code> fields:</p>\n\n<pre><code>data class SumById (val id: String, val sum: Int)\n</code></pre>\n\n<p>I can get the <code>Int</code> sum by doing <code>.toString().toInt()</code>. But I was wondering if there's a better way to turn <code>BigDecimal</code> to <code>Int</code>. </p>\n\n<p><strong>PS</strong></p>\n\n<p>I guess this is more of a kotlin question than a JOOQ question.</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505164566, "post_id": 46162015, "comment_id": 79291412, "body": "I think you are mistaken in your first assumption.  In the definition: <code>{it: (Any) -&gt; Any -&gt; it(it)}</code>, all of the <code>it</code>s are the same thing."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "reply_to_user": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505166239, "post_id": 46162015, "comment_id": 79292029, "body": "Yes why not? it is a function taking anything as input, which should include another (or the same) function that takes anything as input."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505168216, "post_id": 46162015, "comment_id": 79292633, "body": "Ya, you got me.  The completely obfuscational use of <code>it</code> totally succeeded in confusing me.  Casting <code>(Any) -&gt; Any -&gt; Any</code>, to <code>(Any) -&gt; Any</code> is an unchecked cast. Your second example has no unchecked casts."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505169105, "post_id": 46162015, "comment_id": 79292911, "body": "FWIW, the signature for <code>kappa</code>s mutator is <code>set(f: (Any) -&gt; Any)</code>."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "reply_to_user": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505218625, "post_id": 46162015, "comment_id": 79314447, "body": "Ok, while I do understand why the use of the mutator is type safe, i still don&#39;t get, why the cast of ((Any) -&gt; Any) -&gt;Any is unchecked. In my understanding I should be able to pass a function as a parameter that expects Any, since Any should include a function."}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 1, "creation_date": 1505261538, "post_id": 46183761, "comment_id": 79336704, "body": "oh my god, how could I not see that... And not think of contravariance. Thank you, I am seeing it now."}], "tags": [], "owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "is_accepted": true, "score": 0, "last_activity_date": 1505263755, "last_edit_date": 1505263755, "creation_date": 1505243355, "answer_id": 46183761, "question_id": 46162015, "link": "https://stackoverflow.com/questions/46162015/kotlin-any-with-lambdas/46183761#46183761", "title": "Kotlin Any with lambdas", "body": "<p>Ok, there is, as I said in comments, just a whole lot of irrelevant confusion in the way this question is posed.  Let's start by cleaning some of it up:</p>\n\n<pre><code>val fn1 = {x1: (Any) -&gt; Any -&gt; x1(x1)}\n</code></pre>\n\n<p>The type of <code>fn1</code> is <code>((Any) -&gt; Any) -&gt; Any</code>.  The type of <code>x1</code> is <code>(Any) -&gt; Any</code>.  The definition above compiles.  The Kotlin compiler has no trouble seeing that <code>x1</code> is an <code>Any</code>.</p>\n\n<p>The attempt to invoke <code>fn1</code> on itself, though, doesn't work.  ... and the compiler says exactly why: <code>fn1</code> is a function that is an <code>((Any) -&gt; Any) -&gt; Any</code> and cannot be used as an <code>(Any) -&gt; Any</code>. Why doesn't that work? Well, because the somebody might invoke the argument!</p>\n\n<p>So that it is easier to discuss, let's create a second function, very similar to the first:</p>\n\n<pre><code>val fn2 = {x2: (Any) -&gt; Any -&gt; x2(\"foo\")}\n</code></pre>\n\n<p>It also compiles, just fine.  And now this whole question question boils down to:</p>\n\n<p><strong>Why doesn't this work: <code>fn2(fn1)</code></strong></p>\n\n<p>But it should be obvious, at this point.  If that call worked (no matter how much <code>apply</code> or <code>invoke</code> trickery is involved) the attempt to invoke <code>x2</code> (inside <code>fn2</code>) can't work, because <code>x2</code> is an alias for <code>fn1</code>.  It is a call to <code>fn1</code> with the argument <code>\"foo\"</code>, where it expects a function.</p>\n\n<p><strong>tl;dr:  Functions are contravariant in their argument types</strong></p>\n"}], "owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 46183761, "answer_count": 1, "score": 3, "last_activity_date": 1505263755, "creation_date": 1505153852, "last_edit_date": 1505164870, "question_id": 46162015, "link": "https://stackoverflow.com/questions/46162015/kotlin-any-with-lambdas", "title": "Kotlin Any with lambdas", "body": "<p>While the code provided with the question is rather trivial, the question focusses on the more general aspect of type safety:</p>\n\n<p>Let's have a lambda function like this:</p>\n\n<pre><code>{it: (Any) -&gt; Any -&gt; it(it)}\n</code></pre>\n\n<p>It takes another lambda and executes it with itself as a parameter. So let's do the obvious and call it with itself as parameter:</p>\n\n<pre><code>{it: (Any) -&gt; Any -&gt; it(it)}.apply { this.invoke(this) }\n</code></pre>\n\n<p>But that does not work as well, as I thought: I get the following error at compile time:</p>\n\n<p><strong>Type mismatch: inferred type is ((Any) -> Any) -> Any but (Any) -> Any was expected</strong></p>\n\n<p>Ok. So let's try this one:</p>\n\n<pre><code>val lambda: (Any) -&gt; Any = { Unit }\n</code></pre>\n\n<p>The actual value of this property doesn't matter, I am not interested in the result, just in the compiler behaviour. So here is another property:</p>\n\n<pre><code> val kappa: (Any) -&gt; Any = lambda\n</code></pre>\n\n<p>Ok, now this actually compiles. But isn't that the same thing as before? I am passing a <code>(Any) -&gt; Any</code> function to a property (in the other case it is an argument), that expects a <code>(Any) -&gt; Any</code> function. Logic tells me: Yes, <code>(Any) -&gt; Any</code> is of type <code>Any</code>, because everything is. But why doesn't that work with the lambda invocation? In fact, I can explicitly cast my lambda to a <code>(Any) -&gt; Any</code> function, which will result in an unchecked cast, but it will compile and execution results in a StackOverflowError as expected.</p>\n\n<pre><code>{it: (Any) -&gt; Any -&gt; it(it)}.apply { this.invoke(this as (Any) -&gt; Any) }\n</code></pre>\n\n<p>Where is the difference?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1505155384, "post_id": 46162383, "comment_id": 79286833, "body": "Yeah, that should work, but it doesn&#39;t in all cases, I&#39;ve logged a bug for it now: <a href=\"https://youtrack.jetbrains.com/issue/KT-20215\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-20215</a>"}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 3, "last_activity_date": 1505325476, "last_edit_date": 1505325476, "creation_date": 1505155318, "answer_id": 46162383, "question_id": 46160539, "link": "https://stackoverflow.com/questions/46160539/union-type-between-any-and-unit/46162383#46162383", "title": "Union type between Any? and Unit", "body": "<p>This should work for Kotlin:</p>\n\n<pre><code>inline fun blah2(f: (em: EM) -&gt; Any?): Result {\n    val res = f(EM())\n    when (res) {\n        is List&lt;*&gt; -&gt; res.forEach { \n            // do something with item\n            println(\"Item: \" + it)               \n        }\n        is Unit -&gt; {\n            // do something else\n        }\n    }\n    return Result()\n}\n\nfun tryit() {\n    var res = blah2 {  }\n    res = blah2 { arrayListOf&lt;String&gt;(\"A\",\"b\",\"c\") }\n}\n</code></pre>\n\n<p>But if you are trying to call your Kotlin <code>blah2</code> from Java code, you may have problems.  This link (<a href=\"https://discuss.kotlinlang.org/t/java-interop-unit-closures-required-to-return-kotlin-unit/1842\" rel=\"nofollow noreferrer\">Unit closures required to return Kotlin.Unit</a>) describes a problem passing a function returning void from Java to a Kotlin method.  I have not followed to see if it's solved. </p>\n\n<p><strong>Edit</strong>\nThese should also work:</p>\n\n<pre><code>    var k: Int = 0\n    res = blah2 { k++ }\n    //res = blah2 { k = k + 1 }  // does not compile\n    //res = blah2 { k = k + 1; return@blah2 } // does not compile\n    res = blah2 { k = k + 1; return@blah2 k }\n</code></pre>\n\n<p>But the two commented lines do not work.  The OP has written a bug report on this (and I agree that it's a bug).  But, keep in mind that if it did work, the behavior would be different than what would be expected from Java.  In Java, <code>k = k + 1</code> is an expression, but in Kotlin it is not.  Therefore, the return type of this expression is not <code>Int</code>.  If it worked, the return type would be <code>Nothing</code> (see <a href=\"https://kotlinlang.org/docs/reference/returns.html#returns-and-jumps\" rel=\"nofollow noreferrer\">Return and Jumps</a>).  If SO were to port from Java to Kotlin, they need to watch out for \"assignments as expressions\".  <a href=\"https://discuss.kotlinlang.org/t/assignment-not-allow-in-while-expression/339\" rel=\"nofollow noreferrer\">Here is an interesting discussion on this matter.</a></p>\n\n<p><strong>Update</strong>\nHere is further example of the inconsistency:</p>\n\n<pre><code>class TestLambdaReturnType {\n    var k = 1;\n    var a: () -&gt; Any = {} //explicitly typed (accepts: () -&gt; Unit )\n    val b = { k=2 }       //compiler implicitly types b: () -&gt; Unit\n    val c = {}            //compiler implicitly types c: () -&gt; Unit\n    val d: () -&gt; Any = {k=2}  //compiler error (??: lambda returns Unit, Unit is derived from Any)\n    val e: () -&gt; Unit = { k=2 } //no compiler error\n    val f: () -&gt; Any = e // no compiler error: ?? inconsistent\n\n    fun blah2(v: () -&gt; Any): Any = v()\n\n    companion object{\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val tn = TestLambdaReturnType()\n            tn.a = tn.b\n\n            tn.blah2(tn.a) //ni compiler error, no surprise\n            tn.blah2(tn.b) //no compiler error, no surprise\n            tn.blah2(tn.c) //no compiler error, no surprise\n            tn.blah2 { tn.k=2 }  //error: why \"f\" different than \"v\"?\n        }\n    }\n}\n</code></pre>\n\n<p>The lambda must have a return type.  In these examples, the return type is Unit.  But based upon these examples, there appears to be two types of <code>Unit</code>, one that derives from <code>Any</code> and one that derives from <code>who-knows-what</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1505293949, "last_edit_date": 1505293949, "creation_date": 1505163622, "answer_id": 46164310, "question_id": 46160539, "link": "https://stackoverflow.com/questions/46160539/union-type-between-any-and-unit/46164310#46164310", "title": "Union type between Any? and Unit", "body": "<p><code>k = k + 1</code> is an assignment which is a statement not an expression in Kotlin and it therefore does not evaluate to Unit or any other type.</p>\n\n<hr>\n\n<blockquote>\n  <p>Why are assignments with no type at all taken into account when the\n  compiler is looking for expressions?</p>\n</blockquote>\n\n<p>Consider the following short program:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val result = num { a -&gt;\n        var b = a * 5\n        // ...put whatever code you want here\n        // ...and here\n        b++ // &lt;- the last line matters\n    }\n}\n\nfun num(f: (i: Int) -&gt; Int): Int {\n    return f(5)\n}\n</code></pre>\n\n<p>The last line inside that lambda body, that's the line that matters, and it has to be an expression (<code>Int</code> in this case), because it is what this lambda returns.</p>\n\n<p>So, can the last line be <code>b = b + 1</code>? No, because it is not an expression an therefore cannot be returned as such.</p>\n\n<p>Even if you would use <code>Any</code> or <code>Unit</code> as return type doesn't change the fact that <code>b = b + 1</code> is neither of those.</p>\n\n<blockquote>\n  <p>What I had to do to get around this was do this: blah2 { k = k + 1;\n  Unit }, otherwise my lambda didn't work</p>\n</blockquote>\n\n<p>Yes, because Unit is a valid expression and <code>blah2 { k = k + 1; Unit }</code> is the same as</p>\n\n<pre><code>blah2 { \n   k = k + 1 \n   Unit // again, last line matters\n}\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1505325476, "creation_date": 1505148121, "last_edit_date": 1505162889, "question_id": 46160539, "link": "https://stackoverflow.com/questions/46160539/union-type-between-any-and-unit", "title": "Union type between Any? and Unit", "body": "<p>I'm trying to write a higher order function that will allow me to do this:</p>\n\n<pre><code>blah1 { em -&gt;\n    // do some stuff here\n}\n</code></pre>\n\n<p>as well as this:</p>\n\n<pre><code>blah2 { em -&gt;\n    // do some stuff here\n    listOf(\"1\",\"2\",\"3\")\n}\n</code></pre>\n\n<p>In the first example, i'm returning nothing and in the second example I'm return a list of strings.</p>\n\n<p>This works for the first one:</p>\n\n<pre><code>inline fun blah1(f: (em: EM) -&gt; Unit): Result {\n    f(em)\n    return Result()\n}\n</code></pre>\n\n<p>For the second one, I need a different return type:</p>\n\n<pre><code>inline fun blah2(f: (em: EM) -&gt; Any?): Result {\n    val res = f(em)\n    when (res) {\n        is List&lt;*&gt; -&gt; res.forEach { item -&gt;\n            // do something with item\n        }\n    }\n    return Result()\n}\n</code></pre>\n\n<p>Is it possible to combine <code>blah1</code> and <code>blah2</code> so that if I do this:</p>\n\n<pre><code>blah { em -&gt;\n\n}\n</code></pre>\n\n<p><code>val res = f(em)</code> res will be of type Unit and when I do this:</p>\n\n<pre><code>blah { em -&gt;\n   listOf(\"1\",\"2\",\"3\")\n}\n</code></pre>\n\n<p><code>val res = f(em)</code> res will be of type List ?</p>\n\n<p>I've tried doing this:</p>\n\n<pre><code>inline fun blah(\n    noinline f1: (em: EM) -&gt; Unit = f1fun,\n    noinline f2: (em: EM) -&gt; Any? = f2fun\n): Result {\n    f1(em)\n    f2(em)?.let { res -&gt;\n        when (res) {\n            is List&lt;*&gt; -&gt; res.forEach { item -&gt;\n                // do something with item\n            }\n        }\n    }\n    return Result()\n}\n\nval f1fun: (em: EntityManager) -&gt; Unit = { Unit }\nval f2fun: (em: EntityManager) -&gt; Any? = { null }\n</code></pre>\n\n<p>... but now whether I do </p>\n\n<pre><code>blah { em -&gt;\n    // code here    \n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>blah { em -&gt;\n    // code here\n    listOf(\"1\", \"2\")\n}\n</code></pre>\n\n<p><code>f2</code>'s lambda is always executed. </p>\n\n<p>Is there a way to achieve having a <code>blah { with or without statement }</code> that will allow you to collect that value as <code>Any?</code> if a statement is indeed inside the lambda and when no statement is present, treat it like a <code>Unit</code> lambda?</p>\n\n<p>This:\n<code>inline fun blah2(f: (em: EM) -&gt; Any?): Result {</code></p>\n\n<p>doesn't compile under certain circumstances:</p>\n\n<pre><code>blah2 {\n   k = k + 1\n}\n</code></pre>\n\n<p>even though this works fine:</p>\n\n<pre><code>blah2 {\n\n}\n</code></pre>\n\n<p>and this works fine:</p>\n\n<pre><code>blah2 {\n  k++\n}\n</code></pre>\n\n<p><strong>Update</strong>: Have logged a bug in the meantime: <a href=\"https://youtrack.jetbrains.com/issue/KT-20215\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-20215</a></p>\n"}, {"tags": ["android", "intellij-idea", "kotlin", "android-appcompat"], "comments": [{"owner": {"reputation": 1566, "user_id": 877529, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7964a2f116b5355c1a10775929a77e0?s=128&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/877529/guillaume"}, "edited": false, "score": 0, "creation_date": 1505147642, "post_id": 46160020, "comment_id": 79282838, "body": "Did you change something? Because I just cloned the repo and runned <code>.&#47;gradlew assembleDebug</code> and the build was successfull."}, {"owner": {"reputation": 2298, "user_id": 1136666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1aaQ.jpg?s=128&g=1", "display_name": "Dolly Aswin", "link": "https://stackoverflow.com/users/1136666/dolly-aswin"}, "reply_to_user": {"reputation": 1566, "user_id": 877529, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7964a2f116b5355c1a10775929a77e0?s=128&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/877529/guillaume"}, "edited": false, "score": 0, "creation_date": 1505149578, "post_id": 46160020, "comment_id": 79283872, "body": "Nothing, but I run <code>build</code> through the IDE. not run that command on terminal"}, {"owner": {"reputation": 1566, "user_id": 877529, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7964a2f116b5355c1a10775929a77e0?s=128&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/877529/guillaume"}, "edited": false, "score": 0, "creation_date": 1505150035, "post_id": 46160020, "comment_id": 79284089, "body": "And what happens if you run this command directly in your terminal?"}, {"owner": {"reputation": 2298, "user_id": 1136666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1aaQ.jpg?s=128&g=1", "display_name": "Dolly Aswin", "link": "https://stackoverflow.com/users/1136666/dolly-aswin"}, "reply_to_user": {"reputation": 1566, "user_id": 877529, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7964a2f116b5355c1a10775929a77e0?s=128&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/877529/guillaume"}, "edited": false, "score": 0, "creation_date": 1505150255, "post_id": 46160020, "comment_id": 79284203, "body": "I have try it and <code>BUILD SUCCESSFUL</code>. But when I wanna run the application using the IDE the error keep exist"}, {"owner": {"reputation": 1566, "user_id": 877529, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f7964a2f116b5355c1a10775929a77e0?s=128&d=identicon&r=PG", "display_name": "guillaume", "link": "https://stackoverflow.com/users/877529/guillaume"}, "edited": false, "score": 0, "creation_date": 1505151412, "post_id": 46160020, "comment_id": 79284814, "body": "I just tried with Android Studio and it works well. Android Studio is a fork of Intellij and it&#39;s specially adapted for Android development. You should give it a try."}], "owner": {"reputation": 2298, "user_id": 1136666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1aaQ.jpg?s=128&g=1", "display_name": "Dolly Aswin", "link": "https://stackoverflow.com/users/1136666/dolly-aswin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505146246, "creation_date": 1505146246, "question_id": 46160020, "link": "https://stackoverflow.com/questions/46160020/intellij-idea-kotlin-android-theme-appcompat-no-resource-found", "title": "Intellij IDEA Kotlin Android Theme.AppCompat No Resource Found", "body": "<p>I wanna build and run <code>Kotlin</code> code from this repository</p>\n\n<p><a href=\"https://github.com/steelkiwi/Getting-started-with-Kotlin\" rel=\"nofollow noreferrer\">https://github.com/steelkiwi/Getting-started-with-Kotlin</a></p>\n\n<p>But, it always give this error when I built it</p>\n\n<blockquote>\n  <p>Error:(3, -1) android-apt-compiler: [main] Error retrieving parent for\n  item: No resource found that matches the given name\n  'Theme.AppCompat.Light.DarkActionBar'.</p>\n</blockquote>\n\n<p>I had googling about this error, and some of the answers suggest to add AppCompat manually to project. I have been try those solution, and get the same result.</p>\n\n<p>I used Intelllij IDEA and I just think, this problem was on my IDE configuration. I have enable Android Support, and no result.</p>\n\n<p>Is there anyone have same problem like this on Intellij IDEA?</p>\n"}, {"tags": ["java", "kotlin", "kotlin-android-extensions", "kotlin-reified-type-parameters"], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 2, "creation_date": 1505143584, "post_id": 46158659, "comment_id": 79280422, "body": "hi, it doesn&#39;t disppear. it is only make the visibility to private to avoid java code call it."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 2, "last_activity_date": 1505141699, "creation_date": 1505141699, "answer_id": 46158659, "question_id": 46158513, "link": "https://stackoverflow.com/questions/46158513/kotlin-reified-type-function-as-function-extension-callable-from-java/46158659#46158659", "title": "Kotlin reified type function as function extension - Callable from Java?", "body": "<p><code>inline reified</code> functions 'disppear' after compilation, because reified types don't exist on the JVM. It is a trick by the compiler.</p>\n\n<p>Probably the only reason the private function is there is to cause an error if someone tries to override it during runtime, since the reified function is completely inlined and cannot be overridden.</p>\n"}, {"comments": [{"owner": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1505155539, "post_id": 46162355, "comment_id": 79286895, "body": "Yes it&#39;s only a class level .. but I can&#39;t use it out side the file in which it&#39;s defined .. my question is how to use it as normal extension functions ?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1505155563, "post_id": 46162355, "comment_id": 79286908, "body": "Try to define it top level. That&#39;s a class like Extensions.kt which could contain your function only, without a class around it"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1505155758, "post_id": 46162355, "comment_id": 79287013, "body": "Can you share your code? Also where you use it with the compile error?"}, {"owner": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1505156530, "post_id": 46162355, "comment_id": 79287468, "body": "Added more details as you asked"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1505156605, "post_id": 46162355, "comment_id": 79287509, "body": "You&#39;re trying to call it from Java? This does not work, as I wrote. Make it not reified, normal inline functions are ok for Java!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1505162611, "last_edit_date": 1505162611, "creation_date": 1505155200, "answer_id": 46162355, "question_id": 46158513, "link": "https://stackoverflow.com/questions/46158513/kotlin-reified-type-function-as-function-extension-callable-from-java/46162355#46162355", "title": "Kotlin reified type function as function extension - Callable from Java?", "body": "<p>Yes you can use <code>inline</code> functions with <code>reified</code> types as extension functions. It's made <code>private</code> so that <strong>Java</strong> code can't access it (btw this is not the case for \"normal\" <code>inline</code> functions). \nSuch an <code>inline</code> function can be <code>private</code> for <strong>Kotlin</strong> because inline functions are <strong>copied</strong> to the place <strong>where</strong> they are <strong>invoked</strong>.</p>\n\n<p>An <a href=\"https://antonioleiva.com/reified-types-kotlin/\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>inline fun &lt;reified T : Activity&gt; Activity.startActivity() {\n    startActivity(Intent(this, T::class.java))\n}\n\n//usage\n\nstartActivity&lt;DetailActivity&gt;()\n</code></pre>\n\n<p>Read more about <code>reified</code> in another SO question, I answered: <a href=\"https://stackoverflow.com/a/45952201/8073652\">https://stackoverflow.com/a/45952201/8073652</a></p>\n\n<p>Once again: <em>You cannot use <code>inline</code> functions with <code>reified</code> typed from Java.</em></p>\n"}], "owner": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 1, "accepted_answer_id": 46162355, "answer_count": 2, "score": 5, "last_activity_date": 1505162611, "creation_date": 1505141212, "last_edit_date": 1505162602, "question_id": 46158513, "link": "https://stackoverflow.com/questions/46158513/kotlin-reified-type-function-as-function-extension-callable-from-java", "title": "Kotlin reified type function as function extension - Callable from Java?", "body": "<p>I'm trying to use a function with reified type as extension function but I don't think that it's possible because after I checked the generated bytecode I have find that the method signature is private, any work around to make it public ?</p>\n\n<p><strong>CommonExtensions.kt</strong></p>\n\n<pre><code>inline fun&lt;reified T: Activity&gt; Context.startActivity() {\n    val intent = Intent(this, T:: class.java)\n    startActivity(intent)\n}\n\nfun View.visible() {\n    visibility = View.VISIBLE\n}\n</code></pre>\n\n<p>Kotlin Bytecode : </p>\n\n<pre><code>private final static startActivity(Landroid/content/Context;)V\n    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0\n   ...\n</code></pre>\n\n<p><strong>Client Code :</strong> </p>\n\n<p><strong><em>Kotlin file</em></strong></p>\n\n<pre><code>override fun showMessageEmptyOfferFeeds() {\n        mOfferFeedsWarning.visible() // \"visible()\" extension func RESOLVED\n}\n</code></pre>\n\n<p><strong><em>Java file</em></strong></p>\n\n<pre><code>showProfileDetailsUi(){\n   startActivity&lt;DetailActivity&gt;() //\"startActivity()\" extension func NOT RESOLVED\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 1, "last_activity_date": 1505146999, "last_edit_date": 1505146999, "creation_date": 1505140606, "answer_id": 46158303, "question_id": 46157815, "link": "https://stackoverflow.com/questions/46157815/how-can-i-turn-a-kfunction-without-instance-param-to-a-kfunction-with-it/46158303#46158303", "title": "How can I turn a KFunction without instance param to a KFunction with it?", "body": "<p>You could just implement a delegate wrapping that logic. Example implementation:</p>\n\n<pre><code>class KCallableWithInstance&lt;out T&gt;(private val func: KCallable&lt;T&gt;, private val instance: Any) : KCallable&lt;T&gt; by func {\n    private val instanceParam = func.instanceParameter ?:\n            func.extensionReceiverParameter ?:\n            throw IllegalArgumentException(\"Given function must not have a instance already bound\")\n\n    init {\n        val instanceParamType = instanceParam.type.jvmErasure\n        if (!instance::class.isSubclassOf(instanceParamType))\n            throw IllegalArgumentException(\n                    \"Provided instance (${instance::class.qualifiedName}) isn't an subclass of \" +\n                            \"instance param's value's class (${instanceParamType::class.qualifiedName})\")\n    }\n\n    override fun call(vararg args: Any?): T\n            = func.call(instance, *args)\n\n\n    override fun callBy(args: Map&lt;KParameter, Any?&gt;): T\n            = func.callBy(args + (instanceParam to instance))\n\n    override val parameters = func.parameters.filter { it != instanceParam }\n\n}\n\nfun &lt;T&gt; KCallable&lt;T&gt;.withInstance(instance: Any): KCallable&lt;T&gt;\n        = KCallableWithInstance(this, instance)\n</code></pre>\n\n<p>And then use it like this (example based on the code in question): <code>func.withInstance(instance).call(1, \"Hi\", 123.45)</code></p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1548006774, "creation_date": 1548006774, "answer_id": 54279253, "question_id": 46157815, "link": "https://stackoverflow.com/questions/46157815/how-can-i-turn-a-kfunction-without-instance-param-to-a-kfunction-with-it/54279253#54279253", "title": "How can I turn a KFunction without instance param to a KFunction with it?", "body": "<p>You could also create a <code>Pair</code> which maps the instance to the <code>KFunction</code>. Then you define an extension function <code>call</code> on that <code>Pair</code> like this:</p>\n\n<pre><code>// class X as defined in the question\n\nfun &lt;S: Any, T: Any&gt; Pair&lt;S, KFunction&lt;T&gt;&gt;.call(vararg args: Any?): T {\n    val (instance, func) = this\n    return func.call(instance, *args)\n}\n\nfun main() {\n    val func = X::someFunc\n    val instance = X()\n\n    val funcInstancePair = instance to func\n    funcInstancePair.call(1, \"Hi\", 123.45)\n}\n</code></pre>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 1, "accepted_answer_id": 46158303, "answer_count": 2, "score": 3, "last_activity_date": 1548006774, "creation_date": 1505139188, "last_edit_date": 1505140629, "question_id": 46157815, "link": "https://stackoverflow.com/questions/46157815/how-can-i-turn-a-kfunction-without-instance-param-to-a-kfunction-with-it", "title": "How can I turn a KFunction without instance param to a KFunction with it?", "body": "<pre><code>class X {\n    fun someFunc(x: Int, y: String, z: Double) {\n        println(\"x = [$x], y = [$y], z = [$z]\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val func = X::someFunc\n    val instance = X()\n\n    func.call(instance, 1, \"Hi\", 123.45)\n}\n</code></pre>\n\n<p>Given the code above how can I convert it to a function with instance built-in so when calling I can just pass the params without <code>instance</code>? <sub>(I could just use <code>X()::someFunc</code> but that's not the point of this question)</sub></p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1505194498, "post_id": 46157842, "comment_id": 79299157, "body": "I always get the error: <code>Cannot change dependencies of configuration &#39;:compile&#39; after it has been included in dependency resolution.</code>"}, {"owner": {"reputation": 10269, "user_id": 3950370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b44be8311e04ebbf6d1d153e0aae4a69?s=128&d=identicon&r=PG", "display_name": "Lukas K&#246;rfer", "link": "https://stackoverflow.com/users/3950370/lukas-k%c3%b6rfer"}, "edited": false, "score": 2, "creation_date": 1505204081, "post_id": 46157842, "comment_id": 79304471, "body": "Do you add dependencies after your code example (or the improved one). Once you&#39;ve read the dependencies in a configuration, it is resolved and you can&#39;t add dependencies."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 10269, "user_id": 3950370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b44be8311e04ebbf6d1d153e0aae4a69?s=128&d=identicon&r=PG", "display_name": "Lukas K&#246;rfer", "link": "https://stackoverflow.com/users/3950370/lukas-k%c3%b6rfer"}, "edited": false, "score": 1, "creation_date": 1506605916, "post_id": 46157842, "comment_id": 79896275, "body": "@lu.koerfer this was the problem. I had the <code>dependency</code> block after this one. Thx."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506606086, "post_id": 46157842, "comment_id": 79896405, "body": "@hotkey: Could you please update your solution and point out, that the dependencies block must before the <code>tasks.withType&lt;Jar&gt;...</code>. I guess this could be useful to others in the future."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506606906, "post_id": 46157842, "comment_id": 79897026, "body": "@guenhter Done."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506606955, "post_id": 46157842, "comment_id": 79897050, "body": "@hotkey appreciate it!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1506606900, "last_edit_date": 1506606900, "creation_date": 1505139299, "answer_id": 46157842, "question_id": 46157338, "link": "https://stackoverflow.com/questions/46157338/using-gradle-to-build-a-jar-with-dependencies-with-kotlin-dsl/46157842#46157842", "title": "Using Gradle to build a jar with dependencies with Kotlin-DSL", "body": "<p>This will work:</p>\n\n<pre><code>tasks.withType&lt;Jar&gt;() {\n    configurations[\"compileClasspath\"].forEach { file: File -&gt;\n        from(zipTree(file.absoluteFile))\n    }\n}\n</code></pre>\n\n<p>There's no need in <code>copy { ... }</code>, you should call <code>from</code> on the JAR task itself.</p>\n\n<p>Note: Gradle does not allow changing the dependencies after they have been resolved. It means that the block above should be executed only after the <code>dependencies { ... }</code> are configured.</p>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2167, "favorite_count": 0, "accepted_answer_id": 46157842, "answer_count": 1, "score": 4, "last_activity_date": 1532378803, "creation_date": 1505137801, "last_edit_date": 1532378803, "question_id": 46157338, "link": "https://stackoverflow.com/questions/46157338/using-gradle-to-build-a-jar-with-dependencies-with-kotlin-dsl", "title": "Using Gradle to build a jar with dependencies with Kotlin-DSL", "body": "<p>There is already an answer to the question: <a href=\"https://stackoverflow.com/a/4894308/5247292\">how to include all the dependencies in a jar file</a> though it's for Groovy</p>\n\n<p>I'm using gradle with <code>kotlin-dsl</code> and the code is not compatible. I tried to make it work using a few ways including: </p>\n\n<pre><code>tasks.withType&lt;Jar&gt; {\n    configurations[\"compileClasspath\"].forEach { file: File -&gt;\n        copy {\n            from(zipTree(file.absoluteFile))\n        }\n    }\n}\n</code></pre>\n\n<p>Though this doesn't work. So how to include the dependencies using <code>kotlin-dsl</code> in gradle?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "kapt"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1505144768, "post_id": 46156965, "comment_id": 79281112, "body": "You can find the error in the gradle log. In Android Studio, in the bottom right, click at <code>Gradle Console</code>. There it will show the errors."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1505165609, "post_id": 46156965, "comment_id": 79291804, "body": "@DavidMedenjak&#39;s answer is, apparently, the best there is for now.  It appears that AndroidStudio doesn&#39;t handle <code>kapt</code> errors yet.  Cross your fingers."}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 3129644, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8e427eb98dd6a996d286af24dedffa0?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3129644/andrew"}, "is_accepted": true, "score": 6, "last_activity_date": 1505198907, "last_edit_date": 1505198907, "creation_date": 1505136684, "answer_id": 46156966, "question_id": 46156965, "link": "https://stackoverflow.com/questions/46156965/with-kotlin-kapt-plugin-android-studio-doesnt-provide-specific-errors-about-d/46156966#46156966", "title": "With &#39;kotlin-kapt&#39; plugin, Android Studio doesnt provide specific errors about Dagger 2", "body": "<p><strong>Option 1</strong></p>\n\n<p>Use <code>apply plugin: 'kotlin-kapt'</code>. And when error occurs, you can see it in Android Studio => on the bottom right => at Gradle Console.</p>\n\n<p><em>Thanks to David Medenjak comment.</em></p>\n\n<p><strong>Option 2</strong></p>\n\n<p>Substitute <code>apply plugin: 'kotlin-kapt'</code> with <code>kapt { generateStubs = true }</code></p>\n\n<p>Compilation fails with expected result: </p>\n\n<blockquote>\n  <p>[com.example.kravets_a.kotlinanddagger.logic.MainActivityComponent.inject(com.example.kotlinanddagger.MainActivity)] com.example.kotlinanddagger.logic.LoginPresenter cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method.</p>\n</blockquote>\n\n<p>Tutorials like <a href=\"https://android.jlelse.eu/setup-dagger-2-on-kotlin-project-d48d28dcc89e\" rel=\"noreferrer\">this</a>, <a href=\"https://blog.mindorks.com/implementing-dagger2-with-kotlin-72af5f066cc4\" rel=\"noreferrer\">this</a> or <a href=\"https://antonioleiva.com/dagger-android-kotlin/\" rel=\"noreferrer\">that</a> says that <code>apply plugin: 'kotlin-kapt'</code> can be used instead of <code>kapt { generateStubs = true }</code>. But in that case Android Studio does not provide specific compilation error.</p>\n"}, {"comments": [{"owner": {"reputation": 1453, "user_id": 1001542, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qNDpO.jpg?s=128&g=1", "display_name": "takecare", "link": "https://stackoverflow.com/users/1001542/takecare"}, "edited": false, "score": 1, "creation_date": 1517825692, "post_id": 47716133, "comment_id": 84236851, "body": "i&#39;ve tried this recently, as per the official recommendation on kapt, but it&#39;s still failing. i.e. <code>NonExistentClass</code> is still being added"}], "tags": [], "owner": {"reputation": 7524, "user_id": 91226, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/14f38ecee3a318ec25a5799d0bc6eef8?s=128&d=identicon&r=PG", "display_name": "Auras", "link": "https://stackoverflow.com/users/91226/auras"}, "is_accepted": false, "score": 1, "last_activity_date": 1512742456, "creation_date": 1512742456, "answer_id": 47716133, "question_id": 46156965, "link": "https://stackoverflow.com/questions/46156965/with-kotlin-kapt-plugin-android-studio-doesnt-provide-specific-errors-about-d/47716133#47716133", "title": "With &#39;kotlin-kapt&#39; plugin, Android Studio doesnt provide specific errors about Dagger 2", "body": "<p>The solution is to add this to your module's build.gradle:</p>\n\n<pre><code>kapt {\n    correctErrorTypes = true\n}\n</code></pre>\n"}], "owner": {"reputation": 920, "user_id": 3129644, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8e427eb98dd6a996d286af24dedffa0?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3129644/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7060, "favorite_count": 1, "accepted_answer_id": 46156966, "answer_count": 2, "score": 3, "last_activity_date": 1512742456, "creation_date": 1505136684, "last_edit_date": 1505199112, "question_id": 46156965, "link": "https://stackoverflow.com/questions/46156965/with-kotlin-kapt-plugin-android-studio-doesnt-provide-specific-errors-about-d", "title": "With &#39;kotlin-kapt&#39; plugin, Android Studio doesnt provide specific errors about Dagger 2", "body": "<p>I use Kotlin with Dagger 2. The problem is, when I make mistake while implementing Dagger (e.g., miss <code>@Inject</code> for class constractor), IDE doesnt show specifically where mistake is. Insead compiler error is always the same: </p>\n\n<blockquote>\n  <p><code>Execution failed for task ':app:kaptDebugKotlin'. \n  Internal compiler error. See log for more details</code></p>\n</blockquote>\n\n<p>Class with a deliberate mistake (commented @Inject):</p>\n\n<pre><code>class LoginPresenter //@Inject\nconstructor(private val request: LoginRequest)\n</code></pre>\n\n<p>Project build.gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Module build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n    defaultConfig {\n        applicationId \"com.example.kravets_a.kotlinanddagger\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    ...\n\n    compile 'com.google.dagger:dagger:2.10'\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.10'\n    kapt \"com.google.dagger:dagger-compiler:2.10\"\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 2545386, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/47f3f3e0268c14ed085f458440f270d4?s=128&d=identicon&r=PG", "display_name": "user2545386", "link": "https://stackoverflow.com/users/2545386/user2545386"}, "edited": false, "score": 0, "creation_date": 1505178207, "post_id": 46157377, "comment_id": 79294983, "body": "I just want to use reflect in unit test only. That&#39;s  why my problem contains reflect.And will you add <b>apply{ isAccessible = true}</b> and  **compile &quot;org.jetbrains.kotlin:kotlin-reflect:$kotlin_version&quot; **, so that I&#39;ll accept your answer to help someone else."}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 2, "last_activity_date": 1505137942, "creation_date": 1505137942, "answer_id": 46157377, "question_id": 46155190, "link": "https://stackoverflow.com/questions/46155190/can-i-use-kotlin-reflect-to-get-a-value-of-a-field/46157377#46157377", "title": "Can I use kotlin.reflect to get a value of a field", "body": "<p>You can't get it because you do it outside of that class when the property is <code>private</code>. You have a few options here:</p>\n\n<ol>\n<li>create a function returning <code>this::p</code> (<code>fun func(): KProperty0&lt;MyObj?&gt; = this::p</code>)</li>\n<li>make that property <code>public</code></li>\n<li>use reflection. <em>This is probably the slowest, least performant and very tightly coupled option. Use it only if you can't use the others.</em> You can use Kotlin's reflection like so: <code>A::class.memberProperties.find { it.name == \"p\" } as KProperty1&lt;A, MyObj?&gt;</code></li>\n</ol>\n"}], "owner": {"reputation": 397, "user_id": 2545386, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/47f3f3e0268c14ed085f458440f270d4?s=128&d=identicon&r=PG", "display_name": "user2545386", "link": "https://stackoverflow.com/users/2545386/user2545386"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 46157377, "answer_count": 1, "score": 1, "last_activity_date": 1505137942, "creation_date": 1505130993, "question_id": 46155190, "link": "https://stackoverflow.com/questions/46155190/can-i-use-kotlin-reflect-to-get-a-value-of-a-field", "title": "Can I use kotlin.reflect to get a value of a field", "body": "<pre><code>class A{\n     private var p:MyObj? = null\n}\n</code></pre>\n\n<p>It seems that I can't get p by <strong>A::p</strong>,\nOr I can only get it by java?</p>\n\n<p>My kotlin version is </p>\n\n<pre><code>ext.kotlin_version = '1.1.4-2'\n</code></pre>\n"}, {"tags": ["kotlin", "mergesort"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1505129126, "creation_date": 1505129126, "answer_id": 46154581, "question_id": 46154495, "link": "https://stackoverflow.com/questions/46154495/a-strange-situation-happens-when-doing-merge-sort-in-kotlin/46154581#46154581", "title": "A strange situation happens when doing merge sort in Kotlin", "body": "<p>The equivalent to </p>\n\n<pre><code>if (left &lt; right) {\n    /* do something */\n}\n</code></pre>\n\n<p>is </p>\n\n<pre><code>if (left &gt;= right) \n    return\n/* do something */\n</code></pre>\n\n<p>In your sample that doesn't work you use <code>right &gt;= left</code>. Change it to <code>left &gt;= right</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 8426813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50cf90477556d797049b206404de86ec?s=128&d=identicon&r=PG&f=1", "display_name": "ruan xun", "link": "https://stackoverflow.com/users/8426813/ruan-xun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505129126, "creation_date": 1505128830, "question_id": 46154495, "link": "https://stackoverflow.com/questions/46154495/a-strange-situation-happens-when-doing-merge-sort-in-kotlin", "title": "A strange situation happens when doing merge sort in Kotlin", "body": "<p>When I am doing my merge sort, I find something strange happens, which I have no idea why. Since I am not so familiar with Kotlin, I don't know if the problem is my logic or the Kotlin syntax. Need help.</p>\n\n<p>Here is the code. This version works.</p>\n\n<pre><code>fun runMergeSort(anArray:IntArray,n:Int){\n    mergeSort(anArray,0,n-1)\n}\n\nfun mergeSort(intArray: IntArray,left:Int,right:Int){\n    if(left&lt;right){\n        val mid = (left+right)/2\n        mergeSort(intArray,left,mid)\n        mergeSort(intArray,mid+1,right)\n        merge(intArray,left,mid,right)\n    }\n}\n\nfun merge(intArray:IntArray,left:Int,mid:Int,right:Int){\n    val aux = IntArray(right-left+1)\n    for(i in left..right){\n        aux[i-left] = intArray[i]\n    }\n    var i = left\n    var j = mid+1\n    for(k in left..right){\n        if(i&gt;mid){\n            intArray[k] = aux[j-left]\n            j++\n        }\n        else if (j&gt;right){\n            intArray[k] = aux[i-left]\n            i++\n        }\n        else if(aux[i-left]&lt;aux[j-left]){\n            intArray[k] = aux[i-left]\n            i++\n        }\n        else{\n            intArray[k] = aux[j-left]\n            j++\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val anArray = intArrayOf(7,5,2,5,11,3,6,8)\n    runMergeSort(anArray,anArray.size)\n    for(i in anArray)\n        print(\"$i \")\n}\n</code></pre>\n\n<p>However, when I change the function mergeSort to below</p>\n\n<pre><code>fun mergeSort(intArray: IntArray,left:Int,right:Int){\n    if(right&gt;=left)\n        return\n    val mid = (left+right)/2\n    mergeSort(intArray,left,mid)\n    mergeSort(intArray,mid+1,right)\n    merge(intArray,left,mid,right)\n}\n</code></pre>\n\n<p>I can't sort the array. Don't know what to do about this...</p>\n"}, {"tags": ["android", "view", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "edited": false, "score": 0, "creation_date": 1505556581, "post_id": 46234463, "comment_id": 79468838, "body": "Well, thats at least a cleaner solution. But is this really the best way to do that?"}], "tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": false, "score": 1, "last_activity_date": 1505461941, "creation_date": 1505461941, "answer_id": 46234463, "question_id": 46154337, "link": "https://stackoverflow.com/questions/46154337/android-view-get-original-wrap-content-size-of-my-view/46234463#46234463", "title": "Android View get original &quot;Wrap Content&quot; Size of my view", "body": "<p>You can write an extension once for views like that</p>\n\n<pre><code>inline fun View.afterMeasured(crossinline f: View.() -&gt; Unit) {\n    viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n        override fun onGlobalLayout() {\n            if (measuredHeight &gt; 0 &amp;&amp; measuredWidth &gt; 0) {\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n                f()\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>Than just write </p>\n\n<pre><code>    mView.afterMeasured {\n      // inside this block the view is completely drawn,\n      // here you have an access for its height and width\n    }\n</code></pre>\n"}], "owner": {"reputation": 4394, "user_id": 1565635, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47afd04b281fd1fb5ff38a9cc5378562?s=128&d=identicon&r=PG", "display_name": "Tobias Reich", "link": "https://stackoverflow.com/users/1565635/tobias-reich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505461941, "creation_date": 1505128345, "question_id": 46154337, "link": "https://stackoverflow.com/questions/46154337/android-view-get-original-wrap-content-size-of-my-view", "title": "Android View get original &quot;Wrap Content&quot; Size of my view", "body": "<p>I have a question about Android Views that appears to have been asked several times. But still I never get exactly the answer I need.\nI have to create a View that changes it's size (height) according to a given percentage. That means, I want something like</p>\n\n<pre><code>setHeight(percentage){\n     view.setHeight(Originl * percentage)\n}\n</code></pre>\n\n<p>In order to do so, I need the original height of the view without any changes or the outer layout (so no Match_Parent).\nThere are many ways and possible moments to calculate the views height but they all seem to have the current height as a result - not the \"desired\" one.</p>\n\n<p>For instance I tried to use onMeasure() since this is the moment when the view is measured but it is also called when changing the views heigh. It also is done on the view \"creation\" several time. So I can't even take the first value that comes because it sometimes is called twice with the first measurement giving wrong data (e.g. a height of 0 until the second onMeasure gives the real one).</p>\n\n<p>I now did something that is also not really great but seems to work. I added a Listener like that</p>\n\n<pre><code>getViewTreeObserver().addOnGlobalLayoutListener( this)\n</code></pre>\n\n<p>and in the callback method I remove the listener</p>\n\n<pre><code>override fun onGlobalLayout() {\n        Log.d(\"OnGlobalLayout\", \"Height: $height\")\n        originalHeight = height\n        getViewTreeObserver().removeOnGlobalLayoutListener( this)\n}\n</code></pre>\n\n<p>This seems to work more or less but is that really the way to do? I was hoping for some method that gets the expected view size no matter what the current one is.</p>\n\n<p>Any ideas how to do that?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1505126377, "post_id": 46153567, "comment_id": 79268919, "body": "You want to be able to set it after construction with either, or construct it with either?"}, {"owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1505126988, "post_id": 46153567, "comment_id": 79269254, "body": "String: set after (this is a case when data is transferred from JSP file to Spring controller). LocalDate: construct or set after"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1505129931, "post_id": 46153567, "comment_id": 79271133, "body": "Setter overload is not supported at this moment. You may refer to this <a href=\"https://stackoverflow.com/questions/43086327/setter-overloading-in-kotlin\">post</a> or this <a href=\"https://youtrack.jetbrains.com/issue/KT-4075\" rel=\"nofollow noreferrer\">issue</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "edited": false, "score": 0, "creation_date": 1505128003, "post_id": 46153929, "comment_id": 79269901, "body": "Unfortunately it does not work in case of real not simplified code <a href=\"http://clip2net.com/s/3NE0Vra\" rel=\"nofollow noreferrer\">clip2net.com/s/3NE0Vra</a>"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "edited": false, "score": 0, "creation_date": 1505128432, "post_id": 46153929, "comment_id": 79270165, "body": "But I guess the problem in the screenshot has nothing to do with this issue, hasn&#39;t it?"}, {"owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "edited": false, "score": 0, "creation_date": 1505145880, "post_id": 46153929, "comment_id": 79281814, "body": "The actual problem was resolved by means of creating a DTO class to transfer data with string type date and time from JSP to Spring controller and then converting it to the class with LocalDate/LocalTime format."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 2, "last_activity_date": 1505673839, "last_edit_date": 1505673839, "creation_date": 1505127058, "answer_id": 46153929, "question_id": 46153567, "link": "https://stackoverflow.com/questions/46153567/kotlin-single-property-with-multiple-setters-of-different-types/46153929#46153929", "title": "Kotlin: single property with multiple setters of different types", "body": "<p>So if you just want to construct it (via <code>constructor</code>), just create a <a href=\"https://kotlinlang.org/docs/reference/classes.html#secondary-constructors\" rel=\"nofollow noreferrer\">secondary constructor</a></p>\n\n<pre><code>SomeExampleClass(LocalDate.MAX)\nSomeExampleClass(\"2007-12-03\")\n\nclass SomeExampleClass(var _date: LocalDate) {\n    constructor(_date: String) : this(LocalDate.parse(_date))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 2, "creation_date": 1516020359, "post_id": 46371105, "comment_id": 83509414, "body": "It&#39;s kind of nice, but too bad all the verification you get is runtime."}, {"owner": {"reputation": 1579, "user_id": 1735603, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8iskr.png?s=128&g=1", "display_name": "Firzen", "link": "https://stackoverflow.com/users/1735603/firzen"}, "edited": false, "score": 0, "creation_date": 1587471803, "post_id": 46371105, "comment_id": 108519479, "body": "It is sad to see that Kotlin doesn&#39;t support this out of the box.."}], "tags": [], "owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "is_accepted": true, "score": 6, "last_activity_date": 1506108987, "last_edit_date": 1506108987, "creation_date": 1506104945, "answer_id": 46371105, "question_id": 46153567, "link": "https://stackoverflow.com/questions/46153567/kotlin-single-property-with-multiple-setters-of-different-types/46371105#46371105", "title": "Kotlin: single property with multiple setters of different types", "body": "<p>After some time I returned to the problem of overloaded setters and developed the following solution:</p>\n\n<pre><code>class A(_date: LocalDate) {\n    var date: Any = _date\n        set(value) {\n            field = helperSet(value)\n        }\n        get() = field as LocalDate\n\n    private fun &lt;T&gt; helperSet(t: T) = when (t) {\n        is LocalDate -&gt; t\n        is String -&gt; LocalDate.parse(t)\n        else -&gt; throw IllegalArgumentException()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3106, "favorite_count": 1, "accepted_answer_id": 46371105, "answer_count": 2, "score": 13, "last_activity_date": 1506108987, "creation_date": 1505125984, "last_edit_date": 1505131996, "question_id": 46153567, "link": "https://stackoverflow.com/questions/46153567/kotlin-single-property-with-multiple-setters-of-different-types", "title": "Kotlin: single property with multiple setters of different types", "body": "<p>I'm trying to build a class that has a property of <code>LocalDate</code> type which has setters that accept different types: <code>LocalDate</code> or <code>String</code>. In case of <code>LocalDate</code>, the value gets assigned directly, in case of <code>String</code>, it gets parsed and then assigned.\nIn Java, I just need to implement two overloaded setters handling both of above mentioned cases. But I have no idea how to handle that in Kotlin. I have tried this:</p>\n\n<pre><code>class SomeExampleClass(var _date: LocalDate) {\n    var date = _date\n        set(value) {\n            when(value) {\n                is LocalDate -&gt; value\n                is String -&gt; LocalDate.parse(value)\n            }\n        }\n}\n</code></pre>\n\n<p>It doesn't compile. How can I resolve such a problem?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1505122996, "post_id": 46152525, "comment_id": 79266895, "body": "Related: <a href=\"https://stackoverflow.com/questions/37873995/how-to-create-empty-constructor-for-data-class-in-kotlin-android\" title=\"how to create empty constructor for data class in kotlin android\">stackoverflow.com/questions/37873995/&hellip;</a> But it seems not fit your situation."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1505123565, "post_id": 46152525, "comment_id": 79267300, "body": "Also, &quot;<i>Note that properties that aren\u2019t declared in the primary constructor don\u2019t take part in the equality checks and hashcode calculation.</i>&quot;"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1505133340, "post_id": 46152525, "comment_id": 79273461, "body": "@UlrikRasmussen Why do you need <code>hashCode()</code> and <code>equals()</code> if the class should not contain any field?"}, {"owner": {"reputation": 977, "user_id": 56647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/e1oXP.png?s=128&g=1", "display_name": "Ulrik Rasmussen", "link": "https://stackoverflow.com/users/56647/ulrik-rasmussen"}, "edited": false, "score": 0, "creation_date": 1505133694, "post_id": 46152525, "comment_id": 79273700, "body": "For if I want to compare two lists. But this is only an issue when there can be distinct instances of Nil. By representing Nil as a singleton, the default implementations of these methods will suffice"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1505983899, "post_id": 46152525, "comment_id": 79638630, "body": "@UlrikRasmussen Please post your edit as answer! :) answers should not be in the question"}], "answers": [{"comments": [{"owner": {"reputation": 977, "user_id": 56647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/e1oXP.png?s=128&g=1", "display_name": "Ulrik Rasmussen", "link": "https://stackoverflow.com/users/56647/ulrik-rasmussen"}, "edited": false, "score": 0, "creation_date": 1505197407, "post_id": 46152886, "comment_id": 79300461, "body": "This worked well for my use case, which was a simple algebraic datatype without type parameters. However, how would I go about representing nullary constructors for parameterized types? For example, let&#39;s generalize to <code>sealed class List&lt;A&gt;</code> with cons constructor <code>data class Cons&lt;A&gt;(val h:A, val t:List&lt;A&gt;): List&lt;A&gt;()</code>. I cannot declare a polymorphic object <code>object Nil&lt;A&gt; : List&lt;A&gt;()</code>"}, {"owner": {"reputation": 977, "user_id": 56647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/e1oXP.png?s=128&g=1", "display_name": "Ulrik Rasmussen", "link": "https://stackoverflow.com/users/56647/ulrik-rasmussen"}, "edited": false, "score": 0, "creation_date": 1505198456, "post_id": 46152886, "comment_id": 79301038, "body": "I found a solution and have updated the question accordingly"}], "tags": [], "owner": {"reputation": 4000, "user_id": 4268663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b48e9b34057e12c82cd42ac43cda60b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Filatov", "link": "https://stackoverflow.com/users/4268663/alex-filatov"}, "is_accepted": true, "score": 16, "last_activity_date": 1505123840, "creation_date": 1505123840, "answer_id": 46152886, "question_id": 46152525, "link": "https://stackoverflow.com/questions/46152525/in-kotlin-how-do-you-declare-a-data-class-with-zero-constructor-parameters/46152886#46152886", "title": "In Kotlin, how do you declare a data class with zero constructor parameters?", "body": "<p>Because <code>data class</code> without data doesn't make sense. Use <code>object</code> for singletons:</p>\n\n<pre><code>object Nil : IntList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1505983804, "last_edit_date": 1505983804, "creation_date": 1505124383, "answer_id": 46153077, "question_id": 46152525, "link": "https://stackoverflow.com/questions/46152525/in-kotlin-how-do-you-declare-a-data-class-with-zero-constructor-parameters/46153077#46153077", "title": "In Kotlin, how do you declare a data class with zero constructor parameters?", "body": "<p>You will have to create a usual class</p>\n\n<pre><code>class Nil : IntList()\n</code></pre>\n\n<p>and implement <code>hashCode()</code> and <code>equals()</code> yourself.</p>\n\n<p>A data class without fields does not make any sense, since its job is to represent data.</p>\n\n<hr>\n\n<p>Or: You can use an object class (as <a href=\"https://stackoverflow.com/users/4268663/alex-filatov\">Alex Filatov</a> said) which is a single instance class. Since, you don't need a state for each single <code>Nil</code> instance, they can share a single one.</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "is_accepted": false, "score": -4, "last_activity_date": 1505292260, "last_edit_date": 1505292260, "creation_date": 1505124979, "answer_id": 46153280, "question_id": 46152525, "link": "https://stackoverflow.com/questions/46152525/in-kotlin-how-do-you-declare-a-data-class-with-zero-constructor-parameters/46153280#46153280", "title": "In Kotlin, how do you declare a data class with zero constructor parameters?", "body": "<p>If you really want the uniformity in your source code you can use default value to the smallest data type possible.</p>\n\n<pre><code>data class Nil(val _u: Byte = 0) : IntList()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>data class Nil(val _u: Nothing? = null) : IntList()\n</code></pre>\n"}], "owner": {"reputation": 977, "user_id": 56647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/e1oXP.png?s=128&g=1", "display_name": "Ulrik Rasmussen", "link": "https://stackoverflow.com/users/56647/ulrik-rasmussen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3744, "favorite_count": 1, "accepted_answer_id": 46152886, "answer_count": 3, "score": 13, "last_activity_date": 1505983804, "creation_date": 1505122729, "last_edit_date": 1505198412, "question_id": 46152525, "link": "https://stackoverflow.com/questions/46152525/in-kotlin-how-do-you-declare-a-data-class-with-zero-constructor-parameters", "title": "In Kotlin, how do you declare a data class with zero constructor parameters?", "body": "<p>Say I want to declare a simple algebraic datatype for integer lists:</p>\n\n<pre><code>sealed class IntList\ndata class Cons(val head: Int, val tail: IntList): IntList()\ndata class Nil() : IntList()\n</code></pre>\n\n<p>However, the last declaration results in an error</p>\n\n<blockquote>\n  <p>Data class must have at least one primary constructor parameter</p>\n</blockquote>\n\n<ol>\n<li>Why is this limitation present? Looking at the documentation, there seems to be no good technical reasons for requiring data class constructors to be non-nullary.</li>\n<li><p>Is it possible to express nullary constructors without having to write lots of boilerplate code? If I change the last declaration to something like</p>\n\n<pre><code>sealed class Nil() : IntList()\n</code></pre>\n\n<p>then I lose the free implementations of <code>hashCode()</code> and <code>equals()</code> that come for free with <code>data class</code> declarations.</p></li>\n</ol>\n\n<p><strong>EDIT</strong></p>\n\n<p>Alex Filatov gave a nice short solution below. Obviously, you never need more than one instance of <code>Nil</code>, so we can just define a singleton object</p>\n\n<pre><code>object Nil : IntList()\n</code></pre>\n\n<p>However, what would we do if our lists were parameterized by a type parameter? That is, now the first two lines of our definition would be</p>\n\n<pre><code>sealed class List&lt;A&gt;\ndata class Cons&lt;A&gt;(val head: A, val tail: List&lt;A&gt;): List&lt;A&gt;()\n</code></pre>\n\n<p>We cannot declare a polymorphic singleton <code>Nil</code> object which derives from <code>List&lt;A&gt;</code> for any <code>A</code>, since we have to provide a concrete type for <code>A</code> at the time of declaration. The solution (taken from <a href=\"http://developers-club.com/posts/268463/\" rel=\"noreferrer\">this post</a>) is to declare <code>A</code> as a covariant type parameter and declare <code>Nil</code> as a subtype of <code>List&lt;Nothing&gt;</code> as follows:</p>\n\n<pre><code>sealed class List&lt;out A&gt;\ndata class Cons&lt;A&gt;(val head: A, val tail: List&lt;A&gt;): List&lt;A&gt;()\nobject Nil : List&lt;Nothing&gt;()\n</code></pre>\n\n<p>This allows us to write</p>\n\n<pre><code>val xs: List&lt;Int&gt; = Cons(1, Cons(2, Nil))\nval ys: List&lt;Char&gt; = Cons('a', Cons('b', Nil))\n</code></pre>\n"}, {"tags": ["interface", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 1797761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6064d944a961d947dc6e7318fe07981?s=128&d=identicon&r=PG", "display_name": "csmith", "link": "https://stackoverflow.com/users/1797761/csmith"}, "edited": false, "score": 0, "creation_date": 1515456427, "post_id": 46153580, "comment_id": 83299100, "body": "It would be nice to be able to flag the override as intentional as you can do in c# or VB.  This is the first thing I&#39;ve hit in Kotlin and it seems a half-baked language so far..."}], "tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1505126038, "creation_date": 1505126038, "answer_id": 46153580, "question_id": 46152134, "link": "https://stackoverflow.com/questions/46152134/not-an-accidental-override-in-kotlin/46153580#46153580", "title": "not an accidental override in Kotlin", "body": "<p>You cannot tell Kotlin compiler to accept the risk of such \"accidental override\" because there would be conflicting constructs on the bytecode level. Neither you cannot use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-name/\" rel=\"nofollow noreferrer\">@JvmName</a> to modify the name of field generated in bytecode because it does not work with delegates, and lazy is a delegate.</p>\n"}], "owner": {"reputation": 897, "user_id": 1221594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fd482f97cb9e1b311dbec261f8e6362f?s=128&d=identicon&r=PG", "display_name": "Andrew Matuk", "link": "https://stackoverflow.com/users/1221594/andrew-matuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1505126038, "creation_date": 1505121467, "question_id": 46152134, "link": "https://stackoverflow.com/questions/46152134/not-an-accidental-override-in-kotlin", "title": "not an accidental override in Kotlin", "body": "<p>I have java interface </p>\n\n<pre><code>public interface LifecycleRegistryOwner extends LifecycleOwner {\n@Override\nLifecycleRegistry getLifecycle();\n}\n</code></pre>\n\n<p>and Kotlin class that implements this interface, it would be super nice to have just</p>\n\n<pre><code>val lifecycle by lazy {\n    val result = LifecycleRegistry(this)\n    result\n}\n</code></pre>\n\n<p>but compiler says it's an accidental override. is there way to tell it was made by intention?</p>\n\n<p>my current implementation</p>\n\n<pre><code>class PartnerSettingsActivity :AppCompatActivity(),LifecycleRegistryOwner {\n    private val registry = LifecycleRegistry(this) //&lt;&lt; hate this class-wide val\n    override fun getLifecycle(): LifecycleRegistry = registry\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlin-dokka"], "owner": {"reputation": 31, "user_id": 5677636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ece6adced8e50a30688ee0275e3258f?s=128&d=identicon&r=PG&f=1", "display_name": "aleks.stan", "link": "https://stackoverflow.com/users/5677636/aleks-stan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1505121065, "creation_date": 1505121065, "question_id": 46152001, "link": "https://stackoverflow.com/questions/46152001/dokka-javadoc-jar-doesnt-work-with-intellij-ide", "title": "Dokka javadoc jar doesn&#39;t work with Intellij IDE", "body": "<p>I have following configuration in build.gradle file:</p>\n\n<pre><code>buildscript {\n    ext.dokka_version='0.9.15'\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.dokka:dokka-gradle-plugin:$dokka_version\"\n    }\n}\n\napply plugin: 'org.jetbrains.dokka'\n\ntask dokkaJavadoc(type: org.jetbrains.dokka.gradle.DokkaTask) {\n    outputFormat = 'javadoc'\n    outputDirectory = \"$buildDir/dokkaJavadoc\"\n}\n\ntask packageJavadoc(type: Jar, dependsOn: 'dokkaJavadoc') {\n    from \"$buildDir/dokkaJavadoc\"\n    classifier = 'javadoc'\n}\n\nartifacts {\n    archives packageJavadoc\n}\n</code></pre>\n\n<p>This generates properly looking javadoc jar (\"${moduleName}-javadoc.jar\"). However when imported with Intellij Idea, while it is detected as javdoc jar, IDE support doesn't work. Is it format incompatibility with dokka-javadoc or gradle misconfiguration?</p>\n"}, {"tags": ["android", "kotlin", "android-adapter"], "comments": [{"owner": {"reputation": 1455, "user_id": 4312262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ovlGx.jpg?s=128&g=1", "display_name": "VinayagaSundar", "link": "https://stackoverflow.com/users/4312262/vinayagasundar"}, "edited": false, "score": 0, "creation_date": 1505120137, "post_id": 46151681, "comment_id": 79265019, "body": "it&#39;s very similar to android only.."}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 3, "creation_date": 1505120168, "post_id": 46151681, "comment_id": 79265048, "body": "Write the code in java and convert it into Kotlin using the tools provided by the Android Studio"}, {"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "edited": false, "score": 0, "creation_date": 1505120183, "post_id": 46151681, "comment_id": 79265064, "body": "Can  you help me with code."}, {"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "reply_to_user": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 0, "creation_date": 1505120233, "post_id": 46151681, "comment_id": 79265093, "body": "ok @SamuelRobert"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1505121748, "post_id": 46151681, "comment_id": 79266109, "body": "What problem have you encountered when you try to write it in Kotlin?"}], "answers": [{"comments": [{"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "edited": false, "score": 0, "creation_date": 1505806063, "post_id": 46151901, "comment_id": 79551246, "body": "Thanks @Sk -Sandip Kalola"}, {"owner": {"reputation": 897, "user_id": 1221594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fd482f97cb9e1b311dbec261f8e6362f?s=128&d=identicon&r=PG", "display_name": "Andrew Matuk", "link": "https://stackoverflow.com/users/1221594/andrew-matuk"}, "edited": false, "score": 0, "creation_date": 1610135071, "post_id": 46151901, "comment_id": 116046312, "body": "need to implement ThemedSpinnerAdapter also"}], "tags": [], "owner": {"reputation": 443, "user_id": 3265288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c3c52666d7d17177b4a3cda0ad3b80?s=128&d=identicon&r=PG&f=1", "display_name": "Sandip Kalola - SK", "link": "https://stackoverflow.com/users/3265288/sandip-kalola-sk"}, "is_accepted": false, "score": 18, "last_activity_date": 1505120737, "creation_date": 1505120737, "answer_id": 46151901, "question_id": 46151681, "link": "https://stackoverflow.com/questions/46151681/how-can-we-implement-base-adapter-with-kotlin-in-android/46151901#46151901", "title": "How can we implement base adapter with kotlin in android?", "body": "<p>check this code</p>\n\n<pre><code>public class ListViewActivity() : AppCompatActivity() {\n\noverride fun onCreate(savedState: Bundle?) {\n    super.onCreate(savedState)\n    setContentView(R.layout.activity_list_view)\n\n    val lv = findViewById(R.id.list) as ListView\n    lv.adapter = ListExampleAdapter(this)\n}\n\nprivate class ListExampleAdapter(context: Context) : BaseAdapter() {\n    internal var sList = arrayOf(\"Sunday\", \"Monday\")\n    private val mInflator: LayoutInflater\n\n    init {\n        this.mInflator = LayoutInflater.from(context)\n    }\n\n    override fun getCount(): Int {\n        return sList.size\n    }\n\n    override fun getItem(position: Int): Any {\n        return sList[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View? {\n        val view: View?\n        val vh: ListRowHolder\n        if (convertView == null) {\n            view = this.mInflator.inflate(R.layout.list_row, parent, false)\n            vh = ListRowHolder(view)\n            view.tag = vh\n        } else {\n            view = convertView\n            vh = view.tag as ListRowHolder\n        }\n\n        vh.label.text = sList[position]\n        return view\n    }\n}\n\nprivate class ListRowHolder(row: View?) {\n    public val label: TextView\n\n    init {\n        this.label = row?.findViewById(R.id.label) as TextView\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8048, "favorite_count": 0, "closed_date": 1505170048, "answer_count": 1, "score": 1, "last_activity_date": 1505133584, "creation_date": 1505119989, "last_edit_date": 1505133584, "question_id": 46151681, "link": "https://stackoverflow.com/questions/46151681/how-can-we-implement-base-adapter-with-kotlin-in-android", "closed_reason": "Not suitable for this site", "title": "How can we implement base adapter with kotlin in android?", "body": "<p><strong>I'm new in kotlin programming language,how to implement a list view in kotlin using base adapter in android.</strong> any one can help me.</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1505107412, "post_id": 46148305, "comment_id": 79258806, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28294509/accessing-kotlin-extension-functions-from-java\">Accessing Kotlin extension functions from Java</a>"}, {"owner": {"reputation": 4192, "user_id": 1737321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UuwGl.png?s=128&g=1", "display_name": "agonist_", "link": "https://stackoverflow.com/users/1737321/agonist"}, "reply_to_user": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1505107509, "post_id": 46148305, "comment_id": 79258840, "body": "@VinceEmigh it&#39;s not, it&#39;s a different use case."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1505107662, "post_id": 46148305, "comment_id": 79258888, "body": "Extension functions are compiled into static methods, as mentioned in the linked duplicate. That&#39;s the answer. If you&#39;re looking for a work-around, please specify it. As the post currently is, both the question and answer match the duplicate (regardless of specifics, similar to NPE questions). It&#39;s a waste to answer questions which only vary slightly, without any real difference, as it doesn&#39;t add value, only inflates the same Q&amp;A&#39;s"}], "answers": [{"comments": [{"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1505107388, "post_id": 46148573, "comment_id": 79258797, "body": "If you&#39;re aware this question has been asked &amp; answered, please flag the question as duplicate."}, {"owner": {"reputation": 789, "user_id": 7641174, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mT1i-1QabTQ/AAAAAAAAAAI/AAAAAAAAAcU/tMWPD90e4Uw/photo.jpg?sz=128", "display_name": "Mustansir Zia", "link": "https://stackoverflow.com/users/7641174/mustansir-zia"}, "reply_to_user": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 1, "creation_date": 1505107807, "post_id": 46148573, "comment_id": 79258938, "body": "I believe he was already aware of the solution provided in the question and what he wanted was something else, to be able to use the method in the Rx flow after he instantiates the <code>observable</code>. To call his custom methods on the instance. That is why I answered the way I did."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 1, "creation_date": 1505108219, "post_id": 46148573, "comment_id": 79259065, "body": "From his post: &quot;<i>And that is the part I&#39;m stuck with. Does this is even possible?</i>&quot; From the duplicate: &quot;<i>What am I doing wrong? Is this even possible?</i>&quot; - How is it not the same? <b>We don&#39;t want 3 million copies of the same questions</b>. Mark as duplicate, answer the duplicate if you feel their answers aren&#39;t suffice. It&#39;s how the site works."}], "tags": [], "owner": {"reputation": 789, "user_id": 7641174, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mT1i-1QabTQ/AAAAAAAAAAI/AAAAAAAAAcU/tMWPD90e4Uw/photo.jpg?sz=128", "display_name": "Mustansir Zia", "link": "https://stackoverflow.com/users/7641174/mustansir-zia"}, "is_accepted": true, "score": 0, "last_activity_date": 1505107278, "last_edit_date": 1505107278, "creation_date": 1505106798, "answer_id": 46148573, "question_id": 46148305, "link": "https://stackoverflow.com/questions/46148305/call-extension-function-inside-java-class-as-any-rx-operator/46148573#46148573", "title": "Call extension function inside java class as any RX operator", "body": "<p>Simple answer. <code>No</code>.</p>\n\n<p>Explanation - I believe that's not possible since that would mean you're extending the <code>Observable</code>class which is abstract. Kotlin extensions add the same functionality by moving out of the inheritance tree and in Java in you're pretty much stuck with inheritance.</p>\n\n<p>So the only option left would be to extend the base <code>Observable</code> class and create your own implementation of the same which I think would be unwanted in your case.\nA simple solution would be to create a new method just for Java which can take an observable and do the required logic. Or create a custom class with the <code>Observable</code> instance as its instance member and then write the required methods inside it (The standard OOPS way). This code could then be used from Kotlin as well as Java.</p>\n\n<p><strong>EDIT:</strong> I believe you already know this but will still point you to this <a href=\"https://stackoverflow.com/questions/28294509/accessing-kotlin-extension-functions-from-java?rq=1\">question</a>.       </p>\n"}, {"tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1505122367, "creation_date": 1505122367, "answer_id": 46152424, "question_id": 46148305, "link": "https://stackoverflow.com/questions/46148305/call-extension-function-inside-java-class-as-any-rx-operator/46152424#46152424", "title": "Call extension function inside java class as any RX operator", "body": "<p>Extension functions one of the advantages of kotlin over Java.  Coding in kotlin gives you those advantages, but unfortunately that does not mean you can have the kotlin language features in Java code.</p>\n\n<p>Solution: port the module where you wish to use extension functions across to kotlin.</p>\n"}], "owner": {"reputation": 4192, "user_id": 1737321, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UuwGl.png?s=128&g=1", "display_name": "agonist_", "link": "https://stackoverflow.com/users/1737321/agonist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 46148573, "answer_count": 2, "score": 1, "last_activity_date": 1505122367, "creation_date": 1505104912, "last_edit_date": 1505107844, "question_id": 46148305, "link": "https://stackoverflow.com/questions/46148305/call-extension-function-inside-java-class-as-any-rx-operator", "title": "Call extension function inside java class as any RX operator", "body": "<p>I created an extension function,</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribeWithErrorHandling(onNext: (T) -&gt; Unit ,onError: ((throwable: Throwable) -&gt; Unit)? = null): Subscription {\n//doing stuff\n}\n</code></pre>\n\n<p>in kotlin class, I will be able to use it no problem in that way </p>\n\n<p><code>observable.subscribeWithErrorHandling(...)</code></p>\n\n<p>Now, I want to use this function in my java class as well.\nI already see that you can call it statically like :</p>\n\n<p><code>MyExtensionFile.subscribeWithErrorHandling</code></p>\n\n<p>But in my case, you need something else since it's a middle of an RX flow. And that is the part I'm stuck with. Does this is even possible? or no way to do something like that from the java code?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1505070908, "post_id": 46144573, "comment_id": 79250926, "body": "Why don&#39;t you first filter all map entries to leave only those matching your condition and then invoke your function for all remaining entries?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1505071126, "post_id": 46144573, "comment_id": 79250991, "body": "Why don&#39;t you just do <code>map[x]()</code>?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1505071439, "post_id": 46144573, "comment_id": 79251091, "body": "What exactly is your question? What&#39;s the difficulty you&#39;re facing? Your code is full of syntax errors. Is that the problem?"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1505074788, "post_id": 46144573, "comment_id": 79252196, "body": "@Mibac He need to filter them out first. At least I understood it that way ;)"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1505074949, "post_id": 46144573, "comment_id": 79252240, "body": "@RafalG. As far as I understand he needed to filter them to run only the function he wanted but that doesn&#39;t really make sense (e.g. <code>x = 1</code> then filter out all the functions that don&#39;t return true for the condition <code>{ key, value -&gt; key == 1}</code>"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1505099037, "post_id": 46144573, "comment_id": 79256884, "body": "@Mibac you are correct, I want to run only the function I wanted, did not understand <code>map[x]()</code> what it is doing can you provide more code lines?"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1505099127, "post_id": 46144573, "comment_id": 79256903, "body": "@JBNizet you are correct, my code if full of errors and that is the problem, not sure what the correct code block shall I use to run only the function I wanted based on the input."}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1505154647, "post_id": 46149103, "comment_id": 79286452, "body": "Thanks @Joshua, your solution invoked all the functions in the map, while I need to invoke ONLY the one matched with the input param, so I accepted the other answer."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1505109737, "creation_date": 1505109737, "answer_id": 46149103, "question_id": 46144573, "link": "https://stackoverflow.com/questions/46144573/invoking-action-by-reference-in-kotlin/46149103#46149103", "title": "Invoking Action by reference in Kotlin", "body": "<pre><code>fun fn1() {\n    println(\"Hi there!\")\n}\n\nfun fn2() {\n    println(\"Hi again!\")\n}    \n\nfun main(args: Array&lt;Int&gt;){\n    val map = hashMapOf(1 to ::fn1, 2 to ::fn2)\n    map.forEach { key, function -&gt; function.invoke()  }\n}\n</code></pre>\n\n<p>This will do the work but your code does not even have the correct syntax. You should learn the basic first.</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "is_accepted": true, "score": 1, "last_activity_date": 1505244794, "last_edit_date": 1505244794, "creation_date": 1505110829, "answer_id": 46149343, "question_id": 46144573, "link": "https://stackoverflow.com/questions/46144573/invoking-action-by-reference-in-kotlin/46149343#46149343", "title": "Invoking Action by reference in Kotlin", "body": "<p>Hi I hope this would help you.</p>\n\n<pre><code>fun fn1() {\n    println(\"Hi there!\")\n}\n\nfun fn2() {\n    println(\"Hi again!\")\n}\n\nfun main(args: IntArray){\n    val map = hashMapOf(\n            1 to ::fn1,\n            2 to ::fn2)\n    map.filterKeys { it == args[0] }     // filters the map by comparing the first int arg passed and the key\n            .map { it.value.invoke() }   // invoke the function that passed the filter.\n}\n</code></pre>\n\n<p>If the <code>key</code>is <code>RegEx</code> then <code>map.filterKeys { Regex(it).matches(x) }</code> can be used, below full example of it <a href=\"https://try.kotlinlang.org/#/UserProjects/j8i7gd888h8j1p1ippc9tmg7qj/358tljk4jvcni0nj9gsdv12k1j\" rel=\"nofollow noreferrer\">Try Kotlin</a>:</p>\n\n<pre><code>data class Person(val name: String,\n                  val age: Int? = null)\n\nval persons = listOf(Person(\"Alice\"),\n                     Person(\"Bob\", age = 23))\n\nfun old() {\n    val oldest = persons.maxBy { it.age ?: 0 }\n    println(\"The oldest is: $oldest\")\n}\n\nfun young() {\n    val youngest = persons.minBy { it.age ?: 0 }\n    println(\"The youngest is: $youngest\")\n}\n\nfun selection(x: String) { \n\n   val map = mapOf(\n            \"old|big\" to ::old,\n            \"new|young\" to ::young)\n    map.filterKeys { Regex(it).matches(x) } \n            .map { it.value.invoke() }   \n}\n\nfun main(args: Array&lt;String&gt;) {   \n\n    selection(\"new\")\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "accepted_answer_id": 46149343, "answer_count": 2, "score": 0, "last_activity_date": 1505244794, "creation_date": 1505070724, "question_id": 46144573, "link": "https://stackoverflow.com/questions/46144573/invoking-action-by-reference-in-kotlin", "title": "Invoking Action by reference in Kotlin", "body": "<p>I've a Map of (key, value) where the value is a predefined function.\nI want to iterate the input param in the Mp and check where the key is matching with the input parameter, then invoke the equivalent function, something like <a href=\"https://stackoverflow.com/questions/40446860/invoke-action-by-reference\">this</a></p>\n\n<p>My code required to be something like below:</p>\n\n<pre><code>fun fn1: Unit {           // using Unit is optional\n    println(\"Hi there!\")\n}\n\nfun fn2 {        \n    println(\"Hi again!\")\n}\n\nfun MainFun(x: int){\nval map: HashMap&lt;Int, String&gt; = hashMapOf(1 to fn1, 2 to fn2)\n\nfor ((key, value) in map) {\n     // if key = x then run/invoke the function mapped with x, for example if x = 1 then invoke fn1\n}\n\n}\n</code></pre>\n\n<p>Notes: I read something like below, but could not know how to us them:</p>\n\n<pre><code>inline fun &lt;K, V&gt; Map&lt;out K, V&gt;.filter(\n    predicate: (Entry&lt;K, V&gt;) -&gt; Boolean\n): Map&lt;K, V&gt; (source)\n\nval russianNames = arrayOf(\"Maksim\", \"Artem\", \"Sophia\", \"Maria\", \"Maksim\")\nval selectedName = russianNames\n      .filter { it.startsWith(\"m\", ignoreCase = true) }\n      .sortedBy { it.length }\n      .firstOrNull()\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "materialdrawer"], "comments": [{"owner": {"reputation": 11863, "user_id": 325479, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/534dd479fbd973dc823627458ef047b0?s=128&d=identicon&r=PG", "display_name": "mikepenz", "link": "https://stackoverflow.com/users/325479/mikepenz"}, "edited": false, "score": 0, "creation_date": 1505284089, "post_id": 46143560, "comment_id": 79342663, "body": "As already mentioned on your GitHub issue too: <a href=\"https://github.com/mikepenz/Crossfader/issues/13#issuecomment-328395601\" rel=\"nofollow noreferrer\">github.com/mikepenz/Crossfader/issues/13#issuecomment-328395&zwnj;&#8203;601</a>"}, {"owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "reply_to_user": {"reputation": 11863, "user_id": 325479, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/534dd479fbd973dc823627458ef047b0?s=128&d=identicon&r=PG", "display_name": "mikepenz", "link": "https://stackoverflow.com/users/325479/mikepenz"}, "edited": false, "score": 0, "creation_date": 1505303959, "post_id": 46143560, "comment_id": 79356237, "body": "Yes, I understand that. I just didn&#39;t want to go through the hassle and was wondering if there was some easy way."}], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "is_accepted": true, "score": 0, "last_activity_date": 1559014017, "creation_date": 1559014017, "answer_id": 56334599, "question_id": 46143560, "link": "https://stackoverflow.com/questions/46143560/is-there-any-way-to-make-a-drawer-with-three-states/56334599#56334599", "title": "Is there any way to make a drawer with three-states?", "body": "<p>The project does not support this. A custom layout must be implemented.</p>\n"}], "owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56334599, "answer_count": 1, "score": 0, "last_activity_date": 1559014017, "creation_date": 1505064520, "question_id": 46143560, "link": "https://stackoverflow.com/questions/46143560/is-there-any-way-to-make-a-drawer-with-three-states", "title": "Is there any way to make a drawer with three-states?", "body": "<p>I would like to make a drawer with three different states. The drawer opened state, a closed state and a third semi-open mini drawer state like:\n<a href=\"https://i.stack.imgur.com/yy0J1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yy0J1.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have been able to implement mini drawer and open using the material drawer library but have been unable to close it.</p>\n\n<p>Any suggestions on how to do this? (Either Kotlin or Java is fine)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "edited": false, "score": 0, "creation_date": 1505030613, "post_id": 46138413, "comment_id": 79238974, "body": "Also can you clarify if you have a list or an array?"}, {"owner": {"reputation": 81, "user_id": 8586710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d8818c8a8e8b2787d31c9c07d0c0824?s=128&d=identicon&r=PG&f=1", "display_name": "Edo Ambi", "link": "https://stackoverflow.com/users/8586710/edo-ambi"}, "reply_to_user": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "edited": false, "score": 1, "creation_date": 1505030706, "post_id": 46138413, "comment_id": 79238994, "body": "I have a array of string"}], "answers": [{"tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": true, "score": 8, "last_activity_date": 1555123583, "last_edit_date": 1555123583, "creation_date": 1505029503, "answer_id": 46138435, "question_id": 46138413, "link": "https://stackoverflow.com/questions/46138413/find-last-occurrence-of-a-string-in-array-using-kotlin/46138435#46138435", "title": "Find last occurrence of a String in array using Kotlin", "body": "<p>For your question of finding the <strong>first</strong> and <strong>last</strong> occurrences in an Array there is no need to use a for-loop at all in Kotlin, you can simply use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index-of.html\" rel=\"nofollow noreferrer\"><strong>indexOf</strong></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last-index-of.html\" rel=\"nofollow noreferrer\"><strong>lastIndexOf</strong></a></p>\n\n<p>As for throwing an error you can throw an <a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"nofollow noreferrer\"><strong>Exception</strong></a> if <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index-of.html\" rel=\"nofollow noreferrer\"><strong>indexOf</strong></a> returns <code>-1</code>, observe:</p>\n\n<pre><code>import java.util.Arrays\n\nfun main(args: Array&lt;String&gt;) {\n  // Declaring array\n  val wordArray = arrayOf(\"cat\", \"dog\", \"lion\", \"tiger\", \"dog\", \"rabbit\")\n\n  // Declaring search word\n  var searchWord = \"dog\"\n\n  // Finding position of first occurence\n  var firstOccurence  = wordArray.indexOf(searchWord)\n\n  // Finding position of last occurence\n  var lastOccurence = wordArray.lastIndexOf(searchWord)\n\n  println(Arrays.toString(wordArray))\n\n  println(\"\\\"$searchWord\\\" first occurs at index $firstOccurence of the array\")\n\n  println(\"\\\"$searchWord\\\" last occurs at index $lastOccurence of the array\")\n\n  // Testing something that does not occur in the array\n  searchWord = \"bear\"\n  var index = wordArray.indexOf(searchWord)\n  if (index == -1) throw Exception(\"Error: \\\"$searchWord\\\" does not occur in the array\")\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[cat, dog, lion, tiger, dog, rabbit]\n\"dog\" first occurs at index 1 of the array\n\"dog\" last occurs at index 4 of the array\njava.lang.Exception: Error: \"bear\" does not occur in the array\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1505039171, "post_id": 46138893, "comment_id": 79241097, "body": "Hello, please do not post duplicate (the accepted answer came first) or incomplete answers (your answer does not explain <code>How can I throw an error when I search for something that is not in the array?</code>). Always strive for high quality, take example from the accepted answer. Good luck!"}], "tags": [], "owner": {"reputation": 1358, "user_id": 7950986, "user_type": "registered", "profile_image": "https://graph.facebook.com/1332546703506392/picture?type=large", "display_name": "Maraj Hussain", "link": "https://stackoverflow.com/users/7950986/maraj-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1505033368, "creation_date": 1505033368, "answer_id": 46138893, "question_id": 46138413, "link": "https://stackoverflow.com/questions/46138413/find-last-occurrence-of-a-string-in-array-using-kotlin/46138893#46138893", "title": "Find last occurrence of a String in array using Kotlin", "body": "<p>You can use method <b>lastIndexOf</b> for getting the last occurrence of a value &amp; <b>indexOf</b> for getting the first occurrence of a value from array.below is the code.</p>\n\n<pre><code> fun main(args: Array&lt;String&gt;) {\n     // Declaring array\n     val arr = arrayOf(\"cat\", \"dog\", \"lion\", \"tiger\", \"dog\", \"rabbit\")\n     // for getting the last position of item\n     println(arr.lastIndexOf(\"dog\"))\n    // for getting the first index of item\n     println(arr.indexOf(\"dog\"))\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 1, "last_activity_date": 1505135572, "last_edit_date": 1505135572, "creation_date": 1505121776, "answer_id": 46152224, "question_id": 46138413, "link": "https://stackoverflow.com/questions/46138413/find-last-occurrence-of-a-string-in-array-using-kotlin/46152224#46152224", "title": "Find last occurrence of a String in array using Kotlin", "body": "<p>@shash678 has given what a most useful answer, but more could be useful depending on more about the nature of your question.</p>\n\n<p>Specifically: Are you seeking an answer to the exact problem stated, or looking to learn kotlin?  </p>\n\n<blockquote>\n  <p>I have this array: [\"cat\", \"dog\", \"lion\", \"tiger\",  \"dog\",  \"rabbit\"]</p>\n</blockquote>\n\n<p>But do you specifically need an <code>Array</code>?  In kotlin, this case would normally be coded as a <code>List</code>, so </p>\n\n<pre><code>  val wordList = listOf(\"cat\", \"dog\", \"lion\", \"tiger\", \"dog\", \"rabbit\")\n</code></pre>\n\n<p>The list is 'immutable' and generally <code>List</code> (or when needed <code>MutableList</code>) are used in Kotlin unless there are other reasons such as compatibility with existing code or in the case of <code>MutableList</code>, specific performance requirements.</p>\n\n<p>Further, if your question is more \"How do I solve this problem using a for loop with indexes?\", then code like this:</p>\n\n<pre><code>val wordList = listOf(\"cat\", \"dog\", \"lion\", \"tiger\", \"dog\", \"rabbit\")\nfun List&lt;String&gt;.findWord( target:String):Pair&lt;Int,Int&gt;?{\n    var (first,last) = Pair(-1,-1)\n    for(idx in this.indices){\n        if(this[idx]==target){\n            last = idx\n            if(first ==-1) first = idx\n        }\n    }\n    return if(first&gt;-1) Pair(first,last) else null\n}\nprintln(\"result ${wordList.findWord(\"dog\")!!}\")\n</code></pre>\n\n<p>Not at all the best way to solve the specific problem, but may be of use for anyone wondering \"How to access index values within a for loop\", rather than solve this specific problem. So this is an example of kotlin coding rather than a recommended solution to this problem.</p>\n\n<p>The last part of the question was \"How I throw an error when I search for something that is not in the array?\".</p>\n\n<p>The kotlin 'idiom' is to return null on failure and use the null safety to handle the error. This code simply raises an exception if null is returned. That is not very information, but using <code>?: throw MyException(\"Oops\")</code> in place of <code>!!</code> would allow a custom exception if a <code>MyException</code> class inheriting from <code>Execption</code> is declared.</p>\n"}], "owner": {"reputation": 81, "user_id": 8586710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d8818c8a8e8b2787d31c9c07d0c0824?s=128&d=identicon&r=PG&f=1", "display_name": "Edo Ambi", "link": "https://stackoverflow.com/users/8586710/edo-ambi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3854, "favorite_count": 0, "accepted_answer_id": 46138435, "answer_count": 3, "score": 6, "last_activity_date": 1555123583, "creation_date": 1505029354, "last_edit_date": 1505032193, "question_id": 46138413, "link": "https://stackoverflow.com/questions/46138413/find-last-occurrence-of-a-string-in-array-using-kotlin", "title": "Find last occurrence of a String in array using Kotlin", "body": "<p>I have this array: <code>[\"cat\", \"dog\", \"lion\", \"tiger\",  \"dog\",  \"rabbit\"]</code></p>\n\n<ul>\n<li><p>How can I find the <strong>position</strong> of the <strong>first</strong> \"dog\"?</p></li>\n<li><p>How can I find the <strong>position</strong> of <strong>last</strong> \"dog\"?</p></li>\n<li><p>How can I throw an <strong>error</strong> when I search for something that is not in the array?</p></li>\n</ul>\n\n<p>Currently I have a <code>for</code> loop but I am having difficulty with making it print the position.</p>\n"}, {"tags": ["java", "android", "mysql", "sockets", "kotlin"], "comments": [{"owner": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1505027372, "post_id": 46138146, "comment_id": 79238267, "body": "Why not establish a two way pipe on initial connection?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1505027495, "post_id": 46138146, "comment_id": 79238290, "body": "@Boris I guess I don&#39;t really know much about that. But I will look into it."}, {"owner": {"reputation": 54008, "user_id": 2071828, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/R8AYO.jpg?s=128&g=1", "display_name": "Boris the Spider", "link": "https://stackoverflow.com/users/2071828/boris-the-spider"}, "edited": false, "score": 0, "creation_date": 1505027606, "post_id": 46138146, "comment_id": 79238318, "body": "A websocket would be easiest - stick STOMP on it and you have two way event driven comms. Of course you could build something more exotic, but I&#39;m not sure it&#39;s worth it."}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1505026936, "creation_date": 1505026936, "question_id": 46138146, "link": "https://stackoverflow.com/questions/46138146/server-socket-listening-on-client-vs-polling-service-for-android-instant-messeng", "title": "server socket listening on client vs polling service for android instant messenger app", "body": "<p>i am currently writing an instant messenger application for android as well as the server app that i am running off of my laptop. the server app connects to an sql database (on the same machine) and verifies login info, creates new accounts, inserts other conversation info into the db. so far all of this is working however i need to decide on a strategy for how i am going to pass the sent messages from the server to the desired recipient.</p>\n\n<p>what i have so far:</p>\n\n<ol>\n<li><p>the client connects to the server and sends the message info including sender, recipient and message</p></li>\n<li><p>the server stores the info in the db and sends a response indicating success or failure to the sender client</p></li>\n<li><p>the sender client updates its views to reflect any changes in db or to indicate failure</p></li>\n</ol>\n\n<p>now i have two different ideas for how to approach the delivery of the messages to the recipient</p>\n\n<p>A. create a service in the android app that polls the server for changes in the db</p>\n\n<p>B. create a server socket in the android app that listens for connection requests from the server and have the server attempt to send every new update to the client</p>\n\n<p>please let me know of some of the pros and cons of these approaches or if their is maybe something better that i have not mentioned. also, i am mainly using java for this, but with some kotlin code, if that makes any difference. i am a self taught programmer that is doing this for practice and it is really growing to be a massive project in comparison to anything that i have done before. i would greatly appreciate any help that is given. thank you.</p>\n"}, {"tags": ["gradle", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "edited": false, "score": 2, "creation_date": 1505005706, "post_id": 46136136, "comment_id": 79235193, "body": "Are you importing the <code>kotlinx.coroutines.experimental.*</code> package?"}, {"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "reply_to_user": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "edited": false, "score": 0, "creation_date": 1505008028, "post_id": 46136136, "comment_id": 79235481, "body": "Doh! Of course you are right, I forgot to import the package! Thank you @nicholas.hauschild"}], "answers": [{"comments": [{"owner": {"reputation": 2191, "user_id": 135530, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5e0f1916b37bae33f2e5fc954d6045bc?s=128&d=identicon&r=PG", "display_name": "Lance", "link": "https://stackoverflow.com/users/135530/lance"}, "edited": false, "score": 8, "creation_date": 1543255812, "post_id": 46137147, "comment_id": 93843144, "body": "what should I add to gradle to be able to import kotlinx.coroutines.experimental.*?"}, {"owner": {"reputation": 477, "user_id": 2657814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fd03aec98bfcc64aeaea336be71b2d5?s=128&d=identicon&r=PG", "display_name": "Abdelhafid", "link": "https://stackoverflow.com/users/2657814/abdelhafid"}, "edited": false, "score": 1, "creation_date": 1610184012, "post_id": 46137147, "comment_id": 116055835, "body": "it&#39;s an old answer. with new kotlin version, you should use GlobalScope.launch instead of launch"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1517431474, "last_edit_date": 1517431474, "creation_date": 1505015695, "answer_id": 46137147, "question_id": 46136136, "link": "https://stackoverflow.com/questions/46136136/unresolved-reference-launch/46137147#46137147", "title": "Unresolved reference: launch", "body": "<p>Like already answered in the comments, the import is missing for the <code>kotlinx.coroutines.experimental.*</code> package. You can have a look at my examples at <a href=\"https://github.com/s1monw1/Kotlin_Examples/tree/master/src/main/kotlin/de/swirtz/kotlin/coroutines\" rel=\"nofollow noreferrer\">GitHub</a> if you like.</p>\n\n<pre><code>import kotlinx.coroutines.experimental.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    launch(CommonPool) {\n        delay(1000)\n        LOG.debug(\"Hello from coroutine\")\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1289, "user_id": 1531141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eb1dc7246e6bbf7b4756c14bad71b799?s=128&d=identicon&r=PG&f=1", "display_name": "alexey.metelkin", "link": "https://stackoverflow.com/users/1531141/alexey-metelkin"}, "edited": false, "score": 5, "creation_date": 1545836769, "post_id": 53736247, "comment_id": 94707671, "body": "Hey, I&#39;m still getting &quot;Unresolved reference: launch&quot;, even though I imported the function. How is that even possible?"}, {"owner": {"reputation": 1764, "user_id": 4548520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a177d9d1652832f694552623905abbb?s=128&d=identicon&r=PG&f=1", "display_name": "user25", "link": "https://stackoverflow.com/users/4548520/user25"}, "reply_to_user": {"reputation": 1289, "user_id": 1531141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eb1dc7246e6bbf7b4756c14bad71b799?s=128&d=identicon&r=PG&f=1", "display_name": "alexey.metelkin", "link": "https://stackoverflow.com/users/1531141/alexey-metelkin"}, "edited": false, "score": 13, "creation_date": 1546347844, "post_id": 53736247, "comment_id": 94828651, "body": "@alexey.hippie mb now they use different approach, there is no <code>launch</code> keyword anymore and you always need some <code>scope</code>, then you can use <code>scope.launch { ... }</code>: <a href=\"https://github.com/googlecodelabs/kotlin-coroutines/blob/19f36f6cdc6b90322b7eea00885e86f9c02bcaea/kotlin-coroutines-end/app/src/main/java/com/example/android/kotlincoroutines/main/MainViewModel.kt#L136\" rel=\"nofollow noreferrer\">github.com/googlecodelabs/kotlin-coroutines/blob/&hellip;</a>"}, {"owner": {"reputation": 1289, "user_id": 1531141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eb1dc7246e6bbf7b4756c14bad71b799?s=128&d=identicon&r=PG&f=1", "display_name": "alexey.metelkin", "link": "https://stackoverflow.com/users/1531141/alexey-metelkin"}, "reply_to_user": {"reputation": 1764, "user_id": 4548520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a177d9d1652832f694552623905abbb?s=128&d=identicon&r=PG&f=1", "display_name": "user25", "link": "https://stackoverflow.com/users/4548520/user25"}, "edited": false, "score": 6, "creation_date": 1546380993, "post_id": 53736247, "comment_id": 94835712, "body": "Thanks, @user25, that appeared to be issue. Worked with <code>GlobalScope.launch(...</code>"}, {"owner": {"reputation": 3820, "user_id": 1725145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/902d344133e1ff7290d8a572ccbecd83?s=128&d=identicon&r=PG", "display_name": "user1725145", "link": "https://stackoverflow.com/users/1725145/user1725145"}, "edited": false, "score": 8, "creation_date": 1562249288, "post_id": 53736247, "comment_id": 100326240, "body": "Unbelievably, in all the documentation and articles about coroutines, I could not find this complete information about how to import coroutines anywhere else.  Thank you."}, {"owner": {"reputation": 6305, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1576875991, "post_id": 53736247, "comment_id": 105048589, "body": "This no longer works in 2019. See Christian&#39;s answer"}], "tags": [], "owner": {"reputation": 7165, "user_id": 430673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9a5acff2a35974a8b7d3f8e63e7bf6e6?s=128&d=identicon&r=PG", "display_name": "Tash Pemhiwa", "link": "https://stackoverflow.com/users/430673/tash-pemhiwa"}, "is_accepted": false, "score": 24, "last_activity_date": 1544590070, "creation_date": 1544590070, "answer_id": 53736247, "question_id": 46136136, "link": "https://stackoverflow.com/questions/46136136/unresolved-reference-launch/53736247#53736247", "title": "Unresolved reference: launch", "body": "<p>If you are using Coroutines 1.0+, the import is no longer</p>\n\n<blockquote>\n  <p>import kotlinx.coroutines.experimental.*</p>\n</blockquote>\n\n<p>but</p>\n\n<blockquote>\n  <p>import kotlinx.coroutines.launch</p>\n</blockquote>\n\n<p>You would need the following in the dependencies closure of your build.gradle (for Coroutines 1.0.1):</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.1'\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13606, "user_id": 527702, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LrH0d.jpg?s=128&g=1", "display_name": "hippietrail", "link": "https://stackoverflow.com/users/527702/hippietrail"}, "edited": false, "score": 3, "creation_date": 1567342516, "post_id": 56579244, "comment_id": 101930059, "body": "Where does <code>GlobalScope</code> come from?"}, {"owner": {"reputation": 1283, "user_id": 3897333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d784367ca82572dea0a2c43217770b?s=128&d=identicon&r=PG", "display_name": "Paul Stelian", "link": "https://stackoverflow.com/users/3897333/paul-stelian"}, "reply_to_user": {"reputation": 13606, "user_id": 527702, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LrH0d.jpg?s=128&g=1", "display_name": "hippietrail", "link": "https://stackoverflow.com/users/527702/hippietrail"}, "edited": false, "score": 1, "creation_date": 1568372214, "post_id": 56579244, "comment_id": 102262279, "body": "@hippietrail Looks like it&#39;s imported. It&#39;s declared as <code>public object GlobalScope : CoroutineScope</code> within the kotlinx-coroutines package."}, {"owner": {"reputation": 1342, "user_id": 89561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4b9199d5fab9325f87c8cdf8c0dbee0?s=128&d=identicon&r=PG", "display_name": "Bill Yang", "link": "https://stackoverflow.com/users/89561/bill-yang"}, "edited": false, "score": 1, "creation_date": 1574150271, "post_id": 56579244, "comment_id": 104118267, "body": "launch, async are all functions of CoroutineScope class now, which can be accessed either through GlobalScope.launch, inside local scope by running things like coroutineScope { launch {} }, or create your own CoroutineScope"}], "tags": [], "owner": {"reputation": 21637, "user_id": 25282, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/9hShk.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/25282/christian"}, "is_accepted": false, "score": 51, "last_activity_date": 1560424599, "creation_date": 1560424599, "answer_id": 56579244, "question_id": 46136136, "link": "https://stackoverflow.com/questions/46136136/unresolved-reference-launch/56579244#56579244", "title": "Unresolved reference: launch", "body": "<p>Launch isn't used anymore directly. The <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html\" rel=\"noreferrer\">Kotlin documentation</a> suggests using:</p>\n\n<pre><code>fun main() { \n    GlobalScope.launch { // launch a new coroutine in background and continue\n        delay(1000L)\n        println(\"World!\")\n    }\n    println(\"Hello,\") // main thread continues here immediately\n    runBlocking {     // but this expression blocks the main thread\n        delay(2000L)  // ... while we delay for 2 seconds to keep JVM alive\n    } \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5407, "user_id": 322111, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spm02.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/322111/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1571894110, "creation_date": 1571894110, "answer_id": 58534547, "question_id": 46136136, "link": "https://stackoverflow.com/questions/46136136/unresolved-reference-launch/58534547#58534547", "title": "Unresolved reference: launch", "body": "<p>Try this way, </p>\n\n<p>//add this lines to gradle </p>\n\n<pre><code> implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$rootProject.kotlinx_coroutines\"\n implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$rootProject.kotlinx_coroutines\"\n\n\n  class xyz{\n     private val job = Job()\n        private val coroutinesScope: CoroutineScope = CoroutineScope(job + Dispatchers.IO)\n\n      ....\n     . ...\n       coroutinesScope.launch {\n                       // task to do\n                        Timber.d(\"Delete Firebase Instance ID\")\n                    }\n\n\n    // clear the job\n      job.cancel()\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19658, "favorite_count": 5, "accepted_answer_id": 46137147, "answer_count": 4, "score": 40, "last_activity_date": 1571894110, "creation_date": 1505001628, "last_edit_date": 1562227687, "question_id": 46136136, "link": "https://stackoverflow.com/questions/46136136/unresolved-reference-launch", "title": "Unresolved reference: launch", "body": "<p>Trying to run some examples for Kotlin coroutines, but can't build my project. I'm using the latest gradle release - 4.1</p>\n\n<p>Any suggestions what to check/fix?</p>\n\n<p>Here is <code>build.gradle</code></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'application'\n\nkotlin {\n    repositories {\n        jcenter()\n    }\n\n    experimental {\n        coroutines 'enable'\n    }\n\n    dependencies {\n        compile \"org.jetbrains.kotlinx:kotlinx-coroutines-core:0.18\"\n    }\n}\n</code></pre>\n\n<p>and the <code>main.kt</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    launch (CommonPool) {\n        delay(1000L)\n        println(\"World!\")\n    }\n\n    println(\"Hello, \")\n    Thread.sleep(2000L)\n}\n</code></pre>\n\n<p>when I run <code>gradle compileKotlin</code> I get the following</p>\n\n<pre><code>e: /Users/philippgrigoryev/projects/kotlin-coroutines/src/main/kotlin/main.kt: (2, 5): Unresolved reference: launch\ne: /Users/philippgrigoryev/projects/kotlin-coroutines/src/main/kotlin/main.kt: (2, 13): Unresolved reference: CommonPool\ne: /Users/philippgrigoryev/projects/kotlin-coroutines/src/main/kotlin/main.kt: (3, 9): Unresolved reference: delay`\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "onitemclicklistener"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 2, "last_activity_date": 1505004251, "creation_date": 1505004251, "answer_id": 46136327, "question_id": 46135952, "link": "https://stackoverflow.com/questions/46135952/implementing-onitemclicklitsner-in-recyclerview-kotlin-android/46136327#46136327", "title": "Implementing onItemClickLitsner in recyclerView Kotlin -android", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">lambda</a> as the click callback, e.g. as a class property of your adapter: </p>\n\n<pre><code>var onItemClick: (Int) -&gt; Unit = {}\n</code></pre>\n\n<p>then in <code>onCreateViewHolder</code>: </p>\n\n<pre><code>itemView.setOnClickListener { \n   onItemClick(viewHolder.getAdapterPosition()) \n}\n</code></pre>\n\n<p>and dont forget to set the callback from your fragment: </p>\n\n<pre><code>adapter.onClick = { position -&gt; \n   // do something here\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8577050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/208f1d389366f094028fbd93b8696251?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi silber", "link": "https://stackoverflow.com/users/8577050/mehdi-silber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 0, "accepted_answer_id": 46136327, "answer_count": 1, "score": 1, "last_activity_date": 1505004251, "creation_date": 1504999043, "question_id": 46135952, "link": "https://stackoverflow.com/questions/46135952/implementing-onitemclicklitsner-in-recyclerview-kotlin-android", "title": "Implementing onItemClickLitsner in recyclerView Kotlin -android", "body": "<p>I'm writing my first android app in Kotlin and I am trying to implement onItemClickListner in a RecyclerView using kotlin in android studio 3.0 but i cant find any thing useful yet . so i have <strong>movieListFRagment</strong> :</p>\n\n<pre><code>class MoviesListFragment : Fragment() {    \n    private var mListener: OnFragmentInteractionListener? = null\n    private var movieList = ArrayList&lt;Movies&gt;()\n    private var mAdapter: MoviesRecyclerAdapter? = null       \n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_movies_list, container, false)\n    }    \n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)    \n        mAdapter = MoviesRecyclerAdapter(movieList)\n        val mLayoutManager = LinearLayoutManager(this.activity)    \n        recyclerView!!.layoutManager = mLayoutManager\n        recyclerView!!.itemAnimator = DefaultItemAnimator()\n        recyclerView!!.adapter = mAdapter    \n        prepareMoviesData()  }\n\n    interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        fun onFragmentInteraction(uri: Uri)\n    }    \n    private fun prepareMoviesData() {\n        var movie = Movies(\"Mad Max: Fury Road\", \"Action &amp; Adventure\", \"2015\")\n        movieList.add(movie)    \n        movie = Movies(\"Inside Out\", \"Animation, Kids &amp; Family\", \"2015\")\n        movieList.add(movie)   \n        movie = Movies(\"Star Wars:The Force Awakens\", \"Action\", \"2015\")\n        movieList.add(movie)\n        mAdapter!!.notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>and the adapter MoviesRecyclerAdapter :</p>\n\n<pre><code>class MoviesRecyclerAdapter(private val moviesList: List&lt;Movies&gt; ) : RecyclerView.Adapter&lt;MoviesRecyclerAdapter.MyViewHolder&gt;() {\n\n\n     class MyViewHolder(view: View  ) : RecyclerView.ViewHolder(view) ,View.OnClickListener {\n\n        var title: TextView = view.findViewById&lt;TextView&gt;(R.id.title)\n        var year: TextView = view.findViewById&lt;TextView&gt;(R.id.year)\n        var genre: TextView = view.findViewById&lt;TextView&gt;(R.id.genre) \n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n        val itemView = LayoutInflater.from(parent.context)\n                .inflate(R.layout.movie_list_row, parent, false)\n\n        return MyViewHolder(itemView )\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        val Movies = moviesList[position]\n        holder.title.text = Movies.title\n        holder.genre.text = Movies.genre\n        holder.year.text = Movies.year\n\n    }\n\n    override fun getItemCount(): Int {\n        return moviesList.size\n    }\n}\n</code></pre>\n\n<p>i need to when user click an item in the list to open an other Activity, what is the cleaner and the best way  to do so.</p>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1505010074, "post_id": 46134138, "comment_id": 79235783, "body": "Do you have your own schema implemented?"}, {"owner": {"reputation": 2562, "user_id": 2310673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9c52e255299dc548825c41aebcf3fbc?s=128&d=identicon&r=PG", "display_name": "bakriOnFire", "link": "https://stackoverflow.com/users/2310673/bakrionfire"}, "reply_to_user": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1505012068, "post_id": 46134138, "comment_id": 79236071, "body": "yes..its mapped in the state class.."}, {"owner": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "edited": false, "score": 0, "creation_date": 1505145415, "post_id": 46134138, "comment_id": 79281517, "body": "Can you paste your code, please? Cheers"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 10963827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HvNjf.jpg?s=128&g=1", "display_name": "Sneha Damle", "link": "https://stackoverflow.com/users/10963827/sneha-damle"}, "is_accepted": false, "score": 0, "last_activity_date": 1590749415, "creation_date": 1590749415, "answer_id": 62084219, "question_id": 46134138, "link": "https://stackoverflow.com/questions/46134138/how-to-fetch-data-from-custom-table-in-corda/62084219#62084219", "title": "How to fetch data from custom table in Corda", "body": "<p>Mapping from the schema to state's properties can be provided in the state class by overriding the method <em>generateMappedObject</em> from the QueryableState class. Make sure your state implements <em>QueryableState</em> class.</p>\n\n<pre><code>@Override public PersistentState generateMappedObject(MappedSchema schema) {\n        if (schema instanceof IOUSchemaV1) {\n            return new IOUSchemaV1.PersistentIOU(\n                    this.lender.getName().toString(),\n                    this.borrower.getName().toString(),\n                    this.value,\n                    this.linearId.getId());\n        } else {\n            throw new IllegalArgumentException(\"Unrecognised schema $schema\");\n        }\n    }\n</code></pre>\n\n<p>You can then query the database using vault query like </p>\n\n<pre><code>QueryCriteria queryCriteria = new QueryCriteria.VaultQueryCriteria().withStatus(Vault.StateStatus.UNCONSUMED);\n\nList&lt;StateAndRef&lt;IOUState&gt;&gt; iouStates = getServiceHub().getVaultService()\n                .queryBy(IOUState, queryCriteria).getStates();\n</code></pre>\n"}], "owner": {"reputation": 2562, "user_id": 2310673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9c52e255299dc548825c41aebcf3fbc?s=128&d=identicon&r=PG", "display_name": "bakriOnFire", "link": "https://stackoverflow.com/users/2310673/bakrionfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1590749415, "creation_date": 1504983694, "question_id": 46134138, "link": "https://stackoverflow.com/questions/46134138/how-to-fetch-data-from-custom-table-in-corda", "title": "How to fetch data from custom table in Corda", "body": "<p>We are trying to fetch data from the our custom tables using the vault query with state as query criteria. But we get a state with a model class which contains the old values and not the new ones from the database. Can someone point out to an example of fetching the data from a custom table and mapping it to the model class in corda.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1504980828, "last_edit_date": 1504980828, "creation_date": 1504977829, "answer_id": 46133246, "question_id": 46132953, "link": "https://stackoverflow.com/questions/46132953/overriding-variable-creates-a-npe-when-variable-is-used-in-the-initialization-in/46133246#46133246", "title": "Overriding variable creates a NPE when variable is used in the initialization in the super class", "body": "<p>This behavior is caused by the fact that the getter of <code>img</code> is overridden and returns the value of a different field (since <code>Bar</code> overrides <code>img</code> with a different type, it requires creating an additional field of type <code>BufferedImage</code>). The <code>Foo</code> constructor is executed before that field is assigned in <code>Bar</code>. </p>\n\n<p>In general, you should avoid using open members in the initialization logic of your classes, because they may be overridden in the subclasses and may rely on some state that, upon the superclass initialization time, is not properly initialized yet.</p>\n\n<p>For your particular case, make <code>img</code> in the <code>Foo</code> constructor a simple parameter and use the parameter explicitly:</p>\n\n<pre><code>open class Foo(img: Image) {\n    open val img = img\n    val use = img.graphics\n}\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 7213753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QDrugMRYQvQ/AAAAAAAAAAI/AAAAAAAAGvE/BGYhNcB2RYI/photo.jpg?sz=128", "display_name": "Zimri Leisher", "link": "https://stackoverflow.com/users/7213753/zimri-leisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 46133246, "answer_count": 1, "score": 2, "last_activity_date": 1504980828, "creation_date": 1504975742, "question_id": 46132953, "link": "https://stackoverflow.com/questions/46132953/overriding-variable-creates-a-npe-when-variable-is-used-in-the-initialization-in", "title": "Overriding variable creates a NPE when variable is used in the initialization in the super class", "body": "<p>Say we have the following set up:</p>\n\n<pre><code>open class Foo(open val img: Image) {\n    val use = img.graphics\n}\nclass Bar(override val img: BufferedImage) : Foo(img)\n</code></pre>\n\n<p>On initialization, the use of <code>img.width</code> creates a NPE. What I think the issue is, is that apparently even though <code>img</code> is passed in the constructor of Foo directly in Bar, when it is used in Foo it doesn't point to it, instead it points to the overridden variable in the Bar class. How can I avoid this?</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4336026"}, "edited": false, "score": 6, "creation_date": 1536084122, "post_id": 48450400, "comment_id": 91294160, "body": "Don&#39;t do this.  Simply force-unwrapping the underlying value is dangerous because <code>this.value</code> <i>can</i> be null.  Only when you enforce non-nullability in the <i>setters</i> can you safely force-unwrap like the other answers suggest."}, {"owner": {"reputation": 374, "user_id": 1622788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PIqdt.jpg?s=128&g=1", "display_name": "David Whitman", "link": "https://stackoverflow.com/users/1622788/david-whitman"}, "edited": false, "score": 0, "creation_date": 1536160466, "post_id": 48450400, "comment_id": 91326731, "body": "@Weikardzaena From the OP: &quot;I know value will not be null when accessing&quot;.  Although what I did was to subclass <code>LiveData</code> and have a private inner <code>MutableLiveData</code> so there is no way that any outside classes can change the value of my <code>LiveData</code> to <code>null</code>."}], "tags": [], "owner": {"reputation": 374, "user_id": 1622788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PIqdt.jpg?s=128&g=1", "display_name": "David Whitman", "link": "https://stackoverflow.com/users/1622788/david-whitman"}, "is_accepted": true, "score": -1, "last_activity_date": 1516908175, "creation_date": 1516908175, "answer_id": 48450400, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/48450400#48450400", "title": "Nullability and LiveData with Kotlin", "body": "<p>I created an extension property. It's not super pretty, but it <em>is</em> pretty straightforward.</p>\n\n<pre><code>val &lt;T&gt; LiveData&lt;T&gt;.valueNN\n    get() = this.value!!\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>spinner.loading = myLiveData.valueNN.homeState.loading\n</code></pre>\n\n<p>I'm not sold on appending \"NN\" as a good naming convention, but that's beyond the scope of the question :)</p>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 1622788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PIqdt.jpg?s=128&g=1", "display_name": "David Whitman", "link": "https://stackoverflow.com/users/1622788/david-whitman"}, "edited": false, "score": 2, "creation_date": 1524601768, "post_id": 49324877, "comment_id": 87037199, "body": "The downside of this is that if somebody DOES put a <code>null</code> into your <code>NonNullLiveData</code>, you emit to your observers a value that&#39;s completely wrong (the <code>defaultValue</code>).  Depends maybe on your situation, but I&#39;d rather have a crash if someone puts a null into a non-null place."}], "tags": [], "owner": {"reputation": 128, "user_id": 5231268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kkf9a94pdTg/AAAAAAAAAAI/AAAAAAAAB8M/mMNoTFHJ0P0/photo.jpg?sz=128", "display_name": "TheLuckyCoder", "link": "https://stackoverflow.com/users/5231268/theluckycoder"}, "is_accepted": false, "score": 9, "last_activity_date": 1522872926, "last_edit_date": 1522872926, "creation_date": 1521215633, "answer_id": 49324877, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/49324877#49324877", "title": "Nullability and LiveData with Kotlin", "body": "<p>I don't know if this is the best solution but this is what I came up with and what I use:</p>\n\n<pre><code>class NonNullLiveData&lt;T&gt;(private val defaultValue: T) : MutableLiveData&lt;T&gt;() {\n\n    override fun getValue(): T = super.getValue() ?: defaultValue\n\n    fun observe(owner: LifecycleOwner, body: (T) -&gt; Unit) {\n        observe(owner, Observer&lt;T&gt; {\n            body(it ?: defaultValue)\n        })\n    }\n}\n</code></pre>\n\n<p>Creating the field:\n</p>\n\n<pre><code>val string = NonNullLiveData(\"\")\n</code></pre>\n\n<p>And observing it:\n</p>\n\n<pre><code>viewModel.string.observe(this) {\n    // Do someting with the data\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1531095381, "post_id": 49592114, "comment_id": 89452830, "body": "Thats excellent, thanks for posting this! The AS linter complained about the overridden fun&#39;s not actually doing anything, which made me think of wrapping the setValue and postValue in value.let {...} to prevent null values being set into the LiveData."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4336026"}, "edited": false, "score": 0, "creation_date": 1535643034, "post_id": 49592114, "comment_id": 91152059, "body": "Just playing devil&#39;s advocate, but are you absolutely sure that <code>getValue()</code> is guaranteed to return a non-null?  Obviously with this implementation there&#39;s no way a client could <i>set</i> the value to <code>null</code>, but is there anything internally within <code>LiveData</code> that could possibly null the value?"}, {"owner": {"reputation": 624, "user_id": 2761541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/819bff5fbf0a875cbba1b2a6db9d5e08?s=128&d=identicon&r=PG&f=1", "display_name": "Anigif", "link": "https://stackoverflow.com/users/2761541/anigif"}, "edited": false, "score": 1, "creation_date": 1550156163, "post_id": 49592114, "comment_id": 96173910, "body": "One of the problems with this approach is that <code>Observer</code> will allways be called right away when observed. In the standard <code>LiveData</code> implementation, it won&#39;t be called until <code>value</code> is set the first time, but in this example <code>value</code> is always set right away. @Weikardzaena AFAIK that won&#39;t be the case since value is set intially"}], "tags": [], "owner": {"reputation": 240, "user_id": 4059849, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bf4498b2d2c284fbdab1fd2fec8ecd3?s=128&d=identicon&r=PG&f=1", "display_name": "icebail", "link": "https://stackoverflow.com/users/4059849/icebail"}, "is_accepted": false, "score": 13, "last_activity_date": 1522529564, "last_edit_date": 1522529564, "creation_date": 1522528209, "answer_id": 49592114, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/49592114#49592114", "title": "Nullability and LiveData with Kotlin", "body": "<p>I little improve <a href=\"https://stackoverflow.com/a/49324877/4059849\">answer</a> The Lucky Coder. This implementation cannot accept null values at all.</p>\n\n<pre><code>class NonNullMutableLiveData&lt;T: Any&gt;(initValue: T): MutableLiveData&lt;T&gt;() {\n\n    init {\n        value = initValue\n    }\n\n    override fun getValue(): T {\n        return super.getValue()!!\n    }\n\n    override fun setValue(value: T) {\n        super.setValue(value)\n    }\n\n    fun observe(owner: LifecycleOwner, body: (T) -&gt; Unit) {\n        observe(owner, Observer&lt;T&gt; { t -&gt; body(t!!) })\n    }\n\n    override fun postValue(value: T) {\n        super.postValue(value)\n    }    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 6658067, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IykW3y9e-3w/AAAAAAAAAAI/AAAAAAAAAAk/y3cTjAHyBqQ/photo.jpg?sz=128", "display_name": "Filip P.", "link": "https://stackoverflow.com/users/6658067/filip-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1523739898, "creation_date": 1523739898, "answer_id": 49836199, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/49836199#49836199", "title": "Nullability and LiveData with Kotlin", "body": "<p>You can create an extension for LifecycleOwner</p>\n\n<pre><code>fun &lt;T&gt; LifecycleOwner.observe(liveData: LiveData&lt;T?&gt;, lambda: (T) -&gt; Unit) {\n    liveData.observe(this, Observer { if (it != null) lambda(it) })\n}\n</code></pre>\n\n<p>and then in your fragment/activity</p>\n\n<pre><code>observe(liveData) { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 2875638, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nE0rm.jpg?s=128&g=1", "display_name": "Henry Tao", "link": "https://stackoverflow.com/users/2875638/henry-tao"}, "is_accepted": false, "score": 2, "last_activity_date": 1524325304, "creation_date": 1524325304, "answer_id": 49957462, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/49957462#49957462", "title": "Nullability and LiveData with Kotlin", "body": "<p>You can do this </p>\n\n<pre><code>normalLiveData\n  .nonNull()\n  .observe(this, { result -&gt; \n    // result is non null now\n  })\n</code></pre>\n\n<p>There is an article about it. <a href=\"https://medium.com/@henrytao/nonnull-livedata-with-kotlin-extension-26963ffd0333\" rel=\"nofollow noreferrer\">https://medium.com/@henrytao/nonnull-livedata-with-kotlin-extension-26963ffd0333</a></p>\n"}, {"tags": [], "owner": {"reputation": 1615, "user_id": 3673440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e7a045fa87a42e173fb251f9bfb656?s=128&d=identicon&r=PG&f=1", "display_name": "ipcjs", "link": "https://stackoverflow.com/users/3673440/ipcjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1541671488, "creation_date": 1541671488, "answer_id": 53205422, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/53205422#53205422", "title": "Nullability and LiveData with Kotlin", "body": "<p>This is my solution.</p>\n\n<pre><code>class NotNullLiveData&lt;T : Any&gt;\nconstructor(private val default: T) : MediatorLiveData&lt;T&gt;() {\n    override fun getValue(): T {\n        return super.getValue() ?: default\n    }\n\n    override fun setValue(value: T) {\n        super.setValue(value)\n    }\n}\n\n@MainThread\nfun &lt;T : Any&gt; mutableLiveDataOfNotNull(initValue: T): NotNullLiveData&lt;T&gt; {\n    val liveData = NotNullLiveData(initValue)\n    liveData.value = initValue\n    return liveData\n}\n\n@MainThread\nfun &lt;T&gt; mutableLiveDataOf(initValue: T): MutableLiveData&lt;T&gt; {\n    val liveData = MutableLiveData&lt;T&gt;()\n    liveData.value = initValue\n    return liveData\n}\n\n\nfun &lt;T : Any&gt; LiveData&lt;T?&gt;.toNotNull(default: T): NotNullLiveData&lt;T&gt; {\n    val result = NotNullLiveData(default)\n    result.addSource(this) {\n        result.value = it ?: default\n    }\n    return result\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1595, "user_id": 2489797, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/XCdQE.jpg?s=128&g=1", "display_name": "Vladimir Petrovski", "link": "https://stackoverflow.com/users/2489797/vladimir-petrovski"}, "is_accepted": false, "score": 0, "last_activity_date": 1553244435, "creation_date": 1553244435, "answer_id": 55295862, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/55295862#55295862", "title": "Nullability and LiveData with Kotlin", "body": "<p>When using strings is simple by using this way:</p>\n\n<pre><code>val someLiveData = MutableLiveData&lt;String&gt;()\n...\nsomeLiveData.value.orEmpty()\n</code></pre>\n\n<p>And you will get actual value if set or an empty string instead of <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 11479058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BOc3H.jpg?s=128&g=1", "display_name": "Ignacio Garcia", "link": "https://stackoverflow.com/users/11479058/ignacio-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1576939914, "creation_date": 1576939914, "answer_id": 59437142, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin/59437142#59437142", "title": "Nullability and LiveData with Kotlin", "body": "<p>I really liked <a href=\"https://stackoverflow.com/users/5231268/the-lucky-coder\">The Lucky Coder</a>'s answer. Regarding the danger on trying to set a null value, I think we should throw an exception for this (similar to what <a href=\"https://stackoverflow.com/users/1622788/david-whitman\">David Whitman</a> was pointing):</p>\n\n<pre><code>class NonNullLiveData&lt;T&gt;(private val defaultValue: T) : MutableLiveData&lt;T&gt;() {\n\noverride fun getValue(): T = super.getValue() ?: defaultValue\n\noverride fun setValue(value: T) {\n    if(value != null) {\n        super.setValue(value)\n    }\n    else throw IllegalArgumentException(\"Cannot set a null value to this Type. Use normal MutableLiveData instead for that.\")\n}\n\noverride fun postValue(value: T) {\n    if(value != null) {\n        super.postValue(value)\n    }\n    else throw IllegalArgumentException(\"Cannot post a null value to this Type. Use normal MutableLiveData instead for that.\")\n}\n\nfun observe(owner: LifecycleOwner, body: (T) -&gt; Unit) {\n    observe(owner, Observer&lt;T&gt; {\n        body(it ?: defaultValue)\n    })\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now the value in the MutableLiveData will never be null, so that the class would not be used in a way it's not intended.</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11484, "favorite_count": 2, "accepted_answer_id": 48450400, "answer_count": 8, "score": 16, "last_activity_date": 1576939914, "creation_date": 1504973087, "last_edit_date": 1504978340, "question_id": 46132520, "link": "https://stackoverflow.com/questions/46132520/nullability-and-livedata-with-kotlin", "title": "Nullability and LiveData with Kotlin", "body": "<p>I want to use LiveData with Kotlin and have values that should not be null. How do you deal with this? Perhaps a wrapper around LiveData? Searching for good patterns here ..\nAs an example:</p>\n\n<pre><code>class NetworkDefinitionProvider : MutableLiveData&lt;NetworkDefinition&gt;() {\n    val allDefinitions = mutableListOf(RinkebyNetworkDefinition(), MainnetNetworkDefinition(), RopstenNetworkDefinition())\n\n    init {\n        value = allDefinitions.first()\n    }\n\n    fun setCurrent(value: NetworkDefinition) {\n        setValue(value)\n    }\n}\n</code></pre>\n\n<p>I know value will not be null when accessing - but I will always have to check for null or have these ugly !!'s around.</p>\n"}, {"tags": ["amazon-s3", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1505093196, "post_id": 46132304, "comment_id": 79255956, "body": "In IntelliJ you can just paste a Java snippet into a Kotlin file and IntelliJ will convert it to Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 2, "last_activity_date": 1505093752, "creation_date": 1505093752, "answer_id": 46147112, "question_id": 46132304, "link": "https://stackoverflow.com/questions/46132304/is-there-any-sample-working-code-for-creating-s3s-pre-signed-urls-in-kotlin/46147112#46147112", "title": "Is there any sample working code for creating S3&#39;s pre-signed URLs in Kotlin", "body": "<p>This is a direct copy (converted by IntelliJ) of the sample code <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/ShareObjectPreSignedURLJavaSDK.html\" rel=\"nofollow noreferrer\">on this page</a>.</p>\n\n<pre><code>val s3client = AmazonS3Client(ProfileCredentialsProvider())\n\nval expiration = java.util.Date()\nvar msec = expiration.time\nmsec += (1000 * 60 * 60).toLong() // 1 hour.\nexpiration.time = msec\n\nval generatePresignedUrlRequest = GeneratePresignedUrlRequest(bucketName, objectKey)\ngeneratePresignedUrlRequest.setMethod(HttpMethod.GET) // Default.\ngeneratePresignedUrlRequest.setExpiration(expiration)\n\nval s = s3client.generatePresignedUrl(generatePresignedUrlRequest)\n</code></pre>\n\n<p>Here is the same code which is a bit more idiomatic Kotlin and using Java 8 LocalDateTime for expiration date calculation:</p>\n\n<pre><code>val expiration = LocalDateTime.now().plusHours(1)\nval generatePresignedUrlRequest = GeneratePresignedUrlRequest(bucketName, objectKey).apply {\n  method = HttpMethod.GET\n  expiration = Date.from(expiration.atZone(ZoneId.systemDefault()).toInstant())\n}\nval s3client = AmazonS3Client(ProfileCredentialsProvider())\nval s = s3client.generatePresignedUrl(generatePresignedUrlRequest)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8556461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b58fce7276535e1865a3a98f6c97b2?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Anderson", "link": "https://stackoverflow.com/users/8556461/brian-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505093752, "creation_date": 1504971594, "question_id": 46132304, "link": "https://stackoverflow.com/questions/46132304/is-there-any-sample-working-code-for-creating-s3s-pre-signed-urls-in-kotlin", "title": "Is there any sample working code for creating S3&#39;s pre-signed URLs in Kotlin", "body": "<p>Is there any sample working code for creating S3's pre-signed URLs in Kotlin? Can I adapt it from a Java example?</p>\n"}, {"tags": ["java", "kotlin", "extension-methods"], "answers": [{"comments": [{"owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "edited": false, "score": 0, "creation_date": 1504970938, "post_id": 46132138, "comment_id": 79226666, "body": "Yes, that is of course possible but I would like to avoid having to write my own extension method for every static method that could (theoretically) be used as an extension method in Kotlin."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "edited": false, "score": 1, "creation_date": 1505123096, "post_id": 46132138, "comment_id": 79266966, "body": "@Bombe So don&#39;t write the static method. Just write the extension method and it will be accessible from Java as a static method."}, {"owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1505327985, "post_id": 46132138, "comment_id": 79372531, "body": "@EugenPechanec it\u2019s all part of porting code from Java to Kotlin. Sooner or later the original method will be gone anyway but in the mean time I\u2019d really like to simply add an annotation and be able to use it from Kotlin as an extension method. :)"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 8, "last_activity_date": 1504970431, "creation_date": 1504970431, "answer_id": 46132138, "question_id": 46132091, "link": "https://stackoverflow.com/questions/46132091/use-static-method-in-java-as-extension-method-in-kotlin/46132138#46132138", "title": "Use Static Method in Java as Extension Method in Kotlin", "body": "<p>I don't know of a way to automatically refer to these, but writing your own extension that just wraps the existing method should be possible...</p>\n\n<pre><code>fun Y.foo() = X.foo(this)\n</code></pre>\n"}], "owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 46132138, "answer_count": 1, "score": 6, "last_activity_date": 1504972022, "creation_date": 1504970090, "question_id": 46132091, "link": "https://stackoverflow.com/questions/46132091/use-static-method-in-java-as-extension-method-in-kotlin", "title": "Use Static Method in Java as Extension Method in Kotlin", "body": "<p>I have a static method declared in Java:</p>\n\n<pre><code>class X {\n    public static void foo(Y y) { \u2026 }\n}\n</code></pre>\n\n<p>I would love to use this method as extension method for instances of type <code>Y</code> in Kotlin:</p>\n\n<pre><code>import X.foo\n\u2026\ny.foo()\n</code></pre>\n\n<p>Is that possible? I have control over all source code in question, e.g. to add annotations.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 3, "creation_date": 1504964474, "post_id": 46131289, "comment_id": 79224723, "body": "Related: <a href=\"https://stackoverflow.com/questions/45977011/example-of-the-different-of-run-let-apply-also-and-with-on-kotlin\" title=\"example of the different of run let apply also and with on kotlin\">stackoverflow.com/questions/45977011/&hellip;</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1505023613, "post_id": 46131289, "comment_id": 79237550, "body": "Your example usage code is different, thus I would conclude that there <i>is</i> a difference between the functions."}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1525508431, "post_id": 46131289, "comment_id": 87391166, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45582732/differnce-between-kotlin-also-apply-let-use-takeif-and-takeunless-in-kotlin\">differnce between kotlin also, apply, let, use, takeIf and takeUnless in Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 48, "last_activity_date": 1597751029, "last_edit_date": 1597751029, "creation_date": 1504971084, "answer_id": 46132223, "question_id": 46131289, "link": "https://stackoverflow.com/questions/46131289/kotlin-what-is-the-difference-between-apply-and-also/46132223#46132223", "title": "Kotlin: What is the difference between Apply and Also", "body": "<p><strong>TL;DR Difference</strong></p>\n<p>The <code>also</code> function takes a lambda in which you refer to the object you called the function on (receiver <code>T</code>) with either <code>it</code> (implicit name) or a custom name.</p>\n<pre><code>val person = Person().also {\n    it.name = &quot;Tony Stark&quot;\n}\n</code></pre>\n<p>With <code>apply</code>, on the other hand, a function literal <strong>with receiver</strong> is used so inside the passed in lambda you can access the receiver\u2019s members directly, as you see in the following. The receiver can be referenced by <code>this</code>.</p>\n<pre><code>val person = Person().apply {\n    name = &quot;Tony Stark&quot;\n}\n</code></pre>\n<hr />\n<h3>also</h3>\n<p>Declaration:</p>\n<pre><code>inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T (source)\n</code></pre>\n<p>Calls the specified function block <strong>with <code>this</code> (the receiver) value as its argument</strong> and returns <code>this</code> (the receiver) value.</p>\n<h3>apply</h3>\n<p>Declaration:</p>\n<pre><code>inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T (source)\n</code></pre>\n<p>Calls the specified function block <strong>with <code>this</code> value as its receiver</strong> and returns <code>this</code> (the receiver) value.</p>\n<h2>when to use what</h2>\n<p>Usage examples are explained in this <a href=\"https://stackoverflow.com/questions/45977011/example-of-the-different-of-run-let-apply-also-and-with-on-kotlin\">thread</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 35, "last_activity_date": 1516486942, "last_edit_date": 1516486942, "creation_date": 1516449653, "answer_id": 48355881, "question_id": 46131289, "link": "https://stackoverflow.com/questions/46131289/kotlin-what-is-the-difference-between-apply-and-also/48355881#48355881", "title": "Kotlin: What is the difference between Apply and Also", "body": "<p><strong>Short answer:</strong> <code>also</code> was introduced for semantic reasons.</p>\n\n<p><strong>Long answer:</strong></p>\n\n<p>If you use <code>apply</code> you always refer to the receiver with <code>this</code>.</p>\n\n<pre><code>val person = Person().apply {\n    name = \"Tony Stark\" // this. can be omitted\n    age = 52 // this. can be omitted\n    // ...\n}\n</code></pre>\n\n<p>This way you don't have to repeat person several times as shown here:</p>\n\n<pre><code>person.name = \"Tony Stark\"\nperson.age = 52\n</code></pre>\n\n<p>If the block becomes longer you may want to give <code>this</code> a name. That's why <code>also</code> was introduced. Now you can refer to the receiver either by <code>it</code> or an explicit name. This is especially useful if you want to use another name than (in this case <code>person</code>) before:</p>\n\n<pre><code>val person = Person().also { newPerson -&gt;\n  newPerson.name = \"Tony Stark\"\n  newPerson.age = 52\n  // ...\n}\n</code></pre>\n\n<p>So, depending on how well you code should be readable you can always use one or the other.</p>\n"}, {"tags": [], "owner": {"reputation": 2980, "user_id": 1308990, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d5ce5e9d1fb73ae65f57e617269afa9c?s=128&d=identicon&r=PG", "display_name": "oiyio", "link": "https://stackoverflow.com/users/1308990/oiyio"}, "is_accepted": false, "score": 7, "last_activity_date": 1587032916, "last_edit_date": 1587032916, "creation_date": 1587031079, "answer_id": 61247474, "question_id": 46131289, "link": "https://stackoverflow.com/questions/46131289/kotlin-what-is-the-difference-between-apply-and-also/61247474#61247474", "title": "Kotlin: What is the difference between Apply and Also", "body": "<ul>\n<li>Both function returns receiver object itself.</li>\n<li>They differ in accessing the receiver object.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ExkdB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ExkdB.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is your decision which one to use. However, in Kotlinlang's website <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/scope-functions.html</a>, there is a convention for their usage</p>\n\n<p>Use <strong>also</strong> for additional actions that don't alter the object, such as logging or printing debug information.</p>\n\n<pre><code>val numbers = mutableListOf(\"one\", \"two\", \"three\")\n numbers\n     .also { println(\"The list elements before adding new one: $it\") }\n     .add(\"four\")\n</code></pre>\n\n<p>The common case for <strong>apply</strong> is the object configuration.</p>\n\n<pre><code>val adam = Person(\"Adam\").apply {\n    age = 32\n    city = \"London\"        \n}\nprintln(adam)\n</code></pre>\n"}], "owner": {"reputation": 5487, "user_id": 1143026, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Na6LO.jpg?s=128&g=1", "display_name": "Kanaiya Katarmal", "link": "https://stackoverflow.com/users/1143026/kanaiya-katarmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10452, "favorite_count": 7, "accepted_answer_id": 46132223, "answer_count": 3, "score": 59, "last_activity_date": 1597751029, "creation_date": 1504964216, "question_id": 46131289, "link": "https://stackoverflow.com/questions/46131289/kotlin-what-is-the-difference-between-apply-and-also", "title": "Kotlin: What is the difference between Apply and Also", "body": "<p>What is the difference between apply and also. From what I know the following code does the same thing:</p>\n\n<p><strong>apply</strong></p>\n\n<pre><code>val person = Person().apply {\n    name = \"Tony Stark\"\n    age = 52\n    // More such stuff\n}\n</code></pre>\n\n<p><strong>also</strong></p>\n\n<pre><code>val person = Person().also {\n  it.name = \"Tony Stark\"\n  it.age = 52\n  // More such stuff\n}\n</code></pre>\n\n<p>Is there any difference and should I use one over the other? Also, are there some cases where one would work and the other won't?</p>\n"}, {"tags": ["java", "unit-testing", "testing", "kotlin", "spek"], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "is_accepted": true, "score": 0, "last_activity_date": 1505807307, "creation_date": 1505807307, "answer_id": 46294828, "question_id": 46130820, "link": "https://stackoverflow.com/questions/46130820/groups-execution-order-is-wrong-in-kotlin-spek/46294828#46294828", "title": "Groups execution order is wrong in Kotlin Spek", "body": "<p>As mentioned in the Spek documentation group scopes (given, describe, context) will eagerly execute any code within. Any test state initialization should be done within fixtures (beforeEachTest, beforeGroup, etc ...). You can also use <code>memoized</code> to create a dependency tied to Spek's lifecycle. </p>\n\n<pre><code>object MySpek: Spek({\n    val myMock1 by memoized { mock&lt;myMock1&gt;() }\n    val myMock2 by memoized { mock&lt;myMock2&gt;() }\n\n    val handler by memoized { StartModeHandler(myMock1, myMock2) }\n\n    val session by memoized { \n        mock&lt;Session&gt; {\n            on { user }.doReturn(User.builder().withUserId(\"userId\").build())\n        }\n    }\n\n    describe(\"item exists for user\") {\n        beforeEachTest {\n            reset(digitalPointDao, trackDao)\n            whenever(myMock1.loadItem(session.user.userId)).thenReturn(Optional.of(MyItem()))\n            whenever(myMock2.loadSomething()).thenReturn(ArrayList())\n        }\n\n        // use on instead of context\n        on(\"method onLaunch was called\") {\n            val response = handler.onLaunch(session)\n            it(\"should return the response for existing user\") {\n                //some asserts here\n            }\n            it(\"should save the item\") {\n                //some mock verifies here\n            }\n        }\n\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 3425258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kFcU3.jpg?s=128&g=1", "display_name": "Saandji", "link": "https://stackoverflow.com/users/3425258/saandji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 1, "accepted_answer_id": 46294828, "answer_count": 1, "score": 1, "last_activity_date": 1505807307, "creation_date": 1504960801, "question_id": 46130820, "link": "https://stackoverflow.com/questions/46130820/groups-execution-order-is-wrong-in-kotlin-spek", "title": "Groups execution order is wrong in Kotlin Spek", "body": "<p>Here is my test:</p>\n\n<pre><code>object MySpek : Spek({\n    val myMock1: MyMock1 = mock()\n    val myMock2: MyMock2 = mock()\n    val handler = StartModeHandler(myMock1, myMock2)\n\n    val session = mock&lt;Session&gt; {\n        on { user }.doReturn(User.builder().withUserId(\"userId\").build())\n    }\n    describe(\"item exists for user\") {\n        beforeGroup {\n            reset(digitalPointDao, trackDao)\n        }\n    whenever(myMock1.loadItem(session.user.userId)).thenReturn(Optional.of(MyItem()))\n        whenever(myMock2.loadSomething()).thenReturn(ArrayList())\n        context(\"method onLaunch was called\") {\n            val response = handler.onLaunch(session)\n            it(\"should return the response for existing user\") {\n                //some asserts here\n            }\n            it(\"should save the item\") {\n                //some mock verifies here\n            }\n        }\n    }\n})\n</code></pre>\n\n<p>According to Spek documentation, I expect the flow to be the following:</p>\n\n<ol>\n<li>initialize everything before describe</li>\n<li>call beforeGroup</li>\n<li>initalize describe body e.g. my whenever calls for mocks</li>\n<li>run context</li>\n<li>run each it method</li>\n</ol>\n\n<p>But i'm getting the following flow:</p>\n\n<ol>\n<li>initialize everything before describe</li>\n<li>run my describe body e.g. my whenever calls for mocks</li>\n<li>run context</li>\n<li>run beforeGroup</li>\n<li>run each it method</li>\n</ol>\n\n<p>Am I miss something and doing something wrong here?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1504954561, "post_id": 46129642, "comment_id": 79221975, "body": "ah, yes, it obviously needs an instance to call it on."}], "tags": [], "owner": {"reputation": 2613, "user_id": 1388837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15d773b2cb0e4c95c615b6ad13b0f20d?s=128&d=identicon&r=PG", "display_name": "bennyl", "link": "https://stackoverflow.com/users/1388837/bennyl"}, "is_accepted": true, "score": 5, "last_activity_date": 1504952497, "creation_date": 1504952497, "answer_id": 46129642, "question_id": 46129575, "link": "https://stackoverflow.com/questions/46129575/java-lang-illegalargumentexception-callable-expects-4-arguments-but-3-were-pro/46129642#46129642", "title": "java.lang.IllegalArgumentException: Callable expects 4 arguments, but 3 were provided", "body": "<p>You are missing the \"this\" parameter which is the object that the method should be called with respect to. </p>\n\n<p>it should be the first argument to the method</p>\n"}, {"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1504957408, "post_id": 46130120, "comment_id": 79222758, "body": "I saw that when I did an inspection on the <code>call</code> method, hence the reason I printed the types in my question to confirm that my types are correct. Where did you find the second comment block? Would be nice if the first comment block mentioned that the first param should be the instance, although it&#39;s probably obvious if you&#39;ve done it before."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1504957719, "post_id": 46130120, "comment_id": 79222837, "body": "It&#39;s both in <code>KCallable</code>:)"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1504958102, "post_id": 46130120, "comment_id": 79222934, "body": "Ah, right, <code>Calls this callable with the specified</code>, that <code>this</code> actually refers to the instance, I understood that sentence somewhat different when I read it in the source code and in your copy paste of the comment block. The second comment block would have been obvious immediately."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1504958324, "last_edit_date": 1592644375, "creation_date": 1504956137, "answer_id": 46130120, "question_id": 46129575, "link": "https://stackoverflow.com/questions/46129575/java-lang-illegalargumentexception-callable-expects-4-arguments-but-3-were-pro/46130120#46130120", "title": "java.lang.IllegalArgumentException: Callable expects 4 arguments, but 3 were provided", "body": "<p>It's not obvious directly, but let's have a look at the doc of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/\" rel=\"nofollow noreferrer\"><code>KCallable</code></a>:</p>\n<pre><code>/**\n * Calls this callable with the specified list of arguments and returns the result.\n * Throws an exception if the number of specified arguments is not equal to the size of [parameters],\n * or if their types do not match the types of the parameters\n */\n public fun call(vararg args: Any?): R\n</code></pre>\n<p>&quot;Throws an exception if the number of arguments is not equal to the size of [parameters] [...]&quot;. Parameters on the other hand is a <code>List&lt;KParameter&gt;</code> with following DOC:</p>\n<pre><code> /**\n * Parameters required to make a call to this callable.\n * If this callable requires a `this` instance or an extension receiver parameter,\n * they come first in the list in that order.\n */\npublic val parameters: List&lt;KParameter&gt;\n</code></pre>\n<p>&quot;If this callable requires a <code>this</code> instance [...] [it] come[s] first in the list in that order.&quot;</p>\n<p>Like bennyl already answered correctly, a <code>this</code> instance is the first parameter, coming before the other three because the method needs an instance to be called on.</p>\n<p>You can see it when you look at <code>parameter</code>'s content:</p>\n<pre><code>class X{\n\n    fun before(action: String, request: String, response: String)= println(&quot;called&quot;)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    X::class.functions.forEach { function: KFunction&lt;*&gt; -&gt;\n        if (function.name == &quot;before&quot;) {\n            function.parameters.forEach{ println(it)}\n            //function.call(X(), &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)\n        }\n    }\n}\n</code></pre>\n<p>The printed <code>parameter</code> looks as follows:</p>\n<blockquote>\n<p>instance of fun de.swirtz.jugcdemo.prepared.X.before(kotlin.String, kotlin.String, kotlin.String): kotlin.Unit</p>\n<p>parameter #1 action of fun de.swirtz.jugcdemo.prepared.X.before(kotlin.String, kotlin.String, kotlin.String): kotlin.Unit</p>\n<p>parameter #2 request of fun de.swirtz.jugcdemo.prepared.X.before(kotlin.String, kotlin.String, kotlin.String): kotlin.Unit</p>\n<p>parameter #3 response of fun de.swirtz.jugcdemo.prepared.X.before(kotlin.String, kotlin.String, kotlin.String): kotlin.Unit</p>\n</blockquote>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 1, "accepted_answer_id": 46129642, "answer_count": 2, "score": 4, "last_activity_date": 1504958324, "creation_date": 1504952107, "question_id": 46129575, "link": "https://stackoverflow.com/questions/46129575/java-lang-illegalargumentexception-callable-expects-4-arguments-but-3-were-pro", "title": "java.lang.IllegalArgumentException: Callable expects 4 arguments, but 3 were provided", "body": "<p>I'm trying to invoke a function using Kotlin reflection, but I'm getting the error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Callable expects 4 arguments, but\n  3 were provided.</p>\n</blockquote>\n\n<p>This is the code doing the reflective call:</p>\n\n<pre><code>    annotation.listeners.forEach { listener: KClass&lt;*&gt; -&gt;\n        listener.functions.forEach { function: KFunction&lt;*&gt; -&gt;\n            if (function.name == \"before\") {\n                function.call(annotation.action, request, response)\n            }\n        }\n    }\n</code></pre>\n\n<p>I've added types for <code>listener</code> and <code>function</code> just to make the question more readable.</p>\n\n<p>This is the method that's being called:</p>\n\n<pre><code>fun before(action: String, request: RestRequest, response: RestResponse)\n</code></pre>\n\n<p>To double check that my types are correct, I did this:</p>\n\n<pre><code>if (function.name == \"before\") {\n    println(annotation.action::class)\n    println(request::class)\n    println(response::class)\n}\n</code></pre>\n\n<p>This prints (which is the correct types needed for the <code>before</code> function):</p>\n\n<blockquote>\n<pre><code>class kotlin.String\nclass com.mycompany.RestRequest\nclass com.mycompany.RestResponse\n</code></pre>\n</blockquote>\n\n<p>What should the fourth paramater be?</p>\n"}, {"tags": ["java", "android", "android-studio", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 1211542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdd040043965834cfbbb4e0f5e906cd7?s=128&d=identicon&r=PG", "display_name": "Johan Paul", "link": "https://stackoverflow.com/users/1211542/johan-paul"}, "edited": false, "score": 0, "creation_date": 1510817154, "post_id": 46129415, "comment_id": 81598325, "body": "I am still seeing this with the stable Android Studio 3.0.0 release."}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "reply_to_user": {"reputation": 1523, "user_id": 1211542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdd040043965834cfbbb4e0f5e906cd7?s=128&d=identicon&r=PG", "display_name": "Johan Paul", "link": "https://stackoverflow.com/users/1211542/johan-paul"}, "edited": false, "score": 0, "creation_date": 1510818750, "post_id": 46129415, "comment_id": 81599084, "body": "@JohanPaul yes, this change is here to stay! You have to find the file and remove it."}, {"owner": {"reputation": 1523, "user_id": 1211542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdd040043965834cfbbb4e0f5e906cd7?s=128&d=identicon&r=PG", "display_name": "Johan Paul", "link": "https://stackoverflow.com/users/1211542/johan-paul"}, "edited": false, "score": 0, "creation_date": 1510821687, "post_id": 46129415, "comment_id": 81600647, "body": "I did a Gradle build from the command line, which was successful. After this I could again build from AS 3.0 too. It makes no sense to me."}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "reply_to_user": {"reputation": 1523, "user_id": 1211542, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdd040043965834cfbbb4e0f5e906cd7?s=128&d=identicon&r=PG", "display_name": "Johan Paul", "link": "https://stackoverflow.com/users/1211542/johan-paul"}, "edited": false, "score": 0, "creation_date": 1510830536, "post_id": 46129415, "comment_id": 81606811, "body": "@JohanPaul it is true. Syncing project with Gradle files (using the relevant button on AS toolbar) helps, mostly when you switch between different build tools versions."}], "tags": [], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "is_accepted": true, "score": 8, "last_activity_date": 1504951122, "creation_date": 1504951122, "answer_id": 46129415, "question_id": 46129414, "link": "https://stackoverflow.com/questions/46129414/android-studio-java-io-ioexception-failed-to-generate-v1-signature/46129415#46129415", "title": "Android Studio - java.io.IOException: Failed to generate v1 signature", "body": "<p>After more investigation using <code>gradle assemble --stacktrace</code> command I found that the issue is with APK zipping process:</p>\n\n<blockquote>\n  <p>Error:org.gradle.tooling.BuildException: Failed to generate v1\n  signature Error:java.io.IOException: Failed to generate v1 signature\n  Error:com.android.apksig.apk.ApkFormatException: Unsupported character\n  0x0d in ZIP entry name \"assets/Icon?\"</p>\n</blockquote>\n\n<p>There was a file named \"Icon?\" in my project which is a MacOS file that indicates folder's icon and it contains <code>CR, LF</code> characters inside.</p>\n\n<p>I deleted the file and now everything is working fine.</p>\n\n<p>This issue showed up in all versions after Android Studio Canary 4 and I report the issue to Android Studio team on this thread <a href=\"https://issuetracker.google.com/issues/63885809\" rel=\"noreferrer\">https://issuetracker.google.com/issues/63885809</a></p>\n\n<p>and they mentioned:</p>\n\n<blockquote>\n  <p>3.0 Canary 4 is about the time we added that \"Unsupported character\" check, so that's why it happens from that version forward.</p>\n</blockquote>\n\n<p>They are investigating more to solve this issue and I hope this answer helps others not to waste one month not updating their Android Studio. :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8964434, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QdfHeYHG1Fw/AAAAAAAAAAI/AAAAAAAA7FE/_tkeV6UUASE/photo.jpg?sz=128", "display_name": "Han John Tse", "link": "https://stackoverflow.com/users/8964434/han-john-tse"}, "is_accepted": false, "score": 0, "last_activity_date": 1520691367, "creation_date": 1520691367, "answer_id": 49210068, "question_id": 46129414, "link": "https://stackoverflow.com/questions/46129414/android-studio-java-io-ioexception-failed-to-generate-v1-signature/49210068#49210068", "title": "Android Studio - java.io.IOException: Failed to generate v1 signature", "body": "<p>Initially I started out with lots of errors \"file name must end in .xml or .png (Im using Mac OSX also) Then I started deleting a bunch of random icon files I found scattered around. Ending up getting a new error \"execution failed for task \u2018:app:packageDebug\u2019 failed to generate v1 signature\"</p>\n\n<p>In the end, got a good advice to try Build > Clean Project and then recompile. This will force the IDE to take another look at the files and try again). If you deleted the icon files, Android Studio may need to re-index the project.</p>\n"}], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7520, "favorite_count": 2, "accepted_answer_id": 46129415, "answer_count": 2, "score": 14, "last_activity_date": 1524250765, "creation_date": 1504951122, "last_edit_date": 1524250765, "question_id": 46129414, "link": "https://stackoverflow.com/questions/46129414/android-studio-java-io-ioexception-failed-to-generate-v1-signature", "title": "Android Studio - java.io.IOException: Failed to generate v1 signature", "body": "<p>I get this error after updating my Android Studio to all new versions after 3.0 Canary 4. (I am using v3.0 cause it is much faster and there is no need to jack for Kotlin.)</p>\n\n<p>It looks like there is an issue with build flow that it cannot generate or sign my APK file for both debug and release version.</p>\n\n<p>I also tried deleting my <code>debug.keystore</code>, restarting AndroidStudio and system(!!!) but it didn't solve.</p>\n\n<p>Here is a full Gradle log:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong: Execution failed for task ':chris-app:packageDemoDebug'.\njava.io.IOException: Failed to generate v1 signature\n\n* Try: Run with --info or --debug option to get more log output.\n\n* Exception is: org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':chris-app:packageDemoDebug'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:243)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:236)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:225)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55) Caused by: org.gradle.tooling.BuildException: java.io.IOException: Failed to generate v1 signature\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$10(OutputScope.java:240)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:235)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:196)\n        at com.android.build.gradle.internal.scope.OutputScope.parallelForEachOutput(OutputScope.java:180)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.doFullTaskAction(PackageAndroidArtifact.java:466)\n        at com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:80)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:168)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n        ... 27 more Caused by: java.lang.RuntimeException: java.io.IOException: Failed to generate v1 signature Caused by: java.io.IOException: Failed to generate v1 signature\n        at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:297)\n        at com.android.apkzlib.sign.SigningExtension.access$200(SigningExtension.java:55)\n        at com.android.apkzlib.sign.SigningExtension$1.lambda$beforeUpdate$2(SigningExtension.java:175)\n        at com.android.apkzlib.zip.ZFile.notify(ZFile.java:2099)\n        at com.android.apkzlib.zip.ZFile.update(ZFile.java:871)\n        at com.android.apkzlib.zip.ZFile.close(ZFile.java:1161)\n        at com.android.apkzlib.zfile.ApkZFileCreator.close(ApkZFileCreator.java:172)\n        at com.google.common.io.Closer.close(Closer.java:216)\n        at com.android.builder.internal.packaging.IncrementalPackager.close(IncrementalPackager.java:332)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.doTask(PackageAndroidArtifact.java:698)\n        at com.android.build.gradle.tasks.PackageAndroidArtifact.splitFullAction(PackageAndroidArtifact.java:520)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$6(OutputScope.java:185)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$parallelForEachOutput$7(OutputScope.java:202)\n        at com.android.build.gradle.internal.scope.OutputScope.lambda$null$8(OutputScope.java:224) \"\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.checkEntryNameValid(V1SchemeSigner.java:406)\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.generateManifestFile(V1SchemeSigner.java:373)\n        at com.android.apksig.internal.apk.v1.V1SchemeSigner.sign(V1SchemeSigner.java:253)\n        at com.android.apksig.DefaultApkSignerEngine.outputJarEntries(DefaultApkSignerEngine.java:372)\n        at com.android.apkzlib.sign.SigningExtension.onOutputZipReadyForUpdate(SigningExtension.java:295)\n        ... 13 more\n\n\nBUILD FAILED in 2m 49s\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 21, "user_id": 8487568, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oCU0SigKdhU/AAAAAAAAAAI/AAAAAAAAAA0/CgjFE5JamVA/photo.jpg?sz=128", "display_name": "kingway", "link": "https://stackoverflow.com/users/8487568/kingway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1504939284, "answer_count": 0, "score": 1, "last_activity_date": 1504939046, "creation_date": 1504939046, "question_id": 46127877, "link": "https://stackoverflow.com/questions/46127877/kotlin-use-external-variables", "closed_reason": "Duplicate", "title": "Kotlin Use external variables", "body": "<pre><code>val sud = Observable.interval(1000, TimeUnit.MILLISECONDS).subscribe {\n         sud.\n\n}\n</code></pre>\n\n<p>//\nHow do I use the variable sud ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5062, "user_id": 1197251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f988c493109880ba789886bfe5c0514?s=128&d=identicon&r=PG", "display_name": "dominicoder", "link": "https://stackoverflow.com/users/1197251/dominicoder"}, "edited": false, "score": 0, "creation_date": 1504931906, "post_id": 46127064, "comment_id": 79216727, "body": "And your question is ... ? <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504944298, "post_id": 46127064, "comment_id": 79219366, "body": "This isn&#39;t an Android Studio issue, so don&#39;t use the Android Studio tag"}], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 2, "creation_date": 1512688038, "post_id": 47705092, "comment_id": 82370687, "body": "You &quot;saw&quot; it? Did you tested it before posting or was this just a guess?..."}], "tags": [], "owner": {"reputation": 41, "user_id": 9069884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506772025d9b766c8ccbe6f9a94e6460?s=128&d=identicon&r=PG&f=1", "display_name": "Edwin Jim&#233;nez", "link": "https://stackoverflow.com/users/9069884/edwin-jim%c3%a9nez"}, "is_accepted": false, "score": 4, "last_activity_date": 1592391303, "last_edit_date": 1592391303, "creation_date": 1512686747, "answer_id": 47705092, "question_id": 46127064, "link": "https://stackoverflow.com/questions/46127064/capture-and-save-image-with-kotlin-in-android-studio/47705092#47705092", "title": "Capture and save image with Kotlin in Android Studio", "body": "<p>I think maybe the next code can help you half way. Just capture the image from camera and display it in an ImageView.</p>\n\n<p>I used it (found in <em><a href=\"https://www.youtube.com/watch?v=5wbeWN4hQt0\" rel=\"nofollow noreferrer\">Creating camera intent app using Kotlin on android - Displaying thumbnail</a></em>).</p>\n\n<pre><code>val CAMERA_REQUEST_CODE = 0\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button.setOnClickListener {\n        val callCameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n        if (callCameraIntent.resolveActivity(packageManager) != null) {\n            startActivityForResult(callCameraIntent, CAMERA_REQUEST_CODE)\n        }\n    }\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    when(requestCode) {\n        CAMERA_REQUEST_CODE -&gt; {\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n                imageView.setImageBitmap(data.extras.get(\"data\") as Bitmap)\n            }\n        }\n        else -&gt; {\n            Toast.makeText(this, \"Unrecognized request code\", Toast.LENGTH_SHORT)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1592392059, "last_edit_date": 1592392059, "creation_date": 1536239146, "answer_id": 52204846, "question_id": 46127064, "link": "https://stackoverflow.com/questions/46127064/capture-and-save-image-with-kotlin-in-android-studio/52204846#52204846", "title": "Capture and save image with Kotlin in Android Studio", "body": "<p>Complete code for pick image and crop it</p>\n\n<blockquote>\n  <p><strong>Step 1</strong>: Add this gradle</p>\n</blockquote>\n\n<pre><code>implementation 'com.theartofdev.edmodo:android-image-cropper:1.2.1'\n</code></pre>\n\n<blockquote>\n  <p><strong>Step 2</strong>: Add two activities in your package and in manifest</p>\n</blockquote>\n\n<pre><code>&lt;activity android:name=\".ui.activities.CropImageActivity\"\n    android:label=\"Crop Image\"&gt;&lt;/activity&gt;\n\n&lt;activity android:name=\".ui.activities.ImagePickerActivity\"\n    android:label=\"Pick Image\"&gt;&lt;/activity&gt;\n</code></pre>\n\n<p>CropImageActivity class</p>\n\n<pre><code>public class CropImageActivity extends AppCompatActivity implements CropImageView.OnSetImageUriCompleteListener, CropImageView.OnGetCroppedImageCompleteListener {\n\n    private static final int DEFAULT_ASPECT_RATIO_VALUES = 100;\n\n    public static final String CROPPED_IMAGE_PATH = \"cropped_image_path\";\n    public static final String EXTRA_IMAGE_URI = \"cropped_image_path\";\n\n    public static final String FIXED_ASPECT_RATIO = \"extra_fixed_aspect_ratio\";\n    public static final String EXTRA_ASPECT_RATIO_X = \"extra_aspect_ratio_x\";\n    public static final String EXTRA_ASPECT_RATIO_Y = \"extra_aspect_ratio_y\";\n\n    private static final String ASPECT_RATIO_X = \"ASPECT_RATIO_X\";\n\n    private static final String ASPECT_RATIO_Y = \"ASPECT_RATIO_Y\";\n\n    private CropImageView mCropImageView;\n\n    private int mAspectRatioX = DEFAULT_ASPECT_RATIO_VALUES;\n\n    private int mAspectRatioY = DEFAULT_ASPECT_RATIO_VALUES;\n\n    private boolean isFixedAspectRatio = false;\n\n    Bitmap croppedImage;\n    //endregion\n\n    private TextView tv_cancel, tv_crop;\n\n    // Saves the state upon rotating the screen/restarting the activity\n    @Override\n    protected void onSaveInstanceState(@SuppressWarnings(\"NullableProblems\") Bundle bundle) {\n        super.onSaveInstanceState(bundle);\n        bundle.putInt(ASPECT_RATIO_X, mAspectRatioX);\n        bundle.putInt(ASPECT_RATIO_Y, mAspectRatioY);\n    }\n\n    // Restores the state upon rotating the screen/restarting the activity\n    @Override\n    protected void onRestoreInstanceState(@SuppressWarnings(\"NullableProblems\") Bundle bundle) {\n        super.onRestoreInstanceState(bundle);\n        mAspectRatioX = bundle.getInt(ASPECT_RATIO_X);\n        mAspectRatioY = bundle.getInt(ASPECT_RATIO_Y);\n    }\n\n    public void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_crop_image);\n        tv_cancel = (TextView)findViewById(R.id.tv_cancel);\n        tv_crop = (TextView)findViewById(R.id.tv_crop);\n        if (!getIntent().hasExtra(EXTRA_IMAGE_URI)) {\n            cropFailed();\n            return;\n        }\n\n        isFixedAspectRatio = getIntent().getBooleanExtra(FIXED_ASPECT_RATIO, false);\n        mAspectRatioX = getIntent().getIntExtra(EXTRA_ASPECT_RATIO_X, DEFAULT_ASPECT_RATIO_VALUES);\n        mAspectRatioY = getIntent().getIntExtra(EXTRA_ASPECT_RATIO_Y, DEFAULT_ASPECT_RATIO_VALUES);\n\n        Uri imageUri = Uri.parse(getIntent().getStringExtra(EXTRA_IMAGE_URI));\n\n        // Initialize components of the app\n        mCropImageView = (CropImageView) findViewById(R.id.CropImageView);\n\n        // If you want to fix the aspect ratio, set it to 'true'\n        mCropImageView.setFixedAspectRatio(isFixedAspectRatio);\n\n        if (savedInstanceState == null) {\n            mCropImageView.setImageUriAsync(imageUri);\n        }\n\n        tv_cancel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cropFailed();\n            }\n        });\n\n        tv_crop.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mCropImageView.getCroppedImageAsync(mCropImageView.getCropShape(), 0, 0);\n            }\n        });\n    }\n\n    private void cropFailed() {\n        Toast.makeText(mCropImageView.getContext(), \"Image crop failed\", Toast.LENGTH_LONG).show();\n        setResult(RESULT_CANCELED);\n        finish();\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        mCropImageView.setOnSetImageUriCompleteListener(this);\n        mCropImageView.setOnGetCroppedImageCompleteListener(this);\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        mCropImageView.setOnSetImageUriCompleteListener(null);\n        mCropImageView.setOnGetCroppedImageCompleteListener(null);\n    }\n\n    @Override\n    public void onSetImageUriComplete(CropImageView view, Uri uri, Exception error) {\n        if (error == null) {\n            //Toast.makeText(mCropImageView.getContext(), \"Image load successful\", Toast.LENGTH_SHORT).show();\n        }\n        else {\n            //Toast.makeText(mCropImageView.getContext(), \"Image load failed: \" + error.getMessage(), Toast.LENGTH_LONG).show();\n            Toast.makeText(mCropImageView.getContext(), \"Unable to load image\", Toast.LENGTH_LONG).show();\n        }\n    }\n\n    @Override\n    public void onGetCroppedImageComplete(CropImageView view, Bitmap bitmap, Exception error) {\n        if (error == null) {\n            croppedImage = bitmap;\n            try {\n                String path = saveToInternalStorage(this, bitmap);\n                Intent resultIntent = new Intent();\n                resultIntent.putExtra(CROPPED_IMAGE_PATH, path);\n                setResult(Activity.RESULT_OK, resultIntent);\n                finish();\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n                cropFailed();\n            }\n        }\n        else {\n            cropFailed();\n        }\n    }\n\n    private String saveToInternalStorage(Context context, Bitmap bitmapImage) throws IOException {\n        ContextWrapper cw = new ContextWrapper(context);\n\n        // Path to /data/data/yourapp/app_data/imageDir\n        File directory = cw.getDir(\"imageDir\", Context.MODE_PRIVATE);\n\n        // Create imageDir\n        File mypath = new File(directory, \"image.jpg\");\n\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(mypath);\n            // Use the compress method on the BitMap object to write image to the OutputStream\n            //Bitmap scaledBitmap = getCompressedBitmap(bitmapImage);\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 70, fos);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        finally {\n            fos.close();\n        }\n        return directory.getAbsolutePath();\n    }\n}\n</code></pre>\n\n<h3>ImagePickerActivity class</h3>\n\n<pre><code>public class ImagePickerActivity extends AppCompatActivity {\n    private static final int REQUEST_PICK_IMAGE = 2365;\n    private static final int REQUEST_CROP_IMAGE = 2342;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        startActivityForResult(getPickImageChooserIntent(), REQUEST_PICK_IMAGE);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (resultCode == Activity.RESULT_OK) {\n            if(requestCode == REQUEST_PICK_IMAGE) {\n                Intent intent = new Intent(this, CropImageActivity.class);\n                Uri imageUri = getPickImageResultUri(data);\n                intent.putExtra(CropImageActivity.EXTRA_IMAGE_URI, imageUri.toString());\n                startActivityForResult(intent, REQUEST_CROP_IMAGE);\n            }\n            else\n                if(requestCode == REQUEST_CROP_IMAGE) {\n                    System.out.println(\"Image crop success:\" + data.getStringExtra(CropImageActivity.CROPPED_IMAGE_PATH));\n                    String imagePath = new File(data.getStringExtra(CropImageActivity.CROPPED_IMAGE_PATH), \"image.jpg\").getAbsolutePath();\n                    Intent result = new Intent();\n                    result.putExtra(\"image_path\", imagePath);\n                    setResult(Activity.RESULT_OK, result);\n                    finish();\n                }\n        }\n        else {\n            System.out.println(\"Image crop failed\");\n            setResult(Activity.RESULT_CANCELED);\n            finish();\n        }\n    }\n\n    /**\n     * Create a chooser intent to select the source to get image from.&lt;br/&gt;\n     * The source can be camera's (ACTION_IMAGE_CAPTURE) or gallery's (ACTION_GET_CONTENT).&lt;br/&gt;\n     * All possible sources are added to the intent chooser.\n     */\n    public Intent getPickImageChooserIntent() {\n\n        // Determine URI of camera image to save.\n        Uri outputFileUri = getCaptureImageOutputUri();\n\n        List&lt;Intent&gt; allIntents = new ArrayList&lt;&gt;();\n        PackageManager packageManager = getPackageManager();\n\n        // Collect all camera intents\n        Intent captureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        List&lt;ResolveInfo&gt; listCam = packageManager.queryIntentActivities(captureIntent, 0);\n        for (ResolveInfo res : listCam) {\n            Intent intent = new Intent(captureIntent);\n            intent.setComponent(new ComponentName(res.activityInfo.packageName, res.activityInfo.name));\n            intent.setPackage(res.activityInfo.packageName);\n            if (outputFileUri != null) {\n                intent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\n            }\n            allIntents.add(intent);\n        }\n\n        // Collect all gallery intents\n        Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\n        galleryIntent.setType(\"image/*\");\n        List&lt;ResolveInfo&gt; listGallery = packageManager.queryIntentActivities(galleryIntent, 0);\n        for (ResolveInfo res : listGallery) {\n            Intent intent = new Intent(galleryIntent);\n            intent.setComponent(new ComponentName(res.activityInfo.packageName, res.activityInfo.name));\n            intent.setPackage(res.activityInfo.packageName);\n            allIntents.add(intent);\n        }\n\n        // The main intent is the last in the list, so pickup the useless one\n        Intent mainIntent = allIntents.get(allIntents.size() - 1);\n        for (Intent intent : allIntents) {\n            if (intent.getComponent().getClassName().equals(\"com.android.documentsui.DocumentsActivity\")) {\n                mainIntent = intent;\n                break;\n            }\n        }\n        allIntents.remove(mainIntent);\n\n        // Create a chooser from the main intent\n        Intent chooserIntent = Intent.createChooser(mainIntent, \"Select source\");\n\n        // Add all other intents\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, allIntents.toArray(new Parcelable[allIntents.size()]));\n\n        return chooserIntent;\n    }\n\n    /**\n     * Get URI to image received from capture by camera.\n     */\n    private Uri getCaptureImageOutputUri() {\n        Uri outputFileUri = null;\n        File getImage = getExternalCacheDir();\n        if (getImage != null) {\n            outputFileUri = Uri.fromFile(new File(getImage.getPath(), \"pickImageResult.jpeg\"));\n        }\n        return outputFileUri;\n    }\n\n    /**\n     * Get the URI of the selected image from {@link #getPickImageChooserIntent()}.&lt;br/&gt;\n     * Will return the correct URI for camera and gallery image.\n     *\n     * @param data the returned data of the activity result\n     */\n    public Uri getPickImageResultUri(Intent data) {\n        boolean isCamera = true;\n        if (data != null) {\n            String action = data.getAction();\n            isCamera = action != null &amp;&amp; action.equals(MediaStore.ACTION_IMAGE_CAPTURE);\n        }\n        return isCamera ? getCaptureImageOutputUri() : data.getData();\n    }\n}\n</code></pre>\n\n<p>activity_crop_image.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/header\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:background=\"@color/colorblue\"\n        android:padding=\"15dp\"&gt;\n\n\n        &lt;TextView\n            android:id=\"@+id/tv_cancel\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:layout_marginLeft=\"10dp\"\n            android:text=\"Cancel\"\n            android:textColor=\"@color/colorwhite\"\n            android:textSize=\"18sp\"\n            android:textStyle=\"bold\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tv_crop\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_below=\"@+id/tv_title\"\n            android:layout_centerVertical=\"true\"\n            android:layout_marginRight=\"10dp\"\n            android:text=\"Crop\"\n            android:textColor=\"@color/colorwhite\"\n            android:textSize=\"18sp\"\n            android:textStyle=\"bold\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;com.theartofdev.edmodo.cropper.CropImageView\n        android:id=\"@+id/CropImageView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_below=\"@+id/header\"\n        android:layout_gravity=\"center\"\n        app:cropFixAspectRatio=\"true\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Step 3</strong>: Usage in fragment or activity class</p>\n</blockquote>\n\n<pre><code>private val REQUEST_PICK_IMAGE = 1002\nprofile_pic1.setOnClickListener {\n    startActivityForResult(Intent(activity, ImagePickerActivity::class.java), REQUEST_PICK_IMAGE)\n}\n\n\nfun setImage(imagePath: String) {\n    profile_pic1.setImageBitmap(getImageFromStorage(imagePath));\n}\n\nfun getImageFromStorage(path: String): Bitmap {\n    var f = File(path);\n    var options = BitmapFactory.Options();\n    options.inJustDecodeBounds = false;\n\n    // Calculate inSampleSize\n    options.inSampleSize = calculateInSampleSize(options, 512, 512);\n    return BitmapFactory.decodeStream(FileInputStream(f), null, options)\n}\n\nprivate fun calculateInSampleSize(\n        options: BitmapFactory.Options, reqWidth: Int, reqHeight: Int): Int {\n\n    // Raw height and width of image\n    val height = options.outHeight\n    val width = options.outWidth\n    var inSampleSize = 1\n\n    if (height &gt; reqHeight || width &gt; reqWidth) {\n\n        val halfHeight = height / 2\n        val halfWidth = width / 2\n\n        // Calculate the largest inSampleSize value that is a power of 2 and keeps both\n        // height and width larger than the requested height and width.\n        while (halfHeight / inSampleSize &gt; reqHeight &amp;&amp; halfWidth / inSampleSize &gt; reqWidth) {\n            inSampleSize *= 2\n        }\n    }\n    return inSampleSize\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (resultCode == RESULT_OK &amp;&amp; requestCode == requestCode) {\n        var imagePath = data!!.getStringExtra(\"image_path\");\n        setImage(imagePath);\n    }\n    else {\n        System.out.println(\"Failed to load image\");\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>NOTE: declare write/read and camera permission in the manifest and\n  runtime permissions as well</strong></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3385, "user_id": 5701085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbsOs.jpg?s=128&g=1", "display_name": "Asad Ali Choudhry", "link": "https://stackoverflow.com/users/5701085/asad-ali-choudhry"}, "is_accepted": false, "score": 1, "last_activity_date": 1592392152, "last_edit_date": 1592392152, "creation_date": 1588026212, "answer_id": 61469462, "question_id": 46127064, "link": "https://stackoverflow.com/questions/46127064/capture-and-save-image-with-kotlin-in-android-studio/61469462#61469462", "title": "Capture and save image with Kotlin in Android Studio", "body": "<p>The simplest code is to, open the native camera app to take a picture and handle result in the OnActivityResult method, as shown in the article <em><a href=\"https://handyopinion.com/capture-photo-with-camera-in-kotlin-android/\" rel=\"nofollow noreferrer\">Capture Picture with Camera in Kotlin \u2013 Android</a></em>.</p>\n\n<pre><code>val REQUEST_CODE = 200\n\nfun capturePhoto() {\n\n    val cameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    startActivityForResult(cameraIntent, REQUEST_CODE)\n}\n\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == REQUEST_CODE &amp;&amp; data != null){\n        imageView.setImageBitmap(data.extras.get(\"data\") as Bitmap)\n    }\n}\n</code></pre>\n\n<p>That's it.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 2381569, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MCHQV.jpg?s=128&g=1", "display_name": "ibrahim", "link": "https://stackoverflow.com/users/2381569/ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1616406205, "last_edit_date": 1616406205, "creation_date": 1616400177, "answer_id": 66742214, "question_id": 46127064, "link": "https://stackoverflow.com/questions/46127064/capture-and-save-image-with-kotlin-in-android-studio/66742214#66742214", "title": "Capture and save image with Kotlin in Android Studio", "body": "<p><a href=\"https://solutioncornor.blogspot.com/2021/03/how-to-take-picture-from-camera-and.html\" rel=\"nofollow noreferrer\">this</a> blog explains how take picture from camera and show in an imagview in android/kotlin -- very simple</p>\n"}], "owner": {"reputation": 171, "user_id": 8582821, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801112376585287/picture?type=large", "display_name": "Steven Colocho", "link": "https://stackoverflow.com/users/8582821/steven-colocho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13188, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1616406205, "creation_date": 1504930819, "last_edit_date": 1592391474, "question_id": 46127064, "link": "https://stackoverflow.com/questions/46127064/capture-and-save-image-with-kotlin-in-android-studio", "title": "Capture and save image with Kotlin in Android Studio", "body": "<p>I need help with Kotlin. I need to capture and save an image in my media store.</p>\n\n<p>My code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    var ListadeProductos = ArrayList&lt;Notas&gt;()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        camera.setOnClickListener {\n\n            val intentCamera = Intent(\"android.media.action.IMAGE_CAPTURE\")\n            startActivity(intentCamera)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["postgresql", "kotlin", "jooq"], "answers": [{"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 0, "last_activity_date": 1505037297, "creation_date": 1505037297, "answer_id": 46139398, "question_id": 46126999, "link": "https://stackoverflow.com/questions/46126999/test-jooq-postgres-jsonb-column-for-key-exists/46139398#46139398", "title": "test JOOQ postgres jsonb column for key exists", "body": "<p>There are two things worth mentioning here:</p>\n\n<h3>The <code>?</code> operator in JDBC</h3>\n\n<p>Unfortunately, there's no good solution to this as <code>?</code> is currently strictly limited to be used as a bind variable placeholder in the PostgreSQL JDBC driver. So, even if you could find a way to send that character to the server through jOOQ, the JDBC driver would still misinterpret it.</p>\n\n<p><a href=\"https://stackoverflow.com/a/38370973/521799\">A workaround is documented in this Stack Overflow question</a>.</p>\n\n<h3>Plain SQL and string literals</h3>\n\n<p>When you're using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating language</a> in jOOQ, beware that there is a parser that will parse certain tokens of your string, including e.g. comments and string literals. This means that your usage of...</p>\n\n<pre><code>DSL.field(\"{0}-&gt;&gt;'{1}'\", String::class.java, TABLE.TAGS, \"group\")\n</code></pre>\n\n<p>is incorrect, as <code>'{1}'</code> will be parsed as a string literal and sent to the server as is. If you want to use a variable string literal, do this instead:</p>\n\n<pre><code>DSL.field(\"{0}-&gt;&gt;{1}\", String::class.java, TABLE.TAGS, DSL.inline(\"group\"))\n</code></pre>\n\n<p>See also <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/impl/DSL.html#inline-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DSL.inline()</code></a></p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "accepted_answer_id": 46139398, "answer_count": 1, "score": 2, "last_activity_date": 1505037297, "creation_date": 1504929980, "question_id": 46126999, "link": "https://stackoverflow.com/questions/46126999/test-jooq-postgres-jsonb-column-for-key-exists", "title": "test JOOQ postgres jsonb column for key exists", "body": "<p>I've got a table <code>TABLE</code> that contains a jsonb column named <code>tags</code>. The <code>tags</code> element in each row may or may not contain a field called <code>group</code>.  My goal is to group by <code>tags.group</code> for all rows where <code>tags</code> contains a <code>group</code> field. Like the following postgres query:</p>\n\n<pre><code>select tags-&gt;&gt;'group' as group, sum(n) as sum\nfrom TABLE\nwhere tags ? 'group'\ngroup by tags-&gt;&gt;'group';\n</code></pre>\n\n<p>I'm trying to turn it into JOOQ and cannot find out how to express the <code>where tags ? 'group'</code> condition. </p>\n\n<p>For example, </p>\n\n<pre><code>val selectGroup = DSL.field(\"{0}-&gt;&gt;'{1}'\", String::class.java, TABLE.TAGS, \"group\")\ndsl().select(selectGroup, DSL.sum(TABLE.N))\n  .from(TABLE)\n  .where(TABLE.TAGS.contains('group'))\n  .groupBy(selectGroup)\n</code></pre>\n\n<p>This is equivalent to testing contains condition <code>@&gt;</code> in postgres. But I need to do exists condition <code>?</code>. How can I express that in JOOQ?</p>\n"}, {"tags": ["unit-testing", "kotlin", "spek"], "answers": [{"tags": [], "owner": {"reputation": 348, "user_id": 3425258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kFcU3.jpg?s=128&g=1", "display_name": "Saandji", "link": "https://stackoverflow.com/users/3425258/saandji"}, "is_accepted": true, "score": 1, "last_activity_date": 1504979372, "creation_date": 1504979372, "answer_id": 46133493, "question_id": 46126119, "link": "https://stackoverflow.com/questions/46126119/create-an-abstract-spek-for-initializing-shared-objects-with-kotlin-and-spek/46133493#46133493", "title": "Create an Abstract Spek for initializing shared objects with Kotlin and Spek", "body": "<p>Unfortunately, I didn't find the way to make the Abstract Spek or inheritance, but I've found the way to use Fixtures to achieve the desired results. </p>\n\n<p>Here's my pseudo code demonstrating it: </p>\n\n<pre><code>object MySpec: Spek({\n    describe(\"my tests with Fixtures\") {\n        val myMock1: SomeObject1 = mock()\n        val myMock2: SomeObject2 = mock()\n        val myMock3: SomeObject3 = mock()\n        val myMock4: SomeObject4 = mock()\n        val myMock5: SomeObject5 = mock()\n        val myMock6: SomeObject6 = mock()\n\n        val myClass = MyClassToTest(myMock1, myMock2, myMock3, myMock4, myMock5, myMock6)\n\n        afterEachTest { \n            reset(myMock1, myMock2, myMock3, myMock4, myMock5, myMock6)\n            //or we can just clear invocations, if we don't want to reset the mocks\n            //clearInvocations(myMock1, myMock2, myMock3, myMock4, myMock5, myMock6)\n        }\n\n        context(\"my first context for testing\") {\n            //initialization logic here specific for this context\n            val somethingSpecificHere = MySpecificLogicObject()\n            beforeEachTest { \n                whenever(myMock1.doSomething()).thenReturn(someResult)\n            }\n            on (\"calling the method i'm testing\"){\n                myClass.myMethod(somethingSpecificHere)\n\n                it (\"should do what expected\") {\n                    //verifies go here\n                }\n            }\n        }\n        context(\"my seconds context for testing\") {\n            //second context specific code\n        }\n    }\n})\n</code></pre>\n\n<p>Hope it will be useful for someone, who had the same problem </p>\n"}], "owner": {"reputation": 348, "user_id": 3425258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kFcU3.jpg?s=128&g=1", "display_name": "Saandji", "link": "https://stackoverflow.com/users/3425258/saandji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 46133493, "answer_count": 1, "score": 0, "last_activity_date": 1504979372, "creation_date": 1504917235, "last_edit_date": 1504961375, "question_id": 46126119, "link": "https://stackoverflow.com/questions/46126119/create-an-abstract-spek-for-initializing-shared-objects-with-kotlin-and-spek", "title": "Create an Abstract Spek for initializing shared objects with Kotlin and Spek", "body": "<p>I'm trying to write unit tests with Kotlin + Spek framework. So far looks pretty good, but I have a problem that i have to write a lot of boilerplate code, if i want to have several Spec objects for one class i'm testing.</p>\n\n<p>That's my code to illustrate the problem:</p>\n\n<pre><code>object MyFirstSpec : Spek({\n    val myMock1: SomeObject1 = mock()\n    val myMock2: SomeObject2 = mock()\n    val myMock3: SomeObject3 = mock()\n    val myMock4: SomeObject4 = mock()\n    val myMock5: SomeObject5 = mock()\n    val myMock6: SomeObject6 = mock()\n\n    val myClass = MyClassToTest(myMock1, myMock2, myMock3, myMock4, myMock5, myMock6)\n\n    given(\"something to test here\") {\n        //my test here\n    }\n})\n\nobject MyOtherSpec : Spek({\n    val myMock1: SomeObject1 = mock()\n    val myMock2: SomeObject2 = mock()\n    val myMock3: SomeObject3 = mock()\n    val myMock4: SomeObject4 = mock()\n    val myMock5: SomeObject5 = mock()\n    val myMock6: SomeObject6 = mock()\n\n    val myClass = MyClassToTest(myMock1, myMock2, myMock3, myMock4, myMock5, myMock6)\n\n    given(\"something else to test here\") {\n        //  my test here\n    }\n})\n</code></pre>\n\n<p>I would love to create the 'abstract' Spek, where I will define my mocks etc, and after that inherit or share it somehow across my Specs. </p>\n\n<p>Is there a way to achieve that?</p>\n"}, {"tags": ["javascript", "gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1504925753, "creation_date": 1504925753, "answer_id": 46126719, "question_id": 46125827, "link": "https://stackoverflow.com/questions/46125827/what-would-a-basic-gradle-script-kotlin-file-for-a-kotlin-js-project-look-like/46126719#46126719", "title": "What would a basic Gradle script Kotlin file for a Kotlin JS project look like?", "body": "<p>So after quite a bit of researching, I found a <a href=\"https://github.com/guenhter/kotlin-noob/tree/master/kotlin-js\" rel=\"nofollow noreferrer\">example</a> that suited my needs.</p>\n"}, {"comments": [{"owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "edited": false, "score": 0, "creation_date": 1505032161, "post_id": 46138091, "comment_id": 79239384, "body": "That&#39;s a tutorial solely for Groovy Gradle, not Groovy Kotlin. The example is useful nonetheless."}], "tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": false, "score": 1, "last_activity_date": 1505026523, "creation_date": 1505026523, "answer_id": 46138091, "question_id": 46125827, "link": "https://stackoverflow.com/questions/46125827/what-would-a-basic-gradle-script-kotlin-file-for-a-kotlin-js-project-look-like/46138091#46138091", "title": "What would a basic Gradle script Kotlin file for a Kotlin JS project look like?", "body": "<p>You can find tutorial for Kotlin/JS with gradle <a href=\"http://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">here</a> on official Kotlin site. Also, you may look at <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/js-dce\" rel=\"nofollow noreferrer\">example</a> which shows how to use Kotlin/JS with Gradle and Webpack.</p>\n"}, {"tags": [], "owner": {"reputation": 3485, "user_id": 300053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc4f36b549c1066a3b47bcfa85d40da?s=128&d=identicon&r=PG", "display_name": "eskatos", "link": "https://stackoverflow.com/users/300053/eskatos"}, "is_accepted": true, "score": 1, "last_activity_date": 1512394203, "creation_date": 1512394203, "answer_id": 47634506, "question_id": 46125827, "link": "https://stackoverflow.com/questions/46125827/what-would-a-basic-gradle-script-kotlin-file-for-a-kotlin-js-project-look-like/47634506#47634506", "title": "What would a basic Gradle script Kotlin file for a Kotlin JS project look like?", "body": "<p>The official Gradle Kotlin DSL repository contains a basic Kotlin/JS sample: <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples/hello-js\" rel=\"nofollow noreferrer\">https://github.com/gradle/kotlin-dsl/tree/master/samples/hello-js</a></p>\n"}], "owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 47634506, "answer_count": 3, "score": 1, "last_activity_date": 1512394203, "creation_date": 1504914069, "last_edit_date": 1512394143, "question_id": 46125827, "link": "https://stackoverflow.com/questions/46125827/what-would-a-basic-gradle-script-kotlin-file-for-a-kotlin-js-project-look-like", "title": "What would a basic Gradle script Kotlin file for a Kotlin JS project look like?", "body": "<p>I'm trying to use <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"nofollow noreferrer\">Kotlin-DSL</a> to write a Gradle build script in Kotlin. So far I've seen examples on how this can be done for a Java project. However since I'm developing a React Native app in Kotlin, there isn't any tutorials I've found for making one for Kotlin/JavaScript projects. So what would a <strong>basic</strong> Gradle script Kotlin file for such a purpose look like?</p>\n"}, {"tags": ["operators", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1505000653, "last_edit_date": 1505000653, "creation_date": 1504906085, "answer_id": 46124771, "question_id": 46124698, "link": "https://stackoverflow.com/questions/46124698/is-arrayof-a-statement/46124771#46124771", "title": "Is *arrayOf() a statement?", "body": "<p>No, it's neither a statement nor expression.</p>\n\n<p>The spread operator has a very special role: it can only modify the semantics of an array-typed expression passed as <code>vararg</code>, giving a special kind of argument. It cannot be used independently in other expressions, that's why the code where it's used inside an <code>if</code> expression does not compile.</p>\n"}], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46124771, "answer_count": 1, "score": 4, "last_activity_date": 1505000653, "creation_date": 1504905622, "question_id": 46124698, "link": "https://stackoverflow.com/questions/46124698/is-arrayof-a-statement", "title": "Is *arrayOf() a statement?", "body": "<p>I was using the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator</a>, when I noticed something strange:</p>\n\n<pre><code>// compiles\nval list1 = listOf(1, 2, *(if(0 &gt; 1) arrayOf(3) else arrayOf()))\n\n// does not compile  \nval list2 = listOf(1, 2, if(0 &gt; 1) *arrayOf(3) else *arrayOf())\n</code></pre>\n\n<p>One of the compiler errors is</p>\n\n<blockquote>\n  <p>Expecting an expression</p>\n</blockquote>\n\n<ul>\n<li>So, is <code>*arrayOf()</code> a statement? </li>\n<li>If yes, how can it be evaluated by <code>listOf()</code>?</li>\n</ul>\n"}, {"tags": ["spring", "proxy", "nullpointerexception", "kotlin", "visibility"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1504902154, "post_id": 46123089, "comment_id": 79210760, "body": "how did you test <code>MyService</code>?"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1504902530, "post_id": 46123089, "comment_id": 79210924, "body": "I don&#39;t know what do you exactly do with your class when you get the NPE, but try making the &#39;doWork&#39; function open. If you use this bean in another bean, then method &#39;doWork&#39; will not be proxied because it is final and Spring created a CGLib proxy."}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1504903998, "post_id": 46123089, "comment_id": 79211465, "body": "It&#39;s odd - I was actually able to resolve this by marking the <i>property</i> as <code>open</code> also. So <code>open protected val internalVariable = ...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1506866300, "post_id": 46331716, "comment_id": 79980316, "body": "Good answer, I think what you describe is exactly what&#39;s happening."}, {"owner": {"reputation": 347, "user_id": 147905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/998faaf8f4284f4cffa0910a9cd818b8?s=128&d=identicon&r=PG", "display_name": "Aleksi", "link": "https://stackoverflow.com/users/147905/aleksi"}, "edited": false, "score": 0, "creation_date": 1548165054, "post_id": 46331716, "comment_id": 95439091, "body": "I had this exact same problem when trying to use default values for arguments that used class properties. Thank you for the very good explanation of what to do to fix it and why!"}], "tags": [], "owner": {"reputation": 352, "user_id": 2788271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b413e60db963134c3ce9ed2123984?s=128&d=identicon&r=PG", "display_name": "jay", "link": "https://stackoverflow.com/users/2788271/jay"}, "is_accepted": true, "score": 19, "last_activity_date": 1505941393, "creation_date": 1505941393, "answer_id": 46331716, "question_id": 46123089, "link": "https://stackoverflow.com/questions/46123089/kotlin-instance-variable-is-null-when-accessed-by-spring-proxied-class/46331716#46331716", "title": "Kotlin instance variable is null when accessed by Spring proxied class", "body": "<p><em>I hit a similar issue and the above comments by Rafal G &amp; Craig Otis helped me-- so I'd like to propose that the following write up be accepted as an answer (or the comments above be changed to an answer and they be accepted).</em></p>\n\n<p><strong>The solution:  <em>open</em> the method/field.</strong></p>\n\n<p>(I hit a similar case where it was a closed <em>method</em> that caused the problem.  But whether it is a field/method the solution is the same, and I think the general cause is the same...)</p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>Why this is the solution is more complicated and definitely has to do with Spring AOP, final fields/methods, CGLIB proxies, and <em>how Spring+CGLIB attempts to deal with final methods (or fields).</em></p>\n\n<p>Spring uses proxies to represent certain objects to handle certain concerns dealt with by Aspect Oriented Programming.  This happens with services &amp; controllers (especially when <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html#tx-decl-explained\" rel=\"noreferrer\">@Transactional</a> or other advice is given that requires AOP solutions).  </p>\n\n<p>So a Proxy/Wrapper is needed with these beans, and Spring has 2 choices-- but only CGLIB is available when the parent class is not an interface.</p>\n\n<blockquote>\n  <p>When using CGLIB to proxy classes Spring will create a subclass called\n  something like myService$EnhancerByCGLIB. This enhanced class will\n  override some if not all of your business methods to apply\n  cross-cutting concerns around your actual code.</p>\n  \n  <p>Here comes the real surprise. This extra subclass does not call super\n  methods of the base class. Instead it creates second instance of\n  myService and delegates to it. This means you have two objects now:\n  your real object and CGLIB enhanced object pointing to (wrapping) it.</p>\n</blockquote>\n\n<p>From: <a href=\"https://stackoverflow.com/questions/11580911/spring-singleton-bean-fields-are-not-populated\">spring singleton bean fields are not populated</a></p>\n\n<p>Referenced By: <a href=\"https://stackoverflow.com/questions/34563058/spring-aop-cglib-proxys-field-is-null\">Spring AOP CGLIB proxy&#39;s field is null</a></p>\n\n<p>In Kotlin, classes &amp; methods are final unless explicitly opened. </p>\n\n<p>The magic of how Spring/CGLib when &amp; how chooses to wrap a Bean in an EnhancerByCGLIB with a target delegate (so that it can use finalized methods/fields) I don't know.  For my case, however the debugger showed me the 2 different structures. When the parent methods are <em>open</em>, it does not create a delegate (using subclassing instead) and works without NPE.   However, when a particular methods is closed <em>then for that closed method</em> Spring/CGLIB uses a wrapped object with delegation to a properly initialized target delegate.  For some reason, the actual invocation of the method is done with the context being the <em>wrapper</em> with its uninitialized field values (NULLs), causing NPE.  (Had the method on the actual target/delegate been called, there should not have been a problem).</p>\n\n<p>Craig was able to solve the problem by opening the property (not the method)-- which I suspect had a similar effect of allowing Spring/CGLib to either not use a delegate, or to somehow use the delegate correctly.</p>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1873, "favorite_count": 3, "accepted_answer_id": 46331716, "answer_count": 1, "score": 10, "last_activity_date": 1505941393, "creation_date": 1504897550, "question_id": 46123089, "link": "https://stackoverflow.com/questions/46123089/kotlin-instance-variable-is-null-when-accessed-by-spring-proxied-class", "title": "Kotlin instance variable is null when accessed by Spring proxied class", "body": "<p>I have a service class that is being proxied by Spring, like so:</p>\n\n<pre><code>@Service\n@Transactional\nopen class MyService { ... }\n</code></pre>\n\n<p>If I remove the <code>open</code> modifier, Spring complains that it needs to proxy the class to apply the <code>@Transactional</code> annotation tweaks.</p>\n\n<p>However, this is causing issues when calling a function on the proxied service, which attempts to access a variable:</p>\n\n<pre><code>@Service\n@Transactional\nopen class MyService { \n    protected val internalVariable = ...\n\n    fun doWork() {\n        internalVariable.execute() // NullPointerException\n    }\n}\n</code></pre>\n\n<p>The <code>internalVariable</code> is assigned as part of its declaration, does not have any annotations (like <code>@Autowired</code>, etc.), and <strong>works fine when I remove</strong> the <code>@Transactional</code> annotation and the requirement for Spring to proxy the class.</p>\n\n<p>Why is this variable null when Spring is proxying/subclassing my service class?</p>\n"}, {"tags": ["postgresql", "kotlin", "jooq"], "comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1505037778, "post_id": 46122909, "comment_id": 79240727, "body": "Looks like a Kotlin compiler type inference problem, at least when working with Java interoperability. Have you reported this to Jetbrains? Java arrays are covariant, it seems that Kotlin arrays are not."}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1505147736, "post_id": 46122909, "comment_id": 79282899, "body": "Thanks. I changed the select expression from using Array to using separate arguments and the error went away. Reported to Jetbrains as well."}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1505658515, "post_id": 46122909, "comment_id": 79493033, "body": "Great, I&#39;m glad you found a workaround. Feel free to also answer your own question here on Stack Overflow. I&#39;m sure someone might find that answer useful, in the future!"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1505147555, "creation_date": 1504896716, "last_edit_date": 1505147555, "question_id": 46122909, "link": "https://stackoverflow.com/questions/46122909/jooq-select-expression", "title": "JOOQ select expression", "body": "<p>I am trying to construct a select/groupby query on a postgres table <code>TABLE</code> with a JSON column <code>TAGS</code> in JOOQ:</p>\n\n<pre><code>val select = arrayOf(DSL.field(\"{0}-&gt;&gt;{1}\", String::class.java, TABLE.TAGS, DSL.inline(fields[0])),\n  DSL.sum(TABLE.VALUE))\nval groupBy = arrayOf(DSL.field(\"{0}-&gt;&gt;{1}\", String::class.java, TABLE.TAGS, DSL.inline(fields[0]))\ndsl()\n  .select(select)\n  .from(TABLE)\n  .groupBy(groupBy)\n  .fetch()\n</code></pre>\n\n<p>I'm getting errors saying that <code>select()</code> expects <code>Array&lt;SelectField&lt;?&gt;&gt;</code> but my expression is of type <code>Array&lt;Field&lt;out Any!&gt;!&gt;</code>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1504941235, "post_id": 46124084, "comment_id": 79218695, "body": "The latter creates 10 <code>List</code>s, each containing these 4 lists: <code>[0]</code>, <code>[0,1]</code>, <code>[0,1,2]</code>, <code>[0,1,2,3]</code> right? (edit: corrected 0-based indexes)"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 2, "creation_date": 1504956485, "post_id": 46124084, "comment_id": 79222496, "body": "@CodeConfident The first creates 1 array of 10 empty arrays. The latter creates 1 list of 10 lists each [0, 1, 2, 3]."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1505007181, "post_id": 46124084, "comment_id": 79235371, "body": "Ah ha! I mixed up the params. So I could use <code>List(4) { List(it+1) { it } }</code> to create <code>[[0],[0,1],[0,1,2],[0,1,2,3]]</code>?"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1505138132, "post_id": 46124084, "comment_id": 79276770, "body": "Yep: <a href=\"https://try.kotlinlang.org/#/UserProjects/2mrf90hpn4gcqrb7pjlnvmghnc/ebnjfkmt3bllqraq5tkb64sn17\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/2mrf90hpn4gcqrb7pjlnvmghnc&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 654, "user_id": 2607601, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zJuXj.jpg?s=128&g=1", "display_name": "vicmns", "link": "https://stackoverflow.com/users/2607601/vicmns"}, "edited": false, "score": 0, "creation_date": 1505171916, "post_id": 46124084, "comment_id": 79293613, "body": "@RuckusT-Boom perfect! Thanks!"}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 7, "last_activity_date": 1504902822, "last_edit_date": 1504902822, "creation_date": 1504902472, "answer_id": 46124084, "question_id": 46122802, "link": "https://stackoverflow.com/questions/46122802/is-there-an-equivalent-on-kotlin-for-swift-initrepeatingcount/46124084#46124084", "title": "Is there an equivalent on Kotlin for Swift init(repeating:count:)", "body": "<p>You can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"noreferrer\"><code>init</code> constructor</a> (it's available for arrays, lists, sets)</p>\n\n<pre><code>// 10x0 Array&lt;Array&lt;String&gt;&gt;\nval arrayOfArray = Array(10) { emptyArray&lt;String&gt;() }\n\n// 10x4 List&lt;List&lt;Int&gt;&gt;\nval listOfList = List(10) { List(4) { it } }\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 2607601, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zJuXj.jpg?s=128&g=1", "display_name": "vicmns", "link": "https://stackoverflow.com/users/2607601/vicmns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 46124084, "answer_count": 1, "score": 2, "last_activity_date": 1504902822, "creation_date": 1504896308, "question_id": 46122802, "link": "https://stackoverflow.com/questions/46122802/is-there-an-equivalent-on-kotlin-for-swift-initrepeatingcount", "title": "Is there an equivalent on Kotlin for Swift init(repeating:count:)", "body": "<p>I'm just wondering if there's an equivalent on Kotlin for the Swift initializer <code>init(repeating:count:)</code> </p>\n\n<p>For example it's really useful to create arrays of arrays with empty values</p>\n\n<pre><code>var arrayOfArray = [[String?]](repeating: [], count: 10)\n</code></pre>\n\n<p>I know that Kotlin has <code>listOf</code> but I don't know how the pass an array of empty list on a single line...</p>\n"}, {"tags": ["android", "textview", "kotlin", "dsl", "anko"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504962208, "post_id": 46121987, "comment_id": 79224025, "body": "The thing is LinearLayout does not support wrapping items to next line when space runs out. There is a couple of libraries for that, such as <a href=\"https://github.com/google/flexbox-layout\" rel=\"nofollow noreferrer\">github.com/google/flexbox-layout</a> or <a href=\"https://github.com/ApmeM/android-flowlayout\" rel=\"nofollow noreferrer\">github.com/ApmeM/android-flowlayout</a>, but you&#39;ll have to build the DSL yourself. Or use them without DSL."}, {"owner": {"reputation": 1756, "user_id": 6894116, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oUvHb.png?s=128&g=1", "display_name": "Rasmus Puls", "link": "https://stackoverflow.com/users/6894116/rasmus-puls"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1505914017, "post_id": 46121987, "comment_id": 79607372, "body": "Yes this is exactly what i want. Thanks a lot !"}], "owner": {"reputation": 1756, "user_id": 6894116, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oUvHb.png?s=128&g=1", "display_name": "Rasmus Puls", "link": "https://stackoverflow.com/users/6894116/rasmus-puls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544884073, "creation_date": 1504892694, "last_edit_date": 1544884073, "question_id": 46121987, "link": "https://stackoverflow.com/questions/46121987/android-anko-dsl-adding-textviews-and-make-them-newline-when-there-are-no-mo", "title": "Android anko DSL - adding textviews and make them &quot;newline&quot; when there are no more screen width?", "body": "<p>my task is simple I have an array of names, each name is added as a individual textview. However some of my arrays are long, and the textviews is too big to fit on the screen. The result is very ugle and I have no clue how to solve it. I have tried to use all different (as far as I know) layout types, and none of them seems to do the job I want. I simplye want them to jump to a new line when there is no more space left. A little like how this works: <a href=\"https://www.w3schools.com/css/tryit.asp?filename=trycss_float_elements\" rel=\"nofollow noreferrer\">https://www.w3schools.com/css/tryit.asp?filename=trycss_float_elements</a></p>\n\n<p>This is how it looks: <a href=\"https://i.stack.imgur.com/fv4CG.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is my current code:</p>\n\n<pre><code>for (game in games) {\n    verticalLayout {\n        padding = dip(5)\n        //border color\n        verticalLayout {\n            padding = dip(3)\n            backgroundColor = Color.rgb(227, 227, 227)\n            //background golor\n            verticalLayout {\n                padding = dip(3)\n                backgroundColor = Color.rgb(250, 250, 250)\n                linearLayout {\n                    var players = App.instance.db.getPlayerScores(game.toLong())\n                    var isFirst = true\n                    var colors = ArrayList(Arrays.asList(Color.BLUE, Color.RED, Color.GREEN, Color.MAGENTA, Color.YELLOW,Color.BLUE, Color.RED, Color.GREEN, Color.MAGENTA, Color.YELLOW,Color.BLUE, Color.RED, Color.GREEN, Color.MAGENTA, Color.YELLOW))\n                    var ci = 0;\n                    for (player in players) {\n                        if (!isFirst) {\n                            textView {\n                                text = \" vs. \"\n                                textSize = 18f\n                            }\n                        }\n                        textView {\n                            text = player.name\n                            textSize = 24f\n                            textColor = colors[ci]\n                            ci += 1\n                        }\n                        isFirst = false\n                    }\n                }\n                textView {\n                    val date = App.instance.db.getGameTime(game)\n                    text = date.substring(0, 16)\n                    textSize = 18f\n                    textColor = Color.GRAY\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>There should be some kind of solution to this without calculating the lenght of the content in the linearLayout and make it create a new leanaerLayout if next item will be too large to fit? If not... How could that be done?</p>\n"}, {"tags": ["android-studio", "kotlin", "dagger-2", "kapt"], "comments": [{"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1504971491, "post_id": 46120858, "comment_id": 79226828, "body": "filed <a href=\"https://issuetracker.google.com/issues/65506817\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/65506817</a>"}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1505321125, "post_id": 46120858, "comment_id": 79368618, "body": "Other people have complained about this as well.  The P1/S1 bug tracking issue is: <a href=\"https://issuetracker.google.com/issues/65032914\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/65032914</a> .  My bug was closed into it."}], "owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504895035, "creation_date": 1504887845, "last_edit_date": 1504895035, "question_id": 46120858, "link": "https://stackoverflow.com/questions/46120858/android-studio-fails-refactoring-read-only-kapt-generated-code", "title": "Android Studio fails refactoring &quot;read-only&quot; kapt generated code", "body": "<p>Working with Kotlin and Dagger I find that if I try to use Android Studio's Refactoring feature to change, e.g., the name of a class that is referenced in the code that kapt autogenerates for Dagger (in $buildDir/generated/source/kapt), that the refactor fails because the autogenerated code is \"read-only\".</p>\n\n<p>Deleting the build directory is a heavy-handed workaround.  Is there a setting or something that will prevent the problem?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5106636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f2ef6bfa6e3f0b427b94319fd8cb08?s=128&d=identicon&r=PG&f=1", "display_name": "Mannox", "link": "https://stackoverflow.com/users/5106636/mannox"}, "edited": false, "score": 0, "creation_date": 1505254309, "post_id": 46122572, "comment_id": 79334982, "body": "I never knew of that operator, I started to write something like:     <code>.flatMap({ name -&gt;                     var res = Observable.empty&lt;String&gt;()                     vM. updateUserName(name)                             .subscribe({                                         res = Observable.just(&quot;success&quot;)                                     },                                     { error -&gt; res = Observable.error&lt;String&gt;(error)                                     })                     result})</code>"}], "tags": [], "owner": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "is_accepted": false, "score": 0, "last_activity_date": 1504895302, "creation_date": 1504895302, "answer_id": 46122572, "question_id": 46120149, "link": "https://stackoverflow.com/questions/46120149/android-architecture-components-room-viewmodel-completeableformaction/46122572#46122572", "title": "Android Architecture Components Room ViewModel CompleteableFormAction", "body": "<p>Turn this </p>\n\n<pre><code>.map({ name -&gt;\n       viewModel.updateUserName(name)\n                 .subscribe(\n                  { Timber.d(\u201cSuccess\u201d) },\n                 { error -&gt; Timber.d(error, \u201csomething went wrong\u201d)) })                    \n            })\n</code></pre>\n\n<p>To this</p>\n\n<pre><code>.flatMapCompletable name -&gt;\n           viewModel.updateUserName(name))                    \n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5106636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32f2ef6bfa6e3f0b427b94319fd8cb08?s=128&d=identicon&r=PG&f=1", "display_name": "Mannox", "link": "https://stackoverflow.com/users/5106636/mannox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504895302, "creation_date": 1504885408, "question_id": 46120149, "link": "https://stackoverflow.com/questions/46120149/android-architecture-components-room-viewmodel-completeableformaction", "title": "Android Architecture Components Room ViewModel CompleteableFormAction", "body": "<p>So I thought I would try <code>Room</code> out on a small side-project.\nI followed Florina Muntenescu\u2019s example project:\n<a href=\"https://github.com/googlesamples/android-architecture-components\" rel=\"nofollow noreferrer\">android-architecture-components</a></p>\n\n<p>I am paying particular attention to classes: <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/BasicRxJavaSampleKotlin/app/src/main/java/com/example/android/observability/ui/UserActivity.kt\" rel=\"nofollow noreferrer\">UserActivity.kt</a>, <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/BasicRxJavaSampleKotlin/app/src/main/java/com/example/android/observability/ui/UserViewModel.kt\" rel=\"nofollow noreferrer\">UserViewModel.kt</a>, <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/BasicRxJavaSampleKotlin/app/src/main/java/com/example/android/observability/persistence/UserDao.kt\" rel=\"nofollow noreferrer\">UserDao.kt</a></p>\n\n<p><code>UserViewModel#updateUserName()</code> returns a <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Completable.html\" rel=\"nofollow noreferrer\">Completable</a> and has to be subscribed to returning <code>onComplete</code> or <code>onError</code> </p>\n\n<p>When I attempt to put my equivalent of <code>viewModel.updateUserName(userName)</code> into an <code>RxBindings</code> chain.\nIf I subscribe to it <em>normally</em> I am passed a <code>Disposable!</code> into the <code>onNext</code> with a value of <code>\"DISPOSED\"</code> in the final <code>.subscribe</code></p>\n\n<p>The issue is that this will not emit an <em>Error</em> and thus never know if there is an issue</p>\n\n<p>How could I adapt the code below so that the final <code>.subscribe</code> would return the <em>correct</em> events?</p>\n\n<pre><code>RxTextView.textChanges(editText)\n            .debounce(250L, TimeUnit.MILLISECONDS, schedulers.main)\n            .subscribeOn(schedulers.main)\n            .observeOn(schedulers.disk)\n            .map({ name -&gt;\n                viewModel.updateUserName(name)\n                        .subscribe(\n                                { Timber.d(\u201cSuccess\u201d) },\n                                { error -&gt; Timber.d(error, \u201csomething went wrong\u201d)) })                    \n            })\n            .observeOn(schedulers.main)\n            .subscribe(\n                    { Timber.d(\"name changed $it}\") },\n                    { Timber.e(it, \"name error\") })\n</code></pre>\n\n<p>Thanks in advance</p>\n\n<p>M.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 151, "user_id": 710265, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0afcfa89cd0292c127ba586ade69abbb?s=128&d=identicon&r=PG", "display_name": "sjbwylbs", "link": "https://stackoverflow.com/users/710265/sjbwylbs"}, "edited": false, "score": 0, "creation_date": 1504878402, "post_id": 46117960, "comment_id": 79198278, "body": "DecoratingStringHashMapper is package in org.springframework.data.redis.hash.DecoratingStringHashMapp&zwnj;&#8203;er"}, {"owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "edited": false, "score": 0, "creation_date": 1504881289, "post_id": 46117960, "comment_id": 79200302, "body": "I tried your code myself and it works fine. Maybe make sure your version of Kotlin and its compiler is up to date. Also it seems as if JacksonHashMapper has been deprecated."}, {"owner": {"reputation": 151, "user_id": 710265, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0afcfa89cd0292c127ba586ade69abbb?s=128&d=identicon&r=PG", "display_name": "sjbwylbs", "link": "https://stackoverflow.com/users/710265/sjbwylbs"}, "reply_to_user": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "edited": false, "score": 0, "creation_date": 1504881759, "post_id": 46117960, "comment_id": 79200593, "body": "yet, it upgrade to Jackson2HashMapper,and kotlin look&#39;s like didn&#39;t need Typed, and i try use    private val postMapper = DecoratingStringHashMapper(Jackson2HashMapper(true)),it&#39;s just fine. and i still coding full example to try. I am sure my kotlin and its compiler is up to date."}, {"owner": {"reputation": 151, "user_id": 710265, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0afcfa89cd0292c127ba586ade69abbb?s=128&d=identicon&r=PG", "display_name": "sjbwylbs", "link": "https://stackoverflow.com/users/710265/sjbwylbs"}, "reply_to_user": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "edited": false, "score": 0, "creation_date": 1504883568, "post_id": 46117960, "comment_id": 79201730, "body": "sorry. its very bad luck.the example&#39;s pojo&#39;s property type all a string type, but my model have much Long property, i dont want to continue to do this, i get up this way."}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 710265, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0afcfa89cd0292c127ba586ade69abbb?s=128&d=identicon&r=PG", "display_name": "sjbwylbs", "link": "https://stackoverflow.com/users/710265/sjbwylbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1504884175, "creation_date": 1504884175, "answer_id": 46119784, "question_id": 46117960, "link": "https://stackoverflow.com/questions/46117960/how-to-use-decoratingstringhashmapper-with-kotlin/46119784#46119784", "title": "how to use DecoratingStringHashMapper with kotlin?", "body": "<p>good news,with kotlin didn't need the typed,just use that like this:</p>\n\n<pre><code>  private val postMapper = \n       DecoratingStringHashMapper(Jackson2HashMapper(true))\n</code></pre>\n\n<p>hope its help!</p>\n"}], "owner": {"reputation": 151, "user_id": 710265, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0afcfa89cd0292c127ba586ade69abbb?s=128&d=identicon&r=PG", "display_name": "sjbwylbs", "link": "https://stackoverflow.com/users/710265/sjbwylbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504884175, "creation_date": 1504878265, "question_id": 46117960, "link": "https://stackoverflow.com/questions/46117960/how-to-use-decoratingstringhashmapper-with-kotlin", "title": "how to use DecoratingStringHashMapper with kotlin?", "body": "<p>With spring data keyvalue example have a code below:</p>\n\n<pre><code>private final HashMapper&lt;Post, String, String&gt; postMapper =\n   new DecoratingStringHashMapper&lt;Post&gt;(\n        new JacksonHashMapper&lt;Post&gt;(Post.class));\n</code></pre>\n\n<p>I use kotlin online tool, it convert to :</p>\n\n<pre><code>private val postMapper = DecoratingStringHashMapper&lt;Post&gt;(\nJacksonHashMapper&lt;Post&gt;(Post::class.java))\n</code></pre>\n\n<p>but idea ide tell's me that:</p>\n\n<blockquote>\n  <p>Error:(28, 5) Kotlin: Type mismatch: inferred type is\n  JacksonHashMapper but HashMapper! was expected</p>\n</blockquote>\n\n<p>how to do with that?</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 79, "user_id": 1639348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346d85ad7c743fd24f9b0c7002de9f5?s=128&d=identicon&r=PG", "display_name": "user1639348", "link": "https://stackoverflow.com/users/1639348/user1639348"}, "edited": false, "score": 0, "creation_date": 1505120656, "post_id": 46116102, "comment_id": 79265378, "body": "I found another solution to serve the css. I created a <code>webapp</code> directory in <code>&#47;src&#47;main&#47;</code>. My css is located here: <code>&#47;src&#47;main&#47;webapp&#47;css&#47;style.css</code> To link it in the header I use <a href=\"http://localhost:xxxx/first-project/css/style.css\" rel=\"nofollow noreferrer\">localhost:xxxx/first-project/css/style.css</a>"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 1639348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346d85ad7c743fd24f9b0c7002de9f5?s=128&d=identicon&r=PG", "display_name": "user1639348", "link": "https://stackoverflow.com/users/1639348/user1639348"}, "edited": false, "score": 0, "creation_date": 1504875136, "post_id": 46116232, "comment_id": 79196121, "body": "0 down vote accept \t  Thanks for your answer. Not sure how to &quot;serve&quot; the css file. Is this something I have to config in Gradle?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 79, "user_id": 1639348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346d85ad7c743fd24f9b0c7002de9f5?s=128&d=identicon&r=PG", "display_name": "user1639348", "link": "https://stackoverflow.com/users/1639348/user1639348"}, "edited": false, "score": 0, "creation_date": 1504876050, "post_id": 46116232, "comment_id": 79196672, "body": "Expanded answer to cover how to serve css"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 1, "last_activity_date": 1504875904, "last_edit_date": 1504875904, "creation_date": 1504872573, "answer_id": 46116232, "question_id": 46116102, "link": "https://stackoverflow.com/questions/46116102/kotlin-web-app-link-css-file/46116232#46116232", "title": "Kotlin Web App | link css file", "body": "<p>You need to serve your CSS file, you cannot just have a relative link to the filesystem, because the browser is trying to read a path that is not being served on your server.</p>\n\n<p>If you serve it at <code>/style.css</code> then you can put the href value as <code>style.css</code>, otherwise you want to put the value as the path to the css file either from the root of the site if it begins with /, or relative to /hello otherwise.</p>\n\n<p>The simplest way to serve it would be to add it as a second servlet on your server, with a path of <code>style.css</code>. There are better ways, but these tend to be server dependent.</p>\n"}], "owner": {"reputation": 79, "user_id": 1639348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346d85ad7c743fd24f9b0c7002de9f5?s=128&d=identicon&r=PG", "display_name": "user1639348", "link": "https://stackoverflow.com/users/1639348/user1639348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 1, "accepted_answer_id": 46116232, "answer_count": 1, "score": 1, "last_activity_date": 1504875904, "creation_date": 1504872174, "last_edit_date": 1504872874, "question_id": 46116102, "link": "https://stackoverflow.com/questions/46116102/kotlin-web-app-link-css-file", "title": "Kotlin Web App | link css file", "body": "<p>I'm new in Kotlin and Java and started with this example: <a href=\"https://kotlinlang.org/docs/tutorials/httpservlets.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/httpservlets.html</a></p>\n\n<p>I used Gradle to build the app and I got it working. In the next step I tried to link a CSS file but I get always 404 errors. I created the css file here: src/main/resources/css/style.css</p>\n\n<p>Gradle copied the file to this location: build/resources/main/css/style.css and I used this path to link it in the source code.</p>\n\n<pre><code>package org.jetbrains.kotlin.demo\n\nimport javax.servlet.annotation.WebServlet\nimport javax.servlet.http.HttpServlet\nimport javax.servlet.http.HttpServletRequest\nimport javax.servlet.http.HttpServletResponse\n\n@WebServlet(name = \"Hello\", value = \"/hello\")\nclass HomeController : HttpServlet() {\n    override fun doGet(req: HttpServletRequest, res: HttpServletResponse) {\n        res.writer.write(myView(\"nice headline\"))\n    }\n\n    fun myView(headline: String ): String  {\n        var content = \"\"\"&lt;!DOCTYPE html&gt;&lt;html&gt;\n            |&lt;head&gt;\n            |&lt;link href=\"./build/resources/main/css/style.css\" rel=\"stylesheet\"&gt;\n            |&lt;/head&gt;\n            |&lt;body&gt;&lt;h1&gt;$headline&lt;/h1&gt;&lt;/body&gt;\n            |&lt;/html&gt;\"\"\".trimMargin()\n        return content\n    }\n}\n</code></pre>\n\n<p>Any idea what's wrong here? \nTHX!</p>\n"}, {"tags": ["syntax", "kotlin"], "comments": [{"owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "edited": false, "score": 1, "creation_date": 1504871684, "post_id": 46115904, "comment_id": 79193815, "body": "On the second thought - should I just create a bunch of overloaded functions (three, actually) plus a private function which will actually do the cool stuff?  I hope there&#39;s something more concise in kotlin."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1504872487, "post_id": 46115904, "comment_id": 79194354, "body": "You can have a check inside the method for if both are set, but what kind of situation do you have where the defaults cannot be used together?"}, {"owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1504873714, "post_id": 46115904, "comment_id": 79195192, "body": "The other way round - the function shouldn&#39;t be called with no arguments.  The way I do it now, is by throwing the exception when no arguments provided."}], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "edited": false, "score": 0, "creation_date": 1504874265, "post_id": 46116334, "comment_id": 79195561, "body": "I have a case when I need to call the function with both arguments provided, I guess that&#39;s cannot be done with just two functions?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1504942822, "post_id": 46116334, "comment_id": 79219053, "body": "It works... but it&#39;s not very glanceable. I have to stop and read it careful to understand it&#39;s offering all 3 variants (int-only, int &amp; string =&gt; overload 1; string-only =&gt; overload 2)."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1504878555, "last_edit_date": 1504878555, "creation_date": 1504872948, "answer_id": 46116334, "question_id": 46115904, "link": "https://stackoverflow.com/questions/46115904/kotlin-default-arguments-forbid-zero-arguments-calls/46116334#46116334", "title": "Kotlin default arguments: forbid zero arguments calls", "body": "<p>There is no syntax in Kotlin that would allow you to accomplish what you need. Use overloaded functions (I'd use two, one for each required argument):</p>\n\n<pre><code>fun doCoolStuff(arg1: Int, arg2: String? = null) { ... }\nfun doCoolStuff(arg2: String?) { doCoolStuff(defaultIntValue(), arg2) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1504942654, "post_id": 46116365, "comment_id": 79219018, "body": "If the 3rd overload had a default value of null for the String param you could remove the 1st overload... Though I actually think your code is easier to read."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1504874023, "last_edit_date": 1504874023, "creation_date": 1504873027, "answer_id": 46116365, "question_id": 46115904, "link": "https://stackoverflow.com/questions/46115904/kotlin-default-arguments-forbid-zero-arguments-calls/46116365#46116365", "title": "Kotlin default arguments: forbid zero arguments calls", "body": "<p>This is not possible because you made both arguments optional. You could add a check in the method body or, what I'd prefer, provide proper <strong>overloads</strong>:</p>\n\n<pre><code>fun doCoolStuff(arg1: Int) {\n    doCoolStuff(arg1, null)\n}\n\nfun doCoolStuff(arg2: String?) {\n    doCoolStuff(0, arg2)\n}\n\nfun doCoolStuff(arg1: Int, arg2: String?) {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "edited": false, "score": 1, "creation_date": 1504873961, "post_id": 46116648, "comment_id": 79195378, "body": "Sorry, the idea to declare <i>new</i> methods with Deprecated isn&#39;t appealing to me :) On the other hand, it would add a nice self-explainable warning in Android Studio..."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "edited": false, "score": 1, "creation_date": 1504888893, "post_id": 46116648, "comment_id": 79204712, "body": "@AlexeyGorovoy It produces compile-time error instead of simply warning."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 0, "last_activity_date": 1504888447, "last_edit_date": 1504888447, "creation_date": 1504873833, "answer_id": 46116648, "question_id": 46115904, "link": "https://stackoverflow.com/questions/46115904/kotlin-default-arguments-forbid-zero-arguments-calls/46116648#46116648", "title": "Kotlin default arguments: forbid zero arguments calls", "body": "<p>You can declare <code>doCoolStuff()</code> with zero parameter and mark it as deprecated with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-deprecation-level/-e-r-r-o-r.html\" rel=\"nofollow noreferrer\"><code>DeprecationLevel.ERROR</code></a>.</p>\n\n<pre><code>fun doCoolStuff(arg1: Int = 0, arg2: String? = null) {}\n\n@Deprecated(\"Should be called with at least one parameter\", level = DeprecationLevel.ERROR)\nfun doCoolStuff() {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 2, "creation_date": 1504876629, "post_id": 46117086, "comment_id": 79197059, "body": "This would only happen at runtime which is bad. Doing it like s1m0nw1 would already give an error at compile time."}, {"owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "edited": false, "score": 0, "creation_date": 1504879269, "post_id": 46117086, "comment_id": 79198897, "body": "I would argue if this approach &quot;bad&quot; - it probably depends on the context in which function is called. Anyway, I use this approach now and posted the question to try to find a better solution."}], "tags": [], "owner": {"reputation": 74, "user_id": 894154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2CDWe.jpg?s=128&g=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/894154/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1504875353, "creation_date": 1504875353, "answer_id": 46117086, "question_id": 46115904, "link": "https://stackoverflow.com/questions/46115904/kotlin-default-arguments-forbid-zero-arguments-calls/46117086#46117086", "title": "Kotlin default arguments: forbid zero arguments calls", "body": "<p>Might be I don't understand but this works for me</p>\n\n<pre><code>fun doCoolStuff() {\n    throw IllegalArgumentException(\"Can't do this\")\n}\n</code></pre>\n\n<p>Just define the method with no parameters and throw exception.</p>\n"}], "owner": {"reputation": 591, "user_id": 1178797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6a5d43dc788519aeede4e31589dda34?s=128&d=identicon&r=PG", "display_name": "AlexeyGorovoy", "link": "https://stackoverflow.com/users/1178797/alexeygorovoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 46116334, "answer_count": 4, "score": 2, "last_activity_date": 1504888447, "creation_date": 1504871585, "question_id": 46115904, "link": "https://stackoverflow.com/questions/46115904/kotlin-default-arguments-forbid-zero-arguments-calls", "title": "Kotlin default arguments: forbid zero arguments calls", "body": "<p>In my project I have a function like this:</p>\n\n<pre><code>fun doCoolStuff(arg1: Int = 0, arg2: String? = null) {\n}\n</code></pre>\n\n<p>Which I want it to use it in following cases:</p>\n\n<pre><code>obj.doCoolStuff(101) // only first argument provided\nobj.doCoolStuff(\"102\") // only second argument provided\nobj.doCoolStuff(103, \"104\") // both arguments provided\n</code></pre>\n\n<p>But not in this one:</p>\n\n<pre><code>obj.doCoolStuff() // illegal case, should not be able to call the function like this\n</code></pre>\n\n<p>How do I achieve this on the syntax level?</p>\n"}, {"tags": ["android", "hashmap", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1504872955, "post_id": 46115544, "comment_id": 79194673, "body": "How to get 03:00 PM also in the current 02:00 - 03:00 PM group? Any idea @hotkey?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1504873819, "post_id": 46115544, "comment_id": 79195273, "body": "@SirajSumra, see <a href=\"https://try.kotlinlang.org/#/UserProjects/c3e46gmrb4nokp3nbdghrua2l4/f0rut7oncb0ppkalcrfbnh1jdp\" rel=\"nofollow noreferrer\">another demo</a>, there I used the formatted strings as group keys. You might want to adjust the logic that sets the hour, though."}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1505712730, "post_id": 46115544, "comment_id": 79506688, "body": "Your solution really worked. But there is an issue in selection of the items. Can you please look into this issue: <a href=\"https://stackoverflow.com/questions/46217375/android-issue-in-selection-and-deselection-of-items-in-an-adapter-kotlin\" title=\"android issue in selection and deselection of items in an adapter kotlin\">stackoverflow.com/questions/46217375/&hellip;</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1504871016, "last_edit_date": 1504871016, "creation_date": 1504870354, "answer_id": 46115544, "question_id": 46115002, "link": "https://stackoverflow.com/questions/46115002/how-to-group-items-of-arraylist-of-time-in-hashmap-in-kotlin/46115544#46115544", "title": "How to group items of Arraylist of time in HashMap in Kotlin?", "body": "<p>Try something like this (given <code>items</code> with the time values stored in <code>timeString</code>):</p>\n\n<pre><code>val format = SimpleDateFormat(\"hh:mm aa\")\nval calendar = GregorianCalendar.getInstance()\n\nval groups = items.groupBy { item -&gt;\n    val date = format.parse(item.timeString)\n    calendar.setTime(date)\n    calendar.get(Calendar.HOUR_OF_DAY)\n}\n</code></pre>\n\n<p><a href=\"https://try.kotlinlang.org/#/UserProjects/gimof9c5vdke30qcnfqcg5idcp/7imhtho55okr5c4rlgaet7era3\" rel=\"noreferrer\"><sup>(runnable demo)</sup></a></p>\n\n<p>See: </p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a></li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"noreferrer\"><code>groupBy { ... }</code></a></li>\n<li><a href=\"https://stackoverflow.com/questions/11994790/parse-time-of-format-hhmmss\">java - Parse time of format hh:mm:ss</a></li>\n</ul>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2869, "favorite_count": 1, "accepted_answer_id": 46115544, "answer_count": 1, "score": 0, "last_activity_date": 1504871016, "creation_date": 1504868586, "question_id": 46115002, "link": "https://stackoverflow.com/questions/46115002/how-to-group-items-of-arraylist-of-time-in-hashmap-in-kotlin", "title": "How to group items of Arraylist of time in HashMap in Kotlin?", "body": "<p>I need to group the times together like 02:10 PM, 02:30 PM should come in group 02:00 PM - 03:00 PM. I am getting the all times in yyyy-MM-dd'T'HH:mm:ss.SSS+00:00 format. How to group the time together in 02:10 PM format? </p>\n\n<p>Currently I converted them in hh:mm aa format and got the list, How to group them in Arraylists and finally store them in Map, So that I can list the times in Recyclerview?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1504867542, "post_id": 46114648, "comment_id": 79191344, "body": "Parameters in kotlin are implicitly <code>val</code>, so assigning a new value to it will produce an error."}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "reply_to_user": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1504867797, "post_id": 46114648, "comment_id": 79191494, "body": "@Kiskae you are right, I have edited my answer properly"}, {"owner": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "edited": false, "score": 0, "creation_date": 1505239739, "post_id": 46114648, "comment_id": 79328583, "body": "@AlexTa <code>View?</code> does not mean the view is optional but it means that the view can be null. kindly update your answer so that i can accept it."}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 1, "last_activity_date": 1505327528, "last_edit_date": 1505327528, "creation_date": 1504867349, "answer_id": 46114648, "question_id": 46113937, "link": "https://stackoverflow.com/questions/46113937/smartcasting-to-and-from-platform-type-in-kotlin/46114648#46114648", "title": "Smartcasting to and from platform type in kotlin", "body": "<p>Because <code>convertView</code> is a nullable type variable(<code>View?</code>), <code>var conView = convertView</code> assigment creates a copy of a nullable <code>conView</code> variable. So you should handle <code>conView</code> variable as nullable.</p>\n\n<p>Try the following way:</p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View? {\n    var binding : ImageBinding\n    convertView?.let {\n        binding = it.tag as ImageBinding\n        return it\n    }\n    binding = DataBindingUtil.inflate(LayoutInflater.from(parent?.context), R.layout.image, parent, false)\n    val conView = binding.root\n    conView.tag = binding\n    return conView\n}\n</code></pre>\n\n<p><strong>Note</strong>: Semicolons in Kotlin are not required, be aware of that</p>\n"}], "owner": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 46114648, "answer_count": 1, "score": 0, "last_activity_date": 1515361774, "creation_date": 1504865161, "last_edit_date": 1515361774, "question_id": 46113937, "link": "https://stackoverflow.com/questions/46113937/smartcasting-to-and-from-platform-type-in-kotlin", "title": "Smartcasting to and from platform type in kotlin", "body": "<p>I am using kotlin to create my adapter which extends <code>BaseAdapter</code> in android. below is the code inside <code>getView</code> method</p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View? {\n        var binding : ImageBinding\n        var conView = convertView\n        if(conView == null){\n            binding = DataBindingUtil.inflate(LayoutInflater.from(parent?.context),\n                    R.layout.image, parent, false)\n            conView = binding.root;\n            conView.tag = binding\n        }else {\n            binding = conView.getTag() as ImageBinding\n        }\n\n        return conView;\n}\n</code></pre>\n\n<p><code>conView.tag = binding</code> and <code>binding = conView.getTag()</code> is highlighted in a pink-like color.When i hover over <code>conView.tag = binding</code> with my mouse, a popup appears with a message <strong>Smart cast to android.view.View!</strong>. And when i hover over <code>binding = conView.tag</code>,a popup appears with a message <strong>Smart cast to android.view.View</strong>. Note the difference in the two messages where the latter is missing the platform type sign (!)</p>\n\n<p>How can i implement the two suggested options?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension", "anko"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1504866255, "post_id": 46113833, "comment_id": 79190513, "body": "Take a look at this: <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/type-safe-builders.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 1, "creation_date": 1505106947, "post_id": 46114818, "comment_id": 79258657, "body": "Need some time to understand this. Not getting straight into my head :/"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505112120, "post_id": 46114818, "comment_id": 79260656, "body": "What exactly is hard to get for you, let me provide more info then?"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505112358, "post_id": 46114818, "comment_id": 79260782, "body": "Thanks for the response. I&#39;ll have a look in the night and then let you know"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505112596, "post_id": 46114818, "comment_id": 79260906, "body": "Ok cool. I&#39;ve extended the description a little bit. The core concept to understand is &quot;function literals with receiver&quot;, aka &quot;lambda with receiver&quot;"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505112867, "post_id": 46114818, "comment_id": 79261030, "body": "Thanks :) I will have a look"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505238868, "post_id": 46114818, "comment_id": 79328179, "body": "I understand a little bit. Let&#39;s say, <code>temp</code> is the context function. Now you are calling <code>onSuccess</code> method of <code>temp</code> (Context). Until this is fine. Now going inside it confuses me totally.. :/"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505239036, "post_id": 46114818, "comment_id": 79328262, "body": "Let&#39;s say I am trying to create a syntax like this for an interface with 2 callbacks. Like retrofit callback, textwatcher etc.."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505368482, "post_id": 46114818, "comment_id": 79385913, "body": "Right, first you call <code>onSuccess</code> (Method of <code>Context</code>) then you call <code>toast</code> (Method of <code>OnSuccessAction</code>)"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505371696, "post_id": 46114818, "comment_id": 79387498, "body": "Got it! Thanks! :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505371845, "post_id": 46114818, "comment_id": 79387573, "body": "That&#39;s great. I know, it requires another way of thinking and isn&#39;t that easy actually. Good luck anyways :)"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505371917, "post_id": 46114818, "comment_id": 79387624, "body": "Once you get there, it seems easy. But it was first time, so took a little time for me. Also created something like this with listeners.."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1505372092, "post_id": 46114818, "comment_id": 79387712, "body": "That&#39;s great and totally fine, congrats"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 13, "last_activity_date": 1518951373, "last_edit_date": 1518951373, "creation_date": 1504867954, "answer_id": 46114818, "question_id": 46113833, "link": "https://stackoverflow.com/questions/46113833/how-to-create-kotlin-dsl-dsl-syntax-kotlin/46114818#46114818", "title": "How to create Kotlin DSL - DSL syntax Kotlin", "body": "<h2>Kotlin DSLs</h2>\n\n<p>Kotlin is great for writing your own <strong>Domain Specific Languages</strong>, also called <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"noreferrer\">type-safe builders</a>. As you mentioned, the Anko library is an example making use of DSLs. The most important language feature you need to understand here is called <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\">\"Function Literals with Receiver\"</a>, which you made use of already: <code>Test.() -&gt; Unit</code></p>\n\n<h2>Function Literals with Receiver - Basics</h2>\n\n<p>Kotlin supports the concept of \u201cfunction literals with receivers\u201d. This enables calling visible methods on the <strong>receiver</strong> of the function literal in its body <em>without any specific qualifiers</em>. This is very <strong>similar to extension functions</strong>, in which it\u2019s also possible to access members of the receiver object inside the extension. </p>\n\n<p>A simple example, also one of the coolest functions in the Kotlin standard library, is<code>apply</code>:</p>\n\n<pre><code>public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n\n<p>As you can see, such a function literal with receiver is taken as an argument <code>block</code> here. This <code>block</code> is simply executed and the receiver (which is an instance of <code>T</code>) is returned. In action this looks as follows:</p>\n\n<pre><code>val text: String = StringBuilder(\"Hello \").apply {\n            append(\"Kotliner\")\n            append(\"! \")\n            append(\"How are you doing?\")\n        }.toString()\n</code></pre>\n\n<p>A <code>StringBuilder</code> is used as the receiver and <code>apply</code> is invoked on it. The <code>block</code>, passed as an argument in <code>{}</code>(lambda expression), does not need to use additional qualifiers and simply calls <code>append</code>, a visible method of <code>StringBuilder</code> multiple times.</p>\n\n<h2>Function Literals with Receiver - in DSL</h2>\n\n<p>If you look at this example, taken from the documentation, you see this in action:</p>\n\n<pre><code>class HTML {\n    fun body() { ... }\n}\n\nfun html(init: HTML.() -&gt; Unit): HTML {\n    val html = HTML()  // create the receiver object\n    html.init()        // pass the receiver object to the lambda\n    return html\n}\n\n\nhtml {       // lambda with receiver begins here\n    body()   // calling a method on the receiver object\n}\n</code></pre>\n\n<p>The <code>html()</code> function expects such a function literal with receiver with <code>HTML</code> as the receiver. In the function body you can see how it is used: an instance of <code>HTML</code> is created and the <code>init</code> is called on it.  </p>\n\n<h2>Benefit</h2>\n\n<p>The caller of such an <em>higher-order function</em> expecting a function literal with receiver (like <code>html()</code>) you can use any visible <code>HTML</code> function and property without additional qualifiers (like <code>this</code> e.g.), as you can see in the call:</p>\n\n<pre><code>html {       // lambda with receiver begins here\n    body()   // calling a method on the receiver object\n}\n</code></pre>\n\n<h2>Your Example</h2>\n\n<p>I created a simple example of what you wanted to have:</p>\n\n<pre><code>class Context {\n    fun onSuccess(function: OnSuccessAction.() -&gt; Unit) {\n        OnSuccessAction().function();\n    }\n\n    class OnSuccessAction {\n        fun toast(s: String) {\n            println(\"I'm successful &lt;3: $s\")\n        }\n    }\n}\n\nfun temp(function: Context.() -&gt; Unit) {\n    Context().function()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    temp {\n        onSuccess {\n            toast(\"Hello\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 894154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2CDWe.jpg?s=128&g=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/894154/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1504873006, "creation_date": 1504873006, "answer_id": 46116357, "question_id": 46113833, "link": "https://stackoverflow.com/questions/46113833/how-to-create-kotlin-dsl-dsl-syntax-kotlin/46116357#46116357", "title": "How to create Kotlin DSL - DSL syntax Kotlin", "body": "<p>In your example alert is the function returning some class, for example Alert.\nAlso this function takes as parameter function literal with receiver</p>\n\n<p>In your example you should make your\nonSuccess the member method of your Test class, and your temp function should return instance of Test class without invoking it.\nBut to have toast to be invoked as in your desire, it has to be member function of whatever class is returned by onSuccess</p>\n\n<p>I think you don't understand exactly how functional literals with receiver work.\nWhen you have fun(something : A.() -> Unit) it means that this \"something\" is the member function of A class.</p>\n\n<p>So</p>\n\n<p>You can look at my blog post : <a href=\"https://jankotlin.wordpress.com/2017/07/27/async_lazy_kotliniers/\" rel=\"nofollow noreferrer\">How to make small DSL for AsyncTask</a></p>\n"}], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 4, "accepted_answer_id": 46114818, "answer_count": 2, "score": 11, "last_activity_date": 1518951373, "creation_date": 1504864842, "last_edit_date": 1515358057, "question_id": 46113833, "link": "https://stackoverflow.com/questions/46113833/how-to-create-kotlin-dsl-dsl-syntax-kotlin", "title": "How to create Kotlin DSL - DSL syntax Kotlin", "body": "<p>As with <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">anko</a> you can write callback functions like this: </p>\n\n<pre><code>alert {\n    title = \"\"\n    message = \"\"\n    yesButton {\n       toast(\"Yes\") \n    }\n    noButton { \n       toast(\"No\")\n    }\n}\n</code></pre>\n\n<p>How can I create a nested functions like that? I tried creating it like below but doesn't seem to be working.</p>\n\n<pre><code>class Test {\n    fun f1(function: () -&gt; Unit) {}\n    fun f2(function: () -&gt; Unit) {}\n}\n</code></pre>\n\n<p>Now, if I use this with extension function,</p>\n\n<pre><code>fun Context.temp(function: Test.() -&gt; Unit) {\n    function.onSuccess() // doesn't work\n}\n</code></pre>\n\n<p>Calling this from Activity: </p>\n\n<pre><code>temp {\n    onSuccess {\n        toast(\"Hello\")\n    }\n}\n</code></pre>\n\n<p>Doesn't work. I am still lacking some basic concepts here. Can anyone guide here? </p>\n"}, {"tags": ["android", "realm", "kotlin", "realm-mobile-platform"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "is_accepted": false, "score": 1, "last_activity_date": 1504865221, "creation_date": 1504865221, "answer_id": 46113952, "question_id": 46113644, "link": "https://stackoverflow.com/questions/46113644/can-not-gradle-build-project-when-i-add-chatinformation-kotlin-class-that-extend/46113952#46113952", "title": "Can not gradle build project when i add ChatInformation kotlin class that extends RealmObject to my project, where is error?", "body": "<p>My error was that: i have a </p>\n\n<blockquote>\n  <p>var Class: Int = 0</p>\n</blockquote>\n\n<p>field in my ChatInformation class if remove this field it works nice</p>\n"}], "owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504865221, "creation_date": 1504864318, "question_id": 46113644, "link": "https://stackoverflow.com/questions/46113644/can-not-gradle-build-project-when-i-add-chatinformation-kotlin-class-that-extend", "title": "Can not gradle build project when i add ChatInformation kotlin class that extends RealmObject to my project, where is error?", "body": "<p>This is my ChatInformation kotlin class:</p>\n\n<pre><code>open class ChatInformation(\n    var Id: Int = 0,\n    var TopicId: Int = 0,\n    var CreateTime: String? = null,\n    var StartTime: String? = null,\n    var EndTime: String? = null,\n    var StatusId: Int = 0,\n    var Duration: String? = null,\n    var TeacherId: String = \"\",\n    var LearnerId: String = \"\",\n    var SubjectName: String = \"\",\n    var TopicTitle: String = \"\",\n    var Class: Int = 0,\n    var Learner: String = \"\",\n    var Teacher: String = \"\",\n    var TeacherReady: Boolean = false,\n    var LearnerReady: Boolean = false\n) : RealmObject()\n</code></pre>\n\n<p>if i add this class i get following error:</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.Compilation failed; see the compiler error output for details.\n</code></pre>\n\n<p>if see compliler this </p>\n\n<pre><code>Note: Processing class ChatLesson\nNote: Processing class CustomMessage\nNote: Processing class RequestListen\nNote: Creating DefaultRealmModule\nAn exception has occurred in the compiler (1.8.0_152-release). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\njava.lang.NullPointerException\n</code></pre>\n\n<p>with long error trace</p>\n\n<p>if i delete or comment ChatInformation class builds successfully where is error?\nI have tried in both realm 3.5.0 and 3.7.1 versions</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": true, "score": 3, "last_activity_date": 1504863734, "creation_date": 1504863734, "answer_id": 46113405, "question_id": 46113358, "link": "https://stackoverflow.com/questions/46113358/class-clazz-in-kotlin/46113405#46113405", "title": "Class&lt;?&gt; clazz in Kotlin", "body": "<pre><code>fun isServiceRunning(context: Context, serviceClass : Class&lt;Any&gt;) : Boolean \n</code></pre>\n\n<p>something like that should do the job</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1504864911, "last_edit_date": 1504864911, "creation_date": 1504863894, "answer_id": 46113475, "question_id": 46113358, "link": "https://stackoverflow.com/questions/46113358/class-clazz-in-kotlin/46113475#46113475", "title": "Class&lt;?&gt; clazz in Kotlin", "body": "<p>You can define it as</p>\n\n<pre><code>companion object {\n    fun isServiceRunning(context: Context, serviceClass: Class&lt;*&gt;): Boolean  { /* ... */ }\n}\n</code></pre>\n\n<p>The <code>Class&lt;*&gt;</code> <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">star-projection</a> is <a href=\"https://stackoverflow.com/questions/45520368/java-wildcard-types-vs-kotlin-star-projection\">almost equivalent</a> to the Java unbounded wildcard <code>Class&lt;?&gt;</code>.</p>\n"}], "owner": {"reputation": 2055, "user_id": 500514, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c364299542adfe71696512b123e7483?s=128&d=identicon&r=PG", "display_name": "panagdu", "link": "https://stackoverflow.com/users/500514/panagdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 1, "accepted_answer_id": 46113405, "answer_count": 2, "score": 3, "last_activity_date": 1504864911, "creation_date": 1504863608, "question_id": 46113358, "link": "https://stackoverflow.com/questions/46113358/class-clazz-in-kotlin", "title": "Class&lt;?&gt; clazz in Kotlin", "body": "<p>How does <code>Class&lt;?&gt; clazz</code> look like in Kotlin ? </p>\n\n<p>I'm trying to translate this method to Kotlin code and it seems like I'm stuck. </p>\n\n<pre><code>public static boolean isServiceRunning(Context context, Class&lt;?&gt; serviceClass) \n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504863537, "post_id": 46113207, "comment_id": 79188890, "body": "Can you post the declaration of <code>_handler</code> variable?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504863601, "post_id": 46113207, "comment_id": 79188922, "body": "ok, I have updated my question"}, {"owner": {"reputation": 2220, "user_id": 4098637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uYGnV.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/4098637/raghavendra"}, "edited": false, "score": 1, "creation_date": 1504863709, "post_id": 46113207, "comment_id": 79188987, "body": "@JemoMgebrishvili I&#39;m quite not sure <b>_longPressed</b> is not yet assigned when using under Runnable. But in java we use <b>this</b> try like that"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 2220, "user_id": 4098637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uYGnV.jpg?s=128&g=1", "display_name": "Raghavendra", "link": "https://stackoverflow.com/users/4098637/raghavendra"}, "edited": false, "score": 0, "creation_date": 1504863832, "post_id": 46113207, "comment_id": 79189046, "body": "Agree with @Raghavendra, using <code>this</code> should solve the problem. as <code>this</code> inside <code>Runnable</code> refers to <code>_longPressed</code> basically"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1504863914, "post_id": 46113207, "comment_id": 79189091, "body": "keyword this will be the Activity and Type mismatch compile time error will appear"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1504864811, "post_id": 46113207, "comment_id": 79189657, "body": "I&#39;m sorry, you are right. If you declare runnable as <code>object : Runnable {...}</code> and implement the <code>run</code> method, there you can reference that <code>Runnable</code> with <code>this</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1504864235, "post_id": 46113442, "comment_id": 79189302, "body": "yes, I think so, but is it ok? Is there any chance when runnable code block will be executed _longPressed may be uninitialized?"}, {"owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "reply_to_user": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1504864648, "post_id": 46113442, "comment_id": 79189555, "body": "No because the runnable code block will be already assigned to the _longPressed variable right after instantiating the class where it is contained"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1504864802, "post_id": 46113442, "comment_id": 79189651, "body": "than it doesn&#39;t make sense, for showing that error yes?"}, {"owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "reply_to_user": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 1, "creation_date": 1504865105, "post_id": 46113442, "comment_id": 79189821, "body": "It shows the error because kotlin looks for variable self reference when making assignments due to the fact that you could be calling this same variable just before the assignment is finished. It doesn&#39;t discriminate when it will be called, it just doesn&#39;t let you do it. Check the duplicate answer referenced and also another <a href=\"https://stackoverflow.com/questions/35049850/unresolved-reference-inside-anonymous-kotlin-listener/35050722#35050722\">one</a> referenced in that answer"}], "tags": [], "owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "is_accepted": false, "score": 1, "last_activity_date": 1504864785, "last_edit_date": 1504864785, "creation_date": 1504863816, "answer_id": 46113442, "question_id": 46113207, "link": "https://stackoverflow.com/questions/46113207/uninitialized-variable-variable-longpressed-must-be-inistialized/46113442#46113442", "title": "UNINITIALIZED_VARIABLE Variable _longPressed must be inistialized", "body": "<p>At compile time while doing the <code>_longPressed</code> variable assignment, it first evaluates the Runnable code (value of the variable) . Since on this case <code>_longPressed</code> doesn't exist, it throws the compilation error.</p>\n\n<p>On the later case, while evaluating the Runnable code at compile time, it just knows that it has to call an existent function <code>removeRunnable</code> which references a variable that exists on the class (_longPressed).</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "closed_date": 1504864165, "answer_count": 1, "score": 3, "last_activity_date": 1504864785, "creation_date": 1504863119, "last_edit_date": 1504863582, "question_id": 46113207, "link": "https://stackoverflow.com/questions/46113207/uninitialized-variable-variable-longpressed-must-be-inistialized", "closed_reason": "Duplicate", "title": "UNINITIALIZED_VARIABLE Variable _longPressed must be inistialized", "body": "<p>I have a Handler and Runnable, when runnable execute I need to remove callback from my handler.</p>\n\n<p>If I do that, with that way</p>\n\n<pre><code>private val _handler = Handler()\n\nprivate val _longPressed: Runnable = Runnable {\n    _handler.removeCallbacks(_longPressed)\n}\n</code></pre>\n\n<p>compile time error happens with error UNINITIALIZED_VARIABLE</p>\n\n<p>and if I move the removeCallBacks method to the function, the error is gone,I'm interesting, what is the difference?</p>\n\n<pre><code>private val _longPressed: Runnable = Runnable {\n    removeRunnable()\n}\n\nfun removeRunnable(){\n    _handler.removeCallbacks(_longPressed)\n}\n</code></pre>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 34880, "user_id": 318493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8367f123240268431ceae261af0dac9?s=128&d=identicon&r=PG", "display_name": "RoToRa", "link": "https://stackoverflow.com/users/318493/rotora"}, "edited": false, "score": 3, "creation_date": 1504859225, "post_id": 46111242, "comment_id": 79186244, "body": "It&#39;s a age old thing, repeated again and again: You can&#39;t use regular expressions to reliably parse HTML: <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a> Use an HTML parser library such as JSoup. It&#39;s much easier."}, {"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "reply_to_user": {"reputation": 34880, "user_id": 318493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8367f123240268431ceae261af0dac9?s=128&d=identicon&r=PG", "display_name": "RoToRa", "link": "https://stackoverflow.com/users/318493/rotora"}, "edited": false, "score": 0, "creation_date": 1504860748, "post_id": 46111242, "comment_id": 79187153, "body": "I am not trying to parse it fully. I just want to search for ALL <code>&lt;X&gt;Z&lt;&#47;X&gt;</code> where <code>Z</code> does contain <code>&lt;Y&gt;</code>. Or even more simply <code>XZX</code> where <code>Z</code> doesn&#39;t contain <code>Y</code>."}, {"owner": {"reputation": 34880, "user_id": 318493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8367f123240268431ceae261af0dac9?s=128&d=identicon&r=PG", "display_name": "RoToRa", "link": "https://stackoverflow.com/users/318493/rotora"}, "edited": false, "score": 2, "creation_date": 1504862980, "post_id": 46111242, "comment_id": 79188529, "body": "You do want to parse it fully. What if one of the scripts contains <code>var example = &quot;&lt;&#47;script&gt;&quot;;</code>? What if there&#39;s a <code>&lt;script src=&quot;...&quot;&gt;&lt;&#47;script&gt;</code> in between? Use a proper parser. It is much, much easier and less error prone."}], "answers": [{"comments": [{"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1505054309, "post_id": 46118275, "comment_id": 79245381, "body": "Unfortunately that is not good enough as there are <code>&lt;script type=&quot;x-template&quot;&gt;</code> and general <code>&lt;script&gt;</code>. These cannot be merged."}, {"owner": {"reputation": 3757, "user_id": 5033247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcqj4.jpg?s=128&g=1", "display_name": "Smart Manoj", "link": "https://stackoverflow.com/users/5033247/smart-manoj"}, "reply_to_user": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1505054375, "post_id": 46118275, "comment_id": 79245409, "body": "this does not merge them"}], "tags": [], "owner": {"reputation": 3757, "user_id": 5033247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcqj4.jpg?s=128&g=1", "display_name": "Smart Manoj", "link": "https://stackoverflow.com/users/5033247/smart-manoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1504879204, "creation_date": 1504879204, "answer_id": 46118275, "question_id": 46111242, "link": "https://stackoverflow.com/questions/46111242/merging-several-script-tags-into-one-in-kotlin/46118275#46118275", "title": "Merging several &lt;script&gt; tags into one in Kotlin", "body": "<pre><code>fun main(args: Array&lt;String&gt;) {\n    var source=\"\"\"\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;div&gt;...&lt;/div&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;style&gt;...&lt;/style&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        &lt;script&gt;...&lt;/script&gt;\n        \"\"\"\n     source = source.replace(\n                \"[&lt;]/script[&gt;]\\\\s*[&lt;]script[&gt;]\"\n                     .toRegex(setOf(RegexOption.MULTILINE, RegexOption.DOT_MATCHES_ALL)), \n                \"\\n\")\n     println(source)\n}\n</code></pre>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504879204, "creation_date": 1504856689, "question_id": 46111242, "link": "https://stackoverflow.com/questions/46111242/merging-several-script-tags-into-one-in-kotlin", "title": "Merging several &lt;script&gt; tags into one in Kotlin", "body": "<p>Consider a following piece of HTML code:</p>\n\n<pre><code>&lt;script&gt;...&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;style&gt;...&lt;/style&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;script&gt;...&lt;/script&gt;\n</code></pre>\n\n<p>I would like to merge the script sections into one as follows:</p>\n\n<pre><code>&lt;script&gt;...&lt;/script&gt;\n&lt;div&gt;...&lt;/div&gt;\n&lt;script&gt;...&lt;/script&gt;\n&lt;style&gt;...&lt;/style&gt;\n&lt;script&gt;...&lt;/script&gt;\n</code></pre>\n\n<p>I tried this piece of code:</p>\n\n<pre><code>while (true) {\n    val newSource = source.replace(\n                \"[&lt;]script[&gt;](.*?)[&lt;]/script[&gt;]\\\\s*[&lt;]script[&gt;]\"\n                     .toRegex(setOf(RegexOption.MULTILINE, RegexOption.DOT_MATCHES_ALL)), \n                \"&lt;script&gt;$1&lt;/script&gt;\")\n\n    if (source.equals(newSource)) {\n        break;\n    }\n    source = newSource\n}\n</code></pre>\n\n<p>It is not elegant and not working :-)</p>\n\n<ol>\n<li>I would like to avoid the loop. Can I write a regular expression to process the whole code?</li>\n<li>This will actually lead to only single <code>&lt;script&gt;...&lt;/script&gt;</code> as it will consume both the <code>&lt;div&gt;</code> and <code>&lt;style&gt;</code> in the middle. How can I forbid the contents containing tags?</li>\n</ol>\n"}, {"tags": ["android", "pdf", "bitmap", "kotlin"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1504856308, "post_id": 46109122, "comment_id": 79184614, "body": "No. The bitmap was 31 MB. And reduced to 8 MB pdf. You did not tell with what kind of image file you started. JPG?"}, {"owner": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1504856859, "post_id": 46109122, "comment_id": 79184902, "body": "@greenapps The 31mb is the allocated bitmap size coming from the decoded bitmap (<code>originalBitmap.byteCount()</code>). The actual file size is 3MB from <code>file.length()</code>  It&#39;s saved as JPEG."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1504866811, "post_id": 46109122, "comment_id": 79190894, "body": "Indeed. So all is pretty normal. You save 31 MB to a pdf maker. Then you end up with 8MB pdf. Any questions?"}], "owner": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504847905, "creation_date": 1504847905, "question_id": 46109122, "link": "https://stackoverflow.com/questions/46109122/large-file-size-when-converting-bitmap-to-pdf", "title": "Large File Size When Converting Bitmap to PDF", "body": "<p>I'm converting my bitmap files to PDF but when I do so, I noticed that the file size increased a lot. In the sample below, it became 8MB from 3 MB. Any suggestions on what's wrong with my code? It seems to be a straightforward conversion to me.</p>\n\n<p>Thanks!</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>                   Timber.d(\"Creating PDF\")\n\n                    val document = PdfDocument()\n\n                    receipt.images.forEachIndexed { index, file -&gt;\n\n                        Timber.d(\"Picture #$index: ${file.absolutePath}\")\n                        Timber.d(\"Filesize: ${file.length() / 1000000}MB\")\n                        Timber.d(\"Adding picture to PDF \")\n\n                        val originalBitmap = BitmapFactory.decodeFile(file.absolutePath)\n                        Timber.d(\"Decoded bitmap size: ${originalBitmap.byteCount / 1000000}MB\")\n\n                        val pageInfo = PdfDocument.PageInfo.Builder(originalBitmap.width, originalBitmap.height, 1).create()\n                        val page = document.startPage(pageInfo)\n                        val canvas = page.canvas\n\n                        canvas.drawBitmap(originalBitmap, 0f, 0f, null)\n                        document.finishPage(page)\n                    }\n\n\n                    val file = File(cacheDir, \"${receipt.name}.pdf\")\n                    Timber.d(\"Writing PDF to ${file.absolutePath}\")\n                    document.writeTo(FileOutputStream(file))\n                    Timber.d(\"PDF file size: ${file.length() / 1000000}MB\")\n\n                    Timber.d(\"Closing PDF\")\n                    document.close()\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>D/ListFilesActivity$sh: Creating PDF\nD/ListFilesActivity$sh: Picture #0: /data/user/0/com.example.debug/files/2538cb35-d037-4cc0-9f13-2ae98c6d2493\nD/ListFilesActivity$sh: Filesize: 3MB\nD/ListFilesActivity$sh: Adding picture to PDF \nD/ListFilesActivity$sh: Decoded bitmap size: 31MB\nD/ListFilesActivity$sh: Writing PDF to /data/user/0/com.example.debug/cache/File 20170907_154650.pdf\nD/ListFilesActivity$sh: PDF file size: 8MB\nD/ListFilesActivity$sh: Closing PDF\nD/ListFilesActivity$sh: Sharing PDF\n</code></pre>\n"}, {"tags": ["javascript", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": true, "score": 4, "last_activity_date": 1504856991, "creation_date": 1504856991, "answer_id": 46111335, "question_id": 46108200, "link": "https://stackoverflow.com/questions/46108200/kotlin-equivalent-of-export-default-in-javascript/46111335#46111335", "title": "Kotlin equivalent of &quot;export default&quot; in JavaScript", "body": "<p>Currently, Kotlin/JS compiler works per-module, i.e. generates single JavaScript file for a set of Kotlin source files marked as a module (either module in IDEA, project in Gradle or module Maven). If you set <code>moduleKind</code> compiler option to either <code>commonjs</code> or <code>umd</code> value, Kotlin/JS will turn this file into CommonJS module, with root package exported and all dependant modules imported. There's no direct equivalent of JavaScript code you provided, so you perhaps need to change how your class gets imported.</p>\n\n<p>Consider you declare something like this in Kotlin:</p>\n\n<pre><code>package my.pkg\n\nclass App : React.Component() {\n    // some code here\n}\n</code></pre>\n\n<p>in a module named <code>myModule</code>. You can import <code>App</code> class into JavaScript by the following code:</p>\n\n<pre><code>const App = require('myModule').my.pkg.App\n</code></pre>\n\n<p>For more information about how Kotlin/JS interacts with JavaScript, see documentation:</p>\n\n<ul>\n<li>on <a href=\"http://kotlinlang.org/docs/reference/js-modules.html\" rel=\"nofollow noreferrer\">module systems</a> (including CommonJS);</li>\n<li>on <a href=\"http://kotlinlang.org/docs/reference/js-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">calling Kotlin from JavaScript</a>;</li>\n<li>on <a href=\"http://kotlinlang.org/docs/reference/js-interop.html\" rel=\"nofollow noreferrer\">calling JavaScript from Kotlin</a>.</li>\n</ul>\n"}], "owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "accepted_answer_id": 46111335, "answer_count": 1, "score": 0, "last_activity_date": 1504925977, "creation_date": 1504841486, "last_edit_date": 1504925977, "question_id": 46108200, "link": "https://stackoverflow.com/questions/46108200/kotlin-equivalent-of-export-default-in-javascript", "title": "Kotlin equivalent of &quot;export default&quot; in JavaScript", "body": "<p>I'm trying to use Kotlin for building my React Native app and am currently converting preexisting JavaScript code to it. However I don't know what Kotlin equivalent of <code>export default</code> would be. Is there even a need for such code?</p>\n\n<p>The JS class I'm trying to convert:</p>\n\n<pre><code>import React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      &lt;View style={styles.container}&gt;\n        &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;\n      &lt;/View&gt;\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n</code></pre>\n"}, {"tags": ["android", "android-activity", "nullpointerexception", "kotlin"], "comments": [{"owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "edited": false, "score": 0, "creation_date": 1504842612, "post_id": 46107978, "comment_id": 79179428, "body": "Please provide full log cat in your question"}], "answers": [{"tags": [], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1504842601, "last_edit_date": 1504842601, "creation_date": 1504840084, "answer_id": 46108032, "question_id": 46107978, "link": "https://stackoverflow.com/questions/46107978/connect-between-grid-view-and-list-veiw-in-kotlin/46108032#46108032", "title": "connect between Grid View and List Veiw in kotlin", "body": "<p>Try to debug and set break points. Perhaps you forget to initial something. Also please provide full log cat in your question.</p>\n"}, {"comments": [{"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1504965167, "post_id": 46110352, "comment_id": 79224945, "body": "Thank you mzeus.bolt, please can you check my picture because its show me the same  error bag"}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1504989982, "post_id": 46110352, "comment_id": 79232099, "body": "I&#39;m Trying to debug and i found this message inside &quot;Main2Activity&quot; class, please check my Logcat is updated the massage is: Unconditional layout inflation from view adapter: Should use View Holder pattern  More info: [<a href=\"http://developer.android.com/training/improving-layouts/smooth-scrolling.html#ViewHolder]\" rel=\"nofollow noreferrer\">developer.android.com/training/improving-layouts/&hellip;</a>"}, {"owner": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "reply_to_user": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1505012778, "post_id": 46110352, "comment_id": 79236165, "body": "Its the completely different error which you posted earlier. Its the Out Of Memory Error. You need to scale your image"}], "tags": [], "owner": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "is_accepted": true, "score": 1, "last_activity_date": 1504976576, "last_edit_date": 1504976576, "creation_date": 1504853646, "answer_id": 46110352, "question_id": 46107978, "link": "https://stackoverflow.com/questions/46107978/connect-between-grid-view-and-list-veiw-in-kotlin/46110352#46110352", "title": "connect between Grid View and List Veiw in kotlin", "body": "<p>As per the LogCat we can conclude that in your <code>MainActivity2</code> in <code>Adapter</code> class </p>\n\n<pre><code> foodView.ivFoodImage2.setImageResource(food.image!!)\n</code></pre>\n\n<p>the <code>ImageView</code> is null.</p>\n\n<p>To add a safe check</p>\n\n<pre><code>    foodView.ivFoodImage2?.let{\n\n  it.setImageResource(food.image!!)    \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DlmIh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DlmIh.png\" alt=\"thank you mzeus.bolt for your answer, I did it but its show me the same bag\"></a></p>\n\n<p>Looking at error the error is with the <code>ImageView</code> you are using in <code>onCreate</code> method on <code>MainActivity2</code> i.e; below given line:</p>\n\n<pre><code>ivFoodImage2.setImageResource(image)\n</code></pre>\n\n<p>Please make the same check with this as <code>ImageView</code> is <code>null</code>, It will be like:</p>\n\n<pre><code>ivFoodImage2?.let{\n  it.setImageResource(image)\n}\n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 46110352, "answer_count": 2, "score": 0, "last_activity_date": 1504989792, "creation_date": 1504839593, "last_edit_date": 1504989792, "question_id": 46107978, "link": "https://stackoverflow.com/questions/46107978/connect-between-grid-view-and-list-veiw-in-kotlin", "title": "connect between Grid View and List Veiw in kotlin", "body": "<p>I wonder if somebody can help me to solve this error bag \"unfortunately, startup has stopped\"\nI did 3 activities and i wanna to connect between them by \"setOnClickListener\",\nfirst activity for Grid View,\nsecond for List View,\nthird for Details,\nnote: my application name is startup</p>\n\n<p><strong>Here is a MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // load foods\n     listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.a))\n      ..........\n    adapter= FoodAdapter(this,listOfFoods)\n\n    gvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter:BaseAdapter {\n    var listOfFood= ArrayList&lt;Food&gt;()\n    var context:Context?=null\n    constructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n        this.context=context\n        this.listOfFood=listOfFood\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View? {\n        val food = this.listOfFood[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var foodView= inflator.inflate(R.layout.food_ticket,null)\n        foodView.ivFoodImage.setImageResource(food.image!!)\n        foodView.ivFoodImage.setOnClickListener {\n\n            val intent = Intent(context, Main2Activity::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n        }\n        return foodView\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfFood[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n       return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return listOfFood.size\n    }\n\n }\n}\n</code></pre>\n\n<p><strong>Here is a Main2Activity.kt</strong></p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\nvar adapter: FoodAdapter? = null\nvar listOfFoods2 = ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n\n    val bundle= intent.extras\n    val name = bundle.getString(\"name\")\n    val des = bundle.getString(\"des\")\n    val image = bundle.getInt(\"image\")\n    ivFoodImage2?.let{\n        it.setImageResource(image)\n    }\n    //ivFoodImage2.setImageResource(image)\n    tvName2?.let{\n        it.text=name\n    }\n    //tvName2.text=name\n    tvDes2?.let{\n        it.text=des\n    }\n    //tvDes2.text=des\n\n\n\n\n    // load foods\n\n\n    listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.e))\n    listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.f))\n    listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.g))\n    listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.h))\n\n    adapter = FoodAdapter(listOfFoods2, this)\n    lvFoods2.adapter = adapter\n\n}\n\n\n class FoodAdapter : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal2 = ArrayList&lt;Food&gt;()\n\n    constructor(listOfFoods2: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal2 = listOfFoods2\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal2[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(R.layout.food_ticket2, null)\n        foodView.tvName2?.let{\n\n            it.text = food.name!!\n        }\n        //foodView.tvName2.text = food.name!!\n        foodView.tvDes2?.let{\n\n            it.text = food.des!!\n        }\n        //foodView.tvDes2.text = food.des!!\n        foodView.ivFoodImage2?.let{\n\n            it.setImageResource(food.image!!)\n        }\n        //foodView.ivFoodImage2.setImageResource(food.image!!)\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal2[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal2.size\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Here is a FoodDetails.kt</strong></p>\n\n<pre><code>class FoodDetails : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_food_details)\n    val bundle= intent.extras\n    val name = bundle.getString(\"name\")\n    val des = bundle.getString(\"des\")\n    val image = bundle.getInt(\"image\")\n    ivFoodImage3.setImageResource(image)\n    tvName3.text=name\n    tvDetails3.text=des\n}\n}\n</code></pre>\n\n<p><strong>Here is a Food.kt (for 3 objects)</strong></p>\n\n<pre><code>package com.marzadmz.startup\n\nclass  Food {\nvar name:String? =null\nvar des:String? =null\nvar image:Int? =null\nconstructor(name:String,des:String,image:Int){\n    this.name=name\n    this.des=des\n    this.image=image\n}\n}\n</code></pre>\n\n<p><strong>Here is my Logcat</strong></p>\n\n<pre><code>HostConnection::get() New Host Connection established 0xeec39450, tid 5472\n09-09 14:16:11.338 5453-5472/com.marzadmz.startup I/OpenGLRenderer: Initialized EGL, version 1.4\n09-09 14:16:11.413 5453-5472/com.marzadmz.startup D/OpenGLRenderer: Enabling debug mode 0\n09-09 14:16:11.448 5453-5472/com.marzadmz.startup W/EGL_emulation: eglSurfaceAttrib not implemented\n09-09 14:16:11.449 5453-5472/com.marzadmz.startup W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xeec35780, error=EGL_SUCCESS\n09-09 14:16:11.557 5453-5468/com.marzadmz.startup I/art: Background sticky concurrent mark sweep GC freed 92(3KB) AllocSpace objects, 0(0B) LOS objects, 0% free, 18MB/18MB, paused 25.260ms total 52.920ms\n09-09 14:16:11.590 5453-5468/com.marzadmz.startup I/art: Background partial concurrent mark sweep GC freed 46(1952B) AllocSpace objects, 0(0B) LOS objects, 40% free, 18MB/30MB, paused 14.620ms total 31.382ms\n09-09 14:16:11.686 5453-5468/com.marzadmz.startup I/art: Background sticky concurrent mark sweep GC freed 43(1408B) AllocSpace objects, 0(0B) LOS objects, 0% free, 72MB/72MB, paused 28.910ms total 31.763ms\n09-09 14:16:11.965 5453-5453/com.marzadmz.startup I/Choreographer: Skipped 53 frames!  The application may be doing too much work on its main thread.\n09-09 14:16:53.756 5453-5472/com.marzadmz.startup W/EGL_emulation: eglSurfaceAttrib not implemented\n09-09 14:16:53.756 5453-5472/com.marzadmz.startup W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xf3f5baa0, error=EGL_SUCCESS\n09-09 14:16:53.793 5453-5453/com.marzadmz.startup I/art: Alloc partial concurrent mark sweep GC freed 209(15KB) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 560us total 7.402ms\n09-09 14:16:53.804 5453-5453/com.marzadmz.startup I/art: Alloc concurrent mark sweep GC freed 214(29KB) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 1.062ms total 10.928ms\n09-09 14:16:53.804 5453-5453/com.marzadmz.startup I/art: Forcing collection of SoftReferences for 122MB allocation\n09-09 14:16:53.814 5453-5453/com.marzadmz.startup I/art: Alloc concurrent mark sweep GC freed 9(248B) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 541us total 9.879ms\n09-09 14:16:53.815 5453-5453/com.marzadmz.startup E/art: Throwing OutOfMemoryError \"Failed to allocate a 128043252 byte allocation with 16777216 free bytes and 23MB until OOM\"\n09-09 14:16:53.825 5453-5453/com.marzadmz.startup I/art: Alloc partial concurrent mark sweep GC freed 7(240B) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 807us total 6.145ms\n09-09 14:16:53.834 5453-5453/com.marzadmz.startup I/art: Alloc concurrent mark sweep GC freed 4(144B) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 1.097ms total 9.388ms\n09-09 14:16:53.834 5453-5453/com.marzadmz.startup I/art: Forcing collection of SoftReferences for 122MB allocation\n09-09 14:16:53.844 5453-5453/com.marzadmz.startup I/art: Alloc concurrent mark sweep GC freed 3(96B) AllocSpace objects, 0(0B) LOS objects, 18% free, 72MB/88MB, paused 437us total 9.054ms\n09-09 14:16:53.844 5453-5453/com.marzadmz.startup E/art: Throwing OutOfMemoryError \"Failed to allocate a 128043252 byte allocation with 16777120 free bytes and 23MB until OOM\"\n09-09 14:16:53.844 5453-5453/com.marzadmz.startup D/skia: --- decoder-&gt;decode returned false\n09-09 14:16:53.844 5453-5453/com.marzadmz.startup D/AndroidRuntime: Shutting down VM\n09-09 14:16:53.845 5453-5453/com.marzadmz.startup E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                Process: com.marzadmz.startup, PID: 5453\n                                                                java.lang.OutOfMemoryError: Failed to allocate a 128043252 byte allocation with 16777120 free bytes and 23MB until OOM\n                                                                    at dalvik.system.VMRuntime.newNonMovableArray(Native Method)\n                                                                    at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n                                                                    at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:609)\n                                                                    at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:444)\n                                                                    at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:988)\n                                                                    at android.content.res.Resources.loadDrawableForCookie(Resources.java:2474)\n                                                                    at android.content.res.Resources.loadDrawable(Resources.java:2381)\n                                                                    at android.content.res.Resources.getDrawable(Resources.java:787)\n                                                                    at android.content.Context.getDrawable(Context.java:403)\n                                                                    at android.support.v4.content.ContextCompatApi21.getDrawable(ContextCompatApi21.java:30)\n                                                                    at android.support.v4.content.ContextCompat.getDrawable(ContextCompat.java:372)\n                                                                    at android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:202)\n                                                                    at android.support.v7.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:190)\n                                                                    at android.support.v7.content.res.AppCompatResources.getDrawable(AppCompatResources.java:100)\n                                                                    at android.support.v7.widget.AppCompatImageHelper.loadFromAttributes(AppCompatImageHelper.java:54)\n                                                                    at android.support.v7.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:66)\n                                                                    at android.support.v7.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:56)\n                                                                    at android.support.v7.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:106)\n                                                                    at android.support.v7.app.AppCompatDelegateImplV9.createView(AppCompatDelegateImplV9.java:1029)\n                                                                    at android.support.v7.app.AppCompatDelegateImplV9.onCreateView(AppCompatDelegateImplV9.java:1087)\n                                                                    at android.support.v4.view.LayoutInflaterCompatHC$FactoryWrapperHC.onCreateView(LayoutInflaterCompatHC.java:47)\n                                                                    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:725)\n                                                                    at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n                                                                    at android.view.LayoutInflater.rInflate(LayoutInflater.java:809)\n                                                                    at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n                                                                    at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n                                                                    at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n                                                                    at com.marzadmz.startup.Main2Activity$FoodAdapter.getView(Main2Activity.kt:69)\n                                                                    at android.widget.AbsListView.obtainView(AbsListView.java:2347)\n                                                                    at android.widget.ListView.makeAndAddView(ListView.java:1864)\n                                                                    at android.widget.ListView.fillDown(ListView.java:698)\n                                                                    at android.widget.ListView.fillFromTop(ListView.java:759)\n                                                                    at android.widget.ListView.layoutChildren(ListView.java:1673)\n                                                                    at android.widget.AbsListView.onLayout(AbsListView.java:2151)\n                                                                    at android.view.View.layout(View.java:15671)\n                                                                    at android.view.ViewGroup.layout(ViewGroup.java:5038)\n                                                                    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1703)\n                                                                    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1557)\n                                                                    at android.widget.LinearLayout.onLayout(LinearLayout.java:1466)\n                                                                    at android.view.View.layout(View.java:15671)\n                                                                    at android.view.ViewGroup.layout(ViewGroup.java:5038)\n                                                                    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:579)\n                                                                    at android.widget.FrameLayout.onLayout(FrameLayout.java:514)\n                                                                    at android.view.View.layout(View.java:15671)\n                                                                    at android.view.ViewGroup.layout(ViewGroup.java:5038)\n                                                                    at android.support.v7.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:437)\n                                                                    at android.view.View.layout(View.java:15671)\n                                                                    at android.view.ViewGroup.layout(ViewGroup.java:5038)\n                                                                    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:579)\n                                                                    at android.widget.FrameLayout.onLayout(FrameLayout.java:514)\n                                                                    at android.view.View.layout(View.java:15671)\n                                                                    at android.view.ViewGroup.layout(ViewGroup.java:5038)\n                                                                    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1703)\n                                                                    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1557)\n                                                                    at android.widget.LinearLayout.onLayout(Linea\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 1, "creation_date": 1504838771, "post_id": 46107706, "comment_id": 79178523, "body": "<a href=\"https://stackoverflow.com/questions/10117026/convert-iterator-to-arraylist\" title=\"convert iterator to arraylist\">stackoverflow.com/questions/10117026/&hellip;</a> tells you how to convert an iterator into a list in Java. It&#39;s trivial to do the same in Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 3993770, "user_type": "registered", "profile_image": "https://graph.facebook.com/1752506490/picture?type=large", "display_name": "Aayush", "link": "https://stackoverflow.com/users/3993770/aayush"}, "edited": false, "score": 0, "creation_date": 1577560036, "post_id": 46108166, "comment_id": 105199793, "body": "I used it as json.keys().iterator().asSequence().toList()"}], "tags": [], "owner": {"reputation": 8455, "user_id": 1349366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f9a569a1c0af19fbe093e2ed751a7?s=128&d=identicon&r=PG", "display_name": "Aivean", "link": "https://stackoverflow.com/users/1349366/aivean"}, "is_accepted": true, "score": 32, "last_activity_date": 1504841297, "creation_date": 1504841297, "answer_id": 46108166, "question_id": 46107706, "link": "https://stackoverflow.com/questions/46107706/kotlin-iterator-to-list/46108166#46108166", "title": "Kotlin iterator to list?", "body": "<p>Probably the easiest way is to convert iterator to <code>Sequence</code> first and then to <code>List</code>:</p>\n\n<pre><code>listOf(1,2,3).iterator().asSequence().toList()\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[1, 2, 3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "is_accepted": false, "score": 4, "last_activity_date": 1525331378, "last_edit_date": 1525331378, "creation_date": 1524236590, "answer_id": 49944616, "question_id": 46107706, "link": "https://stackoverflow.com/questions/46107706/kotlin-iterator-to-list/49944616#49944616", "title": "Kotlin iterator to list?", "body": "<p>I would skip the conversion to sequence, because it is only a few lines of code.</p>\n\n<pre><code>fun &lt;T&gt; Iterator&lt;T&gt;.toList(): List&lt;T&gt; =\n    ArrayList&lt;T&gt;().apply {\n        while (hasNext())\n            this += next()\n    }\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10838, "favorite_count": 0, "accepted_answer_id": 46108166, "answer_count": 2, "score": 21, "last_activity_date": 1564471253, "creation_date": 1504837533, "question_id": 46107706, "link": "https://stackoverflow.com/questions/46107706/kotlin-iterator-to-list", "title": "Kotlin iterator to list?", "body": "<p>I have an iterator of strings from <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#fieldNames%28%29\" rel=\"noreferrer\">fieldNames</a> of <code>JsonNode</code>:</p>\n\n<pre><code>val mm = ... //JsonNode\nval xs = mm.fieldNames()\n</code></pre>\n\n<p>I want to loop over the fields while keeping count, something like:</p>\n\n<pre><code>when mm.size() {\n  1 -&gt; myFunction1(xs[0])\n  2 -&gt; myFunction2(xs[0], xs[1])\n  3 -&gt; myFunction3(xs[0], xs[1], xs[2])\n  else -&gt; print(\"invalid\")\n}\n</code></pre>\n\n<p>Obviously the above code does not work as <code>xs</code> the Iterator cannot be indexed like so. I tried to see if I can convert the iterator to list by <code>mm.toList()</code> but that does not exist.</p>\n\n<p>How can I achieve this? </p>\n"}]