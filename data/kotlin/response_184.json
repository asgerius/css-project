[{"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 5434602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5fweVHh7-YM/AAAAAAAAAAI/AAAAAAAACgc/6qBocIXOd-w/photo.jpg?sz=128", "display_name": "Axel Eriksson", "link": "https://stackoverflow.com/users/5434602/axel-eriksson"}, "is_accepted": false, "score": 1, "last_activity_date": 1552052556, "last_edit_date": 1552052556, "creation_date": 1552051238, "answer_id": 55064095, "question_id": 51412499, "link": "https://stackoverflow.com/questions/51412499/must-not-be-called-on-the-main-application-thread-when-using-firebase-tasks-and/55064095#55064095", "title": "Must not be called on the main application thread when using Firebase Tasks and Rx", "body": "<p>It's the <code>Task.await(task)</code> that can't be run on the main UI thread.</p>\n\n<p>I had a function called FirebaseOCR() with a <code>Task.await()</code> inside of it.</p>\n\n<pre><code>Thread(Runnable {\nFirebaseOCR()\n}).start()\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1552052556, "creation_date": 1531958338, "last_edit_date": 1531976997, "question_id": 51412499, "link": "https://stackoverflow.com/questions/51412499/must-not-be-called-on-the-main-application-thread-when-using-firebase-tasks-and", "title": "Must not be called on the main application thread when using Firebase Tasks and Rx", "body": "<p>I've a code that brings from DB the list of ids of user's favorite beers. Then I use Rx's flatMap to load beers info from database using              beerDataSource.loadBeer(it): </p>\n\n<p>The execution starts at:</p>\n\n<pre><code>       loadFavoritesUseCase\n        .execute(Unit)\n        .flatMap { Observable.fromIterable(it) }\n        .subscribeOn(Schedulers.io())\n        .observeOn(Schedulers.io())\n        .subscribe { (it, _) -&gt;\n            info(it)\n        }\n</code></pre>\n\n<p>then in UseCase:</p>\n\n<pre><code>    override fun execute(params: Unit): Observable&lt;List&lt;Beer&gt;&gt; {\n\n    return favoriteDataSource\n        .all()\n        .flatMap { Observable.fromIterable(it) }\n        .map{\n            info (\"it: $it\")\n            it\n        }\n        .flatMap {\n            beerDataSource.loadBeer(it)\n        }\n        .toList()\n        .toObservable()\n}\n</code></pre>\n\n<p>And loadBeer:</p>\n\n<pre><code>override fun loadBeer(id: String): Observable&lt;Beer&gt; {\n    return Observable.defer {\n\n        val taskSource = TaskCompletionSource&lt;DataSnapshot&gt;()\n\n\n        val ref = database.reference.child(auth.currentUser?.uid).child(\"cache/beers\").child(id)\n\n\n        val listener: ValueEventListener = object : ValueEventListener {\n            override fun onCancelled(databaseError: DatabaseError?) {\n                if (databaseError != null) {\n                    taskSource.setException(databaseError.toException())\n\n                }\n            }\n\n            override fun onDataChange(dataSnapshot: DataSnapshot?) {\n                taskSource.setResult(dataSnapshot)\n            }\n        }\n\n        ref.addListenerForSingleValueEvent(listener)\n        val task = taskSource.task\n        Tasks.await(task)\n\n        val beer = task.result.getValue(Beer::class.java)!!\n        return@defer Observable.just(beer)\n    }\n}\n</code></pre>\n\n<p>When it trigger Tasks.await it throws an exception:</p>\n\n<pre><code>&gt; 07-18 00:25:34.545 22810-23083/br.com.alexpfx.cervejas W/System.err: io.reactivex.exceptions.OnErrorNotImplementedException: Must not be called on the main application thread\n07-18 00:25:34.546 22810-23083/br.com.alexpfx.cervejas W/System.err:     at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n        at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\n        at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.checkTerminated(ObservableObserveOn.java:276)\n        at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:172)\n        at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n07-18 00:25:34.547 22810-23083/br.com.alexpfx.cervejas W/System.err:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "textview"], "answers": [{"tags": [], "owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "is_accepted": false, "score": 4, "last_activity_date": 1532022928, "last_edit_date": 1532022928, "creation_date": 1531952613, "answer_id": 51411805, "question_id": 51411605, "link": "https://stackoverflow.com/questions/51411605/when-setting-text-on-a-textview-it-takes-way-too-long-to-display-the-text-on-scr/51411805#51411805", "title": "When setting text on a TextView it takes way too long to display the text on screen", "body": "<p><strong>Approach One</strong></p>\n\n<p>Recently, Google announced the <a href=\"https://developer.android.com/reference/android/text/PrecomputedText\" rel=\"nofollow noreferrer\"><code>PrecomputedText</code></a> which is available for SDK level 28 and above. Along with that, the <a href=\"https://developer.android.com/reference/androidx/core/text/PrecomputedTextCompat\" rel=\"nofollow noreferrer\"><code>PrecomputedTextCompat</code></a> has been released which is available for SDK 21 to 27. I haven't try it yet but there is a Medium article from <a href=\"https://medium.com/@chriscraik\" rel=\"nofollow noreferrer\">Chris Craik</a> called \"<a href=\"https://medium.com/google-developers/prefetch-text-layout-in-recyclerview-4acf9103f438\" rel=\"nofollow noreferrer\"><em>Prefetch Text Layout in RecyclerView</em></a>\" which explains how to make use of it and how much workload gets off the UI thread without missing any frames. </p>\n\n<p>Snippet from article</p>\n\n<p><strong><em>Precomputing</em></strong></p>\n\n<pre><code>val precomputedText : Spannable = PrecomputedTextCompat.create(expensiveText, params)\n</code></pre>\n\n<p><strong><em>Set precomputed text to TextView</em></strong></p>\n\n<pre><code>TextViewCompat.setPrecomputedText(myTextView, precomputedText)\n</code></pre>\n\n<p>Make sure to read the docs, as some posting to a background thread is required.</p>\n\n<p><strong>Approach Two</strong></p>\n\n<p>Split your text into small chunks or paragraphs. Put it into a list and use a simple RecyclerView to show each item in the list. It's simple and you will get for free good performance as RecyclerView will render and process the items that are visible to the user.</p>\n\n<p>Also, make sure to listen to the <a href=\"http://androidbackstage.blogspot.com/2018/05/episode-90-spanspanspanspan.html\" rel=\"nofollow noreferrer\">Episode 90: Spanspanspanspan</a> of the <a href=\"http://androidbackstage.blogspot.com/\" rel=\"nofollow noreferrer\">Android Developers Backstage</a> podcast, it is hosted by developers of the Android Engineering team.</p>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 3653330, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002401313945/picture?type=large", "display_name": "jackqack", "link": "https://stackoverflow.com/users/3653330/jackqack"}, "is_accepted": false, "score": 3, "last_activity_date": 1542648365, "creation_date": 1542648365, "answer_id": 53379782, "question_id": 51411605, "link": "https://stackoverflow.com/questions/51411605/when-setting-text-on-a-textview-it-takes-way-too-long-to-display-the-text-on-scr/53379782#53379782", "title": "When setting text on a TextView it takes way too long to display the text on screen", "body": "<p><strong>Use PrecomputedText</strong></p>\n\n<p>Using <a href=\"https://developer.android.com/reference/android/text/PrecomputedText\" rel=\"nofollow noreferrer\">PrecomputedText</a> is one of the best approaches here. Read <a href=\"https://stackoverflow.com/a/51411805/3653330\">an answer</a> by <a href=\"https://stackoverflow.com/users/3330058/giorgos-neokleous\">Giorgos Neokleous</a>.</p>\n\n<p><strong>Turn off hyphenation</strong></p>\n\n<p>Turn off hyphenation also helps to improve performance significantly. You can do that by setting <code>android:hyphenationFrequency=\"none\"</code> for a specific TextView or overriding that property for the whole application:</p>\n\n<pre><code>&lt;!-- res/values/styles.xml --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light\"&gt;\n    &lt;!-- ... --&gt;\n    &lt;item name=\"android:textViewStyle\"&gt;@style/AppTextView&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTextView\" parent=\"BaseAppTextView\"&gt;\n    &lt;item name=\"android:hyphenationFrequency\"&gt;none&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"BaseAppTextView\" parent=\"android:Widget.TextView\"/&gt;\n\n\n&lt;!-- res/values-21/styles.xml --&gt;\n&lt;style name=\"BaseAppTextView\" parent=\"android:Widget.Material.TextView\"/&gt;\n</code></pre>\n\n<hr>\n\n<p>Also take a look at few links:</p>\n\n<ul>\n<li><a href=\"https://youtu.be/vXqwRhjd7b4\" rel=\"nofollow noreferrer\">Use Android Text Like a Pro</a> presentation by <strong>Siyamed Sinir</strong> from the <strong>Android Dev Summit '18</strong> where he describes both approaches with some details.</li>\n<li><a href=\"https://medium.com/androiddevelopers/prefetch-text-layout-in-recyclerview-4acf9103f438\" rel=\"nofollow noreferrer\">Prefetch Text Layout in RecyclerView</a> article in Android Developers blog that can help make your RecyclerView faster.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 1151320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21057966f6fdd824a70889a16d5b9969?s=128&d=identicon&r=PG", "display_name": "Siyamed", "link": "https://stackoverflow.com/users/1151320/siyamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1548749901, "creation_date": 1548749901, "answer_id": 54416561, "question_id": 51411605, "link": "https://stackoverflow.com/questions/51411605/when-setting-text-on-a-textview-it-takes-way-too-long-to-display-the-text-on-scr/54416561#54416561", "title": "When setting text on a TextView it takes way too long to display the text on screen", "body": "<p>That text is far too long. You should divide them by \\n (divide into paragraphs) and put each paragraph into a textview in a recyclerview.</p>\n\n<p>Tradeoff is that users cannot select all of the text or in-between paragraphs but i believe at the end it will be a better UX.</p>\n\n<p>Then you should apply Precomputedtext.</p>\n"}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1548749901, "creation_date": 1531951348, "question_id": 51411605, "link": "https://stackoverflow.com/questions/51411605/when-setting-text-on-a-textview-it-takes-way-too-long-to-display-the-text-on-scr", "title": "When setting text on a TextView it takes way too long to display the text on screen", "body": "<p>I'm setting the text on a text view to a String that is 14,000,000  characters long.  </p>\n\n<p>This takes anywere from 1 to 5 minutes to load on screen(depending on device). Any Ideas how I can speed this up?  </p>\n\n<p>Here is the relevant code: </p>\n\n<pre><code>  responseView.text = requestResponsePair.second\n .....................\n  &lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    tools:context=\"com.salesrabbit.android.sales.universal.features.lumberjack.TextDisplayFragment\"&gt;\n\n &lt;TextView\n     android:id=\"@+id/request_label\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"\n     android:text=\"@string/request_label_string\"\n     android:textSize=\"20sp\"/&gt;\n\n &lt;TextView\n     android:id=\"@+id/text_view_request\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"/&gt;\n\n &lt;TextView\n     android:id=\"@+id/response_label\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"\n     android:text=\"@string/response_label_string\"\n     android:textSize=\"20sp\"/&gt;\n\n &lt;TextView\n     android:id=\"@+id/text_view_response\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"/&gt;\n\n  &lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "swift", "kotlin", "keyword"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1531948805, "post_id": 51411018, "comment_id": 89793769, "body": "I don&#39;t use swift, but is defer functionally an async thread that &quot;joins&quot; with main thread before method returns?"}, {"owner": {"reputation": 56338, "user_id": 4573247, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JHd9a.png?s=128&g=1", "display_name": "dfrib", "link": "https://stackoverflow.com/users/4573247/dfrib"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1531948882, "post_id": 51411018, "comment_id": 89793806, "body": "@Pawel <code>defer</code> in Swift simply executes the <code>defer</code> block after leaving the current scope (e.g. exiting a function)."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 3, "creation_date": 1531949338, "post_id": 51411018, "comment_id": 89793996, "body": "<code>try</code>/<code>finally</code>, I think"}, {"owner": {"reputation": 56338, "user_id": 4573247, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JHd9a.png?s=128&g=1", "display_name": "dfrib", "link": "https://stackoverflow.com/users/4573247/dfrib"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 1, "creation_date": 1531949508, "post_id": 51411018, "comment_id": 89794067, "body": "I second @Alexander: a quick look at the grammar of Kotlin does point to the <code>finally</code> block. I recall reading an article a long time ago regarding Swift\u2019s <code>defer</code>, describing it as \u201d<code>try</code> and <code>finally</code> done right\u201d. So I believe the answer you\u2019re likely to get is not the one you are looking for (Kotlin natively, at least)."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1581690063, "post_id": 51411018, "comment_id": 106531572, "body": "@rgv Has your question been answered?"}], "answers": [{"comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1531953074, "post_id": 51411296, "comment_id": 89795311, "body": "Interesting approach! Try/Finally is definitely the more appropriate choice, but this is neat."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531984046, "post_id": 51411296, "comment_id": 89803816, "body": "You could also change the top-level function to <code>fun &lt;T&gt; deferBlock(f: Deferrable.() -&gt; T)</code> and use just <code>defer</code> inside instead of <code>d&#47;it.defer</code>."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531985919, "post_id": 51411296, "comment_id": 89804935, "body": "@AlexeyRomanov I thought about that, but I decided I didn&#39;t want to change the value of <code>this</code> from <code>MyClass</code> to <code>Deferrable</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1531986473, "post_id": 51411296, "comment_id": 89805251, "body": "Fair enough, just mentioning as an option."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1531987109, "post_id": 51411296, "comment_id": 89805637, "body": "@Alexander I changed the implementation to use try/finally. This will make the deferred blocks execute even though the function body throws an exception. I don&#39;t really know how Swift handles exceptions within the deferred blocks though. I didn&#39;t find anything with my quick Google search. Do you know?"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1532021132, "post_id": 51411296, "comment_id": 89828401, "body": "@marstran I defer block always executes prior to a function&#39;s exit, no matter if an error is thrown or not."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1532035399, "post_id": 51411296, "comment_id": 89834697, "body": "@Alexander Yes, but if an exception is thrown within one of the defer blocks, what happens? Like if you would do <code>d.defer { throw RuntimeException() }</code>. Is the exception propagated out of the function, or will it just be swallowed? Will the other defer blocks still run? What happens if more than one defer block throws an exception?"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1532039315, "post_id": 51411296, "comment_id": 89835949, "body": "@marstran idk, try it"}, {"owner": {"reputation": 2619, "user_id": 2249725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06905a0d11a7662cbadd4daffe029452?s=128&d=identicon&r=PG", "display_name": "mvndaai", "link": "https://stackoverflow.com/users/2249725/mvndaai"}, "edited": false, "score": 0, "creation_date": 1582845642, "post_id": 51411296, "comment_id": 106927381, "body": "You might want to change <code>actions</code> from a <code>MutableList </code> to a <code>Stack</code>"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 4, "last_activity_date": 1531986999, "last_edit_date": 1531986999, "creation_date": 1531949690, "answer_id": 51411296, "question_id": 51411018, "link": "https://stackoverflow.com/questions/51411018/kotlin-equivalent-of-swifts-defer-keyword/51411296#51411296", "title": "Kotlin equivalent of Swift&#39;s defer keyword", "body": "<p>There's no such keyword in Kotlin, but you can make a construct yourself that will work quite similarly. Something like this (note that this does not handle exceptions in the deferred blocks):</p>\n\n<pre><code>class Deferrable {\n    private val actions: MutableList&lt;() -&gt; Unit&gt; = mutableListOf()\n\n    fun defer(f: () -&gt; Unit) {\n        actions.add(f)\n    }\n\n    fun execute() {\n        actions.forEach { it() }\n    }\n}\n\nfun &lt;T&gt; defer(f: (Deferrable) -&gt; T): T {\n    val deferrable = Deferrable()\n    try {\n        return f(deferrable)\n    } finally {\n        deferrable.execute()\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>class MyClass {\n\n    var timeStamp = 0L\n\n    fun isEdible(fruit: Fruit): Boolean = defer { d -&gt;\n      d.defer { \n       timeStamp = System.currentTimeMillis()\n      }\n      if (fruit.isExpired) {\n         return false\n      }\n      if (fruit.isRipe) {\n        return true\n      }\n      return false\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "is_accepted": false, "score": 3, "last_activity_date": 1531953192, "creation_date": 1531953192, "answer_id": 51411886, "question_id": 51411018, "link": "https://stackoverflow.com/questions/51411018/kotlin-equivalent-of-swifts-defer-keyword/51411886#51411886", "title": "Kotlin equivalent of Swift&#39;s defer keyword", "body": "<p>The closest equivalent is <code>try</code>/<code>finally</code>. <code>catch</code> is not necessary if there's no exceptions thrown.</p>\n\n<pre><code>try {\n    println(\"do something\")\n    // ... the rest of your method body here\n}\nfinally {\n    println(\"Don't forget about me!\");\n}\n</code></pre>\n\n<p>In Swift, <code>defer</code> is usually used to ensure you don't forget to clean up some kind of resource or another (file handle, database connection, shared memory map, etc.). For this purpose, Kotlin use <code>with</code>, which takes a closure, to which the resource is passed as an argument. The resource is valid for the lifetime of the closure, and is automatically closed at the end.</p>\n\n<pre><code>FileWriter(\"test.txt\")\n  .use { it.write(\"something\") }\n// File is closed by now\n</code></pre>\n"}], "owner": {"reputation": 1073, "user_id": 4127441, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7pi4r.png?s=128&g=1", "display_name": "rgv", "link": "https://stackoverflow.com/users/4127441/rgv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2658, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1532019600, "creation_date": 1531948181, "last_edit_date": 1532019600, "question_id": 51411018, "link": "https://stackoverflow.com/questions/51411018/kotlin-equivalent-of-swifts-defer-keyword", "title": "Kotlin equivalent of Swift&#39;s defer keyword", "body": "<p>Is there anything similar in Kotlin that provides same ability as the Swift keyword 'defer' ?</p>\n\n<p>What the defer key word does is, it ensure that the code inside a defer block get executed before returning from a function. </p>\n\n<p>Below is an example imagining that defer keyword existed in Kotlin. </p>\n\n<pre><code>    class MyClass {\n\n        var timeStamp = 0L\n\n        fun isEdible(fruit: Fruit): Boolean {\n          defer { \n           timeStamp = System.currentTimeMillis()\n          }\n          if (fruit.isExpired) {\n             return false\n          }\n          if (fruit.isRipe) {\n            return true\n          }\n          return false\n        }\n     }\n</code></pre>\n\n<p>In the case above, regardless of at what point the function returns, the block inside <code>defer</code> will get executed and timestamp's value will get updated, just before the function ends. </p>\n\n<p>I know Java there is the <code>finally {}</code> keyword used along with <code>try{} catch{}</code>, but it's is not exactly what defer offers.</p>\n"}, {"tags": ["rest", "kotlin", "jax-rs", "response"], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 475511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3vFtD.png?s=128&g=1", "display_name": "Keplerian", "link": "https://stackoverflow.com/users/475511/keplerian"}, "edited": false, "score": 0, "creation_date": 1612552281, "post_id": 51741583, "comment_id": 116811869, "body": "Do you need a specific Maven dependency to make this work?"}], "tags": [], "owner": {"reputation": 11, "user_id": 10196226, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gcz1-H835WA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o40D9oCYrcqYcaZquqziboCaNfGg/mo/photo.jpg?sz=128", "display_name": "Adam W", "link": "https://stackoverflow.com/users/10196226/adam-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1533715580, "creation_date": 1533715580, "answer_id": 51741583, "question_id": 51410965, "link": "https://stackoverflow.com/questions/51410965/jax-rs-how-to-readentity-response-for-a-list-in-kotlin/51741583#51741583", "title": "JAX-RS how to readEntity response for a List in Kotlin", "body": "<p>This should work:</p>\n\n<pre><code>response.readEntity(object : GenericType&lt;List&lt;FoodSummary&gt;&gt;() {})\n</code></pre>\n\n<p>Check the following for more details: <a href=\"https://stackoverflow.com/questions/17516930/how-to-create-an-instance-of-anonymous-class-of-abstract-class-in-kotlin\">How to create an instance of anonymous class of abstract class in Kotlin?</a></p>\n"}], "owner": {"reputation": 87, "user_id": 3277338, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c4e23d017160050ff17db7ee9f9fa80?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron B", "link": "https://stackoverflow.com/users/3277338/aaron-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533715580, "creation_date": 1531947890, "question_id": 51410965, "link": "https://stackoverflow.com/questions/51410965/jax-rs-how-to-readentity-response-for-a-list-in-kotlin", "title": "JAX-RS how to readEntity response for a List in Kotlin", "body": "<p>I'm working in Kotlin and want to read a list of entities, but I am getting a syntax error on the {}: \"Type mismatch, Required: Type!, Found: () -> Unit\"</p>\n\n<p>if I remove the {} the syntax error is on GenericType: \"Cannot access 'init' it is protected in GenericType\"</p>\n\n<p>I'm wondering what the correct syntax is for reading a list of Entities from a response in Kotlin</p>\n\n<pre><code>val path = URL_PATH\nval target = getTarget(path)\nval response = getRequestBuilder(target).get()\n\nresponse.readEntity(GenericType&lt;List&lt;FoodSummary&gt;&gt;() {})\n</code></pre>\n"}, {"tags": ["android", "kotlin", "alias", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531938287, "post_id": 51408618, "comment_id": 89788643, "body": "I used it, but I thought that maybe exists another way to do @zsmb13. Thanks!"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531942687, "post_id": 51408618, "comment_id": 89790964, "body": "thanks again, but see my own answer. Sorry for any problem caused for me!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1531938030, "creation_date": 1531938030, "answer_id": 51408618, "question_id": 51408583, "link": "https://stackoverflow.com/questions/51408583/change-name-from-this-on-kotlin/51408618#51408618", "title": "Change name from this@ on kotlin", "body": "<p>You could just save the reference to a well-named local variable:</p>\n\n<pre><code>fun Marker.save(ctx: Context) {\n    val marker = this\n    //database is an extension property from Context\n    ctx.database.use {\n        insert(\"markers\",\n                \"id\" to marker.id,\n                \"latitude\" to marker.position.latitude,\n                \"longitude\" to marker.position.longitude,\n                \"name\" to marker.title)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1531974959, "post_id": 51409768, "comment_id": 89800070, "body": "Indeed, using the outer <code>this</code> implicitly is also an option. Worth noting that this can get quite confusing when you are nested multiple scopes deep and you&#39;re grabbing something from an outer one. (And of course, it only works as long as no inner scopes have the same properties.)"}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 0, "last_activity_date": 1531942484, "creation_date": 1531942484, "answer_id": 51409768, "question_id": 51408583, "link": "https://stackoverflow.com/questions/51408583/change-name-from-this-on-kotlin/51409768#51409768", "title": "Change name from this@ on kotlin", "body": "<p>Thanks a lot @zsmb13 for support, but I need answer with my own answer because everythings that we doing are unecessary, just use the property itself, without any prefix, look this:</p>\n\n<pre><code>fun Marker.save(ctx: Context) {\n    //database is an extension property from Context\n    ctx.database.use {\n        insert(\"markers\",\n                \"id\" to id, //without any prefix\n                \"latitude\" to position.latitude,\n                \"longitude\" to position.longitude,\n                \"name\" to title)\n    }\n}\n</code></pre>\n\n<p>I fell embarrassed for this, but I go keep my question to support another developer. Thanks everybody!</p>\n"}], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1003, "favorite_count": 0, "accepted_answer_id": 51408618, "answer_count": 2, "score": 2, "last_activity_date": 1531942484, "creation_date": 1531937923, "question_id": 51408583, "link": "https://stackoverflow.com/questions/51408583/change-name-from-this-on-kotlin", "title": "Change name from this@ on kotlin", "body": "<p>I have the follow situation, an extension function named as <code>save</code> from <code>Marker</code></p>\n\n<p><strong>1. The code</strong></p>\n\n<pre><code>fun Marker.save(ctx: Context) {\n    //database is an extension property from Context\n    ctx.database.use {\n        insert(\"markers\",\n                \"id\" to this@save.id,\n                \"latitude\" to this@save.position.latitude,\n                \"longitude\" to this@save.position.longitude,\n                \"name\" to this@save.title)\n    }\n}\n</code></pre>\n\n<p>The code work fine to me.</p>\n\n<p><strong>2. The issue</strong></p>\n\n<p>To use the instance of <code>Marker</code> inside <code>save</code> method I need use <code>this@save</code>, but this name is not sugestive, in first view, it don't appear like <code>Marker</code>.</p>\n\n<p><strong>3. The question</strong></p>\n\n<p>Is possible apply an alias to use instead <code>this@save</code>?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "android-custom-view"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531935769, "post_id": 51407496, "comment_id": 89787311, "body": "I mean, if you look at it that way, every Fragment (and maybe even Activity) you write already has the same &quot;inheritance over composition&quot; problem."}, {"owner": {"reputation": 700, "user_id": 5153345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKPS07rM9Sc/AAAAAAAAAAI/AAAAAAAAAG8/GeUxXYk0yRQ/photo.jpg?sz=128", "display_name": "Marcello Galhardo", "link": "https://stackoverflow.com/users/5153345/marcello-galhardo"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531987420, "post_id": 51407496, "comment_id": 89805804, "body": "@EpicPandaForce do you think so? For me, the difference is that when you inherit a RecyclerView and set a default Adapter internally, you still have the &quot;setAdapter&quot; method and all other specific RecyclerView methods that are not supported by your class, and your code depends on this Adapter to work, for example. You keep methods exposed that could &quot;break&quot; your implementation. On the other way, a Fragment (and Activity) is only exposing Android Framework related APIs like Lifecycle. Am I wrong?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531991846, "post_id": 51407496, "comment_id": 89808420, "body": "Nope, didn&#39;t think of it that way. What you can do instead is use this custom RecyclerView implementation internally but otherwise wrap it in a FrameLayout that exposes a given API of it."}, {"owner": {"reputation": 1068, "user_id": 1880191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UGO4I.jpg?s=128&g=1", "display_name": "Eran Boudjnah", "link": "https://stackoverflow.com/users/1880191/eran-boudjnah"}, "edited": false, "score": 0, "creation_date": 1575801381, "post_id": 51407496, "comment_id": 104681143, "body": "Setting the adapter and layout manager to the RecyclerView is already composition."}], "owner": {"reputation": 700, "user_id": 5153345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wKPS07rM9Sc/AAAAAAAAAAI/AAAAAAAAAG8/GeUxXYk0yRQ/photo.jpg?sz=128", "display_name": "Marcello Galhardo", "link": "https://stackoverflow.com/users/5153345/marcello-galhardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531933623, "creation_date": 1531933623, "question_id": 51407496, "link": "https://stackoverflow.com/questions/51407496/how-to-create-a-reusable-recyclerview-using-composition-over-inheritance", "title": "How to create a reusable RecyclerView using &quot;Composition over Inheritance&quot;?", "body": "<p>One of my coworkers created an inherit from a RecyclerView and added the logic to create its adapter, defined custom list item attributes, and layout manager inside it.</p>\n\n<p>This is an example of his idea:</p>\n\n<pre><code>class CustomRecyclerView @JvmOverloads constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0\n) : RecyclerView(context, attrs, defStyleAttr) {\n\n    init {\n        loadCustomAttributes()\n        setDefaultAdapter()\n        setDefaultLayoutManager()\n    }\n\n    private fun loadCustomAttributes() {\n        // Load custom attributes: item background, for example.\n    }\n\n    private fun setDefaultAdapter() {\n        // Define specific Custom Adapter.\n    }\n\n    private fun setDefaultLayoutManager() {\n        // Define specific Layout Manager.\n    }\n\n    fun setData(data: List) {\n        // Set data and notify dataset changed.\n    }\n\n    private class CustomAdapter : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n        // Specific Adapter.\n    }\n\n    private class ViewHolder(private val view: View) : RecyclerView.ViewHolder(view) {\n        // Specific View Holder.\n    }\n\n}\n</code></pre>\n\n<p>I understand his reasons, and it's very reasonable: he wants to plug a View on the XML and just reuse it, without defining the adapter or anything else on the Activity or Fragment; he will just set the data with the method \"setData\". </p>\n\n<p>But on the other way, I feel that this class is inheriting a RecyclerView just to breaking the design of the RecyclerView and giving too many responsibilities to it. My pain points are:</p>\n\n<ol>\n<li>A RecyclerView shouldn't decide an item attribute (item background colour, for example);</li>\n<li>A RecyclerView shouldn\u2019t know about his LayoutManager;</li>\n<li>A RecyclerView shouldn't have methods to update the data on the adapter;</li>\n<li>A RecyclerView shouldn\u2019t create an instance of his Adapter.</li>\n<li>This is an \"inheritance over composition\" approach.</li>\n</ol>\n\n<p>I tried to find information about it on the internet, but I didn't find anything about good practices when inheriting from a ListView/RecyclerView.</p>\n\n<p>Another idea would be to wrap it inside another layout (ViewGroup or FrameLayout) to encapsulate it. But this would create an unnecessary nested layout, and it will be complicated to test using Espresso (because now the list is private and shouldn't be exposed).</p>\n\n<p><strong>My question is:</strong> how to create a reusable RecyclerView using \"Composition over Inheritance\"?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "functional-programming", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1531979410, "post_id": 51406593, "comment_id": 89801495, "body": "I don&#39;t fully understand your first explanation : did you forgot a word somewhere?"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 1, "creation_date": 1531998756, "post_id": 51406593, "comment_id": 89813209, "body": "Simply put Kotlin generates a slightly different type depending on when a function is used as a return type or a parameter. Since these types are not the same dagger cannot match them for injection, creating the error."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 3, "last_activity_date": 1531930180, "last_edit_date": 1592644375, "creation_date": 1531930180, "answer_id": 51406593, "question_id": 51406171, "link": "https://stackoverflow.com/questions/51406171/provide-function-dependency-using-dagger-2/51406593#51406593", "title": "Provide function dependency using Dagger 2", "body": "<p>It does not work because in order to allow functions with supertypes to be called in place of the lambda (<code>(Any) -&gt; Boolean</code> can be used as well as <code>(BetaFilterable) -&gt; Boolean</code>) a function as a parameter generates bytecode to allow this.</p>\n<p>The following code:</p>\n<pre><code>object Thing\n\nfun provide(): (Thing) -&gt; Boolean {\n    TODO()\n}\n\nfun requires(func: (Thing) -&gt; Boolean) {\n    TODO()\n}\n</code></pre>\n<p>Results in the following signatures:</p>\n<blockquote>\n<p>signature <code>()Lkotlin/jvm/functions/Function1&lt;LThing;Ljava/lang/Boolean;&gt;</code>;</p>\n<p>declaration: <code>kotlin.jvm.functions.Function1&lt;Thing, java.lang.Boolean&gt; provide()</code></p>\n<p>signature <code>(Lkotlin/jvm/functions/Function1&lt;-LThing;Ljava/lang/Boolean;&gt;;)V</code></p>\n<p>declaration: <code>void requires(kotlin.jvm.functions.Function1&lt;? super Thing, java.lang.Boolean&gt;)</code></p>\n</blockquote>\n<p>The subtle difference between <code>-LThing</code> (<code>? super Thing</code>) and <code>LThing</code> (<code>Thing</code>) makes the types incompatible for Dagger.</p>\n<p>I don't believe it is possible to make this work, you will need to define a separate interface that does not have the same <code>? super</code>/<code>? extends</code> properties as <code>Function1</code> has.</p>\n"}, {"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 2, "last_activity_date": 1531998977, "last_edit_date": 1531998977, "creation_date": 1531987616, "answer_id": 51417486, "question_id": 51406171, "link": "https://stackoverflow.com/questions/51406171/provide-function-dependency-using-dagger-2/51417486#51417486", "title": "Provide function dependency using Dagger 2", "body": "<p>As pointed out in Kiskae's answer, it is not possible to make this work using kotlin. You can make it work using java though:</p>\n\n<pre><code>@Module\npublic class DatabaseModuleJava {\n\n    @Provides\n    @Singleton\n    public Database provideDatabase(Application application, Function1&lt;BetaFilterable, Boolean&gt; betaFilter) {\n        return new Database(application, BuildConfig.VERSION_CODE, betaFilter);\n    }\n\n    @Provides\n    @Singleton\n    @SuppressWarnings(\"ConstantConditions\")\n    public Function1&lt;BetaFilterable, Boolean&gt; provideBetaFiler() {\n        if (BuildConfig.FLAVOR_audience.equals(\"regular\")) {\n            return betaFilterable -&gt; !betaFilterable.getBetaOnly();\n        } else {\n            return betaFilterable -&gt; true;\n        }\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1397, "user_id": 10199138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B3EYIaWV1xY/AAAAAAAAAAI/AAAAAAAABPk/MlOok2YSU5I/photo.jpg?sz=128", "display_name": "MJ Studio", "link": "https://stackoverflow.com/users/10199138/mj-studio"}, "edited": false, "score": 3, "creation_date": 1555895088, "post_id": 54056042, "comment_id": 98246374, "body": "Why this answer wasn&#39;t selected?  It works for me. We don&#39;t need Java."}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 6, "creation_date": 1567441129, "post_id": 54056042, "comment_id": 101956201, "body": "for me, it worked only when annotated the types in the function type signature itself at injection place. Like this: <code>constructor(val function: (@JvmSuppressWildcards Int) -&gt; @JvmSuppressWildcards Boolean)</code>"}], "tags": [], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "is_accepted": true, "score": 16, "last_activity_date": 1589857380, "last_edit_date": 1589857380, "creation_date": 1546720639, "answer_id": 54056042, "question_id": 51406171, "link": "https://stackoverflow.com/questions/51406171/provide-function-dependency-using-dagger-2/54056042#54056042", "title": "Provide function dependency using Dagger 2", "body": "<p>Yes, this can be done in Kotlin.</p>\n\n<blockquote>\n  <p>You need to add @JvmSuppressWildcards at the injection site to ensure the\n  signature matches.\n  (<a href=\"https://github.com/google/dagger/issues/900#issuecomment-359630229\" rel=\"noreferrer\">source</a>)</p>\n</blockquote>\n\n<p>I wrote the following to verify it:</p>\n\n<pre><code>import dagger.Component\nimport dagger.Module\nimport dagger.Provides\nimport javax.inject.Singleton\n\nclass G constructor(val function: Function1&lt;Int, Boolean&gt;)\n\n@Singleton\n@Module\nclass ModuleB {\n    @Provides\n    fun intToBoolean(): (Int) -&gt; Boolean {\n        return { it == 2 }\n    }\n    @JvmSuppressWildcards\n    @Provides fun g(intToBoolean: (Int) -&gt; Boolean): G {\n        return G(intToBoolean)\n    }\n}\n\n@Singleton\n@Component(modules = [ModuleB::class])\ninterface ComponentB {\n    fun g(): G\n}\n\nval componentB = DaggerComponentB.create()\nval g = componentB.g()\nprintln(g.function(2)) // true\nprintln(g.function(3)) // false\n</code></pre>\n\n<p>Background: Examining @Kiskae's response, it seems the problem is that a parameter of function type in Kotlin becomes contravariant on its own parameter types when the code is converted to Java bytecode.  If this doesn't make sense to you, don't worry.  It's not necessary to understand it to use the technique I show above.</p>\n"}], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2360, "favorite_count": 3, "accepted_answer_id": 54056042, "answer_count": 3, "score": 10, "last_activity_date": 1589857380, "creation_date": 1531928858, "last_edit_date": 1546720834, "question_id": 51406171, "link": "https://stackoverflow.com/questions/51406171/provide-function-dependency-using-dagger-2", "title": "Provide function dependency using Dagger 2", "body": "<p>I would like to provide a function as dependency using Dagger 2:</p>\n\n<pre><code>@Module\nclass DatabaseModule {\n\n    @Provides\n    @Singleton\n    fun provideDatabase(application: Application, betaFilter: (BetaFilterable) -&gt; Boolean): Database {\n        return Database(application, BuildConfig.VERSION_CODE, betaFilter)\n    }\n\n    @Provides\n    @Suppress(\"ConstantConditionIf\")\n    fun provideBetaFiler(): (BetaFilterable) -&gt; Boolean {\n        return if (BuildConfig.FLAVOR_audience == \"regular\") {\n            { it.betaOnly.not() }\n        } else {\n            { true }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Unfortunately, it does not seem to work:</p>\n\n<pre><code>[dagger.android.AndroidInjector.inject(T)] kotlin.jvm.functions.Function1&lt;? \nsuper com.app.data.BetaFilterable,java.lang.Boolean&gt; \ncannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["javascript", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1531924173, "post_id": 51404604, "comment_id": 89780073, "body": "If you declare <code>keyB</code> as a list/queue, you can do that."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "edited": false, "score": 0, "creation_date": 1531924873, "post_id": 51404823, "comment_id": 89780594, "body": "Is it will be compiled to js array?  I need use the object on Vue.js"}, {"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1531940931, "post_id": 51404823, "comment_id": 89790145, "body": "A list is a custom object in js. You need to convert the list to an array. <code>List.toTypedArray()</code>"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1531981606, "post_id": 51404823, "comment_id": 89802531, "body": "@pixix4 &quot;a custom object&quot; really? Any source for that?"}, {"owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1531984053, "post_id": 51404823, "comment_id": 89803820, "body": "@JonasW. You can test it with <code>val list = mutableListOf(1, 2, 3, 4)</code>. <code>console.log(list)</code> prints <code>{ &quot;modCount&quot;: 0, &quot;array_hd7ov6$_0&quot;: [1, 2, 3, 4] }</code>. And <code>console.log(list.toTypedArray())</code> prints <code>[1, 2, 3, 4]</code>."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "edited": false, "score": 0, "creation_date": 1531985620, "post_id": 51404823, "comment_id": 89804764, "body": "@pixix4 weird design decision."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1531924665, "creation_date": 1531924665, "answer_id": 51404823, "question_id": 51404604, "link": "https://stackoverflow.com/questions/51404604/how-to-use-push-or-pop-on-js-array-in-kotlin/51404823#51404823", "title": "How to use push() or pop() on js array in kotlin?", "body": "<p>Just use a mutable List for the second key:</p>\n\n<pre><code>object {\n  val keyA = \"ValueA\"\n  val keyB = mutableListOf(\"a\", \"b\", \"c\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3351, "user_id": 5483580, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nU33sjf1SI/AAAAAAAAAAI/AAAAAAAASgQ/VOkKnOIxP8g/photo.jpg?sz=128", "display_name": "Negi Rox", "link": "https://stackoverflow.com/users/5483580/negi-rox"}, "is_accepted": false, "score": 2, "last_activity_date": 1531925346, "creation_date": 1531925346, "answer_id": 51405030, "question_id": 51404604, "link": "https://stackoverflow.com/questions/51404604/how-to-use-push-or-pop-on-js-array-in-kotlin/51405030#51405030", "title": "How to use push() or pop() on js array in kotlin?", "body": "<p>It should be something like this.</p>\n\n<pre><code>val adHoc = object {\n    var keyA: String = \"ValueA\"\n    var keyB: Array&lt;String&gt; = arrayOf(\"a\", \"b\", \"c\")\n}\nprint(adHoc.keyA)\nprint(adHoc.keyB)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1000, "favorite_count": 0, "accepted_answer_id": 51404823, "answer_count": 2, "score": 1, "last_activity_date": 1531925346, "creation_date": 1531924073, "last_edit_date": 1531924581, "question_id": 51404604, "link": "https://stackoverflow.com/questions/51404604/how-to-use-push-or-pop-on-js-array-in-kotlin", "title": "How to use push() or pop() on js array in kotlin?", "body": "<p>I have a JavaScript Object:</p>\n\n<pre><code>{\n   keyA: \"ValueA\",\n   keyB: [\"a\", \"b\", \"c\"]\n}\n</code></pre>\n\n<p>How to define it in Kotlin?\nCan I use push() or pop() on keyB? Thank you.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 7, "last_activity_date": 1531922884, "creation_date": 1531922884, "answer_id": 51404176, "question_id": 51403881, "link": "https://stackoverflow.com/questions/51403881/creating-bytearray-in-kotlin/51404176#51404176", "title": "Creating ByteArray in Kotlin", "body": "<p>The issue is that bytes in Kotlin are signed, which means they can only represent values in the [-128, 127] range. You can test this by creating a <code>ByteArray</code> like this:</p>\n\n<pre><code>val limits = byteArrayOf(-0x81, -0x80, -0x79, 0x00, 0x79, 0x80)\n</code></pre>\n\n<p>Only the first and last values will produce an error, because they are out of the valid range by 1.</p>\n\n<p>This is the same behaviour <a href=\"https://stackoverflow.com/q/11747239/4465208\">as in Java</a>, and the solution will probably be to <a href=\"https://stackoverflow.com/a/4266881/4465208\">use a larger number type</a> if your values don't fit in a <code>Byte</code> (or offset them by 128, etc).</p>\n\n<hr>\n\n<p>Side note: if you print the contents of the array you've created with <code>toInt</code> calls, you'll see that your values larger than 127 have flipped over to negative numbers:</p>\n\n<pre><code>val bytes = byteArrayOf(0xA1.toByte(), 0x2E.toByte(), 0x38.toByte(), 0xD4.toByte(), 0x89.toByte(), 0xC3.toByte())\nprintln(bytes.joinToString()) // -95, 46, 56, -44, -119, -61\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10053723"}, "is_accepted": true, "score": 33, "last_activity_date": 1531923184, "creation_date": 1531923184, "answer_id": 51404278, "question_id": 51403881, "link": "https://stackoverflow.com/questions/51403881/creating-bytearray-in-kotlin/51404278#51404278", "title": "Creating ByteArray in Kotlin", "body": "<p>as an option you can create simple function</p>\n\n<pre><code>fun byteArrayOfInts(vararg ints: Int) = ByteArray(ints.size) { pos -&gt; ints[pos].toByte() }\n</code></pre>\n\n<p>and use it </p>\n\n<pre><code>val arr = byteArrayOfInts(0xA1, 0x2E, 0x38, 0xD4, 0x89, 0xC3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 995, "user_id": 2679327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9Gmc3.png?s=128&g=1", "display_name": "Milack27", "link": "https://stackoverflow.com/users/2679327/milack27"}, "is_accepted": false, "score": 20, "last_activity_date": 1545227152, "last_edit_date": 1545227152, "creation_date": 1545226811, "answer_id": 53852485, "question_id": 51403881, "link": "https://stackoverflow.com/questions/51403881/creating-bytearray-in-kotlin/53852485#53852485", "title": "Creating ByteArray in Kotlin", "body": "<p>If all your bytes were less than or equal to <code>0x7F</code>, you could put them directly:</p>\n\n<pre><code>byteArrayOf(0x2E, 0x38)\n</code></pre>\n\n<p>If you need to use bytes greater than <code>0x7F</code>, you can use unsigned literals to make a <code>UByteArray</code> and then convert it back into a <code>ByteArray</code>:</p>\n\n<pre><code>ubyteArrayOf(0xA1U, 0x2EU, 0x38U, 0xD4U, 0x89U, 0xC3U).toByteArray()\n</code></pre>\n\n<p>I think it's a lot better than appending <code>.toByte()</code> at every element, and there's no need to define a custom function as well.</p>\n\n<p>However, Kotlin's unsigned types are an experimental feature, so you may have some trouble with warnings.</p>\n"}], "owner": {"reputation": 5281, "user_id": 512998, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/63bf366e28e07ad0e0734f0339acf2b0?s=128&d=identicon&r=PG", "display_name": "You Qi", "link": "https://stackoverflow.com/users/512998/you-qi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28055, "favorite_count": 4, "accepted_answer_id": 51404278, "answer_count": 3, "score": 29, "last_activity_date": 1545227152, "creation_date": 1531922092, "question_id": 51403881, "link": "https://stackoverflow.com/questions/51403881/creating-bytearray-in-kotlin", "title": "Creating ByteArray in Kotlin", "body": "<p>Is there a better/shorter way in creating byte array from constant hex than the version below?</p>\n\n<pre><code>byteArrayOf(0xA1.toByte(), 0x2E.toByte(), 0x38.toByte(), 0xD4.toByte(), 0x89.toByte(), 0xC3.toByte())\n</code></pre>\n\n<p>I tried to put <code>0xA1</code> without <code>.toByte()</code> but I receive <strong>syntax error</strong> complaint saying <code>integer literal does not conform to the expected type Byte</code>. Putting integer is fine but I prefer in hex form since my source is in hex string. Any hints would be greatly appreciated. Thanks!</p>\n"}, {"tags": ["kotlin", "rx-java2", "rx-kotlin2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1531920766, "post_id": 51403135, "comment_id": 89777578, "body": "That <code>switchIfEmpty</code> parameter is wrong, you should not create a reactive source that way. Use <code>switchIfEmpty(Observable.error(UnauthorizedException(&quot;...&quot;))&zwnj;&#8203;)</code> instead at least. If you write <code>entityRepository.insert(model, OffsetDateTime.now(clock))</code> on its own, does it execute immediately or is it waiting for a subscription? If the former, wrap the entire call into <code>X.defer { entityRepository.insert(model, OffsetDateTime.now(clock)) }</code> of the appropriate reactive type X."}, {"owner": {"reputation": 1079, "user_id": 674989, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ee44394d6691ad95aba29b38d478bead?s=128&d=identicon&r=PG", "display_name": "Rig", "link": "https://stackoverflow.com/users/674989/rig"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1531970897, "post_id": 51403135, "comment_id": 89799172, "body": "Wrapping the insert with Single.defer seemed to work as far as my tests go. Changing the switchIfEmpty as you described complained that it should be a Publisher and not an Observable. Could you perhaps write an answer and explain why defer worked here a little? I&#39;d obviously accept it. Reading the javadoc on the defer function still leaves me a little confused as to why it accomplished my goal. &quot;Calls a Callable for each individual SingleObserver to return the actual Single source to be subscribed to.&quot; is what the javadoc for Single.defer."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1531983152, "post_id": 51403135, "comment_id": 89803341, "body": "The types are not apparent in your code. Use Flowable.error then. Where does that entityRepository come from, what library?"}, {"owner": {"reputation": 1079, "user_id": 674989, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ee44394d6691ad95aba29b38d478bead?s=128&d=identicon&r=PG", "display_name": "Rig", "link": "https://stackoverflow.com/users/674989/rig"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1532009481, "post_id": 51403135, "comment_id": 89820714, "body": "The entityRepository in the case of an insert returns a Single&lt;Entity&gt;. It&#39;s just an interface backed by a class storing data in a hashmap. This is a bit of a dummy app but I was going to back it with a proper data layer soon. The authorities are returned as a Flowable from a similar setup."}], "owner": {"reputation": 1079, "user_id": 674989, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ee44394d6691ad95aba29b38d478bead?s=128&d=identicon&r=PG", "display_name": "Rig", "link": "https://stackoverflow.com/users/674989/rig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531920124, "creation_date": 1531920124, "question_id": 51403135, "link": "https://stackoverflow.com/questions/51403135/rxjava-rxkotlin-andthen-still-executing-if-previous-step-fails-how-to-stop", "title": "RxJava / RxKotlin - andThen still executing if previous step fails. How to stop?", "body": "<p>I'm new to RxJava and am having a hard time with handling error cases. The application is in Kotlin but it probably won't make much of a difference. The scenario is basically user authentication and then performing an action but if the user is not authorized/has a bad auth token I generate an exception and want to cease processing. Right now I have my function that checks tokens and it looks like this. </p>\n\n<pre><code>fun checkAuthority(authToken: AuthToken, requiredAuthority: Authority): Completable =\n    authorityRepository.getAuthorities(authToken)\n        .filter { it == requiredAuthority }\n        .switchIfEmpty { subscriber -&gt; subscriber.onError(UnauthorizedException(\"must have '$requiredAuthority' authority\")) }\n        .ignoreElements()\n</code></pre>\n\n<p>Then I have a function that looks a bit like this that checks permissions then is supposed to do an operation if they are authorized. </p>\n\n<pre><code>fun create(model: EntityCreate, authToken: AuthToken): Single&lt;Entity&gt; =\n    checkAuthority(authToken, CAN_WRITE_ENTITY)\n        .andThen(entityRepository.insert(model, OffsetDateTime.now(clock)))\n</code></pre>\n\n<p>What I want is that if the UnauthorizedException is generated to not execute the andThen. </p>\n\n<p>Perhaps there is a gap in my understanding of the documentation but I've for instance tried putting <code>doOnError</code> to throw the Throwable before the <code>andThen</code>. I've tried <code>onErrorComplete</code> in the same place. No matter what I do the <code>andThen</code> eventually executes.</p>\n\n<p>What would the pattern look like to abandon the <code>Completable</code> chain should the <code>subscriber.onError</code> line executes? </p>\n"}, {"tags": ["kotlin", "assertj"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1531918678, "post_id": 51401910, "comment_id": 89775957, "body": "whats happen if you use <code>{ file: File -&gt; ... }</code> ?"}, {"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1531918754, "post_id": 51401910, "comment_id": 89776024, "body": "Same as it is still a <code>(File) -&gt; Boolean</code>, not a <code>Predicate&lt;File&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 2922675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S4JUv.jpg?s=128&g=1", "display_name": "Nils-o-mat", "link": "https://stackoverflow.com/users/2922675/nils-o-mat"}, "edited": false, "score": 0, "creation_date": 1531917673, "post_id": 51402268, "comment_id": 89775281, "body": "Thanks, this works. But I really don&#39;t understand, why the above code does not."}, {"owner": {"reputation": 853, "user_id": 2922675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S4JUv.jpg?s=128&g=1", "display_name": "Nils-o-mat", "link": "https://stackoverflow.com/users/2922675/nils-o-mat"}, "edited": false, "score": 0, "creation_date": 1531917888, "post_id": 51402268, "comment_id": 89775421, "body": "As code-improvement, I would recommend using <code>it</code> or a speaking descriptor like <code>file</code>."}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "reply_to_user": {"reputation": 853, "user_id": 2922675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S4JUv.jpg?s=128&g=1", "display_name": "Nils-o-mat", "link": "https://stackoverflow.com/users/2922675/nils-o-mat"}, "edited": false, "score": 0, "creation_date": 1531918581, "post_id": 51402268, "comment_id": 89775890, "body": "Thanks for the advice, see my edit for more information."}], "tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": true, "score": 2, "last_activity_date": 1531918556, "last_edit_date": 1531918556, "creation_date": 1531917572, "answer_id": 51402268, "question_id": 51401910, "link": "https://stackoverflow.com/questions/51401910/how-to-create-an-object-in-kotlin-using-a-constructor-which-takes-a-generic-inte/51402268#51402268", "title": "How to create an Object in Kotlin using a constructor which takes a generic interface and other parameters", "body": "<p>The best I can come up with is:</p>\n\n<pre><code>Condition&lt;File&gt;(Predicate&lt;File&gt; { file -&gt; file.name.startsWith(\"functional_questions\") }, \"description\")\n</code></pre>\n\n<p>Edit: Your code does not work because Kotlin lambda by default does not implement the required interface. If you run the following code:</p>\n\n<pre><code>val predicate1 = { file: File -&gt; file.name.startsWith(\"functional_questions\") }\nval predicate2 = Predicate&lt;File&gt; { file -&gt; file.name.startsWith(\"functional_questions\") }\n\npredicate1::class.java.interfaces.forEach { println(it) }\nprintln() //new line to separate outputs\npredicate2::class.java.interfaces.forEach { println(it) }\n</code></pre>\n\n<p>you get the following output:</p>\n\n<pre><code>interface kotlin.jvm.functions.Function1\n\ninterface java.util.function.Predicate\n</code></pre>\n\n<p>The difference is obvious.</p>\n"}, {"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1531918657, "creation_date": 1531918657, "answer_id": 51402632, "question_id": 51401910, "link": "https://stackoverflow.com/questions/51401910/how-to-create-an-object-in-kotlin-using-a-constructor-which-takes-a-generic-inte/51402632#51402632", "title": "How to create an Object in Kotlin using a constructor which takes a generic interface and other parameters", "body": "<p>AssertJ has no special support for Kotlin as far as I can see, therefore only the Java Predicate is supported. </p>\n\n<p>See more here regarding why we cannot pass kotlin lambdas as functional interfaces: <a href=\"https://stackoverflow.com/a/33610615/5335131\">https://stackoverflow.com/a/33610615/5335131</a></p>\n\n<p>Here are two ways to make it work:</p>\n\n<pre><code>@Test fun assertj() {\n    Condition&lt;File&gt;(Predicate { it.name.startsWith(\"functional_questions\") }, \"Description\")\n    condition&lt;File&gt;(\"Description\") { it.name.startsWith(\"functional_questions\") }\n}\n\nfun &lt;T&gt; condition(description: String, predicate: (T) -&gt; Boolean) =\n    Condition&lt;T&gt;(Predicate&lt;T&gt; { predicate(it) }, description)\n</code></pre>\n\n<p>First with a explicit Predicate and second with a helper. </p>\n"}], "owner": {"reputation": 853, "user_id": 2922675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S4JUv.jpg?s=128&g=1", "display_name": "Nils-o-mat", "link": "https://stackoverflow.com/users/2922675/nils-o-mat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 51402268, "answer_count": 2, "score": 1, "last_activity_date": 1531918657, "creation_date": 1531916493, "last_edit_date": 1531917999, "question_id": 51401910, "link": "https://stackoverflow.com/questions/51401910/how-to-create-an-object-in-kotlin-using-a-constructor-which-takes-a-generic-inte", "title": "How to create an Object in Kotlin using a constructor which takes a generic interface and other parameters", "body": "<p>I'm using AssertJ in Kotlin and tried to use an AssertJ-Condition.</p>\n\n<p>The constructor is defined like this:</p>\n\n<pre><code>Condition(Predicate&lt;T&gt; predicate, String description, Object... args)\n</code></pre>\n\n<p>See <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/Condition.html\" rel=\"nofollow noreferrer\">http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/Condition.html</a></p>\n\n<p>But I can't get the creation right. I tried the following (and some more, which I omitted for brevity):</p>\n\n<pre><code>Condition&lt;File&gt;({ it.name.startsWith(\"functional_questions\") }, \"Description\")\n</code></pre>\n\n<p>with this error: <a href=\"https://i.stack.imgur.com/IKrhT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IKrhT.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Condition&lt;File&gt;({ file -&gt; file.name.startsWith(\"functional_questions\") }, \"Description\")\n</code></pre>\n\n<p>with this error:\n<a href=\"https://i.stack.imgur.com/ej2xp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ej2xp.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can i succeed?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "bottomnavigationview"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1531915356, "post_id": 51401378, "comment_id": 89773729, "body": "is there a solution to what?"}, {"owner": {"reputation": 539, "user_id": 4182575, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-8bL4zcAPHVw/AAAAAAAAAAI/AAAAAAAAAEs/8TWJ4s1Vj3w/photo.jpg?sz=128", "display_name": "Alban Gashi", "link": "https://stackoverflow.com/users/4182575/alban-gashi"}, "edited": false, "score": 2, "creation_date": 1531916222, "post_id": 51401378, "comment_id": 89774326, "body": "try android.R.id.content"}, {"owner": {"reputation": 1389, "user_id": 4527839, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/26acf83d0ae09fb18a386ec8d51ccf56?s=128&d=identicon&r=PG", "display_name": "WinterChilly", "link": "https://stackoverflow.com/users/4527839/winterchilly"}, "edited": false, "score": 0, "creation_date": 1531926190, "post_id": 51401378, "comment_id": 89781518, "body": "Solution to overlaying the whole activity with another fragment, so the bottom navigation view would be hidden. Because now it is always shown."}, {"owner": {"reputation": 1389, "user_id": 4527839, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/26acf83d0ae09fb18a386ec8d51ccf56?s=128&d=identicon&r=PG", "display_name": "WinterChilly", "link": "https://stackoverflow.com/users/4527839/winterchilly"}, "edited": false, "score": 0, "creation_date": 1531927886, "post_id": 51401378, "comment_id": 89782695, "body": "Alban your solution worked :)"}], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 4527839, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/26acf83d0ae09fb18a386ec8d51ccf56?s=128&d=identicon&r=PG", "display_name": "WinterChilly", "link": "https://stackoverflow.com/users/4527839/winterchilly"}, "edited": false, "score": 0, "creation_date": 1531926131, "post_id": 51401902, "comment_id": 89781480, "body": "Tried it, but the same result."}], "tags": [], "owner": {"reputation": 72, "user_id": 8841589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4400871cb365b5928bf1351ac4e61b9?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu Magar", "link": "https://stackoverflow.com/users/8841589/vishnu-magar"}, "is_accepted": false, "score": 2, "last_activity_date": 1531916469, "creation_date": 1531916469, "answer_id": 51401902, "question_id": 51401378, "link": "https://stackoverflow.com/questions/51401378/fragment-doesnt-overlay-whole-layout/51401902#51401902", "title": "Fragment doesn&#39;t overlay whole layout", "body": "<p>Follow the steps</p>\n\n<p>Step 1: cut this line from ConstraintLayout</p>\n\n<pre><code>android:id=\"@+id/container\"\n</code></pre>\n\n<p>step 2: Add these line</p>\n\n<pre><code>&lt;FrameLayout\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>your final code will look like</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n     &lt;FrameLayout\n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;com.product.NonSwipableViewPager\n        android:id=\"@+id/viewPagerFragments\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/navigation\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/navigation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"0dp\"\n        android:layout_marginStart=\"0dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:itemIconTint=\"@drawable/selector_bottom_navigation\"\n        app:itemTextColor=\"@drawable/selector_bottom_navigation\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/navigation\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 5248683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d6b01dbfef6e0be02e37e2edab633026?s=128&d=identicon&r=PG&f=1", "display_name": "B.Kosmowski", "link": "https://stackoverflow.com/users/5248683/b-kosmowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1604519552, "creation_date": 1604519552, "answer_id": 64686824, "question_id": 51401378, "link": "https://stackoverflow.com/questions/51401378/fragment-doesnt-overlay-whole-layout/64686824#64686824", "title": "Fragment doesn&#39;t overlay whole layout", "body": "<p>For me using <code>R.id.content</code> works</p>\n"}], "owner": {"reputation": 1389, "user_id": 4527839, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/26acf83d0ae09fb18a386ec8d51ccf56?s=128&d=identicon&r=PG", "display_name": "WinterChilly", "link": "https://stackoverflow.com/users/4527839/winterchilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1604519552, "creation_date": 1531914863, "question_id": 51401378, "link": "https://stackoverflow.com/questions/51401378/fragment-doesnt-overlay-whole-layout", "title": "Fragment doesn&#39;t overlay whole layout", "body": "<p>I have a bottom navigation bar and a viewpager.\nIn one fragment there is a recyclerview with items. On Item click it needs to open details screen of that item.  </p>\n\n<pre><code>   addFragment(DetailsFragment(),R.id.container)\n</code></pre>\n\n<p>This is an extension.</p>\n\n<pre><code>fun AppCompatActivity.addFragment(fragment: Fragment, frameId: Int) {\n    supportFragmentManager.inTransaction { add(frameId, fragment).addToBackStack(null) }\n}\n</code></pre>\n\n<p>This is my activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n        &lt;com.product.NonSwipableViewPager\n            android:id=\"@+id/viewPagerFragments\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/navigation\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/navigation\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"0dp\"\n            android:layout_marginStart=\"0dp\"\n            android:background=\"?android:attr/windowBackground\"\n            app:itemIconTint=\"@drawable/selector_bottom_navigation\"\n            app:itemTextColor=\"@drawable/selector_bottom_navigation\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:menu=\"@menu/navigation\" /&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Is there any solutions to this? I tried creating another container inside of this container and it didn't work. </p>\n\n<p>One solution is to use another activity. I'm just wondering if it is possible to do with a Fragment or am I doing something wrong.</p>\n"}, {"tags": ["java", "kotlin", "jackson-databind"], "comments": [{"owner": {"reputation": 344, "user_id": 474678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1032298f1867c6346f5e4cf40d453?s=128&d=identicon&r=PG", "display_name": "alaeri", "link": "https://stackoverflow.com/users/474678/alaeri"}, "edited": false, "score": 0, "creation_date": 1531915119, "post_id": 51401195, "comment_id": 89773545, "body": "json.removeAll{ } takes a lambda which should return true or false as parameter."}, {"owner": {"reputation": 344, "user_id": 474678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1032298f1867c6346f5e4cf40d453?s=128&d=identicon&r=PG", "display_name": "alaeri", "link": "https://stackoverflow.com/users/474678/alaeri"}, "edited": false, "score": 0, "creation_date": 1531915156, "post_id": 51401195, "comment_id": 89773580, "body": "json.removeAll{ it.name == &quot;attributeToRemove&quot; } (I dont think this will work as you might have to browse the json tree to find the attributes to remove but at least the syntax would be correct )"}, {"owner": {"reputation": 344, "user_id": 474678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1032298f1867c6346f5e4cf40d453?s=128&d=identicon&r=PG", "display_name": "alaeri", "link": "https://stackoverflow.com/users/474678/alaeri"}, "edited": false, "score": 0, "creation_date": 1531915311, "post_id": 51401195, "comment_id": 89773700, "body": "I dont know your usecase but usually you decode json with an objectmapper of sort and you add @JsonIgnore to fields that you don&#39;t want to serialize / deserialize"}, {"owner": {"reputation": 37, "user_id": 9992516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fefa2cbedad53bb6af1dc3d65d0dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Hexa", "link": "https://stackoverflow.com/users/9992516/hexa"}, "reply_to_user": {"reputation": 344, "user_id": 474678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff1032298f1867c6346f5e4cf40d453?s=128&d=identicon&r=PG", "display_name": "alaeri", "link": "https://stackoverflow.com/users/474678/alaeri"}, "edited": false, "score": 0, "creation_date": 1531916290, "post_id": 51401195, "comment_id": 89774376, "body": "thanks this json data comes from a database so I&#39;m not sure if there&#39;s way for me to use the <code>@JsonIgnore</code>  annotation because I don&#39;t know the JSON data without reading it from the DB first."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9992516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fefa2cbedad53bb6af1dc3d65d0dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Hexa", "link": "https://stackoverflow.com/users/9992516/hexa"}, "edited": false, "score": 0, "creation_date": 1531920331, "post_id": 51402379, "comment_id": 89777203, "body": "thanks, is there a way to do this using import <code>com.fasterxml.jackson.databind.ObjectMapper</code> and not Gson?"}], "tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": false, "score": 0, "last_activity_date": 1531918438, "last_edit_date": 1531918438, "creation_date": 1531917890, "answer_id": 51402379, "question_id": 51401195, "link": "https://stackoverflow.com/questions/51401195/how-to-remove-attributes-from-json-using-kotlin-and-jackson-objectmapper/51402379#51402379", "title": "how to remove attributes from json using Kotlin and jackson ObjectMapper", "body": "<p>convert jsonString to an Object, ignore the fields you want to remove then map back to a jsonString:</p>\n\n<pre><code>import com.google.gson.Gson\nimport com.google.gson.annotations.SerializedName\n\nclass Item99 {\n    var p1: String? = null\n    var types: Array&lt;String&gt;? = null\n}\n\nclass Item994 {\n    var p1: String? = null\n    var types: Array&lt;String&gt;? = null\n}\n\nclass Wrapper (\n        @SerializedName(\"Item99\")\n        var item99: Array&lt;Item99&gt;?,\n        @SerializedName(\"Item994\")\n        var item994: Array&lt;Item994&gt;?\n)\n\nobject Main {\n\n    var jsonString = \"{\\n\" +\n            \"    \\\"Item994\\\": [\\n\" +\n            \"        {\\n\" +\n            \"            \\\"attributeToRemove\\\": {\\n\" +\n            \"                \\\"someItem\\\": null\\n\" +\n            \"            },\\n\" +\n            \"            \\\"types\\\": [\\n\" +\n            \"                \\\"type194\\\",\\n\" +\n            \"                \\\"type294\\\"\\n\" +\n            \"            ],\\n\" +\n            \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n            \"        }\\n\" +\n            \"    ],\\n\" +\n            \"    \\\"Item99\\\": [\\n\" +\n            \"        {\\n\" +\n            \"            \\\"attributeToRemove\\\": {\\n\" +\n            \"                \\\"someItem\\\": null\\n\" +\n            \"            },\\n\" +\n            \"            \\\"types\\\": [\\n\" +\n            \"                \\\"type19\\\",\\n\" +\n            \"                \\\"type29\\\"\\n\" +\n            \"            ],\\n\" +\n            \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n            \"        }\\n\" +\n            \"    ]\\n\" +\n            \"}\"\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val gson = Gson()\n        val wrapper = gson.fromJson(jsonString,Wrapper::class.java)\n        println(gson.toJson(wrapper))\n\n    }\n}\n</code></pre>\n\n<p>The output will look like this:</p>\n\n<p>{\"Item99\":[{\"p1\":\"SOS\",\"types\":[\"type19\",\"type29\"]}],\"Item994\":[{\"p1\":\"SOS\",\"types\":[\"type194\",\"type294\"]}]}</p>\n"}, {"tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": true, "score": 0, "last_activity_date": 1531921058, "creation_date": 1531921058, "answer_id": 51403483, "question_id": 51401195, "link": "https://stackoverflow.com/questions/51401195/how-to-remove-attributes-from-json-using-kotlin-and-jackson-objectmapper/51403483#51403483", "title": "how to remove attributes from json using Kotlin and jackson ObjectMapper", "body": "<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties\nimport com.fasterxml.jackson.annotation.JsonProperty\nimport com.fasterxml.jackson.databind.ObjectMapper\n\n\n@JsonIgnoreProperties(ignoreUnknown = true)\nclass Item99 {\n    var p1: String? = null\n    var types: Array&lt;String&gt;? = null\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\nclass Item994 {\n    var p1: String? = null\n    var types: Array&lt;String&gt;? = null\n}\n\nclass Wrapper {\n    @JsonProperty(\"Item99\")\n    var item99: Array&lt;Item99&gt;? = null\n\n    @JsonProperty(\"Item994\")\n    var item994: Array&lt;Item994&gt;? = null\n}\n\nobject Main {\n\n    var jsonString = \"{\\n\" +\n            \"    \\\"Item994\\\": [\\n\" +\n            \"        {\\n\" +\n            \"            \\\"attributeToRemove\\\": {\\n\" +\n            \"                \\\"someItem\\\": null\\n\" +\n            \"            },\\n\" +\n            \"            \\\"types\\\": [\\n\" +\n            \"                \\\"type194\\\",\\n\" +\n            \"                \\\"type294\\\"\\n\" +\n            \"            ],\\n\" +\n            \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n            \"        }\\n\" +\n            \"    ],\\n\" +\n            \"    \\\"Item99\\\": [\\n\" +\n            \"        {\\n\" +\n            \"            \\\"attributeToRemove\\\": {\\n\" +\n            \"                \\\"someItem\\\": null\\n\" +\n            \"            },\\n\" +\n            \"            \\\"types\\\": [\\n\" +\n            \"                \\\"type19\\\",\\n\" +\n            \"                \\\"type29\\\"\\n\" +\n            \"            ],\\n\" +\n            \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n            \"        }\\n\" +\n            \"    ]\\n\" +\n            \"}\"\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val mapper = ObjectMapper()\n        mapper.visibilityChecker = mapper.serializationConfig.defaultVisibilityChecker.withCreatorVisibility(JsonAutoDetect.Visibility.ANY)\n        val answer = mapper.readValue(jsonString, Wrapper::class.java)\n        print(mapper.writeValueAsString(answer))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9992516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9fefa2cbedad53bb6af1dc3d65d0dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Hexa", "link": "https://stackoverflow.com/users/9992516/hexa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1917, "favorite_count": 0, "accepted_answer_id": 51403483, "answer_count": 2, "score": 1, "last_activity_date": 1531921058, "creation_date": 1531914275, "last_edit_date": 1531920413, "question_id": 51401195, "link": "https://stackoverflow.com/questions/51401195/how-to-remove-attributes-from-json-using-kotlin-and-jackson-objectmapper", "title": "how to remove attributes from json using Kotlin and jackson ObjectMapper", "body": "<p>I want to remove all occurrence of \"attributeToRemove\" in the following JSON:</p>\n\n<pre><code>{\n    \"Item994\": [\n        {\n            \"attributeToRemove\": {\n                \"someItem\": null\n            },\n            \"types\": [\n                \"type194\",\n                \"type294\"\n            ],\n            \"p1\": \"SOS\"\n        }\n    ],\n    \"Item99\": [\n        {\n            \"attributeToRemove\": {\n                \"someItem\": null\n            },\n            \"types\": [\n                \"type19\",\n                \"type29\"\n            ],\n            \"p1\": \"SOS\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I tried using <code>removeAll</code> but I keep this Error: <code>Type mismatch: inferred type is (JsonNode!) -&gt; JsonNode! but (JsonNode!) -&gt; Boolean was expected</code></p>\n\n<p>Can anyone suggest how to fix this?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper\n\n    fun main ( args : Array &lt; String &gt; ) {\n\n        val someString = \"{\\n\" +\n                \"    \\\"Item994\\\": [\\n\" +\n                \"        {\\n\" +\n                \"            \\\"attributeToRemove\\\": {\\n\" +\n                \"                \\\"someItem\\\": null\\n\" +\n                \"            },\\n\" +\n                \"            \\\"types\\\": [\\n\" +\n                \"                \\\"type194\\\",\\n\" +\n                \"                \\\"type294\\\"\\n\" +\n                \"            ],\\n\" +\n                \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n                \"        }\\n\" +\n                \"    ],\\n\" +\n                \"    \\\"Item99\\\": [\\n\" +\n                \"        {\\n\" +\n                \"            \\\"attributeToRemove\\\": {\\n\" +\n                \"                \\\"someItem\\\": null\\n\" +\n                \"            },\\n\" +\n                \"            \\\"types\\\": [\\n\" +\n                \"                \\\"type19\\\",\\n\" +\n                \"                \\\"type29\\\"\\n\" +\n                \"            ],\\n\" +\n                \"            \\\"p1\\\": \\\"SOS\\\"\\n\" +\n                \"        }\\n\" +\n                \"    ]\\n\" +\n                \"}\"\n        val mapper = ObjectMapper()\n        val jsonStr = mapper.writerWithDefaultPrettyPrinter()\n                .writeValueAsString(someString)\n\n        val jsonResult = mapper.readTree(someString)\n        jsonResult.removeAll { it.get(\"attributeToRemove\") }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "navigationbar", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1531914799, "post_id": 51401166, "comment_id": 89773328, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/40972293/remove-animation-shifting-mode-from-bottomnavigationview-android\" title=\"remove animation shifting mode from bottomnavigationview android\">stackoverflow.com/questions/40972293/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 8587770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce820638efae567f9f540823d1de624?s=128&d=identicon&r=PG", "display_name": "user8587770", "link": "https://stackoverflow.com/users/8587770/user8587770"}, "reply_to_user": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1531915024, "post_id": 51401166, "comment_id": 89773491, "body": "no this is to disable the shifting mode only, I want it to disable everything"}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1531915050, "post_id": 51401166, "comment_id": 89773500, "body": "What do you mean with &#39;everything&#39;?"}, {"owner": {"reputation": 1, "user_id": 8587770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce820638efae567f9f540823d1de624?s=128&d=identicon&r=PG", "display_name": "user8587770", "link": "https://stackoverflow.com/users/8587770/user8587770"}, "reply_to_user": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1531915436, "post_id": 51401166, "comment_id": 89773798, "body": "i only want it to change its color not get bigger than the other buttons in size"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531918181, "post_id": 51401166, "comment_id": 89775628, "body": "Use kotlin answer from @ElegyD <a href=\"https://stackoverflow.com/a/49013200/6733404\">here</a>. I used and worked fine for me"}], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 7741335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcCHY.jpg?s=128&g=1", "display_name": "Jasur Kurbanov", "link": "https://stackoverflow.com/users/7741335/jasur-kurbanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1531918830, "creation_date": 1531918830, "answer_id": 51402689, "question_id": 51401166, "link": "https://stackoverflow.com/questions/51401166/how-to-avoid-overcome-animations-on-bottom-navigation-bar-on-android/51402689#51402689", "title": "How to avoid/overcome animations on bottom navigation bar on android", "body": "<p>Try <a href=\"https://github.com/ittianyu/BottomNavigationViewEx\" rel=\"nofollow noreferrer\">this</a> for your project. This is a ready bottom navigation view library which has an easy way of solving your problem</p>\n"}], "owner": {"reputation": 1, "user_id": 8587770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce820638efae567f9f540823d1de624?s=128&d=identicon&r=PG", "display_name": "user8587770", "link": "https://stackoverflow.com/users/8587770/user8587770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531918830, "creation_date": 1531914159, "last_edit_date": 1531914927, "question_id": 51401166, "link": "https://stackoverflow.com/questions/51401166/how-to-avoid-overcome-animations-on-bottom-navigation-bar-on-android", "title": "How to avoid/overcome animations on bottom navigation bar on android", "body": "<p>The navigation bar has 4 buttons, all of color gray. Each one inflates a specific fragment. when clicked on it,it changes its color to red.</p>\n\n<p>The button which is clicked is also becoming larger(bigger).I want to change the color(gray to red) but not <code>size</code>.\nHow to achieve this (not changing the size of button)?</p>\n\n<p>Thanks in advance.</p>\n\n<p>The following is the part of the code:</p>\n\n<p><strong>Menu xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:id=\"@+id/navigation_home\"\n        android:icon=\"@drawable/ic_feed\"\n        android:title=\"\"/&gt;\n    &lt;item\n        android:id=\"@+id/navigation_dashboard\"\n        android:icon=\"@drawable/ic_analytics\"\n        android:title=\"\" /&gt;\n    &lt;item\n        android:id=\"@+id/navigation_profile\"\n        android:icon=\"@drawable/ic_profile\"\n        android:title=\"\" /&gt;\n    &lt;item\n        android:id=\"@+id/navigation_settings\"\n        android:icon=\"@drawable/ic_settings\"\n        android:title=\"\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p><strong>kotlin code</strong>: </p>\n\n<pre><code>private lateinit var bottomnav : BottomNavigationView\nval navUtils = NavigationUtils()\nprivate val mOnNavigationItemSelectedListener = \nBottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n\n    when (item.itemId) {\n        R.id.navigation_home -&gt; {\n            val locationhistoryinstance = \n            LocationHistoryFragment.newInstance()\n            loadFragment(locationhistoryinstance)\n            setTitle(\"Calender Test\")\n            return@OnNavigationItemSelectedListener true\n        }\n\n        R.id.navigation_dashboard -&gt; {\n            val analyticsinstance = AnalyticsPageFragment.newInstance()\n            loadFragment(analyticsinstance)\n            setTitle(\"Analytics\")\n            return@OnNavigationItemSelectedListener true\n        }\n\n        R.id.navigation_profile -&gt; {\n            val profileinstance = ProfileFragment.newInstance()\n            loadFragment(profileinstance)\n            setTitle(\"Profile\")\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_settings -&gt; {\n            val settingsinstance = SettingsFragment.newInstance()\n            loadFragment(settingsinstance)\n            setTitle(\"Settings\")\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_home)\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    bottomnav = findViewById(R.id.navigation)\n\n    navUtils.disableShiftMode(bottomnav)\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1531913395, "post_id": 51400884, "comment_id": 89772354, "body": "programming basics: <a href=\"https://en.wikipedia.org/wiki/Asynchronous_method_invocation\" rel=\"nofollow noreferrer\">AMI</a>"}, {"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1531913496, "post_id": 51400884, "comment_id": 89772413, "body": "I see, wasn&#39;t aware that it was an asynchronous method. how do I make it a blocking call then?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1531913747, "post_id": 51400884, "comment_id": 89772570, "body": "<a href=\"http://selvin.pl/blockingcalls.png\" rel=\"nofollow noreferrer\">well ...are you aware of ANR?</a>"}, {"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1531914129, "post_id": 51400884, "comment_id": 89772823, "body": "Yes, but then exactly what is the solution? If I wait for the data to be read, then I&#39;ll get ANR. If I don&#39;t, then my data won&#39;t be read. Both of these things are problems for my app."}], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 2, "last_activity_date": 1531921546, "creation_date": 1531921546, "answer_id": 51403666, "question_id": 51400884, "link": "https://stackoverflow.com/questions/51400884/code-does-not-wait-for-firebasedatabase-to-be-read/51403666#51403666", "title": "Code does not wait for FirebaseDatabase to be read", "body": "<p>As Selvin commented: data is loaded from Firebase asynchronously. You can't reliably wait for the data to become available. See <a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a>.</p>\n\n<p>The solution is to move the code that needs the data from Firebase <strong>into</strong> the <code>onDataChange</code> in <code>checkDataNew</code>:</p>\n\n<pre><code>fun checkDataNew() {\n    var rootRef=FirebaseDatabase.getInstance().getReference(\"BG Data\")\n    // Read from the database\n    rootRef.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            var isKeyFound = false; // local variables\n            var foundKey;\n            // This method is called once with the initial value and again\n            // whenever data at this location is updated.\n            for(data:DataSnapshot in dataSnapshot.children)\n            {\n                var oldEvent=data.child(\"recentEvent\").getValue().toString()\n                var oldDate:String=data.child(\"calendarTime\").getValue().toString()\n                var oldEmailID:String=data.child(\"emailID\").getValue().toString()\n\n                if(oldEvent.equals(recentEvent) &amp;&amp; oldDate.equals(calendarTime) &amp;&amp; oldEmailID.equals(emailID)) {\n                    foundKey = data.key.toString()\n                    isKeyFound = true\n                }\n            }\n\n            // TODO: process the result here\n            if (isKeyFound) {\n              ...\n            } else {\n              ...\n            }\n        }\n\n        override fun onCancelled(error: DatabaseError) {\n            // Failed to read value\n        }\n    })\n}\n</code></pre>\n\n<p>Alternatively you can define your own callback interface, pass that into <code>checkDataNew</code> and invoke it from within there. For an example of this, see <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a>.</p>\n\n<p>This is a quite common question. So in addition to the links I already provided, I recommend you check out some of these:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38456650/cant-get-values-out-of-ondatachange-method/38460676#38460676\">can&#39;t get values out of ondatachange method</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39464918/arraylist-not-updating-inside-onchildadded-function/39472821#39472821\">ArrayList not updating inside onChildAdded function</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46387359/android-firebase-addlistenerforsinglevalueevent-is-not-working/46387410#46387410\">Android Firebase addListenerForSingleValueEvent is not working</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774#47853774\">How to return dataSnapshot value as a result of a method?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/38173569/only-load-layout-when-firebase-calls-are-complete/38188683#38188683\">Only load layout when firebase calls are complete</a></li>\n<li><a href=\"https://stackoverflow.com/questions/38966056/android-wait-for-firebase-valueeventlistener/40594607#40594607\">Android: wait for firebase valueEventListener</a></li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 51403666, "answer_count": 1, "score": -5, "last_activity_date": 1531921546, "creation_date": 1531913267, "question_id": 51400884, "link": "https://stackoverflow.com/questions/51400884/code-does-not-wait-for-firebasedatabase-to-be-read", "title": "Code does not wait for FirebaseDatabase to be read", "body": "<p>So I have this app which uses Firebase. The problem is that it takes some input (suppose X), reads some data from the FirebaseDatabase (suppose Y), and then compares them. If some elements of Y match with corresponding elements of X, it considers them a duplicate and only updates the value of Y.</p>\n\n<p>If the elements of the two do not match, then it creates a new entry in the database with X.</p>\n\n<p>Now, my code has a button which calls the checkDataNew() method which checks the aforementioned values for similarities. It is responsible for reading from the database and then comparing it with the input values. It then uses the result from that function to update/add the values in the FirebaseDB.</p>\n\n<p>If I keep the activity open and then enter similar values, it works perfectly and only updates the value in the FirebaseDB.</p>\n\n<p>However, if I close the activity and then open it again, then it doesn't enter the addValueEventListener function to read data from the FirebaseDB.</p>\n\n<p>I know because I have debugged it. In the first scenario, the code goes to the lines written inside in the rootRef.addValueEventListener code, but in the second, it doesn't.</p>\n\n<p>Needless to say, this is causing issues of duplicate items in my app. <strong>Can anyone explain as to why the addValueEventListener code executes when the activity is open and input is provided multiple times, but fails to execute if I close the activity and reopen it?</strong></p>\n\n<p>The relevant code for that is written below (it's in Kotlin, but even if someone has a solution for Java, I can convert it to Kotlin):</p>\n\n<pre><code>checkInsulinBtn?.setOnClickListener()\n{\n        var isDataValidCheck:Boolean=validateData()\n        if(isDataValidCheck==true)\n        {\n            checkDataNew() //calls Firebase DB read function\n\n            var newKey=foundKey\n\n            if(newKey==\"\")\n            {\n                var mLogBG:BGLevel= BGLevel(emailID,recentFood,recentEvent,BGLevel,insulinLevel,calendarTime)\n                var key:String=mFirebaseDatabaseReference.push().toString()\n\n                var parsedKeyList=key.split(\"/-\")\n                var parsedKey=parsedKeyList[1]\n                parsedKey=\"-\" + parsedKey\n\n\n                mFirebaseDatabaseReference.child(parsedKey).setValue(mLogBG)\n\n                var mFirebaseDatabaseReference2=mFirebaseDatabase.getReference(\"BG Keys\")\n                mFirebaseDatabaseReference2.push().setValue(parsedKey)\n                Toast.makeText(applicationContext,\"Your data has been saved to the cloud, and is viewable in the app calendar\",Toast.LENGTH_SHORT).show()\n            }\n\n            else\n            {\n                var mLogBG:BGLevel= BGLevel(emailID,recentFood,recentEvent,BGLevel,insulinLevel,calendarTime)\n                var newKey=foundKey\n                mFirebaseDatabaseReference.child(foundKey).setValue(mLogBG)\n                Toast.makeText(applicationContext,\"Your previous data has been updated with the new one\",Toast.LENGTH_LONG).show()\n            }\n\n        }\n}\n</code></pre>\n\n<p>The code for the FirebaseDB read data and comparison is written below:</p>\n\n<pre><code>fun checkDataNew()\n{\n\n    var rootRef=FirebaseDatabase.getInstance().getReference(\"BG Data\")\n    // Read from the database\n    rootRef.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            // This method is called once with the initial value and again\n            // whenever data at this location is updated.\n            for(data:DataSnapshot in dataSnapshot.children)\n            {\n                    var oldEvent=data.child(\"recentEvent\").getValue().toString()\n                    var oldDate:String=data.child(\"calendarTime\").getValue().toString()\n                    var oldEmailID:String=data.child(\"emailID\").getValue().toString()\n\n                    if(oldEvent.equals(recentEvent) &amp;&amp; oldDate.equals(calendarTime) &amp;&amp; oldEmailID.equals(emailID)) {\n                        foundKey = data.key.toString()\n                        isKeyFound = true\n                        return\n                    }\n            }\n        }\n\n        override fun onCancelled(error: DatabaseError) {\n            // Failed to read value\n        }\n    })\n    isKeyFound=false\n    return\n}\n</code></pre>\n"}, {"tags": ["android", "serialization", "kotlin", "gson", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1531928691, "post_id": 51404378, "comment_id": 89783213, "body": "I cannot put @Embedded inside a List"}], "tags": [], "owner": {"reputation": 391, "user_id": 1725535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qnaZJ.png?s=128&g=1", "display_name": "Shubham Naik", "link": "https://stackoverflow.com/users/1725535/shubham-naik"}, "is_accepted": false, "score": 0, "last_activity_date": 1531923447, "creation_date": 1531923447, "answer_id": 51404378, "question_id": 51400483, "link": "https://stackoverflow.com/questions/51400483/serialization-with-gson-in-a-single-entity-class/51404378#51404378", "title": "Serialization with GSON in a single Entity class", "body": "<p>Try doing this. Have not tried it myself yet, so you might need to edit some syntax here n there.  </p>\n\n<pre><code>@Entity\nclass PostParent{\n  @Serializablename(\"posts\") listPosts : List&lt;@Embedded Post&gt;\n}\n\ndata class Post(\n  @SerializableName(\"somethig\")  val something:Int\n  @SerializableName(\"somethig\")  val something:Int\n)\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531923447, "creation_date": 1531912178, "question_id": 51400483, "link": "https://stackoverflow.com/questions/51400483/serialization-with-gson-in-a-single-entity-class", "title": "Serialization with GSON in a single Entity class", "body": "<p>I have a JSON with a parent called \"posts\" and I have the respective children. I am using GSON to serialize the fields into my entity(I'am using Room). </p>\n\n<p>I am using a POJO called Post like</p>\n\n<pre><code>@Entity\ndata class Post(\n  @SerializableName(\"somethig\")  val something:Int\n  @SerializableName(\"somethig\")  val something:Int\n)\n</code></pre>\n\n<p>And I am using a class with a List of it</p>\n\n<pre><code>class PostParent{\n  @Serializablename(\"posts\") listPosts : List&lt;Post&gt; //to call the parent\n}\n</code></pre>\n\n<p>Is there any other way to pass the parent JSON name directly in the Entity class instead of doing a class with a single List? I want to avoid this because I have a dao where I need to insert and fetch the data and he only accepts Lists, so I cant have my dao <strong>method</strong> return the class</p>\n\n<p><strong>Method</strong></p>\n\n<pre><code>override fun loadFromDb(): LiveData&lt;PostParent&gt; { //error in build time\n                return postsDao.getPosts() //tried to do postsDao.getPosts().data already\n            }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "jodatime"], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 1, "last_activity_date": 1531994142, "last_edit_date": 1531994142, "creation_date": 1531911577, "answer_id": 51400304, "question_id": 51400303, "link": "https://stackoverflow.com/questions/51400303/check-if-date-is-specific-number-of-years-ago/51400304#51400304", "title": "Check if date is specific number of years ago", "body": "<p>There have been quite several answers to this question already, however all of them use JodaTime (which is hideous), complicated calculations or unreliable (you can not just multiply number of years * 1000 * 60 * 60 * 24 and forget about leap years).</p>\n\n<p>The accurate and simple solution would be:</p>\n\n<pre><code>fun check(dateOfBirth: Long, minYears: Int): Boolean {\n    val timestampThen = Calendar.getInstance().apply {\n        timeInMillis = System.currentTimeMillis()\n        add(Calendar.YEAR, -minYears)\n    }.timeInMillis\n    return dateOfBirth &lt;= timestampThen\n}\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531994142, "creation_date": 1531911577, "question_id": 51400303, "link": "https://stackoverflow.com/questions/51400303/check-if-date-is-specific-number-of-years-ago", "title": "Check if date is specific number of years ago", "body": "<p>The task is to find out if user's age (represented via unix timestamp) is more than 18 (or any number for this matter) years. It's important to make sure this algorithm has precision up to single day (e.g. if user was born precisely 365 days ago).</p>\n\n<p>There is absolutely no need to use huge libraries such as JodaTime for such a simple job.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "edited": false, "score": 0, "creation_date": 1531913077, "post_id": 51400652, "comment_id": 89772124, "body": "I don&#39;t want to call <code>this</code> for the second constructor, my base class has an independent constructor that I want to call! Otherwise this of course works, but it skips the base class constructor with the same parameters as the one in the inherited class"}, {"owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "reply_to_user": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "edited": false, "score": 0, "creation_date": 1531913505, "post_id": 51400652, "comment_id": 89772418, "body": "No, in my code the inherited class constructors call corresponding base class constructors, and in the base class construcor with parameter calls constructor without one."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531918805, "post_id": 51400652, "comment_id": 89776060, "body": "Which properties do you expect code generated by <code>@Parcelize</code> to read from/write to the parcel?"}], "tags": [], "owner": {"reputation": 3874, "user_id": 9624452, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Konrad Botor", "link": "https://stackoverflow.com/users/9624452/konrad-botor"}, "is_accepted": false, "score": 1, "last_activity_date": 1531912624, "creation_date": 1531912624, "answer_id": 51400652, "question_id": 51400274, "link": "https://stackoverflow.com/questions/51400274/how-to-make-an-inherited-class-parcelable-without-common-constructor/51400652#51400652", "title": "How to make an inherited class parcelable without common constructor?", "body": "<p>Which version of Kotlin are you using? Have you tried:</p>\n\n<pre><code>abstract class AbstractPhoneAppItem(): Parcelable {\n    private var packageName: String? = null\n\n    constructor(packageName: String?): this() {\n        this.packageName = packageName\n    }   \n}\n\n\n@Parcelize\nclass PhoneAppItem : AbstractPhoneAppItem {\n    constructor() : super()\n    constructor(packageName: String?) : super(packageName)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "edited": false, "score": 0, "creation_date": 1531913208, "post_id": 51400681, "comment_id": 89772223, "body": "My constructor logic does not allow this, I do different things in different constructors and this logic can&#39;t be put into a single constructor without adding additional parameters"}], "tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": false, "score": 0, "last_activity_date": 1531912704, "creation_date": 1531912704, "answer_id": 51400681, "question_id": 51400274, "link": "https://stackoverflow.com/questions/51400274/how-to-make-an-inherited-class-parcelable-without-common-constructor/51400681#51400681", "title": "How to make an inherited class parcelable without common constructor?", "body": "<p>You could create a primary constructor with an optional parameter:</p>\n\n<pre><code>abstract class AbstractPhoneAppItem (var packageName: String? = null) : Parcelable {\n}\n</code></pre>\n\n<p>This way, you can use it without any params (so your packageName is null, or the default value you want) or use it with a parameter. Your item class then can call the superclass's primary constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 5555, "user_id": 397244, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/48eda17f60e423ebc1bfd92b248bd2dd?s=128&d=identicon&r=PG", "display_name": "kaneda", "link": "https://stackoverflow.com/users/397244/kaneda"}, "edited": false, "score": 1, "creation_date": 1582812969, "post_id": 51402557, "comment_id": 106912467, "body": "Still complains here the lack of the primary constructor"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1531924289, "last_edit_date": 1531924289, "creation_date": 1531918459, "answer_id": 51402557, "question_id": 51400274, "link": "https://stackoverflow.com/questions/51400274/how-to-make-an-inherited-class-parcelable-without-common-constructor/51402557#51402557", "title": "How to make an inherited class parcelable without common constructor?", "body": "<p>You'll have to use a <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md#custom-parcelables\" rel=\"nofollow noreferrer\">custom parceler</a>: </p>\n\n<pre><code>@Parcelize\nclass PhoneAppItem : AbstractPhoneAppItem {\n    constructor() : super()\n    constructor(packageName: String?) : super(packageName)\n\n    companion object : Parceler&lt;PhoneAppItem&gt; {\n        // modify logic to taste\n        override fun PhoneAppItem.writeToParcel(parcel: Parcel, flags: Int) {\n            parcel.writeString(packageName)\n        }\n\n        override fun create(parcel: Parcel): PhoneAppItem {\n            return PhoneAppItem(parcel.readString())\n        }\n    }\n}\n</code></pre>\n\n<p>Otherwise, <code>@Parcelize</code> really needs a primary constructor to know what to do.</p>\n"}], "owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1531924289, "creation_date": 1531911477, "last_edit_date": 1531913153, "question_id": 51400274, "link": "https://stackoverflow.com/questions/51400274/how-to-make-an-inherited-class-parcelable-without-common-constructor", "title": "How to make an inherited class parcelable without common constructor?", "body": "<p>I get following error for <code>PhoneAppItem</code>:</p>\n\n<blockquote>\n  <p>Parcelable should have primary constructor</p>\n</blockquote>\n\n<p>How can I solve this? I have a base class with constructors that don't share a basic constructor, so how can I extend such a class and make it parcelable in kotlin?</p>\n\n<p><strong>Ideas</strong></p>\n\n<ul>\n<li>add the primary constructor => then I get the exception, that my secondary constructors in <code>PhoneAppItem</code> do not call the primary constructor, IDE says following:</li>\n</ul>\n\n<blockquote>\n  <p>primary constructor call expected</p>\n</blockquote>\n\n<p><strong>Code</strong></p>\n\n<p>Here's the basic barebone code (<em>I have more than 2 simple constructors!!</em>) that creates this error:</p>\n\n<pre><code>abstract class AbstractPhoneAppItem : Parcelable {\n    constructor() {\n\n    }\n    constructor(packageName: String?) {\n        this.packageName = packageName\n    }   \n}\n\n\n@Parcelize\nclass PhoneAppItem : AbstractPhoneAppItem {\n    constructor() : super()\n    constructor(packageName: String?) : super(packageName)\n}\n</code></pre>\n"}, {"tags": ["class", "kotlin", "inline"], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1531911074, "post_id": 51400033, "comment_id": 89770902, "body": "Yeah, I&#39;m totally aware of the risk. Anyway, I have huge expectations for inline class for a lot of actual kotlin limitations in my projects, so I&#39;d like to start playing with them to see if they can help me. How can I add that flag?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1531911142, "post_id": 51400033, "comment_id": 89770949, "body": "You can add the flag in the same way as you add the language feature flag, i.e. through the <code>kotlinOptions.freeCompilerArgs</code> of the Kotlin compilation tasks."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1531911299, "post_id": 51400033, "comment_id": 89771039, "body": "Tried <code>freeCompilerArgs = [&#39;-XXLanguage:+InlineClasses&#39;, &#39;-Xskip-metadata-version-check&#39;]</code> and <code>freeCompilerArgs = [&#39;-XXLanguage:+InlineClasses, -Xskip-metadata-version-check&#39;]</code>. Neither appears to work"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1531912279, "post_id": 51400033, "comment_id": 89771626, "body": "Neither <code>kotlinOptions.freeCompilerArgs = [&quot;-XXLanguage:+InlineClasses&quot;, &quot;-Xskip-metadata-version-check&quot;]</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1531910765, "creation_date": 1531910765, "answer_id": 51400033, "question_id": 51399901, "link": "https://stackoverflow.com/questions/51399901/how-to-try-inline-classes-in-kotlin/51400033#51400033", "title": "How to try inline classes in Kotlin", "body": "<p>Using experimental language features like inline classes leads to the produced binaries being marked with a special pre-release flag, which renders the binaries unusable with release versions of the compiler.</p>\n\n<p>In order to bypass the pre-release status check on the binaries, you can compile their usages with the flag <code>-Xskip-metadata-version-check</code>.</p>\n\n<p>However, you are advised not to do so and not to use binaries compiled with unannounced pre-release language features in production, as later versions of the compiler may behave differently regarding these features.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 51400033, "answer_count": 1, "score": 4, "last_activity_date": 1600334315, "creation_date": 1531910350, "last_edit_date": 1600334315, "question_id": 51399901, "link": "https://stackoverflow.com/questions/51399901/how-to-try-inline-classes-in-kotlin", "title": "How to try inline classes in Kotlin", "body": "<p>It looks like inline classes are available in Kotlin since <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/inline-classes.md\" rel=\"nofollow noreferrer\">1.2.30</a></p>\n<p>According to <a href=\"https://github.com/Kotlin/KEEP/issues/104#issuecomment-405852817\" rel=\"nofollow noreferrer\">Wasabi375</a>, you can enable them by:</p>\n<pre><code>compileKotlin {\n    kotlinOptions {\n        freeCompilerArgs += ['-XXLanguage:+InlineClasses']\n    }\n}\n</code></pre>\n<p>I did that in one <a href=\"https://github.com/elect86/kotlin-unsigned\" rel=\"nofollow noreferrer\">project</a> we have, but I keep getting tons of</p>\n<p><code>Class 'unsigned.ByteKt' is compiled by a pre-release version of Kotlin and cannot be loaded by this version of the compiler</code></p>\n<p>I tried to clean &amp; build, upgrade Gradle to 4.9, using <code>allprojects { }</code>, but nothing worked..</p>\n<p>This is the complete <a href=\"https://gist.github.com/elect86/41ad3d1671dbdafd41ce74f52fb39882\" rel=\"nofollow noreferrer\">log</a></p>\n<p>How can I solve it?</p>\n<p>Ps: note that those unsigned classes have nothing to do with the experimental unsigned from Kotlin 1.3</p>\n"}, {"tags": ["android", "bluetooth", "kotlin", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 2042, "user_id": 798406, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d92c9d66ab13f3da053f7635565660f1?s=128&d=identicon&r=PG", "display_name": "Denis Loh", "link": "https://stackoverflow.com/users/798406/denis-loh"}, "edited": false, "score": 0, "creation_date": 1531916854, "post_id": 51399891, "comment_id": 89774731, "body": "Have you analyzed the bytes of the device name? If you know what chars are actually appended, you may find the reason for it."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 2042, "user_id": 798406, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d92c9d66ab13f3da053f7635565660f1?s=128&d=identicon&r=PG", "display_name": "Denis Loh", "link": "https://stackoverflow.com/users/798406/denis-loh"}, "edited": false, "score": 0, "creation_date": 1531924745, "post_id": 51399891, "comment_id": 89780516, "body": "@DenisLoh Not as of yet, that&#39;s a lower priority whilst I have this workaround as the code doesn&#39;t necessarily need to be reusable at this point in time. Thanks for the suggestion."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1532042080, "post_id": 51399891, "comment_id": 89836629, "body": "If you are only using <code>result!!</code> when why is the type provided to it a <code>Result?</code>?"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531910844, "creation_date": 1531910315, "last_edit_date": 1531910844, "question_id": 51399891, "link": "https://stackoverflow.com/questions/51399891/how-to-deal-with-unknown-characters-in-kotlin", "title": "How to deal with unknown characters in Kotlin?", "body": "<p>I am currently writing an Android app in Kotlin (targetting API 25+) that will connect to a custom BLE peripheral device. The custom BLE device is verified working using Lightblue Explorer (<em>iOS</em>) and nRF Connect (<em>iOS &amp; Android</em>) to log and verify the datastream. The device name appears correctly within both the Lightblue and nRF applications. </p>\n\n<p>The issue is that the device name has unknown characters appended to it when scanning within my Kotlin application, see below:</p>\n\n<p>Expected: <code>ABC_DEF</code>         </p>\n\n<p>Actual: <code>ABC_DEF??</code></p>\n\n<p>I get the device name within the following function:</p>\n\n<pre><code>override fun onScanResult(callbackType: Int, result: ScanResult?) {\n    val name = result!!.scanRecord.deviceName\n    System.out.print(\"onScanResult: $name\")\n    attemptConnect(result!!)\n}\n</code></pre>\n\n<p>My application is attempting to connect to a specific device name, thus, the connection fails due to the unknown characters. </p>\n\n<p>Currently, <code>name.chunked(7)[0]</code> provides me with the <em>expected</em> name, though this solution seems hacky and I'm sure will break as soon as I change the device name.</p>\n\n<p>So, my question is two-fold:</p>\n\n<blockquote>\n  <ol>\n  <li>How best should I deal with these unknown characters in a way that will allow code to be reusable with a different device name?</li>\n  <li>What could be the cause of this issue?</li>\n  </ol>\n</blockquote>\n\n<p>Thanks,\nAdam</p>\n"}, {"tags": ["android", "error-handling", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 9184840, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D6g_DtGVLps/AAAAAAAAAAI/AAAAAAAAKHk/IHIEjaJ4rdA/photo.jpg?sz=128", "display_name": "Anshu Patel", "link": "https://stackoverflow.com/users/9184840/anshu-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531910559, "creation_date": 1531910559, "answer_id": 51399964, "question_id": 51399799, "link": "https://stackoverflow.com/questions/51399799/android-studio-java-lang-illegalargumentexception-given-string-is-empty-or-nul/51399964#51399964", "title": "Android Studio: java.lang.IllegalArgumentException: Given String is empty or null", "body": "<p>surround code with condition in button click</p>\n\n<pre><code>if (email != null || !email.isEmpty()) {\n     //your positive code\n} else {\n     //your negative code    \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10098830, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210317730300122/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/10098830/david"}, "edited": false, "score": 0, "creation_date": 1531911187, "post_id": 51400055, "comment_id": 89770977, "body": "That worked beautifully. Thank you! So the problem was that the text was changing, but it was too late for the variables to be updated?"}, {"owner": {"reputation": 2597, "user_id": 1536286, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/stNkD.jpg?s=128&g=1", "display_name": "Mete", "link": "https://stackoverflow.com/users/1536286/mete"}, "reply_to_user": {"reputation": 21, "user_id": 10098830, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210317730300122/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/10098830/david"}, "edited": false, "score": 0, "creation_date": 1531911883, "post_id": 51400055, "comment_id": 89771410, "body": "Exactly! In this way, you get texts when the user clicks on the button."}], "tags": [], "owner": {"reputation": 2597, "user_id": 1536286, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/stNkD.jpg?s=128&g=1", "display_name": "Mete", "link": "https://stackoverflow.com/users/1536286/mete"}, "is_accepted": true, "score": 1, "last_activity_date": 1531910835, "creation_date": 1531910835, "answer_id": 51400055, "question_id": 51399799, "link": "https://stackoverflow.com/questions/51399799/android-studio-java-lang-illegalargumentexception-given-string-is-empty-or-nul/51400055#51400055", "title": "Android Studio: java.lang.IllegalArgumentException: Given String is empty or null", "body": "<p>In this way; email and pwd variables filled at first start. Your changes are not effect the variables. </p>\n\n<p>You must move this lines into the clicklistener.</p>\n\n<pre><code> //Create new User\nvar email = emailID.text.toString().trim()\nvar pwd = passwordID.text.toString().trim()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10098830, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210317730300122/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/10098830/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 51400055, "answer_count": 2, "score": 0, "last_activity_date": 1531921767, "creation_date": 1531910030, "last_edit_date": 1531921767, "question_id": 51399799, "link": "https://stackoverflow.com/questions/51399799/android-studio-java-lang-illegalargumentexception-given-string-is-empty-or-nul", "title": "Android Studio: java.lang.IllegalArgumentException: Given String is empty or null", "body": "<p>I'm currently working on my first project, so I'm sorry if it sounds like a stupid question. </p>\n\n<p>I'm having trouble with a piece of code that should attempt to create a Firebase acccount with the email and password provided in the text boxes in the UI when you click a button. Instead, whenever I click that button, the app crashes with the error: java.lang.IllegalArgumentException: Given String is empty or null.</p>\n\n<p>Code:</p>\n\n<pre><code>    //Create new User\n    var email = emailID.text.toString().trim()\n    var pwd = passwordID.text.toString().trim()\n\n\n    create_acc_button.setOnClickListener{\n\n        mAuth!!.createUserWithEmailAndPassword(email, \n        pwd).addOnCompleteListener(this\n        ) { task: Task&lt;AuthResult&gt; -&gt;\n            if (task.isSuccessful){\n                var user:FirebaseUser = mAuth!!.currentUser!!\n                Log.d(\"User\", user.email.toString())\n            }else{\n                Log.d(\"Error:\", task.toString())\n            }\n        }\n    }\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>    java.lang.IllegalArgumentException: Given String is empty or null\n        at com.google.android.gms.common.internal.zzbq.zzgm(Unknown Source:10)\n        at com.google.firebase.auth.FirebaseAuth.createUserWithEmailAndPassword(Unknown Source:0)\n        at com.example.david.mykotlinfirebaseintro.MainActivity$onCreate$1.onClick(MainActivity.kt:37)\n        at android.view.View.performClick(View.java:6597)\n        at android.view.View.performClickInternal(View.java:6574)\n        at android.view.View.access$3100(View.java:778)\n        at android.view.View$PerformClick.run(View.java:25885)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"}, {"tags": ["android", "database", "sqlite", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1229, "user_id": 2810726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/oLh03.jpg?s=128&g=1", "display_name": "Mbuodile Obiosio", "link": "https://stackoverflow.com/users/2810726/mbuodile-obiosio"}, "edited": false, "score": 1, "creation_date": 1531918438, "post_id": 51400101, "comment_id": 89775793, "body": "Worked. Thank you."}], "tags": [], "owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "is_accepted": true, "score": 3, "last_activity_date": 1536700672, "last_edit_date": 1536700672, "creation_date": 1531910982, "answer_id": 51400101, "question_id": 51399793, "link": "https://stackoverflow.com/questions/51399793/assignments-are-not-expressions-kotlin/51400101#51400101", "title": "Assignments are not expressions - Kotlin", "body": "<p>Change it to: </p>\n\n<pre><code> mLength = mInput.read(mBuffer)\n while (mLength &gt; 0) { \n        mOutput.write(mBuffer, 0, mLength)\n        mLength = mInput.read(mBuffer)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "is_accepted": false, "score": 0, "last_activity_date": 1536700700, "last_edit_date": 1536700700, "creation_date": 1535883268, "answer_id": 52135996, "question_id": 51399793, "link": "https://stackoverflow.com/questions/51399793/assignments-are-not-expressions-kotlin/52135996#52135996", "title": "Assignments are not expressions - Kotlin", "body": "<p>This is a work around to your problem:</p>\n\n<pre><code>while ({mLength = mInput.read(mBuffer); mLength}() &gt; 0) {\n    mOutput.write(mBuffer, 0, mLength)\n}\n</code></pre>\n\n<p>For further detail read <a href=\"https://discuss.kotlinlang.org/t/assignment-not-allow-in-while-expression/339/6\" rel=\"nofollow noreferrer\">this discussion</a>.</p>\n"}], "owner": {"reputation": 1229, "user_id": 2810726, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/oLh03.jpg?s=128&g=1", "display_name": "Mbuodile Obiosio", "link": "https://stackoverflow.com/users/2810726/mbuodile-obiosio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "accepted_answer_id": 51400101, "answer_count": 2, "score": 3, "last_activity_date": 1536700700, "creation_date": 1531910023, "question_id": 51399793, "link": "https://stackoverflow.com/questions/51399793/assignments-are-not-expressions-kotlin", "title": "Assignments are not expressions - Kotlin", "body": "<p>I'm refactoring my project built with Java to Kotlin and to copy database from sqlite assets table I'm doing this and it works correctly.</p>\n\n<pre><code>private void copyDataBase() throws IOException {\n        InputStream mInput = mContext.getAssets().open(DB_NAME);\n        String outFileName = DB_PATH + DB_NAME;\n        OutputStream mOutput = new FileOutputStream(outFileName);\n        byte[] mBuffer = new byte[1024];\n        int mLength;\n        while ((mLength = mInput.read(mBuffer)) &gt; 0) {\n            mOutput.write(mBuffer, 0, mLength);\n        }\n        mOutput.flush();\n        mOutput.close();\n        mInput.close();\n    }\n</code></pre>\n\n<p>How do I deal with \"Assignments are not expressions, and only expressions are allowed in this context\"?</p>\n\n<pre><code>@Throws(IOException::class)\n    private fun copyDataBase() {\n        val mInput = mContext.assets.open(DB_NAME)\n        val outFileName = DB_PATH + DB_NAME\n        val mOutput = FileOutputStream(outFileName)\n        val mBuffer = ByteArray(1024)\n        var mLength: Int\n        while ((mLength = mInput.read(mBuffer)) &gt; 0) {\n            mOutput.write(mBuffer, 0, mLength)\n        }\n        mOutput.flush()\n        mOutput.close()\n        mInput.close()\n    }\n</code></pre>\n\n<p>Error is here</p>\n\n<pre><code>while ((mLength = mInput.read(mBuffer)) &gt; 0) {\n            mOutput.write(mBuffer, 0, mLength)\n        }\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 123, "user_id": 1670928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb16e45c21ca1711f2b4196f5183b3d?s=128&d=identicon&r=PG", "display_name": "JAI", "link": "https://stackoverflow.com/users/1670928/jai"}, "edited": false, "score": 0, "creation_date": 1531906238, "post_id": 51398326, "comment_id": 89767793, "body": "I am using both android and kotlin inside the same project"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1531906328, "post_id": 51398326, "comment_id": 89767844, "body": "as a side note it should be <code>public static String TAG</code> you are missing String"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1531906359, "post_id": 51398326, "comment_id": 89767864, "body": "use full qualified name instead of <code>First.TAG</code> use <code>&lt;your package&gt;.First.TAG</code> <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>"}, {"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 1, "creation_date": 1531906414, "post_id": 51398326, "comment_id": 89767912, "body": "Why would you do that? it&#39;s not clear what you are trying to do with First.TAG . If you want to create a member variable <code>var someMember = First.TAG</code> and why does TAG not have a type in your java class. I am guessing it&#39;s a String"}, {"owner": {"reputation": 2597, "user_id": 1536286, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/stNkD.jpg?s=128&g=1", "display_name": "Mete", "link": "https://stackoverflow.com/users/1536286/mete"}, "edited": false, "score": 0, "creation_date": 1531910305, "post_id": 51398326, "comment_id": 89770460, "body": "Also in Kotlin you can use Companion object, just like static methods in Java."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 3, "last_activity_date": 1531909640, "last_edit_date": 1531909640, "creation_date": 1531909267, "answer_id": 51399536, "question_id": 51398326, "link": "https://stackoverflow.com/questions/51398326/how-to-access-static-variable-of-java-class-in-kotlin/51399536#51399536", "title": "How to access static variable of java class in kotlin?", "body": "<p>Java Class:</p>\n\n<pre><code>class First {\n    public static String TAG = \"test\";\n}\n</code></pre>\n\n<p>Kotlin Class:</p>\n\n<pre><code>class Second {\n    val secondTag: String = First.TAG\n}\n</code></pre>\n\n<p>and there is no problem.</p>\n\n<p>Try with IntelliJ IDEA</p>\n\n<pre><code>fun main(args: Array &lt; String &gt; ) {\n    val s = Second()\n    println(s.secondTag)\n}\n</code></pre>\n\n<p>prints <code>test</code></p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 1, "last_activity_date": 1532042648, "creation_date": 1532042648, "answer_id": 51433020, "question_id": 51398326, "link": "https://stackoverflow.com/questions/51398326/how-to-access-static-variable-of-java-class-in-kotlin/51433020#51433020", "title": "How to access static variable of java class in kotlin?", "body": "<p>Just make a proper, static final constant.</p>\n\n<pre><code>class First {\n      public static final String TAG = \"test\"\n}\n</code></pre>\n\n<p>Now you can call it from Kotlin.</p>\n\n<pre><code>class Second {\n   fun blah() {\n       val tag = First.TAG\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 8157752, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JuIwVLWzo28/AAAAAAAAAAI/AAAAAAAAABQ/SCbmbTB-dzU/photo.jpg?sz=128", "display_name": "Roberto Capah", "link": "https://stackoverflow.com/users/8157752/roberto-capah"}, "is_accepted": false, "score": 0, "last_activity_date": 1571208658, "creation_date": 1571208658, "answer_id": 58407328, "question_id": 51398326, "link": "https://stackoverflow.com/questions/51398326/how-to-access-static-variable-of-java-class-in-kotlin/58407328#58407328", "title": "How to access static variable of java class in kotlin?", "body": "<p>First Class</p>\n\n<p><code>package com.your.package\nobject First {\n    val TAG: String= \"Your TAG\";\n}</code></p>\n\n<p>Second Class</p>\n\n<p><code>class Second{\n     First.TAG \n   }</code></p>\n\n<p>Kotlin doesn\u2019t have static members or member functions,\nyou can use companion object</p>\n"}], "owner": {"reputation": 123, "user_id": 1670928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abb16e45c21ca1711f2b4196f5183b3d?s=128&d=identicon&r=PG", "display_name": "JAI", "link": "https://stackoverflow.com/users/1670928/jai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1750, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1571208658, "creation_date": 1531905932, "last_edit_date": 1531906194, "question_id": 51398326, "link": "https://stackoverflow.com/questions/51398326/how-to-access-static-variable-of-java-class-in-kotlin", "title": "How to access static variable of java class in kotlin?", "body": "<p>Eg: I have a java class First</p>\n\n<p>First.java</p>\n\n<pre><code>   `class First{\n      public static TAG = \"test\"\n    }`\n</code></pre>\n\n<p>Second.kt</p>\n\n<pre><code>  `class Second{\n     First.TAG  /*Error classifier First does not have a companion object,and thus must be initialized here*/\n   }`\n</code></pre>\n\n<p>So help me to call the static variable TAG declared in First.java inside Second.kt kotlin class</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 2, "last_activity_date": 1531905973, "creation_date": 1531905973, "answer_id": 51398345, "question_id": 51398258, "link": "https://stackoverflow.com/questions/51398258/how-to-do-a-generic-in-kotlin/51398345#51398345", "title": "How to do a generic in kotlin?", "body": "<p>You can do this:</p>\n\n<pre><code>@MainThread\nprotected abstract fun fetchService(): LiveData&lt;ApiResponse&lt;out RequestType&gt;&gt;\n</code></pre>\n\n<p>Then you can have an implementation of <code>RequestType</code> which has a <code>List</code> internally.</p>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 51398345, "answer_count": 1, "score": 0, "last_activity_date": 1531905973, "creation_date": 1531905770, "question_id": 51398258, "link": "https://stackoverflow.com/questions/51398258/how-to-do-a-generic-in-kotlin", "title": "How to do a generic in kotlin?", "body": "<p>I have a problem where I need to pass a generic in kotlin of a certain type of class</p>\n\n<p>I have this method</p>\n\n<pre><code> override fun fetchService(): LiveData&lt;ApiResponse&lt;ProductPostListing&gt;&gt; { // TODO mudar request type\n                return service.getPosts(\"\", \"\",page, per_page)\n            }\n</code></pre>\n\n<p>And its overriding this:</p>\n\n<pre><code>@MainThread\n    protected abstract fun fetchService(): LiveData&lt;ApiResponse&lt;RequestType&gt;&gt;\n</code></pre>\n\n<p>Yet its gives me an error. Can you help me on how to say the ApiResponse to Expect a class that as a List inside? ( I have reasons to do this so I cant just pass the list directly). thanks</p>\n"}, {"tags": ["static", "kotlin"], "comments": [{"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 0, "creation_date": 1531905232, "post_id": 51397886, "comment_id": 89767119, "body": "use a companion object or an object class"}], "answers": [{"comments": [{"owner": {"reputation": 1948, "user_id": 8098236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7003b88799ae3c4d2faf4dbf20250521?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Rehwinkel", "link": "https://stackoverflow.com/users/8098236/ian-rehwinkel"}, "edited": false, "score": 1, "creation_date": 1531905623, "post_id": 51398176, "comment_id": 89767351, "body": "Okay, if there is no way, i&#39;ll have to use companion object. Thanks for the quick reply!"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 2, "last_activity_date": 1531905518, "creation_date": 1531905518, "answer_id": 51398176, "question_id": 51397886, "link": "https://stackoverflow.com/questions/51397886/non-static-field-in-object/51398176#51398176", "title": "Non-Static field in Object", "body": "<p>There is no <code>static</code> keyword in Kotlin. The only way to make something <code>static</code> is to use the <code>@JvmStatic</code> annotation:</p>\n\n<pre><code>object Foo {\n\n    @JvmStatic\n    val someVal: String = \"foo\"\n\n}\n</code></pre>\n\n<p>An <code>object</code> is an object, not a <code>class</code>. If you want to use class properties use a <code>class</code> and add a <code>companion object</code> to it:</p>\n\n<pre><code>class Foo {\n\n    val nonStatic: String = \"foo\"\n\n    companion object {\n\n        // not actual static but accessible by Foo.static\n        val static: String = \"bar\"\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1948, "user_id": 8098236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7003b88799ae3c4d2faf4dbf20250521?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Rehwinkel", "link": "https://stackoverflow.com/users/8098236/ian-rehwinkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 51398176, "answer_count": 1, "score": 0, "last_activity_date": 1531905518, "creation_date": 1531904691, "last_edit_date": 1531905518, "question_id": 51397886, "link": "https://stackoverflow.com/questions/51397886/non-static-field-in-object", "title": "Non-Static field in Object", "body": "<p>I have a Kotlin object class. I want certain fields of this class to not be static. In Java, I would add static to everything that needs to be static. Can one do this with an object class or must I create a regular class with a companion object?</p>\n\n<p>Something like this:</p>\n\n<pre><code>object TestObject {\n    val static1: Int = 10\n    val static2: Int = 20\n    notstatic val notstatic1 = 13\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 0, "creation_date": 1531904702, "post_id": 51397707, "comment_id": 89766698, "body": "&gt;= means something else in Kotlin doesn&#39;t it?"}], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": true, "score": 5, "last_activity_date": 1531907162, "last_edit_date": 1531907162, "creation_date": 1531904718, "answer_id": 51397899, "question_id": 51397707, "link": "https://stackoverflow.com/questions/51397707/why-do-i-need-to-add-space-before-in-kotlin/51397899#51397899", "title": "Why do I need to add space before = in Kotlin?", "body": "<p>The symbol <code>&gt;=</code> is read as <strong>greater than or equal to</strong>, that is why the compiler show the error <code>Expecting a '&gt;'</code>.</p>\n\n<p>Just add the space, as recommended in the <code>Kotlin</code> style guide maintained by Google: <a href=\"https://android.github.io/kotlin-guides/style.html\" rel=\"nofollow noreferrer\">https://android.github.io/kotlin-guides/style.html</a> </p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 51397899, "answer_count": 1, "score": 1, "last_activity_date": 1531907162, "creation_date": 1531904220, "question_id": 51397707, "link": "https://stackoverflow.com/questions/51397707/why-do-i-need-to-add-space-before-in-kotlin", "title": "Why do I need to add space before = in Kotlin?", "body": "<p>In the following code , I have to add space before = , why ?</p>\n\n<p>I think <code>private val listofMDetail: MutableList&lt;MDetail&gt;=</code> <em>(No space before =)</em> would be OK, but in fact, the Android Studio 3.1.3 give me an error.</p>\n\n<pre><code>  private val listofMDetail: MutableList&lt;MDetail&gt; =           //I have to add space before =\n            try{\n                myGson.fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson)?: mutableListOf&lt;MDetail&gt;()  //Load\n            }catch(e:Exception) {\n                e.message?.let{ logError(\"Paser: \"+it)}\n                throw Exception(e)\n            }\n</code></pre>\n"}, {"tags": ["kotlin", "vaadin"], "answers": [{"tags": [], "owner": {"reputation": 2276, "user_id": 377320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/359d03ed63df432a022cc8e3a2fe60fe?s=128&d=identicon&r=PG", "display_name": "Martin Vysny", "link": "https://stackoverflow.com/users/377320/martin-vysny"}, "is_accepted": true, "score": 1, "last_activity_date": 1531915898, "last_edit_date": 1531915898, "creation_date": 1531915311, "answer_id": 51401536, "question_id": 51397235, "link": "https://stackoverflow.com/questions/51397235/vaadin-grid-in-horizontal-layout-is-not-filling-screen-and-flex-grow-is-not-work/51401536#51401536", "title": "Vaadin Grid in Horizontal Layout is not filling screen and flex grow is not working", "body": "<p>The problem is that <code>:host</code> on <code>&lt;vaadin-grid&gt;</code> specifies <code>flex: 1 1 100%</code>, the important part here being the <code>flex-basis</code> with the value of <code>100%</code>. That translates to 'make me as big as possible'. The vertical layout has the width of 100% and flex-basis of auto, which too translates to 'make me as big as possible'. Apparently that overrides the flex-grow values and makes it share space 50%/50%.</p>\n\n<p>The fix is to add <code>flex-basis: auto</code> to <code>&lt;vaadin-grid&gt;</code> and set the width of <code>VerticalLayout</code> to <code>null</code>. Then, they will maintain the ratio of 75%/25% (which is flex-grow 3/1).</p>\n\n<p>For my Vaadin 8 mind this is absolutely weird :) I have written a blog post <a href=\"http://mavi.logdown.com/posts/6855605\" rel=\"nofollow noreferrer\">Vaadin 10 layouting for Vaadin 8 devs</a> - you may perhaps find it useful.</p>\n\n<p>ps: You could use the Karibu-DSL library; then you would be able to rewrite your code as follows:</p>\n\n<pre><code>class FeedbacksView(private val feedbackService: FeedbackService) : HorizontalLayout() {\n    private val grid;\n    private val sidebar;\n\n    init {\n       width = \"100%\"; height = \"100%\"\n       grid = grid&lt;FeedbackListModel&gt; {\n           flexGrow = 3.0\n           setItems(feedbackService.fetchFeedbacks())\n           // add columns ...\n       }\n       sidebar = verticalLayout {\n           flexGrow = 1.0\n           text(\"foo\")\n       }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 491, "user_id": 9316458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqhZi.png?s=128&g=1", "display_name": "Hexworks", "link": "https://stackoverflow.com/users/9316458/hexworks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 51401536, "answer_count": 1, "score": 1, "last_activity_date": 1531915898, "creation_date": 1531902850, "question_id": 51397235, "link": "https://stackoverflow.com/questions/51397235/vaadin-grid-in-horizontal-layout-is-not-filling-screen-and-flex-grow-is-not-work", "title": "Vaadin Grid in Horizontal Layout is not filling screen and flex grow is not working", "body": "<p>I'm trying to put a simple <code>Grid</code> into a <code>HorizontalLayout</code> with a sidebar (which is just a <code>Text</code> box for now)\nit looks like this:</p>\n\n<pre><code>class FeedbacksView constructor(private val feedbackService: FeedbackService) : HorizontalLayout() {\n    private val grid = Grid&lt;FeedbackListModel&gt;().apply {\n        setItems(feedbackService.fetchFeedbacks())\n        // add columns ...\n    }\n\n    private val sidebar = VerticalLayout().apply {\n        add(Text(\"foo\"))\n    }\n\n    init {\n        width = \"100%\"\n        height = \"100%\"\n        setFlexGrow(3.0, grid)\n        setFlexGrow(1.0, sidebar)\n        add(grid, sidebar)\n    }\n\n}\n</code></pre>\n\n<p>and for some reason the layout does not fill the screen, nor the grid.\nThe grid and the sidebar both have 50% width despite setting the flex grow to 3 and 1 respectively.</p>\n\n<p>What could be the problem?</p>\n"}, {"tags": ["android", "kotlin", "stripe-payments"], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1532066390, "post_id": 51399294, "comment_id": 89841828, "body": "Yes @psmvac, you are right, it established by stripe suupport, they say: Unfortunately, it&#39;s not possible to add Google Pay as a payment method on the PaymentMethodsActivity, if you want to make a somewhat more sophisticated activity is to actually roll your own"}], "tags": [], "owner": {"reputation": 226, "user_id": 9771187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb41b5d83cfad0de90d49230afd886c5?s=128&d=identicon&r=PG&f=1", "display_name": "psmvac", "link": "https://stackoverflow.com/users/9771187/psmvac"}, "is_accepted": true, "score": 2, "last_activity_date": 1531908593, "creation_date": 1531908593, "answer_id": 51399294, "question_id": 51397190, "link": "https://stackoverflow.com/questions/51397190/stripe-paymentmethodsactivity-add-google-pay-button/51399294#51399294", "title": "Stripe PaymentMethodsActivity add google pay button", "body": "<p>My understanding is that it is not possible to add Google Pay as a payment method choice in the <code>PaymentMethodsActivity</code> (similarly to how Apple Pay could be shown as an available payment choice in the <code>STPPaymentMethodsViewController</code>).</p>\n\n<p>For Google Pay you will need to show a separate Google Pay button and integrate <a href=\"https://stripe.com/docs/mobile/android/google-pay\" rel=\"nofollow noreferrer\">using this approach</a>.</p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 51399294, "answer_count": 1, "score": 3, "last_activity_date": 1531908593, "creation_date": 1531902710, "last_edit_date": 1531903526, "question_id": 51397190, "link": "https://stackoverflow.com/questions/51397190/stripe-paymentmethodsactivity-add-google-pay-button", "title": "Stripe PaymentMethodsActivity add google pay button", "body": "<p>When displaying payment methods to user using PaymentMethodsActivity how can I add google pay button to that methods list?</p>\n\n<p>I know it's possible on IOS to add Apple pay</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 7326568, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-z4rasc19uOM/AAAAAAAAAAI/AAAAAAAAAAw/XkZQ8eWqW_U/photo.jpg?sz=128", "display_name": "\u041e\u043b\u0435\u0433 \u041c\u0456\u0441\u044c\u043a\u043e", "link": "https://stackoverflow.com/users/7326568/%d0%9e%d0%bb%d0%b5%d0%b3-%d0%9c%d1%96%d1%81%d1%8c%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1531920708, "post_id": 51396959, "comment_id": 89777525, "body": "Thank you! It seems like a slight hack for me, but for now it works and does what I need."}, {"owner": {"reputation": 143, "user_id": 7128326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/016Ua.jpg?s=128&g=1", "display_name": "Claes Zacho", "link": "https://stackoverflow.com/users/7128326/claes-zacho"}, "edited": false, "score": 3, "creation_date": 1561712368, "post_id": 51396959, "comment_id": 100162018, "body": "<code>getButton()</code> doesn&#39;t seem to exist anymore. I get &quot;unresolved reference&quot;."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10053723"}, "is_accepted": true, "score": 12, "last_activity_date": 1531901983, "creation_date": 1531901983, "answer_id": 51396959, "question_id": 51396692, "link": "https://stackoverflow.com/questions/51396692/how-to-change-anko-alert-positive-negative-button-color/51396959#51396959", "title": "How to change Anko alert positive/negative button color?", "body": "<pre><code>            alert(\"message\", \"title\") {\n                positiveButton(\"ok\") {}\n                negativeButton(\"nope\") {}\n            }.show().apply {\n                getButton(AlertDialog.BUTTON_POSITIVE)?.let { it.textColor = Color.GREEN }\n                getButton(AlertDialog.BUTTON_NEGATIVE)?.let { it.textColor = Color.RED }\n            }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/p3tXV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p3tXV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 351, "user_id": 7326568, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-z4rasc19uOM/AAAAAAAAAAI/AAAAAAAAAAw/XkZQ8eWqW_U/photo.jpg?sz=128", "display_name": "\u041e\u043b\u0435\u0433 \u041c\u0456\u0441\u044c\u043a\u043e", "link": "https://stackoverflow.com/users/7326568/%d0%9e%d0%bb%d0%b5%d0%b3-%d0%9c%d1%96%d1%81%d1%8c%d0%ba%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "accepted_answer_id": 51396959, "answer_count": 1, "score": 6, "last_activity_date": 1531901983, "creation_date": 1531901049, "question_id": 51396692, "link": "https://stackoverflow.com/questions/51396692/how-to-change-anko-alert-positive-negative-button-color", "title": "How to change Anko alert positive/negative button color?", "body": "<p>For example I have the next alert creation way:</p>\n\n<pre><code>  alert(message, title) {\n        positiveButton(R.string.alert_dialog_btn_ok) {\n        }\n    }.show()\n</code></pre>\n\n<p>I want to change the color of positive button to green, and in future set red negative button.</p>\n\n<p>Can I do this without creating custom DSL views inside the alert?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1531905535, "last_edit_date": 1531905535, "creation_date": 1531898072, "answer_id": 51395751, "question_id": 51395433, "link": "https://stackoverflow.com/questions/51395433/where-can-i-add-try-code-when-i-try-to-optimize-init-statement-in-kotlin/51395751#51395751", "title": "Where can I add try{...} code when I try to optimize init statement in Kotlin?", "body": "<p>You can do as below</p>\n\n<pre><code>class DetailsHandler(mContext: Context = UIApp.instance) \n{\nPrivate var listofMDetail: MutableList&lt;MDetail&gt; = mutableListOf()\nvar mJson: String by PreferenceTool(mContext, mContext.getString(R.string.SavedJsonName) , \"\")\n     try {\n        listofMDetail: MutableList&lt;MDetail&gt;?= myGson.fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson)\n        }catch (e:Exception) \n        {  \n         e.message?.let{ logError(\"Paser: \"+it)}\n        }\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1531901476, "post_id": 51396424, "comment_id": 89764590, "body": "Thanks! would you please see my added content in my question?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1531910371, "post_id": 51396424, "comment_id": 89770507, "body": "@HelloCW just do this logic with an empty mutable list on assignment. I did it with <code>?: mutableListOf()</code>, but other options are good as well"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 2, "last_activity_date": 1531910621, "last_edit_date": 1531910621, "creation_date": 1531900194, "answer_id": 51396424, "question_id": 51395433, "link": "https://stackoverflow.com/questions/51395433/where-can-i-add-try-code-when-i-try-to-optimize-init-statement-in-kotlin/51396424#51396424", "title": "Where can I add try{...} code when I try to optimize init statement in Kotlin?", "body": "<p>Just use the <code>try</code> block as an expression. Then you can make your <code>var</code> into <code>val</code>.</p>\n\n<pre><code>class DetailsHandler(mContext: Context = UIApp.instance) {\n\n    val mJson: String by PreferenceTool(mContext, mContext.getString(R.string.SavedJsonName), \"\")\n\n    private val listofMDetail: MutableList&lt;MDetail&gt;? = \n        try{\n            myGson.fromJson(mJson) \n        }catch(e:Exception) {\n            e.message?.let{ logError(\"Paser: \"+it)}\n            null\n        } \n}\n</code></pre>\n\n<p>Also, I would not recommend logging the exception and having null in <code>listofMDetail</code>. It will complicate all the other code that uses. Throwing the exception seems like a much more adequate solution:</p>\n\n<pre><code>    private val listofMDetail: MutableList&lt;MDetail&gt; = \n        try{\n            myGson.fromJson(mJson) ?: mutableListOf()\n        }catch(e:Exception) {\n            e.message?.let{ logError(\"Paser: \"+it)}\n            throw RuntimeError(e)\n        }\n</code></pre>\n\n<p>Somewhat refactored code:</p>\n\n<pre><code>    private val listofMDetail: MutableList&lt;MDetail&gt; = \n        try{\n            myGson.fromJson(mJson) ?: mutableListOf()\n        } catch(e: Exception) {\n            logError(\"Can't find $mJson in $myGson; Error: ${e.message}\")\n            mutableListOf()\n        }\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 51396424, "answer_count": 2, "score": 0, "last_activity_date": 1531910621, "creation_date": 1531896967, "last_edit_date": 1531901430, "question_id": 51395433, "link": "https://stackoverflow.com/questions/51395433/where-can-i-add-try-code-when-i-try-to-optimize-init-statement-in-kotlin", "title": "Where can I add try{...} code when I try to optimize init statement in Kotlin?", "body": "<p>I find that there are some redundance code in Code A , It seems that I needn't to use init statement.</p>\n\n<p>So I try to optimize it into Code B, but I don't know how to add <code>try {...}</code> in Code B, you know that it's necessary to write error into a log, how can I add <code>try{...} catch (e:Exception){...}</code> in Code B ? Thanks!</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class DetailsHandler(mContext: Context = UIApp.instance) {\n\n    var mJson: String by PreferenceTool(mContext, mContext.getString(R.string.SavedJsonName), \"\")\n    private var listofMDetail: MutableList&lt;MDetail&gt;?=null\n\n    init {\n        try{\n            listofMDetail = myGson.fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson) \n        }catch(e:Exception) {\n            e.message?.let{ logError(\"Paser: \"+it)}\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class DetailsHandler(mContext: Context = UIApp.instance) {\n    var mJson: String by PreferenceTool(mContext, mContext.getString(R.string.SavedJsonName) , \"\")\n    private var listofMDetail: MutableList&lt;MDetail&gt;?= myGson.fromJson&lt;MutableList&lt;MDetail&gt;&gt;(mJson)\n}\n</code></pre>\n\n<p><strong>To voddan:</strong></p>\n\n<p>Thanks!</p>\n\n<p><code>listofMDetail</code> maybe is null when it is from <code>myGson.fromJson(mJson)</code> </p>\n\n<p>So I have to define <code>listofMDetail</code> as var if I need to use the fun <code>addDetail</code>. I need to assign <code>mutableListOf(aMDetail)</code> to <code>listofMDetail</code> when <code>listofMDetail</code> is null.</p>\n\n<p>Do you have a better way?</p>\n\n<pre><code>fun addDetail(aMDetail:MDetail){\n   if (listofMDetail==null){\n       listofMDetail=mutableListOf(aMDetail)\n   }else {\n       listofMDetail?.add(aMDetail)\n   }\n\n    mJson =myGson.toJson(listofMDetail) //Save\n}\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 0, "last_activity_date": 1531998635, "creation_date": 1531998635, "answer_id": 51421159, "question_id": 51394939, "link": "https://stackoverflow.com/questions/51394939/corda-custom-notary-tutorial-issue/51421159#51421159", "title": "Corda Custom Notary tutorial issue", "body": "<p>You need to add the following import:</p>\n\n<pre><code>import net.corda.core.utilities.unwrap\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6840647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20630733c4cd40c9a9b822599005183d?s=128&d=identicon&r=PG&f=1", "display_name": "Emulebest", "link": "https://stackoverflow.com/users/6840647/emulebest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 51421159, "answer_count": 1, "score": 2, "last_activity_date": 1531998635, "creation_date": 1531895229, "question_id": 51394939, "link": "https://stackoverflow.com/questions/51394939/corda-custom-notary-tutorial-issue", "title": "Corda Custom Notary tutorial issue", "body": "<p>I've got a little problem with a part of Writing a custom notary service tutorial. The part shown on a screenshot is extracted directly from the tutorial and seems to be not working. Thanks in advance for any advice\n<a href=\"https://i.stack.imgur.com/1AQxj.png\" rel=\"nofollow noreferrer\">Problematic part</a>\nLink to tutorial page: <a href=\"https://docs.corda.net/tutorial-custom-notary.html\" rel=\"nofollow noreferrer\">https://docs.corda.net/tutorial-custom-notary.html</a></p>\n"}, {"tags": ["parsing", "kotlin", "yaml", "anchor", "snakeyaml"], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 7961311, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431612043523834/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7961311/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1531895427, "creation_date": 1531895427, "answer_id": 51394997, "question_id": 51394613, "link": "https://stackoverflow.com/questions/51394613/parse-yml-as-an-object-kotlin/51394997#51394997", "title": "parse .yml as an object (Kotlin)", "body": "<p>I found the solution. The problem is that the class MyAnchor::class is an open one. Any model entity class should be final</p>\n"}], "owner": {"reputation": 301, "user_id": 7961311, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431612043523834/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7961311/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2639, "favorite_count": 0, "accepted_answer_id": 51394997, "answer_count": 1, "score": 0, "last_activity_date": 1531895427, "creation_date": 1531893777, "last_edit_date": 1531895372, "question_id": 51394613, "link": "https://stackoverflow.com/questions/51394613/parse-yml-as-an-object-kotlin", "title": "parse .yml as an object (Kotlin)", "body": "<p>I have a .yml</p>\n\n<pre><code>anchor: &amp;my_anchor\n  id: my_id\n  name: my_name\n\nref: *my_anchor\n</code></pre>\n\n<p>Here are my classes in the code</p>\n\n<pre><code>class Response {\n    latenit var anchor: MyAnchor\n    lateinit var ref: MyAnchor\n}\n\nopen class MyAnchor {\n\n    lateinit var id: String\n    lateinit var name: String\n}\n</code></pre>\n\n<p>and here is a SnakeYaml code to parse a file</p>\n\n<pre><code>val result = Yaml(Constructor(Response::class.java)).loadAs(content, Response::class.java)\n</code></pre>\n\n<p>Everything seems to be ok except the fact that the property \"ref\" of the class \"Response\" has type \"LinkedHashMap\" but not \"MyAnchor\". I got a message like this</p>\n\n<pre><code>field ref has type MyAnchor, got java.util.LinkedHashMap\n</code></pre>\n\n<p>Maybe I should set some tags? I Will be grateful if you help me.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1531920129, "creation_date": 1531920129, "answer_id": 51403139, "question_id": 51393867, "link": "https://stackoverflow.com/questions/51393867/what-is-the-correct-way-to-create-a-viewmodelfactory-for-an-androidviewmodel/51403139#51403139", "title": "What is the correct way to create a ViewModelFactory for an AndroidViewModel", "body": "<p>I see two solutions here:</p>\n\n<ol>\n<li><p>Use <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger</a>, which will inject all the required dependencies (including Application). You can read more about how to use Dagger with AAC ViewModel Factory <a href=\"https://proandroiddev.com/viewmodel-with-dagger2-architecture-components-2e06f06c9455\" rel=\"nofollow noreferrer\">here</a>.</p></li>\n<li><p>The second solution is to store an Application instance as a static variable and get access to it when you need it, like <code>Application.get()</code>. Considering that the <code>Application</code> object is a singleton anyway.</p></li>\n</ol>\n"}], "owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2775, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1531920129, "creation_date": 1531889991, "question_id": 51393867, "link": "https://stackoverflow.com/questions/51393867/what-is-the-correct-way-to-create-a-viewmodelfactory-for-an-androidviewmodel", "title": "What is the correct way to create a ViewModelFactory for an AndroidViewModel", "body": "<p>I'm trying to use AndroidViewModel rather than the regular ViewModel, because AndroidViewModel contains an application reference that I need for binding services.</p>\n\n<p>My question is, how do I supply the application parameter to my ViewModelFactory?</p>\n\n<p>At the moment I'm casting it from the ApplicationContext that the ViewModelFactory injector util already has available to it, but I've read that's dangerous because a cast of ApplicationContext <a href=\"https://stackoverflow.com/questions/5018545/getapplication-vs-getapplicationcontext\">may not always return the application</a>.</p>\n\n<p>I'm just learning Android, following along the <a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\">Sunflower example</a>, so the answer is probably very simple. I just don't know it . . . yet. (Hoping you can help).</p>\n\n<p>Here is how I am doing it currently, which as you may notice is closely based on how Google does it in the Sunflower example:</p>\n\n<p><strong>Fragment using the AndroidViewModel</strong></p>\n\n<pre><code>class GalleryFragment : Fragment() {\n\nprivate lateinit var viewModel: GalleryViewModel\nprivate var memoList: List&lt;Memo&gt; = emptyList()\n\noverride fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n): View? {\n    val view = inflater.inflate(R.layout.gallery_fragment, container, false)\n    val context = context ?: return view\n    val factory = InjectorUtils.provideGalleryViewModelFactory(context)\n    viewModel = ViewModelProviders.of(this, factory).get(GalleryViewModel::class.java)\n    ... \n</code></pre>\n\n<p><strong>Injector Util</strong></p>\n\n<pre><code>object InjectorUtils {\n\nfun provideMemoViewModelFactory(context: Context, memoId: Long): MemoViewModelFactory {\n    val application = context.applicationContext as Application //this could be dangerous\n    val repository = getMemoRepository(context)\n    return MemoViewModelFactory(application, repository, memoId)\n   }\n}\n</code></pre>\n\n<p><strong>ViewModelFactory</strong></p>\n\n<pre><code>class MemoViewModelFactory(\n    private val application: Application,\n    private val memoRepository: MemoRepository,\n    private val memoId: Long\n ) : ViewModelProvider.NewInstanceFactory() {\n\n@Suppress(\"UNCHECKED_CAST\")\noverride fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n    return MemoViewModel( application, memoRepository, memoId) as T\n  }\n}\n</code></pre>\n\n<p><strong>ViewModel</strong></p>\n\n<pre><code>class MemoViewModel(\n    application: Application,\n    memoRepository: MemoRepository,\n    private val memoId: Long\n) : AndroidViewModel(application) {\n...\n</code></pre>\n\n<p>My concern is inside the InjectorUtil, where I obtain a reference to the application by casting the applicationContext. If I proceed down that path am I heading for trouble down the line? Is there somewhere else I should be adding the application reference, where I can access it directly rather than through a cast of applicationContext?</p>\n\n<p>thanks</p>\n\n<p>John</p>\n"}, {"tags": ["android", "exception-handling", "kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1531900768, "post_id": 51393693, "comment_id": 89764200, "body": "&quot;Note: I can&#39;t even reproduce this situation, my code works correctly when I test it, however I have lots of these crash reports in Crashlytics.&quot; Are you sure they are from the same version?"}, {"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531919764, "post_id": 51393693, "comment_id": 89776750, "body": "@AlexeyRomanov Yes it happens on all versions of my app, but I just noticed that it happens only on Android 4 and HTC devices!"}], "answers": [{"comments": [{"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "edited": false, "score": 0, "creation_date": 1531893351, "post_id": 51393903, "comment_id": 89760254, "body": "The <code>Double</code> class (In kotlin) neither has a constructor which takes String, nor a static method <code>valueOf</code>."}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "reply_to_user": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "edited": false, "score": 0, "creation_date": 1531896713, "post_id": 51393903, "comment_id": 89761748, "body": "use public inline fun String.toDouble(): Double = java.lang.Double.parseDouble(this)."}], "tags": [], "owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "is_accepted": false, "score": 0, "last_activity_date": 1531890167, "creation_date": 1531890167, "answer_id": 51393903, "question_id": 51393693, "link": "https://stackoverflow.com/questions/51393693/exception-is-thrown-although-i-have-catch-clause-for-that/51393903#51393903", "title": "Exception is thrown, although I have catch clause for that", "body": "<pre><code>fun String?.toDoubleOrZero(): Double\n{\n   double value;\n     if (null == this) {\n        return 0.0 \n     }\n     return try {\n      value = new Double(this.toString()); //typecast your value which is in **this** into double\n\n                 **OR**\n\n    value = Double.valueOf(this); //if **this** is String type;\n    }     // &lt;-- Line #67\n    catch (e: NumberFormatException) {\n      value = 0;\n    }\n    catch (e: java.lang.NumberFormatException) {\n      value = 0;\n    } \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1531900827, "post_id": 51396271, "comment_id": 89764236, "body": "Better: <code>fun String?.toDoubleOrZero(): Double = this?.toDoubleOrNull() ?: 0.0</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531901156, "post_id": 51396271, "comment_id": 89764411, "body": "@AlexeyRomanov Of course it is but I prefer when I present code to make it readable by as many as possible, and Kotlin is stil accessible by few."}, {"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "edited": false, "score": 0, "creation_date": 1531919899, "post_id": 51396271, "comment_id": 89776857, "body": "On nice, this is a good way to work around that :) It still bugs me to find out how the exception escapes from the catch clause."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1531901561, "last_edit_date": 1531901561, "creation_date": 1531899652, "answer_id": 51396271, "question_id": 51393693, "link": "https://stackoverflow.com/questions/51393693/exception-is-thrown-although-i-have-catch-clause-for-that/51396271#51396271", "title": "Exception is thrown, although I have catch clause for that", "body": "<ol>\n<li>In Kotlin <code>NumberFormatException</code> is a <code>typealias</code> for <code>java.lang.NumberFormatException</code> so you don't need the 2nd.</li>\n<li><p>Why bother with exceptions since you already have <code>toDoubleOrNull()</code>?  </p>\n\n<p><code>fun String?.toDoubleOrZero(): Double {\n    val result = this?.toDoubleOrNull()\n    return if (result == null) 0.0 else result\n}</code></p></li>\n<li><p>I don't believe that your code is the reason for the exception, so put the above code to test and check for exceptions and we'll see.</p></li>\n</ol>\n"}], "owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531920000, "creation_date": 1531888811, "last_edit_date": 1531920000, "question_id": 51393693, "link": "https://stackoverflow.com/questions/51393693/exception-is-thrown-although-i-have-catch-clause-for-that", "title": "Exception is thrown, although I have catch clause for that", "body": "<p>I have this code:</p>\n\n<pre><code>fun String?.toDoubleOrZero(): Double\n{\n    if (null == this) return 0.0\n    return try { this.toDouble() }     // &lt;-- Line #67\n    catch (e: NumberFormatException) { 0.0 }\n    catch (e: java.lang.NumberFormatException) { 0.0 }  //Just to make sure\n}\n</code></pre>\n\n<p>I have clearly handled <code>NumberFormatException</code>. I even added Java's <code>NumberFormatException</code> to be sure. But still I have many crash reports like this:</p>\n\n<pre><code>Fatal Exception: java.lang.NumberFormatException: Invalid double: \"35\u00b045'39.2\"N\"\n       at java.lang.StringToReal.invalidReal(StringToReal.java:63)\n       at java.lang.StringToReal.parseName(StringToReal.java:230)\n       at java.lang.StringToReal.parseDouble(StringToReal.java:254)\n       at java.lang.Double.parseDouble(Double.java:295)\n       at *********.toDoubleOrZero(***.kt:67)\n       at ...\n</code></pre>\n\n<p>How is this possible and what do I need to do?</p>\n\n<p><strong>Note:</strong> I can't even reproduce this situation, my code works correctly when I test it, however I have lots of these crash reports in Crashlytics.</p>\n\n<p><strong>Edit</strong>: I found out that this happens only in HTC devices with Android 4!</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2403, "user_id": 2330272, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38bfa6e9dac92a721b7e20f9bab38709?s=128&d=identicon&r=PG", "display_name": "Barry MSIH", "link": "https://stackoverflow.com/users/2330272/barry-msih"}, "edited": false, "score": 0, "creation_date": 1531886650, "post_id": 51393329, "comment_id": 89758416, "body": "I will take a look at this sugestions"}], "tags": [], "owner": {"reputation": 1382, "user_id": 4524661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Egkc30Bf4W4/AAAAAAAAAAI/AAAAAAAAALY/lkOHruxfPvU/photo.jpg?sz=128", "display_name": "masoud vali", "link": "https://stackoverflow.com/users/4524661/masoud-vali"}, "is_accepted": false, "score": 0, "last_activity_date": 1531885991, "creation_date": 1531885991, "answer_id": 51393329, "question_id": 51393034, "link": "https://stackoverflow.com/questions/51393034/android-textedit-event-before-keyboard/51393329#51393329", "title": "Android: TextEdit Event Before Keyboard", "body": "<p>you can use <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver\" rel=\"nofollow noreferrer\">ViewTreeObserver</a> to know about changes in tree view</p>\n\n<p>also use its <code>addOnGlobalLayoutListener</code>, <a href=\"http://cennest.com/weblog/2017/05/getting-keyboard-events-in-android/\" rel=\"nofollow noreferrer\">This</a> may help you</p>\n"}], "owner": {"reputation": 2403, "user_id": 2330272, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38bfa6e9dac92a721b7e20f9bab38709?s=128&d=identicon&r=PG", "display_name": "Barry MSIH", "link": "https://stackoverflow.com/users/2330272/barry-msih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531885991, "creation_date": 1531883586, "question_id": 51393034, "link": "https://stackoverflow.com/questions/51393034/android-textedit-event-before-keyboard", "title": "Android: TextEdit Event Before Keyboard", "body": "<p>What is the Android event that can listen on for a TextEdit after getting focus and before the soft keyboard is displayed? I need to capture some information about the screen before the soft keyboard is displayed when a user clicks on TextEdit.</p>\n\n<p>I have not been able to find an event graph that shows the order of events for TextEdit component?</p>\n"}, {"tags": ["nullpointerexception", "kotlin", "type-safety", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 1, "creation_date": 1531878867, "post_id": 51392408, "comment_id": 89756735, "body": "The second form is different from the first, and isn&#39;t correct. You&#39;d get <code>NullPointerException</code> if <code>parent</code> is null. <code>parent?.y1 ?: field</code> is equivalent to the first form."}, {"owner": {"reputation": 657, "user_id": 7578019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f98777ab6671536ab8d4632ffbecae8e?s=128&d=identicon&r=PG&f=1", "display_name": "LSM07", "link": "https://stackoverflow.com/users/7578019/lsm07"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1531879314, "post_id": 51392408, "comment_id": 89756834, "body": "Would you move that to an answer so I can accept it?"}], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 2, "last_activity_date": 1531901938, "last_edit_date": 1531901938, "creation_date": 1531901592, "answer_id": 51396847, "question_id": 51392408, "link": "https://stackoverflow.com/questions/51392408/elvis-operator-vs-non-null-assertion-diff-between-these-statements/51396847#51396847", "title": "Elvis Operator vs Non-Null Assertion: Diff Between These Statements?", "body": "<p>In this case you don't need <code>hasParent</code>. The form which is applicable is this:\\</p>\n\n<pre><code>var y1: Double = 0.0\n    get() = parent?.y1 ?: field\n</code></pre>\n\n<p>The problem with your second getter is that it will try to return the <code>parent.y1</code> no matter what and it will throw a <code>NullPointerException</code> if it is not there.</p>\n\n<p>If you use IDEA you'll get warnings for these kinds of problems so they are an easy fix, but you need to be aware of the so called platform types which come from Java code:</p>\n\n<pre><code>val queue: Queue&lt;String&gt; = LinkedList()\nqueue.peek().toInt()\n</code></pre>\n\n<p>Here the compiler won't complain for <code>.toInt()</code> although it is possible to get a null from the <code>Queue</code>. I've written about this <a href=\"http://the-cogitator.com/2017/10/02/kotlin-pitfalls-and-how-to-avoid-them.html#handling-nulls-from-the-jdk\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1531911010, "last_edit_date": 1531911010, "creation_date": 1531903668, "answer_id": 51397501, "question_id": 51392408, "link": "https://stackoverflow.com/questions/51392408/elvis-operator-vs-non-null-assertion-diff-between-these-statements/51397501#51397501", "title": "Elvis Operator vs Non-Null Assertion: Diff Between These Statements?", "body": "<p>Note that jingx's and Adam Arold's answer is good for the current situation, but it wouldn't be equivalent to your first snippet if the type of <code>y1</code> was nullable: if <code>parent</code> is not null, but <code>parent.y1</code> is, then your code gives <code>null</code> and <code>parent?.y1 ?: field</code> gives <code>field</code>.</p>\n\n<p>I'd say the actual preferred form if you need the first behavior is</p>\n\n<pre><code>if (parent != null) parent.y1 else field // if parent is val without a custom getter\nparent.let { if (it != null) it.y1 else field } // otherwise\n</code></pre>\n\n<p>Using <code>hasParent</code> hides from the compiler that you actually checked for null and don't need <code>!!</code>.</p>\n"}], "owner": {"reputation": 657, "user_id": 7578019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f98777ab6671536ab8d4632ffbecae8e?s=128&d=identicon&r=PG&f=1", "display_name": "LSM07", "link": "https://stackoverflow.com/users/7578019/lsm07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 51396847, "answer_count": 2, "score": 2, "last_activity_date": 1531911010, "creation_date": 1531878471, "question_id": 51392408, "link": "https://stackoverflow.com/questions/51392408/elvis-operator-vs-non-null-assertion-diff-between-these-statements", "title": "Elvis Operator vs Non-Null Assertion: Diff Between These Statements?", "body": "<p>Trying to understand null safety in Kotlin: both of these following statements seem to work fine and be interchangeable in my program:</p>\n\n<pre><code>var y1: Double = 0.0\n    get() = when(hasParent) {\n        true -&gt; parent!!.y1\n        else -&gt; field\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var y1: Double = 0.0\n    get() = parent?.y1!!\n</code></pre>\n\n<p>(<code>hasParent</code> is simply a getter to see if <code>parent</code> is null or not)</p>\n\n<p>Are these two semantically the same or are they actually different expressions that mean different things? And if they mean the same thing semantically, is the first ever preferred over the second for any reason?</p>\n"}, {"tags": ["kotlin", "kotlin-extension", "kotlin-generics"], "answers": [{"tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": true, "score": 2, "last_activity_date": 1531871796, "creation_date": 1531871796, "answer_id": 51391704, "question_id": 51391605, "link": "https://stackoverflow.com/questions/51391605/can-i-extend-comparablet-in-kotlin/51391704#51391704", "title": "Can I extend Comparable&lt;T&gt; in Kotlin?", "body": "<p>You'll notice in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/coerce-at-least.html\" rel=\"nofollow noreferrer\">implementation of <code>coerceAtLeast</code></a> that the declaration of the extension function is a little different from what you have:</p>\n\n<pre><code>fun &lt;T : Comparable&lt;T&gt;&gt; T.coerceAtLeast(minimumValue: T): T\n</code></pre>\n\n<p>If you change your declaration to match, it compiles.</p>\n\n<p>This comes down to the problem of the type of <code>minimumValue</code>. In your version, it's not enforced that <code>minimumValue</code>'s type implements <code>Comparable&lt;T&gt;</code>, so it can't coerce your <code>other</code> to a type that complies with the contract of <code>coerceAtLeast</code>.</p>\n\n<p>Note that it is possible to write an extension function on an interface directly, it's a consequence of calling another method that doesn't match your typing configuration that causes this to break.</p>\n"}], "owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 51391704, "answer_count": 1, "score": 0, "last_activity_date": 1531871796, "creation_date": 1531870907, "question_id": 51391605, "link": "https://stackoverflow.com/questions/51391605/can-i-extend-comparablet-in-kotlin", "title": "Can I extend Comparable&lt;T&gt; in Kotlin?", "body": "<p>I wanted to implement <code>min()</code>/<code>max()</code> aliases for the Kotlin's <code>Comparable&lt;T&gt;coerceAtLeast()</code>/<code>coerceAtMost()</code>, if nothing else for the exercise of extending an Interface (I've only extended classes so far).</p>\n\n<p>I tried this:</p>\n\n<pre><code>fun &lt;T&gt;Comparable&lt;T&gt;.max(other:T) : T {\n    return this.coerceAtLeast(other)\n}\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>Type inference failed: Cannot infer type parameter T in fun &lt;T : Comparable&lt;T#1 (type parameter of kotlin.ranges.coerceAtLeast)&gt;&gt; T#1.coerceAtLeast(minimumValue: T#1): T#1\nNone of the following substitutions\nreceiver: Any?  arguments: (Any?)\nreceiver: Comparable&lt;T#2 (type parameter of com.nelsonirrigation.twig.plans.extensions.max)&gt;  arguments: (Comparable&lt;T#2&gt;)\nreceiver: T#2  arguments: (T#2)\nreceiver: Comparable&lt;Comparable&lt;T#2&gt;&gt;  arguments: (Comparable&lt;Comparable&lt;T#2&gt;&gt;)\ncan be applied to\nreceiver: Comparable&lt;T#2&gt;  arguments: (T#2)\n</code></pre>\n\n<p>At which point my limited understanding of Kotlin generics basically overflowed. Is what I'm trying to do achievable? What is the piece of the puzzle I'm missing?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-boot-test"], "comments": [{"owner": {"reputation": 2785, "user_id": 256245, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025e9bac298f53bd6515842ca16ca4b1?s=128&d=identicon&r=PG", "display_name": "Fabricio Lemos", "link": "https://stackoverflow.com/users/256245/fabricio-lemos"}, "edited": false, "score": 0, "creation_date": 1531933282, "post_id": 51391485, "comment_id": 89786031, "body": "Have you looked at <a href=\"https://stackoverflow.com/a/46033685/256245\">stackoverflow.com/a/46033685/256245</a> ?"}, {"owner": {"reputation": 2785, "user_id": 256245, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025e9bac298f53bd6515842ca16ca4b1?s=128&d=identicon&r=PG", "display_name": "Fabricio Lemos", "link": "https://stackoverflow.com/users/256245/fabricio-lemos"}, "edited": false, "score": 0, "creation_date": 1532102324, "post_id": 51391485, "comment_id": 89862939, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45935931/how-to-use-functional-bean-definition-kotlin-dsl-with-spring-boot-and-spring-w\">How to use &quot;Functional bean definition Kotlin DSL&quot; with Spring Boot and Spring WebFlux?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": true, "score": 5, "last_activity_date": 1531952129, "creation_date": 1531952129, "answer_id": 51411739, "question_id": 51391485, "link": "https://stackoverflow.com/questions/51391485/how-to-use-kotlin-beans-dsl-initializer-in-springboottest/51411739#51411739", "title": "How to use Kotlin beans dsl initializer in SpringBootTest", "body": "<p><strong>Option 1</strong></p>\n\n<p>add <code>FuBeansInitializer</code> in the same package with <code>App</code> class in test directory</p>\n\n<pre><code>class FuBeansInitializer : ApplicationContextInitializer&lt;GenericApplicationContext&gt; {\n    override fun initialize(context: GenericApplicationContext) = beans.initialize(context)\n}\n</code></pre>\n\n<p>add <code>context.initializer.classes</code> into test application.properties</p>\n\n<pre><code>context.initializer.classes=path.to.FuBeansInitializer\n</code></pre>\n\n<p>As a result there will be nothing modified in source files. And tests will work fine.</p>\n"}, {"tags": [], "owner": {"reputation": 5021, "user_id": 4470135, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oXA6y.jpg?s=128&g=1", "display_name": "yuranos", "link": "https://stackoverflow.com/users/4470135/yuranos"}, "is_accepted": false, "score": 0, "last_activity_date": 1554204668, "creation_date": 1554204668, "answer_id": 55473738, "question_id": 51391485, "link": "https://stackoverflow.com/questions/51391485/how-to-use-kotlin-beans-dsl-initializer-in-springboottest/55473738#55473738", "title": "How to use Kotlin beans dsl initializer in SpringBootTest", "body": "<p>You can even have multiple <code>ApplicationContextInitializer</code> and provide a comma separated list of them in your properties(order matters). This can be useful if you used Initializer in your main code and would want to override some of your beans using, again, bean definition dsl.</p>\n"}], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 0, "accepted_answer_id": 51411739, "answer_count": 2, "score": 2, "last_activity_date": 1554204668, "creation_date": 1531869949, "last_edit_date": 1531922864, "question_id": 51391485, "link": "https://stackoverflow.com/questions/51391485/how-to-use-kotlin-beans-dsl-initializer-in-springboottest", "title": "How to use Kotlin beans dsl initializer in SpringBootTest", "body": "<p>I have a simple application with several beans declared with kotlin beans dsl:</p>\n\n<pre><code>@SpringBootApplication\nclass App\n\nval beans = beans {\n    bean&lt;A&gt;()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;MatchmakerApp&gt;(*args) {\n        addInitializers(beans)\n    }\n}\n\n@RestController\nclass AppController(val a: A) {\n    // some code\n}\n\nclass A\n</code></pre>\n\n<p>and I have an integration test:</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest\nclass AppControllerTest {\n    @Test\n    fun dummyTest() {\n        assert(true)\n    }\n}\n</code></pre>\n\n<p>Launching this test I'm getting </p>\n\n<pre><code>UnsatisfiedDependencyException: Error creating bean with name appController \nCaused by: NoSuchBeanDefinitionException: No qualifying bean of type 'A' available:`\n</code></pre>\n\n<p>It seems beans initializer was not invoked during <code>SpringBootTest</code> context creation.</p>\n\n<p>What do we need to add kotlin bean dsl initializer in SpringBootTest?</p>\n\n<p>The general way with <code>@ContextConfiguration(initializers = ...)</code> does not work here, because it looks for classes.</p>\n"}, {"tags": ["java", "android", "sqlite", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531866997, "post_id": 51391076, "comment_id": 89754268, "body": "SQLite queries over indexed fields are generally faster than for loops."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1531921557, "post_id": 51391174, "comment_id": 89778208, "body": "Would it be that significant? I&#39;m currently using ViewHolder and recycling convertView when possible."}, {"owner": {"reputation": 35, "user_id": 6349833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d14f957454c47a32b967cb8520697d5?s=128&d=identicon&r=PG", "display_name": "f0f1", "link": "https://stackoverflow.com/users/6349833/f0f1"}, "reply_to_user": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1531947817, "post_id": 51391174, "comment_id": 89793382, "body": "Well, you have to test for that to be sure; Using viewholder pattern would certainly blur the distinction though.."}, {"owner": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1531958621, "post_id": 51391174, "comment_id": 89796685, "body": "I just implemented RecyclerView. Although there&#39;s no noticeable performance improvement, I have more options now (animation and so on). I&#39;ll implement the database with SQLite and if it runs faster, I&#39;ll mark your answer as correct, thanks a lot!"}, {"owner": {"reputation": 35, "user_id": 6349833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d14f957454c47a32b967cb8520697d5?s=128&d=identicon&r=PG", "display_name": "f0f1", "link": "https://stackoverflow.com/users/6349833/f0f1"}, "reply_to_user": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "edited": false, "score": 0, "creation_date": 1532321131, "post_id": 51391174, "comment_id": 89911641, "body": "use <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">room library</a>"}], "tags": [], "owner": {"reputation": 35, "user_id": 6349833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d14f957454c47a32b967cb8520697d5?s=128&d=identicon&r=PG", "display_name": "f0f1", "link": "https://stackoverflow.com/users/6349833/f0f1"}, "is_accepted": false, "score": 0, "last_activity_date": 1531867555, "creation_date": 1531867555, "answer_id": 51391174, "question_id": 51391076, "link": "https://stackoverflow.com/questions/51391076/sqlite-vs-arraylist-in-android-app/51391174#51391174", "title": "SQLite vs ArrayList in Android App", "body": "<p>Performance for SQLite would be faster. Also, if you replace ListView with RecyclerView, performance improvement would be significant.</p>\n"}], "owner": {"reputation": 27, "user_id": 10096300, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_gSx5z491Q/AAAAAAAAAAI/AAAAAAAAR-M/lfHYO7wUmJg/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10096300/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531867555, "creation_date": 1531866902, "question_id": 51391076, "link": "https://stackoverflow.com/questions/51391076/sqlite-vs-arraylist-in-android-app", "title": "SQLite vs ArrayList in Android App", "body": "<p>I'm currently making an Android App which needs ~4000 records (each one with 5 strings). At the moment, the app downloads and saves a CSV file, which get parsed into an ArrayList. The user can see all the records (displayed in a listView) and filter them (I use a for loop with nested if statements). The app works fine, but I wonder if the performance could be improved using SQLite or other data structure</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531859997, "post_id": 51389806, "comment_id": 89751769, "body": "Same applies to Kotlin"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1531860328, "post_id": 51389806, "comment_id": 89751918, "body": "@mTak No, that&#39;d be a lambda."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1531860639, "post_id": 51389806, "comment_id": 89752053, "body": "@Moira which is the scope of any variable declared in it"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1531860769, "post_id": 51389806, "comment_id": 89752107, "body": "@mTak You are correct, but functionally this would define a lambda which wouldn&#39;t be executed (unless it&#39;s immediately invoked - in fact, this is what <code>run</code> does internally)"}], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 10, "last_activity_date": 1531860834, "last_edit_date": 1531860834, "creation_date": 1531860374, "answer_id": 51389936, "question_id": 51389806, "link": "https://stackoverflow.com/questions/51389806/kotlin-how-to-limit-scope-within-a-block/51389936#51389936", "title": "Kotlin: how to limit scope within a block?", "body": "<p>You can use <code>run</code> for this purpose:</p>\n\n<blockquote>\n  <p><code>inline fun &lt;R&gt; run(block: () -&gt; R): R</code> <a href=\"http://github.com/JetBrains/kotlin/blob/1.2.50/libraries/stdlib/src/kotlin/util/Standard.kt#L38\" rel=\"noreferrer\">(source)</a><br>\n  Calls the specified function block and returns its result.</p>\n  \n  <p><sub><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"noreferrer\">kotlin.run</a></sub>\n  </p>\n</blockquote>\n\n<pre><code>fun f() {\n    run {\n        val x = 1\n        // do something with x\n    }\n    // x not visible here anymore\n}\n</code></pre>\n\n<p>This is an inline function (like many other language construct-like functions in Kotlin), so performance-wise it's equivalent to the Java code.</p>\n\n<hr>\n\n<p><code>{}</code> doesn't work since it creates a lambda (which is never actually invoked, so it does nothing). You could call it immediately (<code>{ foo }()</code>) with the overhead of creating a lambda, or create an inline function that does this for you - which is exactly what <code>run</code> does.</p>\n"}], "owner": {"reputation": 993, "user_id": 4858233, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1fd1c7c371b93fd45870588f9169d7d6?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Zhang", "link": "https://stackoverflow.com/users/4858233/ray-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 51389936, "answer_count": 1, "score": 6, "last_activity_date": 1531860834, "creation_date": 1531859732, "question_id": 51389806, "link": "https://stackoverflow.com/questions/51389806/kotlin-how-to-limit-scope-within-a-block", "title": "Kotlin: how to limit scope within a block?", "body": "<p>In Java one can use curly braces to delineate a block of code with its own scope:</p>\n\n<pre><code>void f() {\n  {\n    int x = 1\n    // do something with x\n  }\n\n  // x not visible here anymore\n}\n</code></pre>\n\n<p>How is this done in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1531848294, "post_id": 51386042, "comment_id": 89746157, "body": "When you say &quot;android&quot; you actually mean &quot;kotlin&quot;, right? Because you can write Apps for Android also in plain Java."}, {"owner": {"reputation": 1915, "user_id": 2141889, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b0115b5da14ba1cd0a8ed1185463b11c?s=128&d=identicon&r=PG", "display_name": "user2141889", "link": "https://stackoverflow.com/users/2141889/user2141889"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1531848471, "post_id": 51386042, "comment_id": 89746251, "body": "Right, the android module is written in <code>kotlin</code> it would be less problematic if it would require adding just additional fields ( like in the example) but there are also some android annotations that I would like to auto-generate"}], "owner": {"reputation": 1915, "user_id": 2141889, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b0115b5da14ba1cd0a8ed1185463b11c?s=128&d=identicon&r=PG", "display_name": "user2141889", "link": "https://stackoverflow.com/users/2141889/user2141889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531844147, "creation_date": 1531844147, "question_id": 51386042, "link": "https://stackoverflow.com/questions/51386042/android-generate-classes-from-java-module", "title": "Android generate classes from java module", "body": "<p>I have <code>android</code> project and corresponding <code>plain java</code> module that is added as dependency. In <code>plain java</code> module I have some models for example\n<code>\ndata class Foo(val name:String)\n</code>\nAnd what I would like to do is to create another model in my android project based on this <code>Foo</code> so for example\n<code>\ndata class FooAndroid(val name:String, val context:Context)\n</code></p>\n\n<p>At start I thought about writing <code>annotation processor</code> with custom <code>annotation</code> that is reachable inside <code>java</code> module, but then I would have to put <code>processor</code> in my <code>android module</code> to make those generated classes in android packages, but the problem is that <code>processor</code> does not find <code>annotated</code> classes from <code>plain java</code> module. (I have checked dagger and it also cant generate code for <code>Module</code> in modules without processor added as dependency. </p>\n\n<p>Has anyone struggled with similar problem? Is it even possible in some way to auto-generate <code>android implementation</code> of <code>java model</code> from different module?</p>\n"}, {"tags": ["android", "kotlin", "network-programming", "retrofit2", "restful-architecture"], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1531842580, "post_id": 51385168, "comment_id": 89743111, "body": "unfortunatly that did not work moving the parameters around . It still includes the base url"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1531882481, "post_id": 51385168, "comment_id": 89757562, "body": "Did you try adding a <code>&#47;</code> at the end of the base url, like <code>&quot;http:&#47;&#47;defaultBaseUrl&#47;&quot;</code>"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1531897102, "post_id": 51385168, "comment_id": 89761987, "body": "Can you provide any document? Maybe true because it works for me and mine is a GET request too"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1531897135, "post_id": 51385168, "comment_id": 89762014, "body": "@TamHuynh try in a post and see what happens?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1531907945, "post_id": 51385168, "comment_id": 89768957, "body": "@jonney It&#39;s based on <a href=\"https://stackoverflow.com/questions/38805689/retrofit-change-baseurl#comment65000178_38807371\">this comment</a>"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1531908779, "post_id": 51385168, "comment_id": 89769483, "body": "Actually checking in the source code there&#39;s no evidence of <code>@Url</code> working only with GET requests, so I don&#39;t know if that&#39;s actually true or not, I will search deeper"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1531973451, "post_id": 51385168, "comment_id": 89799746, "body": "I will try it as soon as I can"}, {"owner": {"reputation": 1065, "user_id": 6723008, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cuRN9cK_8Z0/AAAAAAAAAAI/AAAAAAAAAAA/K1IO6ReviHg/photo.jpg?sz=128", "display_name": "Sergio", "link": "https://stackoverflow.com/users/6723008/sergio"}, "edited": false, "score": 0, "creation_date": 1556057235, "post_id": 51385168, "comment_id": 98306464, "body": "Well I did a test with POST and the base url gets overridden if you use @Url in the first parameter."}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1556075555, "post_id": 51385168, "comment_id": 98309566, "body": "It&#39;s a long time ago post and now I can confirm that too: First annotated <code>@Url</code> override works for both GET and POST"}], "tags": [], "owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "is_accepted": false, "score": 3, "last_activity_date": 1592835063, "last_edit_date": 1592835063, "creation_date": 1531841128, "answer_id": 51385168, "question_id": 51384810, "link": "https://stackoverflow.com/questions/51384810/retrofit-url-doesnt-override-baseurl/51385168#51385168", "title": "Retrofit @Url doesnt override BaseUrl", "body": "<p>This is the document from Retrofit <code>@GET</code> annotation:</p>\n<pre><code>@Documented \n@Target(METHOD) \n@Retention(RUNTIME) \npublic @interface GET {   \n/**\n* A relative or absolute path, or full URL of the endpoint. This value is optional if the first\n* parameter of the method is annotated with {@link Url @Url}.\n* &lt;p&gt;    \n* See {@linkplain retrofit2.Retrofit.Builder#baseUrl(HttpUrl) base URL} for details of how    \n* this is resolved against a base URL to create the full endpoint URL.\n*/   \n    String value() default &quot;&quot;; \n}\n</code></pre>\n<p>So <code>@Url</code> should be placed as the first parameter, so I think this will work:</p>\n<pre><code>@POST\nfun getUserDetails(@Url authUrl: String, @Body body: request): Single&lt;Response&lt;ResponseData&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 3, "last_activity_date": 1531909969, "creation_date": 1531909969, "answer_id": 51399770, "question_id": 51384810, "link": "https://stackoverflow.com/questions/51384810/retrofit-url-doesnt-override-baseurl/51399770#51399770", "title": "Retrofit @Url doesnt override BaseUrl", "body": "<p>I did a test in local and actually I've been able to override the base URL set in the Retrofit instance.</p>\n\n<p>Here's the API:</p>\n\n<pre><code>public interface Api {\n\n    @POST\n    Call&lt;Void&gt; fakeService(@Url String url);\n}\n</code></pre>\n\n<p>And here's the \"client\":</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        // Use the HttpLogginInterceptor to check what's the real call\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BASIC);\n\n        OkHttpClient client = new OkHttpClient.Builder()\n                .addNetworkInterceptor(interceptor)\n                .build();\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(\"http://www.foo.com/\")\n                .client(client)\n                .build();\n\n        Api api = retrofit.create(Api.class);\n        Call&lt;Void&gt; call = api.fakeService(\"http://www.example.com\");\n        call.execute();\n    }\n}\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>Jul 18, 2018 12:28:54 PM okhttp3.internal.platform.Platform log\nINFO: --&gt; POST http://www.example.com/ (0-byte body)\nJul 18, 2018 12:28:55 PM okhttp3.internal.platform.Platform log\nINFO: &lt;-- 200 OK http://www.example.com/ (366ms, unknown-length body)\n</code></pre>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4169, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1592835063, "creation_date": 1531840114, "question_id": 51384810, "link": "https://stackoverflow.com/questions/51384810/retrofit-url-doesnt-override-baseurl", "title": "Retrofit @Url doesnt override BaseUrl", "body": "<p>Hi i am trying to overide the baseUrl from one specific api call and it doesnt seem to work when using @Url as a paraemter to the api method.</p>\n\n<p>Below is my Api class method</p>\n\n<pre><code>@POST\n    fun getUserDetails(@Body body: request, @Url authUrl : String): Single&lt;Response&lt;ResponseData&gt;&gt;\n</code></pre>\n\n<p>code that cals and make the request</p>\n\n<pre><code> private fun getApi(): Api {\n        val gson = GsonBuilder().setLenient().create()\n        val httpClient = myNetworkHelper.createHttpClient()\n        val retrofit = Retrofit.Builder()\n                .baseUrl(\"http://defaultBaseUrl\")\n                .client(httpClient)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .build()\n\n        return retrofit.create(Api::class.java)\n    }\n\n override fun getUserDetails(someRequestData, \"http://dynamic/getuserDetails): Single&lt;Response&lt;ResponseData&gt;&gt; {\n        return getApi().getUserDetails(body, url)\n    }\n</code></pre>\n\n<p>The above results in making a request to this url</p>\n\n<pre><code>http://defaultBaseUrl/http://dynamic/getuserDetails\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>http://dynamic/getuserDetails\n</code></pre>\n"}, {"tags": ["oracle", "hibernate", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1531840226, "post_id": 51384809, "comment_id": 89741558, "body": "Some code might be helpful here. An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1531841006, "post_id": 51384809, "comment_id": 89742080, "body": "I added entity code and SQL table definition"}], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "is_accepted": true, "score": 0, "last_activity_date": 1531914208, "creation_date": 1531914208, "answer_id": 51401182, "question_id": 51384809, "link": "https://stackoverflow.com/questions/51384809/hibernate-uses-bigdecimal-instead-of-int/51401182#51401182", "title": "Hibernate uses BigDecimal instead of Int", "body": "<p>Solution is to derive <code>UserType</code>:</p>\n\n<pre><code>class IntArrayOracleType : UserType {\n    override fun assemble(cached: Serializable?, owner: Any?) = deepCopy(cached)\n\n    override fun deepCopy(value: Any?) = (anyToIntArraySafe(value))?.copyOf()\n\n    override fun disassemble(value: Any?) = deepCopy(value)\n\n    override fun equals(x: Any?, y: Any?) = (x?.equals(y) ?: y?.equals(x)) ?: true\n\n    override fun hashCode(x: Any?) = x?.hashCode() ?: 0\n\n    override fun isMutable() = true\n\n    override fun nullSafeGet(resultSet: ResultSet,\n                             names: Array&lt;out String&gt;?,\n                             session: SharedSessionContractImplementor?,\n                             owner: Any?): Any? {\n        if (resultSet.wasNull() || names == null) {\n            return null\n        }\n\n        return anyToIntArraySafe(resultSet.getArray(names[0])?.array) ?: intArrayOf()\n    }\n\n    override fun nullSafeSet(statement: PreparedStatement, value: Any?, index: Int, session: SharedSessionContractImplementor) {\n        val connection = statement.connection\n        if (value == null) {\n            statement.setNull(index, Types.ARRAY, \"INTEGER_VARRAY\")\n        } else {\n            val oraConnection = connection.unwrap(OracleConnection::class.java)\n            val array = oraConnection.createOracleArray(\"INTEGER_VARRAY\", value)\n            statement.setArray(index, array)\n        }\n    }\n\n    override fun replace(original: Any?, target: Any?, owner: Any?) = (anyToIntArraySafe(original))?.copyOf()\n\n    override fun returnedClass() = IntArray::class.java\n\n    override fun sqlTypes() = intArrayOf(Types.ARRAY)\n}\n\n/**\n * Takes Any? and tries to cast it to Array and than to IntArray - BigDecimal is checked.\n *\n * Note that when given array contains anything else then BigDecimal or Int exception will be thrown\n * @return IntArray if successfully casted, null otherwise\n * */\ninternal fun anyToIntArraySafe(array: Any?) = (array as? IntArray) ?: (array as? Array&lt;*&gt;)?.map {\n    it as? Int ?: (it as BigDecimal).intValueExact()\n}?.toIntArray()\n</code></pre>\n\n<p>And here cast <code>BigDecimal</code> to <code>Int</code>. Then just change <code>IntArrayType</code> to <code>IntArrayOracleType</code> and now it works.</p>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 51401182, "answer_count": 1, "score": 0, "last_activity_date": 1531914208, "creation_date": 1531840114, "last_edit_date": 1531840985, "question_id": 51384809, "link": "https://stackoverflow.com/questions/51384809/hibernate-uses-bigdecimal-instead-of-int", "title": "Hibernate uses BigDecimal instead of Int", "body": "<p>I have Oracle type <code>create or replace type integer_varray as varray (4000) of int;</code> and then table in which is this type used. (Oracle DB - 12.1.0.2)</p>\n\n<p>Entity in hibernate has <code>IntArray</code> as a type and <code>IntArrayType</code> from this library <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hibernate-types</a> (it actually doesn't matter whether it is library or my own implementation, behavior is same for both cases).</p>\n\n<p>Problem is that Hibernate sees this array as array of <code>BigDecimal</code> and therefore it raises exception when hibernate-types tries to cast it to <code>Int</code>.</p>\n\n<p>How can I force Hibernate to use <code>Int</code> instead of <code>BigDecimal</code> in this custom type? Other fields with <code>Int</code> are behaving correctly as ints but this particular type is not.</p>\n\n<p>Some code:\nSQL table:</p>\n\n<pre><code>create or replace type integer_varray as varray (4000) of int;\ncreate table plan_capacities\n(\n  id       int generated by default as identity not null constraint plan_capacities_pkey primary key,\n  line_id  int references lines (id) on delete cascade,\n  model_id int references models (id) on delete cascade,\n  plan_id  int references plans (id) on delete cascade,\n  capacity integer_varray\n);\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>@Entity()\n@Table(name = \"plan_capacities\")\n@TypeDefs(\n        TypeDef(name = \"int-array\", typeClass = IntArrayType::class)\n)\ndata class PlanCapacity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Int,\n\n        @ManyToOne\n        @JoinColumn(name = \"line_Id\")\n        val line: Line,\n\n        @ManyToOne()\n        @JoinColumn(name = \"model_Id\")\n        val model: Model,\n\n        @JsonBackReference\n        @ManyToOne()\n        @JoinColumn(name = \"plan_id\")\n        val plan: Plan,\n\n        @Column(name = \"capacity\")\n        @Type(type = \"int-array\")\n        val capacity: IntArray\n) {\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as PlanCapacity\n\n        if (id != other.id) return false\n        if (line != other.line) return false\n        if (model != other.model) return false\n        if (plan != other.plan) return false\n        if (!Arrays.equals(capacity, other.capacity)) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = id\n        result = 31 * result + line.hashCode()\n        result = 31 * result + model.hashCode()\n        result = 31 * result + plan.hashCode()\n        result = 31 * result + Arrays.hashCode(capacity)\n        return result\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 2136, "user_id": 2481488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F98ac.png?s=128&g=1", "display_name": "Pycpik", "link": "https://stackoverflow.com/users/2481488/pycpik"}, "is_accepted": true, "score": 1, "last_activity_date": 1531840450, "last_edit_date": 1531840450, "creation_date": 1531839538, "answer_id": 51384614, "question_id": 51384244, "link": "https://stackoverflow.com/questions/51384244/kotlin-android-custom-recyclerview-issue/51384614#51384614", "title": "Kotlin / Android Custom RecyclerView issue", "body": "<p><code>position</code> in <code>override fun onBindViewHolder(holder: ViewHolder, position: Int)</code> starts at index 0.\nSo in your case, it will be [0, 1] and your map keys are [1, 2]. Only key \"1\" will be displayed correctly.</p>\n\n<p>try:</p>\n\n<pre><code>val testArray : HashMap&lt;Int, ProductEntry&gt; = hashMapOf(0 to prod1, 1 to prod2)\n</code></pre>\n\n<p>But no need to use a map here! Just use a simple list of <code>ProductEntry</code>.</p>\n"}], "owner": {"reputation": 47, "user_id": 6932609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1245072032204666/picture?type=large", "display_name": "Bartosz Kubacki", "link": "https://stackoverflow.com/users/6932609/bartosz-kubacki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 51384614, "answer_count": 1, "score": 0, "last_activity_date": 1531840450, "creation_date": 1531838528, "last_edit_date": 1531839853, "question_id": 51384244, "link": "https://stackoverflow.com/questions/51384244/kotlin-android-custom-recyclerview-issue", "title": "Kotlin / Android Custom RecyclerView issue", "body": "<p>I was trying to make a custom <code>RecyclerView</code> with Adapter which takes a <code>HashMap</code> as parameter, I succeeded but now only 1 item is showing in <code>recyclerView</code> list and I have no idea why.</p>\n\n<p>Here my code snippet:</p>\n\n<p>Custom RecyclerAdapter:</p>\n\n<pre><code>class ProductsRecyclerAdapter(private val dataSet: HashMap&lt;Int, ProductEntry&gt;) : RecyclerView.Adapter&lt;ProductsRecyclerAdapter.ViewHolder&gt;() {\n\nclass ViewHolder(val linearLay: LinearLayout) : RecyclerView.ViewHolder(linearLay)\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int) : ProductsRecyclerAdapter.ViewHolder {\n\n    val linearLay = LayoutInflater.from(parent.context).inflate(R.layout.test_text_view, parent, false) as LinearLayout\n\n    return ViewHolder(linearLay)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n    holder.linearLay.textView.text = dataSet[position]?.pName\n\n    holder.linearLay.textView2.text = dataSet[position]?.pExpiry\n\n}\n\noverride fun getItemCount(): Int {\n\n    return dataSet.size\n}\n\n}\n</code></pre>\n\n<p>Initialization:</p>\n\n<pre><code>// Setup RecyclerView\n    val prod1 = ProductEntry(\"Milk\", \"04/06/1996\")\n    val prod2 = ProductEntry(\"Bread\", \"04/01/2012\")\n\n    val testArray : HashMap&lt;Int, ProductEntry&gt; = hashMapOf(1 to prod1, 2 to prod2)\n\n    viewManager = LinearLayoutManager(this)\n\n    viewAdapter = ProductsRecyclerAdapter(testArray)\n\n    recyclerView = findViewById&lt;RecyclerView&gt;(R.id.productsRecyclerView).apply {\n\n        setHasFixedSize(true)\n        layoutManager = viewManager\n        adapter = viewAdapter\n    }\n</code></pre>\n\n<p>And finally, custom XML for row:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/linearLay\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"TextView\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"40dp\"\n    android:layout_weight=\"1\"\n    android:text=\"TextView\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Despite everything seems to be OK, I get only 1 row showing \"<em>milk</em>\".</p>\n\n<p>Thanks for all help!</p>\n"}, {"tags": ["kotlin", "android-bitmap"], "comments": [{"owner": {"reputation": 29, "user_id": 9969445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1ee6cc54fa0d423361a41f43e97db8?s=128&d=identicon&r=PG&f=1", "display_name": "SET1", "link": "https://stackoverflow.com/users/9969445/set1"}, "edited": false, "score": 0, "creation_date": 1531845202, "post_id": 51383844, "comment_id": 89744571, "body": "Someone? I can&#39;t believe nobody knows how to fix it."}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1531894047, "post_id": 51383844, "comment_id": 89760517, "body": "bitmap can null"}], "owner": {"reputation": 29, "user_id": 9969445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1ee6cc54fa0d423361a41f43e97db8?s=128&d=identicon&r=PG&f=1", "display_name": "SET1", "link": "https://stackoverflow.com/users/9969445/set1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531839363, "creation_date": 1531837410, "last_edit_date": 1531839363, "question_id": 51383844, "link": "https://stackoverflow.com/questions/51383844/cant-scale-bitmap", "title": "Can&#39;t scale bitmap", "body": "<p>What I'm trying to do is to scale a bitmap (three times less).\nI have this <code>code</code> :</p>\n\n<pre><code>val matrix = Matrix()\nmatrix.postScale(bitmap.width.toFloat() / 3, bitmap.height.toFloat() / 3)\n\nval bitmapScaled = Bitmap.createBitmap(\n            bitmap,\n            0, 0,\n            bitmap.width, bitmap.height,\n            matrix, true)\n\nbitmapScaled.compress(Bitmap.CompressFormat.JPEG, 65, thumbnailStream)\n</code></pre>\n\n<p>But it's end with :</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.graphics.Bitmap.setHasAlpha(boolean)' on a null object reference\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 0, "creation_date": 1531840953, "post_id": 51383386, "comment_id": 89742042, "body": "As I mentioned, I&#39;m not interested in just disabling it locally on my system because I don&#39;t want others to get this warning. There appears to no @Suppress directive or other means of disabling it everywhere for everyone. Is that true?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 0, "creation_date": 1531900993, "post_id": 51383386, "comment_id": 89764327, "body": "I&#39;ve attached the screenshot to clarify how you can find the suppress action. The action will insert an annotation into your code, so it won&#39;t be local to your system."}, {"owner": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 3, "creation_date": 1531909229, "post_id": 51383386, "comment_id": 89769775, "body": "Thanks. But ... Jesus, why the heck is it under &quot;Rename&quot;? And while I appreciate your response, the reason for my confusion is that you pointed me to these IDE fiddlings instead of answering the question: What is the Suppress directive? The answer is &quot;FunctionName&quot;, thanks. I wish I could find that list of Suppress directives. Does it exist?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 0, "creation_date": 1531910741, "post_id": 51383386, "comment_id": 89770713, "body": "I didn&#39;t answer the question because developers are not expected to enter the <code>@Suppress</code> directives manually. That&#39;s also why we don&#39;t publish a list of all possible <code>@Suppress</code> values."}, {"owner": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 1, "creation_date": 1531911840, "post_id": 51383386, "comment_id": 89771389, "body": "Oh, it&#39;s much faster to write the suppressions so that one never has to deal with walking through warnings and fiddling with misnamed submenus. Also, if the Suppress values are published then I&#39;ll know when I&#39;ll finally be able to suppress spelling/typo false positives, which I still can&#39;t do in Kotlin, right? The list would also answer that question -- too bad it doesn&#39;t have an obvious answer, right?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 0, "creation_date": 1531913477, "post_id": 51383386, "comment_id": 89772403, "body": "I don&#39;t see how looking for an entry in a list of 1000 possible options is faster than pressing four keys (Alt-Enter, Right, Up, Enter)."}, {"owner": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "edited": false, "score": 0, "creation_date": 1531915160, "post_id": 51383386, "comment_id": 89773582, "body": "You misunderstood. Knowing the suppression value and writing it is faster than walking through warnings and fiddling with mislabeled submenus. Let me know when the spelling suppression directive comes out. Or keep it secret. Up to you."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 12, "last_activity_date": 1531900975, "last_edit_date": 1531900975, "creation_date": 1531836103, "answer_id": 51383386, "question_id": 51383192, "link": "https://stackoverflow.com/questions/51383192/kotlin-suppress-warning-for-function-starting-with-uppercase-letter/51383386#51383386", "title": "Kotlin: suppress warning for function starting with uppercase letter", "body": "<p>To suppress any warning in Kotlin, press Alt-Enter, then the right arrow key and select the suppress action from the context menu, as shown on the attached screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vvovr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Vvovr.png\" alt=\"Suppress quickfix\"></a></p>\n\n<p>The issue for this problem <a href=\"https://youtrack.jetbrains.com/issue/KT-20438\" rel=\"noreferrer\">has already been filed</a>.</p>\n"}], "owner": {"reputation": 63, "user_id": 10094090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a581e69502376ed3f2b5bcd07fdf634a?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wagner", "link": "https://stackoverflow.com/users/10094090/nicholas-wagner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1827, "favorite_count": 0, "accepted_answer_id": 51383386, "answer_count": 1, "score": 5, "last_activity_date": 1531900975, "creation_date": 1531835550, "question_id": 51383192, "link": "https://stackoverflow.com/questions/51383192/kotlin-suppress-warning-for-function-starting-with-uppercase-letter", "title": "Kotlin: suppress warning for function starting with uppercase letter", "body": "<p>The Kotlin <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#function-names\" rel=\"noreferrer\">guide on coding conventions</a> says factory functions may start with an uppercase letter,</p>\n\n<blockquote>Exception: factory functions used to create instances of classes can have the same name as the class being created:\n\n<pre>\n    abstract class Foo { ... }\n\n    class FooImpl : Foo { ... }\n\n    fun Foo(): Foo { return FooImpl(...) }\n</pre>\n</blockquote>\n\n<p>The code inspector in android studio did not get the memo, however; it complains about the upcase letter. I realize I can go into settings and modify the rule, but (1) I don't want to make that global change, and (2) I don't want other people using my code to get the warning. I just wish to suppress the warning coming from this one line with a @Suppress directive (or some other way).</p>\n\n<p>And I can't seem to find a list of all @Suppress directives -- where\nis it?</p>\n\n<p>And where do I file a bug report for this?</p>\n"}, {"tags": ["kotlin", "vaadin"], "comments": [{"owner": {"reputation": 2276, "user_id": 377320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/359d03ed63df432a022cc8e3a2fe60fe?s=128&d=identicon&r=PG", "display_name": "Martin Vysny", "link": "https://stackoverflow.com/users/377320/martin-vysny"}, "edited": false, "score": 0, "creation_date": 1535379861, "post_id": 51382912, "comment_id": 91033522, "body": "Which version of Vaadin 10 are you using? It could have been a bug in 10.0.2; I added your code into the newest <code>karibu10-helloworld-application</code> which uses 10.0.4 and it works - the grid is displayed for me, without using <code>isHeightByRows</code>.  If that doesn&#39;t help, please try adding <code>@BodySize(width = &quot;100vw&quot;, height = &quot;100vh&quot;)</code> and <code>@Viewport(&quot;width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes&quot;)</code> to your <code>MainView</code>"}, {"owner": {"reputation": 2276, "user_id": 377320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/359d03ed63df432a022cc8e3a2fe60fe?s=128&d=identicon&r=PG", "display_name": "Martin Vysny", "link": "https://stackoverflow.com/users/377320/martin-vysny"}, "edited": false, "score": 0, "creation_date": 1535379988, "post_id": 51382912, "comment_id": 91033604, "body": "This shouldn&#39;t be a bug in <code>karibu-dsl</code> since it&#39;s just a thin wrapper over Vaadin 10, so I&#39;d attribute the bug to the Vaadin itself. Please try Vaadin 10.0.4 and let me know if the issue is fixed for you."}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 4697995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e0ebe22e5538527b0b7ee7c89563838?s=128&d=identicon&r=PG&f=1", "display_name": "spaenigs", "link": "https://stackoverflow.com/users/4697995/spaenigs"}, "is_accepted": false, "score": 0, "last_activity_date": 1531901659, "creation_date": 1531901659, "answer_id": 51396868, "question_id": 51382912, "link": "https://stackoverflow.com/questions/51382912/vaadin-on-kotlin-fill-grid-with-data/51396868#51396868", "title": "Vaadin-on-Kotlin: Fill grid with data", "body": "<p>Adding <code>isHeightByRows = true</code> solves it for now:</p>\n\n<pre><code>grid(dataProvider = ListDataProvider(d)) {\n    isHeightByRows = true\n    addColumnFor(Person::fname)\n    addColumnFor(Person::lname)\n    addColumnFor(Person::age)\n}\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 4697995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e0ebe22e5538527b0b7ee7c89563838?s=128&d=identicon&r=PG&f=1", "display_name": "spaenigs", "link": "https://stackoverflow.com/users/4697995/spaenigs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531901659, "creation_date": 1531834832, "last_edit_date": 1531839599, "question_id": 51382912, "link": "https://stackoverflow.com/questions/51382912/vaadin-on-kotlin-fill-grid-with-data", "title": "Vaadin-on-Kotlin: Fill grid with data", "body": "<p>Maybe I missed the specific section in documentation (<a href=\"http://www.vaadinonkotlin.eu/grids.html\" rel=\"nofollow noreferrer\">grids</a>), but how can I add simple data to a grid (without database connection)?</p>\n\n<pre><code>data class Person(val fname: String, val lname: String, val age: Int)\n\nclass MainView : VerticalLayout() {\n    init {\n        val d = listOf(\n            Person(\"A\", \"B\", 123),\n            Person(\"C\", \"D\", 456),\n            Person(\"E\", \"F\", 789)\n        )\n        // data not shown:\n        grid(dataProvider = ListDataProvider(d)) {\n            addColumnFor(Person::fname)\n            addColumnFor(Person::lname)\n            addColumnFor(Person::age)\n        }\n       // data not shown:\n        grid&lt;Person&gt; {\n            setItems(d)\n            addColumnFor(Person::fname)\n            addColumnFor(Person::lname)\n            addColumnFor(Person::age)\n        }\n        // data not shown:\n        val grid = Grid&lt;Person&gt;().apply {\n            setItems(d)\n            addColumn(Person::fname)\n            addColumn(Person::lname)\n            addColumn(Person::age)\n        }\n        add(grid)\n    }\n}\n</code></pre>\n\n<p>For this example I used the starter from <a href=\"https://github.com/mvysny/karibu10-helloworld-application\" rel=\"nofollow noreferrer\">here</a>. Basically, what I'm trying to achieve is simply to display a Grid as demonstrated in the <a href=\"https://vaadin.com/docs/v10/flow/components/tutorial-flow-grid.html\" rel=\"nofollow noreferrer\">official vaadin 10 docs</a>.</p>\n\n<p>What I am missing here??</p>\n\n<p>Kind regards.</p>\n\n<p>EDIT:</p>\n\n<p>Disabling the \"height\" property of the table (#table.vaadin-grid) fixes the error. Is this a bug in the karibu-dsl?</p>\n"}, {"tags": ["generics", "design-patterns", "kotlin", "covariance"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1531836207, "post_id": 51382818, "comment_id": 89738664, "body": "It couldn&#39;t be useful by itself, it&#39;s just a result of simplifying some other code."}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531834613, "creation_date": 1531834613, "question_id": 51382818, "link": "https://stackoverflow.com/questions/51382818/usecases-for-this-covariant-class", "title": "Usecases for this covariant class?", "body": "<p>I've encountered this class</p>\n\n<pre><code>sealed class Test&lt;out T&gt; {\n}\n\nfun &lt;T, R : T&gt; Test&lt;T&gt;.abc(fn: (Int) -&gt; Test&lt;R&gt;) {\n    fn(10)\n}\n</code></pre>\n\n<p>In <a href=\"https://www.reddit.com/r/Kotlin/comments/8tyqfq/variance_question_in_kotlin_out/\" rel=\"nofollow noreferrer\">a reddit post</a> asking why it couldn't be written like this:</p>\n\n<pre><code>sealed class Test&lt;out T&gt; {\n\n    fun abc(fn: (Int) -&gt; Test&lt;T&gt;) {\n        fn(10)\n    }\n\n}\n</code></pre>\n\n<p>I have since wondered where such a sealed class would be useful but couldn't think of anything.</p>\n\n<p>What are example applications of the above <code>Test</code> class design?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1484, "user_id": 6662739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b3ead54cd5f2928c0e9a65a29c7ce3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaw", "link": "https://stackoverflow.com/users/6662739/ollaw"}, "edited": false, "score": 1, "creation_date": 1531832017, "post_id": 51381857, "comment_id": 89735537, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9698696/other-thread-wont-let-me-change-activity-layout-android\">Other thread wont let me change Activity layout!? Android</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1531832303, "post_id": 51381857, "comment_id": 89735724, "body": "Did you also try logging the value of the <code>ipData.ip</code> string that you&#39;re setting to your TextView? Perhaps that&#39;s empty?"}, {"owner": {"reputation": 13, "user_id": 10093807, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HH9DXW-O_k8/AAAAAAAAAAI/AAAAAAAAAEM/7sM_Au1iyZw/photo.jpg?sz=128", "display_name": "Qsr", "link": "https://stackoverflow.com/users/10093807/qsr"}, "reply_to_user": {"reputation": 1484, "user_id": 6662739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b3ead54cd5f2928c0e9a65a29c7ce3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaw", "link": "https://stackoverflow.com/users/6662739/ollaw"}, "edited": false, "score": 0, "creation_date": 1531832448, "post_id": 51381857, "comment_id": 89735827, "body": "@Ollaw That is related with Java mine is Kotlin"}, {"owner": {"reputation": 13, "user_id": 10093807, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HH9DXW-O_k8/AAAAAAAAAAI/AAAAAAAAAEM/7sM_Au1iyZw/photo.jpg?sz=128", "display_name": "Qsr", "link": "https://stackoverflow.com/users/10093807/qsr"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1531832540, "post_id": 51381857, "comment_id": 89735911, "body": "@zsmb13 That is not empty"}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 6662739, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b3ead54cd5f2928c0e9a65a29c7ce3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaw", "link": "https://stackoverflow.com/users/6662739/ollaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1531863433, "last_edit_date": 1531863433, "creation_date": 1531833217, "answer_id": 51382321, "question_id": 51381857, "link": "https://stackoverflow.com/questions/51381857/cannot-assign-value-to-textview-from-parsed-json-data-in-kotlin-android/51382321#51382321", "title": "Cannot assign value to TextView from parsed Json data in Kotlin Android", "body": "<p>You can't edit UI from another threads. Since the <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/Callback.html#onResponse-okhttp3.Call-okhttp3.Response-\" rel=\"nofollow noreferrer\">documentation</a> of OkHTTP says : </p>\n\n<blockquote>\n  <p>The recipient of the callback may consume the response body on another thread. </p>\n</blockquote>\n\n<p>you have to set the text in this way : </p>\n\n<pre><code>runOnUiThread {txtIP.text = ipData.ip }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10093807, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HH9DXW-O_k8/AAAAAAAAAAI/AAAAAAAAAEM/7sM_Au1iyZw/photo.jpg?sz=128", "display_name": "Qsr", "link": "https://stackoverflow.com/users/10093807/qsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 51382321, "answer_count": 1, "score": 1, "last_activity_date": 1531863433, "creation_date": 1531831845, "question_id": 51381857, "link": "https://stackoverflow.com/questions/51381857/cannot-assign-value-to-textview-from-parsed-json-data-in-kotlin-android", "title": "Cannot assign value to TextView from parsed Json data in Kotlin Android", "body": "<p>I have textView in which I want to store data from an API. Following is my code</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.Button\nimport android.widget.TextView\nimport com.google.gson.GsonBuilder\nimport okhttp3.*\nimport java.io.IOException\n\n\nclass MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val btnFindIp = findViewById&lt;Button&gt;(R.id.btnFindIp)\n        val txtIP = findViewById&lt;TextView&gt;(R.id.txtIP)\n\n        btnFindIp.setOnClickListener {\n            fetchJsonData()\n        }\n\n\n    } //onCreate Ends here\n\n\n    fun fetchJsonData() {\n        val url = \"https://ipapi.co/json/\"\n        val request = Request.Builder().url(url).build()\n        val httpClient = OkHttpClient()\n        val txtIP = findViewById&lt;TextView&gt;(R.id.txtIP)\n\n\n\n        httpClient.newCall(request).enqueue(object : Callback {\n            override fun onFailure(call: Call?, e: IOException?) {\n                println(\"Failed to execute\")\n            }\n\n            override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                val gson = GsonBuilder().create()\n                val ipData:Ip  = gson.fromJson(body, Ip::class.java)\n//                txtIP.text = ipData.ip.toString()\n                println(ipData.country_name)\n\n              txtIP.text =  ipData.ip\n\n            }\n        })\n\n\n    }\n\n\n    data class Ip(\n            val ip: String,\n            val city: String,\n            val region: String,\n            val region_code: Any,\n            val country: String,\n            val country_name: String,\n            val continent_code: String,\n            val in_eu: Boolean,\n            val postal: Any,\n            val latitude: Double,\n            val longitude: Double,\n            val timezone: Any,\n            val utc_offset: Any,\n            val country_calling_code: String,\n            val currency: String,\n            val languages: String,\n            val asn: String,\n            val org: String\n    )\n\n}\n</code></pre>\n\n<p>I successfully managed to get data from API and parsed it to the Data class </p>\n\n<pre><code> println(ipData.country_name)\n</code></pre>\n\n<p>this gives the correct output but when I assign data class value to  <code>txtIP.text =  ipData.ip</code> nothing is happening, I am sure I missed something since I am really new to Android as well as Kotlin</p>\n\n<p>Any help would be highly appreciated</p>\n"}, {"tags": ["android", "kotlin", "background-color", "android-cardview"], "answers": [{"tags": [], "owner": {"reputation": 1164, "user_id": 7835394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7zKh.jpg?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/7835394/rohit-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1531894550, "last_edit_date": 1531894550, "creation_date": 1531831232, "answer_id": 51381654, "question_id": 51381495, "link": "https://stackoverflow.com/questions/51381495/set-cardview-background-logic-in-android/51381654#51381654", "title": "set cardview Background logic in Android", "body": "<p>When your button is clicked change white color for rest of the buttons like this  </p>\n\n<pre><code>btnOpt1.setOnClickListener {\n    btnOpt1.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"));\n    btnOpt2.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n    btnOpt3.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n    btnOpt4.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "is_accepted": false, "score": 2, "last_activity_date": 1531831673, "creation_date": 1531831673, "answer_id": 51381797, "question_id": 51381495, "link": "https://stackoverflow.com/questions/51381495/set-cardview-background-logic-in-android/51381797#51381797", "title": "set cardview Background logic in Android", "body": "<p>Create the method and pass your view for selected and unselcted</p>\n\n<pre><code>       btnOpt1.setOnClickListener {\n          clickCardView(btnOpt1)\n\n        }\n</code></pre>\n\n<p>Create the method and call from your all click listeners </p>\n\n<pre><code>    private void clickCardView(View btnView){\n        btnOpt1.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n        btnOpt2.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n        btnOpt3.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n        btnOpt4.setCardBackgroundColor(Color.parseColor(\"#ffffff\"));\n\n//// main logic is here\n\n    btnView.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"));\n    }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 1, "accepted_answer_id": 51381654, "answer_count": 2, "score": 0, "last_activity_date": 1531894550, "creation_date": 1531830729, "last_edit_date": 1531832237, "question_id": 51381495, "link": "https://stackoverflow.com/questions/51381495/set-cardview-background-logic-in-android", "title": "set cardview Background logic in Android", "body": "<p>i want to when one <code>cardview</code> click event call it's background color change . but i want to only one <code>cardview</code> color change at a time means i click on <strong>1st</strong> <code>cardview</code> , color change yellow , but when i click on <strong>2nd</strong> <code>cardview</code> change color yellow ,and other all card set color white.</p>\n\n<p>Here is my code :-</p>\n\n<pre><code>btnOpt1.setOnClickListener {\n        btnOpt1.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"))\n    }\n\n    btnOpt2.setOnClickListener {\n        btnOpt2.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"))\n    }\n\n    btnOpt3.setOnClickListener {\n        btnOpt3.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"))\n    }\n\n    btnOpt4.setOnClickListener {\n        btnOpt4.setCardBackgroundColor(Color.parseColor(\"#fcfca9\"))\n    }\n\n    btnOpt5.setOnClickListener {\n        btnOpt5.setCardBackgroundColor(Color.parseColor(\"##fcfca9\"))\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WUJFB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUJFB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "oracle", "hibernate", "jpa", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "is_accepted": true, "score": 1, "last_activity_date": 1531994513, "creation_date": 1531994513, "answer_id": 51419730, "question_id": 51380674, "link": "https://stackoverflow.com/questions/51380674/oracle-arrays-and-hibernate/51419730#51419730", "title": "Oracle Arrays and Hibernate", "body": "<p>Solution is to derive UserType:</p>\n\n<pre><code>class IntArrayOracleType : UserType {\n    override fun assemble(cached: Serializable?, owner: Any?) = deepCopy(cached)\n\n    override fun deepCopy(value: Any?) = (anyToIntArraySafe(value))?.copyOf()\n\n    override fun disassemble(value: Any?) = deepCopy(value)\n\n    override fun equals(x: Any?, y: Any?) = (x?.equals(y) ?: y?.equals(x)) ?: true\n\n    override fun hashCode(x: Any?) = x?.hashCode() ?: 0\n\n    override fun isMutable() = true\n\n    override fun nullSafeGet(resultSet: ResultSet,\n                             names: Array&lt;out String&gt;?,\n                             session: SharedSessionContractImplementor?,\n                             owner: Any?): Any? {\n        if (resultSet.wasNull() || names == null) {\n            return null\n        }\n\n        return anyToIntArraySafe(resultSet.getArray(names[0])?.array) ?: intArrayOf()\n    }\n\n    override fun nullSafeSet(statement: PreparedStatement, value: Any?, index: Int, session: SharedSessionContractImplementor) {\n        val connection = statement.connection\n        if (value == null) {\n            statement.setNull(index, Types.ARRAY, \"INTEGER_VARRAY\")\n        } else {\n            val oraConnection = connection.unwrap(OracleConnection::class.java)\n            val array = oraConnection.createOracleArray(\"INTEGER_VARRAY\", value)\n            statement.setArray(index, array)\n        }\n    }\n\n    override fun replace(original: Any?, target: Any?, owner: Any?) = (anyToIntArraySafe(original))?.copyOf()\n\n    override fun returnedClass() = IntArray::class.java\n\n    override fun sqlTypes() = intArrayOf(Types.ARRAY)\n}\n\n/**\n * Takes Any? and tries to cast it to Array and than to IntArray - BigDecimal is checked.\n *\n * Note that when given array contains anything else then BigDecimal or Int exception will be thrown\n * @return IntArray if successfully casted, null otherwise\n * */\ninternal fun anyToIntArraySafe(array: Any?) = (array as? IntArray) ?: (array as? Array&lt;*&gt;)?.map {\n    it as? Int ?: (it as BigDecimal).intValueExact()\n}?.toIntArray()\n</code></pre>\n\n<p>And here cast BigDecimal to Int. Then just change IntArrayType to IntArrayOracleType and now it works.</p>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 51419730, "answer_count": 1, "score": 0, "last_activity_date": 1531994513, "creation_date": 1531828249, "question_id": 51380674, "link": "https://stackoverflow.com/questions/51380674/oracle-arrays-and-hibernate", "title": "Oracle Arrays and Hibernate", "body": "<p>Setup - Oracle 12.1.0.2, Kotlin, Hibernate</p>\n\n<p>I have table which was created like this:</p>\n\n<pre><code>create or replace type capacity_varray as varray (4000) of int;\ncreate table plan_capacities\n(\n  id       int generated by default as identity not null constraint plan_capacities_pkey primary key,\n  line_id  int references lines (id) on delete cascade,\n  model_id int references models (id) on delete cascade,\n  plan_id  int references plans (id) on delete cascade,\n  capacity capacity_varray\n);\n</code></pre>\n\n<p>Model for this table:</p>\n\n<pre><code>@Entity()\n@Table(name = \"plan_capacities\")\n@TypeDefs(\n        TypeDef(name = \"int-array\", typeClass = IntArrayType::class)\n)\ndata class PlanCapacity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Int,\n\n        @ManyToOne\n        @JoinColumn(name = \"line_Id\")\n        val line: Line,\n\n        @ManyToOne()\n        @JoinColumn(name = \"model_Id\")\n        val model: Model,\n\n        @JsonBackReference\n        @ManyToOne()\n        @JoinColumn(name = \"plan_id\")\n        val plan: Plan,\n\n        @Column(name = \"capacity\")\n        @Type(type = \"int-array\")\n        val capacity: IntArray\n) {\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as PlanCapacity\n\n        if (id != other.id) return false\n        if (line != other.line) return false\n        if (model != other.model) return false\n        if (plan != other.plan) return false\n        if (!Arrays.equals(capacity, other.capacity)) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = id\n        result = 31 * result + line.hashCode()\n        result = 31 * result + model.hashCode()\n        result = 31 * result + plan.hashCode()\n        result = 31 * result + Arrays.hashCode(capacity)\n        return result\n    }\n}\n</code></pre>\n\n<p>The array is wrongly converted from the database and I get <code>java.lang.ClassCastException: java.math.BigDecimal cannot be cast to java.lang.Integer</code>so I tried to implement my own converter implementing <code>UserType</code> but here I'm stuck with setting array to db.</p>\n\n<p>What is correct way of working with this <code>int</code> array? How should I write model for this particular table and type?\nI would like to have <code>IntArray</code> from that field.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1531827812, "creation_date": 1531827812, "answer_id": 51380534, "question_id": 51380162, "link": "https://stackoverflow.com/questions/51380162/kotlin-create-object-with-params-syntax/51380534#51380534", "title": "Kotlin create object with params syntax", "body": "<p>You can achieve it with the constructor parameter.</p>\n\n<pre><code>class Person(\n        @JsonProperty(\"name\")\n        var name: String? = null,\n        @JsonProperty(\"id\")\n        var id: String\n)\n\n\n\nval person = Person(name = \"someName\", id = \"someId\")\n</code></pre>\n\n<hr>\n\n<p>Another way is make your class and desired variables open to be overridden.</p>\n\n<pre><code>open class Person {\n    @JsonProperty(\"name\")\n    open var name: String? = null\n    @JsonProperty(\"id\")\n    open var id: String = \"\"\n}\n\nval person =  object : Person() {\n        override var name: String? = \"SomeName\"\n        override var id = \"SomeId\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1531828555, "creation_date": 1531828555, "answer_id": 51380777, "question_id": 51380162, "link": "https://stackoverflow.com/questions/51380162/kotlin-create-object-with-params-syntax/51380777#51380777", "title": "Kotlin create object with params syntax", "body": "<p>Please check <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\">apply</a> method.</p>\n\n<p>Your code will be like this:</p>\n\n<pre><code>val person = Person().apply {name = \"someName\", id = \"someId\"}\n</code></pre>\n\n<p><strong>Another way</strong> - you can change declaration of Person to (e.g. just change brackets, replace <code>var</code> to <code>val</code> and remove <code>lateinit</code>):</p>\n\n<pre><code>class Person (@JsonProperty(\"name\") val name: String? = null,\n              @JsonProperty(\"id\") val id: String )\n</code></pre>\n\n<p>Then you will able to do this:</p>\n\n<pre><code>val person = Person(name = \"someName\", id = \"someId\")\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 5188979, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/81be8dbc4c95c605bd5a9aa631023896?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/5188979/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 51380777, "answer_count": 2, "score": 1, "last_activity_date": 1531828555, "creation_date": 1531826638, "question_id": 51380162, "link": "https://stackoverflow.com/questions/51380162/kotlin-create-object-with-params-syntax", "title": "Kotlin create object with params syntax", "body": "<p>I have an object </p>\n\n<pre><code>class Person {\n@JsonProperty(\"name\")\nvar name: String? = null\n\n@JsonProperty(\"id\")\nlateinit var id: String}\n</code></pre>\n\n<p>There is an only empty constructor and I want to create a person so I wrote: </p>\n\n<pre><code> val person = Person()\n person.name = \"someName\"\n person.id = \"SomeId\"\n</code></pre>\n\n<p>I'm  pretty sure that there is a prettier syntax, something like </p>\n\n<pre><code>val person = Person {name = \"someName\" , id = \"someId\"}\n</code></pre>\n\n<p>but I can't find an example.\nam I missing something? should I create a secondary constructor to use this syntax or is there another way? </p>\n"}, {"tags": ["android", "kotlin", "greenrobot-eventbus"], "answers": [{"comments": [{"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826364, "post_id": 51378914, "comment_id": 89731576, "body": "Tried adding the null check <code>?</code> but no impact."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826544, "post_id": 51378914, "comment_id": 89731723, "body": "Have you registered the eventbus?"}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826612, "post_id": 51378914, "comment_id": 89731773, "body": "As I wrote, the Eventbus is being registered in the fragment containing the RecyclerView. That should be enough, right?"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826655, "post_id": 51378914, "comment_id": 89731802, "body": "No you must register it with class in which you are having subscriber method"}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826733, "post_id": 51378914, "comment_id": 89731879, "body": "I&#39;ve tried that also. Added the register line in the <code>init</code> of the class and that didn&#39;t help. Should I do that somewhere else in the class?"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531826908, "post_id": 51378914, "comment_id": 89731982, "body": "Try it above the post method like <code>if (EventBus.getDefault().isRegistered(this@FriendsListItem).no&zwnj;&#8203;t()) EventBus.getDefault().register(this@FriendsListItem)</code>"}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531827094, "post_id": 51378914, "comment_id": 89732113, "body": "I&#39;ve just added it again to the <code>init</code> and it works now!! Strange. Any ides where it would be best to <code>un</code>register it?"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531827253, "post_id": 51378914, "comment_id": 89732234, "body": "Usually the best way is when your screen is getting off. So onDestroy method. But for the case of View don&#39;t have any idea"}, {"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531827608, "post_id": 51378914, "comment_id": 89732467, "body": "Yes, that&#39;s what I usually do with activities and fragments. Here I added it to the item view&#39;s <code>onDetachedFromWindow</code> event."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1531827671, "post_id": 51378914, "comment_id": 89732515, "body": "Please make sure that it gets <code>unregister</code>"}], "tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1531822761, "creation_date": 1531822761, "answer_id": 51378914, "question_id": 51378699, "link": "https://stackoverflow.com/questions/51378699/trying-to-impact-recyclerview-items-via-eventbus/51378914#51378914", "title": "Trying to impact RecyclerView items via EventBus", "body": "<p>Try this. It happened with me for kotlin Int, it might resolve your issue</p>\n\n<pre><code>@Subscribe(threadMode = ThreadMode.MAIN)\nfun onEventMainThread(event: FriendsListResetOtherMenus?) {\n    if (menu != null &amp;&amp; !menu!!.isShowing)\n        menu!!.dismiss()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1531831896, "creation_date": 1531831896, "answer_id": 51381872, "question_id": 51378699, "link": "https://stackoverflow.com/questions/51378699/trying-to-impact-recyclerview-items-via-eventbus/51381872#51381872", "title": "Trying to impact RecyclerView items via EventBus", "body": "<p>I worked with EventBus very little, prefer RxBus:</p>\n\n<pre><code>object RxBus {\n\n    private val bus = PublishSubject.create&lt;Any&gt;()\n\n    fun send(event: Any) {\n        bus.onNext(event)\n    }\n\n    fun &lt;T&gt; observeEvent(type: Class&lt;T&gt;): Observable&lt;T&gt; =\n        bus.ofType(type)\n}\n\nclass NeedToUpdateEvent\n</code></pre>\n\n<p>For sending event:</p>\n\n<pre><code>RxBus.send(NeedToUpdateEvent())\n</code></pre>\n\n<p>For subscribing to event:</p>\n\n<pre><code>RxBus.observeEvent(NeedToUpdateEvent::class.java)\n        .subscribe { / some action / }\n</code></pre>\n\n<p>You can try this</p>\n"}], "owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 51378914, "answer_count": 2, "score": 2, "last_activity_date": 1531831896, "creation_date": 1531822183, "last_edit_date": 1531827851, "question_id": 51378699, "link": "https://stackoverflow.com/questions/51378699/trying-to-impact-recyclerview-items-via-eventbus", "title": "Trying to impact RecyclerView items via EventBus", "body": "<p>I'm trying to post an EventBus event from an recycler item view class and subscribe to it in the same class so that the event is grabbed by ALL the recycler items.</p>\n\n<p><strong>Now in more detail:</strong></p>\n\n<p>I have a RecyclerView where each item (FriendListItem.kt) has a context menu. Only one context menu should be shown at a time. That means that I need to close another item's context menu if its visible. </p>\n\n<p>I chose to use the <code>org.greenrobot.eventbus</code>which we already widely used in our app. In the item class, when the menu is to be shown, I post an event, and the grab it in the same class. I thought that this way all the items will respond and dismiss their (possibly visible) menus, but the event Subscriber doesn't grab anything.</p>\n\n<p>I'll just add that the containing fragment registers and unregisters the EventBus as it should because it works fine in another event.</p>\n\n<p>The problem here might be that the event should be grabbed in a recycler item view, which manifests in multiple items. Could that be it?</p>\n\n<p>Here is the item:</p>\n\n<pre><code>package com.myapp.android.common.social.friends\n\nimport android.content.Context\nimport android.text.Spanned\nimport android.view.View\nimport android.view.View.OnClickListener\nimport android.widget.ImageView\nimport android.widget.LinearLayout\nimport com.myapp.android.common.R\nimport com.myapp.android.common.database.room.entities.User\nimport com.myapp.android.common.generic.coachmark.BubbleCoachMark\nimport com.myapp.android.common.image.ImageSize\nimport com.myapp.android.common.social.friends.events.FriendsListResetOtherMenus\nimport kotlinx.android.synthetic.main.friends_list_item.view.*\nimport org.greenrobot.eventbus.EventBus\nimport org.greenrobot.eventbus.Subscribe\nimport org.greenrobot.eventbus.ThreadMode\n\nclass FriendsListItem(context: Context) : LinearLayout(context) {\n\n    private var user: User? = null\n    private var menu: BubbleCoachMark? = null\n\n    init {\n        View.inflate(context, R.layout.friends_list_item, this)\n    }\n\n    fun updateView(user: User, sp: Spanned?) {\n        this.user = user\n\n        // Avatar\n        if (user.pictureUrl != \"\") {\n            setUserPicture(user.pictureUrl + \"\", user.isPremium)\n        }\n\n        // Premium\n        when {\n            user.isPremium -&gt; friendPremium.visibility = View.VISIBLE\n            else -&gt; friendPremium.visibility = View.GONE\n        }\n\n        // Name\n        when (sp) {\n            null -&gt; friendName!!.text = user.name\n            else -&gt; friendName!!.text = sp\n        }\n\n        // Friend Status\n        invite.visibility = View.GONE\n        action.visibility = View.VISIBLE\n\n        when (user.status) {\n            User.Status.friend -&gt; {\n                action.setImageResource(R.drawable.ic_friend_options)\n                action.setOnClickListener(OnClickListener {\n                    EventBus.getDefault().post(FriendsListResetOtherMenus())\n                    when (menu) {\n                        null -&gt; {\n                            menu = BubbleCoachMark(BubbleCoachMark.BubbleCoachMarkBuilder(context, action, FriendsListItemMenu(context)).setShowBelowAnchor(true))\n                            menu!!.show()\n                        }\n                        else -&gt; {\n                            if (!menu!!.isShowing)\n                                menu!!.show()\n                        }\n                    }\n                })\n            }\n            User.Status.pending -&gt; {\n                action.setImageResource(R.drawable.ic_friend_requested)\n            }\n            User.Status.nofriend -&gt; {\n                action.setImageResource(R.drawable.ic_friend_add)\n            }\n            else -&gt; {\n                invite.visibility = View.VISIBLE\n                action.visibility = View.GONE\n            }\n        }\n    }\n\n    fun setUserPicture(pictureUrl: String, isPremium: Boolean) {\n        synchronized(this) {\n            friendAvatar!!.scaleType = ImageView.ScaleType.CENTER_CROP\n            friendAvatar!!.setUserPicture(pictureUrl, isPremium, R.drawable.profile_silhuette_new, ImageSize.thumbnail)\n        }\n    }\n\n    // The method here is not grabbing the event\n    @Subscribe(threadMode = ThreadMode.MAIN)\n    fun onEventMainThread(event: FriendsListResetOtherMenus) {\n        if (menu != null &amp;&amp; !menu!!.isShowing)\n            menu!!.dismiss()\n    }\n}\n</code></pre>\n\n<p><strong>Updated solution:</strong></p>\n\n<p>Registered the EventBus locally in the <code>init</code> clause:</p>\n\n<pre><code>...\ninit {\n    View.inflate(context, R.layout.friends_list_item, this)\n\n    EventBus.getDefault().register(this@FriendsListItem)\n}\n...\n</code></pre>\n\n<p>Unregistered the EventBus in the <code>onDetachedFromWindow</code> event:</p>\n\n<pre><code>...\noverride fun onDetachedFromWindow() {\n    super.onDetachedFromWindow()\n\n    EventBus.getDefault().unregister(this@FriendsListItem)\n}\n...\n</code></pre>\n"}, {"tags": ["android", "notifications", "kotlin"], "owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1531834334, "creation_date": 1531820503, "last_edit_date": 1531834334, "question_id": 51378085, "link": "https://stackoverflow.com/questions/51378085/android-notification-ringtone-does-not-stop-even-after-it-is-canceled", "title": "Android notification ringtone does not stop even after it is canceled", "body": "<p>I have a written a service which fires a notification with an alarm ringtone at a specific time. The notification works as intended, however, the problem is that even after I cancel the notification or click on it from the notification bar, it continues to play the ringtone. Meaning that the notification cancels if I swipe across it, and it opens a pending intent if I click on it. However, the sound/ringtone keeps on playing even after I have performed either of the aforementioned actions (swipe, click).</p>\n\n<p>My code for firing the notification is as follows (it's written in Kotlin):</p>\n\n<pre><code>private fun fireNotification() {\n    var anotherIntent:Intent=Intent(this,ReminderActivity::class.java)\n    var p1:PendingIntent= PendingIntent.getActivity(this,0,anotherIntent,0)\n    val defaultSoundUri=RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n\n    var notifyManager: NotificationManager =getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    var notification:Notification=NotificationCompat.Builder(this)\n            .setContentTitle(\"Medicine Time\")\n            .setSmallIcon(R.mipmap.ic_launcher)\n            .setSound(defaultSoundUri)\n            .setContentText(\"Time to take your medicine\")\n            .setContentIntent(p1)\n            .setAutoCancel(true)\n            .build()\n    notifyManager.notify(0,notification)\n}\n</code></pre>\n\n<p>Any help in the matter would be greatly appreciated, thanks!</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1531820227, "post_id": 51377872, "comment_id": 89727453, "body": "have look <a href=\"https://stackoverflow.com/a/32766674/5110595\">this</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1531822216, "creation_date": 1531822216, "answer_id": 51378707, "question_id": 51377872, "link": "https://stackoverflow.com/questions/51377872/first-visible-item-in-recycler-view-chagnes-rest-of-the-list/51378707#51378707", "title": "First visible item in recycler view chagnes rest of the list", "body": "<p>You need to call <a href=\"https://developer.android.com/reference/android/graphics/drawable/Drawable#mutate()\" rel=\"nofollow noreferrer\"><code>mutate</code></a> <a href=\"https://android-developers.googleblog.com/2009/05/drawable-mutations.html\" rel=\"nofollow noreferrer\">on the drawable otherwise you're changing the shared instance</a>:</p>\n\n<pre><code>val foreground = ContextCompat.getDrawable(itemView.context, R.drawable.ic_online)\n                              .mutate()\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 7690077, "user_type": "registered", "profile_image": "https://graph.facebook.com/811016882381869/picture?type=large", "display_name": "Vi\u0165a Mor&#225;vek", "link": "https://stackoverflow.com/users/7690077/vi%c5%a5a-mor%c3%a1vek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 51378707, "answer_count": 1, "score": 2, "last_activity_date": 1531822216, "creation_date": 1531819868, "last_edit_date": 1531821027, "question_id": 51377872, "link": "https://stackoverflow.com/questions/51377872/first-visible-item-in-recycler-view-chagnes-rest-of-the-list", "title": "First visible item in recycler view chagnes rest of the list", "body": "<p>I have list of users with circle foreground on their avatar. If user is online circle is green, otherwise it is red. The problem is, whole list is red (for example) until I scroll under the user which is supposed to be green.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UT4Su.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UT4Su.png\" alt=\"enter image description here\"></a></p>\n\n<p>After that when I scroll back upwards whole list has green circles until I reach offline user which will change whole list back to red.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LmGVV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmGVV.png\" alt=\"enter image description here\"></a></p>\n\n<p>My bind function looks like this:</p>\n\n<pre><code>    fun bind(userInfo: UserInfo) {\n\n    val foreground = ContextCompat.getDrawable(itemView.context, R.drawable.ic_online)\n\n    foreground?.colorFilter = PorterDuffColorFilter(ContextCompat.getColor(\n            itemView.context, when {\n        userInfo.status == Status.OFFLINE -&gt; R.color.offline_red\n        else -&gt; R.color.colorAccent\n    }), PorterDuff.Mode.SRC_ATOP)\n\n    itemView.profilePictureImageView.foreground = foreground\n\n    val options = RequestOptions()\n    options.placeholder(R.drawable.ic_default_avatar)\n    options.circleCrop()\n\n    Glide.with(itemView.context)\n            .load(\"http://scdb.abradio.cz/uploads/interprets/r/radek-rettegy.jpg\")\n            .apply(options)\n            .into(itemView.profilePictureImageView)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 2, "last_activity_date": 1531821315, "creation_date": 1531821315, "answer_id": 51378381, "question_id": 51377718, "link": "https://stackoverflow.com/questions/51377718/in-kotlin-how-do-i-chain-an-arbitrary-number-of-functions/51378381#51378381", "title": "In Kotlin, how do I chain an arbitrary number of functions", "body": "<p>A simple loop through the processors would do:  </p>\n\n<pre><code>private fun applyProcessors(items: List&lt;Item&gt;, itemProcessors: List&lt;(Item) -&gt; Item&gt;): List&lt;Item&gt; {\n    return items.map {\n        var value = it\n        for (processor in itemProcessors) {\n            value = processor.invoke(value)\n        }\n        value\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": true, "score": 2, "last_activity_date": 1531905809, "last_edit_date": 1531905809, "creation_date": 1531822149, "answer_id": 51378686, "question_id": 51377718, "link": "https://stackoverflow.com/questions/51377718/in-kotlin-how-do-i-chain-an-arbitrary-number-of-functions/51378686#51378686", "title": "In Kotlin, how do I chain an arbitrary number of functions", "body": "<p>You could do it in a functional way with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html\" rel=\"nofollow noreferrer\"><code>fold</code></a>:</p>\n\n<pre><code>fun applyProcessors(items: List&lt;Item&gt;, itemProcessors: List&lt;(Item) -&gt; Item&gt;): List&lt;Item&gt; {\n    return items.map {\n        itemProcessors.fold(it) { acc, processor -&gt; processor(acc) }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7129, "user_id": 118268, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a9091e392a6c86f372075a4bf1aea538?s=128&d=identicon&r=PG", "display_name": "KevinS", "link": "https://stackoverflow.com/users/118268/kevins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 51378686, "answer_count": 2, "score": 3, "last_activity_date": 1531905809, "creation_date": 1531819452, "question_id": 51377718, "link": "https://stackoverflow.com/questions/51377718/in-kotlin-how-do-i-chain-an-arbitrary-number-of-functions", "title": "In Kotlin, how do I chain an arbitrary number of functions", "body": "<p>In Kotlin, how do I apply an arbitrary number of mapping functions to a given input in a way that passes the output of each mapping function as the input to the next function?</p>\n\n<p>e.g. </p>\n\n<pre><code>import org.junit.Test\nimport org.testng.Assert\n\n\nclass SomeTest {\n\n    @Test\n    fun testIt() {\n\n        // GIVEN a list of 2 items, all field values are zero\n        val items = listOf(Item(0, 0), Item(0,0))\n\n        // AND a function to increment field 1\n        val itemProcessor1: (Item) -&gt; Item = {item -&gt; item.copy(field1 =  item.field1.inc())}\n\n        // AND a function to increment field 2\n        val itemProcessor2: (Item) -&gt; Item = {item -&gt; item.copy(field2 =  item.field2.inc())}\n\n        // WHEN\n        val actual = applyProcessors(items, listOf(itemProcessor1, itemProcessor2))\n\n        // THEN we expect all fields to be incremented\n        val expected = listOf(Item(1, 1), Item(1, 1))\n        Assert.assertEquals(expected, actual)\n\n    }\n\n    private fun applyProcessors(items: List&lt;Item&gt;, itemProcessors: List&lt;(Item) -&gt; Item&gt;): List&lt;Item&gt; {\n\n        // ??? How to combine the list of itemProcessor functions so that each processed Item is passed on to the next processor?\n        return items.map { it }\n\n    }\n\n}\n\ndata class Item(val field1: Int, val field2: Int)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 5155699, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Mexrubb7-iw/AAAAAAAAAAI/AAAAAAAAC3Q/SVh4PEivezc/photo.jpg?sz=128", "display_name": "Kristoph Matthews", "link": "https://stackoverflow.com/users/5155699/kristoph-matthews"}, "edited": false, "score": 1, "creation_date": 1554583105, "post_id": 51377183, "comment_id": 97807722, "body": "This is really helpful. Could you please explain your answer, like how you come up with the second line? I&#39;m new to Kotlin (and Java) and this construct is not so familiar to me. For example, why couldn&#39;t you just have the second argument be something like &lt;List&lt;Item&gt;&gt;.class ?"}, {"owner": {"reputation": 412, "user_id": 1227597, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a933647463239ed2a4d47c56c121fbb8?s=128&d=identicon&r=PG", "display_name": "Zagfai", "link": "https://stackoverflow.com/users/1227597/zagfai"}, "edited": false, "score": 0, "creation_date": 1612720785, "post_id": 51377183, "comment_id": 116849234, "body": "what if we don&#39;t know the type Item.? suck Java, Kotlin with JSON."}], "tags": [], "owner": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "is_accepted": true, "score": 39, "last_activity_date": 1531818382, "last_edit_date": 1531818382, "creation_date": 1531817958, "answer_id": 51377183, "question_id": 51376954, "link": "https://stackoverflow.com/questions/51376954/how-to-use-gson-deserialize-to-arraylist-in-kotlin/51377183#51377183", "title": "How to use gson deserialize to ArrayList in Kotlin", "body": "<p>Try this code for deserialize list </p>\n\n<pre><code>val gson = Gson()\nval itemType = object : TypeToken&lt;List&lt;Item&gt;&gt;() {}.type\nitemList = gson.fromJson&lt;List&lt;Item&gt;&gt;(itemListJsonString, itemType)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 1, "last_activity_date": 1617608106, "last_edit_date": 1617608106, "creation_date": 1582657404, "answer_id": 60401548, "question_id": 51376954, "link": "https://stackoverflow.com/questions/51376954/how-to-use-gson-deserialize-to-arraylist-in-kotlin/60401548#60401548", "title": "How to use gson deserialize to ArrayList in Kotlin", "body": "<p>In my code I just use:</p>\n<pre><code>import com.google.gson.Gson\nGson().fromJson(string_var, Array&lt;Item&gt;::class.java).toList() as ArrayList&lt;Type&gt;\n</code></pre>\n<p>I give here a complete example.</p>\n<p>First the type and the list array:</p>\n<pre><code>class Item(var name:String,\n           var description:String?=null)\nvar itemList = ArrayList&lt;Item&gt;()\n</code></pre>\n<p>The main code:</p>\n<pre><code>itemList.add( Item(&quot;Ball&quot;,&quot;round stuff&quot;))\nitemList.add(Item(&quot;Box&quot;,&quot;parallelepiped stuff&quot;))\nval striJSON = Gson().toJson(itemList)  // To JSON\nval backList  = Gson().fromJson(        // Back to another variable\n       striJSON, Array&lt;Item&gt;::class.java).toList() as ArrayList&lt;Item&gt;\nval striJSONBack = Gson().toJson(backList)  // To JSON again\nif (striJSON==striJSONBack)   println(&quot;***ok***&quot;)\n</code></pre>\n<p>The exit:</p>\n<pre><code>***OK***\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6835, "user_id": 6305235, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kEy0G.jpg?s=128&g=1", "display_name": "David Miguel", "link": "https://stackoverflow.com/users/6305235/david-miguel"}, "is_accepted": false, "score": 0, "last_activity_date": 1601383592, "creation_date": 1601383592, "answer_id": 64119951, "question_id": 51376954, "link": "https://stackoverflow.com/questions/51376954/how-to-use-gson-deserialize-to-arraylist-in-kotlin/64119951#64119951", "title": "How to use gson deserialize to ArrayList in Kotlin", "body": "<p>You can define a inline reified extension function like:</p>\n<pre><code>internal inline fun &lt;reified T&gt; Gson.fromJson(json: String) =\n    fromJson&lt;T&gt;(json, object : TypeToken&lt;T&gt;() {}.type)\n</code></pre>\n<p>And use it like:</p>\n<pre><code>val itemList: List&lt;Item&gt; = gson.fromJson(itemListJsonString)\n</code></pre>\n<p>By default, types are erased at runtime, so Gson cannot know which kind of <code>List</code> it has to deserialize. However, when you declare the type as <code>reified</code> you preserve it at runtime. So now Gson has enough information to deserialize the <code>List</code> (or any other generic Object).</p>\n"}], "owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8804, "favorite_count": 1, "accepted_answer_id": 51377183, "answer_count": 3, "score": 12, "last_activity_date": 1617608106, "creation_date": 1531817256, "question_id": 51376954, "link": "https://stackoverflow.com/questions/51376954/how-to-use-gson-deserialize-to-arraylist-in-kotlin", "title": "How to use gson deserialize to ArrayList in Kotlin", "body": "<p>I use this class to store data</p>\n\n<pre><code>public class Item(var name:String,\n                  var description:String?=null){\n}\n</code></pre>\n\n<p>And use it in ArrayList</p>\n\n<pre><code>public var itemList = ArrayList&lt;Item&gt;()\n</code></pre>\n\n<p>Use this code to serialize the object</p>\n\n<pre><code>val gs=Gson()\nval itemListJsonString = gs.toJson(itemList)\n</code></pre>\n\n<p>And deserialize</p>\n\n<pre><code>itemList = gs.fromJson&lt;ArrayList&lt;Item&gt;&gt;(itemListJsonString, ArrayList::class.java)\n</code></pre>\n\n<p>But this method will give me <code>LinkedTreeMap</code>, not <code>Item</code>, I cannot cast LinkedTreeMap to Item</p>\n\n<p>What is correct way to deserialize to json in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1531818708, "post_id": 51375329, "comment_id": 89726437, "body": "The code provided does not imply you&#39;d get two calls of <code>firstCall</code> so you have likely a mistake in your original code. You call <code>firstCall</code> twice or you have a copy-paste error in <code>secondCall</code>&#39;s <code>.subscribe { }</code> invocation that calls <code>firstCall</code> back."}, {"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 0, "creation_date": 1531819347, "post_id": 51375329, "comment_id": 89726862, "body": "Your code works fine. Find all firstCall usages, you are probably calling firstCall twice somewhere in your code."}], "answers": [{"comments": [{"owner": {"reputation": 7301, "user_id": 1812633, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TrUYx.jpg?s=128&g=1", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/1812633/sourabh"}, "edited": false, "score": 0, "creation_date": 1531819585, "post_id": 51377227, "comment_id": 89727027, "body": "While this is a good suggestion, this is not a solution to the problem"}], "tags": [], "owner": {"reputation": 296, "user_id": 9309499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b104a47eb0093c2a80d8675f216d7bc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaios", "link": "https://stackoverflow.com/users/9309499/vaios"}, "is_accepted": false, "score": -1, "last_activity_date": 1531818047, "creation_date": 1531818047, "answer_id": 51377227, "question_id": 51375329, "link": "https://stackoverflow.com/questions/51375329/why-rxjavas-subscribe-method-called-multiple-times/51377227#51377227", "title": "Why RxJava&#39;s &quot;subscribe&quot; method called multiple times?", "body": "<p>You should use switchIfEmpty operator and not use an if statement in the subscription. Basically you make two subscriptions</p>\n"}, {"tags": [], "owner": {"reputation": 217, "user_id": 2226731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4WEgw.jpg?s=128&g=1", "display_name": "moji", "link": "https://stackoverflow.com/users/2226731/moji"}, "is_accepted": false, "score": 1, "last_activity_date": 1560823349, "creation_date": 1560823349, "answer_id": 56640863, "question_id": 51375329, "link": "https://stackoverflow.com/questions/51375329/why-rxjavas-subscribe-method-called-multiple-times/56640863#56640863", "title": "Why RxJava&#39;s &quot;subscribe&quot; method called multiple times?", "body": "<p>You need to use 'Maybe' instead of 'Flowable' for your case.</p>\n\n<p>Using Flowable, if you again add new data or update your previous inserted object, Flowable object will emit automatically and will call subscribe method again:</p>\n\n<p>This change might fix your code:</p>\n\n<pre><code>@Dao\ninterface UserDao {\n\n    @Query(\"SELECT * FROM user ORDER BY id DESC\")\n    fun getUsers(): Maybe&lt;List&lt;User&gt;&gt;\n\n}\n</code></pre>\n\n<p>For more information about Flowable, Single, and Maybe look at the article below\"\n<a href=\"https://medium.com/mindorks/room-implementation-with-rxjava-746f8ba39d19\" rel=\"nofollow noreferrer\">Room implementation with RxJava</a></p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1560823349, "creation_date": 1531811686, "last_edit_date": 1531924472, "question_id": 51375329, "link": "https://stackoverflow.com/questions/51375329/why-rxjavas-subscribe-method-called-multiple-times", "title": "Why RxJava&#39;s &quot;subscribe&quot; method called multiple times?", "body": "<p>I am developing an Android app using RxJava.\nFor example, I want to get some user data from the local database.\nBut if the local database has no users, I should get the users using the REST API.</p>\n\n<pre><code>class Presenter {\n    val mDisposable = CompositeDisposable()\n\n    override fun getUsersFromLocal() {\n        Log.d(\"TAG\", \"This is called just one\")\n        mDisposable.add(localDatabase.userDao().getUsers()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe { // This \"subscribe\" is the problem. Here is called multiple......\n                Log.d(\"TAG\", \"This subscribe is called multiple, It called more than 10 times\")\n                if (it.isEmpty()) {\n                    secondCall()\n                } else {\n                    view.onUsersLoaded(it)\n                }\n            })\n    }\n\n    override fun getUsersFromRemote() {\n        mDisposable.add(restApi.getUsers()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe {\n                saveLocal(it) // If I remove just this line, subscribe is called once. (works fine)\n                view.onUsersLoaded(it)\n            })\n    }\n}\n</code></pre>\n\n<p>I am using the nested(?) RxJava.\nI don't know why the firstCall's subscribe method is called multiple...\nIf I remove \"secondCall()\" method and logic, \"subscribe\" just calls once.</p>\n\n<hr>\n\n<p>I found one clue.\nThe \"saveLocal\" method is running in background thread.</p>\n\n<pre><code>    private fun saveLocal(users: List&lt;User&gt;) {\n        users.forEach {\n            appExecutors.diskIo.execute {\n                localDatabase.userDao().saveUser(it)\n            }\n        }\n    }\n</code></pre>\n\n<p>I changed upper origin code to below.</p>\n\n<pre><code>    private fun saveLocal(users: List&lt;User&gt;) {\n        appExecutors.diskIo.execute {\n            localDatabase.userDao().saveUsers(users)\n        }\n    }\n</code></pre>\n\n<p>After changed, the \"subscribe\" is called just twice.\nYes, it still has the problem.\nBut before that, the \"subscribe\" was called multiple times. (I think it was called as much as the \"users\" size.)</p>\n\n<hr>\n\n<p>I added \"UserDao class\" and \"RestApi class\" code too.</p>\n\n<pre><code>import android.arch.persistence.room.*\nimport io.reactivex.Flowable\nimport io.reactivex.Single\n\n@Dao\ninterface UserDao {\n\n    @Query(\"SELECT * FROM user ORDER BY id DESC\")\n    fun getUsers(): Flowable&lt;List&lt;User&gt;&gt;\n\n}\n</code></pre>\n\n<p>And here is the \"RestApiService class\".</p>\n\n<pre><code>import io.reactivex.Observable\n\ninterface RestApiService {\n    @Headers(API_HEADER_AUTHORIZATION, API_HEADER_ACCEPT)\n    @GET(\"/users\")\n    fun getUsers(): Observable&lt;UserList&gt; // UserList class has a list of the user\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1531810919, "post_id": 51374871, "comment_id": 89721655, "body": "try &#39;execute command&#39; mode and find out what the current value it says."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1531814636, "creation_date": 1531814636, "answer_id": 51376202, "question_id": 51374871, "link": "https://stackoverflow.com/questions/51374871/zero-value-after-build-in-kotlin/51376202#51376202", "title": "zero value after build in kotlin", "body": "<p>When you define variables with initializers, the Kotlin compiler will generate a constructor which will execute all the initializers in sequence. Before the initializers are executed, the values of the corresponding fields will be 0, and this is the state that is shown on your screenshot.</p>\n\n<p>For values such as <code>IMEOPTIONS_ACTION_DONE</code>, which seem to be constants, you shouldn't use regular class properties. Instead, you should put them into a <code>companion object</code> or on the top level of a file.</p>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51376202, "answer_count": 1, "score": -2, "last_activity_date": 1531814636, "creation_date": 1531809973, "question_id": 51374871, "link": "https://stackoverflow.com/questions/51374871/zero-value-after-build-in-kotlin", "title": "zero value after build in kotlin", "body": "<p>in my class extend ConstraintLayout. I have defined val-type variables in the class. \nAfter running the program in the debug mode, I see that all the variables are zero.\nWhy is this going to happen?</p>\n\n<p><a href=\"https://i.stack.imgur.com/a17lS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a17lS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "arraylist", "kotlin", "android-viewpager"], "answers": [{"tags": [], "owner": {"reputation": 424, "user_id": 5084056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2EZ9HGZvMDU/AAAAAAAAAAI/AAAAAAAAA9k/znRbVRIEI0E/photo.jpg?sz=128", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5084056/arvind"}, "is_accepted": true, "score": 1, "last_activity_date": 1531908186, "last_edit_date": 1531908186, "creation_date": 1531805620, "answer_id": 51373859, "question_id": 51373788, "link": "https://stackoverflow.com/questions/51373788/add-in-arraylist-automaticlly-and-error-while-try-to-clear-arraylist/51373859#51373859", "title": "add in arraylist automaticlly and error while try to clear() arraylist", "body": "<p>Call notifyDataSetChanged after clearing the ArrayList.</p>\n\n<p>Whenever you add/remove the item from the list or modifying the size of the list, you have to call notifyDataSetChanged() to see the changes in the recycler view.</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    Common.examqueList?.clear()\n    adapter.notifyDataSetChanged();\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1531805706, "accepted_answer_id": 51373859, "answer_count": 1, "score": 0, "last_activity_date": 1531908186, "creation_date": 1531805301, "question_id": 51373788, "link": "https://stackoverflow.com/questions/51373788/add-in-arraylist-automaticlly-and-error-while-try-to-clear-arraylist", "closed_reason": "Duplicate", "title": "add in arraylist automaticlly and error while try to clear() arraylist", "body": "<p>In my module ,I pass arraylist threw intent. but when i open my activity it added automatic. When i try to clear my arraylist in onResume() of parent activity it seems this type of error :- </p>\n\n<blockquote>\n  <p>The application's PagerAdapter changed the adapter's contents without calling PagerAdapter#notifyDataSetChanged!</p>\n</blockquote>\n\n<p>My code is here :- </p>\n\n<p>This is <strong>PreExamActivity.kt</strong> here click event of exam start Button.</p>\n\n<pre><code>startExam.setOnClickListener {\n        //getMarks()\n        calculation()\n        Common.examqueList = null\n        if (numOfQueInSelectedChapter &gt; totalQuestion) {\n            val intent = Intent(this, ExamActivity::class.java)\n            Common.examqueList = examQueList\n            startActivity(intent)\n        } else {\n            Toast.makeText(this, \"Check yr question\", Toast.LENGTH_SHORT).show()\n        }\n    }\n\noverride fun onResume() {\n    super.onResume()\n    Common.examqueList?.clear()\n}\n</code></pre>\n\n<p>Here is my ExamActivity.kt** :-</p>\n\n<pre><code>    queArray = Common.examqueList\n    val adpter: PagerAdapter = ExamQuestionPageView(this, queArray!!, question_img_path)\n    qPager.adapter = adpter\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 4, "last_activity_date": 1531805030, "creation_date": 1531805030, "answer_id": 51373735, "question_id": 51373574, "link": "https://stackoverflow.com/questions/51373574/return-is-not-allowed-here-kotlin-coroutine-launchui-block/51373735#51373735", "title": "&#39;return&#39; is not allowed here: Kotlin Coroutine launch(UI) block", "body": "<p>You must create a label to which you apply the return statement, like <code>return@label</code>:</p>\n\n<pre><code>fun onYesClicked(view: View) {\n\n    label@launch(UI) {\n        val res = post(context!!,\"deleteRepo\")\n\n        if(res==null) return@label                   //this line changed &lt;---A\n\n        fetchCatalog(context!!)              //moved outside if block\n        catalogActivityCatalog?.refresh()    //moved outside if block\n    }\n}\n</code></pre>\n\n<p>This is the Kotlin way to return from a lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 10, "last_activity_date": 1531805195, "creation_date": 1531805195, "answer_id": 51373769, "question_id": 51373574, "link": "https://stackoverflow.com/questions/51373574/return-is-not-allowed-here-kotlin-coroutine-launchui-block/51373769#51373769", "title": "&#39;return&#39; is not allowed here: Kotlin Coroutine launch(UI) block", "body": "<p>The destination of the return has to be specified using <code>return@...</code></p>\n\n<pre><code>fun onYesClicked(view: View) {\n\n    launch(UI) {\n        val res = post(context!!,\"deleteRepo\")\n\n        if(res==null)return@launch     //return at launch\n\n        fetchCatalog(context!!)              \n        catalogActivityCatalog?.refresh()    \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 906, "user_id": 2495720, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5bf71ad084453ed0c399b846ac5f1977?s=128&d=identicon&r=PG", "display_name": "SadeepDarshana", "link": "https://stackoverflow.com/users/2495720/sadeepdarshana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2461, "favorite_count": 1, "accepted_answer_id": 51373769, "answer_count": 2, "score": 4, "last_activity_date": 1531805195, "creation_date": 1531803954, "question_id": 51373574, "link": "https://stackoverflow.com/questions/51373574/return-is-not-allowed-here-kotlin-coroutine-launchui-block", "title": "&#39;return&#39; is not allowed here: Kotlin Coroutine launch(UI) block", "body": "<pre><code>fun onYesClicked(view: View) {\n\n    launch(UI) {\n        val res = post(context!!,\"deleteRepo\")\n\n        if(res!=null){\n            fetchCatalog(context!!)\n            catalogActivityCatalog?.refresh()\n        }\n    }\n}\n</code></pre>\n\n<p>Above code is working fine. I want to avoid the nested part in the if by returning (thereby stopping execution) if <code>res == null</code>, like this,</p>\n\n<pre><code>fun onYesClicked(view: View) {\n\n    launch(UI) {\n        val res = post(context!!,\"deleteRepo\")\n\n        if(res==null)return                  //this line changed &lt;---A\n\n        fetchCatalog(context!!)              //moved outside if block\n        catalogActivityCatalog?.refresh()    //moved outside if block\n    }\n}\n</code></pre>\n\n<p>It says 'return' is not allowed here when I use return in the line indicated by &lt;--A</p>\n\n<p>Is there a keyword to exit <code>launch</code> block in here?\nWhat is the alternative that can be used here instead of return?</p>\n"}, {"tags": ["android", "android-layout", "android-studio", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7232325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oHCDxv5tj9M/AAAAAAAAAAI/AAAAAAAAAng/HGQIFJEW6zc/photo.jpg?sz=128", "display_name": "Batuhan Canl\u0131t&#252;rk", "link": "https://stackoverflow.com/users/7232325/batuhan-canl%c4%b1t%c3%bcrk"}, "is_accepted": false, "score": 0, "last_activity_date": 1531818239, "creation_date": 1531818239, "answer_id": 51377294, "question_id": 51373513, "link": "https://stackoverflow.com/questions/51373513/tap-a-text-and-display-a-popup-message-in-android-studio/51377294#51377294", "title": "Tap a text and display a popup message in android studio", "body": "<p>First set the textView attributes in xml:</p>\n\n<pre><code>android:onClick=\"onClick\"\nandroid:clickable=\"true\"\n</code></pre>\n\n<p>Add click function to your activity with the Toast inside:</p>\n\n<pre><code>public class MyActivity extends Activity {\n\n      public void onClick(View v) {\n        Toast.makeText(getActivity(), textView.getString(),\n   Toast.LENGTH_LONG).show();\n      }  \n   }    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 3828100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a68609325461046a6fae09ee7fc5d62?s=128&d=identicon&r=PG&f=1", "display_name": "Theophrast", "link": "https://stackoverflow.com/users/3828100/theophrast"}, "is_accepted": false, "score": 0, "last_activity_date": 1531819301, "last_edit_date": 1531819301, "creation_date": 1531818860, "answer_id": 51377501, "question_id": 51373513, "link": "https://stackoverflow.com/questions/51373513/tap-a-text-and-display-a-popup-message-in-android-studio/51377501#51377501", "title": "Tap a text and display a popup message in android studio", "body": "<p>Find your TextView in  your activity, and add onClickListener\nand show a dialog with textviews content</p>\n\n<pre><code>TextView myTextView = (TextView)addView.findViewById(R.id.my_textview_id);\n\nmyTextView.setOnClickListener(new OnClickListener() {\n@Override\n public void onClick(View v) {\n    String stringFromTextView = ((TextView)v).getText().toString();\n   showAlertDialog(stringFromTextView);\n }\n});\n\nprivate void showAlertDialog(String stringToShow){\n   AlertDialog.Builder builder1 = new AlertDialog.Builder(context);\n   builder1.setMessage(stringToShow);\n   builder1.setCancelable(true);\n\n   AlertDialog alert11 = builder1.create();\n   alert11.show();\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531818896, "creation_date": 1531818896, "answer_id": 51377516, "question_id": 51373513, "link": "https://stackoverflow.com/questions/51373513/tap-a-text-and-display-a-popup-message-in-android-studio/51377516#51377516", "title": "Tap a text and display a popup message in android studio", "body": "<p>You can use a simple dialog with no buttons. The user can tap anywhere outside to dismiss it:</p>\n\n<pre><code>        val ad = AlertDialog.Builder(context).create()\n        ad.setMessage(\"Text\")\n        ad.setCancelable(true)\n        ad.show()\n</code></pre>\n\n<p>You need to pass <code>context</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "is_accepted": true, "score": 1, "last_activity_date": 1531819201, "creation_date": 1531819201, "answer_id": 51377637, "question_id": 51373513, "link": "https://stackoverflow.com/questions/51373513/tap-a-text-and-display-a-popup-message-in-android-studio/51377637#51377637", "title": "Tap a text and display a popup message in android studio", "body": "<p>I found a way to do it using <code>AlertDialog</code>. The code snippet that was useful for me is given below.</p>\n\n<pre><code>val mAlertDialogTextView = holder?.view?.textView_subtopic_title //textView_subtopic_title is the view of my choice which needs to popup a message.\n            mAlertDialogTextView?.setOnClickListener {\n                val mAlertDialog = AlertDialog.Builder(context)\n                mAlertDialog.setMessage(key.toString())\n                mAlertDialog.setNegativeButton(\"cancel\",{ dialogInterface: DialogInterface, i: Int -&gt; dialogInterface.dismiss()})\n                mAlertDialog.show()\n            }\n</code></pre>\n\n<p>Thank you all for the support.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2530, "favorite_count": 0, "accepted_answer_id": 51377637, "answer_count": 4, "score": 0, "last_activity_date": 1531819301, "creation_date": 1531803601, "last_edit_date": 1531808133, "question_id": 51373513, "link": "https://stackoverflow.com/questions/51373513/tap-a-text-and-display-a-popup-message-in-android-studio", "title": "Tap a text and display a popup message in android studio", "body": "<p>I have some text in my app that I created in android studio using kotlin. For this app I want to keep a Pop up message such that I tap the text, a small pop up shows me the same text in that pop up. I am using recyclerview. A snapshot of the UI is shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oQi7Hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQi7Hm.png\" alt=\"UI\"></a> </p>\n\n<p>So, I should be able to tap the text and get a pop-up message containing the same text. Since I am an amateur to android studio, I need some help on this. I've been searching and found solutions like <code>Dialog</code> and <code>AlertDialog</code> but I don't know how they should be used in this scenario. By the way there is no button here, it's a simple textView.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["java", "loops", "kotlin", "continue"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1531805382, "creation_date": 1531805382, "answer_id": 51373802, "question_id": 51373484, "link": "https://stackoverflow.com/questions/51373484/continue-in-a-run-block-in-kotlin/51373802#51373802", "title": "Continue in a run block in Kotlin", "body": "<p>Without modifying your code too much, just use the good old <code>if</code></p>\n\n<pre><code>for (group in groups) {\n    val groupName = group.name\n\n    if (groupName == null) {\n        warn(\"Group name is null for group ${group.id}!\")\n        continue\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 0, "last_activity_date": 1531833404, "last_edit_date": 1531833404, "creation_date": 1531805692, "answer_id": 51373875, "question_id": 51373484, "link": "https://stackoverflow.com/questions/51373484/continue-in-a-run-block-in-kotlin/51373875#51373875", "title": "Continue in a run block in Kotlin", "body": "<p>The same java code can be implemented like this.</p>\n\n<pre><code>for (group in groups) {\n    val groupName = group.name\n    if(groupName == nul){\n      warn(\"Group name is null for group ${group.id}!\")\n      continue\n    }\n    ...\n}\n</code></pre>\n\n<p>However, you can continue to top loop or other loops in <strong>Kotlin</strong> by giving labels.</p>\n\n<pre><code>loop@ for (i in 1..100) {\n    for (j in 1..100) {\n        if (...) continue@loop\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>You can't implement <code>continue</code> in lambda functions. But you can use <code>return</code> alternatively. </p>\n\n<pre><code>fun foo() {\n    listOf(1, 2, 3, 4, 5).forEach lit@{\n        if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop\n        print(it)\n    }\n    print(\" done with explicit label\")\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1245 done with explicit label\n</code></pre>\n\n<p><strong>Reference:</strong>\n<a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/returns.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "is_accepted": false, "score": 1, "last_activity_date": 1531812588, "creation_date": 1531812588, "answer_id": 51375600, "question_id": 51373484, "link": "https://stackoverflow.com/questions/51373484/continue-in-a-run-block-in-kotlin/51375600#51375600", "title": "Continue in a run block in Kotlin", "body": "<p>Normally <code>continue</code> can be also emulated via <code>::filter</code>.</p>\n\n<p>But since in this case you need also a warning, this makes the classic <code>for</code> the best solution.</p>\n\n<p>However there are some alternatives.</p>\n\n<pre><code>groups.filter { group -&gt; when(group.name) {\n        null -&gt; {\n            warn(\"Group name is null for group ${group.id}!\")\n            false\n        }\n        else -&gt; true\n    }.for Each {\n        ...\n    }\n}\n</code></pre>\n\n<p>Or use <code>return@forEach</code>.</p>\n\n<p>But again, in this case a classic <code>for</code> is the best solution</p>\n"}, {"tags": [], "owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "is_accepted": false, "score": 0, "last_activity_date": 1532067999, "creation_date": 1532067999, "answer_id": 51436291, "question_id": 51373484, "link": "https://stackoverflow.com/questions/51373484/continue-in-a-run-block-in-kotlin/51436291#51436291", "title": "Continue in a run block in Kotlin", "body": "<p>I think I found a very satisfying and idiomatic solution:</p>\n\n<pre><code>groups.forEach { group -&gt;\n    val groupName = group.name ?: run {\n        warn(\"Group name is null for group ${group.id}!\")\n        return@forEach\n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1532067999, "creation_date": 1531803486, "last_edit_date": 1531805968, "question_id": 51373484, "link": "https://stackoverflow.com/questions/51373484/continue-in-a-run-block-in-kotlin", "title": "Continue in a run block in Kotlin", "body": "<p>I'm trying to convert the following Java code to Kotlin in an idiomatic way:</p>\n\n<pre><code>for (Group group : groups) {\n    String groupName = group.getName();\n    if (groupName == null) {\n        warn(\"Group name is null for group \" + group.getId());\n        continue;\n    }\n    ...\n}\n</code></pre>\n\n<p>I tried the following</p>\n\n<pre><code>for (group in groups) {\n    val groupName = group.name ?: run {\n        warn(\"Group name is null for group ${group.id}!\")\n        continue\n    }\n    ...\n}\n</code></pre>\n\n<p>However this will not compile with the error: </p>\n\n<blockquote>\n  <p>'break' or 'continue' jumps across a function or class boundary</p>\n</blockquote>\n\n<p>So my question is, is there a better way to write this in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "imageview", "tint"], "comments": [{"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1531790588, "post_id": 51371804, "comment_id": 89715894, "body": "I tried the code and call <code>imgHeart.imageTintList = null</code> after <code>imgHeart.setImageDrawable</code> exactly cleared the tint, I think there must be some problems elsewhere."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531806200, "post_id": 51371804, "comment_id": 89719373, "body": "Do you need all 3 icons, or only the last 2?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531808540, "last_edit_date": 1531808540, "creation_date": 1531807095, "answer_id": 51374183, "question_id": 51371804, "link": "https://stackoverflow.com/questions/51371804/imageview-remove-tint-color/51374183#51374183", "title": "ImageView remove tint color?", "body": "<p>The selected drawable is a completely different drawable than the other 2. You can't tint <code>baseline_favorite_border_24</code> to look like the selected one, you can tint only the borders and can't fill it with color. By the way <code>imageTintList</code> requires <code>API 21+</code>.  <br/>So use 2 drawables(you don't need to download them, they exist in Android Studio), name the selected one as <code>baseline_favorite_filled_24</code> and toggle between them.</p>\n\n<pre><code>if (isSelected) {\n    isSelected = false\n    imgHeart.setImageDrawable(itemView.context.getDrawable(R.drawable.baseline_favorite_border_24))\n} else {\n    isSelected = true\n    imgHeart.setImageDrawable(itemView.context.getDrawable(R.drawable.baseline_favorite_filled_24))\n}\n</code></pre>\n"}], "owner": {"reputation": 1475, "user_id": 5693082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faaab1b925d46aed09b42526914ca38?s=128&d=identicon&r=PG&f=1", "display_name": "dotGitignore", "link": "https://stackoverflow.com/users/5693082/dotgitignore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1645, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531808540, "creation_date": 1531788963, "question_id": 51371804, "link": "https://stackoverflow.com/questions/51371804/imageview-remove-tint-color", "title": "ImageView remove tint color?", "body": "<p>Before I decided to ask it, I search some <a href=\"https://stackoverflow.com/questions/45205042/remove-tint-color-programmatically-in-android\">Remove Tint Color Programmatically</a>, but it marked as duplicate so I didn't know if this is also a duplicate or not? because it didn't answer my question, I think.</p>\n\n<p>Because I am asking also if is it possible to <strong>RESET</strong> or <strong>REMOVE</strong> the tint of <code>ImageView</code> after changing the <code>drawable</code>.</p>\n\n<p>This is the normal image</p>\n\n<p><a href=\"https://i.stack.imgur.com/ommvg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ommvg.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the selected image</p>\n\n<p><a href=\"https://i.stack.imgur.com/PT0yc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PT0yc.png\" alt=\"enter image description here\"></a></p>\n\n<p>and this is the normal image again after deselecting the image</p>\n\n<p><a href=\"https://i.stack.imgur.com/FEXLe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEXLe.png\" alt=\"enter image description here\"></a></p>\n\n<p>and this is my code.</p>\n\n<pre><code>if (isSelected) {\n    // Reset the ImageView to normal\n    isSelected = false\n    imgHeart.setImageDrawable(itemView.context.getDrawable(R.drawable.baseline_favorite_border_24))\n} else {\n    // Tint ImageView to Red\n    isSelected = true\n    imgHeart.setImageDrawable(itemView.context.getDrawable(R.drawable.baseline_favorite_24))\n    imgHeart.imageTintList = ColorStateList.valueOf(ContextCompat.getColor(itemView.context, R.color.colorRedHeart))\n}\n</code></pre>\n\n<p>I also try the <code>imgHeart.imageTintList = null</code> but the image is turning into white or disappear.\nI also try the <code>imgHeart.colorFilter = null</code> but the image is do nothing and turning into the last image.</p>\n\n<p>I am using the <a href=\"https://material.io/tools/icons/?icon=favorite&amp;style=baseline\" rel=\"nofollow noreferrer\">Material Design Icon</a>.</p>\n\n<p>What I want to bring back the image into normal <strong><code>drawable</code></strong> as you see in the first image.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "kotlin", "android-fileprovider"], "comments": [{"owner": {"reputation": 164, "user_id": 3186888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710bb9818ec78d1e98f43a6123bbf035?s=128&d=identicon&r=PG&f=1", "display_name": "Shashwat", "link": "https://stackoverflow.com/users/3186888/shashwat"}, "edited": false, "score": 0, "creation_date": 1531789482, "post_id": 51371727, "comment_id": 89715690, "body": "I fixed it myself. Instead of doing val dir:File = cw.getDir(&quot;profile&quot;, Context.MODE_PRIVATE)"}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 3186888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710bb9818ec78d1e98f43a6123bbf035?s=128&d=identicon&r=PG&f=1", "display_name": "Shashwat", "link": "https://stackoverflow.com/users/3186888/shashwat"}, "is_accepted": true, "score": 0, "last_activity_date": 1531789680, "creation_date": 1531789680, "answer_id": 51371872, "question_id": 51371727, "link": "https://stackoverflow.com/questions/51371727/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains/51371872#51371872", "title": "java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/", "body": "<p>I fixed it myself. Instead of doing </p>\n\n<pre><code>val dir:File = cw.getDir(\"profile\", Context.MODE_PRIVATE)\n</code></pre>\n\n<p>I had to do </p>\n\n<pre><code>val dir:File = cw.filesDir\n</code></pre>\n\n<p>Which returns the correct /files/ directory.\nNow everything is working fine.</p>\n"}, {"tags": [], "owner": {"reputation": 3866, "user_id": 1664556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/301ced2f5f11eb00948a8ed4b18303ec?s=128&d=identicon&r=PG", "display_name": "rockgecko", "link": "https://stackoverflow.com/users/1664556/rockgecko"}, "is_accepted": false, "score": 0, "last_activity_date": 1554039712, "creation_date": 1554039712, "answer_id": 55441520, "question_id": 51371727, "link": "https://stackoverflow.com/questions/51371727/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains/55441520#55441520", "title": "java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/", "body": "<p>I checked the source of <code>FileProvider</code>, and found an undocumented solution:</p>\n\n<p><code>&lt;root-path name=\"root_files\" path=\".\" /&gt;</code></p>\n\n<p>This will apparently grant access to every dir your app can access. Probably not the safest (especially if you already have <code>WRITE_EXTERNAL_STORAGE</code>), but it <em>will</em> let you share files located under <code>context.getDir()</code>, which is otherwise impossible. </p>\n\n<p>Probably the better solution tho is to copy or move your files under <code>context.getFilesDir()</code>, if you can.</p>\n"}], "owner": {"reputation": 164, "user_id": 3186888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710bb9818ec78d1e98f43a6123bbf035?s=128&d=identicon&r=PG&f=1", "display_name": "Shashwat", "link": "https://stackoverflow.com/users/3186888/shashwat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 1, "accepted_answer_id": 51371872, "answer_count": 2, "score": 1, "last_activity_date": 1554039712, "creation_date": 1531788249, "last_edit_date": 1531788752, "question_id": 51371727, "link": "https://stackoverflow.com/questions/51371727/java-lang-illegalargumentexception-failed-to-find-configured-root-that-contains", "title": "java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/", "body": "<p>I am trying to use ACTION_IMAGE_CAPTURE intent to capture an image and then save it to /data/data/**/app_profile/profile_picture.jpg\nI call the intent with the following code:</p>\n\n<pre><code>val cw = ContextWrapper(this@UserActivity.applicationContext)\nval dir:File = cw.getDir(\"profile\", Context.MODE_PRIVATE)\n\noutput = File(dir, \"/profile_picture.jpg\")\nintent = Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE)\n\n**val newPhotoUri = FileProvider.getUriForFile(applicationContext, \"$packageName.fileprovider\", output)**\n\nintent.putExtra(MediaStore.EXTRA_OUTPUT, newPhotoUri)\nstartActivityForResult(intent, REQUEST_CAMERA)\n\nLog.e(TAG, \"output: ${output.absolutePath}\") ///data/user/0/**/app_profile/profile_picture.jpg\n</code></pre>\n\n<p>But I get the following crash on <code>FileProvider.getUriForFile()</code></p>\n\n<pre><code>java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/**/app_profile/profile_picture.jpg\n    at android.support.v4.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:739)\n    at android.support.v4.content.FileProvider.getUriForFile(FileProvider.java:418)\n    at **.UserActivity.takePhoto(UserActivity.kt:147)\n</code></pre>\n\n<p>I have the following set in Manifest:</p>\n\n<pre><code>&lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"**.fileprovider\"\n        android:grantUriPermissions=\"true\"\n        android:exported=\"false\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/filepaths\" /&gt;\n&lt;/provider&gt;\n</code></pre>\n\n<p>My filepaths.xml:</p>\n\n<pre><code>&lt;paths&gt;\n    &lt;files-path name=\"app_profile\" path=\".\" /&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>I have already tried </p>\n\n<pre><code>&lt;files-path name=\"app_profile\" path=\"app_profile/\" /&gt;\n</code></pre>\n\n<p>and a lot of other combinations.\nCan someone guide me through?</p>\n"}, {"tags": ["kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 2213, "user_id": 1490636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FMa7z.jpg?s=128&g=1", "display_name": "Maksim Kostromin", "link": "https://stackoverflow.com/users/1490636/maksim-kostromin"}, "is_accepted": false, "score": 1, "last_activity_date": 1531796668, "creation_date": 1531796668, "answer_id": 51372653, "question_id": 51371197, "link": "https://stackoverflow.com/questions/51371197/can-mockito-be-used-to-match-parameters-that-are-functions-in-kotlin/51372653#51372653", "title": "Can Mockito be used to match parameters that are functions in Kotlin?", "body": "<p>Mockito often returns <code>null</code> when calling methods like <code>any()</code>, <code>eq()</code> etcetera. Passing these instances to methods that are not properly mocked, can cause <code>NullPointerExceptions</code></p>\n\n<p>see: <a href=\"https://github.com/nhaarman/mockito-kotlin/wiki/Parameter-specified-as-non-null-is-null\" rel=\"nofollow noreferrer\">https://github.com/nhaarman/mockito-kotlin/wiki/Parameter-specified-as-non-null-is-null</a></p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1531868253, "post_id": 51373430, "comment_id": 89754651, "body": "I&#39;m trying to mock the object, not instantiate it."}], "tags": [], "owner": {"reputation": 115, "user_id": 5125880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/486e6c9c932cb04f66bd9027b679e4dd?s=128&d=identicon&r=PG&f=1", "display_name": "kai hello", "link": "https://stackoverflow.com/users/5125880/kai-hello"}, "is_accepted": false, "score": 0, "last_activity_date": 1531803190, "creation_date": 1531803190, "answer_id": 51373430, "question_id": 51371197, "link": "https://stackoverflow.com/questions/51371197/can-mockito-be-used-to-match-parameters-that-are-functions-in-kotlin/51373430#51373430", "title": "Can Mockito be used to match parameters that are functions in Kotlin?", "body": "<p>you can add </p>\n\n<pre><code>mockedObject = ObjectToMock()\n</code></pre>\n\n<p>@Before It is the place to initialize.\n@Test It is the place to test.you can call mockedObject.myFunc()</p>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "is_accepted": true, "score": 3, "last_activity_date": 1560788907, "creation_date": 1560788907, "answer_id": 56635395, "question_id": 51371197, "link": "https://stackoverflow.com/questions/51371197/can-mockito-be-used-to-match-parameters-that-are-functions-in-kotlin/56635395#56635395", "title": "Can Mockito be used to match parameters that are functions in Kotlin?", "body": "<p>The solution here is to use <code>anyOrNull</code> from <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">https://github.com/nhaarman/mockito-kotlin</a>, or implement that helper yourself.</p>\n"}], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 0, "accepted_answer_id": 56635395, "answer_count": 3, "score": 6, "last_activity_date": 1560788907, "creation_date": 1531782670, "question_id": 51371197, "link": "https://stackoverflow.com/questions/51371197/can-mockito-be-used-to-match-parameters-that-are-functions-in-kotlin", "title": "Can Mockito be used to match parameters that are functions in Kotlin?", "body": "<p>I have a function with a prototype similar to:</p>\n\n<pre><code>class objectToMock {\n\n    fun myFunc(stringArg: String, booleanArg: Boolean = false, functionArg: (String) -&gt; Any = { 0 }): String\n\n}\n</code></pre>\n\n<p>I'd like to be able to stub <code>myFunc</code> but can't figure out how to. Something like</p>\n\n<pre><code>@Mock\nlateinit var mockedObject: ObjectToMock\n\n@Before\nfun setup() {\n    MockitoAnnotations.initMocks(this)\n    `when`(mockedObject.myFunc(anyString(), anyBoolean(), any())).thenReturn(\"\")\n}\n</code></pre>\n\n<p>Using <code>any()</code> and <code>notNull()</code> both lead to <code>java.lang.IllegalStateException: any() must not be null</code></p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1531782794, "post_id": 51370715, "comment_id": 89714533, "body": "You&#39;re missing the stacktrace. It&#39;ll tell you where you&#39;ll find the issue."}, {"owner": {"reputation": 1029, "user_id": 3855470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1de9920967f586ccc74032b15b6193?s=128&d=identicon&r=PG&f=1", "display_name": "sunilson", "link": "https://stackoverflow.com/users/3855470/sunilson"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1531805539, "post_id": 51370715, "comment_id": 89719107, "body": "@tynn sorry, I added it to the post"}], "answers": [{"tags": [], "owner": {"reputation": 1029, "user_id": 3855470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1de9920967f586ccc74032b15b6193?s=128&d=identicon&r=PG&f=1", "display_name": "sunilson", "link": "https://stackoverflow.com/users/3855470/sunilson"}, "is_accepted": true, "score": 0, "last_activity_date": 1531808907, "creation_date": 1531808907, "answer_id": 51374574, "question_id": 51370715, "link": "https://stackoverflow.com/questions/51370715/custom-view-with-two-way-databinding/51374574#51374574", "title": "Custom View with Two-Way Databinding", "body": "<p>Ok, so my problem was that my custom view had incorrectly implemented the constructor functions. As I inflate this view in XML, I needed the constructor where I get passed the Attributeset to pass that Attributeset to the super constructor, which I did not do. Without that, my view had no attributes and could not be found via it's ID etc.</p>\n\n<p>Now I have two constructors, depending on if I inflate from XML or code:</p>\n\n<pre><code>constructor(context: Context, optional: Boolean) : super(context) {\n        ...\n    }\n\n    constructor(context: Context, attributeSet: AttributeSet) : super(context, attributeSet) {\n        ...\n    }\n</code></pre>\n"}], "owner": {"reputation": 1029, "user_id": 3855470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1de9920967f586ccc74032b15b6193?s=128&d=identicon&r=PG&f=1", "display_name": "sunilson", "link": "https://stackoverflow.com/users/3855470/sunilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1882, "favorite_count": 1, "accepted_answer_id": 51374574, "answer_count": 1, "score": 6, "last_activity_date": 1531808907, "creation_date": 1531778779, "last_edit_date": 1531805523, "question_id": 51370715, "link": "https://stackoverflow.com/questions/51370715/custom-view-with-two-way-databinding", "title": "Custom View with Two-Way Databinding", "body": "<p>I have a custom view that extends LinearLayout and inflates a Layout which contains a couple of Views.</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/voice_edittext\"\n        android:layout_width=\"0dp\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Add answer here\"\n        /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/microphone_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/ic_mic_black_24dp\"\n        /&gt;\n    &lt;ImageButton\n        android:id=\"@+id/delete_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/ic_cancel_black_24dp\"\n        android:visibility=\"gone\"\n        /&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I now want to two-way bind the text value of the Edittext when I use this view, like this:</p>\n\n<pre><code>&lt;com.sunilson.quizcreator.presentation.views.EditTextWithVoiceInput\n                android:id=\"@+id/form_question\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginBottom=\"10dp\"\n                android:layout_marginTop=\"10dp\"\n                app:editTextValue=\"@={viewModel.observableText}\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>For this I created some Binding Adapters</p>\n\n<pre><code>@BindingAdapter(\"editTextValueAttrChanged\")\nfun setListener(editTextWithVoiceInput: EditTextWithVoiceInput, listener: InverseBindingListener) {\n    editTextWithVoiceInput.voice_edittext.addTextChangedListener(object : TextWatcher {\n        override fun afterTextChanged(p0: Editable?) {\n            listener.onChange()\n        }\n\n        override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\n        override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {}\n    })\n}\n\n@BindingAdapter(\"editTextValue\")\nfun setTextValue(editTextWithVoiceInput: EditTextWithVoiceInput, value: String?) {\n    if (value != editTextWithVoiceInput.voice_edittext.text.toString()) editTextWithVoiceInput.voice_edittext.setText(value)\n}\n\n@InverseBindingAdapter(attribute = \"editTextValue\")\nfun getTextValue(editTextWithVoiceInput: EditTextWithVoiceInput): String? {\n    return editTextWithVoiceInput.voice_edittext.text.toString()\n}\n</code></pre>\n\n<p>This is the code of the view:</p>\n\n<pre><code>class EditTextWithVoiceInput(context: Context, attributeSet: AttributeSet) : LinearLayout(context, attributeSet) {\n\n    init {\n        val inflater = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val view = inflater.inflate(R.layout.voice_edittext, this, true)\n\n        view.microphone_button.setOnTouchListener { p0, p1 -&gt;\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>The problem now is that when the Fragment containing the view is started, I get this error: </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.sunilson.quizcreator, PID: 12627\n              java.lang.NullPointerException: Attempt to invoke virtual method 'void com.sunilson.quizcreator.presentation.views.EditTextWithVoiceInput.setTag(java.lang.Object)' on a null object reference\n                  at com.sunilson.quizcreator.databinding.FragmentAddQuestionBinding.&lt;init&gt;(FragmentAddQuestionBinding.java:112)\n                  at android.databinding.DataBinderMapperImpl.getDataBinder(DataBinderMapperImpl.java:15)\n                  at android.databinding.DataBindingUtil.bind(DataBindingUtil.java:199)\n                  at android.databinding.DataBindingUtil.inflate(DataBindingUtil.java:130)\n                  at android.databinding.DataBindingUtil.inflate(DataBindingUtil.java:95)\n                  at com.sunilson.quizcreator.presentation.SingleActivity.fragments.AddQuestionFragment.AddQuestionFragment.onCreateView(AddQuestionFragment.kt:34)\n                  at android.support.v4.app.Fragment.performCreateView(Fragment.java:2425)\n                  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1460)\n                  at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1784)\n                  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1852)\n                  at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:802)\n                  at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2623)\n                  at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2410)\n                  at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2365)\n                  at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2272)\n                  at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:733)\n                  at android.os.Handler.handleCallback(Handler.java:789)\n                  at android.os.Handler.dispatchMessage(Handler.java:98)\n                  at android.os.Looper.loop(Looper.java:180)\n                  at android.app.ActivityThread.main(ActivityThread.java:6944)\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:835)\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["spring", "websocket", "kotlin", "stomp"], "answers": [{"comments": [{"owner": {"reputation": 851, "user_id": 4166289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f96b02abcdd3e36aec9eaa6cb8ba47b?s=128&d=identicon&r=PG&f=1", "display_name": "instantaphex", "link": "https://stackoverflow.com/users/4166289/instantaphex"}, "edited": false, "score": 1, "creation_date": 1531832044, "post_id": 51373621, "comment_id": 89735557, "body": "You&#39;re a life saver thank you.  I don&#39;t know why this worked.  I tried different variations all day yesterday.  I think the problem I had was the the controller I tried it on initially had a RestController annotation.  I guess you can&#39;t mix Get/Put/Post mappings with SubscribeMapping.  Seeing intellij stop at that breakpoint made my morning."}, {"owner": {"reputation": 5549, "user_id": 9085273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n4BCO.jpg?s=128&g=1", "display_name": "rieckpil", "link": "https://stackoverflow.com/users/9085273/rieckpil"}, "reply_to_user": {"reputation": 851, "user_id": 4166289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f96b02abcdd3e36aec9eaa6cb8ba47b?s=128&d=identicon&r=PG&f=1", "display_name": "instantaphex", "link": "https://stackoverflow.com/users/4166289/instantaphex"}, "edited": false, "score": 1, "creation_date": 1531842720, "post_id": 51373621, "comment_id": 89743188, "body": "the <code>&#47;topic</code> will be implicitly added to the URL you provide. Glad I made your morning :)"}], "tags": [], "owner": {"reputation": 5549, "user_id": 9085273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n4BCO.jpg?s=128&g=1", "display_name": "rieckpil", "link": "https://stackoverflow.com/users/9085273/rieckpil"}, "is_accepted": true, "score": 4, "last_activity_date": 1531804248, "creation_date": 1531804248, "answer_id": 51373621, "question_id": 51370668, "link": "https://stackoverflow.com/questions/51370668/spring-stomp-over-websocket-subscribemapping-not-working/51373621#51373621", "title": "Spring stomp over websocket SubscribeMapping not working", "body": "<p>Try the following:</p>\n\n<pre><code>@Controller\nclass TestController {\n\n    @SubscribeMapping(\"/test\")\n    fun testMapping(): String {\n        return \"THIS IS A TEST\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 851, "user_id": 4166289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f96b02abcdd3e36aec9eaa6cb8ba47b?s=128&d=identicon&r=PG&f=1", "display_name": "instantaphex", "link": "https://stackoverflow.com/users/4166289/instantaphex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2052, "favorite_count": 1, "accepted_answer_id": 51373621, "answer_count": 1, "score": 0, "last_activity_date": 1531804248, "creation_date": 1531778507, "question_id": 51370668, "link": "https://stackoverflow.com/questions/51370668/spring-stomp-over-websocket-subscribemapping-not-working", "title": "Spring stomp over websocket SubscribeMapping not working", "body": "<p>I'm trying to configure subscription mapping for stomp over websockets in a spring boot application without any luck.  I'm fairly certian I have the stomp/websocket stuff configured correctly as I am able to subscribe to topics that are being published to by a kafka consumer, but using the @SubscribeMapping is not working at all.  </p>\n\n<p>Here is my controller</p>\n\n<pre><code>@Controller\nclass TestController {\n    @SubscribeMapping(\"/topic/test\")\n    fun testMapping(): String {\n        return \"THIS IS A TEST\"\n    }\n}\n</code></pre>\n\n<p>And here is my configuration</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\nclass WebSocketConfig : AbstractWebSocketMessageBrokerConfigurer() {\n\n    override fun configureMessageBroker(config: MessageBrokerRegistry) {\n        config.setApplicationDestinationPrefixes(\"/app\", \"/topic\")\n        config.enableSimpleBroker(\"/queue\", \"/topic\")\n        config.setUserDestinationPrefix(\"/user\")\n    }\n\n    override fun registerStompEndpoints(registry:StompEndpointRegistry) {\n        registry.addEndpoint(\"/ws\").setAllowedOrigins(\"*\")\n    }\n\n    override fun configureClientInboundChannel(registration: ChannelRegistration?) {\n        registration?.setInterceptors(object: ChannelInterceptorAdapter() {\n            override fun preSend(message: Message&lt;*&gt;, channel: MessageChannel): Message&lt;*&gt; {\n                val accessor: StompHeaderAccessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor::class.java)\n                if (StompCommand.CONNECT.equals(accessor.command)) {\n                    Optional.ofNullable(accessor.getNativeHeader(\"authorization\")).ifPresent {\n                        val token = it[0]\n                        val keyReader = KeyReader()\n                        val creds = Jwts.parser().setSigningKey(keyReader.key).parseClaimsJws(token).body\n                        val groups = creds.get(\"groups\", List::class.java)\n                        val authorities = groups.map { SimpleGrantedAuthority(it as String) }\n                        val authResult = UsernamePasswordAuthenticationToken(creds.subject, token, authorities)\n                        SecurityContextHolder.getContext().authentication = authResult\n                        accessor.user = authResult\n                    }\n                }\n                return message\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>And then in the UI code, I'm using angular with a stompjs wrapper to subscribe to it like this:</p>\n\n<pre><code>this.stompService.subscribe('/topic/test')\n      .map(data =&gt; data.body)\n      .subscribe(data =&gt; console.log(data));\n</code></pre>\n\n<p>Subscribing like this to topics that I know are emitting data works perfectly but the subscribemapping does nothing.  I've also tried adding an event listener to my websocket config to test that the UI is actually sending a subscription event to the back end like this:</p>\n\n<pre><code>    @EventListener\n    fun handleSubscribeEvent(event: SessionSubscribeEvent) {\n        println(\"Subscription event: $event\")\n    }\n\n    @EventListener\n    fun handleConnectEvent(event: SessionConnectEvent) {\n        println(\"Connection event: $event\")\n    }\n\n    @EventListener\n    fun handleDisconnectEvent(event: SessionDisconnectEvent) {\n        println(\"Disconnection event: $event\")\n    }\n</code></pre>\n\n<p>Adding these event listeners I can see that all the events that I'm expecting from the UI are coming through in the kotlin layer, but my controller method never gets called.  Is there anything obvious that I'm missing?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3084, "user_id": 1941654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e446b8cae7132038fefdb922b7d233?s=128&d=identicon&r=PG", "display_name": "Mike Hill", "link": "https://stackoverflow.com/users/1941654/mike-hill"}, "edited": false, "score": 0, "creation_date": 1531781822, "post_id": 51370522, "comment_id": 89714335, "body": "This is similar to a question I answered earlier this year: <a href=\"https://stackoverflow.com/a/48815362/1941654\">stackoverflow.com/a/48815362/1941654</a>. References to the declared calling type can be included by using extension functions and properties. However, I think there may be more significant structural issues with the type design here and integrating it into Kotlin. What do you mean when you say that the type of the child sequence has been lost through the interface? If you&#39;re referring to retrieving children from a variable declared as a <code>HasChildren</code> object then you will be out of luck with this structure."}], "answers": [{"comments": [{"owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1531778700, "post_id": 51370647, "comment_id": 89713574, "body": "The question isn&#39;t really about how to represent a tree, it&#39;s about how to represent an interface that references items of the implementing class (as opposed to the interface itself)"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1531778855, "post_id": 51370647, "comment_id": 89713617, "body": "This way you can check the children&#39;s types safely like in your <code>Branch</code> example (with the <code>when</code> construct). Did I miss something? I&#39;m not familiar with Swift."}, {"owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1531779234, "post_id": 51370647, "comment_id": 89713712, "body": "Ignore the specifics of the question, ie., Trees and Branches and Children.  They were to give an example of a basic problem which is how to declare that an interface method (or property) returns an object of the <i>implementing</i> class type, not the <i>interface</i> type."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1531779409, "post_id": 51370647, "comment_id": 89713758, "body": "Oh, I see. What is your use case? I&#39;m asking this to prevent an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1531780762, "last_edit_date": 1531780762, "creation_date": 1531778421, "answer_id": 51370647, "question_id": 51370522, "link": "https://stackoverflow.com/questions/51370522/how-to-refer-to-the-implementing-class-in-a-generic-interface/51370647#51370647", "title": "How to refer to the implementing class in a generic interface", "body": "<p>I think you might want to take a look at <code>sealed class</code>es. A tree using them would look something like this:</p>\n\n<pre><code>sealed class Node&lt;out T&gt; {\n    class Branch&lt;T&gt;(val left: Node&lt;T&gt;, val right: Node&lt;T&gt;) : Node&lt;T&gt;()\n    class Leaf&lt;T&gt;(val value: T) : Node&lt;T&gt;()\n    object Empty : Node&lt;Nothing&gt;()\n}\n</code></pre>\n\n<p><code>sealed class</code>es support checking of types with <code>when</code>:</p>\n\n<pre><code>when(node) {\n    is Branch-&gt; {\n        // ... \n    }\n    is Leaf -&gt; {\n        // ... \n    }\n    is Empty -&gt; {\n        // ...\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val tree = Branch(\n          Leaf(\"Foo\"),\n          Branch(Leaf(\"baz\"), Empty))\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">official docs</a> are also a good starting point.</p>\n\n<p><strong>Edit:</strong> AFAIK you can't do this without typecasting. I've put together a simple program with a hack though:</p>\n\n<pre><code>object Playground {\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val tree = Branch(\n                Leaf(\"Foo\"),\n                Branch(Leaf(\"baz\"), Empty))\n\n        // works\n        val foo = tree.left.castTo&lt;Node.Leaf&lt;String&gt;&gt;()\n\n        println(foo)\n\n        // oops\n        tree.left.castTo&lt;Node.Empty&gt;()\n    }\n\n}\n\n\nsealed class Node&lt;out T&gt; {\n    data class Branch&lt;T&gt;(val left: Node&lt;T&gt;, val right: Node&lt;T&gt;) : Node&lt;T&gt;()\n    data class Leaf&lt;T&gt;(val value: T) : Node&lt;T&gt;()\n    object Empty : Node&lt;Nothing&gt;()\n}\n\ninline fun &lt;reified U : Node&lt;Any&gt;&gt; Node&lt;Any&gt;.castTo(): U {\n    require(this is U) {\n        \"Node '${this::class.simpleName}' is not of required type '${U::class.simpleName}'.\"\n    }\n    return this as U\n}\n</code></pre>\n\n<p>I'd really like to see a more robust solution because this is rather ugly, but I was not able to figure out a better solution so far (I also have this problem from time to time).</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1531812486, "last_edit_date": 1531812486, "creation_date": 1531812146, "answer_id": 51375470, "question_id": 51370522, "link": "https://stackoverflow.com/questions/51370522/how-to-refer-to-the-implementing-class-in-a-generic-interface/51375470#51375470", "title": "How to refer to the implementing class in a generic interface", "body": "<p>This is called <a href=\"https://twitter.github.io/scala_school/advanced-types.html#fbounded\" rel=\"nofollow noreferrer\">F-bounded polymorphism</a> (this article is for Scala, but that shouldn't matter; I couldn't find an explanation I liked using Java or Kotlin, but the concept is exactly the same):</p>\n\n<pre><code>interface HasChildren&lt;T : HasChildren&lt;T&gt;&gt; {\n    val children: Sequence&lt;T&gt;\n}\n\nclass Branch(override val children: Sequence&lt;Branch&gt;) : HasChildren&lt;Branch&gt;\n</code></pre>\n\n<p>If you are familiar with C++, it's known there as <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">\"curiously recurring template pattern\"</a>.</p>\n"}], "owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 51375470, "answer_count": 2, "score": 3, "last_activity_date": 1531812486, "creation_date": 1531777576, "question_id": 51370522, "link": "https://stackoverflow.com/questions/51370522/how-to-refer-to-the-implementing-class-in-a-generic-interface", "title": "How to refer to the implementing class in a generic interface", "body": "<p>Let's say I want to define an interface which would describe any tree structure of objects that contain similar objects.  An obvious implementation would be:</p>\n\n<pre><code>interface HasChildren {\n    val children: Sequence&lt;HasChildren&gt;\n}\n\nclass Branch(val children: Sequence&lt;Branch&gt;) : HasChildren\n</code></pre>\n\n<p>The more or less obvious problem with this is that while the children of a <code>Branch</code>  must always, in turn be <code>Branch</code>, that has been lost through the interface, and I have to explicitly typecast them back.</p>\n\n<p>Is there a way, similar to <code>Self</code> in Swift:</p>\n\n<pre><code>protocol HasChildren {\n    let children : Sequence&lt;Self&gt; { get }\n}\n</code></pre>\n\n<p>to not lose the implementing class type?</p>\n"}, {"tags": ["android", "kotlin", "kapt", "androidx"], "comments": [{"owner": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 1, "creation_date": 1531777602, "post_id": 51370443, "comment_id": 89713201, "body": "relevant <a href=\"https://issuetracker.google.com/issues/74537216\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/74537216</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531787015, "post_id": 51370443, "comment_id": 89715304, "body": "I don&#39;t think that is a failure."}, {"owner": {"reputation": 13, "user_id": 4455017, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--gfWiLLGJL8/AAAAAAAAAAI/AAAAAAAAETY/ld0S2mZSQEs/photo.jpg?sz=128", "display_name": "Emre \u015eim\u015firli", "link": "https://stackoverflow.com/users/4455017/emre-%c5%9eim%c5%9firli"}, "reply_to_user": {"reputation": 5525, "user_id": 1122905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNBfX.png?s=128&g=1", "display_name": "Amit K. Saha", "link": "https://stackoverflow.com/users/1122905/amit-k-saha"}, "edited": false, "score": 0, "creation_date": 1531809845, "post_id": 51370443, "comment_id": 89721039, "body": "@AmitK.Saha hmm, I didn&#39;t quite realize that they were warnings. Sorry about that. Thanks for the replies."}], "owner": {"reputation": 13, "user_id": 4455017, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--gfWiLLGJL8/AAAAAAAAAAI/AAAAAAAAETY/ld0S2mZSQEs/photo.jpg?sz=128", "display_name": "Emre \u015eim\u015firli", "link": "https://stackoverflow.com/users/4455017/emre-%c5%9eim%c5%9firli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 932, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531777155, "creation_date": 1531777155, "question_id": 51370443, "link": "https://stackoverflow.com/questions/51370443/adding-apply-plugin-kotlin-kapt-fails-to-build", "title": "adding &quot;apply plugin: kotlin-kapt&quot; fails to build", "body": "<p>I've created a new Android project with Kotlin support. When I try to add \n<code>apply plugin: 'kotlin-kapt'</code> to build.gradle file, Gradle fails to sync the project. Here's the error:</p>\n\n<pre><code>Folder path\\to\\project\\app\\build\\generated\\source\\kaptKotlin\\debug\n\nFolder path\\to\\project\\app\\build\\generated\\source\\kaptKotlin\\release\n\n\n3rd-party Gradle plug-ins may be the cause\n</code></pre>\n\n<p>I've done some research and found out that the targetSdkVersion might be the problem. I'm using SDK 28 now, and the problem is not gone. What I'm trying to understand is that, I have a block like this:</p>\n\n<pre><code>dependencies {\n    kapt \"androidx.room:room-compiler:$room_version\"\n}\n</code></pre>\n\n<p>and this builds fine without apply plugin at the top. Is it necessary to apply kapt plugin? If it is, how do I solve the error above? Thanks.</p>\n"}, {"tags": ["arrays", "kotlin", "set", "hashset"], "answers": [{"tags": [], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "is_accepted": false, "score": 0, "last_activity_date": 1531771024, "creation_date": 1531771024, "answer_id": 51369246, "question_id": 51369214, "link": "https://stackoverflow.com/questions/51369214/how-to-convert-set-hashset-to-array-in-kotlin/51369246#51369246", "title": "How to Convert Set (HashSet) to Array in Kotlin?", "body": "<p><strong>Convert Set (HashSet) to Array</strong></p>\n\n<pre><code>import java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    val set = HashSet&lt;String&gt;()\n    set.add(\"a\")\n    set.add(\"b\")\n    set.add(\"c\")\n\n    val array = arrayOfNulls&lt;String&gt;(set.size)\n    set.toArray(array)\n\n    println(\"Array: ${Arrays.toString(array)}\")\n\n}\n</code></pre>\n\n<p>When you run the program, the output will be:</p>\n\n<pre><code>Array: [a, b, c]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 1, "creation_date": 1531778594, "post_id": 51369364, "comment_id": 89713539, "body": "That&#39;s the solution."}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": true, "score": 17, "last_activity_date": 1531771546, "creation_date": 1531771546, "answer_id": 51369364, "question_id": 51369214, "link": "https://stackoverflow.com/questions/51369214/how-to-convert-set-hashset-to-array-in-kotlin/51369364#51369364", "title": "How to Convert Set (HashSet) to Array in Kotlin?", "body": "<p>Use extension function <code>toTypedArray</code> as follow</p>\n\n<pre><code>set.toTypedArray()\n</code></pre>\n\n<p>That function belongs to Kotlin Library</p>\n\n<pre><code>/**\n * Returns a *typed* array containing all of the elements of this collection.\n *\n * Allocates an array of runtime type `T` having its size equal to the size of this collection\n * and populates the array with the elements of this collection.\n * @sample samples.collections.Collections.Collections.collectionToTypedArray\n */\n@Suppress(\"UNCHECKED_CAST\")\npublic actual inline fun &lt;reified T&gt; Collection&lt;T&gt;.toTypedArray(): Array&lt;T&gt; {\n    @Suppress(\"PLATFORM_CLASS_MAPPED_TO_KOTLIN\")\n    val thisCollection = this as java.util.Collection&lt;T&gt;\n    return thisCollection.toArray(arrayOfNulls&lt;T&gt;(0)) as Array&lt;T&gt;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531771992, "post_id": 51369431, "comment_id": 89711134, "body": "It not work fine: <code>Type mismatch. Required: Array&lt;String&gt; Found: Array&lt;(out)Any!&gt;!</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531772142, "post_id": 51369431, "comment_id": 89711205, "body": "@AbnerEsc&#243;cio I tried it in Intellij IDEA and it works fine. It is <code>Array&lt;(out)Any&gt;!</code> and there is no problem with that."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531771847, "creation_date": 1531771847, "answer_id": 51369431, "question_id": 51369214, "link": "https://stackoverflow.com/questions/51369214/how-to-convert-set-hashset-to-array-in-kotlin/51369431#51369431", "title": "How to Convert Set (HashSet) to Array in Kotlin?", "body": "<p>Simply <code>val array = set.toArray()</code></p>\n"}, {"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531772023, "post_id": 51369453, "comment_id": 89711148, "body": "It not work fine: Type mismatch. Required: Array&lt;String&gt; Found: Array&lt;(out)Any!&gt;!"}], "tags": [], "owner": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "is_accepted": false, "score": 0, "last_activity_date": 1531772080, "last_edit_date": 1531772080, "creation_date": 1531771941, "answer_id": 51369453, "question_id": 51369214, "link": "https://stackoverflow.com/questions/51369214/how-to-convert-set-hashset-to-array-in-kotlin/51369453#51369453", "title": "How to Convert Set (HashSet) to Array in Kotlin?", "body": "<p>You can just call</p>\n\n<pre><code>val array = set.toArray()\n</code></pre>\n\n<p>Tested with Kotlin 1.2.51.</p>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4999, "favorite_count": 1, "accepted_answer_id": 51369364, "answer_count": 4, "score": 7, "last_activity_date": 1531772080, "creation_date": 1531770886, "question_id": 51369214, "link": "https://stackoverflow.com/questions/51369214/how-to-convert-set-hashset-to-array-in-kotlin", "title": "How to Convert Set (HashSet) to Array in Kotlin?", "body": "<p>I have set of String</p>\n\n<pre><code> val set = HashSet&lt;String&gt;()\n    set.add(\"a\")\n    set.add(\"b\")\n    set.add(\"c\")\n</code></pre>\n\n<p>I need to convert it to array</p>\n\n<pre><code>val array = arrayOf(\"a\", \"b\", \"c\")\n</code></pre>\n"}, {"tags": ["android", "arrays", "kotlin", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "is_accepted": false, "score": 0, "last_activity_date": 1531770681, "creation_date": 1531770681, "answer_id": 51369182, "question_id": 51369166, "link": "https://stackoverflow.com/questions/51369166/how-to-convert-array-to-set-hashset-in-kotlin/51369182#51369182", "title": "How to Convert Array to Set (HashSet) in Kotlin?", "body": "<p><strong>Convert Array to Set</strong></p>\n\n<pre><code>import java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    val array = arrayOf(\"a\", \"b\", \"c\")\n    val set = HashSet(Arrays.asList(*array))\n\n    println(\"Set: $set\")\n\n}\n</code></pre>\n\n<p>When you run the program, the output will be:</p>\n\n<pre><code>Set: [a, b, c]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": true, "score": 4, "last_activity_date": 1531770982, "creation_date": 1531770982, "answer_id": 51369235, "question_id": 51369166, "link": "https://stackoverflow.com/questions/51369166/how-to-convert-array-to-set-hashset-in-kotlin/51369235#51369235", "title": "How to Convert Array to Set (HashSet) in Kotlin?", "body": "<p>Use extension function <code>toHashSet</code> as follow</p>\n\n<pre><code>array.toHashSet()\n</code></pre>\n\n<p>That function belongs to Kotlin Library</p>\n\n<pre><code>/**\n * Returns a [HashSet] of all elements.\n */\npublic fun &lt;T&gt; Array&lt;out T&gt;.toHashSet(): HashSet&lt;T&gt; {\n    return toCollection(HashSet&lt;T&gt;(mapCapacity(size)))\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22786, "user_id": 974045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad548cd357d81ab99c5d60e64e02070?s=128&d=identicon&r=PG", "display_name": "Gibolt", "link": "https://stackoverflow.com/users/974045/gibolt"}, "is_accepted": false, "score": 0, "last_activity_date": 1580838997, "creation_date": 1580838997, "answer_id": 60063076, "question_id": 51369166, "link": "https://stackoverflow.com/questions/51369166/how-to-convert-array-to-set-hashset-in-kotlin/60063076#60063076", "title": "How to Convert Array to Set (HashSet) in Kotlin?", "body": "<h2>Kotlin Collections Solution</h2>\n\n<p>Directly use <code>toSet(*array)</code> or <code>toHashSet(*array)</code>. These are part of Kotlin's standard library.</p>\n\n<p>The asterisk <code>*</code> is the <code>spread</code> operator. It applies all elements in a collection individually, each passed in order to a <code>vararg</code> method parameter.</p>\n\n<pre><code>val array = arrayOf(\"data\", \"foo\")\n\n// Multiple spreads [\"data\", \"foo\", \"bar\", \"data\", \"foo\"]\nval mySet = setOf(*array, \"bar\", *array)\n</code></pre>\n\n<p>Passing no parameters <code>setOf()</code> results in an empty set.</p>\n\n<p>These are all of the specific hash types you can use:</p>\n\n<pre><code>setOf()\nhashSetOf()\nlinkedSetOf()\nmutableSetOf()\nsortableSetOf()\n</code></pre>\n\n<p>This is how to define the collection item type explicitly.</p>\n\n<pre><code>setOf&lt;String&gt;()\nhashSetOf&lt;MyClass&gt;()\n</code></pre>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2103, "favorite_count": 0, "accepted_answer_id": 51369235, "answer_count": 3, "score": 3, "last_activity_date": 1580839045, "creation_date": 1531770594, "last_edit_date": 1580839045, "question_id": 51369166, "link": "https://stackoverflow.com/questions/51369166/how-to-convert-array-to-set-hashset-in-kotlin", "title": "How to Convert Array to Set (HashSet) in Kotlin?", "body": "<p>I have an array of String</p>\n\n<pre><code>val array = arrayOf(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>I need to convert it to HashSet</p>\n\n<pre><code>val set = HashSet&lt;String&gt;()\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1531779401, "last_edit_date": 1531779401, "creation_date": 1531769650, "answer_id": 51368959, "question_id": 51368579, "link": "https://stackoverflow.com/questions/51368579/how-does-this-kotlin-code-work/51368959#51368959", "title": "How does this kotlin code work?", "body": "<p>Basically, <code>kotlin.String</code> is a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a>, which means that, when compiled into the JVM bytecode, all Kotlin usages of the <code>kotlin.String</code> type are translated to equivalent usages of <code>java.lang.String</code>. </p>\n\n<p>This technique ensures compatibility of the Kotlin and Java types and at the same time allows adding Kotlin-idiomatic API to the Java types.</p>\n\n<p>You can <a href=\"https://stackoverflow.com/questions/35538049/kotlin-bytecode-how-to-analyze-in-intellij-idea\">inspect the <code>*.class</code> files</a> produced by the compiler and see that they mention the <code>java.lang.String</code>.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/44787176/how-can-i-identify-when-a-kotlin-type-will-be-mapped-to-a-java-type\">a sililar Q&amp;A</a>.</p>\n\n<hr>\n\n<p>As to the compilation of the <code>length</code> property of the <code>kotlin.String</code> definition, you can see that it is actually never compiled but only serialized into the Kotlin builtins metadata, according to <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.50/core/builtins/build.gradle.kts\" rel=\"nofollow noreferrer\">the Gradle build script</a> of the corresponding module.</p>\n"}], "owner": {"reputation": 15751, "user_id": 1345655, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f01aca0b4d2d9347a6fd0f16f24d084?s=128&d=identicon&r=PG", "display_name": "Kshitiz Sharma", "link": "https://stackoverflow.com/users/1345655/kshitiz-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 51368959, "answer_count": 1, "score": 1, "last_activity_date": 1531779401, "creation_date": 1531767885, "question_id": 51368579, "link": "https://stackoverflow.com/questions/51368579/how-does-this-kotlin-code-work", "title": "How does this kotlin code work?", "body": "<p>Kotlin defines its own <code>String</code> class:</p>\n\n<pre><code>public class String : Comparable&lt;String&gt;, CharSequence {\n    companion object {}        \n    public operator fun plus(other: Any?): String    \n    public override val length: Int    \n    public override fun get(index: Int): Char    \n    public override fun subSequence(startIndex: Int, endIndex: Int): CharSequence    \n    public override fun compareTo(other: String): Int\n}\n</code></pre>\n\n<p>The instances of this class are constructed via inline functions defined in <code>StringsJVM.kt</code>:</p>\n\n<pre><code>public inline fun String(bytes: ByteArray, offset: Int, length: Int): String =\n    java.lang.String(bytes, offset, length, Charsets.UTF_8) as String\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>How does the cast of <code>java.lang.String</code> to <code>kotlin.String</code> work? It is not a subtype but a separate implementation of <code>CharSequence</code></li>\n<li>Member <code>length</code> is a val with no value assigned. How does this compile? It would need to be a lateinit var</li>\n</ol>\n\n<p>I presume there must some sort of code pre-processing going on before the compilation.</p>\n\n<p>Please feel free to edit this question with a more apt title. </p>\n"}, {"tags": ["android", "gradle", "kotlin", "checkstyle"], "answers": [{"tags": [], "owner": {"reputation": 515, "user_id": 482225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d42f5370e8f4c3d709001e1bb71331e?s=128&d=identicon&r=PG", "display_name": "Stanley Shyiko", "link": "https://stackoverflow.com/users/482225/stanley-shyiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1531871310, "creation_date": 1531871310, "answer_id": 51391651, "question_id": 51368558, "link": "https://stackoverflow.com/questions/51368558/ktlint-custom-reporter/51391651#51391651", "title": "Ktlint Custom Reporter", "body": "<p>Take a look at <a href=\"https://github.com/mcassiano/ktlint-html-reporter\" rel=\"nofollow noreferrer\">mcassiano/ktlint-html-reporter</a> or <a href=\"https://github.com/shyiko/ktlint/tree/master/ktlint-reporter-json\" rel=\"nofollow noreferrer\">one of the ktlint's built-in reporters</a>.  </p>\n\n<p>In short, each reporter contains a Reporter, ReporterProvider, and a service definition (which contains ReporterProvider implementation classname):</p>\n\n<pre><code>$ cat src/main/kotlin/your/pkg/CustomReporter.kt\npackage your.pkg\nimport com.github.shyiko.ktlint.core.Reporter\nclass CustomReporter : Reporter {\n...    \n\n$ cat src/main/kotlin/your/pkg/CustomReporterProvider.kt\npackage your.pkg\nimport com.github.shyiko.ktlint.core.ReporterProvider\nclass CustomReporterProvider : CustomReporter {\n...\n\n$ cat src/main/resources/META-INF/services/com.github.shyiko.ktlint.core.ReporterProvider\nyour.pkg.CustomReporterProvider\n</code></pre>\n\n<p>You'll need to package that into a JAR.<br>\nOnce you have a JAR, ktlint can load it in one of the following ways:</p>\n\n<ul>\n<li><code>ktlint --reporter=custom,artifact=your.pkg:custom-reporter:0.1.0,output=target/output.html</code> (assuming <code>your.pkg:custom-reporter:0.1.0</code> is available in Maven Central / JCenter / JitPack)</li>\n<li><code>ktlint --reporter=custom,artifact=~/path/to/custom-reporter.jar</code> (from fs)</li>\n<li><p>from a classpath (if you plan on using ktlint through <a href=\"https://github.com/shyiko/ktlint#-with-gradle\" rel=\"nofollow noreferrer\">Gradle</a>/<a href=\"https://github.com/shyiko/ktlint#-with-maven\" rel=\"nofollow noreferrer\">Maven</a>/etc), e.g.  </p>\n\n<pre><code>dependencies {\n    ktlint \"com.github.shyiko:ktlint:$ktlintVersion\"\n    ktlint \"your.pkg:custom-reporter:0.1.0\"\n}\n\ntask ktlint(type: JavaExec, group: \"verification\") {\n    classpath = configurations.ktlint\n    main = \"com.github.shyiko.ktlint.Main\"\n    args \"--reporter=custom\", \"src/**/*.kt\"\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 10060679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa03K.jpg?s=128&g=1", "display_name": "Ado Ki", "link": "https://stackoverflow.com/users/10060679/ado-ki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531871310, "creation_date": 1531767781, "question_id": 51368558, "link": "https://stackoverflow.com/questions/51368558/ktlint-custom-reporter", "title": "Ktlint Custom Reporter", "body": "<p>I'm working on improving my team's codestyle and ktlint seems like a perfect solution for the Kotlin we're introducing.</p>\n\n<p>My problem is finding a full example for creating a customer reporter to allow for a custom output when running the ktlint gradle task.  Ktlint's docs say:  </p>\n\n<blockquote>\n  <p>In short, all you need to do is to implement a Reporter and make it available by registering a custom ReporterProvider using META-INF/services/com.github.shyiko.ktlint.core.ReporterProvider. Pack all of that into a JAR and you're done.</p>\n</blockquote>\n\n<p>but following a simple example <a href=\"https://medium.com/@takusemba/make-your-code-clean-with-ktlint-bf651c5924e8\" rel=\"nofollow noreferrer\">here</a> but I have no idea where to place these files or where to place this \"jar\" that ktlint recommends or it says my custom reporter has not been found.</p>\n\n<p>Does anyone have an example on how this works? Thank you.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "edited": false, "score": 0, "creation_date": 1531765629, "post_id": 51368020, "comment_id": 89708448, "body": "BTW, I use Dragger 2 to inject test dependency"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1531783080, "post_id": 51368020, "comment_id": 89714585, "body": "You should print the whole stacktrace. It&#39;ll tell you why and where this issues appears from."}], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "is_accepted": true, "score": 0, "last_activity_date": 1531899590, "creation_date": 1531899590, "answer_id": 51396255, "question_id": 51368020, "link": "https://stackoverflow.com/questions/51368020/mockito-android-throw-verify-error-but-i-not-call-verify-at-all/51396255#51396255", "title": "Mockito Android throw verify error but I not call verify at all", "body": "<p>I put this in code</p>\n\n<pre><code>@After\nfun validate() {\n    validateMockitoUsage()\n}\n</code></pre>\n\n<p>The most important you have to you the correct import\nimport com.nhaarman.mockito_kotlin.validateMockitoUsage</p>\n\n<p>Now it's work for me</p>\n"}], "owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 51396255, "answer_count": 1, "score": 0, "last_activity_date": 1531899590, "creation_date": 1531765575, "question_id": 51368020, "link": "https://stackoverflow.com/questions/51368020/mockito-android-throw-verify-error-but-i-not-call-verify-at-all", "title": "Mockito Android throw verify error but I not call verify at all", "body": "<p>I write a lot of unit test when running individual test case it fine. But when I try to run all test cases in class it throws a weird error.</p>\n\n<p><strong>The test case</strong></p>\n\n<pre><code>@Test\nfun `case-4 Do get new list data after refreshing refresh is gone`() {\n    false `should equal` false\n}\n</code></pre>\n\n<p><strong>The error</strong></p>\n\n<pre><code>org.mockito.exceptions.misusing.UnfinishedVerificationException: \nMissing method call for verify(mock) here:\n-&gt; at com.nhaarman.mockito_kotlin.MockitoKt.verify(Mockito.kt:248)\n\nExample of correct verification:\n    verify(mock).doSomething()\n</code></pre>\n\n<p><strong>My Environment</strong></p>\n\n<pre><code>testImplementation 'com.nhaarman:mockito-kotlin:1.5.0'\ntestImplementation 'org.amshove.kluent:kluent:1.30'\ntestImplementation \"android.arch.core:core-testing:1.1.1\"\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2", "vert.x", "rx-kotlin", "codegen"], "comments": [{"owner": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "edited": false, "score": 0, "creation_date": 1532350449, "post_id": 51368000, "comment_id": 89926986, "body": "Can you try to mark the async result type with <code>@Nullable</code>?"}, {"owner": {"reputation": 119, "user_id": 2631567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300412113/picture?type=large", "display_name": "Nagaraju Nooka", "link": "https://stackoverflow.com/users/2631567/nagaraju-nooka"}, "reply_to_user": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "edited": false, "score": 0, "creation_date": 1532433435, "post_id": 51368000, "comment_id": 89963799, "body": "i tried that before, unfortunately it&#39;s giving the same output."}, {"owner": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "edited": false, "score": 0, "creation_date": 1532510621, "post_id": 51368000, "comment_id": 89999003, "body": "Could you please create a bug report in <a href=\"https://github.com/vert-x3/vertx-codegen\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-codegen</a> ?"}, {"owner": {"reputation": 119, "user_id": 2631567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300412113/picture?type=large", "display_name": "Nagaraju Nooka", "link": "https://stackoverflow.com/users/2631567/nagaraju-nooka"}, "reply_to_user": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "edited": false, "score": 0, "creation_date": 1532528016, "post_id": 51368000, "comment_id": 90010980, "body": "Done Created <a href=\"https://github.com/vert-x3/vertx-codegen/issues/200\" rel=\"nofollow noreferrer\">https://github.com/vert-x3/vertx-codegen/issues/200</a>"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 2631567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300412113/picture?type=large", "display_name": "Nagaraju Nooka", "link": "https://stackoverflow.com/users/2631567/nagaraju-nooka"}, "edited": false, "score": 0, "creation_date": 1549016391, "post_id": 54475220, "comment_id": 95761721, "body": "As specified in one of my previous replies, i tried that and it is not working. <a href=\"https://github.com/vert-x3/vertx-lang-kotlin/issues/71\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-lang-kotlin/issues/71</a>"}], "tags": [], "owner": {"reputation": 51, "user_id": 8515703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2504ec9d62050a6e97dd7c0cbf2f197f?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Utkin", "link": "https://stackoverflow.com/users/8515703/eugene-utkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1549008001, "creation_date": 1549008001, "answer_id": 54475220, "question_id": 51368000, "link": "https://stackoverflow.com/questions/51368000/how-to-force-vertx-rx-codegen-to-generate-maybe-as-return-type/54475220#54475220", "title": "How to Force Vertx Rx CodeGen To Generate MayBe As Return Type", "body": "<p>Add annonation @Nullable</p>\n\n<pre><code>@ProxyGen\n@VertxGen\ninterface JobService {\n    @Fluent\n    fun getCertain(jobId: Int, handler: Handler&lt;AsyncResult&lt;@Nullable Job?&gt;&gt;): JobService\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 2631567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300412113/picture?type=large", "display_name": "Nagaraju Nooka", "link": "https://stackoverflow.com/users/2631567/nagaraju-nooka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1549008001, "creation_date": 1531765522, "question_id": 51368000, "link": "https://stackoverflow.com/questions/51368000/how-to-force-vertx-rx-codegen-to-generate-maybe-as-return-type", "title": "How to Force Vertx Rx CodeGen To Generate MayBe As Return Type", "body": "<p>I am using following Kotlin code to generate proxy (This will also generate Rx methods)</p>\n\n<pre><code>@ProxyGen\n@VertxGen\ninterface JobService {\n    @Fluent\n    fun getCertain(jobId: Int, handler: Handler&lt;AsyncResult&lt;Job?&gt;&gt;): JobService\n}\n</code></pre>\n\n<p>When I see generated Rx Code it is as follows.</p>\n\n<pre><code>public Single&lt;Job&gt; rxGetCertain(int jobId) { \n   return new io.vertx.reactivex.core.impl.AsyncResultSingle&lt;Job&gt;(handler -&gt; {\n     getCertain(jobId, handler);\n   });\n}\n</code></pre>\n\n<p><strong>Issue:-</strong></p>\n\n<p>Unfortunately i am not able to use this in Kotlin as kotlin won't allow null values for non-null fields and it is throwing following exception.</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null\n</code></pre>\n\n<p>How do i force Vertx CodeGen to generate return type as MayBe so that my code works without any issues in kotlin.</p>\n"}, {"tags": ["android", "xml", "android-layout", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1531763787, "post_id": 51367327, "comment_id": 89707525, "body": "I suggest you ditch <code>RelativeLayout</code>, which (is/will be)  deprecated soon (according to the latest Google I/O 2018) in favor of ConstraintLayout."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1531763819, "post_id": 51367327, "comment_id": 89707543, "body": "Will that solve the problem?"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1531763928, "post_id": 51367327, "comment_id": 89707594, "body": "Not directly, but it will give you the tools to work around it. Do you want to have an image start at the edge of the screen like with 0 space between the image and the edge?"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1531764010, "post_id": 51367327, "comment_id": 89707633, "body": "Yes. I want no space between the edge and the image. It should be sticking to the edge."}, {"owner": {"reputation": 1648, "user_id": 6672577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8gWl.jpg?s=128&g=1", "display_name": "Shahzad Afridi", "link": "https://stackoverflow.com/users/6672577/shahzad-afridi"}, "edited": false, "score": 0, "creation_date": 1531765262, "post_id": 51367327, "comment_id": 89708275, "body": "use android:background=&quot;@drawable/bulb_on&quot; instead of app:srcCompat=&quot;@drawable/bulb_on&quot;"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531765564, "post_id": 51367327, "comment_id": 89708408, "body": "It has not worked. In fact it added an artifact."}], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531763723, "post_id": 51367469, "comment_id": 89707496, "body": "It didn&#39;t work. I have tried with -10,-30,etc. The gap is still remaining."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1531763724, "post_id": 51367469, "comment_id": 89707497, "body": "Negative margins don\u2019t always work (some vendor\u2019s hack around it)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531764426, "post_id": 51367469, "comment_id": 89707871, "body": "@Eswar did you test it in emulator or a real device?"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531764497, "post_id": 51367469, "comment_id": 89707906, "body": "@mTak I have tested on both. It didn&#39;t work on both."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531765235, "post_id": 51367469, "comment_id": 89708255, "body": "I have tried padding. It does not work too. It looks like the background image also does not touch the edge."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531765258, "post_id": 51367469, "comment_id": 89708270, "body": "@Eswar I have tested both margin and padding negative values in 4 different genymotion emulators and they work fine"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531765495, "post_id": 51367469, "comment_id": 89708376, "body": "@mTak Can you put up the snippet? It might be helpful."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1531765597, "last_edit_date": 1531765597, "creation_date": 1531763249, "answer_id": 51367469, "question_id": 51367327, "link": "https://stackoverflow.com/questions/51367327/space-removal-on-the-left-of-image-in-xml-file-in-android-studio-using-the-recyc/51367469#51367469", "title": "Space removal on the left of image in Xml file in android studio using the recycler view", "body": "<p>One way you could do it is set negative margin:</p>\n\n<pre><code>android:layout_marginStart=\"-10dp\"\n</code></pre>\n\n<p>or  </p>\n\n<pre><code>android:paddingStart=\"-10dp\"\n</code></pre>\n\n<p>change -10 to what suits you.</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"16dp\"\n    android:layout_height=\"41dp\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginStart=\"-10dp\"\n    android:layout_marginTop=\"9dp\"\n    android:adjustViewBounds=\"true\"\n    android:scaleType=\"fitXY\"\n    app:srcCompat=\"@drawable/nodata\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 1, "creation_date": 1531766315, "post_id": 51368143, "comment_id": 89708764, "body": "If you mentioned that this is a recyclerview item layout, we would find the solution earlier. Anyway I&#39;m glad you solved it"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531766417, "post_id": 51368143, "comment_id": 89708799, "body": "@mTak Thank you. I am sorry about not mentioning recyclerview because I did not think it was the problem. However, it turned out to be the problem."}], "tags": [], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "is_accepted": true, "score": 0, "last_activity_date": 1531766097, "creation_date": 1531766097, "answer_id": 51368143, "question_id": 51367327, "link": "https://stackoverflow.com/questions/51367327/space-removal-on-the-left-of-image-in-xml-file-in-android-studio-using-the-recyc/51368143#51368143", "title": "Space removal on the left of image in Xml file in android studio using the recycler view", "body": "<p>I got the solution to this problem. It basically lay with the <code>activity_main.xml</code>. The recyclerview in this xml had a left padding. I just removed it, made it 0. The snippet is shown below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@mipmap/bg\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/recyclerview_Main\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginRight=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I reduced the left margin to be zero in the attributes of the recyclerview.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 51368143, "answer_count": 2, "score": 0, "last_activity_date": 1531766097, "creation_date": 1531762673, "question_id": 51367327, "link": "https://stackoverflow.com/questions/51367327/space-removal-on-the-left-of-image-in-xml-file-in-android-studio-using-the-recyc", "title": "Space removal on the left of image in Xml file in android studio using the recycler view", "body": "<p>I have two images that are beside textviews. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZbTVcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZbTVcm.png\" alt=\"UI\"></a></p>\n\n<p>Now the problem with this UI is that the images must be aligned to complete left side, as if coming out or sticking to the edge of the screen. However, that's not the case. I have tried <code>scaleType</code> and <code>adjustViewBound</code>, but both of them didn't work. The xml file contents have been shown below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\n&gt;\n\n\n&lt;TextView\n    android:id=\"@+id/textView_subtopic_title\"\n    android:layout_width=\"245dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_alignTop=\"@+id/imageView_bulb\"\n    android:layout_marginEnd=\"43dp\"\n    android:layout_marginRight=\"43dp\"\n    android:gravity=\"center\"\n    android:text=\"Subtopic Title\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    tools:ignore=\"MissingConstraints\"\n    tools:layout_editor_absoluteY=\"64dp\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView_count\"\n    android:layout_width=\"91dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_below=\"@+id/textView_subtopic_title\"\n    android:layout_marginLeft=\"135dp\"\n    android:layout_marginStart=\"135dp\"\n    android:text=\"Count\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    tools:ignore=\"MissingConstraints\"\n    tools:layout_editor_absoluteY=\"83dp\" /&gt;\n\n&lt;ImageView\n    android:id=\"@+id/imageView_bulb\"\n    android:layout_width=\"70dp\"\n    android:layout_height=\"81dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginTop=\"64dp\"\n    android:adjustViewBounds=\"true\"\n    android:scaleType=\"fitXY\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:srcCompat=\"@drawable/bulb_on\" /&gt;\n\n&lt;ProgressBar\n    android:id=\"@+id/progressBar\"\n    style=\"?android:attr/progressBarStyleHorizontal\"\n    android:layout_width=\"128dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBottom=\"@+id/imageView_bulb\"\n    android:layout_centerHorizontal=\"true\"\n    android:outlineAmbientShadowColor=\"@color/colorPrimary\"\n    android:outlineSpotShadowColor=\"@color/colorAccent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    tools:ignore=\"MissingConstraints\"\n    tools:layout_editor_absoluteY=\"114dp\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView_topic_title\"\n    android:layout_width=\"242dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginLeft=\"52dp\"\n    android:layout_marginStart=\"52dp\"\n    android:layout_marginTop=\"23dp\"\n    android:text=\"Topic Title\" /&gt;\n\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"16dp\"\n    android:layout_height=\"41dp\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginStart=\"0dp\"\n    android:layout_marginTop=\"9dp\"\n    android:adjustViewBounds=\"true\"\n    android:scaleType=\"fitXY\"\n    app:srcCompat=\"@drawable/blue\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_marginLeft=\"0dp\" /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>What should be done to remove the space on the left of the images as shown in the image?</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 1360, "user_id": 2911633, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f6c92ec704a41749809aae750c34eba?s=128&d=identicon&r=PG", "display_name": "Igor Ilic", "link": "https://stackoverflow.com/users/2911633/igor-ilic"}, "edited": false, "score": 0, "creation_date": 1531760109, "post_id": 51366646, "comment_id": 89705658, "body": "Hi &amp; welcome to the SO. Please read this first <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask a question</a> and also this <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "reply_to_user": {"reputation": 1360, "user_id": 2911633, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f6c92ec704a41749809aae750c34eba?s=128&d=identicon&r=PG", "display_name": "Igor Ilic", "link": "https://stackoverflow.com/users/2911633/igor-ilic"}, "edited": false, "score": 0, "creation_date": 1531762794, "post_id": 51366646, "comment_id": 89706986, "body": "Thank you to welcome me on SO. But if you know better answer please tell"}, {"owner": {"reputation": 146, "user_id": 7450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0676e332a5560416585e41b78cf62c?s=128&d=identicon&r=PG&f=1", "display_name": "Hasdfa", "link": "https://stackoverflow.com/users/7450505/hasdfa"}, "edited": false, "score": 0, "creation_date": 1531767067, "post_id": 51366646, "comment_id": 89709095, "body": "In Kotlin IntArray is an object, and all changes for it, applies to object, that you passed into the function"}], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1531763478, "post_id": 51366917, "comment_id": 89707344, "body": "you <b>can&#39;t</b> use var in function&#39;s parameters"}], "tags": [], "owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "is_accepted": false, "score": 0, "last_activity_date": 1531761072, "creation_date": 1531761072, "answer_id": 51366917, "question_id": 51366646, "link": "https://stackoverflow.com/questions/51366646/kotlin-array-manipulation/51366917#51366917", "title": "Kotlin Array manipulation", "body": "<p>Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"nofollow noreferrer\">MutableList</a> or simple use <code>var</code> instead. </p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1531761692, "creation_date": 1531761692, "answer_id": 51367091, "question_id": 51366646, "link": "https://stackoverflow.com/questions/51366646/kotlin-array-manipulation/51367091#51367091", "title": "Kotlin Array manipulation", "body": "<p>While function arguments are \"<code>val</code>'s\" in Kotlin, meaning you can't modify what object they point to, the object (in your case, the array) can still be mutable.</p>\n\n<p>If you want to mutate the array that's passed to your function, you can certainly do that, this will change the values in the array for everyone who has a reference to it:</p>\n\n<pre><code>fun multiplyByTenInPlace(array: IntArray) {\n    for (i in array.indices) {\n        array[i] = array[i] * 10\n    }\n}\n</code></pre>\n\n<p>If you want to create a new array instead to return with the new values:</p>\n\n<pre><code>fun multiplyByTen(array: IntArray): IntArray {\n    return array.map { it * 10 }.toIntArray()\n}\n</code></pre>\n\n<p>Or better yet, without creating a list in the middle:</p>\n\n<pre><code>fun multiplyByTen(array: IntArray): IntArray {\n    return IntArray(array.size) { i -&gt; array[i] * 10 }\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 51367091, "answer_count": 2, "score": 1, "last_activity_date": 1562836237, "creation_date": 1531759875, "last_edit_date": 1562836237, "question_id": 51366646, "link": "https://stackoverflow.com/questions/51366646/kotlin-array-manipulation", "title": "Kotlin Array manipulation", "body": "<p>I have an array of int and it requires to send an object in a function and multiply every element in that array with 10 and return a new array. As in kotlin where the function argument are val, so we cannot change the value of current array.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "is_accepted": false, "score": 2, "last_activity_date": 1531752785, "creation_date": 1531752785, "answer_id": 51364631, "question_id": 51364483, "link": "https://stackoverflow.com/questions/51364483/unable-to-access-parcelable-in-fragment-arguments-error-arguments-is-a-mutab/51364631#51364631", "title": "Unable to access Parcelable in Fragment arguments (Error: &#39;arguments&#39; is a mutable property)", "body": "<p>Turns out I was stupid and I could just do:</p>\n\n<pre><code>detail = Parcels.unwrap(arguments?.getParcelable(DETAIL_KEY))\n</code></pre>\n\n<p>without any complaint by the compiler.</p>\n"}, {"comments": [{"owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "edited": false, "score": 0, "creation_date": 1531755197, "post_id": 51365103, "comment_id": 89703108, "body": "Yes, this does work. (even with the question updated) but I don&#39;t like declaring a <code>val</code> (especially with the same name) only to do that. Is that the common practice?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "edited": false, "score": 0, "creation_date": 1531756152, "post_id": 51365103, "comment_id": 89703630, "body": "I do it surprisingly often."}, {"owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "edited": false, "score": 0, "creation_date": 1531757300, "post_id": 51365103, "comment_id": 89704287, "body": "Actually, it just came to my mind that we could use <code>it</code> to avoid the assignment, like this: <code>arguments?.let { detail  = Parcels.unwrap(it.getParcelable(DETAIL_KEY)) }</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "edited": false, "score": 1, "creation_date": 1531757431, "post_id": 51365103, "comment_id": 89704353, "body": "That&#39;s true. Although I prefer to name it to something else like for example <code>args</code>. You need the <code>val</code> assignment if you use args in an <code>if(!= null</code> statement"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 0, "last_activity_date": 1531754246, "creation_date": 1531754246, "answer_id": 51365103, "question_id": 51364483, "link": "https://stackoverflow.com/questions/51364483/unable-to-access-parcelable-in-fragment-arguments-error-arguments-is-a-mutab/51365103#51365103", "title": "Unable to access Parcelable in Fragment arguments (Error: &#39;arguments&#39; is a mutable property)", "body": "<pre><code>val arguments = arguments\ndetail = arguments?.let { args -&gt; Parcels.unwrap(args.getParcelable(DETAIL_KEY)) }\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 51365103, "answer_count": 2, "score": 0, "last_activity_date": 1531755051, "creation_date": 1531752384, "last_edit_date": 1531755051, "question_id": 51364483, "link": "https://stackoverflow.com/questions/51364483/unable-to-access-parcelable-in-fragment-arguments-error-arguments-is-a-mutab", "title": "Unable to access Parcelable in Fragment arguments (Error: &#39;arguments&#39; is a mutable property)", "body": "<p>How to properly access arguments in a Fragment with kotlin?</p>\n\n<p>This is what I'm trying to achieve:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState)\n  if(arguments!=null){\n    detail = Parcels.unwrap(arguments.getParcelable(DETAIL_KEY))\n  }\n}\n</code></pre>\n\n<p>but the compiler rightly complains with this error:</p>\n\n<blockquote>\n  <p>Error: Smart cast to 'Bundle' is impossible, because 'arguments' is a mutable property that could have been changed by this time</p>\n</blockquote>\n\n<p>I am wondering: is there an elegant way to handle this besides using the <code>!!</code> operator? </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "android-studio", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 99, "user_id": 9989249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3a4ba50ea20ce61ecb06d11f6e564f?s=128&d=identicon&r=PG&f=1", "display_name": "A.El Saeed", "link": "https://stackoverflow.com/users/9989249/a-el-saeed"}, "edited": false, "score": 0, "creation_date": 1531752463, "post_id": 51364374, "comment_id": 89701342, "body": "you can use a swap function to swap after adding."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "edited": false, "score": 0, "creation_date": 1531752722, "post_id": 51364544, "comment_id": 89701501, "body": "No I know that. I want to change the indexes whenever I want whenever it&#39;s needed"}, {"owner": {"reputation": 11, "user_id": 10088910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e580023054f436b9818b31b11c0570?s=128&d=identicon&r=PG&f=1", "display_name": "Praneet Chakraborty", "link": "https://stackoverflow.com/users/10088910/praneet-chakraborty"}, "edited": false, "score": 0, "creation_date": 1531752869, "post_id": 51364544, "comment_id": 89701608, "body": "You would have to create a swap function because there are no in built swap methods in the ArrayList class."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "edited": false, "score": 0, "creation_date": 1531752970, "post_id": 51364544, "comment_id": 89701684, "body": "Could you edit your answer and give an example of this swap function?"}], "tags": [], "owner": {"reputation": 11, "user_id": 10088910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e580023054f436b9818b31b11c0570?s=128&d=identicon&r=PG&f=1", "display_name": "Praneet Chakraborty", "link": "https://stackoverflow.com/users/10088910/praneet-chakraborty"}, "is_accepted": false, "score": -1, "last_activity_date": 1531752573, "creation_date": 1531752573, "answer_id": 51364544, "question_id": 51364374, "link": "https://stackoverflow.com/questions/51364374/send-an-item-of-an-arraylist-to-end/51364544#51364544", "title": "Send an item of an ArrayList to end", "body": "<p>There are two ways you can solve this problem. The ArrayList add method (with one parameter) automatically appends whatever you're adding to the end of the list. Here's two ways to solve it:</p>\n\n<pre><code>myArrayList.add(\"c\")\nmyArrayList.add(\"b\")\nmyArrayList.add(\"a\")\n</code></pre>\n\n<p>The order of these three method calls matter in the case above. You can also do this:</p>\n\n<pre><code>myArrayList.add(0, \"c\")\nmyArrayList.add(1, \"b\")\nmyArrayList.add(2, \"a\")\n</code></pre>\n\n<p>In this case, the order the three method calls don't matter.</p>\n"}, {"tags": [], "owner": {"reputation": 20, "user_id": 8876078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1814d410ab0a0f4bac404549788d028a?s=128&d=identicon&r=PG&f=1", "display_name": "MrLenoir", "link": "https://stackoverflow.com/users/8876078/mrlenoir"}, "is_accepted": false, "score": 0, "last_activity_date": 1531753060, "creation_date": 1531753060, "answer_id": 51364715, "question_id": 51364374, "link": "https://stackoverflow.com/questions/51364374/send-an-item-of-an-arraylist-to-end/51364715#51364715", "title": "Send an item of an ArrayList to end", "body": "<p>You can use <code>Collections.swap(List&lt;?&gt; list, int i, int j);</code></p>\n\n<p>Like this <code>Collections.swap(myArrayList, 0, 2);</code></p>\n"}, {"tags": [], "owner": {"reputation": 6896, "user_id": 6473867, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/VSpsJ.png?s=128&g=1", "display_name": "Gowthaman M", "link": "https://stackoverflow.com/users/6473867/gowthaman-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1531806383, "last_edit_date": 1531806383, "creation_date": 1531753135, "answer_id": 51364736, "question_id": 51364374, "link": "https://stackoverflow.com/questions/51364374/send-an-item-of-an-arraylist-to-end/51364736#51364736", "title": "Send an item of an ArrayList to end", "body": "<p><strong>Use this</strong></p>\n\n<pre><code>       myArrayList.add(\"a\");\n        myArrayList.add(\"b\");\n        myArrayList.add(\"c\");         \n        Collections.swap(myArrayList, 1, 2);   \n        Collections.swap(myArrayList, 2, 0);    \n       Log.e(\"output\",myArrayList.toString());\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><strong>[b, c, a]</strong></p>\n"}, {"tags": [], "owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "is_accepted": false, "score": 0, "last_activity_date": 1531760540, "last_edit_date": 1531760540, "creation_date": 1531760156, "answer_id": 51366719, "question_id": 51364374, "link": "https://stackoverflow.com/questions/51364374/send-an-item-of-an-arraylist-to-end/51366719#51366719", "title": "Send an item of an ArrayList to end", "body": "<p>Very simple solution:</p>\n\n<pre><code>java.util.Collections.rotate(myArrayList, -1)\n</code></pre>\n\n<p>This way, the size of the list will not matter, even if the list is empty. </p>\n\n<p>Try it in the <a href=\"https://try.kotlinlang.org/#/UserProjects/njfes9rd700up6hjh17r9s2m51/uiirm4drb884oucabge9ammpe8\" rel=\"nofollow noreferrer\">Kotlin Playground</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1531806383, "creation_date": 1531752078, "question_id": 51364374, "link": "https://stackoverflow.com/questions/51364374/send-an-item-of-an-arraylist-to-end", "title": "Send an item of an ArrayList to end", "body": "<p>I have an ArrayList like this:</p>\n\n<pre><code>val myArrayList = ArrayList&lt;String&gt;()\n\nmyArrayList.add(\"a\")\nmyArrayList.add(\"b\")\nmyArrayList.add(\"c\")\n</code></pre>\n\n<p>Until now, \"a\" is the index 0, \"b\" is the index 1 and \"c\" is the index 2. But I want \"a\" to go to the end of the ArrayList. I mean I want the indexes to be like this: \"b\" index 0, \"c\" index 1, \"a\" index 2.</p>\n\n<p>Do you know how is it possible?</p>\n"}, {"tags": ["android", "json", "api", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1531748978, "post_id": 51363369, "comment_id": 89698931, "body": "print out the throwable that causes this and voila"}], "answers": [{"tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": false, "score": 0, "last_activity_date": 1531751113, "creation_date": 1531751113, "answer_id": 51364079, "question_id": 51363369, "link": "https://stackoverflow.com/questions/51363369/get-a-simple-string-from-an-api/51364079#51364079", "title": "Get a simple string from an API", "body": "<p>Okay, I am SO ashamed.</p>\n\n<p>So, I printed the error in my \"FAILURE...\" section, and I got something like :</p>\n\n<pre><code>got jsonPrimitive but expected jsonObject\n</code></pre>\n\n<p>As the API was just returning me a string, and NOT an object, it is call a Json Primitive.\nSo I just changed the return of my functions in OrderService :</p>\n\n<pre><code>@GET(\"api/order/checkout/{id}/status\")\nfun getOrderStatus(@Path(\"id\") id: String): Observable&lt;JsonPrimitive&gt;\n</code></pre>\n\n<p>Thanks for your helpful comments.</p>\n"}, {"tags": [], "owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1531989743, "last_edit_date": 1531989743, "creation_date": 1531981049, "answer_id": 51415610, "question_id": 51363369, "link": "https://stackoverflow.com/questions/51363369/get-a-simple-string-from-an-api/51415610#51415610", "title": "Get a simple string from an API", "body": "<pre><code>interface ServiceInterFace {\n@POST(\"api/order/checkout/{id}/status\")\nfun getOrderStatus(@Path(\"id\") id: String): Call&lt;String&gt;\n} \n\n// calling from your main class\n\nval id: String? = null\nval retrofit = Retrofit.Builder()\n    .addConverterFactory(ScalarsConverterFactory.create())\n    .baseUrl(\"----Your link here-----\")\n    .build()\n\nval scalarService = retrofit.create(ServiceInterFace::class.java!!)\nval stringCall = scalarService.getOrderStatus(id)\nstringCall.enqueue(object : Callback&lt;String&gt; {\noverride fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\n    if (response.isSuccessful) {\n        val responseString = response.body()//get response here     \n    }\n}\n\noverride fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\n    Toast.makeText(this@Main2Activity, \"Failed to connect server\",\n            Toast.LENGTH_SHORT).show()\n}\n})\n\n//import \nimplementation 'com.squareup.retrofit2:retrofit:2.3.0'    \nimplementation 'com.squareup.retrofit2:converter-scalars:2.3.0' \n</code></pre>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531989743, "creation_date": 1531748745, "question_id": 51363369, "link": "https://stackoverflow.com/questions/51363369/get-a-simple-string-from-an-api", "title": "Get a simple string from an API", "body": "<p>I would like to get a simple string from an API.<br>\nUsually, i can get everything I want from an API with the following functions :</p>\n\n<pre><code>class OrderRepositoryImpl(val orderService: OrderService) : OrderRepository {\n        override fun getPaymentMethods(id: String, success: (List&lt;PaymentMode&gt;) -&gt; Unit, failure: (Throwable) -&gt; Unit): Subscription {\n            return orderService.getPaymentMethods(id)\n                .subscribeOn(Schedulers.io())\n                .map { it.entrySet() }\n                .map { it.map { it.value }.map {it.asJsonObject } }\n                .map { it.map { PaymentMode().apply { loadFromJson(it) } } }\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ success.invoke(it) }, { failure.invoke(it) })\n        }\n}\n</code></pre>\n\n<p>And in OrderService :</p>\n\n<pre><code>@GET(\"api/order/payment/modes/list/{id}\")\nfun getPaymentMethods(@Path(\"id\") id: String): Observable&lt;JsonObject&gt;\n</code></pre>\n\n<p>This works perfectly, on an API with regular Json Objects.</p>\n\n<p>But today, I have a problem : I have an API with a unique string, like this :</p>\n\n<pre><code>\"validated\"\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>\"draft\"\n</code></pre>\n\n<p>So I made the followin function (in OrderRepositoryImpl class) :</p>\n\n<pre><code>override fun getOrderStatus(id: String, success: (String) -&gt; Unit, failure: (Throwable) -&gt; Unit) =\n    orderService.getOrderStatus(id)\n            .subscribeOn(Schedulers.io())\n            .map { it }\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ success.invoke(it.toString()) }, { failure.invoke(it) } )\n</code></pre>\n\n<p>And in Order Service :</p>\n\n<pre><code>@GET(\"api/order/checkout/{id}/status\")\nfun getOrderStatus(@Path(\"id\") id: String): Observable&lt;JsonObject&gt;\n</code></pre>\n\n<p>I call this method like this :</p>\n\n<pre><code>fun getOrderStatus(id : Long) {\n    orderRepository.getOrderStatus(id.toString(), {\n        println(\"SUCCESS !\")\n        println(\"STATUS == $it\")\n    }, {\n        println(\"FAILURE...\")\n    })\n}\n</code></pre>\n\n<p>But I don't get anything from \"success.invoke\" line. When I call this method in my code, i always have \"FAILURE\" in my logs... Even if one of the logs lines is :</p>\n\n<pre><code>D/OkHttp: \"validated\"\n</code></pre>\n\n<p>which is exactly what I want to see in case of success.</p>\n\n<p>I know it is pretty strange I can get and parse json objects and not a string, but I kind of learned on the job...<br>\nHow can I get a simple string from an API ?</p>\n"}, {"tags": ["android", "junit", "kotlin", "android-testing", "robolectric"], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 11004423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W050P.png?s=128&g=1", "display_name": "Acmpo6ou", "link": "https://stackoverflow.com/users/11004423/acmpo6ou"}, "edited": false, "score": 1, "creation_date": 1606374297, "post_id": 56205506, "comment_id": 114945978, "body": "It worked! Thanks so much! I don&#39;t understand why doesn&#39;t answer marked as correct one though."}], "tags": [], "owner": {"reputation": 488, "user_id": 2514268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f7b6a266c714418360c55b3d21273d?s=128&d=identicon&r=PG", "display_name": "Kartal Tabak", "link": "https://stackoverflow.com/users/2514268/kartal-tabak"}, "is_accepted": false, "score": 1, "last_activity_date": 1558249444, "creation_date": 1558249444, "answer_id": 56205506, "question_id": 51362076, "link": "https://stackoverflow.com/questions/51362076/testing-popupmenu-with-robolectric/56205506#56205506", "title": "Testing PopUpMenu with Robolectric", "body": "<p>You may try this:</p>\n\n<pre><code>import android.widget.PopupMenu;\nimport org.robolectric.shadows.ShadowPopupMenu;\nimport android.view.Menu;\nimport static android.view.Menu.FLAG_ALWAYS_PERFORM_CLOSE; \n\n... \n\nPopupMenu latestPopupMenu = ShadowPopupMenu.getLatestPopupMenu();\nMenu menu = latestPopupMenu.getMenu();\nmenu.performIdentifierAction(R.id.edit_menu_item, FLAG_ALWAYS_PERFORM_CLOSE);\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 3446713, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/HUWTe.jpg?s=128&g=1", "display_name": "Gaurav A Dubey", "link": "https://stackoverflow.com/users/3446713/gaurav-a-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1558249444, "creation_date": 1531744811, "question_id": 51362076, "link": "https://stackoverflow.com/questions/51362076/testing-popupmenu-with-robolectric", "title": "Testing PopUpMenu with Robolectric", "body": "<p>I have an Image on click of which I display a PopUpMenu. I am not getting any way to test that particular pop up menu that is being displayed.</p>\n\n<p>I have two buttons 1) Edit , 2) Delete and what I want to test is the click of the Delete and the edit.</p>\n\n<p>Any help is welcome.</p>\n"}, {"tags": ["android", "kotlin", "printers", "thermal-printer"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 1, "creation_date": 1531744738, "post_id": 51361869, "comment_id": 89696173, "body": "I think it depends on the printer model and the protocol that shall be used. I think there&#39;s no general protocol for thermal printers."}, {"owner": {"reputation": 399, "user_id": 7460500, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/058e5b7edb0f5289e44762b5ac176143?s=128&d=identicon&r=PG&f=1", "display_name": "person", "link": "https://stackoverflow.com/users/7460500/person"}, "edited": false, "score": 0, "creation_date": 1531782751, "post_id": 51361869, "comment_id": 89714522, "body": "I second Christopher it depends on the printer make and model"}], "owner": {"reputation": 4703, "user_id": 5137527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/879462068809881/picture?type=large", "display_name": "byteC0de", "link": "https://stackoverflow.com/users/5137527/bytec0de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531744355, "creation_date": 1531744158, "last_edit_date": 1531744355, "question_id": 51361869, "link": "https://stackoverflow.com/questions/51361869/how-to-print-image-in-thermal-printer-using-android", "title": "How to print image in thermal printer using Android?", "body": "<p>I need to print a image using thermal printer. Now I am able to print text using below code,</p>\n\n<pre><code>private fun printBill() {\n        Thread {\n            try {\n                val sock = Socket(\"192.168.100.99\", 9100)\n                val oStream = PrintWriter(sock.getOutputStream())\n                oStream.printf(\"%-35s %-5s %5s\\n\", \"Jihin Raju\", 10.00, 100.00)\n                oStream.println(charArrayOf(0x1D.toChar(), 0x56.toChar(), 0x41.toChar(), 0x10.toChar()))\n                oStream.close()\n                sock.close()\n            } catch (e: UnknownHostException) {\n                e.printStackTrace()\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n            runOnUiThread {\n                Toast.makeText(this@MainActivity, \"Printed \", Toast.LENGTH_SHORT).show()\n            }\n        }.start()\n    }\n</code></pre>\n\n<p>Is there any way to print image </p>\n"}, {"tags": ["kotlin", "akka", "akka-http"], "comments": [{"owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1531785140, "post_id": 51361539, "comment_id": 89714962, "body": "Question was answered on spek&#39;s issue tracker: <a href=\"https://github.com/spekframework/spek/issues/453\" rel=\"nofollow noreferrer\">github.com/spekframework/spek/issues/453</a>."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 10088028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKX6V.jpg?s=128&g=1", "display_name": "Harry Uglow", "link": "https://stackoverflow.com/users/10088028/harry-uglow"}, "is_accepted": true, "score": 1, "last_activity_date": 1531841949, "creation_date": 1531841949, "answer_id": 51385407, "question_id": 51361539, "link": "https://stackoverflow.com/questions/51361539/using-akka-route-testkit-with-kotlin-spek/51385407#51385407", "title": "Using Akka Route TestKit with Kotlin Spek", "body": "<p>As @raniejade mentioned above, answered on Github. <code>JUnitRouteTest</code> bootstraps Akka with a rule, but Spek's <code>LifeCycleListener</code> can do the same thing.</p>\n\n<p>Adding the code:</p>\n\n<pre><code>class SpekRouteBootstrapper: LifecycleListener, JUnitRouteTest() {\n  override fun beforeExecuteTest(test: TestScope) {\n    systemResource().before()\n  }\n\n  override fun afterExecuteTest(test: TestScope) {\n    systemResource().after()\n  }\n} \n</code></pre>\n\n<p>allowed me to do this on the test class:</p>\n\n<pre><code>class TestKitExampleTest: Spek({\n  val bootstrapper = SpekRouteBootstrapper()\n  registerListener(bootstrapper)\n\n  describe(\"My routes\") {\n    val appRoute by memoized {\n      bootstrapper.testRoute(MyAppService().createRoute())\n    }\n\n    it(\"calculator add\") {\n      // test happy path\n      appRoute.run(HttpRequest.GET(\"/calculator/add?x=4.2&amp;y=2.3\"))\n        .assertStatusCode(200)\n        .assertEntity(\"x + y = 6.5\")\n    }\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 10088028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKX6V.jpg?s=128&g=1", "display_name": "Harry Uglow", "link": "https://stackoverflow.com/users/10088028/harry-uglow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 51385407, "answer_count": 1, "score": 0, "last_activity_date": 1531842007, "creation_date": 1531743030, "last_edit_date": 1531842007, "question_id": 51361539, "link": "https://stackoverflow.com/questions/51361539/using-akka-route-testkit-with-kotlin-spek", "title": "Using Akka Route TestKit with Kotlin Spek", "body": "<p>I am trying to test my AkkaHTTP routes (written in Kotlin) using akka-http-testkit. The tests in our project use Spek and I would like to keep it this way.<br>\nThe <a href=\"https://doc.akka.io/docs/akka-http/current/routing-dsl/testkit.html\" rel=\"nofollow noreferrer\">Route TestKit tutorial</a> gives a Java example:</p>\n\n<pre><code>public class TestkitExampleTest extends JUnitRouteTest {\n    TestRoute appRoute = testRoute(new MyAppService().createRoute())\n\n    @Test\n    public void testCalculatorAdd() {\n        // test happy path\n        appRoute.run(HttpRequest.GET(\"/calculator/add?x=4.2&amp;y=2.3\"))\n            .assertStatusCode(200)\n            .assertEntity(\"x + y = 6.5\")\n\n        // test responses to potential errors\n        appRoute.run(HttpRequest.GET(\"/calculator/add?x=3.2\"))\n            .assertStatusCode(StatusCodes.NOT_FOUND) // 404\n            .assertEntity(\"Request is missing required query parameter 'y'\")\n\n        // test responses to potential errors\n        appRoute.run(HttpRequest.GET(\"/calculator/add?x=3.2&amp;y=three\"))\n            .assertStatusCode(StatusCodes.BAD_REQUEST)\n            .assertEntity(\"The query parameter 'y' was malformed:\\n\" +\n                \"'three' is not a valid 64-bit floating point value\")\n    }\n}\n</code></pre>\n\n<p>The setup uses the <code>testRoute</code> function, which means the test class must extend <code>JUnitRouteTest</code>. </p>\n\n<p>Attempting to translate to a Kotlin Spek test I got this:</p>\n\n<pre><code>class TestKitExampleTest : JUnitRouteTest(), Spek({\n\n  describe(\"My routes\") {\n    val appRoute = testRoute(MyAppService().createRoute())\n\n    it(\"calculator add\") {\n      // test happy path\n      appRoute.run(HttpRequest.GET(\"/calculator/add?x=4.2&amp;y=2.3\"))\n        .assertStatusCode(200)\n        .assertEntity(\"x + y = 6.5\")\n      //...rest omitted\n    }\n  }\n})\n</code></pre>\n\n<p>which does not compile as the class is attempting to inherit two classes. I converted it to the following instead:</p>\n\n<pre><code>class TestKitExampleTest : Spek({\n\n  describe(\"My routes\") {\n    val appRoute = testRoute(MyAppService().createRoute())\n\n    it(\"calculator add\") {\n      // test happy path\n      appRoute.run(HttpRequest.GET(\"/calculator/add?x=4.2&amp;y=2.3\"))\n        .assertStatusCode(200)\n        .assertEntity(\"x + y = 6.5\")\n      //...rest omitted\n    }\n  }\n}) {\n  companion object : JUnitRouteTest()\n}\n</code></pre>\n\n<p>which encouters the runtime error <code>java.lang.IllegalStateException: Unknown factory null\n    at akka.http.impl.util.package$.actorSystem(package.scala:34)</code>.</p>\n\n<p>Is there a way to use Akka's route testkit with Spek? Or is there another way to test these routes?</p>\n"}, {"tags": ["android", "kotlin", "android-support-library", "androidx"], "answers": [{"comments": [{"owner": {"reputation": 765, "user_id": 2641657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48535a345281b87b8e4ff1759a811c8d?s=128&d=identicon&r=PG", "display_name": "JimmyFlash", "link": "https://stackoverflow.com/users/2641657/jimmyflash"}, "edited": false, "score": 0, "creation_date": 1531815735, "post_id": 51361572, "comment_id": 89724511, "body": "In android studio 3.1.3, that option is not available. I only have migrate app to appCompat.."}], "tags": [], "owner": {"reputation": 43, "user_id": 9007495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mznso.jpg?s=128&g=1", "display_name": "fupon", "link": "https://stackoverflow.com/users/9007495/fupon"}, "is_accepted": false, "score": 0, "last_activity_date": 1531743141, "creation_date": 1531743141, "answer_id": 51361572, "question_id": 51361435, "link": "https://stackoverflow.com/questions/51361435/android-x-library-throwing-error-when-compiling/51361572#51361572", "title": "Android X library throwing error when compiling", "body": "<p>Firstly, revert back to your original state before migrating.\nThere is an inbuilt tool that converts your whole Android project to Androidx.\nI am using Android studio 3.3.</p>\n\n<p>Refactor > Migrate Apps to Androidx</p>\n\n<p>Here is a copy how my depencencies in gradle look like after converting/migrating:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.0-beta01'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-beta01'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0-beta01'\n    implementation 'com.google.android.material:material:1.0.0-beta01'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.2'\n    implementation 'com.google.android:flexbox:0.3.0-alpha3'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0-beta01'\n\n}\n</code></pre>\n"}], "owner": {"reputation": 765, "user_id": 2641657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48535a345281b87b8e4ff1759a811c8d?s=128&d=identicon&r=PG", "display_name": "JimmyFlash", "link": "https://stackoverflow.com/users/2641657/jimmyflash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531747448, "creation_date": 1531742699, "last_edit_date": 1531747448, "question_id": 51361435, "link": "https://stackoverflow.com/questions/51361435/android-x-library-throwing-error-when-compiling", "title": "Android X library throwing error when compiling", "body": "<p>I'm getting this error when building my project in android studio 3.1.3 </p>\n\n<blockquote>\n  <p>Program type already present:\n  android.support.v4.app.INotificationSideChannel$Stub$Proxy\n  Message{kind=ERROR, text=Program type already present:\n  android.support.v4.app.INotificationSideChannel$Stub$Proxy,\n  sources=[Unknown source file], tool name=Optional.of(D8)}</p>\n</blockquote>\n\n<p>I started migrating to <strong>AndroidX</strong> libraries here's <code>gradle.build</code>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.jimmy.bitcoinpriceindex\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n//    enable databinding\n    dataBinding {\n        enabled = true\n    }\n\n//    add java 8 features support\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation \"androidx.test:runner:$versions.test\"\n    androidTestImplementation \"androidx.test.espresso:espresso-core:$versions.espresso\"\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n\n    // ViewModel and LiveData\n    implementation \"androidx.lifecycle:lifecycle-extensions:$versions.lifecycle\"\n\n    implementation \"androidx.appcompat:appcompat:$versions.support\"\n\n    implementation \"androidx.constraintlayout:constraintlayout:$versions.constraint_layout\"\n    implementation \"com.github.bumptech.glide:glide:$versions.glide\"\n\n    // work manager dependency\n    implementation \"android.arch.work:work-runtime:$versions.work\"\n\n    implementation (\"com.squareup.retrofit2:retrofit:$versions.retrofit\"){\n        // exclude Retrofit\u2019s OkHttp dependency module and define your own module import\n        exclude module: 'okhttp'\n    }\n    implementation \"com.squareup.retrofit2:converter-gson:$versions.retrofit\"\n    implementation \"com.google.code.gson:gson:$versions.gson\"\n\n    implementation \"com.squareup.okhttp3:logging-interceptor:$versions.loggin_interceptor\"\n    implementation \"com.squareup.okhttp3:okhttp:$versions.okttp\"\n\n}\n\n\napply plugin: 'kotlin-kapt'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "singleton", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531786947, "post_id": 51358978, "comment_id": 89715294, "body": "You probably forgot <code>apply plugin: &#39;kotlin-kapt&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 3057944, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1256694091/picture?type=large", "display_name": "user3057944", "link": "https://stackoverflow.com/users/3057944/user3057944"}, "edited": false, "score": 0, "creation_date": 1531736391, "post_id": 51359284, "comment_id": 89691179, "body": "Thanks, you are right, but which part of my code should I show. I have been using this class as singleton (by Dagger) for a very long time. Now I just added my activity written in Kotlin to my appComponent class, and in the activity&#39;s onCreate() I get the appComponent from Application as in my other classes (written in Java) and I tried to inject my singleton with @Inject annotation, but the class is injected into kt file is not the same that is injected into other java files."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 581, "user_id": 3057944, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1256694091/picture?type=large", "display_name": "user3057944", "link": "https://stackoverflow.com/users/3057944/user3057944"}, "edited": false, "score": 0, "creation_date": 1531736735, "post_id": 51359284, "comment_id": 89691393, "body": "could you please show how you get your component from Kotlin?"}, {"owner": {"reputation": 581, "user_id": 3057944, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1256694091/picture?type=large", "display_name": "user3057944", "link": "https://stackoverflow.com/users/3057944/user3057944"}, "edited": false, "score": 0, "creation_date": 1531741166, "post_id": 51359284, "comment_id": 89693945, "body": "(application as IndexApplication).appComponent.inject(this) I init application like a singleton in my Application class <a href=\"https://pastebin.com/Lqwx83Bn\" rel=\"nofollow noreferrer\">pastebin.com/Lqwx83Bn</a>"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1531735453, "creation_date": 1531735453, "answer_id": 51359284, "question_id": 51358978, "link": "https://stackoverflow.com/questions/51358978/dagger2-singleton-in-kotlin-and-java/51359284#51359284", "title": "Dagger2 singleton in Kotlin and Java", "body": "<p>You didn't provide the code, so it's not easy to give a full answer. However, my guess is that you're creating 2 different instances of your component, one in Kotlin and one in Java.\nDagger, however, can \"guarantee\" the single instance only when you reuse always the same component. If you create two different instances of your component, one in Kotlin and one in Java, it won't be able to reuse the same instance of your \"singleton\" module.</p>\n\n<p>The reason behind this, is that when generating the components, Dagger inserts some logic to create a new instance of your module the first time you call it, then it returns the \"cached\" instance all subsequent times you want to get the same module.</p>\n"}], "owner": {"reputation": 581, "user_id": 3057944, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1256694091/picture?type=large", "display_name": "user3057944", "link": "https://stackoverflow.com/users/3057944/user3057944"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1531735453, "creation_date": 1531734490, "last_edit_date": 1531735291, "question_id": 51358978, "link": "https://stackoverflow.com/questions/51358978/dagger2-singleton-in-kotlin-and-java", "title": "Dagger2 singleton in Kotlin and Java", "body": "<p>I would like to inject to a class as singleton, but Dagger injects other instance to Kotlin file than to Java files.\nWhy does it happen?</p>\n"}, {"tags": ["data-binding", "kotlin", "dao", "tornadofx", "kotlin-exposed"], "comments": [{"owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1560376032, "post_id": 51358379, "comment_id": 99720465, "body": "Did you ever get your answer?"}, {"owner": {"reputation": 1617, "user_id": 2773684, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/07b68805877ae3dad899598350cf801e?s=128&d=identicon&r=PG", "display_name": "The Oracle", "link": "https://stackoverflow.com/users/2773684/the-oracle"}, "reply_to_user": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 1, "creation_date": 1560402134, "post_id": 51358379, "comment_id": 99725380, "body": "I got this <a href=\"https://github.com/edvin/tornadofx/issues/756\" rel=\"nofollow noreferrer\">github.com/edvin/tornadofx/issues/756</a>"}], "owner": {"reputation": 1617, "user_id": 2773684, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/07b68805877ae3dad899598350cf801e?s=128&d=identicon&r=PG", "display_name": "The Oracle", "link": "https://stackoverflow.com/users/2773684/the-oracle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1531732716, "creation_date": 1531732564, "last_edit_date": 1531732716, "question_id": 51358379, "link": "https://stackoverflow.com/questions/51358379/binding-data-to-view-model-when-dealing-with-dao-and-tornadofx", "title": "Binding data to view model when dealing with DAO and Tornadofx", "body": "<p>I am making database operations with JetBrains/Exposed. I was able to make use of the DAO approach to display data from the database on the TableView. It was quite challenging with the DSL approach.</p>\n\n<p>After succeeding to display data, data binding was gone. My person class looks like this</p>\n\n<pre><code>class Person(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n    companion object : IntEntityClass&lt;Person&gt;(Persons)\n\n    var name     by Persons.name\n    var title by Persons.title\n}\n</code></pre>\n\n<p>my view model looks like this</p>\n\n<pre><code>class PersonModel(person: Person?) : ViewModel() {\n\n   val name =  bind {person?.observable(Person::name)}\n   val title = bind {person?.observable(Person::title)}\n}\n</code></pre>\n\n<p>Each time I want to commit a change to the model I get</p>\n\n<p><code>java.lang.IllegalStateException: No transaction in context.</code></p>\n\n<p>I know this is because Person is used in the transaction context to perform Db queries.</p>\n\n<p>I wish to know how I can bind data to view model given that I am using DAO API of JetBrains/Expose.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin", "android-relativelayout", "ripple"], "comments": [{"owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "edited": false, "score": 0, "creation_date": 1531727573, "post_id": 51356512, "comment_id": 89686124, "body": "Check this out: <a href=\"https://stackoverflow.com/questions/42130359/ripple-effect-on-child-views-not-working\" title=\"ripple effect on child views not working\">stackoverflow.com/questions/42130359/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "reply_to_user": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "edited": false, "score": 0, "creation_date": 1531729911, "post_id": 51356512, "comment_id": 89687255, "body": "tried that too, not working"}, {"owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "edited": false, "score": 0, "creation_date": 1531816370, "post_id": 51356512, "comment_id": 89724881, "body": "I think that problem can be with your com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal views. I changed this items for simple TextView and ripple effect worked on every item in the list with android:background=&quot;?android:attr/selectableItemBackground&quot;. Tested on Android 8.0."}, {"owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "edited": false, "score": 0, "creation_date": 1531817205, "post_id": 51356512, "comment_id": 89725446, "body": "Tested on Android 4.4 - not worked. I think it should not work on Android API &lt; 21."}, {"owner": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "edited": false, "score": 0, "creation_date": 1531824863, "post_id": 51356512, "comment_id": 89730604, "body": "Apparently, the ripple effect is exclusive only to API 21 and above."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "edited": false, "score": 1, "creation_date": 1531742762, "post_id": 51359898, "comment_id": 89694956, "body": "it requires 21+ android Version"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "edited": false, "score": 0, "creation_date": 1531742823, "post_id": 51359898, "comment_id": 89694988, "body": "No it doesn&#39;t. I use it in one app that has min 17"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "edited": false, "score": 0, "creation_date": 1531743064, "post_id": 51359898, "comment_id": 89695129, "body": "Is it that the layout is cluttered by other views and you just can&#39;t see the ripple?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531737482, "creation_date": 1531737482, "answer_id": 51359898, "question_id": 51356512, "link": "https://stackoverflow.com/questions/51356512/tap-ripple-effect-for-api-lesser-than-21/51359898#51359898", "title": "Tap ripple effect for API lesser than 21", "body": "<p>Try <code>?attr/selectableItemBackgroundBorderless</code></p>\n"}], "owner": {"reputation": 105, "user_id": 9718622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db4e45edb4fc0ccfbb8a2debea7342b?s=128&d=identicon&r=PG&f=1", "display_name": "Java Nerd", "link": "https://stackoverflow.com/users/9718622/java-nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1531737482, "creation_date": 1531725610, "last_edit_date": 1531736301, "question_id": 51356512, "link": "https://stackoverflow.com/questions/51356512/tap-ripple-effect-for-api-lesser-than-21", "title": "Tap ripple effect for API lesser than 21", "body": "<p>Hello there I am new to kotlin I have been facing a very strange problem. I have a simple ListView populated with some child layouts!\nMy ListView Tag in XML is:</p>\n\n<pre><code>          &lt;ListView\n            android:id=\"@+id/invoicesList\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:divider=\"@null\"\n            android:dividerHeight=\"0dp\"/&gt;\n</code></pre>\n\n<p>My Adapter is:</p>\n\n<pre><code>class InvoicesListAdapter(context: Context, activity: Activity, resource: Int, list: ArrayList&lt;InvoicesListModel&gt;) : ArrayAdapter&lt;InvoicesListModel&gt;(context, resource, list) {\n\n    var list: ArrayList&lt;InvoicesListModel&gt; = list\n    var activity: Activity? = null\n\n    init {\n        this.activity = activity\n    }\n\n    private class ViewHolder(row: View?) {\n        var serviceName: BakcellTextViewNormal? = null\n        var endirimValue: BakcellTextViewNormal? = null\n        var miqdarValue: BakcellTextViewNormal? = null\n        var vahidValue: BakcellTextViewNormal? = null\n        var mablaqValue: BakcellTextViewNormal? = null\n        var camiValue: BakcellTextViewNormal? = null\n\n        init {\n            this.serviceName = row?.findViewById(R.id.serviceValue)\n            this.endirimValue = row?.findViewById(R.id.endirimValue)\n            this.miqdarValue = row?.findViewById(R.id.miqdarValue)\n            this.vahidValue = row?.findViewById(R.id.vahidValue)\n            this.mablaqValue = row?.findViewById(R.id.mablaqValue)\n            this.camiValue = row?.findViewById(R.id.camiValue)\n        }//init ends\n    }// class ViewHolder ends\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        val view: View?\n        val viewHolder: ViewHolder\n        if (convertView == null) {\n            val inflater = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            view = inflater.inflate(R.layout.invoices_list_layout, null)\n            viewHolder = ViewHolder(view)\n            view?.tag = viewHolder\n        } else {\n            view = convertView\n            viewHolder = view.tag as ViewHolder\n        }\n\n        var listModel = getItem(position)\n        viewHolder.serviceName!!.text=listModel.serviceName\n        viewHolder.miqdarValue!!.text=listModel.miqdarValue\n        viewHolder.vahidValue!!.text=listModel.vahidValue\n        viewHolder.mablaqValue!!.text=listModel.mablaqValue\n        viewHolder.endirimValue!!.text=listModel.endirimValue\n        viewHolder.camiValue!!.text=listModel.camiValue\n\n        //send arrow click\n\n        return view as View\n    }//getview ends\n}//class ends\n</code></pre>\n\n<p>My Adapter/ListView Items Layout is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;!--nested container--&gt;\n    &lt;RelativeLayout\n        android:id=\"@+id/ripple\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingBottom=\"@dimen/_10sdp\"\n        android:paddingTop=\"@dimen/_10sdp\"&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/childLayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"@dimen/_20sdp\"\n                android:layout_marginRight=\"@dimen/_20sdp\"\n                android:orientation=\"horizontal\"&gt;\n\n                &lt;!--col1--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"4.2\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/serviceValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"Blackberry Service\"\n                            android:textColor=\"@color/colorTextGray\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n                &lt;!--col2--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"3\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/miqdarValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"12345\"\n                            android:textColor=\"@color/colorTextGray\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n                &lt;!--col3--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"4.9\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/vahidValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"saat:den:san\"\n                            android:textColor=\"@color/colorTextGray\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n                &lt;!--col4--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"3\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/mablaqValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"98.2\"\n                            android:textColor=\"@color/colorTextGray\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n                &lt;!--col5--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"3.3\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/endirimValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"0.0\"\n                            android:textColor=\"@color/colorTextBlack\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n                &lt;!--col6--&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"3\"&gt;\n\n                    &lt;RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"&gt;\n\n                        &lt;com.es.b2bbakcell.widgets.textwidgets.BakcellTextViewNormal\n                            android:id=\"@+id/camiValue\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_centerInParent=\"true\"\n                            android:text=\"1125.7\"\n                            android:textColor=\"@color/colorTextBlack\"\n                            android:textSize=\"@dimen/_10ssp\"/&gt;\n                    &lt;/RelativeLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n        &lt;!--//nested container--&gt;\n    &lt;/RelativeLayout&gt;\n\n    &lt;View\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\"\n        android:layout_below=\"@+id/ripple\"\n        android:layout_marginLeft=\"@dimen/_45sdp\"\n        android:layout_marginRight=\"@dimen/_45sdp\"\n        android:background=\"@color/colorSeperator\"&gt;&lt;/View&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>The problem is that I want to show the ripple when I tap onto the Relative Layout with id=ripple!\nI know I can do it setting:</p>\n\n<pre><code>android:background=\"?android:attr/selectableItemBackground\"\nandroid:clickable=\"true\"\n</code></pre>\n\n<p>on the required Layout!\nBut whenever I register any click listener on the Relative Layout with id=ripple, it stops showing the ripple effect!</p>\n\n<p>I am testing it on LG G3 with Android 5.0 Lollipop and I want the Android Devices with Android Versions 19+ should show the ripple effect.</p>\n\n<p>I must use     </p>\n\n<pre><code>    android:background=\"?android:attr/selectableItemBackground\"\n    android:clickable=\"true\"\n</code></pre>\n\n<p>to show the ripple effect, Can somebody please identify it for me what I'm doing wrong? Thanks in Advance!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1531725088, "creation_date": 1531725088, "answer_id": 51356379, "question_id": 51356328, "link": "https://stackoverflow.com/questions/51356328/can-we-check-and-condition-inside-whenx/51356379#51356379", "title": "Can we check &quot;AND&quot; condition inside when(x)", "body": "<p>Yes. Although the syntax is somewhat different:</p>\n\n<pre><code>when {\n    x % 5 == 0 &amp;&amp; x % 3 == 0 -&gt; println(\"foobar\")\n    x % 5 == 0 -&gt; println(\"bar\")\n    x % 3 == 0 -&gt; println(\"foo\")\n}\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 1092989, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/S0rLB.jpg?s=128&g=1", "display_name": "Thunder Dragon", "link": "https://stackoverflow.com/users/1092989/thunder-dragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 51356379, "answer_count": 1, "score": 2, "last_activity_date": 1531725163, "creation_date": 1531724898, "last_edit_date": 1531725163, "question_id": 51356328, "link": "https://stackoverflow.com/questions/51356328/can-we-check-and-condition-inside-whenx", "title": "Can we check &quot;AND&quot; condition inside when(x)", "body": "<p>In <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">Kotlin refenrence</a>, it is written as multiple conditions can be matched using comma (,) inside a <code>when</code> control flow. For example-</p>\n\n<pre><code>when (x) {\n    0, 1 -&gt; print(\"x == 0 or x == 1\")\n    else -&gt; print(\"otherwise\")\n}\n</code></pre>\n\n<p>Here, in the first condition comma works like an OR operator.\nIs there any way to write an expression to match AND condition inside <code>when</code>?</p>\n"}, {"tags": ["string", "split", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 2, "last_activity_date": 1531725923, "creation_date": 1531725923, "answer_id": 51356593, "question_id": 51356259, "link": "https://stackoverflow.com/questions/51356259/kotlin-string-split-ignore-when-delimiter-is-inside-a-quote/51356593#51356593", "title": "Kotlin String.split, ignore when delimiter is inside a quote", "body": "<p>You can use split overload that accepts regular expressions for that:</p>\n\n<pre><code>val text = \"\"\"Hi there, \"Bananas are, by nature, evil.\", Hey there.\"\"\"\nval matchCommaNotInQuotes = Regex(\"\"\"\\,(?=([^\"]*\"[^\"]*\")*[^\"]*$)\"\"\")\nprintln(text.split(matchCommaNotInQuotes))\n</code></pre>\n\n<p>Would print:</p>\n\n<pre><code>[Hi there,  \"Bananas are, by nature, evil.\",  Hey there.]\n</code></pre>\n\n<p>Consider reading <a href=\"https://stackoverflow.com/a/6464500/155213\">this answer</a> on how the regular expression works in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "is_accepted": false, "score": 7, "last_activity_date": 1531727108, "last_edit_date": 1531727108, "creation_date": 1531725962, "answer_id": 51356605, "question_id": 51356259, "link": "https://stackoverflow.com/questions/51356259/kotlin-string-split-ignore-when-delimiter-is-inside-a-quote/51356605#51356605", "title": "Kotlin String.split, ignore when delimiter is inside a quote", "body": "<p>You can use <code>regex</code> in split method</p>\n\n<p>According to <a href=\"https://stackoverflow.com/a/18893443/4035036\">this answer</a> the following regex only matches <code>,</code> outside of the <code>\"</code> mark</p>\n\n<blockquote>\n  <p>,(?=(?:[^\\\"]<em>\\\"[^\\\"]</em>\\\")<em>[^\\\"]</em>$)</p>\n</blockquote>\n\n<p>so try this code:</p>\n\n<pre><code>str.split(\",(?=(?:[^\\\\\\\"]*\\\\\\\"[^\\\\\\\"]*\\\\\\\")*[^\\\\\\\"]*\\$)\".toRegex())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": false, "score": 2, "last_activity_date": 1531725969, "creation_date": 1531725969, "answer_id": 51356607, "question_id": 51356259, "link": "https://stackoverflow.com/questions/51356259/kotlin-string-split-ignore-when-delimiter-is-inside-a-quote/51356607#51356607", "title": "Kotlin String.split, ignore when delimiter is inside a quote", "body": "<p>You have to use a regular expression capable of handling quoted values. See <a href=\"https://stackoverflow.com/questions/1757065/java-splitting-a-comma-separated-string-but-ignoring-commas-in-quotes\">Java: splitting a comma-separated string but ignoring commas in quotes</a> and <a href=\"https://stackoverflow.com/questions/1189416/c-regular-expressions-how-to-parse-comma-separated-values-where-some-values\">C#, regular expressions : how to parse comma-separated values, where some values might be quoted strings themselves containing commas</a></p>\n\n<p>The following code shows a very simple version of such a regular expression. </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    \"Hi there, \\\"Bananas are, by nature, evil.\\\", Hey there.\"\n            .split(\",(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\".toRegex())\n            .forEach { println(\"&gt; $it\") }\n\n}\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>&gt; Hi there\n&gt;  \"Bananas are, by nature, evil.\"\n&gt;  Hey there.\n</code></pre>\n\n<p>Be aware of the regex backtracking problem: <a href=\"https://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/catastrophic.html</a>. You might be better off writing a parser.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 2, "last_activity_date": 1531726736, "creation_date": 1531726736, "answer_id": 51356805, "question_id": 51356259, "link": "https://stackoverflow.com/questions/51356259/kotlin-string-split-ignore-when-delimiter-is-inside-a-quote/51356805#51356805", "title": "Kotlin String.split, ignore when delimiter is inside a quote", "body": "<p>If you don't want regular expressions:</p>\n\n<pre><code>val s = \"Hi there, \\\"Bananas are, by nature, evil.\\\", Hey there.\"\nval hold = s.substringAfter(\"\\\"\").substringBefore(\"\\\"\")\nval temp = s.split(\"\\\"\")\nval splitted: MutableList&lt;String&gt; = (temp[0] + \"\\\"\" + temp[2]).split(\",\").toMutableList()\nsplitted[1] = \"\\\"\" + hold + \"\\\"\"\n</code></pre>\n\n<p><code>splitted</code> is the List you want</p>\n"}], "owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1531727108, "creation_date": 1531724582, "question_id": 51356259, "link": "https://stackoverflow.com/questions/51356259/kotlin-string-split-ignore-when-delimiter-is-inside-a-quote", "title": "Kotlin String.split, ignore when delimiter is inside a quote", "body": "<p>I have a string:</p>\n\n<pre><code>Hi there, \"Bananas are, by nature, evil.\", Hey there.\n</code></pre>\n\n<p>I want to split the string with commas as the delimiter. How do I get the .split method to ignore the comma inside the quotes, so that it returns 3 strings and not 5.</p>\n"}, {"tags": ["xml", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 1, "creation_date": 1531726006, "post_id": 51355156, "comment_id": 89685316, "body": "Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask good question</a> and <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">John&#39;s post</a>."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1531726243, "post_id": 51355156, "comment_id": 89685413, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16302453/kotlin-and-websockets\">Kotlin and WebSockets</a>"}], "owner": {"reputation": 69, "user_id": 7096116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4u4Vh.jpg?s=128&g=1", "display_name": "Alishan", "link": "https://stackoverflow.com/users/7096116/alishan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1401, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531719426, "creation_date": 1531719426, "question_id": 51355156, "link": "https://stackoverflow.com/questions/51355156/websocket-connection-in-kotlin", "title": "Websocket connection in kotlin?", "body": "<p>I developed android application in java but now I shifted to Kotlin so I don't know how to connect websocket in kotlin please help out</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531715657, "post_id": 51354612, "comment_id": 89681669, "body": "Tell us what you tried in the code and didn&#39;t working"}], "answers": [{"tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": false, "score": 3, "last_activity_date": 1531715778, "creation_date": 1531715778, "answer_id": 51354653, "question_id": 51354612, "link": "https://stackoverflow.com/questions/51354612/kotlin-vs-java-overrides/51354653#51354653", "title": "Kotlin vs Java @Overrides", "body": "<p>You can override functions and properties with the <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-methods\" rel=\"nofollow noreferrer\"><code>override</code> keyword</a>. Note though, that in Kotlin, classes are not extensible by default, so you have to declare the parent with <code>open</code> (i.e. <code>open class MyClass()</code>) if you want to extend it (Java classes are still extensible unless <code>final</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 9601667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6357a9c03b23e90c8678b8f002572cf6?s=128&d=identicon&r=PG&f=1", "display_name": "mel.j", "link": "https://stackoverflow.com/users/9601667/mel-j"}, "is_accepted": true, "score": 7, "last_activity_date": 1531716233, "creation_date": 1531716233, "answer_id": 51354708, "question_id": 51354612, "link": "https://stackoverflow.com/questions/51354612/kotlin-vs-java-overrides/51354708#51354708", "title": "Kotlin vs Java @Overrides", "body": "<p>If you want to override method, Use <code>override</code> keyword.</p>\n\n<p>Like this.</p>\n\n<pre><code>override fun addNumber(i : Int) {\n  val sum = i+10\n}\n</code></pre>\n\n<p>You must declare method that be overrided with <code>open</code> keyword.\nIf you don't, You can't override it.</p>\n\n<pre><code>open fun addNumber(i : T)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8949356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a520544ddd34fec4baae60f12e364199?s=128&d=identicon&r=PG&f=1", "display_name": "Paul S.", "link": "https://stackoverflow.com/users/8949356/paul-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 51354708, "answer_count": 2, "score": 4, "last_activity_date": 1531716233, "creation_date": 1531715364, "question_id": 51354612, "link": "https://stackoverflow.com/questions/51354612/kotlin-vs-java-overrides", "title": "Kotlin vs Java @Overrides", "body": "<p>As shown here, <a href=\"https://stackoverflow.com/a/16639438/8949356\">https://stackoverflow.com/a/16639438/8949356</a>, in Java you can override the function of a declared class when it is public</p>\n\n<p>But I want to know how to do this exact same code in Kotlin, I've tried a lot but haven't found anywhere something on this topic. And I could just go and do this in Java but the rest of my code is in Kotlin, plus I just can't stay with this kind of doubt; Kotlin feels like a great tool to me and want to learn it all.</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 2836, "user_id": 5827197, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DaJzg.jpg?s=128&g=1", "display_name": "Zaid Mirza", "link": "https://stackoverflow.com/users/5827197/zaid-mirza"}, "edited": false, "score": 0, "creation_date": 1531718065, "post_id": 51354406, "comment_id": 89682280, "body": "obviously, coordinates of center will change if you scroll : |"}, {"owner": {"reputation": 31, "user_id": 10086070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270724ddc30542884aaff36c5ad82272?s=128&d=identicon&r=PG&f=1", "display_name": "Ryuta", "link": "https://stackoverflow.com/users/10086070/ryuta"}, "reply_to_user": {"reputation": 2836, "user_id": 5827197, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DaJzg.jpg?s=128&g=1", "display_name": "Zaid Mirza", "link": "https://stackoverflow.com/users/5827197/zaid-mirza"}, "edited": false, "score": 0, "creation_date": 1531722148, "post_id": 51354406, "comment_id": 89683552, "body": "Yes, i want to showing that coordinate in textview. But, my code did&#39;nt work"}], "answers": [{"comments": [{"owner": {"reputation": 2836, "user_id": 5827197, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DaJzg.jpg?s=128&g=1", "display_name": "Zaid Mirza", "link": "https://stackoverflow.com/users/5827197/zaid-mirza"}, "edited": false, "score": 0, "creation_date": 1531726639, "post_id": 51355665, "comment_id": 89685627, "body": "projection is heavy operation"}], "tags": [], "owner": {"reputation": 607, "user_id": 4141537, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jGwJ6TeKlk0/AAAAAAAAAAI/AAAAAAAADEE/TQE37EL2lcQ/photo.jpg?sz=128", "display_name": "Satender Kumar", "link": "https://stackoverflow.com/users/4141537/satender-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1531722063, "creation_date": 1531722063, "answer_id": 51355665, "question_id": 51354406, "link": "https://stackoverflow.com/questions/51354406/how-to-get-coordinate-center-maps-on-android-and-showing-in-textview/51355665#51355665", "title": "How to get coordinate center maps on android and showing in textview?", "body": "<p>In onCameraIdle method </p>\n\n<pre><code>LatLng latLng = googleMap.getProjection().getVisibleRegion().latLngBounds.getCenter();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10086070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270724ddc30542884aaff36c5ad82272?s=128&d=identicon&r=PG&f=1", "display_name": "Ryuta", "link": "https://stackoverflow.com/users/10086070/ryuta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531722063, "creation_date": 1531713610, "last_edit_date": 1531717470, "question_id": 51354406, "link": "https://stackoverflow.com/questions/51354406/how-to-get-coordinate-center-maps-on-android-and-showing-in-textview", "title": "How to get coordinate center maps on android and showing in textview?", "body": "<p>I'm trying to get coordinate from center of maps and showing in textview, and When I scroll map, coordinate changed.</p>\n\n<p><strong>Here is my Kotlin code:</strong></p>\n\n<pre><code>class ActivityMapsNewPlotBng :\n        AppCompatActivity(),\n        OnMapReadyCallback,\n        GoogleMap.OnCameraIdleListener,\n        GoogleApiClient.ConnectionCallbacks,\n        GoogleApiClient.OnConnectionFailedListener,\n        LocationListener{\n...\noverride fun onLocationChanged(newLocation: Location?) {\n        val latLng = LatLng(newLocation!!.latitude, newLocation.longitude)\n        mMapsNPlotBng!!.moveCamera(CameraUpdateFactory.newLatLng(latLng))\n        mMapsNPlotBng!!.animateCamera(CameraUpdateFactory.zoomTo(18f))\n        if (mGoogleApiClient != null){\n            LocationServices.FusedLocationApi.removeLocationUpdates(mGoogleApiClient, this)\n        }\n\n    }\n\n    override fun onCameraIdle() {\n        val centerPos : LatLng = mMapsNPlotBng.cameraPosition.target\n        tv_nplotbng_lat.setText(\"\" + centerPos.latitude)\n        tv_nplotbng_long.setText(\"\" + centerPos.longitude)\n    }\n}\n</code></pre>\n\n<p>This code didn't work, please help me.\nThank's for attention.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4112, "user_id": 2754727, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zJj1l.png?s=128&g=1", "display_name": "pnavk", "link": "https://stackoverflow.com/users/2754727/pnavk"}, "edited": false, "score": 0, "creation_date": 1531713775, "post_id": 51354125, "comment_id": 89681269, "body": "What is the compilation error?"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1531724285, "post_id": 51354823, "comment_id": 89684478, "body": "Thank! Would you please see my added content in the question ?"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1531725771, "post_id": 51354823, "comment_id": 89685221, "body": "@HelloCW Updated. What <code>flatMap</code> does is: For each element in the list, apply the function (which returns a list or a collection), and then concatenate the return value (list or collection) of the function."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 3, "last_activity_date": 1531725337, "last_edit_date": 1531725337, "creation_date": 1531717053, "answer_id": 51354823, "question_id": 51354125, "link": "https://stackoverflow.com/questions/51354125/why-do-i-need-invoke-tolist-when-i-launch-flatmap-in-kotlin/51354823#51354823", "title": "Why do I need invoke toList() when I launch flatMap in kotlin?", "body": "<p>Sidenote: If you do not re-assign, <code>val</code> is more preferred than <code>var</code>.</p>\n\n<hr/>\n\n<pre><code>val my = listOf(\"abc\",\"cef\")\nval bb = my.toList()\n</code></pre>\n\n<p>Here, the type of <code>my</code> is <code>List&lt;String&gt;</code>, and its elements are <code>\"abc\"</code> and <code>\"cef\"</code>.</p>\n\n<p>The type of <code>bb</code> is <code>List&lt;String&gt;</code> because <code>List</code> is transformed into <code>List</code>,<br>\nand its elements are <code>\"abc\"</code> and <code>\"cef\"</code>.</p>\n\n<p>i.e., <code>my</code> and <code>bb</code> are equivalent, although they are different instances. You do not need <code>bb</code>.</p>\n\n<hr/>\n\n<pre><code>var ok1 = my.flatMap {it.toList()}\n</code></pre>\n\n<p>This is similar to</p>\n\n<pre><code>var ok1 = listOf&lt;Char&gt;() // empty List\nfor (it in my) {\n    // `it` is the `String` type.\n    // For the 1st iteration, it = \"abc\"\n    // For the 2nd iteration, it = \"cef\"\n\n    val chars: List&lt;Char&gt; = it.toList() // String is transformed into List of Chars\n\n    ok1 = ok1 + chars\n}\n</code></pre>\n\n<hr/>\n\n<pre><code>var ok2 = my.flatMap { bb }\n</code></pre>\n\n<p>This is similar to</p>\n\n<pre><code>var ok2 = listOf&lt;String&gt;() // empty List\nfor (it in my) {\n    // `it` is the `String` type.\n    // For the 1st iteration, it = \"abc\"\n    // For the 2nd iteration, it = \"cef\"\n\n    ok2 = ok1 + bb // You know, bb = listOf(\"abc, \"cef\")\n}\n</code></pre>\n\n<p>So, <code>ok2 = bb + bb</code> (the for-loop is iterated twice because <code>my</code> has 2 elements.)<br>\nwhich means <code>ok2 = listOf(\"abc\", \"cef\") + listOf(\"abc\", \"cef\")</code><br>\nwhich means <code>ok2 = listOf(\"abc\", \"cef\", \"abc\", \"cef\")</code></p>\n\n<hr/>\n\n<pre><code>val ok3=my.flatMap { it }  //It's wrong\n</code></pre>\n\n<p>This is similar to</p>\n\n<pre><code>var ok3 = listOf&lt;?&gt;() // empty List\nfor (it in my) {\n    // `it` is the `String` type.\n    // For the 1st iteration, it = \"abc\"\n    // For the 2nd iteration, it = \"cef\"\n\n    ok3 = ok3 + it\n}\n</code></pre>\n\n<p><code>ok3</code> must be the <code>List</code> type. However, <code>it</code> is <code>String</code> type, the type does not match.\nSo, compile error!</p>\n\n<p><hr/>\nIf you need to concatenate a <code>List</code> of <code>String</code>, you can use <code>joinToString()</code> method.</p>\n\n<pre><code>val my = listOf(\"abc\", \"cef\")\nval concat = my.joinToString(\"\") // insert empty string between elements.\n</code></pre>\n\n<hr/>\n\n<p>Refer to the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"nofollow noreferrer\">Kotlin standard library document of <code>List</code></a>.</p>\n\n<blockquote>\n<pre><code>fun &lt;T, R&gt; Iterable&lt;T&gt;.flatMap(\n    transform: (T) -&gt; Iterable&lt;R&gt;\n): List&lt;R&gt;\n</code></pre>\n  \n  <p>Returns a single list of all elements yielded from results of\n  transform function being invoked on each element of original\n  collection.</p>\n</blockquote>\n\n<p>Assume a variable <code>list</code> has the type <code>List&lt;T&gt;</code>.</p>\n\n<p>If we want to execute <code>val newList = list.flatMap(function)</code>, then</p>\n\n<p><code>function</code> should have the function type <code>(T) -&gt; Iterable&lt;R&gt;</code>.<br>\n(<code>function</code>'s parameter is <code>T</code>-type, and it retuns <code>Iterable&lt;R&gt;</code>. <code>List</code> is a subtype of <code>Collection</code>, and <code>Collection is a subtype of</code>Iterable<code>, so</code>List<code>is a subtype of</code>Iterable`.)</p>\n\n<p><code>newList</code> will have the type <code>List&lt;R&gt;</code>.</p>\n\n<p><code>it</code> in the question will be the parameter of <code>function</code>.</p>\n\n<p>So, <code>it</code> will be <code>T</code>-type, not <code>List&lt;T&gt;</code>-type.<br>\ni.e., <code>it</code> will be <code>String</code>-type, not <code>List&lt;String&gt;</code>-type.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9129794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa764e055b8726f2ba002c810405fdfd?s=128&d=identicon&r=PG&f=1", "display_name": "aids61517", "link": "https://stackoverflow.com/users/9129794/aids61517"}, "is_accepted": false, "score": 1, "last_activity_date": 1531726288, "creation_date": 1531726288, "answer_id": 51356693, "question_id": 51354125, "link": "https://stackoverflow.com/questions/51354125/why-do-i-need-invoke-tolist-when-i-launch-flatmap-in-kotlin/51356693#51356693", "title": "Why do I need invoke toList() when I launch flatMap in kotlin?", "body": "<p>1.</p>\n\n<pre><code>var my=listOf(\"abc\",\"cef\")\nvar ok1=my.flatMap {it.toList()}\n//var ok3=my.flatMap { it }  //It's wrong\n</code></pre>\n\n<p>In this case :<br/>\n- <code>flatMap</code> transforms <code>A</code> to <code>Iterable&lt;&gt;</code> <br/>\n- type of <code>it</code> is <code>String</code> . <br/>\n- <code>String.toList()</code> returns <code>List&lt;Char&gt;</code></p>\n\n<p><code>var ok3=my.flatMap { it }</code> is wrong because you need to transform <code>String</code> to <code>Iterable&lt;&gt;</code> like <code>List&lt;&gt;</code></p>\n\n<p>2.<br/></p>\n\n<pre><code>var ok2=my.flatMap { bb } get an error result\n</code></pre>\n\n<p><code>my</code> has 2 elements, so <code>my.flatMap { bb }</code> do twice about return <code>bb</code> . <br/> \nyou will get <code>{\"abc\",\"cef\",\"abc\",\"cef\"}</code> after returning twice <code>bb</code></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 51354823, "answer_count": 2, "score": 3, "last_activity_date": 1531726288, "creation_date": 1531710917, "last_edit_date": 1531724226, "question_id": 51354125, "link": "https://stackoverflow.com/questions/51354125/why-do-i-need-invoke-tolist-when-i-launch-flatmap-in-kotlin", "title": "Why do I need invoke toList() when I launch flatMap in kotlin?", "body": "<p>I can get a correct result when I use <code>my.flatMap {it.toList()}</code>.</p>\n\n<p>I think that the val <code>my</code> is a <code>List&lt;String&gt;</code>, so I needn't to invoke <code>toList()</code>, but the code <code>var ok3=my.flatMap { it }</code> can't be compiled, why?</p>\n\n<p>And more, the code <code>var ok2=my.flatMap { bb }</code> get an error result, why?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>var my=listOf(\"abc\",\"cef\")\nvar bb=my.toList()\n\nvar ok1=my.flatMap {it.toList()}\nvar ok2=my.flatMap { bb }\n//var ok3=my.flatMap { it }  //It's wrong\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ByGBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ByGBm.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>To Naetmul:</strong></p>\n\n<p>Thanks!</p>\n\n<p>Why do you think that <code>it</code> is <code>String</code> type in the code <code>val ok3=my.flatMap { it }</code> </p>\n\n<p>In my mind, <code>it</code> should be <code>my</code> type in the lambda expression, and <code>my</code> is <code>List&lt;String&gt;</code> type.</p>\n\n<p><strong>Image</strong>\n<a href=\"https://i.stack.imgur.com/6O1Xf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6O1Xf.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "homebrew"], "comments": [{"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1531724784, "post_id": 51353508, "comment_id": 89684744, "body": "Have you tried to run <code>brew upgrade kotlin</code>?"}, {"owner": {"reputation": 1365, "user_id": 1848653, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01b16c9fb1ae46f317a53694e944a1e6?s=128&d=identicon&r=PG", "display_name": "Tusshu", "link": "https://stackoverflow.com/users/1848653/tusshu"}, "reply_to_user": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1531743021, "post_id": 51353508, "comment_id": 89695100, "body": "brew upgrade  kotlin gives following error: kotlin 1.2.51 already installed"}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1531753675, "post_id": 51353508, "comment_id": 89702158, "body": "Maybe you have a second Kotlin installation in you path. <code>&#47;usr&#47;local&#47;bin&#47;kotlin -version</code> should print the version of the Kotlin installation from brew"}, {"owner": {"reputation": 1365, "user_id": 1848653, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01b16c9fb1ae46f317a53694e944a1e6?s=128&d=identicon&r=PG", "display_name": "Tusshu", "link": "https://stackoverflow.com/users/1848653/tusshu"}, "reply_to_user": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1531850199, "post_id": 51353508, "comment_id": 89747117, "body": "This morning, MAC OS was upgraded to version 10.13.6. Now correct version is reported. I think the other version got removed during the upgrade. - Thanks"}], "owner": {"reputation": 1365, "user_id": 1848653, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01b16c9fb1ae46f317a53694e944a1e6?s=128&d=identicon&r=PG", "display_name": "Tusshu", "link": "https://stackoverflow.com/users/1848653/tusshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534493743, "creation_date": 1531704269, "last_edit_date": 1534493743, "question_id": 51353508, "link": "https://stackoverflow.com/questions/51353508/kotlin-and-kotlinc-report-different-versions", "title": "kotlin and kotlinc report different versions", "body": "<p>I upgraded kotlin compiler using brew in mac os using following command:</p>\n\n<p><code>brew upgrade kotlin-compiler</code></p>\n\n<p>kotlinc -version prints:</p>\n\n<pre><code>kotlinc-jvm 1.2.51 (JRE 1.8.0_171-b11)\n</code></pre>\n\n<p>kotlin -version prints: </p>\n\n<pre><code>Kotlin version 1.2.41-release-74 (JRE 1.8.0_171-b11)\n</code></pre>\n\n<p>After upgrade, shouldn't both version be same?</p>\n"}, {"tags": ["android", "kotlin", "build.gradle", "kotlin-android-extensions", "android-jetpack"], "comments": [{"owner": {"reputation": 1312, "user_id": 2301782, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ff5b14c1871988c9d7f4b38c59a87b74?s=128&d=identicon&r=PG&f=1", "display_name": "TheGraduateGuy", "link": "https://stackoverflow.com/users/2301782/thegraduateguy"}, "edited": false, "score": 0, "creation_date": 1576148209, "post_id": 51353180, "comment_id": 104808737, "body": "Did you find any solution to it ? I am facing similar problem"}], "answers": [{"comments": [{"owner": {"reputation": 918, "user_id": 7889026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9fa520606a0eed6c48cbfe04e9e2b2?s=128&d=identicon&r=PG&f=1", "display_name": "harold_admin", "link": "https://stackoverflow.com/users/7889026/harold-admin"}, "edited": false, "score": 0, "creation_date": 1564730670, "post_id": 52662611, "comment_id": 101134165, "body": "I have the same problem in my project. This error only shows up when I try to run Instrumentation Tests. The app builds and runs just fine otherwise.  I am using only AndroidX versions of all libraries in my project, so I don&#39;t know what could be the problem."}], "tags": [], "owner": {"reputation": 53, "user_id": 2335863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kwqUG.png?s=128&g=1", "display_name": "tuxdost", "link": "https://stackoverflow.com/users/2335863/tuxdost"}, "is_accepted": false, "score": 1, "last_activity_date": 1539085558, "last_edit_date": 1539085558, "creation_date": 1538732197, "answer_id": 52662611, "question_id": 51353180, "link": "https://stackoverflow.com/questions/51353180/android-resource-linking-failed-due-to-missing-boolean-resource-values-using-jet/52662611#52662611", "title": "Android resource linking failed due to missing boolean resource values using Jetpack Workflow", "body": "<p>You are definitely lacking declaration of these values.\nAre you trying to work on an existing project and probably are changing the API (compileSdkVersion and targetSdkVersion)?</p>\n\n<p>Try compiling the project with the version it was delivered with. If the module was compiling successfully before then you may have changed the API to a lower version where these bool values are not defined.</p>\n\n<p>You can do one of the two:</p>\n\n<p>a) change the API back to the higher version if no compelling reason to support old library<br>\nb) remove these values if you don't need them in java source or define them by yourself</p>\n\n<p>I recently ran in similar issues and hope these ideas help you - probably already solved as the question was asked two months ago. \nWould be interesting to hear what solved your issue.</p>\n"}, {"tags": [], "owner": {"reputation": 1312, "user_id": 2301782, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ff5b14c1871988c9d7f4b38c59a87b74?s=128&d=identicon&r=PG&f=1", "display_name": "TheGraduateGuy", "link": "https://stackoverflow.com/users/2301782/thegraduateguy"}, "is_accepted": false, "score": 1, "last_activity_date": 1577191520, "creation_date": 1577191520, "answer_id": 59469043, "question_id": 51353180, "link": "https://stackoverflow.com/questions/51353180/android-resource-linking-failed-due-to-missing-boolean-resource-values-using-jet/59469043#59469043", "title": "Android resource linking failed due to missing boolean resource values using Jetpack Workflow", "body": "<p>I also had similar issue when I had dynamic feature in my code base. The solution was to include dependency of workManager for test module as well using androidTestImplementation.</p>\n\n<pre><code>androidTestImplementation androidx.work:work-runtime-ktx:&lt;version&gt;\n</code></pre>\n\n<p>I added in common gradle file and it solved the problem for me.</p>\n"}, {"tags": [], "owner": {"reputation": 12144, "user_id": 1581185, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UVLZc.jpg?s=128&g=1", "display_name": "Sagar Maiyad", "link": "https://stackoverflow.com/users/1581185/sagar-maiyad"}, "is_accepted": false, "score": 5, "last_activity_date": 1586427980, "creation_date": 1586427980, "answer_id": 61119061, "question_id": 51353180, "link": "https://stackoverflow.com/questions/51353180/android-resource-linking-failed-due-to-missing-boolean-resource-values-using-jet/61119061#61119061", "title": "Android resource linking failed due to missing boolean resource values using Jetpack Workflow", "body": "<p>You should also add a dependency to your app module or core module:</p>\n\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.3.4'\n</code></pre>\n\n<p>Once you add, then again add in your module where you need it.</p>\n"}], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1586427980, "creation_date": 1531699922, "question_id": 51353180, "link": "https://stackoverflow.com/questions/51353180/android-resource-linking-failed-due-to-missing-boolean-resource-values-using-jet", "title": "Android resource linking failed due to missing boolean resource values using Jetpack Workflow", "body": "<p>I am using some of the <code>Jetpack</code> libraries and also using instantstart.</p>\n\n<p>I am getting these errors:</p>\n\n<blockquote>\n  <p>Android resource linking failed Output: \n  /base/build/intermediates/merged_manifests/debugFeature/processDebugFeatureManifest/merged/AndroidManifest.xml:66:\n  error: resource bool/enable_system_alarm_service_default (aka\n  farm.app:bool/enable_system_alarm_service_default) not found.</p>\n  \n  <p>/base/build/intermediates/merged_manifests/debugFeature/processDebugFeatureManifest/merged/AndroidManifest.xml:71:\n  error: resource bool/enable_system_job_service_default (aka\n  farm.app:bool/enable_system_job_service_default) not found.</p>\n  \n  <p>/base/build/intermediates/merged_manifests/debugFeature/processDebugFeatureManifest/merged/AndroidManifest.xml:122:\n  error: resource bool/enable_system_alarm_service_default (aka\n  farm.app:bool/enable_system_alarm_service_default) not found.</p>\n  \n  <p>/base/build/intermediates/merged_manifests/debugFeature/processDebugFeatureManifest/merged/AndroidManifest.xml:137:\n  error: resource integer/google_play_services_version (aka\n  farm.app:integer/google_play_services_version) not found. error:\n  failed processing manifest.</p>\n</blockquote>\n\n<p>And one example of what is in the combined <code>AndroidManifest</code> is:</p>\n\n<pre><code>&lt;receiver\n    android:name=\"androidx.work.impl.background.systemalarm.ConstraintProxyUpdateReceiver\"\n    android:enabled=\"@bool/enable_system_alarm_service_default\"\n    android:exported=\"false\" &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"androidx.work.impl.background.systemalarm.UpdateProxies\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>I looked at <a href=\"https://stackoverflow.com/questions/50525625/error-processing-merging-manifest\">Error processing / merging manifest</a> but it is different as I didn't create these values.</p>\n\n<p>Should I just create a res/values for these booleans or should they be there and I missed including something.</p>\n\n<p>The files that seem to be the cause are:</p>\n\n<p>def work_version = \"1.0.0-alpha04\"</p>\n\n<p>implementation \"android.arch.work:work-runtime-ktx:$work_version\" // use -ktx for Kotlin</p>\n\n<p>// optional - Firebase JobDispatcher support\nimplementation \"android.arch.work:work-firebase:$work_version\"</p>\n\n<p>// optional - Test helpers\nandroidTestImplementation \"android.arch.work:work-testing:$work_version\"</p>\n"}, {"tags": ["kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531693181, "post_id": 51352560, "comment_id": 89677769, "body": "You might be hitting a JavaFX bug here. Which version of the JDK are you using?"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531694179, "post_id": 51352560, "comment_id": 89677938, "body": "Hey thanks well currently i am using 8 and target jvm 1.8 i am kinda new to java aswell  :O"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531694395, "post_id": 51352560, "comment_id": 89677982, "body": "Yes I am using NetBeans with JDK 8 and when i used 10 for a bit i had some problems with apache poi where i got  java Illegal reflection warning so i just switched to 8 hm"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531696566, "post_id": 51352560, "comment_id": 89678357, "body": "Okay now i just tried using java 10 and it compiles fine but i cant launch it :owell i dont know at this point"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531734148, "post_id": 51352560, "comment_id": 89689763, "body": "TornadoFX is only compatible with JDK8, and you need to use the latest version available. Please confirm, and also make sure your code sample is actually runnable, ie. includes all the classes you reference."}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531739745, "post_id": 51352560, "comment_id": 89693095, "body": "ah okay sure I will go and check all my dependencys versions :) On a side note what build system do you prefer Gradle or Maven? I am using Maven atm"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531741494, "post_id": 51352560, "comment_id": 89694141, "body": "Hey okay so now i just made sure i am using all the latest stable versions in my maven file but i just found out that the problem only occurre when i delete quickly in the textfield that filters my data but if i just &quot;slowly&quot; delete each char i have not reproduce the problem yet. do you by any chance know if i can limit that or at least ignore the error so it dossnt pop up ?"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531754359, "post_id": 51352560, "comment_id": 89702573, "body": "Well Well this is a problem with the textfield i just created one and when i enter text in it and hold down the key to delete the previous char the error pops up no bindings atall"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531768115, "post_id": 51352560, "comment_id": 89709519, "body": "Thanks for the bug fix it is working now!"}, {"owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531827751, "post_id": 51352560, "comment_id": 89732567, "body": "This is weird now the problem is back :o and it is happening to a textfield with no bindings at all"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531917851, "post_id": 51352560, "comment_id": 89775395, "body": "Then post the complete, minimal code sample which exhibits this error."}], "owner": {"reputation": 99, "user_id": 10085345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f498e4221cc8a09986c34f3009d4ca56?s=128&d=identicon&r=PG&f=1", "display_name": "Lambda", "link": "https://stackoverflow.com/users/10085345/lambda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531737743, "creation_date": 1531692228, "last_edit_date": 1531737743, "question_id": 51352560, "link": "https://stackoverflow.com/questions/51352560/kotlin-tornadofx-filterlist-string-out-of-range", "title": "Kotlin Tornadofx FilterList String out of range", "body": "<p>I am trying to learn tornadofx and i have come across an error i cant figure out how to solve sadly I am using the filterwhen fun and it works great however when i filter the data i get the error handler telling me i have a string out of range and it happens randomly often when i delete a char from the textfield i know the code is a mess :D</p>\n\n<pre><code>enter code hereclass CenterView : View(\"My View\") {\nprivate val ExcelHandler: ExcelController by inject()\nprivate var content =  mutableListOf&lt;Products&gt;().observable()\nprivate var rowcounter = SimpleIntegerProperty()\nprivate var oktorun = SimpleBooleanProperty(true)\nval table = TableView&lt;Products&gt;()\nval data = SortedFilteredList(content).bindTo(table)\nprivate var Accounts =  mutableListOf&lt;String&gt;().observable()\n\n\n\n\noverride val root = borderpane() {\n\n    bottom{\n        hbox(10) {\n\n            style{\n                padding = box(10.px)\n                alignment = Pos.CENTER\n            }\n\n\n            button(\"Import\"){\n                addClass(Styles.btmDesign)\n                style{\n                   backgroundColor += Color.PURPLE\n                    fontFamily = \"Comic Sans MS\"\n                }\n                useMaxWidth = true\n                enableWhen(oktorun)\n                action {\n                    oktorun.value = false\n                    runAsync {\n                        ExcelHandler.readExcel(\"data/test.xlsx\")\n                    } ui { loadedText -&gt;\n                        content.isEmpty()\n                        content.addAll(loadedText.observable())\n                        rowcounter.value = loadedText.count()\n                        Accounts.addAll(loadedText.map { it.Account }.toList().distinct()\n                                .observable())\n                        oktorun.value = true\n                    }\n\n\n                }\n            }\n            hbox{\n                label(\"Rows \")\n                {\n                    style{\n                        fontSize = 20.px\n                        fontWeight = FontWeight.BOLD\n                    }\n                }\n                label {\n                    style{\n                        fontSize = 20.px\n                        fontWeight = FontWeight.BOLD\n                        textFill = Color.GREEN\n                    }\n                    bind(rowcounter)\n                }\n            }\n\n            textfield {\n                promptText = \"Filter\"\n                data.filterWhen(textProperty()) { query, item -&gt;\n                    item.Account!!.contains(query, ignoreCase = true)\n                }\n\n\n            }\n    }\n\n\n    left{\n        listview(Accounts) {\n            style{\n                padding = box(20.px)\n                fontSize = 20.px\n                fontWeight = FontWeight.BOLD\n            }\n        }\n    }\n    center{\n        style{\n            prefWidth = 100.px\n            alignment = Pos.CENTER\n            padding = box(20.px)\n        }\n        tableview(data) {\n            isEditable = true\n\n            style{\n\n                fontSize =20.px\n                fontWeight = FontWeight.EXTRA_BOLD\n            }\n            column(\"External\", Products::ExternalProperty)\n            column(\"ItemRelation\", Products::ItemRelationProperty)\n            column(\"Account\",Products::AccountProperty)\n            column(\"Price\", Products::AmmountProperty)\n            column(\"currency\", Products::ValutaProperty)\n            column(\"Date\", Products::DateProperty)\n            column(\"Status\", Products::StatusProperty)\n            enableDirtyTracking()\n            columnResizePolicy = SmartResize.POLICY\n        }.multiSelect(true)\n    }\n    right {\n\n    }\n\n}\n\n}\n}\n</code></pre>\n\n<p>Thank you very much for your time!</p>\n\n<p>the error is</p>\n\n<blockquote>\n  <p>java.lang.StringIndexOutOfBoundsException: String index out of range:\n  3     at java.lang.String.charAt(String.java:658)     at\n  com.sun.glass.ui.win.WinTextRangeProvider.GetBoundingRectangles(WinTextRangeProvider.java:314)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)  at\n  com.sun.glass.ui.win.WinApplication.lambda$null$147(WinApplication.java:177)\n    at java.lang.Thread.run(Thread.java:748)</p>\n</blockquote>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1531741783, "creation_date": 1531741783, "answer_id": 51361155, "question_id": 51352067, "link": "https://stackoverflow.com/questions/51352067/noarg-constructor-is-not-getting-created/51361155#51361155", "title": "Noarg constructor is not getting created", "body": "<p>I'm not fully sure with the answer but:</p>\n\n<ol>\n<li><code>kotlin-noarg</code> provides a syntactic constructor(only available with reflection)</li>\n<li>If spring is trying to instantiate <code>UserForm</code> directly (without reflection) it will fail.</li>\n<li>There is a way to avoid the problem.\nMark <code>UserForm</code> as <code>@Entity</code> after this it will be recognized as something that belongs to spring. After this no-arg constructor will be either generated by <code>kotlin-spring</code> plugin or you need to add <code>kotlin-jpa</code> plugin</li>\n</ol>\n"}], "owner": {"reputation": 1641, "user_id": 1743253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/46c00090b117c658142ef9235d005c4e?s=128&d=identicon&r=PG", "display_name": "Oleksandr.Bezhan", "link": "https://stackoverflow.com/users/1743253/oleksandr-bezhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531741783, "creation_date": 1531687162, "last_edit_date": 1531723861, "question_id": 51352067, "link": "https://stackoverflow.com/questions/51352067/noarg-constructor-is-not-getting-created", "title": "Noarg constructor is not getting created", "body": "<p>I configured <code>kotlin-noarg</code> plugin in my <code>Spring</code> application:</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.51'\n    }\n    dependencies {\n        // ...\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:${kotlinVersion}\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: \"kotlin-noarg\"\n\nnoArg {\n    annotation(\"com.example.demo.DefaultConstructor\")\n    invokeInitializers = true\n}\n</code></pre>\n\n<p>Then I have my annotation declared:</p>\n\n<pre><code>package com.example.demo\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.CLASS)\nannotation class DefaultConstructor\n</code></pre>\n\n<p>And then I have my class:</p>\n\n<pre><code>@DefaultConstructor\ndata class UserForm(@field:NotNull\n                    @field:DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm\") val dateTime: LocalDateTime)\n</code></pre>\n\n<p>Here is how I'm trying to use <code>UserForm</code> class:</p>\n\n<pre><code>@GetMapping(\"\")\npublic String userForm(UserForm userForm) {\n    userForm.copy(LocalDateTime.now());\n    return \"/users/form\";\n}\n</code></pre>\n\n<p>So <code>Spring</code> is trying here to initialize my <code>UserForm</code> class using reflection, but there is no default constructor being generated, despite <code>kotlin-noarg</code> plugin being configured(correctly, I believe).</p>\n\n<p>Where is the problem here ? Is it because of misconfiguration of the <code>kotlin-noarg</code> plugin ? And how to fix it ? </p>\n\n<p>I created <a href=\"https://github.com/alexbezhan/localdatetime-binding-error\" rel=\"nofollow noreferrer\">demo project</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531684058, "post_id": 51351412, "comment_id": 89675855, "body": "You are missing <code>setContentView</code>"}], "answers": [{"comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 1, "creation_date": 1531686751, "post_id": 51352017, "comment_id": 89676527, "body": "but OP is using kotlin extension and local variable needs to be declared nullable ?"}, {"owner": {"reputation": 33, "user_id": 9941187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7e1ff725d66c8c4123cfc397072f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Aniskonig", "link": "https://stackoverflow.com/users/9941187/aniskonig"}, "edited": false, "score": 0, "creation_date": 1531686928, "post_id": 51352017, "comment_id": 89676558, "body": "Did you simulate it sir ?"}, {"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 0, "creation_date": 1531687124, "post_id": 51352017, "comment_id": 89676606, "body": "Do you want screenshots? notice also, that iI changed the variable name"}, {"owner": {"reputation": 33, "user_id": 9941187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7e1ff725d66c8c4123cfc397072f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Aniskonig", "link": "https://stackoverflow.com/users/9941187/aniskonig"}, "edited": false, "score": 0, "creation_date": 1531687482, "post_id": 51352017, "comment_id": 89676700, "body": "i just want  a solution please"}], "tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": false, "score": 0, "last_activity_date": 1531686641, "creation_date": 1531686641, "answer_id": 51352017, "question_id": 51351412, "link": "https://stackoverflow.com/questions/51351412/particularly-case-of-webview-must-not-be-null/51352017#51352017", "title": "particularly case of &quot; WebView must not be null &quot;", "body": "<p>This exact piece of code works finr with no errors</p>\n\n<pre><code>    val webview: WebView? = findViewById&lt;WebView&gt;(R.id.webv)\n    webview?.webViewClient = WebViewClient()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9941187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7e1ff725d66c8c4123cfc397072f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Aniskonig", "link": "https://stackoverflow.com/users/9941187/aniskonig"}, "edited": false, "score": 0, "creation_date": 1531692268, "post_id": 51352269, "comment_id": 89677638, "body": "This is really cool I do not know how to thank you thank you for everything"}], "tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": true, "score": 1, "last_activity_date": 1531689226, "creation_date": 1531689226, "answer_id": 51352269, "question_id": 51351412, "link": "https://stackoverflow.com/questions/51351412/particularly-case-of-webview-must-not-be-null/51352269#51352269", "title": "particularly case of &quot; WebView must not be null &quot;", "body": "<p>Actually there's a lot wrong with your code, firstly the background, get rid of that.</p>\n\n<p>This is how the your activity_license.xml must look:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/bg2\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:theme=\"@style/AppFullScreenTheme\"\n    tools:context=\".License\"&gt;\n\n    &lt;WebView\n        android:id=\"@+id/webv\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;/WebView&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Secondly, change the code in your entire License Activity, your onCreate must look like so:</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_license)\n        val url: String = intent.getStringExtra(\"targetURL\") ?: \"\"\n        val webView = findViewById&lt;WebView&gt;(R.id.webv)\n        webView.loadUrl(url)\n    }\n</code></pre>\n\n<p>And please put actual urls on your button click logic, like so:</p>\n\n<pre><code>    button1.setOnClickListener{\n        val intent = Intent(this, License::class.java)\n        intent.putExtra(\"targetURL\", \"https://www.google.com\")\n        startActivity(intent)\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9941187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7e1ff725d66c8c4123cfc397072f8a?s=128&d=identicon&r=PG&f=1", "display_name": "Aniskonig", "link": "https://stackoverflow.com/users/9941187/aniskonig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "accepted_answer_id": 51352269, "answer_count": 2, "score": 2, "last_activity_date": 1531689226, "creation_date": 1531681980, "last_edit_date": 1531684593, "question_id": 51351412, "link": "https://stackoverflow.com/questions/51351412/particularly-case-of-webview-must-not-be-null", "title": "particularly case of &quot; WebView must not be null &quot;", "body": "<p>i'm trying in this code to open a website by clicking in a button which open the second activity and a link.</p>\n\n<p>my first activity Code :</p>\n\n<pre><code>package com.medanis.fneclis\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        button1.setOnClickListener{\n            val intent = Intent(this, License::class.java)\n// To pass any data to another activity\n            intent.putExtra(\"targetURL\", \"www.firstlink.com\")\n// start your SecondActivity\n            startActivity(intent)\n\n        }\n        button2.setOnClickListener{\n            val intent = Intent(this, License::class.java)\n// To pass any data to another activity\n            intent.putExtra(\"targetURL\", \"www.secondlink.com\")\n// start your SecondActivity\n            startActivity(intent)\n\n        }\n        button3.setOnClickListener{\n            val intent = Intent(this, License::class.java)\n// To pass any data to another activity\n            intent.putExtra(\"targetURL\", \"www.thirdlink.com\")\n// start your SecondActivity\n            startActivity(intent)\n\n        }\n    }\n}\n</code></pre>\n\n<p>my Second activity Code :</p>\n\n<pre><code>package com.medanis.fneclis\n\nimport android.content.Intent\nimport android.os.Build\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.annotation.RequiresApi\nimport android.webkit.ClientCertRequest\nimport android.webkit.WebResourceRequest\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport kotlinx.android.synthetic.main.activity_license.*\nimport kotlinx.android.synthetic.main.activity_license.view.*\nimport java.net.URL\n\nclass License : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_license) // replace with you xml file name webview\n        var  url : String = intent.getStringExtra(\"value\")?:\"\"\n        webv.webViewClient = WebViewClient()\n        startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>LIcense LAYout :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/bg2\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/fneclis_phone_bg_5\"\n    android:orientation=\"vertical\"\n    android:theme=\"@style/AppFullScreenTheme\"\n    tools:context=\".License\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/wvbtn\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginEnd=\"316dp\"\n        android:layout_marginLeft=\"18dp\"\n        android:layout_marginRight=\"316dp\"\n        android:layout_marginStart=\"18dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/webv\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;WebView\n        android:id=\"@+id/webv\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"513dp\"\n        android:layout_marginTop=\"36dp\"\n        android:background=\"@drawable/ic_launcher_background\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintDimensionRatio=\"w,1:1\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/wvbtn\"&gt;\n\n    &lt;/WebView&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>MAINACTIVITY layout :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/bg\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/fneclis_phone_bg_3\"\n    android:orientation=\"vertical\"\n    android:theme=\"@style/AppFullScreenTheme\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/button1\"\n        android:layout_width=\"263dp\"\n        android:layout_height=\"116dp\"\n        android:layout_marginBottom=\"25dp\"\n        android:layout_marginTop=\"13dp\"\n        android:background=\"@drawable/fneclis_btn\"\n        android:text=\"Next Page\"\n        android:textSize=\"30sp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/button3\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.504\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/button2\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button3\"\n        android:layout_width=\"263dp\"\n        android:layout_height=\"116dp\"\n        android:layout_marginBottom=\"76dp\"\n        android:layout_marginTop=\"400dp\"\n        android:background=\"@drawable/fneclis_btn\"\n        android:text=\"Next Page\"\n        android:textSize=\"30sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.504\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"263dp\"\n        android:layout_height=\"116dp\"\n        android:layout_marginBottom=\"346dp\"\n        android:layout_marginTop=\"130dp\"\n        android:background=\"@drawable/fneclis_btn\"\n        android:text=\"Next Page\"\n        android:textSize=\"30sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.504\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>error message:</strong></p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity\n  ComponentInfo{com.medanis.fneclis/com.medanis.fneclis.License}:\n  java.lang.IllegalStateException: webv must not be null</p>\n</blockquote>\n"}, {"tags": ["java", "spring-mvc", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 1743253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/46c00090b117c658142ef9235d005c4e?s=128&d=identicon&r=PG", "display_name": "Oleksandr.Bezhan", "link": "https://stackoverflow.com/users/1743253/oleksandr-bezhan"}, "edited": false, "score": 0, "creation_date": 1531683674, "post_id": 51351362, "comment_id": 89675747, "body": "1. Kotlin <code>UserForm</code> has empty constructor as well. 2. Why it works with Java and doesn&#39;t work with Kotlin ? 3. AFAIK <code>RequestBody</code> doesn&#39;t work with form submission(content type <code>x-www-form-urlencoded</code>)"}], "tags": [], "owner": {"reputation": 358, "user_id": 1273657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be667a86a40f5593355b860676e7e58?s=128&d=identicon&r=PG", "display_name": "Mushtu", "link": "https://stackoverflow.com/users/1273657/mushtu"}, "is_accepted": false, "score": 0, "last_activity_date": 1531682264, "last_edit_date": 1531682264, "creation_date": 1531681618, "answer_id": 51351362, "question_id": 51350923, "link": "https://stackoverflow.com/questions/51350923/request-binding-not-working-for-kotlin-class/51351362#51351362", "title": "Request binding not working for Kotlin class", "body": "<p>You must add <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestBody.html\" rel=\"nofollow noreferrer\">RequestBody</a> annotation on userForm parameter to be bound to the body of the web request. Also the UserForm class in Kotlin has a constructor with parameters that can't be created by JSON deserializer. You can rewrite it with Kotlin data class.</p>\n\n<pre><code>@RequestMapping(\"/users\")\n@Controller\npublic class UserController {\n    @PostMapping(\"\")\n    public String postForm(@Valid @RequestBody UserForm userForm, BindingResult bindingResult){\n        System.out.println(userForm + \" \" + bindingResult);\n        return \"/users/form\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1641, "user_id": 1743253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/46c00090b117c658142ef9235d005c4e?s=128&d=identicon&r=PG", "display_name": "Oleksandr.Bezhan", "link": "https://stackoverflow.com/users/1743253/oleksandr-bezhan"}, "is_accepted": true, "score": 0, "last_activity_date": 1531685730, "creation_date": 1531685730, "answer_id": 51351905, "question_id": 51350923, "link": "https://stackoverflow.com/questions/51350923/request-binding-not-working-for-kotlin-class/51351905#51351905", "title": "Request binding not working for Kotlin class", "body": "<p>Ok, I figured out what was the problem. The issue was actually in several places:\n1. To render a form I used the following method:</p>\n\n<pre><code>@GetMapping(\"\")\npublic String userForm(UserForm userForm) {\n    userForm.setDateTime(LocalDateTime.now());\n    return \"/users/form\";\n}\n</code></pre>\n\n<p>As you can see it sets the current date time to now and uses default <code>Formatter</code> under the hood. </p>\n\n<p>Now, on the receiving form submission side, I had specified format: </p>\n\n<pre><code>@DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm\") var dateTime: LocalDateTime? = null\n</code></pre>\n\n<p>but the correct way to do it is to use <code>@field:</code> target like this:</p>\n\n<pre><code>@field:DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm\") var dateTime: LocalDateTime? = null\n</code></pre>\n\n<p>And finally, to fix inconsistency in the formats I just added my custom <code>Formatter</code> for <code>LocalDateTime</code>:</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addFormatter(new Formatter&lt;LocalDateTime&gt;() {\n            final DateTimeFormatter dtFormatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\");\n\n            @Override\n            public LocalDateTime parse(String text, Locale locale) throws ParseException {\n                return LocalDateTime.from(dtFormatter.parse(text));\n            }\n\n            @Override\n            public String print(LocalDateTime object, Locale locale) {\n                return dtFormatter.format(object);\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1641, "user_id": 1743253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/46c00090b117c658142ef9235d005c4e?s=128&d=identicon&r=PG", "display_name": "Oleksandr.Bezhan", "link": "https://stackoverflow.com/users/1743253/oleksandr-bezhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 51351905, "answer_count": 2, "score": 0, "last_activity_date": 1531685730, "creation_date": 1531678425, "last_edit_date": 1531680804, "question_id": 51350923, "link": "https://stackoverflow.com/questions/51350923/request-binding-not-working-for-kotlin-class", "title": "Request binding not working for Kotlin class", "body": "<p>I have a form object:</p>\n\n<pre><code>public class UserFormJava {\n    @NotNull\n    @DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm\")\n    private LocalDateTime dateTime;\n\n    public LocalDateTime getDateTime() {\n        return dateTime;\n    }\n    // getter, setter\n}\n</code></pre>\n\n<p>And I have a simple controller:</p>\n\n<pre><code>@RequestMapping(\"/users\")\n@Controller\npublic class UserController {\n    @PostMapping(\"\")\n    public String postForm(@Valid UserForm userForm, BindingResult bindingResult) {\n        System.out.println(userForm + \" \" + bindingResult);\n        return \"/users/form\";\n    }\n}\n</code></pre>\n\n<p>It works fine. But binding doesn't work (parameter <code>userForm</code> is null`) if I rewrite UserForm in Kotlin like this:</p>\n\n<pre><code>open class UserForm(@NotNull\n                    @DateTimeFormat(pattern = \"yyyy-MM-dd HH:mm\") var dateTime: LocalDateTime? = null)\n</code></pre>\n\n<p>And try to bind it in the Controller the same way:</p>\n\n<pre><code>@PostMapping(\"\")\npublic String postForm(@Valid UserForm userForm, BindingResult bindingResult) {\n    System.out.println(userForm + \" \" + bindingResult);\n    return \"/users/form\";\n}\n</code></pre>\n\n<p>Why binding fails and how to fix it ?</p>\n\n<p>I created <a href=\"https://github.com/alexbezhan/localdatetime-binding-error\" rel=\"nofollow noreferrer\">example Github project</a> for reproduction.</p>\n"}]