[{"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 2, "creation_date": 1526535474, "post_id": 50380913, "comment_id": 87783585, "body": "Please share your styles.xml code"}, {"owner": {"reputation": 55, "user_id": 2023287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61ce7d6d3805d1b16adf36135f33f7d?s=128&d=identicon&r=PG", "display_name": "Jason.Wiker", "link": "https://stackoverflow.com/users/2023287/jason-wiker"}, "reply_to_user": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 0, "creation_date": 1526590073, "post_id": 50380913, "comment_id": 87816430, "body": "Changing the colorAccent doesn&#39;t seem to change the colour of the text buttons. Is there another value here I can change?<code>&lt;style name=&quot;AppTheme.NoActionBar&quot; parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;         &lt;!-- Customize your theme here. --&gt;         &lt;item name=&quot;colorPrimary&quot;&gt;@color&#47;colorPrimary&lt;&#47;item&gt;         &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color&#47;colorPrimaryDark&lt;&#47;item&gt;         &lt;item name=&quot;colorAccent&quot;&gt;@color&#47;colorWhite&lt;&#47;item&gt;&lt;&#47;style&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 2023287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61ce7d6d3805d1b16adf36135f33f7d?s=128&d=identicon&r=PG", "display_name": "Jason.Wiker", "link": "https://stackoverflow.com/users/2023287/jason-wiker"}, "edited": false, "score": 0, "creation_date": 1526602167, "post_id": 50384377, "comment_id": 87819814, "body": "Changing the colorAccent doesn&#39;t seem to change the colour of the text buttons. Is there another value here I can change?<code>&lt;style name=&quot;AppTheme.NoActionBar&quot; parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt; &lt;!-- Customize your theme here. --&gt; &lt;item name=&quot;colorPrimary&quot;&gt;@color&#47;colorPrimary&lt;&#47;item&gt; &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color&#47;colorPrimaryDark&lt;&#47;item&gt; &lt;item name=&quot;colorAccent&quot;&gt;@color&#47;colorWhite&lt;&#47;item&gt;&lt;&#47;style&gt;</code>"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 55, "user_id": 2023287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61ce7d6d3805d1b16adf36135f33f7d?s=128&d=identicon&r=PG", "display_name": "Jason.Wiker", "link": "https://stackoverflow.com/users/2023287/jason-wiker"}, "edited": false, "score": 0, "creation_date": 1526621602, "post_id": 50384377, "comment_id": 87824112, "body": "I have updated my answer please check. I have also tested it. It is working now."}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": false, "score": 0, "last_activity_date": 1526621554, "last_edit_date": 1526621554, "creation_date": 1526537112, "answer_id": 50384377, "question_id": 50380913, "link": "https://stackoverflow.com/questions/50380913/datepickerdialog-buttons-not-showing-the-label/50384377#50384377", "title": "DatePickerDialog buttons not showing the label", "body": "<p>Check for <code>&lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;</code> in your <code>styles.xml</code>, button text color will be same as value of <code>colorAccent</code> in <code>colors.xml</code>.</p>\n\n<p>Edit:- </p>\n\n<p>Update your style as following, It will work:</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"android:buttonBarPositiveButtonStyle\"&gt;@style/DialogButtonStyled&lt;/item&gt;\n    &lt;item name=\"android:buttonBarNegativeButtonStyle\"&gt;@style/DialogButtonStyled&lt;/item&gt;\n    &lt;item name=\"android:buttonBarNeutralButtonStyle\"&gt;@style/DialogButtonStyled&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"DialogButtonStyled\" parent=\"Theme.MaterialComponents.Light\"&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/colorWhite&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 7663077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1774017222625160/picture?type=large", "display_name": "Benjamin Ledet", "link": "https://stackoverflow.com/users/7663077/benjamin-ledet"}, "is_accepted": false, "score": 3, "last_activity_date": 1527237968, "creation_date": 1527237968, "answer_id": 50525097, "question_id": 50380913, "link": "https://stackoverflow.com/questions/50380913/datepickerdialog-buttons-not-showing-the-label/50525097#50525097", "title": "DatePickerDialog buttons not showing the label", "body": "<p>You can use this to apply material button style :</p>\n\n<pre><code> &lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n\n    &lt;item name=\"android:buttonBarPositiveButtonStyle\"&gt;@style/Widget.MaterialComponents.Button&lt;/item&gt;\n    &lt;item name=\"android:buttonBarNegativeButtonStyle\"&gt;@style/Widget.MaterialComponents.Button.TextButton&lt;/item&gt;\n    &lt;item name=\"android:buttonBarNeutralButtonStyle\"&gt;@style/Widget.MaterialComponents.Button&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Result : <a href=\"https://i.stack.imgur.com/puGss.png\" rel=\"nofollow noreferrer\">materialDatePicker</a></p>\n"}], "owner": {"reputation": 55, "user_id": 2023287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a61ce7d6d3805d1b16adf36135f33f7d?s=128&d=identicon&r=PG", "display_name": "Jason.Wiker", "link": "https://stackoverflow.com/users/2023287/jason-wiker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1610686275, "creation_date": 1526510463, "question_id": 50380913, "link": "https://stackoverflow.com/questions/50380913/datepickerdialog-buttons-not-showing-the-label", "title": "DatePickerDialog buttons not showing the label", "body": "<p><a href=\"https://i.stack.imgur.com/ptx9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptx9g.png\" alt=\"enter image description here\"></a></p>\n\n<p>The two buttons at the bottom will not show the labels. This is how I am instantiating the date picker <code>new DatePickerDialog(classname.this, date, myCalendar\n                    .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),\n                    myCalendar.get(Calendar.DAY_OF_MONTH)).show();</code>\nI am running Android Studio 3.2 Canary and target sdk of 28.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526511375, "post_id": 50379478, "comment_id": 87778224, "body": "Does It have to be the same instance of the dependency or different instances?"}, {"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526539535, "post_id": 50379478, "comment_id": 87785559, "body": "@LeviAlbuquerque different instances. Every time a new Activity Subcomponent is initialized it must create and provide a new instance of <code>NavigatorImpl</code> with the aforementioned Activity provided as a dependency"}], "answers": [{"comments": [{"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "edited": false, "score": 0, "creation_date": 1526721127, "post_id": 50386483, "comment_id": 87862057, "body": "It works, but imo it&#39;s much easier to provide an Activity&#39;s super class (that is used in <code>BaseActvityModule</code>) in every Activity module directly (<code>@Binds fun superActivity(someActivity: SomeActivity): Activity</code>). We still have to write some boilerplate, but it&#39;s 1 line instead writing a Subcomponent &amp; Builder"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1568129892, "post_id": 50386483, "comment_id": 102173102, "body": "is it possible to inject as dependency of ViewModel, using constructor injection? For generating the ViewModelFactory I am using dagger"}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 2, "last_activity_date": 1526544821, "creation_date": 1526544821, "answer_id": 50386483, "question_id": 50379478, "link": "https://stackoverflow.com/questions/50379478/dagger-android-share-dependencies-between-activities/50386483#50386483", "title": "Dagger-android share dependencies between Activities", "body": "<p>First of all you put all of your common things into a module that you can reuse. (Also please use constructor injection with <code>@Binds</code> as shown below</p>\n\n<pre><code>class Navigator @Inject constructor(activity : Activity) { /* ... */ }\n\n@Module\ninterface BaseActivityModule {\n\n    @Binds\n    fun navigator(navigator: NavigatorImpl): Navigator\n\n    // other bindings...\n\n}\n</code></pre>\n\n<p>Then you have to switch to custom subcomponent declarations instead of <code>@ContributesAndroidInjector</code>. There is a <a href=\"https://github.com/google/dagger/issues/961\" rel=\"nofollow noreferrer\">related open issue</a>, but for now you have to write the boilerplate.</p>\n\n<p>You declare an <code>AndroidInjector.Factory</code> that binds everything you need, then you use this for your subcomponent builder instead of the default <code>AndroidInjector.Builder</code>.</p>\n\n<pre><code>object MyCustomInjector {\n\n  abstract class ActivityBuilder&lt;T : Activity&gt; : AndroidInjector.Factory&lt;T&gt; {\n    override fun create(instance: T): AndroidInjector&lt;T&gt; {\n      seedInstance(instance)\n      activity(instance)\n      return build()\n    }\n\n    @BindsInstance\n    abstract fun seedInstance(instance: T)\n\n    @BindsInstance\n    abstract fun activity(instance: Activity)\n\n    abstract fun build(): AndroidInjector&lt;T&gt;\n  }\n}\n\n@Module(subcomponents = [(SomeActivityModule.SomeActivitySubcomponent::class)])\nabstract class SomeActivityModule {\n\n  @Binds\n  @IntoMap\n  @ActivityKey(SomeActivity::class)\n  internal abstract fun contributeSomeActivity(builder: SomeActivitySubcomponent.Builder): AndroidInjector.Factory&lt;out Activity&gt;\n\n  @PerActivity\n  @Subcomponent(modules = [BaseActivityModule::class])\n  interface SomeActivityActivitySubcomponent : AndroidInjector&lt;SomeActivity&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : MyCustomInjector.ActivityBuilder&lt;SomeActivity&gt;()\n  }\n}\n</code></pre>\n\n<p>Your subcomponent builder thus binds both <code>SomeActivity</code> and <code>Activity</code>, and your subcomponent includes the <code>BaseActivityModule</code> with the bindings defined above.</p>\n\n<p>For more information you can also have a look at <a href=\"https://stackoverflow.com/q/49072558/1837367\">this related question</a> with a few more steps...</p>\n"}], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 50386483, "answer_count": 1, "score": 1, "last_activity_date": 1526544821, "creation_date": 1526502862, "last_edit_date": 1526506588, "question_id": 50379478, "link": "https://stackoverflow.com/questions/50379478/dagger-android-share-dependencies-between-activities", "title": "Dagger-android share dependencies between Activities", "body": "<p>I'm using <a href=\"https://google.github.io/dagger/android\" rel=\"nofollow noreferrer\">dagger-android</a> for DI. There're a few common dependencies I want to provide to <strong>every Activity</strong>. They depend on an Activity class but don't relay on a certain Activity implementation. Like this:</p>\n\n<pre><code>class NavigatorImpl(private val activity: Activity) : Navigator {..}\n</code></pre>\n\n<p>Now I have to write the same code at every ActivityModule:</p>\n\n<pre><code>@Module\nclass SomeActivityModule {\n\n    @Provides\n    fun navigator(activity: SomeActivity): Navigator = NavigatorImpl(activity)\n\n    // some deps...\n\n}\n\n@Module\nclass AnotherActivityModule {\n\n    @Provides\n    fun navigator(activity: AnotherActivity): Navigator = NavigatorImpl(activity)\n\n    // another deps...\n\n}\n</code></pre>\n\n<p>I tried to provide these dependencies via <code>AndroidSupportInjectionModule</code> but it turns out that Dagger generates separate Submodules for each Activity, and we can access to an Activity dependency only at the certain modules (<code>SomeActivityModule</code> and <code>AnotherActivityModule</code> at this example):</p>\n\n<pre><code>@Module(includes = [AndroidSupportInjectionModule::class])\ninterface AppInjectionModule {\n\n    @PerActivity\n    @ContributesAndroidInjector(modules = [SomeActivityModule::class])\n    fun someActivity(): SomeActivity\n\n    @PerActivity\n    @ContributesAndroidInjector(modules = [AnotherActivityModule::class])\n    fun anotherActivity(): AnotherActivity\n\n    // we don't have any Activity in the graph -&gt; throws an error\n    @PerActivity\n    @Provides\n    fun navigator(navigator: NavigatorImpl): Navigator\n\n}\n</code></pre>\n\n<p>So how can I provide such dependencies without duplicating code in every ActivityModule?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1526501822, "post_id": 50379212, "comment_id": 87774697, "body": "But you have an <code>onClick</code> set on a layout not on a button, is that what you want?"}, {"owner": {"reputation": 896, "user_id": 8809599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j32n6m6gBk/AAAAAAAAAAI/AAAAAAAAA2w/ZBjODiiNN2c/photo.jpg?sz=128", "display_name": "Na-In Hae", "link": "https://stackoverflow.com/users/8809599/na-in-hae"}, "reply_to_user": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1526502073, "post_id": 50379212, "comment_id": 87774821, "body": "@LieForBananas he is using layout as buttons.. check his xml"}, {"owner": {"reputation": 896, "user_id": 8809599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j32n6m6gBk/AAAAAAAAAAI/AAAAAAAAA2w/ZBjODiiNN2c/photo.jpg?sz=128", "display_name": "Na-In Hae", "link": "https://stackoverflow.com/users/8809599/na-in-hae"}, "edited": false, "score": 0, "creation_date": 1526502132, "post_id": 50379212, "comment_id": 87774849, "body": "@Anna, I think there is a thing called <b>Image Buttons</b> btw.. why use linear layout as button?"}, {"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "reply_to_user": {"reputation": 896, "user_id": 8809599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j32n6m6gBk/AAAAAAAAAAI/AAAAAAAAA2w/ZBjODiiNN2c/photo.jpg?sz=128", "display_name": "Na-In Hae", "link": "https://stackoverflow.com/users/8809599/na-in-hae"}, "edited": false, "score": 0, "creation_date": 1526502268, "post_id": 50379212, "comment_id": 87774920, "body": "@Sam. I know what the XML looks like, I asked the question to clarify the situation and not to point out something."}], "answers": [{"tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 2, "last_activity_date": 1526502163, "creation_date": 1526502163, "answer_id": 50379326, "question_id": 50379212, "link": "https://stackoverflow.com/questions/50379212/why-do-different-buttons-get-same-id/50379326#50379326", "title": "Why do different buttons get same ID?", "body": "<p>In a <code>RelativeLayout</code>, children are laid out on top of each other in order of declaration unless constrained otherwise by layout constraints. Your CN and UK button layouts have no layout constraints so the UK button layout is on top of the CN layout, and since it covers the underlying layout fully, only it can receive clicks.</p>\n\n<p>You can make the buttons next to each other by adding corresponding constraints to the layout. For example, <code>android:layout_toEndOf=\"@id/custom_button_cn\"</code> to <code>custom_button_uk</code>, or changing the parent <code>RelativeLayout</code> to a <code>LinearLayout</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 3295109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13EDm.png?s=128&g=1", "display_name": "shredder", "link": "https://stackoverflow.com/users/3295109/shredder"}, "is_accepted": false, "score": 1, "last_activity_date": 1526504495, "creation_date": 1526504495, "answer_id": 50379826, "question_id": 50379212, "link": "https://stackoverflow.com/questions/50379212/why-do-different-buttons-get-same-id/50379826#50379826", "title": "Why do different buttons get same ID?", "body": "<p>Assuming that your layout is ok (ref @laalto's answer), try to use anonymous listeners like so:</p>\n\n<pre><code>    btnCN.setOnClickListener { println(\"CHINESE\") }\n    btnUK.setOnClickListener { println(\"ENGLISH\") }\n</code></pre>\n"}], "owner": {"reputation": 750, "user_id": 2919828, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c90bb50b7ae94b26e5360fc1a4bfdab9?s=128&d=identicon&r=PG&f=1", "display_name": "Anna-Lischen", "link": "https://stackoverflow.com/users/2919828/anna-lischen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 50379326, "answer_count": 2, "score": 0, "last_activity_date": 1526504495, "creation_date": 1526501589, "question_id": 50379212, "link": "https://stackoverflow.com/questions/50379212/why-do-different-buttons-get-same-id", "title": "Why do different buttons get same ID?", "body": "<p>Good day everyone,</p>\n\n<p>I am writing my code in Kotlin and trying to get different response from the two different buttons:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_language_choice)\n    supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n    mVisible = true\n\n    // Set up the user interaction to manually show or hide the system UI.\n\n    // Upon interacting with UI controls, delay any scheduled hide()\n    // operations to prevent the jarring behavior of controls going away\n    // while interacting with the UI.\n\n\n    val btnCN = findViewById&lt;LinearLayout&gt;(R.id.custom_button_cn)\n    val btnUK = findViewById&lt;LinearLayout&gt;(R.id.custom_button_uk)\n\n\n    btnCN.setOnClickListener(this)\n    btnUK.setOnClickListener(this)\n\n    println(this)\n    println(btnCN)\n    println(btnUK)\n}\n\noverride fun onClick(v: View?) {\n    when(v?.id){\n        R.id.custom_button_cn -&gt; {\n            println(\"CHINESE\")\n            println(v)\n        }\n        R.id.custom_button_uk -&gt; {\n            println(\"ENGLISH\")\n            println(v)\n        }\n\n        else -&gt; {\n            println(\"ELSE!!!\")\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, I am doing somewhat wrong. As in the log I get the following:</p>\n\n<pre><code>05-16 23:04:17.884 8674-8674/com.example.user.app I/System.out: ENGLISH\n    android.widget.LinearLayout{409e926 VFE...C.. ...P.... 0,0-1050,1050 #7f080035 app:id/custom_button_uk}\n05-16 23:04:24.023 8674-8674/com.example.user.app I/System.out: ENGLISH\n    android.widget.LinearLayout{409e926 VFE...C.. ...P.... 0,0-1050,1050 #7f080035 app:id/custom_button_uk}\n05-16 23:04:27.771 8674-8674/com.example.user.app I/System.out: ENGLISH\n    android.widget.LinearLayout{409e926 VFE...C.. ...P.... 0,0-1050,1050 #7f080035 app:id/custom_button_uk}\n</code></pre>\n\n<p>Here is how I have created the buttons:</p>\n\n<pre><code>&lt;RelativeLayout\n        android:id = \"@+id/rel_lay\"\n        android:layout_width=\"1280dp\"\n        android:layout_height=\"1280dp\"\n        android:layout_marginTop=\"35pt\"\n        &gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/custom_button_cn\"\n            android:layout_width=\"400dp\"\n            android:layout_height=\"400dp\"\n            android:background=\"@drawable/china_button_drawable\" &gt;\n\n            &lt;!-- Image (BG IMG) --&gt;\n\n            &lt;ImageView\n                android:layout_width=\"400dp\"\n                android:layout_height=\"400dp\"\n                android:src=\"@drawable/button_cn\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/custom_button_uk\"\n            android:layout_width=\"400dp\"\n            android:layout_height=\"400dp\"\n            android:background=\"@drawable/uk_button_drawable\" &gt;\n\n            &lt;!-- Image UK --&gt;\n\n            &lt;ImageView\n                android:layout_width=\"400dp\"\n                android:layout_height=\"400dp\"\n                android:src=\"@drawable/button_en\" /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I have already checked the code and couldn't find any errors, but I guess I miss some sort of Kotlin trick. For the sake of tests, I have tried to remove the images, added IDs to the images, tried to access layer by layer, for instance giving the id to the relative layout, than to the linear and finally to the image and so accessing the inner thing. Nonetheless it didn't work. Can you please explain what is the right way to address to the button and get the corresponding activity for each of them?</p>\n"}, {"tags": ["java", "android", "kotlin", "objectbox"], "answers": [{"tags": [], "owner": {"reputation": 6119, "user_id": 1792858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b04b26eb171474c320b91a60392aa7b8?s=128&d=identicon&r=PG", "display_name": "Mr. B.", "link": "https://stackoverflow.com/users/1792858/mr-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1527511305, "creation_date": 1527511305, "answer_id": 50566751, "question_id": 50378235, "link": "https://stackoverflow.com/questions/50378235/kotlin-combined-entity-class-of-objectbox-and-kotlinx-serialization-in-conflict/50566751#50566751", "title": "Kotlin: combined Entity class of ObjectBox and kotlinx.Serialization in conflict?", "body": "<p>I could not find a combined solution without conflicts, so I decided to split the models:</p>\n\n<ol>\n<li>Each API call for Retrofit 2</li>\n<li>Model for each ObjectBox entity</li>\n</ol>\n\n<p>I create ObjectBox entities after fetching the data from Retrofit. A bit too much redundancy, but it works. :-)</p>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 4948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJddy.jpg?s=128&g=1", "display_name": "Ryan Godlonton-Shaw", "link": "https://stackoverflow.com/users/4948827/ryan-godlonton-shaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1552171401, "creation_date": 1552171401, "answer_id": 55082699, "question_id": 50378235, "link": "https://stackoverflow.com/questions/50378235/kotlin-combined-entity-class-of-objectbox-and-kotlinx-serialization-in-conflict/55082699#55082699", "title": "Kotlin: combined Entity class of ObjectBox and kotlinx.Serialization in conflict?", "body": "<p>I just saw this solution and wrote an article about how to do this simply without mapping Entities.</p>\n\n<p>I hope this might assist you ->\n<a href=\"https://medium.com/@ryan.shaw_80293/android-local-database-tricks-with-kotlin-and-objectbox-f0da58c9d5a3\" rel=\"nofollow noreferrer\">https://medium.com/@ryan.shaw_80293/android-local-database-tricks-with-kotlin-and-objectbox-f0da58c9d5a3</a></p>\n"}], "owner": {"reputation": 6119, "user_id": 1792858, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b04b26eb171474c320b91a60392aa7b8?s=128&d=identicon&r=PG", "display_name": "Mr. B.", "link": "https://stackoverflow.com/users/1792858/mr-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 50566751, "answer_count": 2, "score": 1, "last_activity_date": 1552171401, "creation_date": 1526497282, "question_id": 50378235, "link": "https://stackoverflow.com/questions/50378235/kotlin-combined-entity-class-of-objectbox-and-kotlinx-serialization-in-conflict", "title": "Kotlin: combined Entity class of ObjectBox and kotlinx.Serialization in conflict?", "body": "<p>I'm using <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">kotlinx.serialization</a> to parse JSON from an API and <a href=\"https://objectbox.io\" rel=\"nofollow noreferrer\">ObjectBox</a> as a local storage.</p>\n\n<p>Both libraries allow structuring model or entity classes. I'd like to avoid redundant classes and prefer to combine them into one entity class each.</p>\n\n<p>It worked fine until I had to add <a href=\"http://objectbox.io/documentation/relations/\" rel=\"nofollow noreferrer\">relations</a>.</p>\n\n<p>I'd like to accept everything from the API, that's why every field is <code>@Optional</code>. The validation is made on the <code>ObjectBox</code> part of the entity.</p>\n\n<p>Below you can find the desired code, which is not working.</p>\n\n<p><strong>1st problem:</strong> <code>@Optional</code> fields need to have a default value. After adding <code>? = null</code> (which felt dirty), I got to the </p>\n\n<p><strong>2nd problem:</strong> after parsing and storing, the following error appears:</p>\n\n<blockquote>\n  <blockquote>\n    <p>java.lang.NoSuchMethodError: No direct method (Lkotlin/reflect/KClass;Lkotlinx/serialization/KSerializer;)V in class Lkotlinx/serialization/ContextSerializer; or its super classes (declaration of 'kotlinx.serialization.ContextSerializer' appears in /data/app/com.acme.myapp2A1fXerVu==/split_lib_dependencies_apk.apk)</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>Entity: AppleTree</strong></p>\n\n<pre><code>@Entity // ObjectBox\n@Serializable // Serializable\ndata class AppleTree(\n\n    @Optional // Serializable\n    @Id(assignable=true) // ObjectBox\n    var id: Long = 0,\n\n    @Optional // Serializable\n    @Backlink // ObjectBox    \n    var apples: ToMany&lt;Apple&gt;\n)\n</code></pre>\n\n<p><strong>Entity: Apple</strong></p>\n\n<pre><code>@Entity \n@Serializable \ndata class Apple(\n\n    @Optional // Serializable\n    @Id(assignable=true) // ObjectBox\n    var id: Long = 0,\n\n    @Optional // Serializable\n    var tree: ToOne&lt;AppleTree&gt;     \n)\n</code></pre>\n\n<p><strong>Fetch &amp; store</strong></p>\n\n<pre><code>private fun fetch() {\n  doAsync {\n      var json = mapKeys(URL(myURL).readText()) // fetch JSON from API\n      uiThread {\n          val appleTree = JSON.nonstrict.parse&lt;AppleTree&gt;(json) // parse JSON\n          val appleTreeBox = (application as App).getAppleTreeBox() // get ObjectBox\n          appleTreeBox.put(appleTree) // save\n      }\n  }\n}\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["android", "gradle", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1526497226, "post_id": 50377935, "comment_id": 87772559, "body": "Have you tried to clean and rebuild?"}, {"owner": {"reputation": 912, "user_id": 788037, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c13fe0edb599a4c2cfdc65ae124d12d6?s=128&d=identicon&r=PG", "display_name": "Efi MK", "link": "https://stackoverflow.com/users/788037/efi-mk"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1526497643, "post_id": 50377935, "comment_id": 87772750, "body": "@JoaquimLey <code>gradle clean &amp;&amp; gradle -p ~&#47;source&#47;android-app assembleDebug</code> does not help"}, {"owner": {"reputation": 912, "user_id": 788037, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c13fe0edb599a4c2cfdc65ae124d12d6?s=128&d=identicon&r=PG", "display_name": "Efi MK", "link": "https://stackoverflow.com/users/788037/efi-mk"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1526498434, "post_id": 50377935, "comment_id": 87773130, "body": "Even weirder , when running through the gradle menu in Android Studio it works, no error what so ever, only the command line fails"}], "answers": [{"comments": [{"owner": {"reputation": 912, "user_id": 788037, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c13fe0edb599a4c2cfdc65ae124d12d6?s=128&d=identicon&r=PG", "display_name": "Efi MK", "link": "https://stackoverflow.com/users/788037/efi-mk"}, "edited": false, "score": 0, "creation_date": 1527573124, "post_id": 50573785, "comment_id": 88163392, "body": "Thank you, this is the first thing I did, didn&#39;t help"}, {"owner": {"reputation": 695, "user_id": 2825816, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57ff98711b9c254e57327a823e0ae30d?s=128&d=identicon&r=PG&f=1", "display_name": "hyena", "link": "https://stackoverflow.com/users/2825816/hyena"}, "edited": false, "score": 0, "creation_date": 1530527755, "post_id": 50573785, "comment_id": 89252653, "body": "am having the same issue, when i use &quot;gradlew clean build&quot; i loose kotlinx.android.synthetic"}], "tags": [], "owner": {"reputation": 1, "user_id": 4819896, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bD6TEp-6cto/AAAAAAAAAAI/AAAAAAAAAaw/2WBq09V1kAw/photo.jpg?sz=128", "display_name": "Fernando Gustavo", "link": "https://stackoverflow.com/users/4819896/fernando-gustavo"}, "is_accepted": false, "score": 0, "last_activity_date": 1527544353, "creation_date": 1527544353, "answer_id": 50573785, "question_id": 50377935, "link": "https://stackoverflow.com/questions/50377935/kotlinx-android-synthetic-not-found-when-running-gradle/50573785#50573785", "title": "kotlinx.android.synthetic not found when running gradle", "body": "<p>in Android Studio file -> Invalidate Caches/Restart... -> btn \"invalidate and restart\"</p>\n"}], "owner": {"reputation": 912, "user_id": 788037, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c13fe0edb599a4c2cfdc65ae124d12d6?s=128&d=identicon&r=PG", "display_name": "Efi MK", "link": "https://stackoverflow.com/users/788037/efi-mk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1915, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527544353, "creation_date": 1526495979, "question_id": 50377935, "link": "https://stackoverflow.com/questions/50377935/kotlinx-android-synthetic-not-found-when-running-gradle", "title": "kotlinx.android.synthetic not found when running gradle", "body": "<p>I'm using Kotlin Android Extensions.\nMy project gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\ndependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n...\n</code></pre>\n\n<p>My app gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'io.fabric'\napply plugin: 'kotlin-kapt'\napply plugin: 'jacoco-android'\napply plugin: \"kotlin-allopen\"\n...\n</code></pre>\n\n<p>Gradle version 4.6\nAndroid Studio 3.1.2\nBuild #AI-173.4720617, built on April 14, 2018\nJRE: 1.8.0_152-release-1024-b01 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nMac OS X 10.13.4</p>\n\n<p>When running everything through the IDE everything works, but when running through the console <code>gradle -p ~/source/android-app assembleDebug</code> suddenly the IDE marks any <code>import kotlinx.android.synthetic.main...</code> as not being used and any views in code are marked as not found. <strong>The build succeeds</strong></p>\n\n<p>It used to work, one of the versions that I upgraded (Android studio, gradle, Kotlin plugin)  broke it. Any ideas on what to do next ?</p>\n\n<p>Console output:\n<code>\n19:46 $ gradle -p ~/source/android-app assembleDebug --console plain\nWARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation' and 'api'.\nIt will be removed at the end of 2018. For more information see: http://d.android.com/r/tools/update-dependency-configurations.html\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:compileDebugAidl UP-TO-DATE\n:app:compileDebugRenderscript UP-TO-DATE\n:app:checkDebugManifest UP-TO-DATE\n:app:generateDebugBuildConfig\n:app:mainApkListPersistenceDebug\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources UP-TO-DATE\n:app:processDebugGoogleServices\nParsing json file: /Users/efimerdler-kravitz/source/android-app/app/google-services.json\n:app:mergeDebugResources UP-TO-DATE\n:app:createDebugCompatibleScreenManifests\n:app:processDebugManifest\n:app:splitsDiscoveryTaskDebug UP-TO-DATE\n:app:processDebugResources\n:app:kaptGenerateStubsDebugKotlin\n:app:kaptDebugKotlin\n:app:compileDebugKotlin\n:app:prepareLintJar UP-TO-DATE\n:app:generateDebugSources\n:app:javaPreCompileDebug UP-TO-DATE\n:app:compileDebugJavaWithJavac\n:app:compileDebugNdk NO-SOURCE\n:app:compileDebugSources\n:app:mergeDebugShaders UP-TO-DATE\n:app:compileDebugShaders UP-TO-DATE\n:app:generateDebugAssets UP-TO-DATE\n:app:mergeDebugAssets UP-TO-DATE\n:app:transformClassesWithDexBuilderForDebug\n:app:transformDexArchiveWithExternalLibsDexMergerForDebug\n:app:transformDexArchiveWithDexMergerForDebug\n:app:mergeDebugJniLibFolders UP-TO-DATE\n:app:transformNativeLibsWithMergeJniLibsForDebug UP-TO-DATE\n:app:processDebugJavaRes NO-SOURCE\n:app:transformResourcesWithMergeJavaResForDebug UP-TO-DATE\n:app:validateSigningDebug UP-TO-DATE\n:app:packageDebug\n:app:assembleDebug\n</code></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "edited": false, "score": 0, "creation_date": 1526507340, "post_id": 50375898, "comment_id": 87776965, "body": "i&#39;ll try this when I get to my comp. ty for the quick reply sir."}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1526488276, "creation_date": 1526488276, "answer_id": 50375898, "question_id": 50375841, "link": "https://stackoverflow.com/questions/50375841/how-to-access-this-internal-storage-directory/50375898#50375898", "title": "How to access this internal storage directory?", "body": "<p>The issue is, path has <code>app_imageDir</code> but you are using <code>imageDir</code> so change it. </p>\n\n<p>Note : extra <code>.jpg</code>, probably <code>chattRitem.itemImageFileName</code> already has <code>.jpg</code> extension so no need of it</p>\n"}, {"tags": [], "owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "is_accepted": true, "score": 1, "last_activity_date": 1527065295, "creation_date": 1527065295, "answer_id": 50483835, "question_id": 50375841, "link": "https://stackoverflow.com/questions/50375841/how-to-access-this-internal-storage-directory/50483835#50483835", "title": "How to access this internal storage directory?", "body": "<p>I needed the context. That was my issue. Here is my new code:</p>\n\n<pre><code>//loading image here\n            val context = itemView.context\n            val path: String = context.filesDir.absolutePath\n            val file = File(path, chattRItem.itemImageFileName )\n            Picasso.get().load(file).into(itemView.imageView_people)\n        }\n</code></pre>\n"}], "owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 50483835, "answer_count": 2, "score": 1, "last_activity_date": 1527065295, "creation_date": 1526488082, "last_edit_date": 1526488734, "question_id": 50375841, "link": "https://stackoverflow.com/questions/50375841/how-to-access-this-internal-storage-directory", "title": "How to access this internal storage directory?", "body": "<p>I need to access this internal storage folder: <code>/data/data/com.ceriosrey.chattrbox/app_imageDir</code></p>\n\n<p>This is how i saved into it:</p>\n\n<pre><code>val cw = ContextWrapper(context)\n        val directory = cw.getDir(\"imageDir\", Context.MODE_PRIVATE)\n        val mypath = File(directory, imageName + \".jpg\")\n</code></pre>\n\n<p>This is my attempt at trying to get to it to fetch the images:</p>\n\n<pre><code>//loading image here\n        val essentialsActivity = EssentialsActivity()\n        val context = essentialsActivity.baseContext\n        val directory = context.getDir(\"imageDir\", Context.MODE_PRIVATE)\n        val mypath = File(directory.absolutePath, chattRitem.itemImageFileName )\n        Picasso.get().load(mypath).into(itemView.imageView_essentials_image)    }\n</code></pre>\n\n<p>So basically, I need to get the path so i can use it in the load parameter for load() in picasso. Please help.</p>\n\n<p>this is an actual file inside that folder:</p>\n\n<blockquote>\n  <p>/Users/myname/Documents/AndroidStudio/DeviceExplorer/Nexus_6P_API_P\n  [emulator-5554]/data/data/com.ceriosrey.chattrbox/app_imageDir/0f0e9b44-9833-4224-8343-8da203d782cf_bigstep.jpg.jpg</p>\n</blockquote>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "edited": false, "score": 0, "creation_date": 1526488712, "post_id": 50375559, "comment_id": 87768246, "body": "There are two separate &quot;build.gradle&quot; files. This one is referring to the project level build.gradle, rather than your module app/build.gradle. make sure you&#39;ve added it to the correct one."}, {"owner": {"reputation": 1031, "user_id": 3125368, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BFc5p.jpg?s=128&g=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3125368/rajinder"}, "reply_to_user": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "edited": false, "score": 0, "creation_date": 1526489145, "post_id": 50375559, "comment_id": 87768445, "body": "yes, i have tried in  both files but same error"}, {"owner": {"reputation": 831, "user_id": 3423932, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219973793/picture?type=large", "display_name": "muthuraj", "link": "https://stackoverflow.com/users/3423932/muthuraj"}, "edited": false, "score": 0, "creation_date": 1595837010, "post_id": 50375559, "comment_id": 111600926, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/52636622/how-to-accept-gradle-tos-for-build-scan-automatically-and-still-manage-to-ru\">How to accept Gradle ToS for `build --scan` automatically and still manage to run build without a scan?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1031, "user_id": 3125368, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BFc5p.jpg?s=128&g=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3125368/rajinder"}, "edited": false, "score": 0, "creation_date": 1532598689, "post_id": 51535919, "comment_id": 90039419, "body": "yes, you are right. I have fixed the issue but your answer is 100%  correct. thanks for your reply."}, {"owner": {"reputation": 559, "user_id": 7612991, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jj8opB0N5IE/AAAAAAAAAAI/AAAAAAAAAI0/bcQ-j8vZv-0/photo.jpg?sz=128", "display_name": "Stuti Kasliwal", "link": "https://stackoverflow.com/users/7612991/stuti-kasliwal"}, "edited": false, "score": 14, "creation_date": 1546580067, "post_id": 51535919, "comment_id": 94902988, "body": "My code didn&#39;t contain any of these lines. How can I resolve it now?"}], "tags": [], "owner": {"reputation": 780, "user_id": 4110292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQu42.jpg?s=128&g=1", "display_name": "Avnish Choudhary", "link": "https://stackoverflow.com/users/4110292/avnish-choudhary"}, "is_accepted": true, "score": 5, "last_activity_date": 1532598511, "creation_date": 1532598511, "answer_id": 51535919, "question_id": 50375559, "link": "https://stackoverflow.com/questions/50375559/android-studio-error-build-scan-was-not-published/51535919#51535919", "title": "Android Studio Error: build scan was not published", "body": "<p>Just remove the following code from build.gradle file and Sync your Gradle again. Everything will be resolved.</p>\n\n<pre><code>apply plugin: 'com.gradle.build-scan'\n\nbuildScan {\n    licenseAgreementUrl = 'https://gradle.com/terms-of-service'\n    licenseAgree = 'yes'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11762848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/508b5de0af03e999720e4b94c81ef710?s=128&d=identicon&r=PG&f=1", "display_name": "Anjups", "link": "https://stackoverflow.com/users/11762848/anjups"}, "is_accepted": false, "score": 0, "last_activity_date": 1583299369, "creation_date": 1583299369, "answer_id": 60519551, "question_id": 50375559, "link": "https://stackoverflow.com/questions/50375559/android-studio-error-build-scan-was-not-published/60519551#60519551", "title": "Android Studio Error: build scan was not published", "body": "<p>I just synced my gradle files and the build was successful</p>\n"}, {"tags": [], "owner": {"reputation": 831, "user_id": 3423932, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219973793/picture?type=large", "display_name": "muthuraj", "link": "https://stackoverflow.com/users/3423932/muthuraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1595836990, "creation_date": 1595836990, "answer_id": 63111087, "question_id": 50375559, "link": "https://stackoverflow.com/questions/50375559/android-studio-error-build-scan-was-not-published/63111087#63111087", "title": "Android Studio Error: build scan was not published", "body": "<p><a href=\"https://stackoverflow.com/a/52642692/3423932\">The accepted answer in this other question works</a>. You have to test the existence of <code>buildScan</code> task.</p>\n<pre><code>if (hasProperty('buildScan')) {\n    buildScan {\n        termsOfServiceUrl = 'https://gradle.com/terms-of-service'\n        termsOfServiceAgree = 'yes'\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1031, "user_id": 3125368, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BFc5p.jpg?s=128&g=1", "display_name": "Rajinder", "link": "https://stackoverflow.com/users/3125368/rajinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4866, "favorite_count": 0, "accepted_answer_id": 51535919, "answer_count": 3, "score": 7, "last_activity_date": 1595838782, "creation_date": 1526487062, "last_edit_date": 1595838782, "question_id": 50375559, "link": "https://stackoverflow.com/questions/50375559/android-studio-error-build-scan-was-not-published", "title": "Android Studio Error: build scan was not published", "body": "<p>I am building basic app in Kotlin. I have added a listview and it was working fine. but when I try to implement google map then I got following error in android studio 3.1.</p>\n<pre><code>The build scan was not published due to a configuration problem.\n    \n   The Gradle Cloud Services license agreement has not been agreed to.\n    \n   To agree to the license, include the following in your root project's configuration:\n    buildScan { licenseAgreementUrl = 'https://gradle.com/terms-of-service'; licenseAgree = 'yes' }\n    \n   For more information, please see https://gradle.com/scans/help/plugin-license.\n    \n   Alternatively, if you are using Gradle Enterprise, specify the server location.\n    For more information, please see https://gradle.com/scans/help/plugin-enterprise-config.\n    \n   9:27:52 PM: Task execution finished 'signingReport'.\n</code></pre>\n<p>I have tried every available solution on the net like:</p>\n<pre><code>buildScan {\n  licenseAgreementUrl = &quot;https://gradle.com/terms-of-service&quot;\n  licenseAgree = &quot;yes&quot;\n}\n</code></pre>\n<p>I have also added the plugin: <code>apply plugin: com.gradle.build-scan</code>\nbut no luck.</p>\n"}, {"tags": ["android", "xml", "layout", "kotlin", "foreground"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526488680, "post_id": 50374885, "comment_id": 87768230, "body": "I don\u2019t understand what the Guidelines do in your case (why?) but apart from that, I also don;\u2019t understand where you want the particles, behind what? You only have one image view in your layout."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526489093, "post_id": 50374885, "comment_id": 87768420, "body": "It&#39;s useful for me in my complete project but nevermind."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526489121, "post_id": 50374885, "comment_id": 87768434, "body": "I want the particle to be behind the imageview , but it&#39;s ok now i resolved it"}], "answers": [{"comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526488775, "post_id": 50375995, "comment_id": 87768284, "body": "Why don;\u2019t you give an ID to the ROOT Constraint Layout and use that instead of adding a FrameLayout? Also, you shouldn\u2019t add a widget inside a constraint layout <i>and</i> use <code>match_parent</code>. That\u2019s not how ConstraintLayout works."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526489744, "post_id": 50375995, "comment_id": 87768776, "body": "I tried to use the Id of my root ConstraintLayout : android:id=&quot;@+id/bg_splash&quot;  but it didn&#39;t worked"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1526490080, "post_id": 50375995, "comment_id": 87768970, "body": "ok, in that case, I do recommend you don\u2019t use match_parent, use 0dp and specify constrains."}], "tags": [], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "is_accepted": true, "score": 0, "last_activity_date": 1526488650, "creation_date": 1526488650, "answer_id": 50375995, "question_id": 50374885, "link": "https://stackoverflow.com/questions/50374885/android-constraintlayout-particle-animation-elevation/50375995#50375995", "title": "Android ConstraintLayout particle animation elevation", "body": "<p>I found the solution !</p>\n\n<p>You have to add another parameters to the ParticleSystem call like this : </p>\n\n<pre><code>ParticleSystem(fromActivity, 80, R.drawable.confetti, 10000, R.id.YOURID)\n        .setSpeedModuleAndAngleRange(0f, 0.3f, 0, 0)\n        .setRotationSpeed(144f)\n        .setAcceleration(0.00035f, 100)\n        .emit(100, -100, 5)\n</code></pre>\n\n<p>And then add to the beginning of your ConstraintsLayout in your XML file:</p>\n\n<pre><code>&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/YOURID\"&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>That's it ! </p>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 0, "accepted_answer_id": 50375995, "answer_count": 1, "score": 0, "last_activity_date": 1526488650, "creation_date": 1526484769, "last_edit_date": 1526485380, "question_id": 50374885, "link": "https://stackoverflow.com/questions/50374885/android-constraintlayout-particle-animation-elevation", "title": "Android ConstraintLayout particle animation elevation", "body": "<p>I have a big issue , I'm trying to put particle animation in background \nI'm using the library : <a href=\"https://github.com/plattysoft/Leonids\" rel=\"nofollow noreferrer\">https://github.com/plattysoft/Leonids</a></p>\n\n<p>Confettis's Animation is on my screen perfectly but it's in foreground and I wanted it to be on background behind my ImageView !</p>\n\n<p>I tried set elevation of my ImageView but animation stay in foreground</p>\n\n<p>I have my SplashScreen.xml with Constraintlayout :</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/bg_splash\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/bg_splashscreen\"&gt;\n\n\n&lt;ImageView\n    android:id=\"@+id/logo_text\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"36dp\"\n    android:layout_marginStart=\"37dp\"\n    android:layout_marginTop=\"8dp\"\n    android:src=\"@drawable/logo\"\n    android:elevation=\"4dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/guideline2\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.0\"\n    app:layout_constraintHorizontal_weight=\"0.1\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"@+id/guideline\"\n    app:layout_constraintVertical_weight=\"0.1\"\n    tools:ignore=\"ContentDescription\" /&gt;\n\n&lt;android.support.constraint.Guideline\n    android:id=\"@+id/guideline\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    app:layout_constraintGuide_percent=\"0.26371\" /&gt;\n\n&lt;android.support.constraint.Guideline\n    android:id=\"@+id/guideline2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    app:layout_constraintGuide_percent=\"0.42074\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And my confetti animation is called basically in my onCreate method of my SplashScreen activity.\nHere is the method called in my Splashscreen Activity : </p>\n\n<pre><code>fun particleConfettiAnimation(fromActivity: Activity?) {\n\n        if (fromActivity == null){ return }\n\n        ParticleSystem(fromActivity, 80, R.drawable.confetti, 10000)\n            .setSpeedModuleAndAngleRange(0f, 0.3f, 0, 0)\n            .setRotationSpeed(144f)\n            .setAcceleration(0.00035f, 100)\n            .emit(100, -100, 5)\n     }\n</code></pre>\n\n<p>EDIT : I think I understood that the hierarchy in ConstraintLayout is : what is created last is on foreground compared to other elements created before so that can explain why the animation is in foreground compared to my ImageView</p>\n\n<p>But how can I fix this ? \nHope that will be clear enough , thanks !</p>\n"}, {"tags": ["kotlin", "libgdx", "libktx"], "comments": [{"owner": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 2, "creation_date": 1526498061, "post_id": 50374673, "comment_id": 87772965, "body": "That camera setup doesn&#39;t look correct. Set <code>camera.near</code> to (at least) <code>1f</code> and camera.far to e.g. <code>100f</code> (or at least a value so you model would actually be visible to the camera)."}, {"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "reply_to_user": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 0, "creation_date": 1526498870, "post_id": 50374673, "comment_id": 87773359, "body": "I have tried many clipping combos to no avail. My model is at 0,0,0 and is 5f in all directions, so it should be ok. I switched it to 1f &amp; 100f and still no dice."}, {"owner": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 1, "creation_date": 1526499938, "post_id": 50374673, "comment_id": 87773859, "body": "Remove the environment. You didn&#39;t show your glClear call, are you actually clearing the depth buffer. Also check this: <a href=\"https://github.com/libgdx/libgdx/wiki/Importing-Blender-models-in-LibGDX\" rel=\"nofollow noreferrer\">github.com/libgdx/libgdx/wiki/&hellip;</a>, it contains some general debugging tips. Also consider posting your mvce (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>), so we can actually see the problem. Also, if you follow my basic 3d tutorial (only translate to kotlin, dont modify anything functional) you should be able to get something visible."}, {"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "reply_to_user": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 0, "creation_date": 1526500721, "post_id": 50374673, "comment_id": 87774188, "body": "ah, I found the problem, thank you for mentioning the glClear function. LibKTX provides a screenClear() method that I thought incorporated the buffer_bit clearing but it does not, it&#39;s just for color changing. Adding in the GL20.GL_COLOR_BUFFER_BIT clear showed the box. I&#39;ll have to do some more reading on what exactly this does.. thanks again!"}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1584539574, "post_id": 50374673, "comment_id": 107467423, "body": "By the way, you do not have to both extend the <code>KtxGame</code> and implement <code>KtxApplicationAdapter</code>, as they both implement the same interface. Use <code>KtxGame</code> if you want to use <code>KtxScreens</code> to represent views in your application or use <code>KtxApplicationAdapter</code> if you want more control over the application. Also, latest KTX version call <code>glClear</code> with both flags."}], "answers": [{"comments": [{"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1526498939, "post_id": 50377835, "comment_id": 87773388, "body": "Ah, I see. I&#39;ll just forego to the begin() and end() functions then as I don&#39;t need them in this instance. Unfortunately, even with just createBox() and assigning a model instance to it &amp; throwing it in the model batch, it is still not appearing when I run my project :( I&#39;ve tried it with a loaded model as well. The model is loading, just not being rendered."}], "tags": [], "owner": {"reputation": 109, "user_id": 1795086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df169d35096e1d274cc87de6ff1bee?s=128&d=identicon&r=PG", "display_name": "ekeitho", "link": "https://stackoverflow.com/users/1795086/ekeitho"}, "is_accepted": false, "score": 1, "last_activity_date": 1526495587, "creation_date": 1526495587, "answer_id": 50377835, "question_id": 50374673, "link": "https://stackoverflow.com/questions/50374673/modelbuilder-end-not-working-as-it-should-com-badlogic-gdx-utils-gdxruntimeex/50377835#50377835", "title": "ModelBuilder end() not working as it should &quot;com.badlogic.gdx.utils.GdxRuntimeException: Call end() first&quot;", "body": "<ol>\n<li><p>LibGDX is not saying to call end() before you create a node, but that there is already an existing model that was created. Therefore, before creating another one you need to call end().</p></li>\n<li><p>From your code sample, the reason why GdxRuntimeException is being thrown is that you call begin() and then createBox(). createBox() actually calls begin() in the function. (take a look here: <a href=\"https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g3d/utils/ModelBuilder.java\" rel=\"nofollow noreferrer\">https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g3d/utils/ModelBuilder.java</a>) Therefore, the next begin() call the model is not null and the exception is thrown.</p></li>\n</ol>\n\n<p>For best practices, if createBox() can satisfy your request than just use that. If you need something more complicated, such that createSphere(), createCapsule() don't work for you, then you need to call begin(), part(...), and end().</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1584540010, "creation_date": 1526484068, "last_edit_date": 1584540010, "question_id": 50374673, "link": "https://stackoverflow.com/questions/50374673/modelbuilder-end-not-working-as-it-should-com-badlogic-gdx-utils-gdxruntimeex", "title": "ModelBuilder end() not working as it should &quot;com.badlogic.gdx.utils.GdxRuntimeException: Call end() first&quot;", "body": "<p>I'm just trying to get a basic box rendered with LibGDX (using Kotlin &amp; LibKTX) but am running into some issues.</p>\n\n<p>If I call the ModelBuilder <code>createBox</code> function without the specified <code>begin()</code> and <code>end()</code> functions my box is not rendered. I checked the materials, camera position, the bounding box, added a light source, etc. but it's just.. not there. I figured the issue was with the way I was building the nodes, as I can't find an issue with the Material.</p>\n\n<p>This is how I am trying to render my box:</p>\n\n<pre><code>class HomeView(private val baseUI: BaseUI) : KtxScreen {\n\n    private val cam by lazy { PerspectiveCamera(67f, baseUI.aWidth, baseUI.aHeight) }\n    private val boxInstance: ModelInstance\n    private val modelBatch: ModelBatch\n    private val modelBuilder: ModelBuilder by lazy { ModelBuilder() }\n    private val vertexAttributes =\n        VertexAttributes.Usage.Position.toLong() or\n        VertexAttributes.Usage.Normal.toLong() or\n        VertexAttributes.Usage.TextureCoordinates.toLong()\n    private val greenMat by lazy { Material(ColorAttribute.createDiffuse(Color.GREEN)) }\n    private val environment by lazy { Environment() }\n    //------ end global\n\n    init {\n        cam.position.set(vec3(-10f, -10f, 10f))\n        cam.lookAt(0f, 0f, 0f)\n        cam.near = .1f\n        cam.far = 10f\n        cam.update()\n\n        modelBatch = ModelBatch()\n\n        modelBuilder.begin()\n        modelBuilder.createBox(5f, 5f, 5f, greenMat, vertexAttributes)\n        boxInstance = ModelInstance(modelBuilder.end())\n\n        environment.set(ColorAttribute(ColorAttribute.AmbientLight, 0.4f, 0.4f, 0.4f, 1f))\n        environment.add(DirectionalLight().set(0.8f, 0.8f, 0.8f, -1f, -0.8f, -0.2f))\n    }\n\n    override fun render(delta: Float) {\n        Gdx.gl.glViewport(0, 0, baseUI.aWidth.toInt(), baseUI.aHeight.toInt())\n        //this is working, screen appears grey\n        clearScreen(.3f, .3f, .3f, 1f)\n\n        modelBatch.begin(cam)\n        modelBatch.render(boxInstance, environment)\n        modelBatch.end()\n    }\n\n    //rest omitted\n}\n</code></pre>\n\n<p>and here is my BaseUI class that I'm using to add the screen (I'm just trying to test screens out, this is all just for testing purposes so ignore the inefficiency please)</p>\n\n<pre><code>class BaseUI : KtxGame&lt;KtxScreen&gt;(), KtxApplicationAdapter {\n    val aWidth by lazy { Gdx.graphics.width.toFloat() }\n    val aHeight by lazy { Gdx.graphics.height.toFloat() }\n\n    override fun create() {\n        addScreen(HomeView(this))\n        setScreen&lt;HomeView&gt;()\n    }\n\n    override fun render() {\n        super&lt;KtxGame&gt;.render()\n    }\n\n    //rest ommitted\n}\n</code></pre>\n\n<p>When I run this I get the following error:\n<code>Exception in thread \"LWJGL Application\" com.badlogic.gdx.utils.GdxRuntimeException: Call end() first</code></p>\n\n<p>which makes it seem like I need to call <code>modelBatch.end()</code> before I even create the nodes, which is confusing. I feel like I am doing something very basic wrong here, as I was able to get the basic 3D examples working back when I was trying this with Java a few years back.</p>\n\n<p>So, two questions:</p>\n\n<ul>\n<li>Why is LibGDX saying that I need to call <code>end()</code> before I create the nodes with <code>ModelBuilder</code>?</li>\n<li>Is using <code>modelBuilder.begin()</code> and <code>modelBuilder.end()</code> actually the best way to use the ModelBuilder? I've yet to see a 3D example do this. Admittedly, all the 3D examples I have found have been from like 2013 so this might just be something that's been added. The LibGDX 3D section says to use <a href=\"https://xoppa.github.io/blog/basic-3d-using-libgdx/\" rel=\"nofollow noreferrer\">this</a> set of tutorials that do not use the <code>begin()</code> and <code>end()</code> functions, so I'm a bit confused as to what is the \"best practice\".</li>\n</ul>\n\n<p>Thanks for any help!</p>\n\n<p><strong>edit:</strong> I tried it with a loaded model and it's having the same issue. Hmm..</p>\n\n<p><strong>edit2:</strong> Thank you <a href=\"https://stackoverflow.com/users/2512687/xoppa\">Xoppa</a> for helping me figure out what was wrong. The LibKTX specific function <code>clearScreen()</code> did not incorporate the <code>GL20.GL_COLOR_BUFFER_BIT</code> clear function as expected, which was my bad from reading their documentation. Adding this to my render function displayed the green box as expected:</p>\n\n<p><code>Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT or GL20.GL_DEPTH_BUFFER_BIT)</code></p>\n"}, {"tags": ["java", "xml", "kotlin", "jackson", "deserialization"], "comments": [{"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 1, "creation_date": 1526484438, "post_id": 50374541, "comment_id": 87765770, "body": "Have you tried adding a default constructor as it suggests in the error? <code>public Asset() {}</code>"}, {"owner": {"reputation": 51, "user_id": 6882049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rT4ksRh50tU/AAAAAAAAAAI/AAAAAAAAAHo/SxiOTHZviXc/photo.jpg?sz=128", "display_name": "Wayne Hunter", "link": "https://stackoverflow.com/users/6882049/wayne-hunter"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1526484631, "post_id": 50374541, "comment_id": 87765902, "body": "Yes I did, same issue."}, {"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1526485052, "post_id": 50374541, "comment_id": 87766162, "body": "And the same for <code>Assets</code>? Sorry - I just noticed the error is talking about the <code>Assets</code> class."}, {"owner": {"reputation": 51, "user_id": 6882049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rT4ksRh50tU/AAAAAAAAAAI/AAAAAAAAAHo/SxiOTHZviXc/photo.jpg?sz=128", "display_name": "Wayne Hunter", "link": "https://stackoverflow.com/users/6882049/wayne-hunter"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1526485189, "post_id": 50374541, "comment_id": 87766251, "body": "Yes, I&#39;ve added a default constructor to each type."}, {"owner": {"reputation": 51, "user_id": 6882049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rT4ksRh50tU/AAAAAAAAAAI/AAAAAAAAAHo/SxiOTHZviXc/photo.jpg?sz=128", "display_name": "Wayne Hunter", "link": "https://stackoverflow.com/users/6882049/wayne-hunter"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1526485344, "post_id": 50374541, "comment_id": 87766352, "body": "Thanks, default on each type has resolved the issue."}], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": 2, "last_activity_date": 1526633028, "creation_date": 1526633028, "answer_id": 50407237, "question_id": 50374541, "link": "https://stackoverflow.com/questions/50374541/jackson-xml-deserialisation-issue/50407237#50407237", "title": "Jackson XML Deserialisation Issue", "body": "<p>There is now a Jackson module which allows it to deserialise to Kotlin data classes <strong>without</strong> the need to add a default constructor.</p>\n\n<p>See <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-module-kotlin</a></p>\n\n<pre><code>compile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.+\"\n</code></pre>\n\n<p>Try adding this to your Kotlin project so that you can keep your domain classes 'pure'. </p>\n"}, {"tags": [], "owner": {"reputation": 595, "user_id": 4044107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1eHNW.jpg?s=128&g=1", "display_name": "Brooks DuBois", "link": "https://stackoverflow.com/users/4044107/brooks-dubois"}, "is_accepted": false, "score": 2, "last_activity_date": 1560396144, "creation_date": 1560396144, "answer_id": 56572951, "question_id": 50374541, "link": "https://stackoverflow.com/questions/50374541/jackson-xml-deserialisation-issue/56572951#56572951", "title": "Jackson XML Deserialisation Issue", "body": "<p>Just to clarify the answer: </p>\n\n<p>I included</p>\n\n<pre><code>dependencies {\n    ...\n    compile(kotlin(\"reflect\"))\n    compile(\"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.+\")\n    compile(\"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.9.+\")\n    ...\n}\n</code></pre>\n\n<p>in <code>build.gradle.kts</code></p>\n\n<p>Then had the same issue.  Changing my data class by adding default values to the constructor seemed to fix it.  IE:</p>\n\n<p><code>data class HelloWorld(val hello: Boolean, val world: Boolean)</code> <strong><em>&lt;- Errors</em></strong></p>\n\n<p>becomes</p>\n\n<p><code>data class HelloWorld(val hello: Boolean = false, val world: Boolean = false)</code>  <strong><em>&lt;- Working</em></strong></p>\n\n<p>then:</p>\n\n<pre><code>const val xml = \"\"\"\n&lt;HelloWorld&gt;\n    &lt;hello&gt;true&lt;/hello&gt;\n    &lt;world&gt;true&lt;/world&gt;\n&lt;/HelloWorld&gt;\n\"\"\"\n</code></pre>\n\n<p>Will serialize and deserialize normally in kotlin via data classes.  Thanks!</p>\n"}], "owner": {"reputation": 51, "user_id": 6882049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rT4ksRh50tU/AAAAAAAAAAI/AAAAAAAAAHo/SxiOTHZviXc/photo.jpg?sz=128", "display_name": "Wayne Hunter", "link": "https://stackoverflow.com/users/6882049/wayne-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1738, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1560396144, "creation_date": 1526483737, "question_id": 50374541, "link": "https://stackoverflow.com/questions/50374541/jackson-xml-deserialisation-issue", "title": "Jackson XML Deserialisation Issue", "body": "<p>I am able to write a XML document, however am unable to deserialise the XML which is created. Original code is in Kotlin, however I've posted the Java equivalent.</p>\n\n<pre><code>@JacksonXmlRootElement(localName = \"assets\")\npublic class Assets {\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private Asset[] asset;\n\n    public Assets(Asset[] asset) {\n        this.asset = asset;\n    }\n\n    public Asset[] getAsset() {\n        return asset;\n    }\n\n    public void setAsset(Asset[] asset) {\n        this.asset = asset;\n    }\n}\n\npublic class Asset {\n    @JacksonXmlProperty(isAttribute = true)\n    private String type;\n    @JacksonXmlProperty(isAttribute = true)\n    private String name;\n    @JacksonXmlProperty(isAttribute = true)\n    private String displayName;\n    @JacksonXmlElementWrapper(localName = \"permissions\")\n    private Permission[] permission;\n\n    public Asset(String type, String name, String displayName, Permission[] permission) {\n        this.type = type;\n        this.name = name;\n        this.displayName = displayName;\n        this.permission = permission;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    public void setDisplayName(String displayName) {\n        this.displayName = displayName;\n    }\n\n    public Permission[] getPermission() {\n        return permission;\n    }\n\n    public void setPermission(Permission[] permission) {\n        this.permission = permission;\n    }\n}\n\npublic class Permission {\n    @JacksonXmlProperty(isAttribute = true)\n    private String name;\n    private Group[] group;\n\n    public Permission(String name, Group[] group) {\n        this.name = name;\n        this.group = group;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Group[] getGroup() {\n        return group;\n    }\n\n    public void setGroup(Group[] group) {\n        this.group = group;\n    }\n}\n</code></pre>\n\n<p>Instantiated with (Kotlin):</p>\n\n<pre><code>fun writeToXml(obj: Any) : String {\n    val xmlMapper = XmlMapper()\n    xmlMapper.enable(SerializationFeature.INDENT_OUTPUT)\n    return xmlMapper.writeValueAsString(obj)\n}\n\nval assets = Assets(arrayOf(\n            Asset(\"bdo\", \"approval-matrix\", \"Approval Matrix\", arrayOf(Permission(\"Create\", arrayOf(Group(arrayOf(\"Admin\", \"Approver\")))))),\n            Asset(\"bdo\", \"approval-matrix-2\", \"Approval Matrix 2\", arrayOf(Permission(\"Delete\", arrayOf(Group(arrayOf(\"Admin\", \"Approver\")), Group(arrayOf(\"Admin-2\", \"Approver-2\"))))))))\n\nval xmlModule = JacksonXmlModule()\nval objectMapper = XmlMapper(xmlModule)\nprintln(writeToXml(assets))\n</code></pre>\n\n<p>The generated XML is as expected:</p>\n\n<pre><code>&lt;assets&gt;\n  &lt;asset type=\"bdo\" name=\"approval-matrix\" displayName=\"Approval Matrix\"&gt;\n    &lt;permissions&gt;\n      &lt;permission name=\"Create\"&gt;\n        &lt;groups&gt;\n          &lt;group&gt;Admin&lt;/group&gt;\n          &lt;group&gt;Approver&lt;/group&gt;\n        &lt;/groups&gt;\n      &lt;/permission&gt;\n    &lt;/permissions&gt;\n  &lt;/asset&gt;\n  &lt;asset type=\"bdo\" name=\"approval-matrix-2\" displayName=\"Approval Matrix 2\"&gt;\n    &lt;permissions&gt;\n      &lt;permission name=\"Delete\"&gt;\n        &lt;groups&gt;\n          &lt;group&gt;Admin&lt;/group&gt;\n          &lt;group&gt;Approver&lt;/group&gt;\n        &lt;/groups&gt;\n        &lt;groups&gt;\n          &lt;group&gt;Admin-2&lt;/group&gt;\n          &lt;group&gt;Approver-2&lt;/group&gt;\n        &lt;/groups&gt;\n      &lt;/permission&gt;\n    &lt;/permissions&gt;\n  &lt;/asset&gt;\n&lt;/assets&gt;\n</code></pre>\n\n<p>However when trying to deserialize:</p>\n\n<pre><code>val generated = objectMapper.readValue&lt;Assets&gt;(xmlAssets)\n</code></pre>\n\n<p>I receive the following error:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `uk.co.processflows.configuration.entities.Assets` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (StringReader); line: 2, column: 3]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1451)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1027)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1290)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:326)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\n    at com.fasterxml.jackson.dataformat.xml.deser.WrapperHandlingDeserializer.deserialize(WrapperHandlingDeserializer.java:113)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4001)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3011)\n    at uk.co.processflows.module.EntryPoint.main(EntryPoint.kt:58)\n</code></pre>\n\n<p>Any assistance would be appreciated.</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 719, "user_id": 2459062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ykJa6.gif?s=128&g=1", "display_name": "Klunk", "link": "https://stackoverflow.com/users/2459062/klunk"}, "edited": false, "score": 0, "creation_date": 1526911767, "post_id": 50374425, "comment_id": 87914457, "body": "when you run the build has processResources run?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1547483414, "post_id": 50374425, "comment_id": 95199356, "body": "Related: <a href=\"https://stackoverflow.com/q/22653651/6296561\">stackoverflow.com/q/22653651/6296561</a>"}], "owner": {"reputation": 195, "user_id": 4671053, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/8ccda64628e742a41c7bcf36fee1c0bb?s=128&d=identicon&r=PG&f=1", "display_name": "allnex", "link": "https://stackoverflow.com/users/4671053/allnex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547795142, "creation_date": 1526483371, "last_edit_date": 1547795142, "question_id": 50374425, "link": "https://stackoverflow.com/questions/50374425/cannot-get-resource-when-using-common-module", "title": "Cannot get resource when using common module", "body": "<p>I'm developing a full stack application, with three modules: backend, frontend a common. Their names are self explanatory. Using Kotlin 1.2.41</p>\n\n<p>The problem is that when having the common module, using <code>getResource()</code> in any class of the backend, it returns an exception saying the file is not found. Without the common module it works.</p>\n\n<p>The code I'm using:</p>\n\n<pre><code>object Configuration {\n    val content = javaClass.classLoader.getResource(\"app.properties\").readText()\n}\n</code></pre>\n\n<p>This is the exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at com.example.AppKt.main(App.kt:8)\nCaused by: java.lang.IllegalStateException: javaClass.classLoader.ge\u2026esource(\"app.properties\") must not be null\n    at com.example.Configuration.&lt;clinit&gt;(Configuration.kt:4)\n    ... 1 more\n</code></pre>\n\n<p>This is the folder tree:</p>\n\n<pre><code>my-app\n\u251c\u2500\u2500 backend\n|  \u251c\u2500\u2500 build.gradle\n|  \u2514\u2500\u2500 src\n|     \u2514\u2500\u2500 main\n|        \u251c\u2500\u2500 kotlin\n|        \u2514\u2500\u2500 resources &lt;-- app.properties here\n\u251c\u2500\u2500 common\n|  \u251c\u2500\u2500 build.gradle\n|  \u2514\u2500\u2500 src\n|     \u2514\u2500\u2500 main\n|        \u251c\u2500\u2500 kotlin\n|        \u2514\u2500\u2500 resources\n\u251c\u2500\u2500 frontend\n|  \u251c\u2500\u2500 build.gradle\n|  \u2514\u2500\u2500 src\n|     \u2514\u2500\u2500 main\n|        \u251c\u2500\u2500 kotlin\n|        \u2514\u2500\u2500 resources\n\u2514\u2500\u2500 build.gradle\n</code></pre>\n\n<p>This is the build.gradle of the backend module, where the resources are stored.</p>\n\n<pre><code>apply plugin: 'kotlin'\napply plugin: 'kotlin-platform-jvm'\napply plugin: 'com.github.johnrengelman.shadow'\n\nbuildscript {\n    ext {\n        exposed_version = '0.10.2'\n        h2_version = '1.4.197'\n        hikari_version = '3.1.0'\n        konfig_version = '1.6.7.0'\n        ktor_version = '0.9.2'\n        logback_version = '1.2.3'\n        shadow_version = '2.0.4'\n    }\n    dependencies {\n        classpath \"com.github.jengelman.gradle.plugins:shadow:$shadow_version\"\n    }\n}\n\nrepositories {\n    maven { url 'https://dl.bintray.com/kotlin/ktor' }\n    maven { url 'https://dl.bintray.com/kotlin/exposed' }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    implementation \"io.ktor:ktor-auth:$ktor_version\"\n    implementation \"io.ktor:ktor-gson:$ktor_version\"\n    implementation \"io.ktor:ktor-html-builder:$ktor_version\"\n    implementation \"io.ktor:ktor-server-netty:$ktor_version\"\n\n    implementation \"com.h2database:h2:$h2_version\"\n    implementation \"com.zaxxer:HikariCP:$hikari_version\"\n    implementation \"org.jetbrains.exposed:exposed:$exposed_version\"\n\n    implementation \"ch.qos.logback:logback-classic:$logback_version\"\n    implementation \"com.natpryce:konfig:$konfig_version\"\n\n    expectedBy project(':common')\n}\n\nconfigurations {\n    implementation {\n        exclude group: 'org.jetbrains.kotlin', module: 'kotlin-runtime'\n    }\n}\n\nsourceCompatibility = JavaVersion.VERSION_1_8\ntargetCompatibility = JavaVersion.VERSION_1_8\ncompileKotlin {\n    kotlinOptions.jvmTarget = '1.8'\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = '1.8'\n}\n\nkotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\n</code></pre>\n\n<p>and applied <code>kotlin-platform-jvm</code> and <code>kotlin-platform-js</code> respectively to each module.</p>\n\n<p>Also tried copying the resources to the common module, but doesn't work. Cleaning the project and invalidate IntelliJ cache.</p>\n\n<p>This happens when debugging or running the app in IntelliJ, when compiling into a fat jar it works.</p>\n\n<p>I may have an idea why throws an error. Sometimes there is an <code>out</code> folder in the backend module, and its content is the compiled classes and the resources folder. When the folder is present, the app can run, when is not, it throws the exception above.</p>\n\n<p>I don't know if I'm missing something.</p>\n"}, {"tags": ["android", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526483361, "post_id": 50374210, "comment_id": 87765021, "body": "That&#39;s cuz <code>getArguments()</code> is marked <code>@Nullable</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "reply_to_user": {"reputation": 67, "user_id": 8676920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35ec0f28f7c14b9510ae88293711329b?s=128&d=identicon&r=PG&f=1", "display_name": "James Fisher", "link": "https://stackoverflow.com/users/8676920/james-fisher"}, "edited": false, "score": 0, "creation_date": 1526484592, "post_id": 50374426, "comment_id": 87765870, "body": "You&#39;re welcome! There is also a great <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">article</a> about Kotlin standard functions. Definitely worth checking out!"}], "tags": [], "owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "is_accepted": true, "score": 3, "last_activity_date": 1526484638, "last_edit_date": 1526484638, "creation_date": 1526483372, "answer_id": 50374426, "question_id": 50374210, "link": "https://stackoverflow.com/questions/50374210/bundle-is-nullable-even-though-i-havent-declared-it-as-such/50374426#50374426", "title": "Bundle is nullable even though I haven&#39;t declared it as such", "body": "<p><code>arguments</code> is <a href=\"https://developer.android.com/reference/android/app/Fragment.html#getArguments()\" rel=\"nofollow noreferrer\">nullable</a> (note the \"if any\" in the description of the link), therefore you can not simply assign it to a non-nullable <code>Bundle</code>. You would either handle the case of it being <code>null</code> (using an if), using <code>!!</code> or you could write something like this:</p>\n\n<pre><code>arguments?.let { bundle = it }\n</code></pre>\n\n<p>However, I'd say its preferred to use <code>let</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 8676920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35ec0f28f7c14b9510ae88293711329b?s=128&d=identicon&r=PG&f=1", "display_name": "James Fisher", "link": "https://stackoverflow.com/users/8676920/james-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 50374426, "answer_count": 1, "score": 0, "last_activity_date": 1526484638, "creation_date": 1526482747, "question_id": 50374210, "link": "https://stackoverflow.com/questions/50374210/bundle-is-nullable-even-though-i-havent-declared-it-as-such", "title": "Bundle is nullable even though I haven&#39;t declared it as such", "body": "<pre><code>class UserFragment : Fragment(), View.OnClickListener {\n\nprivate val userBinding: FragmentUserBinding by onCreateView&lt;Fragment, FragmentUserBinding&gt;(R.layout.fragment_user)\nval user: ObservableField&lt;String&gt; = ObservableField()\nprivate var bundle = Bundle()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    userBinding.main = this\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?) = userBinding.root!!\n\noverride fun onClick(p0: View?) {\n    runAnimation(500L, Techniques.RubberBand, p0)\n    Handler().postDelayed({\n        saveUserAndStartLetterFragment()\n    }, 700L)\n}\n\nprivate fun saveUserAndStartLetterFragment() {\n    var fragment = WordpackChooserFragment()\n    bundle.putString(\"User\",user.get())\n    fragment.arguments = bundle\n    activity!!.supportFragmentManager.replaceFragment(fragment, activity!!.findViewById(R.id.flContainer))\n}\n}\n</code></pre>\n\n<p>In this fragment I declare the bundle. I do not specify it as nullable.</p>\n\n<pre><code>class WordpackChooserFragment : Fragment(), View.OnClickListener {\n\nprivate val wordpackChooserBinding: FragmentWordpackChooserBinding by onCreateView&lt;Fragment, FragmentWordpackChooserBinding&gt;(R.layout.fragment_wordpack_chooser)\nprivate var bundle: Bundle = Bundle()\nprivate lateinit var fragment: Fragment\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    wordpackChooserBinding.main = this\n    setRecycler()\n    bundle = arguments\n    return wordpackChooserBinding.root\n}\n\noverride fun onClick(v: View?) {\n    fragment = RoundsChooserFragment()\n    bundle.putStringArrayList(\"Wordpack\", selectedPack)\n    fragment.arguments = bundle\n    activity!!.supportFragmentManager.replaceFragment(fragment, activity!!.findViewById(R.id.flContainer))\n}\n\nprivate fun setRecycler() {\n    wordpackChooserBinding.root.btn_recycler.layoutManager = LinearLayoutManager(this.context)\n    wordpackChooserBinding.root.btn_recycler.adapter = BtnAdapter(this)\n    wordpackChooserBinding.root.btn_recycler.adapter.notifyDataSetChanged()\n}\n\n}\n</code></pre>\n\n<p>In this fragment this line <code>bundle = arguments</code> errors with the following:</p>\n\n<p>Type mismatch. </p>\n\n<p>Required: Bundle</p>\n\n<p>Found: Bundle?</p>\n\n<p>I can use the non-null assertion operator '!!' but It seems like a hack.</p>\n"}, {"tags": ["kotlin", "sequence", "coroutine", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526481496, "post_id": 50373754, "comment_id": 87763643, "body": "I agree that it&#39;s not safe, <code>takeWhile</code> should get a stateless function. BTW synchronization would be the least of your problems if this was used in a parallel computation. <code>takeWhile</code> isn&#39;t even defined in that case."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1526507522, "post_id": 50373754, "comment_id": 87777021, "body": "I&#39;m not under the impression Sequences are intended for parallel use cases at all?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1526551348, "post_id": 50373754, "comment_id": 87792825, "body": "@LouisWasserman They aren&#39;t intended for parallel, but their contract doesn&#39;t constrain them to strictly sequential processing. Specifically, the contract of <code>takeWhile</code> states &quot;The operation is intermediate and <i>stateless</i>.&quot;"}, {"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526879750, "post_id": 50373754, "comment_id": 87898672, "body": "@MarkoTopolnik my understanding is that the phrase &quot;The operation is intermediate and stateless.&quot; from the <code>takeWhile</code> documentation refers to the whole operation, and not specifically to the predicate.   In particular <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/&hellip;</a> defines stateless as: <i>operations which require no state and process each element independently like or <b>require a small constant amount of state to process an element</b>, for example kotlin.sequences.Sequence.take or kotlin.sequences.Sequence.drop;</i>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526881405, "post_id": 50373754, "comment_id": 87899141, "body": "Yes, you&#39;re right. Unfortunately that&#39;s the closest the docs have on it. The state that sentence refers to is the implementation&#39;s internal state. The contract doesn&#39;t explicitly state the user&#39;s function must be stateless. There&#39;s a good discussion on this in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">java.util.stream</a> package Javadoc, section &quot;Stateless behaviors&quot;. However, in your case the problem isn&#39;t state itself, but that your function <i>assumes sequential encounter order</i>."}, {"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527087024, "post_id": 50373754, "comment_id": 87995735, "body": "@MarkoTopolnik thanks for the pointer! I believe in Java there&#39;s a strong requirement on the predicate being stateless because they have to support <i>parallelStream()</i>. In Kotlin there&#39;s no such requirement but the comment still applies. So I guess that if the only way of making this safe is synchronizing on the <code>shouldContinue</code> it kind of defeats the purpose of parallel consumption."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527087514, "post_id": 50373754, "comment_id": 87996114, "body": "My original point was that synchronization wouldn&#39;t solve anything. The result would still be completely broken. OTOH even with the guarantee that the computation is single-threaded, you are still not allowed to assume sequential encounter order for your function."}, {"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "edited": false, "score": 0, "creation_date": 1527090597, "post_id": 50373754, "comment_id": 87998180, "body": "Sorry but I didn&#39;t get why the result would be broken. And why can&#39;t we assume sequential encounter order in a single-thread execution."}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "is_accepted": true, "score": 1, "last_activity_date": 1527446077, "last_edit_date": 1592644375, "creation_date": 1527446077, "answer_id": 50555292, "question_id": 50373754, "link": "https://stackoverflow.com/questions/50373754/is-this-implementation-of-takewhileinclusive-safe/50555292#50555292", "title": "Is this implementation of takeWhileInclusive safe?", "body": "<p>Here's what I've figured out so far.</p>\n<h2>Question clarification</h2>\n<p>The question is unclear. There's no such thing as a <strong>parallel sequence</strong> I probably got them mixed up with <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#executing_streams_in_parallel\" rel=\"nofollow noreferrer\">Java's parallel streams</a>. What I meant was a sequence that was <strong>consumed concurrently</strong>.</p>\n<h2>Sequences are synchronous</h2>\n<p>As @LouisWasserman pointed out in the comments sequences are not designed for parallel execution. In particular the <code>SequenceBuilder</code> is annotated with <code>@RestrictSuspension</code>. Citing from <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#restricted-suspension\" rel=\"nofollow noreferrer\">Kotlin Coroutine</a> repo:</p>\n<blockquote>\n<p>It means that no SequenceBuilder extension of lambda in its scope can invoke suspendContinuation or other general suspending function</p>\n</blockquote>\n<p>Having said that as @MarkoTopolnik commented they can still be used in a parallel program just like any other Object.</p>\n<h2>Sequences used in parallel</h2>\n<p>As an example here's a first attempt of using Sequences in parallel</p>\n<pre><code>fun launchProcessor(id: Int, iterator: Iterator&lt;Int&gt;) = launch {\n    println(&quot;[${Thread.currentThread().name}] Processor #$id received ${iterator.next()}&quot;)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val s = sequenceOf(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)\n    runBlocking {\n        val iterator = s.iterator()\n        repeat(10) { launchProcessor(it, iterator) }\n    }\n}\n</code></pre>\n<p>This code prints:</p>\n<blockquote>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #1 received 1</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #0 received 0</p>\n<p>[ForkJoinPool.commonPool-worker-3] Processor #2 received 2</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #3 received 3</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #4 received 3</p>\n<p>[ForkJoinPool.commonPool-worker-3] Processor #5 received 3</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #7 received 5</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #6 received 4</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #9 received 7</p>\n<p>[ForkJoinPool.commonPool-worker-3] Processor #8 received 6</p>\n</blockquote>\n<p>Which of course is <strong>not what we want</strong>. As some numbers are consumed twice.</p>\n<h2>Enter channels</h2>\n<p>On the other hand if we were to use channels we could write something like this:</p>\n<pre><code>fun produceNumbers() = produce {\n    var x = 1 // start from 1\n    while (true) {\n        send(x++) // produce next\n        delay(100) // wait 0.1s\n    }\n}\n\nfun launchProcessor(id: Int, channel: ReceiveChannel&lt;Int&gt;) = launch {\n    channel.consumeEach {\n        println(&quot;[${Thread.currentThread().name}] Processor #$id received $it&quot;)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    val producer = produceNumbers()\n    repeat(5) { launchProcessor(it, producer) }\n    delay(1000)\n    producer.cancel() // cancel producer coroutine and thus kill them all\n}\n</code></pre>\n<p>Then the output is:</p>\n<blockquote>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #0 received 1</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #0 received 2</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #1 received 3</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #2 received 4</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #3 received 5</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #4 received 6</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #0 received 7</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #1 received 8</p>\n<p>[ForkJoinPool.commonPool-worker-1] Processor #2 received 9</p>\n<p>[ForkJoinPool.commonPool-worker-2] Processor #3 received 10</p>\n</blockquote>\n<p>Furthermore we could implement the <code>takeWhileInclusive</code> method for channels like this:</p>\n<pre><code>fun &lt;E&gt; ReceiveChannel&lt;E&gt;.takeWhileInclusive(\n        context: CoroutineContext = Unconfined,\n        predicate: suspend (E) -&gt; Boolean\n): ReceiveChannel&lt;E&gt; = produce(context) {\n    var shouldContinue = true\n    consumeEach {\n        val currentShouldContinue = shouldContinue\n        shouldContinue = predicate(it)\n        if (!currentShouldContinue) return@produce\n        send(it)\n    }\n}\n</code></pre>\n<p>And it works as expected.</p>\n"}], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 50555292, "answer_count": 1, "score": 0, "last_activity_date": 1527446077, "creation_date": 1526481376, "question_id": 50373754, "link": "https://stackoverflow.com/questions/50373754/is-this-implementation-of-takewhileinclusive-safe", "title": "Is this implementation of takeWhileInclusive safe?", "body": "<p>I found the following implementation of an inclusive <code>takeWhile</code> (found <a href=\"https://gist.github.com/matklad/54776705250e3b375618f59a8247a237\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>fun &lt;T&gt; Sequence&lt;T&gt;.takeWhileInclusive(pred: (T) -&gt; Boolean): Sequence&lt;T&gt; {\n    var shouldContinue = true\n    return takeWhile {\n        val result = shouldContinue\n        shouldContinue = pred(it)\n        result\n    }\n}\n</code></pre>\n\n<p>The problem is I'm not 100% convinced this is safe if used on a <strong>parallel sequence</strong>. </p>\n\n<p>My concern is that we'd be relying on the <code>shouldContinue</code> variable to know when to stop, but we're not synchronizing it's access. </p>\n\n<p><em>Any insights?</em></p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8629023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d65b1bbae50b410bedb6cb1d8175cff?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba", "link": "https://stackoverflow.com/users/8629023/kuba"}, "edited": false, "score": 1, "creation_date": 1526480345, "post_id": 50373149, "comment_id": 87762810, "body": "I was so close to solution, I tried to do this this way: <code>(RepoViewHolder) holder.bind(itemRepo)</code>... Now it makes sense, thank you :)"}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": true, "score": 3, "last_activity_date": 1526481247, "last_edit_date": 1526481247, "creation_date": 1526479673, "answer_id": 50373149, "question_id": 50372989, "link": "https://stackoverflow.com/questions/50372989/onbindviewholderrecyclerview-viewholder-holder-int-position-cant-access-ho/50373149#50373149", "title": "onBindViewHolder(RecyclerView.ViewHolder holder, int position) - can&#39;t access holder&#39;s &#39;fun&#39; - Kotlin to Java", "body": "<p>Replace </p>\n\n<pre><code>if(itemRepo != null){\n   holder.bind(itemRepo) // not possible\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if (itemRepo != null &amp;&amp; holder instanceof RepoViewHolder) {\n   ((RepoViewHolder) holder).bind(itemRepo)\n}\n</code></pre>\n\n<p>With current code it is not accesible because at <code>onBindViewHolder</code> you have reference of <code>RecyclerView.ViewHolder(Base Calss)</code> which cannot access the property of child class.</p>\n"}], "owner": {"reputation": 13, "user_id": 8629023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d65b1bbae50b410bedb6cb1d8175cff?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba", "link": "https://stackoverflow.com/users/8629023/kuba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 0, "accepted_answer_id": 50373149, "answer_count": 1, "score": 0, "last_activity_date": 1526481247, "creation_date": 1526479314, "question_id": 50372989, "link": "https://stackoverflow.com/questions/50372989/onbindviewholderrecyclerview-viewholder-holder-int-position-cant-access-ho", "title": "onBindViewHolder(RecyclerView.ViewHolder holder, int position) - can&#39;t access holder&#39;s &#39;fun&#39; - Kotlin to Java", "body": "<p>I have 2 classes for RecyclerView - Adapter and ViewHolder.\nIn Adapter class which is written in Kotlin I'm implementing <code>onBindViewHolder(RecyclerView.ViewHolder holder, int position)</code> method and I am able to access <code>holder.bind()</code> -  <code>fun</code> - easly but when I try to remake this Kotlin file to Java file and access <code>holder.bind()</code> it is not possible. How can I access <code>holder.bind()</code> from Java file?</p>\n\n<pre><code>class RepoViewHolder(view: View) : RecyclerView.ViewHolder(view) {\nprivate val name: TextView = view.findViewById(R.id.repo_name)\nprivate val description: TextView = view.findViewById(R.id.repo_description)\nprivate val stars: TextView = view.findViewById(R.id.repo_stars)\nprivate val language: TextView = view.findViewById(R.id.repo_language)\nprivate val forks: TextView = view.findViewById(R.id.repo_forks)\n\nprivate var repo: Repo? = null\n\ninit {\n    view.setOnClickListener {\n        repo?.url?.let { url -&gt;\n            val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\n            view.context.startActivity(intent)\n        }\n    }\n}\n\nfun bind(repo: Repo?) {\n    if (repo == null) {\n        val resources = itemView.resources\n        name.text = resources.getString(R.string.loading)\n        description.visibility = View.GONE\n        language.visibility = View.GONE\n        stars.text = resources.getString(R.string.unknown)\n        forks.text = resources.getString(R.string.unknown)\n    } else {\n        showRepoData(repo)\n    }\n}\n\nprivate fun showRepoData(repo: Repo) {\n    this.repo = repo\n    name.text = repo.fullName\n\n    // if the description is missing, hide the TextView\n    var descriptionVisibility = View.GONE\n    if (repo.description != null) {\n        description.text = repo.description\n        descriptionVisibility = View.VISIBLE\n    }\n    description.visibility = descriptionVisibility\n\n    stars.text = repo.stars.toString()\n    forks.text = repo.forks.toString()\n\n    // if the language is missing, hide the label and the value\n    var languageVisibility = View.GONE\n    if (!repo.language.isNullOrEmpty()) {\n        val resources = this.itemView.context.resources\n        language.text = resources.getString(R.string.language, repo.language)\n        languageVisibility = View.VISIBLE\n    }\n    language.visibility = languageVisibility\n}\n\ncompanion object {\n    fun create(parent: ViewGroup): RepoViewHolder {\n        val view = LayoutInflater.from(parent.context)\n                .inflate(R.layout.repo_view_item, parent, false)\n        return RepoViewHolder(view)\n    }\n}}\n</code></pre>\n\n<p><strong>Kotlin Adapter file:</strong></p>\n\n<pre><code>class ReposAdapter : ListAdapter&lt;Repo, RecyclerView.ViewHolder&gt;(REPO_COMPARATOR) {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    return RepoViewHolder.create(parent)\n}\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    val repoItem = getItem(position)\n    if (repoItem != null) {\n        (holder as RepoViewHolder).bind(repoItem)\n    }\n}\n\ncompanion object {\n    private val REPO_COMPARATOR = object : DiffUtil.ItemCallback&lt;Repo&gt;() {\n        override fun areItemsTheSame(oldItem: Repo, newItem: Repo): Boolean =\n                oldItem.fullName == newItem.fullName\n\n        override fun areContentsTheSame(oldItem: Repo, newItem: Repo): Boolean =\n                oldItem == newItem\n    }\n}}\n</code></pre>\n\n<p><strong>And this is my Java file in which I'm trying to convert Kotlin's Adapter to Java:</strong></p>\n\n<pre><code>public class ReposAdapterJava extends ListAdapter&lt;Repo, RecyclerView.ViewHolder&gt; {\n\nprivate static DiffUtil.ItemCallback&lt;Repo&gt; callback = new DiffUtil.ItemCallback&lt;Repo&gt;() {\n    @Override\n    public boolean areItemsTheSame(Repo oldItem, Repo newItem) {\n        return oldItem.getFullName().equals(newItem.getFullName());\n    }\n\n    @Override\n    public boolean areContentsTheSame(Repo oldItem, Repo newItem) {\n        return oldItem == newItem;\n    }\n};\n\nprotected ReposAdapterJava() {\n    super(callback);\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return RepoViewHolder.Companion.create(parent);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    Repo itemRepo = getItem(position);\n    if(itemRepo != null){\n        holder.bind(itemRepo) // not possible\n    }\n}}\n</code></pre>\n\n<p>These code snippets are from Android Paging codelab.</p>\n"}, {"tags": ["android", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1526482873, "post_id": 50373157, "comment_id": 87764689, "body": "Ok thanks that seem to at least initialise the storage object but when it tries to mock my callback class , it says moickit cannot mock this lass interfacem com.blah.LaunchContract$ActivityCallback"}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 1, "creation_date": 1526483381, "post_id": 50373157, "comment_id": 87765038, "body": "@jonney make sure you are using the latest version of JDK 8, as I know there are some issues with older versions (<a href=\"https://github.com/mockito/mockito/issues/636\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/636</a>)"}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1526485142, "post_id": 50373157, "comment_id": 87766220, "body": "@jonney nice to hear. I will edit the answer for future generations ;)"}], "tags": [], "owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "is_accepted": true, "score": 2, "last_activity_date": 1526485222, "last_edit_date": 1526485222, "creation_date": 1526479690, "answer_id": 50373157, "question_id": 50372574, "link": "https://stackoverflow.com/questions/50372574/mockito-not-working-for-androidtest/50373157#50373157", "title": "Mockito not working for androidTest", "body": "<p>To have <code>@Mock</code> annotations working correctly you should:</p>\n\n<p>annotate your test class with <code>@RunWith(MockitoJUnitRunner::class)</code></p>\n\n<p>or</p>\n\n<p>call <code>MockitoAnnotations.initMocks(this)</code> in your \"setup\" method (annotated with <code>@Before</code>)</p>\n\n<pre><code>@Before\nfun setup() {\n   MockitoAnnotations.initMocks(this)\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Also, make sure you are using the latest version of JDK 8, Mockito has some issues with older JDK versions (<a href=\"https://github.com/mockito/mockito/issues/636\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/636</a>)</p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1737, "favorite_count": 0, "accepted_answer_id": 50373157, "answer_count": 1, "score": 1, "last_activity_date": 1526485222, "creation_date": 1526478173, "last_edit_date": 1526479354, "question_id": 50372574, "link": "https://stackoverflow.com/questions/50372574/mockito-not-working-for-androidtest", "title": "Mockito not working for androidTest", "body": "<p>i am trying to mock some objects nd then inject them to a presenter but doesnt work</p>\n\n<p>It sais the lateInt property that i have a mock on is not being initialised:</p>\n\n<p>Here is my test clss</p>\n\n<pre><code>    @Mock\n    lateinit var storage: StorageContract\n\n    @Mock\n    lateinit var activityCallBack: LaunchContract.ActivityCallBack\n\n    @InjectMocks\n    lateinit var launchPresenter: LaunchContract.Presenter\n\n    @get: Rule\n    @InjectMocks\n    var activity: ActivityTestRule&lt;LaunchActivity&gt; = ActivityTestRule&lt;LaunchActivity&gt;(LaunchActivity::class.java)\n\n   @Test\n    fun testRegAndLoginVisible() {\n        Mockito.`when`(storage.isLoggedIn()).thenReturn(false)\n        onView(withId(R.id.loginBtn))\n                .check(matches(isDisplayed()))\n        onView(withId(R.id.registerBtn))\n                .check(matches(isDisplayed()))\n\n    }\n</code></pre>\n\n<p>Here is my build script </p>\n\n<pre><code> testImplementation 'junit:junit:4.12'\n    testImplementation 'au.com.dius:pact-jvm-consumer-junit_2.11:3.5.10'\n    testImplementation 'org.mockito:mockito-inline:2.13.0'\n    testImplementation 'io.mockk:mockk:1.6.3'\n    testImplementation 'org.assertj:assertj-core:3.8.0'\n\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    androidTestImplementation 'junit:junit:4.12'\n    androidTestImplementation 'org.mockito:mockito-android:2.13.0'\n</code></pre>\n\n<p>The error i get:</p>\n\n<blockquote>\n  <p>kotlin.UninitializedPropertyAccessException: lateinit property storage has not been initialized</p>\n</blockquote>\n"}, {"tags": ["loops", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1526630499, "creation_date": 1526630499, "answer_id": 50406554, "question_id": 50372353, "link": "https://stackoverflow.com/questions/50372353/iterate-through-firebase-database-using-kotlin/50406554#50406554", "title": "Iterate through firebase database using Kotlin", "body": "<p>To iterate try the following:</p>\n\n<pre><code>override fun onChildAdded(snapshot: DataSnapshot?, p1: String?) {\n\n        val children = snapshot!!.children\n        children.forEach {\n        println(it.toString())\n    }\n}\n</code></pre>\n\n<p>This will iterate inside the direct children of your reference and retrieve the data.</p>\n"}], "owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1526630499, "creation_date": 1526477571, "last_edit_date": 1526486773, "question_id": 50372353, "link": "https://stackoverflow.com/questions/50372353/iterate-through-firebase-database-using-kotlin", "title": "Iterate through firebase database using Kotlin", "body": "<p>I have created an array (I think): </p>\n\n<pre><code>var recipeArray: List&lt;RecipeTemplate&gt; = mutableListOf() //RecpeTemplate is a class\n</code></pre>\n\n<p>I have written out the basic <code>Firebase</code> code and verified that it works using <code>console.log</code> to print out data from the database. </p>\n\n<p>In <code>onChildAdded()</code> I now want to loop the database and add the data to the array. This is what I've got: </p>\n\n<pre><code>override fun onChildAdded(snapshot: DataSnapshot?, p1: String?) {\n\n            val children = snapshot!!.children \n\n            /*children.mapNotNullTo(recipeArray) {\n                it.getValue(RecipeTemplate)&lt;RecipeTemplate::class&gt;\n            } NOT SURE ABOUT THIS ONE*/\n\n\n            children.forEach{\n                var tempRecipe: RecipeTemplate? = null\n\n                tempRecipe!!.recipeHeader = it.object[\"recipeHeaderFirebase\"]\n                tempRecipe!!.recipeText = it.object[\"recipeIngredientsTextFirebase\"]\n                tempRecipe!!.recipeImage = it.object[\"recipeImageFirebase\"]\n\n            }\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yLetu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLetu.png\" alt=\"Here\"></a> is a sample of fb data.</p>\n\n<p>Not sure about the last part: <code>it.object</code>. I figure it should be something else...</p>\n"}, {"tags": ["kotlin", "kotlin-js-interop"], "answers": [{"tags": [], "owner": {"reputation": 950, "user_id": 1941359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dffbd0bd86e324aff9d04907df88e8b?s=128&d=identicon&r=PG", "display_name": "AlexO", "link": "https://stackoverflow.com/users/1941359/alexo"}, "is_accepted": false, "score": 1, "last_activity_date": 1539304312, "creation_date": 1539304312, "answer_id": 52770590, "question_id": 50371726, "link": "https://stackoverflow.com/questions/50371726/what-is-the-correct-way-to-access-the-export-default-in-kotlinjs/52770590#52770590", "title": "What is the correct way to access the `export default` in KotlinJS", "body": "<p>Instead of <code>@JsName(\"Vue\")</code>, try: <code>@JsName(\"default\")</code></p>\n"}], "owner": {"reputation": 784, "user_id": 685380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/39ef6987e0b00c12a1af3f8e9a5a5e73?s=128&d=identicon&r=PG", "display_name": "n_l", "link": "https://stackoverflow.com/users/685380/n-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1539304312, "creation_date": 1526475806, "question_id": 50371726, "link": "https://stackoverflow.com/questions/50371726/what-is-the-correct-way-to-access-the-export-default-in-kotlinjs", "title": "What is the correct way to access the `export default` in KotlinJS", "body": "<p>I am playing with Vue and KotlinJS and thought that I can simply get access to the Vue observer functions like <code>Vue.set</code> this way:</p>\n\n<pre><code>@JsModule(\"vue\")\n@JsName(\"Vue\")\nopen external class Vue {\n    companion object {\n        fun &lt;T&gt; set(target: Any, key: String, value: T): T\n        fun &lt;T&gt; set(target: Array&lt;T&gt;, key: Int, value: T): T\n    }\n}\n...\nVue.set(state.todos, 1, todo)\n</code></pre>\n\n<p>However I get</p>\n\n<blockquote>\n  <p>Uncaught TypeError: $module$vue.set is not a function</p>\n</blockquote>\n\n<p>where <code>$module$vue = require(\"vue\")</code>.</p>\n\n<p>What is working though is this (notice the <code>object default</code> instead of <code>companion object</code>:</p>\n\n<pre><code>@JsModule(\"vue\")\n@JsName(\"Vue\")\nopen external class Vue {\n    object default {\n        fun &lt;T&gt; set(target: Any, key: String, value: T): T\n        fun &lt;T&gt; set(target: Array&lt;T&gt;, key: Int, value: T): T\n    }\n}\n...\nVue.default.set(state.todos, 1, todo)\n</code></pre>\n\n<p>Why is that and is there a good way to get around this?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-recyclerview", "reactive"], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 5685358, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TKR6G.png?s=128&g=1", "display_name": "Debdeep", "link": "https://stackoverflow.com/users/5685358/debdeep"}, "edited": false, "score": 2, "creation_date": 1537953616, "post_id": 50988864, "comment_id": 91968084, "body": "How did you handle the case of updating the positions of existing items when a single item has been added/removed through <code>DiffUtil</code>?"}], "tags": [], "owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "is_accepted": true, "score": 5, "last_activity_date": 1529673505, "creation_date": 1529673505, "answer_id": 50988864, "question_id": 50371083, "link": "https://stackoverflow.com/questions/50371083/diffutil-and-registeradapterdataobserver/50988864#50988864", "title": "DiffUtil and registerAdapterDataObserver", "body": "<p>I found out the problem. I assumed <code>onChanged()</code> is called everytime something changes. But it is <strong>1:1</strong> with <code>notify</code> methods.</p>\n\n<p>So <code>notifyDatasetChanged()</code> invokes <code>onChanged()</code>, but DiffUtil never calls it (that is the purpose of DiffUtil), which means all the other methods (<code>onItemRangeRemoved()</code>, <code>onItemRangeMoved()</code>, etc.) gotta be implemented.</p>\n"}], "owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 0, "accepted_answer_id": 50988864, "answer_count": 1, "score": 2, "last_activity_date": 1529673505, "creation_date": 1526473993, "question_id": 50371083, "link": "https://stackoverflow.com/questions/50371083/diffutil-and-registeradapterdataobserver", "title": "DiffUtil and registerAdapterDataObserver", "body": "<p>I have a RecyclerView adapter with DiffUtil functionality.\nI wanted to use DataObserver to notify fragment when DiffUtil finishes its magic. However, looks like DiffUtil doesn't call the observers.</p>\n\n<p>Adapter</p>\n\n<pre><code>private val items: MutableList&lt;Message&gt;\nprivate val updater = PublishSubject.create&lt;MutableList&lt;Message&gt;&gt;()\n\ninit {\n    items = ArrayList()\n\n    updater\n        .debounce(500, TimeUnit.MILLISECONDS)\n        .subscribeOn(Schedulers.computation())\n        .map { Pair(it, DiffUtil.calculateDiff(DiffUtilCallback(it, items), true)) }\n        .doOnNext { setItems(it.first) }\n        .map { it.second }\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe { diffResult.dispatchUpdatesTo(this) }\n}\n\nfun updateData(msgs: MutableList&lt;Message&gt;) = updater.onNext(msgs)\n\nprivate fun setItems(newItems: MutableList&lt;Message&gt;) {\n    items.clear()\n    items.addAll(newItems)\n}\n</code></pre>\n\n<p>Fragment</p>\n\n<pre><code>adapter.registerAdapterDataObserver(object : RecyclerView.AdapterDataObserver() {\n    override fun onChanged() {\n        //is not called\n    }\n})\n</code></pre>\n\n<p>How do I make the AdapterDataObserver work? What is wrong with my (trying to be reactive) approach?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "anko"], "comments": [{"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1526547055, "post_id": 50370650, "comment_id": 87789864, "body": "It looks like problem with styles of button and text."}, {"owner": {"reputation": 1064, "user_id": 2439248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eea3ea7042768863e37b718ebc6ce30d?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Ugale", "link": "https://stackoverflow.com/users/2439248/anil-ugale"}, "reply_to_user": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1526547206, "post_id": 50370650, "comment_id": 87789953, "body": "I have used  the default style."}, {"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1526555912, "post_id": 50370650, "comment_id": 87795681, "body": "What are your &quot;colorPrimary&quot;, colorPrimaryDark&quot; and &quot;colorAccent&quot; in AppTheme ?"}, {"owner": {"reputation": 1064, "user_id": 2439248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eea3ea7042768863e37b718ebc6ce30d?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Ugale", "link": "https://stackoverflow.com/users/2439248/anil-ugale"}, "reply_to_user": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1526556706, "post_id": 50370650, "comment_id": 87796206, "body": "follwoing  colors are use    &lt;color name=&quot;colorPrimary&quot;&gt;#008577&lt;/color&gt;     &lt;color name=&quot;colorPrimaryDark&quot;&gt;#00574B&lt;/color&gt;     &lt;color name=&quot;colorAccent&quot;&gt;#D81B60&lt;/color&gt;"}, {"owner": {"reputation": 1064, "user_id": 2439248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eea3ea7042768863e37b718ebc6ce30d?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Ugale", "link": "https://stackoverflow.com/users/2439248/anil-ugale"}, "reply_to_user": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1526557492, "post_id": 50370650, "comment_id": 87796720, "body": "@eurosecom thanks for ur help. actually, the problem is in new material style. I had remove it and it working fine."}, {"owner": {"reputation": 1160, "user_id": 3634867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MlFlF.png?s=128&g=1", "display_name": "John_J", "link": "https://stackoverflow.com/users/3634867/john-j"}, "edited": false, "score": 0, "creation_date": 1527427151, "post_id": 50370650, "comment_id": 88115889, "body": "@AnilUgale May I know how you solve it? remove what?"}], "answers": [{"tags": [], "owner": {"reputation": 1064, "user_id": 2439248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eea3ea7042768863e37b718ebc6ce30d?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Ugale", "link": "https://stackoverflow.com/users/2439248/anil-ugale"}, "is_accepted": false, "score": 2, "last_activity_date": 1527751548, "creation_date": 1527751548, "answer_id": 50618891, "question_id": 50370650, "link": "https://stackoverflow.com/questions/50370650/anko-alert-text-color-show-wrong/50618891#50618891", "title": "Anko alert text color show wrong", "body": "<p>I have achieved this using following code. working for me </p>\n\n<pre><code>     getContext()?.alert(\"me\") {\n            also {\n                ctx.setTheme(R.style.CustomAlertDialog)\n            }\n            okButton {  getContext()!!.toast(\"Done\") }\n        }!!.show()\n</code></pre>\n\n<p>theme changes is </p>\n\n<pre><code>  &lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"dialogTheme\"&gt;@style/CustomAlertDialog&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"CustomAlertDialog\" parent=\"ThemeOverlay.MaterialComponents.Dialog.Alert\"&gt;\n  &lt;item name=\"buttonBarPositiveButtonStyle\"&gt;@style/btnStyle&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"btnStyle\" parent=\"TextAppearance.AppCompat.Body1\"&gt;\n    &lt;item name=\"android:textColor\"&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 10358621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2RE9FCwz1fI/AAAAAAAAAAI/AAAAAAAAAEQ/gPKEpvWs5v8/photo.jpg?sz=128", "display_name": "ge gu", "link": "https://stackoverflow.com/users/10358621/ge-gu"}, "is_accepted": false, "score": 0, "last_activity_date": 1536843868, "last_edit_date": 1536843868, "creation_date": 1536843732, "answer_id": 52314342, "question_id": 50370650, "link": "https://stackoverflow.com/questions/50370650/anko-alert-text-color-show-wrong/52314342#52314342", "title": "Anko alert text color show wrong", "body": "<p>I have found the perfect solution:</p>\n\n<p>Use <code>Theme.AppCompat...</code> in <code>styles.xml</code> rather than <code>Theme.MaterialComponents...</code>.</p>\n"}], "owner": {"reputation": 1064, "user_id": 2439248, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eea3ea7042768863e37b718ebc6ce30d?s=128&d=identicon&r=PG&f=1", "display_name": "Anil Ugale", "link": "https://stackoverflow.com/users/2439248/anil-ugale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1536843868, "creation_date": 1526472777, "last_edit_date": 1526536092, "question_id": 50370650, "link": "https://stackoverflow.com/questions/50370650/anko-alert-text-color-show-wrong", "title": "Anko alert text color show wrong", "body": "<p>I am showing the alert dialog with a message and ok button. but ok button color and text of the button is same   </p>\n\n<pre><code>context!!.alert (\"this test message for the dialog aleat\"){\n            okButton { context!!.toast(\"yeah it ok\") }\n        }.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LtuYZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LtuYZ.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["types", "reference", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "edited": false, "score": 0, "creation_date": 1526472303, "post_id": 50370344, "comment_id": 87756770, "body": "Gottcha! Thanks for the quick answer!"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 0, "creation_date": 1526472331, "post_id": 50370344, "comment_id": 87756786, "body": "It is different from Class in way that it is reimplemented in kotlin own way. But the motivation of both are same."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1526472525, "post_id": 50370344, "comment_id": 87756924, "body": "I updated type at fist place from Class to Kclass and at second place i am writing it comparing to java so there it will be Class. thanks @Enzokie"}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": true, "score": 1, "last_activity_date": 1526472446, "last_edit_date": 1526472446, "creation_date": 1526471919, "answer_id": 50370344, "question_id": 50370166, "link": "https://stackoverflow.com/questions/50370166/difference-between-class-references-in-kotlin/50370344#50370344", "title": "Difference between class references in Kotlin", "body": "<p><code>var tempRecipe: RecipeTemplate? = null</code> Here you are creating a variable which will store the reference of an instance of RecipeTemplate which can be null.</p>\n\n<p><code>var tempRecipe2 = RecipeTemplate::class</code> Here you are creating a variable which have value of <code>type KClass</code>.</p>\n\n<p>The above two is same campare to java first one is like creating a varibale to store an instance like <code>RecipeTemplate tempRecipe = RecipeTemplate()</code>\nand the second one is like <code>Class tempRecipe2 = RecipeTemplate.class</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 6795321, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7sfOVRvZrdY/AAAAAAAAAAI/AAAAAAAAAGg/4_ldTJYdi5Y/photo.jpg?sz=128", "display_name": "doompickaxe", "link": "https://stackoverflow.com/users/6795321/doompickaxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1526472149, "creation_date": 1526472149, "answer_id": 50370416, "question_id": 50370166, "link": "https://stackoverflow.com/questions/50370166/difference-between-class-references-in-kotlin/50370416#50370416", "title": "Difference between class references in Kotlin", "body": "<p><code>var tempRecipe: RecipeTemplate? = null</code>\nmeans that <code>tempRecipe</code> references to an object which is a <code>RecipeTemplate</code></p>\n\n<p><code>var tempRecipe2 = RecipeTemplate::class</code>\nmeans that <code>tempRecipe2</code> is a reference to an object which is a <code>KClass</code></p>\n\n<p>Because the reference isn't the same:</p>\n\n<p>On <code>tempRecipe</code> you can call all methods which <code>RecipeTemplate</code> has. On <code>tempRecipe2</code> you can't. But you can call the method <code>cast</code> for example, because <code>KClasses</code> has this method.</p>\n"}], "owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 50370344, "answer_count": 2, "score": -4, "last_activity_date": 1526472446, "creation_date": 1526471336, "last_edit_date": 1526471994, "question_id": 50370166, "link": "https://stackoverflow.com/questions/50370166/difference-between-class-references-in-kotlin", "title": "Difference between class references in Kotlin", "body": "<p>I found that there are (at least) two ways to reference a class in kotlin: </p>\n\n<pre><code>var tempRecipe: RecipeTemplate? = null\n</code></pre>\n\n<p>and </p>\n\n<pre><code>var tempRecipe2 = RecipeTemplate::class\n</code></pre>\n\n<p>What's the difference between the two?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "edited": false, "score": 0, "creation_date": 1526466825, "post_id": 50368527, "comment_id": 87753080, "body": "Have you tried interface and delegate to update Datasource of RecyclerView?"}], "answers": [{"tags": [], "owner": {"reputation": 2798, "user_id": 3275450, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/RR9XY.jpg?s=128&g=1", "display_name": "Prashant Jajal", "link": "https://stackoverflow.com/users/3275450/prashant-jajal"}, "is_accepted": false, "score": 0, "last_activity_date": 1526467132, "creation_date": 1526467132, "answer_id": 50368675, "question_id": 50368527, "link": "https://stackoverflow.com/questions/50368527/update-list-adapter-from-another-class/50368675#50368675", "title": "Update list adapter from another class", "body": "<p>you can achieve what you want by following this steps: </p>\n\n<pre><code>-take list from adapter object. ( e.g. adapterObj.list)\n-clear list. (e.g. adapterObj.list.clear)\n-add new list in adapter list. (e.g. adapterObj.list.addAll(newlistObj))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "is_accepted": true, "score": 1, "last_activity_date": 1526467920, "creation_date": 1526467920, "answer_id": 50368969, "question_id": 50368527, "link": "https://stackoverflow.com/questions/50368527/update-list-adapter-from-another-class/50368969#50368969", "title": "Update list adapter from another class", "body": "<h1>Interface</h1>\n\n<p>Write Interface and implemented it at GroupsActivity\nSomething like this </p>\n\n<pre><code>/**\n * View Call Back interface for Activity\n */\ninterface ViewCallBackOperations : BaseViewOpration {\n\n    fun onDataReceived(randomDialog: List&lt;MovieModel&gt;)\n\n    fun onError(error: String)\n}\n</code></pre>\n\n<p>Implemneted interface at Activity and override callback method, something like this </p>\n\n<pre><code>class PopularFragment : Activity(), PopularMVPContract.ViewCallBackOperations,\n</code></pre>\n\n<p>Override method for an interface, these methods will get called asynchronously from another class as I am getting data from the Internet from Web API for my application</p>\n\n<pre><code>    override fun onDataReceived(randomDialog: List&lt;MovieModel&gt;) {\n    adapter!!.updateData(randomDialog)\n}\n\noverride fun onError(error: String) {\n    this.showSnackBar(\"Oops !! Something went wrong please try again !!\")\n}\n</code></pre>\n\n<h1>Another class</h1>\n\n<p>This is another class from where these methods get called</p>\n\n<pre><code>    private fun handlePopularResponse(data: JSONObject?, error: String?) {\n    if (null == error &amp;&amp; null != mViewCallBack) {\n        val gson = Gson()\n        val recentMoviesResponse: RecentAPIResponse = gson.fromJson(data.toString(), RecentAPIResponse::class.java)\n        mViewCallBack!!.get()!!.onDataReceived(recentMoviesResponse.data)\n    } else if (null != mViewCallBack){\n        mViewCallBack!!.get()!!.onError(error!!)\n    }\n}\n</code></pre>\n\n<h1>mViewCallBack - what is this?</h1>\n\n<p>This is nothing but weakreference object of activity, initialised using the constructor, something like this</p>\n\n<pre><code>private var mViewCallBack: WeakReference&lt;PopularMVPContract.ViewCallBackOperations&gt;? = null\n\ninit {\n    mViewCallBack = WeakReference(viewCallBackOperations)\n}\n</code></pre>\n\n<h1>Adapter Class</h1>\n\n<p>Declaration of List Object:</p>\n\n<pre><code>private var movieList: MutableList&lt;MovieModel&gt; = mutableListOf&lt;MovieModel&gt;()\n</code></pre>\n\n<p>Add a method in adapter class like following</p>\n\n<pre><code> fun updateData(data: List&lt;MovieModel&gt;) {\n    movieList.clear()\n    movieList.addAll(data)\n    notifyDataSetChanged()\n}\n</code></pre>\n"}], "owner": {"reputation": 30, "user_id": 7271675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5557a6818fa66fa0541506ceb93aae9?s=128&d=identicon&r=PG&f=1", "display_name": "D.Prieto", "link": "https://stackoverflow.com/users/7271675/d-prieto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 50368969, "answer_count": 2, "score": 1, "last_activity_date": 1526467920, "creation_date": 1526466700, "question_id": 50368527, "link": "https://stackoverflow.com/questions/50368527/update-list-adapter-from-another-class", "title": "Update list adapter from another class", "body": "<p>I am developing my first application in kotlin, and I have encountered the following problem:</p>\n\n<p>I have a \"RecyclerView\" in my activity with a method of updating it</p>\n\n<pre><code>class GroupsActivity : AppCompatActivity() {\n\nval TAG = \"GroupsActivity\"\n\n\ncompanion object {\n    var active: Boolean = false\n\n    var tableModel: List&lt;GroupModel&gt;? = null\n\n}\n\nfun updateList() {\n\n    rv_list.adapter = GroupsListAdapter(this, tableModel)\n\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_groups)\n\n    if (WebSocketConnection.connected) {\n        print(1)\n    }\n\n    rv_list.layoutManager = LinearLayoutManager(this)\n\n    rv_list.hasFixedSize()\n\n    rv_list.adapter = GroupsListAdapter(this, tableModel)\n\n\n}\n}\n</code></pre>\n\n<p>The list will be updated asynchronously from another class at any time. This is the method:</p>\n\n<pre><code>fun jsonActionCheck(action : String, jsonString: String){\n\n    val gson = Gson()\n\n    when (action){\n        \"LOGIN_OK\" -&gt; {}\n        \"LOGOUT\" -&gt; {}\n        \"GET_GROUPS\" -&gt; {\n\n            val jsonModel : JsonGroups = gson.fromJson(jsonString, JsonGroups::class.java)\n\n            if(GroupsActivity.active){\n\n                GroupsActivity.tableModel = jsonModel.data\n\n                GroupsActivity.updateList()\n            }\n        }\n        \"GET_CHAT_LIST\" -&gt; {}\n        \"SEND_MESSAGE\" -&gt; {\n            //var grp = model.data.get(0).group\n            //var msg = model.data.get(0).message\n        }\n        \"GET_MESSAGE\" -&gt; {}\n        else -&gt; {}\n    }\n}\n</code></pre>\n\n<p>I know that the method is not static being out of companion object, but from inside I can not reference the list.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1526479007, "post_id": 50368634, "comment_id": 87761668, "body": "Thank you very much. I totally agree with your advice about not to pass the Context. I do not know what I was thinking... :-D"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 2, "last_activity_date": 1526467047, "creation_date": 1526467047, "answer_id": 50368634, "question_id": 50368392, "link": "https://stackoverflow.com/questions/50368392/wrap-extension-function-into-another/50368634#50368634", "title": "Wrap extension function into another", "body": "<p>First, you don't need to pass <code>Context</code> into <code>Activity</code>s extension (aside from few special cases).</p>\n\n<p>Second, I don't really see how you want to merge them into one? Unless you mean removal of second extension all together, in that case your first method should simply contain the body of second one:</p>\n\n<pre><code>fun Activity.hideKeyboard(sv: SearchView) {\n    val hideKeyboardSV = HideKeyboardWithSearchView(this, sv)\n    window.decorView.rootView.setOnTouchListener { _, _ -&gt;\n        hideKeyboard.start()\n        return@setOnTouchListener false\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1526478890, "post_id": 50368738, "comment_id": 87761571, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 917, "user_id": 6393618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x1z9m.jpg?s=128&g=1", "display_name": "rya", "link": "https://stackoverflow.com/users/6393618/rya"}, "is_accepted": false, "score": 2, "last_activity_date": 1535648557, "last_edit_date": 1535648557, "creation_date": 1526467320, "answer_id": 50368738, "question_id": 50368392, "link": "https://stackoverflow.com/questions/50368392/wrap-extension-function-into-another/50368738#50368738", "title": "Wrap extension function into another", "body": "<p>you could just use the second one like this: </p>\n\n<pre><code>fun Activity.hideKeyboard(sv: View) {\n    window.decorView.rootView.setOnTouchListener { _, _ -&gt;\n        HideKeyboardWithSearchView(this, sv).start()\n        return@setOnTouchListener false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1535648557, "creation_date": 1526466322, "last_edit_date": 1526479313, "question_id": 50368392, "link": "https://stackoverflow.com/questions/50368392/wrap-extension-function-into-another", "title": "Wrap extension function into another", "body": "<p>I want to simplify my code.</p>\n\n<p>I have implemented a way to hide the soft keyboard when I touch the screen using a SearchView.</p>\n\n<p>I show you the code...</p>\n\n<p><strong>Call</strong> (inside an activity where sv is an instance of a SearchView)</p>\n\n<pre><code>hideKeyboard(this, sv)\n</code></pre>\n\n<p><strong>Fun extensions</strong></p>\n\n<pre><code>fun Activity.hideKeyboard(context: Context, sv: SearchView) {\n    hideKeyboard(HideKeyboardWithSearchView(context, sv))\n}\n\nfun Activity.hideKeyboard(hideKeyboard: HideKeyboardWithSearchView) {\n    window.decorView.rootView.setOnTouchListener { _, _ -&gt;\n        hideKeyboard.start()\n        return@setOnTouchListener false\n    }\n}\n</code></pre>\n\n<p><strong>And the class to perform the action</strong></p>\n\n<pre><code>import android.content.Context\nimport android.support.v7.widget.SearchView\nimport android.view.inputmethod.InputMethodManager\n\nclass HideKeyboardWithSearchView(private val context: Context, private val sv: SearchView) {\n\n    fun start() {\n        val imm = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        imm.hideSoftInputFromWindow(sv.windowToken, 0)\n        sv.clearFocus()\n    }\n}\n</code></pre>\n\n<p>I would like to merge the two fun extensions in one. I think this should be easy with a lambda or similar, but I do not control very well this part of the language... :-(</p>\n\n<p>Any idea? :-)</p>\n\n<hr>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>Solved by <a href=\"https://stackoverflow.com/users/9241978/pawel\">rya</a> and <a href=\"https://stackoverflow.com/users/9241978/pawel\">Pawel</a>.</p>\n\n<pre><code>fun Activity.hideKeyboard(sv: SearchView) {\n    window.decorView.rootView.setOnTouchListener { _, _ -&gt;\n        HideKeyboardWithSearchView(this, sv).start()\n        return@setOnTouchListener false\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-navigation", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526597236, "post_id": 50367157, "comment_id": 87818830, "body": "AS 3.2 Canary 15 is available now, check if it fixes your problem"}], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 4331682, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LIKQu.jpg?s=128&g=1", "display_name": "Sunil Chaudhary", "link": "https://stackoverflow.com/users/4331682/sunil-chaudhary"}, "edited": false, "score": 0, "creation_date": 1597387293, "post_id": 52537270, "comment_id": 112121185, "body": "any idea about <a href=\"https://stackoverflow.com/questions/63052712/nested-fragment-backpress-child-inside-parent-have-problem\" title=\"nested fragment backpress child inside parent have problem\">stackoverflow.com/questions/63052712/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1051, "user_id": 2468324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgjTa.jpg?s=128&g=1", "display_name": "Ankit Bisht", "link": "https://stackoverflow.com/users/2468324/ankit-bisht"}, "is_accepted": false, "score": 0, "last_activity_date": 1538051951, "creation_date": 1538051951, "answer_id": 52537270, "question_id": 50367157, "link": "https://stackoverflow.com/questions/50367157/error-in-finding-navhostfragment-jetpack-navigation-android/52537270#52537270", "title": "Error in finding NavHostFragment Jetpack Navigation Android", "body": "<p>Try to call <code>Navigation.findNavController(bottom_navigation_view_homepage_activity, R.id.appointmentFragment)</code></p>\n\n<p>You also don't need to set <code>setOnNavigationItemSelectedListener</code>, just edit your navigation graph \"nav_graph\" as follow:</p>\n\n<pre><code>&lt;fragment\n        android:id=\"@+id/action_appointment\"\n        ..../&gt;\n&lt;fragment\n        android:id=\"@+id/action_chat\"\n        ..../&gt;\n</code></pre>\n\n<p>Basically set your fragment id in nav_graph same as the item ids in your bottom nav view.</p>\n"}, {"comments": [{"owner": {"reputation": 983, "user_id": 4331682, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LIKQu.jpg?s=128&g=1", "display_name": "Sunil Chaudhary", "link": "https://stackoverflow.com/users/4331682/sunil-chaudhary"}, "edited": false, "score": 0, "creation_date": 1597387275, "post_id": 55235812, "comment_id": 112121178, "body": "have any idea how to do this with this link <a href=\"https://stackoverflow.com/questions/63052712/nested-fragment-backpress-child-inside-parent-have-problem\" title=\"nested fragment backpress child inside parent have problem\">stackoverflow.com/questions/63052712/&hellip;</a>"}], "tags": [], "owner": {"reputation": 246, "user_id": 7811661, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404486119615706/picture?type=large", "display_name": "Yudi karma", "link": "https://stackoverflow.com/users/7811661/yudi-karma"}, "is_accepted": false, "score": 0, "last_activity_date": 1597754159, "last_edit_date": 1597754159, "creation_date": 1552981515, "answer_id": 55235812, "question_id": 50367157, "link": "https://stackoverflow.com/questions/50367157/error-in-finding-navhostfragment-jetpack-navigation-android/55235812#55235812", "title": "Error in finding NavHostFragment Jetpack Navigation Android", "body": "<p>Please check if your 'id_menu' called in BottomNavigation is the same as 'id_fragment' in the Navigation Graph.</p>\n<p>You can use this method to navigate 'bottom_nav' to show a fragment:</p>\n<pre><code>setSupportActionBar(toolbar)\n\n    navController = Navigation.findNavController(this, R.id.main_fragment)\n    NavigationUI.setupWithNavController(bottom_nav,navController)\n    NavigationUI.setupActionBarWithNavController(this, navController)\n</code></pre>\n<p>and don't forget to overide the following method:</p>\n<pre><code>override fun onSupportNavigateUp(): Boolean {\n    return NavigationUI.navigateUp(navController,null)\n}\n</code></pre>\n<p>Please let me know if this code works for you.</p>\n<p>As an aside, with Kotlin you don't need call findViewById, you might find benefit by implementing DataBinding in your layout.</p>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "is_accepted": false, "score": 4, "last_activity_date": 1587113499, "creation_date": 1587113499, "answer_id": 61267605, "question_id": 50367157, "link": "https://stackoverflow.com/questions/50367157/error-in-finding-navhostfragment-jetpack-navigation-android/61267605#61267605", "title": "Error in finding NavHostFragment Jetpack Navigation Android", "body": "<p>If this issue happens while using a release build, chances are that the class name has been minified by proguard. That way, the reference <code>android:name=\"androidx.navigation.fragment.NavHostFragment\"</code> in the XML file will not match any valid class.</p>\n\n<p>Try to add this line in the proguard file</p>\n\n<pre><code>-keepnames class androidx.navigation.fragment.NavHostFragment\n</code></pre>\n\n<p>so that the class name does not get minified and that it stays as mentionned in the XML file.</p>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 9003851, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d27cb314705244798c5b766dc80cfb39?s=128&d=identicon&r=PG&f=1", "display_name": "moumenShobakey", "link": "https://stackoverflow.com/users/9003851/moumenshobakey"}, "is_accepted": false, "score": 0, "last_activity_date": 1611382403, "creation_date": 1611382403, "answer_id": 65856287, "question_id": 50367157, "link": "https://stackoverflow.com/questions/50367157/error-in-finding-navhostfragment-jetpack-navigation-android/65856287#65856287", "title": "Error in finding NavHostFragment Jetpack Navigation Android", "body": "<p>Did you add the fragment dependency?\nimplementation &quot;androidx.fragment:fragment:1.2.0&quot; this is for java i don't know if it's the same for kotlin</p>\n"}], "owner": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4058, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1611382403, "creation_date": 1526463080, "last_edit_date": 1526521802, "question_id": 50367157, "link": "https://stackoverflow.com/questions/50367157/error-in-finding-navhostfragment-jetpack-navigation-android", "title": "Error in finding NavHostFragment Jetpack Navigation Android", "body": "<p>I am using Jetpack Navigation for handling the navigation of Fragments. After following the documentation, when I run the app I am getting the below error.</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: Didn't find class \"androidx.navigation.fragment.NavHostFragment\" \n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 'android-P'\n\ndefaultConfig {\n    applicationId \"com.meditab.imspatient\"\n    minSdkVersion 21\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\n\ndef nav_version = \"1.0.0-alpha01\"\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\n\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.0' // Constraint layout\n\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\" // Kotlin\n\n// Anko\nimplementation \"org.jetbrains.anko:anko-commons:$anko_version\" // Anko Commons\nimplementation \"org.jetbrains.anko:anko-design:$anko_version\" // For SnackBars\nimplementation \"org.jetbrains.anko:anko-coroutines:$anko_version\" // Anko Coroutines\n\n// Support libraries\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0-alpha1' // Support v4\nimplementation 'androidx.appcompat:appcompat:1.0.0-alpha1' // AppCompat\nimplementation 'androidx.recyclerview:recyclerview:1.0.0-alpha1' // RecyclerView\nimplementation 'com.google.android.material:material:1.0.0-alpha1' // Design Support library\nimplementation 'androidx.cardview:cardview:1.0.0-alpha1' // CardView\n\n// Jetpack Navigation\nimplementation \"android.arch.navigation:navigation-fragment-ktx:$nav_version\"\nimplementation \"android.arch.navigation:navigation-ui-ktx:$nav_version\"\n\n// Dagger 2\nimplementation 'com.google.dagger:dagger:2.14.1'\nkapt 'com.google.dagger:dagger-compiler:2.14.1'\nprovided 'javax.annotation:jsr250-api:1.0'\n\n// Retrofit, OkHttp, OkHttpInterceptor and GSON\nimplementation 'com.squareup.retrofit2:retrofit:2.3.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\nimplementation 'com.google.code.gson:gson:2.8.2'\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'\n\nimplementation 'com.rengwuxian.materialedittext:library:2.1.4' // Material EditText\n }\n\nkotlin {\nexperimental {\n    coroutines \"enable\"\n}\n}\n</code></pre>\n\n<p><strong>Code of the Activity hosting the NavHostFragment</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_home_page)\n\n// Handle the clicks for bottom navigation view\nbottom_navigation_view_homepage_activity.setOnNavigationItemSelectedListener { item -&gt;\n\n\n    when (item.itemId) {\n        R.id.action_appointment -&gt; findNavController(item.itemId).navigate(R.id.appointmentFragment)\n\n        R.id.action_chat -&gt; findNavController(item.itemId).navigate(R.id.chatFragment)\n    }\n\n\n\n}\n\nNavigation.findNavController(this, R.id.appointmentFragment)\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Activity's XML file</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        app:navGraph=\"@navigation/nav_graph\"\n        app:defaultNavHost=\"true\"\n       /&gt;\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_navigation_view_homepage_activity\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorPrimary\"\n        app:itemIconTint=\"@drawable/nav_item_color_state\"\n        app:itemTextColor=\"@drawable/nav_item_color_state\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:menu=\"@menu/bottom_navigation_view\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>I have implemented the Navigation Graph properly. Also, the project is refactored to AndroidX.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526461569, "post_id": 50366553, "comment_id": 87749423, "body": "The companion object is not an instance of the enclosing class."}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526461610, "post_id": 50366616, "comment_id": 87749455, "body": "What&#39;s &quot;kind of static&quot; exactly?"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1526461694, "post_id": 50366616, "comment_id": 87749495, "body": "This is static if you access it within Kotlin classes you access it same way as you access static method in Java.  But to access it in same way from Java classes you need to use ClassName.Companion.method()"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526462230, "post_id": 50366616, "comment_id": 87749889, "body": "Only Difference is when accessing from <code>Java</code> a extra Companion required."}, {"owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "edited": false, "score": 0, "creation_date": 1526462558, "post_id": 50366616, "comment_id": 87750126, "body": "@d4h i understand your points, but how about the definition that  mentioned in the ebook, that was wrote by the authors of Kotlin. Could you please explain this in the way of the definition."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 0, "creation_date": 1526463235, "post_id": 50366616, "comment_id": 87750652, "body": "I got your point, the definition in book is confusing,   A companion object is not part of an instance of a class. You can&#39;t access members from a companion object, just like in Java you can&#39;t access members from a static method.  But in case of utility classes where you just need to perform some operation you can call Static method which create a new instance of class and the perform some functions."}, {"owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "edited": false, "score": 0, "creation_date": 1526463733, "post_id": 50366616, "comment_id": 87750967, "body": "Could you please update your answer and also reference to the example from @user8320224&#39;s answer too, i think the combine of them will be marked as the best answer."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 0, "creation_date": 1526464364, "post_id": 50366616, "comment_id": 87751453, "body": "Updated with reference."}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": true, "score": 6, "last_activity_date": 1526464238, "last_edit_date": 1526464238, "creation_date": 1526461506, "answer_id": 50366616, "question_id": 50366553, "link": "https://stackoverflow.com/questions/50366553/confused-about-kotlins-companion-object-definition/50366616#50366616", "title": "Confused about Kotlin&#39;s companion object definition", "body": "<p>Method inside <code>companion</code> are kind of static by default(compared to Java &amp; also this is how you achieve static king of things in Kotlin) and you can not access normal variable from static method.</p>\n\n<p>Same is happening here.</p>\n\n<p>Edit:- </p>\n\n<p>The definition in book is confusing, A companion object is not part of an instance of a class. You can't access members from a companion object, just like in Java you can't access members from a static method. But in case of utility classes where you just need to perform some operation you can call Static method which create a new instance of class and the perform some functions.</p>\n\n<p>For example you can check answer by <a href=\"https://stackoverflow.com/users/8320224/user8320224\">@user8320224</a>, I am also quoting his code here,</p>\n\n<pre><code>class Normal {\nprivate var name: String = \"hallo\"\nprivate fun printName() {\n    println(name)\n}\n\ncompanion object {\n    fun factoryNormal(): Normal {\n        val normal = Normal()\n        normal.printName()\n        normal.name = \"new name\"\n        normal.printName()\n        return normal\n    }\n}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1526462773, "post_id": 50367010, "comment_id": 87750294, "body": "This is a good observation, but you should add the key clarification that the companion object&#39;s code must explicitly instantiate the enclosing class, there are neither implicit instances available nor is the companion itself an instance of it."}], "tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 3, "last_activity_date": 1526462661, "creation_date": 1526462661, "answer_id": 50367010, "question_id": 50366553, "link": "https://stackoverflow.com/questions/50366553/confused-about-kotlins-companion-object-definition/50367010#50367010", "title": "Confused about Kotlin&#39;s companion object definition", "body": "<p>Static members have access to the internals of a class, for example private members</p>\n\n<pre><code>class Normal() {\n    private var name: String = \"hallo\"\n    private fun printName() {\n        println(name)\n    }\n\ncompanion object {\n    fun factoryNormal(): Normal {\n        val normal = Normal()\n        normal.printName()\n        normal.name = \"new name\"\n        normal.printName()\n        return normal\n    }\n}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "is_accepted": false, "score": 1, "last_activity_date": 1526463657, "last_edit_date": 1526463657, "creation_date": 1526462893, "answer_id": 50367095, "question_id": 50366553, "link": "https://stackoverflow.com/questions/50366553/confused-about-kotlins-companion-object-definition/50367095#50367095", "title": "Confused about Kotlin&#39;s companion object definition", "body": "<p><code>companion object</code> is the same as <code>public static final class</code> in Java. Therefore you can't access to <strong>var name</strong>.</p>\n\n<p>Maybe this will help you:</p>\n\n<pre><code>class Normal() {\n    companion object {\n\n        @JvmStatic\n        var name: String = \"hallo\"\n\n        // This annotation will be helpful if you are calling \n        // this from Java, so it goes like Normal.printName();\n        @JvmStatic \n        fun printName() {\n            println(name)\n        }\n    }\n}\n</code></pre>\n\n<p>Now you can use this in Kotlin:</p>\n\n<pre><code>Normal.name = \"new name\"\nNormal.printName()\n</code></pre>\n\n<p>and if you want to use this in Java, then:</p>\n\n<pre><code>Normal.setName(\"new name\");\nNormal.printName();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16203, "user_id": 363592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QMipl.png?s=128&g=1", "display_name": "Lunivore", "link": "https://stackoverflow.com/users/363592/lunivore"}, "reply_to_user": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1526464716, "post_id": 50367564, "comment_id": 87751705, "body": "@vilpe89 Hah, I picked up your name from your reply when I meant to pick up shinobitiger310&#39;s from his question, sorry Shin! Ah, well... hello Vilpe89 :)"}, {"owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "edited": false, "score": 0, "creation_date": 1526470166, "post_id": 50367564, "comment_id": 87755231, "body": "The definition <code>fun printName(normal : Normal)</code> has non-static equivalent but <code>fun printName(normal : Normal?)</code> may be useful."}], "tags": [], "owner": {"reputation": 16203, "user_id": 363592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QMipl.png?s=128&g=1", "display_name": "Lunivore", "link": "https://stackoverflow.com/users/363592/lunivore"}, "is_accepted": false, "score": 1, "last_activity_date": 1603468393, "last_edit_date": 1603468393, "creation_date": 1526464076, "answer_id": 50367564, "question_id": 50366553, "link": "https://stackoverflow.com/questions/50366553/confused-about-kotlins-companion-object-definition/50367564#50367564", "title": "Confused about Kotlin&#39;s companion object definition", "body": "<p>A companion object is the same as &quot;static&quot; in Java. It doesn't actually have any instance of your class in it. So if your <code>printname()</code> method just said <code>println(&quot;Hello again!&quot;)</code> you could do the following:</p>\n<pre><code>println(Normal().name) // creates a new instance of Normal class and prints &quot;hallo&quot;\nNormal.printname() // Does not create a new instance of Normal class but instead just prints &quot;Hello again!&quot; since we can access static methods without requiring an instance of a class itself.\n</code></pre>\n<p>Note that we didn't actually create a new Normal in that second line (no constructor brackets). The printname() method can be thought of as belonging to the <em>definition</em> of a class, rather than an <em>example</em> or instance of that class.</p>\n<p>It's rather like the manual for a car; it can reference and talk about the internals of a car, but you need to have an actual car to do anything fun with the manual.</p>\n<p>We can access the internals of an instance of the class, if we have one. So passing in an instance of the class would work:</p>\n<pre><code>class Normal() {\n\nprivate var name: String = &quot;hallo&quot;\n\ncompanion object {\n    fun printName(normal : Normal) {\n        println(normal.name) // Note that I made the &quot;name&quot; var private\n    }\n}}\n</code></pre>\n<p>The companion object can also access anything that's within the companion object itself, so this would also work:</p>\n<pre><code>class Normal() {  \n\ncompanion object {\n\n    private var name: String = &quot;hallo&quot;\n\n    fun printName() {\n        println(name) // Note I moved the &quot;name&quot; var into the companion object\n    }\n}}\n</code></pre>\n<p>And you can combine these:</p>\n<pre><code>class Normal() {  \n    private var name: String = &quot;Vilpe89&quot;\n\n    companion object {\n\n        private var greeting: String = &quot;Hello &quot;\n\n        fun printName(normal : Normal) {\n            println(&quot;$greeting ${normal.name}!&quot;)\n    }\n}}\n</code></pre>\n<p>Now you could call the above code like this:</p>\n<pre><code>Normal.printname(Normal()) // uses Normal's companion object\n                           // method on an instance of Normal, \n                           // and prints &quot;Hello Vilpe89!&quot;\n</code></pre>\n<p>This is very different to what would happen if they were separate classes:</p>\n<pre><code>class Normal() {  \n    private var name: String = &quot;Vilpe89&quot;\n}\n\nclass Greeting() {\n\n    private var greeting: String = &quot;Hello &quot;\n\n    fun printName(normal : Normal) {\n        println(&quot;$greeting ${normal.name}!&quot;) // This won't compile, because\n                                             // Greeting can't see normal.name \n                                             // if it's private.\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 0, "accepted_answer_id": 50366616, "answer_count": 4, "score": 5, "last_activity_date": 1603468393, "creation_date": 1526461322, "question_id": 50366553, "link": "https://stackoverflow.com/questions/50366553/confused-about-kotlins-companion-object-definition", "title": "Confused about Kotlin&#39;s companion object definition", "body": "<p>When i reach the companion object section in the ebook \"Kotlin in action\" it said that:</p>\n\n<p>\"<em>if you need to write a function that can be called\nwithout having a class instance but needs access to the internals of a class, you can write it as a member of an object declaration inside that class</em>\"</p>\n\n<p>As my understanding this means a function of the companion object can access the method and properties of the class that contain it. But when i try to implement this i can't access the members of the class from its companion object'function:</p>\n\n<pre><code>class Normal() {\n\nvar name: String = \"hallo\"\n\n\ncompanion object {\n    fun printName() {\n        println(name) // ERROR!!! unresolved reference name\n    }\n}}\n</code></pre>\n\n<p>Did i misunderstood about this concept? </p>\n"}, {"tags": ["android-studio", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 769, "user_id": 9624615, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QNV0iaPXqrY/AAAAAAAAAAI/AAAAAAAAAJA/b-NQeneG_y4/photo.jpg?sz=128", "display_name": "Muhammad Hassaan", "link": "https://stackoverflow.com/users/9624615/muhammad-hassaan"}, "edited": false, "score": 0, "creation_date": 1526457552, "post_id": 50365226, "comment_id": 87746814, "body": "Try to use Log.e ,"}, {"owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "reply_to_user": {"reputation": 769, "user_id": 9624615, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QNV0iaPXqrY/AAAAAAAAAAI/AAAAAAAAAJA/b-NQeneG_y4/photo.jpg?sz=128", "display_name": "Muhammad Hassaan", "link": "https://stackoverflow.com/users/9624615/muhammad-hassaan"}, "edited": false, "score": 0, "creation_date": 1526458494, "post_id": 50365226, "comment_id": 87747411, "body": "Still nothing, only the ONCREATE log shows..."}, {"owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "edited": false, "score": 0, "creation_date": 1526461997, "post_id": 50365226, "comment_id": 87749709, "body": "Please check Firebase database RULES. Do you have permission to read/write to your Firebase database?"}, {"owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "edited": false, "score": 0, "creation_date": 1526463909, "post_id": 50365226, "comment_id": 87751065, "body": "Yes, there is permission. I have successfully used the same database with Xcode."}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "is_accepted": false, "score": 0, "last_activity_date": 1526468222, "creation_date": 1526468222, "answer_id": 50369060, "question_id": 50365226, "link": "https://stackoverflow.com/questions/50365226/reading-from-firebase-database-doesnt-work-but-there-is-no-error-message-kotli/50369060#50369060", "title": "Reading from Firebase Database doesn&#39;t work but there is no error message (Kotlin)", "body": "<p>OK, got it now. The code should be in the <code>onChildAdded()</code> instead of the <code>onChildChange()</code> function. That was it! Got the data now :)</p>\n"}], "owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526468222, "creation_date": 1526457200, "question_id": 50365226, "link": "https://stackoverflow.com/questions/50365226/reading-from-firebase-database-doesnt-work-but-there-is-no-error-message-kotli", "title": "Reading from Firebase Database doesn&#39;t work but there is no error message (Kotlin)", "body": "<p>I have set up the basic <code>FirebaseDatabase</code> code and the app runs fine without any error message, but according to the <code>console.log</code> the compiler doesn't go in to the actual <code>Firebase</code> code as the <code>console log</code> TAG can't be found in the <code>logcat</code>. Not sure how to trouble shoot this since there is no error message. This is the basic code:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\n//import com.google.firebase.FirebaseError\nimport com.google.firebase.database.*\n//import com.google.firebase.auth.FirebaseAuth\n\nclass RecipeGridView : AppCompatActivity() {\n\n   private var db: DatabaseReference? = null\n   private var fbdb: FirebaseDatabase? = null\n   private var ref: DatabaseReference? = null\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       setContentView(R.layout.activity_recipe_grid_view)\n       Log.d(\"TAG\", \"ON CREATE\");\n\n       fbdb = FirebaseDatabase.getInstance()\n       ref = fbdb!!.getReference(\"cookies\")\n\n       ref!!.addChildEventListener(object: ChildEventListener {\n           override fun onChildChanged(snapshot: DataSnapshot?, p1: String?) {\n            var myDataSnapshot = snapshot!!.getValue()\n\n            Log.d(\"TAG\", \"THIS DOESN'T SHOW IN LOGCAT!!!\");\n\n            /*for later...\n            val children = snapshot!!.children\n\n            print(snapshot.children.count().toString())\n            print(p1)\n\n            children.forEach{\n                print(it.toString())\n            }\n    */\n        }\n\n        override fun onChildMoved(p0: DataSnapshot?, p1: String?) {}\n\n        override fun onChildRemoved(p0: DataSnapshot?) {}\n\n        override fun onCancelled(error: DatabaseError) {\n            print(error)\n            Log.d(\"TAG\", \"ON ERROR\");\n\n        }\n\n        override fun onChildAdded(p0: DataSnapshot?, p1: String?) {}\n\n        }) //END FB CODE\n}\n}\n</code></pre>\n\n<p>I'm more than happy to post the log, but it's really long and doesn't show any error.</p>\n\n<p>Dependencies are:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-database:10.0.1'\nimplementation 'com.google.firebase:firebase-core:10.0.1'\n</code></pre>\n\n<p>Also, the maven code is included in the gradle:</p>\n\n<pre><code>maven {\n        url \"https://maven.google.com\" // Google's Maven repository\n    }\n</code></pre>\n\n<p>Thoughts on how to proceed are appreciated. Like I said, if it's needed I'll post the log :)</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1526457504, "post_id": 50365110, "comment_id": 87746780, "body": "<a href=\"https://developers.google.com/maps/documentation/android-sdk/map\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/map</a>"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 9461437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qEyi.png?s=128&g=1", "display_name": "Hadi Ahmadi", "link": "https://stackoverflow.com/users/9461437/hadi-ahmadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1526459238, "creation_date": 1526459238, "answer_id": 50365855, "question_id": 50365110, "link": "https://stackoverflow.com/questions/50365110/stop-google-map-from-reloading-when-switching-fragments/50365855#50365855", "title": "Stop Google Map from reloading when switching fragments", "body": "<p>you have to stop fragment from recreating pages by this code : </p>\n\n<pre><code>   mViewPager.setOffscreenPageLimit(NumberOfYourPages);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526463042, "post_id": 50366536, "comment_id": 87750504, "body": "I tried it, but it didn&#39;t stop map from refreshing when I switch to MapFragment."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526463390, "post_id": 50366536, "comment_id": 87750766, "body": "Maybe you are creating new MapFragment each time you are switching. Please share you code what are you doing on click from drawer menu. You need to reuse MapFragment instance there maybe by making MapFragment Singlaton."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526463835, "post_id": 50366536, "comment_id": 87751025, "body": "<code>companion object {         private val INSTANCE = MapFragment()         fun getInstance() = INSTANCE     }</code>  Add this to MapFragment and where you are using <code>MapFragment()</code> after click on drawer menu in NavigationItemListener, replace with <code>MapFragment.getInstance()</code>"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526464605, "post_id": 50366536, "comment_id": 87751627, "body": "do let me know, if problem persist."}, {"owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526468700, "post_id": 50366536, "comment_id": 87754329, "body": "It helps if I enter Map Fragment and then enter Map Fragment again - there is no reload. But when I switch to AboutFragment and come back - Map Fragment reloads again."}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "reply_to_user": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526470609, "post_id": 50366536, "comment_id": 87755559, "body": "I created an activity for this, You need to manage you tab click with backstack in given way, I created this with two button Map and a Blank Fragment, Check my edited answer."}, {"owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "edited": false, "score": 0, "creation_date": 1526478315, "post_id": 50366536, "comment_id": 87761094, "body": "Based on your idea I created method: <code>fun replaceMapFragment(fragment: MapFragment){         val fragmentName = fragment::class.java.simpleName         val fragmentInBackStack = fragmentManager.popBackStackImmediate(fragmentName, 0)         if (!fragmentInBackStack){             fragmentManager.beginTransaction()                     .replace(R.id.main_activity_frame, MapFragment.getInstance())                     .addToBackStack(fragmentName)                     .commit()         }     }</code>  Now there&#39;s now refresh if I come back to Map Fragment from another Fragment."}], "tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": true, "score": 0, "last_activity_date": 1526470816, "last_edit_date": 1526470816, "creation_date": 1526461252, "answer_id": 50366536, "question_id": 50365110, "link": "https://stackoverflow.com/questions/50365110/stop-google-map-from-reloading-when-switching-fragments/50366536#50366536", "title": "Stop Google Map from reloading when switching fragments", "body": "<p>Setup you map this way,</p>\n\n<p>Check if it is already not exist by\n<code>findFragmentById(R.id.map_new)</code>\nand then load fragment otherwise use already loaded.</p>\n\n<pre><code>childFragmentManager?.run {\n        findFragmentById(R.id.map)?.let {\n            val mapFragment = childFragmentManager.findFragmentById(R.id.map_new)\n            if (mapFragment is SupportMapFragment) {\n                mapFragment.getMapAsync(this@MapFragment)\n            }\n        }\n    }\n</code></pre>\n\n<p>Edit:-</p>\n\n<p>Here is activity oncreate:- </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.act_test)\n\n    supportFragmentManager.beginTransaction()\n            .replace(R.id.fragment, MapFragment.getInstance())\n            .addToBackStack(\"MapFragment\")\n            .commit()\n\n    btnBlank.setOnClickListener {\n        val frag = supportFragmentManager.findFragmentById(R.id.fragment)\n        if(frag !is BlankFragment) {\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.fragment, BlankFragment())\n                    .addToBackStack(\"BlankFragment\")\n                    .commit()\n        }\n    }\n\n    btnMap.setOnClickListener {\n        supportFragmentManager.popBackStack(\"MapFragment\", 0)\n    }\n\n}\n</code></pre>\n\n<p>And MapFragment:-</p>\n\n<pre><code>class MapFragment : Fragment(), OnMapReadyCallback {\n\nprivate lateinit var map: GoogleMap\n\ncompanion object {\n    private val INSTANCE = MapFragment()\n    fun getInstance() = INSTANCE\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n        inflater.inflate(R.layout.fragment_map, container, false)\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    childFragmentManager.run {\n        findFragmentById(R.id.map)?.let {\n            val mapFragment = childFragmentManager.findFragmentById(R.id.map)\n            if (mapFragment is SupportMapFragment) {\n                mapFragment.getMapAsync(this@MapFragment)\n            }\n        }\n    }\n}\n\noverride fun onMapReady(p0: GoogleMap?) {\n    p0?.animateCamera(CameraUpdateFactory.newLatLngZoom(LatLng(\n            p0.cameraPosition.target.latitude,\n            p0.cameraPosition.target.longitude\n    ), 14f))\n}\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4627833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7e02d9e8171c70107add5f930607a4?s=128&d=identicon&r=PG", "display_name": "Ahmed Adaileh", "link": "https://stackoverflow.com/users/4627833/ahmed-adaileh"}, "is_accepted": false, "score": 1, "last_activity_date": 1554406782, "creation_date": 1554406782, "answer_id": 55523755, "question_id": 50365110, "link": "https://stackoverflow.com/questions/50365110/stop-google-map-from-reloading-when-switching-fragments/55523755#55523755", "title": "Stop Google Map from reloading when switching fragments", "body": "<p>Using the following methods allow you to perform any action when Fragment is switched off:</p>\n\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n    //Anything you wish to do\n}\n\n@Override\npublic void onDetach() {\n    super.onDetach();\n    //Anything you wish to do\n}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "accepted_answer_id": 50366536, "answer_count": 3, "score": 0, "last_activity_date": 1554406782, "creation_date": 1526456829, "last_edit_date": 1526463529, "question_id": 50365110, "link": "https://stackoverflow.com/questions/50365110/stop-google-map-from-reloading-when-switching-fragments", "title": "Stop Google Map from reloading when switching fragments", "body": "<p>In my app I use <code>DrawerLayout</code>. When I switch to <code>MapFragment</code> that contains <code>SupportMapFragment</code>and go back to it Google Map is initialized again. Is there any way to stop Google Map from doing it ? I'm using Kotlin. I have read about idea of using WeakReference to MapView but I don't understand how it may help in this case. </p>\n\n<pre><code>class MapFragment : Fragment(), OnMapReadyCallback {\n\n    lateinit var mMap: GoogleMap\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_map, container, false)\n        val mapFragment = childFragmentManager.findFragmentById((R.id.map_new)) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n        return view\n    }\n\n    override fun onMapReady(googleMap: GoogleMap) {\n        mMap = googleMap\n    }\n\n\n val navigationView: NavigationView = findViewById(R.id.nav_view)\n        navigationView.setNavigationItemSelectedListener {\n            if(it.itemId == R.id.nav_logout){\n                val intent = Intent(this, LoginActivity::class.java)\n                startActivity(intent)\n                true\n            }\n            else {\n                var fragment = when (it.itemId) {\n                    R.id.nav_map -&gt; MapFragment()\n                    R.id.nav_forecast -&gt; ForecastFragment()\n                    R.id.nav_app_info -&gt; AboutFragment()\n                    else -&gt; MapFragment()\n                }\n\n                fragmentManager\n                        .beginTransaction()\n                        .replace(R.id.main_activity_frame, fragment)\n                        .commit()\n                it.isChecked = true\n                drawerLayout.closeDrawers()\n                true\n            }\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-jetpack", "android-architecture-navigation"], "answers": [{"tags": [], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1531406529, "creation_date": 1531406529, "answer_id": 51308552, "question_id": 50364598, "link": "https://stackoverflow.com/questions/50364598/android-architechture-navigation-onsupportnavigateup/51308552#51308552", "title": "Android Architechture Navigation - onSupportNavigateUp()", "body": "<p>Your detail activity has no concept of the parent nav graph in this case. You example <strong>ii</strong> is correct. Since BaseActivity contains a navigation graph. I don't know what the DetailActivity is doing but if it also contains a navigation graph then you should use the same code as your BaseActivity. The fact that you're getting that error and also creating a new NavController on the fly tells me that DetailActivity is not using a navigation graph (creating a new NavController and not providing it with a graph will by default initialize with an empty back stack).</p>\n\n<p>In summary, DetailActivity's onSupportNavigateUp should behave like a normal up navigation. If there's a clear parent you should launch it, otherwise, just finish().</p>\n"}], "owner": {"reputation": 1786, "user_id": 6644840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKU70.png?s=128&g=1", "display_name": "Yamini Balakrishnan", "link": "https://stackoverflow.com/users/6644840/yamini-balakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531406529, "creation_date": 1526455109, "last_edit_date": 1530085381, "question_id": 50364598, "link": "https://stackoverflow.com/questions/50364598/android-architechture-navigation-onsupportnavigateup", "title": "Android Architechture Navigation - onSupportNavigateUp()", "body": "<p>While using Navigation Library, is it okay to finish the inner activity with <code>finish()</code> in <code>onSupportNavigateUp()</code>? Or we should use <code>NavController</code> to remove that <code>Activity</code> from Stack? And, I have trouble using NavController to remove <code>Activity</code>.</p>\n\n<p>My Navigation graph looks like below:</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    app:startDestination=\"@id/home_frag\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/home_frag\"\n        android:name=\"com.yamikrish.app.slicedemo.ui.home.HomeFragment\"\n        android:label=\"home_frag\"\n        tools:layout=\"@layout/home_fragment\"&gt;\n\n        &lt;action\n            android:id=\"@+id/open_details\"\n            app:destination=\"@id/details_fragment\" /&gt;\n\n    &lt;/fragment&gt;\n\n    &lt;activity\n        android:id=\"@+id/details_fragment\"\n        android:name=\"com.yamikrish.app.slicedemo.ui.detail.DetailActivity\"\n        android:label=\"@string/post_detail\"\n        tools:layout=\"@layout/detail_page\"&gt;\n\n        &lt;argument\n            android:name=\"id\"\n            app:type=\"integer\" /&gt;\n\n    &lt;/activity&gt;\n\n    &lt;fragment\n        android:id=\"@+id/profile_frag\"\n        android:name=\"com.yamikrish.app.slicedemo.ui.profile.ProfileFragment\"\n        android:label=\"@string/profile\"\n        tools:layout=\"@layout/profile_fragment\" /&gt;\n&lt;/navigation&gt;\n</code></pre>\n\n<p>I have tried to use like below:</p>\n\n<p><strong>(i) Using NavController inside DetailActivity</strong></p>\n\n<pre><code>override fun onSupportNavigateUp(): Boolean {\n        val nav = NavController(this)\n        return  nav.navigateUp()\n}\n</code></pre>\n\n<p>But getting exception as, </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: NavController back stack is empty</p>\n</blockquote>\n\n<p><strong>(ii) Using NavController inside BaseActivity</strong></p>\n\n<pre><code> override fun onSupportNavigateUp(): Boolean {\n            return  findNavController(R.id.container).navigateUp()\n    }\n</code></pre>\n\n<p>That also not working. Am I doing it wrong??</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 7, "last_activity_date": 1526636248, "creation_date": 1526636248, "answer_id": 50408278, "question_id": 50364458, "link": "https://stackoverflow.com/questions/50364458/bind-dirty-properties-of-different-view-models/50408278#50408278", "title": "Bind dirty properties of different view-models", "body": "<p>I've made a change to the framework to allow ViewModel bindings towards lists to observe ListChange events. This enables you to trigger the dirty state of a list property by altering the list somehow. Merely changing a property inside an item in the list will not trigger it, so in the following example I just get the index of the Car before committing, and reassigning the Car to the same index. This will trigger a ListChange event, which the framework now listens for. </p>\n\n<p>The important action happens in the Car dialog save function:</p>\n\n<pre><code>button(\"Save\").action {\n    val index = person.cars.indexOf(car.item)\n\n    car.commit {\n        person.cars[index] = car.item\n        close()\n    }\n}\n</code></pre>\n\n<p>The index of the car is recorded before the values are committed (to make sure that equals/hashCode matches the same entry), then the newly committed item is inserted in the same index, thus triggering a change event on the list.</p>\n\n<p>Here is a complete example, using mutable JavaFX properties, since they are the idiomatic JavaFX way. You can pretty easily adapt it to using immutable items, or use wrappers.</p>\n\n<pre><code>class Person(name: String, cars: List&lt;Car&gt;) {\n    val nameProperty = SimpleStringProperty(name)\n    var name by nameProperty\n\n    val carsProperty = SimpleListProperty&lt;Car&gt;(FXCollections.observableArrayList(cars))\n    var cars by carsProperty\n}\n\nclass PersonModel : ItemViewModel&lt;Person&gt;() {\n    val name = bind(Person::nameProperty)\n    val cars: SimpleListProperty&lt;Car&gt; = bind(Person::carsProperty)\n}\n\n\nclass Car(brand: String, model: String) {\n    val brandProperty = SimpleStringProperty(brand)\n    var brand by brandProperty\n\n    val modelProperty = SimpleStringProperty(model)\n    var model by modelProperty\n}\n\nclass CarModel(car: Car? = null) : ItemViewModel&lt;Car&gt;(car) {\n    val brand = bind(Car::brandProperty)\n    val model = bind(Car::modelProperty)\n}\n\nclass DataController : Controller() {\n    val people = FXCollections.observableArrayList&lt;Person&gt;()\n\n    init {\n        people.add(\n                Person(\"Person 1\", listOf(Car(\"BMW\", \"M3\"), Car(\"Ford\", \"Fiesta\")))\n        )\n    }\n}\n\nclass PersonMainView : View() {\n    val data: DataController by inject()\n    val selectedPerson: PersonModel by inject()\n\n    override val root = borderpane {\n        center {\n            tableview(data.people) {\n                column(\"Name\", Person::nameProperty)\n                bindSelected(selectedPerson)\n            }\n        }\n        right(PersonEditor::class)\n    }\n}\n\nclass PersonEditor : View() {\n    val person: PersonModel by inject()\n    val selectedCar : CarModel by inject()\n\n    override val root = form {\n        fieldset {\n            field(\"Name\") {\n                textfield(person.name).required()\n            }\n            field(\"Cars\") {\n                tableview(person.cars) {\n                    column(\"Brand\", Car::brandProperty)\n                    column(\"Model\", Car::modelProperty)\n                    bindSelected(selectedCar)\n                    onUserSelect(2) {\n                        find&lt;CarEditor&gt;().openModal()\n                    }\n                }\n            }\n            button(\"Save\") {\n                enableWhen(person.dirty)\n                action {\n                    person.commit()\n                }\n            }\n        }\n    }\n}\n\nclass CarEditor : View() {\n    val car: CarModel by inject()\n    val person: PersonModel by inject()\n\n    override val root = form {\n        fieldset {\n            field(\"Brand\") {\n                textfield(car.brand).required()\n            }\n            field(\"Model\") {\n                textfield(car.model).required()\n            }\n            button(\"Save\").action {\n                val index = person.cars.indexOf(car.item)\n\n                car.commit {\n                    person.cars[index] = car.item\n                    close()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The feature is available in TornadoFX 1.7.17-SNAPSHOT.</p>\n"}], "owner": {"reputation": 1382, "user_id": 1638059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nvIOV.png?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1638059/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 1, "accepted_answer_id": 50408278, "answer_count": 1, "score": 0, "last_activity_date": 1578253903, "creation_date": 1526454540, "last_edit_date": 1578253903, "question_id": 50364458, "link": "https://stackoverflow.com/questions/50364458/bind-dirty-properties-of-different-view-models", "title": "Bind dirty properties of different view-models", "body": "<p>I have a tornadoFX application following the MVVM pattern with the model:</p>\n\n<pre><code>data class Person (\n    val name: String,\n    val cars: List&lt;Car&gt;\n)\n\ndata class Car (\n    val brand: String,\n    val model: String\n)\n</code></pre>\n\n<p>The application defines the following view:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I5Z1G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5Z1G.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is a list-view that lists all persons. Besides the listView is a details-view with a text-field for the person\u00b4s name and a table-view for the person\u00b4s cars.<br>\nA double click on a car entry in the table opens a dialog, in which one can edit the car\u00b4s properties.</p>\n\n<p>I want, that if I open the car-details and edit an entry, the changes will be reflected in the table-view. Since i can\u00b4t alter the Car-model (which is an immutable type) by adding fx-properties, i came up with the following view-model:</p>\n\n<pre><code>class PersonViewModel(): ItemViewModel&lt;Person&gt; {\n    val name = bind(Person::name)\n    val cars = bind { SimpleListProperty&lt;CarViewModel&gt;(item?.cars?.map{CarViewModel(it)}?.observable()) }\n\n    override fun onCommit {\n        // create new person based on ViewModel and store it\n    }\n}\n\nclass CarViewModel(item: Car): ItemViewModel&lt;Car&gt; {\n    val brand = bind(Car::name)\n    val model = bind(Car::model)\n\n    init {\n        this.item = item\n    }\n}\n</code></pre>\n\n<p>This way, if double-click on a car-entry in the table-view and open the car-detail-view, an update on the car will be directly reflected in the table-view.</p>\n\n<p>My Problem here is, that I can\u00b4t find a way to bind the dirty properties of all my CarViewModels in the table to the PersonViewModel. So if I change a car, the PersonViewModel is not marked as dirty.</p>\n\n<p>Is there a way to bind the dirty-properties of PersonViewModel and CarViewModel? (And also rebind them, if another person is selected).</p>\n\n<p>Or is there even a better way to define my view-models?</p>\n"}, {"tags": ["kotlin", "jdbi", "aws-aurora"], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 1545567, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/60223c651f47ca3f88e98f6d718297a7?s=128&d=identicon&r=PG", "display_name": "Christophe Blin", "link": "https://stackoverflow.com/users/1545567/christophe-blin"}, "is_accepted": true, "score": 0, "last_activity_date": 1526455495, "creation_date": 1526455495, "answer_id": 50364712, "question_id": 50363879, "link": "https://stackoverflow.com/questions/50363879/aws-aurora-is-it-possible-to-know-if-the-slaves-are-correctly-used/50364712#50364712", "title": "AWS/Aurora : is it possible to know if the slaves are correctly used", "body": "<p>Ok, after some more digging, I find the answer burried in mariadb doc at <a href=\"https://mariadb.com/kb/en/mariadb-enterprise/mariadb-maxscale-21-aurora-monitor/#how-aurora-is-monitored\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/mariadb-enterprise/mariadb-maxscale-21-aurora-monitor/#how-aurora-is-monitored</a> (emphasis is mine)</p>\n\n<pre><code>SELECT @@aurora_server_id, server_id FROM information_schema.replica_host_status WHERE session_id = 'MASTER_SESSION_ID';\n</code></pre>\n\n<p><strong>The node which returns a row with two identical fields is the master.</strong> All other nodes are read-only replicas and will be labeled as slave servers.</p>\n\n<p>So in kotlin, with jdbi, you can do :</p>\n\n<pre><code>        //https://mariadb.com/kb/en/mariadb-enterprise/mariadb-maxscale-21-aurora-monitor/#how-aurora-is-monitored\n        val sql = \"SELECT @@aurora_server_id, server_id FROM information_schema.replica_host_status WHERE session_id = 'MASTER_SESSION_ID'\"\n        val serverIds = handle.select(sql)\n                .map { rs, _ -&gt; Pair(rs.getString(1), rs.getString(2)) }\n                .single()\n        val serverId = serverIds.first\n        val isMaster = serverId == serverIds.second\n        val masterOrSlave = if (isMaster) \"the master\" else \"a slave\"\n        Logger.getLogger(this.javaClass.name).debug(\"Connected to db instance $serverId which is $masterOrSlave\")\n</code></pre>\n"}], "owner": {"reputation": 1081, "user_id": 1545567, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/60223c651f47ca3f88e98f6d718297a7?s=128&d=identicon&r=PG", "display_name": "Christophe Blin", "link": "https://stackoverflow.com/users/1545567/christophe-blin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 50364712, "answer_count": 1, "score": 0, "last_activity_date": 1526455495, "creation_date": 1526452393, "question_id": 50363879, "link": "https://stackoverflow.com/questions/50363879/aws-aurora-is-it-possible-to-know-if-the-slaves-are-correctly-used", "title": "AWS/Aurora : is it possible to know if the slaves are correctly used", "body": "<p>I have a working aurora cluster with a master and a slave.</p>\n\n<p>I use the following code to create a datasource</p>\n\n<pre><code>    val jdbi: Jdbi by lazy {\n        val ds = MariaDbDataSource()\n        ds.setUrl(\"jdbc:mysql:aurora://cluster_endpoint/db\")\n        ds.user = System.getenv(\"DB_USERNAME\")\n        ds.setPassword(System.getenv(\"DB_PASSWORD\"))\n\n        val jdbi = Jdbi.create(ds)\n        jdbi.installPlugin(SqlObjectPlugin())\n        jdbi.installPlugin(KotlinSqlObjectPlugin())\n        jdbi\n    }\n</code></pre>\n\n<p>Then, when I am in a readonly operation I do the following :</p>\n\n<pre><code>jdbi.open().use { handle -&gt;\n    handle.setReadOnly(true)\n    ...\n}\n</code></pre>\n\n<p>How can I be sure that when I do that, queries / connections are correctly routed to the slave ?</p>\n\n<p>I have tried to log the db instance connection</p>\n\n<pre><code>val url = handle.connection.getMetaData().getURL()\nval connServer = url.substring(url.indexOf(\"//\") + 2 , url.indexOf(\".\"));\n</code></pre>\n\n<p>But this always gives me the URL of the cluster...</p>\n\n<p>Is there a way to know if we are talking to the slave or to the master ?</p>\n"}, {"tags": ["android", "animation", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1528795831, "post_id": 50363254, "comment_id": 88632495, "body": "Can you please provide the adapter class?"}, {"owner": {"reputation": 2840, "user_id": 2565340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14fe70113561f37381444c923d22051d?s=128&d=identicon&r=PG", "display_name": "RussHWolf", "link": "https://stackoverflow.com/users/2565340/russhwolf"}, "edited": false, "score": 0, "creation_date": 1528802412, "post_id": 50363254, "comment_id": 88636548, "body": "RecyclerView has its own animation API so it can handle ViewHolder reuse correctly. Take a look at <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ItemAnimator\" rel=\"nofollow noreferrer\">RecyclerView.ItemAnimator</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": true, "score": 11, "last_activity_date": 1528810075, "creation_date": 1528810075, "answer_id": 50818440, "question_id": 50363254, "link": "https://stackoverflow.com/questions/50363254/android-animation-issue-on-recycleview-items/50818440#50818440", "title": "Android Animation Issue on RecycleView Items", "body": "<p>I think that the cause of your problem is the fact that the views are recycled when you scroll. If the animation is triggered on a view and the list is scrolled the animation continues, but at some point, the view gets recycled and re-populated and it leads to the weird state.</p>\n\n<p>The solution is to cancel the animation and set the initial state to the view in <code>onBindViewHolder</code> method of your adapter.\nThe steps I would do in your case:</p>\n\n<ol>\n<li>Link your value animator to the view holder, so each view holder has its own value animator.</li>\n<li>Trigger the animation like you do now, using the view holder's local value animator.</li>\n<li><a href=\"https://developer.android.com/reference/android/animation/ValueAnimator.html#cancel()\" rel=\"noreferrer\">Cancel</a> your value animator in <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onViewRecycled(VH)\" rel=\"noreferrer\">onViewRecycled</a></li>\n<li>In <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#onBindViewHolder(VH,%20int)\" rel=\"noreferrer\">onBindViewHolder</a> explicitly set your view's visibility to visible, enable it and set full width.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2248, "user_id": 2874139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdde8dd61165426271077ca6d04d3c00?s=128&d=identicon&r=PG", "display_name": "Mostafa Gazar", "link": "https://stackoverflow.com/users/2874139/mostafa-gazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1529446572, "last_edit_date": 1529446572, "creation_date": 1529382889, "answer_id": 50920713, "question_id": 50363254, "link": "https://stackoverflow.com/questions/50363254/android-animation-issue-on-recycleview-items/50920713#50920713", "title": "Android Animation Issue on RecycleView Items", "body": "<p>Start by removing the default <code>RecyclerView</code> item animator</p>\n\n<pre><code>recyclerView.setItemAnimator(null);\n</code></pre>\n\n<p>And also cancel any custom running animation in the adapter <code>onViewRecycled</code></p>\n"}, {"tags": [], "owner": {"reputation": 1841, "user_id": 1894868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516d4938307bf4830db0a029f1b63cf6?s=128&d=identicon&r=PG", "display_name": "Grimmy", "link": "https://stackoverflow.com/users/1894868/grimmy"}, "is_accepted": false, "score": 2, "last_activity_date": 1577130694, "creation_date": 1577130694, "answer_id": 59460647, "question_id": 50363254, "link": "https://stackoverflow.com/questions/50363254/android-animation-issue-on-recycleview-items/59460647#59460647", "title": "Android Animation Issue on RecycleView Items", "body": "<p>You can use <code>setHasTransientState</code> to mark view as a kind of \"dirty\", so RecyclerView will not re-use it while animation is not finished. This should solve your issue. Here is the modified code:</p>\n\n<pre><code>shrink.addUpdateListener { animation -&gt;\n    val animatedValue = animation.animatedValue as Int\n    v.layoutParams.width = animatedValue\n    v.requestLayout()\n}\nshrink.addListener(object : AnimatorListenerAdapter() {\n    override fun onAnimationStart(animation: Animator) {\n        super.onAnimationStart(animation)\n        v.setHasTransientState(true) // Mark view\n        v.visibility = View.VISIBLE\n        v.isEnabled = false\n    }\n    override fun onAnimationEnd(animation: Animator) {\n        super.onAnimationEnd(animation)\n        v.layoutParams.width = 0\n        v.visibility = View.GONE\n        v.isEnabled = false\n        v.setHasTransientState(true) // \"Return\" it to the pool\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>This is exactly what PropertyAnimation do under the hood. Hope this will help :)</p>\n"}], "owner": {"reputation": 569, "user_id": 5507446, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/882192545167735/picture?type=large", "display_name": "Marc Zaharescu", "link": "https://stackoverflow.com/users/5507446/marc-zaharescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 1, "accepted_answer_id": 50818440, "answer_count": 3, "score": 2, "last_activity_date": 1577130694, "creation_date": 1526449686, "question_id": 50363254, "link": "https://stackoverflow.com/questions/50363254/android-animation-issue-on-recycleview-items", "title": "Android Animation Issue on RecycleView Items", "body": "<p>I added on click animations on some button items from a recycle view. </p>\n\n<p>Everything works smoothly, however when I scroll down the list some buttons appear in a weird state like they were frozen during the animation phase even though the animation was not being triggered for these buttons while for others the their view is set to invisible/gone. </p>\n\n<p>This is part of the shrinking animation code, where shrink is a ValueAnimator object.</p>\n\n<pre><code>shrink.addUpdateListener { animation -&gt;\n        val animatedValue = animation.animatedValue as Int\n        v.layoutParams.width = animatedValue\n        v.requestLayout()\n    }\n    shrink.addListener(object : AnimatorListenerAdapter() {\n        override fun onAnimationStart(animation: Animator) {\n            super.onAnimationStart(animation)\n            v.visibility = View.VISIBLE\n            v.isEnabled = false\n        }\n        override fun onAnimationEnd(animation: Animator) {\n            super.onAnimationEnd(animation)\n            v.layoutParams.width = 0\n            v.visibility = View.GONE\n            v.isEnabled = false\n        }\n   }\n</code></pre>\n\n<p>I have a <code>View</code> and <code>ViewHolder</code> class where I bind the visibility of the recycle view items when I scroll.</p>\n\n<p>Is there a step I missed in the animation lifecycle to work together with the recycle view items? I was thinking that maybe I have to take care of <code>onAnimationStop</code> or <code>onAnimationPause</code> cases but I am not sure.</p>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["android", "android-studio", "gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1526453169, "post_id": 50363138, "comment_id": 87744275, "body": "Should be an IDE bug, AFAIK"}, {"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1526558780, "post_id": 50363138, "comment_id": 87797534, "body": "Can you share a sample project?"}], "answers": [{"tags": [], "owner": {"reputation": 495, "user_id": 6154501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50787757021f9c377ada488a55decda2?s=128&d=identicon&r=PG&f=1", "display_name": "MihaiV", "link": "https://stackoverflow.com/users/6154501/mihaiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1541067911, "creation_date": 1541067911, "answer_id": 53099328, "question_id": 50363138, "link": "https://stackoverflow.com/questions/50363138/why-i-have-syntax-error-in-ide-after-adding-a-gradle-project-to-another-repo-eve/53099328#53099328", "title": "Why I have syntax error in IDE after adding a gradle project to another repo even when the building works?", "body": "<p>Try adding this in <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'org.jetbrains.kotlin.multiplatform'\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541067911, "creation_date": 1526449035, "last_edit_date": 1526451175, "question_id": 50363138, "link": "https://stackoverflow.com/questions/50363138/why-i-have-syntax-error-in-ide-after-adding-a-gradle-project-to-another-repo-eve", "title": "Why I have syntax error in IDE after adding a gradle project to another repo even when the building works?", "body": "<p>I have a kotlin multiplatform project A setup for iOS and Android, it works well. It has a <code>common</code> module for sharing business logic, and <code>platform-android</code> and <code>platform-ios</code> module for implementing the platform API.</p>\n\n<p>After I adding the <code>common</code> and <code>platform-android</code> module from project A to another Android project B, the Android Studio IDE reports tons of syntax error, but the codes build and run from Android studio without a problem.</p>\n\n<p>The syntax looks like the <code>kotlin-stdlib</code> is not there while it's indeed in the <code>build.gradle</code>, otherwise it won't build.</p>\n\n<p>For instance:</p>\n\n<p><code>val filterMap = mutableMapOf&lt;String, MenuFilter&gt;()</code></p>\n\n<p>Android studio will say <code>Unresolved reference: mutableMapOf</code></p>\n\n<p>Some facts:</p>\n\n<ul>\n<li><code>common</code> module has the problem</li>\n<li>no problem for <code>platform-android</code>.</li>\n<li>and of course, no problem when I use IDEA to edit project A</li>\n</ul>\n\n<p><strong>my <code>build.gradle</code> for <code>common</code> module looks like this:</strong></p>\n\n<pre><code>apply plugin: 'kotlin-platform-common'\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-common:$kotlin_version\"\n}\n\nsourceSets {\n    main.kotlin.srcDirs += 'main/'\n    test.kotlin.srcDirs += 'test/'\n}\n\ntask sourcesJar(type: Jar) {\n    classifier = 'sources'\n    from sourceSets.main.kotlin\n}\n\nartifacts {\n    archives sourcesJar\n}\n\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n\n<p><strong>The rootProject <code>build.gradle</code>  in Android Studio is:</strong></p>\n\n<pre><code>buildscript {\n    ext{\n        kotlin_version = '1.2.41'\n        anko_version = '0.10.4'\n        dagger_version = '2.15'\n        support_lib_version = '27.1.1'\n    }\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And this is the <code>settings.gradle</code> file for Android project B</p>\n\n<pre><code>def projectA_path = \"path/to/projectA\"\n\ninclude(\":common\")\nproject(\":common\").projectDir = new File(\"$projectA_path/common\")\n\ninclude(\":platforms:android\")\nproject(\":platforms:android\").projectDir = new File(\"$projectA_path/platforms/android\")\n</code></pre>\n\n<p>Even the two are from different projects, according to the setup here. Shouldn't the two just work? What am I missing here?</p>\n\n<p><strong>IDE version:</strong></p>\n\n<ul>\n<li>IDEA Ultimate 2018.1</li>\n<li>Android studio 3.1.2</li>\n</ul>\n"}, {"tags": ["android", "android-layout", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 1, "creation_date": 1526448485, "post_id": 50362998, "comment_id": 87742292, "body": "can you post this method code Instrumentation.checkStartActivityResult(Instrumentation.jav&zwnj;&#8203;a:1805)"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 2, "creation_date": 1526448600, "post_id": 50362998, "comment_id": 87742338, "body": "Read this line <code>have you declared this activity in your AndroidManifest.xml?                                                                        at android.app.Instrumentation.checkStartActivityResult(Instrum&zwnj;&#8203;entation.java:1805)</code>?"}, {"owner": {"reputation": 3111, "user_id": 7337723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/edc61b04a0c7e1160cd7227987874927?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Shandilya", "link": "https://stackoverflow.com/users/7337723/kartik-shandilya"}, "edited": false, "score": 0, "creation_date": 1526448889, "post_id": 50362998, "comment_id": 87742443, "body": "You have not declared <code>FragmentActivity</code> in Manifest"}, {"owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "edited": false, "score": 0, "creation_date": 1526470643, "post_id": 50362998, "comment_id": 87755579, "body": "Your Target class does not inherit from Activity..."}, {"owner": {"reputation": 8286, "user_id": 2964945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iAnwd.jpg?s=128&g=1", "display_name": "Melquiades", "link": "https://stackoverflow.com/users/2964945/melquiades"}, "edited": false, "score": 0, "creation_date": 1526504891, "post_id": 50362998, "comment_id": 87776066, "body": "Where is that <code>Target.setOnClickListener</code> called? Also, is Target really an activity? (what is its code) Why do you set click listener on <code>Target</code> if it&#39;s an activity? This looks like a mix up in using <code>Target</code> both for setting click listener and target class in an intent"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "edited": false, "score": 0, "creation_date": 1526450128, "post_id": 50363128, "comment_id": 87742936, "body": "Thanks for the reply, when I add this in I get a bunch of build errors in the manifest"}, {"owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "edited": false, "score": 0, "creation_date": 1526450712, "post_id": 50363128, "comment_id": 87743161, "body": "Are you referring to this because I already have it declared              &lt;activity         android:screenOrientation=&quot;portrait&quot;         android:configChanges=&quot;orientation|keyboardHidden&quot;         android:name=&quot;.Target&quot; /&gt;     &lt;activity"}], "tags": [], "owner": {"reputation": 131, "user_id": 5043277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c14c2876900833da6c72d03895aa323?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Gupta", "link": "https://stackoverflow.com/users/5043277/manish-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1526448986, "creation_date": 1526448986, "answer_id": 50363128, "question_id": 50362998, "link": "https://stackoverflow.com/questions/50362998/previously-working-activity-now-giving-activitynotfoundexception/50363128#50363128", "title": "Previously working activity now giving ActivityNotFoundException", "body": "<p>You forgot to declare your activity. Write this in your manifest under application tag:</p>\n\n<pre><code>&lt;activity android:screenOrientation=\"portrait\"\n    android:configChanges=\"orientation|keyboardHidden\"\n    android:name=\".FragmentActivity\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1526519721, "creation_date": 1526519721, "answer_id": 50381983, "question_id": 50362998, "link": "https://stackoverflow.com/questions/50362998/previously-working-activity-now-giving-activitynotfoundexception/50381983#50381983", "title": "Previously working activity now giving ActivityNotFoundException", "body": "<p>I fixed the issue by replacing</p>\n\n<pre><code>Target.setOnClickListener{\n            val intent = Intent(this, Target::class.java)\n              intent.putExtra(\"PlayerID\", PlayerID)\n            startActivity(intent)\n        }\n</code></pre>\n\n<p>with this</p>\n\n<pre><code>Target.setOnClickListener{\n            val intent = Intent(this, com.hmadland.paranoia.Target::class.java)\n              intent.putExtra(\"PlayerID\", PlayerID)\n            startActivity(intent)\n        }\n</code></pre>\n\n<p>Not quite sure why, but might have been a naming issue with the button being called Target and activity Target.</p>\n"}], "owner": {"reputation": 13, "user_id": 9633190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97194484306f7ce3a12663ae7adcffc4?s=128&d=identicon&r=PG&f=1", "display_name": "hmad", "link": "https://stackoverflow.com/users/9633190/hmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526520650, "creation_date": 1526448370, "last_edit_date": 1526520650, "question_id": 50362998, "link": "https://stackoverflow.com/questions/50362998/previously-working-activity-now-giving-activitynotfoundexception", "title": "Previously working activity now giving ActivityNotFoundException", "body": "<p>I have a simple activity that was previously working and now fails and crashes my app with the below error. I haven't changed anything related to the activity, so I'm really not sure what is going wrong here. I've looked at similar questions but nothing they've suggested has worked. </p>\n\n<p>Any ideas would be greatly appreciated.</p>\n\n<pre><code>05-15 22:13:31.381 14563-14563/com.hmadland.paranoia E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                   Process: com.hmadland.paranoia, PID: 14563\n                                                                   android.content.ActivityNotFoundException: Unable to find explicit activity class {com.hmadland.paranoia/android.support.v7.widget.AppCompatButton}; have you declared this activity in your AndroidManifest.xml?\n                                                                       at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1805)\n                                                                       at android.app.Instrumentation.execStartActivity(Instrumentation.java:1523)\n                                                                       at android.app.Activity.startActivityForResult(Activity.java:3968)\n                                                                       at android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\n                                                                       at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:68)\n                                                                       at android.app.Activity.startActivityForResult(Activity.java:3920)\n                                                                       at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:751)\n                                                                       at android.app.Activity.startActivity(Activity.java:4259)\n                                                                       at android.app.Activity.startActivity(Activity.java:4227)\n                                                                       at com.hmadland.paranoia.Profile$onCreate$2.onClick(Profile.kt:91)\n                                                                       at android.view.View.performClick(View.java:5265)\n                                                                       at android.view.View$PerformClick.run(View.java:21534)\n                                                                       at android.os.Handler.handleCallback(Handler.java:815)\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:104)\n                                                                       at android.os.Looper.loop(Looper.java:207)\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:5765)\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n\n<p>The activity is called like this</p>\n\n<pre><code> Target.setOnClickListener {\n        val intent = Intent(this, Target::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>and my AndroidManifest.xml looks like this </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n//camera access stuff\n&lt;uses-feature android:name=\"android.hardware.camera2\" android:required=\"true\"/&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.MEDIA_CONTENT_CONTROL\" /&gt;\n\n&lt;application\n\n    android:allowBackup=\"true\"\n    android:icon=\"@drawable/icon\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".Register\" /&gt;\n    &lt;activity android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".Login\" /&gt;\n    &lt;activity\n        android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".Profile\" /&gt;\n    &lt;activity\n        android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".Target\" /&gt;\n    &lt;activity\n        android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".Inventory\" /&gt;\n    &lt;activity\n        android:screenOrientation=\"portrait\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:name=\".UpcomingGames\"&gt;\n    &lt;/activity&gt;\n\n    &lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"com.example.android.fileprovider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/file_paths\"&gt;&lt;/meta-data&gt;\n    &lt;/provider&gt;\n\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "kotlin", "android-adapter", "baseadapter", "listadapter"], "comments": [{"owner": {"reputation": 896, "user_id": 8809599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j32n6m6gBk/AAAAAAAAAAI/AAAAAAAAA2w/ZBjODiiNN2c/photo.jpg?sz=128", "display_name": "Na-In Hae", "link": "https://stackoverflow.com/users/8809599/na-in-hae"}, "edited": false, "score": 0, "creation_date": 1526448109, "post_id": 50362896, "comment_id": 87742196, "body": "where are you setting the adapter? post that code"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1526448942, "post_id": 50362896, "comment_id": 87742462, "body": "your <code>CustomAdapter</code> does not extend <code>ArrayAdapter</code>. To understand: Elephant can&#39;t be casted to a bird because it does not extend the bird. While eagle can be casted to a bird because it <b>does</b> extend the bird."}], "answers": [{"comments": [{"owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 1, "creation_date": 1526448498, "post_id": 50362973, "comment_id": 87742299, "body": "Thanks for your replay but I am not using a recyclerview here. it is spinner ... Don&#39;t get me wrong.. can I use recycler view adapter with a spinner?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526448870, "post_id": 50362973, "comment_id": 87742428, "body": "@AjithMadhu <a href=\"https://github.com/bidrohi/KotlinListView/blob/master/app/src/main/kotlin/com/bidyut/example/kotlinlistview/ListViewActivity.kt\" rel=\"nofollow noreferrer\">github.com/bidrohi/KotlinListView/blob/master/app/src/main/&hellip;</a>"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526449492, "post_id": 50362973, "comment_id": 87742676, "body": "@AjithMadhu Did you follow above links? By the way show us <code>Statearray</code>"}, {"owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 1, "creation_date": 1526449551, "post_id": 50362973, "comment_id": 87742697, "body": "[{&quot;Id&quot;:&quot;35&quot;,&quot;Name&quot;:&quot;Kerala&quot;},{&quot;Id&quot;:&quot;36&quot;,&quot;Name&quot;:&quot;Tamilnadu&quot;}]"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526449758, "post_id": 50362973, "comment_id": 87742790, "body": "@AjithMadhu Through loop send  <code>JSONObject</code>  Data not <code>Array</code>"}, {"owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526449963, "post_id": 50362973, "comment_id": 87742869, "body": "Sir my requirement is to show the district when a user selects a particular state. for that I created this array... the logic was to create a custom adapter and set the id as tag to the view.. so that I can get it, when user select a particular state"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526450072, "post_id": 50362973, "comment_id": 87742909, "body": "@AjithMadhu You should create a MODEL class which holds ID,NAME"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526452713, "post_id": 50362973, "comment_id": 87744007, "body": "@AjithMadhu Kindly check my answer"}, {"owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 1, "creation_date": 1526452970, "post_id": 50362973, "comment_id": 87744162, "body": "thank you very much for spending your valuable time for me... and i am extremely sorry for making this kind of silly mistakes.... thanx .."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "edited": false, "score": 0, "creation_date": 1526453012, "post_id": 50362973, "comment_id": 87744183, "body": "@AjithMadhu No problem. Sometimes it happen!"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1526452518, "last_edit_date": 1526452518, "creation_date": 1526448217, "answer_id": 50362973, "question_id": 50362896, "link": "https://stackoverflow.com/questions/50362896/java-lang-classcastexception-customadapter-cannot-be-cast-to-android-widget-arr/50362973#50362973", "title": "java.lang.ClassCastException: CustomAdapter cannot be cast to android.widget.ArrayAdapter In Kotlin", "body": "<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html\" rel=\"nofollow noreferrer\"><strong><code>ClassCastException</code></strong></a></p>\n\n<blockquote>\n  <p>Thrown to indicate that the code has attempted to cast an object to a\n  subclass of which it is not an instance.</p>\n</blockquote>\n\n<p><strong>FYI</strong></p>\n\n<p>You added <strong><code>Multiple Adapter</code></strong>. Remove 2nd One.</p>\n\n<p><strong><s>Don't</s></strong></p>\n\n<pre><code>class CustomAdapter(val activity: Activity,val array:JSONArray) : BaseAdapter(), ListAdapter\n</code></pre>\n\n<p><strong>Do</strong></p>\n\n<pre><code>class CustomAdapter(context: Context,var arrayLIST: ArrayList&lt;Response&gt;) : BaseAdapter() {\n</code></pre>\n\n<p><strong>DEMO</strong></p>\n\n<pre><code>var arrayLIST: ArrayList&lt;Response&gt;? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        arrayLIST=ArrayList()\n        val jsonObj = (\"[{\\\"Id\\\":\\\"35\\\",\\\"Name\\\":\\\"Kerala\\\"},{\\\"Id\\\":\\\"36\\\",\\\"Name\\\":\\\"Tamilnadu\\\"}]\")\n        val jo = JSONArray(jsonObj)\n        val num = 0 until jo.length()\n        for (i in num) {\n            val loanObj = jo.getJSONObject(i)\n            val Id      = loanObj.getString(\"Id\")\n            val Name    = loanObj.getString(\"Name\")\n\n            arrayLIST!!.add(Response(Id,Name))\n\n\n        }\n      var adapterC:CustomAdapter = CustomAdapter(this@MainActivity,arrayLIST)\n</code></pre>\n\n<p><strong>Response.kt</strong></p>\n\n<pre><code>data class Response\n(\n        @SerializedName(\"id\")               val id               : String,\n        @SerializedName(\"name\")            val  name             : String\n)\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>Make sure add,</p>\n\n<pre><code>   implementation \"com.google.code.gson:gson:2.3.0\"\n    implementation \"com.squareup.retrofit2:converter-gson:2.3.0\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 622, "user_id": 7110424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff904f3da6ca547ef2d8fec4de7f78a6?s=128&d=identicon&r=PG&f=1", "display_name": "creativecoder", "link": "https://stackoverflow.com/users/7110424/creativecoder"}, "edited": false, "score": 0, "creation_date": 1602222567, "post_id": 50363986, "comment_id": 113657430, "body": "have you implemented data binding using this library?"}], "tags": [], "owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "is_accepted": true, "score": 3, "last_activity_date": 1526452822, "creation_date": 1526452822, "answer_id": 50363986, "question_id": 50362896, "link": "https://stackoverflow.com/questions/50362896/java-lang-classcastexception-customadapter-cannot-be-cast-to-android-widget-arr/50363986#50363986", "title": "java.lang.ClassCastException: CustomAdapter cannot be cast to android.widget.ArrayAdapter In Kotlin", "body": "<p>I finally figure it out.. the problem was, iwas using a spinner library which only support     ArrayAdapter</p>\n\n<p>the library that i used was</p>\n\n<pre><code>com.toptoche.searchablespinner:searchablespinnerlibrary:1.3.1\n</code></pre>\n\n<p>it only support arrayadapter</p>\n"}], "owner": {"reputation": 328, "user_id": 5798163, "user_type": "registered", "profile_image": "https://graph.facebook.com/903542703093831/picture?type=large", "display_name": "Ajith Madhu", "link": "https://stackoverflow.com/users/5798163/ajith-madhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1158, "favorite_count": 0, "accepted_answer_id": 50363986, "answer_count": 2, "score": 1, "last_activity_date": 1526452822, "creation_date": 1526447762, "last_edit_date": 1526448035, "question_id": 50362896, "link": "https://stackoverflow.com/questions/50362896/java-lang-classcastexception-customadapter-cannot-be-cast-to-android-widget-arr", "title": "java.lang.ClassCastException: CustomAdapter cannot be cast to android.widget.ArrayAdapter In Kotlin", "body": "<p>I got the above-mentioned error when I try to create a custom adapter class in Kotlin </p>\n\n<p>Source code</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code> var adapterC:CustomAdapter = CustomAdapter(this,Statearray)\n spinnerState.adapter=adapterC\n</code></pre>\n\n<p><strong>CustomAdapter.kt</strong></p>\n\n<pre><code>class CustomAdapter(val activity: Activity,val array:JSONArray) : BaseAdapter(), ListAdapter\n{\n    lateinit var ItemName: TextView\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View? {\n    var view=convertView\n    if (view == null)\n        view = activity.layoutInflater.inflate(R.layout.spinnerlayout, null)\n    try {\n\n        ItemName = view?.findViewById(R.id.ItemName) as TextView\n        val obj = array.getJSONObject(position)\n        ItemName.setText(obj.getString(\"Name\"))\n        view.setTag(obj.getString(\"Id\"))\n\n    } catch ( e:JSONException) {\n        Log.e(\"At Custom Class\",e.toString())\n    }\n\n    return view\n}\n\noverride fun getItem(position: Int): JSONObject {\n    return array.optJSONObject(position)\n}\n\noverride fun getItemId(position: Int): Long {\n    var jsonObject=getItem(position)\n    return jsonObject.optLong(\"id\")\n}\n\noverride fun getCount(): Int {\n    return array.length()\n}\n\n}\n</code></pre>\n\n<p>Need Help I don't know what I did wrong.</p>\n"}, {"tags": ["android", "kotlin", "android-instant-apps", "android-wear-2.0"], "comments": [{"owner": {"reputation": 2159, "user_id": 434452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e12c3a438e7650d553ed7989ad73a4?s=128&d=identicon&r=PG", "display_name": "Hassan Ibraheem", "link": "https://stackoverflow.com/users/434452/hassan-ibraheem"}, "edited": false, "score": 0, "creation_date": 1526448296, "post_id": 50362528, "comment_id": 87742247, "body": "Can you share relevant parts of build.gradle for module1?"}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "reply_to_user": {"reputation": 2159, "user_id": 434452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e12c3a438e7650d553ed7989ad73a4?s=128&d=identicon&r=PG", "display_name": "Hassan Ibraheem", "link": "https://stackoverflow.com/users/434452/hassan-ibraheem"}, "edited": false, "score": 0, "creation_date": 1526449050, "post_id": 50362528, "comment_id": 87742508, "body": "Yes updated question with module1 gradle."}, {"owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 0, "creation_date": 1526509216, "post_id": 50362528, "comment_id": 87777616, "body": "What <code>com.android.tools.build:gradle</code> are you using? Could you try a different version? <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/gradle-plugin</a> A search for &quot;to contain exactly one file, however it contains 2 files.&quot;, unrelated to instant apps, shows some people resolved it with using a different version."}, {"owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 0, "creation_date": 1526510658, "post_id": 50362528, "comment_id": 87778016, "body": "Also, can you remove the duplicate <code>feature project(&#39;:module1&#39;)</code> in your base module."}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "reply_to_user": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 0, "creation_date": 1526529505, "post_id": 50362528, "comment_id": 87781824, "body": "@TWL Already tried but no luck. module1 is my typing mistake."}, {"owner": {"reputation": 2159, "user_id": 434452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e12c3a438e7650d553ed7989ad73a4?s=128&d=identicon&r=PG", "display_name": "Hassan Ibraheem", "link": "https://stackoverflow.com/users/434452/hassan-ibraheem"}, "edited": false, "score": 1, "creation_date": 1526529892, "post_id": 50362528, "comment_id": 87781915, "body": "Your question mentions that you added <code>baseFeature true</code> to both apiModule and BaseModule, is this true? I don&#39;t think you can have 2 base features in the same instant app. The <code>apimodule</code> should be a normal library module, then it will be shipped within your baseFeature APK."}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1526531198, "post_id": 50362528, "comment_id": 87782199, "body": "Just checked the same and i can not remove just baseFeature true from one module. I have to refactor all code of APImodule into base module."}, {"owner": {"reputation": 2159, "user_id": 434452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e12c3a438e7650d553ed7989ad73a4?s=128&d=identicon&r=PG", "display_name": "Hassan Ibraheem", "link": "https://stackoverflow.com/users/434452/hassan-ibraheem"}, "edited": false, "score": 0, "creation_date": 1526552425, "post_id": 50362528, "comment_id": 87793477, "body": "I guess you can just include it as a library in baseModule, then you would have one base APK, but your mileage may vary of course, depending on project structure."}, {"owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "edited": false, "score": 0, "creation_date": 1526552688, "post_id": 50362528, "comment_id": 87793625, "body": "Yes done it same already and it worked."}], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1545469596, "last_edit_date": 1545469596, "creation_date": 1526553135, "answer_id": 50389268, "question_id": 50362528, "link": "https://stackoverflow.com/questions/50362528/illegalstateexception-expected-configuration-moduledebugfeaturecompileclassp/50389268#50389268", "title": "IllegalStateException: Expected configuration &#39;:module:debugFeatureCompileClasspath&#39; to contain exactly one file, however, it contains 2 files", "body": "<p>As per my question I have added <code>baseFeature true</code> in two gradle files. One of <strong>base module</strong> gradle and one <strong>API module</strong> gradle and API module added as dependency project in base module.</p>\n\n<p>What I have done is that refactor all code of <strong>API module</strong> into base module and make only one <strong>base module</strong> with <code>baseFeature true</code>.</p>\n\n<p>This is only case solved my problem.</p>\n"}], "owner": {"reputation": 1167, "user_id": 2553048, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5SG1Q.png?s=128&g=1", "display_name": "Devganiya Hitesh", "link": "https://stackoverflow.com/users/2553048/devganiya-hitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 1, "accepted_answer_id": 50389268, "answer_count": 1, "score": 3, "last_activity_date": 1545469596, "creation_date": 1526445366, "last_edit_date": 1526529473, "question_id": 50362528, "link": "https://stackoverflow.com/questions/50362528/illegalstateexception-expected-configuration-moduledebugfeaturecompileclassp", "title": "IllegalStateException: Expected configuration &#39;:module:debugFeatureCompileClasspath&#39; to contain exactly one file, however, it contains 2 files", "body": "<p>I am working with multi feature android application with instant app and wear app.Here i am able to <strong><em>successfully run my application</em></strong> but getting following error during <strong><em>building APK or rebuild projects</em></strong>. </p>\n\n<pre><code>java.lang.IllegalStateException: Expected configuration ':module1:debugFeatureCompileClasspath' to contain exactly one file, however, it contains 2 files.\nat org.gradle.api.internal.file.AbstractFileCollection.getSingleFile(AbstractFileCollection.java:62)\nat com.android.build.gradle.tasks.MergeManifests.doFullTaskAction(MergeManifests.java:116)\nat com.android.build.gradle.internal.tasks.IncrementalTask.taskAction(IncrementalTask.java:106)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n</code></pre>\n\n<p>My project has 3-4 module and one base module projects. \nI have already integrated all setup for multi feature instant app as per sample provide by google. <a href=\"https://github.com/googlesamples/android-instant-apps/tree/master/multi-feature-module\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-instant-apps/tree/master/multi-feature-module</a></p>\n\n<p>I have one module(<strong>apimodule</strong>) where i have added all libraries and API dependencies. Following is my project dependencies structure.</p>\n\n<ol>\n<li>AppModule</li>\n</ol>\n\n<p>Added all module as implementation</p>\n\n<pre><code>implementation project(':base')\nimplementation project(':module1')\nimplementation project(':module2')\nimplementation project(':module3')\nwearApp project(':wear')\n</code></pre>\n\n<ol start=\"2\">\n<li>BaseModule ( Also added <code>application project(':app')</code> )</li>\n</ol>\n\n<p>Added <code>baseFeature true</code> in gradle</p>\n\n<pre><code>feature project(':module1')\nfeature project(':module2')\nfeature project(':module3')\napi project(':apimodule')\n</code></pre>\n\n<p>3. apimodule </p>\n\n<p>Added <code>baseFeature true</code> in gradle</p>\n\n<p>Here is my one module1 gradle file. </p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation project(':base')\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n}\n</code></pre>\n"}, {"tags": ["swift", "kotlin"], "comments": [{"owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "edited": false, "score": 0, "creation_date": 1526444187, "post_id": 50362347, "comment_id": 87741158, "body": "check this <a href=\"http://nilhcem.com/swift-is-like-kotlin/\" rel=\"nofollow noreferrer\">nilhcem.com/swift-is-like-kotlin</a>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "edited": false, "score": 0, "creation_date": 1526444322, "post_id": 50362347, "comment_id": 87741187, "body": "From <a href=\"http://nilhcem.com/swift-is-like-kotlin/\" rel=\"nofollow noreferrer\">nilhcem.com/swift-is-like-kotlin</a>, it doesn&#39;t shows one could extends from the extension. Sounds like we don&#39; have this in Kotlin."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1526444543, "post_id": 50362347, "comment_id": 87741227, "body": "No, kotlin doesn&#39;t."}, {"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 1, "creation_date": 1526446964, "post_id": 50362347, "comment_id": 87741825, "body": "Not yet possible."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 3, "creation_date": 1526448713, "post_id": 50362867, "comment_id": 87742377, "body": "Thanks. Your example given is Extension of function. What I&#39;m hoping to achieve is to extension to an interface, so that it would need to implement all the functions within the interface. Is that something possible in Kotlin?"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 2, "creation_date": 1526449147, "post_id": 50362867, "comment_id": 87742544, "body": "Currently extension functions and extension properties are only supported, in the future there will likely be additions that include that ability."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1526449314, "post_id": 50362867, "comment_id": 87742602, "body": "That&#39;s really nice to know. Looking forward to that."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1526455849, "post_id": 50362867, "comment_id": 87745791, "body": "@I&#39;L&#39;l Curious where your information on &quot;there will likely be additions&quot; comes from. I&#39;m a Kotlin contributor and I&#39;m not aware of any plans to add that."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1526459064, "post_id": 50362867, "comment_id": 87747775, "body": "@yole: The source was from a Kotlin presentation some time ago, &quot;<a href=\"https://resources.jetbrains.com/storage/products/kotlinconf2017/slides/PacoEstevez_Pragmatic_Functionalism.pdf\" rel=\"nofollow noreferrer\">Kotlin for the Pragmatic Functionalist</a>&quot; (hosted on JetBrains). At the time it seemed as though you guys were &quot;<i>aiming for parity with Swift protocols</i>&quot;, however, I suspect from your comment <i>likely</i> is not the right word?"}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 4, "last_activity_date": 1526447613, "creation_date": 1526447613, "answer_id": 50362867, "question_id": 50362347, "link": "https://stackoverflow.com/questions/50362347/does-kotlin-has-extension-class-to-interface-like-swift/50362867#50362867", "title": "Does Kotlin has extension class to interface like Swift", "body": "<p>Yes, <strong>Kotlin</strong> does have <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\"><code>Extensions</code></a> \u2014 similar to <strong>Swift</strong>.</p>\n\n<p><strong>Swift</strong>:</p>\n\n<pre><code>class C {\n    func foo(i: String) { print(\"class\") }\n}\n\nextension C {\n    func foo(i: Int) { print(\"extension\") }\n}\n\nC().foo(i: \"A\")\nC().foo(i: 1)\n</code></pre>\n\n<p><strong>Kotlin</strong>:</p>\n\n<pre><code>class C {\n    fun foo(i: String) { println(\"class\") }\n}\n\nfun C.foo(i: Int) { println(\"extension\") }\n\nC().foo(\"A\")\nC().foo(1)\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>class\nextension\n</code></pre>\n\n<p>There are some key differences you'll want to read up on. </p>\n\n<blockquote>\n  <p>Extensions do not actually modify classes they extend. By defining an\n  extension, you do not insert new members into a class, but merely make\n  new functions callable with the dot-notation on variables of this\n  type.</p>\n  \n  <p>We would like to emphasize that extension functions are dispatched\n  statically, i.e. they are not virtual by receiver type. This means\n  that the extension function being called is determined by the type of\n  the expression on which the function is invoked, not by the type of\n  the result of evaluating that expression at runtime.</p>\n</blockquote>\n\n<p>\u21b3 <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/extensions.html</a></p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4224, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1526447613, "creation_date": 1526443863, "question_id": 50362347, "link": "https://stackoverflow.com/questions/50362347/does-kotlin-has-extension-class-to-interface-like-swift", "title": "Does Kotlin has extension class to interface like Swift", "body": "<p>In Swift, we could extend a class with an interface as below</p>\n\n<pre><code>extension MyExtend {\n   public var type: String { return \"\" }\n}\n\nextension MyOrigin: MyExtend {\n   public var type: ListItemDataType {\n       return \"Origin\"\n   }\n}\n</code></pre>\n\n<p>Do we have that capability in Kotlin? (e.g. extend an interface)</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1526443945, "post_id": 50362252, "comment_id": 87741085, "body": "Thanks. I didn&#39;t do that, because in my actual code, there are more <code>when cases</code>, hence a single <code>execute</code> would not suffice. And the comparison is having more than just one <code>presentable</code>."}], "tags": [], "owner": {"reputation": 875, "user_id": 890991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bfa5c69121eac7b878a20c457567c6?s=128&d=identicon&r=PG", "display_name": "Jiaming Lu", "link": "https://stackoverflow.com/users/890991/jiaming-lu"}, "is_accepted": false, "score": 0, "last_activity_date": 1526442986, "creation_date": 1526442986, "answer_id": 50362252, "question_id": 50362060, "link": "https://stackoverflow.com/questions/50362060/smart-casting-not-working-when-statement-is-refactored-how-to-solve/50362252#50362252", "title": "Smart casting not working when statement is refactored. How to solve?", "body": "<p>Functions are meant to be independent to each other. There is just no constraint to enforce <code>hasPresentable</code> to return true iff presentable is not null at type level.</p>\n\n<p>So it's kind of impossible without Kotlin team deciding to enhance the type system.</p>\n\n<p>Why not using something like <code>presentable?.execute() ?: skip()</code> instead?</p>\n\n<p>If you want to do more checking in <code>hasPresentable</code> you can do this:</p>\n\n<pre><code>fun checkPresentable(presentable: Presentable?): Presentable? =\n  presentable?.takeIf { do your check here }\n\nfun simplePresent(presentable: Presentable?) =\n  checkPresentable(presentable)?.execute() ?: skip()\n\nfun Presentable.execute() {  }\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526442986, "creation_date": 1526441322, "question_id": 50362060, "link": "https://stackoverflow.com/questions/50362060/smart-casting-not-working-when-statement-is-refactored-how-to-solve", "title": "Smart casting not working when statement is refactored. How to solve?", "body": "<p>I have something simple below (I use when instead of if, as I simplified from some code that uses when)</p>\n\n<pre><code>fun simplePresent(presentable: Presentable?) {\n    when {\n        presentable != null -&gt; execute(presentable)\n        else -&gt; skip()\n    }\n}\n\nfun execute(presentable: Presentable) { // Do something }\n</code></pre>\n\n<p>It's all good. But when I refactor the checking code out into Function</p>\n\n<pre><code>fun simplePresent(presentable: Presentable?) {\n    when {\n        hasPresentable(presentable) -&gt; execute(presentable)\n        else -&gt; skip()\n    }\n}\n\nfun execute(presentable: Presentable) { // Do something }\nfun hasPresentable(presentable: Presentable?) = presentable != null\n</code></pre>\n\n<p>the smart casting to non-null fail for the value pass to <code>execute</code> function, causing a compile time error reporting <code>required Presentable found Presentable?</code></p>\n\n<p>How could I prevent that error, while I still retain my refactor code?    </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1526455511, "post_id": 50361234, "comment_id": 87745576, "body": "I wouldn&#39;t suggest this style for such a case. Only if there is more than one variable, or assignments aren&#39;t last actions."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1526434273, "creation_date": 1526434273, "answer_id": 50361234, "question_id": 50360819, "link": "https://stackoverflow.com/questions/50360819/kotlin-unresolved-reference/50361234#50361234", "title": "Kotlin: Unresolved reference", "body": "<p>Use this code.</p>\n\n<pre><code>val totalFee: Int\nif (daysRented &lt;= 10){\n    if(insPolicy){\n       totalFee = (shortTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        totalFee = shortTermRate * daysRented\n    }\n}\nelse{\n    if(insPolicy){\n        totalFee = (longTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        totalFee = longTermRate * daysRented\n    }\n}\nprintln(\"Rental fee: $totalFee\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 9797194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399cfa56181330a04cdae93b225fb651?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower_fields_forever", "link": "https://stackoverflow.com/users/9797194/sunflower-fields-forever"}, "edited": false, "score": 0, "creation_date": 1526493131, "post_id": 50364378, "comment_id": 87770547, "body": "Thanks! This worked for me. I appreciate you showing me how to shorten it too. Thanks for help"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 111, "user_id": 9797194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399cfa56181330a04cdae93b225fb651?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower_fields_forever", "link": "https://stackoverflow.com/users/9797194/sunflower-fields-forever"}, "edited": false, "score": 0, "creation_date": 1553596379, "post_id": 50364378, "comment_id": 97433614, "body": "You may want to accept the answer then: <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1526454275, "creation_date": 1526454275, "answer_id": 50364378, "question_id": 50360819, "link": "https://stackoverflow.com/questions/50360819/kotlin-unresolved-reference/50364378#50364378", "title": "Kotlin: Unresolved reference", "body": "<p><code>if</code> is an expression, so I would write this as </p>\n\n<pre><code>val totalFee = if (daysRented &lt;= 10){\n    if(insPolicy == true){ // can just be if (insPolicy)\n        (shortTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        shortTermRate * daysRented\n    }\n}\nelse{\n    if(insPolicy == true){\n        (longTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        longTermRate * daysRented\n    }\n}\n</code></pre>\n\n<p>which really should be improved to</p>\n\n<pre><code>val termRate = if (daysRented &lt;= 10) shortTermRate else longTermRate \nval totalFee = \n    if (insPolicy) {\n        (termRate * daysRented) + (insRate * daysRented)\n    } \n    else {\n        termRate * daysRented\n    }\n</code></pre>\n\n<p>or even </p>\n\n<pre><code>val totalFee = termRate * daysRented + \n    (if (insPolicy) insRate * daysRented else 0)\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 9797194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399cfa56181330a04cdae93b225fb651?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower_fields_forever", "link": "https://stackoverflow.com/users/9797194/sunflower-fields-forever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 50364378, "answer_count": 2, "score": 1, "last_activity_date": 1526454275, "creation_date": 1526429989, "last_edit_date": 1526434330, "question_id": 50360819, "link": "https://stackoverflow.com/questions/50360819/kotlin-unresolved-reference", "title": "Kotlin: Unresolved reference", "body": "<blockquote>\n  <p>Kotlin: Unresolved reference: totalFee <br></p>\n</blockquote>\n\n<p>I'm just doing this little dummy program to practice yet it's saying that <code>totalFee</code> is unresolved when trying to print the value to the screen. I've looked it over for some time now and can't figure out why. \n<code>daysRented</code> is an int that is declared previously in the program.\n<br></p>\n\n<pre><code>if (daysRented &lt;= 10){\n    if(insPolicy == true){\n       val totalFee = (shortTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        val totalFee = shortTermRate * daysRented\n    }\n}\nelse{\n    if(insPolicy == true){\n        val totalFee = (longTermRate * daysRented) + (insRate * daysRented)\n    }\n    else{\n        val totalFee = longTermRate * daysRented\n    }\n}\nprintln(\"Rental fee: $totalFee\")\n</code></pre>\n"}, {"tags": ["android", "kotlin", "observer-pattern", "android-livedata", "anko"], "comments": [{"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1526427008, "post_id": 50360435, "comment_id": 87737552, "body": "Create a function where you will check is your list with data first <code>null</code> and than <code>empty</code> if both are negative <code>clear</code> the list. Than populate the list again with data from <code>database</code> and notify the <code>adapter</code> that data is changed. You can call this function after data is updated successfully."}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "reply_to_user": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1526487563, "post_id": 50360435, "comment_id": 87767646, "body": "I&#39;m trying to avoid implementing life cycle awareness manually for each model for each activity. It seems error prone and I&#39;d like to learn techniques for implementing best practices."}, {"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1526489437, "post_id": 50360435, "comment_id": 87768592, "body": "Than use <code>static</code> variables and save values in them they can be accessible in all parts of your app and they will keep values as long as app is not destroyed."}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "reply_to_user": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1526505663, "post_id": 50360435, "comment_id": 87776358, "body": "There isn&#39;t even a static keyword in Kotlin."}], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526426491, "creation_date": 1526426491, "question_id": 50360435, "link": "https://stackoverflow.com/questions/50360435/observing-anko-database-changes-in-activities", "title": "Observing anko database changes in activities", "body": "<p>I'm currently building an app from the ground up and can't figure out how to get my views to automatically update when my database is updated. The DB is implemented using anko's sqlite. I've left a lot out for the sake of brevity, but the repository includes more management methods like insertion and deletion which are working.</p>\n\n<p>I'm instantiating arrayAdapters in my activities based on the list returned by this repository, but currently only in the <code>onCreate()</code> method. </p>\n\n<p><code>filesystemList = FilesystemRepository(this).getAllFilesystems()</code></p>\n\n<p>Rather than attempt to manually manage lifecycle awareness, I'd love to use something like <code>LiveData</code> to make my life easier.</p>\n\n<p>Could anyone explain to me how to properly do this, or point me to an example?</p>\n\n<p>Here is an example model:</p>\n\n<pre><code>data class Filesystem(val name: String,\n                      val realRoot: Boolean,\n                      val location: String,\n                      val type: String,\n                      val dateCreated: String) {\n    companion object {\n        val TABLE_NAME = \"Filesystem\"\n        val COLUMN_FILESYSTEM_ID = \"filesystemId\"\n        val COLUMN_NAME = \"name\"\n        val COLUMN_REAL_ROOT  = \"realRoot\"\n        val COLUMN_LOCATION = \"location\"\n        val COLUMN_TYPE = \"type\"\n        val COLUMN_DATE_CREATED = \"dateCreated\"\n    }\n}\n</code></pre>\n\n<p>The repository I've wrapped it in:</p>\n\n<pre><code>class FilesystemRepository(val context: Context) {\n    fun getAllFilesystems(): ArrayList&lt;Filesystem&gt; {\n        return ArrayList(context.database.use {\n            select(Filesystem.TABLE_NAME).exec {\n                parseList(parser)\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>And the database itself:</p>\n\n<pre><code>    class DatabaseOpenHelper(context: Context): ManagedSQLiteOpenHelper(context, \"AppDatabase\") {\n    companion object {\n        private var instance: DatabaseOpenHelper? = null\n\n        @Synchronized\n        fun getInstance(context: Context): DatabaseOpenHelper {\n            if(instance == null) {\n                instance = DatabaseOpenHelper(context.applicationContext)\n            }\n            return instance!!\n        }\n    }\n\n    override fun onCreate(database: SQLiteDatabase) {\n        database.createTable(Filesystem.TABLE_NAME, true,\n                Filesystem.COLUMN_FILESYSTEM_ID to INTEGER + PRIMARY_KEY + AUTOINCREMENT,\n                Filesystem.COLUMN_NAME to TEXT + UNIQUE(ConflictClause.FAIL),\n                Filesystem.COLUMN_REAL_ROOT to INTEGER,\n                Filesystem.COLUMN_LOCATION to TEXT,\n                Filesystem.COLUMN_TYPE to TEXT,\n                Filesystem.COLUMN_DATE_CREATED to TEXT\n        )\n}\n\n\nval Context.database: DatabaseOpenHelper\n    get() = DatabaseOpenHelper.getInstance(applicationContext)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "proguard", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1526425250, "post_id": 50360246, "comment_id": 87737130, "body": "Class name is <code>kotlin.reflect.jvm.internal.ReflectionFactoryImpl</code>"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1526426138, "post_id": 50360246, "comment_id": 87737343, "body": "I am inputting fully qualified class name."}], "tags": [], "owner": {"reputation": 31, "user_id": 9792487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wmRcYMlCaZ8/AAAAAAAAAAI/AAAAAAAAADw/ma7CulqpV6A/photo.jpg?sz=128", "display_name": "ThisIsntSparta", "link": "https://stackoverflow.com/users/9792487/thisisntsparta"}, "is_accepted": false, "score": 0, "last_activity_date": 1526425133, "creation_date": 1526425133, "answer_id": 50360246, "question_id": 50360161, "link": "https://stackoverflow.com/questions/50360161/noclassdeffounderror-kotlin-reflect-jvm-internal-reflectionfactoryimpl/50360246#50360246", "title": "NoClassDefFoundError: kotlin.reflect.jvm.internal.ReflectionFactoryImpl", "body": "<p>Are you taking into account the package for String name?</p>\n\n<p>Class.forName(); takes into account the package as well, so if your class is located in the package mypackage.util.ClassHere then you would have the String input as \"mypackage.util.MyClass\".</p>\n\n<p>I have never used Kotlin before so it may be an issue that persists with that language if the above suggestion does not work.</p>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526425133, "creation_date": 1526424473, "question_id": 50360161, "link": "https://stackoverflow.com/questions/50360161/noclassdeffounderror-kotlin-reflect-jvm-internal-reflectionfactoryimpl", "title": "NoClassDefFoundError: kotlin.reflect.jvm.internal.ReflectionFactoryImpl", "body": "<p>I am using Kotlin in my project and have enabled Proguard.</p>\n\n<p>I am getting an error in following method from <code>java.lang</code> class:</p>\n\n<pre><code>@Override\nprotected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n    return Class.classForName(name, false, null);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: Class not found using the boot class loader\n  kotlin.reflect.jvm.internal.ReflectionFactoryImpl</p>\n</blockquote>\n\n<p>Tried this but still problem persists:</p>\n\n<pre><code>-keep class kotlin.reflect.jvm.internal.** {\n*;\n}\n-dontwarn kotlin.reflect.jvm.internal.**\n</code></pre>\n"}, {"tags": ["java", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 8303, "user_id": 3165602, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b194cca5dcf6906c0911564bfb4166c?s=128&d=identicon&r=PG", "display_name": "Oleg Sklyar", "link": "https://stackoverflow.com/users/3165602/oleg-sklyar"}, "edited": false, "score": 1, "creation_date": 1526422801, "post_id": 50359877, "comment_id": 87736470, "body": "Is <code>Boolean::class.java</code> the same as <code>Boolean?::class.java</code> (that is non-null vs. nullable) or is the latter undefined in Kotlin? I must admit my knowledge of Kotlin is patchy, but you register a deserialiser for <code>Boolean</code> and your data structure type is <code>Boolean?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 7, "last_activity_date": 1526425572, "creation_date": 1526425572, "answer_id": 50360318, "question_id": 50359877, "link": "https://stackoverflow.com/questions/50359877/custom-boolean-deserializer-not-working-in-gson/50360318#50360318", "title": "Custom boolean deserializer not working in Gson", "body": "<p>You're registering the deserializer for <code>Boolean::class.java</code> which is <code>boolean</code> while the type you require actually is <code>Boolean?</code> translating to <code>java.lang.Boolean</code>.</p>\n\n<p>To get <code>java.lang.Boolean</code> you have to use <code>Boolean::class.javaObjectType</code> for the registration.</p>\n\n<p>You'd also find the same behavior for all primitive <em>Java</em> types.</p>\n"}], "owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 50360318, "answer_count": 1, "score": 4, "last_activity_date": 1526425572, "creation_date": 1526422425, "question_id": 50359877, "link": "https://stackoverflow.com/questions/50359877/custom-boolean-deserializer-not-working-in-gson", "title": "Custom boolean deserializer not working in Gson", "body": "<p>I have to deserialize <code>0</code> to <code>false</code> and <code>1</code> to <code>true</code>.</p>\n\n<p>I've created this class:</p>\n\n<pre><code>class IntBooleanDeserializer : JsonDeserializer&lt;Boolean?&gt; {\n    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): Boolean? {\n        json?.let {\n            return json.asInt == 1\n        }\n\n        return null\n    }\n}\n</code></pre>\n\n<p>And registered it:</p>\n\n<pre><code>private val gson = GsonBuilder()\n            .registerTypeAdapter(Boolean::class.java, IntBooleanDeserializer())\n            .create()\n</code></pre>\n\n<p>And created test class for this:</p>\n\n<pre><code>data class BooleanClass(val value: Boolean?)\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>gson.fromJson(\"{\\\"value\\\": 0}\", BooleanClass::class.java)\n</code></pre>\n\n<p>This code throws exception:</p>\n\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a boolean but was NUMBER at line 1 column 12 path $.value\n</code></pre>\n\n<p>Seems that Gson does not use my deserializer for <code>Boolean?</code>, but successfully uses other custom deserializers for other types (for example, for enums).</p>\n\n<p>Why?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1526422182, "post_id": 50359820, "comment_id": 87736277, "body": "You won&#39;t be able to have one method name with the same arguments in the same order with the only difference being the nullability of the return type (probably, in fact, with the only difference being what kind of function type you&#39;re using regardless of how big the difference).  You will need to either use a different method name or pick one version."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1526454922, "post_id": 50359820, "comment_id": 87745250, "body": "@LouisWasserman Nearly right on the &quot;probably&quot;, except different numbers of arguments should allow overloading."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1526454827, "post_id": 50359852, "comment_id": 87745201, "body": "As Louis&#39; comment mentions, the issue would arise even if the difference wasn&#39;t nullability, any two single-argument functions would have the same problem."}], "tags": [], "owner": {"reputation": 5195, "user_id": 85927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b0b8436de25045f597f45e8ba4748141?s=128&d=identicon&r=PG", "display_name": "Kevin Herron", "link": "https://stackoverflow.com/users/85927/kevin-herron"}, "is_accepted": false, "score": 0, "last_activity_date": 1526422214, "creation_date": 1526422214, "answer_id": 50359852, "question_id": 50359820, "link": "https://stackoverflow.com/questions/50359820/kotlin-overload-function-with-lambda-arguments/50359852#50359852", "title": "Kotlin - overload function with lambda arguments", "body": "<p>Change the name. They have the same JVM signature because nullable types don't exist at the byte code level. They are a Kotlin feature enforced at compile time.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1526454741, "creation_date": 1526454741, "answer_id": 50364497, "question_id": 50359820, "link": "https://stackoverflow.com/questions/50359820/kotlin-overload-function-with-lambda-arguments/50364497#50364497", "title": "Kotlin - overload function with lambda arguments", "body": "<p><code>(P) -&gt; Any?</code> is a subtype of <code>(P) -&gt; Any</code>, so if you just have </p>\n\n<pre><code>fun &lt;P&gt;onChange(oldObj: P, newObj: P, select: (P) -&gt; Any?, handler: (P) -&gt; Unit)\n</code></pre>\n\n<p>you can pass a <code>(P) -&gt; Any</code> there. Of course, with overloading you can have two different implementations, but if behavior is actually different, this seems like a very bad idea :)</p>\n"}], "owner": {"reputation": 3, "user_id": 9796685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb73dccd5072c77b95740ba13c98199d?s=128&d=identicon&r=PG&f=1", "display_name": "dave.trudes", "link": "https://stackoverflow.com/users/9796685/dave-trudes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 50364497, "answer_count": 2, "score": 0, "last_activity_date": 1526454741, "creation_date": 1526421993, "last_edit_date": 1526422343, "question_id": 50359820, "link": "https://stackoverflow.com/questions/50359820/kotlin-overload-function-with-lambda-arguments", "title": "Kotlin - overload function with lambda arguments", "body": "<p>Suppose I want to have a function that checks whether a property value differs in two given objects. If so, a handler lambda should be executed.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;P&gt;onChange(oldObj: P, newObj: P, select: (P) -&gt; Any, handler: (P) -&gt; Unit) {\n   val newValues = select(newObj)\n   val oldValues = select(oldObj)\n   if (oldValues != newValues) { handler(newObj) }\n}\n</code></pre>\n\n<p>It works totally fine for the following use case:\n</p>\n\n<pre><code>data class TestObj(\n    val foo: String,\n    val bar: String? = null\n)\n\nval oldObj = TestObj(foo = \"foo\")\nval newObj = TestObj(foo = \"foo1\", bar = \"bar\")\n\nonChange(oldObj, newObj, { it.foo }) {\n    print(\"foo did change: ${it.foo}\")\n}\n</code></pre>\n\n<p>Now I want to be able to check if <code>bar</code> has changed. \nIf I try to to overload the function like</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;P&gt;onChange(oldObj: P, newObj: P, select: (P) -&gt; Any?, handler: (P) -&gt; Unit) {\n...\n}\n</code></pre>\n\n<p>the compiler throws an <code>Duplicate method name&amp;signature</code> exception.</p>\n\n<p>How do I overload the function or modify the signature in order to support a <code>select</code> lambda that is able to return an optional?  </p>\n"}, {"tags": ["android", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 2, "creation_date": 1526422090, "post_id": 50359814, "comment_id": 87736258, "body": "Wheredo you call <code>getResources()</code>? The object you are calling this on is null."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1526422121, "post_id": 50359814, "comment_id": 87736267, "body": "I do not use any of this call. I did not use getResources() but i think it&#39;s implecit call once u use <code>activity</code>"}, {"owner": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 1, "creation_date": 1526422392, "post_id": 50359814, "comment_id": 87736340, "body": "Post your activity code."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 0, "creation_date": 1526422544, "post_id": 50359814, "comment_id": 87736393, "body": "@OmarSilva i did"}, {"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "edited": false, "score": 1, "creation_date": 1526423280, "post_id": 50359814, "comment_id": 87736612, "body": "Where are you calling <code>updateTable</code> from? Make use this happens after the fragment is attached to an activity. For example, you cannot do <code>new TablePresentation().updateTable(temps)</code>"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526423387, "post_id": 50359814, "comment_id": 87736641, "body": "yes it&#39;s attached will update the question"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1526423434, "post_id": 50359814, "comment_id": 87736646, "body": "so you&#39;ve put <code>table!!.addView(row, i);</code> saying &quot;hey I&#39;m in control, table is DEFINITELY not null&quot; - have you checked it isn&#39;t null? Also this :<code>view?.findViewById&lt;View&gt;(R.id.simpleTableLayout) as TableLayout</code> can be <code>view?.findViewById&lt;TableLayout&gt;(R.id.simpleTableLayout)</code>"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526423590, "post_id": 50359814, "comment_id": 87736684, "body": "but it does not even reach this line he bug on     ` val row =  TableRow(activity)`"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526423629, "post_id": 50359814, "comment_id": 87736699, "body": "That would have been helpful in original question."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526423819, "post_id": 50359814, "comment_id": 87736746, "body": "sorry what is would have been  helpfull did not get u"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526423824, "post_id": 50359814, "comment_id": 87736751, "body": "So <code>activity</code> is null then - <code>TableRow</code> is calling <code>Context::getResources</code> on the <code>activity</code> instance which is null (<code>Activity</code> is a <code>Context</code>)."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526423871, "post_id": 50359814, "comment_id": 87736764, "body": "yes absolutly and now how to deal with"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1526423968, "post_id": 50359814, "comment_id": 87736788, "body": "So if you knew all this, why not cut to the chase in your question?"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526423994, "post_id": 50359814, "comment_id": 87736796, "body": "i think if i call the methode inside <code>onViewCreated</code> i will not get all those troubles. But i have to use outside it"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526424101, "post_id": 50359814, "comment_id": 87736818, "body": "@MarkKeen i do not know why it&#39;s always null and what is make it like that and why once i use the methode out of onViewCreated i get the pb.I&#39;m confused right now"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526424106, "post_id": 50359814, "comment_id": 87736820, "body": "you call this <code>val view = activity.layoutInflater.inflate(R.layout.table_fragment, parent, false)</code> - why aren&#39;t you using the <code>LayoutInflater</code> provided in <code>onCreateView</code> it should be : <code>val view = inflater?.inflate(R.layout.table_fragment, parent, false)</code> - also you can call <code>view?.context</code> for <code>TableRow(view?.context)</code> .. or something like this .. hard to pinpoint exact issue as several things need addressing .."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526424496, "post_id": 50359814, "comment_id": 87736926, "body": "but how to reach this <code>view?.context</code> in ** updateTable**. Sorry if it&#39;s dump question but now Everything is blurry in my eyes. and in your previous comment do u want to me change  <code>val view = activity.layoutInflater.inflate(R.layout.table_fragment, parent, false)</code> to <code>val view = inflater?.inflate(R.layout.table_fragment, parent, false)</code> i have not really understood"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526424656, "post_id": 50359814, "comment_id": 87736973, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/171117/discussion-between-zina-taklit-and-mark-keen\">continue this discussion in chat</a>."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1526424674, "post_id": 50359814, "comment_id": 87736976, "body": "erm, <code>view</code> (Java call <code>getView</code>) is a public method in  <code>DialogFragment</code> - consider add the layout to your xml, and just changing its visibility in your <code>DialogFragment</code> - much easier than trying to add a view dynamically."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526424894, "post_id": 50359814, "comment_id": 87737027, "body": "How to do that i have no idea"}], "answers": [{"comments": [{"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526425430, "post_id": 50360237, "comment_id": 87737182, "body": "please share an exaple of how cause i did not get u well. Then i have used the same logic before for the buttoms and i had absolutly no pb. I wonder"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526425469, "post_id": 50360237, "comment_id": 87737191, "body": "please especially  share how to use <code>onAttach</code>."}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526425508, "post_id": 50360237, "comment_id": 87737197, "body": "Well it seems complexe cause i&#39;m trying to stimulate PAC architect which is outdated."}, {"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "reply_to_user": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526426449, "post_id": 50360237, "comment_id": 87737407, "body": "Again, I&#39;m not sure how to fit an example in your architecture, I think there too many things behind the scenes. But in general in Android, you instantiate a Fragment, pass data into it via <code>fragment.setArguments()</code>. Then anything you do with views, you should do it after <code>onCreateView</code> was called (if you only need to access the context of your activity, you can do it in <code>onAttach</code>)"}, {"owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 0, "creation_date": 1526426928, "post_id": 50360237, "comment_id": 87737533, "body": "ok so how to access the context from on attatch. and i can not see the diff doing that from oncreate or onattach.U do me a pleasure if u expalin"}, {"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "reply_to_user": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "edited": false, "score": 1, "creation_date": 1526427347, "post_id": 50360237, "comment_id": 87737635, "body": "in onAttach you&#39;re receiving a valid activity (which is a Context). So it would fix the issue with <code>getResources</code> on null reference. <code>onCreateView</code> could be a better place for inflating views. I&#39;m not sure if you realize that there are two fragments here. In one you&#39;re working in lifecycle callbacks, but the other one is instantiated via <code>new</code> and then its methods are called directly."}], "tags": [], "owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1543450347, "last_edit_date": 1543450347, "creation_date": 1526425086, "answer_id": 50360237, "question_id": 50359814, "link": "https://stackoverflow.com/questions/50359814/android-context-nullpointerexception-attempt-to-invoke-virtual-method-on-a-nul/50360237#50360237", "title": "Android context NullPointerException : Attempt to invoke virtual method on a null object reference", "body": "<p>Your fragment is not attached.</p>\n\n<p>You're doing this:</p>\n\n<pre><code>    TableSon= TableController(view.getTableChild())\n    setChildSFather()\n    TableSon?.updateTable( father!!.giveTemps())\n</code></pre>\n\n<p>Where <code>getTableChild</code> returns what has been initialized like this:</p>\n\n<pre><code>val tablePresentation=TablePresentation()\n</code></pre>\n\n<p>This creates an \"rogue\" Fragment that is not attached to anything.</p>\n\n<p>One way to fix this particular issue would be to remember the array in the <code>TablePresentation</code> fragment and call <code>updateTable</code> from <code>onAttach</code>.</p>\n\n<p>EDIT: By \"remember\" I mean save it into the arguments, not just store in a member.</p>\n"}, {"comments": [{"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "edited": false, "score": 1, "creation_date": 1526506531, "post_id": 50379101, "comment_id": 87776684, "body": "We can. But not always. Fragments go through a lifecycle - i.e. at different times different actions are possible. Sometimes OS can kill a fragment to reclaim its resources. You need to use lifecycle callbacks to track in what state your fragment is, and organize your flow accordingly. See in more details here: <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/fragments</a>"}], "tags": [], "owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "is_accepted": false, "score": 0, "last_activity_date": 1526501100, "creation_date": 1526501100, "answer_id": 50379101, "question_id": 50359814, "link": "https://stackoverflow.com/questions/50359814/android-context-nullpointerexception-attempt-to-invoke-virtual-method-on-a-nul/50379101#50379101", "title": "Android context NullPointerException : Attempt to invoke virtual method on a null object reference", "body": "<p>@Dennis K weel we can call the method from onAttach or even from onViewCreated.\nI know that work perfectly.</p>\n\n<p>But my question was why we can not do that **the call of the method i mean ** outside of those 2 methode.Why could not we do that? </p>\n\n<p>Finally because i have not found the answer to my why i have called my methode from onViewCreated.or even on onAttached.like have u said @Dennis K.</p>\n\n<p>Here is the call </p>\n\n<pre><code> override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        table = view?.findViewById&lt;View&gt;(R.id.simpleTableLayout) as TableLayout\n        updateTable()\n    }\n</code></pre>\n\n<p>Here is the function </p>\n\n<pre><code>fun updateTable()\n     {\n         val temps=controller?.getTemps()\n         for (i in 0 until temps!!.size) {\n        val row =  TableRow( activity)\n        row.setLayoutParams(LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT))\n        row.setWeightSum(2.0f)\n        val tv1 = TextView( activity)\n        val tv2= TextView(activity)\n\n        tv1.setLayoutParams(TableRow.LayoutParams(0, ViewGroup.LayoutParams.WRAP_CONTENT, 1.0f))\n        tv2.setLayoutParams(TableRow.LayoutParams(0, ViewGroup.LayoutParams.WRAP_CONTENT, 1.0f))\n\n        tv1.setGravity(Gravity.CENTER)\n        tv2.setGravity(Gravity.CENTER)\n\n        tv1.setText((i+1).toString())\n        tv2.setText(temps.get(i).toString())\n\n        // finally add our textviews to TableRow\n        row.addView(tv1)\n        row.addView(tv2)\n        //finally add our TableRow to Tablelayout\n        table!!.addView(row, i)\n        }\n     }\n</code></pre>\n\n<p>Why why why outside of onAttach/onViewCreated we can not   receive a valid activity (which is a Context).</p>\n"}], "owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3321, "favorite_count": 0, "accepted_answer_id": 50360237, "answer_count": 2, "score": 0, "last_activity_date": 1543450347, "creation_date": 1526421975, "last_edit_date": 1529253680, "question_id": 50359814, "link": "https://stackoverflow.com/questions/50359814/android-context-nullpointerexception-attempt-to-invoke-virtual-method-on-a-nul", "title": "Android context NullPointerException : Attempt to invoke virtual method on a null object reference", "body": "<p>I want to create TableLayout in my fragment to insert data.\nI used for that this methode below.</p>\n\n<p>I have to call the methode <strong>updateTable</strong> outside of the onCreated view method.</p>\n\n<p>But I got always this error:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference</p>\n</blockquote>\n\n<p>The complete code of the error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.tharwa.tdm2_exo2, PID: 5480\n                  java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n                      at android.view.ViewConfiguration.get(ViewConfiguration.java:364)\n\n                      ...\n\n                      at com.tharwa.tdm2_exo2.TableAgent.TablePresentation.updateTable(TablePresentation.kt:61)\n</code></pre>\n\n<p>I have tried several ways to avoid this error but still always appear. I tried to get the context from <code>onCreatedView</code> too but does not work.</p>\n\n<p>Here is my function:</p>\n\n<pre><code>class TablePresentation : DialogFragment(),tableContract.View\n{\n    ....\n\n     override fun updateTable(temps: ArrayList&lt;Double&gt;)\n     {\n         for (i in 0 until temps.size) {\n        val row =  TableRow(activity)\n        row.setLayoutParams(LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT))\n        row.setWeightSum(2.0f)\n        val tv1 = TextView(activity)\n        val tv2= TextView(activity)\n\n        ...\n\n        table!!.addView(row, i)\n        }\n     }\n\n}\n</code></pre>\n\n<p>Here is the complete code of the class: </p>\n\n<pre><code>class TablePresentation : DialogFragment(),tableContract.View\n{\n\n    var table: TableLayout?=null\n\n    override fun onCreateView(inflater: LayoutInflater?, parent: ViewGroup?, state: Bundle?): View? {\n        super.onCreateView(inflater, parent, state)\n        val view = activity.layoutInflater.inflate(R.layout.table_fragment, parent, false)\n        view.findViewById&lt;View&gt;(R.id.button_close)?.setOnClickListener({ dismiss() })\n        return view\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        table = view?.findViewById&lt;View&gt;(R.id.simpleTableLayout) as TableLayout\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n     ...\n    }\n\n    override fun onStart() {\n      ...\n    }\n\n\n     override fun updateTable(temps: ArrayList&lt;Double&gt;)\n     {\n        ....\n     }\n\n}\n</code></pre>\n\n<p>and here is how I attach the view to the controller: </p>\n\n<pre><code>class PaletteController\n{\n    var father: FatherController?=null\n    val view: PaletterPresentation\n    var model:PaletteAbstraction?=null\n    var TableSon:TableController?=null\n\n    constructor(view:PaletterPresentation)\n    {\n        this.view=view\n        view.controller=this\n        this.model= PaletteAbstraction()\n\n    }\n    ....\n\n    fun notifyTableChild()\n    {\n        TableSon= TableController(view.getTableChild())\n        setChildSFather()\n        TableSon?.updateTable( father!!.giveTemps())\n    }\n}\n</code></pre>\n\n<p>Here is why I create the fragment:</p>\n\n<pre><code>class PaletterPresentation: Fragment(), PaletteContract.View\n{\n    var views: View? = null\n    var controller: PaletteController?=null\n\n    val tablePresentation=TablePresentation()\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        views = inflater!!.inflate(R.layout.palette_fragement, container, false)\n        return views\n    }\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        fab.setOnClickListener { view -&gt;\n            val ft = childFragmentManager.beginTransaction()\n            tablePresentation.show(ft, ContentValues.TAG)\n            controller?.notifyTableChild()\n        }\n    }\n\n\n    override fun getTableChild(): TablePresentation {\n        return tablePresentation\n    }\n\n}\n</code></pre>\n\n<p>I really do not  know how to fix this problem.</p>\n"}, {"tags": ["android", "json", "serialization", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "is_accepted": true, "score": 0, "last_activity_date": 1553779955, "creation_date": 1553779955, "answer_id": 55398917, "question_id": 50359266, "link": "https://stackoverflow.com/questions/50359266/how-to-correctly-serialize-deserialize-with-gson-a-complex-object-in-kotlin/55398917#55398917", "title": "How to correctly serialize/deserialize with Gson a complex object in kotlin?", "body": "<p>I have had this issue with a few implementations until I realized that Gson works better if you are cautious at the moment of using it. Two things I discovered which didn't work well in my code were:</p>\n\n<p>1) lateinit var: For some reason Gson hangs when parsing a class with these variables.\n2) Inheritance of member variables or properties with overriden values: Basically, </p>\n\n<p>if I override an inherited value Gson complains that I have two variables defined with the same name example below:</p>\n\n<pre><code>open class Person() {\n    var id = 0\n    var name = \"\"\n    var age = 0\n}\n\nclass AdultPerson() : Person() {\n    override var age = 18\n}\n</code></pre>\n\n<p>There Gson  will complain that the object has 2 variables with the same name age. So to solve that I would have to change the default value of age in constructor block or init block to not override the variable.</p>\n\n<p>So, taking care of these two things I've managed to make Gson convert my objects to strings, even if they have complicated inheritance, Collections, or classes with variables that are Collections.</p>\n\n<p>I have optimized my previous Gson parser to make it work with other classes, so far it's working fine:</p>\n\n<p>GsonParser.kt</p>\n\n<pre><code>object GsonParser {\n    inline fun &lt;reified T&gt; toJson(src: T): String {\n        return Gson().toJson(src)\n    }\n\n    inline fun &lt;reified T&gt; fromJson(src: String): T {\n        val type = object : TypeToken&lt;T&gt;() {}.type\n        return Gson().fromJson(src, type)\n    }\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 1156, "user_id": 1473401, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/AhZUr.jpg?s=128&g=1", "display_name": "alexm", "link": "https://stackoverflow.com/users/1473401/alexm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 55398917, "answer_count": 1, "score": 2, "last_activity_date": 1553779955, "creation_date": 1526418844, "last_edit_date": 1526481538, "question_id": 50359266, "link": "https://stackoverflow.com/questions/50359266/how-to-correctly-serialize-deserialize-with-gson-a-complex-object-in-kotlin", "title": "How to correctly serialize/deserialize with Gson a complex object in kotlin?", "body": "<p>I have the following fields for a JSON string:</p>\n\n<pre><code>action=surveyEventName\nEventObject= serialized Event object (So in this field I want to serialize an object with Gson.\n</code></pre>\n\n<p>The problem I have is that when I try to serialize the Event object I get an ANR. So, I think I might be doing something wrong in terms of setting up Gson serialize.</p>\n\n<p>the event class is defined this way:</p>\n\n<pre><code>class Event {\n\nprivate var mActionName = \"\"\nprivate var mId = \"\"\nprivate lateinit var mConditions: MutableList&lt;(Unit) -&gt; Boolean&gt;\nprivate lateinit var mActions: MutableList&lt;(Unit) -&gt; Boolean&gt;\n\nfun getActionName(): String {\n    return this.mActionName\n}\n\nfun setActionName(actionName: String) {\n    this.mActionName = actionName\n}\n\nfun getId(): String {\n    return this.mId\n}\n\nfun setId(id: String) {\n    this.mId = id\n}\n\nfun addSingleCondition(condition: (Unit) -&gt; Boolean) {\n    if(::mConditions.isInitialized) {\n        mConditions.add(condition)\n    } else {\n        mConditions = mutableListOf(condition)\n    }\n}\n\nfun addSingleAction(action: (Unit) -&gt; Boolean) {\n    if(::mActions.isInitialized) {\n        mActions.add(action)\n    } else {\n        mActions = mutableListOf(action)\n    }\n}\n\ncompanion object {\n    fun serializeEventList(event: List&lt;Event&gt;): String {\n        return Gson().toJson(event) // ANR HERE!\n    }\n\n    fun deserializeEventList(jsonString: String): MutableList&lt;Event&gt; {\n        return Gson().fromJson(jsonString,\n                object : TypeToken&lt;List&lt;Event&gt;&gt;() {}.type)\n    }\n}\n}\n</code></pre>\n\n<p>So then I want my final JSON, as described above to have an action tag and a serialized list of event objects. The problem I have is that when I try to serialize the list I get an ANR.</p>\n\n<p>Here is my test block:</p>\n\n<pre><code>//TESTBLOCK\nfun testEvent() {\n    //create test event\n    val event = Event()\n    event.setId(\"1\")\n    event.setActionName(\"testtag\")\n    event.addSingleCondition { testCondition1() }\n    event.addSingleCondition { testCondition2() }\n    event.addSingleAction { testAction1() }\n    event.addSingleAction { testAction2() }\n    val events = listOf(event)\n    //create test JSON\n    val jsonObject = JSONObject()\n    jsonObject.put(\"tagfield\", \"testtag\")\n    val serializedObjectString = event.serializeEventList(events) \n    jsonObject.put(\"eventobjectfield\", serializedObjectString)\n\n}\n</code></pre>\n\n<p>afterwards I deserialize the JSON eventobjectfield to make use of the Event object again, but when I try to serialize I get the ANR.</p>\n\n<p>I'm not sure is Gson is not working because of the lambdas I've added to the Event object. What might I be doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-android", "rx-kotlin2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 2, "creation_date": 1526417916, "post_id": 50358932, "comment_id": 87734808, "body": "Do you have any of these <code>TODO(&quot;not implemented&quot;)</code> calls somewhere?"}, {"owner": {"reputation": 247, "user_id": 4880751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206642133272763/picture?type=large", "display_name": "Romain Caron", "link": "https://stackoverflow.com/users/4880751/romain-caron"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1526419115, "post_id": 50358932, "comment_id": 87735272, "body": "Thank @akarnokd but I already check and no, I don\u2019t have TODO in my code"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1526419402, "post_id": 50358932, "comment_id": 87735378, "body": "Please provide the full stacktrace."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526420836, "post_id": 50358932, "comment_id": 87735888, "body": "...you <i>really</i> like <code>?</code>s."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527240109, "post_id": 50358932, "comment_id": 88063254, "body": "@EpicPandaForce you have a better suggestion instead <code>?</code> ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1527246159, "post_id": 50358932, "comment_id": 88066862, "body": "@iDemigod <code>getView()?.let { view -&gt;</code> and <code>lateinit var</code> depending on use-case"}], "owner": {"reputation": 247, "user_id": 4880751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206642133272763/picture?type=large", "display_name": "Romain Caron", "link": "https://stackoverflow.com/users/4880751/romain-caron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526417198, "creation_date": 1526417198, "question_id": 50358932, "link": "https://stackoverflow.com/questions/50358932/rxjava2-and-kotlin-onerrornotimplementedexception", "title": "RxJava2 and Kotlin : OnErrorNotImplementedException", "body": "<p>I'm using RxJava2 with Kotlin. I don't know why but I always have this error :</p>\n\n<blockquote>\n  <p>io.reactivex.exceptions.OnErrorNotImplementedException: An operation is not implemented: not implemented</p>\n</blockquote>\n\n<p>So I add to my subscriber the onError callback, but now I have this error (inside the onError) :</p>\n\n<blockquote>\n  <p>kotlin.NotImplementedError: An operation is not implemented: not implemented</p>\n</blockquote>\n\n<p>This is my code :</p>\n\n<pre><code>override fun getOpenBar(): Observable&lt;List&lt;Bar&gt;&gt; {\n\n    val query: ParseQuery&lt;ParseObject&gt; = ParseQuery.getQuery(\"Bar\")\n    query.whereEqualTo(\"isOpen\",true)\n    return ParseObservable.find(query).toList().map { BarMapper.map(it) }.toObservable()\n}\n</code></pre>\n\n<p>In my presenter :</p>\n\n<pre><code>override fun onAttach(view: V?) {\n    super.onAttach(view)\n    getView()?.printDate()\n    getView()?.showProgress()\n    interactor?.getBar()?.compose(schedulerProvider.ioToMainObservableScheduler())?.subscribeBy(\n            onNext = {if (it.isEmpty()) getView()?.printNoResult()\n            else getView()?.printBarResult(it)\n                getView()?.hideProgress()},\n\n            onError = {Log.d(\"TEST\",it.toString())}\n    )\n}\n</code></pre>\n\n<p>How to handle correctly error ? Thanks</p>\n"}, {"tags": ["generics", "functional-programming", "kotlin", "type-conversion", "type-inference"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1526412888, "post_id": 50357462, "comment_id": 87732414, "body": "this does not work the way you&#39;d like it to. What exactly is your use case? I&#39;m pretty sure you can create a proper function with some generics for it"}, {"owner": {"reputation": 42360, "user_id": 389146, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/zGYUq.jpg?s=128&g=1", "display_name": "Karl Bielefeldt", "link": "https://stackoverflow.com/users/389146/karl-bielefeldt"}, "edited": false, "score": 1, "creation_date": 1526418939, "post_id": 50357462, "comment_id": 87735218, "body": "Since the type of one variable depends on a value, it requires <a href=\"https://en.wikipedia.org/wiki/Dependent_type\" rel=\"nofollow noreferrer\">dependent typing</a>, which AFAIK, Kotlin&#39;s type system doesn&#39;t support.  If you give us more information about the overall algorithm you are trying to achieve, we could probably help you create a version that doesn&#39;t require dependent typing.  It seems like you might want an <code>Either</code>."}], "owner": {"reputation": 171, "user_id": 4454446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iq4gU.jpg?s=128&g=1", "display_name": "Reginaldo Soares", "link": "https://stackoverflow.com/users/4454446/reginaldo-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526410860, "creation_date": 1526410860, "question_id": 50357462, "link": "https://stackoverflow.com/questions/50357462/is-it-possible-to-infer-higher-order-function-receiver-type-based-on-the-parent", "title": "is it possible to infer higher-order function receiver type based on the parent function parameters?", "body": "<p>Given a function: </p>\n\n<pre><code>inline fun &lt;T: Any&gt; executeSomething(\n    defaultValue: String,\n    entity: T,\n    maybeDefault: String = defaultValue,\n    onSuccess: (T) -&gt; Unit\n)\n</code></pre>\n\n<p>I would like to infer onSuccess, receiver type T based on the parent function parameters or something like that. </p>\n\n<p>This one works, compiler infer the entity receiver parameter in the higher order function onSucess as String:</p>\n\n<pre><code>val someEntity: String = \"some text\"\nexecuteSomething(\"action\", someEntity)\n{entity -&gt; print (entity)} //prints: \"some text\" - entity: String\n</code></pre>\n\n<p>Although, I'm trying to make the high order function have their type dynamically defined, conditionally based on a maybeDefault parameter value by this way enforcing a static defined type.</p>\n\n<p>The function should defined like that:</p>\n\n<pre><code>fun &lt;T: Any,V: Any&gt; executeSomething(\n    defaultValue: String,\n    entity: T,\n    maybeDefault: String = defaultValue,\n    newReceiver: V = if (defaultValue == maybeDefault) newReceiver as T else newReceiver as Int,\n    onSuccess: (V) -&gt; Unit\n)\n</code></pre>\n\n<p>And then the compiler should successfully, infer the staticDefineType type:  </p>\n\n<pre><code>val someNotDefault: String = \"not default\"\nval someEntity: String = \"some text\"\nexecuteSomething(\"default\", someEntity, someNotDefault)\n{newInferred -&gt; print (newInferred)} //prints: 1 - newInferred: Int \n</code></pre>\n\n<p>is that possible in Kotlin, which alternatives I have?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "edited": false, "score": 0, "creation_date": 1526456479, "post_id": 50357407, "comment_id": 87746161, "body": "Can you provide more details? Which version of Spring Data MongoDB and Kotlin are you using? Or better: Please provide a project that is able to reproduce the issue. Also, please do not truncate stack traces."}], "owner": {"reputation": 1160, "user_id": 3529850, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b1b7fd022a840d69e95d812d7977ab38?s=128&d=identicon&r=PG&f=1", "display_name": "user3529850", "link": "https://stackoverflow.com/users/3529850/user3529850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1526413053, "creation_date": 1526410640, "last_edit_date": 1526413053, "question_id": 50357407, "link": "https://stackoverflow.com/questions/50357407/error-for-document-field-with-set-of-enums-for-findallby-method", "title": "Error for document field with set of enums for findAllBy method", "body": "<p>I am using Srping boot, MongoDB, kotlin. I have a document:</p>\n\n<pre><code>@Document(collection = \"car\")\nclass Car @JvmOverloads constructor(\n\n        @Id\n        var id: String? = null,\n\n        @Field(\"colorId\")\n        var colorId: String? = null,\n\n        @Field(\"parts\")\n        var parts: Set&lt;Part&gt;? = null\n) {\n\n    enum class Part {\n        SCREW, CLUTCH, TIRE\n    }\n}\n</code></pre>\n\n<p>This is the repository with the method that \"generates\" an error:</p>\n\n<pre><code>interface CarRepository : MongoRepository&lt;Car, String&gt;{\n\n    fun findAllByColorId(colorId: String): List&lt;Car&gt;\n}\n</code></pre>\n\n<p>When I run it, I'm getting following error:</p>\n\n<pre><code>ERROR 7752 [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.foo.bar.Car$Part using constructor fun &lt;init&gt;(): com.foo.bar.Car.Part with arguments null,null] with root cause\n\njava.lang.IllegalArgumentException: Number of provided arguments should be less of equals than number of constructor parameters\n</code></pre>\n\n<p>I am totally new to kotlin (and mongo actually).</p>\n"}, {"tags": ["constructor", "kotlin", "inner-classes"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 8, "last_activity_date": 1526456128, "last_edit_date": 1526456128, "creation_date": 1526405196, "answer_id": 50356083, "question_id": 50355971, "link": "https://stackoverflow.com/questions/50355971/kotlin-constructor-of-inner-class-can-be-called-only-with-receiver-of-containin/50356083#50356083", "title": "Kotlin: Constructor of inner class can be called only with receiver of containing class", "body": "<p>Your code basically means that <code>InnerClassX</code> is an inner class of <code>InnerClassSuper</code>, not <code>OuterClass</code>, so the error means you need to provide a receiver object of <code>InnerClasssSuper</code> upon construction of <code>InnerClassX</code>.</p>\n\n<p>At this point, Kotlin allows having neither an <code>inner sealed</code> class nor a derived class for a <code>sealed</code> class as an <code>inner</code> class of another class.</p>\n\n<p>You can, however, make an <code>abstract</code> class derived from the <code>sealed</code> one and inherit from it inside the <code>OuterClass</code>:</p>\n\n<pre><code>sealed class SealedClassSuper {\n    abstract class SealedClassChild(val x: String): SealedClassSuper()\n}\n\nclass OuterClass {\n    inner class InnerClassX(x: String) : SealedClassSuper.SealedClassChild(x)\n\n    fun someFun(): SealedClassSuper {\n        return InnerClassX(\"Hello\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 12752183, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBMlbZODn80BaqrRk378AE0PQPcoHHTBTakdMuduw=k-s128", "display_name": "shivambhanvadia", "link": "https://stackoverflow.com/users/12752183/shivambhanvadia"}, "is_accepted": false, "score": 10, "last_activity_date": 1582697283, "creation_date": 1582697283, "answer_id": 60407754, "question_id": 50355971, "link": "https://stackoverflow.com/questions/50355971/kotlin-constructor-of-inner-class-can-be-called-only-with-receiver-of-containin/60407754#60407754", "title": "Kotlin: Constructor of inner class can be called only with receiver of containing class", "body": "<p>We can use it this way too</p>\n\n<p>OuterClassName().NestedClassName()</p>\n"}], "owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6059, "favorite_count": 0, "accepted_answer_id": 50356083, "answer_count": 2, "score": 15, "last_activity_date": 1582697283, "creation_date": 1526404725, "question_id": 50355971, "link": "https://stackoverflow.com/questions/50355971/kotlin-constructor-of-inner-class-can-be-called-only-with-receiver-of-containin", "title": "Kotlin: Constructor of inner class can be called only with receiver of containing class", "body": "<p>I was trying inner classes in Kotlin and came across this error but didn't quite understand it. I tried to look at the documentation <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"noreferrer\">here</a> but didn't quite get any direction as to how outer classes can access inner class constructors</p>\n\n<pre><code>class OuterClass {\n\n  fun someFun(): InnerClassSuper {\n    return InnerClassX(\"Hello\") //Error: Constructor of inner class InnerClassX can be called only with receiver of containing class\n  }\n\n  sealed class InnerClassSuper {\n\n    inner class InnerClassX(val x: String): InnerClassSuper()\n\n  }\n}\n</code></pre>\n\n<p>Would appreciate if someone explains the error and directs how to fix it.\nThanks.</p>\n"}, {"tags": ["java", "multithreading", "kotlin", "threadpool"], "answers": [{"tags": [], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "is_accepted": false, "score": 0, "last_activity_date": 1535715617, "creation_date": 1535715617, "answer_id": 52114694, "question_id": 50355071, "link": "https://stackoverflow.com/questions/50355071/how-can-i-create-single-thread-coroutine-context-under-common-pool-in-kotlin/52114694#52114694", "title": "How can I create single-thread coroutine context under Common pool in Kotlin?", "body": "<p>I found, that there are not simple solution to create such context.</p>\n\n<p>There is open issue on githuib - <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/261\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/261</a></p>\n\n<p>I think I will update this question then I will found right solution.</p>\n"}, {"comments": [{"owner": {"reputation": 252, "user_id": 962919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f394009aaee78752fe7f3f10ad8db26c?s=128&d=identicon&r=PG", "display_name": "nick allen", "link": "https://stackoverflow.com/users/962919/nick-allen"}, "edited": false, "score": 1, "creation_date": 1575475034, "post_id": 59168180, "comment_id": 104580977, "body": "This implementation blocks a default dispatcher thread while there is work which can block other coroutines from running. There is also a race condition, if dispatch runs between <code>val proc = q.poll();</code> and <code>pending.set(false);</code> then the block will be left on the queue."}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "reply_to_user": {"reputation": 252, "user_id": 962919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f394009aaee78752fe7f3f10ad8db26c?s=128&d=identicon&r=PG", "display_name": "nick allen", "link": "https://stackoverflow.com/users/962919/nick-allen"}, "edited": false, "score": 0, "creation_date": 1575475283, "post_id": 59168180, "comment_id": 104581125, "body": "The default dispatcher thread isn&#39;t blocked when it&#39;s not busy.  runproc returns when it finds the q empty.  Also there is no race condition.  If there is a dispatch after poll(), then after pending.set(false), q.isEmpty() will be false and the loop will continue to execute the dispatched work"}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "reply_to_user": {"reputation": 252, "user_id": 962919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f394009aaee78752fe7f3f10ad8db26c?s=128&d=identicon&r=PG", "display_name": "nick allen", "link": "https://stackoverflow.com/users/962919/nick-allen"}, "edited": false, "score": 0, "creation_date": 1575479346, "post_id": 59168180, "comment_id": 104583533, "body": "Oh, you&#39;re talking about fairness w.r.t. the dispatcher thread...  I actually like this better than sending a task to the back of the line every time it suspends, since it works out better for the kinds of loads I have in mind, but it&#39;s easy to modify to reschedule between each task if you like."}, {"owner": {"reputation": 252, "user_id": 962919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f394009aaee78752fe7f3f10ad8db26c?s=128&d=identicon&r=PG", "display_name": "nick allen", "link": "https://stackoverflow.com/users/962919/nick-allen"}, "edited": false, "score": 0, "creation_date": 1591548407, "post_id": 59168180, "comment_id": 110091938, "body": "Yeah, looks like my race condition statement was wrong, sorry (wish I could edit and strike through the original comment)."}], "tags": [], "owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "is_accepted": false, "score": 1, "last_activity_date": 1575427606, "last_edit_date": 1575427606, "creation_date": 1575427170, "answer_id": 59168180, "question_id": 50355071, "link": "https://stackoverflow.com/questions/50355071/how-can-i-create-single-thread-coroutine-context-under-common-pool-in-kotlin/59168180#59168180", "title": "How can I create single-thread coroutine context under Common pool in Kotlin?", "body": "<p>Here's a solution:</p>\n\n<p>When you say, for example <code>withSerialContext(Dispatchers.Default) {doWork()}</code>, it executes <code>doWork()</code> on a default dispatcher thread, but all of its parts will execute one at a time like they do in runBlocking{}.   Note that even though it's one thread at a time, there is no guarantee that it will be the same thread for the whole operation.</p>\n\n<pre><code>suspend fun &lt;T&gt; withSerialContext(\n        context: CoroutineDispatcher,\n        block: suspend CoroutineScope.() -&gt; T\n): T = withContext(SerialContextDispatcher(context), block)\n\nprivate class SerialContextDispatcher(private val target: CoroutineDispatcher) : CoroutineDispatcher() {\n\n    private val q = ConcurrentLinkedQueue&lt;Runnable&gt;()\n    //Whoever CASes this false-&gt;true schedules execution of runproc\n    private val pending = AtomicBoolean(false)\n    //Only one of these runs at a time\n    private val runproc = object: Runnable {\n        override fun run() {\n            while(true) {\n                val proc = q.poll();\n                if (proc != null) {\n                    try {\n                        proc.run()\n                    }\n                    catch (e: Throwable) {\n                        target.dispatch(EmptyCoroutineContext, this)\n                        throw e\n                    }\n                } else {\n                    pending.set(false);\n                    if (q.isEmpty() || !pending.compareAndSet(false, true)) {\n                        return\n                    }\n                }\n            }\n        }\n    }\n\n    override fun dispatch(context: CoroutineContext, block: Runnable) {\n        q.add(block)\n        if (pending.compareAndSet(false, true)) {\n            target.dispatch(EmptyCoroutineContext, runproc)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1575427606, "creation_date": 1526401529, "question_id": 50355071, "link": "https://stackoverflow.com/questions/50355071/how-can-i-create-single-thread-coroutine-context-under-common-pool-in-kotlin", "title": "How can I create single-thread coroutine context under Common pool in Kotlin?", "body": "<p>Short requirement: have ability to create corotine context, which will executed in the single thread only (e.g. without parallelism).</p>\n\n<p>Additional requirement: it is better to use existing CommonPool (e.g. Thread Pool) for these tasks</p>\n\n<p>Actually kotlin coroutines have method <code>newSingleThreadContext</code> which will create separate thread and schedule all tasks into it. However, this is dedicated thread, so ~1000 such contexts will require a lot of resources.</p>\n\n<p>Therefore, I'd like to have context with the following characteristics:</p>\n\n<ul>\n<li>Maximum one task can be executed at the same time</li>\n<li>This context should reuse any other (e.g. parent context). E.g context should hold no additional threads</li>\n</ul>\n"}, {"tags": ["java", "android", "kotlin", "pojo", "android-room"], "comments": [{"owner": {"reputation": 795, "user_id": 1073529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddabb5e5acb52dbb9af13a59b5de0e7?s=128&d=identicon&r=PG", "display_name": "Marcus K.", "link": "https://stackoverflow.com/users/1073529/marcus-k"}, "edited": false, "score": 0, "creation_date": 1526400844, "post_id": 50354459, "comment_id": 87725934, "body": "Well, I personally would almost never start with focus on memory footage, but try to get a good coding model. If that requires small, focussed classes, I will create them. If smal classes will more confuse readers than help, I will use less classes. By trying to optimize memory with minimizing the amount of null pointers, you will almost always optimize an irrelevant part of your application. This said, I cannot answer your question directly."}, {"owner": {"reputation": 795, "user_id": 1073529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddabb5e5acb52dbb9af13a59b5de0e7?s=128&d=identicon&r=PG", "display_name": "Marcus K.", "link": "https://stackoverflow.com/users/1073529/marcus-k"}, "edited": false, "score": 0, "creation_date": 1526401299, "post_id": 50354459, "comment_id": 87726195, "body": "Another thing that comes to my mind: What kind of file does your generically named data class represent? With attributes like &quot;dateTaken&quot;, &quot;height&quot; and &quot;width&quot; this looks like an image file, but not a generic file. Is this also due to memory optimization, or might there be some flaws within the whole data model?"}, {"owner": {"reputation": 633, "user_id": 1733576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OKLj1.jpg?s=128&g=1", "display_name": "Chris Rohit Brendan", "link": "https://stackoverflow.com/users/1733576/chris-rohit-brendan"}, "reply_to_user": {"reputation": 795, "user_id": 1073529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddabb5e5acb52dbb9af13a59b5de0e7?s=128&d=identicon&r=PG", "display_name": "Marcus K.", "link": "https://stackoverflow.com/users/1073529/marcus-k"}, "edited": false, "score": 1, "creation_date": 1526401889, "post_id": 50354459, "comment_id": 87726522, "body": "Kotlin&#39;s null safety would be useful so creating such objects would have no burden. Yes, it&#39;s an Image File. I renamed at the time of posting this. Sorry about that. The actual model is &quot;Photo&quot; in my project."}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 1733576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OKLj1.jpg?s=128&g=1", "display_name": "Chris Rohit Brendan", "link": "https://stackoverflow.com/users/1733576/chris-rohit-brendan"}, "edited": false, "score": 0, "creation_date": 1526405333, "post_id": 50355274, "comment_id": 87728519, "body": "Yes. I&#39;ve been following various architectural patterns and although they are robust, they can sometimes condition you to make over calculated decisions, imagining all corner cases and hypotheticals that your software may never encounter. Or at least I am stuck in this loop."}], "tags": [], "owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "is_accepted": false, "score": 1, "last_activity_date": 1526402324, "creation_date": 1526402324, "answer_id": 50355274, "question_id": 50354459, "link": "https://stackoverflow.com/questions/50354459/should-i-have-a-single-pojo-class-representing-all-possible-columns-returned-fro/50355274#50355274", "title": "Should I have a single POJO class representing all possible columns returned from a Room Table?", "body": "<p>When you're developing a model you should follow <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID</a> principles. According to that you should build your model based on the answers to:</p>\n\n<ul>\n<li>Do all photos have filetype, id, height, and width: probably yes - this means this field should belong to photo.</li>\n<li>Do all photo have dateTaken, location, isPrivate etc - If no you could use association = Create POJO like PhotoInfo. From this perspective of view, you could create POJOs that are grouped by pairs etc.  </li>\n</ul>\n\n<p>As others noted in the commentaries you shouldn't worry about the space unless it's a bottleneck in your app. And by that I mean if you have a lot of objects and you're short on space. Or you could face this issue in the future. Which in most cases the answer is no.</p>\n"}], "owner": {"reputation": 633, "user_id": 1733576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OKLj1.jpg?s=128&g=1", "display_name": "Chris Rohit Brendan", "link": "https://stackoverflow.com/users/1733576/chris-rohit-brendan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1526402324, "creation_date": 1526399519, "last_edit_date": 1526401948, "question_id": 50354459, "link": "https://stackoverflow.com/questions/50354459/should-i-have-a-single-pojo-class-representing-all-possible-columns-returned-fro", "title": "Should I have a single POJO class representing all possible columns returned from a Room Table?", "body": "<p>This is currently my data class in Kotlin representing a File. Room is able to return columns by constructing POJO's that you specify in the return type as long as the column info matches. Depending on the use case, such as showing the model as a view or storing it, I require different columns. Should I create POJOs for each of those cases or use the one below since I can have null fields?</p>\n\n<p><strong>My concern is primarily memory, since null values still create pointers that occupy space.</strong> Maintaining different POJO's and updating them is a hassle - requires converters and factories. But the following model could also get bigger. </p>\n\n<pre><code>data class Photo(\nval id: Long,\nval name: String?,\nval isFavourite: Boolean?,\nval isPrivate: Boolean?,\nval fileType: String?,\nval dateTaken: Long?,\nval height: Int?,\nval width: Int?,\nval location: String?)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1526396314, "post_id": 50353334, "comment_id": 87722929, "body": "Any ideas why you expect this to happen?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1526407477, "post_id": 50353334, "comment_id": 87729632, "body": "What do you expect would happen from creating a <code>Pair&lt;key, value&gt;</code> and just flat out ignoring it?"}, {"owner": {"reputation": 5907, "user_id": 1799043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7095adfa08cd9a890c39d46d2f913a99?s=128&d=identicon&r=PG", "display_name": "AndroidEnthusiast", "link": "https://stackoverflow.com/users/1799043/androidenthusiast"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526461834, "post_id": 50353334, "comment_id": 87749603, "body": "@EpicPandaForce well you can answer the question below rather than being salty above"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526465891, "post_id": 50353334, "comment_id": 87752461, "body": "The answer is already given :p repeating it would be strange"}, {"owner": {"reputation": 5907, "user_id": 1799043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7095adfa08cd9a890c39d46d2f913a99?s=128&d=identicon&r=PG", "display_name": "AndroidEnthusiast", "link": "https://stackoverflow.com/users/1799043/androidenthusiast"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526478826, "post_id": 50353334, "comment_id": 87761518, "body": "@EpicPandaForce aha! but you still felt the need to comment in salty fashion"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526480013, "post_id": 50353334, "comment_id": 87762528, "body": "Yes. Yes I did. You&#39;re right. <a href=\"https://github.com/JetBrains/kotlin/blob/9ffd0db4a87116a0c825f2f0163b8ad3eb1a922f/libraries/stdlib/src/kotlin/util/Standard.kt#L45-L49\" rel=\"nofollow noreferrer\">This is the source code for the <code>apply {</code> function. I wouldn&#39;t expect it to do things that it doesn&#39;t do</a>. If you press Ctrl+B on <code>apply</code> in your IDE, you&#39;ll see the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 5907, "user_id": 1799043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7095adfa08cd9a890c39d46d2f913a99?s=128&d=identicon&r=PG", "display_name": "AndroidEnthusiast", "link": "https://stackoverflow.com/users/1799043/androidenthusiast"}, "edited": false, "score": 0, "creation_date": 1526397219, "post_id": 50353628, "comment_id": 87723585, "body": "Ah i see. this explains a lot. And I guess for also I would need to use : it[KEY] = ANOTHER_VALUE  I just thought kotlin would apply this automatically for me"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1565930387, "post_id": 50353628, "comment_id": 101505474, "body": "Will <code>HashMap&lt;String, String&gt;()apply { this[KEY] = ANOTHER_VALUE }</code> create anonymous class if given as a parameter to a method, like &quot;double brace&quot; initialization in Java?"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1526396902, "creation_date": 1526396902, "answer_id": 50353628, "question_id": 50353334, "link": "https://stackoverflow.com/questions/50353334/kotlin-using-apply-or-also-on-hashmap-doesnt-work-as-expected/50353628#50353628", "title": "Kotlin - Using apply or also on hashmap doesn&#39;t work as expected", "body": "<p>The <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\"><code>apply</code></a> and <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"noreferrer\"><code>also</code></a> functions do not update the hashmap; they simply execute the lambda passed to them. In your case, the lambda creates a pair, which is then discarded, because no other operations are performed on it.</p>\n\n<p>If you want to return a map with an added entry, you can do, for example, this:</p>\n\n<pre><code>return basicParams + mapOf(KEY to ANOTHER_VALUE)\n</code></pre>\n\n<p>Or if you want to use <code>apply</code> (note that this will modify the map returned by <code>getBasicParams</code>, while the previous snippet will create a new map):</p>\n\n<pre><code>return getBasicParams().apply { this[KEY] = ANOTHER_VALUE }\n</code></pre>\n"}], "owner": {"reputation": 5907, "user_id": 1799043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7095adfa08cd9a890c39d46d2f913a99?s=128&d=identicon&r=PG", "display_name": "AndroidEnthusiast", "link": "https://stackoverflow.com/users/1799043/androidenthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 50353628, "answer_count": 1, "score": 0, "last_activity_date": 1526396902, "creation_date": 1526396068, "last_edit_date": 1526396790, "question_id": 50353334, "link": "https://stackoverflow.com/questions/50353334/kotlin-using-apply-or-also-on-hashmap-doesnt-work-as-expected", "title": "Kotlin - Using apply or also on hashmap doesn&#39;t work as expected", "body": "<p>Here's a snippet where I'm trying to build some query params for an api call.</p>\n\n<p>The functions below attempt to add an entry into an existing hashmap :  </p>\n\n<pre><code>// Using Apply to insert another entry : \n\nfun getParamsUsingApply(): HashMap&lt;String, String&gt; {\n    return getBasicParams().apply { KEY to ANOTHER_VALUE }\n}\n\n\n// Using also to insert another entry :  \n\nfun getParamsUsingAlso(): HashMap&lt;String, String&gt; {\n    return getBasicParams().also { KEY to ANOTHER_VALUE }\n}\n</code></pre>\n\n<p>I find this confusing, I expect my hashmap above to have the new entry in both cases if I call any of the functions.</p>\n\n<p>However that isn't the case. </p>\n\n<p>Any ideas why this doesn't work as I expect?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526407274, "post_id": 50353201, "comment_id": 87729524, "body": "<code>MySecondActivity in MainActivity</code> only if you want crashes after process death :)"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1526975918, "post_id": 50353673, "comment_id": 87938163, "body": "Thank you for your clear answer. I will keep with good practice and use a singleton for my callback. But your additional information about WeakReference is also very interesting, I didn&#39;t know it was possible to do it."}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1526976018, "post_id": 50353673, "comment_id": 87938213, "body": "Glad I can help"}], "tags": [], "owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "is_accepted": true, "score": 1, "last_activity_date": 1526398738, "last_edit_date": 1526398738, "creation_date": 1526397018, "answer_id": 50353673, "question_id": 50353201, "link": "https://stackoverflow.com/questions/50353201/keep-reference-of-an-activity-in-the-companion-object/50353673#50353673", "title": "Keep reference of an activity in the companion object", "body": "<p>Here is my suggestion. Don't let any activity keeps the other activity reference, it's not the best practice.</p>\n\n<p><strong>Suggestion</strong></p>\n\n<p>If the callback you receive has impact on multiple activities, then make it global. I usually create a singleton manager class for handling each global event's logic that may have impact on many places in the app. Anywhere in your app need to listen for the event, register the event to the manager.</p>\n\n<p>For example, my <code>AppLocationManager</code> is a singleton class, responsible for making gps refresh and other location stuff. When location change, fire events to all registered listeners. In your case, both MainActivity and SecondActivity knows the changes and update itself, remember to unregister the listener in activity onDestroy, or you will have a memory leak.</p>\n\n<p><strong>Workaround for quick implementation</strong></p>\n\n<p>If you still want to keep the activity reference for quick modification, which is not recommended, use <code>WeakReference</code></p>\n\n<p>Store a <code>WeakReference</code> of <code>MySecondActivity</code> as a static global variable:</p>\n\n<pre><code>public static WeakReference&lt;Activity&gt; mTmpAtivity\n</code></pre>\n\n<p>Unlike default <code>StrongReference</code>, this variable will release the instance if the activity is GC so it's memory safe.</p>\n"}], "owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 50353673, "answer_count": 1, "score": 0, "last_activity_date": 1526398738, "creation_date": 1526395686, "question_id": 50353201, "link": "https://stackoverflow.com/questions/50353201/keep-reference-of-an-activity-in-the-companion-object", "title": "Keep reference of an activity in the companion object", "body": "<p>I have 2 activities: MainActivity and MySecondActivity.\nI start MySecondActivity, but while I'm working in it, I receive a callback from an external library in MainActivity. This callback should update some information in MySecondActivity.</p>\n\n<p>Question: Can I keep a reference of MySecondActivity in MainActivity in order to update it later ?</p>\n\n<p>Basically it would be like this:</p>\n\n<pre><code>val mySecondIntent = Intent(applicationContext, MySecondActivity::class.java)\nstartActivity(mySecondIntent)\n\n(...)\n\nfun MyCallBackFunction(newInfo: Integer)\nmySecondIntent.updateMyInfo(newInfo) &lt;-- here I cannot access \"MySecondIntent\"\n</code></pre>\n\n<p>I tried to store the reference of mySecondIntent in the companion object but I could not make it work.</p>\n\n<p>Do you have any suggestion ?</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["kotlin", "optional"], "answers": [{"tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 3, "last_activity_date": 1526397634, "creation_date": 1526397634, "answer_id": 50353855, "question_id": 50352956, "link": "https://stackoverflow.com/questions/50352956/why-do-optionals-in-kotlin-require-explicit-initialisation/50353855#50353855", "title": "Why do optionals in Kotlin require explicit initialisation?", "body": "<p>There is no reason <code>null</code> must be the initial value of uninitialized variables.</p>\n\n<p>It is not <em>inference</em>.</p>\n\n<p>It is just a rule in Swift, and Kotlin does not have such rule.</p>\n\n<p>Which do you think <code>var a: Int?</code> should be initialized as? <code>0</code> or <code>null</code>? Both arguments may have some reasons.</p>\n\n<p>And in Kotlin, <em>nullables</em> are not <em>optionals</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 9, "last_activity_date": 1526397787, "creation_date": 1526397787, "answer_id": 50353893, "question_id": 50352956, "link": "https://stackoverflow.com/questions/50352956/why-do-optionals-in-kotlin-require-explicit-initialisation/50353893#50353893", "title": "Why do optionals in Kotlin require explicit initialisation?", "body": "<p>Explicitness is a part of the overall language design in Kotlin. There are no implicit defaults for any types in Kotlin language. There is also desire to discourage (mis)use of nulls, so in respect to initialization nulls are not considered special in any way. If you have a non-nullable string <code>var myString: String</code> they you are required to initialize it with something just like you are required to initialize a nullable string <code>var myString: String?</code> with something, so this way its initial value is always explicit. </p>\n\n<p>Note, technically speaking, <code>String?</code> in Kotlin is not an <em>optional</em> string in Kotlin. In Kotlin it is called a <em>nullable</em> string. However, the most common use-case for nulls is to represent the \"absence of value\".</p>\n"}], "owner": {"reputation": 623, "user_id": 6773556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c962fa5a548c8c2792147ffc8a43cf?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6773556/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 50353893, "answer_count": 2, "score": 2, "last_activity_date": 1526397787, "creation_date": 1526394971, "question_id": 50352956, "link": "https://stackoverflow.com/questions/50352956/why-do-optionals-in-kotlin-require-explicit-initialisation", "title": "Why do optionals in Kotlin require explicit initialisation?", "body": "<p>When defining an optional property in a class, Kotlin requires that it is explicitly initialised as null, like so:</p>\n\n<pre><code>var myString: String? = null\n</code></pre>\n\n<p>Is there any reason that the compiler cannot infer this initial value? I believe Swift would let you skip the <code>= null</code> part, however this is a compiler error in Kotlin. Wouldn't it be simpler to automatically have the value null after writing the following?</p>\n\n<pre><code>var myString: String?\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-jetpack"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526390297, "post_id": 50351267, "comment_id": 87718391, "body": "what&#39;s you kotlin version?"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526393520, "post_id": 50351267, "comment_id": 87720817, "body": "@LeviAlbuquerque Please see the updated question , according to my dependencies I think I am pulling in the latest version of kotlin I think so."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1526394157, "post_id": 50351267, "comment_id": 87721252, "body": "The -d message is a warning, it does not prevent your project from working."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526394206, "post_id": 50351267, "comment_id": 87721291, "body": "You&#39;re using a variable to tell the Kotlin version, kotlin_version, what&#39;s the value of this variable?"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526394464, "post_id": 50351267, "comment_id": 87721499, "body": "@LeviAlbuquerque where can I see this variable to see its value? actually this project was generated by the IDE so I dont really know where this variable is."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526394648, "post_id": 50351267, "comment_id": 87721623, "body": "Probably in the project level build.gradle file"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526395595, "post_id": 50351267, "comment_id": 87722378, "body": "I cant see that variable in the file u specified @LeviAlbuquerque I have updated the question with the contents of that file and also a screenshot"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1526395624, "post_id": 50351267, "comment_id": 87722400, "body": "@yole as you can see in the screenshot I provided the run option is disabled."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1526397980, "post_id": 50351267, "comment_id": 87724126, "body": "The disabled Run option has nothing to do with this message."}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1526398459, "post_id": 50351267, "comment_id": 87724438, "body": "then why is it disabled? I mean how can I configure it to run? shouldnt it be preconfigured at time of project generation? @yole"}], "answers": [{"tags": [], "owner": {"reputation": 4141, "user_id": 5129039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hrN8V.png?s=128&g=1", "display_name": "Ankit Mehta", "link": "https://stackoverflow.com/users/5129039/ankit-mehta"}, "is_accepted": false, "score": 0, "last_activity_date": 1540990717, "creation_date": 1540990717, "answer_id": 53083919, "question_id": 50351267, "link": "https://stackoverflow.com/questions/50351267/android-studio-the-d-option-with-a-directory-destination-is-ignored-because/53083919#53083919", "title": "android studio the &#39;-d&#39; option with a directory destination is ignored because &#39;-Xbuild-file&#39; is specified", "body": "<p>I had the same issue while building the project with <code>Kotlin</code> version <code>1.2.61</code>, it worked after updating the version to <code>1.2.71</code> from <code>1.2.61</code></p>\n\n<p>The classpath dependencies are(inside project level <code>build.gradle</code>) : </p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.0-alpha10'\n        classpath 'com.google.gms:google-services:4.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.71\"\n        classpath \"android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0-alpha06\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:1.2.71\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 5024464, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4e79700875093e86f294d369adf1cd27?s=128&d=identicon&r=PG", "display_name": "Leo240", "link": "https://stackoverflow.com/users/5024464/leo240"}, "is_accepted": false, "score": 0, "last_activity_date": 1556045813, "creation_date": 1556045813, "answer_id": 55817733, "question_id": 50351267, "link": "https://stackoverflow.com/questions/50351267/android-studio-the-d-option-with-a-directory-destination-is-ignored-because/55817733#55817733", "title": "android studio the &#39;-d&#39; option with a directory destination is ignored because &#39;-Xbuild-file&#39; is specified", "body": "<p>For some reason the problem is that in settings of Kotlin compiler activated incremental compilation. If you disable these options - you will not receive the warning.</p>\n"}], "owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2600, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556045813, "creation_date": 1526390211, "last_edit_date": 1526395919, "question_id": 50351267, "link": "https://stackoverflow.com/questions/50351267/android-studio-the-d-option-with-a-directory-destination-is-ignored-because", "title": "android studio the &#39;-d&#39; option with a directory destination is ignored because &#39;-Xbuild-file&#39; is specified", "body": "<p>I am new to android development and just created my first \"hello world\" project in android studio 3.2 ( canary ) following this tutorial. <a href=\"https://developer.android.com/jetpack/docs/getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/getting-started</a></p>\n\n<p>and then I just did Build- > make project project tried to build and gave me following error.</p>\n\n<blockquote>\n  <p>Could not get unknown property 'archLifecycleVersion' for root project 'JetpackHelloWorld' of type org.gradle.api.Project.</p>\n</blockquote>\n\n<p>but I was able to solve that error with help of answers on a question I posted. \n<a href=\"https://stackoverflow.com/questions/50329891/android-jetpack-project-gives-archlifecycleversion-build-error\">android jetpack project gives archlifecycleversion build error</a></p>\n\n<p>after that error was solved I tried to build again and now I have the following error.</p>\n\n<blockquote>\n  <p>the '-d' option with a directory destination is ignored because '-Xbuild-file' is specified</p>\n</blockquote>\n\n<p><strong>Update</strong></p>\n\n<p><strong>Build.gradle</strong> (app folder level )</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.example.touseef.jetpackhelloworld\"\n        minSdkVersion 17\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p><strong>build.gradle</strong> (project level)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\next.kotlin_version = '1.2.41'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.2.0-alpha14'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>Run is disabled</strong></p>\n\n<p>as you can see in the screenshot, run option of the app is disabled and it asks me to edit configuration if I click on the drop down, what kind of configurations I am supposed to do in a empty project? </p>\n\n<p><a href=\"https://i.stack.imgur.com/Q1f7i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q1f7i.png\" alt=\"run disabled\"></a></p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 12143, "user_id": 1021725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b935010f9ac8bee2a8df5b1c6ee6cb?s=128&d=identicon&r=PG", "display_name": "David Brossard", "link": "https://stackoverflow.com/users/1021725/david-brossard"}, "edited": false, "score": 1, "creation_date": 1526389334, "post_id": 50350896, "comment_id": 87717656, "body": "List is an interface"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 2, "creation_date": 1526389453, "post_id": 50350896, "comment_id": 87717747, "body": "Here<code>val a = ArrayList&lt;String&gt;()</code>"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 1, "creation_date": 1526389538, "post_id": 50350896, "comment_id": 87717807, "body": "If your list is mutable <code>val a: MutableList&lt;String&gt; = mutableListOf()</code>"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1526389866, "post_id": 50350896, "comment_id": 87718067, "body": "The point of using <code>List</code> rather than <code>ArrayList</code> is that you don&#39;t need to propagate a change of <code>ArrayList</code> to e.g. <code>LinkedList</code> since that&#39;s just a detail. With kotlin&#39;s <code>val</code> you also don&#39;t have to change a type, so you mostly don&#39;t have to do anything here. You just use interfaces in return types &amp; parameters"}], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1526390139, "post_id": 50351008, "comment_id": 87718289, "body": "There&#39;s also <code>listOf</code> for immutable lists"}], "tags": [], "owner": {"reputation": 731, "user_id": 6667539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f91aa588264e0944cb4d272313046ca?s=128&d=identicon&r=PG&f=1", "display_name": "Paplusc", "link": "https://stackoverflow.com/users/6667539/paplusc"}, "is_accepted": false, "score": 1, "last_activity_date": 1526389550, "creation_date": 1526389550, "answer_id": 50351008, "question_id": 50350896, "link": "https://stackoverflow.com/questions/50350896/how-do-you-program-to-interface-in-kotlin/50351008#50351008", "title": "How do you program to interface in Kotlin?", "body": "<p>You can see basic usage of the list and set types below:</p>\n\n<pre><code>val numbers: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3)\nval readOnlyView: List&lt;Int&gt; = numbers\nprintln(numbers)        // prints \"[1, 2, 3]\"\nnumbers.add(4)\nprintln(readOnlyView)   // prints \"[1, 2, 3, 4]\"\nreadOnlyView.clear()    // -&gt; does not compile\n\nval strings = hashSetOf(\"a\", \"b\", \"c\", \"c\")\nassert(strings.size == 3)\n</code></pre>\n\n<p>For more information check this page:\n<a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"nofollow noreferrer\">Kotlin</a></p>\n"}, {"tags": [], "owner": {"reputation": 1449, "user_id": 5543884, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ebf681dcc74afcc621793d23c512af80?s=128&d=identicon&r=PG&f=1", "display_name": "Jhonny007", "link": "https://stackoverflow.com/users/5543884/jhonny007"}, "is_accepted": false, "score": 1, "last_activity_date": 1526390431, "last_edit_date": 1526390431, "creation_date": 1526389957, "answer_id": 50351168, "question_id": 50350896, "link": "https://stackoverflow.com/questions/50350896/how-do-you-program-to-interface-in-kotlin/50351168#50351168", "title": "How do you program to interface in Kotlin?", "body": "<p>In Kotlin programming to the interface is often times not needed, since it has type inference. You can simply write:</p>\n\n<pre><code>val someList = ArrayList&lt;String&gt;()\nsomeList.add(\"Hello\")\n</code></pre>\n\n<p>and if you ever change the type of the list you don't have to change the delclaration:</p>\n\n<pre><code>val someList = MyCustomListWichCanOnlyHoldStrings()\nsomeList.add(\"Hello\")\n</code></pre>\n\n<p>If you really want you can still specify the interface manually like this:</p>\n\n<pre><code>val someList: List&lt;String&gt; = ArrayList&lt;String&gt;()\nsomeList.add(\"Hello\")\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>I just want to elaborate a little more, why you program to the interface in Java.</p>\n\n<p>When you write all your code like this:</p>\n\n<pre><code>public ArrayList&lt;String&gt; giveMeSomeList() {\n    ArrayList&lt;String&gt; someList = new ArrayList&lt;&gt;();\n    someList.add(\"some\");\n    return someList;\n}\n</code></pre>\n\n<p>And you want to change the list type to <code>LinkedList</code> you need to change the code in at least three places above.</p>\n\n<p>When you program against the interface like this: </p>\n\n<pre><code>public List&lt;String&gt; giveMeSomeList() {\n    List&lt;String&gt; someList = new ArrayList&lt;&gt;();\n    someList.add(\"some\");\n    return someList;\n}\n</code></pre>\n\n<p>you only need to chage the code in the initialization and the rest of the code can be left as is.</p>\n\n<hr>\n\n<p>In Kotlin we don't have this problem since the type gets inferred. When you don't write the type you don't have to change it if the type changes.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1526394217, "creation_date": 1526394217, "answer_id": 50352688, "question_id": 50350896, "link": "https://stackoverflow.com/questions/50350896/how-do-you-program-to-interface-in-kotlin/50352688#50352688", "title": "How do you program to interface in Kotlin?", "body": "<p>I interpreted this question two different ways, so I'm gonna write this answer containing both:</p>\n\n<ol>\n<li>Using Lists in Kotlin</li>\n</ol>\n\n\n\n<pre><code>val mutableList = mutableListOf(/*items*/)//Similar to ArrayList\nvar immutableList = listOf(/*items*/)//You can't add or remove \n</code></pre>\n\n<p>They can be initialized without any items, but it requires the diamond operator to specify the type.</p>\n\n<p>You should use the Kotlin initialization methods when creating lists though. ArrayList has <code>arrayListOf&lt;Type&gt;(items)</code>\nThe code you had in the question would be:</p>\n\n<pre><code>val list: List&lt;String&gt; = mutableListOf()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val List: List&lt;String&gt; = listOf()\n</code></pre>\n\n<p>There's also <code>arrayListOf</code> (as I mentioned earlier) and, not directly a list, but <code>setOf</code>.</p>\n\n<ol start=\"2\">\n<li>Declaring a superclass type (i.e. List) but initializing a child-class</li>\n</ol>\n\n\n\n<p>When you do:</p>\n\n<pre><code>val /*var*/ someField = SomeClass()\n</code></pre>\n\n<p>in Kotlin, someField gets automatic type inference, which here is SomeClass. When you do <code>mutableListOf&lt;SomeClass&gt;</code>, the inferred type is <code>MutableList&lt;SomeClass&gt;</code>. So, if you want to specify a specific child, you need to manually write the type:</p>\n\n<pre><code>val /*var*/ someList: List&lt;SomeClass&gt; = mutableListOf()\n</code></pre>\n\n<p>Just like in Java, just with different syntax.</p>\n"}], "owner": {"reputation": 33, "user_id": 4638081, "user_type": "registered", "profile_image": "https://graph.facebook.com/1103771889648995/picture?type=large", "display_name": "batinex", "link": "https://stackoverflow.com/users/4638081/batinex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1526394217, "creation_date": 1526389235, "question_id": 50350896, "link": "https://stackoverflow.com/questions/50350896/how-do-you-program-to-interface-in-kotlin", "title": "How do you program to interface in Kotlin?", "body": "<p>In Java we can have code like this:</p>\n\n<pre><code>List&lt;String&gt; a = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>How can we do that in Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1526390278, "last_edit_date": 1526390278, "creation_date": 1526388439, "answer_id": 50350627, "question_id": 50349867, "link": "https://stackoverflow.com/questions/50349867/how-to-remove-all-keys-pointing-to-given-value/50350627#50350627", "title": "How to remove all keys pointing to given value", "body": "<p>One way to do this is to declare your map as a <code>Map</code> instead of a <code>MutableMap</code> and just overwrite it with a filtered version of itself:</p>\n\n<pre><code>var myMap = mapOf(1 to \"A\", 2 to \"B\")\nmyMap = myMap.filterValues { it != \"A\" }\nprintln(myMap) \n</code></pre>\n\n<p>If you want the <code>MutableMap</code> (yet still a <code>var</code>) version, it's similar:</p>\n\n<pre><code>var myMap = mutableMapOf(1 to \"A\", 2 to \"B\")\nmyMap = myMap.filterValues { it != \"A\" } as MutableMap\nprintln(myMap)\n</code></pre>\n\n<p><em>Update</em>: Mario Topolnik correctly points out that casting here is more efficient than calling <code>.toMutableMap()</code> as a new copy is not created.</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1526391551, "post_id": 50351543, "comment_id": 87719366, "body": "Version 1 fails with <code>ConcurrentModificationException</code>, so your twist on it is required."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526391754, "post_id": 50351543, "comment_id": 87719518, "body": "@MarkoTopolnik Thanks, makes sense."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1526391348, "last_edit_date": 1526391348, "creation_date": 1526390997, "answer_id": 50351543, "question_id": 50349867, "link": "https://stackoverflow.com/questions/50349867/how-to-remove-all-keys-pointing-to-given-value/50351543#50351543", "title": "How to remove all keys pointing to given value", "body": "<p>Why don't you like version 1? It's what I would use. Another option:</p>\n\n<pre><code>with(myMap.iterator()) {\n    forEach { if (it.value == \"A\") remove() }\n}\n</code></pre>\n\n<p>Though it also depends how many elements you expect to remove: only a few (then <code>remove</code> will probably be faster), or most (<code>filterValues</code> may be faster)?</p>\n"}], "owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2532, "favorite_count": 0, "accepted_answer_id": 50350627, "answer_count": 2, "score": 2, "last_activity_date": 1526391348, "creation_date": 1526386247, "question_id": 50349867, "link": "https://stackoverflow.com/questions/50349867/how-to-remove-all-keys-pointing-to-given-value", "title": "How to remove all keys pointing to given value", "body": "<p>Let's have the following (mutable) map:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1   -&gt; A\n45  -&gt; A\n88  -&gt; R\n98  -&gt; X\n105 -&gt; A\n</code></pre>\n\n<p>Now I want to remove all items pointing to <code>A</code>. I came up with the following code:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Version 1\nmyMap.forEach { key, value -&gt; if (value == \"A\") myMap.remove(key) }\n\n// Version 2\nwith (myMap) {\n    val filtered = filterValues { it != \"A\" }\n    clear()\n    putAll(filtered)\n}\n</code></pre>\n\n<p>But somehow none of it seems right. So what is the correct, most elegant way?</p>\n"}, {"tags": ["android", "json", "post", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526385964, "post_id": 50349663, "comment_id": 87715205, "body": "You should make one model for request and a different one for responses"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526386174, "post_id": 50349663, "comment_id": 87715351, "body": "Yes, i have also thought that. I have done that then i can&#39;t understand how can i pass those two in POST request using Retrofit. Please you can provide me any example or any helpful  link? @LeviAlbuquerque"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1526386475, "post_id": 50349663, "comment_id": 87715567, "body": "@JaydipKalkani You should have your data model representing the request as a parameter, while the response will be embedded in the return type (e.g., in a <code>Call</code> object if you&#39;re using plain Retrofit)"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526386949, "post_id": 50349663, "comment_id": 87715884, "body": "@JaydipKalkani checkout the answer, hope it helps you"}], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387061, "post_id": 50349926, "comment_id": 87715968, "body": "+1 for the clean explanation. I have changed my code according to your suggestion. Now, my error is gone but my web service returns me some error. Once i will make sure that i get correct response from web service then i will mark this answer as accepted."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387212, "post_id": 50349926, "comment_id": 87716082, "body": "I am using POSTMAN for testing my web service and it returns correct response but when i post the same data using android, my web service returns <code>Please pass the language type</code> as error message but i have passed language type correctly. So, i have to figure it out that their is a mistake in posting data or it&#39;s somewhere else. It will be great if you can provide me any hint."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387556, "post_id": 50349926, "comment_id": 87716357, "body": "Maybe your api requires yout to add the &quot;Accept-Language&quot; header. Add &quot;Accept-Language&quot;, &quot;Your value&quot; in the @Header collection in the endpoint"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387638, "post_id": 50349926, "comment_id": 87716415, "body": "No. My api doesn&#39;t require any &quot;Accept-Language&quot; header. I can say that surely because in POSTMAN i am not passing any header."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387868, "post_id": 50349926, "comment_id": 87716583, "body": "lang_type, are you setting that? In your post data?"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526387922, "post_id": 50349926, "comment_id": 87716624, "body": "Yes, I am setting <code>lang_type</code> in post data."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1526388174, "post_id": 50349926, "comment_id": 87716809, "body": "can you please tell me that how the <code>LoginRequest</code> model class structure should be? It should contain <code>data</code> object of any other model class type which contains my all login data fields or it should directly contains login data fields and having name <code>data</code> instead of <code>request</code>?"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 1, "creation_date": 1526388435, "post_id": 50349926, "comment_id": 87717004, "body": "I got the answer. It should contain <code>data</code> object of model class type which contains my all login fields data. Thank you very much for your great answer. You saved my day. I have been facing it since last 2 days. Thank you very much."}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 2, "last_activity_date": 1526386428, "creation_date": 1526386428, "answer_id": 50349926, "question_id": 50349663, "link": "https://stackoverflow.com/questions/50349663/retrofit-post-request-parsing-two-json-objects-having-same-name/50349926#50349926", "title": "Retrofit POST request - parsing two JSON Objects having same name", "body": "<p>You should create a model POJO for each response and request. For example, you might have the following endpoint in retrofit:</p>\n\n<pre><code>@Headers({\"Content-Type: application/json\", \"Accept: application/json\"})\n@POST(\"/login\")\nCall&lt;Response&lt;LoginResponse&gt;&gt; login(\n        @Body LoginRequest request);\n</code></pre>\n\n<p><strong>LoginRequest.java</strong></p>\n\n<pre><code>public class LoginRequest {\n    DataModel data;\n\n//getters and setters\n\n}\n</code></pre>\n\n<p><strong>LoginResponse.java</strong></p>\n\n<pre><code>public class LoginResponse {\n\n   Integer status;\n   String message;\n   SecondDataModel data;\n\n  //getters and setters\n}\n</code></pre>\n\n<p>You <code>DataModel</code> class should model the data field in the request. And your <code>SecondDataModel</code> should model the one in the response. If they have the same data, you can use the same POJO.</p>\n"}], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 50349926, "answer_count": 1, "score": -1, "last_activity_date": 1526386428, "creation_date": 1526385618, "question_id": 50349663, "link": "https://stackoverflow.com/questions/50349663/retrofit-post-request-parsing-two-json-objects-having-same-name", "title": "Retrofit POST request - parsing two JSON Objects having same name", "body": "<p>i am using retrofit for upload data to web service and i am getting response from web service accordingly. Upload data has following structure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qbplM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qbplM.png\" alt=\"enter image description here\"></a></p>\n\n<p>and response contains following structure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cVliL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cVliL.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see upload data and response both contains <code>data</code> named object. So, my question is how can i make Model Class for handling this request and response \n<code>data</code> object?.</p>\n\n<p>I am doing it as follow but it gives error of <code>multiple fields having same name</code>.</p>\n\n<pre><code>data class PostDataModel(var data: PostDataFieldsModel,var status: String, var message: String,\n                     @SerializedName(\"data\") var data1: PostResponseDataFieldsModel)\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["android", "kotlin", "firebase-mlkit"], "comments": [{"owner": {"reputation": 2343, "user_id": 5827947, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8lnuZcfXxac/AAAAAAAAAAI/AAAAAAAAAFs/GT78QCxjIio/photo.jpg?sz=128", "display_name": "Isabella Chen", "link": "https://stackoverflow.com/users/5827947/isabella-chen"}, "edited": false, "score": 1, "creation_date": 1526419464, "post_id": 50348605, "comment_id": 87735410, "body": "1. Like another answer below, I suspect you get back a low quality thumbnail photo. 2. Depending on the type of barcode you are trying to parse, different resolutions are required. But 1280*960 can most of the time do. See public documentation here: <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/ml/vision/barcode/FirebaseVisionBarcodeDetector.html#detectInImage(com.google.firebase.ml.vision.common.FirebaseVisionImage)\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/android/com/google/fireba&zwnj;&#8203;se/&hellip;</a>.  Also, the barcode detection is on-device, so you don&#39;t need to resize the image before feeding it to the API."}, {"owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "reply_to_user": {"reputation": 2343, "user_id": 5827947, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8lnuZcfXxac/AAAAAAAAAAI/AAAAAAAAAFs/GT78QCxjIio/photo.jpg?sz=128", "display_name": "Isabella Chen", "link": "https://stackoverflow.com/users/5827947/isabella-chen"}, "edited": false, "score": 0, "creation_date": 1526420202, "post_id": 50348605, "comment_id": 87735670, "body": "@IsabellaChen please check the comment below. Large images also don&#39;t work."}, {"owner": {"reputation": 2343, "user_id": 5827947, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8lnuZcfXxac/AAAAAAAAAAI/AAAAAAAAAFs/GT78QCxjIio/photo.jpg?sz=128", "display_name": "Isabella Chen", "link": "https://stackoverflow.com/users/5827947/isabella-chen"}, "edited": false, "score": 0, "creation_date": 1526426780, "post_id": 50348605, "comment_id": 87737493, "body": "But are you still scaling it to 300 * 500?  Could you remove the resizing logic? Also, try FirebaseVisionImage.fromFilePath. If still not working, share the image to me and I will take a look?"}, {"owner": {"reputation": 6667, "user_id": 667879, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bcc1f783c383a55c83198fb838c7dac1?s=128&d=identicon&r=PG", "display_name": "anoop4real", "link": "https://stackoverflow.com/users/667879/anoop4real"}, "edited": false, "score": 0, "creation_date": 1531383485, "post_id": 50348605, "comment_id": 89577923, "body": "Hi did you resolve the issue? I am also facing the same problem, I am using the full quality photo following the <a href=\"https://developer.android.com/training/camera/photobasics\" rel=\"nofollow noreferrer\">developer.android.com/training/camera/photobasics</a> guide...not getting the barcode to work..."}], "answers": [{"comments": [{"owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "edited": false, "score": 0, "creation_date": 1526406726, "post_id": 50350538, "comment_id": 87729236, "body": "Yes, that was a thumbnail. So I tried to take a picture, then save it as png in my project. I&#39;ve loaded it as a bitmap and made a scan. Got empty array again. Seems like I definitely need to make some preps with the pic in order to make it work!"}], "tags": [], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "is_accepted": false, "score": 0, "last_activity_date": 1526388212, "creation_date": 1526388212, "answer_id": 50350538, "question_id": 50348605, "link": "https://stackoverflow.com/questions/50348605/read-barcode-info-from-bitmap-using-ml-kit/50350538#50350538", "title": "Read barcode info from bitmap using ML kit", "body": "<p>The approach you're using will only give you back thumbnail of photo (as per <a href=\"https://developer.android.com/training/camera/photobasics\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camera/photobasics</a>) ...that may not be sufficient for what you're trying to do.  That link also contains info on how to get access to full size photo.</p>\n"}], "owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 699, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1526461409, "creation_date": 1526382320, "last_edit_date": 1526420792, "question_id": 50348605, "link": "https://stackoverflow.com/questions/50348605/read-barcode-info-from-bitmap-using-ml-kit", "title": "Read barcode info from bitmap using ML kit", "body": "<p>I want to get some info from barcode using my camera.\nIt works when I use png image downloaded from site, but when I try to get it work with a photo I took, it outputs me the empty array. Seems like I need to make some preps with the image in order to make it work.\nHere is my code:</p>\n\n<pre><code>fun getTheBarCode(bitmap: Bitmap) {\n    val options = FirebaseVisionBarcodeDetectorOptions.Builder()\n            .setBarcodeFormats(\n                    FirebaseVisionBarcode.FORMAT_AZTEC)\n            .build()\n\n    val detector = FirebaseVision.getInstance().getVisionBarcodeDetector(options)\n    val bm = BitmapFactory.decodeResource(getResources(), R.drawable.barcode) //this is the place where I can load my downloaded barcode to make everything work!\n    val newBitmap = Bitmap.createScaledBitmap(bitmap, 300, 500, false)\n    val image = FirebaseVisionImage.fromBitmap(newBitmap)\n\n    photoImage.setImageBitmap(newBitmap)\n\n    detector.detectInImage(image)\n            .addOnSuccessListener {\n                Log.d(\"Success\", \"Success\")\n                //empty array here, when I take picture.\n            }\n            .addOnFailureListener {\n                Log.d(\"Failed\", it.message)\n            }\n}\n</code></pre>\n\n<p>This is how I get the image from the camera</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == CAMERA_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            val photo = data.extras.get(\"data\") as Bitmap\n\n            getTheBarCode(photo)\n\n        }\n    }\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>I've take a picture with my phone, scale it down to 1500x1000px and put it inside my app directory, then loaded it as a bitmap.\nStill not working.</p>\n"}, {"tags": ["android", "kotlin", "realm", "android-databinding"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526387261, "post_id": 50348469, "comment_id": 87716125, "body": "Please show your gradle plugin order <code>apply plugin: ...</code> and also the model class that you are trying to add --- but my wager goes for that you either didn&#39;t add a no-args constructor for your RealmObject, or you didn&#39;t make it <code>open</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1526388271, "post_id": 50348469, "comment_id": 87716878, "body": "You should add <code>@field:Ignore var type : AccountType</code>"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 3, "last_activity_date": 1526389770, "creation_date": 1526389770, "answer_id": 50351093, "question_id": 50348469, "link": "https://stackoverflow.com/questions/50348469/realm-messes-with-android-data-binding/50351093#50351093", "title": "Realm messes with Android data binding", "body": "<pre><code>@RealmClass\nopen class AccountData (\n    ...\n) : RealmModel {\n    var type : AccountType  // &lt;-- this is not a supported field type\n        get() = AccountType.valueOf(_type)\n        set(value) { _type = value.name }\n\nvar currency : CurrencyType // &lt;-- this is not a supported field type\n    get() = CurrencyType.valueOf(_currency)\n    set(value) { _currency = value.name }\n}\n</code></pre>\n\n<p>You need to mark unsupported \"helper\" fields with <code>@Ignore</code> annotation.</p>\n\n<pre><code>@field:Ignore\nvar type : AccountType  // &lt;-- this is not a supported field type\n    get() = AccountType.valueOf(_type)\n    set(value) { _type = value.name }\n\n@field:Ignore\nvar currency : CurrencyType // &lt;-- this is not a supported field type\n    get() = CurrencyType.valueOf(_currency)\n    set(value) { _currency = value.name }\n}\n</code></pre>\n"}], "owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 50351093, "answer_count": 1, "score": 2, "last_activity_date": 1526389770, "creation_date": 1526381838, "last_edit_date": 1526387795, "question_id": 50348469, "link": "https://stackoverflow.com/questions/50348469/realm-messes-with-android-data-binding", "title": "Realm messes with Android data binding", "body": "<p>I have an app that builds OK but as soon as I make one of my classes Realm-aware by either @RealmClass/RealmModel or RealmObject I get a ton of errors like those below.</p>\n\n<p>Is this a bug or am I doing something wrong?</p>\n\n<p><code>\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AccountsmoduleBinding.java:49: error: cannot find symbol\n  protected AccountsmoduleBinding(DataBindingComponent _bindingComponent, View _root,\n                                  ^\n  symbol:   class DataBindingComponent\n  location: class AccountsmoduleBinding\nw: C:\\Dane.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jre7\\1.1.4-2\\272a21c30432c943d618008fbbd34762eb0d6c8a\\kotlin-stdlib-jre7-1.1.4-2.jar: kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AccountsmoduleBinding.java:79: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class AccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AccountsmoduleBinding.java:90: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AccountsmoduleBinding.java:101: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AllaccountsmoduleBinding.java:18: error: cannot find symbol\n  protected AllaccountsmoduleBinding(DataBindingComponent _bindingComponent, View _root,\n                                     ^\n  symbol:   class DataBindingComponent\n  location: class AllaccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AllaccountsmoduleBinding.java:38: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class AllaccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AllaccountsmoduleBinding.java:49: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AllaccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AllaccountsmoduleBinding.java:60: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AllaccountsmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AnotherfragmentLayoutBinding.java:22: error: cannot find symbol\n  protected AnotherfragmentLayoutBinding(DataBindingComponent _bindingComponent, View _root,\n                                         ^\n  symbol:   class DataBindingComponent\n  location: class AnotherfragmentLayoutBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AnotherfragmentLayoutBinding.java:43: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class AnotherfragmentLayoutBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AnotherfragmentLayoutBinding.java:54: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AnotherfragmentLayoutBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AnotherfragmentLayoutBinding.java:65: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AnotherfragmentLayoutBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AppactivationmoduleBinding.java:82: error: cannot find symbol\n  protected AppactivationmoduleBinding(DataBindingComponent _bindingComponent, View _root,\n                                       ^\n  symbol:   class DataBindingComponent\n  location: class AppactivationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AppactivationmoduleBinding.java:126: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class AppactivationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AppactivationmoduleBinding.java:137: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AppactivationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\AppactivationmoduleBinding.java:148: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class AppactivationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\BiometryloginmoduleBinding.java:62: error: cannot find symbol\n  protected BiometryloginmoduleBinding(DataBindingComponent _bindingComponent, View _root,\n                                       ^\n  symbol:   class DataBindingComponent\n  location: class BiometryloginmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\BiometryloginmoduleBinding.java:97: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class BiometryloginmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\BiometryloginmoduleBinding.java:108: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class BiometryloginmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\BiometryloginmoduleBinding.java:119: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class BiometryloginmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\ConfirmationmoduleBinding.java:41: error: cannot find symbol\n  protected ConfirmationmoduleBinding(DataBindingComponent _bindingComponent, View _root,\n                                      ^\n  symbol:   class DataBindingComponent\n  location: class ConfirmationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\ConfirmationmoduleBinding.java:68: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class ConfirmationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\ConfirmationmoduleBinding.java:79: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class ConfirmationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\ConfirmationmoduleBinding.java:90: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class ConfirmationmoduleBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\DashboardmoduleaccountsfragmentBinding.java:30: error: cannot find symbol\n  protected DashboardmoduleaccountsfragmentBinding(DataBindingComponent _bindingComponent,\n                                                   ^\n  symbol:   class DataBindingComponent\n  location: class DashboardmoduleaccountsfragmentBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\DashboardmoduleaccountsfragmentBinding.java:54: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class DashboardmoduleaccountsfragmentBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\DashboardmoduleaccountsfragmentBinding.java:65: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class DashboardmoduleaccountsfragmentBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\DashboardmoduleaccountsfragmentBinding.java:76: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class DashboardmoduleaccountsfragmentBinding\ne: C:\\Dane\\Projekty\\Livecycle\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\dataBindingGenBaseClassesDebug\\out\\pl\\qus\\livecycle\\databinding\\DashboardmoduleBinding.java:30: error: cannot find symbol\n  protected DashboardmoduleBinding(DataBindingComponent _bindingComponent, View _root,</p>\n\n<p>CUT\n</code></p>\n\n<p>Gradle plugins:</p>\n\n<p><code>\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: \"kotlin-kapt\"\napply plugin: 'realm-android'\napply plugin: 'org.jetbrains.dokka-android'\n</code></p>\n\n<p>Data class:</p>\n\n<p><code>\n@RealmClass\nopen class AccountData (\n        @PrimaryKey @SerializedName(\"id\")\n        var _id : String = \"\",\n        var accountNumber: String = \"\",\n        @SerializedName(\"type\") var _type : String = \"\",\n        var name : String = \"\",\n        var availableFunds: Float = 0f,\n        var balance: Float = 0f,\n        @SerializedName(\"currency\") var _currency: String = \"\",\n        var ownerName : String = \"\",\n        var interestRate : Float = 0f,\n        var sortCode : String = \"\",\n        var iban : String = \"\",\n        var openingDate : String = \"\",\n        var overdraft : Float = 0f,\n        var lockedFunds : Float = 0f,\n        var creditLimit : Float = 0f,\n        var defaultName: String = \"\"\n) : RealmModel {\n    var type : AccountType\n        get() = AccountType.valueOf(_type)\n        set(value) { _type = value.name }</p>\n\n<pre><code>var currency : CurrencyType\n    get() = CurrencyType.valueOf(_currency)\n    set(value) { _currency = value.name }\n</code></pre>\n\n<p>}\n</code></p>\n"}, {"tags": ["java", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1526381353, "post_id": 50348297, "comment_id": 87712240, "body": "What is the error?  I ask, because reading through it might help to tip you off as to what is the problem."}], "answers": [{"comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1552643093, "post_id": 55165997, "comment_id": 97097238, "body": "I prefer your idea to implement a custom deserializer for LocalDateTime, as that would avoid having to deal with the outdated Date class."}], "tags": [], "owner": {"reputation": 502, "user_id": 6157844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZyUx.jpg?s=128&g=1", "display_name": "functionaldude", "link": "https://stackoverflow.com/users/6157844/functionaldude"}, "is_accepted": false, "score": 0, "last_activity_date": 1552576273, "creation_date": 1552576273, "answer_id": 55165997, "question_id": 50348297, "link": "https://stackoverflow.com/questions/50348297/parse-yyyy-mm-ddthhmmss-to-localdatetime-in-kotlin-by-using-annotation/55165997#55165997", "title": "Parse &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot; to LocalDateTime in Kotlin by using annotation", "body": "<p><code>LocalDateTime</code> has no <code>String</code> constructors. A possible workaround would be this:</p>\n\n<pre><code>class SearchREQ(\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    var departureDate: Date\n) {\n  val departureDateTime get() =  LocalDateTime.ofInstant(departureDate.toInstant(), TimeZone.getTimeZone(\"UTC\").toZoneId())!!\n}\n</code></pre>\n\n<p>You can also implement a custom deserializer for <code>LocalDateTime</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 9793613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huy Phan Nhat Khanh", "link": "https://stackoverflow.com/users/9793613/huy-phan-nhat-khanh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552576273, "creation_date": 1526381270, "last_edit_date": 1526382616, "question_id": 50348297, "link": "https://stackoverflow.com/questions/50348297/parse-yyyy-mm-ddthhmmss-to-localdatetime-in-kotlin-by-using-annotation", "title": "Parse &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot; to LocalDateTime in Kotlin by using annotation", "body": "<p>I want to parse String with template \"yyyy-MM-dd'T'HH:mm:ss\" to <code>LocalDateTime</code> by using Annotation.</p>\n\n<p>I tried to parse through below code but it throws me an error.\nWhat should I do for fixing this error?</p>\n\n<p>Code:</p>\n\n<pre><code>SearchREQ(\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    var departureDate: LocalDateTime,\n)\n</code></pre>\n\n<p>Error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Type definition error: [simple type, class java.time.LocalDateTime];\n nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\n  Cannot construct instance of java.time.LocalDateTime (no Creators,\n      like default construct, exist): no String-argument constructor/factory\n      method to deserialize from String value ('2018-08-20T06:00:00')\nat [Source: (PushbackInputStream); line: 5, column: 22]\n  (through reference chain: gtd.connector.model.req.SearchREQ[\\\"departureDate\\\"])\n</code></pre>\n\n<p>Thanks for your answer</p>\n"}, {"tags": ["collections", "kotlin"], "comments": [{"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "edited": false, "score": 0, "creation_date": 1526382585, "post_id": 50347817, "comment_id": 87713020, "body": "If you need a list of strings then you&#39;ve already created one via a <code>map</code> function"}, {"owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "reply_to_user": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "edited": false, "score": 0, "creation_date": 1526382984, "post_id": 50347817, "comment_id": 87713291, "body": "I want to exclude a property . For instance if User data class has 10 properties, I need to transform List&lt;User&gt; into a new List without one particular property in User . New List like List&lt;UserWithoutAge&gt;."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1528413623, "post_id": 50347817, "comment_id": 88510599, "body": "What do you mean by &quot;excluding a property&quot;? An instance will always point to all of its members, even if some are null. As other answers say, you either create another class or make this variable null. do you want to serialize this object? please clarify the use case you are trying to solve"}], "answers": [{"tags": [], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1526383653, "creation_date": 1526383653, "answer_id": 50349040, "question_id": 50347817, "link": "https://stackoverflow.com/questions/50347817/how-to-transform-a-custom-object-list-by-excluding-particular-property-in-kotlin/50349040#50349040", "title": "How to transform a Custom Object List by excluding particular property in Kotlin?", "body": "<p>In such a simple case you can map a list of Users into a list of strings:</p>\n\n<pre><code>val names: List&lt;String&gt; = userList.map(User::name)\n</code></pre>\n\n<p>Or you can declare a DTO and map into the latter:</p>\n\n<pre><code>class UserWithoutAge(val name: String)\n\nval usersWithoutAge: List&lt;UserWithoutAge&gt; = userList.map { UserWithoutAge(it.name) }\n</code></pre>\n\n<p>P.S. you don't have to write an explicit type</p>\n"}, {"tags": [], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "is_accepted": false, "score": 0, "last_activity_date": 1528265952, "creation_date": 1528265952, "answer_id": 50713386, "question_id": 50347817, "link": "https://stackoverflow.com/questions/50347817/how-to-transform-a-custom-object-list-by-excluding-particular-property-in-kotlin/50713386#50713386", "title": "How to transform a Custom Object List by excluding particular property in Kotlin?", "body": "<p>You can use the Object Oriented approach:</p>\n\n<pre><code>data class User(val name: String, val age: Int)\n\ndata class UserNoAge(var name: String) {\n    constructor(user: User) : this(user.name)\n}\n\nvar userList = listOf(User(\"John\", 25), User(\"Jane\", 30))\nvar userNoAge: List&lt;UserNoAge&gt; = mutableListOf&lt;UserNoAge&gt;()\n\nuserNoAge = userList.map{ UserNoAge(it) }\n\nprintln(userNoAge) // [UserNoAge(name=John), UserNoAge(name=Jane)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 3, "creation_date": 1528413321, "post_id": 50740664, "comment_id": 88510501, "body": "good answer! In your last example, I suggest using <code>val withoutAgeList = userList.map { it.copy(age = null) }</code> in order to preserve inmutability"}, {"owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "edited": false, "score": 0, "creation_date": 1528440452, "post_id": 50740664, "comment_id": 88517540, "body": "pdpi and crgarridos , this is what I was looking out for . Thank you ."}, {"owner": {"reputation": 3397, "user_id": 574826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvb1q.jpg?s=128&g=1", "display_name": "pdpi", "link": "https://stackoverflow.com/users/574826/pdpi"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1528454597, "post_id": 50740664, "comment_id": 88525108, "body": "@crgarridos What you describe would fit better in the second example. The third example was explicitly meant to be the &quot;you actually want this to be mutable&quot; case. Unusual, but certainly legitimate."}], "tags": [], "owner": {"reputation": 3397, "user_id": 574826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvb1q.jpg?s=128&g=1", "display_name": "pdpi", "link": "https://stackoverflow.com/users/574826/pdpi"}, "is_accepted": true, "score": 4, "last_activity_date": 1528455260, "last_edit_date": 1528455260, "creation_date": 1528372818, "answer_id": 50740664, "question_id": 50347817, "link": "https://stackoverflow.com/questions/50347817/how-to-transform-a-custom-object-list-by-excluding-particular-property-in-kotlin/50740664#50740664", "title": "How to transform a Custom Object List by excluding particular property in Kotlin?", "body": "<p>In your first example:</p>\n\n<pre><code>var userList = mutableListOf&lt;User&gt;()\nvar nameList= userList.map { it.name }\n</code></pre>\n\n<p>The question \"What's the type of <code>nameList</code>?\" has a simple answer: <code>List&lt;String&gt;</code>. So let me ask you a similar question: What's the type of <code>withoutAgeList</code>? The answer to that question informs the answer to <em>your</em> question.</p>\n\n<p>Perhaps a user without the age property is a separate <code>AgelessUser</code> class, meaning <code>withoutAgeList</code> is of type <code>List&lt;AgelessUser&gt;</code>. In that case, I suggest either a constructor or a factory function that builds <code>AgelessUser</code> from <code>User</code>, and you want one of these:</p>\n\n<pre><code>val withoutAgeList =  userList.map { AgelessUser(it) } // constructor\nval withoutAgeList =  userList.map { agelessUserOf(it) } // factory\n</code></pre>\n\n<p>Alternatively, maybe the <code>age</code> property in <code>User</code> is nullable and immutable, and you want to represent users without an age as a regular <code>User</code> where <code>age=null</code>. In this case, you could copy the Users and override the age field</p>\n\n<pre><code>// TODO: pass all the other fields too\nval withoutAgeList =  userList.map { User(it.name, null) } \n</code></pre>\n\n<p>Assuming <code>Users</code> is a <code>data class</code>, we can avoid explicitly naming all fields by making use of <code>copy()</code>:</p>\n\n<pre><code>val withoutAgeList =  userList.map { it.copy(age = null) } \n</code></pre>\n\n<p>Maybe the age property is nullable and mutable \u2014 and you actually want to change the users in place instead of copying them. This is somewhat risky and I don't advocate doing it this way unless you <em>really</em> know what you're doing though.</p>\n\n<pre><code>userList.forEach { it.age = null } \n// They're actually the same list!\nval withoutAgeList =  userList\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 50740664, "answer_count": 3, "score": 1, "last_activity_date": 1528455260, "creation_date": 1526379764, "last_edit_date": 1528261470, "question_id": 50347817, "link": "https://stackoverflow.com/questions/50347817/how-to-transform-a-custom-object-list-by-excluding-particular-property-in-kotlin", "title": "How to transform a Custom Object List by excluding particular property in Kotlin?", "body": "<p>How to transform a List into a new List by excluding a property in T. \nFor instance if User data class has 10 properties, I need to transform List into a new List without one particular property in User . New List like List\n    data class User(val name: String, val age: Int)</p>\n\n<pre><code>var userList = mutableListOf&lt;User&gt;()\n\nvar nameList= userList.map { it.name }\n</code></pre>\n\n<p>If a List to be created without property 'age'. Like</p>\n\n<pre><code>var withoutAgeList\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin", "spring-cloud"], "answers": [{"tags": [], "owner": {"reputation": 812, "user_id": 1321758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a39a8afe1e238a339d795483c3ec0a92?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1321758/stephan"}, "is_accepted": false, "score": 1, "last_activity_date": 1526379127, "creation_date": 1526379127, "answer_id": 50347613, "question_id": 50347550, "link": "https://stackoverflow.com/questions/50347550/how-set-up-retry-config-fetching-in-spring-boot/50347613#50347613", "title": "How set up retry config fetching in spring boot?", "body": "<p>You set <code>spring.cloud.config.fail-fast</code> to true. According to the docs this will halt your application with an exception and not retry connecting.</p>\n\n<p>Source: <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_client.html#config-client-fail-fast\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_client.html#config-client-fail-fast</a></p>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "is_accepted": true, "score": -2, "last_activity_date": 1526379974, "creation_date": 1526379974, "answer_id": 50347892, "question_id": 50347550, "link": "https://stackoverflow.com/questions/50347550/how-set-up-retry-config-fetching-in-spring-boot/50347892#50347892", "title": "How set up retry config fetching in spring boot?", "body": "<p>I solved my problem by adding next @Bean to context</p>\n\n<pre><code>@Bean\n    public RetryOperationsInterceptor configServerRetryInterceptor(RetryProperties properties) {\n        return RetryInterceptorBuilder\n                .stateless()\n                .backOffOptions(properties.getInitialInterval(),\n                        properties.getMultiplier(),\n                        properties.getMaxInterval())\n                .maxAttempts(properties.getMaxAttempts()).build();\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 854, "user_id": 1495261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e7f500a45a26bc13e7b9898c1ef4156?s=128&d=identicon&r=PG", "display_name": "Bashar Ali Labadi", "link": "https://stackoverflow.com/users/1495261/bashar-ali-labadi"}, "is_accepted": false, "score": 2, "last_activity_date": 1551548682, "creation_date": 1551548682, "answer_id": 54961272, "question_id": 50347550, "link": "https://stackoverflow.com/questions/50347550/how-set-up-retry-config-fetching-in-spring-boot/54961272#54961272", "title": "How set up retry config fetching in spring boot?", "body": "<p>based on the info in the question I think you are lacking the following dependencies from your class path:</p>\n\n<pre><code>        &lt;!-- for auto retry --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.2.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- for auto retry --&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 1599362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f719d2d2bb581321fb2da2485906e51?s=128&d=identicon&r=PG", "display_name": "Marnee", "link": "https://stackoverflow.com/users/1599362/marnee"}, "is_accepted": false, "score": 4, "last_activity_date": 1582741057, "creation_date": 1582741057, "answer_id": 60420142, "question_id": 50347550, "link": "https://stackoverflow.com/questions/50347550/how-set-up-retry-config-fetching-in-spring-boot/60420142#60420142", "title": "How set up retry config fetching in spring boot?", "body": "<p>The answer is a combination of the first two answers:</p>\n\n<ul>\n<li>You need to set <code>spring.cloud.config.fail-fast=true</code></li>\n<li>You also need to add <code>spring-retry</code> and <code>spring-boot-starter-aop</code> to your classpath.</li>\n</ul>\n\n<p>See the documentation <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_client.html#config-client-retry\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1803, "favorite_count": 0, "accepted_answer_id": 50347892, "answer_count": 4, "score": 2, "last_activity_date": 1582741057, "creation_date": 1526378953, "question_id": 50347550, "link": "https://stackoverflow.com/questions/50347550/how-set-up-retry-config-fetching-in-spring-boot", "title": "How set up retry config fetching in spring boot?", "body": "<p>I have config server and application fetches configs from this server. \nI want to set up retry mechanism of fetching. If config server is unavailable application shall sent requests for 10 minutes.</p>\n\n<p>In spring docs i found next configs</p>\n\n<pre><code>spring.cloud.config.uri=http://localhost:9090\nspring.cloud.config.fail-fast=true\nspring.cloud.config.retry.max-interval=10000\nspring.cloud.config.retry.max-attempts=2000\n</code></pre>\n\n<p>But they change nothing. My app doesn't do retry requests it just fails with</p>\n\n<pre><code>Caused by: java.net.ConnectException: Connection refused: connect \n</code></pre>\n\n<p>(Config server is down in that moment)</p>\n\n<p>What am i doing wrong? There is way solve my problem?</p>\n"}, {"tags": ["android", "kotlin", "blockingqueue", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1526487125, "post_id": 50374525, "comment_id": 87767419, "body": "I was suspecting something like that, thanks a lot for confirming, Roman."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 2, "last_activity_date": 1526483699, "creation_date": 1526483699, "answer_id": 50374525, "question_id": 50347499, "link": "https://stackoverflow.com/questions/50347499/coroutines-android-4-1-subsequent-launches-not-working-after-blocking-queue/50374525#50374525", "title": "Coroutines Android 4.1: subsequent launches not working after blocking queue", "body": "<p><code>ArrayBlockingQueue.take</code> operation is <em>blocking</em>. It blocks the invoker thread and does not allow it to be used for anything else. On \"small\" devices there might be just one background thread in the default thread pool and when you block this thread nothing else useful can happen. Coroutines are designed to work with non-blocking (asynchronous) APIs that do not block threads. </p>\n\n<p>With coroutines you should use <em>channels</em> which serve roughly the same purpose for coroutines as blocking queues serve for threads. Channels do not block the invoker thread, but <em>suspend</em> invoking coroutine, thus allowing to use the same thread for multiple running coroutines. </p>\n\n<p>You can find more information about channels in the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">Guide to kotlinx.coroutines by example</a>.</p>\n"}], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 50374525, "answer_count": 1, "score": 0, "last_activity_date": 1526483699, "creation_date": 1526378820, "question_id": 50347499, "link": "https://stackoverflow.com/questions/50347499/coroutines-android-4-1-subsequent-launches-not-working-after-blocking-queue", "title": "Coroutines Android 4.1: subsequent launches not working after blocking queue", "body": "<p>If I run a <code>launch</code> that blocks with a blocking queue inside, no other <code>launch</code> after that will run. This only happens on Android 4.1, other devices I tested with Android 6.0.1 and 7.0 work just fine. Here's an example:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val blockingQueue = ArrayBlockingQueue&lt;String&gt;(10)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        launch {\n            Log.d(javaClass.simpleName, \"TEST 1\")\n        }\n        launch {\n            blockingQueue.take().run {\n                Log.d(javaClass.simpleName, \"TEST 2\")\n            }\n        }\n        launch {\n            Log.d(javaClass.simpleName, \"TEST 3\")\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>05-15 12:09:39.707 4337-4361/org.testcoroutines D/StandaloneCoroutine: TEST 1\n</code></pre>\n\n<p><code>TEST 3</code> is never logged. However if I replace the \"blocking\" <code>launch</code> with <code>thread</code>, it works.</p>\n\n<p>If I unblock the queue by putting an element on it, the rest of the launches now do run.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    launch {\n        Log.d(javaClass.simpleName, \"TEST 1\")\n    }\n    launch {\n        blockingQueue.take().run {\n            Log.d(javaClass.simpleName, \"TEST 2 $this\")\n        }\n    }\n    launch {\n        Log.d(javaClass.simpleName, \"TEST 3\")\n    }\n    thread {\n        Thread.sleep(2000)\n        Log.d(javaClass.simpleName, \"TEST WAKE UP\")\n        blockingQueue.put(\"WAKE UP!\")\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>05-15 12:10:33.367 4471-4492/org.testcoroutines D/StandaloneCoroutine: TEST 1\n05-15 12:10:35.387 4471-4493/org.testcoroutines D/MainActivity: TEST WAKE UP\n05-15 12:10:35.387 4471-4492/org.testcoroutines D/String: TEST 2 WAKE UP!\n05-15 12:10:35.387 4471-4492/org.testcoroutines D/StandaloneCoroutine: TEST 3\n</code></pre>\n\n<p>Any ideas why this might be happening and how to fix it?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "edited": false, "score": 0, "creation_date": 1526379250, "post_id": 50347321, "comment_id": 87711019, "body": "Could you please update your question and tags to say if you are using Java or Kotlin please."}, {"owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "reply_to_user": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "edited": false, "score": 0, "creation_date": 1526379359, "post_id": 50347321, "comment_id": 87711084, "body": "@AnthonyCannon I have done that. Thanks"}, {"owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "edited": false, "score": 0, "creation_date": 1526379503, "post_id": 50347321, "comment_id": 87711169, "body": "Thanks, i&#39;ve converted my code to Kotlin."}, {"owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526393026, "post_id": 50347321, "comment_id": 87720460, "body": "Sorry, I am using a subclass of FrameLayout with an ImageView"}], "answers": [{"comments": [{"owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526379416, "post_id": 50347633, "comment_id": 87711117, "body": "Thanks for the answer. But how do I get the scale-factor pls?"}, {"owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "reply_to_user": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526379971, "post_id": 50347633, "comment_id": 87711447, "body": "It depends, could you update your question with your ImageView xml code please."}, {"owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526382441, "post_id": 50347633, "comment_id": 87712905, "body": "I am using a custom view to display the image. I tried using the aspect ratio (width /height) of the initial (unscaled) bitmap as the factor but it ain&#39;t working"}, {"owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "reply_to_user": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526384256, "post_id": 50347633, "comment_id": 87714133, "body": "Ok but I need to know how it is scaled when you say &quot;when displayed on a ImageView, it&#39;s scaled down&quot;.. How is it scaled?"}, {"owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "edited": false, "score": 0, "creation_date": 1526393173, "post_id": 50347633, "comment_id": 87720574, "body": "I am using a subclass of FrameLayout. I programmatically created the ImageView and added it as a child to the FrameLayout. So when I load the image into the ImageView with Glide, it is scaled down."}], "tags": [], "owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "is_accepted": false, "score": 0, "last_activity_date": 1526380093, "last_edit_date": 1526380093, "creation_date": 1526379205, "answer_id": 50347633, "question_id": 50347321, "link": "https://stackoverflow.com/questions/50347321/how-to-scale-up-or-scale-down-a-rect/50347633#50347633", "title": "How to scale-up or scale-down a Rect", "body": "<p>Ok so you could create a function for this:</p>\n\n<pre><code>private fun scale(rect: Rect, factor: Float) {\n    val diffHorizontal = (rect.right - rect.left) * (factor - 1f)\n    val diffVertical = (rect.bottom - rect.top) * (factor - 1f)\n\n    rect.top -= (diffVertical / 2f).toInt()\n    rect.bottom += (diffVertical / 2f).toInt()\n\n    rect.left -= (diffHorizontal / 2f).toInt()\n    rect.right += (diffHorizontal / 2f).toInt()\n}\n</code></pre>\n\n<p>This was an answer which I edited from <a href=\"https://stackoverflow.com/a/21779830/3625488\">Toon Borgers</a>.</p>\n"}], "owner": {"reputation": 3265, "user_id": 6181476, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VjSPp.jpg?s=128&g=1", "display_name": "X09", "link": "https://stackoverflow.com/users/6181476/x09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1526380093, "creation_date": 1526378311, "last_edit_date": 1526379327, "question_id": 50347321, "link": "https://stackoverflow.com/questions/50347321/how-to-scale-up-or-scale-down-a-rect", "title": "How to scale-up or scale-down a Rect", "body": "<p>I am getting an image from our backend. Along with the URL of the image comes the <strong>Rect</strong> coordinates of a particular point in the image. Now, the image is quite large so when displayed on a <strong>ImageView</strong>, it's scaled down. </p>\n\n<p>This is where the problem comes in, the Rect coordinates sent from the backend, does not plot to the same position on the image.</p>\n\n<p>Please is there anyway, I can scale down or even scale up a Rect coordinates?</p>\n\n<p>I have seen answers like <a href=\"https://stackoverflow.com/questions/11350267/how-to-scale-a-rect-in-android\">this</a> but it appears not to have a solution to the problem.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526378624, "post_id": 50346954, "comment_id": 87710617, "body": "how to deal with upper bound  but can use as java code?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526377892, "post_id": 50347071, "comment_id": 87710113, "body": "but if I use in, I make a new class LoginView : MvpView, the LoginView is not include in MvpView"}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526378102, "post_id": 50347071, "comment_id": 87710259, "body": "@user3163839 I realised that was wrong and edited. Did you not see it?"}, {"owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526378201, "post_id": 50347071, "comment_id": 87710331, "body": "Thanks a lot, I will try again"}, {"owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526378645, "post_id": 50347071, "comment_id": 87710630, "body": "I am sorry ,I mean how to deal with upper bound but can use as java code?"}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526378717, "post_id": 50347071, "comment_id": 87710672, "body": "@user3163839 can it not be used as Java code with my solution? What error does it produce?"}, {"owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "edited": false, "score": 0, "creation_date": 1526379668, "post_id": 50347071, "comment_id": 87711275, "body": "class BaseActivity&lt;P : BasePresenter&lt;*, *&gt;&gt; : AppCompatActivity()"}], "tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": false, "score": 0, "last_activity_date": 1526378275, "last_edit_date": 1526378275, "creation_date": 1526377603, "answer_id": 50347071, "question_id": 50346954, "link": "https://stackoverflow.com/questions/50346954/how-to-deal-with-the-generic-in-kotlin-from-java-code/50347071#50347071", "title": "how to deal with the Generic in Kotlin from java code", "body": "<p>You use <code>&lt;V: MvpView&gt;</code>!</p>\n\n<p>Also change the declaration of <code>attachView</code> to:</p>\n\n<pre><code>fun attachView(view: V)\n</code></pre>\n\n<p>That's defining an upper bound for the generic type <code>V</code>.</p>\n\n<blockquote>\n  <p>So How can I deal with ? extend T in kotlin???</p>\n</blockquote>\n\n<p>That seems to be somewhat unrelated because you are now talking about generic wildcards. In kotlin, <code>&lt;? extends MvpView&gt;</code> would be <code>&lt;out MvpView&gt;</code></p>\n"}], "owner": {"reputation": 31, "user_id": 3163839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114d1f150e67023ae7cf40cb308fe09b?s=128&d=identicon&r=PG&f=1", "display_name": "user3163839", "link": "https://stackoverflow.com/users/3163839/user3163839"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526378275, "creation_date": 1526377223, "question_id": 50346954, "link": "https://stackoverflow.com/questions/50346954/how-to-deal-with-the-generic-in-kotlin-from-java-code", "title": "how to deal with the Generic in Kotlin from java code", "body": "<p>code in java:</p>\n\n<pre><code>public interface MvpPresenter&lt;V extends MvpView&gt; {\n  public void attachView(V view);\n  public void detachView(boolean retainInstance);\n}\n</code></pre>\n\n<p>when I write in kotlin:</p>\n\n<pre><code>interface MvpPresenter&lt;out MvpView&gt; {\n    fun attachView(view: MvpView)\n    fun detachView(retainInstance: Boolean)\n}\n</code></pre>\n\n<p><strong>fun attachView(view: V)</strong> compile error!<br>\nSo How can I deal with <strong>? extend T</strong> in kotlin???</p>\n"}, {"tags": ["kotlin", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1526372872, "creation_date": 1526372872, "answer_id": 50345616, "question_id": 50345057, "link": "https://stackoverflow.com/questions/50345057/annotation-class-does-not-validate-input-as-enum-in-kotlin/50345616#50345616", "title": "Annotation class does not validate input as enum in Kotlin", "body": "<p>From <a href=\"https://discuss.kotlinlang.org/t/intdef-and-stringdef-not-being-checked-at-compile-time/7029\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/intdef-and-stringdef-not-being-checked-at-compile-time/7029</a>:</p>\n\n<blockquote>\n  <p>This checking doesn\u2019t come from the compiler, but from Android lint. Work to make android lint language independent is being done, but if I\u2019m not mistaken you\u2019ll need a newer version of Android Studio for it.</p>\n</blockquote>\n\n<p>And <a href=\"https://android-developers.googleblog.com/2018/03/android-studio-3-1.html\" rel=\"nofollow noreferrer\">Android Studio 3.1 blog post</a> mentions lint checks for Kotlin as a feature (though it doesn't say whether this check specifically is supported).</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 5424676, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203531352723737/picture?type=large", "display_name": "Omar Beshary", "link": "https://stackoverflow.com/users/5424676/omar-beshary"}, "edited": false, "score": 1, "creation_date": 1615300414, "post_id": 50345637, "comment_id": 117644500, "body": "it doesn&#39;t event show the lint warning"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1526372982, "creation_date": 1526372982, "answer_id": 50345637, "question_id": 50345057, "link": "https://stackoverflow.com/questions/50345057/annotation-class-does-not-validate-input-as-enum-in-kotlin/50345637#50345637", "title": "Annotation class does not validate input as enum in Kotlin", "body": "<p>The <code>@IntDef</code> annotation is part of the Android framework. The compiler is not aware of any specific semantics of this annotation, and is not able to use it for checking the exhaustiveness of <code>when</code> statements.</p>\n\n<p>Moreover, even with the annotation, you can call <code>handleFragment(5)</code>. Such code will not be a compiler error, it will only be reported as a lint warning.</p>\n"}], "owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1526372982, "creation_date": 1526370913, "question_id": 50345057, "link": "https://stackoverflow.com/questions/50345057/annotation-class-does-not-validate-input-as-enum-in-kotlin", "title": "Annotation class does not validate input as enum in Kotlin", "body": "<p>I'd like to create annotation instead of enum use it for <strong>when</strong> statement</p>\n\n<pre><code>@Retention(AnnotationRetention.SOURCE)\n@IntDef(SELECT.toLong(), WEAR.toLong(), BAND.toLong())\nannotation class CurrentState\n\ncompanion object {\n    const val SELECT = 0\n    const val WEAR = 1\n    const val BAND = 2\n} \n\nprivate fun handleFragment(@CurrentState state:Int) {\n    val fragment:Fragment =\n    when(state){\n        SELECT -&gt; SelectDeviceFragment.newInstance()\n        WEAR -&gt; ConnectWatchFragment.newInstance()\n        BAND -&gt; SelectDeviceFragment.newInstance()\n    }\n</code></pre>\n\n<p>From my understanding, this code should prevent me from performing following code:</p>\n\n<pre><code>handleFragment(5)\n</code></pre>\n\n<p>and when statement should not ask me to add <strong>else</strong> statement, as expected from enum\nWhat I'm doing wrong or misunderstand?</p>\n"}, {"tags": ["mongodb", "gradle", "kotlin", "spring-data", "querydsl"], "owner": {"reputation": 21, "user_id": 8234708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209573755800928/picture?type=large", "display_name": "Geeta Desai", "link": "https://stackoverflow.com/users/8234708/geeta-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1526371139, "creation_date": 1526370845, "last_edit_date": 1526371139, "question_id": 50345037, "link": "https://stackoverflow.com/questions/50345037/spring-boot-2-mongo-querydsl-with-kotlin-on-gradle-not-generating-meta-data-clas", "title": "spring boot 2 mongo querydsl with kotlin on gradle not generating meta data classes", "body": "<p>I am using Spring boot 2,Mongo db  with Kotlin and query dsl. I am not able to generate metadata classes.\n    My build.gradle file  has content </p>\n\n<pre><code> dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n              classpath \"gradle.plugin.com.ewerk.gradle.plugins:querydsl-plugin:1.0.7\"\n\n        classpath 'io.spring.gradle:dependency-management-plugin:1.0.0.RELEASE'\n\n    }\n\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: \"com.ewerk.gradle.plugins.querydsl\"\n\ncompile('org.springframework.boot:spring-boot-starter-data-mongodb')\ncompile('com.querydsl:querydsl-apt:4.1.4')\ncompile \"com.querydsl:querydsl-mongodb:4.1.4\"\n</code></pre>\n\n<p>I have entity annotated with @Document. But still Q class is not generated</p>\n\n<p>Is there any other configuration needed to be done.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "is_accepted": false, "score": 5, "last_activity_date": 1526405956, "last_edit_date": 1526405956, "creation_date": 1526374471, "answer_id": 50346049, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead/50346049#50346049", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<p>After reading <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">Kotlin Gradle Script</a> Topic \nI find out that some ponits</p>\n\n<blockquote>\n  <p>If you're targeting JDK 7 or JDK 8, you can use extended versions of the Kotlin standard library which contain additional extension functions for APIs added in new JDK versions. Instead of kotlin-stdlib, use one of the following dependencies:</p>\n  \n  <p>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7\"<br>\n  compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"</p>\n</blockquote>\n\n<p>I used implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\" in my project. I think it's because of compileOptions set in build.graddle</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 12, "creation_date": 1535645665, "post_id": 50446916, "comment_id": 91153654, "body": "Why not <b>org.jetbrains.kotlin:kotlin-stdlib-jdk8</b>?"}, {"owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "edited": false, "score": 0, "creation_date": 1554668556, "post_id": 50446916, "comment_id": 97826358, "body": "You saved my week. Thank you!"}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1588850982, "post_id": 50446916, "comment_id": 109061804, "body": "@IgorGanapolsky Would you like to answer your comment. Thanks in Advance"}], "tags": [], "owner": {"reputation": 1549, "user_id": 5332645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86af8e78c7518951a404778830580f4a?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Saxena", "link": "https://stackoverflow.com/users/5332645/aman-saxena"}, "is_accepted": true, "score": 90, "last_activity_date": 1526899325, "last_edit_date": 1526899325, "creation_date": 1526898669, "answer_id": 50446916, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead/50446916#50446916", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<p>Go to <strong>Tools > Kotlin > Configure Kotlin Plugin Updates</strong> and check for updates\nthen in your app gradle file replace <strong>jre</strong> with <strong>jdk</strong> </p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1715, "user_id": 910095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e96728ed86fffbb7960da7fe34cd47?s=128&d=identicon&r=PG", "display_name": "Nikola Mihajlovi\u0107", "link": "https://stackoverflow.com/users/910095/nikola-mihajlovi%c4%87"}, "is_accepted": false, "score": 9, "last_activity_date": 1527553139, "creation_date": 1527553139, "answer_id": 50574751, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead/50574751#50574751", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<p>Something is transitively importing those libraries. Run Gradle task <code>dependencies</code> to figure out what. </p>\n\n<p>In my case, it was <code>io.vertx:vertx-lang-kotlin-coroutines:3.5.1</code>. </p>\n\n<p>If there is no update for the dependency, there is not much you can do about it</p>\n"}, {"comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 2, "creation_date": 1547540399, "post_id": 52585894, "comment_id": 95216877, "body": "I am using <code>jdk8</code> and latest kotlin version ie. <code>1.3.11</code> but still the warning shows .. jre7 is deprecated.. P.S my android studio version is <code>3.3.0</code>"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 1, "creation_date": 1547612659, "post_id": 52585894, "comment_id": 95246852, "body": "@SantanuSur I am not sure. Perhaps, check if any of your dependency is using that version?"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1547617339, "post_id": 52585894, "comment_id": 95247996, "body": "Yes I am using some open source libs..might be one of&#39;em"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1547618417, "post_id": 52585894, "comment_id": 95248339, "body": "@SantanuSur You can check if there is some update from your libraries."}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 32, "last_activity_date": 1548320191, "last_edit_date": 1548320191, "creation_date": 1538376621, "answer_id": 52585894, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead/52585894#52585894", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<h1>Important Update</h1>\n\n<h3>Must check JDK version before setting config</h3>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"noreferrer\">Kotlin gradle config</a> page has detailed information about this. </p>\n\n<p>First of all check your kotlin version in gradle file. </p>\n\n<blockquote>\n  <h2>if (<code>kotlin_version == '1.2.x'</code> ) (Use <code>jdk</code> NOT <code>jre</code>)</h2>\n</blockquote>\n\n<p>First check your jdk version in <strong>File > Project Structure</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/e0bNp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/e0bNp.png\" alt=\"sc\"></a></p>\n\n<p>Or check in <code>build.gradle</code></p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p><strong>if (jdk_version == 1.8)</strong></p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n</code></pre>\n\n<p><strong>if (jdk_version == 1.7)</strong></p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p><strong>if (jdk_version is &lt; 1.7)</strong></p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p><strong>else if(NO jdk version is set in Project Structure)</strong></p>\n\n<pre><code>if(Android_Studio_Version &lt; 2.2.1){\n   your_jdk_version = 1.7;\n}\nelse {\n   your_jdk_version = 1.8;\n}\n</code></pre>\n\n<p><strong>Because Android Studio is bundled with jdk 1.8 <a href=\"https://developer.android.com/studio/releases/\" rel=\"noreferrer\">since 2.2.1 version</a>.</strong></p>\n\n<blockquote>\n  <h2>2. else if ( <code>kotlin_version == '1.1.x'</code>) (Use jre NOT jdk)</h2>\n</blockquote>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\" // or jre8\n</code></pre>\n\n<h3>Update Kotlin Version?</h3>\n\n<p>You can update Kotlin version from <strong>Tools > Kotlin > Configure Kotlin Updates</strong></p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 8185392, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-22oN4Apkd9Q/AAAAAAAAAAI/AAAAAAAAAQ8/jDLjkjsVKmA/photo.jpg?sz=128", "display_name": "samet kaya", "link": "https://stackoverflow.com/users/8185392/samet-kaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1543266574, "creation_date": 1543266574, "answer_id": 53489107, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead/53489107#53489107", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<p>You must swap the codes below:</p>\n\n<pre><code>     implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>Not jre > jdk</p>\n\n<pre><code>     implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29889, "favorite_count": 6, "accepted_answer_id": 50446916, "answer_count": 5, "score": 55, "last_activity_date": 1548320191, "creation_date": 1526369446, "last_edit_date": 1526369913, "question_id": 50344635, "link": "https://stackoverflow.com/questions/50344635/kotlin-stdlib-jre7-is-deprecated-please-use-kotlin-stdlib-jdk7-instead", "title": "kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead", "body": "<p>Yesterday I updated Android Studio Version and Kotlin plugin version.</p>\n\n<p>Android Studio Version: 3.1.2</p>\n\n<p>Kotlin Version: 1.2.41</p>\n\n<p>When I create an Android project using this configuration, I get Kotlin Compiler warning saying</p>\n\n<blockquote>\n  <p>w: /home/ganeshtikone/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jre7/1.2.41/9e7a6f582de73d9cdc6c56ef4e23604a0ee55768/kotlin-stdlib-jre7-1.2.41.jar: kotlin-stdlib-jre7 is deprecated. Please use kotlin-stdlib-jdk7 instead</p>\n</blockquote>\n\n<p>Changed as per suggestion, then I am getting following error</p>\n\n<blockquote>\n  <p>Unexpected inputs: ImmutableJarInput{name=org.jetbrains.kotlin:kotlin-stdlib-jre7:1.2.41, file=/home/ganeshtikone/Workspace/May-2018/fhs/app/build/intermediates/transforms/desugar/stage/debug/45.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}</p>\n</blockquote>\n"}, {"tags": ["android", "tabs", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "is_accepted": true, "score": 1, "last_activity_date": 1526379701, "creation_date": 1526379701, "answer_id": 50347794, "question_id": 50344363, "link": "https://stackoverflow.com/questions/50344363/kotlin-android-studio-tablayout/50347794#50347794", "title": "kotlin Android studio tablayout", "body": "<ol>\n<li>You could create a custom layout for your action bar that lets you control how the icon will look. However due to the millions of problems that you will encounter doing that, can I suggest you move from using <code>ActionBar</code> to its successor, the <code>Toolbar</code>, introduced in API 21, which you should be using:</li>\n</ol>\n\n<p><a href=\"https://guides.codepath.com/android/Using-the-App-ToolBar\" rel=\"nofollow noreferrer\">https://guides.codepath.com/android/Using-the-App-ToolBar</a></p>\n\n<p>You can easily introduced a fully customizable Toolbar within your <code>CoordinatorLayout</code>, and do cool things thanks to the design library.</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@android:color/background_light\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:contentInsetStart=\"0dp\"&gt;\n\n        &lt;FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:src=\"@drawable/qpon_drawable\"\n                android:layout_margin=\"20dp\"\n                android:layout_gravity=\"center\"/&gt;\n        &lt;/FrameLayout&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n    &lt;android.support.design.widget.TabLayout\n        android:id=\"@+id/tabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:tabIndicatorColor=\"@android:color/transparent\"\n        app:tabIndicatorHeight=\"0dp\"\n        app:tabPaddingStart=\"0dp\"\n        app:tabPaddingEnd=\"0dp\"\n        app:tabGravity=\"fill\"\n        app:tabMode=\"fixed\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dzpe4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dzpe4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can add any margins I want, and taking the <code>app:contentInsetStart=\"0dp\"</code> it has no start padding. You can add the toolbar as a support action bar in your code:</p>\n\n<pre><code>    // Find the toolbar view inside the activity layout\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    // Sets the Toolbar to act as the ActionBar for this Activity window.\n    // Make sure the toolbar exists in the activity and is not null\n    setSupportActionBar(toolbar);\n</code></pre>\n\n<ol start=\"2\">\n<li>I had the same problem of a border when I set the background color of the <code>AppBarLayout</code> as transparent: </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/c7LQu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7LQu.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I set the <code>AppBarLayout's</code> background to the same colour as the background, it seems to draw over the edges and the border disappears. Bear in mind that it automatically gives it a shadow in the bottom since it is above the content of the <code>Viewpager</code>:</p>\n\n<pre><code> &lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    &lt;!-- This is what you want to change !--&gt;\n    android:background=\"@android:color/background_light\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dzpe4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dzpe4.png\" alt=\"enter image description here\"></a></p>\n\n<p>No more border edges on the side. I don't quite know why it does that, it seems to be like it is a card layout in its natural form if you don't color over it.</p>\n\n<p>Hope it helps. No matter your reasoning, do try to change to the Toolbar I think that is the only right answer!</p>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 1, "accepted_answer_id": 50347794, "answer_count": 1, "score": 0, "last_activity_date": 1526379701, "creation_date": 1526368538, "last_edit_date": 1526370190, "question_id": 50344363, "link": "https://stackoverflow.com/questions/50344363/kotlin-android-studio-tablayout", "title": "kotlin Android studio tablayout", "body": "<ul>\n<li>Question 1) How to delete the border line of the tablayout?  </li>\n<li>Question 2) How to set the padding for the action bar icon?</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/O6MWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6MWU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here with the code in activity_main.xml:</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/bg2\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorTransparent\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n        &lt;android.support.design.widget.TabLayout\n            android:id=\"@+id/tabs\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:tabIndicatorColor=\"@android:color/transparent\"\n            app:tabIndicatorHeight=\"0dp\"\n            app:tabPaddingStart=\"0dp\"\n            app:tabPaddingEnd=\"0dp\"\n            app:tabGravity=\"fill\"\n            app:tabMode=\"fixed\" /&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/viewpager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Here with the code I wrote in the Main_Activity.kt file:</p>\n\n<p>//Action Bar</p>\n\n<pre><code> val actionBar = supportActionBar\nactionBar!!.setDisplayShowHomeEnabled(true)\n\nactionBar.setBackgroundDrawable(ColorDrawable(Color.parseColor(\"#00FFFFFF\")))\nactionBar.setIcon(R.drawable.title)\nactionBar.setDisplayShowTitleEnabled(false)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-9.0-pie", "android-jetpack"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1526374128, "post_id": 50343634, "comment_id": 87707622, "body": "Correct package is android.support.design.widget.FloatingActionButton"}, {"owner": {"reputation": 7576, "user_id": 940217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/18c21ae53dfed1c48d36a77394357b4a?s=128&d=identicon&r=PG", "display_name": "Kyle Falconer", "link": "https://stackoverflow.com/users/940217/kyle-falconer"}, "reply_to_user": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1526389550, "post_id": 50343634, "comment_id": 87717819, "body": "With Android P and Jetpack, the Fab was moved to this package, that&#39;s the one I&#39;m trying to use. <a href=\"https://developer.android.com/reference/com/google/android/material/floatingactionbutton/FloatingActionButton.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/com/google/android/material/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1526643488, "post_id": 50343634, "comment_id": 87836219, "body": "@KyleFalconer Canary 15 is now available, check if the update can fix your problem :)"}, {"owner": {"reputation": 7576, "user_id": 940217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/18c21ae53dfed1c48d36a77394357b4a?s=128&d=identicon&r=PG", "display_name": "Kyle Falconer", "link": "https://stackoverflow.com/users/940217/kyle-falconer"}, "reply_to_user": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 2, "creation_date": 1526668589, "post_id": 50343634, "comment_id": 87850401, "body": "@PankajKumar Yup, still broken, but I did find another workaround for it (added &quot;edit 2&quot; to my question)."}, {"owner": {"reputation": 2999, "user_id": 599791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81697638d3d028f36d4ae143a84e508?s=128&d=identicon&r=PG&f=1", "display_name": "ChristophK", "link": "https://stackoverflow.com/users/599791/christophk"}, "edited": false, "score": 5, "creation_date": 1547630390, "post_id": 50343634, "comment_id": 95253262, "body": "This issue describes the bug: <a href=\"https://issuetracker.google.com/issues/115924750\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/115924750</a> Unfortunately, there is no solution or fix atm, so probably every one that is affected should star it."}, {"owner": {"reputation": 3095, "user_id": 1677594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a6d94e57c2383638cd30f8a7811144?s=128&d=identicon&r=PG", "display_name": "Guillaume Husta", "link": "https://stackoverflow.com/users/1677594/guillaume-husta"}, "edited": false, "score": 0, "creation_date": 1573247470, "post_id": 50343634, "comment_id": 103833634, "body": "I have the same problem when using Android Studio 3.5.2 / target API = 29 / AndroidX (library <code>com.google.android.material:material:1.0.0</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 2367, "user_id": 3100601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf267dc04bdbe5b7d8359e54e8fa8ea?s=128&d=identicon&r=PG&f=1", "display_name": "ror", "link": "https://stackoverflow.com/users/3100601/ror"}, "edited": false, "score": 2, "creation_date": 1559626813, "post_id": 51382320, "comment_id": 99469541, "body": "This also adds beautiful animation!"}, {"owner": {"reputation": 1964, "user_id": 5599807, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dba91f57278b366fbc32ac51197748db?s=128&d=identicon&r=PG&f=1", "display_name": "Siarhei", "link": "https://stackoverflow.com/users/5599807/siarhei"}, "edited": false, "score": 1, "creation_date": 1560770418, "post_id": 51382320, "comment_id": 99832320, "body": "hi, is there GONE and INVISIBLE methods?"}, {"owner": {"reputation": 389, "user_id": 8046317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gn6MA.jpg?s=128&g=1", "display_name": "Fisher", "link": "https://stackoverflow.com/users/8046317/fisher"}, "edited": false, "score": 0, "creation_date": 1564751452, "post_id": 51382320, "comment_id": 101144222, "body": "Using .show() can remove the warning, but there&#39;s one problem:  if the FAB has set,for example in XML, android:alpha=&quot;0.5&quot; for transparency, the transparency not working then. How to fix this problem?  Instead, I will prefer to use demoFab.visibility = View.VISIBLE if .show() can&#39;t work on android:alpha"}, {"owner": {"reputation": 2342, "user_id": 3605220, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/oszPW.jpg?s=128&g=1", "display_name": "devpelux", "link": "https://stackoverflow.com/users/3605220/devpelux"}, "edited": false, "score": 0, "creation_date": 1576444973, "post_id": 51382320, "comment_id": 104892333, "body": "methods show and hide are perfect for standard floating action buttons."}], "tags": [], "owner": {"reputation": 3125, "user_id": 9101721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jds4S.jpg?s=128&g=1", "display_name": "Akhila Madari", "link": "https://stackoverflow.com/users/9101721/akhila-madari"}, "is_accepted": true, "score": 271, "last_activity_date": 1571931039, "last_edit_date": 1571931039, "creation_date": 1531833216, "answer_id": 51382320, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/51382320#51382320", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>Using Method 1</p>\n\n<pre><code>demoFab.show(); // in place of visible\ndemoFab.hide(); // in place of Invisible suppress the warning/error for me.\n</code></pre>\n\n<p>and Method 2</p>\n\n<pre><code>@SuppressLint(\"RestrictedApi\") // also suppressed the warning\nprivate void setUp() {\n    ....\n}\n</code></pre>\n\n<p>update:</p>\n\n<p>Method 3:</p>\n\n<pre><code>demoFab.setVisibility(View.GONE);\ndemoFab.setVisibility(View.INVISIBLE);\ndemoFab.setVisibility(View.VISIBLE);\n</code></pre>\n\n<p>Method 4:</p>\n\n<pre><code>demoFab.visibility = View.GONE\ndemoFab.visibility = View.INVISIBLE\ndemoFab.visibility = View.VISIBLE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 550, "user_id": 3728258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b5582a2c2df3caa3bc6922291861991?s=128&d=identicon&r=PG&f=1", "display_name": "charlie", "link": "https://stackoverflow.com/users/3728258/charlie"}, "edited": false, "score": 5, "creation_date": 1540467193, "post_id": 51668222, "comment_id": 92881595, "body": "what about if i want to set visibility to GONE instead of INVISIBLE?"}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "reply_to_user": {"reputation": 550, "user_id": 3728258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b5582a2c2df3caa3bc6922291861991?s=128&d=identicon&r=PG&f=1", "display_name": "charlie", "link": "https://stackoverflow.com/users/3728258/charlie"}, "edited": false, "score": 1, "creation_date": 1579509565, "post_id": 51668222, "comment_id": 105776311, "body": "@charlie What difference do you expect between GONE and INVISIBLE from a floating action button? A fab usually lies above the rest of the layout so it doesn&#39;t take any space."}], "tags": [], "owner": {"reputation": 910, "user_id": 388320, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ceedf584c27af5404d26da61cc16a6a2?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/388320/andreas"}, "is_accepted": false, "score": 9, "last_activity_date": 1533284346, "creation_date": 1533284346, "answer_id": 51668222, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/51668222#51668222", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>Seems to work fine just to cast it to a view.</p>\n\n<p><code>(mFloatingActionButton as View).visibility = INVISIBLE</code></p>\n\n<p>Of course you need to remember that the visibility may affect other components, so you should probably use <code>show()</code> and <code>hide()</code> at the same time to make sure other components are notified of the change.</p>\n"}, {"comments": [{"owner": {"reputation": 1931, "user_id": 6129553, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-rNoopXvnQCU/AAAAAAAAAAI/AAAAAAAAABM/kMQK8D7Glxo/photo.jpg?sz=128", "display_name": "RileyManda", "link": "https://stackoverflow.com/users/6129553/rileymanda"}, "edited": false, "score": 0, "creation_date": 1552895312, "post_id": 52596649, "comment_id": 97168444, "body": "Yes it does.I was using a fragment in my example:setVisibility(View.GONE); does not always work in fragments especially when you have declared your views in a viewHolder that&#39;s in a separate class of its own and you are merely referencing from the Viewholder."}], "tags": [], "owner": {"reputation": 31, "user_id": 3021742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4825c598229b923bd2af0dd412324070?s=128&d=identicon&r=PG&f=1", "display_name": "vcdo", "link": "https://stackoverflow.com/users/3021742/vcdo"}, "is_accepted": false, "score": 3, "last_activity_date": 1538417685, "creation_date": 1538417685, "answer_id": 52596649, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/52596649#52596649", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>This also works:</p>\n\n<pre><code>findViewById(R.id.fab).setVisibility(View.GONE);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1082, "user_id": 633149, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/610b09a2a1c32bf58e7f9927c9d6bd28?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/633149/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1547645881, "creation_date": 1547645881, "answer_id": 54218292, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/54218292#54218292", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>For Kotlin I have an extension method</p>\n\n<pre><code>fun viewsVisibility(visibility: Int, vararg views: View) {\n    for (view in views) { view.visibility = visibility }\n}\n</code></pre>\n\n<p>Then in then in the code you can do the following</p>\n\n<pre><code>viewsVisibility(View.VISIBLE, demoFab) \nviewsVisibility(View.GONE, demoFab)\nviewsVisibility(View.INVISIBLE, demoFab, addFab, removeFab)\n</code></pre>\n\n<p>The error will be gone and this gives the flexibility for any visibility state along with taking in a list of views to handle. There are a lot of times I need to handle more than one view at a time as shown in the final example line.</p>\n"}, {"tags": [], "owner": {"reputation": 1931, "user_id": 6129553, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-rNoopXvnQCU/AAAAAAAAAAI/AAAAAAAAABM/kMQK8D7Glxo/photo.jpg?sz=128", "display_name": "RileyManda", "link": "https://stackoverflow.com/users/6129553/rileymanda"}, "is_accepted": false, "score": 6, "last_activity_date": 1557773371, "last_edit_date": 1557773371, "creation_date": 1548699896, "answer_id": 54408124, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/54408124#54408124", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>Use:</p>\n\n<pre><code> myButton.hide();\n myClearButton.hide();\n</code></pre>\n\n<p>A typical example would be:</p>\n\n<p>Hiding and showing buttons when user is typing or has focus on a EditText resource:</p>\n\n<p>check if user is typing or has focus:</p>\n\n<pre><code> mCommentField.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View view, boolean hasFocus) {\n            if (hasFocus) {\n                //user has focused\n                showBts();\n\n            } else {\n                //focus has stopped perform your desired action\n                hideButtons();\n            }\n        }\n\n\n    });\n</code></pre>\n\n<p>Hide and Show button methods:</p>\n\n<pre><code>private void hideButtons() {\n\n    mCommentButton.hide();\n    mClearButton.hide();\n}\n\nprivate void showBts() {\n\n    mCommentButton. show();\n    mClearButton.show();\n</code></pre>\n\n<p>And in your xml, set the buttons to invisible by default so that they only display/show when a user has focus or is typing:</p>\n\n<pre><code>android:visibility=\"invisible\"\n</code></pre>\n\n<p>Best practice:</p>\n\n<pre><code> android:visibility=\"Gone\"\n</code></pre>\n\n<p>Using visibility gone means your view is doesn't take up any space on your layout while \"invisible\" will take up unnecessary space on your layout</p>\n\n<p>In this example:My Views are in a ViewHolder and iam referencing the buttons from a a fragment with a recylerview</p>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 5645541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQcpL.jpg?s=128&g=1", "display_name": "Soumen Das", "link": "https://stackoverflow.com/users/5645541/soumen-das"}, "is_accepted": false, "score": 0, "last_activity_date": 1550217732, "creation_date": 1550217732, "answer_id": 54704886, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/54704886#54704886", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<pre><code>if(data){\n            fragmentPendingApprovalDetailsBinding.fabPendingList.show();\n        }else {\n            fragmentPendingApprovalDetailsBinding.fabPendingList.hide();\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 337, "user_id": 7923782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29c82a7e45fa59668e041540203639ec?s=128&d=identicon&r=PG&f=1", "display_name": "tanni tanna", "link": "https://stackoverflow.com/users/7923782/tanni-tanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1575616307, "creation_date": 1575616307, "answer_id": 59208499, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/59208499#59208499", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>For <code>com.google.android.material.floatingactionbutton.FloatingActionButton</code></p>\n\n<p>Visibility</p>\n\n<p>Use the show and hide methods to animate the visibility of a FloatingActionButton. The show animation grows the widget and fades it in, while the hide animation shrinks the widget and fades it out.</p>\n\n<p>Source: <a href=\"https://material.io/develop/android/components/floating-action-button/\" rel=\"nofollow noreferrer\">https://material.io/develop/android/components/floating-action-button/</a></p>\n\n<p>For <code>android.support.design.widget.FloatingActionButton</code>\nuse <code>setVisibility()</code> Method</p>\n"}, {"tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1594398182, "creation_date": 1594398182, "answer_id": 62838464, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s/62838464#62838464", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>For me above methods did not work so I created an extension function to make it work.</p>\n<pre><code>fun View.showView() {\n    this.visibility = View.VISIBLE\n}\n\nfun View.hideView() {\n    this.visibility = View.GONE\n}\n</code></pre>\n<p>now call like</p>\n<pre><code>binding.fabAdded.showView()\n</code></pre>\n"}], "owner": {"reputation": 7576, "user_id": 940217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/18c21ae53dfed1c48d36a77394357b4a?s=128&d=identicon&r=PG", "display_name": "Kyle Falconer", "link": "https://stackoverflow.com/users/940217/kyle-falconer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28008, "favorite_count": 12, "accepted_answer_id": 51382320, "answer_count": 8, "score": 147, "last_activity_date": 1595577683, "creation_date": 1526365812, "last_edit_date": 1595577683, "question_id": 50343634, "link": "https://stackoverflow.com/questions/50343634/android-p-visibilityawareimagebutton-setvisibility-can-only-be-called-from-the-s", "title": "Android P visibilityawareimagebutton.setVisibility can only be called from the same library group", "body": "<p>I'm trying to use the new Android P FloatingActionButton that's part of the <code>com.google.android.material.floatingactionbutton.FloatingActionButton</code> and I'm getting this warning:</p>\n<blockquote>\n<p>VisibilityAwareImageButton.setVisibility can only be called from the same library group (groupId=com.google.android.material)</p>\n</blockquote>\n<pre><code>import com.google.android.material.floatingactionbutton.FloatingActionButton\nimport android.view.View\n\nclass MainActivity : AppCompatActivity() {\n\n    lateinit var demoFab: FloatingActionButton\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        demoFab = findViewById(R.id.demoFab)\n        demoFab.visibility = View.VISIBLE  // the warning is here\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MH3mw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MH3mw.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried searching and the only search result is in regards to responding to UI visibility changes:</p>\n<p><a href=\"https://developer.android.com/training/system-ui/visibility\" rel=\"noreferrer\">Respond to UI visibility changes</a></p>\n<p>I tried exploring how I could to see if there was a <code>VISIBLE</code> int value in that <code>com.google.android.material</code> package and the only one I found was <code>com.google.android.material.floatingactionbutton.FloatingActionButton.VISIBLE</code>, but the warning still remains.</p>\n<h2>Top-level build.gradle</h2>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.0-alpha14'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath &quot;com.google.gms:oss-licenses:0.9.2&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url &quot;http://oss.sonatype.org/content/repositories/snapshots/&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<h2>Project-level build.gradle</h2>\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'com.google.gms.oss.licenses.plugin'\n\nandroid {\n    compileSdkVersion 'android-P'\n    defaultConfig {\n        applicationId &quot;com.codeforsanjose.maps.pacmap&quot;\n        minSdkVersion 21\n        targetSdkVersion 'P'\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    splits {\n        abi {\n            enable true\n            reset()\n            include 'arm64-v8a', 'armeabi', 'armeabi-v7a', 'mips', 'x86', 'x86_64'\n            universalApk false\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha2'\n\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:5.5.2'\n    //implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:6.1.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-locationlayer:0.5.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation:0.13.0'\n    implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.13.0'\n\n    implementation 'com.google.android.gms:play-services-oss-licenses:15.0.1'\n    implementation 'com.google.code.gson:gson:2.8.2'\n    implementation 'com.squareup.moshi:moshi:1.5.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-moshi:2.4.0'\n    implementation &quot;com.squareup.retrofit2:adapter-rxjava2:2.3.0&quot;\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    implementation 'io.reactivex.rxjava2:rxkotlin:2.2.0'\n}\n</code></pre>\n<h3>edit:</h3>\n<p>I should note that I'm using Android Studio version 3.2 canary 14. It seems there have been some reported bugs for this version, and I suspect this is one of them.</p>\n<h2>edit 2:</h2>\n<p>Issue still exists with Android Studio version 3.2 canary 15, but I found a workaround for it using <code>show()</code> and <code>hide()</code></p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    demoFab = findViewById(R.id.demoFab)\n    demoFab.show()    // this works and doesn't have the warning\n}\n</code></pre>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1526389917, "post_id": 50343592, "comment_id": 87718114, "body": "Try marking the functions in <code>object</code> modules with <code>@JvmStatic</code> and it should work"}, {"owner": {"reputation": 331, "user_id": 9101749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOrg3.png?s=128&g=1", "display_name": "Mumi", "link": "https://stackoverflow.com/users/9101749/mumi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1526442369, "post_id": 50343592, "comment_id": 87740696, "body": "It works, and I take a look at builded code. Dagger seems to create instance of object, then Dagger get null."}], "answers": [{"tags": [], "owner": {"reputation": 352, "user_id": 2180780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8102f442dfc5c21d3a1ceefff5b4578?s=128&d=identicon&r=PG", "display_name": "drruggeri", "link": "https://stackoverflow.com/users/2180780/drruggeri"}, "is_accepted": false, "score": 6, "last_activity_date": 1548441674, "creation_date": 1548441674, "answer_id": 54371131, "question_id": 50343592, "link": "https://stackoverflow.com/questions/50343592/dagger-intoset-not-work-in-kotlin-object/54371131#54371131", "title": "dagger @IntoSet not work in kotlin object?", "body": "<p>I ran into the same problem and this answer solved it for me.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43141740/dagger-2-multibindings-with-kotlin\">Dagger 2 multibindings with Kotlin</a></p>\n\n<p>In short, you need to use Set&lt;@JvmSuppressWildcards String> intead, because of the way that  kotlin handles type variance in generics.</p>\n"}], "owner": {"reputation": 331, "user_id": 9101749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOrg3.png?s=128&g=1", "display_name": "Mumi", "link": "https://stackoverflow.com/users/9101749/mumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548441674, "creation_date": 1526365595, "question_id": 50343592, "link": "https://stackoverflow.com/questions/50343592/dagger-intoset-not-work-in-kotlin-object", "title": "dagger @IntoSet not work in kotlin object?", "body": "<p>I used example in <a href=\"https://google.github.io/dagger/multibindings\" rel=\"nofollow noreferrer\">https://google.github.io/dagger/multibindings</a></p>\n\n<p>Module A</p>\n\n<pre><code>@Module\nobject MyModuleA {\n    @Provides\n    @IntoSet\n    fun provideOneString(): String {\n        return \"ABC\"\n    }\n}\n</code></pre>\n\n<p>Module B</p>\n\n<pre><code>@Module\nobject MyModuleB {\n    @Provides\n    @ElementsIntoSet\n    fun provideSomeStrings(): Set&lt;String&gt; {\n        return HashSet&lt;String&gt;(Arrays.asList(\"DEF\", \"GHI\"))\n    }\n}\n</code></pre>\n\n<p>component</p>\n\n<pre><code>@Component(modules = [ MyModuleA::class, MyModuleB::class])\ninterface MyComponent {\n    fun strings(): Set&lt;String&gt;\n}\n</code></pre>\n\n<p>test</p>\n\n<pre><code>@Test\nfun testMyComponent() {\n    val myComponent = DaggerMyComponent.builder().build()\n    println(\"${myComponent.strings()}\")\n}\n</code></pre>\n\n<p>It show error with MyModuleA must be set, but changing module from object to class is work fine.</p>\n\n<pre><code>@Module\nclass MyModuleA {\n    @Provides\n    @IntoSet\n    fun provideOneString(): String {\n        return \"ABC\"\n    }\n}\n\n@Module\nclass MyModuleB {\n    @Provides\n    @ElementsIntoSet\n    fun provideSomeStrings(): Set&lt;String&gt; {\n        return HashSet&lt;String&gt;(Arrays.asList(\"DEF\", \"GHI\"))\n    }\n}\n</code></pre>\n\n<p>@IntoSet annotation is not work in kotlin object?</p>\n"}, {"tags": ["android", "kotlin", "android-mediaplayer", "exoplayer", "exoplayer2.x"], "comments": [{"owner": {"reputation": 647, "user_id": 6193843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0420998b5ea04d752fe70cb3f82aa43d?s=128&d=identicon&r=PG&f=1", "display_name": "Link182", "link": "https://stackoverflow.com/users/6193843/link182"}, "edited": false, "score": 1, "creation_date": 1526366082, "post_id": 50342675, "comment_id": 87703201, "body": "The logic seems to be ok... maybe you missed some import? Can you show compile-time stack-trace?"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1544929254, "post_id": 50342675, "comment_id": 94447652, "body": "I have the full <b>ExoPlayer</b> library and am seeing the same issue. <code>implementation &#39;com.google.android.exoplayer:exoplayer:2.9.2&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2269, "user_id": 1167279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mmwxp.jpg?s=128&g=1", "display_name": "marcbaechinger", "link": "https://stackoverflow.com/users/1167279/marcbaechinger"}, "is_accepted": false, "score": 2, "last_activity_date": 1560931483, "last_edit_date": 1560931483, "creation_date": 1560930760, "answer_id": 56662643, "question_id": 50342675, "link": "https://stackoverflow.com/questions/50342675/exoplayer-view-not-able-to-find-player-prepare-function/56662643#56662643", "title": "Exoplayer View not able to find player.prepare() function", "body": "<p>The <code>prepare()</code> method is part of the <code>ExoPlayer</code> interface which extends the <code>Player</code> interface. </p>\n\n<p>The <code>PlayerView</code> only exposes the <code>Player</code> interface which does not have the prepare method. That's why you can't do <code>mExoPlayerView!!.player.prepare(mVideoSource)</code>.</p>\n\n<p>However, the <code>ExoPlayerFactory</code>, which you are using, does return a <code>SimpleExoPlayer</code> instance which does implement the <code>ExoPlayer</code> interface:</p>\n\n<pre><code>SimpleExoPlayer player = ExoPlayerFactory.newSimpleInstance(new DefaultRenderersFactory(context), trackSelector, loadControl);\nplayer.prepare(mediaSource);\n</code></pre>\n\n<p>Here are the class references of the <code>ExoPlayer</code> and <code>Player</code> interface, as well as the <code>SimpleExoPlayer</code>:</p>\n\n<p><a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/Player.html\" rel=\"nofollow noreferrer\">https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/Player.html</a>\n<a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ExoPlayer.html\" rel=\"nofollow noreferrer\">https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/ExoPlayer.html</a>\n<a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html\" rel=\"nofollow noreferrer\">https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html</a></p>\n"}], "owner": {"reputation": 415, "user_id": 5592881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79bf96cfcc7f45dcce832ec27b7fdd99?s=128&d=identicon&r=PG&f=1", "display_name": "Prince Kumar", "link": "https://stackoverflow.com/users/5592881/prince-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560931483, "creation_date": 1526360799, "last_edit_date": 1526363933, "question_id": 50342675, "link": "https://stackoverflow.com/questions/50342675/exoplayer-view-not-able-to-find-player-prepare-function", "title": "Exoplayer View not able to find player.prepare() function", "body": "<p>Currently I am facing a problem with the new version of <strong>Exoplayer</strong>. Below is the code used for player start. In getPlayerStart() I am  passing url link. In initExoPlayer() I am initializing my <strong>Exoplayer</strong> but in earlier version of <strong>Exoplayer</strong> I am facing this problem:</p>\n\n<h2>mExoPlayerView!!.player.prepare(mVideoSource):</h2>\n\n<p>Above function is showing not available </p>\n\n<pre><code>private fun getPlayerStart(urlLink: String) {\n        if (playerMode) {\n            val userAgent = Util.getUserAgent(context, context!!.getApplicationInfo().packageName)\n            val httpDataSourceFactory = DefaultHttpDataSourceFactory(userAgent, null, DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS, DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS, true)\n            val dataSourceFactory = DefaultDataSourceFactory(context, null, httpDataSourceFactory)\n            Log.i(\"Video\",urlLink)\n            val daUri = Uri.parse(urlLink)\n            val extractorsFactory = DefaultExtractorsFactory()\n            mVideoSource = ExtractorMediaSource(daUri, dataSourceFactory,\n                    extractorsFactory, null, null) as MediaSource?\n        }\n        initExoPlayer()\n\n    }\n\n\n private fun initExoPlayer() {\n        val bandwidthMeter = DefaultBandwidthMeter()\n        val videoTrackSelectionFactory = AdaptiveTrackSelection.Factory(bandwidthMeter)\n        val trackSelector = DefaultTrackSelector(videoTrackSelectionFactory)\n        val loadControl = DefaultLoadControl()\n        player = ExoPlayerFactory.newSimpleInstance(DefaultRenderersFactory(context), trackSelector, loadControl)\n        mExoPlayerView!!.player= this.player\n        player!!.addListener(this)\n\n        mExoPlayerView!!.player.prepare(mVideoSource)\n        mExoPlayerView!!.getPlayer().playWhenReady = true\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "edited": false, "score": 0, "creation_date": 1526357758, "post_id": 50341872, "comment_id": 87700351, "body": "Although now it seems that my output number is always 8194 no matter what number was entered so I don&#39;t know what&#39;s going on there."}, {"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "reply_to_user": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "edited": false, "score": 0, "creation_date": 1526401087, "post_id": 50341872, "comment_id": 87726074, "body": "That&#39;s because you&#39;re not reading the text, you&#39;re reading the <code>inputType</code> which is a constant. <code>var num = NumInput.inputType.toInt()</code>"}, {"owner": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "edited": false, "score": 0, "creation_date": 1526409794, "post_id": 50341872, "comment_id": 87730826, "body": "How to I get the text and have it be a Int?"}, {"owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "reply_to_user": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "edited": false, "score": 0, "creation_date": 1526414691, "post_id": 50341872, "comment_id": 87733288, "body": "<code>Integer.valueOf(str)</code>. And you may want to ask additional questions in separate posts, not in the comments section."}], "tags": [], "owner": {"reputation": 1749, "user_id": 291688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3d43d372b2c63e9ff0f0e23eb40288e?s=128&d=identicon&r=PG", "display_name": "Dennis K", "link": "https://stackoverflow.com/users/291688/dennis-k"}, "is_accepted": true, "score": 5, "last_activity_date": 1526354590, "creation_date": 1526354590, "answer_id": 50341872, "question_id": 50341748, "link": "https://stackoverflow.com/questions/50341748/setonclicklistener-not-working-android-kotlin/50341872#50341872", "title": "setOnClickListener not working android kotlin", "body": "<p>Your <code>solveBtn.setOnClickListener</code> is inside the <code>solver</code> function which is never called. Just put <code>setOnClickListener</code> call one curly brace lower.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "edited": false, "score": 0, "creation_date": 1526358190, "post_id": 50342023, "comment_id": 87700461, "body": "Thank you, I was so confused but I didn&#39;t catch that. I fixed the button but now I always get 8194 as the $num1 and I don&#39;t know why. If you happen to I would like to know, thank you again."}], "tags": [], "owner": {"reputation": 125, "user_id": 6224750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204455659991483/picture?type=large", "display_name": "babedev", "link": "https://stackoverflow.com/users/6224750/babedev"}, "is_accepted": false, "score": 1, "last_activity_date": 1526355921, "creation_date": 1526355921, "answer_id": 50342023, "question_id": 50341748, "link": "https://stackoverflow.com/questions/50341748/setonclicklistener-not-working-android-kotlin/50342023#50342023", "title": "setOnClickListener not working android kotlin", "body": "<p>You need to set up <code>setOnClickListener</code> outside <code>solver(..)</code></p>\n\n<pre><code>fun solver (num1 : Int) {\n    var div = 1\n    var count = 0\n    if ((num1 &gt; 0) &amp;&amp; (num1 &lt; 2)){\n        println(\"$num1 is a prime number!\")\n    } else{\n        while (div &lt; num1){\n            if ((num1 % div) == 0){\n                div++\n                count++\n            }else {\n                div++\n            }\n        }\n    }\n    if (count == 0) {\n        answer.text = \"$num1 is not a prime number\"\n    } else {\n        answer.text = \"$num1 is a prime number\"\n    }\n}\n\nsolveBtn.setOnClickListener{\n    println(\"Hello\")\n    answer.clearComposingText()\n    solver(num)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1527058972, "creation_date": 1527058972, "answer_id": 50481848, "question_id": 50341748, "link": "https://stackoverflow.com/questions/50341748/setonclicklistener-not-working-android-kotlin/50481848#50481848", "title": "setOnClickListener not working android kotlin", "body": "<p>Please use like this:</p>\n\n<pre><code> backArrow.setOnClickListener {\n            finish()\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "is_accepted": false, "score": 0, "last_activity_date": 1587313315, "creation_date": 1587313315, "answer_id": 61307708, "question_id": 50341748, "link": "https://stackoverflow.com/questions/50341748/setonclicklistener-not-working-android-kotlin/61307708#61307708", "title": "setOnClickListener not working android kotlin", "body": "<p>check the XML, sometimes when using <code>contraintLayout</code>, <code>android:enabled=\"false\"</code> is set to <code>false</code> by default, set it to <code>true</code> or remove it</p>\n"}], "owner": {"reputation": 3, "user_id": 9352964, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_gLjDHbYv-A/AAAAAAAAAAI/AAAAAAAAAFc/4VvVe4dsoiI/photo.jpg?sz=128", "display_name": "Matthew Gorena", "link": "https://stackoverflow.com/users/9352964/matthew-gorena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "accepted_answer_id": 50341872, "answer_count": 4, "score": 0, "last_activity_date": 1587313315, "creation_date": 1526353586, "last_edit_date": 1526370262, "question_id": 50341748, "link": "https://stackoverflow.com/questions/50341748/setonclicklistener-not-working-android-kotlin", "title": "setOnClickListener not working android kotlin", "body": "<p>I'm learning android and kotlin, and I'm building a practice app. When I run my code the button isn't working and i don't know why or what I'm doing wrong/forgot to add. Any help is appreciated!</p>\n\n<p>My xml code:</p>\n\n<pre><code> &lt;Button\n    android:id=\"@+id/solveBtn\"\n    android:layout_width=\"113dp\"\n    android:layout_height=\"65dp\"\n    android:layout_marginBottom=\"184dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:text=\"Solve\" \n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.501\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/NumInput\" /&gt;\n</code></pre>\n\n<p>and my kt code:\n    class MainActivity : AppCompatActivity() {</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var num = NumInput.inputType.toInt()\n    var answer = ansText\n\n    fun solver (num1 : Int) {\n        var div = 1\n        var count = 0\n        if ((num1 &gt; 0) &amp;&amp; (num1 &lt; 2)){\n            println(\"$num1 is a prime number!\")\n        } else{\n            while (div &lt; num1){\n                if ((num1 % div) == 0){\n                    div++\n                    count++\n                }else {\n                    div++\n                }\n            }\n        }\n        if (count == 0) {\n            answer.text = \"$num1 is not a prime number\"\n        } else {\n            answer.text = \"$num1 is a prime number\"\n        }\n\n    solveBtn.setOnClickListener{\n        println(\"Hello\")\n        answer.clearComposingText()\n        solver(num)\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Again thanks for any help!</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5769598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PotIiDsEUes/AAAAAAAAAAI/AAAAAAAAABM/maF-IYOE4eo/photo.jpg?sz=128", "display_name": "shisaq", "link": "https://stackoverflow.com/users/5769598/shisaq"}, "edited": false, "score": 0, "creation_date": 1526349340, "post_id": 50341140, "comment_id": 87698656, "body": "Thanks for the quick reply!  I&#39;m still confused about this:  (Int) -&gt; Unit describes a function that takes an Int and returns Unit (void).  But when I try to use <code>repeat(3, {anotherFunction()})</code>, it seems <code>anotherFunction()</code> is not taking any <code>Int</code> parameters?"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 43, "user_id": 5769598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PotIiDsEUes/AAAAAAAAAAI/AAAAAAAAABM/maF-IYOE4eo/photo.jpg?sz=128", "display_name": "shisaq", "link": "https://stackoverflow.com/users/5769598/shisaq"}, "edited": false, "score": 0, "creation_date": 1526371749, "post_id": 50341140, "comment_id": 87706239, "body": "@shisaq I&#39;ll write your function call more explicitly: <code>repeat(3, { it: Int -&gt; anotherFunction()})</code> You call a function from a lambda. You have the Int parameter available but you never use it."}, {"owner": {"reputation": 43, "user_id": 5769598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PotIiDsEUes/AAAAAAAAAAI/AAAAAAAAABM/maF-IYOE4eo/photo.jpg?sz=128", "display_name": "shisaq", "link": "https://stackoverflow.com/users/5769598/shisaq"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1526391744, "post_id": 50341140, "comment_id": 87719509, "body": "@EugenPechanec Thanks! This helped me a lot! I got the proper syntax and have known how to pass the parameter to <code>anotherFunction</code>: <code>repeat(3, { it: Int -&gt; anotherFunction(it)})</code>. The reason I made the mistake is that I&#39;m not familiar with lambda."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1526349377, "last_edit_date": 1526349377, "creation_date": 1526348335, "answer_id": 50341140, "question_id": 50341113, "link": "https://stackoverflow.com/questions/50341113/kotlin-use-action-parameter-in-repeat-function/50341140#50341140", "title": "Kotlin - use action parameter in repeat function", "body": "<blockquote>\n  <p>what is (Int) -> Unit and how to use the action parameter properly?</p>\n</blockquote>\n\n<p><code>(Int) -&gt; Unit</code> describes a function that takes an <code>Int</code> and returns <code>Unit</code> (void). In order to call it as-is, you can do it like this:</p>\n\n<pre><code>repeat(3, {anotherFunction()})\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>repeat(3) {\n    anotherFunction()\n}\n</code></pre>\n\n<p>However, the number of iterations that will happen is not available, but you could define your own by borrowing from the one in the standard library...</p>\n\n<pre><code>public inline fun repeat(times: Int, action: (Int, Int) -&gt; Unit) {\n    for (index in 0 until times) {\n        action(times, index)\n    }\n}\n</code></pre>\n\n<p>And then you can use it like this:</p>\n\n<pre><code>repeat(3) { times, i -&gt;\n    println(\"Called $i/$times\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 1, "last_activity_date": 1526371282, "creation_date": 1526371282, "answer_id": 50345169, "question_id": 50341113, "link": "https://stackoverflow.com/questions/50341113/kotlin-use-action-parameter-in-repeat-function/50345169#50345169", "title": "Kotlin - use action parameter in repeat function", "body": "<blockquote>\n  <p>I know I have got the syntax error. so my question is: what is (Int)\n  -> Unit and how to use the action parameter properly?</p>\n</blockquote>\n\n<pre><code>repeat(3) {\n    println(\"This will print 3 times, $it cycle number\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1548167025, "creation_date": 1548167025, "answer_id": 54310349, "question_id": 50341113, "link": "https://stackoverflow.com/questions/50341113/kotlin-use-action-parameter-in-repeat-function/54310349#54310349", "title": "Kotlin - use action parameter in repeat function", "body": "<p>If you need the overall number of iterations within the lambda, you can declare a variable (<code>val</code>) outside of it beforehand as well:</p>\n\n<pre><code>val i = 3\nrepeat(i) {\n    println(\"iteration $it of $i\")\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5769598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PotIiDsEUes/AAAAAAAAAAI/AAAAAAAAABM/maF-IYOE4eo/photo.jpg?sz=128", "display_name": "shisaq", "link": "https://stackoverflow.com/users/5769598/shisaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 50341140, "answer_count": 3, "score": 1, "last_activity_date": 1548167025, "creation_date": 1526348034, "question_id": 50341113, "link": "https://stackoverflow.com/questions/50341113/kotlin-use-action-parameter-in-repeat-function", "title": "Kotlin - use action parameter in repeat function", "body": "<p>I know how to pass times as the first parameter of <code>repeat</code> function:</p>\n\n<pre><code>repeat(3) {\n  println(\"This will print 3 times\")\n}\n</code></pre>\n\n<p>But I checked Kotlin documentation, it shows there's another parameter <code>action</code> to use(see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/repeat.html\" rel=\"nofollow noreferrer\">kotlin doc</a>): </p>\n\n<pre><code>inline fun repeat(times: Int, action: (Int) -&gt; Unit)\n</code></pre>\n\n<p>I tried this code but failed with the error <em>Expecting ')'</em>:</p>\n\n<pre><code>repeat(3, 2 -&gt; anotherFun()) {\n    println(\"This will show 2 times?\")\n}\n\nfun anotherFun() {\n    println(\"head into the 2nd time and print this out.\")\n}\n</code></pre>\n\n<p>I know I have got the syntax error. so my question is: what is <code>(Int) -&gt; Unit</code> and how to use the action parameter properly?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1007, "user_id": 4768929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1bf5292150f33000a6308c80f8a6aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Abidi", "link": "https://stackoverflow.com/users/4768929/ahmed-abidi"}, "is_accepted": false, "score": 1, "last_activity_date": 1526339590, "creation_date": 1526339590, "answer_id": 50340265, "question_id": 50339927, "link": "https://stackoverflow.com/questions/50339927/bottom-sheet-dialog-height/50340265#50340265", "title": "bottom sheet dialog height", "body": "<p>you can use <code>app:behavior_peekHeight</code> and <code>app:behavior_hideable</code>, in your case for example :</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/relativeLayoutBottomSheetView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#f9626263\"\n    app:behavior_hideable=\"false\"\n    app:behavior_peekHeight=\"100dp\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"\n    tools:context=\".view.activity.MainActivity\"&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8882642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286d54dd8bb9814b1a9e6b6b60259bca?s=128&d=identicon&r=PG&f=1", "display_name": "Ghandroid", "link": "https://stackoverflow.com/users/8882642/ghandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1257, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526339590, "creation_date": 1526337184, "question_id": 50339927, "link": "https://stackoverflow.com/questions/50339927/bottom-sheet-dialog-height", "title": "bottom sheet dialog height", "body": "<p>I use bottom sheet dialog but it cant expand automatically in its full size, and i have to drag up it!</p>\n\n<p>how I can set a fix size for its height that show whole of dialog?</p>\n\n<p>this is my code:</p>\n\n<blockquote>\n  <p>main activity:</p>\n</blockquote>\n\n<pre><code>bottomSheetView = layoutInflater.inflate(R.layout.dialog_bottom_sheet, null)\nbottomSheetDialog.setContentView(bottomSheetView)\nval bottomSheetBehavior = BottomSheetBehavior.from(bottomSheetView.parent as View)\nbottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\nbottomSheetDialog.show()\n</code></pre>\n\n<blockquote>\n  <p>dialog_bottom_sheet:</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.NestedScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/relativeLayoutBottomSheetView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#f9626263\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"\n    tools:context=\".view.activity.MainActivity\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/background_bottom_sheet_dialog\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;View\n            android:id=\"@+id/backgroundViewDialog\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:padding=\"20dp\"\n            tools:ignore=\"UselessParent\"&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 3831060, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KSzOJ.jpg?s=128&g=1", "display_name": "vanshg", "link": "https://stackoverflow.com/users/3831060/vanshg"}, "edited": false, "score": 0, "creation_date": 1526404511, "post_id": 50341681, "comment_id": 87728043, "body": "Perfect, thank you! As a follow up, for my specific use case, if I then wanted to split the methods of this into multiple files (but still accessible to Java via ObjectTest.x for all methods) how would I go about doing that, if at all? I was attempting to use        <code>@file:JvmMultifileClass     @file:JvmName(&quot;ObjectTest&quot;)</code>  But that doesn&#39;t seem to do the trick for multifile. Is it because the annotation only works for classes and now this is no longer a class? Would there be a way to do what I&#39;m asking in the original question and have a multifile class?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1025, "user_id": 3831060, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KSzOJ.jpg?s=128&g=1", "display_name": "vanshg", "link": "https://stackoverflow.com/users/3831060/vanshg"}, "edited": false, "score": 0, "creation_date": 1526432478, "post_id": 50341681, "comment_id": 87738670, "body": "@vanshg <code>@file:JvmMultifileClass</code> works when multiple files are all annotated with <code>@file:JvmMultifileClass</code> and <code>@file:JvmName(&quot;ObjectTest&quot;)</code>. This works, always."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 4, "last_activity_date": 1526353005, "creation_date": 1526353005, "answer_id": 50341681, "question_id": 50339751, "link": "https://stackoverflow.com/questions/50339751/is-there-a-way-to-hide-the-instance-variable-on-a-kotlin-singleton-object/50341681#50341681", "title": "Is there a way to hide the INSTANCE variable on a Kotlin singleton object", "body": "<p>Yes, you can do it, by converting an <code>object</code> into a plain file.</p>\n\n<pre><code>@file:JvmName(\"ObjectTest\")\n// maybe a package statement here\nfun init() {\n  // here `init` is public static final void\n}\n</code></pre>\n\n<p>And there's no <code>INSTANCE</code> object. In Kotlin this is a top-level function, but in Java it's a class named <code>ObjectTest</code> with a private constructor and it has a <code>public static final void</code> method called <code>init</code>.</p>\n"}], "owner": {"reputation": 1025, "user_id": 3831060, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KSzOJ.jpg?s=128&g=1", "display_name": "vanshg", "link": "https://stackoverflow.com/users/3831060/vanshg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 50341681, "answer_count": 1, "score": 1, "last_activity_date": 1526353005, "creation_date": 1526336079, "question_id": 50339751, "link": "https://stackoverflow.com/questions/50339751/is-there-a-way-to-hide-the-instance-variable-on-a-kotlin-singleton-object", "title": "Is there a way to hide the INSTANCE variable on a Kotlin singleton object", "body": "<p>If I have code like this</p>\n\n<pre><code>object ObjectTest {\n    @JvmStatic\n    fun init() {\n\n    }\n}\n</code></pre>\n\n<p>is it possible to hide the <code>ObjectTest.INSTANCE</code> variable that Kotlin automatically generates? I don't want the object to be accessible via an instance and nor will it have any instance methods, so the <code>INSTANCE</code> variable is just polluting autocomplete and could be confusing to potential users (This code is for a library that will be consumed by others).</p>\n"}, {"tags": ["null", "kotlin", "operators"], "comments": [{"owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "edited": false, "score": 0, "creation_date": 1526372477, "post_id": 50339434, "comment_id": 87706638, "body": "If you need to set property it&#39;possible redefine default setter, for example  <code>var y: Int? = 0   set(x: Int?) {      if (x != null)         field = x   }</code>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "edited": false, "score": 0, "creation_date": 1526412525, "post_id": 50339434, "comment_id": 87732238, "body": "@user8320224 problem with that solution is <code>y</code> is probably a non-null field, hence the nullability check before assignment."}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 5161381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nMtJP.png?s=128&g=1", "display_name": "BlueSeph", "link": "https://stackoverflow.com/users/5161381/blueseph"}, "edited": false, "score": 0, "creation_date": 1526335344, "post_id": 50339475, "comment_id": 87695508, "body": "Sorry, the solution was &quot;y = x ?: return&quot; , not x = y ?: return. This solution worked for me &quot;y = x? : return&quot;. Now I understand the Elvis operator thanks to your description. Can you correct your answer for the correct solution?... My mistake."}, {"owner": {"reputation": 7347, "user_id": 172274, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/886b1c9637f9742ff1074d6605a6df7e?s=128&d=identicon&r=PG", "display_name": "still_dreaming_1", "link": "https://stackoverflow.com/users/172274/still-dreaming-1"}, "edited": false, "score": 1, "creation_date": 1580480972, "post_id": 50339475, "comment_id": 106122056, "body": "This will work in some scenarios, but with the question worded as is, this will not always be an appropriate solution. It also returns from the current function if x is null, so it does more than just only assigning x to y if x is not not null. If there was more code in the function after this line, that code would be skipped if x was null since the function already returned."}], "tags": [], "owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "is_accepted": true, "score": 7, "last_activity_date": 1526335635, "last_edit_date": 1526335635, "creation_date": 1526334303, "answer_id": 50339475, "question_id": 50339434, "link": "https://stackoverflow.com/questions/50339434/assign-value-to-variable-only-if-is-not-null-kotlin/50339475#50339475", "title": "Assign value to variable only if is not null - Kotlin", "body": "<p>The operator is called Elvis Operator. It evaluates if <code>x</code> is not null and if that's true, assigns <code>x</code> to <code>y</code>. If it is null, it evaluates the statement after the question mark, returning immediately and therefore leaving <code>y</code> untouched. </p>\n"}, {"comments": [{"owner": {"reputation": 1077, "user_id": 1797127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/903ecfd7b72303878f61945dbb4b3ec1?s=128&d=identicon&r=PG", "display_name": "Hugo Allexis Cardona", "link": "https://stackoverflow.com/users/1797127/hugo-allexis-cardona"}, "edited": false, "score": 0, "creation_date": 1586122830, "post_id": 50340615, "comment_id": 108004818, "body": "What would be the one-line-way to assign X &lt;or a default value&gt; to Y only if Y is null or if it is zero (being X &amp; Y String/int types correspondingly)?"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1616645514, "post_id": 50340615, "comment_id": 118069606, "body": "Yes it works, but it&#39;s <i>ugly</i>!"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 48, "last_activity_date": 1526342783, "creation_date": 1526342783, "answer_id": 50340615, "question_id": 50339434, "link": "https://stackoverflow.com/questions/50339434/assign-value-to-variable-only-if-is-not-null-kotlin/50340615#50340615", "title": "Assign value to variable only if is not null - Kotlin", "body": "<p>Another solution if You don't want to return from function just yet:</p>\n\n<pre><code>x?.let{ y = it }\n</code></pre>\n\n<p>Which checks if <code>x</code> is non-null then passes it as the only parameter to the lambda block. </p>\n\n<p>This is also a safe call in case your <code>x</code> is a <code>var</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13119026, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1e4e73ef3e39a2b946aba9699b6ac208?s=128&d=identicon&r=PG", "display_name": "user13119026", "link": "https://stackoverflow.com/users/13119026/user13119026"}, "is_accepted": false, "score": 2, "last_activity_date": 1585089137, "creation_date": 1585089137, "answer_id": 60840354, "question_id": 50339434, "link": "https://stackoverflow.com/questions/50339434/assign-value-to-variable-only-if-is-not-null-kotlin/60840354#60840354", "title": "Assign value to variable only if is not null - Kotlin", "body": "<p>Your code is the exact same but with less writing as:</p>\n\n<pre><code>if(x != null)\n    y = x\nelse\n    return\n</code></pre>\n\n<p>When using the Elvis Operator it shortens the if else statement to:</p>\n\n<pre><code>y=x ?: return\n</code></pre>\n\n<p>If the left side is true (x is not null) then y will be assigned, else the right side will be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "is_accepted": false, "score": 3, "last_activity_date": 1611801753, "creation_date": 1611801753, "answer_id": 65930287, "question_id": 50339434, "link": "https://stackoverflow.com/questions/50339434/assign-value-to-variable-only-if-is-not-null-kotlin/65930287#65930287", "title": "Assign value to variable only if is not null - Kotlin", "body": "<p>For those searching and want a solution that does <strong>not</strong> immediately return.  You can hold your nose and do this:</p>\n<p><code>y = x ?: y</code></p>\n<p>As a good programmer I shudder to assign a variable to itself just to satisfy syntax.  But that's kotlin for you!  Those designers thought of everything!</p>\n"}], "owner": {"reputation": 421, "user_id": 5161381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nMtJP.png?s=128&g=1", "display_name": "BlueSeph", "link": "https://stackoverflow.com/users/5161381/blueseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12711, "favorite_count": 2, "accepted_answer_id": 50339475, "answer_count": 4, "score": 20, "last_activity_date": 1611801753, "creation_date": 1526334097, "last_edit_date": 1585678297, "question_id": 50339434, "link": "https://stackoverflow.com/questions/50339434/assign-value-to-variable-only-if-is-not-null-kotlin", "title": "Assign value to variable only if is not null - Kotlin", "body": "<p>Is there a clean way in Kotlin to assign a value to a variable only if the value is not null?</p>\n\n<p>My example is:</p>\n\n<pre><code>if(x != null)\n   y = x\n</code></pre>\n\n<p>I found a solution like</p>\n\n<pre><code>y = x? : return\n</code></pre>\n\n<p>but I don't understand if this does what I want and how this operator works.</p>\n"}, {"tags": ["sql", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "edited": false, "score": 0, "creation_date": 1526371313, "post_id": 50339016, "comment_id": 87706019, "body": "I&#39;ll advise you to start from reading that blog post <a href=\"https://spring.io/blog/2016/03/20/a-geospatial-messenger-with-kotlin-spring-boot-and-postgresql\" rel=\"nofollow noreferrer\">spring.io/blog/2016/03/20/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1562017902, "post_id": 50563859, "comment_id": 100237573, "body": "This isn&#39;t working for me. It says &quot;Type inference failed. Expected type mismatch: required: List&lt;User&gt; found: List&lt;ResultRow&gt;"}, {"owner": {"reputation": 1165, "user_id": 1215018, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bad35e98dec90d54c297ecedf09b2556?s=128&d=identicon&r=PG", "display_name": "Oxymoron", "link": "https://stackoverflow.com/users/1215018/oxymoron"}, "edited": false, "score": 0, "creation_date": 1562021645, "post_id": 50563859, "comment_id": 100238342, "body": "Nevermind. I was doing <code>Users.all()</code> not <code>User.all()</code>"}], "tags": [], "owner": {"reputation": 6316, "user_id": 671296, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/py1Rt.jpg?s=128&g=1", "display_name": "zoku", "link": "https://stackoverflow.com/users/671296/zoku"}, "is_accepted": false, "score": 2, "last_activity_date": 1527501926, "creation_date": 1527501926, "answer_id": 50563859, "question_id": 50339016, "link": "https://stackoverflow.com/questions/50339016/kotlin-exposed-dsl-query-mapping/50563859#50563859", "title": "Kotlin exposed DSL Query mapping", "body": "<p>Mapping should be done automatically. See the documentation:</p>\n\n<p><a href=\"https://github.com/JetBrains/Exposed/wiki/DAO\" rel=\"nofollow noreferrer\">Documentation on DAO</a></p>\n\n<p><a href=\"https://github.com/JetBrains/Exposed/wiki/DSL\" rel=\"nofollow noreferrer\">Documentation on DSL</a></p>\n\n<p><a href=\"https://github.com/JetBrains/Exposed/wiki/Transactions\" rel=\"nofollow noreferrer\">Documentation on transactions</a></p>\n\n<p>Table:</p>\n\n<pre><code>object Users : IntIdTable() {\n  val name = varchar(\"name\", 50)\n}\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>class User(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n  companion object : IntEntityClass&lt;User&gt;(Users)\n\n  var name     by Users.name\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun getAllUsers(): List&lt;User&gt; {\n  Database.connect(/* ... */)\n  return transaction {\n    User.all().toList()\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2309, "user_id": 5033303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uLul884YV6o/AAAAAAAAAAI/AAAAAAAAAB4/XzPVDX3_Xz0/photo.jpg?sz=128", "display_name": "Ali Zarei", "link": "https://stackoverflow.com/users/5033303/ali-zarei"}, "is_accepted": false, "score": -1, "last_activity_date": 1607079599, "last_edit_date": 1607079599, "creation_date": 1606748280, "answer_id": 65075897, "question_id": 50339016, "link": "https://stackoverflow.com/questions/50339016/kotlin-exposed-dsl-query-mapping/65075897#65075897", "title": "Kotlin exposed DSL Query mapping", "body": "<p>I know it's late but for other people who have this question:\nIf you are using DSL, You can create a function in your data class for mapping purposes. for example :</p>\n<pre><code>data class User(\n    val id: Int,\n    val username: String,\n    val password: String\n) {\n\n    companion object {\n\n        fun fromRow(resultRow: ResultRow) = User(\n            id = resultRow[UserTable.id].value,\n            username= resultRow[UserTable.username],\n            password = resultRow[UserTable.password]\n        )\n    }\n}\n</code></pre>\n<p>and in your transaction block :</p>\n<pre><code>transaction {\n        user = UserTable.select { UserTable.id eq userId }.map { User.fromRow(it) }\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5618911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9EF0j.jpg?s=128&g=1", "display_name": "brabo-hi", "link": "https://stackoverflow.com/users/5618911/brabo-hi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3571, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1607079599, "creation_date": 1526332012, "last_edit_date": 1526332163, "question_id": 50339016, "link": "https://stackoverflow.com/questions/50339016/kotlin-exposed-dsl-query-mapping", "title": "Kotlin exposed DSL Query mapping", "body": "<ul>\n<li>How to map select Query to a Class</li>\n<li><p>Is there any @transactional anotation to execute a query ?</p>\n\n<pre><code>object UserRepository {\nfun getAll() : List&lt;User&gt; {\n   return User.selectAll().map { User } // how to add it in a transaction ? // Is it the right way to map query to a Class ?\n}\n\nfun get(id: Int) : User? {\n    return User.select { User.id eq id id}.map { User.it } // Mapping Not working\n}\n</code></pre></li>\n</ul>\n"}, {"tags": ["android", "generics", "kotlin", "polymorphism", "retrofit"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1526330559, "post_id": 50338593, "comment_id": 87693652, "body": "Suggested reading: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/inheritance.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/inheritance.ht&zwnj;&#8203;ml</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "is_accepted": false, "score": 1, "last_activity_date": 1526332868, "last_edit_date": 1526332868, "creation_date": 1526331692, "answer_id": 50338950, "question_id": 50338593, "link": "https://stackoverflow.com/questions/50338593/class-inheritance-and-parametrized-types-in-kotlin-is-subtype-polymorphism-poss/50338950#50338950", "title": "Class inheritance and parametrized types in Kotlin: Is Subtype Polymorphism possible with generics?", "body": "<p>Why not something like this :</p>\n\n<pre><code>// base service for all types of items\ninterface ApiService&lt;T&gt; {\n    fun getItems(): T\n    // fun getItemById(itemId: Long): BaseResponse&lt;BaseAttributes&gt;\n    /* other CRUD functions here ... */\n}\n\n// service for fruits\ninterface FruitService: ApiService&lt;FruitResponseList&gt; {\n\n    override fun getItems(): FruitResponseList\n}\n</code></pre>\n\n<p>or this :</p>\n\n<pre><code>// base service for all types of items\ninterface ApiService&lt;T : BaseAttributes&gt; {\n    fun getItems() : BaseResponseList&lt;T&gt;\n    // fun getItemById(itemId: Long): BaseResponse&lt;BaseAttributes&gt;\n    /* other CRUD functions here ... */\n}\n\n// service for fruits\ninterface FruitService: ApiService&lt;FruitAttributes&gt; {\n\n    override fun getItems(): FruitResponseList\n}\n</code></pre>\n\n<p>You will be bounded to <code>BaseResponseList&lt;BaseAttributes&gt;</code> in your current implementation.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1526369392, "creation_date": 1526369392, "answer_id": 50344615, "question_id": 50338593, "link": "https://stackoverflow.com/questions/50338593/class-inheritance-and-parametrized-types-in-kotlin-is-subtype-polymorphism-poss/50344615#50344615", "title": "Class inheritance and parametrized types in Kotlin: Is Subtype Polymorphism possible with generics?", "body": "<blockquote>\n  <p>I'm stumped by this compiler error that suggests <code>FruitResponseList</code> is not a subtype of the parametrized base class (<code>BaseResponseList&lt;FruitAttributes&gt;</code>):</p>\n</blockquote>\n\n<p>It is a subtype of <code>BaseResponseList&lt;FruitAttributes&gt;</code>, which isn't a subtype of <code>BaseResponseList&lt;BaseAttributes&gt;</code>.</p>\n\n<blockquote>\n  <p>I try to use declaration-site covariance in BaseAttributes to tell the compiler my intention that a FruitResponseList is a subclass of the base response list like this:...</p>\n</blockquote>\n\n<p>This could be a correct approach, but the problem is that <code>Item</code> is not covariant (and it can't be because <code>attributes</code> is a <code>var</code> and its setter takes a <code>T</code> parameter). If <code>Item</code> can be modified to avoid this, good.</p>\n\n<p>Another approach would be to add a type parameter to <code>ApiService</code>:</p>\n\n<pre><code>// base service for all types of items\ninterface ApiService&lt;T: BaseAttributes&gt; {\n    fun getItems(): BaseResponseList&lt;T&gt;\n    // fun getItemById(itemId: Long): BaseResponse&lt;T&gt;\n    /* other CRUD functions here ... */\n}\n\n// service for fruits\ninterface FruitService: ApiService&lt;FruitAttributes&gt; {\n    override fun getItems(): FruitResponseList // get fruit items\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "is_accepted": false, "score": 0, "last_activity_date": 1526651069, "creation_date": 1526651069, "answer_id": 50412734, "question_id": 50338593, "link": "https://stackoverflow.com/questions/50338593/class-inheritance-and-parametrized-types-in-kotlin-is-subtype-polymorphism-poss/50412734#50412734", "title": "Class inheritance and parametrized types in Kotlin: Is Subtype Polymorphism possible with generics?", "body": "<p>The answers provided by Mark and Alexey were very helpful. Particularly, parametrizing the <code>ApiService</code> on the <code>BaseAttributes</code> was the more flexible option since it allowed functions to take or return both <code>BaseResponseList</code> and <code>BaseResponse</code> [sub]types. </p>\n\n<p>However, for what it's worth, it turns out that the Retrofit library does not allow its service declarations to extend other interfaces or even to be parametrized, supposedly in favor of composition over inheritance. There's plenty of debate about their decision on this <a href=\"https://github.com/square/retrofit/issues/504\" rel=\"nofollow noreferrer\">issue here</a>.\nSo I ended up creating separate interfaces for every one of my models :/</p>\n"}], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 50344615, "answer_count": 3, "score": 3, "last_activity_date": 1526651069, "creation_date": 1526330022, "question_id": 50338593, "link": "https://stackoverflow.com/questions/50338593/class-inheritance-and-parametrized-types-in-kotlin-is-subtype-polymorphism-poss", "title": "Class inheritance and parametrized types in Kotlin: Is Subtype Polymorphism possible with generics?", "body": "<p>I'm struggling to understand and/or make Kotlin generics &amp; polymorphism work for me. Consider this code:</p>\n\n<pre><code>class Item&lt;T: BaseAttributes&gt; {\n    var id: Long = -1L\n    lateinit var type: String\n    lateinit var attributes: T\n}\n\nopen class BaseAttributes {\n    lateinit var createdAt: String\n    lateinit var updatedAt: String\n}\n\nopen class BaseResponseList&lt;T : BaseAttributes&gt; {\n    lateinit var items: List&lt;Item&lt;T&gt;&gt; // the collection of items fetched from an API \n}\n\nclass FruitAttributes(val id: Long, val color: String /* ... */) : BaseAttributes()\n\nclass FruitResponseList: BaseResponseList&lt;FruitAttributes&gt;()\n\n// base service for all types of items\ninterface ApiService {\n    fun getItems(): BaseResponseList&lt;BaseAttributes&gt;\n    // fun getItemById(itemId: Long): BaseResponse&lt;BaseAttributes&gt;\n    /* other CRUD functions here ... */\n}\n\n// service for fruits\ninterface FruitService: ApiService {\n    override fun getItems(): FruitResponseList // get fruit items\n}\n</code></pre>\n\n<p>I'm stumped by this compiler error that suggests <code>FruitResponseList</code> is not a subtype of the parametrized base class (<code>BaseResponseList&lt;FruitAttributes&gt;</code>):</p>\n\n<p><code>Return type of 'getItems' is not a subtype of the return type of the overridden member 'public abstract fun getItems(): BaseResponseList&lt;BaseAttributes&gt; defined in ApiService'</code></p>\n\n<p>I try to use declaration-site covariance in BaseAttributes to tell the compiler my intention that a FruitResponseList is a subclass of the base response list like this:</p>\n\n<pre><code>open class BaseResponseList&lt;out T : BaseAttributes&gt; {\n    lateinit var items: List&lt;Item&lt;T&gt;&gt; // the collection of items fetched from an API \n}\n</code></pre>\n\n<p>leads to this error:</p>\n\n<p><code>Type parameter T is declared as 'out' but occurs in 'invariant' position in type List&lt;Item&lt;T&gt;&gt;</code></p>\n\n<p>How can I achieve the type-subtype relation between Fruit &amp; Base response lists?</p>\n\n<h2>The Context</h2>\n\n<p>I'm implementing the networking code to perform CRUD operations against an API that's based on the <a href=\"http://jsonapi.org/examples/\" rel=\"nofollow noreferrer\">JSON API spec</a> format, thus I created the attributes and data (<code>Item</code>) classes to represent the json response objects. </p>\n\n<p>My goal is to reduce the amount of duplicated code so that I only have to write the API service declarations once for every entity in my application (fruits, vendors, buyers, etc). I also want to avoid writing duplicated/boilerplate implementations of the data repository layers for every entity in my app (in the context of clean architecture). I should be able to just specify the business entity-specific types (models/entities) and let the one generic implementation do the work of fetching network data. </p>\n\n<p>I thought it would make sense to use generics and inheritance to achieve this. In this particular example, the idea is that the fruit-specific GET would return a fruit response list, which is a subtype of the base response list. Will greatly appreciate any guidance on this, or alternative approaches to this problem</p>\n"}, {"tags": ["javascript", "react-native", "kotlin", "kotlin-js-interop"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 9619472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Roman Art", "link": "https://stackoverflow.com/users/9619472/roman-art"}, "is_accepted": false, "score": 1, "last_activity_date": 1530728949, "last_edit_date": 1530728949, "creation_date": 1526382653, "answer_id": 50348708, "question_id": 50337877, "link": "https://stackoverflow.com/questions/50337877/calling-javascript-from-kotlin/50348708#50348708", "title": "Calling JavaScript from Kotlin", "body": "<p>I think you should annotate your kotlin declaration with</p>\n\n<pre><code>@JsModule(\"&lt;module_name&gt;\") // seems like it is App\nexternal fun myFun()\n</code></pre>\n\n<p>and setup module kind to <code>umd</code> in gradle sript like this </p>\n\n<pre><code>compileKotlin2Js.kotlinOptions.moduleKind = \"umd\"\n</code></pre>\n"}], "owner": {"reputation": 2056, "user_id": 684273, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/03fb738b20d3d48edb1d24008681743c?s=128&d=identicon&r=PG", "display_name": "Warlock", "link": "https://stackoverflow.com/users/684273/warlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530728949, "creation_date": 1526326939, "question_id": 50337877, "link": "https://stackoverflow.com/questions/50337877/calling-javascript-from-kotlin", "title": "Calling JavaScript from Kotlin", "body": "<p>I have ReactNative project and I'm trying to call simple JS function from Kotlin (calling Kotlin from JS works fine). My project directory looks like this:<br>\n<a href=\"https://i.stack.imgur.com/tU1CO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tU1CO.png\" alt=\"enter image description here\"></a></p>\n\n<p>\"shared\" module is compiled as commonjs module.<br><br>\nIn Main.kt I have (shortened):</p>\n\n<pre><code>external fun myFun()\n</code></pre>\n\n<p>In App.js I have (shortened):</p>\n\n<pre><code>import * as shared from './shared/build/classes/kotlin/main/shared.js'\nexport function myFun(){\n    console.log(\"Hello\")\n} \n</code></pre>\n\n<p>So I'm trying to call myFun() from Kotlin to get console log in JS. But I get exception:<br></p>\n\n<pre><code>myFun is not defined\n</code></pre>\n\n<p>I was looking to this docs:<br>\n<a href=\"https://kotlinlang.org/docs/reference/js-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/js-interop.html</a><br>\n<a href=\"https://kotlinlang.org/docs/reference/js-modules.html#applying-jsmodule-to-packages\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/js-modules.html#applying-jsmodule-to-packages</a><br>\nBut I not sure how to use those annotations (if they are needed?).\nThanks for help.</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 1, "creation_date": 1526330955, "post_id": 50337762, "comment_id": 87693844, "body": "For this, is important to understand the activity lifecycle and how android handles data when switching between configuration changes: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle#saras\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"}, {"owner": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 1, "creation_date": 1526331260, "post_id": 50337762, "comment_id": 87693987, "body": "As for the reason why you need the delay, it&#39;s because <code>onCreate()</code> is called before any of your views get drawn, here&#39;s some more info: <a href=\"https://stackoverflow.com/questions/7733813/how-can-you-tell-when-a-layout-has-been-drawn\" title=\"how can you tell when a layout has been drawn\">stackoverflow.com/questions/7733813/&hellip;</a>"}, {"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "reply_to_user": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 0, "creation_date": 1526335771, "post_id": 50337762, "comment_id": 87695626, "body": "But I can only save values in the onSaveInstanceState right, but not the current listview. I&#39;m not really sure, what I should store in there. I also tried to put the whole handle function into the <code>onRestoreInstanceState()</code> function, but that does not help"}, {"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "reply_to_user": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 0, "creation_date": 1526375758, "post_id": 50337762, "comment_id": 87708602, "body": "@OmarSilva Any idea?"}, {"owner": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 0, "creation_date": 1526390042, "post_id": 50337762, "comment_id": 87718222, "body": "If you&#39;re saving your <code>swapped</code> flag to shared preferences, could you not do the following:  <code>onResume -&gt; fetch flag -&gt; do swapping</code>?"}, {"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "reply_to_user": {"reputation": 262, "user_id": 8103861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49c19abdaf92a210908a696a62f11b5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Silva", "link": "https://stackoverflow.com/users/8103861/omar-silva"}, "edited": false, "score": 0, "creation_date": 1526405300, "post_id": 50337762, "comment_id": 87728506, "body": "That&#39;s actually what I do, but the onCreate does not get called, when the user just switches into apps overview and directly back to the app. Only the list view gets reloaded, the other parts of the app don&#39;t get reloaded"}], "owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526330671, "creation_date": 1526326467, "last_edit_date": 1526330671, "question_id": 50337762, "link": "https://stackoverflow.com/questions/50337762/listview-manipulation-gets-reset-on-resume", "title": "ListView manipulation gets reset on resume", "body": "<p>I have a <code>ListView</code> with two child elements:</p>\n\n<pre><code>-----------------\n|  left | right |\n-----------------\n</code></pre>\n\n<p>Now I have a method, that swaps these two childs:</p>\n\n<pre><code>-----------------\n|  right | left |\n-----------------\n</code></pre>\n\n<p>So the right content is on the left and the left on the right.\nThe function looks like this:</p>\n\n<pre><code>fun swapViews(A: View, B: View) {\n    val viewAx = A.x\n    val viewAy = A.y\n    val viewBx = B.x\n    val viewBy = B.y\n\n    A.x = viewBx\n    A.y = viewBy\n    B.x = viewAx\n    B.y = viewAy\n}\n</code></pre>\n\n<p>The function itself works fine, but I'm having a hard time, to swap them, when the user closes the app or just goes to app overview screen.</p>\n\n<p>Currently I'm doing a check on a boolean, that is stored in the sharedprefs:\nSomething like (pseudecode):</p>\n\n<pre><code>override fun onCreate() {\n    Handler().postDelayed({\n        if (swapped) {\n            swapViews(viewA, viewB)\n        }\n    , 100)\n}\n</code></pre>\n\n<p>(BTW I needed to add the delay, because otherwise nothing would happen at all. Does anybody know why?)</p>\n\n<p>While this works, when the user closes the entire app and even removes it from recent view, it does not work, when the user switches to recent app screen and switches back to the app.</p>\n\n<p>It works with two LinearViews, but not with the views inside the <code>ListView</code>.</p>\n\n<p>I'm guessing, that android reloads the listdata <code>onResume</code> and therefore it overrides my swapping. But I'm not sure tough.</p>\n\n<p>Now my question:\nHas anybody any idea how I can solve that?</p>\n\n<p>For me easiest would be, to have a function like:</p>\n\n<p><code>listview.onReload(dostuff)</code></p>\n\n<p>so I can run my function, when android loads the data for the <code>ListView</code>.</p>\n\n<p>(For testing I also did a text override in one of the <code>ListView</code>s and when switching back to the app, it was gone, so android indeed reloads the <code>ListView</code>)</p>\n"}, {"tags": ["kotlin", "polymorphism", "overloading"], "answers": [{"comments": [{"owner": {"reputation": 798, "user_id": 3408710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D4HWX.jpg?s=128&g=1", "display_name": "Caleb_Allen", "link": "https://stackoverflow.com/users/3408710/caleb-allen"}, "edited": false, "score": 1, "creation_date": 1526326279, "post_id": 50337152, "comment_id": 87691641, "body": "That makes sense to me, but isn&#39;t a sealed class a special case? Because the sealed class itself is abstract but the subtypes are known at compile time? Specifically, sealed classes let the compiler ensure that all subtypes are handled at compile time by a <code>when</code> statement. This does not apply to inheritance in general, so there must be an explicit mechanism for sealed classes. What is the mechanism used by the compiler for ensuring that, and is there a technical reason that mechanism couldn&#39;t be used for overloading (outside of whether it would be good language design or not)?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1526368032, "last_edit_date": 1526368032, "creation_date": 1526323986, "answer_id": 50337152, "question_id": 50336912, "link": "https://stackoverflow.com/questions/50336912/why-is-subtype-function-overloading-not-possible-with-kotlin-sealed-classes/50337152#50337152", "title": "Why is subtype function overloading not possible with Kotlin sealed classes?", "body": "<p>This problem can be broke down to this simplified example:</p>\n\n<pre><code>fun calc(i: Int) = i * 2\nfun calc(d: Double) = d * 2\n\nfun main(args: Array&lt;String&gt;) {\n    val i: Number = 5\n    calc(i)\n}\n</code></pre>\n\n<p>You have two specialized methods that take an <code>Int</code> and <code>Double</code> respectively. Your value is of type <code>Number</code> (<strong>supertype</strong> of both, <code>Int</code> and <code>Double</code>). Although <code>i</code> obviously is an integer, your variable has a type <code>Number</code>, which cannot be an argument to either <code>calc(i: Int)</code> or <code>calc(d: Double)</code>.</p>\n\n<p>In your case, you get a <code>Response</code> and want to invoke one of the overloaded methods, none of which takes a <code>Response</code> directly. </p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1526368488, "last_edit_date": 1526368488, "creation_date": 1526367875, "answer_id": 50344140, "question_id": 50336912, "link": "https://stackoverflow.com/questions/50336912/why-is-subtype-function-overloading-not-possible-with-kotlin-sealed-classes/50344140#50344140", "title": "Why is subtype function overloading not possible with Kotlin sealed classes?", "body": "<p>In principle it could be done (essentially by auto-generating the <code>handle(response: Response) = when ...</code> method). But I don't think it's ever likely to be. Overloading in Kotlin works basically the same as in Java/Scala/other JVM languages and introducing a major difference for so little benefit doesn't looks like a good idea (of course this doesn't apply to <code>when</code> which is Kotlin-specific). </p>\n\n<p>If you want it, you can just define the same <code>fun handle(response: Response)</code> inside <code>ResponseHandler</code> (and make the other <code>handle</code> methods <code>open</code> so it's actually useful).</p>\n"}], "owner": {"reputation": 798, "user_id": 3408710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D4HWX.jpg?s=128&g=1", "display_name": "Caleb_Allen", "link": "https://stackoverflow.com/users/3408710/caleb-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 1, "accepted_answer_id": 50344140, "answer_count": 2, "score": 3, "last_activity_date": 1526368488, "creation_date": 1526323049, "last_edit_date": 1526323541, "question_id": 50336912, "link": "https://stackoverflow.com/questions/50336912/why-is-subtype-function-overloading-not-possible-with-kotlin-sealed-classes", "title": "Why is subtype function overloading not possible with Kotlin sealed classes?", "body": "<p>Let's say I have sealed class I'm using for a server response: </p>\n\n<pre><code>sealed class Response{\n    class Success: Response() \n    class ErrorA: Response() \n    class ErrorB: Response() \n}\n</code></pre>\n\n<p>And a bogus response:</p>\n\n<pre><code>fun getResponse(): Response{\n    val r = Random()\n    return when (r.nextInt(3)) {\n        0 -&gt; { Response.Success() }\n        1 -&gt; { Response.ErrorA() }\n        2 -&gt; { Response.ErrorB() }\n        else -&gt; { throw IllegalStateException() }\n    }\n}\n</code></pre>\n\n<p>And I want to handle the response. I currently could use something like this:</p>\n\n<pre><code>fun handle(response: Response) = when (response) {\n    is Response.Success -&gt; { handle(response) }\n    is Response.ErrorA -&gt; { handle(response) }\n    is Response.ErrorB -&gt; { handle(response) }\n}\n</code></pre>\n\n<p>Which the compiler will then ensure handles all cases. An awesome feature!</p>\n\n<p>Why, though, could I not do something like this:</p>\n\n<pre><code>class ResponseHandler(){\n\n    fun handle(success: Response.Success) {}\n\n    fun handle(error: Response.ErrorB) {}\n\n    fun handle(error: Response.ErrorA) {}\n}\n</code></pre>\n\n<p>and call</p>\n\n<pre><code>ResponseHandler().handle(response)\n</code></pre>\n\n<p>This achieves the same thing but does not compile, my question is this: in the same way that the compiler ensures, at runtime, that all cases are handled in a <code>when</code> statement, why can the same logic not be applied to method overloading?</p>\n\n<p>Any information or referrals to further reading would be hugely helpful. Thanks</p>\n"}, {"tags": ["android", "kotlin", "webrtc"], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 6, "last_activity_date": 1526394312, "creation_date": 1526394312, "answer_id": 50352718, "question_id": 50333784, "link": "https://stackoverflow.com/questions/50333784/how-to-render-webrtc-videotrack-on-surfaceviewrenderer-in-android/50352718#50352718", "title": "How to render WebRTC VideoTrack on SurfaceViewRenderer in Android?", "body": "<p>Now <code>SurfaceViewRenderer</code> implements <code>VideoSink</code> interface and now we can add <code>VideoSink</code> interfaces to our <code>VideoTracks</code>, so, just replace your current implementation by the following and it will work:</p>\n\n<pre><code>val videoView = findViewById&lt;SurfaceViewRenderer&gt;(R.id.surface_view_renderer)\nvideoTrack.addSink(videoView)\n</code></pre>\n"}], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1785, "favorite_count": 0, "accepted_answer_id": 50352718, "answer_count": 1, "score": 1, "last_activity_date": 1526394312, "creation_date": 1526311032, "last_edit_date": 1526311365, "question_id": 50333784, "link": "https://stackoverflow.com/questions/50333784/how-to-render-webrtc-videotrack-on-surfaceviewrenderer-in-android", "title": "How to render WebRTC VideoTrack on SurfaceViewRenderer in Android?", "body": "<p>Before update <code>WebRTC</code> dependencies, I was able to render <code>WebRTC</code> <code>VideoTracks</code> on <code>SurfaceViewRenderer</code> like so:</p>\n\n<pre><code>val videoView = findViewById&lt;SurfaceViewRenderer&gt;(R.id.surface_view_renderer)\nvideoTrack.addRenderer(VideoRenderer(videoView))\n</code></pre>\n\n<p>Since <code>SurfaceViewRenderer</code> no longer implements <code>VideoRenderer.Callbacks</code> interface, how can I achieve the same behavior above with updated WebRTC version?</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-data", "spring-data-jpa"], "comments": [{"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1526317738, "post_id": 50333603, "comment_id": 87687416, "body": "Does it still give that error if you supply default arguments to all of the data class parameters?"}, {"owner": {"reputation": 289, "user_id": 6392098, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b2412f3232b502ed0a5749db4f295e8?s=128&d=identicon&r=PG&f=1", "display_name": "Cilla", "link": "https://stackoverflow.com/users/6392098/cilla"}, "reply_to_user": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1526319047, "post_id": 50333603, "comment_id": 87688031, "body": "Unfortunately yes, I already tried."}, {"owner": {"reputation": 289, "user_id": 6392098, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b2412f3232b502ed0a5749db4f295e8?s=128&d=identicon&r=PG&f=1", "display_name": "Cilla", "link": "https://stackoverflow.com/users/6392098/cilla"}, "reply_to_user": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1526319280, "post_id": 50333603, "comment_id": 87688139, "body": "By the way, if I replace MutableSet&lt;Tag&gt; with Tag it works. He can not map the MutableSet. Using the interface projection with the same example works like a charm, but i cannot understand why."}, {"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1526319507, "post_id": 50333603, "comment_id": 87688240, "body": "Your problem is that your Entity class is giving Spring some very specific instructions on how to resolve that Set. It&#39;s telling it where to find the data and how to map it to the object. However, your DTO model doesn&#39;t contain that information, so Spring doesn&#39;t know how to make the complex mapping.  At a glance, that looks like the issue at hand here."}], "owner": {"reputation": 289, "user_id": 6392098, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2b2412f3232b502ed0a5749db4f295e8?s=128&d=identicon&r=PG&f=1", "display_name": "Cilla", "link": "https://stackoverflow.com/users/6392098/cilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 584, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526310429, "creation_date": 1526310429, "question_id": 50333603, "link": "https://stackoverflow.com/questions/50333603/spring-data-dto-projection-with-manytomany-field", "title": "Spring Data DTO Projection with @ManyToMany field", "body": "<p>I've a <code>User</code> Entity that contains this field:</p>\n\n<pre><code>@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = \"FAVORITE_TAGS\", joinColumns = arrayOf(JoinColumn(name = \"USER_ID\")), inverseJoinColumns = arrayOf(JoinColumn(name = \"TAG_ID\")))\n    @BatchSize(size = 24)\n    val favoriteTags: MutableSet&lt;Tag&gt;? = null\n</code></pre>\n\n<p>And i defined the following DTO:</p>\n\n<pre><code>data class UserProfileDto(\n        ...\n        val favoriteTags: MutableSet&lt;Tag&gt;?,\n        ...\n): UserDto()\n</code></pre>\n\n<p>Finally, this is one of the <code>UserRepository</code> methods (DTO dynamic projection):</p>\n\n<pre><code>fun &lt;T: UserDto&gt; findByUsername(username: String, type: Class&lt;T&gt;): T?\n</code></pre>\n\n<p>The problem is that when i call <code>userRepository.findByUsername(\"username\", UserProfileDto::class.java)</code>, i get the following exception:</p>\n\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.cillariodelsanto.socialnotes.entity.dto.UserProfileDto]. Expected arguments are: \n    java.lang.String, java.lang.String, java.lang.String, double, long, com.cillariodelsanto.socialnotes.entity.Tag, long, long, long, long [select new com.cillariodelsanto.socialnotes.entity.dto.UserProfileDto(generatedAlias0.username, generatedAlias0.name, generatedAlias0.userPicPath, generatedAlias0.averageScore, generatedAlias0.documentsRatingsCount, favoriteTags, generatedAlias0.documentsCount, generatedAlias0.favoriteDocumentsCount, generatedAlias0.followingCount, generatedAlias0.followersCount) from com.cillariodelsanto.socialnotes.entity.User as generatedAlias0 left join generatedAlias0.favoriteTags as favoriteTags where generatedAlias0.username=:param0]\n</code></pre>\n\n<p>The problem is the <code>MutableSet</code> (i've tried with <code>Collection</code> and <code>Set</code> too, but the result was the same). Is there a way to fix it?</p>\n\n<p>I know that using the interfaces instead of the DTOs would resolve the problem, but i'd like to know if it is possible to achieve the same result using the DTOs. Thanks a lot.</p>\n"}, {"tags": ["android", "node.js", "encryption", "kotlin"], "comments": [{"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1526340218, "post_id": 50333577, "comment_id": 87696827, "body": "You&#39;re returning base64 from Kotlin and trying to decode hex in NodeJS...  How would that ever work?"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4863533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-7_hJ5tCSS88/AAAAAAAAAAI/AAAAAAAAAHA/LaHiYjpgvmY/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/4863533/liam"}, "edited": false, "score": 0, "creation_date": 1526375454, "post_id": 50334663, "comment_id": 87708381, "body": "Thank you very much ! I didn&#39;t look around the encoding, but now I will be carefull about that."}], "tags": [], "owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "is_accepted": true, "score": 0, "last_activity_date": 1526314844, "last_edit_date": 1526314844, "creation_date": 1526314020, "answer_id": 50334663, "question_id": 50333577, "link": "https://stackoverflow.com/questions/50333577/crypt-java-to-js-and-decrypt/50334663#50334663", "title": "Crypt java to js and decrypt", "body": "<p>If you intent to use your code with strings like this, your code is almost completely correct. You just use incorrect encoding in <code>node.js</code> part.</p>\n\n<p>Change encrypt and decrypt of <code>node.js</code> to <code>base64</code> as following:</p>\n\n<pre><code>function encrypt(data, password)\n{\n    var cipher = crypto.createCipheriv('aes-128-cbc', password, password);\n    var crypted = cipher.update(data, 'utf8', 'base64');\n    crypted += cipher.final('base64');\n    return crypted;\n}\n\nfunction decrypt(data, password)\n{\n    var decipher = crypto.createDecipheriv('aes-128-cbc', password, password);\n    var dec = decipher.update(data, 'base64', 'utf8');\n    dec += decipher.final('utf8');\n    return dec;\n}\n</code></pre>\n\n<p>and change <code>base64</code> encoding in java part to following:</p>\n\n<pre><code>private fun encrypt(text: String, password: String): String\n{\n    ...\n    return Base64.getEncoder().encodeToString(results)\n}\n\nprivate fun decrypt(text: String, password: String): String\n{\n    ...\n    return String(cipher.doFinal(Base64.getDecoder().decode(text)))\n}\n</code></pre>\n\n<p>Now result of encrypt/decrypt of <code>Java</code> an <code>node.js</code> matches up. :)</p>\n"}], "owner": {"reputation": 85, "user_id": 4863533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-7_hJ5tCSS88/AAAAAAAAAAI/AAAAAAAAAHA/LaHiYjpgvmY/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/4863533/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 50334663, "answer_count": 1, "score": 0, "last_activity_date": 1526314844, "creation_date": 1526310375, "question_id": 50333577, "link": "https://stackoverflow.com/questions/50333577/crypt-java-to-js-and-decrypt", "title": "Crypt java to js and decrypt", "body": "<p>Does someone knows how to encrypt in java and decrypt in nodejs ?\nNo matter the algorithm, aes/cbc would be better but it doesn't matter.</p>\n\n<p>After days and days passing in searching a solution it seems that the algorithm is not the same in the two languages.</p>\n\n<p>Here is my code in kotlin/java:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?)\n{\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val text = \"Hello everybody !\"\n    val password = \"1234567812345678\"\n\n    val encrypted = encrypt(text, password)\n    Log.i(\"MainActivity\", \"encrypted = $encrypted\")\n    val decrypted = decrypt(encrypted, password)\n    Log.i(\"MainActivity\", \"decrypted = $decrypted\")\n}\n\nprivate fun encrypt(text: String, password: String): String\n{\n    val keySpec = SecretKeySpec(password.toByteArray(), \"AES\")\n    val ivSpec = IvParameterSpec(password.toByteArray())\n    val cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\")\n    cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec)\n\n    val results = cipher.doFinal(text.toByteArray())\n\n    return Base64.encodeToString(results, Base64.NO_WRAP or Base64.DEFAULT)\n}\n\nprivate fun decrypt(text: String, password: String): String\n{\n    val keySpec = SecretKeySpec(password.toByteArray(), \"AES\")\n    val ivSpec = IvParameterSpec(password.toByteArray())\n    val cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\")\n    cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec)\n\n    return String(cipher.doFinal(Base64.decode(text, Base64.DEFAULT)))\n}\n</code></pre>\n\n<p>and here is my code in nodejs:</p>\n\n<pre><code>var crypto = require('crypto');\n\n\nvar text = \"Hello everybody !\"\nvar password = new Buffer(\"1234567812345678\")\nconsole.log(\"Password = \" + password)\n\n\nvar encrypted = encrypt(text, password)\nconsole.log(\"Encrypted = \" + encrypted)\n\nvar decrypted = decrypt(encrypted, password)\nconsole.log(\"Decrypted = \" + decrypted)\n\nfunction encrypt(data, password)\n{\n    var cipher = crypto.createCipheriv('aes-128-cbc', password, password);\n    var crypted = cipher.update(data, 'utf8', 'hex');\n    crypted += cipher.final('hex');\n    return crypted;\n}\n\nfunction decrypt(data, password)\n{\n    var decipher = crypto.createDecipheriv('aes-128-cbc', password, password);\n    var dec = decipher.update(data, 'hex', 'utf8');\n    dec += decipher.final('utf8');\n    return dec;\n}\n</code></pre>\n\n<p>I already read all the tutorials about that but nothing is working.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-architecture-components", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 1411, "user_id": 3236455, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3e9c648b24d09ddde9c8a5bd8c671305?s=128&d=identicon&r=PG", "display_name": "der_Fidelis", "link": "https://stackoverflow.com/users/3236455/der-fidelis"}, "edited": false, "score": 1, "creation_date": 1526324442, "post_id": 50333357, "comment_id": 87690718, "body": "Same issue. I think it has something to do with androidx and the support library conflicting but I&#39;m not sure."}, {"owner": {"reputation": 459, "user_id": 5477489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-o11KTZPnO6c/AAAAAAAAAAI/AAAAAAAAAL8/7TBBzAFD6jE/photo.jpg?sz=128", "display_name": "Leontsev Anton", "link": "https://stackoverflow.com/users/5477489/leontsev-anton"}, "edited": false, "score": 1, "creation_date": 1596067047, "post_id": 50333357, "comment_id": 111694978, "body": "hi guys! Had the same problem when used recommended by Android Studio FragmentContainerView instead of fragment xml element in layout of main activity &quot;no NavHostFragment found&quot; in mainActivity and in Navigation. I returned to fragment it all works.  Gradle 4.0.1 Navigation version 2.3.0"}], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526475584, "post_id": 50370691, "comment_id": 87759036, "body": "Unfortunately yes, I&#39;ve got this enabled. I will update my question."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526476294, "post_id": 50370691, "comment_id": 87759577, "body": "after some digging I&#39;ve found this, apparently they&#39;ve found some erros on Canary 14 and some fixes will be released in canary 15"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526597332, "post_id": 50370691, "comment_id": 87818855, "body": "checkout the update for Android Studio Canary 15, it&#39;s available now"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 1, "creation_date": 1526638496, "post_id": 50370691, "comment_id": 87833254, "body": "I still can&#39;t use this library after update to Canary 15. It crashes after opening the app. It says that could not find <code>android.support.v4.app.Fragment</code>. I thought that jetifier should handle this."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526638605, "post_id": 50370691, "comment_id": 87833317, "body": "It should, did you invalidate the cache and restarted?"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526638732, "post_id": 50370691, "comment_id": 87833382, "body": "In some cases I had to manually remove some imports because the refactor didn&#39;t, after you invalidate the cache go into every one of your files to see if everything is ok (if there&#39;s no red lines)"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1526669621, "post_id": 50370691, "comment_id": 87850888, "body": "Invalidating cache didn&#39;t help. How can I change import inside NavHostFragment?"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527156007, "post_id": 50370691, "comment_id": 88024786, "body": "See issue from @Ilosqu answer."}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": false, "score": 1, "last_activity_date": 1526597306, "last_edit_date": 1526597306, "creation_date": 1526472900, "answer_id": 50370691, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/50370691#50370691", "title": "NavHostFragment not accessible from XML", "body": "<p>Apparently, see <a href=\"https://www.reddit.com/r/androiddev/comments/8jezl4/getting_the_new_navhost_framework_to_work/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.reddit.com/r/androiddev/comments/8izl2d/psa_dont_try_to_use_navigationworkmanager_libs/\" rel=\"nofollow noreferrer\">here</a>, the use of the Jetifier and Android X is still under refactor, In this <a href=\"https://www.youtube.com/watch?v=jdKUm8tGogw&amp;feature=youtu.be&amp;t=15m6s\" rel=\"nofollow noreferrer\">google i/o</a> talk they've asked us to wait for Canary 15 which has some bug fixes.</p>\n\n<p>Try to use the navigation library with the old support library for now.</p>\n\n<p><strong>Edit:</strong>\nAndroid Studio 3.2 Canary 15 is available for download, everything's working fine for the navigation library. After you've finished installing clear up the clutter invalidating the cache to see if it goes fine. </p>\n"}, {"tags": [], "owner": {"reputation": 266, "user_id": 5255431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yWRW6MR1XxI/AAAAAAAAAAI/AAAAAAAAAD0/cqI5k4_QOkc/photo.jpg?sz=128", "display_name": "Ilosqu", "link": "https://stackoverflow.com/users/5255431/ilosqu"}, "is_accepted": true, "score": 4, "last_activity_date": 1527062108, "last_edit_date": 1527062108, "creation_date": 1526540955, "answer_id": 50385411, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/50385411#50385411", "title": "NavHostFragment not accessible from XML", "body": "<p>Yep, as mentioned by Levi Albuquerque, this is a known bug in latest Canary Android Studio release (14). You can vote to this bug, subscribe and provide some useful information <a href=\"https://issuetracker.google.com/issues/79667498\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Issue will be fixed in Android Gradle plugin 3.2.0-alpha17</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12643964, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9c4deced0c2c1780f3dba1cc3c225fd4?s=128&d=identicon&r=PG", "display_name": "Aust L", "link": "https://stackoverflow.com/users/12643964/aust-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1578010970, "last_edit_date": 1578010970, "creation_date": 1578008939, "answer_id": 59571488, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/59571488#59571488", "title": "NavHostFragment not accessible from XML", "body": "<p>Under the navigation folder, there is an XML file called <code>nav_graph.xml</code>. Open it and it will prompt Gradle sync.</p>\n\n<p>Project Tree</p>\n\n<p><img src=\"https://i.stack.imgur.com/s12QT.png\" alt=\"\"></p>\n"}, {"comments": [{"owner": {"reputation": 6844, "user_id": 2535875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2KNqN.png?s=128&g=1", "display_name": "Md Imran Choudhury", "link": "https://stackoverflow.com/users/2535875/md-imran-choudhury"}, "edited": false, "score": 1, "creation_date": 1594529634, "post_id": 59978954, "comment_id": 111155033, "body": "Added but still don&#39;t found NavHostFragment"}], "tags": [], "owner": {"reputation": 59, "user_id": 12810905, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCqgWQ1OHZRJIqOOby6ZmGlpES58lLK9E27zenzJg=k-s128", "display_name": "ayush b", "link": "https://stackoverflow.com/users/12810905/ayush-b"}, "is_accepted": false, "score": 4, "last_activity_date": 1602400488, "last_edit_date": 1602400488, "creation_date": 1580357415, "answer_id": 59978954, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/59978954#59978954", "title": "NavHostFragment not accessible from XML", "body": "<p><code>NavHostFragment</code> is not accessible?<code>android:name=&quot;androidx.navigation.fragment.NavHostFragment</code></p>\n<p>So in your <code>build.gradle</code>, just add this two dependencies -</p>\n<p>For Java:-</p>\n<pre><code>dependencies {\ndef nav_version = &quot;2.3.0&quot;\n\nimplementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n}\n</code></pre>\n<p>For Kotlin:-</p>\n<pre><code>dependencies {\ndef nav_version = &quot;2.3.0&quot;\n\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n}\n</code></pre>\n<p>Reference Link:-\n<a href=\"https://developer.android.com/jetpack/androidx/releases/navigation\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/navigation</a></p>\n"}, {"tags": [], "owner": {"reputation": 8536, "user_id": 655275, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yH7Sk.jpg?s=128&g=1", "display_name": "lomza", "link": "https://stackoverflow.com/users/655275/lomza"}, "is_accepted": false, "score": 0, "last_activity_date": 1592301238, "creation_date": 1592301238, "answer_id": 62405752, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/62405752#62405752", "title": "NavHostFragment not accessible from XML", "body": "<p>Adding dependencies from <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started#Set-up\" rel=\"nofollow noreferrer\">Android Developers</a> helped me:</p>\n\n<pre><code>dependencies {\n   def nav_version = \"2.3.0-rc01\"\n\n  // Java language implementation\n  implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n  implementation \"androidx.navigation:navigation-ui:$nav_version\"\n\n  // Kotlin\n  implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version\"\n  implementation \"androidx.navigation:navigation-ui-ktx:$nav_version\"\n\n  // Dynamic Feature Module Support\n  implementation \"androidx.navigation:navigation-dynamic-features-fragment:$nav_version\"\n\n  // Testing Navigation\n  androidTestImplementation \"androidx.navigation:navigation-testing:$nav_version\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11147967, "user_type": "registered", "profile_image": "https://graph.facebook.com/2532823666731257/picture?type=large", "display_name": "Ade Trisna", "link": "https://stackoverflow.com/users/11147967/ade-trisna"}, "edited": false, "score": 0, "creation_date": 1596278020, "post_id": 63202617, "comment_id": 111764887, "body": "Apologize my answer is not correct. In my case do not change the &lt;fragment in the XML file to &lt;androidx.fragment.app.FragmentContainerView as suggested my Android Studio. I find out I do not add the correct dependency. Make sure both the fragment and ui end with ktx, eg. fragment-ktx:$version and ui-ktx:$version. Just spent a day to solve this. Google should definitely update their Tutorial. A good side though that I learned how to solve the problem and mostly cause by dependency."}], "tags": [], "owner": {"reputation": 21, "user_id": 11147967, "user_type": "registered", "profile_image": "https://graph.facebook.com/2532823666731257/picture?type=large", "display_name": "Ade Trisna", "link": "https://stackoverflow.com/users/11147967/ade-trisna"}, "is_accepted": false, "score": 2, "last_activity_date": 1596265337, "last_edit_date": 1596265337, "creation_date": 1596265007, "answer_id": 63202617, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml/63202617#63202617", "title": "NavHostFragment not accessible from XML", "body": "<p>I also just have this headache as I am following Android Kotlin Fundamental tutorial at <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-android-training-add-navigation/index.html#3\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/kotlin-android-training-add-navigation/index.html#3</a>\nHere is the code that works for me</p>\n<pre><code>&lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/myNavHostFragment&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:navGraph=&quot;@navigation/navigation&quot;\n        app:defaultNavHost=&quot;true&quot;/&gt;\n</code></pre>\n<p>Apparently the tutorial has not been updated. Also in the dependency need to update the library ..</p>\n<pre><code>....    \nimplementation &quot;androidx.navigation:navigation-fragment:2.3.0&quot;\nimplementation &quot;androidx.navigation:navigation-ui:2.3.0&quot;\n</code></pre>\n<p>I am using Android Studio 4.0.</p>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12486, "favorite_count": 3, "accepted_answer_id": 50385411, "answer_count": 6, "score": 11, "last_activity_date": 1602400488, "creation_date": 1526309716, "last_edit_date": 1528434342, "question_id": 50333357, "link": "https://stackoverflow.com/questions/50333357/navhostfragment-not-accessible-from-xml", "title": "NavHostFragment not accessible from XML", "body": "<p>I wanted to try new Navigation library. After following <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing\" rel=\"noreferrer\">this guideline</a> I experienced error at runtime:</p>\n\n<pre><code>Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\nCaused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\nCaused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment androidx.navigation.fragment.NavHostFragment: make sure class name exists, is public, and has an empty constructor that is public\n</code></pre>\n\n<p>in resource file <code>activity_home.xml</code>. This file is very simple:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.home.HomeActivity\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragment_navigation_host\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        app:defaultNavHost=\"true\"\n        app:navGraph=\"@navigation/navigation_home\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>I looked at the source code of <code>NavHostFragment</code> and I noticed that it uses <code>android.support.v4.app.Fragment</code> while whole my application uses <code>androidx.fragment.app.Fragment</code>. </p>\n\n<p>I'm not convinced that this is the issue, but I'm including some of my dependencies below:</p>\n\n<pre><code>// AndroidX\nimplementation     \"androidx.appcompat:appcompat:$appCompatVersion\"\nimplementation     \"androidx.constraintlayout:constraintlayout:$constraintLayoutVersion\"\nimplementation     \"androidx.lifecycle:lifecycle-extensions:$lifecycleVersion\"\nimplementation     \"androidx.recyclerview:recyclerview:$recyclerViewVersion\"\nimplementation     \"androidx.room:room-runtime:$roomVersion\"\nimplementation     \"androidx.room:room-rxjava2:$roomVersion\"\n\nkapt               \"androidx.room:room-compiler:$roomVersion\"\n\n// Navigation\nimplementation     \"android.arch.navigation:navigation-fragment-ktx:$navigationVersion\"\nimplementation     \"android.arch.navigation:navigation-ui-ktx:$navigationVersion\"\n</code></pre>\n\n<p>As you can see I'm using libraries from AndroidX except Navigation, because probably it's not migrated yet. The only place on Google where I can find <code>androidx.navigation</code> is <a href=\"https://developer.android.com/jetpack/docs/getting-started\" rel=\"noreferrer\">here</a>. Unfortunately Gradle is unable to download it.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I also have jetifier tool enabled inside my <code>gradle.properties</code>.</p>\n\n<pre><code>android.enableJetifier=true\nandroid.useAndroidX=true\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>It is fixed in Android Studio 3.2 Canary 17 as mentioned in <a href=\"https://stackoverflow.com/a/50385411/4386668\">this answer</a>. Don't forget to invalidate cache and restart in order to remove warnings in code.</p>\n"}, {"tags": ["android", "listview", "kotlin", "fragment"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1526309652, "post_id": 50333298, "comment_id": 87682734, "body": "What does logcat say?"}, {"owner": {"reputation": 403, "user_id": 5113880, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/979705745394962/picture?type=large", "display_name": "Eric Chong", "link": "https://stackoverflow.com/users/5113880/eric-chong"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1526310071, "post_id": 50333298, "comment_id": 87683066, "body": "I updated the logcat in the question"}, {"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "edited": false, "score": 1, "creation_date": 1526310245, "post_id": 50333298, "comment_id": 87683191, "body": "Have you read the error? it says that tutorialListView is null and you are trying to access its .adapter"}, {"owner": {"reputation": 403, "user_id": 5113880, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/979705745394962/picture?type=large", "display_name": "Eric Chong", "link": "https://stackoverflow.com/users/5113880/eric-chong"}, "edited": false, "score": 0, "creation_date": 1526310529, "post_id": 50333298, "comment_id": 87683386, "body": "i am new, so I may make some silly mistake. I created a tutorial list class with initial value, so the listview runs properly in the first fragment. Now it has error when runs in four fragment. And I don\u2019t understand why the error said the tutoriallist is null."}], "answers": [{"tags": [], "owner": {"reputation": 6058, "user_id": 886001, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7db5b712efab2db3ab15e3f585f6e095?s=128&d=identicon&r=PG", "display_name": "ColdFire", "link": "https://stackoverflow.com/users/886001/coldfire"}, "is_accepted": true, "score": 4, "last_activity_date": 1526310575, "creation_date": 1526310575, "answer_id": 50333656, "question_id": 50333298, "link": "https://stackoverflow.com/questions/50333298/kotlin-android-studio-listview-in-fragment/50333656#50333656", "title": "kotlin Android studio listView in Fragment", "body": "<p>your <code>ListView</code> instance is null. You should instantiate <code>tutorialListView</code> inside <code>onCreateView</code></p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val view: View = inflater.inflate(R.layout.fragment_four, container, false)\n    tutorialListView = view.findViewById&lt;ListView&gt;(R.id.recycler_view)\n\n    return view\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 5113880, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/979705745394962/picture?type=large", "display_name": "Eric Chong", "link": "https://stackoverflow.com/users/5113880/eric-chong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5383, "favorite_count": 0, "accepted_answer_id": 50333656, "answer_count": 1, "score": -1, "last_activity_date": 1526310575, "creation_date": 1526309558, "last_edit_date": 1526309993, "question_id": 50333298, "link": "https://stackoverflow.com/questions/50333298/kotlin-android-studio-listview-in-fragment", "title": "kotlin Android studio listView in Fragment", "body": "<p>The listview shows in the first fragment properly, that is the first screen of my app.</p>\n\n<p>but if I put the list view in another fragment that is not the first screen of the app. The app will shut down when i click other fragments. \nPlease kindly help to solve this issue.</p>\n\n<p>here with my code of FourFragment:</p>\n\n<pre><code>class FourFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_four, container, false)\n\n    }\n\n    var adapter:TutorialAdapter? = null\n    var listOfTutorial = TutorialList().list\n\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n\n        adapter = TutorialAdapter(context!!, mylist = listOfTutorial)\n        tutorialListView.adapter = adapter\n    }\n\n\n    fun openYoutubeLink(youtubeID: String) {\n        val intentApp = Intent(Intent.ACTION_VIEW, Uri.parse(\"vnd.youtube:\" + youtubeID))\n        val intentBrowser = Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.youtube.com/watch?v=\" + youtubeID))\n        try {\n            this.startActivity(intentApp)\n        } catch (ex: ActivityNotFoundException) {\n            this.startActivity(intentBrowser)\n        }\n    }\n\n\n    inner class TutorialAdapter : BaseAdapter {\n\n        var mylist=ArrayList&lt;Tutorial&gt;()\n        var context: Context?=null\n\n        constructor(context: Context, mylist:ArrayList&lt;Tutorial&gt;):super() {\n\n            this.context=context\n            this.mylist=mylist\n        }\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View? {\n            val tutorialget = mylist[position]\n            var inflater = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            var myView = inflater.inflate(R.layout.tutorial_layout,null)\n            myView.title.text = tutorialget.name\n            myView.youtubeIcon.setImageResource(tutorialget.image!!)\n            myView.youtubeIcon.setOnClickListener {\n                openYoutubeLink(youtubeID = tutorialget.youtubeLink!!)\n            }\n            return myView\n        }\n\n        override fun getItem(position: Int): Any {\n            return mylist[position]\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getCount(): Int {\n            return mylist.size\n        }\n    }\n\n\n\n}\n</code></pre>\n\n<p>Here with my code of MainActivity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var tabLayout: TabLayout? = null\n    var viewPager: ViewPager? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        //Action Bar\n        val actionBar = supportActionBar\n        actionBar!!.setDisplayShowHomeEnabled(true)\n        actionBar.setBackgroundDrawable(ColorDrawable(Color.parseColor(\"#00FFFFFF\")))\n        actionBar.setIcon(R.drawable.title)\n        actionBar.setDisplayShowTitleEnabled(false)\n\n\n\n\n        viewPager = findViewById(R.id.viewpager) as ViewPager\n        setupViewPager(viewPager!!)\n\n        tabLayout = findViewById(R.id.tabs) as TabLayout\n        tabLayout!!.setupWithViewPager(viewPager)\n\n        val headerView = (getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater)\n                .inflate(R.layout.custom_tab, null, false)\n\n        val linearLayoutOne = headerView.findViewById(R.id.ll) as LinearLayout\n        val linearLayout2 = headerView.findViewById(R.id.ll2) as LinearLayout\n        val linearLayout3 = headerView.findViewById(R.id.ll3) as LinearLayout\n        val linearLayout4 = headerView.findViewById(R.id.ll4) as LinearLayout\n\n        tabLayout!!.getTabAt(0)!!.setCustomView(linearLayoutOne)\n        tabLayout!!.getTabAt(1)!!.setCustomView(linearLayout2)\n        tabLayout!!.getTabAt(2)!!.setCustomView(linearLayout3)\n        tabLayout!!.getTabAt(3)!!.setCustomView(linearLayout4)\n\n    }\n\n    private fun setupViewPager(viewPager: ViewPager) {\n        val adapter = ViewPagerAdapter(supportFragmentManager)\n        adapter.addFragment(OneFragment(), \"ONE\")\n        adapter.addFragment(TwoFragment(), \"TWO\")\n        adapter.addFragment(ThreeFragment(), \"THREE\")\n        adapter.addFragment(FourFragment(), \"FOUR\")\n        viewPager.adapter = adapter\n    }\n\n    internal inner class ViewPagerAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager) {\n        private val mFragmentList = ArrayList&lt;Fragment&gt;()\n        private val mFragmentTitleList = ArrayList&lt;String&gt;()\n\n        override fun getItem(position: Int): Fragment {\n            return mFragmentList[position]\n        }\n\n        override fun getCount(): Int {\n            return mFragmentList.size\n        }\n\n        fun addFragment(fragment: Fragment, title: String) {\n            mFragmentList.add(fragment)\n            mFragmentTitleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence {\n            return mFragmentTitleList[position]\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ixgsA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixgsA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/diWWh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/diWWh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "asynchronous", "callback", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526308117, "post_id": 50332604, "comment_id": 87681598, "body": "Thank you but it doesn&#39;t work, I change it like you write but the system block at await without do nothing... I also post it in my answer"}, {"owner": {"reputation": 31, "user_id": 7992743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bdc29fa91147a01b2819a6efaccea0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/7992743/alexandr"}, "reply_to_user": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526308243, "post_id": 50332604, "comment_id": 87681690, "body": "@AlessandroCandon Then, can you update code and provide formatted logs?"}, {"owner": {"reputation": 31, "user_id": 7992743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bdc29fa91147a01b2819a6efaccea0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/7992743/alexandr"}, "reply_to_user": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526308551, "post_id": 50332604, "comment_id": 87681917, "body": "Thanks ) Then, it is looks like your function in activity don&#39;t calls callback methods. I mean, that problem is not in this code."}, {"owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526309774, "post_id": 50332604, "comment_id": 87682820, "body": "It is strange, why the activity will block this? I don&#39;t think it is possible because I only wait the response of the callback in order to construct the client. Do you know any workaround?"}, {"owner": {"reputation": 31, "user_id": 7992743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bdc29fa91147a01b2819a6efaccea0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/7992743/alexandr"}, "reply_to_user": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526312251, "post_id": 50332604, "comment_id": 87684448, "body": "@AlessandroCandon Can you just call one of your callback methods in <code>getToken()</code> method and return? This should leave some info in logcat. And put some logs after <code>await()</code> call."}], "tags": [], "owner": {"reputation": 31, "user_id": 7992743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bdc29fa91147a01b2819a6efaccea0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/7992743/alexandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1526307539, "creation_date": 1526307539, "answer_id": 50332604, "question_id": 50332295, "link": "https://stackoverflow.com/questions/50332295/callback-get-response-sync-kotlin/50332604#50332604", "title": "Callback get response Sync kotlin", "body": "<p>You shouldn't use <code>latch.count</code>. It is equals to 1 and <code>latch.count &gt; 1</code> is <code>false</code>. Then your function is returned. Just use <code>latch.await()</code> and it will await for one of callbacks.</p>\n\n<p>Sorry if I am wrong, I don't have enough repo to comment.</p>\n"}, {"comments": [{"owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526322633, "post_id": 50336239, "comment_id": 87689732, "body": "I need to import something ? because androd studio give me an error about suspendCancellableCoroutine"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526323718, "post_id": 50336239, "comment_id": 87690315, "body": "Isn&#39;t using coroutines for blocking calls backwards? You first set up everything for good-looking async code, then wrap it into <code>runBlocking</code>. It&#39;s in no way better than <code>CountDownLatch</code>."}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 0, "creation_date": 1526327781, "post_id": 50336239, "comment_id": 87692310, "body": "The use of runBlocking function in the example is just to call suspend functions right inside the onCreate() fun. It is just to try the code."}, {"owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526328603, "post_id": 50336239, "comment_id": 87692708, "body": "And if I want to user getToken not in a activity? And when I create the client I want to give it back to another function?"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 0, "creation_date": 1526329794, "post_id": 50336239, "comment_id": 87693296, "body": "Just call <code>getToken</code> whenever you want, in another suspend function or inside a coroutine. To learn more about coroutines read this:  <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "edited": false, "score": 0, "creation_date": 1526375760, "post_id": 50336239, "comment_id": 87708606, "body": "I add your solution, but it doesn&#39;t work, it is blocked on a white page"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 0, "creation_date": 1526396867, "post_id": 50336239, "comment_id": 87723316, "body": "That is because getToken take long to respond and the activity is blocked in the onCreate function. You should implement the whole thing outside the activity."}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 4, "last_activity_date": 1526330077, "last_edit_date": 1526330077, "creation_date": 1526320222, "answer_id": 50336239, "question_id": 50332295, "link": "https://stackoverflow.com/questions/50332295/callback-get-response-sync-kotlin/50336239#50336239", "title": "Callback get response Sync kotlin", "body": "<p>The best way I know to get the response of a callback in sync mode is using\nCoroutines and the function <code>suspendCancellableCoroutine</code>\nIn your case you can have this function:</p>\n\n<pre><code>suspend fun getToken(activity: Activity): TokenResult {\n    return suspendCancellableCoroutine { continuation -&gt;\n        (LoginManager(activity)).getToken(true, object : ServiceCallback&lt;String&gt; {\n            override fun success(token: String) {\n                continuation.resume(TokenResult.Success(token))\n            }\n\n            override fun failure(serviceError: ServiceError) {\n                continuation.resume(TokenResult.Error(serviceError))\n            }\n        })\n    }\n}\n\nsealed class TokenResult {\n    class Success(val token: String) : TokenResult()\n    class Error(val serviceError: ServiceError) : TokenResult()\n}\n</code></pre>\n\n<p>And in your <code>activity.onCreate</code>:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) = runBlocking {\n    super.onCreate(savedInstanceState)\n    val tokenResult = getToken(this)\n    if(tokenResult is Error){\n        finish()\n        return@runBlocking\n    }\n\n    //create client here with tokenResult.token value\n}\n</code></pre>\n\n<p>Give it a try and let me know...</p>\n\n<p><strong>EDIT:</strong> In the example I use <code>runBlocking</code> because <code>getToken</code> is a suspend function. In your own code you should handle this logic outside the activity.</p>\n\n<p><strong>EDIT:</strong>\nTo eneable coroutines in your project add the following lines in your gradle file:</p>\n\n<pre><code>dependencies {\n//other dependencies\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:0.22.5\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "is_accepted": true, "score": 1, "last_activity_date": 1529311918, "creation_date": 1529311918, "answer_id": 50905782, "question_id": 50332295, "link": "https://stackoverflow.com/questions/50332295/callback-get-response-sync-kotlin/50905782#50905782", "title": "Callback get response Sync kotlin", "body": "<p>At the end I use JavaRx in order to sync a callback.. this is the snippet.</p>\n\n<pre><code>fun getToken(loginManager: LoginManager): String {\nreturn Single\n        .create(SingleOnSubscribe&lt;String&gt; { emitter -&gt;\n            loginManager.getToken(object : TokenSimpleCallback {\n                override fun onSuccess(token: String) {\n                    emitter.onSuccess(token)\n                }\n\n                override fun onFailure(loginServiceError: LoginServiceError) {\n                    emitter.onError(Throwable(loginServiceError.toString()))\n                }\n            })\n        }).blockingGet()}\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 2343977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212f782b69a38c509dadb0cd55c51ef8?s=128&d=identicon&r=PG", "display_name": "Alessandro Candon", "link": "https://stackoverflow.com/users/2343977/alessandro-candon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3748, "favorite_count": 1, "accepted_answer_id": 50905782, "answer_count": 3, "score": 2, "last_activity_date": 1529311918, "creation_date": 1526306634, "last_edit_date": 1526368721, "question_id": 50332295, "link": "https://stackoverflow.com/questions/50332295/callback-get-response-sync-kotlin", "title": "Callback get response Sync kotlin", "body": "<p>I'm tring to get the response of a callback in sync mode because I the value of the response is needed to all application to work, without this value ( token ) I can't continue to use the application.\nThis is my companion object inside the retrofit interface. I need to set the token before creation of a client.</p>\n\n<p>What I'm doing wrong?</p>\n\n<p><strong>EDIT :</strong> </p>\n\n<p>I put as this Logs as you write :</p>\n\n<pre><code>companion object {\n\n    private var mToken: String = \"\"\n\n    fun create(activity: Activity): MyPhoneInterface {\n        Log.d(\"tokenMyPhoneInterface\", activity.localClassName)\n        getToken(activity)\n        Log.d(\"tokenMyPhoneInterface\", \"client token $mToken\")\n\n        val client = OkHttpClient.Builder()\n                .addInterceptor { chain -&gt;\n                    val request = chain.request().newBuilder()\n                            .addHeader(\"Authorization\", mToken).build()\n                    chain.proceed(request)\n                }.build()\n\n        val retrofit = Retrofit.Builder()\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .baseUrl(BuildConfig.API_HOST)\n                .build()\n\n        return retrofit.create(MyPhoneInterface::class.java)\n    }\n\n    private fun getToken(activity: Activity) {\n        if(!activity.isFinishing &amp;&amp; isJwtExpired(mToken)){\n            val latch = CountDownLatch(1)\n            (LoginManager(activity)).getToken(true, object : ServiceCallback&lt;String&gt; {\n                override fun success(token: String) {\n                    Log.d(\"tokenMyPhoneInterface\", \"token $token\")\n                    mToken = token\n                    latch.countDown()\n                }\n                override fun failure(serviceError: ServiceError) {\n                    Log.d(\"tokenMyPhoneInterface\", serviceError.errorMessage)\n                    latch.countDown()\n                }\n            })\n            Log.d(\"tokenMyPhoneInterface\", \"before await \")\n            latch.await()\n            Log.d(\"tokenMyPhoneInterface\", \"after await\")\n        }\n    }\n}\n</code></pre>\n\n<p>But I the system is blocked in the latch.await() and the logs is :</p>\n\n<p>05-14 18:19:00.127 848-848/com.italy.myphone D/tokenMyPhoneInterface: view.splash.activity.Splash\n05-14 18:19:00.131 848-848/com.italy.myphone D/tokenMyPhoneInterface: before await</p>\n\n<p><strong>EDIT answer2:</strong></p>\n\n<pre><code>sealed class TokenResult {\nclass Success(val token: String) : TokenResult()\nclass Error(val serviceError: ServiceError) : TokenResult()}\n\n\n\nsuspend fun getToken(activity: Activity): TokenResult {\nreturn suspendCancellableCoroutine { continuation -&gt;\n    (LoginManager(activity)).getToken(true, object : ServiceCallback&lt;String&gt; {\n        override fun success(token: String) {\n            continuation.resume(TokenResult.Success(token))\n        }\n\n        override fun failure(serviceError: ServiceError) {\n            continuation.resume(TokenResult.Error(serviceError))\n        }\n    })\n}}\n</code></pre>\n\n<p>And this is how to I try to call the suspend function :</p>\n\n<pre><code>companion object {\n    fun create(activity: Activity): MyPhoneInterface{\n        Log.d(\"tokenMyPhoneInterface\", activity.localClassName)\n\n\n        var token = runBlocking {\n            return@runBlocking getToken(activity)\n        }\n\n\n        Log.d(\"tokenMyPhoneInterface\", \"obtained token\")\n\n        Log.d(\"tokenMyPhoneInterface\", \"client token $tokenResult\")\n\n        val client = OkHttpClient.Builder()\n                .addInterceptor { chain -&gt;\n                    val request = chain.request().newBuilder()\n                            .addHeader(\"Authorization\", \"\").build()\n                    chain.proceed(request)\n                }.build()\n\n        val retrofit = Retrofit.Builder()\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .baseUrl(BuildConfig.API_HOST)\n                .build()\n\n        return retrofit.create(MyPhoneInterface::class.java)\n    }\n}\n</code></pre>\n\n<p>That is inside an interface and this is the code that I use to call the interface/companion object in the activity :</p>\n\n<pre><code>    private val mMyPhoneInterface by lazy {\n    MyPhoneInterface.create(activity)\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-jetpack"], "answers": [{"comments": [{"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1526301273, "post_id": 50330192, "comment_id": 87676820, "body": "I think I have both of them already please see the updated part of the question"}, {"owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "reply_to_user": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1526302453, "post_id": 50330192, "comment_id": 87677611, "body": "then remove it, you cannot have twice the same lib :-/"}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1526304467, "post_id": 50330192, "comment_id": 87678965, "body": "ok sure ill remove and try to build again, but its strange bcz it was generated by default in the project. and without making any change to dependencies I got the build error."}, {"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1526304886, "post_id": 50330192, "comment_id": 87679267, "body": "ok that error was fixed with this way and now I have a new error : the &#39;-d&#39; option with a directory destination is ignored because &#39;-Xbuild-file&#39; is specified"}], "tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": true, "score": 3, "last_activity_date": 1526300468, "creation_date": 1526300468, "answer_id": 50330192, "question_id": 50329891, "link": "https://stackoverflow.com/questions/50329891/android-jetpack-project-gives-archlifecycleversion-build-error/50330192#50330192", "title": "android jetpack project gives archlifecycleversion build error", "body": "<p>Replace <code>$rootProject.archLifecycleVersion</code> with actual version, i guess this is 1.1.1 right now</p>\n"}, {"comments": [{"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1526301260, "post_id": 50330223, "comment_id": 87676805, "body": "I think I have both of them already please see the updated part of the question"}], "tags": [], "owner": {"reputation": 41, "user_id": 9110652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0fc124541d83bdb5ab81e393438c33e?s=128&d=identicon&r=PG&f=1", "display_name": "Khaled Emara", "link": "https://stackoverflow.com/users/9110652/khaled-emara"}, "is_accepted": false, "score": 2, "last_activity_date": 1526300560, "creation_date": 1526300560, "answer_id": 50330223, "question_id": 50329891, "link": "https://stackoverflow.com/questions/50329891/android-jetpack-project-gives-archlifecycleversion-build-error/50330223#50330223", "title": "android jetpack project gives archlifecycleversion build error", "body": "<p>In your app Gradle file (build.gradle, you should see \"app\" to its right), you probably have</p>\n\n<pre><code>implementation 'android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion'\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>implementation 'android.arch.lifecycle:extensions:1.1.1'\n</code></pre>\n\n<p>or add this to the top of your implementation line</p>\n\n<pre><code>def archLifecycleVersion = 1.1.1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 1266417, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b9053b85f126a1f3da6ce27634f376ad?s=128&d=identicon&r=PG", "display_name": "Daniel Hern&#225;ndez Alcojor", "link": "https://stackoverflow.com/users/1266417/daniel-hern%c3%a1ndez-alcojor"}, "is_accepted": false, "score": 1, "last_activity_date": 1535623392, "creation_date": 1535623392, "answer_id": 52094311, "question_id": 50329891, "link": "https://stackoverflow.com/questions/50329891/android-jetpack-project-gives-archlifecycleversion-build-error/52094311#52094311", "title": "android jetpack project gives archlifecycleversion build error", "body": "<p>I think part (if not all) of the code is taken from this codelab: <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view/\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-room-with-a-view/</a></p>\n\n<p>In the third part of the codelab, titled \"Update gradle files\" they use these lines (in the module's build.gradle) to import Room and Lifecycle components:</p>\n\n<pre><code>// Room components\nimplementation \"android.arch.persistence.room:runtime:$rootProject.roomVersion\"\nannotationProcessor \"android.arch.persistence.room:compiler:$rootProject.roomVersion\"\nandroidTestImplementation \"android.arch.persistence.room:testing:$rootProject.roomVersion\"\n\n// Lifecycle components\nimplementation \"android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion\"\nannotationProcessor \"android.arch.lifecycle:compiler:$rootProject.archLifecycleVersion\"\n</code></pre>\n\n<p>So, these \"roomVersion\" and \"archLifecycleVersion\" are variables that you have to define in the main build.gradle file. In the example they use these values:</p>\n\n<pre><code>ext {\n   roomVersion = '1.0.0'\n   archLifecycleVersion = '1.1.0'\n}\n</code></pre>\n\n<p>But I've actually used \"1.1.1\" for both variables and it works.</p>\n"}], "owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2720, "favorite_count": 0, "accepted_answer_id": 50330192, "answer_count": 3, "score": 3, "last_activity_date": 1535623392, "creation_date": 1526299558, "last_edit_date": 1526301232, "question_id": 50329891, "link": "https://stackoverflow.com/questions/50329891/android-jetpack-project-gives-archlifecycleversion-build-error", "title": "android jetpack project gives archlifecycleversion build error", "body": "<p>I am new to android development and just created my first \"hello world\" project in android studio 3.2 ( canary ) following this tutorial.\n<a href=\"https://developer.android.com/jetpack/docs/getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/getting-started</a></p>\n\n<p>and then I just did <em>Build- > make project</em> project tried to build and gave me following error.</p>\n\n<blockquote>\n  <p>Could not get unknown property 'archLifecycleVersion' for root project 'JetpackHelloWorld' of type org.gradle.api.Project.</p>\n</blockquote>\n\n<p><strong>UPDATE</strong></p>\n\n<p><strong>Dependencies</strong></p>\n\n<blockquote>\n  <p>following is the dependencies tag in my app folder build.gradle file</p>\n</blockquote>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    implementation \"android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion\"\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-jetpack", "android-architecture-navigation"], "answers": [{"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 41, "last_activity_date": 1526299084, "last_edit_date": 1526299084, "creation_date": 1526297371, "answer_id": 50329214, "question_id": 50328941, "link": "https://stackoverflow.com/questions/50328941/navigation-architecture-component-action-navigation-with-lambda-expression/50329214#50329214", "title": "Navigation Architecture Component - Action Navigation with lambda expression", "body": "<p>Well, that's the proper way of working. The method <code>Navigation.createNavigateOnClickListener()</code> <a href=\"https://developer.android.com/reference/androidx/navigation/Navigation\" rel=\"noreferrer\">returns</a> a <code>View.OnClickListener</code> and according to the <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing#java\" rel=\"noreferrer\">docs</a> the proper way of assiging it is by using, even in Kotlin:</p>\n\n<pre><code>button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.next_fragment, null));\n</code></pre>\n\n<p>If you using the method inside the lambda, the lambda itself is the click listener so you're returning a click listener inside the click listener, that's why it isn't working. It's like doing this:</p>\n\n<pre><code>button.setOnClickListener {\n            View.OnClickListener {\n                Toast.makeText(this, \"hi\", Toast.LENGTH_LONG).show()\n            }\n        }\n</code></pre>\n\n<p>What you might be intrested in is this:</p>\n\n<pre><code> view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener { view -&gt;\n   view.findNavController().navigate(R.id.go_to_step_one)\n}\n</code></pre>\n\n<p>Which will perform the navigation transition on button click.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7445212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f3d30ef024013626bf5c39320dcf47d?s=128&d=identicon&r=PG&f=1", "display_name": "Teri Beckham", "link": "https://stackoverflow.com/users/7445212/teri-beckham"}, "is_accepted": false, "score": 1, "last_activity_date": 1602144529, "creation_date": 1602144529, "answer_id": 64258357, "question_id": 50328941, "link": "https://stackoverflow.com/questions/50328941/navigation-architecture-component-action-navigation-with-lambda-expression/64258357#64258357", "title": "Navigation Architecture Component - Action Navigation with lambda expression", "body": "<p>Replace the brackets after\n<code>.setOnClickListener</code>with parentheses</p>\n<pre><code> view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener {\n    Navigation.createNavigateOnClickListener(R.id.go_to_step_one, null)\n}\n\n view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener(\n    Navigation.createNavigateOnClickListener(R.id.go_to_step_one, null)\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6382158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2b82563ca8546f51dfdcede09fd385a?s=128&d=identicon&r=PG&f=1", "display_name": "yasincidem", "link": "https://stackoverflow.com/users/6382158/yasincidem"}, "is_accepted": false, "score": 0, "last_activity_date": 1607794507, "creation_date": 1607794507, "answer_id": 65267882, "question_id": 50328941, "link": "https://stackoverflow.com/questions/50328941/navigation-architecture-component-action-navigation-with-lambda-expression/65267882#65267882", "title": "Navigation Architecture Component - Action Navigation with lambda expression", "body": "<p>You are doing it almost right. The only thing missing is to call 'onClick' method. Let me add my working block of code here.</p>\n<pre><code>override fun onClick(v: View) {\n    when(v) {\n        dashboardButton -&gt; Navigation.createNavigateOnClickListener(LoginFragmentDirections.actionLoginFragmentToDashboardFragment()).onClick(v)\n        registerButton -&gt; Navigation.createNavigateOnClickListener(LoginFragmentDirections.actionLoginFragmentToRegisterFragment()).onClick(v)\n    }\n}\n</code></pre>\n<p>In your code, you should make a change like this.</p>\n<pre><code> view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener {\n    Navigation.createNavigateOnClickListener(R.id.go_to_step_one, null).onClick(view)\n}\n</code></pre>\n"}], "owner": {"reputation": 1007, "user_id": 4768929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1bf5292150f33000a6308c80f8a6aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Abidi", "link": "https://stackoverflow.com/users/4768929/ahmed-abidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4620, "favorite_count": 3, "accepted_answer_id": 50329214, "answer_count": 3, "score": 25, "last_activity_date": 1607794507, "creation_date": 1526296460, "last_edit_date": 1526510304, "question_id": 50328941, "link": "https://stackoverflow.com/questions/50328941/navigation-architecture-component-action-navigation-with-lambda-expression", "title": "Navigation Architecture Component - Action Navigation with lambda expression", "body": "<p>I have added a new action <code>Navigation.xml</code>:</p>\n\n<pre><code> &lt;fragment\n    android:id=\"@+id/launcher_home\"\n    android:name=\"com.example.android.codelabs.navigation.MainFragment\"\n    android:label=\"@string/home\"\n    tools:layout=\"@layout/main_fragment\"&gt;\n    &lt;action\n        android:id=\"@+id/go_to_step_one\"\n        app:destination=\"@id/flow_step_one\" /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>When calling the navigation action, if i use, the navigation works correctly : </p>\n\n<pre><code> view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener(\n            Navigation.createNavigateOnClickListener(R.id.go_to_step_one, null)\n    )\n</code></pre>\n\n<p>But when calling it with a lambda, it does not work : </p>\n\n<pre><code> view.findViewById&lt;Button&gt;(R.id.navigate_action_bt)?.setOnClickListener {\n        Navigation.createNavigateOnClickListener(R.id.go_to_step_one, null)\n    }\n</code></pre>\n"}, {"tags": ["design-patterns", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "edited": false, "score": 0, "creation_date": 1526297283, "post_id": 50328853, "comment_id": 87674214, "body": "Which one of those would that be?"}], "tags": [], "owner": {"reputation": 11, "user_id": 2504860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qi6SJ.jpg?s=128&g=1", "display_name": "Alexey  Novikov", "link": "https://stackoverflow.com/users/2504860/alexey-novikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1526296163, "creation_date": 1526296163, "answer_id": 50328853, "question_id": 50328753, "link": "https://stackoverflow.com/questions/50328753/why-this-code-is-not-possible-in-kotlin/50328853#50328853", "title": "Why this code is not possible in Kotlin?", "body": "<p>It caused by the JVM generics restrictions. More information you can read [here] (<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html</a>).</p>\n"}, {"comments": [{"owner": {"reputation": 3615, "user_id": 1366415, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18hVz.gif?s=128&g=1", "display_name": "Simple Fellow", "link": "https://stackoverflow.com/users/1366415/simple-fellow"}, "edited": false, "score": 0, "creation_date": 1526296950, "post_id": 50328905, "comment_id": 87673994, "body": "Im not using the derived class as the parameter, The generic parameter is a certain class of interfaces. I think you are confusion it with the cute named &quot;Curiously Recurring Template Pattern&quot;"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3615, "user_id": 1366415, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18hVz.gif?s=128&g=1", "display_name": "Simple Fellow", "link": "https://stackoverflow.com/users/1366415/simple-fellow"}, "edited": false, "score": 1, "creation_date": 1526297352, "post_id": 50328905, "comment_id": 87674265, "body": "I think you are the one confusing it: <code>: T</code> is exactly what the quoted line disallows, while CRTP works in C#, Java, and Kotlin just fine."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3615, "user_id": 1366415, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18hVz.gif?s=128&g=1", "display_name": "Simple Fellow", "link": "https://stackoverflow.com/users/1366415/simple-fellow"}, "edited": false, "score": 0, "creation_date": 1526298245, "post_id": 50328905, "comment_id": 87674837, "body": "I&#39;ve added another paragraph which may make the problem more clear."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 8, "last_activity_date": 1526298978, "last_edit_date": 1526298978, "creation_date": 1526296348, "answer_id": 50328905, "question_id": 50328753, "link": "https://stackoverflow.com/questions/50328753/why-this-code-is-not-possible-in-kotlin/50328905#50328905", "title": "Why this code is not possible in Kotlin?", "body": "<p>Because Kotlin uses generics, not templates. It has just one <code>EndPoint</code> class instead of creating a new one for every <code>T</code> like C++ does. </p>\n\n<p>And on JVM this class needs to extend exactly one superclass (possibly <code>Object</code>) and a specific set of interfaces (possibly none). I.e. you can't have <code>EndPoint&lt;BlueInterface&gt;</code> implement <code>BlueInterface</code> but not <code>RedInterface</code> and vice versa for <code>EndPoint&lt;RedInterface&gt;</code>.</p>\n\n<p>According to MSDN it doesn't work in C# either (I believe CLR has the same requirement when defining classes):</p>\n\n<blockquote>\n  <p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/differences-between-cpp-templates-and-csharp-generics\" rel=\"nofollow noreferrer\">C# does not allow the type parameter to be used as the base class for the generic type.</a></p>\n</blockquote>\n\n<p>It's C++ which is the exception here.</p>\n"}], "owner": {"reputation": 3615, "user_id": 1366415, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18hVz.gif?s=128&g=1", "display_name": "Simple Fellow", "link": "https://stackoverflow.com/users/1366415/simple-fellow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526298978, "creation_date": 1526295782, "question_id": 50328753, "link": "https://stackoverflow.com/questions/50328753/why-this-code-is-not-possible-in-kotlin", "title": "Why this code is not possible in Kotlin?", "body": "<p>Below is a perfectly construct in C++, C# and other similar languages. Why this is not possible in Kotlin</p>\n\n<pre><code>open class EndPoint&lt;T&gt; (url: String): T{\n\n...\n}\n\nclass BlueEndPoint: EndPoint&lt;BlueInterface&gt;{}\nclass RedEndPoint: EndPoint&lt;RedInterface&gt;{}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "edited": false, "score": 0, "creation_date": 1526295758, "post_id": 50328655, "comment_id": 87673241, "body": "try removig the  if(savedStock == null || stock.buyPrice &gt; 0 || stock.numberOfShares &gt; 0) {             savedStock = stock         } and only savedStock = stock"}, {"owner": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "reply_to_user": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "edited": false, "score": 0, "creation_date": 1526296037, "post_id": 50328655, "comment_id": 87673411, "body": "@SahilManchanda Hi, I have done that. The problem is still there :("}, {"owner": {"user_type": "does_not_exist", "display_name": "user9025311"}, "edited": false, "score": 0, "creation_date": 1526301210, "post_id": 50328655, "comment_id": 87676763, "body": "when you say it resets values what do you mean?"}, {"owner": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "edited": false, "score": 0, "creation_date": 1526301465, "post_id": 50328655, "comment_id": 87676941, "body": "@Eminem the EditText values reset to default value of 0 when they should not be because I have already set there values to none 0. I think that is because the RecyclerView already destroyed the top most items thats why there values were reset"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "edited": false, "score": 0, "creation_date": 1526302131, "post_id": 50330578, "comment_id": 87677391, "body": "Hi, I have initialized the data and the recycler in onCreateView of the fragment. I have figured out why the child items reset, because the recycler view have already recycled the previous items after adding new items.  I have found a workaround for this, increase the size of recyclerView.setItemViewCacheSize(int); to ensure that the recyclerview will not yet destroy the previous items"}, {"owner": {"reputation": 257, "user_id": 8360050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KSgfEJ93xRM/AAAAAAAAAAI/AAAAAAAAAa0/fBZsbI2n-KA/photo.jpg?sz=128", "display_name": "praveen verma", "link": "https://stackoverflow.com/users/8360050/praveen-verma"}, "reply_to_user": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "edited": false, "score": 0, "creation_date": 1526303222, "post_id": 50330578, "comment_id": 87678166, "body": "Just add an item in recyclerView after creating it or by using any method so that app cannot load data again automatically."}], "tags": [], "owner": {"reputation": 257, "user_id": 8360050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KSgfEJ93xRM/AAAAAAAAAAI/AAAAAAAAAa0/fBZsbI2n-KA/photo.jpg?sz=128", "display_name": "praveen verma", "link": "https://stackoverflow.com/users/8360050/praveen-verma"}, "is_accepted": false, "score": 1, "last_activity_date": 1526301583, "creation_date": 1526301583, "answer_id": 50330578, "question_id": 50328655, "link": "https://stackoverflow.com/questions/50328655/recyclerview-items-values-reset-when-scrolling-down/50330578#50330578", "title": "RecyclerView Items&#39; values reset when scrolling down", "body": "<p>As I have seen in your code you are trying to add an item just after the activity load. So when you scroll your activity then again it calls the onCreate activity and data is again load from the storage or network so load data in specific method or in OnActiviyt Result method.</p>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "is_accepted": true, "score": 5, "last_activity_date": 1526302429, "creation_date": 1526302429, "answer_id": 50330859, "question_id": 50328655, "link": "https://stackoverflow.com/questions/50328655/recyclerview-items-values-reset-when-scrolling-down/50330859#50330859", "title": "RecyclerView Items&#39; values reset when scrolling down", "body": "<p>I found a workaround by increasing the cache size of the recyclerview. Just ensure that the cache size is good enough for your application.</p>\n\n<p>code:</p>\n\n<pre><code>recyclerView.setItemViewCacheSize(int);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3123, "user_id": 2424415, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/573bc7d4a25d71a48f0e0aa9e5667ce7?s=128&d=identicon&r=PG", "display_name": "elmorabea", "link": "https://stackoverflow.com/users/2424415/elmorabea"}, "is_accepted": false, "score": 0, "last_activity_date": 1526302843, "creation_date": 1526302843, "answer_id": 50330982, "question_id": 50328655, "link": "https://stackoverflow.com/questions/50328655/recyclerview-items-values-reset-when-scrolling-down/50330982#50330982", "title": "RecyclerView Items&#39; values reset when scrolling down", "body": "<p>I don't know in your code what is <code>savedStock</code> or what do you use it for. But your <code>populateView</code> method doesn't work as intended.</p>\n\n<p>If you only use this <code>savedStock</code> for rendering, remove it completely, otherwise, don't use it in the <code>populateView</code>.</p>\n\n<p>In <code>populateView</code> depend on the <code>stock</code> passed according to the position you get to draw the values.</p>\n\n<p>Your code should be something like</p>\n\n<pre><code>this.buyPrice.setText(if (stock!!.buyPrice &lt;= 0.0) \"\" else stock!!.buyPrice.toString())\nthis.numberOfShares.setText(if (stock!!.numberOfShares &lt;= 0.0) \"\" else stock!!.numberOfShares.toString())\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 1657925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d233856817b7723d5eb232293f8f51c?s=128&d=identicon&r=PG", "display_name": "Kenzo-kun", "link": "https://stackoverflow.com/users/1657925/kenzo-kun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2090, "favorite_count": 1, "accepted_answer_id": 50330859, "answer_count": 3, "score": 1, "last_activity_date": 1526302843, "creation_date": 1526295474, "question_id": 50328655, "link": "https://stackoverflow.com/questions/50328655/recyclerview-items-values-reset-when-scrolling-down", "title": "RecyclerView Items&#39; values reset when scrolling down", "body": "<p>Here is the scenario of what I am trying to do: I am creating a RecyclerView that can add or remove one or more child item/fragment/view that has EditText(s) but....</p>\n\n<p>Here is my problem: Whenever I scroll down in my RecyclerView, its items' value resets. I think the problem here is that the RecyclerView Adapter cannot bind or hold the values but I don't know where exactly is the problem in my code.</p>\n\n<pre><code>class StocksAdapter() : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\n\nclass StockFragmentHolder : ViewHolder {\n    fun Double.format(digits: Int) = java.lang.String.format(\"%,.${digits}f\", this)\n\n\n    lateinit var numberOfShares: EditText;\n    lateinit var buyPrice: EditText;\n    lateinit var btnCompute: Button\n    lateinit var btnRemove: Button\n    lateinit var stockAveragePrice: TextView\n    lateinit var stockTotalAmount: TextView\n    private var savedStock : Stock? = null\n\n    constructor(view: View) : super(view) {\n        numberOfShares = view.findViewById(R.id.stockNumberOfShares)\n        buyPrice = view.findViewById(R.id.stockBuyPrice)\n        btnCompute = view.findViewById(R.id.btnCompute)\n        btnRemove = view.findViewById(R.id.btnRemove)\n        stockAveragePrice = view.findViewById(R.id.stockAveragePrice)\n        stockTotalAmount = view.findViewById(R.id.stockTotalAmount)\n    }\n\n\n    fun populateView(stock: Stock, onStocksAdapterListener: OnStocksAdapterListener, position: Int) {\n\n        if(savedStock == null || stock.buyPrice &gt; 0 || stock.numberOfShares &gt; 0) {\n            savedStock = stock\n        }\n\n        this.buyPrice.setText(if (savedStock!!.buyPrice &lt;= 0.0) \"\" else savedStock!!.buyPrice.toString())\n        this.numberOfShares.setText(if (savedStock!!.numberOfShares &lt;= 0.0) \"\" else savedStock!!.numberOfShares.toString())\n        this.stockAveragePrice.text = \"0\"\n        this.stockTotalAmount.text = \"0\"\n\n        this.btnCompute.setOnClickListener(View.OnClickListener {\n\n            var stock = Stock();\n\n            stock.numberOfShares = this.numberOfShares.text.toString().toLongOrNull()\n            stock.buyPrice = this.buyPrice?.text.toString().toDoubleOrNull()\n            stock.sellPrice = 0.0\n\n\n            if (stock.numberOfShares != null || stock.numberOfShares != 0L) {\n\n                var buyTotalAmount: Double = 0.0;\n                buyTotalAmount = StocksCalculator.calculateTotalSharesPrice(stock, StocksCalculator.TRANSACTION_FEE_BASE_VALUES, Constants.TRANSACTION_TYPE.TRANSACTION_TYPE_BUY)\n\n                var averagePricePerShare = (buyTotalAmount / stock.numberOfShares)\n\n                this.stockAveragePrice.text = averagePricePerShare.format(2);\n                this.stockTotalAmount.text = \"\" + buyTotalAmount.format(2)\n\n                onStocksAdapterListener.onStocksComputeButtonClicked(stock.numberOfShares, averagePricePerShare, buyTotalAmount, position)\n            }\n        })\n\n        this.btnRemove.setOnClickListener(View.OnClickListener {\n            onStocksAdapterListener.onStocksRemoveButtonClicked(position)\n        })\n\n    }\n}\n\n\nlateinit var onStocksAdapterListener: OnStocksAdapterListener;\nlateinit var listStocks: ArrayList&lt;Stock&gt;\n\npublic constructor(listStocks: ArrayList&lt;Stock&gt;, onStocksAdapterListener: OnStocksAdapterListener) : this() {\n    this.listStocks = listStocks\n    this.onStocksAdapterListener = onStocksAdapterListener\n    setHasStableIds(true)\n\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder {\n    var itemView = LayoutInflater.from(parent?.getContext())\n            .inflate(R.layout.fragment_stock, parent, false)\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return position\n}\n\n\noverride fun getItemCount(): Int {\n    return listStocks.size\n}\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder?, position: Int) {\n    var stock: Stock = listStocks.get(position)\n    holder.populateView(stock, this.onStocksAdapterListener, position)\n}\n\n\npublic interface OnStocksAdapterListener {\n    public fun onStocksAddButtonClicked()\n\n    public fun onStocksComputeButtonClicked(numberOfShares: Long?, averagePricePerShare: Double?, averageTotalAmount: Double?, position: Int)\n\n    public fun onStocksRemoveButtonClicked(position: Int)\n}\n</code></pre>\n\n<p>Here is how I create my recyclerView in my Fragment:</p>\n\n<pre><code>    val mLayoutManager = LinearLayoutManager(this.context)\n    var recyclerView: RecyclerView = view.findViewById(R.id.recyclerView)\n\n    val itemDecorator = DividerItemDecoration(context, DividerItemDecoration.VERTICAL)\n    itemDecorator.setDrawable(ContextCompat.getDrawable(context, R.drawable.divider))\n    recyclerView.addItemDecoration(itemDecorator)\n    recyclerView.setLayoutManager(mLayoutManager)\n    recyclerView.setItemAnimator(DefaultItemAnimator())\n    recyclerView.adapter = stocksAdapter\n</code></pre>\n\n<p>I have tried disabling the setIsRecyclable of the ViewHolder but the problem still persists.</p>\n\n<p>What is the best approach to prevent the RecyclerView to stop resetting the values? Or should I replace the RecyclerView with ListView?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526293028, "post_id": 50327851, "comment_id": 87671705, "body": "Thanks and is there a way I can handle multiple messages when one or more of these messages would have this kind of loop behaviour?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526293185, "post_id": 50327851, "comment_id": 87671798, "body": "Yes, all of the loops will run &quot;concurrently&quot; on the UI thread, i.e., their individual iterations will be interleaved. <code>delay()</code>, of course, is a suspending, not a blocking method."}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526293449, "post_id": 50327851, "comment_id": 87671932, "body": "Isn&#39;t this achievable with actor? I would like to send &quot;commands&quot; to it having an when branch inside deciding what would each command do. And the actor itself would in one branch of when (only one command has this desired behaviour) send the same command but with delay."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526293752, "post_id": 50327851, "comment_id": 87672113, "body": "I don&#39;t quite follow your description and I also have far less experience with Kotlin actors. My answer pertains to your question as posted."}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526293873, "post_id": 50327851, "comment_id": 87672187, "body": "Thanks anyway, would it help if I posted some example code?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1526296297, "post_id": 50327851, "comment_id": 87673578, "body": "That depends :) I&#39;m missing information about your use case that you say motivates the use of actors as opposed to the simple loop I&#39;ve shown."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1526292679, "creation_date": 1526292679, "answer_id": 50327851, "question_id": 50327255, "link": "https://stackoverflow.com/questions/50327255/coroutines-handler-like-behaviour/50327851#50327851", "title": "Coroutines Handler like behaviour", "body": "<blockquote>\n  <p>Is this behaviour achievable with coroutines? </p>\n</blockquote>\n\n<p>Yes, and in an almost embarrassingly straightforward way:</p>\n\n<pre><code>launch(UI) {\n    while (!done()) {\n        // loop body\n        delay(loopDelayMillis)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1526292679, "creation_date": 1526290656, "question_id": 50327255, "link": "https://stackoverflow.com/questions/50327255/coroutines-handler-like-behaviour", "title": "Coroutines Handler like behaviour", "body": "<p>In one part of my application I post runnable to a Handler, then the code inside <code>run()</code> executes and posts the same runnable to Handler with <code>postDelayed()</code>. This creates something like loop. Is this behaviour achievable with coroutines? I tried to use channel, but I couldn't get it to work.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526290352, "post_id": 50327093, "comment_id": 87669961, "body": "I don&#39;t see the connection between using the <code>field</code> identifier and initial value being present."}, {"owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526291027, "post_id": 50327093, "comment_id": 87670421, "body": "@MarkoTopolnik in Kotlin if you don&#39;t use &quot;field&quot; identifier inside the body of getter or setter then the property may not need to be initialized, for example:  class Square(var width: Int, var height: Int) {      val isSquare : Boolean         get() = width == height         }  but if you change the getter of &quot;isSquare&quot; like this  get() = field then the property &quot;isSquare&quot; must be initialized."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1526291213, "post_id": 50327093, "comment_id": 87670559, "body": "Because in the first example there&#39;s no backing field at all, it&#39;s a computed property. This still has no connection to having a default value. In your case all properties will have a backing field, it&#39;s only that one has a default value and the other two must be passed to the constructor."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1526291651, "creation_date": 1526291651, "answer_id": 50327546, "question_id": 50327093, "link": "https://stackoverflow.com/questions/50327093/what-are-the-implementation-of-default-accessors-in-kotlin/50327546#50327546", "title": "What are the implementation of default accessors in Kotlin", "body": "<p>Properties placed in the header of a class declaration are a convenience if you need to store simple properties in a class, and you want to initialize them through constructor arguments with the same names. If you use these, you give up the ability to give them custom setters and getters - this can only be done for properties in the body of the class.</p>\n\n<p>Otherwise, the default implementation of their getters (and setters for <code>var</code>s) are the same as for properties in the class body. They just return (and set) the value of the backing field.</p>\n\n<p>Edit, following up on the comments above: this also means that the properties in the constructor always have to be initialized, they can't be computed properties, since you can't give them getters and setters that wouldn't use their backing field.</p>\n"}], "owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 50327546, "answer_count": 1, "score": 0, "last_activity_date": 1526299972, "creation_date": 1526290159, "last_edit_date": 1526299972, "question_id": 50327093, "link": "https://stackoverflow.com/questions/50327093/what-are-the-implementation-of-default-accessors-in-kotlin", "title": "What are the implementation of default accessors in Kotlin", "body": "<p>I have a class like this</p>\n\n<pre><code>class Square(var width: Int, var height: Int) {\n    var color : String = \"red\"\n}\n</code></pre>\n\n<p>As my understanding Kotlin's compiler will consider width, height and color are properties of class Square and therefore it will generate setter and getter for these properties automatically.</p>\n\n<p>With property color, i guess the getter and setter of it should be liked this</p>\n\n<pre><code>var color : String = \"red\"\nget() = field\nset(value) { field = value}\n</code></pre>\n\n<p>But how about the default setter and getter of the width and height properties. These properties don't have initialization values so they can't have \"field\"  identifier in the getter and setter. Does anyone know the answer?</p>\n"}, {"tags": ["spring-security", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 2131, "user_id": 8951344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdfbf61395a8ed79dac340aa909c9c8f?s=128&d=identicon&r=PG", "display_name": "MuratOzkan", "link": "https://stackoverflow.com/users/8951344/muratozkan"}, "edited": false, "score": 0, "creation_date": 1526286807, "post_id": 50325635, "comment_id": 87667805, "body": "Can you add the solution and accept that as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 4247393, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_MV01AKWUM/AAAAAAAAAAI/AAAAAAAAACA/Od4PizOwAgI/photo.jpg?sz=128", "display_name": "Ricardo Romero Ben&#237;tez", "link": "https://stackoverflow.com/users/4247393/ricardo-romero-ben%c3%adtez"}, "is_accepted": false, "score": 0, "last_activity_date": 1526374156, "creation_date": 1526374156, "answer_id": 50345964, "question_id": 50325635, "link": "https://stackoverflow.com/questions/50325635/webflux-statuscode-can-not-be-changed/50345964#50345964", "title": "Webflux statuscode can not be changed", "body": "<p>Ok, after testing so many things this days, I resolved it just changing the \"SecurityWebFiltersOrder\" to \"SecurityWebFiltersOrder.AUTHORIZATION\"</p>\n"}], "owner": {"reputation": 385, "user_id": 4247393, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_MV01AKWUM/AAAAAAAAAAI/AAAAAAAAACA/Od4PizOwAgI/photo.jpg?sz=128", "display_name": "Ricardo Romero Ben&#237;tez", "link": "https://stackoverflow.com/users/4247393/ricardo-romero-ben%c3%adtez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526374156, "creation_date": 1526285072, "question_id": 50325635, "link": "https://stackoverflow.com/questions/50325635/webflux-statuscode-can-not-be-changed", "title": "Webflux statuscode can not be changed", "body": "<p>So I have one AuthenticationWebFilter to add a trigger when someone is Authenticated like this:</p>\n\n<pre><code>val builder : HttpSecurity.AuthorizeExchangeBuilder = http\n            .addFilterAt(\n                    CustomAuthenticationWebFilter(securityContextRepository),\n                    SecurityWebFiltersOrder.AUTHENTICATION\n            )\n            .authorizeExchange().permitAll()\n</code></pre>\n\n<p>And then in \"CustomAuthenticationWebFilter\" I change the statusCode with some logic, somethig like this:</p>\n\n<pre><code>override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\n    return super.filter(exchange, chain)\n            .doOnSuccess {\n                    exchange.response.statusCode = UNAUTHORIZED\n                    return@doOnSuccess\n             }\n</code></pre>\n\n<p>The point is, when I am doing a request, the flow is going to before to the WebFilter</p>\n\n<blockquote>\n  <p>AbstractServerHttpResponse#doCommit</p>\n</blockquote>\n\n<p>and then the state is change to \"COMMITTED\" and when I call to</p>\n\n<blockquote>\n  <p>AbstractServerHttpResponse#setStatusCode</p>\n</blockquote>\n\n<p>it's not possible to change it.</p>\n\n<p>It's possible to change the statusCode before be commited?</p>\n\n<p>build.gradle</p>\n\n<blockquote>\n  <p>compile('org.springframework.boot:spring-boot-starter-webflux')\n      compile('org.springframework.security:spring-security-web')\n      compile('org.springframework.security:spring-security-config')</p>\n</blockquote>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-tablayout", "viewpagerindicator"], "owner": {"reputation": 395, "user_id": 8127475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Rsmsv.jpg?s=128&g=1", "display_name": "Keval Shukla", "link": "https://stackoverflow.com/users/8127475/keval-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1526287123, "creation_date": 1526285035, "last_edit_date": 1526287123, "question_id": 50325622, "link": "https://stackoverflow.com/questions/50325622/stop-changing-tab-indicator-color-until-and-unless-tab-changed", "title": "Stop changing Tab Indicator color until and unless tab changed", "body": "<p>I have 3 tabs in my activity and tabs would not be changed by swiping or selecting on tab lablayout. But tab indicator color is change on clicking on tabs even though i stopped changing tabs by clicking. Following are my code to represent the tab layout.</p>\n\n<p>XML File :</p>\n\n<pre><code>&lt;android.support.design.widget.TabLayout\n    android:id=\"@+id/tlCreateAccount\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"55dp\"\n    android:background=\"@color/colorPrimary\"\n    android:minHeight=\"?attr/actionBarSize\"\n    app:tabIndicatorColor=\"@android:color/white\"\n    app:tabIndicatorHeight=\"3dp\"\n    app:tabSelectedTextColor=\"@android:color/white\"\n\n\n    app:tabTextColor=\"@android:color/white\"&gt;&lt;/android.support.design.widget.TabLayout&gt;\n\n\n&lt;android.support.v4.view.ViewPager\n    android:id=\"@+id/vpCreateAccount\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"&gt;&lt;/android.support.v4.view.ViewPager&gt;\n</code></pre>\n\n<p>KT File :</p>\n\n<pre><code>class CreateAccountActivity : BaseActivity(), CreateAccountDetailsFragment.OnCheckChanged, ChangeTabs {\n\nlateinit var verificationDetailsFragment: CreateVerificationDetailsFragment\nlateinit var accountDetailsFragment: CreateAccountDetailsFragment\nlateinit var bankDetailsFragment: CreateBankDetailsFragment\n\nprivate var account: Account? = null\n\nprivate lateinit var accountRepo: AccountRepo\nprivate val accountObserverval = Observer&lt;ApiResponse&lt;Account&gt;&gt; { response: ApiResponse&lt;Account&gt;? -&gt;\n    updateProgressBar(false)\n    if (response != null) {\n        if (response.throwable == null) {\n            if (response.isResponseOk() &amp;&amp; response.responseBody != null) {\n                val intent = Intent()\n                setResult(RESULT_OK , intent)\n                onBackPressed()\n            } else {\n                val errorBody = response.errorBody\n                try {\n                    val gson = GsonBuilderHelper.instance.getGson()\n                    val accountError = gson.fromJson&lt;ErrorMessage&gt;(errorBody, ErrorMessage::class.java)\n                    showErrorSnackBar(this, rootView, accountError.MessageDetail)\n                } catch (e: Exception) {\n                    ExceptionHelper.displayException(this, rootView, e)\n                }\n            }\n        } else {\n            ExceptionHelper.displayException(this, rootView, response.throwable!!)\n        }\n    }\n}\n\n\nvar tabAdapter: TabAdapter? = null\n\nvar name = \"\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_create_account)\n\n    updateProgressBar(false)\n\n    val intent: Intent = getIntent()\n    account = intent.getSerializableExtra(ConstantHelper.BUNDLE_ACCOUNT_DETAILS) as? Account\n\n\n    tabAdapter = TabAdapter(supportFragmentManager)\n\n\n    accountRepo = AccountRepo(this)\n    accountRepo.accountLiveData.observe(this, accountObserverval)\n\n    setupViewPager(vpCreateAccount!!)\n    tlCreateAccount!!.setupWithViewPager(vpCreateAccount)\n\n    tlCreateAccount.clearOnTabSelectedListeners()\n\n    vpCreateAccount.setOnTouchListener(object : View.OnTouchListener {\n        override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n\n            val Page = vpCreateAccount.currentItem\n\n            if (vpCreateAccount.currentItem == Page) {\n\n                vpCreateAccount.setCurrentItem(Page - 1, false)\n                vpCreateAccount.setCurrentItem(Page, false)\n                return true\n\n            }\n\n            return false\n        }\n    })\n\n}\n\ninner class TabAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n    private val fragmentList = ArrayList&lt;Fragment&gt;()\n    private val fragmentTitleList = ArrayList&lt;String&gt;()\n\n\n    override fun getItem(position: Int): Fragment {\n        return fragmentList.get(position)\n    }\n\n    override fun getCount(): Int {\n        return fragmentList.size\n    }\n\n\n    fun addFragment(fragment: Fragment, title: String) {\n        fragmentList.add(fragment)\n        fragmentTitleList.add(title)\n    }\n\n    fun removeTabPage(position: Int) {\n        if (!fragmentTitleList.isEmpty() &amp;&amp; position &lt; fragmentList.size) {\n            fragmentList.removeAt(2)\n            fragmentList.removeAt(position)\n            notifyDataSetChanged()\n\n        }\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return fragmentTitleList.get(position)\n    }\n\n    fun getTabView(position: Int): View {\n        val view = LayoutInflater.from(this@CreateAccountActivity).inflate(R.layout.layout_tab_view, null)\n        view.tvBsTitle.text = fragmentTitleList[position]\n        return view\n\n    }\n\n\n}\n\nprivate fun setupViewPager(viewPager: ViewPager) {\n    accountDetailsFragment = CreateAccountDetailsFragment(this, this , account)\n    tabAdapter?.addFragment(accountDetailsFragment, \"Create Account\")\n\n\n    viewPager.adapter = tabAdapter\n    tabAdapter?.notifyDataSetChanged()\n\n}\n\n}\n</code></pre>\n\n<p>Tab will not change until and unless i pressed button in my fragment (Its wotking properly). The only issue is tab indicator is still changing on click of tab . Is there any way to change indicator only when tab change?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1526286994, "post_id": 50324564, "comment_id": 87667909, "body": "<code>You can use both java and Kotlin in a single class file.</code>---this is kind of a confusing sentence. Yes, you can access classes written in java and kotlin from the same class, but you can&#39;t write kotlin and java in a single source code file."}], "tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": true, "score": 1, "last_activity_date": 1526280901, "last_edit_date": 1526280901, "creation_date": 1526280802, "answer_id": 50324564, "question_id": 50324439, "link": "https://stackoverflow.com/questions/50324439/can-we-build-kotin-and-java-mix-application/50324564#50324564", "title": "Can we build Kotin and Java Mix application?", "body": "<p>Short answer yes you can.</p>\n\n<blockquote>\n  <p>If we used some of the files in Kotlin language and some in java?</p>\n</blockquote>\n\n<p>You can use both java and Kotlin in a single class file.</p>\n\n<blockquote>\n  <p>Does it affect at the time of uploading in playstore?</p>\n</blockquote>\n\n<p>No</p>\n\n<blockquote>\n  <p>Best way or tutorial to learn kotlin?</p>\n</blockquote>\n\n<ul>\n<li><p><a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/</a></p></li>\n<li><p>Kotlin for android developers ebook</p></li>\n</ul>\n\n<blockquote>\n  <p>I had also tried flutter but as I don't have much knowledge of dart language.So I switch towards kotlin. Let me know I am right or wrong?</p>\n</blockquote>\n\n<p>Yes, you are. However you can also play with Flutter besides Kotlin. Its pretty cool.</p>\n"}], "owner": {"reputation": 1328, "user_id": 6920195, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QJEdX_jqF38/AAAAAAAAAAI/AAAAAAAAD-U/VfTaeFteLv8/photo.jpg?sz=128", "display_name": "Rohan Lodhi", "link": "https://stackoverflow.com/users/6920195/rohan-lodhi"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "closed_date": 1526283551, "accepted_answer_id": 50324564, "answer_count": 1, "score": -5, "last_activity_date": 1526291239, "creation_date": 1526280340, "last_edit_date": 1526291239, "question_id": 50324439, "link": "https://stackoverflow.com/questions/50324439/can-we-build-kotin-and-java-mix-application", "closed_reason": "Needs more focus", "title": "Can we build Kotin and Java Mix application?", "body": "<p><strong>I started learning kotlin , but as I had good work experience in making android application in java language.So i want to use my native java experience with Kotlin.So I had some queries:</strong></p>\n\n<ul>\n<li>If we used some of the files in Kotlin language and some in java?</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1750, "user_id": 5409995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8XMCLAKhBeI/AAAAAAAAAAI/AAAAAAAAACY/F1quEwmlV4Q/photo.jpg?sz=128", "display_name": "Jamil", "link": "https://stackoverflow.com/users/5409995/jamil"}, "edited": false, "score": 2, "creation_date": 1539946427, "post_id": 50483744, "comment_id": 92694424, "body": "It&#39;s annoying to scroll through when Logcat is printing, but the answer is correct. The error causing the crash is much further up in the Logcat output."}, {"owner": {"reputation": 587, "user_id": 8607640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rI8zw.jpg?s=128&g=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/8607640/psycho"}, "reply_to_user": {"reputation": 1750, "user_id": 5409995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8XMCLAKhBeI/AAAAAAAAAAI/AAAAAAAAACY/F1quEwmlV4Q/photo.jpg?sz=128", "display_name": "Jamil", "link": "https://stackoverflow.com/users/5409995/jamil"}, "edited": false, "score": 0, "creation_date": 1572226017, "post_id": 50483744, "comment_id": 103483655, "body": "@Jamil Nawaz, you are correct, for my case I also ended up seeing the same logcat errors but after reading your comment, i looked up and got the actual reason of the crush"}], "tags": [], "owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "is_accepted": true, "score": 3, "last_activity_date": 1527065068, "creation_date": 1527065068, "answer_id": 50483744, "question_id": 50324189, "link": "https://stackoverflow.com/questions/50324189/could-not-complete-scheduled-request-to-refresh-entries-clienterrorcode-3-andr/50483744#50483744", "title": "Could not complete scheduled request to refresh entries. ClientErrorCode: 3 Android Kotlin", "body": "<p>So basically I figured it out. This was not the right error from LogCat. There was another set of errors from Logcat many lines above this. The error was the result list was a @Realm object. My recyclerView was asking for a non RealmClass object. So i had to make a similar object except not a RealmClass.</p>\n\n<pre><code>@RealmClass\nopen class ChattRItem: RealmModel {\n    @PrimaryKey var itemId: String = \"\"\n    var itemName: String = \"\"\n    var itemCategory: String = \"\"\n    var itemImageFileName: String = \"\"\n    var itemAudioFileName: String = \"\"\n}\n\nclass ChattRBoxItems(val itemId: String, val itemName: String, val itemCategory: String, val itemImageFileName: String, val itemAudioFileName: String)\n</code></pre>\n\n<p>then I mapped the result into this new class then applied it to my recyclerView.</p>\n"}], "owner": {"reputation": 1010, "user_id": 5100250, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ed99f8752fe5dbc6db7904d7368ebce?s=128&d=identicon&r=PG&f=1", "display_name": "CRey", "link": "https://stackoverflow.com/users/5100250/crey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5836, "favorite_count": 3, "accepted_answer_id": 50483744, "answer_count": 1, "score": 7, "last_activity_date": 1527065068, "creation_date": 1526279233, "question_id": 50324189, "link": "https://stackoverflow.com/questions/50324189/could-not-complete-scheduled-request-to-refresh-entries-clienterrorcode-3-andr", "title": "Could not complete scheduled request to refresh entries. ClientErrorCode: 3 Android Kotlin", "body": "<p>Let me get straight to the point here the error in the logcat is:</p>\n\n<pre><code>Could not complete scheduled request to refresh entries. ClientErrorCode: 3\n</code></pre>\n\n<p>I have tested the Realm() part of the code and it fetched the right data. Basically, the app just crashes when it loads that Activity. All Im trying to do right now is post the itemName in each cell. If you guys need the logcat, just say so and I'll post it. Any other details needed too.</p>\n\n<p>This is the code for my Activity with a recyclerView with just an ImageView and a TextView in each cell.:</p>\n\n<pre><code>class EssentialsActivity : AppCompatActivity() {\n\n    var category: String? = null\n    val realmtypeFunctions = RealmTypeFunctions()\n    var realmResults: RealmResults&lt;ChattRItem&gt;? = null\n    var chattRItemList = mutableListOf&lt;ChattRItem&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_essentials)\n\n        //init realm\n        Realm.init(this)\n\n        category = \"People\"\n\n        recyclerView_Essentials.setBackgroundColor(Color.CYAN)\n        recyclerView_Essentials.layoutManager = GridLayoutManager(this, 3)\n//        AsyncTask.execute {\n            category?.let {\n                loadFromRealm(it)\n            }\n//        }\n        this.runOnUiThread {\n            recyclerView_Essentials.adapter = EssentialsAdapter(chattRItemList)\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        val inflater = menuInflater\n        inflater.inflate(R.menu.categories, menu )\n\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n        val intent: Intent?\n        intent = Intent(this, AddItemActivity::class.java)\n        intent.putExtra(\"category\", category)\n        startActivity(intent)\n\n\n//        when (item?.itemId) {\n//            R.id.essentials_menu_item -&gt; {\n//                intent = Intent(this, EssentialsActivity::class.java)\n//                startActivity(intent)\n//            }\n//            R.id.addItem_menu_item -&gt; {\n//                intent = Intent(this, AddItemActivity::class.java)\n//                startActivity(intent)\n//            }\n//            else -&gt; return false\n//        }\n\n        return super.onOptionsItemSelected(item)\n    }\n\n    private fun loadFromRealm(category: String){\n        val realm = Realm.getDefaultInstance()\n        try {\n            val query: RealmQuery&lt;ChattRItem&gt;? = realm.where(ChattRItem::class.java).equalTo(\"itemCategory\", category)\n            val result: RealmResults&lt;ChattRItem&gt;? = query?.findAll()\n            result?.let {\n                for (i in it) {\n                    println(i.itemName)\n                    chattRItemList.add(i)\n                }\n                println(chattRItemList.count())\n            }\n\n        } finally {\n            realm.close()\n        }\n    }\n}\n\nclass EssentialsAdapter(private val chattRItemList: List&lt;ChattRItem&gt;): RecyclerView.Adapter&lt;CustomViewHolder&gt;(){\n\n    //realm class variable here to be displayed\n    /* var essentials = array of realm essential item */\n//    var essentialsActivity = EssentialsActivity()\n\n    //number of items\n    override fun getItemCount(): Int {\n//        return 12 //return realm items count\n        return this.chattRItemList.size\n    }\n\n    override fun onBindViewHolder(holder: CustomViewHolder, position: Int) {\n\n//        holder.itemView.textView_essentials_name.text = \"Essentials Item\"\n\n        val chattRItem = chattRItemList.get(position)\n//        holder.itemView.textView_essentials_name.text = chattRItem.itemName\n        holder.bind(chattRItem)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomViewHolder{\n        // how do we create a cell view\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val cellForRow = layoutInflater.inflate(R.layout.essentials_cells_layout, parent, false)\n        return CustomViewHolder(view = cellForRow)\n    }\n\n}\n\nclass CustomViewHolder(view: View): RecyclerView.ViewHolder(view) {\n    fun bind(chattRitem: ChattRItem) {\n        itemView.textView_essentials_name.text = chattRitem.itemName\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "junit5", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "edited": false, "score": 0, "creation_date": 1526297980, "post_id": 50326943, "comment_id": 87674681, "body": "Thank you very much. Is there any doc about <code>tasks.withType&lt;Test&gt;</code>?"}, {"owner": {"reputation": 1648, "user_id": 6327046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sObLu.jpg?s=128&g=1", "display_name": "Marc Philipp", "link": "https://stackoverflow.com/users/6327046/marc-philipp"}, "reply_to_user": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "edited": false, "score": 0, "creation_date": 1526304178, "post_id": 50326943, "comment_id": 87678762, "body": "Documentation for the Kotlin DSL is in progress and will be ready for the 1.0 release. Currently, your best bet is to look for existing projects that use it and check out the sample projects: <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/tree/master/samples</a>"}], "tags": [], "owner": {"reputation": 1648, "user_id": 6327046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sObLu.jpg?s=128&g=1", "display_name": "Marc Philipp", "link": "https://stackoverflow.com/users/6327046/marc-philipp"}, "is_accepted": true, "score": 22, "last_activity_date": 1578661304, "last_edit_date": 1578661304, "creation_date": 1526289621, "answer_id": 50326943, "question_id": 50324092, "link": "https://stackoverflow.com/questions/50324092/how-to-use-junit-5-with-build-gradle-kts-and-kotlin/50326943#50326943", "title": "How to use JUnit 5 with build.gradle.kts and kotlin?", "body": "<p>There's <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\" rel=\"nofollow noreferrer\">documentation</a> and a <a href=\"https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-gradle\" rel=\"nofollow noreferrer\">sample project</a> for using Gradle and JUnit 5.</p>\n\n<p>If you want to use the Kotlin DSL you'll have to adapt it in the following way:</p>\n\n<pre><code>tasks.withType&lt;Test&gt;().configureEach {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>For Jigsaw, Gradle provides <a href=\"https://guides.gradle.org/building-java-9-modules/\" rel=\"nofollow noreferrer\">experimental support</a> and there's a <a href=\"https://github.com/zyxist/chainsaw\" rel=\"nofollow noreferrer\">fork of the plugin</a> that provides additional features.</p>\n"}, {"tags": [], "owner": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "is_accepted": false, "score": 3, "last_activity_date": 1548974402, "creation_date": 1548974402, "answer_id": 54470276, "question_id": 50324092, "link": "https://stackoverflow.com/questions/50324092/how-to-use-junit-5-with-build-gradle-kts-and-kotlin/54470276#54470276", "title": "How to use JUnit 5 with build.gradle.kts and kotlin?", "body": "<p>Marc Philipp's answer works. Here is another approach:</p>\n\n<pre><code>val test: Test by tasks\ntest.useJUnitPlatform()\n</code></pre>\n"}], "owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3361, "favorite_count": 2, "accepted_answer_id": 50326943, "answer_count": 2, "score": 10, "last_activity_date": 1578661304, "creation_date": 1526278796, "last_edit_date": 1526395841, "question_id": 50324092, "link": "https://stackoverflow.com/questions/50324092/how-to-use-junit-5-with-build-gradle-kts-and-kotlin", "title": "How to use JUnit 5 with build.gradle.kts and kotlin?", "body": "<ul>\n<li>Java version   <code>java 10.0.1 2018-04-17</code></li>\n<li>Kotlin version   <code>1.2.41</code></li>\n<li>Gradle version <code>4.7</code></li>\n</ul>\n\n<p>it will be even better if we could use <strong>jigsaw module system</strong></p>\n"}, {"tags": ["kotlin", "list-comprehension", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 268344, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1526278051, "post_id": 50323940, "comment_id": 87663595, "body": "Questions of the form &quot;how what is the equivalent of language X feature in language Y&quot; does not need to have any language X tags associated with it."}], "answers": [{"comments": [{"owner": {"reputation": 3875, "user_id": 777775, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/53770527d89baf4424ddc7cbe05707ea?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/777775/tom"}, "edited": false, "score": 0, "creation_date": 1565907523, "post_id": 50323941, "comment_id": 101501566, "body": "Very nice answer, @Jayson! A small question: you use <code>.map { it }</code> in a couple of place - can it be omitted?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 3875, "user_id": 777775, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/53770527d89baf4424ddc7cbe05707ea?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/777775/tom"}, "edited": false, "score": 0, "creation_date": 1566044958, "post_id": 50323941, "comment_id": 101537127, "body": "@Tom That is converting the range iteration into a list of the items in the range. I think at the time I was trying to keep it lazy coming out of an iterator but <code>map</code> converts to a list anyways, so I am editing the above examples to have <code>toList()</code>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 3875, "user_id": 777775, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/53770527d89baf4424ddc7cbe05707ea?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/777775/tom"}, "edited": false, "score": 0, "creation_date": 1566046137, "post_id": 50323941, "comment_id": 101537365, "body": "I made other slight cleanups to be a touch more modern."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 28, "last_activity_date": 1566046079, "last_edit_date": 1566046079, "creation_date": 1526277969, "answer_id": 50323941, "question_id": 50323940, "link": "https://stackoverflow.com/questions/50323940/what-is-the-equivalent-of-python-list-set-and-map-comprehensions-in-kotlin/50323941#50323941", "title": "What is the equivalent of Python list, set, and map comprehensions in Kotlin?", "body": "<p>Taking examples from <a href=\"http://python-3-patterns-idioms-test.readthedocs.io/en/latest/Comprehensions.html\" rel=\"noreferrer\">Python 3 Patterns, Recipes and Idioms</a> we can convert each one to Kotlin using a simple pattern.  The Python version of a list comprehension has 3 parts:</p>\n\n<ol>\n<li>output expression</li>\n<li>input list/sequence and variable</li>\n<li>optional predicate</li>\n</ol>\n\n<p>These directly correlate to Kotlin functional extensions to collection classes.  The input sequence, followed by the optional predicate in a <code>filter</code> lambda, followed by the output expression in a <code>map</code> lambda.  So for this Python example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\na_list = [1, 2, 3, 4, 5, 6]\n\n#                    output | var | input   | filter/predicate \neven_ints_squared = [ e*e  for e in a_list  if e % 2 == 0 ]\n\nprint(even_ints_squared)\n# output: [ 4, 16, 36 ]\n</code></pre>\n\n<p>Becomes</p>\n\n<pre><code>// === KOTLIN\n\nvar aList = listOf(1, 2, 3, 4, 5, 6)\n\n//                    input      |   filter      |       output              \nval evenIntsSquared = aList.filter { it % 2 == 0 }.map { it * it }\n\nprintln(evenIntsSquared)\n// output: [ 4, 16, 36 ]  \n</code></pre>\n\n<p>Notice that the variable is not needed in the Kotlin version since the implied <code>it</code> variable is used within each lambda.  In Python you can turn these into a lazy generator by using the <code>()</code> instead of square brackets:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\neven_ints_squared = ( e**2 for e in a_list if e % 2 == 0 )\n</code></pre>\n\n<p>And in Kotlin it is more obviously converted to a lazy sequence by changing the input via a function call <code>asSequence()</code>:</p>\n\n<pre><code>// === KOTLIN\n\nval evenIntsSquared = aList.asSequence().filter { it % 2 == 0 }.map { it * it }\n</code></pre>\n\n<hr/>\n\n<p>Nested comprehensions in Kotlin are created by just nesting one within the other's <code>map</code> lambda.  For example, take this sample from <a href=\"https://www.python-course.eu/list_comprehension.php\" rel=\"noreferrer\">PythonCourse.eu</a> in Python changed slightly to use both a set and a list comprehension:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\nnoprimes = {j for i in range(2, 8) for j in range(i*2, 100, i)}\nprimes = [x for x in range(2, 100) if x not in noprimes]\nprint(primes)\n# output: [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>// === KOTLIN\n\nval nonprimes = (2..7).flatMap { (it*2..99).step(it).toList() }.toSet()\nval primes = (2..99).filterNot { it in nonprimes }\nprint(primes)    \n// output: [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]\n</code></pre>\n\n<p>Notice that the nested comprehension produces a list of lists which is converted to a flat list using <code>flatMap()</code> and then converted to a set using <code>toSet()</code>.  Also, Kotlin ranges are inclusive, whereas a Python range is exclusive so you will see the numbers are slightly different in the ranges. </p>\n\n<p>You can also use a <code>sequence</code> generator with co-routines in Kotlin to yield the values without needing the call to <code>flatMap()</code> or <code>flatten()</code>:</p>\n\n<pre><code>// === KOTLIN\n\nval nonprimes = sequence {\n    (2..7).forEach { (it*2..99).step(it).forEach { value -&gt; yield(value) } }\n}.toSet()\nval primes = (2..99).filterNot { it in nonprimes }\n</code></pre>\n\n<hr/>\n\n<p>Another example from the referenced Python page is generating a matrix:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\nmatrix = [ [ 1 if item_idx == row_idx else 0 for item_idx in range(0, 3) ] for row_idx in range(0, 3) ]\nprint(matrix)\n# [[1, 0, 0], \n#  [0, 1, 0], \n#  [0, 0, 1]] \n</code></pre>\n\n<p>And in Kotlin:</p>\n\n<pre><code>// === KOTLIN\n\nval matrix = (0..2).map { row -&gt; (0..2).map { col -&gt; if (col == row) 1 else 0 }}\nprintln(matrix)\n// [[1, 0, 0], \n//  [0, 1, 0], \n//  [0, 0, 1]]  \n</code></pre>\n\n<p>Or in Kotlin instead of lists, you could also generate arrays:</p>\n\n<pre><code>// === KOTLIN\n\nval matrix2 = Array(3) { row -&gt; \n                          IntArray(3) { col -&gt; if (col == row) 1 else 0 } \n                       }\n</code></pre>\n\n<hr/>\n\n<p>Another of the examples for set comprehensions is to generate a unique set of properly cased names:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\nnames = [ 'Bob', 'JOHN', 'alice', 'bob', 'ALICE', 'J', 'Bob' ]\n\nfixedNames = { name[0].upper() + name[1:].lower() for name in names if len(name) &gt; 1 }\n\nprint(fixedNames)\n# output: {'Bob', 'Alice', 'John'}\n</code></pre>\n\n<p>Is translated to Kotlin:</p>\n\n<pre><code>// === KOTLIN\n\nval names = listOf( \"Bob\", \"JOHN\", \"alice\", \"bob\", \"ALICE\", \"J\", \"Bob\" )\n\nval fixedNames = names.filter { it.length &gt; 1 }\n       .map { it.take(1).toUpperCase() + it.drop(1).toLowerCase() }\n       .toSet()\n\nprintln(fixedNames)\n// output: [Bob, John, Alice]\n</code></pre>\n\n<hr/>\n\n<p>And the example for map comprehension is a bit odd, but can also be implemented in Kotlin.  The original:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># === PYTHON\n\nmcase = {'a':10, 'b': 34, 'A': 7, 'Z':3}\n\nmcase_frequency = { k.lower() : mcase.get(k.lower(), 0) + mcase.get(k.upper(), 0) for k in mcase.keys() }\n\nprint(mcase_frequency)\n# output: {'a': 17, 'z': 3, 'b': 34}\n</code></pre>\n\n<p>And the converted, which is written to be a bit more \"wordy\" here to make it clearer what is happening:</p>\n\n<pre><code>// === KOTLIN\n\nval mcase = mapOf(\"a\" to 10, \"b\" to 34, \"A\" to 7, \"Z\" to 3)\n\nval mcaseFrequency = mcase.map { (key, _) -&gt;\n    val newKey = key.toLowerCase()\n    val newValue = mcase.getOrDefault(key.toLowerCase(), 0) +\n                   mcase.getOrDefault(key.toUpperCase(), 0)\n    newKey to newValue\n}.toMap()\n\nprint(mcaseFrequency)\n// output: {a=17, b=34, z=3}\n</code></pre>\n\n<hr/>\n\n<p>Further reading:</p>\n\n<ul>\n<li>Kotlin adds more power than list/set/map comprehensions because of its extensive functional transforms that you can make to these collection types.  See <a href=\"https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr\">What Java 8 Stream.collect equivalents are available in the standard Kotlin library?\n</a> for more examples.</li>\n<li>See <a href=\"https://stackoverflow.com/a/50318157/3679676\">Get Factors of Numbers in Kotlin\n</a> which shows another example of a Python comprehension versus Kotlin.</li>\n<li>See <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"noreferrer\">Kotlin Extensions Functions for Collections</a> in the API reference guide.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 8084731, "user_type": "registered", "profile_image": "https://graph.facebook.com/1653815704646436/picture?type=large", "display_name": "princebillyGK", "link": "https://stackoverflow.com/users/8084731/princebillygk"}, "is_accepted": false, "score": 0, "last_activity_date": 1599460182, "creation_date": 1599460182, "answer_id": 63772388, "question_id": 50323940, "link": "https://stackoverflow.com/questions/50323940/what-is-the-equivalent-of-python-list-set-and-map-comprehensions-in-kotlin/63772388#63772388", "title": "What is the equivalent of Python list, set, and map comprehensions in Kotlin?", "body": "<pre><code>val newls = (1..100).filter({it % 7 == 0})\n</code></pre>\n<p>in Kotlin is equivalent to the following Python code</p>\n<pre><code>newls = [i for i in 0..100 if i % 7 ==0]\n</code></pre>\n"}], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3922, "favorite_count": 1, "accepted_answer_id": 50323941, "answer_count": 2, "score": 12, "last_activity_date": 1599460182, "creation_date": 1526277969, "last_edit_date": 1610973576, "question_id": 50323940, "link": "https://stackoverflow.com/questions/50323940/what-is-the-equivalent-of-python-list-set-and-map-comprehensions-in-kotlin", "title": "What is the equivalent of Python list, set, and map comprehensions in Kotlin?", "body": "<p>In Python, there are list comprehensions and similar constructs for maps and sets.  In Kotlin there is nothing at all in any of the documentation with a similar name.</p>\n<p>What are the equivalents of these comprehensions? For example, those found in <a href=\"http://python-3-patterns-idioms-test.readthedocs.io/en/latest/Comprehensions.html\" rel=\"nofollow noreferrer\">Python 3 Patterns, Recipes and Idioms</a>.  Which includes comprehensions for:</p>\n<ul>\n<li>list</li>\n<li>set</li>\n<li>dictionary</li>\n</ul>\n<p><em><strong>Note:</strong></em> <em>this question is intentionally written and answered by the author (<a href=\"https://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Kotlin topics are present in SO.</em></p>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "edited": false, "score": 0, "creation_date": 1526274321, "post_id": 50322981, "comment_id": 87662387, "body": "Which format you are getting data in currencies. Please make sure your Arraylist or Response message . If possible you can post your currencies Arraylist response. This will help us to find problem"}, {"owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "reply_to_user": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "edited": false, "score": 0, "creation_date": 1526299698, "post_id": 50322981, "comment_id": 87675735, "body": "hi Nittin, the format is ArrayList&lt;String&gt;. The weird thing is I still get the dropdown list with full list of content but when I select one of them, the dropdown list does not show the selected item."}, {"owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "reply_to_user": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "edited": false, "score": 0, "creation_date": 1526299759, "post_id": 50322981, "comment_id": 87675776, "body": "the currencies list get updated in populateSpinnerAdapter() method"}, {"owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "edited": false, "score": 0, "creation_date": 1526299876, "post_id": 50322981, "comment_id": 87675832, "body": "Have you resolved this issue?"}, {"owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "reply_to_user": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "edited": false, "score": 0, "creation_date": 1526301948, "post_id": 50322981, "comment_id": 87677292, "body": "Not yet my friend. I have same code in different project which works perfectly. I am thinking about trying different approach by calling findViewByid or using kotterknife."}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "edited": false, "score": 0, "creation_date": 1526299839, "post_id": 50323696, "comment_id": 87675814, "body": "Thanks Naveen, I will git it a try but firstly I don&#39;t see any different when look at the code. Could you please explain more detail?"}], "tags": [], "owner": {"reputation": 6037, "user_id": 5629056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdOZG.jpg?s=128&g=1", "display_name": "Naveen T P", "link": "https://stackoverflow.com/users/5629056/naveen-t-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1526276599, "creation_date": 1526276599, "answer_id": 50323696, "question_id": 50322981, "link": "https://stackoverflow.com/questions/50322981/kotlin-spinner-selecteditem-is-null/50323696#50323696", "title": "Kotlin spinner selecteditem is null", "body": "<p>Consider trying this code snippet to set spinner,</p>\n\n<pre><code>val arrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_item, monthList)\narrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\nspinner_month.adapter = arrayAdapter\n</code></pre>\n\n<p>To get the selected item, use this way,</p>\n\n<pre><code>spinner_month.selectedItem.toString()\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 2002591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/491cfbd6e5287f0a68f2a6614fd5f18b?s=128&d=identicon&r=PG", "display_name": "An Quoc Duy Nguyen", "link": "https://stackoverflow.com/users/2002591/an-quoc-duy-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1526276599, "creation_date": 1526271012, "question_id": 50322981, "link": "https://stackoverflow.com/questions/50322981/kotlin-spinner-selecteditem-is-null", "title": "Kotlin spinner selecteditem is null", "body": "<p>I have a spinner in Kotlin and using kotlinx to import it to the code. </p>\n\n<p>This is the code in xml: </p>\n\n<pre><code>&lt;Spinner\n    android:id=\"@+id/sp_from_country\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:dropDownSelector=\"@color/colorPrimary\"\n    android:spinnerMode=\"dropdown\"/&gt;\n</code></pre>\n\n<p>And this is the code in kotlin:</p>\n\n<pre><code>this.sp_from_country.adapter = this.adapter\nthis.sp_from_country.setSelection(0)\n</code></pre>\n\n<p>This is where I use the drop down list from a button click event</p>\n\n<pre><code>this.currencyForm = getCurrencyCode(sp_from_country.selectedItem.toString())\n</code></pre>\n\n<p>The problem is selectedItem is always null. </p>\n\n<p>This is the full source code of my fragment</p>\n\n<pre><code>package training.com.aaptraining.views\n\nimport android.app.AlertDialog\nimport android.arch.lifecycle.Observer\nimport android.arch.lifecycle.ViewModelProviders\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.AdapterView\nimport android.widget.ArrayAdapter\nimport android.widget.Spinner\nimport kotlinx.android.synthetic.main.view_fragment_currency.*\nimport training.com.aaptraining.R\nimport training.com.aaptraining.viewmodel.CurrencyViewModel\n\nclass CurrencyFragment : Fragment() {\ncompanion object {\n    fun newInstance() = CurrencyFragment()\n}\n\nprivate val currencies = ArrayList&lt;String&gt;()\nprivate lateinit var currenciesAdapter: ArrayAdapter&lt;String&gt;\nprivate lateinit var currencyForm: String\nprivate lateinit var currencyTo: String\n\nprivate lateinit var currencyViewModel: CurrencyViewModel\nprivate val spinner: Spinner? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    this.initViewModel()\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.view_fragment_currency, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    this.initUI()\n    this.populateSpinnerAdapter()\n}\n\nprivate fun populateSpinnerAdapter() {\n    this.currencyViewModel.loadCurrencyList()\n            ?.observe(this, Observer { currencyList -&gt;\n                currencyList?.forEach {\n                    currencies.add(it.code + \" \" + it.country)\n                }\n            })\n\n    this.currenciesAdapter.setDropDownViewResource(R.layout.item_spinner)\n    this.currenciesAdapter.notifyDataSetChanged()\n}\n\nprivate fun initUI() {\n    this.initSpinners()\n    this.initConvertButton()\n}\n\nprivate fun initConvertButton() {\n    this.btn_convert.setOnClickListener { this.convert() }\n}\n\nprivate fun convert() {\n    val quantity = edt_value.text.toString()\n    this.currencyForm = getCurrencyCode(sp_from_country.selectedItem.toString())\n    this.currencyTo = getCurrencyCode(sp_to_country.selectedItem.toString())\n    val currencies = \"$currencyForm,$currencyTo\"\n\n    if (quantity.isNotEmpty() &amp;&amp; currencyForm != currencyTo) {\n        this.currencyViewModel.getAvailableExchange(currencies)\n                ?.observe(this, Observer { availableExchange -&gt;\n                    availableExchange?.run {\n                        exchange(quantity.toDouble(), availableExchangeMap)\n                    }\n                })\n    }\n}\n\nprivate fun exchange(quantity: Double, availableExchangeMaps: Map&lt;String, Double&gt;) {\n    val exchangeKeys = availableExchangeMaps.keys.toList()\n    val exChangesValues = availableExchangeMaps.values.toList()\n\n    val fromCurrency = exChangesValues[0]\n    val toCurrency = exChangesValues[1]\n\n    val fromCurrencyKey = this.getCurrencyCodeResult(exchangeKeys[0])\n    val toCurrencyKey = this.getCurrencyCodeResult(exchangeKeys[1])\n\n    val usdExChange = quantity.div(fromCurrency)\n    val exchangeResult = usdExChange.times(toCurrency)\n\n    this.showResult(quantity.toString() + \" $fromCurrencyKey = \" + exchangeResult.format(4)\n            + \" $toCurrencyKey\")\n}\n\nprivate fun showResult(result: String) {\n    AlertDialog.Builder(context!!, R.style.AppCompatAlertDialogStyle)\n            .setMessage(result)\n            .setTitle(\"You got the result\")\n            .setCancelable(false)\n            .setPositiveButton(android.R.string.ok, null)\n            .setIcon(R.drawable.ic_attach_money_black_24dp)\n            .create()\n            .show()\n}\n\nprivate fun getCurrencyCodeResult(currencyCode: String) = currencyCode.substring(3)\n\nprivate fun getCurrencyCode(currency: String) = currency.substring(0, 3)\n\nprivate fun initSpinners() {\n    this.currenciesAdapter = ArrayAdapter(activity, R.layout.item_spinner, currencies)\n    this.sp_from_country.adapter = this.currenciesAdapter\n    this.sp_from_country.setSelection(0)\n    this.sp_to_country.adapter = this.currenciesAdapter\n    this.sp_to_country.setSelection(0)\n\n    this.sp_from_country?.onItemSelectedListener = object: AdapterView.OnItemSelectedListener {\n        override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n            Log.d(\"Currency Framgnet\", \"On spinner nothing selected\")\n        }\n\n        override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n            Log.d(\"Currency Framgnet\", \"On spinner selected\")\n        }\n    }\n}\n\nprivate fun initViewModel() {\n    this.currencyViewModel = ViewModelProviders.of(this).get(CurrencyViewModel::class.java)\n    this.currencyViewModel.let { lifecycle.addObserver(it) }\n    this.currencyViewModel.initLocalCurrencies()\n}\n\nprivate fun Double.format(digits: Int) = java.lang.String.format(\"%.${digits}f\", this)\n}\n</code></pre>\n"}]