[{"tags": ["android", "kotlin", "cardview"], "answers": [{"tags": [], "owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "is_accepted": true, "score": 1, "last_activity_date": 1558568752, "creation_date": 1558568752, "answer_id": 56266344, "question_id": 56266265, "link": "https://stackoverflow.com/questions/56266265/how-to-restore-layout-position-after-expanding-and-collapsing-textview-in-kotlin/56266344#56266344", "title": "How to restore layout position after expanding and collapsing TextView in Kotlin", "body": "<p>Change <code>toggleVisibility</code> to</p>\n\n<pre><code>if (visibility == View.VISIBLE) {\n    visibility = View.GONE\n} else {\n    visibility = View.VISIBLE\n}\n</code></pre>\n\n<p>When you set the visibility to <code>invisible</code>, the layout constraints remain but the view is hidden. Setting it to <code>gone</code> will also remove the layout constraints.</p>\n"}], "owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56266344, "answer_count": 1, "score": 0, "last_activity_date": 1558574841, "creation_date": 1558567926, "last_edit_date": 1558574841, "question_id": 56266265, "link": "https://stackoverflow.com/questions/56266265/how-to-restore-layout-position-after-expanding-and-collapsing-textview-in-kotlin", "title": "How to restore layout position after expanding and collapsing TextView in Kotlin", "body": "<p>I have a CardView and below a TextView. When you click the CardView\nit toggles the visibility of the TextView and it works fine but\nwhen it expands it pushes the next item in my LinearLayout and when it collapses again there just a void where the TextView lied.</p>\n\n<p>How do I make it so that when the TextView collapse(visibility GONE),\nthe next item in the layout also goes up where it was the first time?</p>\n\n<pre><code>//it starts hidden \ntextView3.visibility = View.GONE\n\ncardView.setOnClickListener{\n        textView3.toggleVisibility()\n\n    }\n\n fun View.toggleVisibility() {\n    if (visibility == View.VISIBLE) {\n        visibility = View.INVISIBLE\n    } else {\n        visibility = View.VISIBLE\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558577638, "post_id": 56266113, "comment_id": 99150308, "body": "I used <code>inflate()</code> however the <code>onClick</code> doesn&#39;t fire. Any idea why? I&#39;ve updated my code above."}, {"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558577765, "post_id": 56266113, "comment_id": 99150335, "body": "I&#39;m actually not sure if the inflate method would work since it essentially inflates the view twice, did you try the first method?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558578258, "post_id": 56266113, "comment_id": 99150407, "body": "Just did and I get a null pointer on the <code>TextView</code> - I&#39;ve updated my code above if you want to see"}, {"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558578770, "post_id": 56266113, "comment_id": 99150505, "body": "How about just try the plain <code>getView</code> method? see my update"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558579002, "post_id": 56266113, "comment_id": 99150543, "body": "<code>Preference</code> does not have a <code>getView()</code> method?"}, {"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558579690, "post_id": 56266113, "comment_id": 99150650, "body": "Are you using the AndroidX library? in that case there&#39;s no <code>getView()</code>, so your only option would be creating a custom Preference class and get your view that way."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558579930, "post_id": 56266113, "comment_id": 99150696, "body": "Yes I&#39;m using androidx. I added <code>android:onClick=&quot;maleFunction&quot;</code> to my <code>TextView</code> and now it&#39;s able to click only that textview and not the whole <code>Preference</code> ( added a <code>maleFunction()</code> in my <code>PreferencesFragment</code>). However it crashes when I click it: <code>java.lang.IllegalStateException: Could not find method maleFunction(View) in a parent or ancestor Context for android:onClick attribute defined on view class androidx.appcompat.widget.AppCompatTextView with id &#39;male&#39;</code> any idea?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558580169, "post_id": 56266113, "comment_id": 99150746, "body": "All good I added the function in the activity and now it works. Thanks!"}, {"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1558580230, "post_id": 56266113, "comment_id": 99150756, "body": "huh, glad it worked, so the view binding thing works that easily but to implement it manually is so hard, Android always amazes me."}, {"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558580450, "post_id": 56266113, "comment_id": 99150801, "body": "well, if you need more than just the onClick method, you can always try the custom preference class method."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1558606890, "post_id": 56266113, "comment_id": 99160777, "body": "You were right - had to extend it. Didn&#39;t know it was that simple, thanks!! Much more flexible now"}], "tags": [], "owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1558580403, "last_edit_date": 1558580403, "creation_date": 1558566768, "answer_id": 56266113, "question_id": 56266057, "link": "https://stackoverflow.com/questions/56266057/creating-a-radio-style-preference/56266113#56266113", "title": "Creating a Radio-style Preference", "body": "<p>That's probably because all three buttons are under one preference item, when you set an <code>OnPreferenceClickListener</code>, it selects the entire preference with the layout you included as a whole. </p>\n\n<p>So, instead of setting an <code>OnPreferenceClickListener</code> you should try getting the parent view and setting the click listeners on these <code>TextView</code>s individually and from there update the preference's value. </p>\n\n<p><strong>Or you can just set the <code>onClick</code> attributes of each <code>TextView</code> in the layout xml file to your desired functions.</strong></p>\n\n<p>To get the View of this preference, you can use something like </p>\n\n<pre><code>View preferenceView = getListView().getChildAt(preference.getOrder());\n</code></pre>\n\n<p>Or, use the getView method and supply both parameters with null:</p>\n\n<pre><code>View preferenceView = preference.getView(null, null);\n</code></pre>\n\n<hr>\n\n<p>If you are using the AndroidX library for preference, then there's no <code>getView</code> method, so the only option would be creating a custom Preference class and deal with the views there:</p>\n\n<pre><code>public class CustomPreference extends Preference {\n    public CustomPreference(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    protected void onBindView(View rootView) {\n        super.onBindView(rootView);\n\n        View myView = rootView.findViewById(R.id.myViewId);\n        // get your textViews from myView\n        TextView maleText = myView.findViewById(R.id.male);\n        ...\n    }\n}\n</code></pre>\n\n<p>Then use it in your preference.xml like this:</p>\n\n<pre><code>&lt;your.package.CustomPreference\n    android:key=\"your_key\"\n    android:layout=\"@layout/your_layout\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558580403, "creation_date": 1558566200, "last_edit_date": 1558578187, "question_id": 56266057, "link": "https://stackoverflow.com/questions/56266057/creating-a-radio-style-preference", "title": "Creating a Radio-style Preference", "body": "<p>I'm trying to create a Radio-style <code>Preference</code> where the user can click an option which is then assigned as the new value of the <code>Preference</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CGMar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CGMar.png\" alt=\"enter image description here\"></a></p>\n\n<p>however when I click one option is selects all 3 options:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IdPbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdPbe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my layout:</p>\n\n<p>preferences.xml</p>\n\n<pre><code>&lt;Preference\n    android:layout=\"@layout/preference_gender\"\n    android:key=\"seeking\"\n    android:title=\"Seeking\"/&gt;\n</code></pre>\n\n<p>preference_gender.xml</p>\n\n<p>\n    </p>\n\n<pre><code>    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/seeking\"\n        android:singleLine=\"true\"\n        android:padding=\"10dp\"\n        android:textSize=\"20sp\"\n        android:textColor=\"@color/colorIcons\"\n        android:ellipsize=\"marquee\"\n        android:fadingEdge=\"horizontal\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toTopOf=\"@id/male\"/&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=\"@+id/male\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toStartOf=\"@id/female\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"@dimen/settings_textSize\"\n        android:text=\"Male\"\n        android:gravity=\"center\"\n        android:background=\"@drawable/settings_gender\"\n        android:padding=\"@dimen/settings_box_selection_padding\"\n        android:paddingStart=\"@dimen/button_horizontal_padding\"\n        android:paddingEnd=\"@dimen/button_horizontal_padding\"\n        android:textColor=\"@color/colorPrimaryDark\"/&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=\"@+id/female\"\n        app:layout_constraintStart_toEndOf=\"@+id/male\"\n        app:layout_constraintEnd_toStartOf=\"@id/both\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"@dimen/settings_textSize\"\n        android:text=\"Female\"\n        android:gravity=\"center\"\n        android:padding=\"@dimen/settings_box_selection_padding\"\n        android:background=\"@drawable/settings_gender\"\n        android:paddingStart=\"@dimen/button_horizontal_padding\"\n        android:paddingEnd=\"@dimen/button_horizontal_padding\"\n        android:textColor=\"@color/colorPrimaryDark\"/&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        app:layout_constraintStart_toEndOf=\"@id/female\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:id=\"@+id/both\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"@dimen/settings_textSize\"\n        android:text=\"Both\"\n        android:gravity=\"center\"\n        android:padding=\"@dimen/settings_box_selection_padding\"\n        android:background=\"@drawable/settings_gender\"\n        android:paddingStart=\"@dimen/button_horizontal_padding\"\n        android:paddingEnd=\"@dimen/button_horizontal_padding\"\n        android:textColor=\"@color/colorPrimaryDark\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>So I want to be able to click a textview and then get the value of that in <code>Preference.OnPreferenceClickListener</code>.</p>\n\n<p>Any idea how?</p>\n\n<p>EDIT:</p>\n\n<pre><code>class PreferencesFragment : PreferenceFragmentCompat(), View.OnClickListener {   \n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n    val genderPreference: Preference = findPreference(\"seeking\")!!\n    val parentView = listView.getChildAt(genderPreference.order)\n    val childView = parentView.findViewById&lt;TextView&gt;(R.id.male) // NullPointerException\n    }\n\n    override fun onClick(v: View?) {\n        Log.d(TAG, \"clicked\") // doesn't log\n        when (v?.id){\n            R.id.male -&gt; Log.d(TAG, \"male\")\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "webrtc"], "comments": [{"owner": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "edited": false, "score": 0, "creation_date": 1558566313, "post_id": 56266039, "comment_id": 99148321, "body": "There should be more logs that pinpoint the higher level error line in your kotlin code, can you post that as well? I&#39;m assuming you are passing in some parameters as null, but more logs are needed to see exactly what&#39;s wrong"}, {"owner": {"reputation": 451, "user_id": 4759187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-xwzM5p2yY5I/AAAAAAAAAAI/AAAAAAAAThk/0f4EQEvmP0M/photo.jpg?sz=128", "display_name": "Amr Yousef", "link": "https://stackoverflow.com/users/4759187/amr-yousef"}, "reply_to_user": {"reputation": 3657, "user_id": 8170714, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/OqwAS.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8170714/jack"}, "edited": false, "score": 0, "creation_date": 1558566927, "post_id": 56266039, "comment_id": 99148454, "body": "@jackz314 There aren&#39;t any logs related to the kotlin code. However, I&#39;ve updated the question with additional log information around the native code crash."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9683459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a3dfcd3d5352b64beeeb5b5a345102?s=128&d=identicon&r=PG&f=1", "display_name": "walktime", "link": "https://stackoverflow.com/users/9683459/walktime"}, "is_accepted": false, "score": 0, "last_activity_date": 1558689956, "creation_date": 1558689956, "answer_id": 56289627, "question_id": 56266039, "link": "https://stackoverflow.com/questions/56266039/webrtc-peerconnection-crashes-on-setlocaldescription/56289627#56289627", "title": "WebRTC PeerConnection crashes on setLocalDescription()", "body": "<p>I think it is the google-webrtc version problem. but i don't know why. you should not use the 'org.webrtc:google-webrtc:1.0.+'. you can try a proper version, like 'org.webrtc:google-webrtc:1.0.24277'</p>\n\n<p>'org.webrtc:google-webrtc:1.0.+' use the version 1.0.28032-0\uff0cand will fail to setLocalDescription( the sdp has no VP8 info)</p>\n"}, {"comments": [{"owner": {"reputation": 849, "user_id": 227990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ff6ffb76bca2f91b520a5d30b825fb19?s=128&d=identicon&r=PG", "display_name": "Paulo Neves", "link": "https://stackoverflow.com/users/227990/paulo-neves"}, "edited": false, "score": 1, "creation_date": 1579371951, "post_id": 56289833, "comment_id": 105747397, "body": "Man how i was desperate. I was needing to compile the whole webrtc because i did not have the symbols. With your hint it started working. Cheers to you!"}], "tags": [], "owner": {"reputation": 451, "user_id": 4759187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-xwzM5p2yY5I/AAAAAAAAAAI/AAAAAAAAThk/0f4EQEvmP0M/photo.jpg?sz=128", "display_name": "Amr Yousef", "link": "https://stackoverflow.com/users/4759187/amr-yousef"}, "is_accepted": true, "score": 3, "last_activity_date": 1558690684, "creation_date": 1558690684, "answer_id": 56289833, "question_id": 56266039, "link": "https://stackoverflow.com/questions/56266039/webrtc-peerconnection-crashes-on-setlocaldescription/56289833#56289833", "title": "WebRTC PeerConnection crashes on setLocalDescription()", "body": "<p>The problem was that I was not setting any video codecs (encode/decoder) factories. This became a requirement at some point according to the <a href=\"https://groups.google.com/forum/#!msg/discuss-webrtc/SKSkOUHXB2A/hx7AS4FkCgAJ\" rel=\"nofollow noreferrer\">announcement</a>.</p>\n\n<p>The fix was to build the <code>PeerConnection</code> like this:</p>\n\n<pre><code>peerConnectionFactory = PeerConnectionFactory\n            .builder()\n            .setVideoDecoderFactory(DefaultVideoDecoderFactory(rootEglBase.eglBaseContext))\n            .setVideoEncoderFactory(DefaultVideoEncoderFactory(rootEglBase.eglBaseContext, true, true))\n            .createPeerConnectionFactory()\n\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 4759187, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-xwzM5p2yY5I/AAAAAAAAAAI/AAAAAAAAThk/0f4EQEvmP0M/photo.jpg?sz=128", "display_name": "Amr Yousef", "link": "https://stackoverflow.com/users/4759187/amr-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 0, "accepted_answer_id": 56289833, "answer_count": 2, "score": 0, "last_activity_date": 1558690684, "creation_date": 1558566075, "last_edit_date": 1592644375, "question_id": 56266039, "link": "https://stackoverflow.com/questions/56266039/webrtc-peerconnection-crashes-on-setlocaldescription", "title": "WebRTC PeerConnection crashes on setLocalDescription()", "body": "<p>I am trying to start a &quot;call&quot; using PeerConnection. I start by creating an the offer and pass in a callback which calls <code>setLocalDescription()</code> on the <code>PeerConnection</code>. However, this crashes the application with a null exception. Here is the stacktrace</p>\n<pre><code>2019-05-23 00:10:23.583 13684-14658/me.amryousef.homedoor A/libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x6c in tid 14658 (worker_thread -)\n2019-05-23 00:10:23.628 538-4027/? E/QCamera: &lt;HAL&gt;&lt;ERROR&gt; processCaptureRequest: 4865: Did not find matching stream to update index\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: Build fingerprint: 'OnePlus/OnePlus3/OnePlus3:8.0.0/OPR1.170623.032/47:user/release-keys'\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: Revision: '0'\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: ABI: 'arm64'\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: pid: 13684, tid: 14658, name: worker_thread -  &gt;&gt;&gt; me.amryousef.homedoor &lt;&lt;&lt;\n2019-05-23 00:10:23.649 14736-14736/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x6c\nsignal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x6c\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG: Cause: null pointer dereference\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x0   000000749d387ff0  x1   000000749d388008  x2   000000749a400000  x3   0000000000000003\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x4   0000000000000141  x5   8000000000000000  x6   ff63646a6e756471  x7   7f7f7f7f7f7f7f7f\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x8   0000000000000000  x9   91cee4b1723ef4f4  x10  0000000000000000  x11  000000749d388008\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x12  00000000ffffffff  x13  00000000ffffff80  x14  000000000000000d  x15  aaaaaaaaaaaaaaab\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x16  00000074bcf32cb0  x17  00000074bced0f2c  x18  000000749d3861ec  x19  000000749cc54000\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x20  0000000000000000  x21  000000749b816998  x22  000000749cc54200  x23  0000000000000000\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x24  0000000000000000  x25  000000749b816454  x26  000000749cc540f0  x27  000000749d593dd1\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     x28  000000000022308b  x29  000000749d388060  x30  000000749da066e4\n2019-05-22 23:46:39.120 13650-13650/? A/DEBUG:     sp   000000749d387ff0  pc   000000749da066e8  pstate 0000000060000000\n</code></pre>\n<p>The full implementation of the <code>PeerConnection</code> handling can be found in this <a href=\"https://gist.github.com/amrfarid140/7ad77b50af7c5b120b819a17bc0deaff\" rel=\"nofollow noreferrer\">gist</a></p>\n<p>What would be the cause of this <code>null pointer dereference</code>? What's missing in the process of creating the <code>offer</code>?</p>\n<hr />\n<p>Here's how I built the PeerConnection</p>\n<pre><code>peerConnectionFactory = PeerConnectionFactory\n            .builder()\n            .createPeerConnectionFactory()\n</code></pre>\n<p>and I am using the following version</p>\n<p><code>&quot;org.webrtc:google-webrtc:1.0.27771&quot;</code></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558600805, "post_id": 56268225, "comment_id": 99157402, "body": "where list should be?"}, {"owner": {"reputation": 50, "user_id": 7994373, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326622837111/picture?type=large", "display_name": "Ahmad Baddah", "link": "https://stackoverflow.com/users/7994373/ahmad-baddah"}, "reply_to_user": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558673620, "post_id": 56268225, "comment_id": 99185135, "body": "private var list = listOf&lt;CategoriesAndSubcategoriesQuery.Property&gt;()"}], "tags": [], "owner": {"reputation": 50, "user_id": 7994373, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326622837111/picture?type=large", "display_name": "Ahmad Baddah", "link": "https://stackoverflow.com/users/7994373/ahmad-baddah"}, "is_accepted": false, "score": 0, "last_activity_date": 1558586933, "creation_date": 1558586933, "answer_id": 56268225, "question_id": 56265895, "link": "https://stackoverflow.com/questions/56265895/getting-edittexts-values-from-recyclerview/56268225#56268225", "title": "Getting EditTexts Values From RecyclerView", "body": "<p>i face like this problem in my java code and that was the solution</p>\n\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n(put her the getter and setter class) mylist = list.get(i);\n//use the getter class to get values and save them or do what ever you want\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1560430844, "post_id": 56562270, "comment_id": 99739970, "body": "<b>EditTexts inside a RecyclerView is generally not a good idea</b> - I agree is there another way that I can render multiple edit text dynamically?"}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "reply_to_user": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 2, "creation_date": 1560431267, "post_id": 56562270, "comment_id": 99740213, "body": "I&#39;d say, use a <code>ScrollView</code> and add EditText as per your needs. eg. If you need 5 edit text, create 5 new views and add to the container of ScrollView manually. Add/remove EditText if the number changes,"}, {"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1560432425, "post_id": 56562270, "comment_id": 99740960, "body": "Let me give it a try"}], "tags": [], "owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "is_accepted": true, "score": 4, "last_activity_date": 1560432429, "last_edit_date": 1560432429, "creation_date": 1560342578, "answer_id": 56562270, "question_id": 56265895, "link": "https://stackoverflow.com/questions/56265895/getting-edittexts-values-from-recyclerview/56562270#56562270", "title": "Getting EditTexts Values From RecyclerView", "body": "<p>I don't completely understand what you are trying to achieve here. EditTexts inside a RecyclerView is generally not a good idea for following reasons.</p>\n\n<ol>\n<li>When the recyclerView is scrolled, you would want to preserve the\ntext added by the user for that particular field/item and show it\ncorrectly when the user scrolls back.</li>\n<li>When you add a <code>TextWatcher</code> to an EditText, you also need to remove it when the view is recycled or the view holder is bound again. Otherwise, you will end up with multiple listeners and things will go wrong.</li>\n</ol>\n\n<p>For the other question that you have,</p>\n\n<blockquote>\n  <p>But now I get only the first letter user types. If user types shoes I get s</p>\n</blockquote>\n\n<p>That's by design. TextWatcher would emit event every time a character is entered. So you would get s, sh, sho, shoe, shoes. So you can not take an action on this data because the user is still adding something to that field.</p>\n\n<hr>\n\n<p>So,</p>\n\n<ul>\n<li><p>You don't know when the user has stopped adding the text to the EditText (or whether user is done). You could use something like <code>debounce</code> but that is complicated. You should give a button to the user. Take the value when the user taps the button.</p></li>\n<li><p>I am assuming you have multiple edittexts in the RecyclerView. So you would need to store the values for each edittext because the recyclerview will re-use the views and you'll lose the data. You could do that in your adapter's <code>onViewRecycled</code> callback. Keep a map of id -> string where you store this data and retrieve when the view holder is bound.</p></li>\n<li><p>You could also use a TextWatcher but you would have detach it before attaching a new one or in <code>onViewRecycled</code>.</p></li>\n</ul>\n\n<p>Update:</p>\n\n<p>If I had something like this, I would use a ScrollView with a vertical LinearLayout (for simplicity) and add EditText based on the requirements. If you want to add TextWatcher, you'd need some kind of stable id.</p>\n\n<pre><code>class EditTextContainer : LinearLayout {\n\n    private val views = mutableListOf&lt;EditText&gt;()\n    private val textWatchers = hashMapOf&lt;Int, TextWatcher&gt;()\n\n    ... constructor and bunch of stuff\n\n    fun updateViews(items: List&lt;Item&gt;, textCallback: (id, text) -&gt; Unit) {\n        // Remove text watchers\n        views.forEach { view -&gt;\n             view.removeTextWatcher(textWatchers[view.id])\n        }\n\n        // More views than required\n        while (views.size &gt; items.size) {\n            val view = views.removeAt(views.size-1)\n            removeView(view)\n        }\n\n        // Less views than required\n        while (view.size &lt; items.size) {\n            val view = createView()\n            view.id = View.generateViewId()\n            addView(view, createParams()) // Add this view to the container\n            views.add(view)\n        }\n\n        // Update the views\n        items.forEachIndexed { index, item -&gt;\n            val editText = views[item]\n            // Update your edittext.\n             addTextWatcher(editText, item.id, textCallback)\n        }\n    }\n\n     private fun createView(): EditText {\n         // Create new view using inflater or just constructor and return\n     }\n\n     private fun createParams(): LayoutParams {\n         // Create layout params for the new view\n     }\n\n     private fun addTextWatcher(view, itemId, textCallback) {\n         val watcher = create text watcher where it invokes textCallback with itemId\n         view.addTextWatcher(watcher)\n         textWatchers[view.id] = watcher\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3135923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f51da58cfc52b126bcffa089ec9b9fd5?s=128&d=identicon&r=PG&f=1", "display_name": "user3135923", "link": "https://stackoverflow.com/users/3135923/user3135923"}, "is_accepted": false, "score": 1, "last_activity_date": 1560343567, "creation_date": 1560343567, "answer_id": 56562581, "question_id": 56265895, "link": "https://stackoverflow.com/questions/56265895/getting-edittexts-values-from-recyclerview/56562581#56562581", "title": "Getting EditTexts Values From RecyclerView", "body": "<p>Your inputs are less to identify the issue. I guess you are making some data collection application with the list of edit text.\nThere is a an issue when you were using the edit text in recycler list.\nWhen you scroll down the bottom edit text in the recycler view will be filled with already filled edit text value, even though you user is not filled.</p>\n\n<p>As a work around You can create some sparse array any data structure which will best suitable for you, that can map you position and value\nlike \n     mPropertyValue[] = new String [LIST_SIZE]. , assuming that position of ur list item matches with index of array.</p>\n\n<p>Try updating the  index with the value of text watcher\n     mPropertyValue[POSITION] = YOUR_EDIT_TEXT_VALUE</p>\n\n<p>When you want to initialize your edit text use the value by mPropertyValue[POSITION]</p>\n\n<p>You can always make sure that your edit text will be having the right value by this .</p>\n"}], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1424, "favorite_count": 0, "accepted_answer_id": 56562270, "answer_count": 3, "score": 5, "last_activity_date": 1560499052, "creation_date": 1558565006, "last_edit_date": 1560499052, "question_id": 56265895, "link": "https://stackoverflow.com/questions/56265895/getting-edittexts-values-from-recyclerview", "title": "Getting EditTexts Values From RecyclerView", "body": "<p>I am building an app where user is required to fill some data in order to post something, so a fragment consists of <code>EditText</code>, radio buttons and <code>Spinner</code> along with <code>RecyclerView</code> which dynamically renders a number of child layout containing <code>TextView</code> and <code>EditText</code>. </p>\n\n<p>So when user select category from <code>Spinner</code>, some properties which are related to that category are displayed in <code>RecyclerView</code> and user can optionally fill some of them.</p>\n\n<p>I have tried to implement this functionality using callback and <code>TextWatcher</code> but I don't get the values I want.</p>\n\n<p><strong>CallBack</strong></p>\n\n<pre><code>interface PropertiesCallback {\n    fun addProp(position: Int, title: String, value: String)\n}\n</code></pre>\n\n<p><strong>Adapter</strong></p>\n\n<pre><code>class PropertiesAdapter(private val propertiesCallback: PropertiesCallback)\n    : RecyclerView.Adapter&lt;PropertiesAdapter.ViewHolder&gt;() {\n\n    private var list = listOf&lt;CategoriesAndSubcategoriesQuery.Property&gt;()\n\n    fun setData(listOfProps: List&lt;CategoriesAndSubcategoriesQuery.Property&gt;) {\n        this.list = listOfProps\n        notifyDataSetChanged()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context)\n                .inflate(R.layout.z_property_input, parent, false)\n        return ViewHolder(view)\n    }\n\n    override fun getItemCount(): Int = list.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.bind(list[position], position)\n    }\n\n    inner class ViewHolder(val view: View) : RecyclerView.ViewHolder(view) {\n        private val label: TextView = view.findViewById(R.id.label)\n        private val input: EditText = view.findViewById(R.id.input)\n\n        fun bind(prop: CategoriesAndSubcategoriesQuery.Property, position: Int) {\n            label.text = prop.title()\n\n            prop.hint()?.let { input.hint = prop.hint() }\n\n            input.addTextChangedListener(object : TextWatcher {\n                override fun afterTextChanged(s: Editable?) {}\n\n                override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n\n                override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n                    propertiesCallback.addProp(position, prop.title(), input.text.toString())\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>In Fragment </p>\n\n<pre><code>private var propertiesList = mutableListOf&lt;CategoriesAndSubcategoriesQuery.Property&gt;()\nprivate var propertiesInputList = mutableListOf&lt;ProductPropertiesInput&gt;()\n\n\n\n  private fun setUpSubcategorySpinner() {\n        subcategoriesAdapter = ArrayAdapter(\n                this@AddProductFragment.context!!,\n                android.R.layout.simple_spinner_item,\n                subcategoriesList\n        )\n        //Subcategories\n        subcategoriesAdapter.setDropDownViewResource(android.R.layout.simple_dropdown_item_1line)\n\n        subcategory_spinner.adapter = subcategoriesAdapter\n\n        subcategory_spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                subcategoryId = subcategoriesList[position].id()\n\n                //Adding properties\n                subcategoriesList[position].properties()?.let {\n                    //Clear previous properties data of another subcategory.\n                    propertiesInputList.clear()\n                    propertiesList.clear()\n\n                    propertiesList.addAll(it)\n                    propertiesAdapter.setData(propertiesList)\n                    propertiesAdapter.notifyDataSetChanged()\n                }\n            }\n\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {}\n        }\n    }\n</code></pre>\n\n<p>overide</p>\n\n<pre><code> override fun addProp(position: Int, title: String, value: String) {\n        val prop = ProductPropertiesInput\n                .builder()\n                .title(title)\n                .value(value)\n                .build()\n\n        propertiesInputList.add(prop)\n\n        //Log.d(TAG, \"prop: ${prop.title()} : ${prop.value()}\")\n    }\n</code></pre>\n\n<p>submit fun</p>\n\n<pre><code>    private fun submitProduct() {\n        //Initializing properties.\n        val properties: Any\n\n        //The keys needed in final list.\n        val propertyKeys = propertiesList.map { it.title() }\n\n        //Removing objects which keys are not needed.\n        propertiesInputList.removeAll { it.title() !in propertyKeys }\n\n        Log.d(TAG, \"propertiesInputList: $propertiesInputList\")\n\n        //Removing duplicate and assign result in properties var.\n        properties = propertiesInputList\n                .distinctBy { it.title() }\n\n        Log.d(TAG, \"properties: $properties\")\n\n        for (prop in properties) {\n        Log.d(TAG, \"properties , title: ${prop.title()}, value: ${prop.value()} \")\n    }\n}\n</code></pre>\n\n<p>Above codes is intended to work as. When user types a value in one of the <code>EditText</code> in <code>RecyclerView</code> the value will be taken to fragment and added to an object which takes title and value and then added to <code>propertiesInputList</code>.</p>\n\n<p><strong>Problem 1:</strong> <code>propertiesInputList</code> will have so many duplicates objects with the same title and I thought the best solution was using <code>distinctBy</code>.</p>\n\n<p><strong>Problem 2:</strong> When user fills a number of <code>EditText</code> which are related to let's say <code>category1</code> and changes his mind and select another category from <code>Spinner</code>. The previous values which are <strong>not part of new chosen category</strong> remain in <code>propertiesInputList</code> list. So I thought the best solution was to clear <code>propertiesInputList</code> and using <code>removeAll</code> with the titles related to category to filter unwanted objects.</p>\n\n<p>But now I get only the first letter user types. If user types <strong>shoes</strong> I get <strong>s</strong>. So it seems <code>distinctBy</code> returns the first object but I want to get exactly last word user typed and if the user typed and erased everything I want blank.</p>\n\n<p>Is there a better solution to handle this? Like looping <code>recyclerView</code> only when user press submit instead of <code>TextWatcher</code>? Or which part should I fix to make this work?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 331, "user_id": 3649767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnMOj.png?s=128&g=1", "display_name": "Vigen", "link": "https://stackoverflow.com/users/3649767/vigen"}, "edited": false, "score": 0, "creation_date": 1558561997, "post_id": 56265376, "comment_id": 99147275, "body": "did you try to return &#39;false&#39; in &#39;OnTouchListener&#39;?"}, {"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "reply_to_user": {"reputation": 331, "user_id": 3649767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnMOj.png?s=128&g=1", "display_name": "Vigen", "link": "https://stackoverflow.com/users/3649767/vigen"}, "edited": false, "score": 0, "creation_date": 1558562876, "post_id": 56265376, "comment_id": 99147513, "body": "Yes. That didn&#39;t change anything. I edited the code in my original post."}, {"owner": {"reputation": 331, "user_id": 3649767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnMOj.png?s=128&g=1", "display_name": "Vigen", "link": "https://stackoverflow.com/users/3649767/vigen"}, "edited": false, "score": 0, "creation_date": 1558563242, "post_id": 56265376, "comment_id": 99147616, "body": "Ok I googled a little bit. May be this one will help <a href=\"https://stackoverflow.com/questions/19538747/how-to-use-both-ontouch-and-onclick-for-an-imagebutton\" title=\"how to use both ontouch and onclick for an imagebutton\">stackoverflow.com/questions/19538747/&hellip;</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "edited": false, "score": 0, "creation_date": 1558564704, "post_id": 56265740, "comment_id": 99147986, "body": "Thanks Gabe. Adding performClick() at the end of ACTION_UP did the trick."}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "reply_to_user": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "edited": false, "score": 1, "creation_date": 1558564909, "post_id": 56265740, "comment_id": 99148025, "body": "That&#39;s the better solution anyway. I just remembered the other reason to do that- without it accessibility features won&#39;t work on that view"}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": true, "score": 3, "last_activity_date": 1558563751, "creation_date": 1558563751, "answer_id": 56265740, "question_id": 56265376, "link": "https://stackoverflow.com/questions/56265376/using-both-setontouchlistener-and-setonclicklistener-on-a-button/56265740#56265740", "title": "Using both setOnTouchListener and setOnClickListener on a button", "body": "<p>Your click listener will never fire because the touch listener is supposed to tell the system when the elemnt was clicked.  Yours isn't.  Either add a performClick at the appropriate time, or put everything into the touch listener and perform the click on action_up</p>\n"}], "owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56265740, "answer_count": 1, "score": 1, "last_activity_date": 1558563751, "creation_date": 1558561177, "last_edit_date": 1558562805, "question_id": 56265376, "link": "https://stackoverflow.com/questions/56265376/using-both-setontouchlistener-and-setonclicklistener-on-a-button", "title": "Using both setOnTouchListener and setOnClickListener on a button", "body": "<p>I have a function that shrinks the size of a view on <code>ACTION_DOWN</code>, and returns it to original size on <code>ACTION_UP</code>. This function is strictly for aesthetics. I have setOnClickListeners on the buttons so they can (in theory...) execute code when the button is pressed.</p>\n\n<pre><code>private fun scaleButton(theButton:View, grow:Boolean){\n    theButton.setOnTouchListener(View.OnTouchListener { v, event -&gt;\n        if (event.action == MotionEvent.ACTION_DOWN) {\n            v.isPressed = true\n\n            if (grow) {\n                v.animate().scaleX(1.04F).scaleY(1.04F).setDuration(50)\n            } else {\n                v.animate().scaleX(0.97F).scaleY(0.97F).setDuration(50)\n            }\n\n        } else if (event.action == MotionEvent.ACTION_UP) {\n            v.isPressed = false\n            v.animate().scaleX(1.0F).scaleY(1.0F).setDuration(100)\n        }\n        false\n    })\n}\n</code></pre>\n\n<p><strong>The problem is <code>setOnClickListener</code> is never called.</strong></p>\n\n<p>onCreate:</p>\n\n<pre><code>scaleButton(button1,false)\nscaleButton(button2,true)\nscaleButton(button3,false)\n\nbutton1.setOnClickListener {\n    println(\"Button 1 Pressed\")\n}\nbutton2.setOnClickListener {\n    println(\"Button 2 Pressed\")\n}\nbutton3.setOnClickListener {\n    println(\"Button 3 Pressed\")\n}\n</code></pre>\n\n<p><strong>How can I both scale the button via animation (on touch) AND trigger <code>setOnClickListener</code></strong></p>\n"}, {"tags": ["kotlin", "enums"], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1558624139, "last_edit_date": 1558624139, "creation_date": 1558559211, "answer_id": 56265033, "question_id": 56264512, "link": "https://stackoverflow.com/questions/56264512/custom-enum-item/56265033#56265033", "title": "Custom enum item", "body": "<p>That's not possible with <code>Enum</code>s in Kotlin, but you can do something similar with Sealed classes:</p>\n\n<pre><code>sealed class MySealedClass(val param1: String) {\n    object Type1 : MySealedClass(\"Type 1\")\n    object Type2 : MySealedClass(\"Type 2\")\n    class Custom(param1: String) : MySealedClass(param1)\n}\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">this</a> for reference.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1558598557, "creation_date": 1558598557, "answer_id": 56270621, "question_id": 56264512, "link": "https://stackoverflow.com/questions/56264512/custom-enum-item/56270621#56270621", "title": "Custom enum item", "body": "<p>Yes, you can. You just have to give the <code>enum class</code> a property, which is then initialized for each enum item.</p>\n\n<pre><code>enum class Test(val param: String) {\n    Item1(\"Item 1\"),\n    Item2(\"Item 2\"),\n    Custom(\"Hello\")\n}\n\nprintln(Test.Custom.param) // Hello\n</code></pre>\n"}], "owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56265033, "answer_count": 2, "score": 0, "last_activity_date": 1558624139, "creation_date": 1558556797, "question_id": 56264512, "link": "https://stackoverflow.com/questions/56264512/custom-enum-item", "title": "Custom enum item", "body": "<p>As I know in Swift we can create custom item in enum like this</p>\n\n<pre><code>enum MyEnum {\n  case item1\n  case item2\n  case custom(param1: String)\n\n  var param1: String {\n    switch self {\n    case .item1:\n      return \"Item 1\"\n    case .item2:\n      return \"Item 2\"\n    case let .custom(param1):\n      return param1\n    }\n  }\n}\n</code></pre>\n\n<p>Is it possible in Kotlin? If yes, how to?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558555111, "post_id": 56264085, "comment_id": 99144587, "body": "Hi Eric! Welcome to Stackoverflow! What did you try already? Where did you get stuck? Do you have any code to share?"}, {"owner": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558556834, "post_id": 56264085, "comment_id": 99145394, "body": "I do need to use factorial but need steps of how to code it."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "edited": false, "score": 0, "creation_date": 1558557244, "post_id": 56264248, "comment_id": 99145571, "body": "Yes, the goal is to write a program pronting factorials for numbers from 1 to n and it should produce a list of correct numbers, the numbers in the post."}, {"owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "reply_to_user": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "edited": false, "score": 0, "creation_date": 1558560948, "post_id": 56264248, "comment_id": 99146979, "body": "@Eric so you can use this code and change <code>num</code> value to what you like. It will printing factorial value. You can check this code output in <a href=\"https://pl.kotl.in/coipBoF1L\" rel=\"nofollow noreferrer\">kotlin playground</a>."}, {"owner": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "edited": false, "score": 0, "creation_date": 1558631824, "post_id": 56264248, "comment_id": 99174226, "body": "Cany you explain the process in detail? Im being mentored by a russian software engineer and he lists a couple examples but he fails to go into detail. He says im overyhinking it and i should be like a kid and just apply information rather then just solely understanding it."}, {"owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "reply_to_user": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "edited": false, "score": 0, "creation_date": 1558637498, "post_id": 56264248, "comment_id": 99176558, "body": "@Eric it&#39;s just a fundamental things. What exactly you didn&#39;t get? How loop working or what?"}], "tags": [], "owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1558555638, "creation_date": 1558555638, "answer_id": 56264248, "question_id": 56264085, "link": "https://stackoverflow.com/questions/56264085/kotlin-n-10-and-must-include-loops/56264248#56264248", "title": "Kotlin n=10 and must include loops", "body": "<p>As far as I understood you need factorial:</p>\n\n<pre><code>val num = 10\nvar factorial: Long = 1\nfor (i in 1..num) {\n    factorial *= i.toLong()\n    println(\"$factorial\")\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11541445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c19e62ec95a2beb920792a85c9474323?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/11541445/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1558555638, "creation_date": 1558554979, "question_id": 56264085, "link": "https://stackoverflow.com/questions/56264085/kotlin-n-10-and-must-include-loops", "title": "Kotlin n=10 and must include loops", "body": "<p>I need to use loops and arithmetic expressions to code n=10</p>\n\n<p>The correct output of the program:</p>\n\n<p>1</p>\n\n<p>2</p>\n\n<p>6</p>\n\n<p>24</p>\n\n<p>120</p>\n\n<p>720</p>\n\n<p>5040</p>\n\n<p>40320</p>\n\n<p>362880</p>\n\n<p>3628800</p>\n\n<p>Please guide me through this!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558551357, "post_id": 56263158, "comment_id": 99142938, "body": "And you can not or do not want to use an existing Date/Time library?"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558551707, "post_id": 56263158, "comment_id": 99143083, "body": "I might consider that but I doubt I will find one that includes support for a language like Tagalog. Also I doubt that a library exists that takes a date in some language and generates a Date/Time object. Usually they work the other way around."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1558552356, "post_id": 56263158, "comment_id": 99143357, "body": "Why <code>x &gt; 0</code> ? The indices of the array are 0 based. The item can be found at position 0."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1558552479, "post_id": 56263158, "comment_id": 99143420, "body": "@forpas Oops, I corrected that. Thanks."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1558553845, "post_id": 56263158, "comment_id": 99144053, "body": "why do you perform a search on a <code>monthText</code>? I guess the user pick the month from an adapter from which you can have the position right away?"}], "answers": [{"tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": true, "score": 4, "last_activity_date": 1558552214, "creation_date": 1558552214, "answer_id": 56263462, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263462#56263462", "title": "How to simplify this in Kotlin", "body": "<p>For performance reasons, you should better hash than search</p>\n\n<pre><code>private val monthByName = mapOf(\n    \"january\" to 0,\n    \"february\" to 1,\n    \"jumper\" to 2,\n    \"Januari\" to 0,\n    \"Februari\" to 1,\n    \"Maret\" to 2\n)\n\nprivate fun getMonth(monthText: String) = monthByName[monthText] ?: throw NoSuchElementException(monthText)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 501, "user_id": 11488462, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-M6YLL7ScjwE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf83nz2Z_Cbh2tcvSW_jsPxeuc-8g/mo/photo.jpg?sz=128", "display_name": "Dirk Bolte", "link": "https://stackoverflow.com/users/11488462/dirk-bolte"}, "is_accepted": false, "score": 1, "last_activity_date": 1558552527, "creation_date": 1558552527, "answer_id": 56263529, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263529#56263529", "title": "How to simplify this in Kotlin", "body": "<p>Maybe not the nicest way:</p>\n\n<p>I first build a set with all possible mappings of month to index. I define the lists and process them with <code>mapIndexed</code> to get the index value. Afterwards I flatten those to get a set with <code>Pair&lt;String, Int&gt;</code></p>\n\n<pre><code>val monthsToIndex by lazy {\n        val lists = listOf(\n                arrayOf(\"january\", \"february\", \"jumper\"),\n                arrayOf(\"Januari\", \"Februari\", \"Maret\")\n        );\n        lists.map { it.mapIndexed { i, s -&gt; s to i } }.flatten().toSet()\n    };\n</code></pre>\n\n<p>The Search is now a <code>find</code> in that set + a null check to throw the exception:</p>\n\n<pre><code>private fun getMonth(monthText: String): Int {\n        return monthsToIndex.find { it.first == monthText }?.second ?: throw Exception(\"Not found\")\n    }\n</code></pre>\n\n<p>A benefit of that approach would be a very concise place where you initialise all values - and only once.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>You can also convert this into a map as Frank Neblung has suggested - this would definitely speed up the search:</p>\n\n<pre><code>val monthsToIndex by lazy {\n    val lists = listOf(\n        arrayOf(\"january\", \"february\", \"jumper\"),\n        arrayOf(\"Januari\", \"Februari\", \"Maret\")\n    );\n    lists.map { it.mapIndexed { i, s -&gt; s to i } }.flatten().toMap()\n};\n\nprivate fun getMonth(monthText: String): Int {\n    return monthsToIndex[monthText] ?: throw Exception(\"Not found\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1558552725, "creation_date": 1558552725, "answer_id": 56263577, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263577#56263577", "title": "How to simplify this in Kotlin", "body": "<p>With an array of arrays:</p>\n\n<pre><code>private fun getMonth(monthText: String): Int {\n    val array = arrayOf(\n        arrayOf(\"january\", \"february\", \"jumper\"),\n        arrayOf(\"Januari\", \"Februari\", \"Maret\")\n    )\n    val months = array.firstOrNull { it.contains(monthText) }\n    if (months != null) return months.indexOf(monthText)\n    throw Exception(\"Not found\")\n}\n</code></pre>\n\n<p>The only inefficiency of this I can think of is that the array where <code>monthText</code> will be found, is scanned twice: once with <code>contains()</code> and then with <code>indexOf()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1558553636, "last_edit_date": 1558553636, "creation_date": 1558553042, "answer_id": 56263648, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263648#56263648", "title": "How to simplify this in Kotlin", "body": "<p>I would probably hold some lists (or maps) containing your month texts and iterate over them, e.g.:</p>\n\n<pre><code>val englishMonths = sequenceOf(\"January\", \"February\", \"March\" /*, ... */).mapIndexed { index, s -&gt; s to index }.toMap()\nval xxxMonths = sequenceOf(\"january\", \"february\", \"jumper\"/*, ... */).mapIndexed { index, s -&gt; s to index }.toMap()\n// and all the other month mappings you need\n</code></pre>\n\n<p>Maybe you want to put those in an appropriate locale-mapping as well.</p>\n\n<p>And your actual function would then just iterate over them:</p>\n\n<pre><code>fun getMonth(monthText : String) = sequenceOf(\n  // all the month lists that are relevant:\n  englishMonths, xxxMonths /*, ... */\n)\n  .mapNotNull { it[monthText] }\n  .firstOrNull()\n</code></pre>\n\n<p>Which now would return <code>null</code> if no match was found. You can also just add <code>?: throw WhateverExceptionSuites()</code> if you do not like a nullable type there.</p>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558554217, "post_id": 56263810, "comment_id": 99144203, "body": "did you know that there are countries that do have more than 12 months? ;-)"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558554288, "post_id": 56263810, "comment_id": 99144231, "body": "@Roland I just googled it and Ethiopia appears to be the only country with 13 months. I can handle that exception although Ethiopia is not required in code. Strangely, Tagalog is."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558554302, "post_id": 56263810, "comment_id": 99144238, "body": "that&#39;s why I would recommend any date/time API before trying to implement something from scratch... if that&#39;s just a simple list that contains some month names, that will probably be ok to... but I would at least put that array outside of the function... otherwise you create it and discard it again... and that on each call..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558554366, "post_id": 56263810, "comment_id": 99144264, "body": "I know of Ethiopia... but I wouldn&#39;t be surprised if there are a lot more ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558554660, "post_id": 56263810, "comment_id": 99144403, "body": "well... it mainly depends now on which calendars you want to support... it seems that depending on the calendar, some have a 13th month in leap years..."}], "tags": [], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "is_accepted": false, "score": 0, "last_activity_date": 1558553810, "creation_date": 1558553810, "answer_id": 56263810, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263810#56263810", "title": "How to simplify this in Kotlin", "body": "<p>I think something like this would work (Note: For brevity I only listed 3 months for 2 languages. There are in fact 12 months for multiple languages):</p>\n\n<pre><code>private fun getMonth(monthText: String): Int {\n    var x = arrayOf(\"january\", \"february\", \"march\", \"jumper\", \"Januari\", \"Februari\", \"Maret\").indexOf(monthText)\n\n    if (x &lt; 0)\n        throw Exception(\"Month not found\")\n\n    return (x % 12) + 1\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2277, "user_id": 1421319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6396188f7ed7202ce7a5e132c0b071d7?s=128&d=identicon&r=PG", "display_name": "Gal Naor", "link": "https://stackoverflow.com/users/1421319/gal-naor"}, "is_accepted": false, "score": 0, "last_activity_date": 1558553891, "creation_date": 1558553891, "answer_id": 56263827, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin/56263827#56263827", "title": "How to simplify this in Kotlin", "body": "<p>I would do it like this: </p>\n\n<pre><code>private fun getMonth(monthText: String): Int {\n   val a =  arrayOf(\"january\", \"february\", \"jumper\")\n   val b = arrayOf(\"Januari\", \"Februari\", \"Maret\")\n\n   val result = a.zip(b)\n            .mapIndexed{idx, it -&gt; if (it.first == monthText || it.second == monthText) idx else null }\n            .mapNotNull{it}.firstOrNull()\n   return result ?: throw Exception(\"Not found\")\n}\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 56263462, "answer_count": 6, "score": 0, "last_activity_date": 1558553891, "creation_date": 1558550840, "last_edit_date": 1558552457, "question_id": 56263158, "link": "https://stackoverflow.com/questions/56263158/how-to-simplify-this-in-kotlin", "title": "How to simplify this in Kotlin", "body": "<p>Is there a shorter way in Kotlin to write the following code:</p>\n\n<pre><code>private fun getMonth(monthText: String): Int {\n    var x = arrayOf(\"january\", \"february\", \"jumper\").indexOf(monthText)\n\n    if (x &gt;= 0)\n        return x\n\n    x = arrayOf(\"Januari\", \"Februari\", \"Maret\").indexOf(monthText)\n\n    if (x &gt;= 0)\n        return x\n\n    throw Exception(\"Not found\")\n\n}\n</code></pre>\n\n<p>I have to repeat the array search for many languages and want to avoid having to repeat duplicate code. Note: The returned value must indicate the month.</p>\n"}, {"tags": ["kotlin", "collections", "covariance"], "answers": [{"comments": [{"owner": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "edited": false, "score": 0, "creation_date": 1558549925, "post_id": 56262636, "comment_id": 99142324, "body": "But how comes that my implementation doesn&#39;t even get called with this argument?"}, {"owner": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "edited": false, "score": 0, "creation_date": 1558549976, "post_id": 56262636, "comment_id": 99142347, "body": "Also, I like how the &quot;responsibility on the implementor of contains&quot; is not even mentioned in the documentation of contains."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "edited": false, "score": 0, "creation_date": 1558550847, "post_id": 56262636, "comment_id": 99142729, "body": "@Pa\u016dloEbermann Yes this seems to involve some compiler magic. If you check the bytecode generated for your <code>StringSet</code> implementation, you will find that the bridge method <code>contains(Ljava&#47;lang&#47;Object;)Z</code> checks the <code>element</code> for being a <code>String</code> and immediately returns false without calling the overridden implementation if it&#39;s not. See <a href=\"https://gist.github.com/h0tk3y/711ad7d972822b414e35cdd36dfcc222\" rel=\"nofollow noreferrer\">this gist</a>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "edited": false, "score": 0, "creation_date": 1558551156, "post_id": 56262636, "comment_id": 99142860, "body": "So I guess the point about <code>some responsibility on the implementor of contains</code> is now handled by the compiler for the built-in collection interfaces. However, I guess it&#39;s not handled for custom types with <code>@UnsafeVariance</code> in the signatures. Let me check."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "edited": false, "score": 0, "creation_date": 1558551375, "post_id": 56262636, "comment_id": 99142947, "body": "Yeah, the compiler just insert a <code>CHECKAST</code> instruction in the bridge, and it throws a <code>ClassCastException</code> at runtime if a bad object is passed. See <a href=\"https://gist.github.com/h0tk3y/8978a0abadb29a4ea1c544fbd95ea6ef\" rel=\"nofollow noreferrer\">another gist</a>."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 2, "creation_date": 1558552028, "post_id": 56262636, "comment_id": 99143213, "body": "In case of <code>containsAll</code> the responsibility to work accurately with the argument is still on the implementor, because in this case the bridge cannot check the actual type of the erased collection argument."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1558552024, "last_edit_date": 1558552024, "creation_date": 1558548523, "answer_id": 56262636, "question_id": 56262530, "link": "https://stackoverflow.com/questions/56262530/how-can-kotlins-set-be-covariant-when-contains-takes-e/56262636#56262636", "title": "How can Kotlin&#39;s Set be covariant when contains() takes E?", "body": "<p>Declaration-site covariance in the form of the <code>out</code> modifier misses a useful use case of making sure that an instance passed as an argument is generally sensible to pass here. The <code>contains</code> functions are a good example.</p>\n\n<p>In the particular case of <code>Set.contains</code>, the <code>@UnsafeVariance</code> annotation is used to ensure that the function accepts an instance of <code>E</code>, as passing an <code>element</code> that is not <code>E</code> into <code>contains</code> makes no sense \u2013 all proper implementation of <code>Set</code> will always return <code>false</code>. The implementations of <code>Set</code> are not supposed to store the <code>element</code> passed to <code>contains</code> and thus should never return it from any other function with the return type <code>E</code>. So a properly implemented <code>Set</code> won't violate the variance restrictions at runtime.</p>\n\n<p>The <code>@UnsafeVariance</code> annotation actually suppresses the compiler variance conflicts, like using an <code>out</code>-projected type parameter in an <code>in</code>-position.</p>\n\n<p>Its motiviation is best described in <a href=\"https://blog.jetbrains.com/kotlin/2015/10/kotlin-1-0-beta-candidate-is-out/\" rel=\"nofollow noreferrer\">this blog post</a>:</p>\n\n<blockquote>\n  <h3><code>@UnsafeVariance</code> annotation</h3>\n  \n  <p>Sometimes we need to suppress declaration-site variance checks in our classes. For example, to make <code>Set.contains</code> typesafe while keeping read-only sets co-variant, we had to do it:</p>\n\n<pre><code>interface Set&lt;out E&gt; : Collection&lt;E&gt; {\n     fun contains(element: @UnsafeVariance E): Boolean\n}\n</code></pre>\n  \n  <p>This puts some responsibility on the implementor of <code>contains</code>, because with this check suppressed the actual type of element may be anything at all at runtime, but it\u2019s sometimes necessary to achieve convenient signatures. See more on the type-safety of collections below.</p>\n  \n  <p>So, we introduced the <code>@UnsafeVariance</code> annotation on types for this purpose. It\u2019s been deliberately made long and stands out to warn agains abusing it.</p>\n</blockquote>\n\n<p><sup>The rest of the blog post also explicitly mentions that the signature of <code>contains</code> using <code>@UnsafeVariance</code> improves type-safety.</sup></p>\n\n<p>The alternative to introducing <code>@UnsafeVariance</code> was to keep <code>contains</code> accepting <code>Any</code>, but this option lacks the type check on <code>contains</code> calls that would detect erroneous calls with <code>element</code>s that can't be present in the set due to not being instances of <code>E</code>.</p>\n"}], "owner": {"reputation": 68321, "user_id": 600500, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5925786f174975db18cbc83dd85e5c1d?s=128&d=identicon&r=PG", "display_name": "Pa\u016dlo Ebermann", "link": "https://stackoverflow.com/users/600500/pa%c5%adlo-ebermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1558552024, "creation_date": 1558548028, "question_id": 56262530, "link": "https://stackoverflow.com/questions/56262530/how-can-kotlins-set-be-covariant-when-contains-takes-e", "title": "How can Kotlin&#39;s Set be covariant when contains() takes E?", "body": "<p>I was looking into co- and contravariance in several programming languages' collection libraries, and stumbled over Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-set/index.html\" rel=\"nofollow noreferrer\">Set</a> interface.</p>\n\n\n\n<p>It is documented as </p>\n\n<pre><code>interface Set&lt;out E&gt; : Collection&lt;E&gt;\n</code></pre>\n\n<p>which means it is covariant \u2013 only \"producing\" E objects, <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">following the Kotlin documentation</a>, not consuming them.</p>\n\n<p>And <code>Set&lt;String&gt;</code> becomes a subtype of <code>Set&lt;Any&gt;</code>.</p>\n\n<p>Yet, it has those two methods:</p>\n\n<pre><code>abstract fun contains(element: E): Boolean\nabstract fun containsAll(elements: Collection&lt;E&gt;): Boolean\n</code></pre>\n\n<p>So when I create a class implementing <code>Set&lt;String&gt;</code>, I have to implement (beside others) <code>contains(String)</code>. But later someone can use my class as a <code>Set&lt;Any&gt;</code> and call <code>set.contains(5)</code>.</p>\n\n<p>I actually tried this:</p>\n\n<pre><code>class StringSet : Set&lt;String&gt; {\n    override val size = 2\n    override fun contains(element: String): Boolean {\n        println(\"--- StringSet.contains($element)\")\n        return element == \"Hallo\" || element == \"World\"\n    }\n\n    override fun containsAll(elements: Collection&lt;String&gt;) : Boolean =\n        elements.all({it -&gt; contains(it)})\n    override fun isEmpty() = false\n    override fun iterator() = listOf(\"Hallo\", \"World\").iterator()\n\n}\n\nfun main() {\n    val sset : Set&lt;String&gt; = StringSet()\n    println(sset.contains(\"Hallo\"))\n    println(sset.contains(\"xxx\"))\n    //// compiler error:\n    // println(set.contains(5))\n\n    val aset : Set&lt;Any&gt; = sset\n    println(aset.contains(\"Hallo\"))\n    println(aset.contains(\"xxx\"))\n    // this compiles (and returns false), but the method is not actually called\n    println(aset.contains(5)) \n}\n</code></pre>\n\n<p>(<a href=\"https://pl.kotl.in/uAKB2qUHH\" rel=\"nofollow noreferrer\">Run online</a>)</p>\n\n<p>So it turns out that <code>Set&lt;String&gt;</code> is not a \"real\" subtype of <code>Set&lt;Any&gt;</code>, as the <code>set.contains(5)</code> works with the second but not the first.</p>\n\n<p>Actually calling the contains method even works at runtime \u2013 just my implementation will never be called, and it just prints <code>false</code>. </p>\n\n<p>Looking into the source code of the interface, it turns out that the two methods are actually declared as </p>\n\n<pre><code>abstract fun contains(element: @UnsafeVariance E): Boolean\nabstract fun containsAll(elements: Collection&lt;@UnsafeVariance E&gt;): Boolean\n</code></pre>\n\n<p>What is going on here?\nIs there some special compiler magic for Set?\nWhy is this not documented anywhere?</p>\n"}, {"tags": ["android", "kotlin", "service", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "is_accepted": false, "score": 0, "last_activity_date": 1558550003, "creation_date": 1558550003, "answer_id": 56262977, "question_id": 56262417, "link": "https://stackoverflow.com/questions/56262417/how-to-update-recyclerview-items-dynamically-at-specific-position-from-service-c/56262977#56262977", "title": "How to update recyclerview items dynamically at specific position from service class?", "body": "<p>You need to add some extra logic. Use a variable to store the last clicked position and check whether the current item position equals last checked position.</p>\n\n<pre><code>@Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n\n        holder.yourView.setVisibility(position == lastCheckedPosition ? View.VISIBLE : View.INVISIBLE);\n        holder.yourView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                holder.yourView.setVisibility(View.VISIBLE);\n                notifyItemChanged(lastCheckedPosition);\n                lastCheckedPosition = position;\n            }\n        });\n        super.onBindViewHolder(holder, position);\n    }\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11463719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751d323f3e2efa46d3d6765a1b3b623c?s=128&d=identicon&r=PG&f=1", "display_name": "Ruchi Patel", "link": "https://stackoverflow.com/users/11463719/ruchi-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558550003, "creation_date": 1558547534, "question_id": 56262417, "link": "https://stackoverflow.com/questions/56262417/how-to-update-recyclerview-items-dynamically-at-specific-position-from-service-c", "title": "How to update recyclerview items dynamically at specific position from service class?", "body": "<p>I'm having a animation item in recycler view here i'm trying set it's visiblity to visible and invisible from service for that i have successfully created methods and recycler view is getting manipulated but here the main problem is that when i click on first recycler view item say at position 1 i'm setting visibility of my animation view to visible however if i click on another item set no 5 then that item visibility will be set properly however i want to make the previous clicked item to be invisible how can i do that?</p>\n\n<p>here is my code when i'm setting visiblity inside on click:</p>\n\n<pre><code>holder.itemView.setOnClickListener(View.OnClickListener {\n                   holder.playanim.visibility = View.VISIBLE\n        })\n</code></pre>\n\n<p>this is my xml item:</p>\n\n<pre><code> &lt;com.airbnb.lottie.LottieAnimationView\n            android:id=\"@+id/playinganim\"\n            android:layout_marginTop=\"5dp\"\n            android:layout_width=\"45dp\"\n            android:layout_weight=\"20\"\n            android:visibility=\"invisible\"\n            app:lottie_autoPlay=\"true\"\n            app:lottie_loop=\"true\"\n            app:lottie_fileName=\"playing.json\"\n            android:layout_toRightOf=\"@id/sname\"\n            android:layout_height=\"45dp\"\n            /&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "is_accepted": true, "score": 1, "last_activity_date": 1558548241, "last_edit_date": 1558548241, "creation_date": 1558547417, "answer_id": 56262388, "question_id": 56262324, "link": "https://stackoverflow.com/questions/56262324/update-textview-in-fragment-when-recyclerviews-data-changes/56262388#56262388", "title": "Update TextView in Fragment when RecyclerView&#39;s data changes", "body": "<p>Create a interface in recyclerView class , and implement that interface in fragment . Once you click the remove button , call this interface . In Fragment class , update the text view with adapter.getItemCount. </p>\n\n<p>In Adapter </p>\n\n<pre><code>interface ItemCallback{\n    void updateTextView();\n}\n</code></pre>\n\n<p>This interface will be implemented in fragment class ,where you can update your textView with itemCount .</p>\n\n<pre><code> public class Fragment implements Adapter.ItemCallback{\n\n  @Override\n  public void updateTextView() {\n   tvTextView.setText(adapter.getItemCount()); // This will return the current item count of adapter\n   }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "is_accepted": false, "score": 0, "last_activity_date": 1558547534, "creation_date": 1558547534, "answer_id": 56262418, "question_id": 56262324, "link": "https://stackoverflow.com/questions/56262324/update-textview-in-fragment-when-recyclerviews-data-changes/56262418#56262418", "title": "Update TextView in Fragment when RecyclerView&#39;s data changes", "body": "<p>You can do this via call back. Make an interface and implement that on Fragment. And pass the reference of the interface to the adapter. When you trigger the event to delete item from recycler view call the interface method (That you implemented on Activity). And in that call back method, you need to set the value to your text view. To set value on TextView, you can call <strong>size()</strong> method and set the value whatever is returned from it. For example the List you are passing to the adapter is <strong>mData</strong>. When you get call back the call size method on the reference and set the value as mentioned below code.</p>\n\n<pre><code>titleText.setText(String.valueOf(mData.size())).\n</code></pre>\n\n<p>Hope this will help you.</p>\n\n<p>NOTE: <strong>You need to call String.valueOf method because size method returns integer value so it needs to be cast</strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558548366, "post_id": 56262578, "comment_id": 99141606, "body": "just realised your using kotlin so my answer might not fit exactly but youll be able to adjust it pretty easily"}], "tags": [], "owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "is_accepted": false, "score": 0, "last_activity_date": 1558548261, "creation_date": 1558548261, "answer_id": 56262578, "question_id": 56262324, "link": "https://stackoverflow.com/questions/56262324/update-textview-in-fragment-when-recyclerviews-data-changes/56262578#56262578", "title": "Update TextView in Fragment when RecyclerView&#39;s data changes", "body": "<p>\"Or is there a way to send data from the recyclerview back to the fragment when removeBtn is clicked?\" the answer is yes</p>\n\n<p>One approach is to pass your adapter your own click listener (an interface), this way you can control the click from the fragment something like this, </p>\n\n<p>A1) create an interface</p>\n\n<pre><code>public interface ItemTouchListener {\n\n    void onCardClick(View view, int position);\n\n    boolean onCardLongClick(View view, int position);\n\n}\n</code></pre>\n\n<p>A2) implement this interface in your fragment </p>\n\n<pre><code>public class YourFragment extends Fragment implements ItemTouchListener\n</code></pre>\n\n<p>A3) implement the methods you created in your fragment</p>\n\n<pre><code>@Override\npublic void onCardClick(View view, int position) {\n    if (view.getId() == R.id.removeBtn){\n       //update your text\n    }else{\n      //other buttons\n    }\n}\n\n@Override\npublic boolean onCardLongClick(View view, int position) {\n  if (view.getId() == R.id.removeBtn){\n     //update your text\n  } else {\n    //other buttons\n  }\n    return true;\n}\n</code></pre>\n\n<p>A4) create this interface in your adapter and set it to your button</p>\n\n<pre><code>private ItemTouchListener onItemTouchListener;\n\npublic YourAdapter(List&lt;Object&gt; list, ItemTouchListener onItemTouchListener) {\n    this.onItemTouchListener = onItemTouchListener;\n    this.list = list;\n}\n\nremoveBtn = view.findViewById(R.id.removeBtn);\n        removeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onItemTouchListener.onCardClick(v, getAdapterPosition());\n            }\n        });\n        removeBtn.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                onItemTouchListener.onCardLongClick(view, getAdapterPosition());\n                return true;\n            }\n        });\n</code></pre>\n\n<p>A5) and now when you create your adapter it will ask for the ItemTouchListener which you can give it by just passing 'this'</p>\n\n<pre><code> YourAdapter adapter = new YourAdapter(this);\n</code></pre>\n\n<p>A6) you may also want to give your adapter a method something like getCount which return the list size</p>\n\n<pre><code>public int getCount(){\n  list.size();\n}\n</code></pre>\n\n<p>and then you can call this like myAdapter.getCount</p>\n"}], "owner": {"reputation": 1791, "user_id": 6868161, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/EIdND.jpg?s=128&g=1", "display_name": "grantespo", "link": "https://stackoverflow.com/users/6868161/grantespo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 56262388, "answer_count": 3, "score": 2, "last_activity_date": 1558548261, "creation_date": 1558547172, "question_id": 56262324, "link": "https://stackoverflow.com/questions/56262324/update-textview-in-fragment-when-recyclerviews-data-changes", "title": "Update TextView in Fragment when RecyclerView&#39;s data changes", "body": "<p>In my Fragment, I have 2 views. A Textview and a RecyclerView. The Textview essentially displays the current size of the RecyclerView. So, when a row is removed in the adapter class, I need to update the TextView's value accordingly.</p>\n\n<p>The row is removed successfully when <code>removeBtn</code> is clicked, but I need to update the TextView in the Fragment accordingly.</p>\n\n<p><strong>FRAGMENT</strong></p>\n\n<pre><code>                titleText.text = \"SIZE (\" + arrayStringList().size.toString() + \")\"\n                //...\n                //... \n                //Set RecyclerView Adapter\n                mRecyclerView.layoutManager = androidx.recyclerview.widget.LinearLayoutManager(context)\n                val adapter = MRecyclerView(context!!, arrayStringList)\n                mRecyclerView.adapter = adapter\n</code></pre>\n\n<p><strong>RECYCLERVIEW</strong></p>\n\n<pre><code>holder.removeBtn{ \n   mData.removeAt(position)\n   notifyItemRemoved(position)\n }\n</code></pre>\n\n<p>Is there some sort of listener that I can put in my fragment to detect when the data changes? Or is there a way to send data from the recyclerview back to the fragment when <code>removeBtn</code> is clicked?</p>\n"}, {"tags": ["java", "android", "mvvm", "kotlin", "repository-pattern"], "comments": [{"owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 1, "creation_date": 1558548774, "post_id": 56261838, "comment_id": 99141785, "body": "i have 2 repositories and 2 daos one for my user and one for my cards (main object of my app) i dont know why i did it like this but i think its a much cleaner solution than one to rule them all, what did you need help with setting up?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558549847, "post_id": 56261838, "comment_id": 99142285, "body": "I think I might go that way, I will end up with a lot of objects and like the idea of having one repository to manage many similar objects."}, {"owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558550172, "post_id": 56261838, "comment_id": 99142434, "body": "you could lump them in one since they both need the same DbHelper to instantiate them but i don&#39;t"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558551246, "post_id": 56261838, "comment_id": 99142899, "body": "I tried to do this, but unfortunately I failed... It&#39;s just beyond my abilities at this point, I guess I have to continue to practice and read more documentation/tutorials"}, {"owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558553013, "post_id": 56261838, "comment_id": 99143683, "body": "what did you try? one to one or both in one?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558553335, "post_id": 56261838, "comment_id": 99143830, "body": "I tried one to one, which works, I just think I could reduce the amount of repository files if I had one that handled many of my post types."}, {"owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "edited": false, "score": 0, "creation_date": 1558554173, "post_id": 56261838, "comment_id": 99144192, "body": "fairly simple tbh"}], "answers": [{"tags": [], "owner": {"reputation": 757, "user_id": 2745944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/t8lJ7.jpg?s=128&g=1", "display_name": "martinseal1987", "link": "https://stackoverflow.com/users/2745944/martinseal1987"}, "is_accepted": true, "score": 1, "last_activity_date": 1558554232, "creation_date": 1558554232, "answer_id": 56263911, "question_id": 56261838, "link": "https://stackoverflow.com/questions/56261838/is-it-best-practice-mvvm-to-use-one-repository-for-multiple-dao/56263911#56263911", "title": "Is it best practice MVVM to use one repository for multiple Dao?", "body": "<p>example of two daos one repository</p>\n\n<pre><code>public class CardRepositoryDummy {\n\nprivate final CardDao cardDao;\nprivate final UserDao userDao;\nprivate LiveData&lt;List&lt;Card&gt;&gt; cardListLiveData;\nprivate DbHelper db;\nprivate int keystage;\nprivate static final String TAG = \"CardRepo\";\n\npublic CardRepositoryDummy(Application application) {\n    SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(application);\n    keystage = sharedPreferences.getInt(Constants.SHARED_PREF_CARD_KEYSTAGE,0);\n    db = DatabaseBuilder.getDatabase(application);\n    cardDao = db.cardDaoLive();\n    userDao = db.userDao();\n}\n\npublic CardRepositoryDummy(Context application) {\n    SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(application);\n    keystage = sharedPreferences.getInt(Constants.SHARED_PREF_CARD_KEYSTAGE,0);\n    db = DatabaseBuilder.getDatabase(application);\n    cardDao = db.cardDaoLive();\n    userDao = db.userDao();\n}\n</code></pre>\n"}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 56263911, "answer_count": 1, "score": 1, "last_activity_date": 1558554232, "creation_date": 1558544783, "question_id": 56261838, "link": "https://stackoverflow.com/questions/56261838/is-it-best-practice-mvvm-to-use-one-repository-for-multiple-dao", "title": "Is it best practice MVVM to use one repository for multiple Dao?", "body": "<p>I'm trying to build an Android app using the MVVM design pattern. I currently have 3 types of Dao created (Dao1, Dao2, Dao3) for 3 different types of PostTypes, using Realm as the database. My 3 Daos look similar but contain Object with some identical variables, but with many different ones as well. </p>\n\n<pre><code>class Dao1(db: Realm) : Dao&lt;PostType1&gt;(db) {\n\n    fun findAllAsync(): LiveData&lt;RealmResults&lt; PostType1 &gt;&gt; {\n        return RealmResultsLiveData(where().findAllAsync())\n    }\n\n    fun findById(id: Int): LiveData&lt; PostType1 &gt;? {\n        return RealmLiveData(where().equalTo(\"id\", id).findFirst())\n    }\n\n    private fun where(): RealmQuery&lt;CTDCastaway&gt; {\n        return db.where(PostType1::class.java)\n    }\n}\n</code></pre>\n\n<p>I'm trying to figure out if I should be creating a repository for each Dao or 1 to rule them all. </p>\n\n<pre><code>class PostRepositary private constructor(val postsDao1: Dao1?){\n    fun getDao1Posts() = postsDao1?.findAllAsync()\n    fun getDao1PostById(entityId: Int) = postsDao1?.getById(entityId)\n\n    companion object{\n        @Volatile private var instance:PostRepositary? = null\n        fun getWildlifeInstance(postsDao1: Dao1) =\n            instance ?: synchronized(this){\n                instance ?: PostRepositary(postsDao1).also { \n                instance = it \n             }\n        }\n    }\n}\n</code></pre>\n\n<p>So should I create 1 repository for each of my Post types or 1 repository for all 3 Post types considering they share some common properties? </p>\n\n<p>And how would I go about creating a single repository for multiple Daos? </p>\n\n<p>Any links to documentation related to this would be appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-architecture-navigation", "android-bottomappbar"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1558544502, "post_id": 56261587, "comment_id": 99140021, "body": "What is your <code>R.menu.menu_with_nav_item</code>?"}, {"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1558545239, "post_id": 56261587, "comment_id": 99140317, "body": "The menu has only one item:  &lt;item         android:id=&quot;@id/fragmentToGoTo&quot;         android:title=&quot;Title&quot;         app:showAsAction=&quot;always&quot; /&gt;  My issue is with the navigation. I want to use the navigation jetpack to navigate between my fragments in the bottom app bar and i cant figure a way out to do it"}], "answers": [{"comments": [{"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1558545827, "post_id": 56261850, "comment_id": 99140558, "body": "I will test this and revert back to this answer soon. Many thanks for your answer. Appreciate it!"}, {"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1558624863, "post_id": 56261850, "comment_id": 99171006, "body": "When i insert the following code and run the app, the hamburger icon disappears on the bottomAppBar and therefore cannot access the menu... Can you help please ?"}, {"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1558641735, "post_id": 56261850, "comment_id": 99178305, "body": "I actually want to use Android Jetpack navigation to navigate between fragments instead of using BottomSheetDialogFragment on the BottomAppBar ..."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1558643508, "post_id": 56261850, "comment_id": 99179001, "body": "There&#39;s no requirement that you use any of the <code>setupWithNavController</code> methods if they aren&#39;t doing what you want (i.e., always having a drawer icon)."}, {"owner": {"reputation": 3863, "user_id": 9082728, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eHfw2stdNbs/AAAAAAAAAAI/AAAAAAAAAEI/f6wgjubYxDs/photo.jpg?sz=128", "display_name": "C&#244;ng H\u1ea3i", "link": "https://stackoverflow.com/users/9082728/c%c3%b4ng-h%e1%ba%a3i"}, "edited": false, "score": 0, "creation_date": 1597802772, "post_id": 56261850, "comment_id": 112250274, "body": "@ianhanniballake when I use this code the bottom bar auto show home button when select other item menus. How can I disable this behavior?"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": false, "score": 2, "last_activity_date": 1558544900, "creation_date": 1558544900, "answer_id": 56261850, "question_id": 56261587, "link": "https://stackoverflow.com/questions/56261587/implementing-android-jetpack-navigation-component-with-the-new-android-bottomapp/56261850#56261850", "title": "Implementing Android Jetpack Navigation component with the new Android BottomAppBar", "body": "<p><code>setupWithNavController</code> on a <code>Toolbar</code> (or subclasses like <code>BottomAppBar</code>) only set up the Up icon and the title - they do not hook up menu items added to the Toolbar.</p>\n\n<p>As per the <a href=\"https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer\" rel=\"nofollow noreferrer\">Tie destinations to menu items documentation</a>, you must set up your own listener and call <a href=\"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#onnavdestinationselected\" rel=\"nofollow noreferrer\">onNavDestinationSelected()</a>. For a <code>BottomAppBar</code>, that would be done by setting a <a href=\"https://developer.android.com/reference/android/widget/Toolbar.OnMenuItemClickListener.html\" rel=\"nofollow noreferrer\"><code>Toolbar.OnMenuItemClickListener</code></a>:</p>\n\n<pre><code>val navController = Navigation.findNavController(this, R.id.navigation_fragment)\nmyBottomBar.replaceMenu(R.menu.menu_with_nav_item)\n\nmyBottomBar.setupWithNavController(navController)\n\n// Connect MenuItems to the NavController\nmyBottomBar.setOnMenuItemClickListener {  menuItem -&gt;\n    menuItem.onNavDestinationSelected(navController)\n}\n</code></pre>\n"}], "owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558627186, "creation_date": 1558543661, "last_edit_date": 1558627186, "question_id": 56261587, "link": "https://stackoverflow.com/questions/56261587/implementing-android-jetpack-navigation-component-with-the-new-android-bottomapp", "title": "Implementing Android Jetpack Navigation component with the new Android BottomAppBar", "body": "<p>I am trying to implement Jetpack Navigation with the new Android Bottom App Bar in my main activity but it is not working as it should be.</p>\n\n<p>I've read the notes on navigation and doesn't seem to find any way to integrate navigation jetpack into the new bottom app bar. I've tried to do it my way as follows:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\n            android:id=\"@+id/bottom_app_bar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:fabAlignmentMode=\"center\"\n            app:fabAttached=\"true\"\n            app:navigationIcon=\"@drawable/baseline_menu_white_24\"/&gt;\n\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/baseline_add_white_24\"\n            app:layout_anchor=\"@id/bottom_app_bar\" /&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>The Navigation file is:</p>\n\n<pre><code>&lt;navigation\n    android:id=\"@+id/navigation_graph.xml\"\n    app:startDestination=\"@id/fragmentStart\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragmentStart\"\n        android:name=\"com.FragmentStart\"&gt;\n        &lt;action\n            android:id=\"@+id/goToFragment\"\n            app:destination=\"@id/fragmentToGoTo\" /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=\"@+id/fragmentToGoTo\"\n        android:name=\"com.FragmentToGoTo\"\n        /&gt;\n&lt;/navigation&gt;\n</code></pre>\n\n<p>Then on my activity i use:</p>\n\n<pre><code>    val navController = Navigation.findNavController(this, R.id.navigation_fragment)\n    myBottomBar.replaceMenu(R.menu.menu_with_nav_item)\n\n    myBottomBar.setupWithNavController(navController)\n    //or I've also tried\n    //NavigationUI.setupWithNavController(myBottomBar, navController, null)\n</code></pre>\n\n<p>What happens is that when clicking on the menu item, the navigation does not trigger and from what I've read, if the menu entry has the same id as the fragment in navigation graph, it should work directly. </p>\n\n<p>Can you please help by giving a link or some code on how to make this work?</p>\n"}, {"tags": ["android", "kotlin", "dialog"], "comments": [{"owner": {"reputation": 1251, "user_id": 5255963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QzdJ.jpg?s=128&g=1", "display_name": "Ali Rezaiyan", "link": "https://stackoverflow.com/users/5255963/ali-rezaiyan"}, "edited": false, "score": 1, "creation_date": 1558545970, "post_id": 56261331, "comment_id": 99140620, "body": "For UI, I think you can do it without a library, and about form validation, you can do that with regex"}, {"owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "reply_to_user": {"reputation": 1251, "user_id": 5255963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QzdJ.jpg?s=128&g=1", "display_name": "Ali Rezaiyan", "link": "https://stackoverflow.com/users/5255963/ali-rezaiyan"}, "edited": false, "score": 0, "creation_date": 1558546893, "post_id": 56261331, "comment_id": 99141005, "body": "<a href=\"https://www.youtube.com/watch?v=2Nj6qCtaUqw\" rel=\"nofollow noreferrer\">link</a> I might just use this"}], "owner": {"reputation": 97, "user_id": 8890160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76921e6fd9f2eb69d5c7f58a2bc89c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ooguro", "link": "https://stackoverflow.com/users/8890160/ooguro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1578884981, "creation_date": 1558542612, "last_edit_date": 1578884981, "question_id": 56261331, "link": "https://stackoverflow.com/questions/56261331/how-to-validate-more-than-one-piece-of-form-data-in-a-dialog-box-using-the-libra", "title": "How to validate more than one piece of form data in a dialog box using the library below?", "body": "<p>I have a button when clicked a dialog pops up asking user for signup information. I want to validate the information, if the email is an email, if password matches confirmation password etc. I want to use the library provided below. If there is a better library or method can you please provide that method or a link to something that well help me. Trying to create a user signup page in kotlin</p>\n\n<p>So i've tried following some of the documentation to add validation, but if there is more than one EditText box the app just crashes after pressing the signup button in the app. The documentation mentioned something about a recycler view. But not sure how to implement it for this.</p>\n\n<pre><code> implementation 'com.afollestad.material-dialogs:input:3.0.0-beta2'\n implementation 'com.afollestad.material-dialogs:core:3.0.0-beta2'\n</code></pre>\n\n<p>register_layout.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout \n       xmlns:android=\"http://schemas.android.com/apk/res/android\"\n         xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"match_parent\"\n         &gt;\n\n &lt;LinearLayout\n\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n    &lt;EditText\n            android:id=\"@+id/name\"\n            android:layout_margin=\"8dp\"\n            android:hint=\"Name\"\n            android:inputType=\"text\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n    &lt;EditText\n            android:id=\"@+id/r_email\"\n            android:hint=\"Email\"\n            android:inputType=\"textEmailAddress\"\n            android:layout_margin=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n    &lt;EditText\n            android:id=\"@+id/r_city\"\n            android:hint=\"City\"\n            android:inputType=\"text\"\n            android:layout_margin=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n    &lt;EditText\n            android:id=\"@+id/r_password\"\n            android:hint=\"Password\"\n            android:inputType=\"textPassword\"\n            android:layout_margin=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n    &lt;EditText\n            android:id=\"@+id/r_confirmPassword\"\n            android:hint=\"Confirm password\"\n            android:layout_margin=\"8dp\"\n            android:inputType=\"textPassword\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n\n\n &lt;/LinearLayout&gt;\n\n\n\n\n &lt;/FrameLayout&gt;\n</code></pre>\n\n<p>SigninActivity.kt</p>\n\n<pre><code> link_signup.setOnClickListener {\n        register()\n    }\n\n    link_forgot.setOnClickListener {\n        forgot()\n\n    }\n\n }\n\n private fun forgot() {\n    val forgot_layout = LayoutInflater.from(this@SignInActivity)\n        .inflate(R.layout.forgot_layout, null)\n\n    MaterialDialog(this).show {\n        title(text = \"Recovery\")\n        message(text = \"Forgot your passsword?\")\n        icon(R.drawable.ic_reset)\n        cancelable(true)  // calls setCancelable on the underlying \n  dialog\n        cornerRadius(10f)\n        cornerRadius(res = R.dimen.my_corner_radius)\n        input(waitForPositiveButton = false, hint = \"Email\") { \n      dialog, text -&gt;\n            val inputField = dialog.getInputField()\n            val isValid = text.startsWith(\"a\", true)\n\n            inputField?.error = if (isValid) null else \"Must be a \n    valid email!\"\n            dialog.setActionButtonEnabled(WhichButton.POSITIVE, \n    isValid)\n        }\n        positiveButton(text = \"Submit\")\n    }\n\n\n}\n\nprivate fun register() {\n\n    MaterialDialog(this).show {\n        title(text = \"Create an account\")\n        message(text = \"Please fill out the information below?\")\n        customView(R.layout.register_layout, scrollable = true)\n        icon(R.drawable.ic_user)\n        cancelable(true)  // calls setCancelable on the underlying \n     dialog\n        cornerRadius(10f)\n        cornerRadius(res = R.dimen.my_corner_radius)\n        positiveButton(text = \"submit\")\n\n    }\n</code></pre>\n\n<p>As mentioned above I would like to be able to check multiple checks for multiple EditText boxes. </p>\n"}, {"tags": ["java", "android", "unit-testing", "testing", "kotlin"], "owner": {"reputation": 637, "user_id": 5864033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV8Ps.jpg?s=128&g=1", "display_name": "Nimdokai", "link": "https://stackoverflow.com/users/5864033/nimdokai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 817, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1558550504, "creation_date": 1558542172, "last_edit_date": 1558550504, "question_id": 56261224, "link": "https://stackoverflow.com/questions/56261224/unit-test-repository-with-retrofit", "title": "Unit Test Repository with Retrofit", "body": "<p>I am writing Unit Tests for Repository that makes calls using Retrofit2.</p>\n\n<p>I wanted to test logic after receiving <code>Call</code> from server. </p>\n\n<p>Problem: when running each test separately all of them pass, but when running all test for class only one is passing. The other tests fails, because of: <code>Wanted but not invoked: ... However, there was exactly 1 interaction with this mock:</code> which is referring to <code>listener.onDataFailure()</code>. The reason for that: <strong>Call always returns same object <code>Calls.failure(IOException())</code>as a result for each test.</strong></p>\n\n<p>Repository class code: </p>\n\n<pre><code>public class Repository {\n\n    private static Repository repository;\n\n    private Repository(@NonNull final RetrofitService service) {\n        this.service = service;\n    }\n\n    public synchronized static Repository getInstance(RetrofitService service) {\n\n        if (repository == null) {\n            repository = new Repository(service);\n        }\n        return repository;\n    }\n\n    public void getDataFromApi(@NonNull final DataListener listener) {\n\n            service.getData(\"application/json\").clone().enqueue(new Callback&lt;DataList&gt;() {\n\n                @Override\n                public void onResponse(@NonNull Call&lt;DataList&gt; call, @NonNull Response&lt;DataList&gt; response) {\n\n                    if (response.errorBody() == null &amp;&amp; response.body() != null) {\n                    listener.onDataSuccess(response.body())\n                    } else {\n                    listener.onDataFailure(new Exception(t.getMessage()));\n                    }\n                }\n\n                @Override\n                public void onFailure(@NonNull Call&lt;DataList&gt; call, @NonNull Throwable t) {\n\n                    listener.onDataFailure(new Exception(t.getMessage()));\n\n                }\n            });\n    }\n}\n</code></pre>\n\n<p>RepositoryTest class code:</p>\n\n<pre><code>\nimport com.google.common.truth.Truth.assertThat\nimport okhttp3.ResponseBody\nimport org.junit.*\nimport org.mockito.*\nimport org.mockito.Mockito.*\nimport retrofit2.Call\nimport retrofit2.Response\nimport retrofit2.mock.Calls\nimport java.io.IOException\nimport org.mockito.Mockito.`when` as mockitoWhen\n\nclass RepositoryTest {\n\n    @Mock\n    lateinit var retrofitService: RetrofitService\n    @Mock\n    lateinit var dataListener: DataListener\n    @Mock\n    lateinit var body: ResponseBody\n\n\n    private lateinit var repo: Repository\n\n    @Before\n    fun setup() {\n        MockitoAnnotations.initMocks(this)\n        repo = Repository.getInstance(retrofitService)\n    }\n\n    @Test\n    fun `geteData given_failure result_onDataFailure called`() {\n        val call: Call&lt;DataList&gt; = Calls.failure(IOException())\n        mockitoWhen(retrofitService.getData(any(), any()))\n            .thenReturn(call.clone())\n\n        repo.getDataFromApi(dataListener)\n\n        verify(dataListener).onDataFailure(ArgumentMatchers.any())\n\n    }\n\n    @Test\n    fun `geteData given_success result_onDataSuccess called`() {\n        val call: Call&lt;DataList&gt; = Calls.response(Response.success(dataList))\n        mockitoWhen(retrofitService.getData(any(), any()))\n            .thenReturn(call.clone())\n\n        repo.getDataFromApi(dataListener)\n\n        verify(dataListener).onDataFailure(ArgumentMatchers.any())\n\n    }\n}\n\n</code></pre>\n\n<p><br>\nSo in this case above 1 test is passing, another one fails in both cases <code>dataListener.onDataFailure</code> has been called on the same object.\nWhile, running both methods separately is giving 2 x pass.</p>\n\n<p>Question: Why each unit test return same <code>Call</code> object(which result that tests are failing)?</p>\n"}, {"tags": ["kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": false, "score": 1, "last_activity_date": 1558543314, "creation_date": 1558543314, "answer_id": 56261504, "question_id": 56261025, "link": "https://stackoverflow.com/questions/56261025/inject-kotlin-member-field-without-the-need-for-a-component-in-dagger/56261504#56261504", "title": "Inject Kotlin member field without the need for a component in Dagger", "body": "<p><code>@Inject</code> annotations and modules are used to let Dagger know how to create dependencies. Dagger then needs something that can actually create things with those dependencies. This is where the components come in, and this is why you declare the interface methods that return the types where you want to inject stuff in them. </p>\n\n<p>Dagger will use the components' methods to generate the dependency injected implementations. People usually say that components act as the \"glue\" between dependencies, as components set the roots of the object graphs through their methods.</p>\n\n<p>So, answering your question: yes, you need at least one component.</p>\n"}, {"tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": false, "score": 1, "last_activity_date": 1558631434, "creation_date": 1558631434, "answer_id": 56280049, "question_id": 56261025, "link": "https://stackoverflow.com/questions/56261025/inject-kotlin-member-field-without-the-need-for-a-component-in-dagger/56280049#56280049", "title": "Inject Kotlin member field without the need for a component in Dagger", "body": "<p>Asking to inject based on a Module without a Component is a bit like asking if you can have dinner if you have a recipe but no kitchen. The Module is just the recipe (configuration); the Component does all the cooking (creation). In this analogy, the implementations themselves would be the ingredients, which Dagger prepares on demand for you.</p>\n\n<p>Most of Dagger's functionality comes from the <em>implementation</em> Dagger makes based on the <em>interface</em> you annotate with <code>@Component</code>. The rest of Dagger's codegen processes your <code>@Module</code> classes and your classes that use <code>@Inject</code> so that Dagger can call methods and constructors and set fields, but without a <code>@Component</code> nothing will call those helper classes. So in all cases a <code>@Component</code> is really necessary.</p>\n\n<p>That said, as long as you have a Component, <a href=\"https://stackoverflow.com/a/41473072/1426891\">you do have a choice</a> whether to let Dagger create your class\u2014retrieving the instance from Dagger\u2014or to create your class manually and let Dagger populate its <code>@Inject</code> members later.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1558631434, "creation_date": 1558541408, "question_id": 56261025, "link": "https://stackoverflow.com/questions/56261025/inject-kotlin-member-field-without-the-need-for-a-component-in-dagger", "title": "Inject Kotlin member field without the need for a component in Dagger", "body": "<p>In Kotlin, you can inject a field member like this:</p>\n\n<pre><code>@Inject lateinit var coffee: Coffee\n</code></pre>\n\n<p>But I have noticed after playing around with Dagger that while this works, coffee will always be null unless a module and component is used and then a component builder is used to create the Coffee dependency. Is that true? Is it not possible to just have a module without having to also have a component?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "realm"], "answers": [{"tags": [], "owner": {"reputation": 4910, "user_id": 4896784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7D2Mdu6NAdk/AAAAAAAAAAI/AAAAAAAAAQg/OgEfBdpBgXg/photo.jpg?sz=128", "display_name": "ismail alaoui", "link": "https://stackoverflow.com/users/4896784/ismail-alaoui"}, "is_accepted": false, "score": 1, "last_activity_date": 1558537308, "creation_date": 1558537308, "answer_id": 56259809, "question_id": 56259491, "link": "https://stackoverflow.com/questions/56259491/what-does-ignorekotlinnullability-actually-do/56259809#56259809", "title": "what does &quot;ignoreKotlinNullability&quot; actually do?", "body": "<p>When you use Kotlin, then Realm checks against nullability on your field.</p>\n\n<p>For example,</p>\n\n<pre><code>class Blah: RealmObject() {\n    var group: Group? = null\n}\n</code></pre>\n\n<p>Then group doesn't get implicit @Required annotation.</p>\n\n<p>But if you do</p>\n\n<pre><code>class Blah: RealmObject() {\n    var group: Group = Group()\n}\n</code></pre>\n\n<p>This won't work, because Realm cannot guarantee non-nullability for a singular link. So it'll throw the error you're getting.</p>\n\n<p>If you want to ignore this because for example you are making a backing field that avoids null value return</p>\n\n<pre><code>kapt {\n  arguments {\n    arg(\"realm.ignoreKotlinNullability\", true)\n  }\n}\n</code></pre>\n\n<p>In which case Realm won't try to handle your nullability implicitly (and map the Kotlin nullability to the field's @Required). But you should use this only if you actually know what you're doing.</p>\n"}], "owner": {"reputation": 1183, "user_id": 6521806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10abc63921011dbabcb351ef3dc4814?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelThePotato", "link": "https://stackoverflow.com/users/6521806/michaelthepotato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558537308, "creation_date": 1558536401, "question_id": 56259491, "link": "https://stackoverflow.com/questions/56259491/what-does-ignorekotlinnullability-actually-do", "title": "what does &quot;ignoreKotlinNullability&quot; actually do?", "body": "<p>At one point in our project's development, I've added since section to our gradle:</p>\n\n<pre><code>kapt {\n    arguments {\n        arg(\"realm.ignoreKotlinNullability\", true)\n    }\n}\n</code></pre>\n\n<p>I recall doing this to prevent crashes during migration, and looking it up online proved that to be it's main use.</p>\n\n<p>But what does it actually do? I can't find any official docs anywhere to prove and assumptions. I'm not sure if I should remove it or not since I don't know if I should treat it as a feature or some sort of bandaid I've applied a long time ago.</p>\n\n<p>Is there an official list of RealmDB gradle flags and arguments anywhere?</p>\n"}, {"tags": ["android", "kotlin", "android-testing", "android-styles", "android-attributes"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9987821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--Z3VAKygZjY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq22PA_QGWnlBAgaxAI8OIYiExS2XA/mo/photo.jpg?sz=128", "display_name": "Par&#237;s", "link": "https://stackoverflow.com/users/9987821/par%c3%ads"}, "edited": false, "score": 0, "creation_date": 1558544086, "post_id": 56261419, "comment_id": 99139829, "body": "Thank you very much, The main problem was to get context with the app theme (mContext.setTheme(R.style.AppTheme) did the trick), for the test I already thought that expected value should be color from context, I could check this after fetchColor() returned != 0"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 3, "last_activity_date": 1558542928, "creation_date": 1558542928, "answer_id": 56261419, "question_id": 56259414, "link": "https://stackoverflow.com/questions/56259414/android-testing-method-that-returns-color-resource-id-from-r-attr-reference/56261419#56261419", "title": "Android Testing method that returns color resource id from R.attr reference", "body": "<p>Attributes are <code>Theme</code> aware. Be sure <code>context</code> uses same <code>theme</code> as your app:</p>\n\n<pre><code>appContext.setTheme(R.style.AppTheme)\n</code></pre>\n\n<p>Sample test code that resolves <code>R.attr.colorPrimary</code> attribute that's only available in <code>AppCompat</code> theme:</p>\n\n<pre><code>@Test\nfun testColorPrimary() {\n    // Context of the app under test.\n    val appContext = InstrumentationRegistry.getTargetContext()\n\n    // actual R.color.colorPrimary value\n    val actualPrimaryColor = appContext.getColor(R.color.colorPrimary)\n\n    // R.attr.colorPrimary resolved with invalid theme\n    val colorPrimary1 = TypedValue().also {\n        appContext.theme.resolveAttribute(R.attr.colorPrimary, it, true)\n    }.data\n\n    // provided context has invalid theme so attribute resolution fails (returns 0)\n    assertEquals(0, colorPrimary1)\n\n    // be sure test context uses same theme as app\n    appContext.setTheme(R.style.AppTheme)\n\n    // R.attr.colorPrimary resolved from valid theme\n    val colorPrimary2 = TypedValue().also {\n        appContext.theme.resolveAttribute(R.attr.colorPrimary, it, true)\n    }.data\n\n    // valid theme returns proper color\n    assertEquals(actualPrimaryColor, colorPrimary2)\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9987821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--Z3VAKygZjY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq22PA_QGWnlBAgaxAI8OIYiExS2XA/mo/photo.jpg?sz=128", "display_name": "Par&#237;s", "link": "https://stackoverflow.com/users/9987821/par%c3%ads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 56261419, "answer_count": 1, "score": 2, "last_activity_date": 1558542928, "creation_date": 1558536127, "question_id": 56259414, "link": "https://stackoverflow.com/questions/56259414/android-testing-method-that-returns-color-resource-id-from-r-attr-reference", "title": "Android Testing method that returns color resource id from R.attr reference", "body": "<p>I'm implementing AndroidInstrumentationTest for first time using Android Studio 3.2, trying to check if method returns color resource ID from attributes (R.attr and color setted in styles) depending on String, but the resource ID returned is always 0 instead of expected.</p>\n\n<p>The code is working properly in my app and color is setted as this:</p>\n\n<pre><code>textView.setTextColor(fetchCorrectColor(myContext))\n</code></pre>\n\n<p>The problem is fetchColor from tests returns 0</p>\n\n<p>Other resources as mContext.getString() works perfectly</p>\n\n<p>Test class is annotated with @RunWith(AndroidJunit4::class) and running on Android Pie (28) emulated and device</p>\n\n<p>I tried different context with same result:</p>\n\n<pre><code>InstrumentationRegistry.getInstrumentation().targetContext\nInstrumentationRegistry.getInstrumentation().context\nApplicationProvider.getApplicationContext()\n</code></pre>\n\n<p>Method to test</p>\n\n<pre><code>fun getTextColor(status: String?, mContext: Context): Int{\n    return when(status){\n        \"A\", \"B\" -&gt;{\n            fetchCorrectColor(mContext)\n        }\n        \"C\", \"D\"-&gt;{\n            fetchWarningColor(mContext)\n        }\n        else -&gt; {\n            fetchDisabledColor(mContext)\n        }\n    }\n}\n</code></pre>\n\n<p>Methods to fetch color resource if from attributes</p>\n\n<pre><code>fun fetchCorrectColor(context: Context): Int{\n    return fetchColor(context, R.attr.correct)\n}\n\nprivate fun fetchColor(context: Context, colorId: Int): Int{\n    val typedValue = TypedValue()\n    context.theme.resolveAttribute(colorId, typedValue, true)\n    return typedValue.data\n}\n</code></pre>\n\n<p>Test</p>\n\n<pre><code>@Test fun getTextColor_isCorrect(){\n    Assert.assertEquals(R.attr.correct, getTextColor(\"A\", mContext))\n    Assert.assertEquals(R.attr.correct, getTextColor(\"B\", mContext))\n    Assert.assertEquals(R.attr.warning, getTextColor(\"C\", mContext))\n    Assert.assertEquals(R.attr.warning, getTextColor(\"D\", mContext))\n    Assert.assertEquals(R.attr.disabled, getTextColor(null, mContext))\n}\n</code></pre>\n\n<p>This is the error that I'm getting all the time:</p>\n\n<pre><code>java.lang.AssertionError: expected:&lt;2130968760&gt; but was:&lt;0&gt;\nat org.junit.Assert.fail(Assert.java:88)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1558535759, "post_id": 56259274, "comment_id": 99135173, "body": "I wouldn&#39;t use ConstraintLayout.  This kind of behavior is much easier using a custom ViewGroup, and overriding onLayout"}, {"owner": {"reputation": 1643, "user_id": 9636037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p41YI.jpg?s=128&g=1", "display_name": "Abhimanyu", "link": "https://stackoverflow.com/users/9636037/abhimanyu"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1558535923, "post_id": 56259274, "comment_id": 99135281, "body": "@GabeSechan Can you give some example code or blogs for the same. I am not familiar with custom layouts/view groups."}], "owner": {"reputation": 1643, "user_id": 9636037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p41YI.jpg?s=128&g=1", "display_name": "Abhimanyu", "link": "https://stackoverflow.com/users/9636037/abhimanyu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558535637, "creation_date": 1558535637, "question_id": 56259274, "link": "https://stackoverflow.com/questions/56259274/how-to-create-tree-layout-using-constraint-layout-in-kotlin-programatically", "title": "How to create tree layout using constraint layout in kotlin programatically?", "body": "<p>I want to create a tree layout dynamically using constraint layout.</p>\n\n<p><strong><em>Something like this:</em></strong>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/27pHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/27pHQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>With tree child nodes retrieved at runtime.</p>\n\n<p><strong>Specifications:</strong><br>\n1. All nodes can have a maximum of three child nodes.<br>\n2. The whole layout must be created programmatically.<br>\n3. Null is passed in data if a node does not have a child.</p>\n\n<p>What I tried:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    createTree(treeNode)\n}\n\nprivate fun createTree(treeNode: TreeNode) {\n\n    val rootView: ConstraintLayout = dataBinding.root as ConstraintLayout\n    val treeView = createLayout(treeNode, 0)\n\n    if (treeView != null) {\n        val mainViewConstraintSet = ConstraintSet()\n        mainViewConstraintSet.clone(treeView)\n        mainViewConstraintSet.connect(\n                rootView.id,\n                ConstraintSet.START,\n                treeView.id,\n                ConstraintSet.START\n        )\n        mainViewConstraintSet.connect(\n                rootView.id,\n                ConstraintSet.END,\n                treeView.id,\n                ConstraintSet.END\n        )\n        mainViewConstraintSet.applyTo(treeView)\n        rootView.addView(treeView)\n        Log.e(\"Log\", \"Added Root View\")\n    }\n}\n\nprivate fun createLayout(treeNode: TreeNode?, depth: Int): ConstraintLayout? {\n\n    if (depth &gt; 1) {\n        return null\n    }\n\n    if (treeNode == null) {\n        return null\n    }\n\n    val layoutView = ConstraintLayout(context)\n\n    val layoutViewLayoutParams = ConstraintLayout.LayoutParams(\n            ConstraintLayout.LayoutParams.WRAP_CONTENT,\n            ConstraintLayout.LayoutParams.WRAP_CONTENT\n    )\n    layoutViewLayoutParams.topMargin = 16\n    layoutViewLayoutParams.leftMargin = 16\n    layoutViewLayoutParams.rightMargin = 16\n    layoutViewLayoutParams.bottomMargin = 16\n    layoutView.layoutParams = layoutViewLayoutParams\n    layoutView.setBackgroundColor(Color.CYAN)\n    layoutView.id = ViewCompat.generateViewId()\n\n    val layoutNode = createNode(treeNode.user)\n    Log.e(\"Log\", \"Created node for \" + treeNode.user.name)\n\n    val leftChildLayout = createLayout(treeNode.left, depth + 1)\n    val middleChildLayout = createLayout(treeNode.middle, depth + 1)\n    val rightChildLayout = createLayout(treeNode.right, depth + 1)\n\n    val mainViewConstraintSet = ConstraintSet()\n\n    mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.TOP,\n            layoutView.id,\n            ConstraintSet.TOP,\n            16\n    )\n    mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.BOTTOM,\n            layoutView.id,\n            ConstraintSet.BOTTOM,\n            16\n    )\n    mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.START,\n            layoutView.id,\n            ConstraintSet.START,\n            16\n    )\n    mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.END,\n            layoutView.id,\n            ConstraintSet.END,\n            16\n    )\n\n    if (leftChildLayout != null) {\n        mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.BOTTOM,\n            leftChildLayout.id,\n            ConstraintSet.TOP,\n            16\n        )\n    }\n\n    if (middleChildLayout != null) {\n        mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.BOTTOM,\n            middleChildLayout.id,\n            ConstraintSet.TOP,\n            16\n        )\n    }\n\n    if (rightChildLayout != null) {\n        mainViewConstraintSet.connect(\n            layoutNode.id,\n            ConstraintSet.BOTTOM,\n            rightChildLayout.id,\n            ConstraintSet.TOP,\n            16\n        )\n    }\n\n    if (leftChildLayout != null &amp;&amp; middleChildLayout != null) {\n        mainViewConstraintSet.connect(\n            leftChildLayout.id,\n            ConstraintSet.END,\n            middleChildLayout.id,\n            ConstraintSet.START,\n            16\n        )\n        mainViewConstraintSet.connect(\n            middleChildLayout.id,\n            ConstraintSet.END,\n            leftChildLayout.id,\n            ConstraintSet.START,\n            16\n        )\n    }\n\n    if (rightChildLayout != null &amp;&amp; middleChildLayout != null) {\n        mainViewConstraintSet.connect(\n            middleChildLayout.id,\n            ConstraintSet.END,\n            rightChildLayout.id,\n            ConstraintSet.START,\n            16\n        )\n        mainViewConstraintSet.connect(\n            rightChildLayout.id,\n            ConstraintSet.END,\n            middleChildLayout.id,\n            ConstraintSet.START,\n            16\n        )\n    }\n\n    mainViewConstraintSet.applyTo(layoutView)\n    // layoutView.setConstraintSet(mainViewConstraintSet)\n\n\n\n    if (leftChildLayout != null) {\n        layoutView.addView(leftChildLayout)\n    }\n    if (middleChildLayout != null) {\n        layoutView.addView(middleChildLayout)\n    }\n    if (rightChildLayout != null) {\n        layoutView.addView(rightChildLayout)\n    }\n\n    layoutView.addView(layoutNode)\n\n    return layoutView\n}\n\nprivate fun createNode(user: User): ConstraintLayout {\n\n    val node = ConstraintLayout(context)\n    node.id = ViewCompat.generateViewId()\n\n    val nodeTextView = TextView(context)\n    nodeTextView.id = ViewCompat.generateViewId()\n\n    nodeTextView.text = user.name\n    nodeTextView.textSize = 18f\n    nodeTextView.setTextColor(Color.BLACK)\n    nodeTextView.setTypeface(null, Typeface.BOLD)\n    val layoutParams = ConstraintLayout.LayoutParams(\n            ConstraintLayout.LayoutParams.WRAP_CONTENT, ConstraintLayout.LayoutParams.WRAP_CONTENT\n    )\n    nodeTextView.layoutParams = layoutParams\n    nodeTextView.setBackgroundColor(Color.GREEN)\n\n    val constraintSet = ConstraintSet()\n    constraintSet.clone(node)\n    constraintSet.connect(nodeTextView.id, ConstraintSet.TOP, node.id, ConstraintSet.TOP, 16)\n    constraintSet.connect(nodeTextView.id, ConstraintSet.LEFT, node.id, ConstraintSet.LEFT, 16)\n    constraintSet.applyTo(node)\n\n    node.addView(nodeTextView)\n    node.setBackgroundColor(Color.RED)\n\n    return node\n}\n</code></pre>\n\n<p><strong>The Tree Data Model:</strong>  </p>\n\n<pre><code>data class TreeNode( val user: User, var parent: TreeNode?,  \nvar left: TreeNode?, var middle: TreeNode?, var right: TreeNode?) { }\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin", "android-imageview"], "comments": [{"owner": {"reputation": 784, "user_id": 7209927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f4bae999d694b90b2c6d20cccd457f?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/7209927/ivan"}, "edited": false, "score": 1, "creation_date": 1558535699, "post_id": 56259089, "comment_id": 99135137, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16369814/how-to-access-the-drawable-resources-by-name-in-android\">how to access the drawable resources by name in android</a>"}, {"owner": {"reputation": 1643, "user_id": 9636037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p41YI.jpg?s=128&g=1", "display_name": "Abhimanyu", "link": "https://stackoverflow.com/users/9636037/abhimanyu"}, "edited": false, "score": 0, "creation_date": 1558535778, "post_id": 56259089, "comment_id": 99135186, "body": "Use <code>map</code> to get a key/value pair with food name as key and drawable as value."}, {"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "reply_to_user": {"reputation": 784, "user_id": 7209927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f4bae999d694b90b2c6d20cccd457f?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/7209927/ivan"}, "edited": false, "score": 0, "creation_date": 1558537023, "post_id": 56259089, "comment_id": 99135956, "body": "@Ivan yes I tried to find his but couldn&#39;t any way what I needed is the resourceId and only the answer down here did this."}, {"owner": {"reputation": 784, "user_id": 7209927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f4bae999d694b90b2c6d20cccd457f?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/7209927/ivan"}, "edited": false, "score": 0, "creation_date": 1558537293, "post_id": 56259089, "comment_id": 99136162, "body": "the answer given below is just exactly the same as the one in the question I commented above."}, {"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558538755, "post_id": 56259089, "comment_id": 99137074, "body": "I know but he gave me the correction I needed"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558535969, "post_id": 56259344, "comment_id": 99135308, "body": "Because I gave only two exmples, I have about 12 icons I want to switch between them"}], "tags": [], "owner": {"reputation": 89, "user_id": 3457724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207515380796226/picture?type=large", "display_name": "Kou Peto", "link": "https://stackoverflow.com/users/3457724/kou-peto"}, "is_accepted": false, "score": 0, "last_activity_date": 1558535866, "creation_date": 1558535866, "answer_id": 56259344, "question_id": 56259089, "link": "https://stackoverflow.com/questions/56259089/i-want-to-use-var-to-determine-which-photo-to-load-into-the-image-view-kotlin/56259344#56259344", "title": "I want to use var to determine which photo to load into the image-view- Kotlin", "body": "<p>why not doing this ?</p>\n\n<pre><code>var food = R.drawable.pizza\nfood_icon.setImageResource(food)//image is the pizza\nfood = R.drawable.burger\nfood_icon.setImageResource(food)//image is the burger\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558536264, "post_id": 56259383, "comment_id": 99135502, "body": "I gave only two exmples, I have about 12 icons I want to switch between them"}, {"owner": {"reputation": 316, "user_id": 3402004, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001632616293/picture?type=large", "display_name": "Bram Jongebloet", "link": "https://stackoverflow.com/users/3402004/bram-jongebloet"}, "reply_to_user": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558537301, "post_id": 56259383, "comment_id": 99136171, "body": "then you fill the enum with your 12 items."}, {"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558538723, "post_id": 56259383, "comment_id": 99137053, "body": "The answer above is much more efficient to this matter I think"}, {"owner": {"reputation": 316, "user_id": 3402004, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001632616293/picture?type=large", "display_name": "Bram Jongebloet", "link": "https://stackoverflow.com/users/3402004/bram-jongebloet"}, "reply_to_user": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558596014, "post_id": 56259383, "comment_id": 99154810, "body": "I Think the above code is doomed for typo&#39;s. I think in OOP perspective this is more clean and reusable"}], "tags": [], "owner": {"reputation": 316, "user_id": 3402004, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001632616293/picture?type=large", "display_name": "Bram Jongebloet", "link": "https://stackoverflow.com/users/3402004/bram-jongebloet"}, "is_accepted": false, "score": 2, "last_activity_date": 1558536033, "creation_date": 1558536033, "answer_id": 56259383, "question_id": 56259089, "link": "https://stackoverflow.com/questions/56259089/i-want-to-use-var-to-determine-which-photo-to-load-into-the-image-view-kotlin/56259383#56259383", "title": "I want to use var to determine which photo to load into the image-view- Kotlin", "body": "<p>You could use an enum which corresponds to the right drawable for example</p>\n\n<pre><code>enum class FoodTypes(private val value: Int) {\n    PIZZA(R.drawable.pizza),   \n    BURGER(R.drawable.burger);\n\n    fun getValue(): Int = value\n}\n</code></pre>\n\n<p>Then you can use it like this</p>\n\n<pre><code>var food = FoodTypes.PIZZA\nfood_icon.setImageResource(food.getValue())\nfood = FoodTypes.BURGER\nfood_icon.setImageResource(food.getValue())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 0, "creation_date": 1558536559, "post_id": 56259454, "comment_id": 99135663, "body": "To set resource to an image I need it to be an Int, which one of these options returns the Int it&#39;s asking for?"}, {"owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "edited": false, "score": 1, "creation_date": 1558536932, "post_id": 56259454, "comment_id": 99135897, "body": "It worked, I used only the resourceId, Thank you very much!"}, {"owner": {"reputation": 316, "user_id": 3402004, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001632616293/picture?type=large", "display_name": "Bram Jongebloet", "link": "https://stackoverflow.com/users/3402004/bram-jongebloet"}, "edited": false, "score": 0, "creation_date": 1558537671, "post_id": 56259454, "comment_id": 99136405, "body": "This is doomed to make typo&#39;s and crashes"}], "tags": [], "owner": {"reputation": 562, "user_id": 4398114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8eacedd1404cea2c4d4b4640eb5d0d8a?s=128&d=identicon&r=PG&f=1", "display_name": "Allinone51", "link": "https://stackoverflow.com/users/4398114/allinone51"}, "is_accepted": true, "score": 2, "last_activity_date": 1558536282, "creation_date": 1558536282, "answer_id": 56259454, "question_id": 56259089, "link": "https://stackoverflow.com/questions/56259089/i-want-to-use-var-to-determine-which-photo-to-load-into-the-image-view-kotlin/56259454#56259454", "title": "I want to use var to determine which photo to load into the image-view- Kotlin", "body": "<p>If I understand your question correctly you can use following method:</p>\n\n<pre><code>Resources resources = context.getResources();\nfinal int resourceId = resources.getIdentifier(\"[your_drawable_name]\", \"drawable\", context.getPackageName());\nreturn resources.getDrawable(resourceId);\n</code></pre>\n\n<p>With this you can specify the name of your rawable and load it.\nIf you need only the resourceId you can return the resourceId without getting the drawable itself.</p>\n"}], "owner": {"reputation": 77, "user_id": 2998223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3800899a0ed1c4d2e3d732b56a306fae?s=128&d=identicon&r=PG&f=1", "display_name": "ofir2471", "link": "https://stackoverflow.com/users/2998223/ofir2471"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 56259454, "answer_count": 3, "score": 0, "last_activity_date": 1558536431, "creation_date": 1558535064, "last_edit_date": 1558536431, "question_id": 56259089, "link": "https://stackoverflow.com/questions/56259089/i-want-to-use-var-to-determine-which-photo-to-load-into-the-image-view-kotlin", "title": "I want to use var to determine which photo to load into the image-view- Kotlin", "body": "<p>I have a <code>var</code> with kind of food in it (For example: pizza, burger ext.), I want to use that <code>var</code> to load a apecific image based on that <code>var</code> value from my <code>drawable</code> directory into the image view without using <code>when</code>.</p>\n\n<p>I have those files: pizza.png, burger.png</p>\n\n<p>I want to use something like this: </p>\n\n<pre><code>var food = \"pizza.png\"\nfood_icon.setImageResource(R.drawable.food)//image is the pizza\nfood = \"burger.png\"\nfood_icon.setImageResource(R.drawable.food)//image is the burger\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["kotlin", "arrow-kt"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 2, "creation_date": 1558536909, "post_id": 56258928, "comment_id": 99135880, "body": "Your <code>Try&lt;List&lt;String&gt;&gt;</code> can contain multiple strings but only one exception. You would therefore need to first decide how you would combine exceptions. If multiple of your <code>Try</code>s are failures, which exception would you want? The first one? The last one? A new one with a cause set to the first or last one?"}, {"owner": {"reputation": 532, "user_id": 1396346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2e3ec62b2f382c15284f8728b6c10928?s=128&d=identicon&r=PG", "display_name": "ielkhalloufi", "link": "https://stackoverflow.com/users/1396346/ielkhalloufi"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1558538628, "post_id": 56258928, "comment_id": 99136998, "body": "Good question. A new one (custom). It does not matter which one failed."}], "answers": [{"comments": [{"owner": {"reputation": 532, "user_id": 1396346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2e3ec62b2f382c15284f8728b6c10928?s=128&d=identicon&r=PG", "display_name": "ielkhalloufi", "link": "https://stackoverflow.com/users/1396346/ielkhalloufi"}, "edited": false, "score": 1, "creation_date": 1558542559, "post_id": 56260999, "comment_id": 99139143, "body": "Would be great if the use of arrow library can achieve more readability"}], "tags": [], "owner": {"reputation": 520, "user_id": 2167355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0def11942d41b3aa6da19578c532564?s=128&d=identicon&r=PG", "display_name": "abendt", "link": "https://stackoverflow.com/users/2167355/abendt"}, "is_accepted": false, "score": 1, "last_activity_date": 1558541288, "creation_date": 1558541288, "answer_id": 56260999, "question_id": 56258928, "link": "https://stackoverflow.com/questions/56258928/kotlin-arrow-transform-a-list-of-failures-to-a-failure-of-a-list/56260999#56260999", "title": "Kotlin arrow transform a List of failures to a Failure of a list", "body": "<p>this seems to work:</p>\n\n<pre><code> fun convert(input: List&lt;Try&lt;String&gt;&gt;): Try&lt;List&lt;String&gt;&gt; =\n    input.fold(Try.just(emptyList())) { acc, i -&gt;\n        acc.flatMap { list -&gt;\n            i.flatMap {\n                Try.just(list + it)\n            }\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 532, "user_id": 1396346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2e3ec62b2f382c15284f8728b6c10928?s=128&d=identicon&r=PG", "display_name": "ielkhalloufi", "link": "https://stackoverflow.com/users/1396346/ielkhalloufi"}, "edited": false, "score": 0, "creation_date": 1558542385, "post_id": 56261030, "comment_id": 99139064, "body": "I cannot seem to find the the &#39;.traverse&#39; extention method for Kotlin list."}, {"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "reply_to_user": {"reputation": 532, "user_id": 1396346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2e3ec62b2f382c15284f8728b6c10928?s=128&d=identicon&r=PG", "display_name": "ielkhalloufi", "link": "https://stackoverflow.com/users/1396346/ielkhalloufi"}, "edited": false, "score": 0, "creation_date": 1558542640, "post_id": 56261030, "comment_id": 99139179, "body": "The import you need is: <code>import arrow.data.extensions.list.traverse.*</code> and you also need to add a dependency to <code>arrow-extras-extensions</code>"}], "tags": [], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "is_accepted": true, "score": 3, "last_activity_date": 1558546456, "last_edit_date": 1558546456, "creation_date": 1558541419, "answer_id": 56261030, "question_id": 56258928, "link": "https://stackoverflow.com/questions/56258928/kotlin-arrow-transform-a-list-of-failures-to-a-failure-of-a-list/56261030#56261030", "title": "Kotlin arrow transform a List of failures to a Failure of a list", "body": "<p>If we don't care about keeping the original exceptions we could do something like this with traverse:</p>\n\n<pre><code>val traversedTries = tries.traverse(Try.applicative(), ::identity)\n</code></pre>\n\n<p>This will return an instance of type <code>Try&lt;ListK&lt;String&gt;&gt;</code> with either all the strings or the first exception it finds. </p>\n\n<p><code>ListK</code> extends from <code>List</code> but we can optionally cast it by adding <code>.map { it as List&lt;String&gt; }</code> in the end if we need it to be <code>Try&lt;List&lt;String&gt;&gt;</code></p>\n\n<p>Alternatively, if we want to split the successes and failures we can create the following function:</p>\n\n<pre><code>fun &lt;A&gt; List&lt;Try&lt;A&gt;&gt;.splitSuccessFailure() : Tuple2&lt;List&lt;A&gt;, List&lt;Throwable&gt;&gt; =\n  fold(emptyList&lt;A&gt;() toT emptyList&lt;Throwable&gt;()) { (successes, failures), it -&gt; \n    it.fold({ successes toT (failures + it) }, { (successes + it) toT failures })  \n  }\n</code></pre>\n\n<p>Then, when we want to use it we can do the following:</p>\n\n<pre><code>val (successes, failures) = invalidTries.splitSuccessFailure()\n</code></pre>\n\n<p>Giving us two lists with the success values and failures respectively.</p>\n"}], "owner": {"reputation": 532, "user_id": 1396346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2e3ec62b2f382c15284f8728b6c10928?s=128&d=identicon&r=PG", "display_name": "ielkhalloufi", "link": "https://stackoverflow.com/users/1396346/ielkhalloufi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 56261030, "answer_count": 2, "score": 0, "last_activity_date": 1558956079, "creation_date": 1558534559, "last_edit_date": 1558956079, "question_id": 56258928, "link": "https://stackoverflow.com/questions/56258928/kotlin-arrow-transform-a-list-of-failures-to-a-failure-of-a-list", "title": "Kotlin arrow transform a List of failures to a Failure of a list", "body": "<p>How can I transform the following:</p>\n\n<pre><code>List&lt;Try&lt;String&gt;&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>Try&lt;List&lt;String&gt;&gt;\n</code></pre>\n\n<p>Using kotlin and the functional library arrow (0.8.2). I would like to wrap it in a custom exception. It does not matter which one of the 'String' failed.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>As the below answers will suffice, but I find it really hard to read. So, I implemented the following:</p>\n\n<p>Create the following function:</p>\n\n<pre><code>    fun getFailedStrings(result: List&lt;Try&lt;String&gt;&gt;): List&lt;Failure&gt; {\nreturn result.fold(\n    initial = listOf(),\n    operation = { accumulator, nextUpdate -&gt;\n        nextUpdate.fold(\n            ifSuccess = { accumulator },\n            ifFailure = { accumulator + Failure(it) }\n        )\n    })\n</code></pre>\n\n<p>}</p>\n\n<p>Then use the result of the function:</p>\n\n<pre><code>  return if (failedStrings.isNotEmpty()) {\n      failedStrings.first() // or whatever fits your usecase\n  } else {\n     // strings is the initial result of List&lt;Try&lt;String&gt;&gt;\n      Success(strings.mapNotNull { it.orNull() })\n   }\n</code></pre>\n"}, {"tags": ["kotlin", "gson", "escaping"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1558533326, "post_id": 56258077, "comment_id": 99133595, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29396608/how-to-escape-slashes-in-gson\">How to escape slashes in Gson</a>"}], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 3906919, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/611290901/picture?type=large", "display_name": "Mikkel Larsen", "link": "https://stackoverflow.com/users/3906919/mikkel-larsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1558595296, "creation_date": 1558595296, "answer_id": 56269800, "question_id": 56258077, "link": "https://stackoverflow.com/questions/56258077/kotlin-escaping-forward-slashes-usign-gson/56269800#56269800", "title": "Kotlin escaping forward slashes usign Gson", "body": "<p>I kind of failed, and the Gson library didn't help at all. Ended up using Apache's StringEscapeUtils to fix the issue for me, with the StringEscapeUtils.escapeJson method.</p>\n"}], "owner": {"reputation": 620, "user_id": 3906919, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/611290901/picture?type=large", "display_name": "Mikkel Larsen", "link": "https://stackoverflow.com/users/3906919/mikkel-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 56269800, "answer_count": 1, "score": 1, "last_activity_date": 1558595296, "creation_date": 1558531894, "question_id": 56258077, "link": "https://stackoverflow.com/questions/56258077/kotlin-escaping-forward-slashes-usign-gson", "title": "Kotlin escaping forward slashes usign Gson", "body": "<p>I've got this string that I want to send to a backend. In this string, there are several forward slashes, that is basically code that is commented out. It could look like:</p>\n\n<pre><code>val string = \"// SOME STUFF\n\n// OTHER TEXT ***************************************************\n// THIS WOULD CONTINUE FORWARD\"\n</code></pre>\n\n<p>So to escape this entire String, I'm using Gson().toJson(string). This would give a result like </p>\n\n<pre><code>\"// SOME STUFF\\r\\n\\r\\n// OTHER TEXT ***************************************************\\r\\n// THIS WOULD CONTINUE FORWARD\"\n</code></pre>\n\n<p>But if I put this into a website that can escape strings for me, I would get</p>\n\n<pre><code>\"\\/\\/ SOME STUFF\\r\\n\\r\\n\\/\\/ OTHER TEXT ***************************************************\\r\\n\\/\\/ THIS WOULD CONTINUE FORWARD\"\n</code></pre>\n\n<p>This bottom part, is what the backend would accept, and the top part it rejects. Is there any way I can do this in a different way, to make Gson look like the bottom part? This is sent as JSON btw, so as </p>\n\n<pre><code>{\n \"stuff\": \"THE ESCAPED STRING\"\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "edited": false, "score": 0, "creation_date": 1558540521, "post_id": 56258122, "comment_id": 99138020, "body": "Thanks for your answer :) What do you mean with the actual widget?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "edited": false, "score": 0, "creation_date": 1558540695, "post_id": 56258122, "comment_id": 99138111, "body": "@Noelia: In your sample code in the question, your <code>Group</code> consists of two widgets, with IDs of <code>imageView</code> and <code>textView</code>. You need to put your background on those widgets."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 1, "last_activity_date": 1558532033, "creation_date": 1558532033, "answer_id": 56258122, "question_id": 56258076, "link": "https://stackoverflow.com/questions/56258076/how-can-i-set-ripples-androidforeground-selectableitembackground-in-a-cons/56258122#56258122", "title": "How can I set ripples (android:foreground=&quot;?selectableItemBackground&quot;) in a constraint.Group", "body": "<p>A <code>Group</code> is only for controlling visibility. You cannot control arbitrary UI attributes of the members of a group, such as the background. Instead, you would need to put your background on the actual widgets.</p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 8127814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75b401fbc184150ee68e0cdae8d7967e?s=128&d=identicon&r=PG&f=1", "display_name": "user8127814", "link": "https://stackoverflow.com/users/8127814/user8127814"}, "is_accepted": false, "score": 0, "last_activity_date": 1576530671, "creation_date": 1576530671, "answer_id": 59364344, "question_id": 56258076, "link": "https://stackoverflow.com/questions/56258076/how-can-i-set-ripples-androidforeground-selectableitembackground-in-a-cons/59364344#59364344", "title": "How can I set ripples (android:foreground=&quot;?selectableItemBackground&quot;) in a constraint.Group", "body": "<p>You can try using androidx.constraintLayout.widget.Group. It is an updated version of android.support.constraint.Group. </p>\n\n<p>The following code adds the ripple effect</p>\n\n<pre><code>android:clickable=\"true\"\nandroid:focusable=\"true\"\nandroid:background=\"?attr/selectableItemBackground\"\n</code></pre>\n"}], "owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576530671, "creation_date": 1558531892, "question_id": 56258076, "link": "https://stackoverflow.com/questions/56258076/how-can-i-set-ripples-androidforeground-selectableitembackground-in-a-cons", "title": "How can I set ripples (android:foreground=&quot;?selectableItemBackground&quot;) in a constraint.Group", "body": "<p>I have a <code>contraint.Group</code> inside my <em>item_layout</em> that I will use it in a <strong>recyclerView</strong>:</p>\n\n<pre><code>&lt;android.support.constraint.Group\n        android:id=\"@+id/constraintGroup\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:constraint_referenced_ids=\"imageView, textView\" /&gt;\n</code></pre>\n\n<p>I also set the <em>onClickListener</em> for this group in the activity that works perfectly. The problem is that every time I tap on the group, the ripple effect isn't there.</p>\n\n<p><strong><em>Anyone knows what should I do to have that effect in a constraint.Group?</em></strong></p>\n\n<p>I tried adding the attribute <code>android:foreground=\"?selectableItemBackground\"</code> to the parent and the constraint.Group but it didn't work :(</p>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines", "kotlinx.coroutines.channels"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1558589793, "post_id": 56257990, "comment_id": 99152519, "body": "Make sure your coroutine scope&#39;s lifecycle matches the scope of the Bluetooth scanner. If you have an activity-bound scope and that doesn&#39;t fit, create a different one."}, {"owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1558592159, "post_id": 56257990, "comment_id": 99153273, "body": "I played with scopes, no difference. I guess the problem is that produce returns after scanner.startscan, which means it&#39;s completed"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1558593263, "post_id": 56257990, "comment_id": 99153651, "body": "The <code>produce</code> call returns immediately, and the value it returns is the <code>ReceiveChannel</code> you need to consume the data from. But yes, the <code>produce</code> block is supposed to be an infinite loop that pushes the data into the channel. In your case the <code>produce</code> block completes right away. So your first example is a better match to your callback-based approach."}, {"owner": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 0, "creation_date": 1558761146, "post_id": 56257990, "comment_id": 99215358, "body": "<code>produce</code> is not what you want in this scenario. For a use case like this, you want to have a proper channel."}], "answers": [{"comments": [{"owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "edited": false, "score": 0, "creation_date": 1559026107, "post_id": 56282979, "comment_id": 99278665, "body": "So, while this seems like the solution for &quot;how to keep the coroutine given by the produce block alive&quot;, I think Marko and gMale are right and produce simply is not the right tool for this situation. Have an upvote still!"}, {"owner": {"reputation": 12146, "user_id": 1198389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e044cae87b5cc26ff3afee2ad303fe?s=128&d=identicon&r=PG", "display_name": "Streets Of Boston", "link": "https://stackoverflow.com/users/1198389/streets-of-boston"}, "reply_to_user": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "edited": false, "score": 0, "creation_date": 1559159051, "post_id": 56282979, "comment_id": 99338012, "body": "I think using <code>produce</code> is a good way to go. You can also handle errors in a structured way using produce. I update my answer above to show an example with handling errors in a structured way."}], "tags": [], "owner": {"reputation": 12146, "user_id": 1198389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e044cae87b5cc26ff3afee2ad303fe?s=128&d=identicon&r=PG", "display_name": "Streets Of Boston", "link": "https://stackoverflow.com/users/1198389/streets-of-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1559160561, "last_edit_date": 1559160561, "creation_date": 1558645826, "answer_id": 56282979, "question_id": 56257990, "link": "https://stackoverflow.com/questions/56257990/producetype-vs-channeltype/56282979#56282979", "title": "produce&lt;Type&gt; vs Channel&lt;Type&gt;()", "body": "<p>Using <code>produce</code>, you introduce scope to your Channel. This means, the code that produces the items, that are streamed over the channel, can be cancelled. </p>\n\n<p>This also means that the lifetime of your Channel starts at the start of the lambda of the <code>produce</code> and ends when this lambda ends.</p>\n\n<p>In your example, the lambda of your <code>produce</code> call almost ends immediately, which means your Channel is closed almost immediately.</p>\n\n<p>Change your code to something like this:</p>\n\n<pre><code>fun CoroutineScope.startScan(filters: List&lt;ScanFilter&gt;, settings: ScanSettings = defaultSettings): ReceiveChannel&lt;ScanResult?&gt; = produce {\n    scanCallback = object : ScanCallback() {\n        override fun onScanResult(callbackType: Int, result: ScanResult) {\n            offer(result)\n        }\n    }\n    scanner.startScan(filters, settings, scanCallback)\n\n    // now suspend this lambda forever (until its scope is canceled)\n    suspendCancellableCoroutine&lt;Nothing&gt; { cont -&gt;\n        cont.invokeOnCancellation {\n            scanner.stopScan(...)\n        }\n    }\n}\n\n...\nval channel = scope.startScan(filter)\n...\n...\nscope.cancel() // cancels the channel and stops the scanner.\n</code></pre>\n\n<p>I added the line <code>suspendCancellableCoroutine&lt;Nothing&gt; { ... }</code> to make it suspend 'forever'.</p>\n\n<p>Update: Using <code>produce</code> and handling errors in a structured way (allows for Structured Concurrency):</p>\n\n<pre><code>fun CoroutineScope.startScan(filters: List&lt;ScanFilter&gt;, settings: ScanSettings = defaultSettings): ReceiveChannel&lt;ScanResult?&gt; = produce {\n    // Suspend this lambda forever (until its scope is canceled)\n    suspendCancellableCoroutine&lt;Nothing&gt; { cont -&gt;\n        val scanCallback = object : ScanCallback() {\n            override fun onScanResult(callbackType: Int, result: ScanResult) {\n                offer(result)\n            }\n            override fun onScanFailed(errorCode: Int) {\n                cont.resumeWithException(MyScanException(errorCode))\n            }\n        }\n        scanner.startScan(filters, settings, scanCallback)\n\n        cont.invokeOnCancellation {\n            scanner.stopScan(...)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 1, "accepted_answer_id": 56282979, "answer_count": 1, "score": 0, "last_activity_date": 1559160561, "creation_date": 1558531660, "last_edit_date": 1558537007, "question_id": 56257990, "link": "https://stackoverflow.com/questions/56257990/producetype-vs-channeltype", "title": "produce&lt;Type&gt; vs Channel&lt;Type&gt;()", "body": "<p>Trying to understand channels. I want to channelify the android BluetoothLeScanner. Why does this work:</p>\n\n<pre><code>fun startScan(filters: List&lt;ScanFilter&gt;, settings: ScanSettings = defaultSettings): ReceiveChannel&lt;ScanResult?&gt; {\n    val channel = Channel&lt;ScanResult&gt;()\n    scanCallback = object : ScanCallback() {\n        override fun onScanResult(callbackType: Int, result: ScanResult) {\n            channel.offer(result)\n        }\n    }\n    scanner.startScan(filters, settings, scanCallback)\n\n    return channel\n}\n</code></pre>\n\n<p>But not this:</p>\n\n<pre><code>fun startScan(scope: CoroutineScope, filters: List&lt;ScanFilter&gt;, settings: ScanSettings = defaultSettings): ReceiveChannel&lt;ScanResult?&gt; = scope.produce {\n    scanCallback = object : ScanCallback() {\n        override fun onScanResult(callbackType: Int, result: ScanResult) {\n            offer(result)\n        }\n    }\n    scanner.startScan(filters, settings, scanCallback)\n}\n</code></pre>\n\n<p>It tells me <code>Channel was closed</code> when it wants to call <code>offer</code> for the first time.</p>\n\n<p><strong>EDIT1:</strong> According to the docs: <code>The channel is closed when the coroutine completes.</code> which makes sense. I know we can use <code>suspendCoroutine</code> with <code>resume</code> for a one shot <code>callback</code>-replacement. This however is a listener/stream-situation. I don't want the coroutine to complete</p>\n"}, {"tags": ["selenium", "selenium-webdriver", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1142, "user_id": 3005093, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DjEBU.jpg?s=128&g=1", "display_name": "DCO", "link": "https://stackoverflow.com/users/3005093/dco"}, "edited": false, "score": 0, "creation_date": 1558603953, "post_id": 56262775, "comment_id": 99159153, "body": "Thank you. It&#39;s just an example. I got a bit more complicated case ;)"}], "tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 2, "last_activity_date": 1558549123, "creation_date": 1558549123, "answer_id": 56262775, "question_id": 56256377, "link": "https://stackoverflow.com/questions/56256377/get-unique-css-selector-from-webelement/56262775#56262775", "title": "Get unique css selector from WebElement", "body": "<p>You can always use <a href=\"https://www.oracle.com/technetwork/articles/java/javareflection-1536171.html\" rel=\"nofollow noreferrer\">Reflection</a> to get <a href=\"https://github.com/SeleniumHQ/selenium/blob/selenium-3.141.59/java/client/src/org/openqa/selenium/remote/RemoteWebElement.java#L58\" rel=\"nofollow noreferrer\">foundBy</a> property value like:</p>\n\n<pre><code>Field field = element.getClass().getDeclaredField(\"foundBy\");\nfield.setAccessible(true);\nString foundBy = field.get(element).toString();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NZJGF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZJGF.png\" alt=\"enter image description here\"></a></p>\n\n<p>However the nature of your question is a little bit weird, given you found the element already you should know its selector, shouldn't you? If you want to interact with the <a href=\"https://www.w3schools.com/tags/tag_select.asp\" rel=\"nofollow noreferrer\">Select</a> option values you can go for the relevant <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html\" rel=\"nofollow noreferrer\">Select</a> class which has <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html#getOptions--\" rel=\"nofollow noreferrer\">getOptions() function</a>. </p>\n\n<p>Also consider going for <a href=\"https://docs.experitest.com/display/TE/Design+Patterns+-+Page+Object+Model\" rel=\"nofollow noreferrer\">Page Object Model design pattern</a>, it is one of best practices to keep your test logic separate from UI layer</p>\n"}], "owner": {"reputation": 1142, "user_id": 3005093, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DjEBU.jpg?s=128&g=1", "display_name": "DCO", "link": "https://stackoverflow.com/users/3005093/dco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558549123, "creation_date": 1558526545, "question_id": 56256377, "link": "https://stackoverflow.com/questions/56256377/get-unique-css-selector-from-webelement", "title": "Get unique css selector from WebElement", "body": "<p>is it possible to get a css selector of an WebElement?</p>\n\n<p>eg</p>\n\n<pre><code>var optionSelectors = mutableListOf&lt;String&gt;()\nval options = selectWebElement?.findElements(By.cssSelector(\"option\")).orEmpty()\nfor(option in options){\n   var optionSelector = option.getSelector()\n   optionSelectors.add(optionSelector)\n}\nreturn toJson(optionSelectors)\n</code></pre>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1559995527, "post_id": 56256203, "comment_id": 99599863, "body": "What&#39;s the issue with the compilation?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1559995734, "post_id": 56256203, "comment_id": 99599915, "body": "<code>RangeBarPreference</code> doesn&#39;t exist - I&#39;m just writing that as a placeholder. I&#39;d like to create my custom <code>RangeBarPreference</code> which extends <code>ProgressBar</code> @tynn"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1560226018, "creation_date": 1558525914, "question_id": 56256203, "link": "https://stackoverflow.com/questions/56256203/how-can-i-add-a-rangebar-to-my-preferences-xml", "title": "How can I add a RangeBar to my preferences.xml?", "body": "<p>I'm using the <a href=\"https://developer.android.com/reference/androidx/preference/package-summary.html\" rel=\"noreferrer\"><code>androidx Preferences library</code></a> to implement my settings. </p>\n\n<p>However unfortunately Android does not have a <code>RangeBar</code> with 2 thumbs, only a <code>SeekBarPreference</code> with 1 thumb. </p>\n\n<p>What is the best simple way to go about creating my own <code>RangeBar</code>? I've tried multiple libraries such as: <a href=\"https://github.com/nickwinder/range-bar-preference\" rel=\"noreferrer\">https://github.com/nickwinder/range-bar-preference</a> and <a href=\"https://android-arsenal.com/details/1/1756\" rel=\"noreferrer\">https://android-arsenal.com/details/1/1756</a> and they simply don't compile. </p>\n\n<p>For context, I'm trying to create a <code>RangeBar</code> between 1 and 99 which includes a min value and max value. </p>\n\n<pre><code>&lt;androidx.preference.PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;Preference\n       android:title=\"Settings\"\n       android:key=\"settings_category\"\n       android:layout=\"@layout/preference_title\"/&gt;\n    &lt;SeekBarPreference\n        android:layout=\"@layout/preference_widget_seekbar_override\"\n        app:showSeekBarValue=\"false\"\n        android:max=\"30\"\n        android:defaultValue=\"10\"\n        android:key=\"distance\"\n        android:title=\"Max distance (km)\"/&gt;\n\n    &lt;RangeBarPreference\n        .../&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558531032, "post_id": 56256770, "comment_id": 99131972, "body": "Thanks so much. You saved my day."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 6, "last_activity_date": 1558530103, "last_edit_date": 1558530103, "creation_date": 1558527905, "answer_id": 56256770, "question_id": 56255964, "link": "https://stackoverflow.com/questions/56255964/removing-elements-from-a-list-which-are-not-in-another-list-kotlin/56256770#56256770", "title": "Removing elements from a list which are not in another list - Kotlin", "body": "<p>If you want to operate directly on that <code>distinctListOfA</code> you may want to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/remove-all.html\" rel=\"noreferrer\"><code>removeAll</code></a> to remove all the matching entries from it. Just be sure that you initialize the keys of <code>B</code> only once so that it doesn't get evaluated every time the predicate is applied:</p>\n\n<pre><code>val keysOfB = listOfB.map { it.key } // or listOfB.map { it.key }.also { keysOfB -&gt;\ndistinctListOfA.removeAll {\n  it.key !in keysOfB\n}\n//} // if \"also\" was used you need it\n</code></pre>\n\n<p>If you have a <code>MutableMap&lt;String, ObjA&gt;</code> in place after evaluating your unique values (and I think it may make more sense to operate on a <code>Map</code> here), the following might be what you are after:</p>\n\n<pre><code>val map : MutableMap&lt;String, ObjA&gt; = ...\nmap.keys.retainAll(listOfB.map { it.key })\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html#retainAll(java.util.Collection)\" rel=\"noreferrer\"><code>retainAll</code></a> just keeps those values that are matching the given collection entries and after applying it the map now contains only the keys <code>one</code> and <code>two</code>.</p>\n\n<p>In case you want to keep your previous lists/maps and rather want a new list/map instead, you may just call something like the following before operating on it:</p>\n\n<pre><code>val newList = distinctListOfA.toList() // creates a new list with the same entries\nval newMap = yourPreviousMap.toMutableMap() // create a new map with the same entries\n</code></pre>\n"}], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2450, "favorite_count": 0, "accepted_answer_id": 56256770, "answer_count": 1, "score": 1, "last_activity_date": 1566119846, "creation_date": 1558524947, "last_edit_date": 1566119846, "question_id": 56255964, "link": "https://stackoverflow.com/questions/56255964/removing-elements-from-a-list-which-are-not-in-another-list-kotlin", "title": "Removing elements from a list which are not in another list - Kotlin", "body": "<p>I have two mutableLists, listOfA has so many objects including duplicates while listOfB has fewer. So I want to use listOfB to filter similar objects in listOfA so all list will have equal number of objects with equivalent keys at the end. Code below could explain more.</p>\n\n<pre><code>fun main() {\n    test()\n}\n\ndata class ObjA(val key: String, val value: String)\ndata class ObjB(val key: String, val value: String, val ref: Int)\n\nfun test() {\n    val listOfA = mutableListOf(\n            ObjA(\"one\", \"\"),\n            ObjA(\"one\", \"o\"),\n            ObjA(\"one\", \"on\"),\n            ObjA(\"one\", \"one\"),\n\n            ObjA(\"two\", \"\"),\n            ObjA(\"two\", \"2\"),\n            ObjA(\"two\", \"two\"),\n\n            ObjA(\"three\", \"3\"),\n            ObjA(\"four\", \"4\"),\n            ObjA(\"five\", \"five\")\n    )\n\n    //Use this list's object keys to get object with similar keys in above array.\n    val listOfB = mutableListOf(\n            ObjB(\"one\", \"i\", 2),\n            ObjB(\"two\", \"ii\", 5)\n    )\n\n    val distinctListOfA = listOfA.distinctBy { it.key } //Remove duplicates in listOfA\n\n    /*    \n    val desiredList = doSomething to compare keys in distinctListOfA and listOfB\n    for (o in desiredList) {\n        println(\"key: ${o.key}, value: ${o.value}\")\n    }\n    */\n\n    /* I was hoping to get this kind of output with duplicates removed and comparison made.\n      key: one, value: one\n      key: two, value: two\n     */\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558522281, "post_id": 56255145, "comment_id": 99127092, "body": "will maxBy remove duplicates?"}, {"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558522731, "post_id": 56255145, "comment_id": 99127330, "body": "Thanks for response but this will return one object with highest length I guess. What I want is new array of objects which values will have highest value length and of course with duplicates removed as well!"}, {"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "reply_to_user": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558523209, "post_id": 56255145, "comment_id": 99127551, "body": "ah ok. misunderstood :)"}], "tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": false, "score": 0, "last_activity_date": 1558522193, "creation_date": 1558522193, "answer_id": 56255145, "question_id": 56255078, "link": "https://stackoverflow.com/questions/56255078/kotlin-distinctby-with-condition/56255145#56255145", "title": "Kotlin distinctBy with condition", "body": "<p>You can use <code>maxBy{}</code> like:</p>\n\n<pre><code>val x = listOfAWithNoDuplicates.maxBy { it.key.length }\nprintln(x)\n</code></pre>\n\n<p>Output</p>\n\n<p><code>ObjA(key=three, value=3)</code></p>\n"}, {"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1558526642, "post_id": 56256168, "comment_id": 99129400, "body": "Thanks it worked. May you take a look at this one too. I want to process this list one more time <a href=\"https://stackoverflow.com/questions/56255964/removing-elements-from-a-list-which-are-not-in-another-list\" title=\"removing elements from a list which are not in another list\">stackoverflow.com/questions/56255964/&hellip;</a>"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 5, "last_activity_date": 1558526523, "last_edit_date": 1558526523, "creation_date": 1558525756, "answer_id": 56256168, "question_id": 56255078, "link": "https://stackoverflow.com/questions/56255078/kotlin-distinctby-with-condition/56256168#56256168", "title": "Kotlin distinctBy with condition", "body": "<p>As <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"noreferrer\"><code>distinctBy</code></a> just returns the distinct keys based on your selector (and in the order of the list), you end up with unique keys, but not yet with the values you want.</p>\n\n<p>For that particular use-case I would probably just <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by.html\" rel=\"noreferrer\">sort</a> beforehand, followed by the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"noreferrer\"><code>distinctBy</code></a></p>\n\n<pre><code>listOfA.sortedByDescending { it.value.length }\n       .distinctBy { it.key }\n</code></pre>\n\n<p>Which creates a new list at <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by-descending.html\" rel=\"noreferrer\"><code>sortedByDescending</code></a> or you just sort the current list beforehand (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sort-by-descending.html\" rel=\"noreferrer\"><code>sortByDescending</code></a>) and apply <code>distinctBy</code> later on, e.g.:</p>\n\n<pre><code>listOfA.sortByDescending { it.value.length }\nlistOfA.distinctBy { it.key }\n</code></pre>\n\n<p>In both cases you get a new <code>List&lt;ObjA&gt;</code> with the expected values.</p>\n\n<p>Several other variants come to my mind as well. All those variants will put the results into a <code>Map&lt;String, ObjA&gt;</code> where the key is actually the unique <code>ObjA.key</code>. You may want to call <code>.values</code> directly if you are not interested in the key/<code>ObjA</code>-mapping.</p>\n\n<ol>\n<li><p>variant using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html\" rel=\"noreferrer\"><code>groupingBy</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce.html\" rel=\"noreferrer\"><code>reduce</code></a>:</p>\n\n<pre><code>listOfA.groupingBy { it.key }\n       .reduce { _, acc, e-&gt;\n         maxOf(e, acc, compareBy { it.value.length })\n       }\n</code></pre></li>\n<li><p>variant using a plain <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"noreferrer\"><code>forEach</code></a>/<code>for</code> and filling its own <code>Map</code>:</p>\n\n<pre><code>val map = mutableMapOf&lt;String, ObjA&gt;()\nlistOfA.forEach {\n    map.merge(it.key, it) { t, u -&gt;\n        maxOf(t, u, compareBy { it.value.length })\n    }\n}\n</code></pre></li>\n<li><p>variant using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html\" rel=\"noreferrer\"><code>fold</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"noreferrer\"><code>merge</code></a> (very similar to the previous... just using <code>fold</code> instead of <code>for</code>/<code>forEach</code>):</p>\n\n<pre><code>listOfA.fold(mutableMapOf&lt;String, ObjA&gt;()) { acc, objA -&gt;\n  acc.apply {\n    merge(objA.key, objA) { t, u -&gt;\n      maxOf(t, u, compareBy { it.value.length })\n    }\n  }\n}\n</code></pre></li>\n<li><p>variant using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"noreferrer\"><code>groupBy</code></a> followed by <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html\" rel=\"noreferrer\"><code>mapValues</code></a> (but you are then actually creating 1 map which you discard immediately):</p>\n\n<pre><code>listOfA.groupBy { it.key } // the map created at this step is discarded and all the values are remapped in the next step\n       .mapValues { (_, values) -&gt;\n          values.maxBy { it.value.length }!!\n       }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 0, "accepted_answer_id": 56256168, "answer_count": 2, "score": 4, "last_activity_date": 1558526523, "creation_date": 1558521978, "last_edit_date": 1558522392, "question_id": 56255078, "link": "https://stackoverflow.com/questions/56255078/kotlin-distinctby-with-condition", "title": "Kotlin distinctBy with condition", "body": "<p>I have array with multiple objects with the same key, Other objects have empty values and I was hoping to use distinctBy to remove duplicates and get objects which values has the longest string.</p>\n\n<pre><code>data class ObjA(val key: String, val value: String)\n\nfun test() {\n    val listOfA = mutableListOf(\n            ObjA(\"one\", \"\"), //This will be taken in distinctBy.\n            ObjA(\"one\", \"o\"),\n            ObjA(\"one\", \"on\"),\n            ObjA(\"one\", \"one\"), //This will be ignored in distinctBy. I WANT THIS ONE.\n\n            ObjA(\"two\", \"\"), //This will be returned in distinctBy\n            ObjA(\"two\", \"2\"),\n            ObjA(\"two\", \"two\"), //But I want this.\n\n            ObjA(\"three\", \"3\"),\n            ObjA(\"four\", \"4\"),\n            ObjA(\"five\", \"five\")\n    )\n\n    val listOfAWithNoDuplicates = listOfA.distinctBy { it.key }\n\n    for (o in listOfAWithNoDuplicates) {\n        println(\"key: ${o.key}, value: ${o.value}\")\n    }\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>key: one, value: \nkey: two, value: \nkey: three, value: 3\nkey: four, value: 4\nkey: five, value: five\n</code></pre>\n\n<p>How to make this work. Any help will be appreciated.</p>\n"}, {"tags": ["android", "android-intent", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1558520578, "post_id": 56254594, "comment_id": 99126125, "body": "Intent() takes a Class (java) and not a KClass (kotlin), so no"}, {"owner": {"reputation": 106, "user_id": 11515715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NM6lt.jpg?s=128&g=1", "display_name": "Rajat Kumar Tyagi", "link": "https://stackoverflow.com/users/11515715/rajat-kumar-tyagi"}, "edited": false, "score": 0, "creation_date": 1558522010, "post_id": 56254594, "comment_id": 99126941, "body": "val intent: Intent = Intent(this@ActivityA,ActivityB::class.java)                 startActivity(intent)                                  ///////////or////                 startActivity(Intent(this@ActivityA,ActivityB::class.java))   this is the only way to call the intent in the kotlin and it&#39;s intent&#39;s feature that it takes the Java class."}, {"owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "edited": false, "score": 0, "creation_date": 1558674675, "post_id": 56254594, "comment_id": 99185382, "body": "If intent has to take a Java class, then what is the pure Kotlin way to do  it?"}], "owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "closed_date": 1558520612, "answer_count": 0, "score": 0, "last_activity_date": 1558520732, "creation_date": 1558520423, "last_edit_date": 1558520732, "question_id": 56254594, "link": "https://stackoverflow.com/questions/56254594/how-to-start-a-new-intent-activity-in-pure-kotlin", "closed_reason": "Duplicate", "title": "How to start a new intent / activity in pure Kotlin?", "body": "<p>I can't seem to find any clear answer about this. Everything else is pretty confusion.</p>\n\n<p>To start a new intent in Kotlin/Android:</p>\n\n<pre><code>    val nextScreenIntent = Intent(this, NextScreen::class.java)\n    startActivity(nextScreenIntent)\n</code></pre>\n\n<p>Why does it refer to \"java\" as in class.java?</p>\n\n<p>Isn't there a pure Kotlin to do this?</p>\n\n<p>ADD:</p>\n\n<p>It is not a duplicate question. The other questions/answers do not provide the answer. </p>\n\n<p>What is the pure Kotlin to start an activity or intent, without referencing Java?</p>\n"}, {"tags": ["android", "kotlin", "activity-indicator"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1558520458, "post_id": 56254469, "comment_id": 99126058, "body": "You can not touch Views from background thread in android . So move <code>loadingBar</code> part ouside of block . Are you are using <code>Anko</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 1, "last_activity_date": 1558520227, "creation_date": 1558520227, "answer_id": 56254535, "question_id": 56254469, "link": "https://stackoverflow.com/questions/56254469/how-to-add-loading-bar-to-the-adapter-class-where-the-view-is-inside-another-act/56254535#56254535", "title": "How to add loading bar to the adapter class where the view is inside another activity", "body": "<p>Like the stacktrace says, you shouldn't set visibility of any view from a background thread. Probably moving <code>loadingBar!!.setVisibility(View.VISIBLE);</code> to <code>uiThread{}</code> will solve your issue.</p>\n"}], "owner": {"reputation": 163, "user_id": 10259634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-17VC2FDXEf0/AAAAAAAAAAI/AAAAAAAAChk/Y9u6b0aJPCc/photo.jpg?sz=128", "display_name": "Christina Varghese", "link": "https://stackoverflow.com/users/10259634/christina-varghese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56254535, "answer_count": 1, "score": 1, "last_activity_date": 1564642576, "creation_date": 1558519999, "last_edit_date": 1564642576, "question_id": 56254469, "link": "https://stackoverflow.com/questions/56254469/how-to-add-loading-bar-to-the-adapter-class-where-the-view-is-inside-another-act", "title": "How to add loading bar to the adapter class where the view is inside another activity", "body": "<p>I'm trying to add <code>loadingbar</code> inside the adapter class where the view of the same is inside the mainactivity.I've used <code>doAsync</code> method to load an app when clicking on the app icon which is inside the mainactivity.\nFollowing is the error that I'm getting while using loadingbar inside  the <code>doAsync</code> method.</p>\n\n<blockquote>\n  <p>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n</blockquote>\n\n<p>Below is the Adapter class </p>\n\n<p><code>Adapter.kt</code></p>\n\n<pre><code>class Adapter(ctx: Context, private val appInfoList: ArrayList&lt;AppInfoModel&gt;, private val contentResolver: ContentResolver,\n              private val packageManager: PackageManager,\n              private val loadingIndicator: AVLoadingIndicatorView,\n              private val applicationContext: Context) : RecyclerView.Adapter&lt;Adapter.MyViewHolder&gt;()  {\n    private val inflater: LayoutInflater\n\n    init {\n        inflater = LayoutInflater.from(ctx)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Adapter.MyViewHolder {\n        val view = inflater.inflate(R.layout.list_item, parent, false)\n        return MyViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: Adapter.MyViewHolder, position: Int) {\n        var itemView: View? = null\n        holder.appIcon.setImageDrawable(appInfoList[position].appIcon)\n        holder.appName.setText(appInfoList[position].appName)\n        holder.versionNumber.setText(appInfoList[position].versionNumber)\n        if (!appInfoList[position].isInstalled) {\n            holder.appInfoCard.foreground = ColorDrawable(Color.parseColor(\"#CCFFFFFF\"))\n            holder.appInfoCard.isEnabled = false\n            holder.warningIcon.visibility = View.VISIBLE\n        }\n        holder.appInfoCard.setOnClickListener() {\n            Log.e(\"App opened\", appInfoList[position].appName)\n            var loadingBar:AVLoadingIndicatorView= loadingIndicator.findViewById(R.id.avi)\n            Log.d(\"Loading bar\", loadingBar.toString())\n            doAsync {\n                try {\n                    loadingBar!!.setVisibility(View.VISIBLE);\n                    LauncherUtils.setDynamicConfig(contentResolver, packageManager,applicationContext, appInfoList[position].auxName!!, appInfoList[position].packageName!!)\n                }\n                catch (e: Exception) {\n                    Log.e(\"Exception-launcher\", e.toString())\n                }\n                uiThread {\n\n                    //loadingBar!!.setVisibility(View.INVISIBLE)\n                }\n\n            }\n        }\n    }\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1558520978, "post_id": 56254149, "comment_id": 99126355, "body": "api will call on background thread and it&#39;s will returns response in onResponse() method. so you will get always null value because method <code>getStoreTitles()</code> will return value before api getting success."}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1558521025, "post_id": 56254149, "comment_id": 99126377, "body": "use callback for retrieve api results"}, {"owner": {"reputation": 17, "user_id": 11538615, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44UvGO4dIf0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDkbHHBEqXwB6U6xXLhGtADSElnw/mo/photo.jpg?sz=128", "display_name": "behzad razzaqi", "link": "https://stackoverflow.com/users/11538615/behzad-razzaqi"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1558521142, "post_id": 56254149, "comment_id": 99126435, "body": "@RajasekaranM how can i use callback?"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1558524067, "post_id": 56254149, "comment_id": 99128038, "body": "check my answer"}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1558533491, "post_id": 56255703, "comment_id": 99133708, "body": "why creating a new callback interface when you can use Retrofit&#39;s <code>Callback</code> (the one you need to provide to the <code>enqueue</code> method?"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1558533841, "post_id": 56255703, "comment_id": 99133959, "body": "good question but he handled his api call in separate class that&#39;s why"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1558534059, "post_id": 56255703, "comment_id": 99134100, "body": "true, but since the other class must implement <code>APICallback</code> in your example, why not implementing Retrofit&#39;s <code>Callback</code> directly? Conceptually they&#39;re doing the same stuff, i.e. handling the response/failure"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1558534140, "post_id": 56255703, "comment_id": 99134161, "body": "yes you are right,I&#39;m not think about it. thanks :-) will update answer"}, {"owner": {"reputation": 17, "user_id": 11538615, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44UvGO4dIf0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDkbHHBEqXwB6U6xXLhGtADSElnw/mo/photo.jpg?sz=128", "display_name": "behzad razzaqi", "link": "https://stackoverflow.com/users/11538615/behzad-razzaqi"}, "edited": false, "score": 0, "creation_date": 1558708006, "post_id": 56255703, "comment_id": 99201734, "body": "@RajasekaranM in this line --&gt; &lt;List&lt;sample&gt;&gt; responseResult=response.body()!! get Function invocation &#39;List&lt;sample&gt;(...)&#39; expected"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 17, "user_id": 11538615, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44UvGO4dIf0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDkbHHBEqXwB6U6xXLhGtADSElnw/mo/photo.jpg?sz=128", "display_name": "behzad razzaqi", "link": "https://stackoverflow.com/users/11538615/behzad-razzaqi"}, "edited": false, "score": 0, "creation_date": 1558708797, "post_id": 56255703, "comment_id": 99202199, "body": "@behzadrazzaqi check now"}], "tags": [], "owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1558708778, "last_edit_date": 1558708778, "creation_date": 1558524042, "answer_id": 56255703, "question_id": 56254149, "link": "https://stackoverflow.com/questions/56254149/call-retrofit-inside-other-mathod-and-return-result-to-main-thread/56255703#56255703", "title": "Call retrofit inside other mathod and return result to main thread", "body": "<p>Update your api call method:</p>\n\n<pre><code>fun getStoreTitles(callback : Callback&lt;List&lt;sample&gt;&gt;) {\n    var responseResult:List&lt;sample&gt;\n    responseResult= listOf(sample(\"\",\"\",\"\"))\n    val service = getRetrofitInstance()!!.create(GetDataService::class.java)\n    val call = service.getAllPhotos()\n    call.enqueue(callback);\n\n}\n</code></pre>\n\n<p>you have to call like this :</p>\n\n<pre><code>val FrameWork=StoreTitle()\nFrameWork.getStoreTitles(object : Callback&lt;List&lt;sample&gt;&gt; {\n        override fun onResponse(call: Call&lt;List&lt;sample&gt;&gt;, response: Response&lt;List&lt;sample&gt;&gt;) {\n         val responseResult : List&lt;sample&gt;? =response.body()      \n         //handle your success\n        }\n        override fun onFailure(call: Call&lt;List&lt;sample&gt;&gt;, t: Throwable) {\n             //handle your failure\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11538615, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44UvGO4dIf0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDkbHHBEqXwB6U6xXLhGtADSElnw/mo/photo.jpg?sz=128", "display_name": "behzad razzaqi", "link": "https://stackoverflow.com/users/11538615/behzad-razzaqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 56255703, "answer_count": 1, "score": 1, "last_activity_date": 1558708778, "creation_date": 1558519050, "last_edit_date": 1558519241, "question_id": 56254149, "link": "https://stackoverflow.com/questions/56254149/call-retrofit-inside-other-mathod-and-return-result-to-main-thread", "title": "Call retrofit inside other mathod and return result to main thread", "body": "<p>write this code :</p>\n\n<pre><code>fun getStoreTitles():List&lt;sample&gt; {\n        var responseResult:List&lt;sample&gt;\n        responseResult= listOf(sample(\"\",\"\",\"\"))\n        val service = getRetrofitInstance()!!.create(GetDataService::class.java)\n        val call = service.getAllPhotos()\n        call.enqueue(object : Callback&lt;List&lt;sample&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;sample&gt;&gt;, response: Response&lt;List&lt;sample&gt;&gt;) {\n                responseResult=response.body()!!\n                var t=0\n            }\n            override fun onFailure(call: Call&lt;List&lt;sample&gt;&gt;, t: Throwable) {\n                /*progressDoalog.dismiss()*/\n                //Toast.makeText(this@MainActivity, \"Something went wrong...Please try later!\", Toast.LENGTH_SHORT).show()\n            }\n        });\n        return responseResult\n}\n</code></pre>\n\n<p>and want to call that method from main activity with this way:</p>\n\n<pre><code>var responseResult:List&lt;sample&gt;\nval FrameWork=StoreTitle()\nresponseResult=FrameWork.getStoreTitles()\n</code></pre>\n\n<p>when run the app,retrofit run the successful but nothing return to the responseResult and that is null,i think retrofit run other thread and that's reason.how can i solve that problem?</p>\n"}, {"tags": ["android", "kotlin", "parse-platform"], "answers": [{"tags": [], "owner": {"reputation": 2501, "user_id": 6079144, "user_type": "registered", "profile_image": "https://graph.facebook.com/963317420421820/picture?type=large", "display_name": "Davi Mac&#234;do", "link": "https://stackoverflow.com/users/6079144/davi-mac%c3%aado"}, "is_accepted": false, "score": 0, "last_activity_date": 1558724873, "creation_date": 1558724873, "answer_id": 56298357, "question_id": 56254138, "link": "https://stackoverflow.com/questions/56254138/parse-com-offline-query-from-local-datastore-returns-0-objects/56298357#56298357", "title": "Parse.com offline query from local datastore returns 0 objects", "body": "<p>Can you please try just to change this line here to this?</p>\n\n<pre><code>q.whereEqualTo(USER_ID, user)\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558785825, "creation_date": 1558519009, "last_edit_date": 1558785825, "question_id": 56254138, "link": "https://stackoverflow.com/questions/56254138/parse-com-offline-query-from-local-datastore-returns-0-objects", "title": "Parse.com offline query from local datastore returns 0 objects", "body": "<p>I'm working on Android app which uses Parse and should work offline. </p>\n\n<p>Everytime as app starts in splash screen, it will run fetch recursively to fetch every single class object data from database. It will fetch almost 200 objects to local datastore (from simple objects to objects with relations and pointers to those simple objects) if user is online. </p>\n\n<p>In offline mode it should load those objects from local datastore and should work same as online version.</p>\n\n<p>Problem is that it will not load some objects where I have to check if <code>ParseUser.objectId</code> is equal to pointer to User in Object(s) I want to find. This doesn`t work if you are offline. 0 objects returned. If you are online it is working as intended.</p>\n\n<p>I've checked <code>ParseUser.objectId</code> and <code>ACL</code>s. They are exactly same. Both online and Offline user is same user (not anonymous).</p>\n\n<p>Parse API Call:</p>\n\n<pre><code>fun getItems(c: Context, itemState: Int, user: ParseUser, isShortcut: Boolean,\n                         callback: (List&lt;ParseObject&gt;?, Boolean, ParseException?) -&gt; Unit){\n\n            val q = ParseQuery.getQuery&lt;ParseObject&gt;(ITEM_CLASS)\n\n            q.whereEqualTo(ITEM_STATE, itemState)\n            q.include(POINTER_OBJECT)\n            q.include(POINTER_OBJECT_ORGANIZATION)\n\n            if (itemState == ITEM_STATE_NEXT){\n                q.whereDoesNotExist(ITEM_USER_ID)\n                q.whereGreaterThan(NEXT_DATE, getCurrDate())\n                q.addAscendingOrder(NEXT_DATE)\n                q.whereExists(NEXT_DATE)\n            } else {\n                if (isOnline(c)){\n                    createLog(\"Reports\", \"ONLINE:\\n\" +\n                            \"UserID: ${user.objectId}\\n\" +\n                            \"UserACL: ${user.acl}\\n\" +\n                            \"PublicRead: ${user.acl?.publicReadAccess}\\n\" +\n                            \"PublicWrite: ${user.acl?.publicWriteAccess}\")\n                } else {\n                    createLog(\"Reports\", \"OFFLINE:\\n\" +\n                            \"UserID: ${user.objectId}\\n\" +\n                            \"UserACL: ${user.acl}\\n\" +\n                            \"PublicRead: ${user.acl?.publicReadAccess}\\n\" +\n                            \"PublicWrite: ${user.acl?.publicWriteAccess}\")\n                }\n                q.whereEqualTo(USER_ID, user.objectId)\n            }\n\n            if (!isOnline(c)) {\n                q.ignoreACLs()\n                q.fromLocalDatastore()\n            }\n\n            q.findInBackground { itemList, err -&gt;\n                itemList?.let {reports -&gt;\n                    ParseObject.pinAllInBackground(reports)\n                    createLog(\"dataPinned\", \"${reports.size}\")\n                }\n                callback(itemList, isShortcut, err)\n            }\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-9.0-pie"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1558516824, "post_id": 56253371, "comment_id": 99124012, "body": "does it work when you remove the spaces from the phone number?"}, {"owner": {"reputation": 319, "user_id": 5801558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab890ee8372d7a6c5886243128a1f2c?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Opyrcha\u0142", "link": "https://stackoverflow.com/users/5801558/kacper-opyrcha%c5%82"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1558517105, "post_id": 56253371, "comment_id": 99124182, "body": "@ZUNJAE still not working even without spaces. I&#39;ve also tried different formats but the output is always the same"}, {"owner": {"reputation": 73, "user_id": 2296118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9sZ7.jpg?s=128&g=1", "display_name": "Omid Faraji", "link": "https://stackoverflow.com/users/2296118/omid-faraji"}, "edited": false, "score": 0, "creation_date": 1558519380, "post_id": 56253371, "comment_id": 99125467, "body": "your phone number should be in correct format. for example like this: +989354058789"}], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 2, "last_activity_date": 1558522241, "last_edit_date": 1558522241, "creation_date": 1558518753, "answer_id": 56254061, "question_id": 56253371, "link": "https://stackoverflow.com/questions/56253371/phone-numbers-links-not-working-on-android-9/56254061#56254061", "title": "Phone numbers links not working on Android 9", "body": "<p>The mask <code>Linkify.EMAIL_ADDRESSES | Linkify.PHONE_NUMBERS</code> seems correct, according to the <a href=\"https://developer.android.com/reference/kotlin/android/text/util/Linkify.html#phone_numbers\" rel=\"nofollow noreferrer\">documentation</a> - but I would not recognize something alike <code>5008 878 6578</code> as a valid phone number - and I definitely could not dial it, if I would click it... so most likely the <code>sPhoneNumberMatchFilter</code> might be at fault.\nManually building the desired <code>Spannable</code> with the <code>tel://50088786578</code> might be an easy solution; adjusting the <code>sPhoneNumberMatchFilter</code> might be the other option... also <a href=\"https://developer.android.com/reference/kotlin/android/text/util/Linkify.html#addlinks_9\" rel=\"nofollow noreferrer\">.addLinks()</a> permits this, with argument <code>matchFilter</code>.</p>\n\n<p>Are you certain that you are running with the same <code>Locale</code> on Android 9.0? This should be where the regex pattern to match for may come from, because those formats count towards localization.</p>\n"}], "owner": {"reputation": 319, "user_id": 5801558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab890ee8372d7a6c5886243128a1f2c?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Opyrcha\u0142", "link": "https://stackoverflow.com/users/5801558/kacper-opyrcha%c5%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 56254061, "answer_count": 1, "score": 4, "last_activity_date": 1558522241, "creation_date": 1558516756, "last_edit_date": 1558517763, "question_id": 56253371, "link": "https://stackoverflow.com/questions/56253371/phone-numbers-links-not-working-on-android-9", "title": "Phone numbers links not working on Android 9", "body": "<p>I want to have my phone number to be clickable, right now my current solution:</p>\n\n<pre><code>final SpannableString msg = \"Contact us: test@t.t or call: 5008 878 6578\"\nLinkify.addLinks(msg, Linkify.EMAIL_ADDRESSES | Linkify.PHONE_NUMBERS);\ntextView.setText(msg);\n\n</code></pre>\n\n<p>This works fine for Android 8.1 and below but not for Android 9 (email is clickable so the problem is only with number phone)</p>\n\n<p>I've tried already doing it with XML layouts or with</p>\n\n<pre><code>textView.setAutoLinkMask(Linkify.PHONE_NUMBERS)\n</code></pre>\n\n<p>And the output is the same, phone number is not clickable.</p>\n\n<p>How to fix it on Android 9?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1558516706, "post_id": 56253260, "comment_id": 99123951, "body": "First, does that mean Kotlin documents are wrong? Or simply no one uses it from the command line? Second, doing what you say I get a different error: <code>Error: no se ha encontrado el m&#233;todo principal en la clase TesoroKt, defina el m&#233;todo principal del siguiente modo:\\n   public static void main(String[] args)\\nde lo contrario, se deber&#225; ampliar una clase de aplicaci&#243;n JavaFX javafx.application.Application</code> which is in Spanish, but you get the idea..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 1, "creation_date": 1558520318, "post_id": 56253260, "comment_id": 99125963, "body": "no... the documentation is right here... it was me who was wrong ;-) but it should work with version 1.3.31..."}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1558523023, "post_id": 56253260, "comment_id": 99127469, "body": "This one is 1.1.3. Thanks for the heads up!"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 1, "creation_date": 1558523435, "post_id": 56253260, "comment_id": 99127662, "body": "ah, well... the parameterless main is only available since version 1.3 ;-) your IDE most probably has the latest stable version... and compilation also succeeds, because then it&#39;s just a regular function... but you do not have your fully functional <code>main(args)</code> then :-)"}, {"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1558536050, "post_id": 56253260, "comment_id": 99135366, "body": "good error messages are not sufficiently appreciated in the programming language development community :-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1558517997, "last_edit_date": 1558517997, "creation_date": 1558516393, "answer_id": 56253260, "question_id": 56252911, "link": "https://stackoverflow.com/questions/56252911/i-get-the-error-no-main-manifest-attribute-when-compiling-and-running-a-simpl/56253260#56253260", "title": "I get the error &quot;no main manifest attribute&quot;, when compiling and running a simple program in Kotlin", "body": "<p>Be sure to use the latest stable version. With kotlinc 1.3.31 it works correctly, also with <code>fun main()</code> in place.</p>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558517926, "post_id": 56253447, "comment_id": 99124680, "body": "which version do you use? With kotlinc 1.3.31 it builds the correct self-contained jar for me... and therefore runs..."}], "tags": [], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1558523075, "last_edit_date": 1558523075, "creation_date": 1558516944, "answer_id": 56253447, "question_id": 56252911, "link": "https://stackoverflow.com/questions/56252911/i-get-the-error-no-main-manifest-attribute-when-compiling-and-running-a-simpl/56253447#56253447", "title": "I get the error &quot;no main manifest attribute&quot;, when compiling and running a simple program in Kotlin", "body": "<p>There's an error in the definition of the function <code>main</code> which causes this error in version 1.1.3. It should be:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) \n</code></pre>\n\n<p>It will yield that LTA error if it's not, so you need to include it even if you will not be using the arguments.</p>\n"}], "owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 56253260, "answer_count": 2, "score": 1, "last_activity_date": 1558523075, "creation_date": 1558515251, "last_edit_date": 1558523050, "question_id": 56252911, "link": "https://stackoverflow.com/questions/56252911/i-get-the-error-no-main-manifest-attribute-when-compiling-and-running-a-simpl", "title": "I get the error &quot;no main manifest attribute&quot;, when compiling and running a simple program in Kotlin", "body": "<p>Here's the program</p>\n\n<pre><code>data class Resultado (val resultado: Int, val tesoro: Boolean)\n\nfun main() {\n        val busca =  fun(intento: Int): Resultado\n        {\n                val cosas = listOf( 3, 33, 333, 42, 1, 1, 111 )\n                if ( intento == 4  ) {\n                        return Resultado( 42, true )\n                } else {\n                        return Resultado( cosas[intento], false )\n                }\n        }\n\n        val (valor1, premio1) = busca( 2 )\n        println( \"2 devuelve \" + valor1 + \" y tiene premio \" + premio1  )\n        val (valor2, premio2) = busca( 4 )\n        println( \"4 devuelve \" + valor2 + \" y tiene premio \" + premio2  )\n\n}\n</code></pre>\n\n<p>It <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"nofollow noreferrer\">compiles</a> correctly either directly or with</p>\n\n<pre><code>kotlinc code/tesoro.kt -include-runtime -d tesoro.jar\n</code></pre>\n\n<p>Leaving all kind of files in the directory:</p>\n\n<pre><code>ls *.class *.jar\nResultado.class  tesoro.jar  TesoroKt.class  TesoroKt$main$busca$1.class\n</code></pre>\n\n<p>However, it does not run</p>\n\n<pre><code>java -jar tesoro.jar \nno hay ning\u00fan atributo de manifiesto principal en tesoro.jar\n</code></pre>\n\n<p>Which means pretty much as said above, \"No main manifest attribute\". This is </p>\n\n<pre><code>java -version\njava version \"1.8.0_201\"\nJava(TM) SE Runtime Environment (build 1.8.0_201-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.201-b09, mixed mode)\n</code></pre>\n\n<p>Kotlin version is 1.1.3-2</p>\n\n<p>Is the program missing something? </p>\n"}, {"tags": ["kotlin", "kotlinc"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1558514090, "post_id": 56252482, "comment_id": 99122427, "body": "That&#39;s C then. Kotlin compiler is completely different. To answer why Kotlin don&#39;t fail to that thing will probably take a full semester of compilers lecture, some years of field experience and digging into kotlin&#39;s sources. I&#39;m now voting to close this question as too broad."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1558514486, "post_id": 56252482, "comment_id": 99122638, "body": "Maybe this would be a silly question, or I didn&#39;t understand your question well, but still: Why don&#39;t you try yourself? If I understood the question, you could just run the code and put some <code>println()</code>s there to see what it does."}, {"owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1558600060, "post_id": 56252482, "comment_id": 99156918, "body": "@glee8e &quot;Kotlin compiler is completely different. To answer why Kotlin don&#39;t fail to that thing&quot; Yeah, I was hoping for a link to a tech article regarding that :D .."}], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1558523023, "creation_date": 1558523023, "answer_id": 56255380, "question_id": 56252482, "link": "https://stackoverflow.com/questions/56252482/is-apples-goto-bug-possible-in-kotlin-if-statement-without-braces/56255380#56255380", "title": "Is Apples goto-bug possible in Kotlin if-statement without braces?", "body": "<p>The example you give is not ambiguous; it could only have one reasonable meaning.\u00a0 And it's rather different from the issue you link to (which doesn't involve <code>else</code> clauses at all.)\u00a0 So I'm not sure what you're asking.</p>\n\n<p>Kotlin is similar to most C-like languages in how it interprets <code>if</code> (and <code>else</code>).\u00a0 So strictly speaking, an error of that type is still possible.\u00a0 But Kotlin has two features which can reduce the risk of such problems.</p>\n\n<p>First is that, unlike C and Java and similar languages, <code>if</code> can be used as an expression (returning a value).\u00a0 When used this way, the compiler ensure that every branch returns a value; this will usually result in a compiler error if there's any confusion around multiple branches.</p>\n\n<p>Second is the <code>when</code> structure, which functions like the C/Java <code>switch</code> statement, but avoids fall-through and hence the need for <code>break</code>s; it can also be used as an expression, enforcing a single path through and a single return value.</p>\n\n<p>So in Kotlin, the linked code would best have been written with a <code>when</code>, which would have been simpler as well as preventing that type of error.</p>\n\n<p>Ultimately, I don't think it's really comparable, though.\u00a0 The linked code is low-level C, which has very different practices and restrictions from general application code.\u00a0 In particular, the use of <code>goto</code> for error clean-up is inherently error-prone.\u00a0 And if they'd used <code>else</code> branches properly, it would have made the code rather clearer as well as preventing this error.</p>\n\n<p>It's possible to write bad code in any language if you're determined enough!\u00a0 A good language is one which makes it easier to write good code, and harder to write bad code.\u00a0 (And I think Kotlin scores pretty well in that respect.)\u00a0 </p>\n"}], "owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558523023, "creation_date": 1558513819, "question_id": 56252482, "link": "https://stackoverflow.com/questions/56252482/is-apples-goto-bug-possible-in-kotlin-if-statement-without-braces", "title": "Is Apples goto-bug possible in Kotlin if-statement without braces?", "body": "<p>Imagine in Kotlin:</p>\n\n<pre><code>if (this) doThis()\nelse if(that) doThat()\nelse doWhatEver()\n</code></pre>\n\n<p>I've read using braces always (<a href=\"https://embeddedgurus.com/barr-code/2014/03/apples-gotofail-ssl-security-bug-was-easily-preventable/\" rel=\"nofollow noreferrer\">see Apples goto fail</a>)!</p>\n\n<blockquote>\n  <p>Rule 1.3.a</p>\n  \n  <p>Braces shall always surround the blocks of code (a.k.a., compound\n  statements), following if, else, switch, while, do, and for\n  statements; single statements and empty statements following these\n  keywords shall also always be surrounded by braces.</p>\n</blockquote>\n\n<p>How does the Kotlin compiler handle the lack of braces in the above code? I thought Kotlin might be intelligent enough to avoid failures on that?</p>\n"}, {"tags": ["kotlin", "rx-java", "retrofit2", "rx-java2", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "edited": false, "score": 0, "creation_date": 1558517867, "post_id": 56252954, "comment_id": 99124639, "body": "i just found simple way!! just removing &quot;.subscribeOn(Schedulers.io())&quot; let the process use main thread."}, {"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "reply_to_user": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "edited": false, "score": 1, "creation_date": 1558521471, "post_id": 56252954, "comment_id": 99126637, "body": "I see. But you could have a situation when somewhere in your stream there is a scheduler switch which is hidden from you. For this reason, is better to use block operation"}, {"owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "edited": false, "score": 0, "creation_date": 1558569547, "post_id": 56252954, "comment_id": 99148906, "body": "agree!! thanx a lot"}], "tags": [], "owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "is_accepted": true, "score": 1, "last_activity_date": 1558521766, "last_edit_date": 1558521766, "creation_date": 1558515394, "answer_id": 56252954, "question_id": 56252342, "link": "https://stackoverflow.com/questions/56252342/main-function-is-dead-while-rxjava-is-working-any-solution-please/56252954#56252954", "title": "main function is dead while rxjava is working. any solution please", "body": "<p>Your subscription to <code>getAccessToken</code> is asynchronous. That's mean that <code>subscribeBy</code> returns immediately and then your main thread is terminated because it has nothing to do. You can use <code>blockingSubscribeBy</code> if you have <code>Observable</code> or <code>blockingGet</code> in a case when you use <code>Single</code>. Both of the operators should block the subscription.</p>\n\n<p>I also want to clarify that blocking is bad, you should avoid it. Specifically, in your situation, it's ok because you want to block the execution in the main function which is kind of \"end of the world\" of your program.</p>\n"}], "owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56252954, "answer_count": 1, "score": 0, "last_activity_date": 1558521766, "creation_date": 1558513401, "last_edit_date": 1558519898, "question_id": 56252342, "link": "https://stackoverflow.com/questions/56252342/main-function-is-dead-while-rxjava-is-working-any-solution-please", "title": "main function is dead while rxjava is working. any solution please", "body": "<p>I am trying to get access_token with RXjava.</p>\n\n<p>I ran the program and called the function that requests the access_token, but the process finishes with code 0.</p>\n\n<p>I think the main thread is dead while connecting the server</p>\n\n<p>my solution was\n<code>Thread.sleep(sometime)</code>\nto give short time to get the response.</p>\n\n<p>and I also tried </p>\n\n<pre><code>val runnable = Runnable{ getToken() }\nval thread = Thread(runnable)\nthread.run()\nthread.join()\n</code></pre>\n\n<p>but it didn't work..</p>\n\n<p>here is my code below</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    getToken()\n\n//    Thread.sleep(10000) // it works but don't want to do with this\n}\n\n\n\nfun getToken() {\n    val id = \"test\"\n    val pw = \"test\"\n    println(id + \" \" + pw)\n\n    val oAuthService = Retrofit.Builder()\n        .baseUrl(URL)\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .addConverterFactory(GsonConverterFactory.create())\n        .client(httpClient)\n        .build()\n        .create(OAuthService::class.java)\n\n    oAuthService.getAccessToken(\n        CLIENT_ID,\n        CLIENT_SECRET,\n        id,\n        pw\n    ).subscribeOn(Schedulers.io())\n        .flatMap {\n            when(it.error){\n                null -&gt; Single.just(TokenDto.Success(it.access_token?:\"\", it.expires_int?:0, it.token_type?:\"\", it.refresh_token?:\"\"))\n                else -&gt; Single.just(TokenDto.Failure(\"failed\"))\n            }\n        }\n        .retry { times, throwable -&gt;\n            println(throwable)\n            times &lt; 3 }\n        .subscribeBy(\n            onSuccess = {\n                println(\"onSuccess\")\n                when(it){\n                    is TokenDto.Success -&gt; {\n                        println(\"accessToken : ${it.access_token}\")\n                    }\n                    is TokenDto.Failure -&gt; {\n                        println(\"failed : ${it.msg}\")\n                    }\n                }\n            },\n            onError = {\n                println(\"onError\")\n            }\n        )\n}\n\n\n</code></pre>\n\n<p>retrofit</p>\n\n<pre><code>interface OAuthService {\n\n    @FormUrlEncoded\n    @POST(\"oauth2/token\")\n    fun getAccessToken(\n        @Field(\"client_id\") client_id:String,\n        @Field(\"client_secret\") client_secret:String,\n        @Field(\"username\") username:String,\n        @Field(\"password\") password:String\n    ):Single&lt;TokenResponse&gt;\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 530, "user_id": 951283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxPwn.jpg?s=128&g=1", "display_name": "Henrik Gyllensv&#228;rd", "link": "https://stackoverflow.com/users/951283/henrik-gyllensv%c3%a4rd"}, "is_accepted": false, "score": 0, "last_activity_date": 1558771929, "creation_date": 1558771929, "answer_id": 56303033, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error/56303033#56303033", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>I came here due to having the exact same error and I'm just trying to learn more about this.</p>\n\n<p>If I remove the parameter to the module, so it looks like this:</p>\n\n<pre><code>@Suppress(\"unused\") // Referenced in application.conf\nfun Application.module() {\n    val client = HttpClient(Apache) {\n    }\n</code></pre>\n\n<p>Then it start without any complaints.\nWhy it works, no idea yet!</p>\n\n<p>Edit:\nI used the plugin to setup the project and I'm on java 1.8 (though I don't think it matters here)</p>\n\n<p>Edit 2:</p>\n\n<p>This was how the code was generated for me:</p>\n\n<pre><code>@Suppress(\"unused\") // Referenced in application.conf\n@kotlin.jvm.JvmOverloads\nfun Application.module(testing: Boolean = false) {\n    val client = HttpClient(Apache) {\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "edited": false, "score": 0, "creation_date": 1559037068, "post_id": 56309875, "comment_id": 99284340, "body": "Thanks, fixed it.      2019-05-28 10:48:57.361 [main] INFO  Application - No ktor.deployment.watch patterns specified, automatic reload is not active 2019-05-28 10:48:57.705 [main] INFO  org.eclipse.jetty.util.log - Logging initialized @753ms to org.eclipse.jetty.util.log.Slf4jLog 2019-05-28 10:48:57.965 [main] INFO  Application - Responding at <a href=\"http://0.0.0.0:8080\" rel=\"nofollow noreferrer\">0.0.0.0:8080</a>"}], "tags": [], "owner": {"reputation": 1319, "user_id": 412466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ccf7ace4fd6a5b4391f58e3b7218ce?s=128&d=identicon&r=PG", "display_name": "Aleksandar Ilic", "link": "https://stackoverflow.com/users/412466/aleksandar-ilic"}, "is_accepted": true, "score": 2, "last_activity_date": 1558832409, "creation_date": 1558832409, "answer_id": 56309875, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error/56309875#56309875", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>The problem is with argument <code>testing: Boolean = false</code> in function <code>Application.module</code>. It looks like that <code>io.ktor.server.engine.ApplicationEngineEnvironmentReloading.executeModuleFunction</code> <strong>doesn't play well if module has argument(s)</strong>. Or arguments have to be declared somehow in <code>application.conf</code> file, but this doesn't make sense since it already has default <code>false</code> value. Or we are not building the project correctly.</p>\n\n<p>Just remove the argument from the function, the annotations and delete the <code>ApplicationTest.kt</code> from <code>test</code> folder and you'll good to go.</p>\n"}, {"tags": [], "owner": {"reputation": 825, "user_id": 2130514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e56cb9663dbb19929e54483cd20de3f8?s=128&d=identicon&r=PG", "display_name": "TaoBit", "link": "https://stackoverflow.com/users/2130514/taobit"}, "is_accepted": false, "score": 0, "last_activity_date": 1563777796, "creation_date": 1563777796, "answer_id": 57140409, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error/57140409#57140409", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>there is another solution besides removing the default argument:</p>\n\n<p>add package name on the top of <code>Application.kt</code>, it works for me.</p>\n\n<p>my ktor version is 1.2.2</p>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 7476567, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JMxu8ziD6RQ/AAAAAAAAAAI/AAAAAAAAAMg/4ORj5cBLQ3U/photo.jpg?sz=128", "display_name": "Prashant Paliwal", "link": "https://stackoverflow.com/users/7476567/prashant-paliwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1599713363, "creation_date": 1599713363, "answer_id": 63823009, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error/63823009#63823009", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>In my case, I updated my project package but forgot to do the same in <strong>application.conf</strong> file which returned this error.</p>\n<p>Please double check this too.</p>\n"}, {"tags": [], "owner": {"reputation": 2410, "user_id": 1072991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/nHFqo.jpg?s=128&g=1", "display_name": "MobileEvangelist", "link": "https://stackoverflow.com/users/1072991/mobileevangelist"}, "is_accepted": false, "score": 3, "last_activity_date": 1604149903, "last_edit_date": 1604149903, "creation_date": 1604149539, "answer_id": 64621999, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error/64621999#64621999", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>I ran into same issue. Above mentioned suggestion of changing flag value or deleting file, didn't worked for me.</p>\n<p>Root cause of problem, observed in application.conf</p>\n<p>Before</p>\n<pre><code> modules = [ ApplicationKt.module ]\n</code></pre>\n<p>After</p>\n<pre><code> modules = [ com.exp.ApplicationKt.module ]\n</code></pre>\n<p>The full path of Applicationkt.module was changed while relocating files in process of structuring classes by movement[in my case].</p>\n"}], "owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2378, "favorite_count": 0, "accepted_answer_id": 56309875, "answer_count": 5, "score": 4, "last_activity_date": 1604149903, "creation_date": 1558509466, "last_edit_date": 1558532798, "question_id": 56251286, "link": "https://stackoverflow.com/questions/56251286/ktor-quickstart-new-project-from-plugin-throwing-error", "title": "Ktor - Quickstart new project from plugin throwing Error", "body": "<p>I am using:</p>\n\n<ul>\n<li>Kotlin 1.3.3 </li>\n<li>Ktor plugin 1.2.0</li>\n<li>IntelliJ IDEA 2019.1.3 (Ultimate Edition) Build #IU-191.7479.7, built\non May 21, 2019</li>\n<li>openjdk version \"11.0.2\" 2019-01-15 - OpenJDK Runtime Environment\n18.9 (build 11.0.2+9)</li>\n<li>macOS Mojave 10.14.5</li>\n</ul>\n\n<p>Also tried with 'jdk1.8.0_202.jdk/'</p>\n\n<p>I follow the QuickStart from <a href=\"https://ktor.io/quickstart/index.html\" rel=\"nofollow noreferrer\">https://ktor.io/quickstart/index.html</a></p>\n\n<p>When I run the generated code from inside IntelliJ I get: </p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home/bin/java \"-javaagent:/Applications/IntelliJ IDEA 2019.1 EAP.app/Contents/lib/idea_rt.jar=50192:/Applications/IntelliJ IDEA 2019.1 EAP.app/Contents/bin\" -Dfile.encoding=UTF-8 -classpath /Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/classes:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-server-netty/1.2.0/c30ea7f287343d3007a0794dbfeb3f69aad76ca8/ktor-server-netty-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-html-builder/1.2.0/53ef376dc21a1f404a5154096708fc104092ec77/ktor-html-builder-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-server-host-common/1.2.0/a4335b06f785b39d976e70a00a988bd077beacd1/ktor-server-host-common-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-server-core/1.2.0/4ba64df7deeb3b3cc81b66f005962edfaf63e554/ktor-server-core-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains/kotlin-css-jvm/1.0.0-pre.31-kotlin-1.2.41/718c1d40ec10699ee0ab086e2e9d4d1ebe95646d/kotlin-css-jvm-1.0.0-pre.31-kotlin-1.2.41.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-client-jetty/1.2.0/3dd4fd4541dd7c85564c65162117a2dd60933f0b/ktor-client-jetty-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-client-core-jvm/1.2.0/f88e71cffbb49bdba1f1e93131cdee2e2bae0eaa/ktor-client-core-jvm-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-http-cio-jvm/1.2.0/d37a4df9617f49378780554421a3744ab5ceb1d9/ktor-http-cio-jvm-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-http-jvm/1.2.0/aab3e7e34ba1c1947fe362f899d308d97622cfb8/ktor-http-jvm-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-network/1.2.0/bbaefc8c4d66d3707b0a247a341a2f3ea7bd0c5/ktor-network-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-utils-jvm/1.2.0/9d79aff946644c0f489e75f315fcb396f5b4581e/ktor-utils-jvm-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.3.31/21edc5a6b2e39bc4dc2860346fd778e27503d6cb/kotlin-stdlib-jdk8-1.3.31.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.1/706a8b8206ead3683ec639dd270d11fd948fbb0e/logback-classic-1.2.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-client-core/1.2.0/5788736ce2795078281e5eeb4523e0c81cf8d06/ktor-client-core-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.3.31/e652770b6416c6d85934086899ffed3eccd35813/kotlin-stdlib-jdk7-1.3.31.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.3.31/5a426a5ada97967ca60fba495eeaa66cfa7c9e2f/kotlin-reflect-1.3.31.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-io-jvm/0.1.8/591b0489ce565c32d4874610ef64c948e6a5c627/kotlinx-coroutines-io-jvm-0.1.8.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-io-jvm/0.1.8/595d4772d0600272bac6a2dcec2646b037285863/kotlinx-io-jvm-0.1.8.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-html-jvm/0.6.12/95dfe9d85947c8dd57c16dced385a37280166e56/kotlinx-html-jvm-0.6.12.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-jdk8/1.2.1/4d891cee198626c08ac30028afdd743558507ad9/kotlinx-coroutines-jdk8-1.2.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core/1.2.1/3839faf625f4197acaeceeb6da000f011a2acb49/kotlinx-coroutines-core-1.2.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.31/11289d20fd95ae219333f3456072be9f081c30cc/kotlin-stdlib-1.3.31.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-http-cio/1.2.0/9dc1ab0d309da3a03b4e4435b9dc52afbc78c580/ktor-http-cio-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-http/1.2.0/c160a65dea5200650efd8db738fa157d8e7c3f8/ktor-http-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.ktor/ktor-utils/1.2.0/67edd57c63978974769e6ab6792713d9253c1db9/ktor-utils-1.2.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/atomicfu/0.12.6/2840b58706d9ef8df7c8aee2e8b6e1444d09df60/atomicfu-0.12.6.jar:/Users/NOTiFY/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/com.typesafe/config/1.3.1/2cf7a6cc79732e3bdf1647d7404279900ca63eb0/config-1.3.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http2/4.1.24.Final/c0c0d9d20402e4493083447052b59d5680e88b2e/netty-codec-http2-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty/jetty-alpn-openjdk8-client/9.4.15.v20190215/d46fbf9d9c37f75e621a30bf8a192fe2ade30963/jetty-alpn-openjdk8-client-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty.alpn/alpn-api/1.1.3.v20160715/a1bf3a937f91b4c953acd13e8c9552347adc2198/alpn-api-1.1.3.v20160715.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.1/378913dfc3c6c71e7e2a2853eff2c3e8ac27599/logback-core-1.2.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains/kotlin-css/1.0.0-pre.31-kotlin-1.2.41/c40316f81304348a9983ce15a53c81130b16b36a/kotlin-css-1.0.0-pre.31-kotlin-1.2.41.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-io/0.1.8/ab4c5ab04fe13e78ab0d55d71909b22b6f52f658/kotlinx-coroutines-io-0.1.8.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-common/1.2.1/5806e3dd5e8dff59fec96747795353f3ba2bfd60/kotlinx-coroutines-core-common-1.2.1.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-io/0.1.8/59bcca58d0dae17790c96a775664267ff8492356/kotlinx-io-0.1.8.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.31/20c34a04ea25cb1ef0139598bd67c764562cb170/kotlin-stdlib-common-1.3.31.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty.http2/http2-client/9.4.15.v20190215/dea5744484dbb7e192b6eb061e46d3e53a7edd95/http2-client-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty/jetty-alpn-java-client/9.4.15.v20190215/9e513ee27c5ea1fa4d97186e46f613b44e3a7795/jetty-alpn-java-client-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/atomicfu-common/0.12.3/b09ed1e1b1a0996e0a3b6c454797d44788a21747/atomicfu-common-0.12.3.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http/4.1.24.Final/8f20009953b2c7c3d860cef928007bc01aa58ac/netty-codec-http-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-handler/4.1.24.Final/bad56e7da211c5ebe031ae155cb648b1065c7bb6/netty-handler-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty.http2/http2-common/9.4.15.v20190215/8983928afb3064fe41b449cabcb827c1024dfba/http2-common-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty/jetty-alpn-client/9.4.15.v20190215/1b215197407fdf8582711e32b187ce458c6097d9/jetty-alpn-client-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec/4.1.24.Final/290857e5103956bbda11836e33245f2439226b77/netty-codec-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport/4.1.24.Final/d37292c94d3a4cba48d9b6cfb6e8e55282035d0d/netty-transport-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-buffer/4.1.24.Final/e354bed2e60b568307138e403f55ba241c1c16d2/netty-buffer-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/org.eclipse.jetty.http2/http2-hpack/9.4.15.v20190215/1a2b990e51ea38fb742f7cdec24064c32596edb8/http2-hpack-9.4.15.v20190215.jar:/Users/NOTiFY/.m2/repository/org/eclipse/jetty/jetty-http/9.4.15.v20190215/jetty-http-9.4.15.v20190215.jar:/Users/NOTiFY/.m2/repository/org/eclipse/jetty/jetty-io/9.4.15.v20190215/jetty-io-9.4.15.v20190215.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-resolver/4.1.24.Final/dbc1e5b50d31aed883ea3beeb6489e1977d0687f/netty-resolver-4.1.24.Final.jar:/Users/NOTiFY/.gradle/caches/modules-2/files-2.1/io.netty/netty-common/4.1.24.Final/7eeecd7906543214c3c1c984d275d3c6de10b99d/netty-common-4.1.24.Final.jar:/Users/NOTiFY/.m2/repository/org/eclipse/jetty/jetty-util/9.4.15.v20190215/jetty-util-9.4.15.v20190215.jar com.example.ApplicationKt\n2019-05-22 08:08:07.394 [main] TRACE Application - {\n    # application.conf @ file:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources/application.conf: 6\n    \"application\" : {\n        # application.conf @ file:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources/application.conf: 7\n        \"modules\" : [\n            # application.conf @ file:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources/application.conf: 7\n            \"com.example.ApplicationKt.module\"\n        ]\n    },\n    # application.conf @ file:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources/application.conf: 2\n    \"deployment\" : {\n        # application.conf @ file:/Users/NOTiFY/IdeaProjects/HelloKtorWorld/out/production/resources/application.conf: 3\n        \"port\" : 8080\n    },\n    # Content hidden\n    \"security\" : \"***\"\n}\n\n2019-05-22 08:08:07.885 [main] INFO  Application - No ktor.deployment.watch patterns specified, automatic reload is not active\nException in thread \"main\" java.lang.ClassNotFoundException: Module function cannot be found for the fully qualified name 'com.example.ApplicationKt.module'\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:367)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:33)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1$$special$$inlined$forEach$lambda$1.invoke(ApplicationEngineEnvironmentReloading.kt:287)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1$$special$$inlined$forEach$lambda$1.invoke(ApplicationEngineEnvironmentReloading.kt:33)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:320)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:33)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:286)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:33)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartup(ApplicationEngineEnvironmentReloading.kt:302)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.instantiateAndConfigureApplication(ApplicationEngineEnvironmentReloading.kt:284)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.createApplication(ApplicationEngineEnvironmentReloading.kt:137)\n    at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.start(ApplicationEngineEnvironmentReloading.kt:257)\n    at io.ktor.server.netty.NettyApplicationEngine.start(NettyApplicationEngine.kt:116)\n    at io.ktor.server.netty.NettyApplicationEngine.start(NettyApplicationEngine.kt:22)\n    at io.ktor.server.engine.ApplicationEngine$DefaultImpls.start$default(ApplicationEngine.kt:56)\n    at io.ktor.server.netty.EngineMain.main(EngineMain.kt:21)\n    at com.example.ApplicationKt.main(Application.kt:14)\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Any suggestions, besides look at your stack trace it's a:</p>\n\n<p><code>java.lang.ClassNotFoundException: Module function cannot be found for the fully qualified name 'com.example.ApplicationKt.module'</code> ? </p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-diffutils"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1558512283, "post_id": 56251204, "comment_id": 99121534, "body": "Can&#39;t you run the relevant code after you called <code>DiffUtil.calculateDiff</code>?"}, {"owner": {"reputation": 543, "user_id": 4890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QQZLw.jpg?s=128&g=1", "display_name": "Zurv&#230;", "link": "https://stackoverflow.com/users/4890624/zurv%c3%a6"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1558512583, "post_id": 56251204, "comment_id": 99121664, "body": "Unfortunately not, as I need the RecyclerView to have been completely updated by the notify methods. Although, I am thinking I could set a boolean if an insert occurred and then run the code after <code>dispatchUpdatesTo</code> since I believe it is synchronous."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1558512741, "post_id": 56251204, "comment_id": 99121741, "body": "I think it&#39;s synchronous too, on the other hand I think you could also intercept the end of an &quot;insert&quot; animation, would that be an acceptable solution?"}, {"owner": {"reputation": 543, "user_id": 4890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QQZLw.jpg?s=128&g=1", "display_name": "Zurv&#230;", "link": "https://stackoverflow.com/users/4890624/zurv%c3%a6"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1558512782, "post_id": 56251204, "comment_id": 99121762, "body": "That could potentially work. Will try both methods and see how they go."}], "owner": {"reputation": 543, "user_id": 4890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QQZLw.jpg?s=128&g=1", "display_name": "Zurv&#230;", "link": "https://stackoverflow.com/users/4890624/zurv%c3%a6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558509156, "creation_date": 1558509156, "question_id": 56251204, "link": "https://stackoverflow.com/questions/56251204/recyclerview-diffutil-dispatchupdateto-completed-notification", "title": "RecyclerView DiffUtil.dispatchUpdateTo Completed Notification", "body": "<p>I'm currently using the DiffUtil class to calculate and dispatch updates to my adapter using a <code>ListUpdateCallback</code> as follows:</p>\n\n<pre><code>   inner class NotificationCallback(private val onInsert: () -&gt; Unit) : ListUpdateCallback {\n\n            override fun onInserted(position: Int, count: Int) {\n                notifyItemRangeInserted(position, count)\n                Log.d(\"NotificationCallback\", \"onInserted position: $position count: $count\")\n                onInsert()\n            }\n\n            override fun onChanged(position: Int, count: Int, payload: Any?) {\n                notifyItemRangeChanged(position, count)\n                Log.d(\"NotificationCallback\", \"onChanged position: $position count: $count\")\n            }\n\n            override fun onMoved(fromPosition: Int, toPosition: Int) {\n                notifyItemMoved(fromPosition, toPosition)\n                Log.d(\"NotificationCallback\", \"onMoved from: $fromPosition to: $toPosition\")\n            }\n\n            override fun onRemoved(position: Int, count: Int) {\n                notifyItemRangeRemoved(position, count)\n                Log.d(\"NotificationCallback\", \"onRemoved position: $position count: $count\")\n            }\n        }\n</code></pre>\n\n<p>As you can see from this code, I am updating the adapter with the relevant methods, but I want run some code only when something is inserted. This does work, however, because other notification methods can (and are) called after the insert code, this causes some problems with the code I am running when something is inserted. I ideally need to know when all updates have been dispatched to the adapter so that I can then run the relevant code if required. Is there such a method or way to know this?</p>\n\n<p>The solution I have currently is to use <code>postDelayed</code> to execute this code, and hope the adapter updates have completed by the time it runs. Not pretty, or ideal!</p>\n"}, {"tags": ["android", "performance", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1, "user_id": 10646078, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WQsJbSgJ2Ek/AAAAAAAAAAI/AAAAAAAAABI/DqukuxcdVEY/photo.jpg?sz=128", "display_name": "Andrey Vashchenko", "link": "https://stackoverflow.com/users/10646078/andrey-vashchenko"}, "edited": false, "score": 0, "creation_date": 1558508168, "post_id": 56250914, "comment_id": 99119321, "body": "setHasFixedSize(true), setHasStableIDs(true) and setItemViewCacheSize(num) does not much help"}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1558508508, "post_id": 56250914, "comment_id": 99119484, "body": "The link to your animation doesn&#39;t work - can you embed it into your question?"}, {"owner": {"reputation": 1, "user_id": 10646078, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WQsJbSgJ2Ek/AAAAAAAAAAI/AAAAAAAAABI/DqukuxcdVEY/photo.jpg?sz=128", "display_name": "Andrey Vashchenko", "link": "https://stackoverflow.com/users/10646078/andrey-vashchenko"}, "reply_to_user": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1558511637, "post_id": 56250914, "comment_id": 99121178, "body": "Try that please: <a href=\"http://rgho.st.1.gsr.anonimizing.com/8Zg9m4z6f\" rel=\"nofollow noreferrer\">RGHost</a>"}], "owner": {"reputation": 1, "user_id": 10646078, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WQsJbSgJ2Ek/AAAAAAAAAAI/AAAAAAAAABI/DqukuxcdVEY/photo.jpg?sz=128", "display_name": "Andrey Vashchenko", "link": "https://stackoverflow.com/users/10646078/andrey-vashchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558507962, "creation_date": 1558507962, "question_id": 56250914, "link": "https://stackoverflow.com/questions/56250914/how-to-increase-recyclerview-performance", "title": "How to increase RecyclerView performance?", "body": "<p>When I use a \"heavy\" views in RecyclerView, it has lagged when I scrolling and shows strange artifacts like <a href=\"https://drive.google.com/file/d/1k1XBu44MSCKHqPYSc9e9eS8aN3W_YXK3/view?usp=sharing\" rel=\"nofollow noreferrer\">this</a> animation.\nWhen I use a \"light\" views in RecyclerView, it works correctly.\nThat happens on all devices event with powerful characteristics.\nTell me please, what am I doing wrong? I use RoomDB to save data, pagination logic in adapter. </p>\n\n<pre><code>const val VIEW_HOLDER = 12\nconst val PROGRESS = 13\n\nabstract class BasePaginationAdapter&lt;T: FMBase&gt;(private val callback: PaginationAdapterCallback&lt;T&gt;): RecyclerView.Adapter&lt;BasePaginationAdapter.BaseHolder&gt;() {\n    protected val items: ArrayList&lt;T&gt; = ArrayList()\n    protected var isPaginate = true\n    protected var pageCount = SYNC_MIN_PAGE_ITEMS\n\n    override fun getItemViewType(position: Int): Int {\n        if (position &gt;= items.size) {\n            return PROGRESS\n        }\n        return VIEW_HOLDER\n    }\n\n    override fun onCreateViewHolder(p0: ViewGroup, p1: Int): BaseHolder {\n        return if (p1 == PROGRESS) {\n            ProgressHolder(LayoutInflater.from(p0.context), p0)\n        } else {\n            getViewHolder(LayoutInflater.from(p0.context), p0, p1)\n        }\n    }\n\n    override fun getItemCount(): Int {\n        return if (isPaginate) {\n            items.size + 1\n        } else {\n            items.size\n        }\n    }\n\n    open fun addItems(data: Array&lt;T&gt;) {\n        if (isPaginate &amp;&amp; data.size &lt; pageCount) {\n            isPaginate = false\n        }\n        notifyItemRemoved(items.size)\n        if (data.isNotEmpty()) {\n            val pos = items.size\n            items.addAll(data)\n            if (pos &gt; 0) {\n                notifyItemRangeInserted(pos, data.size)\n            } else {\n                notifyDataSetChanged()\n            }\n        }\n    }\n\n    fun clear() {\n        items.clear()\n        isPaginate = true\n        notifyItemRangeRemoved(0, items.size)\n    }\n\n    override fun onBindViewHolder(holder: BaseHolder, position: Int) {\n        if (position == items.size - 1 &amp;&amp; isPaginate) {\n            callback.onPaginate(items.size, pageCount)\n        }\n    }\n\n    interface PaginationAdapterCallback&lt;T: FMBase&gt; {\n        fun onItemClick(item: T)\n        fun onPaginate(offset: Int, count: Int)\n    }\n\n    abstract fun getViewHolder(inflater: LayoutInflater, root: ViewGroup, viewType: Int): BaseHolder\n\n    abstract class BaseHolder(itemView: View): RecyclerView.ViewHolder(itemView)\n\n    class ProgressHolder(inflater: LayoutInflater, root: ViewGroup):\n        BaseHolder(inflater.inflate(R.layout.view_progressbar_bottom, root, false))\n}\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1558507467, "creation_date": 1558507467, "question_id": 56250790, "link": "https://stackoverflow.com/questions/56250790/mpchart-values-overriding-in-android", "title": "MPChart values overriding in Android", "body": "<p>I have a MPChart and I am setting the values like this</p>\n\n<pre><code>lineChart.legend.isEnabled = false\n        lineChart.description.isEnabled = false\n\n        val entryList = arrayListOf&lt;Entry&gt;()\n        val sortedList = stockGraphResponse?.prices?.sortedWith(compareBy {\n            it?.date\n        })\n\n        for (i in 0 until sortedList?.size!!) {\n            val item = Utils.replaceCommaInNumber(sortedList[i]?.price!!).toFloat()\n            entryList.add(Entry(sortedList[i]?.date?.toFloat()!!, item))\n\n        }\n\n        val lineDataSet = LineDataSet(entryList,\"\")\n        lineDataSet.setDrawCircles(false)\n        lineDataSet.setDrawFilled(true)\n\n        val lineData = LineData(lineDataSet)\n        lineChart.data = lineData\n        lineChart.setDrawBorders(true)\n\n\n        val xAxis = lineChart.xAxis\n        xAxis.position = XAxis.XAxisPosition.BOTTOM\n        xAxis.setValueFormatter(CustomFormatter())\n        xAxis.setLabelCount(5,true)\n\n        val yAxis = lineChart.axisLeft\n\n\n        val yRight = lineChart.axisRight\n        yRight.isEnabled = false\n\n        lineChart.isAutoScaleMinMaxEnabled = true\n        lineChart.invalidate()\n</code></pre>\n\n<p>And the result is this graph\n<a href=\"https://i.stack.imgur.com/UKfC2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UKfC2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am setting 5 for label count in xAxis and I am getting 5 labels but then the values are being plotted like that and so they are overlapping. I tried using granularity but still the same. How can I streamline this? Any help would be appreciated. Thanks</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 0, "creation_date": 1558757409, "post_id": 56250508, "comment_id": 99214902, "body": "This is a very specific question and generally isn&#39;t good for stackoverflow, since others probably won&#39;t get much help out of it. That being said the error states <i>parameter context</i> is null. Meaning, the <code>strategy</code> instance that you&#39;re passing in simply has a null value for it&#39;s <code>jobs</code> field."}, {"owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "reply_to_user": {"reputation": 13925, "user_id": 178433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f0a7931509fe208105cdeec791c7ed04?s=128&d=identicon&r=PG", "display_name": "gMale", "link": "https://stackoverflow.com/users/178433/gmale"}, "edited": false, "score": 0, "creation_date": 1558781320, "post_id": 56250508, "comment_id": 99219003, "body": "@gMale thanks for your input, but a basic working unit test for the above case will greatly help me and others who are new to coroutines unit testing."}, {"owner": {"reputation": 2558, "user_id": 1226095, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/9jYCt.jpg?s=128&g=1", "display_name": "jesses.co.tt", "link": "https://stackoverflow.com/users/1226095/jesses-co-tt"}, "edited": false, "score": 0, "creation_date": 1560813837, "post_id": 56250508, "comment_id": 99850781, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56603445/how-to-write-unit-tests-for-kotlin-coroutines\">How to write unit tests for kotlin coroutines</a>"}], "owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1558720335, "creation_date": 1558506230, "last_edit_date": 1558720335, "question_id": 56250508, "link": "https://stackoverflow.com/questions/56250508/illegalargumentexception-parameter-specified-as-non-null-is-null-method-kotlin", "title": "IllegalArgumentException: Parameter specified as non-null is null: method kotlinx.coroutines.BuildersKt__Builders_commonKt.launch, parameter context", "body": "<p>I am trying to unit test the below function which uses kotlin coroutines </p>\n\n<pre><code>fun authenticateWithUserAndPassword(usernameOrEmail: String, password: String) {\n        launchUI(strategy) {   //line 76\n            view.showLoading()\n            try {\n                val token = retryIO(\"login\") {\n                    when {\n                        settings.isLdapAuthenticationEnabled() -&gt;\n                            client.loginWithLdap(usernameOrEmail, password)\n                        usernameOrEmail.isEmail() -&gt;\n                            client.loginWithEmail(usernameOrEmail, password)\n                        else -&gt;\n                            client.login(usernameOrEmail, password)\n                    }\n                }\n                val myself = retryIO(\"me()\") { client.me() }\n                myself.username?.let { username -&gt;\n                    val user = User(\n                        id = myself.id,\n                        roles = myself.roles,\n                        status = myself.status,\n                        name = myself.name,\n                        emails = myself.emails?.map { Email(it.address ?: \"\", it.verified) },\n                        username = username,\n                        utcOffset = myself.utcOffset\n                    )\n                    localRepository.saveCurrentUser(currentServer, user)\n                    saveCurrentServer.save(currentServer)\n                    localRepository.save(LocalRepository.CURRENT_USERNAME_KEY, username)\n                    saveAccount(username)\n                    saveToken(token)\n                    analyticsManager.logLogin(\n                        AuthenticationEvent.AuthenticationWithUserAndPassword,\n                        true\n                    )\n                    view.saveSmartLockCredentials(usernameOrEmail, password)\n                    navigator.toChatList()\n                }\n            } catch (exception: RocketChatException) {\n                when (exception) {\n                    is RocketChatTwoFactorException -&gt; {\n                        navigator.toTwoFA(usernameOrEmail, password)\n                    }\n                    else -&gt; {\n                        analyticsManager.logLogin(\n                            AuthenticationEvent.AuthenticationWithUserAndPassword,\n                            false\n                        )\n                        exception.message?.let {\n                            view.showMessage(it)\n                        }.ifNull {\n                            view.showGenericErrorMessage()\n                        }\n                    }\n                }\n            } finally {\n                view.hideLoading()\n            }\n        }\n    }\n</code></pre>\n\n<p>here is the definition of launchUI</p>\n\n<pre><code>fun launchUI(strategy: CancelStrategy, block: suspend CoroutineScope.() -&gt; Unit): Job =\n    MainScope().launch(context = strategy.jobs, block = block)\n</code></pre>\n\n<p>here is the cancel Strategy class</p>\n\n<pre><code>class CancelStrategy(owner: LifecycleOwner, val jobs: Job) : LifecycleObserver {\n\n    init {\n        owner.lifecycle.addObserver(this)\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    fun onDestroy() {\n        jobs.cancel()\n    }\n}\n</code></pre>\n\n<p>I am new with unit testing with coroutines and have written a very basic test for the above function to gets some hand on coroutine testing</p>\n\n<pre><code>   @Test\n    fun authenticateUserSuccessfuly() = runBlocking {\n        loginPresenter.setupView()\n        loginPresenter.authenticateWithUserAndPassword(\"username\", \"password\")\n        verify(view).showLoading()\n        verify(saveCurrentServer).save(currentServer)\n    }\n</code></pre>\n\n<p>On running the test I am getting the following error If someone can suggest how to test the above function It will be a great help.</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlinx.coroutines.BuildersKt__Builders_commonKt.launch, parameter context\n\n    at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch(Builders.common.kt)\n    at kotlinx.coroutines.BuildersKt.launch(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)\n    at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)\n    at chat.rocket.android.util.extension.CoroutinesKt.launchUI(Coroutines.kt:15)\n    at chat.rocket.android.authentication.login.presentation.LoginPresenter.authenticateWithUserAndPassword(LoginPresenter.kt:76)\n    at chat.rocket.android.authentication.login.presentation.LoginPresenterTest$authenticateUserSuccessfuly$1.invokeSuspend(LoginPresenterTest.kt:101)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:233)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.kt:116)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:76)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:53)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:35)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at chat.rocket.android.authentication.login.presentation.LoginPresenterTest.authenticateUserSuccessfuly(LoginPresenterTest.kt:99)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1558506435, "post_id": 56250403, "comment_id": 99118511, "body": "<code>&#39;org.jetbrains.kotlinx:kotlinx-coroutines-android&#39;</code> Are you using this artifact? Basically it&#39;s specific to Android environment so that in case of crashed coroutine with unhandled exception, exception is logged before crashing Android application."}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1558506760, "post_id": 56250403, "comment_id": 99118654, "body": "Yup. I&#39;m using that one along with the latest version. 1.2.1 and 1.3.30 for Kotlin"}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1558506994, "post_id": 56250403, "comment_id": 99118772, "body": "Updated the question to show the stack trace"}], "answers": [{"comments": [{"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558507136, "post_id": 56250683, "comment_id": 99118836, "body": "I tried that too! But it&#39;s saving the exception. Next time it gets called, it just returns the same exception without executing the launch block again."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558507389, "post_id": 56250683, "comment_id": 99118950, "body": "May be because of your use case? You&#39;re throwing <code>CustomException</code> anyway before calling <b>repo call</b>. It might be the case that you&#39;re getting exception every time. What about that <code>checker()</code> method?"}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558507546, "post_id": 56250683, "comment_id": 99119025, "body": "Supposedly, the <code>CustomException</code> should be caught by the <code>try&#47;catch</code> block in the <code>ViewModel</code>. Or am I wrong? <code>checker()</code> is just some sort of validator I use. For example, if the input is null, I throw a <code>NoInputException</code> or something. What I&#39;m trying to achieve is to propagate the exception to the <code>Activity</code> and get the respective string from the string resources and show a dialog."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 1, "creation_date": 1558507819, "post_id": 56250683, "comment_id": 99119145, "body": "No, that&#39;s the thing !! <i>try/catch</i> block doesn&#39;t normally work in <b>coroutines</b> that way. That&#39;s why we need to pass context as <code>CoroutineExceptionHandler</code> to handle it works like <code>Thread.uncaughtExceptionHandler</code>."}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558507922, "post_id": 56250683, "comment_id": 99119196, "body": "Yeah that&#39;s the thing. The <code>CoroutineExceptionHandler</code> caught it however, once an exception is caught, that&#39;s the result everytime. Is there a way that it won&#39;t do that?"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558508111, "post_id": 56250683, "comment_id": 99119297, "body": "Never tried of it, so can&#39;t be sure about that. Will try and let you know soon."}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558509470, "post_id": 56250683, "comment_id": 99119939, "body": "It works when I use <code>GlobalScope</code> but fails if I use the <code>ViewModel</code>&#39;s scope using <code>uiScope</code>. Docs says that <code>if there is a Job in the context, then Job.cancel is invoked;</code> I guess this is why?"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 1, "creation_date": 1558510003, "post_id": 56250683, "comment_id": 99120263, "body": "Trying this would help I guess : <code>CoroutineScope(Dispatchers.Main + viewModelJob)</code> for your uiScope."}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 0, "creation_date": 1558510106, "post_id": 56250683, "comment_id": 99120325, "body": "Thanks! That made me go near the problem. I&#39;ve updated the <code>ViewModel</code> code above. I was using <code>Job</code> rather than <code>SupervisorJob</code>. Changed it and it&#39;s now fixed!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1558527494, "post_id": 56250683, "comment_id": 99129813, "body": "Just for reference, <code>try-catch</code> around a <code>suspend fun</code> <i>is</i> supposed to work the natural way and will catch any exceptions from the called code, and this will still work even after the coroutine was suspended and resumed. OP&#39;s failure most likely comes from improper usage of  <code>async-await</code>. If the <code>async</code> task throws an exception, this cancels the <code>async</code> coroutine, propagating the cancellation to the parent coroutine. <code>SupervisorJob</code> ignores the cancellation, but that&#39;s a workaround and not a solution."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1558528809, "post_id": 56250683, "comment_id": 99130518, "body": "Okay @MarkoTopolnik , so root cause is that <code>SupervisorJob</code> handles <i>try/catch</i> itself without reporting to end point from where it gets called."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1558529590, "post_id": 56250683, "comment_id": 99131005, "body": "No, there are two distinct mechanisms at play. One is cancellation and detecting it, and the other is exception handling. The <code>Job</code> instance is associated with a coroutine (it&#39;s in its context), but isn&#39;t directly involved in its execution. There must be explicit code that catches exceptions at the coroutine&#39;s top level and calls <code>coroutineContext.job.cancel()</code> (this code is internal to <code>async</code>). The default implementation of <code>Job.cancel()</code> in turn calls <code>parentJob.childCancelled()</code> and that&#39;s how cancellation reaches the parent <code>SupervisorJob</code>, whose <code>childCancelled()</code> is a no-op."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1558529594, "post_id": 56250683, "comment_id": 99131007, "body": "Now, any correctly written code will not let an unhandled exception escape the coroutine. However, users typically misuse <code>async-await</code> instead of <code>withContext</code>, unknowingly creating a sub-coroutine without exception handling, and assuming that a <code>try-catch</code> around <code>deferred.await()</code> is how they handle exceptions inside the <code>async</code> block. But that just handles the exception with which the <code>deferred</code> was completed. The <code>async</code> coroutine has already been cancelled by that time."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 4, "last_activity_date": 1558510649, "last_edit_date": 1558510649, "creation_date": 1558507023, "answer_id": 56250683, "question_id": 56250403, "link": "https://stackoverflow.com/questions/56250403/exception-not-being-caught-in-coroutines/56250683#56250683", "title": "Exception not being caught in Coroutines", "body": "<p>Trying with <code>CoroutineExceptionHandler</code> can be workaround for <strong>handling exceptions</strong> inside coroutines.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#coroutineexceptionhandler\" rel=\"nofollow noreferrer\">CoroutineExceptionHandler</a> <strong>context</strong> element is used as generic catch block of coroutine where <em>custom logging or exception</em> handling may take place. It is similar to using <code>Thread.uncaughtExceptionHandler</code>.</p>\n\n<p>How to use it?</p>\n\n<pre><code>val handler = CoroutineExceptionHandler { _, exception -&gt; \n    println(\"Caught $exception\") \n}\nval job = GlobalScope.launch(handler) {\n    throw AssertionError()\n}\nval deferred = GlobalScope.async(handler) {\n    throw ArithmeticException() // Nothing will be printed, relying on user to call \n    deferred.await()\n}\njoinAll(job, deferred)\n</code></pre>\n\n<p>In your <code>ViewModel</code>, make sure that your <code>uiScope</code> is using <code>SupervisorJob</code> rather than <code>Job</code>. <code>SupervisorJob</code>'s can handle its children's failure individually. <code>Job</code> would get cancelled unlike <code>SupervisorJob</code></p>\n\n<p>If you're using <code>2.1.0</code> for AAC Lifecycle and ViewModel, use the <code>viewModelScope</code> extension instead.</p>\n"}, {"comments": [{"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 1, "creation_date": 1558509995, "post_id": 56251362, "comment_id": 99120250, "body": "I&#39;m using the <code>2.5.1-SNAPSHOT version</code>. First-class support for <code>suspend</code> was added. See <a href=\"https://github.com/square/retrofit/pull/2886\" rel=\"nofollow noreferrer\">github.com/square/retrofit/pull/2886</a>"}, {"owner": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1576662460, "post_id": 56251362, "comment_id": 104968970, "body": "IS there any way to handle the exceptions like timeout, socket exception etc."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1576662956, "post_id": 56251362, "comment_id": 104969207, "body": "Yes, the confirmed answer covers that"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1558509729, "creation_date": 1558509729, "answer_id": 56251362, "question_id": 56250403, "link": "https://stackoverflow.com/questions/56250403/exception-not-being-caught-in-coroutines/56251362#56251362", "title": "Exception not being caught in Coroutines", "body": "<p>As far as I know Retrofit hasn't still created the way to mark the methods with the <code>suspend</code> keyword. You can refer it to this <a href=\"https://zsmb.co/retrofit-meets-coroutines/\" rel=\"nofollow noreferrer\">link</a>. \nSo the correct way of your <code>MyInterface</code> would be: </p>\n\n<pre><code>interface MyInterface {\n    @POST\n    fun doSomething(): Deferred&lt;Response&lt;YourDataType&gt;&gt;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 217, "user_id": 6508054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2ffff1ab4bab0fab523104789ec8849?s=128&d=identicon&r=PG&f=1", "display_name": "Burhan Shakir", "link": "https://stackoverflow.com/users/6508054/burhan-shakir"}, "is_accepted": false, "score": 0, "last_activity_date": 1585767606, "creation_date": 1585767606, "answer_id": 60978403, "question_id": 56250403, "link": "https://stackoverflow.com/questions/56250403/exception-not-being-caught-in-coroutines/60978403#60978403", "title": "Exception not being caught in Coroutines", "body": "<p>Another way to resolve this would be to covert your custom error object to implement <code>CancellationException</code></p>\n\n<p>For eg: </p>\n\n<p>Your <code>CustomException</code> can be implemented as : </p>\n\n<pre><code>sealed class CustomError : CancellationException() {\n        data class CustomException(override val message: String = \"Checker Failed due to: ...\") : CustomError\n}\n</code></pre>\n\n<p>This exception would get caught in the try/catch block of the view model</p>\n"}], "owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 1, "accepted_answer_id": 56250683, "answer_count": 3, "score": 7, "last_activity_date": 1585767606, "creation_date": 1558505795, "last_edit_date": 1558509592, "question_id": 56250403, "link": "https://stackoverflow.com/questions/56250403/exception-not-being-caught-in-coroutines", "title": "Exception not being caught in Coroutines", "body": "<p>I can't seem to get my error-handling done in coroutines. I've been reading lots of articles and the <a href=\"https://kotlinlang.org/docs/reference/coroutines/exception-handling.html#exception-propagation\" rel=\"noreferrer\">exception handling documentation</a> but I can't seem to get it working.</p>\n\n<p>Here's my setup:</p>\n\n<p>My <code>ViewModel</code> launches the coroutine with it's scope</p>\n\n<pre><code>class MyViewModel(private var myUseCase: MyUseCase) : ViewModel() {\n    private val viewModelJob = Job()\n    private val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n\n    fun doSomething() {\n        uiScope.launch {\n            try {\n                myUseCase()\n            } catch (exception: Exception) {\n                // Do error handling here\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>UseCase</code> just handles a few logic and in this case a validator of some sort</p>\n\n<pre><code>class MyUseCase(private val myRepository: MyRepository) {\n    suspend operator fun invoke() {\n        if (checker()) {\n            throw CustomException(\"Checker Failed due to: ...\")\n        }\n\n        myRepository.doSomething()\n    }\n}\n</code></pre>\n\n<p>Then my <code>Repository</code> just handles the network layer / local layer</p>\n\n<pre><code>object MyRepository {\n    private val api = ... // Retrofit\n\n    suspend fun doSomething() = api.doSomething()\n}\n</code></pre>\n\n<p>And here's my Retrofit interface</p>\n\n<pre><code>interface MyInterface {\n    @POST\n    suspend fun doSomething()\n}\n</code></pre>\n\n<p>The try/catch from the <code>ViewModel</code> can handle the error from the Retrofit call however, it can't catch the error from the <code>CustomException</code> thrown by the <code>UseCase</code>. From articles I've been reading, this should work. If I use <code>async</code> I can do <code>await</code> and consume the error but I don't have to use <code>async</code> in this case and I've been wrapping my head around this. I might be getting lost.</p>\n\n<p>Any help would be greatly appreciated! Thanks in advance!</p>\n\n<p>Edit:</p>\n\n<p>Here's the error log I'm getting:</p>\n\n<pre><code>com.example.myapp.domain.errors.CustomException\n        at com.example.myapp.domain.FeatureOne$invoke$2.invokeSuspend(FeatureOne.kt:34)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:238)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\n</code></pre>\n\n<p>The error directly points to the explicit <code>throw</code> statement.</p>\n"}, {"tags": ["kotlin", "lazy-initialization"], "answers": [{"comments": [{"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1558930792, "post_id": 56294181, "comment_id": 99247676, "body": "Interesting ... but wouldn&#39;t that problem happen at construction time when <code>data</code> is initialised? Here the exception happens at run time when <code>hash</code> is requested."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1558942133, "post_id": 56294181, "comment_id": 99251225, "body": "Really?  Interesting.  I just tried your original code and am getting the exception as soon as <code>FooImageData</code> is used, on this line in my test code: <code>val x = FooImageData</code> (i.e. before I call <code>hash</code>). Can you share full code that shows it erroring only when <code>hash</code> is called?"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 1, "creation_date": 1558942316, "post_id": 56294181, "comment_id": 99251310, "body": "In fact, I think the stack trace of your error shows that it&#39;s happening during construction for you too: <code>at ....FooImageData.&lt;init&gt;(FooImageData.kt:3)</code> (notice the <code>init</code> function here, i.e. during the initialisation of <code>FooImageData</code>)."}, {"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "edited": false, "score": 0, "creation_date": 1558953518, "post_id": 56294181, "comment_id": 99256453, "body": "Oh I see - it&#39;s creating the object last-minute."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1558707749, "last_edit_date": 1558707749, "creation_date": 1558706307, "answer_id": 56294181, "question_id": 56250233, "link": "https://stackoverflow.com/questions/56250233/exceptionininitializererror-parameter-specified-as-non-null-is-null-with-abstr/56294181#56294181", "title": "ExceptionInInitializerError &quot;Parameter specified as non-null is null&quot; with abstract class", "body": "<p>I think the key difference is <code>get()</code> on the <code>data</code> property, in conjunction with the fact that <code>master</code> is abstract. When this base class is constructed (which is <em>before</em> the subclass is created, since the subclass's constructor has to call the superclass's constructor before anything else), the base class initialises all its members. Your original code had this line:</p>\n\n<pre><code>val data: Iterable&lt;HexString&gt; = master.map { s -&gt; hex(s) }\n</code></pre>\n\n<p>This gets the value of master which, at this point, is null, as the concrete subclass hasn't been created yet so can't yet override the property.</p>\n\n<p>In your updated snippet, you have this:</p>\n\n<pre><code>val data: Iterable&lt;HexString&gt; get() = master.map { s -&gt; hex(s) }\n</code></pre>\n\n<p>The <code>data</code> property now doesn't need to be initialized (using the value of <code>master</code>) during initialisation of the abstract base class. Instead, when the <code>data</code> property is called at runtime, the <code>get</code> function will be executed. By that time the concrete subclass has been constructed and can provide a proper value for <code>master</code>.</p>\n\n<p>There's more detail on this in the <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">documentation</a>, where it says:</p>\n\n<blockquote>\n  <p>When designing a base class, you should therefore avoid using open\n  members in the constructors, property initializers, and init blocks.</p>\n</blockquote>\n\n<p>(The <code>master</code> property is <code>abstract</code>, which means it's <code>open</code>.)</p>\n"}], "owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "accepted_answer_id": 56294181, "answer_count": 1, "score": 0, "last_activity_date": 1558930908, "creation_date": 1558504885, "last_edit_date": 1558930908, "question_id": 56250233, "link": "https://stackoverflow.com/questions/56250233/exceptionininitializererror-parameter-specified-as-non-null-is-null-with-abstr", "title": "ExceptionInInitializerError &quot;Parameter specified as non-null is null&quot; with abstract class", "body": "<p>I need to calculate the <code>hash</code> of hard-coded images.</p>\n\n<pre><code>abstract class ImageData {\n    protected abstract val master: List&lt;String&gt;\n    val data: Iterable&lt;HexString&gt; = master.map { s -&gt; hex(s) }\n    val hash: Int by lazy {\n        master.fold(0) { hash, s -&gt;\n            31 * hash + s.hashCode()\n        }\n    }\n}\n</code></pre>\n\n<p>Example image.</p>\n\n<pre><code>object FooImageData : ImageData() {\n    override val master = listOf(\n        \"424d3684030000000000...\"\n        // ...\n    )\n}\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.lang.ExceptionInInitializerError\n    at ....updateGraphics(Graphics.kt:162)\n...\n Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter $this$collectionSizeOrDefault\n    at kotlin.collections.CollectionsKt__IterablesKt.collectionSizeOrDefault(Iterables.kt)\n    at ....ImageData.&lt;init&gt;(ImageData.kt:17)\n    at ....FooImageData.&lt;init&gt;(FooImageData.kt:3)\n    at ....FooImageData.&lt;clinit&gt;(FooImageData.kt:3)\n    at ....updateGraphics(Graphics.kt:162)\n</code></pre>\n\n<p>at <code>....updateGraphics(Graphics.kt:162)</code> is:</p>\n\n<pre><code>private suspend fun updateGraphics(...) {\n    val hash = (FooImageData.hash * 31 + BarImageData.hash)\n</code></pre>\n\n<p>Removing the <code>lazy</code> does not remove the problem.</p>\n\n<p>All research suggests the ordering of the parameters can be an issue but that seems to be not the case here - or is it?</p>\n\n<p>Using:</p>\n\n<pre><code>abstract class ImageData {\n    abstract val master: List&lt;String&gt;\n    // Yes I know the `get()` is unnecessary but for some weird reason that causes `hash` to crash.\n    val data: Iterable&lt;HexString&gt; get() = master.map { s -&gt; hex(s) }\n    val hash: Int by lazy {\n        master.fold(0) { hash, s -&gt;\n            31 * hash + s.hashCode()\n        }\n    }\n}\n</code></pre>\n\n<p>seems to solve the problem - no idea why.</p>\n\n<p>Kotlin version <code>Latest stable (1.3)</code></p>\n\n<p>Target JVM version: <code>1.6</code></p>\n"}, {"tags": ["android", "kotlin", "locale"], "comments": [{"owner": {"reputation": 725, "user_id": 10706099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rR0Un.jpg?s=128&g=1", "display_name": "Mayur", "link": "https://stackoverflow.com/users/10706099/mayur"}, "edited": false, "score": 1, "creation_date": 1558502610, "post_id": 56249754, "comment_id": 99117089, "body": "First of all you are get your device language using this code Locale.getDefault().getDisplayLanguage();"}, {"owner": {"reputation": 725, "user_id": 10706099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rR0Un.jpg?s=128&g=1", "display_name": "Mayur", "link": "https://stackoverflow.com/users/10706099/mayur"}, "edited": false, "score": 1, "creation_date": 1558502767, "post_id": 56249754, "comment_id": 99117130, "body": "Try this link for change language. <a href=\"https://stackoverflow.com/questions/56057127/language-not-changing-in-app-android-studio/56057774#56057774\" title=\"language not changing in app android studio\">stackoverflow.com/questions/56057127/&hellip;</a>"}, {"owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "reply_to_user": {"reputation": 725, "user_id": 10706099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rR0Un.jpg?s=128&g=1", "display_name": "Mayur", "link": "https://stackoverflow.com/users/10706099/mayur"}, "edited": false, "score": 0, "creation_date": 1558525606, "post_id": 56249754, "comment_id": 99128834, "body": "I try this link but it didn&#39;t work for me. Maybe I can&#39;t I don&#39;t know"}], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 0, "creation_date": 1558536440, "post_id": 56251029, "comment_id": 99135590, "body": "Thank you. This answer is work. But how can I add my locale with programatically. If I add <code>private val dLocale: Locale? = Locale(&quot;tr&quot;)</code> this work. But how can I add multiple language."}, {"owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 0, "creation_date": 1558537823, "post_id": 56251029, "comment_id": 99136515, "body": "If I use this  <code>var change = &quot;&quot;         val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(wrapper)         val language = sharedPreferences.getString(&quot;language&quot;, &quot;bak&quot;)         if (language == &quot;Turkish&quot;) {             change=&quot;tr&quot;         } else{ }         val dLocale: Locale? = Locale(change)</code>  get null point exception error because of <code>PreferenceManager.getDefaultSharedPreferences(wrapper)</code>"}, {"owner": {"reputation": 381, "user_id": 10284292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770a2d7c62ca878ff5d4caea4d18553d?s=128&d=identicon&r=PG&f=1", "display_name": "ahsanali274", "link": "https://stackoverflow.com/users/10284292/ahsanali274"}, "reply_to_user": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 1, "creation_date": 1558594162, "post_id": 56251029, "comment_id": 99153998, "body": "I have updated my answer. Let me know if you still have any problem."}, {"owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 0, "creation_date": 1558615665, "post_id": 56251029, "comment_id": 99165573, "body": "Thank you very much. Your answer really helpfull and work. I edit your code in class App <code>...if (language==&quot;Turkish&quot;) {change=&quot;tr&quot;} else if(language==&quot;English&quot;) {change=&quot;en&quot;} else{ change =  &quot;&quot; }... </code>  and in class BaseActivity  <code>...if(dLocale==Locale(&quot;&quot;))...</code> . dLocale cannot be null because of I define it in App class"}, {"owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 0, "creation_date": 1558615983, "post_id": 56251029, "comment_id": 99165754, "body": "May I ask a further Question. I have two more problem now. When I change the language, activity label doesn&#39;t change which I define at manifest file as <code>android:label=&quot;@string&#47;settings&quot;</code>. And second problem : When I change language I must restart my application. If I don&#39;t restart, language doesn&#39;t change. How I solve this problems."}, {"owner": {"reputation": 381, "user_id": 10284292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770a2d7c62ca878ff5d4caea4d18553d?s=128&d=identicon&r=PG&f=1", "display_name": "ahsanali274", "link": "https://stackoverflow.com/users/10284292/ahsanali274"}, "reply_to_user": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "edited": false, "score": 1, "creation_date": 1558623745, "post_id": 56251029, "comment_id": 99170434, "body": "You can use <code>setTitle(getString(R.string.settings))</code> in <code>onCreate</code> of activity to update label. As for your second question, you can set <code>dLocale</code> from anywhere you want but you will need to restart you current activity and all other activities in <b>back stack</b> to update their language. So the better choice would be to restart you App for consistency."}], "tags": [], "owner": {"reputation": 381, "user_id": 10284292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770a2d7c62ca878ff5d4caea4d18553d?s=128&d=identicon&r=PG&f=1", "display_name": "ahsanali274", "link": "https://stackoverflow.com/users/10284292/ahsanali274"}, "is_accepted": true, "score": 5, "last_activity_date": 1558630250, "last_edit_date": 1558630250, "creation_date": 1558508451, "answer_id": 56251029, "question_id": 56249754, "link": "https://stackoverflow.com/questions/56249754/how-to-change-language-in-kotlin-locale/56251029#56251029", "title": "How to change language in kotlin (locale)", "body": "<p>You need to update configuration even before onCreate is called. To do that \ncreate a BaseActivity class like this</p>\n\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\n    companion object {\n        public var dLocale: Locale? = null\n    }\n\n    init {\n        updateConfig(this)\n    }\n\n    fun updateConfig(wrapper: ContextThemeWrapper) {\n        if(dLocale==Locale(\"\") ) // Do nothing if dLocale is null\n            return\n\n        Locale.setDefault(dLocale)\n        val configuration = Configuration()\n        configuration.setLocale(dLocale)\n        wrapper.applyOverrideConfiguration(configuration)\n    }\n}\n</code></pre>\n\n<p>Extend you activities from this class.</p>\n\n<p>Set dLocale in you App class like this:</p>\n\n<pre><code>class App : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n\n        var change = \"\"\n        val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\n        val language = sharedPreferences.getString(\"language\", \"bak\")\n        if (language == \"Turkish\") {\n            change=\"tr\" \n        } else if (language==\"English\" ) {\n            change = \"en\"\n        }else {\n            change =\"\" \n        } \n\n        BaseActivity.dLocale = Locale(change) //set any locale you want here\n    }\n}\n</code></pre>\n\n<p>You will also need to set App class in your manifest file like this:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    //..\n\n    &lt;application\n        android:name=\".App\"\n        //..&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;    \n</code></pre>\n\n<p>Note: We should set dLocale only in <code>App</code> <code>onCreate</code>  to ensure that all activities have same language.</p>\n"}], "owner": {"reputation": 136, "user_id": 11325497, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7tsf_ZzUKbo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-sW6_vBc3vIxn_kxEoeekRmCgSw/mo/photo.jpg?sz=128", "display_name": "Hacettepe Hesab\u0131", "link": "https://stackoverflow.com/users/11325497/hacettepe-hesab%c4%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6342, "favorite_count": 0, "accepted_answer_id": 56251029, "answer_count": 1, "score": 4, "last_activity_date": 1558630250, "creation_date": 1558502370, "last_edit_date": 1558502913, "question_id": 56249754, "link": "https://stackoverflow.com/questions/56249754/how-to-change-language-in-kotlin-locale", "title": "How to change language in kotlin (locale)", "body": "<p>I have 2 string files \"en\" and \"tr\". When I change my telephone's language string files change automatically(I didn't write extra code for this result and I don't know how this happen). I want change string files with programmatically. \nI used this code. I get Toast message but language doesn't change.WHY? I used these code before for another application which I write with java not Kotlin and these code work fine. Please don't say duplicate because I read a lot of questions. I try a lot of things until now 4 hours.</p>\n\n<pre><code>override fun onResume() {\n\n        buttonDate()\n        changeLanguage()\n    super.onResume()\n    }\nfun changeLanguage(){\n        val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(applicationContext)\n        val language = sharedPreferences.getString(\"language\",\"bak\")\n        Toast.makeText(applicationContext,language,Toast.LENGTH_SHORT).show()\n        if(language==\"English\"){\n            Toast.makeText(applicationContext,\"English\",Toast.LENGTH_SHORT).show()\n            language(\"\")\n        }else if(language==\"Turkish\"){\n            Toast.makeText(applicationContext,\"Turkish\",Toast.LENGTH_SHORT).show()\n            language(\"tr\")\n        }\n    }\n\n\n    fun language(language: String){\n        val locale = Locale(language)\n        Locale.setDefault(locale)\n        val resources = getResources()\n        val configuration = resources.getConfiguration()\n        configuration.locale = locale\n        resources.updateConfiguration(configuration, resources.getDisplayMetrics())\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1558501854, "post_id": 56249604, "comment_id": 99116864, "body": "What is the &quot;incorrect result&quot;, and what would be the expected result?"}, {"owner": {"reputation": 21, "user_id": 11537248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22971c685008b5a380677b1bcec80530?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhit Gupta", "link": "https://stackoverflow.com/users/11537248/shobhit-gupta"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1558502098, "post_id": 56249604, "comment_id": 99116933, "body": "Language not change for complete Android Material DatePickerDialog."}, {"owner": {"reputation": 21, "user_id": 11537248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22971c685008b5a380677b1bcec80530?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhit Gupta", "link": "https://stackoverflow.com/users/11537248/shobhit-gupta"}, "reply_to_user": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 0, "creation_date": 1558502207, "post_id": 56249604, "comment_id": 99116960, "body": "Expected result: Complete Date picker should be change behalf of App Locale"}], "answers": [{"comments": [{"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1592999557, "post_id": 56249731, "comment_id": 110624719, "body": "That <code>AppLocaleDatePickerDialog.java</code> was created 8 years ago. Does the problem really persists till today?"}], "tags": [], "owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "is_accepted": false, "score": 0, "last_activity_date": 1558502256, "creation_date": 1558502256, "answer_id": 56249731, "question_id": 56249604, "link": "https://stackoverflow.com/questions/56249604/multilingual-not-working-for-date-picker-android/56249731#56249731", "title": "Multilingual Not working For Date Picker Android", "body": "<p>According to the <a href=\"http://code.google.com/p/android/issues/detail?id=25107\" rel=\"nofollow noreferrer\">http://code.google.com/p/android/issues/detail?id=25107</a> bug report on Android framework, the date picker is not using the String array of the shortened month of the Context of the app. Instead, it uses the System Locale.</p>\n\n<p>You can use <a href=\"https://gist.github.com/gilbertwat/4631571\" rel=\"nofollow noreferrer\">AppLocaleDatePickerDialog.java</a> written by Gilbertwat.</p>\n"}], "owner": {"reputation": 21, "user_id": 11537248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22971c685008b5a380677b1bcec80530?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhit Gupta", "link": "https://stackoverflow.com/users/11537248/shobhit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558507215, "creation_date": 1558501367, "last_edit_date": 1558507215, "question_id": 56249604, "link": "https://stackoverflow.com/questions/56249604/multilingual-not-working-for-date-picker-android", "title": "Multilingual Not working For Date Picker Android", "body": "<p>We have some issue with Date picker when change the locale of Android App. any one can help me out.</p>\n\n<p>When we change the language of Device Francia(Canada) then app is working fine with this code</p>\n\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        Locale.setDefault(resources.configuration.locales.get(0))\n    }else{\n        Locale.setDefault(resources.configuration.locale)\n    }\n</code></pre>\n\n<p>but if we change the locale of app without change the device language from setting the getting incorrect result.</p>\n\n<pre><code>var locale=Locale(SharedPreferencesManager.getStringPreference(Constants.LOCALE, \"\"))\n    Locale.setDefault(locale)\n    val resources = resources\n    val configuration = resources.configuration\n    val displayMetrics = resources.displayMetrics\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        configuration.setLocale(locale)\n        createConfigurationContext(configuration)\n    } else {\n        configuration.locale=locale\n        resources.updateConfiguration(configuration, displayMetrics)\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NVkOn.jpg\" rel=\"nofollow noreferrer\">Correct View</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nCvMo.jpg\" rel=\"nofollow noreferrer\">Incorrect View(Cancel and OK button not change as per app locale )</a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4578, "user_id": 6207294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHNFn.jpg?s=128&g=1", "display_name": "shb", "link": "https://stackoverflow.com/users/6207294/shb"}, "is_accepted": false, "score": 5, "last_activity_date": 1558501423, "last_edit_date": 1558501423, "creation_date": 1558501103, "answer_id": 56249576, "question_id": 56248633, "link": "https://stackoverflow.com/questions/56248633/how-to-pass-data-to-bottomsheetdialogfragment/56249576#56249576", "title": "How to pass data to BottomSheetDialogFragment", "body": "<p>use <code>Bundle</code></p>\n\n<pre><code>    val bottomSheetFragment = BottomSheetFragment()\n    val bundle = Bundle()\n    bundle.putString(\"key\", data)\n    bottomSheetFragment.arguments = bundle\n</code></pre>\n\n<p>on <code>ViewHolder</code> Class</p>\n\n<pre><code> inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val textView = itemView.textView!!\n\n    init {\n        itemView.setOnClickListener {\n            showBottomSheet(itemView.context, list.get(layoutPosition))\n        }\n    }\n\n    private fun showBottomSheet(context: Context, data: String) {\n\n        val bottomSheetFragment = BottomSheetFragment()\n        val bundle = Bundle()\n        bundle.putString(\"key\", data)\n        bottomSheetFragment.arguments = bundle\n\n        bottomSheetFragment.show(\n            (context as AppCompatActivity).supportFragmentManager,\n            \"bottomSheetFragment\"\n        )\n    }\n\n}\n</code></pre>\n\n<p>inside <code>onCreateView</code> of your <code>BottomSheetFragment</code></p>\n\n<pre><code>arguments?.getString(\"key\")\n</code></pre>\n\n<p><code>BottomSheetFragment</code> class</p>\n\n<pre><code>class BottomSheetFragment : BottomSheetDialogFragment() {\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_bottomsheetfragment_list_dialog, container, false)\n    val data =  arguments?.getString(\"key\")\n//  Log.d(\"===\",data+\"\")\n    return view\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11536930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9RnWkr8Vsiw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcN0CdDS6aV7ev2LwyVlF5OODQwGQ/mo/photo.jpg?sz=128", "display_name": "Techchai Mobile", "link": "https://stackoverflow.com/users/11536930/techchai-mobile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4006, "favorite_count": 0, "closed_date": 1558504006, "answer_count": 1, "score": 1, "last_activity_date": 1558501423, "creation_date": 1558493269, "last_edit_date": 1558499613, "question_id": 56248633, "link": "https://stackoverflow.com/questions/56248633/how-to-pass-data-to-bottomsheetdialogfragment", "closed_reason": "Duplicate", "title": "How to pass data to BottomSheetDialogFragment", "body": "<p>I am showing data in <code>RecyclerView</code>. When i click on list item launching <code>BottomSheetDialogFragment</code>.</p>\n\n<p>How to pass list item data to BottomSheetDialogFragment in kotlin</p>\n\n<pre><code> BottomSheetFragment().show(context!!.supportFragmentManager, \"BottomSheetFragment\")\n\nclass BottomSheetFragment() : BottomSheetDialogFragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        var view = inflater.inflate(R.layout.coin_detail_lauout, container, false)\n        return view\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "enums"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 11144990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsQmH.jpg?s=128&g=1", "display_name": "Tae Soo Kim", "link": "https://stackoverflow.com/users/11144990/tae-soo-kim"}, "edited": false, "score": 0, "creation_date": 1558552597, "post_id": 56248762, "comment_id": 99143466, "body": "Still, this didn&#39;t solve the question of putting the view in the enum. Since enums are static, how about if I made nested classes? Would those be disposed by the garbage collector if I held a view inside the nested class?"}, {"owner": {"reputation": 300, "user_id": 11144990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsQmH.jpg?s=128&g=1", "display_name": "Tae Soo Kim", "link": "https://stackoverflow.com/users/11144990/tae-soo-kim"}, "edited": false, "score": 0, "creation_date": 1558555230, "post_id": 56248762, "comment_id": 99144643, "body": "Or just another class outside of the activity"}], "tags": [], "owner": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "is_accepted": false, "score": 2, "last_activity_date": 1558503080, "last_edit_date": 1558503080, "creation_date": 1558494489, "answer_id": 56248762, "question_id": 56248623, "link": "https://stackoverflow.com/questions/56248623/declare-an-enum-with-android-context-class-in-static-field-warning/56248762#56248762", "title": "Declare an enum with Android context class in static field warning", "body": "<p>You shouldn't be passing views to enums fields which are static by default.  Views are bound to the lifecycle of Activities and static fields last the lifetime of the entire application process. So assigning a view to an enum field prevents the related Activity from being garbage collected when that Activity is no longer in use.  That's the meaning of the warning.</p>\n\n<p>If you just want an easy way to access your views, then just wrap them with a view binder.   This will generate a binding class based on your XML layout.</p>\n\n<p><a href=\"https://codelabs.developers.google.com/codelabs/android-databinding/#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-databinding/#0</a></p>\n\n<p>With the above you can easily access your views from the automatically generated binding class such as the example in the code lab. </p>\n\n<pre><code>val binding : PlainActivityBinding =\nDataBindingUtil.setContentView(this, R.layout.plain_activity)\n\nbinding.name = \"Your name\"\nbinding.lastName = \"Your last name\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 11144990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsQmH.jpg?s=128&g=1", "display_name": "Tae Soo Kim", "link": "https://stackoverflow.com/users/11144990/tae-soo-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1559753209, "last_edit_date": 1559753209, "creation_date": 1558566114, "answer_id": 56266043, "question_id": 56248623, "link": "https://stackoverflow.com/questions/56248623/declare-an-enum-with-android-context-class-in-static-field-warning/56266043#56266043", "title": "Declare an enum with Android context class in static field warning", "body": "<p>Edit: Still, that would cause a memory leak when your fragment gets recreated.\n20 setonclicklisteners? count me in\nI did find one other method with resources, though.</p>\n\n<p>Edit: This data should be held in the fragment, since it requires reference to a view. Therefore, the view data shouldn't be held in another class or \"enum\".\nHowever, the other class is still a good option for holding static variables that wouldn't change (like a reference from integer to string).\nWhen the view gets recreated, it would require you to convert any changes that were made.. complicating your code even further. doing so seems impractical for the few lines you've \"saved\". <s>One alternative is not editing the previous data, and just not using the previous views that were encapsulated, still enabling you to save the few lines for setting on click listeners.</s></p>\n\n<p>I have resorted to the following solution:</p>\n\n<p>Create a seperate Days class with a nested Day class, which looks like the following:</p>\n\n<pre><code>class Days {\n    val mon: Day = Day(2, null)\n    val tue: Day = Day(3, null)\n    val wed: Day = Day(4, null)\n    val thurs: Day = Day(5, null)\n    val fri: Day = Day(6, null)\n    val sat: Day = Day(7, null)\n    val sun: Day = Day(1, null)\n\n    data class Day(val num:Int, var editText: EditText?)\n}\n</code></pre>\n\n<p>Then, in my activity, I instantiate it:</p>\n\n<pre><code>private val days: Days = Days()\n</code></pre>\n\n<p>Then reference it like so:</p>\n\n<pre><code>days.mon.editText = mon\ndays.tue.editText = tue\ndays.wed.editText = wed\ndays.thurs.editText = thurs\ndays.fri.editText = fri\ndays.sat.editText = sat\ndays.sun.editText = sun\n</code></pre>\n\n<p>This way, since it is not static like an enum, it gets garbage collected along with the activity.</p>\n\n<p>In case you were wondering, the context of this question was established in order to iterate through the enum (now object). This is achievable through this inside of my Days object:</p>\n\n<pre><code>val days: Array&lt;Day&gt; = arrayOf(mon, tue, wed, thurs, fri, sat, sun)\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 11144990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsQmH.jpg?s=128&g=1", "display_name": "Tae Soo Kim", "link": "https://stackoverflow.com/users/11144990/tae-soo-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559753209, "creation_date": 1558493226, "question_id": 56248623, "link": "https://stackoverflow.com/questions/56248623/declare-an-enum-with-android-context-class-in-static-field-warning", "title": "Declare an enum with Android context class in static field warning", "body": "<p>I wish to add an enum to my activity.\nThis enum will contain an EditText class.</p>\n\n<p>I'm getting this warning on my enum:</p>\n\n<pre><code>Do not place Android context classes in static fields (static reference to Day which has field editText pointing to EditText); this is a memory leak\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>enum class Day(val num: Int, var editText: EditText?, val rStringInt: Int) {\n    mon(2, null, R.string.lmon),\n    tue(3, null, R.string.ltue),\n    wed(4, null, R.string.lwed),\n    thurs(5, null, R.string.lthurs),\n    fri(6, null, R.string.lfri),\n    sat(7, null, R.string.lsat),\n    sun(1, null, R.string.lsun)\n}\n</code></pre>\n\n<p>In my activity, I have an onCreate method which assigns each Day's editText value manually. I couldn't seem to get a one-liner kinda thing going here:</p>\n\n<pre><code>Day.mon.editText = mon\nDay.tue.editText = tue\nDay.wed.editText = wed\nDay.thurs.editText = thurs\nDay.fri.editText = fri\nDay.sat.editText = sat\nDay.sun.editText = sun\n</code></pre>\n\n<p>How can I make it so that I don't receive this error on my Day enum? I've tried putting the enum in my Activity class, but it still gives me an warning.</p>\n\n<p>Edit: Sorry, it's a warning, not an error.</p>\n"}, {"tags": ["android", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "edited": false, "score": 0, "creation_date": 1558494883, "post_id": 56248438, "comment_id": 99115537, "body": "Did you try to manually give it camera permission via app settings on the device?  Also do you have ArCore app installed - either preinstalled or from PlayStore?"}, {"owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "reply_to_user": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "edited": false, "score": 0, "creation_date": 1558504020, "post_id": 56248438, "comment_id": 99117580, "body": "Camera permission is not listed in the permissions. No, I haven&#39;t installed ArCore? Is it required with the new Sceneform? If you look at <a href=\"https://codelabs.developers.google.com/codelabs/sceneform-intro/#4\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/sceneform-intro/#4</a> they don&#39;t require installing ArCore."}, {"owner": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "edited": false, "score": 0, "creation_date": 1558526247, "post_id": 56248438, "comment_id": 99129181, "body": "If you&#39;re building a and ARCore app then yes, you need ARCore. If it&#39;s not already in your device, then you can search for it in the Play store. To check if your device is supported, then look here : <a href=\"https://developers.google.com/ar/discover/supported-devices\" rel=\"nofollow noreferrer\">developers.google.com/ar/discover/supported-devices</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "is_accepted": true, "score": 0, "last_activity_date": 1558747321, "creation_date": 1558747321, "answer_id": 56300978, "question_id": 56248438, "link": "https://stackoverflow.com/questions/56248438/arfragment-displays-only-blinking-screen/56300978#56300978", "title": "ArFragment displays only blinking screen", "body": "<p>Added simple permission as follows:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 56300978, "answer_count": 1, "score": 0, "last_activity_date": 1558747321, "creation_date": 1558491270, "question_id": 56248438, "link": "https://stackoverflow.com/questions/56248438/arfragment-displays-only-blinking-screen", "title": "ArFragment displays only blinking screen", "body": "<p>I am writing a basic ArCore app. But the ArFragment is displaying a blinking sign only when I place it horizontally to detect plane surface. Also the camera permission is missing when I test it using my Sony experia. I am not sure if my phone is supported because I don't really know the exact model of my phone. Following is my permission and some of the initializing code.</p>\n\n<pre><code>//Permission request\n\npublic boolean isCameraPermissionGranted(Activity host){\n        // if the device isn't compatible return false\n        if(!host.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA) &amp;&amp;\n                !host.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_AR)){\n            return false;\n        }\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Permission is not granted\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(host, Manifest.permission.CAMERA)) {\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n            } else {\n                // No explanation needed; request the permission\n                ActivityCompat.requestPermissions(host, new String[]{Manifest.permission.CAMERA},\n                        MY_PERMISSIONS_REQUEST_CAMERA);\n            }\n        } else {\n            // Permission has already been granted\n            return true;\n        }\n        return false;\n    }\n\n//onCreate \noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.image_activity_layout)\n\n        utils  = Utils(applicationContext)\n        if(utils.isCameraPermissionGranted(this) &amp;&amp; utils.isStoragePermissionGranted(this))\n            utils.maybeEnableAr()\n        //loadCamera()\n\n        arFragment = supportFragmentManager.findFragmentById(R.id.f_sceneform_fragment) as ArFragment\n        // Adds a listener to the ARSceneView\n        // Called before processing each frame\n        arFragment.arSceneView.scene.addOnUpdateListener { frameTime -&gt;\n            arFragment.onUpdate(frameTime)\n            //onUpdate()\n        }\n\n    }\n</code></pre>\n\n<p>//Manifest</p>\n\n<pre><code>&lt;uses-feature android:name=\"android.hardware.camera\" /&gt;\n    &lt;uses-feature android:name=\"android.hardware.camera.ar\" android:required=\"true\"/&gt;\n\n//This the fragment\n&lt;fragment\n            android:id=\"@+id/f_sceneform_fragment\"\n            android:name=\"com.google.ar.sceneform.ux.ArFragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>This is the screen I am seeing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TqMHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TqMHA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "uri"], "comments": [{"owner": {"reputation": 1397, "user_id": 1216265, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4B7JY.jpg?s=128&g=1", "display_name": "Ahmed S. Durrani", "link": "https://stackoverflow.com/users/1216265/ahmed-s-durrani"}, "edited": false, "score": 0, "creation_date": 1558486139, "post_id": 56247865, "comment_id": 99114104, "body": "You don&#39;t need to use this implementation in order to convert string to uri"}, {"owner": {"reputation": 1397, "user_id": 1216265, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4B7JY.jpg?s=128&g=1", "display_name": "Ahmed S. Durrani", "link": "https://stackoverflow.com/users/1216265/ahmed-s-durrani"}, "edited": false, "score": 0, "creation_date": 1558486221, "post_id": 56247865, "comment_id": 99114117, "body": "Your question is ambiguous, are you trying to convert the string or trying to use this library?"}, {"owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "edited": false, "score": 1, "creation_date": 1558533262, "post_id": 56247865, "comment_id": 99133546, "body": "You can easily do this without  <code>Core KTX,</code> use <code>Uri.parse(&quot;your uri&quot;)</code> method"}], "owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558485086, "creation_date": 1558485086, "question_id": 56247865, "link": "https://stackoverflow.com/questions/56247865/ways-to-turn-a-string-into-an-uri", "title": "Ways to turn a string into an uri", "body": "<p>there's any other way to turn a string into an uri without using  </p>\n\n<pre><code>       implementation 'androidx.core:core-ktx:1.0.0-rc01' ??\n</code></pre>\n\n<p>this implementation is not compatible with android-support implementations</p>\n"}, {"tags": ["java", "kotlin", "neo4j", "neo4j-ogm"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 5314600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4YfFL.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/5314600/sasha"}, "is_accepted": false, "score": 0, "last_activity_date": 1558466908, "creation_date": 1558466908, "answer_id": 56245208, "question_id": 56245140, "link": "https://stackoverflow.com/questions/56245140/how-to-fix-relationship-entity-cannot-have-a-missing-start-or-end-node-when-i/56245208#56245208", "title": "How to fix &quot;Relationship entity cannot have a missing start or end node&quot; when I add rich relationship between nodes?", "body": "<p>It seems that rich relationship entities can have only one @StartNode and @EndNode. \nIs it true? What if I need same relations between different node types? Have I to duplicate code?</p>\n"}], "owner": {"reputation": 95, "user_id": 5314600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4YfFL.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/5314600/sasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558466908, "creation_date": 1558466626, "question_id": 56245140, "link": "https://stackoverflow.com/questions/56245140/how-to-fix-relationship-entity-cannot-have-a-missing-start-or-end-node-when-i", "title": "How to fix &quot;Relationship entity cannot have a missing start or end node&quot; when I add rich relationship between nodes?", "body": "<p>I am using Java Neo4j OGM in my Kotlin application. I have to add a <code>isUnit</code> relation between two nodes (<code>Query</code> and <code>Unit</code>). It is a rich relationship entity <code>IsUnit</code> with property <code>value</code>. Why am I getting <code>Relationship entity ogm.relationships.IsUnit@121de1de cannot have a missing start or end node</code> error on saving?</p>\n\n<p>Neo4j version: 3.5.3 (enterprise)\nOGM version: 3.1.2</p>\n\n<p>Query.kt:</p>\n\n<pre><code>package ogm.nodes\n\nimport ...\n\n@NodeEntity\nclass Query() {\n    &lt;...&gt;\n\n    @Relationship(type = RelationType.IS_UNIT, direction = Relationship.OUTGOING)\n    var units: MutableSet&lt;IsUnit&gt; = mutableSetOf()\n\n    &lt;...&gt;\n}\n</code></pre>\n\n<p>Unit.kt:</p>\n\n<pre><code>package ogm.nodes\n\nimport ...\n\n@NodeEntity\nclass Unit() {\n    &lt;...&gt;\n\n    @JsonIgnore\n    @Relationship(type = RelationType.IS_UNIT, direction = Relationship.INCOMING)\n    var query: IsUnit? = null\n\n    &lt;...&gt;\n}\n</code></pre>\n\n<p>IsUnit.kt:</p>\n\n<pre><code>package ogm.relationships\n\nimport ...\n\n@RelationshipEntity(type = RelationType.IS_UNIT)\nclass IsUnit() {\n    @Id\n    @GeneratedValue\n    private var id: Long? = null\n    fun getId(): Long? = id\n\n    var uuid: String? = null\n    var value: Float? = null\n\n    @StartNode\n    var rate: Rate? = null\n    @StartNode\n    var query: Query? = null\n    @EndNode\n    var unit: Unit? = null\n}\n</code></pre>\n\n<p>Logic:</p>\n\n<pre><code>val unit = session.loadAll(\n    Unit::class.java,\n    Filter(\"uuid\", ComparisonOperator.EQUALS, uuid),\n    0\n).first()\n\nval isUnit = IsMUnit()\nisUnit.query = query\nisUnit.unit = unit\nisUnit.value = v\n\nquery.units.add(isUnit)\nunit.query = isUnit\n\nsession.save(query, 1)\n</code></pre>\n\n<p>I expect that new relationship between existing nodes will be created.\nBut I got:</p>\n\n<pre><code>org.neo4j.ogm.exception.core.MappingException: Relationship entity ogm.relationships.IsMeasureUnit@121de1de cannot have a missing start or end node\n    at org.neo4j.ogm.context.EntityGraphMapper.haveRelationEndsChanged(EntityGraphMapper.java:546)\n    at org.neo4j.ogm.context.EntityGraphMapper.getRelationshipBuilder(EntityGraphMapper.java:504)\n    at org.neo4j.ogm.context.EntityGraphMapper.link(EntityGraphMapper.java:464)\n    at org.neo4j.ogm.context.EntityGraphMapper.mapEntityReferences(EntityGraphMapper.java:389)\n    at org.neo4j.ogm.context.EntityGraphMapper.mapEntity(EntityGraphMapper.java:237)\n    at org.neo4j.ogm.context.EntityGraphMapper.map(EntityGraphMapper.java:131)\n    at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:79)\n    at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:474)\n    at queryProcessor.QueryProcessor.changeQuery(QueryProcessor.kt:117)\n    at queryProcessor.QueryProcessor.process(QueryProcessor.kt:24)\n    at com.pathfind.ApplicationKt$module$5$3.invokeSuspend(Application.kt:74)\n...\n</code></pre>\n\n<p>I tried different depth of <code>sessiuon.save()</code> method, but it still doesn't work.</p>\n\n<p>Thank you all in advance.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "is_accepted": false, "score": 2, "last_activity_date": 1558466693, "creation_date": 1558466693, "answer_id": 56245152, "question_id": 56245077, "link": "https://stackoverflow.com/questions/56245077/how-to-deal-with-type-mismatch-string-and-string/56245152#56245152", "title": "How to deal with type mismatch- String and String?", "body": "<p>you can do like this</p>\n\n<pre><code>val someString : String = someOtherNullableString ?: \"\"\n</code></pre>\n\n<p>it will take the value of someOtherNullbleString if it is not null if it is  null then it will take \"\"</p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "is_accepted": true, "score": 0, "last_activity_date": 1558471697, "last_edit_date": 1558471697, "creation_date": 1558466863, "answer_id": 56245198, "question_id": 56245077, "link": "https://stackoverflow.com/questions/56245077/how-to-deal-with-type-mismatch-string-and-string/56245198#56245198", "title": "How to deal with type mismatch- String and String?", "body": "<p>Try to avoid using <code>!!</code> operator. It should be used when you are a hundred percent sure that there's no null. It always better to use <strong>Elvis</strong> operator (default value expression which is evaluated and assigned if the expression from the left-hand side is null)</p>\n\n<pre><code>val s1: String? = null\nval s2: String = s1 ?: \"default value if s1 is null\"\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4578, "user_id": 6207294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHNFn.jpg?s=128&g=1", "display_name": "shb", "link": "https://stackoverflow.com/users/6207294/shb"}, "is_accepted": false, "score": 0, "last_activity_date": 1558466896, "creation_date": 1558466896, "answer_id": 56245206, "question_id": 56245077, "link": "https://stackoverflow.com/questions/56245077/how-to-deal-with-type-mismatch-string-and-string/56245206#56245206", "title": "How to deal with type mismatch- String and String?", "body": "<p>There are plenty of ways. It depends on the requirements</p>\n\n<pre><code>var str1: String? = null\n\n//....\n\nstr1.notNull{ //no default value\n    // your code\n    str2 = it\n\n}\n</code></pre>\n\n<p>or if you want to provide a value in case str1 is null</p>\n\n<pre><code>str2 = str1?:\"default_value\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1558470637, "post_id": 56245721, "comment_id": 99110297, "body": "that&#39;s kind of pointless since you can just do <code>nullableString ?: &quot;&quot;</code>"}, {"owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1558474366, "post_id": 56245721, "comment_id": 99111738, "body": "Thanks for pointing out something that I already said in my own answer."}], "tags": [], "owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "is_accepted": false, "score": -1, "last_activity_date": 1558469508, "creation_date": 1558469508, "answer_id": 56245721, "question_id": 56245077, "link": "https://stackoverflow.com/questions/56245077/how-to-deal-with-type-mismatch-string-and-string/56245721#56245721", "title": "How to deal with type mismatch- String and String?", "body": "<p>I like the takeIf approach:</p>\n\n<pre><code>val someString = nullableString.takeIf { it != null } ?: \"\"\n</code></pre>\n\n<p>someString will take nullableString value unless it's null. If it's null, then it will be set to \"\".</p>\n\n<p>I like this approach specially on Service level so the person using my service won't need treat null values ever. Obviously the logic between the {} can be far more complex than this example.</p>\n"}], "owner": {"reputation": 23, "user_id": 11434030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1776dc6b0d3e3e98b2ebeeb1ab3c7aa6?s=128&d=identicon&r=PG&f=1", "display_name": "kamilmaestro", "link": "https://stackoverflow.com/users/11434030/kamilmaestro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 56245198, "answer_count": 4, "score": 0, "last_activity_date": 1558471697, "creation_date": 1558466248, "question_id": 56245077, "link": "https://stackoverflow.com/questions/56245077/how-to-deal-with-type-mismatch-string-and-string", "title": "How to deal with type mismatch- String and String?", "body": "<p>I'm getting a type mismatch when I want to perform an assignment.\nThe required value is String but I have got String?. My question is: how should I deal with it, via toString method or rather by adding non-null asserted(!!) call. I'm wondering which of them is better for safety or maybe performance. The question is rather about best practices for a language.</p>\n"}, {"tags": ["android", "database", "multithreading", "kotlin", "return-value"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 3457724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207515380796226/picture?type=large", "display_name": "Kou Peto", "link": "https://stackoverflow.com/users/3457724/kou-peto"}, "is_accepted": false, "score": 0, "last_activity_date": 1558468717, "last_edit_date": 1558468717, "creation_date": 1558467687, "answer_id": 56245360, "question_id": 56244450, "link": "https://stackoverflow.com/questions/56244450/how-to-return-value-from-thread/56245360#56245360", "title": "How to return value from Thread?", "body": "<p>you can pass an empty list to adapter constructor and when the data retrieved from the database call adapter.notifydatasetchanged(), but the list must be the same object.</p>\n\n<pre><code>class ComparatorActivity : AppCompatActivity(), OpenDatabase.OpenDatabaseListener {\n    private var db: AppDatabase? = null\n    var list = listOf&lt;Cost&gt;()\n    private lateinit var adapter: MyAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        val open = OpenDatabase(this)\n        open.setOpenDatabaseListener(this)\n        open.load()\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recyclerView)\n\n        adapter = MyAdapter(this,list)\n        Threads()\n\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        recyclerView.adapter = adapter\n    }\n    fun Threads() {\n        Thread {\n            list = db!!.costDAO().getAll()\n            adapter.notifyDataSetChanged()\n        }.start()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 0, "last_activity_date": 1558545364, "creation_date": 1558545364, "answer_id": 56261937, "question_id": 56244450, "link": "https://stackoverflow.com/questions/56244450/how-to-return-value-from-thread/56261937#56261937", "title": "How to return value from Thread?", "body": "<p>Create a new instance of the <code>Adapter</code> when data is ready and set it to your <code>recyclerView</code>:</p>\n\n<pre><code>Thread {\n    val itemsList...// from db\n    runOnUiThread {\n        recyclerView.adapter = MyAdapter(this, itemsList)\n    }\n}.start()\n</code></pre>\n\n<p>you could alternatively create a <code>setItems</code> method (in your <code>adapter</code>) and assign it that way:</p>\n\n<pre><code>class MyAdapter... {\n\n    private val items = mutableListOf&lt;Cost&gt;()\n\n    fun setItems(items: List&lt;Cost&gt;) {\n        this.items.clear()\n        this.items.addAll(items)\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Thread {\n    val itemsList...// from db\n    runOnUiThread {\n        (recyclerView.adapter as MyAdapter).setItems(itemsList)\n    }\n}.start()\n</code></pre>\n\n<p>I also suggest using <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a> instead of a regular Thread</p>\n"}], "owner": {"reputation": 15, "user_id": 11518139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1dbf557bd7bb6d3e0a9440ad8d98662?s=128&d=identicon&r=PG&f=1", "display_name": "Ciara", "link": "https://stackoverflow.com/users/11518139/ciara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 56261937, "answer_count": 2, "score": 0, "last_activity_date": 1558545364, "creation_date": 1558463588, "last_edit_date": 1558466002, "question_id": 56244450, "link": "https://stackoverflow.com/questions/56244450/how-to-return-value-from-thread", "title": "How to return value from Thread?", "body": "<p>I want to pass arrayList to adapter constructor. Arraylist is returned\nby query. Query must be in Thread. How can i do that?</p>\n\n<p>CostDao.kt</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Dao\ninterface CostDAO {\n\n    @Query(\"select * from Cost\")\n    fun getAll() : List&lt;Cost&gt;\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n\nclass ComparatorActivity : AppCompatActivity(), OpenDatabase.OpenDatabaseListener {\n    private var db: AppDatabase? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        val open = OpenDatabase(this)\n        open.setOpenDatabaseListener(this)\n        open.load()\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recyclerView)\n        Threads()\n\n\n//i need to pass the arraylist\n        val adapter = MyAdapter(this, )\n\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        recyclerView.adapter = adapter\n\n}\n    fun Threads() {\n        Thread {\n            val List = db!!.costDAO().getAll()\n        }.start()\n}\n\n\n</code></pre>\n\n<p>How can i return List from Thread? and then pass it to adapter constructor. </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 2632860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b85ff9ca21e4e2bd1be148d98ccda66e?s=128&d=identicon&r=PG", "display_name": "Hellaren", "link": "https://stackoverflow.com/users/2632860/hellaren"}, "edited": false, "score": 0, "creation_date": 1558465208, "post_id": 56244075, "comment_id": 99108071, "body": "Thank you Jason, it&#39;s brilliant! I haven&#39;t even thought that withIndex() on the first place is legit."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 3, "last_activity_date": 1558471084, "last_edit_date": 1558471084, "creation_date": 1558461885, "answer_id": 56244075, "question_id": 56244018, "link": "https://stackoverflow.com/questions/56244018/kotlin-how-to-iterate-through-a-collection-from-a-specific-position-with-indexe/56244075#56244075", "title": "Kotlin: How to iterate through a collection from a specific position with indexes (skip N elements with indexes)", "body": "<p>Your original try is very close, just a small change makes it work.  Reverse the calls of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html\" rel=\"nofollow noreferrer\"><code>withIndex()</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/drop.html\" rel=\"nofollow noreferrer\"><code>drop(N)</code></a> putting <code>withIndex</code> first.</p>\n\n<p>If you <strong>do not</strong> want to copy the collection, you can convert it to a sequence first using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-sequence.html\" rel=\"nofollow noreferrer\"><code>asSequence()</code></a>.</p>\n\n\n\n<pre><code>for ((index, item) in inputData.asSequence().withIndex().drop(startFrom)) { ... }    \n</code></pre>\n\n<p>The test code:</p>\n\n<pre><code>val sampleData = listOf(\"a\", \"b\", \"c\", \"d\", \"e\", \"f\")\nval startFrom = sampleData.size / 2\n\nfor ((index, item) in sampleData.asSequence().withIndex().drop(startFrom)) {\n    println(\"[$index] =&gt; $item\")\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<blockquote>\n  <p>[3] => d<br/>\n  [4] => e<br/>\n  [5] => f</p>\n</blockquote>\n\n<p>That's it!  The rest of this answer just provides you with alternatives, including a more efficient and Kotlinesque solution of creating your own extension function at the end.</p>\n\n<hr/>\n\n<p>If the copy of the collection is acceptable, you can do the following shorter version.  The <code>withIndex</code> does not cause a copy, but the <code>drop(N)</code> does.</p>\n\n<pre><code>for ((index, item) in inputData.withIndex().drop(startFrom)) { ... }\n</code></pre>\n\n<p>The eager copy <em>or</em> the sequence could be faster, it depends on the size of the collection, your runtime environment, and CPU cache.</p>\n\n<p>You can also use functional <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"nofollow noreferrer\"><code>forEach</code></a> instead of the <code>for</code> loop.</p>\n\n<pre><code>sampleData.asSequence().withIndex().drop(startFrom).forEach { (index, item) -&gt;\n    println(\"[$index] =&gt; $item\")       \n}\n</code></pre>\n\n<p><strong>Which then brings up the best and most efficient option.</strong>  Just write an extension function when using an <code>Array</code> or <code>List</code> so that there is no lazy evaluation using wrapper classes nor any copying.  Simply a loop calling your lambda with the index and value.  Here are the two new extensions that add a new variation of <code>forEachIndexed</code>:</p>\n\n<pre><code>inline fun &lt;T&gt; Array&lt;T&gt;.forEachIndexed(startFrom: Int, \n                                action: (index: Int, item: T)-&gt;Unit) {\n    for (i in startFrom until this.size) {\n        action(i, this[i])\n    }\n}\n\ninline fun &lt;T&gt; List&lt;T&gt;.forEachIndexed(startFrom: Int, \n                               action: (index: Int, item: T)-&gt;Unit) {\n    for (i in startFrom until this.size) {\n        action(i, this[i])\n    }\n}\n</code></pre>\n\n<p>And this can be called simply for any non-primitive array or list:</p>\n\n<pre><code>sampleData.forEachIndexed(startFrom) { index, item -&gt;\n    println(\"[$index] =&gt; $item\")\n}\n</code></pre>\n\n<p>You could do the same if you want a <code>withIndex(startFrom)</code> style method as well.  You can always extend Kotlin to get what you want!</p>\n"}, {"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1558465411, "last_edit_date": 1558465411, "creation_date": 1558465074, "answer_id": 56244811, "question_id": 56244018, "link": "https://stackoverflow.com/questions/56244018/kotlin-how-to-iterate-through-a-collection-from-a-specific-position-with-indexe/56244811#56244811", "title": "Kotlin: How to iterate through a collection from a specific position with indexes (skip N elements with indexes)", "body": "<p>If this is what you're missing, the simplest solution in my opinion is to just use a ranged <code>for</code> loop:</p>\n\n<pre><code>val startFrom = arr.size / 2;\nfor (i in startFrom until arr.size) {\n    println(String.format(\"Index %d value %s\", i, arr[i]));\n}\n</code></pre>\n\n<p>If you prefer strictly avoiding expressions like <code>arr[i]</code>, then you can change your current solution to use a sequence instead.</p>\n"}], "owner": {"reputation": 303, "user_id": 2632860, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b85ff9ca21e4e2bd1be148d98ccda66e?s=128&d=identicon&r=PG", "display_name": "Hellaren", "link": "https://stackoverflow.com/users/2632860/hellaren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 56244075, "answer_count": 2, "score": 0, "last_activity_date": 1558471084, "creation_date": 1558461603, "question_id": 56244018, "link": "https://stackoverflow.com/questions/56244018/kotlin-how-to-iterate-through-a-collection-from-a-specific-position-with-indexe", "title": "Kotlin: How to iterate through a collection from a specific position with indexes (skip N elements with indexes)", "body": "<p>I want to iterate a collection of items from a specific position.\nLet's say we want to start from center and iterate the whole right part of the array:</p>\n\n<pre><code>int startFrom = arr.length / 2;\nfor (int i = startFrom; i &lt; arr.length; i++)\n{\n    String.format(\"Index %d value %s\", i, arr[i]);\n}\n</code></pre>\n\n<p>It's important to track real indexes and values during iteration. As an example you are going to implement in-place sorting algorithm</p>\n\n<p>I've tried to do so using drop().withIndexes(), but looks like drop() creates a new collection and I lose information about real indexes.\nIt could be fixed manually if we create a variable and calculate proper index</p>\n\n<pre><code>val startFrom = inputData.size / 2\nfor ((i, item) in inputData.drop(startFrom).withIndex()){\n    val fixedIndex = i + startFrom\n    println(\"Index $i, fixed index $fixedIndex value $item\")\n}\n</code></pre>\n\n<p>This solution works but I was hopping there is something that can help to avoid introducing a separate fixedIndex variable and handling this problem manually.</p>\n"}, {"tags": ["spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558461957, "post_id": 56243717, "comment_id": 99106736, "body": "everything looks fine. please provide more information. error stuck, spring boot version your using, etc."}, {"owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "reply_to_user": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558462012, "post_id": 56243717, "comment_id": 99106763, "body": "@Vinipuh007 spring boot version 2.1.0-RELEASE, no errors, just browser said that there is no such endpoint. If I declare controller in old way via <code>@Controller</code> - everything looks fine"}, {"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558462373, "post_id": 56243717, "comment_id": 99106934, "body": "Can you attach console output of the server startup?"}, {"owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "reply_to_user": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558462752, "post_id": 56243717, "comment_id": 99107086, "body": "@Vinipuh007added"}, {"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558466350, "post_id": 56243717, "comment_id": 99108604, "body": "that&#39;s weird. I tried to reproduce it but everything works fine on my side"}, {"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558466515, "post_id": 56243717, "comment_id": 99108677, "body": "Do you have any special configuration beside tomcat container?"}, {"owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "reply_to_user": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "edited": false, "score": 0, "creation_date": 1558467247, "post_id": 56243717, "comment_id": 99108941, "body": "@Vinipuh007 no only classes I shared with you. Maybe there is the problem that my spring boot is 2.1.0?"}, {"owner": {"reputation": 304, "user_id": 8200936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ce90.png?s=128&g=1", "display_name": "Vinipuh007", "link": "https://stackoverflow.com/users/8200936/vinipuh007"}, "reply_to_user": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "edited": false, "score": 0, "creation_date": 1558467572, "post_id": 56243717, "comment_id": 99109075, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/193722/discussion-between-vinipuh007-and-squeez\">continue this discussion in chat</a>."}], "owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558463490, "creation_date": 1558460385, "last_edit_date": 1558462744, "question_id": 56243717, "link": "https://stackoverflow.com/questions/56243717/spring-boot-webflux-kotlin-no-routes-found", "title": "Spring Boot WebFlux Kotlin no routes found", "body": "<p>I faced problem that I can't add route to spring context. I tried to do this:</p>\n\n<pre><code>@SpringBootApplication\nclass TestApp\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;TestApp&gt;(*args) {\n        addInitializers(beans {\n            bean {\n                RoutesConfig().router()\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>and my route is</p>\n\n<pre><code>@Configuration\nclass RoutesConfig {\n\n    fun router() = router {\n        GET(\"/health\") { _ -&gt; ServerResponse.ok().body(BodyInserters.fromObject(\"OK\")) }\n    }\n}\n</code></pre>\n\n<p>I tried to add <code>@Bean</code> annotation, tried via <code>SpringApplication.run()</code>, tried via different variants of configuration including <code>BeanInitializers</code> - nothing works. What am I doing wrong?</p>\n\n<pre><code>2019-05-21 21:17:04.752  INFO 7785 --- [           main] c.p.i.s.manager.TestAppKt      : No active profile set, falling back to default profiles: default\n2019-05-21 21:17:05.333  INFO 7785 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-05-21 21:17:05.345  INFO 7785 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-05-21 21:17:05.345  INFO 7785 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.12\n2019-05-21 21:17:05.349  INFO 7785 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/adm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\n2019-05-21 21:17:05.404  INFO 7785 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-05-21 21:17:05.404  INFO 7785 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 630 ms\n2019-05-21 21:17:05.420  INFO 7785 --- [           main] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2019-05-21 21:17:05.423  INFO 7785 --- [           main] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2019-05-21 21:17:05.423  INFO 7785 --- [           main] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2019-05-21 21:17:05.423  INFO 7785 --- [           main] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'formContentFilter' to: [/*]\n2019-05-21 21:17:05.423  INFO 7785 --- [           main] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2019-05-21 21:17:05.568  INFO 7785 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-05-21 21:17:05.733  WARN 7785 --- [           main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=12, workerCount=12}\n2019-05-21 21:17:05.734  WARN 7785 --- [           main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: PooledConnectionProvider {name=http, poolFactory=reactor.netty.resources.ConnectionProvider$$Lambda$378/429639728@4d8286c4}\n2019-05-21 21:17:05.841  INFO 7785 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-05-21 21:17:05.844  INFO 7785 --- [           main] c.p.i.s.manager.TestAppKt      : Started TestAppKt in 1.495 seconds (JVM running for 2.14)\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "android-volley", "asp.net-apicontroller"], "comments": [{"owner": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1558461506, "post_id": 56243640, "comment_id": 99106551, "body": "Body content type would have to be application/json. You have changed the type of request from StringRequest to a JsonRequest, but getBodyContentType remains to be the same. Do not override that method."}, {"owner": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "reply_to_user": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1558529651, "post_id": 56243640, "comment_id": 99131048, "body": "@Dinesh This did not fix my problem unfortunately"}], "owner": {"reputation": 649, "user_id": 6718764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dYZcF.jpg?s=128&g=1", "display_name": "Tiaan", "link": "https://stackoverflow.com/users/6718764/tiaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558460055, "creation_date": 1558460055, "question_id": 56243640, "link": "https://stackoverflow.com/questions/56243640/volley-stringrequest-works-but-changing-it-to-a-jsonobjectrequest-results-in-a-c", "title": "Volley StringRequest works but changing it to a JsonObjectRequest results in a com.android.volley.ClientError", "body": "<p>Please be advised I am just starting out with Kotlin</p>\n\n<p>I have a .NET API with the standard out of the box .NET token based single user account authentication set up.</p>\n\n<p>Assume that the API's are running perfectly as all of this has been verified as working using Postman:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mGfHl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGfHl.png\" alt=\"Postman\"></a></p>\n\n<p>The following code is working, and it is a simple StringRequest done in Volley: </p>\n\n<pre><code>    val registerRequest = object : StringRequest(Method.POST, TOKEN_URL, Response.Listener { response -&gt;\n            Log.i(\"SmackChatAPI\", response)\n            var tokenresponse = \"\"\n            token(tokenresponse)\n        }, Response.ErrorListener { response -&gt;\n            Log.i(\"SmackChatAPI\", \"Something went wrong\")\n            Log.i(\"SmackChatAPI\", response.toString())\n            token(\"\")\n        }){\n            override fun getHeaders(): MutableMap&lt;String, String&gt; {\n                var map : MutableMap&lt;String, String&gt; = mutableMapOf&lt;String, String&gt;()\n                //map.put(\"Content-Type\", \"application/x-www-form-urlencoded\")\n                return map\n            }\n\n            override fun getBodyContentType(): String {\n                return \"application/x-www-form-urlencoded charset=utf-8\"\n                //return \"application/json; charset=utf-8\"\n            }\n\n\n            override fun getParams(): MutableMap&lt;String, String&gt; {\n                var map : MutableMap&lt;String, String&gt; = mutableMapOf&lt;String, String&gt;()\n                map.put(\"grant_type\",\"password\")\n                map.put(\"username\",username)\n                map.put(\"password\",password)\n                return map\n            }\n        }\n        Log.i(\"SmackChatAPI\", \"API called\")\n\n        Volley.newRequestQueue(context).add(registerRequest)\n</code></pre>\n\n<p>Verification that the above code is working:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7opx3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7opx3.png\" alt=\"ADB shell\"></a></p>\n\n<p>But naturally, seeing as this is receiving JSON, I need to be able to Parse it, but the second I convert the function call to a <code>JsonObjectRequest</code> I get a  </p>\n\n<pre><code>com.android.volley.ClientError\n</code></pre>\n\n<p>Here is the malfunctioning code to the same API:</p>\n\n<pre><code>        val registerRequest = object : JsonObjectRequest(Method.POST, TOKEN_URL, null, Response.Listener { response -&gt;\n\n        var tokenresponse = response.getString(\"access_token\")\n        token(tokenresponse)\n    }, Response.ErrorListener { response -&gt;\n        Log.i(\"SmackChatAPI\", \"Something went wrong\")\n        Log.i(\"SmackChatAPI\", response.toString())\n        token(\"\")\n    }){\n        override fun getHeaders(): MutableMap&lt;String, String&gt; {\n            var map : MutableMap&lt;String, String&gt; = mutableMapOf&lt;String, String&gt;()\n            //map.put(\"Content-Type\", \"application/x-www-form-urlencoded\")\n            return map\n        }\n\n        override fun getBodyContentType(): String {\n            return \"application/x-www-form-urlencoded charset=utf-8\"\n            //return \"application/json; charset=utf-8\"\n        }\n\n        override fun getParams(): MutableMap&lt;String, String&gt; {\n            var map : MutableMap&lt;String, String&gt; = mutableMapOf&lt;String, String&gt;()\n            map.put(\"grant_type\",\"password\")\n            map.put(\"username\",username)\n            map.put(\"password\",password)\n            return map\n        }\n    }\n    Log.i(\"SmackChatAPI\", \"API called\")\n\n    Volley.newRequestQueue(context).add(registerRequest)\n</code></pre>\n\n<p>As you can see all that has changed is the fact that I am now using a <code>JsonBodyRequest</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/Q0XFq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q0XFq.png\" alt=\"JsonBodyRequest Results\"></a></p>\n\n<p>Can anyone see what I am doing wrong?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 1380, "user_id": 1726166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60c4a491bcaa3d77f4fe092794ffa32e?s=128&d=identicon&r=PG", "display_name": "ytRino", "link": "https://stackoverflow.com/users/1726166/ytrino"}, "is_accepted": false, "score": 0, "last_activity_date": 1558583238, "creation_date": 1558583238, "answer_id": 56267818, "question_id": 56243544, "link": "https://stackoverflow.com/questions/56243544/rxjava2-ignore-element-if-it-currently-exists-in-a-stream/56267818#56267818", "title": "RxJava2 Ignore element if it currently exists in a stream", "body": "<p>You can't do it straightforwardly because upper stream chain shouldn't know down streams, if it is \"consume\"d or not. (Imagine if there are several subscribers.)\nIf you want to do, you need to interact with variable that is in outside of stream.</p>\n"}], "owner": {"reputation": 1421, "user_id": 7022735, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DZnj9.jpg?s=128&g=1", "display_name": "rvit34", "link": "https://stackoverflow.com/users/7022735/rvit34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558583238, "creation_date": 1558459642, "last_edit_date": 1558469577, "question_id": 56243544, "link": "https://stackoverflow.com/questions/56243544/rxjava2-ignore-element-if-it-currently-exists-in-a-stream", "title": "RxJava2 Ignore element if it currently exists in a stream", "body": "<p>I have a case when I need to drop/ignore element if it is <strong>currently</strong> presented in a reactive stream. For example:</p>\n\n<pre><code>fun ignoreDuplicatesExample() {\n\n    val publishSubject: PublishSubject&lt;Long&gt; = PublishSubject.create()\n    publishSubject.observeOn(Schedulers.single()).distinct().subscribe({\n        Thread.sleep(1000)\n        println(\"onNext: $it\")\n    }, {\n        error(\"$it\")\n    })\n\n    publishSubject.onNext(1)\n    publishSubject.onNext(2)\n    publishSubject.onNext(3)\n\n    publishSubject.onNext(1) // should be ignored\n    publishSubject.onNext(2) // should be ignored\n    publishSubject.onNext(3) // should be ignored\n\n    Thread.sleep(10_000)\n    publishSubject.onNext(1) // by this time it should be already consumed, so it need to be allowed to emit it again\n    publishSubject.onNext(4)\n\n    Thread.sleep(10_000)\n    println(\"exit\")\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>onNext: 1\nonNext: 2\nonNext: 3\nonNext: 4\nexit\n</code></pre>\n\n<p>But I expected to see:</p>\n\n<pre><code>onNext: 1\nonNext: 2\nonNext: 3\nonNext: 1\nonNext: 4\nexit\n</code></pre>\n\n<p>So, anybody know how to achieve it using RxJava2?</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-navigationview", "android-jetpack-navigation"], "answers": [{"comments": [{"owner": {"reputation": 457, "user_id": 3043680, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/36ba77bba892a61a7f5f68502801864a?s=128&d=identicon&r=PG&f=1", "display_name": "Gazeciarz", "link": "https://stackoverflow.com/users/3043680/gazeciarz"}, "edited": false, "score": 0, "creation_date": 1614328114, "post_id": 56243147, "comment_id": 117357125, "body": "Just out of curiosity - is there any reasonable argument why this is not default behavior? To me, this is completely not intuitive. Anyway, thanks for this answer!"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 4, "last_activity_date": 1558457994, "creation_date": 1558457994, "answer_id": 56243147, "question_id": 56243037, "link": "https://stackoverflow.com/questions/56243037/navigation-view-global-action-back-state/56243147#56243147", "title": "Navigation View Global Action Back State", "body": "<p>As per the <a href=\"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#onNavDestinationSelected(android.view.MenuItem,%2520androidx.navigation.NavController)\" rel=\"nofollow noreferrer\"><code>onNavDestinationSelected()</code> documentation</a> (which is how <a href=\"https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer\" rel=\"nofollow noreferrer\">NavigationUI triggers menu items</a>):</p>\n\n<blockquote>\n  <p>By default, the back stack will be popped back to the navigation graph's start destination. Menu items that have <code>android:menuCategory=\"secondary\"</code> will not pop the back stack.</p>\n</blockquote>\n\n<p>Therefore you can add <code>android:menuCategory=\"secondary\"</code> to your menu item if you'd like to avoid popping other destinations off the stack when you select your settings destination.</p>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 56243147, "answer_count": 1, "score": 3, "last_activity_date": 1558457994, "creation_date": 1558457540, "last_edit_date": 1558457900, "question_id": 56243037, "link": "https://stackoverflow.com/questions/56243037/navigation-view-global-action-back-state", "title": "Navigation View Global Action Back State", "body": "<p>I have been messing with the Jetpack Navigation component, and I created an activity that uses a navigation drawer.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val navigationController = findNavController(R.id.navigationHostFragment)\n        navigationView.setupWithNavController(navigationController)\n\n        val appBarConfiguration = AppBarConfiguration(TOP_LEVEL_DESTINATIONS, drawerLayout)\n        toolbar.setupWithNavController(navigationController, appBarConfiguration)\n    }\n\n    override fun onSupportNavigateUp(): Boolean =\n            NavigationUI.navigateUp(findNavController(R.id.navigationHostFragment), drawerLayout)\n\n}\n</code></pre>\n\n<p>This works as I would expect, but then I added a <a href=\"https://developer.android.com/guide/navigation/navigation-global-action\" rel=\"nofollow noreferrer\">global action</a> for the settings screen.</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    app:startDestination=\"@id/appBarFragment\"&gt;\n\n    ...\n\n    &lt;activity android:id=\"@+id/settingsActivity\"\n        android:name=\"com.example.app.ui.SettingsActivity\"\n        android:label=\"@string/title_settings\"/&gt;\n\n    &lt;action android:id=\"@+id/settingsAction\"\n        app:destination=\"@+id/settingsActivity\"/&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>And reference the action in the <code>NavigationView</code> menu.</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    ...\n\n    &lt;group android:id=\"@+id/navigationGroupSettings\"&gt;\n\n        &lt;item android:id=\"@+id/aboutAction\"\n            android:title=\"@string/title_about\"\n            android:icon=\"@drawable/ic_info_black_24dp\"/&gt;\n\n        &lt;item android:id=\"@+id/settingsAction\"\n            android:title=\"@string/title_settings\"\n            android:icon=\"@drawable/ic_settings_black_24dp\"/&gt;\n\n    &lt;/group&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>This displays the <code>SettingsActivity</code>, but when I press the back button to return to the <code>MainActivity</code> the first destination is displayed, rather than the previous destination. Even though the <code>NavigationView</code> saves its state correctly, and has the last destination checked (instead of the first item in the list).</p>\n\n<p>I also tried replacing the <code>SettingsActivity</code> with a <code>SettingsFragment</code>, with the same result.</p>\n\n<p>How do I get the navigation component to correctly save its state after a global action is selected?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 5371749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOVs.jpg?s=128&g=1", "display_name": "james04", "link": "https://stackoverflow.com/users/5371749/james04"}, "edited": false, "score": 0, "creation_date": 1603040205, "post_id": 58103160, "comment_id": 113903810, "body": "What you did is right but its not the proper way. GsonConverterFactory supposed to do this in its own by trigger either the observerWebSocketEvents or the @Send observeResponse. Can you provide as what you finally did??"}, {"owner": {"reputation": 1151, "user_id": 783570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b568186883af726f2d8b52f92f177092?s=128&d=identicon&r=PG", "display_name": "ben", "link": "https://stackoverflow.com/users/783570/ben"}, "edited": false, "score": 0, "creation_date": 1610747994, "post_id": 58103160, "comment_id": 116239645, "body": "Ever figured that one out?"}], "tags": [], "owner": {"reputation": 101, "user_id": 9914488, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JHd8Q44zvzY/AAAAAAAAAAI/AAAAAAAAAFs/Lh3CraQODs4/photo.jpg?sz=128", "display_name": "Samuel Lu&#237;s", "link": "https://stackoverflow.com/users/9914488/samuel-lu%c3%ads"}, "is_accepted": false, "score": 2, "last_activity_date": 1569430253, "creation_date": 1569430253, "answer_id": 58103160, "question_id": 56242707, "link": "https://stackoverflow.com/questions/56242707/listen-for-server-response-using-scarlet/58103160#58103160", "title": "Listen for Server response using Scarlet", "body": "<p>I was experiencing the same problem, until I found a way to catch the messages coming from the socket.</p>\n\n<p>I'm catching the messages this way:</p>\n\n<pre><code>        socketInit.socket.observeWebSocketEvent()               \n            .subscribe {\n                when (it) {\n                    is WebSocketEvent.OnConnectionOpened -&gt; {\n                        //I do the Subscription Here the 1st message to the webserver \n                    }\n\n                    is WebSocketEvent.OnConnectionClosing -&gt; {\n                        //Connection Closing\n                    }\n\n                    is WebSocketEvent.OnConnectionFailed -&gt; {\n                        //If connection fails\n                    }\n\n                    is WebSocketEvent.OnMessageReceived -&gt; {                          \n                        //I'm doing it here!! If you parse the it.message.toString()\n                        //You can transform the response into a JSON Object like this\n                        val x  : Response = Gson().fromJson(it.message.toString(), Response::class.java) \n                    }\n</code></pre>\n\n<p>I hope this will help you</p>\n"}], "owner": {"reputation": 61, "user_id": 10879695, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oob0DA2fFRE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbE9jtPSqdo6waOlqDPH9eog8X6Yg/mo/photo.jpg?sz=128", "display_name": "Chidinma Ekenne", "link": "https://stackoverflow.com/users/10879695/chidinma-ekenne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569430253, "creation_date": 1558456209, "question_id": 56242707, "link": "https://stackoverflow.com/questions/56242707/listen-for-server-response-using-scarlet", "title": "Listen for Server response using Scarlet", "body": "<p>so I have recently used scarlet WebSocket to successfully send data to my server online but the issue is that I am supposed to get a response from the server but am not getting anything.\nbelow is my code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @SuppressLint(\"CheckResult\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val socketInit = ServerClass(application)\n        socketInit.socket.observeWebSocketEvent()\n            .filter { it is WebSocket.Event.OnConnectionOpened&lt;*&gt; }\n            .subscribe({\n                val data =  \"{ \\\"lat\\\": 40.5555555555, \\\"lng\\\": 37.55564555554545, \\\"userId\\\": 2}\"\n                val send = LocationAction(data =data)\n\n                socketInit.socket.subscribe(send)\n                Log.d(\"TAG_SUB\",send.toString())\n\n\n        },{\n            Log.e(\"TAG\", \"Error while observing socket ${it.cause}\")\n        })\n\n\n        socketInit.socket.observeTicker().subscribe({\n            idText.text  =it\n            Log.d(\"TAG\", \"Observed: $it\")\n        },\n            {\n                Log.e(\"TAG\", \"Error while observing ticker ${it.cause}\")\n            })\n\n\n    }\n\n}\n</code></pre>\n\n<p>here is my interface</p>\n\n<pre><code>interface SocketService {\n    @Receive\n    fun observeWebSocketEvent(): Flowable&lt;WebSocket.Event&gt;\n    @Send\n    fun subscribe(action: LocationAction)\n\n    @Receive\n    fun observeTicker(): Flowable&lt;String&gt;\n}\n</code></pre>\n\n<p>this class bellow hold my scarlet implementation and my socket url </p>\n\n<pre><code>class ServerClass(application: Application): MainApplication() {\n\n    private val lifecycle = AndroidLifecycle.ofApplicationForeground(application = application)\n    private val backoffStrategy = ExponentialWithJitterBackoffStrategy(5000, 5000)\n\n    private val okHttpClient = OkHttpClient.Builder()\n        .connectTimeout(10, TimeUnit.SECONDS)\n        .readTimeout(10, TimeUnit.SECONDS)\n        .writeTimeout(10, TimeUnit.SECONDS)\n        .build()\n\n    val socket = Scarlet.Builder()\n        .webSocketFactory(okHttpClient.newWebSocketFactory(\"https://staging.kross.app/api/v1/notification/update\"))\n        .addMessageAdapterFactory(MoshiMessageAdapter.Factory())\n        .addStreamAdapterFactory(RxJava2StreamAdapterFactory())\n        .backoffStrategy(backoffStrategy)\n        .lifecycle(lifecycle)\n        .build()\n        .create&lt;SocketService&gt;()\n\n\n}\n</code></pre>\n\n<p>The observeTicker function should be where I listen for my response from the server but nothing is happening. Please I need help </p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1558456460, "post_id": 56242699, "comment_id": 99104240, "body": "Why do you think this should compile in the first place? Where is this <code>eq</code> method supposed to come from? Where did you read that such a method existed?"}, {"owner": {"reputation": 3954, "user_id": 146234, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903ccadd292c66cf8d231d664f753f50?s=128&d=identicon&r=PG", "display_name": "PacificNW_Lover", "link": "https://stackoverflow.com/users/146234/pacificnw-lover"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1558456493, "post_id": 56242699, "comment_id": 99104256, "body": "Its from a Coursera class on Kotlin that I am taking"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1558456650, "post_id": 56242699, "comment_id": 99104326, "body": "AFAIK, here is no such <code>eq</code> function in the standard Kotlin API. So it&#39;s probably an extension function from a library. You need to add that library to your classpath and import the extension function."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1558473586, "post_id": 56242699, "comment_id": 99111473, "body": "Perhaps it&#39;s getting confused with Scala, which does have an <code>eq</code> operator?  (It&#39;s the identity operator, similar to <code>===</code> in Kotlin.)"}], "answers": [{"tags": [], "owner": {"reputation": 3954, "user_id": 146234, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903ccadd292c66cf8d231d664f753f50?s=128&d=identicon&r=PG", "display_name": "PacificNW_Lover", "link": "https://stackoverflow.com/users/146234/pacificnw-lover"}, "is_accepted": false, "score": 12, "last_activity_date": 1558503932, "creation_date": 1558503932, "answer_id": 56250052, "question_id": 56242699, "link": "https://stackoverflow.com/questions/56242699/intellij-idea-kotlin-unresolved-reference-eq-method/56250052#56250052", "title": "IntelliJ IDEA - Kotlin: Unresolved reference: eq method", "body": "<p>Found it, inside the Coursera course, Kotlin has a Playground where the code is hidden but you can expand it and view it by clicking on the + sign.</p>\n\n<pre><code>infix fun &lt;T&gt; T.eq(other: T) {\n    if (this == other) println(\"OK\")\n    else println(\"Error: $this != $other\")\n}\n</code></pre>\n"}], "owner": {"reputation": 3954, "user_id": 146234, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903ccadd292c66cf8d231d664f753f50?s=128&d=identicon&r=PG", "display_name": "PacificNW_Lover", "link": "https://stackoverflow.com/users/146234/pacificnw-lover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1558503932, "creation_date": 1558456175, "question_id": 56242699, "link": "https://stackoverflow.com/questions/56242699/intellij-idea-kotlin-unresolved-reference-eq-method", "title": "IntelliJ IDEA - Kotlin: Unresolved reference: eq method", "body": "<p>Am using IntelliJ IDEA 2019.1.2 (Ultimate Edition) with Kotlin (kotlinc-jvm 1.3.31) on macOS Mojave 10.14.5.  </p>\n\n<p>When I created a Kotlin JVM project and added a Kotlin file entitled \"Nullability.kt\" with the following code (extension function with a main() method):</p>\n\n<pre><code>fun List&lt;Int&gt;.allNonZero() = all { it &gt; 0 }\n\nfun main() {\n    val list1 = listOf(1, 2, 3)\n    list1.allNonZero() eq true\n}\n</code></pre>\n\n<p>IntelliJ IDEA highlights \"eq\" in red and it states:</p>\n\n<pre><code>Kotlin: Unresolved reference: eq\n</code></pre>\n\n<p>How to resolve this from within IntelliJ IDEA?</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "focus", "android-videoview"], "owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1558455452, "creation_date": 1558455452, "question_id": 56242512, "link": "https://stackoverflow.com/questions/56242512/android-videoview-taking-focus-of-activity", "title": "Android - VideoView taking focus of activity", "body": "<p>I have a list of videoViews, but because videoView takes the focus by default, the activity it is in will start somewhere halfway the activity where the videos are. </p>\n\n<p>How can I stop the video from taking focus so my activity starts on the top like normal? I use API 21 and kotlin.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-architecture-components", "android-viewmodel"], "comments": [{"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1558453318, "post_id": 56241656, "comment_id": 99102568, "body": "What version of Kotlin are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 5922, "user_id": 8583692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joGZ9.png?s=128&g=1", "display_name": "Mahozad", "link": "https://stackoverflow.com/users/8583692/mahozad"}, "edited": false, "score": 0, "creation_date": 1558455495, "post_id": 56242101, "comment_id": 99103774, "body": "Thank you. It was exactly that. Now the app cannot be compiled because of a dependency cycle which is probably a programming error: <code>e: C:\\Project\\...\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\myapp\\di\\&zwnj;&#8203;AppComponent.java:16&zwnj;&#8203;: error: [Dagger&#47;DependencyCycle] Found a dependency cycle: public abstract interface AppComponent ...</code> `. I will post it as another question."}, {"owner": {"reputation": 361, "user_id": 4833716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73719b4afb46efcd19bb1d8f9d154b92?s=128&d=identicon&r=PG&f=1", "display_name": "paul_hundal", "link": "https://stackoverflow.com/users/4833716/paul-hundal"}, "edited": false, "score": 0, "creation_date": 1588802264, "post_id": 56242101, "comment_id": 109043908, "body": "curious how this was solved, as the <code>MainActivity</code> does not implement <code>HasAndroidInjector</code>"}, {"owner": {"reputation": 799, "user_id": 5040556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1773b4cecf543a7e334240f46fd6d113?s=128&d=identicon&r=PG&f=1", "display_name": "Daniele", "link": "https://stackoverflow.com/users/5040556/daniele"}, "edited": false, "score": 0, "creation_date": 1591613599, "post_id": 56242101, "comment_id": 110112675, "body": "Please check at this <a href=\"https://stackoverflow.com/questions/55669810/dagger-missingbinding-java-util-mapjava-lang-class-extends-viewmodel-provide/62260147#62260147\" title=\"dagger missingbinding java util mapjava lang class extends viewmodel provide\">stackoverflow.com/questions/55669810/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 1, "last_activity_date": 1558454063, "creation_date": 1558454063, "answer_id": 56242101, "question_id": 56241656, "link": "https://stackoverflow.com/questions/56241656/dagger-missingbinding-error-when-injecting-viewmodels/56242101#56242101", "title": "Dagger MissingBinding error when injecting ViewModels", "body": "<p>I faced same issue combining <code>Android X</code> and <code>Kotlin version 1.3.0</code>, Dagger won't be able to create <code>MultiBindings</code>. To solve the problem I just followed next steps: </p>\n\n<p>a) <strong>Update Kotlin version to 1.3.31</strong> on <code>build.gradle</code> file:</p>\n\n<pre><code>dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin: 1.3.31\"\n}\n</code></pre>\n\n<p>b) <strong>Clean and rebuild</strong> the project, to do so, execute the following command in a terminal:</p>\n\n<pre><code>$ gradle clean build \n</code></pre>\n\n<p>or if using gradle wrapper:</p>\n\n<pre><code> $ ./gradlew clean build\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1930, "user_id": 5877937, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IFiok.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/5877937/dhaval"}, "is_accepted": false, "score": 1, "last_activity_date": 1563214130, "creation_date": 1563214130, "answer_id": 57045083, "question_id": 56241656, "link": "https://stackoverflow.com/questions/56241656/dagger-missingbinding-error-when-injecting-viewmodels/57045083#57045083", "title": "Dagger MissingBinding error when injecting ViewModels", "body": "<p>I have tried updating the <code>kotlin-gradle-plugin</code> to <code>1.3.31</code> but it didn't work for me.</p>\n\n<p>After spending some time on the internet, I have found the following solution which is working for me.</p>\n\n<p>Try adding <code>@JvmSuppressWildcards</code> before <code>Provider&lt;ViewModel&gt;</code> like following:</p>\n\n<pre><code>@Singleton\n@Provides\nfun provideViewModelFactory(creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;): ViewModelFactory {\n    return ViewModelFactory(creators)\n}\n</code></pre>\n\n<p>And in <code>ViewModelFactory</code> as well.</p>\n\n<pre><code>class ViewModelFactory(private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;) :\n        ViewModelProvider.Factory\n</code></pre>\n"}], "owner": {"reputation": 5922, "user_id": 8583692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joGZ9.png?s=128&g=1", "display_name": "Mahozad", "link": "https://stackoverflow.com/users/8583692/mahozad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 2, "accepted_answer_id": 56242101, "answer_count": 2, "score": 0, "last_activity_date": 1563214130, "creation_date": 1558452544, "question_id": 56241656, "link": "https://stackoverflow.com/questions/56241656/dagger-missingbinding-error-when-injecting-viewmodels", "title": "Dagger MissingBinding error when injecting ViewModels", "body": "<p>I'm new to dagger and want to use it for injecting ViewModels (along with other objects such as repositories). When I try to compile the app this error is shown:</p>\n\n<pre><code>e: C:\\Project\\...\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\myapp\\di\\AppComponent.java:16: error: [Dagger/MissingBinding] java.util.Map&lt;java.lang.Class&lt;? extends androidx.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;androidx.lifecycle.ViewModel&gt;&gt; cannot be provided without an @Provides-annotated method.\n\npublic abstract interface AppComponent {\n                ^\n      java.util.Map&lt;java.lang.Class&lt;? extends androidx.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;androidx.lifecycle.ViewModel&gt;&gt; is injected at\n          com.myapp.di.ViewModelFactory(viewModels)\n      com.myapp.di.ViewModelFactory is injected at\n          com.myapp.di.ViewModelModule.bindViewModelFactory(factory)\n      androidx.lifecycle.ViewModelProvider.Factory is injected at\n          com.myapp.ui.activity.MainActivity.viewModelFactory\n      com.myapp.ui.activity.MainActivity is injected at\n          dagger.android.AndroidInjector.inject(T) [com.myapp.di.AppComponent ? com.myapp.di.ActivityModule_ContributeMainActivity.MainActivitySubcomponent]\n  The following other entry points also depend on it:\n      dagger.android.AndroidInjector.inject(T) [com.myapp.di.AppComponent ? com.myapp.di.ActivityModule_ContributeItemsFrament.ItemsFragmentSubcomponent]\n</code></pre>\n\n<p>Maybe there is one silly mistake that prevents compilation.</p>\n\n\n\n<p>Dagger component:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidSupportInjectionModule::class, AppModule::class, DatabaseModule::class, ViewModelModule::class, ActivityModule::class])\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: MyCustomApplication): Builder\n\n        fun build(): AppComponent\n    }\n\n    fun inject(app: MyCustomApplication)\n}\n</code></pre>\n\n<p>AppModule:</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Inject\n    lateinit var app: Application\n\n    @Provides\n    @Singleton\n    fun provideAppContext(): Context = app.applicationContext\n}\n</code></pre>\n\n<p>ActivityModule:</p>\n\n<pre><code>@Module\nabstract class ActivityModule {\n\n    @ContributesAndroidInjector\n    abstract fun bindMainActivity(): MainActivity\n\n    @ContributesAndroidInjector\n    abstract fun contributeMainFrament(): MainFragment\n}\n</code></pre>\n\n<p>ViewModelModule:</p>\n\n<pre><code>@Module\nabstract class ViewModelModule {\n\n    @Binds\n    abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainViewModel::class)\n    abstract fun mainViewModel(mainViewModel: MainViewModel): ViewModel\n}\n</code></pre>\n\n<p>ViewModelFactory:</p>\n\n<pre><code>@Singleton\nclass ViewModelFactory\n@Inject constructor(private val viewModels: MutableMap&lt;Class&lt;out ViewModel&gt;, Provider&lt;ViewModel&gt;&gt;)\n: ViewModelProvider.Factory {\n\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        val creator = viewModels[modelClass]\n                ?: viewModels.asIterable().firstOrNull { modelClass.isAssignableFrom(it.key) }?.value\n                ?: throw IllegalArgumentException(\"unknown model class $modelClass\")\n        return try {\n            creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n    }\n}\n</code></pre>\n\n<p>The application class:</p>\n\n<pre><code>class MyCustomApplication : Application(), HasActivityInjector, HasSupportFragmentInjector {\n\n    @Inject lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerMainComponent\n                .builder()\n                .application(this)\n                .build()\n                .inject(this)\n    }\n\n    override fun activityInjector() = activityInjector\n}\n</code></pre>\n\n<p>MainViewModel (<strong>note that it extends from <code>AndroidViewModel</code> and requires an application context</strong>):</p>\n\n<pre><code>class MainViewModel @Inject constructor(app: Application, private val repository: MainRepository)\n    : AndroidViewModel(app) {\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n    @Inject\n    internal lateinit var viewModelFactory: ViewModelProvider.Factory\n    private lateinit var viewModel: MainViewModel\n\n    override fun onCreate(savedState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedState)\n        viewModel = ViewModelProviders.of(this,viewModelFactory).get(MainViewModel::class.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 11271840, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sY8tfsHoQDo/AAAAAAAAAAI/AAAAAAAAACE/V3MBEdG7R4s/photo.jpg?sz=128", "display_name": "Kilarn123", "link": "https://stackoverflow.com/users/11271840/kilarn123"}, "reply_to_user": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1558451541, "post_id": 56241057, "comment_id": 99101553, "body": "edit your question with the code you tried then, i show the basic way but i don&#39;t really know what you tried"}], "tags": [], "owner": {"reputation": 585, "user_id": 11271840, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sY8tfsHoQDo/AAAAAAAAAAI/AAAAAAAAACE/V3MBEdG7R4s/photo.jpg?sz=128", "display_name": "Kilarn123", "link": "https://stackoverflow.com/users/11271840/kilarn123"}, "is_accepted": false, "score": 0, "last_activity_date": 1558450508, "creation_date": 1558450508, "answer_id": 56241057, "question_id": 56240898, "link": "https://stackoverflow.com/questions/56240898/multiple-clickable-links-in-textview/56241057#56241057", "title": "Multiple clickable links in TextView", "body": "<p>You can add <code>android:autoLink=\"web\"</code> in TextView attributes</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/textview\"\n    android:autoLink=\"web\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1558451026, "post_id": 56241090, "comment_id": 99101248, "body": "I&#39;ve tried that, it actually has the opposite effect, it makes the links look like regular text instead and still doesn&#39;t make them clickable. :/"}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1558451932, "post_id": 56241090, "comment_id": 99101772, "body": "Hmm how do you set the links themselves? With HTML or URLSpan or autolink or ?"}, {"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1558452184, "post_id": 56241090, "comment_id": 99101923, "body": "I&#39;ve tried all three, with and without setting movementMethod."}, {"owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "edited": false, "score": 0, "creation_date": 1558452807, "post_id": 56241090, "comment_id": 99102282, "body": "Oh... In my rage, I guess I forgot to remove autolinking when trying to setMovementMethod and they were conflicting, making the links unclickable, it works now lol. Thanks."}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 0, "last_activity_date": 1558450594, "creation_date": 1558450594, "answer_id": 56241090, "question_id": 56240898, "link": "https://stackoverflow.com/questions/56240898/multiple-clickable-links-in-textview/56241090#56241090", "title": "Multiple clickable links in TextView", "body": "<p>Make sure to set the correct MovementMethod to make links clickable.</p>\n\n<p>Java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>textView.setMovementMethod(LinkMovementMethod.getInstance());\n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>textView.movementMethod = LinkMovementMethod.getInstance()\n</code></pre>\n"}], "owner": {"reputation": 467, "user_id": 5012900, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1f10ca092eb801e9f1e62234693a82fc?s=128&d=identicon&r=PG&f=1", "display_name": "Slimez", "link": "https://stackoverflow.com/users/5012900/slimez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 56241090, "answer_count": 2, "score": -1, "last_activity_date": 1558450594, "creation_date": 1558450070, "question_id": 56240898, "link": "https://stackoverflow.com/questions/56240898/multiple-clickable-links-in-textview", "title": "Multiple clickable links in TextView", "body": "<p>I'm trying to add a TextView with the classic <code>you accept our terms and conditions and privacy polcy</code> text with web links to the ToS and Privacy Policy but got stuck trying to get the links to work. I am able to create the links but they do nothing when clicked. I have tried many solutions, but none seem to work.</p>\n\n<p>How would you go about making multiple links work properly?</p>\n"}, {"tags": ["android", "kotlin", "textview"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1558450506, "post_id": 56240507, "comment_id": 99100872, "body": "Try making all constructors look like <code>constructor(params) : super(params)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1558450850, "creation_date": 1558450850, "answer_id": 56241165, "question_id": 56240507, "link": "https://stackoverflow.com/questions/56240507/extending-textview-does-not-show-text/56241165#56241165", "title": "Extending TextView does not show text", "body": "<p>The issue with setting default parameters for <code>defStyleAttr</code> is, that the base class might do the same to actually handle styles and states. Your initialisation happens in <code>init {}</code> anyhow.</p>\n\n<pre><code>class LongClickToCopyTextView : TextView {\n    constructor(context: Context) : super(context)\n    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)\n\n    init {\n        setOnLongClickListener {\n            val clipboard = context?.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager?\n            val clip = ClipData.newPlainText(context?.packageName, text)\n            clipboard?.primaryClip = clip\n            true\n        }\n    }\n}\n</code></pre>\n\n<p>Also you might want to extend fro <code>AppCompatTextView</code> instead. It has some newer features backported.</p>\n"}], "owner": {"reputation": 1608, "user_id": 3016293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/bRZn2.png?s=128&g=1", "display_name": "hiddeneyes02", "link": "https://stackoverflow.com/users/3016293/hiddeneyes02"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56241165, "answer_count": 1, "score": 0, "last_activity_date": 1567587039, "creation_date": 1558448882, "last_edit_date": 1567587039, "question_id": 56240507, "link": "https://stackoverflow.com/questions/56240507/extending-textview-does-not-show-text", "title": "Extending TextView does not show text", "body": "<p>I want to implement an <code>OnLongClickListener</code> to some of my <code>TextView</code>s, but I don't want to repeat the same code everywhere, so I want to extend <code>TextView</code> and implement the <code>OnLongClickListener</code> just once.</p>\n\n<pre><code>class LongClickToCopyTextView : TextView {\n\n    constructor(context: Context) : this(context, null, 0)\n    constructor(context: Context, attrs: AttributeSet?) : this(context, attrs, 0)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)\n\n    init {\n        setOnLongClickListener {\n            val clipboard = context?.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager?\n            val clip = ClipData.newPlainText(context?.packageName, text)\n            clipboard?.primaryClip = clip\n            true\n        }\n    }\n}\n</code></pre>\n\n<p>The implementation of the listener is used copy the text of the TextView into the clipboard when a user long presses it.</p>\n\n<p>The problem is the text of the custom TextView is not shown. But if I use regular <code>TextView</code> the text is displayed correctly.</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;com.dzboot.myips.custom.LongClickToCopyTextView\n     android:id=\"@+id/simNumber\"\n     android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"\n     android:textSize=\"14sp\"\n     android:text=\"00\"\n     app:layout_constraintEnd_toEndOf=\"parent\"\n     app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1558449904, "post_id": 56240501, "comment_id": 99100431, "body": "Try doing <code>ls build&#47;libs&#47;sensorPreprocessor-1.0-SNAPSHOT.jar</code>. Does the jar actually exist? Are you in the correct directory? Note that the <code>java</code> command doesn&#39;t complain about a non-existent jar as a <code>-cp</code> option parameter."}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1558449915, "post_id": 56240501, "comment_id": 99100440, "body": "I guess you have followed <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">this</a> and checked that everything is exactly setup like it should be?"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1558450243, "post_id": 56240501, "comment_id": 99100697, "body": "@DodgyCodeException yes, in fact I can also read the classes from that file"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 627, "user_id": 11474419, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IoglluQfvrw/AAAAAAAAAAI/AAAAAAAAAAc/bXpdUcud1yc/photo.jpg?sz=128", "display_name": "Ashwanth Kumar", "link": "https://stackoverflow.com/users/11474419/ashwanth-kumar"}, "edited": false, "score": 0, "creation_date": 1558450245, "post_id": 56240501, "comment_id": 99100698, "body": "@AshwanthKumar tried that now, same thing"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1558450293, "post_id": 56240501, "comment_id": 99100724, "body": "@Lino I&#39;ve created the project with IntelliJ, I&#39;ve tried to re-create and empty project and it seems that the <code>org.jetbrains.kotlin.jvm</code> plugin takes care of the gradle integration"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558451197, "post_id": 56240501, "comment_id": 99101348, "body": "@Roland you mean adding <code>configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) }</code> ? I&#39;ve tried that but I get <code>Resolving configuration &#39;implementation&#39; directly is not allowed</code>, is that what you meant?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558451261, "post_id": 56240501, "comment_id": 99101385, "body": "... or just switch <code>implementation</code> to <code>compile</code> for that test..."}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558451481, "post_id": 56240501, "comment_id": 99101514, "body": "@Roland just tried that, it takes more time to build the jar but it still fails with the same error"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "edited": false, "score": 1, "creation_date": 1558451965, "post_id": 56240501, "comment_id": 99101786, "body": "I&#39;ve solved it adding the gradle shadow plugin, would be nice to understand why it wasn&#39;t working before tho"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1558451971, "post_id": 56240501, "comment_id": 99101791, "body": "maybe you want to go through that list: <a href=\"https://stackoverflow.com/a/18093929/6202869\">stackoverflow.com/a/18093929/6202869</a>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558452031, "post_id": 56240501, "comment_id": 99101832, "body": "@alex88 but that&#39;s not really solving this particular issue ;-) this is rather a workaround... but if it works.. ok..."}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558452290, "post_id": 56240501, "comment_id": 99101988, "body": "@Roland I would love to know why it wasn&#39;t working, I&#39;ve tried to start a new app, add a single dependency and the error was <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin&#47;jvm&#47;internal&#47;Intrinsics</code> but I think it&#39;s not the one i was facing, I think I wasn&#39;t doing one of these things listed here <a href=\"https://imperceptiblethoughts.com/shadow/getting-started/#default-java-groovy-tasks\" rel=\"nofollow noreferrer\">imperceptiblethoughts.com/shadow/getting-started/&hellip;</a>"}, {"owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558452332, "post_id": 56240501, "comment_id": 99102012, "body": "@Roland also, looking at your list, should the fact that <code>javap</code> shows the class and its main function mean that the classpath/name/package/folder is all correct?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558452480, "post_id": 56240501, "comment_id": 99102102, "body": "@alex88 yes... your bytecode looks good... also the path to <code>main</code> looks good... your statement regarding <code>NoClassDefFoundError ... Intrinsics</code> basically points to a missing <code>kotlin-stdlib</code>."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "edited": false, "score": 0, "creation_date": 1558452714, "post_id": 56240501, "comment_id": 99102230, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/193714/discussion-between-roland-and-alex88\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2106, "user_id": 2306595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrRru.png?s=128&g=1", "display_name": "Innokenty", "link": "https://stackoverflow.com/users/2306595/innokenty"}, "edited": false, "score": 2, "creation_date": 1587483709, "post_id": 56242000, "comment_id": 108526775, "body": "Wow, that solution works indeed! Anyone has any explanation why those files break the jar?"}, {"owner": {"reputation": 187, "user_id": 1712906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJnZY.jpg?s=128&g=1", "display_name": "fvildoso", "link": "https://stackoverflow.com/users/1712906/fvildoso"}, "edited": false, "score": 0, "creation_date": 1604682923, "post_id": 56242000, "comment_id": 114431034, "body": "it also works in a &quot;java-kotlin gradle kts project&quot;, but I don&#39;t know why \ud83e\udd14"}], "tags": [], "owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "is_accepted": true, "score": 11, "last_activity_date": 1558453719, "creation_date": 1558453719, "answer_id": 56242000, "question_id": 56240501, "link": "https://stackoverflow.com/questions/56240501/kotlin-could-not-find-or-load-main-class/56242000#56242000", "title": "Kotlin Could not find or load main class", "body": "<p>I've found the issue, in the jar task I had to add</p>\n\n<pre><code>exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n</code></pre>\n\n<p>so it becomes:</p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'co.myapp.sensorPreprocessor.MqttPollerKt'\n    }\n\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n\n    from {\n        (configurations.compile).collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4388, "user_id": 690839, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0055f9fd77303560504e12698d63f5?s=128&d=identicon&r=PG", "display_name": "alex88", "link": "https://stackoverflow.com/users/690839/alex88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3986, "favorite_count": 1, "accepted_answer_id": 56242000, "answer_count": 1, "score": 10, "last_activity_date": 1558453719, "creation_date": 1558448859, "question_id": 56240501, "link": "https://stackoverflow.com/questions/56240501/kotlin-could-not-find-or-load-main-class", "title": "Kotlin Could not find or load main class", "body": "<p>I'm trying to build a jar from a kotlin app using intelliJ idea, everything works from intellij, it's able to run kotlin files with the <code>main</code> method, however after building the jar with <code>gradle jar</code> I get:</p>\n\n<pre><code>java -cp build/libs/sensorPreprocessor-1.0-SNAPSHOT.jar co.myapp.sensorPreprocessor.MqttPollerKt\nError: Could not find or load main class co.myapp.sensorPreprocessor.MqttPollerKt\n</code></pre>\n\n<p>my <code>build.gradle</code> is this:</p>\n\n<pre><code>\n\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.31'\n    id \"com.commercehub.gradle.plugin.avro\" version '0.16.0'\n}\n\napply plugin: 'kotlin'\napply plugin: 'application'\nmainClassName = 'co.myapp.sensorPreprocessor.MqttPollerKt'\n\ngroup 'co.myapp'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven {\n        url  \"https://dl.bintray.com/cbeust/maven\"\n    }\n    maven {\n        url  \"http://packages.confluent.io/maven/\"\n    }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:1.3.31\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    compile group: 'org.apache.kafka', name: 'kafka-streams', version: '2.2.0'\n    compile group: 'com.igormaznitsa', name: 'jbbp', version: '1.4.1'\n    compile group: 'software.amazon.awssdk', name: 'sqs', version: '2.5.45'\n    compile group: 'com.amazonaws', name: 'aws-iot-device-sdk-java', version: '1.3.0'\n    compile group: 'com.amazonaws', name: 'aws-iot-device-sdk-java-samples', version: '1.3.0'\n    compile group: 'com.beust', name: 'klaxon', version: '5.0.5'\n    compile group: 'org.apache.kafka', name: 'kafka-clients', version: '2.2.0'\n    compile group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.2.1'\n    compile group: 'io.confluent', name: 'kafka-streams-avro-serde', version: '5.2.1'\n    compile group: 'io.confluent', name: 'monitoring-interceptors', version: '5.2.1'\n    compile group: 'org.apache.avro', name: 'avro', version: '1.9.0'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'co.myapp.sensorPreprocessor.MqttPollerKt'\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>my main file is this:</p>\n\n<pre><code>package co.myapp.sensorPreprocessor\n\nimport software.amazon.awssdk.services.sqs.model.Message as AwsSqsMessage\n....\n\n\nclass MqttPoller {\n    companion object {\n        @JvmStatic fun main(args: Array&lt;String&gt;) {\n            start()\n        }\n\n        fun start() {\n            ...\n        }\n    }\n}\n\nclass MessagesTopic(topic: String, qos: AWSIotQos, private val kafkaProducer: KafkaProducer&lt;String, SensorData&gt;) : AWSIotTopic(topic, qos) {\n    override fun onMessage(message: AWSIotMessage?) {\n        ....\n    }\n}\n\n\nfun main() {\n    MqttPoller.start()\n}\n</code></pre>\n\n<p>I've tried both <code>co.myapp.sensorPreprocessor.MqttPollerKt</code> and <code>co.myapp.sensorPreprocessor.MqttPoller</code> with the same results.\nIf after I type <code>java -cp JAR_PATH &lt;tab&gt;</code> I try to autocomplete I can see it autocompletes with my class names, but still it doesn't work.</p>\n\n<p>If I try to use <code>javap</code> it also shows the class:</p>\n\n<pre><code>\u279c  iot-services-sensor-preprocessor git:(master) \u2717 javap -cp build/libs/sensorPreprocessor-1.0-SNAPSHOT.jar co.myapp.sensorPreprocessor.MqttPollerKt\nCompiled from \"MqttPoller.kt\"\npublic final class co.myapp.sensorPreprocessor.MqttPollerKt {\n  public static final void main();\n  public static void main(java.lang.String[]);\n}\n\u279c  iot-services-sensor-preprocessor git:(master) \u2717 javap -verbose -cp build/libs/sensorPreprocessor-1.0-SNAPSHOT.jar co.myapp.sensorPreprocessor.MqttPollerKt\nClassfile jar:file:///Users/alex/Projects/myapp/build/libs/sensorPreprocessor-1.0-SNAPSHOT.jar!/co/myapp/sensorPreprocessor/MqttPollerKt.class\n  Last modified May 21, 2019; size 754 bytes\n  MD5 checksum 52febc7a2f38ef786ded2198193827b3\n  Compiled from \"MqttPoller.kt\"\npublic final class co.myapp.sensorPreprocessor.MqttPollerKt\n  minor version: 0\n  major version: 52\n  flags: (0x0031) ACC_PUBLIC, ACC_FINAL, ACC_SUPER\n  this_class: #2                          // co/myapp/sensorPreprocessor/MqttPollerKt\n  super_class: #4                         // java/lang/Object\n  interfaces: 0, fields: 0, methods: 2, attributes: 2\nConstant pool:\n   #1 = Utf8               co/myapp/sensorPreprocessor/MqttPollerKt\n   #2 = Class              #1             // co/myapp/sensorPreprocessor/MqttPollerKt\n   #3 = Utf8               java/lang/Object\n   #4 = Class              #3             // java/lang/Object\n   #5 = Utf8               main\n   #6 = Utf8               ()V\n   #7 = Utf8               ([Ljava/lang/String;)V\n   #8 = NameAndType        #5:#6          // main:()V\n   #9 = Methodref          #2.#8          // co/myapp/sensorPreprocessor/MqttPollerKt.main:()V\n  #10 = Utf8               co/myapp/sensorPreprocessor/MqttPoller\n  #11 = Class              #10            // co/myapp/sensorPreprocessor/MqttPoller\n  #12 = Utf8               Companion\n  #13 = Utf8               Lco/myapp/sensorPreprocessor/MqttPoller$Companion;\n  #14 = NameAndType        #12:#13        // Companion:Lco/myapp/sensorPreprocessor/MqttPoller$Companion;\n  #15 = Fieldref           #11.#14        // co/myapp/sensorPreprocessor/MqttPoller.Companion:Lco/myapp/sensorPreprocessor/MqttPoller$Companion;\n  #16 = Utf8               co/myapp/sensorPreprocessor/MqttPoller$Companion\n  #17 = Class              #16            // co/myapp/sensorPreprocessor/MqttPoller$Companion\n  #18 = Utf8               start\n  #19 = NameAndType        #18:#6         // start:()V\n  #20 = Methodref          #17.#19        // co/myapp/sensorPreprocessor/MqttPoller$Companion.start:()V\n  #21 = Utf8               Lkotlin/Metadata;\n  #22 = Utf8               mv\n  #23 = Integer            1\n  #24 = Integer            15\n  #25 = Utf8               bv\n  #26 = Integer            0\n  #27 = Integer            3\n  #28 = Utf8               k\n  #29 = Integer            2\n  #30 = Utf8               d1\n  #31 = Utf8               \\u0000\\b\\n\\u0000\\n\\u0002\\u0010\\u0002\\n\\u0000\\u001a\\u0006\\u0010\\u0000\\u001a\\u00020\\u0001\u00a8\\u0006\\u0002\n  #32 = Utf8               d2\n  #33 = Utf8\n  #34 = Utf8               sensorPreprocessor\n  #35 = Utf8               MqttPoller.kt\n  #36 = Utf8               Code\n  #37 = Utf8               LineNumberTable\n  #38 = Utf8               SourceFile\n  #39 = Utf8               RuntimeVisibleAnnotations\n{\n  public static final void main();\n    descriptor: ()V\n    flags: (0x0019) ACC_PUBLIC, ACC_STATIC, ACC_FINAL\n    Code:\n      stack=1, locals=0, args_size=0\n         0: getstatic     #15                 // Field co/myapp/sensorPreprocessor/MqttPoller.Companion:Lco/myapp/sensorPreprocessor/MqttPoller$Companion;\n         3: invokevirtual #20                 // Method co/myapp/sensorPreprocessor/MqttPoller$Companion.start:()V\n         6: return\n      LineNumberTable:\n        line 78: 0\n        line 79: 6\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: (0x1009) ACC_PUBLIC, ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=0, locals=1, args_size=1\n         0: invokestatic  #9                  // Method main:()V\n         3: return\n}\nSourceFile: \"MqttPoller.kt\"\nRuntimeVisibleAnnotations:\n  0: #21(#22=[I#23,I#23,I#24],#25=[I#23,I#26,I#27],#28=I#29,#30=[s#31],#32=[s#5,s#33,s#34])\n    kotlin.Metadata(\n      mv=[1,1,15]\n      bv=[1,0,3]\n      k=2\n      d1=[\"\\u0000\\b\\n\\u0000\\n\\u0002\\u0010\\u0002\\n\\u0000\\u001a\\u0006\\u0010\\u0000\\u001a\\u00020\\u0001\u00a8\\u0006\\u0002\"]\n      d2=[\"main\",\"\",\"sensorPreprocessor\"]\n    )\n</code></pre>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-gradle-plugin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7610160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXfeA.jpg?s=128&g=1", "display_name": "Baback Kh", "link": "https://stackoverflow.com/users/7610160/baback-kh"}, "edited": false, "score": 0, "creation_date": 1558535708, "post_id": 56244378, "comment_id": 99135142, "body": "I added the code to  build.gradle, but, still the same"}], "tags": [], "owner": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1558463297, "creation_date": 1558463297, "answer_id": 56244378, "question_id": 56240187, "link": "https://stackoverflow.com/questions/56240187/error-failed-to-resolve-sqlite-affected-modules-app/56244378#56244378", "title": "ERROR: Failed to resolve: sqlite Affected Modules: app", "body": "<p>Check with google repository by adding following in project build.gradle.</p>\n\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7610160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXfeA.jpg?s=128&g=1", "display_name": "Baback Kh", "link": "https://stackoverflow.com/users/7610160/baback-kh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 720, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558463297, "creation_date": 1558447898, "last_edit_date": 1558447962, "question_id": 56240187, "link": "https://stackoverflow.com/questions/56240187/error-failed-to-resolve-sqlite-affected-modules-app", "title": "ERROR: Failed to resolve: sqlite Affected Modules: app", "body": "<p>I am trying to sync a Kotlin project from GitHub in Android Studio. During the build process first I get the following warning:</p>\n\n<blockquote>\n  <p>\"Warning:<i><b>project ':app': Unable to build Kotlin project configuration</b> Details: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugImplementationDependenciesMetadata'. Caused by: org.gradle.internal.resolve.ArtifactNotFoundException: Could not find sqlite.jar (androidx.sqlite:sqlite:2.0.1). Searched in the following locations: <a href=\"https://dl.google.com/dl/android/maven2/androidx/sqlite/sqlite/2.0.1/sqlite-2.0.1.jar\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/androidx/sqlite/sqlite/2.0.1/sqlite-2.0.1.jar</a></i>\"</p>\n</blockquote>\n\n<p>Then I get the following error:</p>\n\n<blockquote>\n  <p>ERROR: Failed to resolve: sqlite\n  Affected Modules: app</p>\n</blockquote>\n\n<p>when I try to rebuild it by clicking make project, I get a different error:</p>\n\n<blockquote>\n  <p>Could not find sqlite.jar (androidx.sqlite:sqlite:2.0.1).\n  Searched in the following locations:\n  <a href=\"https://dl.google.com/dl/android/maven2/androidx/sqlite/sqlite/2.0.1/sqlite-2.0.1.jar\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/androidx/sqlite/sqlite/2.0.1/sqlite-2.0.1.jar</a></p>\n</blockquote>\n\n<p>I checked the following question:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/55567904/gradle-sync-failed-failed-to-resolve-appcompat-v726\">Gradle sync failed - Failed to resolve: appcompat-v7:26</a></p>\n</blockquote>\n\n<p>and added google maven to my root but no difference.</p>\n"}, {"tags": ["java", "android", "kotlin", "time", "simpledateformat"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1558464072, "post_id": 56240079, "comment_id": 99107627, "body": "As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}, {"owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558541422, "post_id": 56240079, "comment_id": 99138555, "body": "@OleV.V.Thanks for Your suggestion. Could You help me how to format date with results like in example OldFormatter using  ThreeTenABP ? I&#39;m still getting date with the same pattern not localised by Locale. The problem for me is that I need to keep old Date format in application which is for example formatted by: DateUtils.formatDateTime(context, arrivalTime, FORMAT_SHORT_TIME);  or DateUtils.formatDateTime(context, arrivalTime, FORMAT_SHORT_TIME) + &quot;, &quot; + DateUtils.formatDateTime(context, arrivalTime, FORMAT_DAY_AND_SHORT_MONTH); but DateUtils.formatDateTime not supporting custom Locale"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558542241, "post_id": 56240079, "comment_id": 99138991, "body": "Did you try if you could adopt <a href=\"https://stackoverflow.com/a/40920186/5772882\">this answer by Basil Bourque to the linked original question</a>?"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1558553464, "post_id": 56240079, "comment_id": 99143890, "body": "I had expected something like <code>DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM, FormatStyle.SHORT)</code> to give you what you asked for. However on my Java 11 for different locales I get: en: <code>Mar 3, 2073, 9:15 AM</code> pl: <code>3 mar 2073, 09:15</code> de: <code>03.03.2073, 09:15</code>. The first is what you asked for, the other two not exactly. But they all reflect what Unicode in Common Locale Data Repository (CLDR) has registered as appropriate formats for those locales, so I would suggest that you\u2019re well off relying on them. You may also see if you get slightly different (better?) results on Android."}, {"owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558596690, "post_id": 56240079, "comment_id": 99155170, "body": "@OleV.V.Thanks a lot. I have one more question to be sure. If I will use custom date pattern every date will be formated to this pattern without any additional formatting depends on Locale ? Or there is a option to format pattern for example dd.MM.yyyy with results pl: 3 mar 2073 en: March 3 2073 ? Or this is possible using only predefined constants format like  FormatStyle.SHORT etc."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558596855, "post_id": 56240079, "comment_id": 99155242, "body": "You are correct, it is either one or the other. Using a format pattern string and a locale will allow you to have <code>Mar</code>, in English, lowercase <code>mar</code> in Polish and <code>M&#228;r</code> (or <code>Mrz</code>) in German, but will not allow you to change punctuation or switch between <code>mar</code>, <code>3</code> and <code>03</code>."}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "closed_date": 1558464222, "answer_count": 0, "score": 1, "last_activity_date": 1558447508, "creation_date": 1558447508, "question_id": 56240079, "link": "https://stackoverflow.com/questions/56240079/format-date-with-readable-type-for-specific-locale-country", "closed_reason": "Duplicate", "title": "Format Date with readable type for specific Locale / Country", "body": "<p>In project there is few usage of DateUtils.formatDateTime() which is ignoring custom Locale. </p>\n\n<p>So I want to replace it somehow with custom locale and readable type for specific Locale. </p>\n\n<p><strong>What it means:</strong></p>\n\n<pre><code> * en: OldFormatter=Arrive Mar 3, 2073 9:15 AM NewFormatter=Arrive Mar 3, 2073 9:15 AM\n * pl: OldFormatter=przybycie: 3.03.2073 09:15 NewFormatter=przybycie: mar 3, 2073 9:15 AM\n * de: OldFormatter=Ankunft: 3. M\u00e4rz 2073 09:15 NewFormatter=Ankunft: M\u00e4r 3, 2073 9:15 AM\n</code></pre>\n\n<p>Like You can see OldFormatter have different schema depends on the Locale / Country. </p>\n\n<p>NewFormatter using SimpleDateFormat ( which supporting custom Locale usage) but every Locale / Country has the same format. </p>\n\n<p>How can I use custom Locale but also keep format support depends on Locale / Country ? </p>\n"}, {"tags": ["android", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1558447818, "post_id": 56239791, "comment_id": 99099080, "body": "It would be helpful if you share logcat"}, {"owner": {"reputation": 543, "user_id": 4890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QQZLw.jpg?s=128&g=1", "display_name": "Zurv&#230;", "link": "https://stackoverflow.com/users/4890624/zurv%c3%a6"}, "edited": false, "score": 0, "creation_date": 1558447881, "post_id": 56239791, "comment_id": 99099123, "body": "Try setting <code>android:focusable=&quot;true&quot;</code>and <code>android:clickable=&quot;true&quot;</code>in the XML on the overlay_frame view"}], "answers": [{"tags": [], "owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "is_accepted": false, "score": 0, "last_activity_date": 1558448788, "last_edit_date": 1558448788, "creation_date": 1558447958, "answer_id": 56240206, "question_id": 56239791, "link": "https://stackoverflow.com/questions/56239791/how-to-dismiss-an-overlay-image-in-android-kotlin-setonclicklistener-does-not-w/56240206#56240206", "title": "How to dismiss an overlay image in Android/Kotlin (setOnClickListener does not work)?", "body": "<pre><code>view.setOnClickListener {\n            (activity as MainActivity).overlayImage()\n}\n</code></pre>\n\n<p>The code block will be executed when <code>view</code> was clicked.</p>\n\n<pre><code>overlay_frame.setOnClickListener {\n        // this is NOT called - why?\n        println(\"setOnClickListener executed 000\")\n        Toast.makeText(this@MainActivity, \"setOnClickListener hit!\", Toast.LENGTH_SHORT).show()\n        overlay_frame.visibility = View.GONE\n    }\n</code></pre>\n\n<p>So the same, the code block will be executed when <strong>overlay_frame</strong> was clicked.</p>\n\n<p>According the code you pasted, what you did is just when the view in fragment was clicked then set the click listener in the <code>overlay_frame</code> again and again. the click listener block of the <code>overlay_frame</code> will never be invoked, because click event not consumed by the <code>overlay_frame</code>.</p>\n\n<p>Why your <code>overlay_frame</code> click listener not invoked?</p>\n\n<p>In your <code>activity_main.xml</code> file, you Activity's FrameLayout size is same as Fragment's FrameLayout.</p>\n\n<p>Because the fragment layout nested in the Activity layout, you set the fragment view click listener, when you click the screen the click event was consumed by the fragment view. so the <code>activity.overlayImage()</code> method invoked. And the the clicked event will not pass to the <code>overlay_frame</code>. </p>\n\n<p>You can create a click event for the <code>overlay_frame</code></p>\n\n<pre><code>view.setOnClickListener {\n     (activity as MainActivity).overlayImage()\n    // get the overlay_frame from the activity\n    val overlay_frame = activity.getOverlayImage()\n    overlay_frame.performClick()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558448919, "post_id": 56240394, "comment_id": 99099786, "body": "You can use the <code>overlay_frame.performClick()</code> to fix the problem with a <code>match_parent</code> layout size. Look my answer."}, {"owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "reply_to_user": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558449145, "post_id": 56240394, "comment_id": 99099937, "body": "My answer did not work. Although it did resolved the problem of invoking the setOnClickListenerI(), but the image cannot be expanded beyond the fragment_container size."}, {"owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "reply_to_user": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558449167, "post_id": 56240394, "comment_id": 99099945, "body": "@Magic I don&#39;t your method will work because I tested earlier with a println statement and it was not called."}, {"owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558449896, "post_id": 56240394, "comment_id": 99100422, "body": "add <code>overlay_frame.performClick()</code> in <code>the view.setOnClickListener()</code> not work? Set the <code>overlay_frame</code> visible in xml, and debug the code. Check the perform click have been executed or not , and the <code>listener</code> of the <code>overlay_frame</code> have been executed or not."}, {"owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "reply_to_user": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558450720, "post_id": 56240394, "comment_id": 99101054, "body": "@Magic I tried your code. As expected, it called at the wrong timing. It called when the overlay image is displayed. I need to call the setOnClickListener after the overlay image is displayed, to dismiss it."}, {"owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558452962, "post_id": 56240394, "comment_id": 99102379, "body": "Then you just place <code>overlay_frame.performClick()</code> in the right place which you want . What i can do is try my best to told you why your code block not be invoked and told you how to make it execute, but if the timing is not you wish, just place the code in &quot;right&quot; place."}, {"owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "reply_to_user": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558454095, "post_id": 56240394, "comment_id": 99103016, "body": "Specifically, when the background/image is loaded, it is taken over by GestureTransformableImageView which is an extension of ImageView. How do I set a listener for ImageView?"}, {"owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "edited": false, "score": 0, "creation_date": 1558489076, "post_id": 56240394, "comment_id": 99114582, "body": "<code>GestureTransformableImageView</code> is the layout of  <code>ImageDisplayFragment</code>?  When you commit the fragment transaction, <code>ImageDisplayFragment</code> showed on the screen, then get the <code>MainActivity</code> reference in you fragment and do the hide logic?"}], "tags": [], "owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "is_accepted": false, "score": 0, "last_activity_date": 1558448575, "creation_date": 1558448575, "answer_id": 56240394, "question_id": 56239791, "link": "https://stackoverflow.com/questions/56239791/how-to-dismiss-an-overlay-image-in-android-kotlin-setonclicklistener-does-not-w/56240394#56240394", "title": "How to dismiss an overlay image in Android/Kotlin (setOnClickListener does not work)?", "body": "<p>Ah! I found the answer:</p>\n\n<pre><code>&lt;FrameLayout\n        android:id=\"@+id/fragment_container\"\n        android:layout_width=\"375dp\"\n        android:layout_height=\"250dp\" /&gt;\n</code></pre>\n\n<p>The layout width and height was previously \"match_parent\". It overlaps the entire parent, even the image is smaller. By changing the above, clicking anywhere will dismiss the overlay background and image. </p>\n\n<p>The problem is resolved.</p>\n\n<p>(However, there is another problem of the image not being centered. Anyway this is a different problem.)</p>\n"}], "owner": {"reputation": 4013, "user_id": 919222, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d1cde35fe1388d83f6b2e931b146ef8b?s=128&d=identicon&r=PG", "display_name": "ikevin8me", "link": "https://stackoverflow.com/users/919222/ikevin8me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558457714, "creation_date": 1558446529, "last_edit_date": 1558457714, "question_id": 56239791, "link": "https://stackoverflow.com/questions/56239791/how-to-dismiss-an-overlay-image-in-android-kotlin-setonclicklistener-does-not-w", "title": "How to dismiss an overlay image in Android/Kotlin (setOnClickListener does not work)?", "body": "<p>I'm trying to create a overlay transparent background with an image which can be pinch in/out for an Android app and it is developed in Kotlin.</p>\n\n<p>I have this in my activity_main.xml:</p>\n\n<pre><code>&lt;FrameLayout\n    android:id=\"@+id/overlay_frame\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/black_70\"\n    android:visibility=\"gone\"&gt;\n    &lt;FrameLayout\n        android:id=\"@+id/fragment_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>In the fragment:</p>\n\n<pre><code>view.setOnClickListener {\n            (activity as MainActivity).overlayImage()\n...\n... \n</code></pre>\n\n<p>which calls:</p>\n\n<pre><code>internal fun overlayImage() {\n    // val overlay_frame: View by Views.bind(this, R.id.overlay_frame) // also tried this\n    val overlay_frame: View = findViewById(R.id.overlay_frame)\n    overlay_frame.setOnClickListener {\n        // this is NOT called - why?\n        println(\"setOnClickListener executed 000\")\n        Toast.makeText(this@MainActivity, \"setOnClickListener hit!\", Toast.LENGTH_SHORT).show()\n        overlay_frame.visibility = View.GONE\n    }\n    overlay_frame.visibility = View.VISIBLE\n    val url = \"https://example.com/img/service/item1_img_01.jpg\"\n    supportFragmentManager.beginTransaction().add(R.id.fragment_container, ImageDisplayFragment.newInstance(url)).commit()\n}\n</code></pre>\n\n<p>It correctly calls overlayImage() method and the transparent background with the image loaded. </p>\n\n<p>However, the \"overlay_frame.setOnClickListener()\" method does NOT work. I expect that when the user clicks anywhere on the screen (but not the image) it will execute the setOnClickListnener() method, but it doesn't it. Nothing within the setOnClickListnener() method is executed.</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "edited": false, "score": 0, "creation_date": 1558445652, "post_id": 56239383, "comment_id": 99097698, "body": "No need to create  constructor() : this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,             &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,             &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,             &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,             &quot;&quot;,&quot;&quot;)"}, {"owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "edited": false, "score": 0, "creation_date": 1558445706, "post_id": 56239383, "comment_id": 99097732, "body": "Make sure categories.category is not null , try debug your code."}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 2, "creation_date": 1558445737, "post_id": 56239383, "comment_id": 99097751, "body": "You&#39;re launching <code>LearningFirstLibras</code> activity but reading the value in <code>Quiz</code> activity?"}, {"owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "edited": false, "score": 0, "creation_date": 1558445961, "post_id": 56239383, "comment_id": 99097893, "body": "i used logs to get the categories.category and 2 values inside the categories.category i got the values:  2019-05-21 09:37:33.436 5433-5433/com.educator.dualsignal D/teste: com.educator.dualsignal.models.Category@a870587 /   2019-05-21 09:38:43.790 5622-5622/com.educator.dualsignal D/teste: foods_1 / 2019-05-21 09:38:43.792 5622-5622/com.educator.dualsignal D/teste: alternativa_1"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1558448306, "post_id": 56239383, "comment_id": 99099380, "body": "You should be starting <code>Quiz</code> instead of <code>LearningFirstLibras</code>, probably."}], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1558447155, "post_id": 56239641, "comment_id": 99098683, "body": "What&#39;s the motivation behind this answer? How should it solve the problem? How is wrapping it into another bundle different to what <code>.putExtra()</code> does? Can you elaborate, please?"}, {"owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1558449364, "post_id": 56239641, "comment_id": 99100060, "body": "Motive is Vinicius Barros want to parse data from one to another so i was used in my code pass parcelable data using bundle so i was share it. may be it helped..."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1558449499, "post_id": 56239641, "comment_id": 99100149, "body": "I understand that, but my point is that you didn&#39;t provide an explanation for why your provided solution would/should work. In my opinion, adding another layer (provided by the <code>Bundle</code> in your code) doesn&#39;t solve the problem."}], "tags": [], "owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1558446091, "creation_date": 1558446091, "answer_id": 56239641, "question_id": 56239383, "link": "https://stackoverflow.com/questions/56239383/receiving-null-from-getparcelableextra/56239641#56239641", "title": "Receiving null from getParcelableExtra()", "body": "<p><strong>Try it</strong></p>\n\n<p><strong>Sending the Parcelable Using Bundle</strong></p>\n\n<pre><code>val intent = Intent(this, ProfilePage::class.java)\nvar bundle = Bundle()\nbundle.putParcelable(CATEGORY_KEY, categories.category)\nintent.putExtra(\"myBundle\",bundle)\nstartActivity(intent)\n</code></pre>\n\n<p><strong>Recovering Parcelable</strong></p>\n\n<pre><code>val bundle = intent.getBundleExtra(\"myBundle\")\nvar categoryF = bundle.getParcelable&lt;Category&gt;(NewWordsActivity.CATEGORY_KEY) as Category\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606323524, "creation_date": 1558445308, "last_edit_date": 1606323524, "question_id": 56239383, "link": "https://stackoverflow.com/questions/56239383/receiving-null-from-getparcelableextra", "title": "Receiving null from getParcelableExtra()", "body": "<p>I have a class category and i pass into the extra, the category clicked.\nthis worked in 6 screens but in the last one I'm receiving null</p>\n<p>the activity where i put the extra</p>\n<pre><code>adapter.setOnItemClickListener { item, view -&gt;\n\n                    val categories = item as Categories\n                    val intent = Intent(view.context, LearningFirstLibras::class.java)\n                    intent.putExtra(CATEGORY_KEY, categories.category)\n                    startActivity(intent)\n                }\n</code></pre>\n<p>the category</p>\n<pre><code>@Parcelize\nclass Category(\n               val name: String,\n               val imageURL: String,\n               val real_name: String,\n               val object_1_screen_libras_image: String,\n               val object_1_screen_libras_text: String,\n               val object_2_screen_libras_text: String,\n               val object_2_screen_libras_image: String,\n               val object_3_screen_libras_text: String,\n               val object_3_screen_libras_image: String,\n               val object_1_screen_asl_text: String,\n               val object_1_screen_asl_image: String,\n               val object_2_screen_asl_text: String,\n               val object_2_screen_asl_image: String,\n               val object_3_screen_asl_text: String,\n               val object_3_screen_asl_image: String,\n               val question: String,\n               val answer: String,\n               val alternative_1: String,\n               val alternative_2: String,\n               val alternative_3: String,\n               val alternative_4: String\n                ) : Parcelable {\n    constructor() : this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;,\n            &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,\n            &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,\n            &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,\n            &quot;&quot;,&quot;&quot;)\n}\n</code></pre>\n<p>the activity where i got null</p>\n<pre><code>class Quiz : AppCompatActivity() {\n\n    var categoryF:Category = Category()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_quiz)\n\n        categoryF = intent.getParcelableExtra(NewWordsActivity.CATEGORY_KEY)\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "android-workmanager"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1558444433, "creation_date": 1558444433, "answer_id": 56239125, "question_id": 56238999, "link": "https://stackoverflow.com/questions/56238999/is-work-manager-correct-way-to-delete-uploaded-files-in-android/56239125#56239125", "title": "Is Work Manager correct way to delete uploaded files in Android?", "body": "<blockquote>\n  <p>Is Work Manager correct way to delete uploaded files in Android?</p>\n</blockquote>\n\n<p>Yes. The <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">WorkManager</a> API lets you schedule background tasks that need guaranteed completion, whether or not the app process is around. The WorkManager is available only on devices running API 14 and higher.</p>\n\n<p>However, <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a> is available on devices running API 21 and higher. So for devices running API 14 and higher, including devices without Google Play services, WorkManager provides capabilities that are like those provided by JobScheduler.</p>\n"}, {"comments": [{"owner": {"reputation": 595, "user_id": 6060723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90540b0923c7bc4a5f1b90ea6f4b826a?s=128&d=identicon&r=PG&f=1", "display_name": "nayan dhabarde", "link": "https://stackoverflow.com/users/6060723/nayan-dhabarde"}, "edited": false, "score": 0, "creation_date": 1558503148, "post_id": 56247631, "comment_id": 99117261, "body": "I have added the code as an overview of what I am doing. My code is running, I just wanted to know if using WorkManager to delete uploaded files is ideal or not. I want to know how people do it in 2019, do they create the feature to schedule deletion on the server or is it okay to just create OneTimeRequestBuilder from WorkManager and let it do it whenever it can. About your question on synchronous or asynchronous, I am using suspend from Coruotines and thus runs in a different Dispatcher."}], "tags": [], "owner": {"reputation": 513, "user_id": 9842357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2bed5374cbbde59531d2bd8806f2a11?s=128&d=identicon&r=PG&f=1", "display_name": "SumirKodes", "link": "https://stackoverflow.com/users/9842357/sumirkodes"}, "is_accepted": false, "score": 0, "last_activity_date": 1558482539, "creation_date": 1558482539, "answer_id": 56247631, "question_id": 56238999, "link": "https://stackoverflow.com/questions/56238999/is-work-manager-correct-way-to-delete-uploaded-files-in-android/56247631#56247631", "title": "Is Work Manager correct way to delete uploaded files in Android?", "body": "<p>It's not clear, but it seems like you're saying that this code isn't running properly.  If that's the case, what is FirebaseManager.deleteAt?  Is it synchronous or asynchronous?</p>\n"}], "owner": {"reputation": 595, "user_id": 6060723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90540b0923c7bc4a5f1b90ea6f4b826a?s=128&d=identicon&r=PG&f=1", "display_name": "nayan dhabarde", "link": "https://stackoverflow.com/users/6060723/nayan-dhabarde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 56239125, "answer_count": 2, "score": 0, "last_activity_date": 1558482539, "creation_date": 1558444020, "question_id": 56238999, "link": "https://stackoverflow.com/questions/56238999/is-work-manager-correct-way-to-delete-uploaded-files-in-android", "title": "Is Work Manager correct way to delete uploaded files in Android?", "body": "<p>I am creating an application where I create a post and add attachments to it.\nAfter an image is uploaded to Firebase Storage, the user can delete the attachment. </p>\n\n<p>I am using Work Manager to delete the file as it is intended for deferrable and guaranteed execution. So my intention was to let the user click a button to delete and not wait for it to finish. Some how I am still wondering if there is any problem with it.</p>\n\n<p>I am using OneTimeWorkRequestBuilder and I am passing it data for building storage reference</p>\n\n<pre><code>// Repository\n            val workArray = mutableListOf&lt;OneTimeWorkRequest&gt;()\n            val work = OneTimeWorkRequestBuilder&lt;CancelUploadWorkManager&gt;()\n                .setInputData(getInputData(index, userId = userId, fileName = fileName))\n                .setConstraints(Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build())\n                .build()\n            workArray.add(work)\n\n            WorkManager.getInstance()\n            .enqueue(workArray)\n</code></pre>\n\n<pre><code>\n// CancelUploadWorkManager\n\nclass CancelUploadWorkManager(context: Context, params: WorkerParameters): CoroutineWorker(context, params) {\n\n    override suspend fun doWork(): Result {\n        val position: Int = inputData.getInt(Constants.KEY_POSITION, 0)\n        val userId = inputData.getString(Constants.KEY_DIRECTORY)\n        val fileName = inputData.getString(Constants.KEY_FILE_NAME)\n\n        return try {\n            FirebaseManager().deleteAt(position = position, fileName = fileName!!,userId = userId!!)\n            Timber.i(\"Work Manager executed\")\n            Result.success()\n        } catch (ex: Exception) {\n            Timber.e(ex)\n            Result.retry()\n        }\n\n    }\n}\n\n\n</code></pre>\n\n<p>Expected: File should be deleted with a guarantee</p>\n"}, {"tags": ["kotlin", "initialization", "optional-parameters", "optional-arguments"], "answers": [{"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1558469386, "post_id": 56238409, "comment_id": 99109797, "body": "I would suggest changing the last sentence to this: &quot;If the primary constructor does not have any annotations or visibility modifiers, the constructor keyword can be omitted&quot;. taken from the official docs: <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#constructors</a>"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 4, "last_activity_date": 1558472909, "last_edit_date": 1558472909, "creation_date": 1558442072, "answer_id": 56238409, "question_id": 56238336, "link": "https://stackoverflow.com/questions/56238336/kotlin-and-constructors-initializing/56238409#56238409", "title": "Kotlin and constructors, initializing", "body": "<p>You can declare properties directly in primary constructor. That means you can drop explicit declarations in class body:</p>\n\n<pre><code>class TestCaseBuilder constructor(\n     var caseTag: String = \"Case\",\n     var applType: Buy.ApplFor = Buy.ApplFor.PROOFFINANCE,\n     var komnr: String = \"5035\")\n</code></pre>\n\n<p>You can also drop the <code>constructor</code> keyword if your primary constructor does not have any annotations or visibility modifiers (defaults to <code>public</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 2047, "user_id": 4593755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39bqh.jpg?s=128&g=1", "display_name": "Jeffery Ma", "link": "https://stackoverflow.com/users/4593755/jeffery-ma"}, "is_accepted": false, "score": 0, "last_activity_date": 1558533520, "last_edit_date": 1558533520, "creation_date": 1558449406, "answer_id": 56240677, "question_id": 56238336, "link": "https://stackoverflow.com/questions/56238336/kotlin-and-constructors-initializing/56240677#56240677", "title": "Kotlin and constructors, initializing", "body": "<p><code>@JvmOverloads</code> annotation can over load the constructor with different param size </p>\n\n<pre><code>class TestCaseBuilder @JvmOverloads constructor(\n    var caseTag: String = \"Case\",\n    var applType: Buy.ApplFor = Buy.ApplFor.PROOFFINANCE,\n    var komnr: String = \"5035\"\n)\n</code></pre>\n\n<p>Then the class got three constructor with optional param</p>\n\n<pre><code>val a = TestCaseBuilder(\"CaseA\")\nval b = TestCaseBuilder(\"CaseB\", Buy.ApplFor.SomethingElse)\nval c = TestCaseBuilder(\"CaseB\", Buy.ApplFor.SomethingElse, \"1111\")\n</code></pre>\n"}], "owner": {"reputation": 860, "user_id": 9347168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958b75f6f8f36ed5e82baf0965804034?s=128&d=identicon&r=PG&f=1", "display_name": "Hfrav", "link": "https://stackoverflow.com/users/9347168/hfrav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 56238409, "answer_count": 2, "score": 1, "last_activity_date": 1558533520, "creation_date": 1558441823, "question_id": 56238336, "link": "https://stackoverflow.com/questions/56238336/kotlin-and-constructors-initializing", "title": "Kotlin and constructors, initializing", "body": "<p>Sorry for asking a very newbie Kotlin question, but I'm struggling to understand some of the things related to constructors and intitializing.</p>\n\n<p>I have this class and constructor:</p>\n\n<pre><code>class TestCaseBuilder constructor(\n     caseTag: String = \"Case\",\n     applType: Buy.ApplFor = Buy.ApplFor.PROOFFINANCE,\n     komnr: String = \"5035\") {\n\n     var caseTag: String       = caseTag\n     var applType: Buy.ApplFor = applType  \n     var komnr: String         = komnr             \n</code></pre>\n\n<p>What I'm trying to do here is to have three optional parameters in the constructors, using default values for them. The reason I'm declaring them in the class body is because I need to have access to them from the main class.</p>\n\n<p>Now, this code works. No errors when I run it. But IntelliJ gives the following comment for the variables (ex.: caseTag):</p>\n\n<pre><code>Property is explicitly assigned to parameter caseTag, can be declared\ndirectly in constructor.\n</code></pre>\n\n<p>What I've found when searching this is examples using an init {}, but the result I've gotten to includes initializing the variables twice, once in the constructor and then in the init {}. Which clearly isn't correct, I'd say?</p>\n\n<p>What's a better what to have (or than having) optional parameters in the constructor, and then creating class variables from them?</p>\n"}, {"tags": ["android", "xml", "kotlin"], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558440370, "creation_date": 1558440370, "question_id": 56237938, "link": "https://stackoverflow.com/questions/56237938/access-view-of-preference-in-onpreferencechange", "title": "Access View of Preference in onPreferenceChange", "body": "<p>I'm trying to access the value of my <code>SeekBarPreference</code> in <code>OnPreferenceChange</code>. </p>\n\n<p>Here is my listener:</p>\n\n<pre><code>class PreferencesFragment : PreferenceFragmentCompat(), Preference.OnPreferenceChangeListener {\n\n    override fun onPreferenceChange(preference: Preference?, newValue: Any?): Boolean {\n        when (preference?.key){\n            \"my_seekbar_key\" -&gt; {\n                Log.d(TAG, newValue.toString()) \n                // get View of preference value\n            }\n        }\n        return true\n    }\n</code></pre>\n\n<p>xml</p>\n\n<pre><code>&lt;SeekBarPreference\n    android:layout=\"@layout/preference_widget_seekbar_override\"\n    app:showSeekBarValue=\"true\"\n    android:max=\"30\"\n    android:defaultValue=\"10\"\n    android:key=\"my_seekbar_key\"\n    android:title=\"Title\"/&gt;\n</code></pre>\n\n<p>How can I access the current value of the seekbar value <code>View</code>? Because I'd like to change 30 to 3.0, 25 to 2.5 etc</p>\n"}, {"tags": ["java", "kotlin", "singleton", "interop", "kotlin-java-interop"], "comments": [{"owner": {"reputation": 1087, "user_id": 276166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e6a115f26a4d3775393e6e58dfd1456?s=128&d=identicon&r=PG", "display_name": "uaraven", "link": "https://stackoverflow.com/users/276166/uaraven"}, "edited": false, "score": 0, "creation_date": 1558440266, "post_id": 56237695, "comment_id": 99094461, "body": "Have you considered writing interface in Java and implementation in Kotlin?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558440673, "post_id": 56237695, "comment_id": 99094703, "body": "I think you didn&#39;t want an <code>object</code> (~singleton) in the first place (maybe you had a <code>Utilitity</code>-class in mind, because that&#39;s the only way to support such functions in Java? ;-)), but rather a set of functions accessible via a common interface... Linos answer shows you that and it will be wrapped to what you are comfortable with on the Java side..."}], "answers": [{"tags": [], "owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "is_accepted": false, "score": 3, "last_activity_date": 1558440928, "last_edit_date": 1558440928, "creation_date": 1558440284, "answer_id": 56237919, "question_id": 56237695, "link": "https://stackoverflow.com/questions/56237695/hiding-kotlin-objects-instance-field-from-java-and-kotlin/56237919#56237919", "title": "Hiding Kotlin object&#39;s INSTANCE field from Java (and Kotlin)", "body": "<p>The closest I could come up with was something like this:</p>\n\n<p>Create a file <code>API.kt</code> in a package <code>com.example.api</code>. Add your functions directly into that file, like this:</p>\n\n<pre><code>@file:JvmName(\"API\")\n\npackage com.example.api\n\nfun function() {\n    // ...\n}\n</code></pre>\n\n<h1>Kotlin:</h1>\n\n<p>You can import that function anywhere you need to use your api:</p>\n\n<pre><code>import com.example.api.function\n</code></pre>\n\n<p>Though you can't use your syntax <code>API.function</code> anymore. </p>\n\n<h1>Java:</h1>\n\n<p>The generated class would look something like this (no singleton, just static methods, but no private constructor):</p>\n\n<pre><code> public final class API {\n     public static final void function() {\n         // ...\n     }\n }\n</code></pre>\n\n<p>Which then allows you to call it like <code>API.function();</code></p>\n\n<hr>\n\n<p>By specifiying <code>@file:JvmName(\"API\")</code> you instruct kotlin to name the created class <code>API</code>.</p>\n"}], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1558440928, "creation_date": 1558439472, "question_id": 56237695, "link": "https://stackoverflow.com/questions/56237695/hiding-kotlin-objects-instance-field-from-java-and-kotlin", "title": "Hiding Kotlin object&#39;s INSTANCE field from Java (and Kotlin)", "body": "<h3>Short question</h3>\n\n<p>Can I modify the visibility of a Kotlin object's <code>INSTANCE</code> (for Java interop) to <code>internal</code> or lower?</p>\n\n<h3>Long question</h3>\n\n<p>I'm writing a library and I want to have an API file / class, <em>written in Kotlin</em>, that exposes a function to be called from either Java or Kotlin like this:</p>\n\n<p>Kotlin:</p>\n\n<pre><code>API.function()\n</code></pre>\n\n<p>Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>API.function();\n</code></pre>\n\n<p>I can achieve this by writing it like this:</p>\n\n<p>Kotlin:</p>\n\n<pre><code>object API {\n    @JvmStatic\n    fun function() = TODO()\n}\n</code></pre>\n\n<p>However, now I can also do this:</p>\n\n<p>Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>API.INSTANCE.function();\n</code></pre>\n\n<p>I want to prevent this access to <code>INSTANCE</code> to keep my API surface to a minimum for simplicity.</p>\n\n<p>Can I modify the visibility of <code>INSTANCE</code> to <code>internal</code> or lower?</p>\n\n<p>It's probably not possible, because any call to <code>API</code> (from Kotlin) returns the object's instance and that should probably be hidden too for this to be possible. However, I'm curious to see if it is without major hacks.</p>\n\n<p>A solution using Java would be to write <code>API</code> in Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class API {\n    private API() {\n    }\n\n    public static void function() {\n    }\n}\n</code></pre>\n\n<p>However, I'm looking for a solution written in Kotlin.</p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin", "android-fragmentactivity"], "comments": [{"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 1, "creation_date": 1558438402, "post_id": 56237268, "comment_id": 99093363, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20340303/in-fragment-on-back-button-pressed-activity-is-blank\">In Fragment on back button pressed Activity is blank</a>"}, {"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1558438424, "post_id": 56237268, "comment_id": 99093378, "body": "your question is related to this topic: <a href=\"https://stackoverflow.com/questions/20340303/in-fragment-on-back-button-pressed-activity-is-blank/34025775\" title=\"in fragment on back button pressed activity is blank\">stackoverflow.com/questions/20340303/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1558444752, "post_id": 56237992, "comment_id": 99097144, "body": "This is redundant. The default implementation of <code>onBackPressed()</code> already does exactly this (call <code>finish()</code>). Overriding the method and providing this implementation is 100% redundant. It accomplishes NOTHING."}], "tags": [], "owner": {"reputation": 722, "user_id": 9917404, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l6nGWui8UQ0/AAAAAAAAAAI/AAAAAAAABWo/RifSkAnggAc/photo.jpg?sz=128", "display_name": "Thoriya Prahalad", "link": "https://stackoverflow.com/users/9917404/thoriya-prahalad"}, "is_accepted": true, "score": -1, "last_activity_date": 1558440587, "creation_date": 1558440587, "answer_id": 56237992, "question_id": 56237268, "link": "https://stackoverflow.com/questions/56237268/how-to-close-second-activity-including-a-fragment/56237992#56237992", "title": "How to close second activity including a fragment?", "body": "<p><strong>Directly Goto MainActivity.java add this method to SecondActivity.java</strong></p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    finish(); \n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 56237992, "answer_count": 1, "score": 0, "last_activity_date": 1558440587, "creation_date": 1558438004, "last_edit_date": 1558438309, "question_id": 56237268, "link": "https://stackoverflow.com/questions/56237268/how-to-close-second-activity-including-a-fragment", "title": "How to close second activity including a fragment?", "body": "<p>I have a <code>MainActivity</code> where I start (via button click) another second activity:</p>\n\n<pre><code>val intent = Intent(activity, SecondActivity::class.java)\nstartActivity(intent)\n</code></pre>\n\n<p>In that <code>SecondActivity</code> I inflate a <code>SecondFragment</code>.</p>\n\n<p>When I:</p>\n\n<ol>\n<li>Tap button to start <code>SecondActivity</code></li>\n<li>Automatically, in its onCreate() <code>SecondFragment</code> is inflated</li>\n<li>When I want to go back to MainActivity by tapping back button, I get a white blank screen (I guess it deflates SecondFragment, but SecondActivity still running?!).</li>\n<li>I have to press back button another second time, to actually go back to <code>MainActivity</code></li>\n</ol>\n\n<p>How can go from SecondFragment (--> SecondActivity) --> MainActivity with pressing just once?</p>\n"}, {"tags": ["kotlin", "itext", "pdfptable"], "comments": [{"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1558442844, "post_id": 56236915, "comment_id": 99095993, "body": "Seems like a duplicate of <a href=\"https://stackoverflow.com/questions/56196994/json-key-wise-data-separated-and-show-in-table\" title=\"json key wise data separated and show in table\">stackoverflow.com/questions/56196994/&hellip;</a>"}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1558442891, "post_id": 56236915, "comment_id": 99096018, "body": "Another duplicate: <a href=\"https://stackoverflow.com/questions/55842391/itext-pdf-one-table-depends-on-data-multiple-table-create-in-android\" title=\"itext pdf one table depends on data multiple table create in android\">stackoverflow.com/questions/55842391/&hellip;</a>"}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1558442923, "post_id": 56236915, "comment_id": 99096034, "body": "And another one <a href=\"https://stackoverflow.com/questions/55835407/jsonsame-key-diffrent-value-how-to-show-in-tablelayout\" title=\"jsonsame key diffrent value how to show in tablelayout\">stackoverflow.com/questions/55835407/&hellip;</a>"}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1558442953, "post_id": 56236915, "comment_id": 99096054, "body": "And yet another duplicate <a href=\"https://stackoverflow.com/questions/55830948/json-data-key-wise-data-display-in-tablelayout-and-textview\" title=\"json data key wise data display in tablelayout and textview\">stackoverflow.com/questions/55830948/&hellip;</a>"}], "owner": {"reputation": 157, "user_id": 11248404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d46d1dd4aaa17d6a11970b59c2a2a2e?s=128&d=identicon&r=PG&f=1", "display_name": "Kanan", "link": "https://stackoverflow.com/users/11248404/kanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558436654, "creation_date": 1558436654, "question_id": 56236915, "link": "https://stackoverflow.com/questions/56236915/dynamically-how-to-generated-multiple-table-as-a-json-data-requirement-in-itextp", "title": "Dynamically how to generated multiple table as a Json Data requirement in itextpdf", "body": "<p>Generated multiple table in itextpdf. below given Json Format:</p>\n\n<pre><code>{\n    \"status\": 1,\n    \"challan\": [\n        {\n            \"Cmp_Name\": \"ABC\",\n            \"Partyid\": \"18\",\n            \"ChallanNo\": \"-\",\n            \"PartyName\": \"PURCHASE MH\",\n            \"FirmName\": \"PURCHASE MH\",\n            \"ChallanDate\": \"-\",\n            \"ChallanAmount\": \"0.0\",\n            \"RecieveDate\": \"2019-03-15 00:00:00\",\n            \"RecieveAmount\": \"4000.0\",\n            \"DiscountAmount\": \"0.0\",\n            \"TDSAmount\": \"0.0\",\n            \"Bank\": \"AXIS BANK\",\n            \"ChequeNo\": null,\n            \"ChequeDate\": null\n        },\n        {\n            \"Cmp_Name\": \"ABC\",\n            \"Partyid\": \"17\",\n            \"ChallanNo\": \"20\",\n            \"PartyName\": \"PURCHASE GJ\",\n            \"FirmName\": \"PURCHASE GJ\",\n            \"ChallanDate\": \"3/11/2019\",\n            \"ChallanAmount\": \"1391.0\",\n            \"RecieveDate\": \"2019-03-15 00:00:00\",\n            \"RecieveAmount\": \"1391.0\",\n            \"DiscountAmount\": \"0.0\",\n            \"TDSAmount\": \"0.0\",\n            \"Bank\": \"AXIS BANK\",\n            \"ChequeNo\": \"321456\",\n            \"ChequeDate\": \"2019-03-15 00:00:00\"\n        },\n        {\n            \"Cmp_Name\": \"ABC\",\n            \"Partyid\": \"17\",\n            \"ChallanNo\": \"20\",\n            \"PartyName\": \"Dharama\",\n            \"FirmName\": \"Dharama\",\n            \"ChallanDate\": \"3/11/2019\",\n            \"ChallanAmount\": \"1391.0\",\n            \"RecieveDate\": \"2019-03-15 00:00:00\",\n            \"RecieveAmount\": \"1391.0\",\n            \"DiscountAmount\": \"0.0\",\n            \"TDSAmount\": \"0.0\",\n            \"Bank\": \"AXIS BANK\",\n            \"ChequeNo\": \"321456\",\n            \"ChequeDate\": \"2019-03-15 00:00:00\"\n        },\n        {\n            \"Cmp_Name\": \"ABC\",\n            \"Partyid\": \"17\",\n            \"ChallanNo\": \"20\",\n            \"PartyName\": \"Dharama\",\n            \"FirmName\": \"Dharama\",\n            \"ChallanDate\": \"3/11/2019\",\n            \"ChallanAmount\": \"1391.0\",\n            \"RecieveDate\": \"2019-03-15 00:00:00\",\n            \"RecieveAmount\": \"1391.0\",\n            \"DiscountAmount\": \"0.0\",\n            \"TDSAmount\": \"0.0\",\n            \"Bank\": \"AXIS BANK\",\n            \"ChequeNo\": \"321456\",\n            \"ChequeDate\": \"2019-03-15 00:00:00\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Above <code>Json</code> Format <code>PartyName</code> Key when <code>Partyname</code> same value <code>JsonObject</code> data show in one table after when <code>PartyName</code> Value Change all <code>JSONObject</code> data show in another table.</p>\n\n<p><code>PartyName</code> value same all <code>JsonObject</code> data show in one table and value change dynamically generated as depend on <code>PartyName</code> Value.</p>\n\n<p>Above <code>JSON</code> Format two <code>PartyName</code> value different so, two table create in <code>itextPdf</code>. how to its create?</p>\n\n<p>how to generated multiple table <code>itextpdf</code>?</p>\n"}, {"tags": ["mongodb", "kotlin", "enums", "kmongo"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 8605425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35b76620e9565781d81a6611f8aa8fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio Rodr&#237;guez Su&#225;rez", "link": "https://stackoverflow.com/users/8605425/ignacio-rodr%c3%adguez-su%c3%a1rez"}, "is_accepted": true, "score": 0, "last_activity_date": 1560782845, "last_edit_date": 1560782845, "creation_date": 1560413488, "answer_id": 56576110, "question_id": 56236559, "link": "https://stackoverflow.com/questions/56236559/does-kmongo-support-enums/56576110#56576110", "title": "Does KMongo support enums?", "body": "<p>So I finally found a solution for my issue. Using the <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations\" rel=\"nofollow noreferrer\">Jackson Annotations</a> library I can serialize and deserialize my enums the way I need. In my case, I chose to use them as Strings so KMongo knows how to work with them.</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING)\nenum class Role {\n    user,\n    admin,\n    guest\n}\n</code></pre>\n\n<p>Now I can just declare my attributes as my enum type so KMongo knows what to do with them.</p>\n"}], "owner": {"reputation": 43, "user_id": 8605425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35b76620e9565781d81a6611f8aa8fcb?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio Rodr&#237;guez Su&#225;rez", "link": "https://stackoverflow.com/users/8605425/ignacio-rodr%c3%adguez-su%c3%a1rez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "accepted_answer_id": 56576110, "answer_count": 1, "score": 2, "last_activity_date": 1560782845, "creation_date": 1558435366, "question_id": 56236559, "link": "https://stackoverflow.com/questions/56236559/does-kmongo-support-enums", "title": "Does KMongo support enums?", "body": "<p>I have a mongo collection in which there is a String field called <code>role</code>. This field in particular will always be filled with one of these three options: <code>user</code>, <code>admin</code> or <code>guest</code>.</p>\n\n<p>This is the reason why I decided to create an enum so it makes it easier for developers to work with it while keeping the String value in the database.</p>\n\n<p>I have tried to retrieve a document from my collection expecting KMongo to be able to parse from String to Enum <code>Role</code> and vice versa.</p>\n\n<p>Sadly, KMongo does not seem to be able to do it.</p>\n\n<pre><code>data class User(var role: Role,  // 0 user, 1 admin, 2 guest\n                var email: String,\n                var password: String)\n\nenum class Role{\n    user,\n    admin,\n    guest\n}\n</code></pre>\n\n<p>When I tried to find a document by its <code>_id</code> I got this message:</p>\n\n<blockquote>\n  <p>2019-05-21 11:39:01 [http-nio-8080-exec-1] ERROR\n  c.p.p.c.SpringWebConfig$simpleMappingExceptionResolver$resolver$1 -\n  Excepci\u00f3n general resolviendo una petici\u00f3n\n  com.fasterxml.jackson.module.kotlin.MissingKotlinParameterException:\n  Instantiation of [simple type, class com.foo.user.User] value failed\n  for JSON property role due to missing (therefore NULL) value for\n  creator parameter role which is a non-nullable type  at [Source:\n  de.undercouch.bson4jackson.io.LittleEndianInputStream@3195529c; pos:\n  275] (through reference chain: com.foo.user.User[\"Role\"])</p>\n</blockquote>\n\n<p>So my question is: does KMongo support enums in these terms?</p>\n"}, {"tags": ["kotlin", "unicode"], "comments": [{"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1558437898, "post_id": 56235645, "comment_id": 99093081, "body": "You may want to take a look at icu4j (<a href=\"http://site.icu-project.org/home/why-use-icu4j\" rel=\"nofollow noreferrer\">site.icu-project.org/home/why-use-icu4j</a>) , specifically at: <code>BreakIterator.getCharacterInstance()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1110, "user_id": 11411224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zVyQDJrcQsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQu3vd--hrXIje2UR7S8q36G69dg/mo/photo.jpg?sz=128", "display_name": "James Riordan", "link": "https://stackoverflow.com/users/11411224/james-riordan"}, "edited": false, "score": 0, "creation_date": 1558439003, "post_id": 56236809, "comment_id": 99093717, "body": "Hang on a sec, actually, that&#39;s not correct since &quot;\\u2000b&quot; is actually interpreted as &quot;\\u2000&quot; + &quot;b&quot; which is the &#39;EN QUAD&#39; space character followed by the letter &#39;b&#39;. I&#39;ve reverted the question to its original form as this is what I intended."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 1110, "user_id": 11411224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zVyQDJrcQsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQu3vd--hrXIje2UR7S8q36G69dg/mo/photo.jpg?sz=128", "display_name": "James Riordan", "link": "https://stackoverflow.com/users/11411224/james-riordan"}, "edited": false, "score": 0, "creation_date": 1558439297, "post_id": 56236809, "comment_id": 99093885, "body": "Ah yes, in Java/Kotlin you&#39;d probably need to represent U+2000B as a surrogate pair\u2026  In any case, I&#39;d already edited my answer to remove that irrelevancy, so we&#39;re just confusing everyone else now :-)"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1558436574, "last_edit_date": 1558436574, "creation_date": 1558436269, "answer_id": 56236809, "question_id": 56235645, "link": "https://stackoverflow.com/questions/56235645/how-to-split-on-unicode-whitespace-in-kotlin/56236809#56236809", "title": "How to split on unicode whitespace in kotlin", "body": "<p>I've used the following regex to match Unicode whitespace:</p>\n\n<pre><code>Regex(\"[\\\\p{javaWhitespace}\\u00A0\\u2007\\u202F]+\")\n</code></pre>\n\n<p>This works because while <code>\\s</code> matches only Latin-1 whitespace, <code>\\p{javaWhitespace}</code> matches everything for which <code>Character.isWhitespace()</code> is true.\u00a0 For some reason, this doesn't include a few particular characters, which I've listed separately.</p>\n\n<p>More info in the docs for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a>.</p>\n\n<p>Related fact: although <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">java.lang.String.trim()</a> doesn't remove non-breaking spaces or figure spaces, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/trim.html\" rel=\"nofollow noreferrer\">kotlin.String.trim()</a> does!</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 3, "last_activity_date": 1558438499, "last_edit_date": 1558438499, "creation_date": 1558436711, "answer_id": 56236932, "question_id": 56235645, "link": "https://stackoverflow.com/questions/56235645/how-to-split-on-unicode-whitespace-in-kotlin/56236932#56236932", "title": "How to split on unicode whitespace in kotlin", "body": "<p>Since Java 7 <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> allows to specify the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\" rel=\"nofollow noreferrer\"><code>UNICODE_CHARACTER_CLASS</code></a>-flag which would basically also work for your current issue:</p>\n\n<pre><code>Pattern.compile(\"\\\\s+\", Pattern.UNICODE_CHARACTER_CLASS)\n</code></pre>\n\n<p>Unfortunately this isn't directly supported via <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex-option/index.html\" rel=\"nofollow noreferrer\"><code>RegexOption</code></a> with Kotlins <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html\" rel=\"nofollow noreferrer\"><code>Regex</code></a> yet. There is a <a href=\"https://youtrack.jetbrains.com/issue/KT-21094\" rel=\"nofollow noreferrer\">known issue that also describes a workaround (KT-21094)</a>:</p>\n\n<pre><code>string.split(\"\"\"(?U)\\s+\"\"\".toRegex())\n</code></pre>\n\n<p>You (most probably) require Java 7+ for that to actually work. Alternatives could be to use other predefined character classes instead. However, you need to lookup the appropriate <code>Pattern</code>-javadoc for your Java version to ensure that it is actually working (or do it in a trial-error-manner ;-)).</p>\n"}], "owner": {"reputation": 1110, "user_id": 11411224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zVyQDJrcQsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQu3vd--hrXIje2UR7S8q36G69dg/mo/photo.jpg?sz=128", "display_name": "James Riordan", "link": "https://stackoverflow.com/users/11411224/james-riordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "accepted_answer_id": 56236809, "answer_count": 2, "score": 2, "last_activity_date": 1558438914, "creation_date": 1558432221, "last_edit_date": 1558438914, "question_id": 56235645, "link": "https://stackoverflow.com/questions/56235645/how-to-split-on-unicode-whitespace-in-kotlin", "title": "How to split on unicode whitespace in kotlin", "body": "<p>In Kotlin if we use:</p>\n\n<pre><code>string.split(Regex(\"\\\\s+\"))\n</code></pre>\n\n<p>Then we can split a string into words separated by whitespace. However the string:</p>\n\n<pre><code>val string = \"a\\u2000b\"\n</code></pre>\n\n<p>doesn't split since the regex doesn't match unicode whitespace characters.</p>\n\n<p>I there a way to split the string on all whitespace characters?</p>\n"}, {"tags": ["function", "kotlin"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 2, "creation_date": 1558441128, "post_id": 56235396, "comment_id": 99094964, "body": "A bit of context would help us guide you towards the right approach to work around your issue. What exactly is your problem when you keep only the generic function?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11532884, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AxozE8aE10w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdw1OAeLLOqY-mipiKkkOkuLnZ7vw/mo/photo.jpg?sz=128", "display_name": "Kareem J. Johnson", "link": "https://stackoverflow.com/users/11532884/kareem-j-johnson"}, "edited": false, "score": 0, "creation_date": 1558432811, "post_id": 56235742, "comment_id": 99090419, "body": "But that does not answer <i>I&#39;d like to make a default handler and a primary handler which has a generic to pass only the Throwable they ask</i> :-("}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 1, "user_id": 11532884, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AxozE8aE10w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdw1OAeLLOqY-mipiKkkOkuLnZ7vw/mo/photo.jpg?sz=128", "display_name": "Kareem J. Johnson", "link": "https://stackoverflow.com/users/11532884/kareem-j-johnson"}, "edited": false, "score": 0, "creation_date": 1558442644, "post_id": 56235742, "comment_id": 99095890, "body": "I&#39;m sorry but I&#39;m not sure I understood your issue, then. Could you provide an example to describe more in details what you&#39;d like to achieve?"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1558432589, "creation_date": 1558432589, "answer_id": 56235742, "question_id": 56235396, "link": "https://stackoverflow.com/questions/56235396/function-overloading-in-interfaces-differ-in-generics/56235742#56235742", "title": "function overloading in interfaces differ in generics", "body": "<p>The issue is that both methods would have the same underlying signature after compilation. That's because concept of generics exists only at compile time \u2013 if you check the bytecode there's no <code>T</code>.</p>\n\n<p>Both versions of <code>otherwise</code> take a lambda, which is compiled to <code>Function1</code> \u2013 an interface that makes use of generics, which get erased in bytecode \u2013 and since information about generics gets erased in bytecode you will have the following:</p>\n\n<p><code>fun otherwise(onRejected: (Throwable) -&gt; Any?): MyInterface&lt;Any&gt;</code> is compiled to:</p>\n\n<pre><code>public static final MyInterface otherwise(@NotNull Function1 onRejected)\n</code></pre>\n\n<p><code>fun &lt;T: Throwable&gt; otherwise(onRejected: (T) -&gt; Any?): MyInterface&lt;Any&gt;</code> is compiled to:</p>\n\n<pre><code>public static final MyInterface otherwise(@NotNull Function1 onRejected)\n</code></pre>\n\n<p>Hence, the compilation error if you try having both in the same class.</p>\n"}], "owner": {"reputation": 1, "user_id": 11532884, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AxozE8aE10w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdw1OAeLLOqY-mipiKkkOkuLnZ7vw/mo/photo.jpg?sz=128", "display_name": "Kareem J. Johnson", "link": "https://stackoverflow.com/users/11532884/kareem-j-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558432589, "creation_date": 1558431387, "question_id": 56235396, "link": "https://stackoverflow.com/questions/56235396/function-overloading-in-interfaces-differ-in-generics", "title": "function overloading in interfaces differ in generics", "body": "<p>I have an interface and which has otherwise method which sends the respective Throwable object to the lambda (handler).</p>\n\n<p>Because of the nature of lambda it does not accept any of the object(inherited ones) except the explicit type specified.</p>\n\n<p>So i had to create another function which supplies the respective error to the handler and when there's is no handler just suppress those Throwables.</p>\n\n<pre><code>fun &lt;T: Throwable&gt; otherwise(onRejected: (T) -&gt; Any?): MyInterface&lt;Any&gt;\n\nfun otherwise(onRejected: (Throwable) -&gt; Any?): MyInterface&lt;Any&gt;\n</code></pre>\n\n<p>But even tho one uses generic and another just takes Throwable, the compiler complaints that <code>The following declarations have the same JVM signature</code>.</p>\n\n<p>I'd like to make a default handler and a primary handler which has a generic to pass only the Throwable they ask.</p>\n\n<p>Any help would be appreciated :^).</p>\n"}, {"tags": ["android", "date", "kotlin", "deprecated"], "comments": [{"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 0, "creation_date": 1558431199, "post_id": 56235263, "comment_id": 99089450, "body": "I think you are looking for <code>getHours()</code>. That&#39;s what <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-date/index.html\" rel=\"nofollow noreferrer\">oficial documentation</a> says"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558432941, "post_id": 56235263, "comment_id": 99090485, "body": "I suggest that it\u2019s a near-duplicate of <a href=\"https://stackoverflow.com/questions/38200459/fastest-way-to-get-hour-of-java-util-date\">Fastest way to get hour of java.util.date?</a> You may search for more similar questions."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1558433601, "post_id": 56235263, "comment_id": 99090839, "body": "I recommend you don\u2019t use <code>Date</code>. That entire class is poorly designed and long outdated. Instead use an appropriate class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1558434048, "post_id": 56235263, "comment_id": 99091035, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/907170/java-getminutes-and-gethours\">Java: getMinutes and getHours</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7642, "user_id": 5773037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVVFa.jpg?s=128&g=1", "display_name": "Nikunj Paradva", "link": "https://stackoverflow.com/users/5773037/nikunj-paradva"}, "is_accepted": true, "score": 7, "last_activity_date": 1558432555, "last_edit_date": 1558432555, "creation_date": 1558431532, "answer_id": 56235428, "question_id": 56235263, "link": "https://stackoverflow.com/questions/56235263/how-to-get-hour-form-date-in-android-kotlin/56235428#56235428", "title": "How to get hour form Date in Android Kotlin?", "body": "<p><code>getHours()</code> is deprecated. It replaced by  <code>Calendar.get(Calendar.HOUR_OF_DAY)</code></p>\n\n<pre><code>val date:Date = ... // your date\nval cal = Calendar.getInstance()\ncal.time = date\nval hours = cal.get(Calendar.HOUR_OF_DAY)\n</code></pre>\n"}], "owner": {"reputation": 5369, "user_id": 3319132, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/rygsD.jpg?s=128&g=1", "display_name": "reza_khalafi", "link": "https://stackoverflow.com/users/3319132/reza-khalafi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2771, "favorite_count": 1, "accepted_answer_id": 56235428, "answer_count": 1, "score": 3, "last_activity_date": 1558432555, "creation_date": 1558430963, "question_id": 56235263, "link": "https://stackoverflow.com/questions/56235263/how-to-get-hour-form-date-in-android-kotlin", "title": "How to get hour form Date in Android Kotlin?", "body": "<p>I try to get hour from Date data type in Kotlin but get this error:  </p>\n\n<blockquote>\n  <p>'getter for hours: Int' is deprecated. Deprecated in Java</p>\n</blockquote>\n\n<p>And my code:  </p>\n\n<pre><code>val date:Date = ...\nval hour = date.hours\n</code></pre>\n\n<p>this is deprecated and  <code>getHours()</code>  not found ...</p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin", "adapter"], "owner": {"reputation": 11, "user_id": 11532706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da80644c40adbf28c1bd9512a38d8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Portigato", "link": "https://stackoverflow.com/users/11532706/portigato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559037204, "creation_date": 1558430015, "last_edit_date": 1559037204, "question_id": 56234996, "link": "https://stackoverflow.com/questions/56234996/how-to-pass-bytearray-from-activity-to-fragment-tabbed-activity-continuously-u", "title": "How to pass ByteArray from Activity to Fragment (Tabbed Activity) continuously updating?", "body": "<p>I am trying to write the values \u200b\u200bobtained from an activity by saving them in a byteArray for processing and writing them in the label of a fragment.</p>\n\n<p>The byteArray collects the data from the bluetooth notifier so it is constantly changing its content.</p>\n\n<p>I show you my code to see if you can help me.</p>\n\n<p>This function includes the matrix with the data, that is, each time the Bluetooth notifier sends me a ByteArray with the data:</p>\n\n<pre><code>fun rellenarfases(arrayDatos: ByteArray) {\n\nval sectionsPagerAdapter = SectionsPagerAdapter(this, supportFragmentManager)\n\nif (arrayDatos[0] == 0.toByte()) {\n    //guardamos el valor en un array para mostrar\n    arrayValores1 = arrayDatos\n    //arrayValores1 = byteArrayOf(1.toByte(),2.toByte(),3.toByte())\n\n    ///Envia el array al sectionPagerAdapter para luego mandarlo a su fragment correspondiente\n    sectionsPagerAdapter.setArray(arrayValores1)\n\n    sectionsPagerAdapter.notifyDataSetChanged()}\n</code></pre>\n\n<p>This would be the code of the SectionPagerAdapter, in this part I receive the array and according to the first position I determine to which fragment I have to send the ByteArray. Using the setArray () function I collect the content of the value given by the activity:</p>\n\n<pre><code> class SectionsPagerAdapter(private val context: Context, fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n\n//Nombre de las pesta\u00f1as\nprivate val TAB_TITLES = arrayOf(\n    \"l1\",\n    \"l2\",\n    \"l3\",\n    \"l4\"\n)\n\n\nvar arrayValores = byteArrayOf(0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n    0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n    0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n    0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte())\n\noverride fun getItem(position: Int): Fragment {\n    // getItem is called to instantiate the fragment for the given page.\n    // Return a PlaceholderFragment (defined as a static inner class below).\n    if ( verArrayVacio(arrayValores) == true) {\n        print ( \"El array esta vacio\")\n    } else {\n        if (position == 0) {\n            if (arrayValores[0] == 0.toByte()) {\n                //return PlaceholderFragment.newInstance2(byteArrayOf(1.toByte(),2.toByte(),3.toByte()))\n                return PlaceholderFragment.newInstance2(arrayValores)\n            }\n        }\n        if (position == 1) {\n            //return PlaceholderFragment2.newInstance(position + 1)\n            if (arrayValores[0] == 1.toByte()) {\n                //return PlaceholderFragment.newInstance2(byteArrayOf(1.toByte(),2.toByte(),3.toByte()))\n                return PlaceholderFragment.newInstance2(arrayValores)\n            }\n        }\n        if (position == 2) {\n            //return PlaceholderFragment3.newInstance(position + 1)\n            if (arrayValores[0] == 2.toByte()) {\n                //return PlaceholderFragment.newInstance2(byteArrayOf(1.toByte(),2.toByte(),3.toByte()))\n                return PlaceholderFragment.newInstance2(arrayValores)\n            }\n        }\n        if (position == 3) {\n            //return PlaceholderFragment4.newInstance(position + 1)\n            if (arrayValores[0] == 3.toByte()) {\n                //return PlaceholderFragment.newInstance2(byteArrayOf(1.toByte(),2.toByte(),3.toByte()))\n                return PlaceholderFragment.newInstance2(arrayValores)\n            }\n        }\n    }\n    return PlaceholderFragment.newInstance2(arrayValores)\n}\n\n//manda el valor del array\nfun getArray(): ByteArray {\n    return arrayValores\n}\n\n//Recoge el valor del array desde otro activity\nfun setArray(array:ByteArray) {\n    this.arrayValores = array\n    print(arrayValores)\n    getItem(arrayValores[0].toInt())\n}\n\nfun verArrayVacio(array: ByteArray) : Boolean {\n    if (array.contentEquals(byteArrayOf(0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n            0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n            0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),\n            0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte(),0.toByte())) == true) {\n        return true\n    } else {\n        return false\n    }\n}\n\noverride fun getPageTitle(position: Int): CharSequence? {\n    return context.resources.getString(TAB_TITLES[position])\n}\n\n//Numero de pesta\u00f1as\noverride fun getCount(): Int {\n    // Show 4 total pages.\n    return 4\n}\n</code></pre>\n\n<p>This is my fragment, here through the bundle I receive the ByteArray and I try to paint the content in the TextView of the fragment but I can not get it to paint anything, and what I would like is to paint and that every time the content of the ByteArray changes, it becomes Send everything back and change the result of the TextView:</p>\n\n<pre><code>    class PlaceholderFragment : Fragment() {\n\nprivate lateinit var pageViewModel: PageViewModel\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    pageViewModel = ViewModelProviders.of(this).get(PageViewModel::class.java).apply {\n        setIndex(arguments?.getInt(KEY_REG_TEXT) ?: 1)\n\n    }\n}\n\n\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    val root = inflater.inflate(R.layout.fragment_informes, container, false)\n\n\n    //recoge el valor del array pasado por el sectionPagerAdapter a traves del Bundle\n    val message = arguments!!.getByteArray(KEY_REG_TEXT)\n\n    val instTension: TextView = root.findViewById(R.id.instTension)\n    val maxTension: TextView = root.findViewById(R.id.maxTension)\n    val minTension: TextView = root.findViewById(R.id.minTension)\n    val instCorriente: TextView = root.findViewById(R.id.instCorriente)\n    val maxCorriente: TextView = root.findViewById(R.id.maxCorriente)\n    val minCorriente: TextView = root.findViewById(R.id.minCorriente)\n    val instActiva: TextView = root.findViewById(R.id.instActiva)\n    val maxActiva: TextView = root.findViewById(R.id.maxActiva)\n    val minActiva: TextView = root.findViewById(R.id.minActiva)\n    val instInductiva: TextView = root.findViewById(R.id.instInductiva)\n    val maxInductiva: TextView = root.findViewById(R.id.maxInductiva)\n    val minInductiva: TextView = root.findViewById(R.id.minInductiva)\n    val instCapacitiva: TextView = root.findViewById(R.id.instCapacitiva)\n    val maxCapacitiva: TextView = root.findViewById(R.id.maxCapacitiva)\n    val minCapacitiva: TextView = root.findViewById(R.id.minCapacitiva)\n    val instAparente: TextView = root.findViewById(R.id.instAparente)\n    val maxAparente: TextView = root.findViewById(R.id.maxAparente)\n    val minAparente: TextView = root.findViewById(R.id.minAparente)\n    val instFactor: TextView = root.findViewById(R.id.instFactor)\n    val maxFactor: TextView = root.findViewById(R.id.maxFactor)\n    val minFactor: TextView = root.findViewById(R.id.minFactor)\n    val instCoseno: TextView = root.findViewById(R.id.instCoseno)\n    val maxCoseno: TextView = root.findViewById(R.id.maxCoseno)\n    val minCoseno: TextView = root.findViewById(R.id.minCoseno)\n\n\n    if (message[1] == 0.toByte()) {\n\n        instTension.text = convertirValores(message[2],message[3],message[4],message[5])\n        var test = convertirValores(message[2],message[3],message[4],message[5])\n        Log.e(\"VALORESI\",test)\n        instCorriente.text = convertirValores(message[6],message[7],message[8],message[9])\n        instActiva.text = convertirValores(message[10],message[11],message[12],message[13])\n        instInductiva.text = convertirValores(message[14],message[15],message[16],message[17])\n        instCapacitiva.text = convertirValores(message[18],message[19],message[20],message[21])\n        instAparente.text = convertirValores(message[22],message[23],message[24],message[25])\n        instFactor.text = convertirValores(message[26],message[27],message[28],message[29])\n        instCoseno.text = convertirValores(message[30],message[31],message[32],message[33])\n\n    }\n\n    if (message[1] == 1.toByte()) {\n\n        maxTension.text = convertirValores(message[2],message[3],message[4],message[5])\n        var test = convertirValores(message[2],message[3],message[4],message[5])\n        Log.e(\"VALORESI\",test)\n        maxCorriente.text = convertirValores(message[6],message[7],message[8],message[9])\n        maxActiva.text = convertirValores(message[10],message[11],message[12],message[13])\n        maxInductiva.text = convertirValores(message[14],message[15],message[16],message[17])\n        maxCapacitiva.text = convertirValores(message[18],message[19],message[20],message[21])\n        maxAparente.text = convertirValores(message[22],message[23],message[24],message[25])\n        maxFactor.text = convertirValores(message[26],message[27],message[28],message[29])\n        maxCoseno.text = convertirValores(message[30],message[31],message[32],message[33])\n\n    }\n\n    if (message[1] == 2.toByte()) {\n\n        minTension.text = convertirValores(message[2],message[3],message[4],message[5])\n        var test = convertirValores(message[2],message[3],message[4],message[5])\n        Log.e(\"VALORESI\",test)\n        minCorriente.text = convertirValores(message[6],message[7],message[8],message[9])\n        minActiva.text = convertirValores(message[10],message[11],message[12],message[13])\n        minInductiva.text = convertirValores(message[14],message[15],message[16],message[17])\n        minCapacitiva.text = convertirValores(message[18],message[19],message[20],message[21])\n        minAparente.text = convertirValores(message[22],message[23],message[24],message[25])\n        minFactor.text = convertirValores(message[26],message[27],message[28],message[29])\n        minCoseno.text = convertirValores(message[30],message[31],message[32],message[33])\n\n    }\n\n    return root\n}\n\nfun convertirValores(byte1 : Byte, byte2: Byte, byte3: Byte,byte4: Byte) : String{\n\n    var byteArray = byteArrayOf(byte1,byte2,byte3,byte4)\n\n    val convertirString = String(byteArray, StandardCharsets.UTF_8).replace(0.toChar().toString(), \"\")\n\n    return convertirString\n}\n\ncompanion object {\n    /**\n     * The fragment argument representing the section number for this\n     * fragment.\n     */\n\n\n    //private const val ARG_SECTION_NUMBER = \"section_number\"\n\n    /**\n     * Returns a new instance of this fragment for the given section\n     * number.\n     */\n    @JvmStatic\n    var  KEY_REG_TEXT = \"text\"\n\n\n\n    fun newInstance2(array: ByteArray): PlaceholderFragment {\n        val frag = PlaceholderFragment()\n\n        var args: Bundle? = Bundle()\n        frag.getArguments()\n        if (args == null)\n            args = Bundle()\n\n        args.putByteArray(KEY_REG_TEXT, array)\n\n        frag.setArguments(args)\n\n        return frag\n    }\n}\n</code></pre>\n\n<p>Also comes into play (although I do not know what it is) an ViewModel which I leave the code for if necessary:</p>\n\n<pre><code>     class PageViewModel : ViewModel() {\n\n\nprivate val _index = MutableLiveData&lt;Int&gt;()\n\n\n    var instTension : LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxTension: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minTension: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var instCorriente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxCorriente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minCorriente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var instActiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxActiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minActiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n\n    var instInductiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n\n    var maxInductiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minInductiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n\n    var instCapacitiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxCapacitiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minCapacitiva: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var instAparente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxAparente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minAparente: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var instFactor: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxFactor: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minFactor: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var instCoseno: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var minCoseno: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n    var maxCoseno: LiveData&lt;String&gt; = Transformations.map(_index) {\n        \"$it\"\n    }\n\n\n\n\nfun setIndex(index: Int) {\n    _index.value = index\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "edited": false, "score": 0, "creation_date": 1558429188, "post_id": 56234693, "comment_id": 99088175, "body": "<code>println(person.name)</code> should print &quot;Jimmy&quot;. Your call should print the haschcode of the object - and it does correctly."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1558430870, "post_id": 56234693, "comment_id": 99089234, "body": "Related: <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4/29140403\">How to print my object without getting &quot;SomeType@2f92e0f4&quot;</a>... it also shows why it is this way (<code>toString</code>). The same applies to Kotlin... a special case is the <code>data class</code>, but you can read that up yourself ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1558429878, "post_id": 56234734, "comment_id": 99088612, "body": "&quot;Just inline this class&quot; That would make different behavior, enabling you to set <code>age</code> when constructing the instance, which isn&#39;t necessarily desirable."}], "tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": true, "score": 5, "last_activity_date": 1558429209, "creation_date": 1558429209, "answer_id": 56234734, "question_id": 56234693, "link": "https://stackoverflow.com/questions/56234693/kotlin-weird-output-when-using-println-for-class-instance/56234734#56234734", "title": "Kotlin weird output when using println for class instance", "body": "<p>You should be printing a name variable of an object Person.</p>\n\n<p>So its just be <code>println(person.name)</code></p>\n\n<p>By using <code>println(person)</code> you are just printing the object instance hash</p>\n\n<p>Btw. you could just inline this class as <code>class Person(val name: String, var age: Int = 10)</code></p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 6, "last_activity_date": 1558429449, "creation_date": 1558429449, "answer_id": 56234802, "question_id": 56234693, "link": "https://stackoverflow.com/questions/56234693/kotlin-weird-output-when-using-println-for-class-instance/56234802#56234802", "title": "Kotlin weird output when using println for class instance", "body": "<p>You must override the method <code>toString()</code> inside the <code>Person</code> class:</p>\n\n<pre><code>class Person(val name: String){\n    var age = 10\n\n    override fun toString(): String {\n        return name\n    }\n}\n</code></pre>\n\n<p>Now your code will print:</p>\n\n<pre><code>Jimmy\n</code></pre>\n\n<p>and not the hashcode.</p>\n"}, {"tags": [], "owner": {"reputation": 1673, "user_id": 3775934, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/i2TBD.png?s=128&g=1", "display_name": "Scrobot", "link": "https://stackoverflow.com/users/3775934/scrobot"}, "is_accepted": false, "score": 1, "last_activity_date": 1558429673, "creation_date": 1558429673, "answer_id": 56234886, "question_id": 56234693, "link": "https://stackoverflow.com/questions/56234693/kotlin-weird-output-when-using-println-for-class-instance/56234886#56234886", "title": "Kotlin weird output when using println for class instance", "body": "<p>Just use <code>data class</code> </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var person = Person(\"Jimmy\")\n    println(person)\n}\n\n\ndata class Person(val name: String, var age = 10)\n</code></pre>\n\n<p>Output be </p>\n\n<p><code>Person(name=Jimmy,age=10)</code></p>\n\n<p>If you want to output exactly \"Jimmy\", so, output <code>name</code> field :)</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var person = Person(\"Jimmy\")\n    println(person.name)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 3, "last_activity_date": 1558437709, "creation_date": 1558437709, "answer_id": 56237178, "question_id": 56234693, "link": "https://stackoverflow.com/questions/56234693/kotlin-weird-output-when-using-println-for-class-instance/56237178#56237178", "title": "Kotlin weird output when using println for class instance", "body": "<p>Short answer: override <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\">toString()</a>.</p>\n\n<p>Java and Kotlin have a standard way to convert any object into a String: the <code>toString()</code> method.</p>\n\n<p>This is defined in the top-level classes <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\">java.lang.Object</a> and in <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/to-string.html\" rel=\"nofollow noreferrer\">kotlin.Any</a>, so every object is guaranteed to have this method.\u00a0 The implementations there simply return the class name followed by '@' and a hex representation of the object's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--\" rel=\"nofollow noreferrer\">hashcode</a>.\u00a0 (They have to work for every possible type of object, so they don't have any other info to use.)</p>\n\n<p>That's what you're seeing in your output.</p>\n\n<p>If you want your class to show something more meaningful, then you should override the <code>toString()</code> method in your <code>Person</code> class.\u00a0 For example, to show the name, as requested:</p>\n\n<pre><code>override fun toString() = name\n</code></pre>\n\n<p>However, in practice that's not always the best approach.\u00a0 <code>toString()</code> will get called whenever your objects get printed to logs, in error messages, and similar, so it's more helpful to have a less-ambiguous representation, such as:</p>\n\n<pre><code>override fun toString() = \"Person($name, $age)\"\n</code></pre>\n\n<p>(Alternatively, you could make it a <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data class</a>, which will automatically provide a suitable <code>toString()</code> implementation, along with several other things.)</p>\n\n<p>When you want to print just then name, you can do that explicitly:</p>\n\n<pre><code>println(person.name)\n</code></pre>\n\n<p>Or you could provide a separate method to call, e.g.:</p>\n\n<pre><code>fun toPrettyString() = name\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>println(person.toPrettyString())\n</code></pre>\n\n<p>That would make your intent much clearer.</p>\n"}], "owner": {"reputation": 27, "user_id": 11248759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d57a0f211091f7b3b4fdc52c91bbd54?s=128&d=identicon&r=PG&f=1", "display_name": "Polyamorous", "link": "https://stackoverflow.com/users/11248759/polyamorous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3133, "favorite_count": 0, "accepted_answer_id": 56234734, "answer_count": 4, "score": 0, "last_activity_date": 1558437709, "creation_date": 1558429091, "question_id": 56234693, "link": "https://stackoverflow.com/questions/56234693/kotlin-weird-output-when-using-println-for-class-instance", "title": "Kotlin weird output when using println for class instance", "body": "<p>I'm getting Person@4b67cf4d as output.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n    var person = Person(\"Jimmy\")\n    println(person)\n}\n\n\nclass Person(val name: String){\n    var age = 10\n}\n</code></pre>\n\n<p>Output should be Jimmy. Sorry if I'm not clear enough, I just started learning Kotlin and couldnt find solution for this.</p>\n"}, {"tags": ["android", "kotlin", "android-toast"], "comments": [{"owner": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 0, "creation_date": 1558429297, "post_id": 56234683, "comment_id": 99088239, "body": "call <code>finish()</code> after <code>Toast</code>"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 0, "creation_date": 1558429429, "post_id": 56234683, "comment_id": 99088321, "body": "Tried, not working"}, {"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1558431053, "post_id": 56234683, "comment_id": 99089344, "body": "I dont know why there is upvotes?"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558431168, "post_id": 56234683, "comment_id": 99089430, "body": "@user1241241 can you point out the problem?"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1558431204, "post_id": 56234683, "comment_id": 99089455, "body": "@PratikButaniAndroidDev , your help will be well appreciated"}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432438, "post_id": 56234683, "comment_id": 99090190, "body": "you are using this code in your service??"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432529, "post_id": 56234683, "comment_id": 99090255, "body": "@BlackBlind I don&#39;t get what you mean"}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432610, "post_id": 56234683, "comment_id": 99090300, "body": "It means You are using this code in sevices or activity?  Now getting my point?"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432771, "post_id": 56234683, "comment_id": 99090395, "body": "@BlackBlind the code is to check whether the scanned QRCode when converted to string, does it have certain character. Yes it&#39;s perform in an activity, as you can see above, else statement run without a problem, the if statement work fine if the Toast isn&#39;t there."}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432860, "post_id": 56234683, "comment_id": 99090449, "body": "Log statement is working in both condition??"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558432936, "post_id": 56234683, "comment_id": 99090482, "body": "@BlackBlind other than the Toast in if statement, everything works fine, if there&#39;s a substitute for Toast, I&#39;ll try LOL"}, {"owner": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558433186, "post_id": 56234683, "comment_id": 99090633, "body": "Bro I know about log and toast. If Some time toast is not work we can use Log because Log always shows  output . and in your code Log is not working then You have logical error in if condition."}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "reply_to_user": {"reputation": 680, "user_id": 10722655, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d5x1LY2KxiA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdrIKQsHIvCXAah8V3wPd6L0YPHg/mo/photo.jpg?sz=128", "display_name": "BlackBlind", "link": "https://stackoverflow.com/users/10722655/blackblind"}, "edited": false, "score": 0, "creation_date": 1558433272, "post_id": 56234683, "comment_id": 99090673, "body": "@BlackBlind I got the solution, the answer from AbdulAzeem is the solution"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430037, "post_id": 56234924, "comment_id": 99088724, "body": "Tried, same problem"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430061, "post_id": 56234924, "comment_id": 99088737, "body": "The else statement work like a charm, without a problem with my code above"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "reply_to_user": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430762, "post_id": 56234924, "comment_id": 99089149, "body": "Are you sure that the actual <code>if</code> statement is called?"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430978, "post_id": 56234924, "comment_id": 99089293, "body": "Yup, because my Log in the If statement get called"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558431006, "post_id": 56234924, "comment_id": 99089312, "body": "If I take away the Toast, finish() will also get call"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 0, "last_activity_date": 1558429795, "creation_date": 1558429795, "answer_id": 56234924, "question_id": 56234683, "link": "https://stackoverflow.com/questions/56234683/why-toast-not-getting-called/56234924#56234924", "title": "Why Toast not getting called", "body": "<p>You could try using applicationContext instead of activity. Activity, as a context might be no longer available after calling finish()</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430177, "post_id": 56234976, "comment_id": 99088804, "body": "<code>D&#47;checkcheck: https:&#47;&#47;www.qrcode-monkey.com V&#47;FA: Inactivity, disconnecting from the service A&#47;libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x10 in tid 12290 (Thread-10007) Disconnected from the target VM, address: &#39;localhost:8603&#39;, transport: &#39;socket&#39;</code>"}], "tags": [], "owner": {"reputation": 861, "user_id": 10546613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p_fc-SsC_fE/AAAAAAAAAAI/AAAAAAAAAAw/ElBwuyveaaE/photo.jpg?sz=128", "display_name": "janavarro", "link": "https://stackoverflow.com/users/10546613/janavarro"}, "is_accepted": false, "score": 0, "last_activity_date": 1558429936, "creation_date": 1558429936, "answer_id": 56234976, "question_id": 56234683, "link": "https://stackoverflow.com/questions/56234683/why-toast-not-getting-called/56234976#56234976", "title": "Why Toast not getting called", "body": "<p>If you call finish() you destroy the activity, which makes this@ScannerActivity invalid.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430328, "post_id": 56235056, "comment_id": 99088893, "body": "Same result, the else statement will work, but when if statement is called, it just do nothing"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430401, "post_id": 56235056, "comment_id": 99088935, "body": "even if I take away the finish() from the if statement, the Toast won&#39;t even get called"}, {"owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "reply_to_user": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430618, "post_id": 56235056, "comment_id": 99089062, "body": "That&#39;s strange.. If the <code>else</code> is working, <code>if</code> should work too (as long as the conditions are actually satisfied)."}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430733, "post_id": 56235056, "comment_id": 99089127, "body": "I know the condition is satisfied because my Log in if statement get called"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430799, "post_id": 56235056, "comment_id": 99089190, "body": "The finish() and Log.d work without a problem without the Toast, but if the Toast is there, it just do nothing"}, {"owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "reply_to_user": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558430995, "post_id": 56235056, "comment_id": 99089304, "body": "What is the type of <code>scannedID</code>?"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558431085, "post_id": 56235056, "comment_id": 99089360, "body": "type string, and I filter out  &quot;.&quot;   &quot;$&quot;   &quot;#&quot;   &quot;[&quot;   &quot;]&quot;"}, {"owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "edited": false, "score": 0, "creation_date": 1558431130, "post_id": 56235056, "comment_id": 99089398, "body": "so if scannedID contain them, if statement will get called"}], "tags": [], "owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "is_accepted": false, "score": 0, "last_activity_date": 1558430211, "creation_date": 1558430211, "answer_id": 56235056, "question_id": 56234683, "link": "https://stackoverflow.com/questions/56234683/why-toast-not-getting-called/56235056#56235056", "title": "Why Toast not getting called", "body": "<p>Your toast isn't showing up because the <code>finish</code> keyword destroys the activity. Simply call <code>finish</code> after the Toast; Your code should look like this:</p>\n\n<pre><code>if (filterCharSet1 in scannedID || filterCharSet2 in scannedID || filterCharSet3 in scannedID || filterCharSet4 in scannedID || filterCharSet5 in scannedID ) {\n                Log.d(\"checkcheck\",\"contain\")\n                Toast.makeText(this@ScannerActivity , \"Error\", Toast.LENGTH_SHORT).show()\n                finish()\n}else{\n\n                Log.d(\"checkcheck\",\"noContain\")\n                Toast.makeText(this@ScannerActivity , \"Ok\", Toast.LENGTH_SHORT).show()\n                finish()\n}\n</code></pre>\n\n<p>I hope this helps.. Merry coding!</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 10127727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0204c3c86e4e556184e0f74765d4dfea?s=128&d=identicon&r=PG", "display_name": "AbdulAzeem", "link": "https://stackoverflow.com/users/10127727/abdulazeem"}, "is_accepted": true, "score": 1, "last_activity_date": 1558430983, "creation_date": 1558430983, "answer_id": 56235270, "question_id": 56234683, "link": "https://stackoverflow.com/questions/56234683/why-toast-not-getting-called/56235270#56235270", "title": "Why Toast not getting called", "body": "<p>First Call <strong>finish()</strong> after toast and then try <strong>runonuithread</strong></p>\n\n<pre><code>this@ScannerActivity.runOnUiThread(java.lang.Runnable {\n          Toast.makeText(getApplicationContext(), \"Error\", Toast.LENGTH_SHORT).show()\n        })\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10638682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212601868897042/picture?type=large", "display_name": "Darren Chuah", "link": "https://stackoverflow.com/users/10638682/darren-chuah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 56235270, "answer_count": 4, "score": 2, "last_activity_date": 1558431469, "creation_date": 1558429063, "last_edit_date": 1558431469, "question_id": 56234683, "link": "https://stackoverflow.com/questions/56234683/why-toast-not-getting-called", "title": "Why Toast not getting called", "body": "<p>I have Toast in both If and Else statement, all the code in If statement were executed with an exception of the Toast. Else statement work without a problem.</p>\n\n<p>The problem are mainly the Toast in the If statement.</p>\n\n<p>I have tried taking the Toast away from If statement and everything work fine, Tried taking finish() out of the If statement and the Toast still won't get called.</p>\n\n<pre><code>if (filterCharSet1 in scannedID || filterCharSet2 in scannedID || filterCharSet3 in scannedID || filterCharSet4 in scannedID || filterCharSet5 in scannedID ) {\n                    Log.d(\"checkcheck\",\"contain\")\n                    finish()\n                    Toast.makeText(this@ScannerActivity , \"Error\", Toast.LENGTH_SHORT).show()\n}else{\n\n                    Log.d(\"checkcheck\",\"noContain\")\n                    finish()\n                    Toast.makeText(this@ScannerActivity , \"Ok\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>The Toast in the Else statement work without a problem, but for some reason the Toast in If statement just don't get called.</p>\n"}, {"tags": ["android-intent", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 8108169, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rVgRBGljHk0/AAAAAAAAAAI/AAAAAAAAAIM/3Z44KyGfMD0/photo.jpg?sz=128", "display_name": "Marcos Eznavil", "link": "https://stackoverflow.com/users/8108169/marcos-eznavil"}, "edited": false, "score": 1, "creation_date": 1558429859, "post_id": 56234733, "comment_id": 99088605, "body": "It just worked, after taking a break. I guess the compiler was just exhausted :)"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1558429209, "creation_date": 1558429209, "answer_id": 56234733, "question_id": 56234658, "link": "https://stackoverflow.com/questions/56234658/how-to-use-intent-action-dial-in-kotlin/56234733#56234733", "title": "How to use Intent.ACTION_DIAL in Kotlin", "body": "<blockquote>\n  <p>Type mismatch: inferred type is Intent but Context was expected</p>\n</blockquote>\n\n<p>You should add <strong><code>activity!!</code></strong> before <strong>startActivity</strong></p>\n\n<pre><code>try {\n        val intent = Intent(Intent.ACTION_DIAL, Uri.parse(num))\n        activity!!.startActivity(intent)\n     } catch (e: Exception) {\n        e.printStackTrace()\n\n     }\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 8108169, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rVgRBGljHk0/AAAAAAAAAAI/AAAAAAAAAIM/3Z44KyGfMD0/photo.jpg?sz=128", "display_name": "Marcos Eznavil", "link": "https://stackoverflow.com/users/8108169/marcos-eznavil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1558429209, "creation_date": 1558428981, "question_id": 56234658, "link": "https://stackoverflow.com/questions/56234658/how-to-use-intent-action-dial-in-kotlin", "title": "How to use Intent.ACTION_DIAL in Kotlin", "body": "<p>I've been using Java for the longest but I recently switched to Kotlin. Here's my problem: I want to start a dialer intent from my app but the compiler returns this error</p>\n\n<p><em>Type mismatch: inferred type is Intent but Context was expected</em></p>\n\n<p>This is what I tried:</p>\n\n<pre><code>val num = \"tel:54646\"\nstartActivity(Intent(Intent.ACTION_DIAL, Uri.parse(num)))\n</code></pre>\n\n<p>in java this works:</p>\n\n<pre><code>String num = \"tel:54646\";\nstartActivity(new Intent(Intent.ACTION_DIAL, Uri.parse(num)));\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["java", "multithreading", "kotlin", "while-loop", "operating-system"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1558429225, "post_id": 56234461, "comment_id": 99088195, "body": "(2) and (3) are bad. (1) is awful."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1558429323, "post_id": 56234461, "comment_id": 99088252, "body": "Did you tagged kotlin for a good reason? Are you actually using kotlin? Then maybe coroutines would offer a better way to manage asynchrony / parallelism"}, {"owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1558429455, "post_id": 56234461, "comment_id": 99088339, "body": "@JonasWilms thank you!! ill try to look up the coroutine"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 3, "last_activity_date": 1558428519, "creation_date": 1558428519, "answer_id": 56234522, "question_id": 56234461, "link": "https://stackoverflow.com/questions/56234461/what-is-difference-between-whiletrue-and-wait-or-thread-join/56234522#56234522", "title": "what is difference between while(true) and wait() or thread join()", "body": "<blockquote>\n  <p>is there any wasting resource among them?</p>\n</blockquote>\n\n<p>An infinite loop definetly wastes ressources as it iterates for no reason, and consumes computation time and energy.</p>\n\n<p>The other two should not waste ressources as they allow the OS to execute other threads in the meantime while they are blocked.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "edited": false, "score": 0, "creation_date": 1558429583, "post_id": 56234536, "comment_id": 99088418, "body": "i thought join() or wait() method is coded like while(true) loop....tried to find the code though i couldn&#39;t.."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "reply_to_user": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "edited": false, "score": 2, "creation_date": 1558429675, "post_id": 56234536, "comment_id": 99088481, "body": "@aguagu No, they aren&#39;t. A <i>waiting</i> thread is <b>not</b> the same thing as a thread that sits there in a loop spinning the CPU with &quot;nop&quot; instructions."}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": true, "score": 4, "last_activity_date": 1558428545, "creation_date": 1558428545, "answer_id": 56234536, "question_id": 56234461, "link": "https://stackoverflow.com/questions/56234461/what-is-difference-between-whiletrue-and-wait-or-thread-join/56234536#56234536", "title": "what is difference between while(true) and wait() or thread join()", "body": "<p>Here:</p>\n\n<pre><code>while(true){}\n</code></pre>\n\n<p>does a \"hot\" wait. It means: your CPU spins at 100%, doing nothing. Maybe, maybe, if you are really lucky, the JVM detects that and is able to not burn CPU cycles like that.</p>\n\n<p>Whereas, for join(), we find:</p>\n\n<blockquote>\n  <p>When we invoke the join() method on a thread, the calling thread goes into a waiting state. It remains in a waiting state until the referenced thread terminates.</p>\n</blockquote>\n\n<p>( from this <a href=\"https://www.baeldung.com/java-thread-join\" rel=\"nofollow noreferrer\">tutorial</a> )</p>\n\n<p>So, join() sounds like the more healthy approach. <code>await()</code> should work in similar ways. </p>\n\n<p>The downside of these two methods: they react to thread interrupts, so it might probably a good idea to put them into a \"while true\" loop.</p>\n"}, {"tags": [], "owner": {"reputation": 3293, "user_id": 1047418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3deab5aa1be96fe145d3103251263523?s=128&d=identicon&r=PG", "display_name": "Torben", "link": "https://stackoverflow.com/users/1047418/torben"}, "is_accepted": false, "score": 2, "last_activity_date": 1558430068, "last_edit_date": 1558430068, "creation_date": 1558429481, "answer_id": 56234821, "question_id": 56234461, "link": "https://stackoverflow.com/questions/56234461/what-is-difference-between-whiletrue-and-wait-or-thread-join/56234821#56234821", "title": "what is difference between while(true) and wait() or thread join()", "body": "<p>None of them are adequate themselves.</p>\n\n<pre><code>while(true){}\n</code></pre>\n\n<p>Endless busy loop spins forever on the processor, generating heat and consuming elctricity. It can not be stopped cleanly.</p>\n\n<pre><code>thread.join()\n</code></pre>\n\n<p>Waiting for another thread to finish. This is different from the others because this can actually finish, instead of just running forever. But if the application consists solely of another thread running until it finishes, why not run the code from the main thread then, instead of creating another thread and waiting for it to finish?</p>\n\n<pre><code>CountDownLatch(1).await()\n</code></pre>\n\n<p>Creating a monitor and waiting for it forever. This is pretty much the same as:</p>\n\n<pre><code>Object o = new Object();\nsynchronized (o) {\n    o.wait();\n}\n</code></pre>\n\n<p>Again, there is no clean way to stop the program.</p>\n\n<p>The last one, a CountdownLatch, would be closest to an approach that can be worked with. Instead of throwing away the reference to the latch immediately, pass it to the code that controls the execution so that it can tell the main thread that it is time to stop. But a CountdownLatch itself as a signal for exit condition is confusing. Exit signal is a boolean, so a Semaphore would be more suitable</p>\n\n<pre><code>Semaphore exitPermission = new Semaphore(0);\n// Pass exit permission around.\nexitPermission.acquire();\n</code></pre>\n\n<p>But this still allows the recipient to mess the state (by trying to acquire it and mess the scheduling), so the Semaphore should be hidden behind an interface that only allows others to release it.</p>\n"}], "owner": {"reputation": 73, "user_id": 11532568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9A0k2a3dEgQ/AAAAAAAAAAI/AAAAAAAAAXU/9ymTaA6oHZ4/photo.jpg?sz=128", "display_name": "aguagu", "link": "https://stackoverflow.com/users/11532568/aguagu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 56234536, "answer_count": 3, "score": 2, "last_activity_date": 1558430068, "creation_date": 1558428332, "question_id": 56234461, "link": "https://stackoverflow.com/questions/56234461/what-is-difference-between-whiletrue-and-wait-or-thread-join", "title": "what is difference between while(true) and wait() or thread join()", "body": "<p>I want to keep the main thread alive.\nI found 3 options, and i wonder which one is the best.\nwhat are the differences, and why??</p>\n\n<p>is there any wasting resource among them?</p>\n\n<ol>\n<li><p>while(true){}</p></li>\n<li><p>thread.join()</p></li>\n<li><p>CountDownLatch(1).await()</p></li>\n</ol>\n\n<p>I tried them, and those worked well.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>while(true){}\n\nthread.join()\n\nCountDownLatch(1).await()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 1, "creation_date": 1558431120, "post_id": 56235288, "comment_id": 99089386, "body": "your examples are similar :)"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1558431774, "post_id": 56235288, "comment_id": 99089804, "body": "and I also can&#39;t use this EndlessScrollListener with my RV due to some problems with this class :("}], "tags": [], "owner": {"reputation": 705, "user_id": 7018008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJUdR.jpg?s=128&g=1", "display_name": "Dulanga", "link": "https://stackoverflow.com/users/7018008/dulanga"}, "is_accepted": true, "score": 1, "last_activity_date": 1558433407, "last_edit_date": 1558433407, "creation_date": 1558431048, "answer_id": 56235288, "question_id": 56234398, "link": "https://stackoverflow.com/questions/56234398/how-to-use-paging-library-instead-of-ordinary-adapter-and-recyclerview/56235288#56235288", "title": "How to use Paging library instead of ordinary adapter and recyclerview?", "body": "<p>I think best way to do pagination with recycle view is use EndlessScrollListener with your recycle view you can find example code from below links.</p>\n\n<p><a href=\"https://androidwave.com/pagination-in-recyclerview/\" rel=\"nofollow noreferrer\">Example one</a></p>\n\n<p><a href=\"https://androidwave.com/pagination-in-recyclerview/\" rel=\"nofollow noreferrer\">Example two</a></p>\n"}], "owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "accepted_answer_id": 56235288, "answer_count": 1, "score": 1, "last_activity_date": 1558433407, "creation_date": 1558428069, "question_id": 56234398, "link": "https://stackoverflow.com/questions/56234398/how-to-use-paging-library-instead-of-ordinary-adapter-and-recyclerview", "title": "How to use Paging library instead of ordinary adapter and recyclerview?", "body": "<p>It will be the longest post and I won't be angry if this question will be closed or down voted, because I can't solve this problem by myself and I need some help of professional programmers. </p>\n\n<p>So, everybody knows such apps like Facebook, Twitter or  Gmail. At each of these apps we use lists. I think that these lists are based on <code>Recyclerview</code> with paging library. I would like to create similar list at my app but I don't know how I can do it. </p>\n\n<p>What I have right now:</p>\n\n<ol>\n<li>Retrofit library - for getting data from server via API (each piece of data contains 50 items)</li>\n<li>RecyclerView with custom adapter</li>\n<li>Scroll listener which is used for getting new data when list reaches the bottom or the top of the recyclerView. </li>\n</ol>\n\n<p>My method recreate recyclerView with new data and it looks not very good. I have several solutions for creating endless list:</p>\n\n<ol>\n<li><p>Stay with current solution which is based on scrollListener:</p>\n\n<pre><code> msgLst.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n            val visibleItemCount = mLayoutManager.childCount\n            val totalItemCount = mLayoutManager.itemCount\n            val pastVisibleItems = mLayoutManager.findFirstVisibleItemPosition()\n\n            if (loading) {\n                if (visibleItemCount + pastVisibleItems &gt;= totalItemCount /*&amp;&amp; !recyclerView.canScrollVertically(1)*/) {\n                    if (nextUrl != null) {\n                        if (sp.getLong(\"expires_in\", 0) - sp.getLong(\"time_delta\", 0) - System.currentTimeMillis() / 1000 &lt;= 60) {\n                            error[\"message\"] = \"access_token_expired\"\n                            error[\"request_no\"] = \"7\"\n                            Singleton.workingWithErrors(error, context!!)\n                        } else {\n                            getMessages(type, Integer.parseInt(Uri.parse(nextUrl).getQueryParameter(\"offset\")), true)\n                        }\n                    }\n                }\n            }\n            if (dy &gt;= 30) {\n                loading = true\n            }\n            if (dy &lt; 0) {\n                if (loading) {\n                    if (mLayoutManager.findFirstVisibleItemPosition() - mLayoutManager.childCount &lt;= 0 /*&amp;&amp; !recyclerView.canScrollVertically(-1)*/) {\n                        loading = false\n\n                        if (prevUrl != null) {\n                            if (sp.getLong(\"expires_in\", 0) - sp.getLong(\"time_delta\", 0) - System.currentTimeMillis() / 1000 &lt;= 60) {\n                                error[\"message\"] = \"access_token_expired\"\n                                error[\"request_no\"] = \"7\"\n                                Singleton.workingWithErrors(error, context!!)\n                            } else {\n                                Singleton.m_offset = Integer.valueOf(Uri.parse(prevUrl).getQueryParameter(\"offset\"))\n                                getMessages(type, Integer.parseInt(Uri.parse(prevUrl).getQueryParameter(\"offset\")), true)\n                            }\n                        }\n                    }\n                }\n            }\n\n            super.onScrolled(recyclerView, dx, dy)\n        }\n    })\n</code></pre></li>\n</ol>\n\n<p>this solution send a new request with new offset:</p>\n\n<pre><code>Integer.parseInt(Uri.parse(prevUrl).getQueryParameter(\"offset\")\n</code></pre>\n\n<p>it can send request at the top and at the bottom but this solution is not good enough.</p>\n\n<ol start=\"2\">\n<li>Another solution - paging library from Google. As I understood I will have to use: <code>PageKeyedDataSource</code> but I can't understand how to use it instead of my current variant. I saw a lot of solutions with endless list but I couldn't make anything except creating class which extends PageKeyedDataSource and then I didn't know what to do.</li>\n<li>One more solution which is based on scrollListener - dynamically adding data to adapter. It means that I will send new data set to adapter and then will add new items after the last item of recyclerView. But I also see that this method also redraws recyclerview with visible effects. Maybe I did smth wrong.</li>\n</ol>\n\n<p>Right now after api call I'm getting arrayList and then send it to my adapter:</p>\n\n<pre><code>val messageArrayList = response.body()!!.messages\nadapter = MessageListAdapter((messageArrayList as ArrayList&lt;MessageModel&gt;), context!!, type)\nadapter.notifyDataSetChanged()\nmsgLst.adapter = adapter\n</code></pre>\n\n<p>So for getting data from the \"page\" I have to pass next/previous offset number which I get from response. So how I can use pagingAdapter or another solution which will help me to make endless list instead what I have right now.</p>\n\n<p>P.S. I can post my adapter if it will be important for giving a right answer.</p>\n"}, {"tags": ["android", "generics", "kotlin", "android-espresso"], "answers": [{"tags": [], "owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "is_accepted": true, "score": 1, "last_activity_date": 1558610836, "last_edit_date": 1558610836, "creation_date": 1558607326, "answer_id": 56273224, "question_id": 56232852, "link": "https://stackoverflow.com/questions/56232852/creating-an-espresso-matcher-for-a-class-with-generics/56273224#56273224", "title": "Creating an Espresso Matcher for a class with generics", "body": "<p>That's because <code>KeyTranslationPair&lt;CompanyType,Strnig&gt;</code> is not a class, when is saying class means <code>KeyTranslationPair::class.java</code>, so, you can do it like : </p>\n\n<pre><code>return object : BoundedMatcher&lt;Any, KeyTranslationPair&lt;*,*&gt;&gt;(KeyTranslationPair::class.java)\n</code></pre>\n\n<p>And you are saying that you don't know what's inside of the <code>KeyTranslationPair</code>, and since it's a <code>Generic</code> you'll have to change the <code>matchesSafely</code> to :</p>\n\n<pre><code>override fun matchesSafely(item: KeyTranslationPair&lt;*, *&gt;?): Boolean {\n   return item?.key == companyType\n}\n</code></pre>\n\n<p>And also you can check if <code>Key</code> is an instance of <code>CompanyType</code> doing : </p>\n\n<pre><code>override fun matchesSafely(item: KeyTranslationPair&lt;*, *&gt;?): Boolean {\n    if(item?.key is CompanyType){\n        return item.key == companyType\n    }\n        return false\n    }\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 660, "user_id": 1259201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ab31410b677dbf9afcd57f9a41f56cf2?s=128&d=identicon&r=PG&f=1", "display_name": "user1259201", "link": "https://stackoverflow.com/users/1259201/user1259201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56273224, "answer_count": 1, "score": 1, "last_activity_date": 1558610836, "creation_date": 1558422343, "last_edit_date": 1558607376, "question_id": 56232852, "link": "https://stackoverflow.com/questions/56232852/creating-an-espresso-matcher-for-a-class-with-generics", "title": "Creating an Espresso Matcher for a class with generics", "body": "<p>I'm trying to create a new Matcher for espresso in order to be able to select a list item. This works fine for a simple class like Office. See this example.</p>\n\n<pre><code>  private fun withOffice(title: String): Matcher&lt;Any&gt; {\n    return object : BoundedMatcher&lt;Any, Office&gt;(Office::class.java) {\n        override fun describeTo(description: Description?) {\n            description?.appendText(\"with title '$title'\");\n        }\n\n        public override fun matchesSafely(office: Office): Boolean {\n            return office.name == title\n        }\n    }\n}\n</code></pre>\n\n<p>However things get more difficult when bringing in generics, like in this class.</p>\n\n<pre><code>class KeyTranslationPair&lt;F, S&gt; extends Pair&lt;F, S&gt;\n</code></pre>\n\n<p>Trying to create a Matcher like this</p>\n\n<pre><code>  private fun withCompanyType(companyType: CompanyType): Matcher&lt;Any&gt; {\n    return object : BoundedMatcher&lt;Any, KeyTranslationPair&lt;CompanyType, String&gt;&gt;(KeyTranslationPair&lt;CompanyType, String&gt;::class.java) {\n        override fun describeTo(description: Description?) {\n            description?.appendText(\"with companyType '$companyType'\");\n        }\n\n        public override fun matchesSafely(keyTranslationPair: KeyTranslationPair&lt;CompanyType, String&gt;): Boolean {\n            return keyTranslationPair.key == companyType\n        }\n    }\n}\n</code></pre>\n\n<p>results in the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/uRFNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRFNO.png\" alt=\"enter image description here\"></a></p>\n\n<p>My assumption is that kotlin get things mixed up with the java type system.\nMaybe someone has an idea here.</p>\n"}, {"tags": ["list", "kotlin", "mutablelist"], "comments": [{"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1558419734, "post_id": 56232106, "comment_id": 99083661, "body": "what should <code>funAdd()</code> do ? And cant you use just <code>val someCollection = listOf()</code> ?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1558419768, "post_id": 56232106, "comment_id": 99083678, "body": "If you want to reassign a different list to your variable, then it must be a var, not a val. If you want to add an element to the list referenced by your variable, then it needs to be a mutable list, not a read-only one. Your question doesn&#39;t have much to do with your quote."}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 1, "last_activity_date": 1558421572, "creation_date": 1558421572, "answer_id": 56232655, "question_id": 56232106, "link": "https://stackoverflow.com/questions/56232106/kotlin-list-and-mutablelist-two-different-references-pointed-to-the-same-colle/56232655#56232655", "title": "Kotlin List and MutableList: two different references, pointed to the same collection object", "body": "<p>Here are various ways of rewriting your code without using var:</p>\n\n<pre><code>fun addEl(numbers:MutableList&lt;Int&gt;):List&lt;Int&gt;{\n    for (i in 1..10) {\n        numbers.add(i)\n    }\n    return numbers.toList()\n}\n\nfun main(args: Array&lt;String&gt;){\n    val readOnlyNumbers: List&lt;Int&gt; = addEl(mutableListOf())\n    println(readOnlyNumbers.size)\n}\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>fun createEl(): List&lt;Int&gt; {\n    return (1..10).toList()\n}\n\nfun main(args: Array&lt;String&gt;){\n    val readOnlyNumbers = createEl()\n    println(readOnlyNumbers.size)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1558433483, "last_edit_date": 1592644375, "creation_date": 1558433483, "answer_id": 56236007, "question_id": 56232106, "link": "https://stackoverflow.com/questions/56232106/kotlin-list-and-mutablelist-two-different-references-pointed-to-the-same-colle/56236007#56236007", "title": "Kotlin List and MutableList: two different references, pointed to the same collection object", "body": "<p>To answer this part:</p>\n<blockquote>\n<p>Could you give an example to this quotation:</p>\n<blockquote>\n<p>A key thing to keep in mind when working with collection interfaces is that read-only collections aren\u2019t necessarily immutable. If you\u2019re working with a variable that has a read-only interface type, this can be just one of the many references to the same collection. Other references can have a mutable interface type</p>\n</blockquote>\n</blockquote>\n<p>This is simply talking about situations like this:</p>\n<pre><code>val mutableList: MutableList&lt;Int&gt; = mutableListOf&lt;Int&gt;()\nval list: List&lt;Int&gt; = mutableList\nprintln(list) // []\nmutableList.add(0)\nprintln(list) // [0]\n</code></pre>\n<p>Even though <code>list</code> has type <code>List&lt;Int&gt;</code> and not <code>MutableList&lt;Int&gt;</code>, its contents have changed.</p>\n<p>Note that this is an example of</p>\n<blockquote>\n<p>I want to write a function that adds elements to some collection, while creating a <code>val someCollection: List &lt;&gt;</code> in the fun main().</p>\n</blockquote>\n<p>as well, but I wouldn't recommend writing this code; go with one of JB Nizet's versions.</p>\n"}], "owner": {"reputation": 3, "user_id": 11531788, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a7s7Es_9870/AAAAAAAAAAI/AAAAAAAAADQ/e9RQbXmVdFY/photo.jpg?sz=128", "display_name": "L P", "link": "https://stackoverflow.com/users/11531788/l-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 56232655, "answer_count": 2, "score": 0, "last_activity_date": 1558433483, "creation_date": 1558419225, "last_edit_date": 1558420981, "question_id": 56232106, "link": "https://stackoverflow.com/questions/56232106/kotlin-list-and-mutablelist-two-different-references-pointed-to-the-same-colle", "title": "Kotlin List and MutableList: two different references, pointed to the same collection object", "body": "<p>Could you give an example to this quotation:</p>\n\n<p>A key thing to keep in mind when working with collection interfaces is that read-only collections aren\u2019t necessarily immutable. If you\u2019re working with a variable that has a read-only interface type, this can be just one of the many references to the same collection. Other references can have a mutable interface type</p>\n\n<p>I want to write a function that adds elements to some collection, while creating a val someCollection: List &lt;> in the fun main(). I can do this through the var someCollection: List &lt;> = funAdd(someCollection.toMutable), but can I do it like this without using a variable var?</p>\n\n<p>Example</p>\n\n<pre><code>fun addEl(numbers:MutableList&lt;Int&gt;):List&lt;Int&gt;{\n    for (i in 1..10){\n        numbers.add(i)\n    }\n    return numbers.toList()\n}\n\nfun main(args: Array&lt;String&gt;){\n    var readOnlyNumbers: List&lt;Int&gt; = emptyList()\n    readOnlyNumbers = addEl(readOnlyNumbers.toMutableList())\n    println(readOnlyNumbers.size)\n}\n</code></pre>\n\n<p>Can I avoid using var and reassigment readOnlyNumbers or not? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "edited": false, "score": 0, "creation_date": 1558420528, "post_id": 56232090, "comment_id": 99083975, "body": "P.S. you can write just val mNavigationView = findViewById&lt;NavigationView&gt;(R.id.nav_view)"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 5641228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-TFFNcCQvEwM/AAAAAAAAAAI/AAAAAAAABXE/url1YGBs_Ss/photo.jpg?sz=128", "display_name": "Warle", "link": "https://stackoverflow.com/users/5641228/warle"}, "is_accepted": true, "score": 0, "last_activity_date": 1558432661, "creation_date": 1558432661, "answer_id": 56235767, "question_id": 56232090, "link": "https://stackoverflow.com/questions/56232090/navigationview-onnavigationitemselected-is-not-called/56235767#56235767", "title": "NavigationView onNavigationItemSelected is not called", "body": "<p>So, the problem was cause by creating new activity for logging user. </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main_with_nav)\n\n    val mNavigationView = findViewById&lt;View&gt;(R.id.nav_view) as NavigationView\n    mNavigationView.setNavigationItemSelectedListener(this)\n\n    //start login action\n    // In the future I will check here some session, but for debbuging I want to log every time\n    if(true){\n        val intent = Intent(applicationContext, LoginActivity::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>After loggin i changed view to the main view but didn't finish that login activity. So all I had to do call finish() after changing view back to main view.</p>\n\n<pre><code>activity.setContentView(R.layout.activity_main_with_nav);\nactivity.finish()\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5641228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-TFFNcCQvEwM/AAAAAAAAAAI/AAAAAAAABXE/url1YGBs_Ss/photo.jpg?sz=128", "display_name": "Warle", "link": "https://stackoverflow.com/users/5641228/warle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 56235767, "answer_count": 1, "score": 1, "last_activity_date": 1558432661, "creation_date": 1558419149, "question_id": 56232090, "link": "https://stackoverflow.com/questions/56232090/navigationview-onnavigationitemselected-is-not-called", "title": "NavigationView onNavigationItemSelected is not called", "body": "<p>yesterday i set my first NavigationView and I would like to add listeners to menu items. I was trying to do it by this: <a href=\"https://stackoverflow.com/questions/47240735/android-kotlin-cant-call-onnavigationitemselected-method\">Android Kotlin - Can&#39;t call onNavigationItemSelected method</a> but it seems like the onNavigationItemSelected is not called.</p>\n\n<p>What did I do.</p>\n\n<p>1.I added NavigationView.OnNavigationItemSelectedListener to main class:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n</code></pre>\n\n<p>2.Settings listeners:</p>\n\n<pre><code>val mNavigationView = findViewById&lt;View&gt;(R.id.nav_view) as NavigationView\n            mNavigationView.setNavigationItemSelectedListener(this)\n</code></pre>\n\n<p>3.overided method onNavigationItemSelected</p>\n\n<pre><code>override fun onNavigationItemSelected(item: MenuItem): Boolean {\n    Log.d(LOG_TAG, \"hello there\")\n    return true\n}\n</code></pre>\n\n<p>And I expected that should it, but its probably not called.\nCan you please help me?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418094, "post_id": 56231855, "comment_id": 99083041, "body": "Conflict means if it has a same id then it will replace that data for particular id. I used to use room database with <i>OnConflictStrategy.REPLACE</i> as always. It works fine."}, {"owner": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418220, "post_id": 56231855, "comment_id": 99083075, "body": "But how can we achieve this conflict as the data is not inserted yet? Ideally id will be generated once the data is inserted then do you have any idea what could be done in my case?"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418249, "post_id": 56231855, "comment_id": 99083084, "body": "Show me the code for data insertion."}, {"owner": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418316, "post_id": 56231855, "comment_id": 99083105, "body": "BaseApp.daoInstance?.appDao()?.insertQuotes(response!!)"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418373, "post_id": 56231855, "comment_id": 99083126, "body": "Before you insert data, are you use nuke table or delete by id before insert data?"}, {"owner": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1558418438, "post_id": 56231855, "comment_id": 99083152, "body": "No, I am doing nothing as I don&#39;t want to delete my older data. I am just fetching data from the API and inserting into database. Now, while inserting the data I want to check for duplicates."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "reply_to_user": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "edited": false, "score": 0, "creation_date": 1558418542, "post_id": 56231855, "comment_id": 99083188, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/193672/discussion-between-piyush-and-aanal-mehta\">continue this discussion in chat</a>."}, {"owner": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1558421816, "post_id": 56231855, "comment_id": 99084537, "body": "Looks like you are autogenerating your primary key ids. In this case duplicate data will be added as for room this is a new data"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1558449583, "post_id": 56231855, "comment_id": 99100212, "body": "Could you add the definition of your <code>Quote</code> entity?"}], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "edited": false, "score": 0, "creation_date": 1558500004, "post_id": 56241865, "comment_id": 99116435, "body": "Yes. That was an alternative I have done in my code. Now I got the answer that room database will replace data based on primary key and not the content value. Thank you!"}, {"owner": {"reputation": 2045, "user_id": 1571605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DN8Ru.png?s=128&g=1", "display_name": "Itamar Kerbel", "link": "https://stackoverflow.com/users/1571605/itamar-kerbel"}, "reply_to_user": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "edited": false, "score": 0, "creation_date": 1558619147, "post_id": 56241865, "comment_id": 99167659, "body": "@Aanal Mehta If this answer helped you please mark it as answered so it will help others in the future."}, {"owner": {"reputation": 87, "user_id": 1805211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FLzja.jpg?s=128&g=1", "display_name": "Black_Zerg", "link": "https://stackoverflow.com/users/1805211/black-zerg"}, "edited": false, "score": 0, "creation_date": 1590266863, "post_id": 56241865, "comment_id": 109619047, "body": "Thanks! This is what I searched"}, {"owner": {"reputation": 11149, "user_id": 706628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NICFY.jpg?s=128&g=1", "display_name": "Barry Fruitman", "link": "https://stackoverflow.com/users/706628/barry-fruitman"}, "edited": false, "score": 3, "creation_date": 1598030908, "post_id": 56241865, "comment_id": 112335593, "body": "Not a great solution. Why check for duplicates manually when you can just make the quote a unique key and let Room do the replace for you with OnConflictStrategy.REPLACE?"}], "tags": [], "owner": {"reputation": 2045, "user_id": 1571605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DN8Ru.png?s=128&g=1", "display_name": "Itamar Kerbel", "link": "https://stackoverflow.com/users/1571605/itamar-kerbel"}, "is_accepted": true, "score": 11, "last_activity_date": 1558453306, "creation_date": 1558453306, "answer_id": 56241865, "question_id": 56231855, "link": "https://stackoverflow.com/questions/56231855/room-database-onconflict-onconflictstrategy-replace-not-working/56241865#56241865", "title": "Room database onConflict = OnConflictStrategy.REPLACE not working", "body": "<p>Room, will not check and compare if you have the quote already in the DB.\nWhat it will do is look if the primary key already exists in the DB if it does, Room will replace all old data with the new one.</p>\n\n<p>In your case, you are not specifying an ID so the DB is generating a unique one for you.\nWhat you should do is create a <code>Query</code> that will search for this quote in the DB something like this:</p>\n\n<pre><code>@Query(\"SELECT * from quote_table WHERE author = :author AND quote = :quote\")\nList&lt;Quote&gt; getQuoteByAuthorAndQuote(string author, string quote);\n</code></pre>\n\n<p>This should return a list with a single quote if one is found and empty if it does not exist.</p>\n\n<p>If you would like to override the old one just update the data in the Quote POJO and insert it to the DB using Room.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 3206070, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f894217442a2facfd609e449b2c57b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3206070", "link": "https://stackoverflow.com/users/3206070/user3206070"}, "is_accepted": false, "score": -3, "last_activity_date": 1583680446, "creation_date": 1583680446, "answer_id": 60588893, "question_id": 56231855, "link": "https://stackoverflow.com/questions/56231855/room-database-onconflict-onconflictstrategy-replace-not-working/60588893#60588893", "title": "Room database onConflict = OnConflictStrategy.REPLACE not working", "body": "<p>When I had same problem, changes in imports did the trick, added following import:</p>\n\n<p><code>import androidx.room.*;</code></p>\n"}, {"tags": [], "owner": {"reputation": 7010, "user_id": 1233659, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/17e783b818510009b73bff298c18dc45?s=128&d=identicon&r=PG", "display_name": "Hamzeh Soboh", "link": "https://stackoverflow.com/users/1233659/hamzeh-soboh"}, "is_accepted": false, "score": 4, "last_activity_date": 1590991141, "creation_date": 1590991141, "answer_id": 62126480, "question_id": 56231855, "link": "https://stackoverflow.com/questions/56231855/room-database-onconflict-onconflictstrategy-replace-not-working/62126480#62126480", "title": "Room database onConflict = OnConflictStrategy.REPLACE not working", "body": "<p>Have you tried to index your main column and mark it as unique?</p>\n\n<pre><code>@Index(value = {\"quote\"}, unique = true)}\n</code></pre>\n"}], "owner": {"reputation": 1079, "user_id": 6390206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yucBFl3gxcQ/AAAAAAAAAAI/AAAAAAAAJ-w/yJBdvHba80A/photo.jpg?sz=128", "display_name": "Aanal Mehta", "link": "https://stackoverflow.com/users/6390206/aanal-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7957, "favorite_count": 1, "accepted_answer_id": 56241865, "answer_count": 3, "score": 13, "last_activity_date": 1616515106, "creation_date": 1558417972, "question_id": 56231855, "link": "https://stackoverflow.com/questions/56231855/room-database-onconflict-onconflictstrategy-replace-not-working", "title": "Room database onConflict = OnConflictStrategy.REPLACE not working", "body": "<p>I am working on Room database and trying to insert <strong>list of items</strong>(eg. list of Quotes which contains author name and a quote in my case).</p>\n\n<p>Following is the code I am using:</p>\n\n<pre><code>// view model\nBaseApp.daoInstance?.appDao()?.insertQuotes(response!!)\n\n// dao\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insertQuotes(listData: MutableList&lt;Quote&gt;)\n</code></pre>\n\n<p>When I try to insert the same data again, it always inserts as a new data instead of <strong>replacing</strong> with the current items.</p>\n\n<p>I have researched a lot for this <strong>OnConflictStrategy.REPLACE</strong> but could not find any proper answer.</p>\n\n<p>Is there anyone facing the same issue and found solution or am I doing anything wrong?</p>\n\n<p>Thank you in advance...!!!</p>\n"}, {"tags": ["java", "android", "kotlin", "android-wifi"], "comments": [{"owner": {"reputation": 7642, "user_id": 5773037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVVFa.jpg?s=128&g=1", "display_name": "Nikunj Paradva", "link": "https://stackoverflow.com/users/5773037/nikunj-paradva"}, "edited": false, "score": 1, "creation_date": 1558410768, "post_id": 56230831, "comment_id": 99081204, "body": "<a href=\"https://stackoverflow.com/a/36405150/5773037\">stackoverflow.com/a/36405150/5773037</a>"}, {"owner": {"reputation": 350, "user_id": 4065769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F2GJ5KdzffY/AAAAAAAAAAI/AAAAAAAAACw/uUXHIsUvqcs/photo.jpg?sz=128", "display_name": "Ahamed Mujeeb", "link": "https://stackoverflow.com/users/4065769/ahamed-mujeeb"}, "reply_to_user": {"reputation": 7642, "user_id": 5773037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVVFa.jpg?s=128&g=1", "display_name": "Nikunj Paradva", "link": "https://stackoverflow.com/users/5773037/nikunj-paradva"}, "edited": false, "score": 0, "creation_date": 1558416866, "post_id": 56230831, "comment_id": 99082654, "body": "@NikunjParadva I already tried this but didn&#39;t get connected. Will check"}, {"owner": {"reputation": 3039, "user_id": 5059725, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xGRtI.jpg?s=128&g=1", "display_name": "Anant Shah", "link": "https://stackoverflow.com/users/5059725/anant-shah"}, "edited": false, "score": 1, "creation_date": 1579685456, "post_id": 56230831, "comment_id": 105844922, "body": "@AhamedMujeeb did u managed to find the solution? can you please share?"}, {"owner": {"reputation": 350, "user_id": 4065769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F2GJ5KdzffY/AAAAAAAAAAI/AAAAAAAAACw/uUXHIsUvqcs/photo.jpg?sz=128", "display_name": "Ahamed Mujeeb", "link": "https://stackoverflow.com/users/4065769/ahamed-mujeeb"}, "reply_to_user": {"reputation": 3039, "user_id": 5059725, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xGRtI.jpg?s=128&g=1", "display_name": "Anant Shah", "link": "https://stackoverflow.com/users/5059725/anant-shah"}, "edited": false, "score": 0, "creation_date": 1579754746, "post_id": 56230831, "comment_id": 105874216, "body": "@AnantShah No solution yet. Requirement exists. Temporally made the wifi a Visible wifi from hardware level to continue work."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13052432, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DQN_e4QclUE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reaMywL4wZUK2jALGr1YAGhd4ou8w/photo.jpg?sz=128", "display_name": "Federico Gomez Gomez", "link": "https://stackoverflow.com/users/13052432/federico-gomez-gomez"}, "is_accepted": false, "score": 0, "last_activity_date": 1584029456, "creation_date": 1584029456, "answer_id": 60657943, "question_id": 56230831, "link": "https://stackoverflow.com/questions/56230831/connecting-to-a-hidden-wi-fi-network-in-android-programmatically/60657943#60657943", "title": "Connecting to a Hidden Wi-Fi network in Android programmatically?", "body": "<p>I connected a hidden WIFI network in Android Studio with a divice Android 7.0. Put the conf.hiddenSSID = true; of the object WifiConfiguration, the configuration to connect a network is similar to a notable network.</p>\n\n<pre><code>public class ShowActivity extends AppCompatActivity {\n\n    private WifiManager wifiManager; // Here is defined the instance\n\n    WifiConfiguration conf = new WifiConfiguration();\n    Log.d(\"Aut\", Net + \" : \" + Pw);\n    conf.SSID = \"\\\"\" + Net + \"\\\"\";\n    conf.preSharedKey = \"\\\"\" + Pw + \"\\\"\";\n    conf.hiddenSSID = true; // Put this line to hidden SSID\n    conf.status = WifiConfiguration.Status.ENABLED;\n    conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP); \n    conf.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP); \n    conf.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK); \n    conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP); \n    conf.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\n    conf.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n\n    // Connect Network\n\n    this.wifiManager =(WifiManager)getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    assert wifiManager != null;\n\n    int netId = this.wifiManager.addNetwork(conf);    \n    WifiInfo wifi_inf = this.wifiManager.getConnectionInfo();\n    this.wifiManager.disableNetwork(wifi_inf.getNetworkId());\n    this.wifiManager.enableNetwork(netId, true);\n    this.wifiManager.reconnect();\n}\n</code></pre>\n"}], "owner": {"reputation": 350, "user_id": 4065769, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F2GJ5KdzffY/AAAAAAAAAAI/AAAAAAAAACw/uUXHIsUvqcs/photo.jpg?sz=128", "display_name": "Ahamed Mujeeb", "link": "https://stackoverflow.com/users/4065769/ahamed-mujeeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 713, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1584029456, "creation_date": 1558410674, "last_edit_date": 1558521631, "question_id": 56230831, "link": "https://stackoverflow.com/questions/56230831/connecting-to-a-hidden-wi-fi-network-in-android-programmatically", "title": "Connecting to a Hidden Wi-Fi network in Android programmatically?", "body": "<p>I am creating an Android application which should connect to a known available Hidden Wi-Fi network.</p>\n\n<p>Which is the proper approach to handle this scenario ?</p>\n\n<p>I have implemented trying to connect to a hidden wifi network. I tried on android devices with OS versions 6.0, 7.0, 7.1.1, 8.0 But couldn't achieve success.</p>\n\n<pre><code>fun initiateWifiConnectivity(mContext: Context, sSID: String, password: String) {\n        mWifiManager = mContext.getSystemService(Context.WIFI_SERVICE) as WifiManager\n\n        if (!mWifiManager!!.isWifiEnabled) {\n            mWifiManager!!.isWifiEnabled = true\n        }\n\n        mWifiConfiguration = WifiConfiguration()\n        mWifiConfiguration!!.SSID = convertToQuotedString(sSID)\n        mWifiConfiguration!!.preSharedKey = password\n        mWifiConfiguration!!.status = WifiConfiguration.Status.ENABLED\n        mWifiConfiguration!!.hiddenSSID = true\n\n     mWifiConfiguration!!.allowedAuthAlgorithms.\n     set(WifiConfiguration.AuthAlgorithm.LEAP)\n\n     mWifiConfiguration!!.allowedGroupCiphers.\n     set(WifiConfiguration.GroupCipher.TKIP)\n\n     mWifiConfiguration!!.allowedGroupCiphers.\n     set(WifiConfiguration.GroupCipher.CCMP)\n\n     mWifiConfiguration!!.allowedGroupCiphers.\n     set(WifiConfiguration.GroupCipher.WEP40)\n\n     mWifiConfiguration!!.allowedKeyManagement.\n     set(WifiConfiguration.KeyMgmt.WPA_PSK)\n\n     mWifiConfiguration!!.allowedKeyManagement.\n     set(WifiConfiguration.KeyMgmt.WPA_EAP)\n\n     mWifiConfiguration!!.allowedKeyManagement.\n     set(WifiConfiguration.KeyMgmt.IEEE8021X)\n\n     mWifiConfiguration!!.allowedPairwiseCiphers.\n     set(WifiConfiguration.PairwiseCipher.TKIP)\n\n     mWifiConfiguration!!.allowedPairwiseCiphers.\n     set(WifiConfiguration.PairwiseCipher.CCMP)\n\n     mWifiConfiguration!!.allowedPairwiseCiphers.\n     set(WifiConfiguration.PairwiseCipher.NONE)\n\n     mWifiConfiguration!!.allowedProtocols.\n     set(WifiConfiguration.Protocol.RSN)\n\n     mWifiConfiguration!!.allowedProtocols.\n     set(WifiConfiguration.Protocol.WPA)\n\n        mWifiManager!!.addNetwork(mWifiConfiguration!!)\n\n         Handler().postDelayed(Runnable {\n             val list = mWifiManager!!.configuredNetworks\n             for (i in list) {\n                 if (i.SSID != null &amp;&amp; i.SSID == \nconvertToQuotedString(sSID)) {\n\n                     mWifiManager!!.disconnect()\n                     mWifiManager!!.enableNetwork(i.networkId, true)\n                     mWifiManager!!.reconnect()\n\n                     break\n                 }\n             }\n         }, 15000)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "pagination"], "comments": [{"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 1, "creation_date": 1558410997, "post_id": 56230756, "comment_id": 99081242, "body": "Maybe you miss notifyDataSetChanged on the adapter at some point"}, {"owner": {"reputation": 557, "user_id": 5152279, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ba2a06178d74058ac67e117dcbb78705?s=128&d=identicon&r=PG&f=1", "display_name": "ManishNegi", "link": "https://stackoverflow.com/users/5152279/manishnegi"}, "edited": false, "score": 0, "creation_date": 1568800553, "post_id": 56230756, "comment_id": 102387316, "body": "Did you find any solution to the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "is_accepted": false, "score": 0, "last_activity_date": 1558416727, "creation_date": 1558416727, "answer_id": 56231649, "question_id": 56230756, "link": "https://stackoverflow.com/questions/56230756/kotlin-pagination-recyclerview-not-working-after-swipe-refresh-layout/56231649#56231649", "title": "Kotlin : Pagination Recyclerview Not Working After Swipe Refresh Layout", "body": "<p>May I know what you're executing under refresing (true) method.</p>\n\n<p>If you're using or showing swipe layout's loader as loading indicator &amp; for that If you're calling <code>swipeLayout.isRefreshing = true</code> this will show loader but also triggers the onRefreshListener(), In this case it will call </p>\n\n<pre><code>sr_spesialisasi.setOnRefreshListener {\n        currentpage = 0\n        loading = false\n        listDataGlobal.clear()\n        adapter.clearData()\n\n        viewModel.loadIconSpesialisasi(currentpage)\n    }\n</code></pre>\n\n<p>this method, which again reloads to the first page. </p>\n\n<p>To make it work, use any boolean like this.<code>isRealRefreshIsOn = false</code>\nwhen you wanna refresh make this to true.</p>\n\n<pre><code> sr_spesialisasi.setOnRefreshListener {\n       if(isRealRefreshIsOn){\n        currentpage = 0\n        loading = false\n        listDataGlobal.clear()\n        adapter.clearData()\n\n        viewModel.loadIconSpesialisasi(currentpage)}\n    }\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 11531347, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bLzqfcejpCI/AAAAAAAAAAI/AAAAAAAAABY/dJRUFi-0aVM/photo.jpg?sz=128", "display_name": "Bali Codes", "link": "https://stackoverflow.com/users/11531347/bali-codes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558416727, "creation_date": 1558409962, "question_id": 56230756, "link": "https://stackoverflow.com/questions/56230756/kotlin-pagination-recyclerview-not-working-after-swipe-refresh-layout", "title": "Kotlin : Pagination Recyclerview Not Working After Swipe Refresh Layout", "body": "<p>Recyclerview pagination works well, but where i do <code>SwipeRefreshLayout</code>, the pagination became broke and doesn't work as expected.</p>\n\n<p>This OnScrollListener of Recyclerview</p>\n\n<pre><code>rv_spesialisasi.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n            override fun onScrolled(recyclerView: RecyclerView?, dx: Int, dy: Int) {\n                super.onScrolled(recyclerView, dx, dy)\n                val linearLayoutManager = recyclerView\n                    ?.layoutManager as LinearLayoutManager?\n                if (!loading &amp;&amp; linearLayoutManager!!.itemCount &lt;= linearLayoutManager.findLastVisibleItemPosition() + 2) {\n                    loading = true\n                    refresing(true)\n                    viewModel.loadIconSpesialisasi(currentpage)\n                }\n            }\n        })\n</code></pre>\n\n<p>and this is for refreshing </p>\n\n<pre><code>private fun setRefreshing() {\n        sr_spesialisasi.setOnRefreshListener {\n            currentpage = 0\n            loading = false\n            listDataGlobal.clear()\n            adapter.clearData()\n\n            viewModel.loadIconSpesialisasi(currentpage)\n        }\n    }\n</code></pre>\n\n<p>I have tried in java, it's works well, but in kotlin doesnt work. Please help me to solve this problem.</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 2, "creation_date": 1558410466, "post_id": 56230750, "comment_id": 99081144, "body": "Well, it&#39;s like the message says. The class is final so you cannot extend it."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1558410579, "post_id": 56230750, "comment_id": 99081179, "body": "The link you have added Says its define as <code>public final class ViewPager2</code> .. And you can not extends a final class .."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1558424066, "post_id": 56230750, "comment_id": 99085572, "body": "Any idea how I can prevent the viewpager from executing when I swipe left/right on my <code>SeekBarPreference</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10418725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6NCW.jpg?s=128&g=1", "display_name": "Jorn Rigter", "link": "https://stackoverflow.com/users/10418725/jorn-rigter"}, "is_accepted": false, "score": 0, "last_activity_date": 1600442936, "creation_date": 1600442936, "answer_id": 63958625, "question_id": 56230750, "link": "https://stackoverflow.com/questions/56230750/this-type-is-final-so-it-cannot-be-inherited-from-viewpager2/63958625#63958625", "title": "&quot;This type is final so it cannot be inherited from&quot; - ViewPager2", "body": "<p>The NestedScrollableHost class does exactly what you're looking for: <a href=\"https://github.com/android/views-widgets-samples/blob/master/ViewPager2/app/src/main/java/androidx/viewpager2/integration/testapp/NestedScrollableHost.kt\" rel=\"nofollow noreferrer\">https://github.com/android/views-widgets-samples/blob/master/ViewPager2/app/src/main/java/androidx/viewpager2/integration/testapp/NestedScrollableHost.kt</a></p>\n<p>The basic idea is that you override <code>onInterceptTouchEvent</code> and request the parent of the NestedScrollableHost (in this case the <code>ViewPager2</code>) to disallow it to intercept touch events, through the <code>requestDisallowInterceptTouchEvent</code> method.</p>\n<pre><code>// Pseudo-code for NestedScrollableHost\n\n@Override\npublic boolean onInterceptTouchEvent(MotionEvent event) {\n    handleInterceptTouchEvent(event);\n    return super.onInterceptTouchEvent(event);\n}\n\nprivate void handleInterceptTouchEvent(MotionEvent event) {\n    // Early return if parent viewpager is null or child can't scroll in same direction as parent\n    if (getParentViewPager() == null ||\n            (!canChildScrollVertically(-1f) &amp;&amp; !canChildScrollVertically(1f))) {\n        return;\n    }\n\n    switch (event.getAction()) {\n        // You can tailor your class to handle the event in the way you want to,\n        // e.g. do something on down and move events:\n        case MotionEvent.ACTION_DOWN:\n            // Disallow the parent (and all subsequent parents) to intercept touch events.\n            getParent().requestDisallowInterceptTouchEvent(disallow);\n        case MotionEvent.ACTION_MOVE:\n            // Some other logic.\n    }\n}\n</code></pre>\n<p>You would place the NestedScrollableHost in between your <code>ViewPager2</code> and (in your case) <code>SeekBarPreference</code> in your XML.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1269, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1600442936, "creation_date": 1558409932, "question_id": 56230750, "link": "https://stackoverflow.com/questions/56230750/this-type-is-final-so-it-cannot-be-inherited-from-viewpager2", "title": "&quot;This type is final so it cannot be inherited from&quot; - ViewPager2", "body": "<p>I\"m trying to extend the <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2\" rel=\"noreferrer\"><code>ViewPager2</code></a> class so I can allow dragging my <code>SeekBarPreference</code> left and right. </p>\n\n<pre><code>class ViewPager2Custom(context: Context) : ViewPager2(context) {\n\n}\n</code></pre>\n\n<p>However I'm getting a \"This type is final so it cannot be inherited from\" red line on my <code>ViewPager2(context)</code>.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["java", "android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1558411896, "post_id": 56230707, "comment_id": 99081423, "body": "can you provide the library link ?"}, {"owner": {"reputation": 43, "user_id": 10125613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2d7db683735f0eaf43e0db45cbbc2?s=128&d=identicon&r=PG&f=1", "display_name": "dmelton_", "link": "https://stackoverflow.com/users/10125613/dmelton"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1558412006, "post_id": 56230707, "comment_id": 99081450, "body": "<a href=\"https://github.com/lisawray/groupie\" rel=\"nofollow noreferrer\">github.com/lisawray/groupie</a> @JohnJoe"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 10125613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2d7db683735f0eaf43e0db45cbbc2?s=128&d=identicon&r=PG&f=1", "display_name": "dmelton_", "link": "https://stackoverflow.com/users/10125613/dmelton"}, "is_accepted": false, "score": 0, "last_activity_date": 1558412794, "creation_date": 1558412794, "answer_id": 56231064, "question_id": 56230707, "link": "https://stackoverflow.com/questions/56230707/recyclerview-not-visible-with-groupie-kotlin/56231064#56231064", "title": "RecyclerView not Visible with Groupie (Kotlin)", "body": "<p>I figured it out. I forgot to add the Layout Manager in my RecyclerView xml block:\n<code>app:layoutManager=\"android.support.v7.widget.LinearLayoutManager\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10516944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G-nzZCB-HEY/AAAAAAAAAAI/AAAAAAAAAQQ/W32THmhbq2A/photo.jpg?sz=128", "display_name": "kabir saini", "link": "https://stackoverflow.com/users/10516944/kabir-saini"}, "is_accepted": false, "score": -1, "last_activity_date": 1593986370, "last_edit_date": 1593986370, "creation_date": 1593973421, "answer_id": 62744708, "question_id": 56230707, "link": "https://stackoverflow.com/questions/56230707/recyclerview-not-visible-with-groupie-kotlin/62744708#62744708", "title": "RecyclerView not Visible with Groupie (Kotlin)", "body": "<p>You need to add this in your layout file where you ha:\n<code>app:layoutManager=&quot;android.support.v7.widget.LinearLayoutManager</code>\nplus you also need to add</p>\n"}], "owner": {"reputation": 43, "user_id": 10125613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2d7db683735f0eaf43e0db45cbbc2?s=128&d=identicon&r=PG&f=1", "display_name": "dmelton_", "link": "https://stackoverflow.com/users/10125613/dmelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 683, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1593986370, "creation_date": 1558409587, "question_id": 56230707, "link": "https://stackoverflow.com/questions/56230707/recyclerview-not-visible-with-groupie-kotlin", "title": "RecyclerView not Visible with Groupie (Kotlin)", "body": "<p>I'm trying to use the Groupie library (version 2.1.0) for my RecylerView. In my original app, the view would not be visible at all. I decided to make a dummy app to resolve my issue, and I just cannot get the view to be visible. I feel the solution may be simple since this library is simple to use.</p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>package com.dmelton.test\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.xwray.groupie.GroupAdapter\nimport com.xwray.groupie.Item\nimport com.xwray.groupie.ViewHolder\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val adapter = GroupAdapter&lt;ViewHolder&gt;()\n\n        adapter.add(Test())\n        adapter.add(Test())\n        adapter.add(Test())\n\n        new_recyclerView.adapter = adapter\n    }\n}\n\nclass Test: Item&lt;ViewHolder&gt;() {\n\n    override fun bind(viewHolder: ViewHolder, position: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getLayout(): Int {\n        return R.layout.individual_service\n    }\n\n}\n</code></pre>\n\n<p><strong>activity_main.xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n\n    &lt;android.support.v7.widget.RecyclerView\n            android:layout_width=\"395dp\"\n            android:layout_height=\"715dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:id=\"@+id/new_recyclerView\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>individual_service.xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                             android:layout_width=\"match_parent\"\n                                             android:layout_height=\"wrap_content\"\n                                             xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/imageView_service\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            android:layout_marginStart=\"16dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:background=\"@android:color/holo_blue_dark\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@android:drawable/ic_menu_preferences\" /&gt;\n\n    &lt;TextView\n            android:id=\"@+id/textView_service_name\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"16dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:text=\"Service Name\"\n            android:textColor=\"@android:color/black\"\n            android:textSize=\"16sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/imageView_service\"\n            app:layout_constraintStart_toEndOf=\"@+id/imageView_service\"\n            app:layout_constraintTop_toTopOf=\"@+id/imageView_service\" /&gt;\n\n\n    &lt;TextView\n            android:id=\"@+id/textView_service_status\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:text=\"Status\"\n            android:textColor=\"@android:color/black\"\n            android:textSize=\"16sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/imageView_service\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/textView_service_name\"\n            app:layout_constraintTop_toTopOf=\"@+id/imageView_service\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.dmelton.test\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.xwray:groupie:2.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "junit"], "answers": [{"comments": [{"owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "edited": false, "score": 0, "creation_date": 1558442649, "post_id": 56232883, "comment_id": 99095894, "body": "I still have the same results - just a generated index.html of the results with no tests listed in it"}], "tags": [], "owner": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1558422462, "creation_date": 1558422462, "answer_id": 56232883, "question_id": 56229922, "link": "https://stackoverflow.com/questions/56229922/getting-xml-html-test-results-for-android-gradle-junit-test-run/56232883#56232883", "title": "Getting XML / HTML test results for android gradle junit test run", "body": "<p>run following command from android studio terminal/or ubuntu machine.</p>\n\n<pre><code>gradlew tasks\n</code></pre>\n\n<p>see the list of options available under group test and use for respective flavor.</p>\n\n<pre><code>gradlew testDebugUnitTest\n</code></pre>\n\n<p>[in my app i am using this command. Output is generated in 'C:\\Users\\abc\\Desktop\\MyApplication\\app\\build\\reports\\tests\\testDebugUnitTest']</p>\n"}, {"tags": [], "owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "is_accepted": true, "score": 1, "last_activity_date": 1558443299, "creation_date": 1558443299, "answer_id": 56238807, "question_id": 56229922, "link": "https://stackoverflow.com/questions/56229922/getting-xml-html-test-results-for-android-gradle-junit-test-run/56238807#56238807", "title": "Getting XML / HTML test results for android gradle junit test run", "body": "<p>Turns out I was missing this from my <code>/app/build.gradle</code></p>\n\n<pre><code>android {\n  ...\n  testOptions {\n    unitTests.all {\n      useJUnitPlatform()\n    }\n  }\n}\n</code></pre>\n\n<p><a href=\"https://www.lordcodes.com/posts/testing-on-android-using-junit-5\" rel=\"nofollow noreferrer\">This guide</a> helped me figure that out</p>\n"}], "owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 56238807, "answer_count": 2, "score": 1, "last_activity_date": 1558443299, "creation_date": 1558401649, "question_id": 56229922, "link": "https://stackoverflow.com/questions/56229922/getting-xml-html-test-results-for-android-gradle-junit-test-run", "title": "Getting XML / HTML test results for android gradle junit test run", "body": "<p>I'm having a hard time finding xml / html test results after running my tests through gradle either with <code>./gradlew test</code> or <code>./gradlew testDebug</code>. When I run either of those I wind up with an html file that shows 0 tests and no xml file at all.</p>\n\n<p>According to the <a href=\"https://developer.android.com/studio/test/command-line\" rel=\"nofollow noreferrer\">android docs</a> XML test results should be in <code>path_to_your_project/module_name/build/test-results/</code> but the test-results folder only has <code>.bin</code> files in it (<code>results.bin</code>, etc). I also tried searching with <code>find app/build -type f -name \"*.xml\"</code> but only found Android related XML files (manifest, merge files, etc).</p>\n\n<p>Output from <code>./gradlew --version</code></p>\n\n<pre><code>------------------------------------------------------------\nGradle 5.1.1\n------------------------------------------------------------\n\nBuild time:   2019-01-10 23:05:02 UTC\nRevision:     3c9abb645fb83932c44e8610642393ad62116807\n\nKotlin DSL:   1.1.1\nKotlin:       1.3.11\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          1.8.0_212 (Oracle Corporation 25.212-b03)\nOS:           Linux 4.15.0-50-generic amd64\n</code></pre>\n\n<p>I want to get test results to publish to jenkins. I have the same issue if I run on my local MBP as well. I have not modified any of the gradle test configurations but the link above seems to suggest I shouldn't need to.</p>\n\n<p>I also tried specifying my test directory with</p>\n\n<pre><code>android {\n    ...\n    sourceSets {\n        androidTest {\n            java.srcDirs = ['src/test/java']\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "generics", "kotlin"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 3, "creation_date": 1558401766, "post_id": 56229909, "comment_id": 99079704, "body": "Java doesn&#39;t have declaration site variance."}], "owner": {"reputation": 740, "user_id": 4594940, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh6.googleusercontent.com/-WBZ1yko941c/AAAAAAAAAAI/AAAAAAAAABA/evKzCnPfSXA/photo.jpg?sz=128", "display_name": "jkratz55", "link": "https://stackoverflow.com/users/4594940/jkratz55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558401475, "creation_date": 1558401475, "question_id": 56229909, "link": "https://stackoverflow.com/questions/56229909/expressing-covariance-and-contravariance-in-java-vs-kotlin", "title": "Expressing covariance and contravariance in Java vs Kotlin", "body": "<p>In Kotlin I can declare a type with a covariant type as such.</p>\n\n<pre><code>class Request&lt;out T&gt; { }\n</code></pre>\n\n<p>And a contravariant type as following</p>\n\n<pre><code>class Request&lt;in T&gt; { }\n</code></pre>\n\n<p>I'm struggling to determine how this can be achieved with Java. In particular more advanced generics in Kotlin like the following.</p>\n\n<pre><code>interface RequestHandler&lt;in TRequest, TResponse&gt; where TRequest: Request&lt;TResponse&gt; { }\n</code></pre>\n\n<p>What is the the Java equivalent? </p>\n"}, {"tags": ["xml", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 520, "user_id": 2167355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0def11942d41b3aa6da19578c532564?s=128&d=identicon&r=PG", "display_name": "abendt", "link": "https://stackoverflow.com/users/2167355/abendt"}, "is_accepted": false, "score": 0, "last_activity_date": 1558453942, "creation_date": 1558453942, "answer_id": 56242074, "question_id": 56229254, "link": "https://stackoverflow.com/questions/56229254/how-to-merge-two-xml-files-in-gradle-kotlin/56242074#56242074", "title": "How to merge two .xml files in Gradle Kotlin?", "body": "<p>you need to  reimplement your merge logic in kotlin:</p>\n\n<ul>\n<li>use <em>val</em> instead of <em>def</em> (<a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#defining-variables\" rel=\"nofollow noreferrer\">Variables</a>)</li>\n<li>you don't need <em>new</em> to invoke the constructor of a class (<a href=\"https://kotlinlang.org/docs/reference/classes.html#creating-instances-of-classes\" rel=\"nofollow noreferrer\">creating classes</a>)</li>\n<li>use the appropiate Kotlin functions to replace groovy code (e.g. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/read-text.html\" rel=\"nofollow noreferrer\">readText()</a> instead of <em>getText()</em> to read a File to a String.</li>\n<li>...</li>\n</ul>\n\n<p>It should look something like:</p>\n\n<pre><code>fun mergeXmlFiles(file1: File, file2: File) {\n   val text1 = file.readText()\n   ...\n   val rootNode = XmlParser().parseText(inventoryContent)\n   val printWriter = PrintWriter(inventory)\n   val xmlNodePrinter = XmlNodePrinter(printWriter)\n   ... \n}\n</code></pre>\n\n<p>then you can use your custom function from your build script:</p>\n\n<pre><code>tasks {\n   val mergeXml by creating {\n     doLast {\n       mergeXmlFiles(File(...), File(...))\n     }\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 10873745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee693c8951baf8cf6d738c33590a45c1?s=128&d=identicon&r=PG&f=1", "display_name": "khumbuche", "link": "https://stackoverflow.com/users/10873745/khumbuche"}, "is_accepted": true, "score": 0, "last_activity_date": 1558480192, "creation_date": 1558480192, "answer_id": 56247382, "question_id": 56229254, "link": "https://stackoverflow.com/questions/56229254/how-to-merge-two-xml-files-in-gradle-kotlin/56247382#56247382", "title": "How to merge two .xml files in Gradle Kotlin?", "body": "<p>I figured it out. It is not as slick or intuitive as it is in Groovy (required a lot of work). Please advise if there are better approaches.  </p>\n\n<ol>\n<li>In the project root directory, create file /buildSrc/src/main/kotlin/XmlUtility.kt with following content.</li>\n</ol>\n\n<pre><code>/*\n * This file includes utilities for processing XML in Kotlin DSL\n *\n */\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport org.xml.sax.InputSource\nimport java.io.StringReader\nimport java.io.File\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nobject XmlUtility {\n\n\n    fun mergeSaveXml(orgXml: String, newXml: String, filePath: String) {\n\n        val finalDocument = mergeXml(orgXml, newXml)\n\n        val transformerFactory = TransformerFactory.newInstance()\n        val transformer = transformerFactory.newTransformer()\n        val domSource = DOMSource(finalDocument)\n        val streamResult = StreamResult(File(filePath))\n        transformer.transform(domSource, streamResult)\n    }\n\n    fun mergeXml(originalContent:String, newContent: String): Document  {\n        val dbFactory = DocumentBuilderFactory.newInstance()\n        val dBuilder  = dbFactory.newDocumentBuilder()\n\n        val xmlOrgInput = InputSource(StringReader(originalContent))\n        val xmlOrgDoc = dBuilder.parse(xmlOrgInput)\n        val xmlOrgEle = xmlOrgDoc.getDocumentElement()\n\n        val xmlNewInput = InputSource(StringReader(newContent))\n        val xmlNewgDoc = dBuilder.parse(xmlNewInput)\n        val xmlNewEle = xmlNewgDoc.getDocumentElement()\n        val xmlNewNde = xmlNewEle.getChildNodes()\n\n        for (i in 0 until xmlNewNde.length) {\n            val xmlNode = xmlNewNde.item(i)\n            if (xmlNode.nodeType == Node.ELEMENT_NODE) {\n                val xmlImportedNode = xmlOrgDoc.importNode(xmlNode, true)\n                xmlOrgEle.appendChild(xmlImportedNode)\n            }\n        }       \n        return xmlOrgDoc\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Then call it from Gradle task</li>\n</ol>\n\n<pre><code>task mergeXml {\n    final inventory = new File(\"$rootDir/src/main/resources/inventory.xml\")\n    final inventoryContent = inventory.getText()\n    final order = new File(\"$rootDir/src/main/resources/order.xml\")\n    final orderContent = order.getText()\n\n    doLast {\n         mergeSaveXml(inventoryContent, orderContent, \"$rootDir/src/main/resources/inventory.xml\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10873745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee693c8951baf8cf6d738c33590a45c1?s=128&d=identicon&r=PG&f=1", "display_name": "khumbuche", "link": "https://stackoverflow.com/users/10873745/khumbuche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "accepted_answer_id": 56247382, "answer_count": 2, "score": 0, "last_activity_date": 1558480192, "creation_date": 1558393908, "last_edit_date": 1558410998, "question_id": 56229254, "link": "https://stackoverflow.com/questions/56229254/how-to-merge-two-xml-files-in-gradle-kotlin", "title": "How to merge two .xml files in Gradle Kotlin?", "body": "<p>I am new to Kotlin, and I am attempting to convert a simple xml file merge task written in Groovy into Kotlin.  </p>\n\n<p>In Gradle Groovy DSL, I can merge two xml files as shown in the code below, how can I accomplish the same in Kotlin?</p>\n\n<p>The mergeXml below merges the both inventory.xml and order.xml file into inventory.xml file.</p>\n\n<p>I have 2 .xml files with following contents:</p>\n\n<p>inventory.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cars&gt;\n    &lt;car&gt;GM&lt;/car&gt;\n    &lt;car&gt;Ford&lt;/car&gt;\n&lt;/cars&gt;\n</code></pre>\n\n<p>order.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cars&gt;\n    &lt;car&gt;Acura&lt;/car&gt;\n    &lt;car&gt;Honda&lt;/car&gt;\n&lt;/cars&gt;\n</code></pre>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\nsourceCompatibility = '1.8'\n\next.libraries = [\n    frameworkLibs: [\n        'org.springframework.boot:spring-boot-starter-data-redis',\n        'org.springframework.boot:spring-boot-starter-web',\n        'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.0.1',\n        'org.springframework.kafka:spring-kafka'\n    ],\n    testLibs: [\n        'org.springframework.boot:spring-boot-starter-test',\n        'org.springframework.kafka:spring-kafka-test'\n    ],\n    sqlLibs: [\n        'org.postgresql:postgresql'\n    ]\n]\n\nallprojects {\n    group = 'com.example'\n    version = '0.0.1-SNAPSHOT'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        implementation libraries.frameworkLibs\n        runtimeOnly libraries.sqlLibs\n        testImplementation libraries.testLibs\n    }\n}\n\n// How to convert following code into Kotlin?\ntask mergeXml {\n    final inventory = new File(\"$rootDir/src/main/resources/inventory.xml\")\n    final inventoryContent = inventory.getText()\n    final order = new File(\"$rootDir/src/main/resources/order.xml\")\n    final orderContent = order.getText()\n\n    doLast {\n        def rootNode = new XmlParser().parseText(inventoryContent)\n        def printWriter = new PrintWriter(inventory)\n        def xmlNodePrinter = new XmlNodePrinter(printWriter)\n\n        new XmlParser().parseText(orderContent).children().each { rootNode.append(it) }\n        printWriter.print(inventoryContent.split(\"(?=&lt;cars)\")[0])\n        xmlNodePrinter.print(rootNode)\n    }\n}\n</code></pre>\n\n<p>I am looking for following result overwritten in inventory.xml file using Kotlin.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cars&gt;\n  &lt;car&gt;\n    GM\n  &lt;/car&gt;\n  &lt;car&gt;\n    Ford\n  &lt;/car&gt;\n  &lt;car&gt;\n    Acura\n  &lt;/car&gt;\n  &lt;car&gt;\n    Honda\n  &lt;/car&gt;\n&lt;/cars&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "is_accepted": true, "score": 3, "last_activity_date": 1558389286, "creation_date": 1558389286, "answer_id": 56228650, "question_id": 56228613, "link": "https://stackoverflow.com/questions/56228613/can-kotlin-be-used-with-openjdk/56228650#56228650", "title": "Can Kotlin be used with openjdk?", "body": "<p>Yes, Kotlin does not have a requirement of using the Oracle JDK.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 11431900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c504438821fc30fd400d7e190148d861?s=128&d=identicon&r=PG&f=1", "display_name": "nina_z", "link": "https://stackoverflow.com/users/11431900/nina-z"}, "is_accepted": false, "score": 1, "last_activity_date": 1558389509, "creation_date": 1558389509, "answer_id": 56228694, "question_id": 56228613, "link": "https://stackoverflow.com/questions/56228613/can-kotlin-be-used-with-openjdk/56228694#56228694", "title": "Can Kotlin be used with openjdk?", "body": "<p>yes it is possible to be used since kotlin is a programming language for JVM too</p>\n"}], "owner": {"reputation": 51, "user_id": 11530538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a03cf32d35effaac91accfb093932b?s=128&d=identicon&r=PG&f=1", "display_name": "Valek", "link": "https://stackoverflow.com/users/11530538/valek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1759, "favorite_count": 0, "accepted_answer_id": 56228650, "answer_count": 2, "score": 4, "last_activity_date": 1558425845, "creation_date": 1558389059, "last_edit_date": 1558425845, "question_id": 56228613, "link": "https://stackoverflow.com/questions/56228613/can-kotlin-be-used-with-openjdk", "title": "Can Kotlin be used with openjdk?", "body": "<p>I recently discovered Kotlin language, and I wonder if it can be used with openjdk?</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 2, "creation_date": 1558385243, "post_id": 56227560, "comment_id": 99076202, "body": "Welcome to Stack Overflow! There&#39;s no line numbers here, where is 50, 54 and 62? And which errors did you get? Which &quot;several possibilities&quot; did you try? Also please <a href=\"https://stackoverflow.com/tour\">take the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;How do I ask a good question?&quot;</a> when you have the time, it will make it easier for us to help you."}, {"owner": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "reply_to_user": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 0, "creation_date": 1558385877, "post_id": 56227560, "comment_id": 99076415, "body": "Thank you. those line numbers contain,  val sharedPref = activity?.getPreferences(Context.MODE_PRIVATE)   val sharedPref = activity?.setPreferences(Context.MODE_PRIVATE) ?: return  and val sharedPref = activity?.setPreferences(Context.MODE_PRIVATE) ?: return . I get the &#39;unresolved reference: activity&#39; error from those three lines in my above posted MainActivity.kt. My git repo commits say it pretty well, within the code i have tried to achieve it, ie those possibilities i have tried."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "edited": false, "score": 0, "creation_date": 1558422061, "post_id": 56228081, "comment_id": 99084636, "body": "Using &#39;this&#39; instead of activity has solved that error. I am however getting the following errors, <a href=\"https://imagebin.ca/v/4hpY6MAqnwMi\" rel=\"nofollow noreferrer\">imagebin.ca/v/4hpY6MAqnwMi</a> , the interesting one is the mismatch type error, now chrname will be a string, however all the others will be intergers, hence using putInt, however within the variable definitions, can i use something like toInteger() so it recognises those as integers instead of strings? I should also point out, i have used the code from <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared-preferenc&zwnj;&#8203;es</a> adapted to my needs to try and get this working."}, {"owner": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "edited": false, "score": 0, "creation_date": 1558462469, "post_id": 56228081, "comment_id": 99106972, "body": "<a href=\"https://github.com/brobostigon/TW01/blob/master/app/src/main/java/com/taylorworld/tw01/MainActivity.kt\" rel=\"nofollow noreferrer\">github.com/brobostigon/TW01/blob/master/app/src/main/java/co&zwnj;&#8203;m/&hellip;</a> got a version working, and saves the editText fields to sharedPreferences."}, {"owner": {"reputation": 741, "user_id": 1253644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bI4FC.jpg?s=128&g=1", "display_name": "mtrewartha", "link": "https://stackoverflow.com/users/1253644/mtrewartha"}, "reply_to_user": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "edited": false, "score": 0, "creation_date": 1558622234, "post_id": 56228081, "comment_id": 99169534, "body": "@philiptaylor looks good to me! One thing I noticed in that working version: Those <code>saveXXX(view: View)</code> functions have a lot of similar functionality. You could refactor that functionality out into a common function."}, {"owner": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "edited": false, "score": 0, "creation_date": 1558628134, "post_id": 56228081, "comment_id": 99172696, "body": "cool, Thank you, :). That is a good idea, that&#39;s how i have been writing the retrieve function, ie it retrieves them all within the same function,"}, {"owner": {"reputation": 741, "user_id": 1253644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bI4FC.jpg?s=128&g=1", "display_name": "mtrewartha", "link": "https://stackoverflow.com/users/1253644/mtrewartha"}, "reply_to_user": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "edited": false, "score": 0, "creation_date": 1558629208, "post_id": 56228081, "comment_id": 99173131, "body": "No problem, glad I could help! If you think I&#39;ve helped you answer your question, would you mind accepting my answer so others don&#39;t see this as unanswered?"}], "tags": [], "owner": {"reputation": 741, "user_id": 1253644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bI4FC.jpg?s=128&g=1", "display_name": "mtrewartha", "link": "https://stackoverflow.com/users/1253644/mtrewartha"}, "is_accepted": true, "score": 0, "last_activity_date": 1558385809, "creation_date": 1558385809, "answer_id": 56228081, "question_id": 56227560, "link": "https://stackoverflow.com/questions/56227560/unresolved-reference-activity-errors/56228081#56228081", "title": "unresolved reference: activity errors", "body": "<p>There are a number of things that aren't quite ideal about this code, but to get you started with an answer to your immediate question:</p>\n\n<p>Activities don't have an <code>activity</code> member (variable or function) that you can reference. However, the points at which you're trying to reference <code>activity</code> are themselves part of <code>MainActivity</code>'s scope and because <code>MainActivity</code> is itself an <code>Activity</code> (via its inheritance from <code>AppCompatActivity</code>), so you can simply replace <code>activity.</code> with <code>this.</code>. You can simplify even further and just delete the <code>this.</code> prefix for those calls, as well.</p>\n\n<p>Give that a shot and see if you can't figure it out from there. If you can't, I'll be glad to help some more!</p>\n"}], "owner": {"reputation": 17, "user_id": 11502526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nWQXlbtKKxc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9GTkFI-P1RoXM4V50e8VFokLcog/mo/photo.jpg?sz=128", "display_name": "philip taylor", "link": "https://stackoverflow.com/users/11502526/philip-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3108, "favorite_count": 0, "accepted_answer_id": 56228081, "answer_count": 1, "score": 0, "last_activity_date": 1558385809, "creation_date": 1558383129, "last_edit_date": 1558383793, "question_id": 56227560, "link": "https://stackoverflow.com/questions/56227560/unresolved-reference-activity-errors", "title": "unresolved reference: activity errors", "body": "<p>I am building functions to write variables from editText fields to sharedPreferences.</p>\n\n<p>I have tried several possibilities for writing to sharedPreferences, and none have worked so decided to write my own. So i have made the related TextView fields onClick'able, which then runs the write to sharedPreferences functions. </p>\n\n<pre><code>package com.taylorworld.tw01\n\nimport android.content.Context\nimport android.os.Bundle\nimport com.google.android.material.snackbar.Snackbar\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\n\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.content_main.*\n\nclass MainActivity() : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    //setSupportActionBar(findViewById(R.id.my_toolbar))\n\n    fab.setOnClickListener { view -&gt;\n        Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n            .setAction(\"Action\", null).show()\n    }\n    }\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    // Inflate the menu; this adds items to the action bar if it is                  present.\n    menuInflater.inflate(R.menu.menu_main, menu)\n    return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    return when (item.itemId) {\n        R.id.action_settings -&gt; true\n        else -&gt; super.onOptionsItemSelected(item)\n    }\n   }\n\n    var strength = editText2.text.toString()\n    var dexterity = editText.text.toString()\n    var intelligance = editText4.text.toString()\n    var wisdom = editText3.text.toString()\n    var constitution = editText6.text.toString()\n    var charisma = editText5.text.toString()\n    var chrname = editText7.text.toString()\n\n    val sharedPref = activity?.getPreferences(Context.MODE_PRIVATE)\n\n    public fun saveStr(view: View) {\n\n        val sharedPref = activity?.setPreferences(Context.MODE_PRIVATE) ?: return with(sharedPref.edit()) {\n            putInt(getString(STR), strength)\n            commit()\n        }\n     }\n\n    public fun saveDex(view: View) {\n\n        val sharedPref = activity?.setPreferences(Context.MODE_PRIVATE) ?: return with(sharedPref.edit()) {\n            putInt(getString(DEX), dexterity)\n            commit()\n        }\n     }\n\n     public fun readStr(view: View) {\n\n    }\n    }\n</code></pre>\n\n<p>I get 'unresolved reference: activity' errors from line 50, 54 and 62, and cant work out how to resolve the errors.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "edited": false, "score": 0, "creation_date": 1589720570, "post_id": 56227374, "comment_id": 109399266, "body": "Facing the same issue. did you find any solution ?"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560954737, "creation_date": 1558382175, "last_edit_date": 1560954737, "question_id": 56227374, "link": "https://stackoverflow.com/questions/56227374/java-net-sockettimeoutexception-failed-to-connect-retrofit-kotlin", "title": "java.net.SocketTimeoutException: failed to connect retrofit kotlin", "body": "<p>I am getting the following error </p>\n\n<pre><code> java.net.SocketTimeoutException: failed to connect to ---- after 10000ms\n        at libcore.io.IoBridge.connectErrno(IoBridge.java:185)\n        at libcore.io.IoBridge.connect(IoBridge.java:130)\n        at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:129)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:356)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:357)\n        at java.net.Socket.connect(Socket.java:616)\n        at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:73)\n        at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:246)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:166)\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.java:225)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at com.sbs16.ensofia.network.manager.EnsofiaResponseInterceptor.intercept(EnsofiaResponseInterceptor.kt:7)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at com.sbs16.ensofia.network.manager.AuthorizationInterceptor.intercept(AuthorizationInterceptor.kt:24)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at com.sbs16.ensofia.network.manager.ConnectivityInterceptor.intercept(ConnectivityInterceptor.kt:16)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>here is my code </p>\n\n<pre><code>class ConnectivityInterceptor(private val ctx: WeakReference&lt;Context&gt;) : Interceptor {\n    override fun intercept(chain: Interceptor.Chain): Response {\n        if (ctx.get() !is Application)\n            throw IllegalArgumentException(\"You mast provide an application context to don't cause memory leaks\")\n        return ctx.get()?.takeIf { it.isConnected() }?.run {\n            return@run chain.request().run(chain::proceed)\n        } ?: throw ConnectivityException()\n    }\n\n    class ConnectivityException : IOException() {\n        override val message: String = \"Connection Not Found Exception\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1558381209, "post_id": 56226983, "comment_id": 99074718, "body": "The <code>Context</code> of your view should either be the activity it is inside of, or a <code>ContextWrapper</code> wrapping that activity. You could therefore cast <code>getContext()</code> to <code>FragmentActivity</code> and pass that to <code>ViewModelProviders.of()</code> in order to get a handle on your viewmodel object."}], "answers": [{"comments": [{"owner": {"reputation": 168, "user_id": 5677706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734101793479970/picture?type=large", "display_name": "jmamath", "link": "https://stackoverflow.com/users/5677706/jmamath"}, "edited": false, "score": 0, "creation_date": 1558456462, "post_id": 56227131, "comment_id": 99104241, "body": "Hey W0rmH0le! Great. I spent some time adapting the code from Java to Kotlin but it definitely worked. Thanks buddy!"}, {"owner": {"reputation": 168, "user_id": 5677706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734101793479970/picture?type=large", "display_name": "jmamath", "link": "https://stackoverflow.com/users/5677706/jmamath"}, "edited": false, "score": 0, "creation_date": 1558463006, "post_id": 56227131, "comment_id": 99107195, "body": "However event if I am able to display the points coordinates on the screen, the data is still not in the ViewModel, so if I switch mode, the data disappears. How could I implement the onUpdate in the ViewModel and call it in the MainActivity ?"}, {"owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "reply_to_user": {"reputation": 168, "user_id": 5677706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734101793479970/picture?type=large", "display_name": "jmamath", "link": "https://stackoverflow.com/users/5677706/jmamath"}, "edited": false, "score": 0, "creation_date": 1558463103, "post_id": 56227131, "comment_id": 99107226, "body": "@jmamath Share your ViewModel"}], "tags": [], "owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "is_accepted": true, "score": 2, "last_activity_date": 1558381004, "creation_date": 1558381004, "answer_id": 56227131, "question_id": 56226983, "link": "https://stackoverflow.com/questions/56226983/passing-event-information-from-custom-view-to-viewmodel/56227131#56227131", "title": "Passing Event Information from Custom View to ViewModel", "body": "<p>Sorry for sharing this in JAVA... But I guess you can capture the ideia.</p>\n\n<p>On CustomView, create a custom interface:</p>\n\n<pre><code>public class PaintView {\n\n    private OnCoordinateUpdate mCoordinatesListener;\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        val pointX = event.x\n        val pointY = event.y\n        ....\n        if(listener != null) {\n            listener.onUpdate(pointX, pointY);\n        }\n    }\n    ...\n\n    public void setCoordinatesListener(OnCoordinateUpdate listener) {\n        mCoordinatesListener = listener;\n    }\n\n    public interface OnCoordinateUpdate {\n        void onUpdate(int x, int y);\n    }\n}\n</code></pre>\n\n<p>Then, on your activity:</p>\n\n<pre><code>public class MainActivity {\n    ...\n    mPaintView.setCoordinatesListener(new PaintView.OnCoordinateUpdate {\n        @Override\n        void onUpdate(int x, int y) {\n            if(mTextView != null) {\n                mTextView.setText(\"X: \" + x + \" Y: \" + y);\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>This way, your <code>PaintView</code> can invoke the <code>onUpdate</code> whenever you want. Then, in your activity, everytime the <code>onUpdate</code> is called, the TextView will have its content updated.</p>\n\n<p>I guess this is a good a approach because you create a custom interface (<code>OnCoordinateUpdate</code>) and it only makes sense to your custom view only.</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 5677706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734101793479970/picture?type=large", "display_name": "jmamath", "link": "https://stackoverflow.com/users/5677706/jmamath"}, "is_accepted": false, "score": 0, "last_activity_date": 1558544275, "last_edit_date": 1558544275, "creation_date": 1558465417, "answer_id": 56244889, "question_id": 56226983, "link": "https://stackoverflow.com/questions/56226983/passing-event-information-from-custom-view-to-viewmodel/56244889#56244889", "title": "Passing Event Information from Custom View to ViewModel", "body": "<p>Finally it worked the following way.\nI took inspiration from the previous post and just used the binded viewmodel to call a function and then get the data.</p>\n\n<p>here is the MainActivity code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity () {\n\n    private lateinit var binding: ActivityMainBinding\n    private lateinit var viewModel: PaintViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n        viewModel = ViewModelProviders.of(this).get(PaintViewModel::class.java)\n\n        binding.viewmodel = viewModel\n        binding.paintView.setCoordinatesListener(object : \n            PaintView.OnCoordinateUpdate {\n            override fun onUpdate(x: Float, y: Float) {\n                binding.textView.text = \"X:  $x \\nY:  $y\"\n                binding.viewmodel?.onUpdateCoordinate(x,y)\n            }\n        })\n        binding.clearButton.setOnClickListener { binding.paintView.clearPath() }\n    }\n}\n</code></pre>\n\n<p>Here is the ViewModel code, the challenge is to call the onUpdate function right in the ViewModel. </p>\n\n<pre><code>class PaintViewModel : ViewModel() {\n    private val _pointX = MutableLiveData&lt;Float&gt;()\n    private val _pointY = MutableLiveData&lt;Float&gt;()\n\n    val pointX : LiveData&lt;Float&gt; = _pointX\n    val pointY : LiveData&lt;Float&gt; = _pointY\n\n    init {\n        _pointX.value = 0f\n        _pointY.value = 0f\n    }\n\n    fun onUpdateCoordinate(x: Float, y: Float) {\n            _pointX.value = x\n            _pointY.value = y\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 168, "user_id": 5677706, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734101793479970/picture?type=large", "display_name": "jmamath", "link": "https://stackoverflow.com/users/5677706/jmamath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 56227131, "answer_count": 2, "score": 0, "last_activity_date": 1558544275, "creation_date": 1558380258, "last_edit_date": 1558380375, "question_id": 56226983, "link": "https://stackoverflow.com/questions/56226983/passing-event-information-from-custom-view-to-viewmodel", "title": "Passing Event Information from Custom View to ViewModel", "body": "<p>Basically I am implementing a paint app, so I made a custom View to handle event and draw on canvas. Now I would like to display the coordinate of the points being drawn on a TextView in real time. So I am trying to use a ViewModel with LiveData to do the updating. But I can't figure out a way to give the information from my custom View to the ViewModel. How would you do that ? I also tried to use BindingAdapter but I can't find a way to do that.</p>\n\n<p>Here the code for my custom View:</p>\n\n<pre><code>class PaintView(context: Context, attrs: AttributeSet): View(context,attrs) {\n\n    var params: LayoutParams\n    private val path : Path = Path()\n    private val brush: Paint  = Paint()\n\n    init {\n        params = LayoutParams(LayoutParams.MATCH_PARENT, \n        LayoutParams.WRAP_CONTENT)\n\n        brush.isAntiAlias = true\n        brush.color = Color.BLACK\n        brush.style = Paint.Style.STROKE\n        brush.strokeJoin = Paint.Join.ROUND\n        brush.strokeWidth = 8f\n\n    }\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        val pointX = event.x\n        val pointY = event.y\n\n        when (event.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                path.moveTo(pointX, pointY)\n                return true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                path.lineTo(pointX, pointY)\n            }\n            else -&gt; return false\n        }\n        postInvalidate()\n        return false\n    }\n\n    fun clearPath(){\n        path.reset()\n        invalidate()\n    }\n\n    public override fun onDraw(canvas: Canvas) {\n        canvas.drawPath(path, brush)\n    }\n}\n</code></pre>\n\n<p>Here is a binding adapter that I found following this post:<a href=\"https://stackoverflow.com/questions/45692511/android-data-binding-view-ontouchlistener\">Android data binding view.onTouchListener</a>. I can Log the points coordinate, but I cant't send them to my ViewModel, so it is quite empty right now.</p>\n\n<pre><code>@BindingAdapter(\"touchListener\")\nfun setTouchListener(self: View, bool: Boolean) {\n    self.setOnTouchListener(\n        object : View.OnTouchListener {\n            override fun onTouch(view: View, event: MotionEvent): Boolean {\n                val pointX = event.x\n                val pointY = event.y\n                when (event.action) {\n                    MotionEvent.ACTION_DOWN -&gt; {\n                        Log.i(\"Points\", \" ($pointX, $pointY)\")\n                    }\n                    MotionEvent.ACTION_MOVE -&gt; {\n                        Log.i(\"Points\", \" ($pointX, $pointY)\")\n                    }\n                    MotionEvent.ACTION_UP -&gt; {\n                        Log.i(\"Points\", \" ($pointX, $pointY)\")\n                    }\n                }\n                return false\n            }\n        })\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1558422506, "post_id": 56227493, "comment_id": 99084849, "body": "Is there a reason for <code>type</code> to be nullable?"}], "tags": [], "owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "is_accepted": true, "score": 0, "last_activity_date": 1558457293, "last_edit_date": 1558457293, "creation_date": 1558382769, "answer_id": 56227493, "question_id": 56226500, "link": "https://stackoverflow.com/questions/56226500/generic-as-parameter-to-constructor/56227493#56227493", "title": "Generic as parameter to constructor", "body": "<p>I think I found the solution:</p>\n\n<pre><code>open class GenericFinder&lt;T&gt;(type: Class&lt;T&gt;) : Finder&lt;Long, T&gt;(type)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "edited": false, "score": 0, "creation_date": 1558458506, "post_id": 56232983, "comment_id": 99105205, "body": "That&#39;s nice. But the reason for the subclassing is that it allows me to do something like this: &quot;val person = Person.byId(1)&quot; instead of &quot;val person = GenericFinder(Person::class.java).byId(1)&quot; because the GenericFinder is a companion object of Person in this case."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "edited": false, "score": 1, "creation_date": 1558511583, "post_id": 56232983, "comment_id": 99121150, "body": "With this, you can write <code>val Person = GenericFinder&lt;Person&gt;()</code> and then you have <code>val person = Person.byId(1)</code> as desired."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1558422822, "creation_date": 1558422822, "answer_id": 56232983, "question_id": 56226500, "link": "https://stackoverflow.com/questions/56226500/generic-as-parameter-to-constructor/56232983#56232983", "title": "Generic as parameter to constructor", "body": "<p>If you (at least reasonably often) want to use <code>GenericFinder</code> directly instead of subclassing it, you can add a helper function with a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code> type parameter</a>: </p>\n\n<pre><code>open class GenericFinder&lt;T&gt;(type: Class&lt;T&gt;) : Finder&lt;Long, T&gt;(type) { ... }\n\ninline fun &lt;reified T&gt; GenericFinder() = GenericFinder(T::class.java)\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56227493, "answer_count": 2, "score": 0, "last_activity_date": 1558457293, "creation_date": 1558377750, "question_id": 56226500, "link": "https://stackoverflow.com/questions/56226500/generic-as-parameter-to-constructor", "title": "Generic as parameter to constructor", "body": "<p>I'm looking at a code that has several entries like this:</p>\n\n<pre><code>open class PersonFinder: Finder&lt;Long, Person&gt;(Person::class.java)\nopen class CompanyFinder: Finder&lt;Long, Company&gt;(Company::class.java)\nopen class DeviceFinder: Finder&lt;Long, Device&gt;(Device::class.java)\n</code></pre>\n\n<p>I'd like a more generic approach, something like this:</p>\n\n<pre><code>open class GenericFinder&lt;T&gt;: Finder&lt;Long, T&gt;(T::class.java)\n</code></pre>\n\n<p>but the syntax is invalid as T::class.java cannot be used as a paramater there. Is there any way I can make this work in a idiomatic way?</p>\n"}]