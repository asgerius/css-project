[{"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "edited": false, "score": 4, "creation_date": 1531349632, "post_id": 51295035, "comment_id": 89567920, "body": "I wouldn&#39;t hold the shared preferences in a static way as it references context."}, {"owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "edited": false, "score": 0, "creation_date": 1531349655, "post_id": 51295035, "comment_id": 89567923, "body": "Try putting a print() statement in onCreate() to verify that it really gets called before you access the global prefs variable."}, {"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 1, "creation_date": 1531356689, "post_id": 51295035, "comment_id": 89569319, "body": "Where did you do this <code>prefs.token = &quot;sometoken&quot;</code>?"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 1, "creation_date": 1531356694, "post_id": 51295035, "comment_id": 89569323, "body": "Your code is confusing. You have two different properties named prefs. Once is a by lazy val, and the other is a lateinit var. Also, it&#39;s not token that is the issue, but prefs."}, {"owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "edited": false, "score": 0, "creation_date": 1531388225, "post_id": 51295035, "comment_id": 89581061, "body": "Did you try removing lateinit var prefs: Prefs from the companion object block, place it outside... that might help"}, {"owner": {"reputation": 209, "user_id": 9851915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074d625414584098346eabc5b85a4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "G0D0T", "link": "https://stackoverflow.com/users/9851915/g0d0t"}, "reply_to_user": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "edited": false, "score": 0, "creation_date": 1531400196, "post_id": 51295035, "comment_id": 89589132, "body": "@lathspell I put a print, but I don&#39;t see it in the console logs... So that method isn&#39;t called."}, {"owner": {"reputation": 209, "user_id": 9851915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074d625414584098346eabc5b85a4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "G0D0T", "link": "https://stackoverflow.com/users/9851915/g0d0t"}, "reply_to_user": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1531400205, "post_id": 51295035, "comment_id": 89589142, "body": "@HongDuan I am using inside my MainActivity just to see if i can access and modify it"}, {"owner": {"reputation": 341, "user_id": 13754420, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GizBAhHeLOQp3G3DtEkkEaBEWHHnqUStkwgtOzR8Q=k-s128", "display_name": "shohruh Maxmudov", "link": "https://stackoverflow.com/users/13754420/shohruh-maxmudov"}, "edited": false, "score": 0, "creation_date": 1600256489, "post_id": 51295035, "comment_id": 113028959, "body": "Check your Scope name.  @injecting thing should be in the same scope with current Class"}], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 9851915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074d625414584098346eabc5b85a4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "G0D0T", "link": "https://stackoverflow.com/users/9851915/g0d0t"}, "is_accepted": true, "score": 2, "last_activity_date": 1531428728, "creation_date": 1531428728, "answer_id": 51314268, "question_id": 51295035, "link": "https://stackoverflow.com/questions/51295035/kotlin-android-shared-preferences-lateinit-property-prefs-has-not-been-initial/51314268#51314268", "title": "Kotlin Android Shared Preferences - lateinit property prefs has not been initialized", "body": "<p>Ok, problem found... The code was alright, I just missed to add this line</p>\n\n<pre><code>android:name=\".App\"\n</code></pre>\n\n<p>in the tag\n <code>&lt;application</code> in my Android Manifest.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 12102080, "user_type": "registered", "profile_image": "https://graph.facebook.com/863664890670636/picture?type=large", "display_name": "Arsen", "link": "https://stackoverflow.com/users/12102080/arsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1597145084, "creation_date": 1597145084, "answer_id": 63357163, "question_id": 51295035, "link": "https://stackoverflow.com/questions/51295035/kotlin-android-shared-preferences-lateinit-property-prefs-has-not-been-initial/63357163#63357163", "title": "Kotlin Android Shared Preferences - lateinit property prefs has not been initialized", "body": "<p>In my case, i just initialize SharedPreference in  <code>onCreate()</code>, and all works</p>\n<p>For example: <strong>MainActivity.kt</strong></p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        AppPreferences.init(this) // added this\n}\n</code></pre>\n<p><strong>SharedPreferences object:</strong></p>\n<pre><code>    object AppPreferences {\n        private const val NAME = &quot;SpinKotlin&quot;\n        private const val MODE = Context.MODE_PRIVATE\n        private lateinit var preferences: SharedPreferences\n    \n        // list of app specific preferences\n        private val IS_FIRST_RUN_PREF = Pair(&quot;is_first_run&quot;, false)\n    \n        fun init(context: Context) {\n            preferences = context.getSharedPreferences(NAME, MODE)\n        }\n    \n        /**\n         * SharedPreferences extension function, so we won't need to call edit() and apply()\n         * ourselves on every SharedPreferences operation.\n         */\n        private inline fun SharedPreferences.edit(operation: (SharedPreferences.Editor) -&gt; Unit) {\n            val editor = edit()\n            operation(editor)\n            editor.apply()\n        }\n\n        // getter and setter with Shared Preference     \n        var temperature: Float\n            // custom getter to get a preference of a desired type, with a predefined default value\n            get() = preferences.getFloat(&quot;temp&quot;,1f )\n    \n            // custom setter to save a preference back to preferences file\n            set(value) = preferences.edit {\n                it.putFloat(&quot;temp&quot;, value)\n            }\n    }\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 9851915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074d625414584098346eabc5b85a4fa5?s=128&d=identicon&r=PG&f=1", "display_name": "G0D0T", "link": "https://stackoverflow.com/users/9851915/g0d0t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3495, "favorite_count": 0, "accepted_answer_id": 51314268, "answer_count": 2, "score": 2, "last_activity_date": 1597145084, "creation_date": 1531348238, "question_id": 51295035, "link": "https://stackoverflow.com/questions/51295035/kotlin-android-shared-preferences-lateinit-property-prefs-has-not-been-initial", "title": "Kotlin Android Shared Preferences - lateinit property prefs has not been initialized", "body": "<p>I tried to follow <a href=\"http://blog.teamtreehouse.com/making-sharedpreferences-easy-with-kotlin\" rel=\"nofollow noreferrer\">this tutorial</a>, but an error occured when I try to assign a value to my Sh.Preference (<code>prefs.token = \"sometoken\"</code>):</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property prefs has not been initialized\n</code></pre>\n\n<p>I don't understand where's the bug, I also checked <a href=\"https://stackoverflow.com/questions/50578618/kotlin-uninitializedpropertyaccessexception-lateinit-property-pref-has-not-been?s=1%7C340.9579\">this thread</a>.\nHere are my code snippets</p>\n\n<p><strong>Prefs.kt :</strong></p>\n\n<pre><code>class Prefs(context: Context) {\n    private val PREFS_FILENAME = \"com.example.myapp.prefs\"\n    private val PREFS_TOKEN = \"token\"\n    private val prefs: SharedPreferences = context.getSharedPreferences(PREFS_FILENAME, 0)\n\n    var token: String?\n        get() = prefs.getString(PREFS_TOKEN, \"\")\n        set(value) = prefs.edit().putString(PREFS_TOKEN, value).apply()\n}\n</code></pre>\n\n<p><strong>App.kt :</strong></p>\n\n<pre><code>val prefs: Prefs by lazy {\n    App.prefs\n}\n\nclass App : Application() {\n    companion object {\n        lateinit var prefs: Prefs\n    }\n\n    override fun onCreate() {\n        prefs = Prefs(applicationContext)\n        super.onCreate()\n    }\n}\n</code></pre>\n\n<p><code>prefs.token</code> has a default value of <code>\"\"</code>, so why the logs said that has not been initialized?</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531353986, "post_id": 51294368, "comment_id": 89568826, "body": "How exactly is <code>01&#47;01&#47;2018</code> stored?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531354148, "post_id": 51294368, "comment_id": 89568861, "body": "@EpicPandaForce as <code>datetime</code>"}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1531557019, "post_id": 51294368, "comment_id": 89648162, "body": "SQLite has no <code>datetime</code> data type. What is the actual format of the date values in the database?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1531662771, "post_id": 51294368, "comment_id": 89670522, "body": "@CL. <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">sqlite.org/lang_datefunc.html</a>"}], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531344301, "creation_date": 1531344301, "question_id": 51294368, "link": "https://stackoverflow.com/questions/51294368/what-is-the-cheapest-way-to-make-a-sqlite-query-in-android-using-kotlin", "title": "What is the cheapest way to make a SQLite query in Android using Kotlin?", "body": "<p>I have a table in my database, it looks something like:</p>\n\n<pre><code>id      description source            checkdate     quantity\n1112    Garlic      Sale              01/01/2018    0.5\n1111    Soup        inventory check   01/01/2018    5\n1113    Orange      inventory check   01/01/2018    10\n1112    Garlic      inventory check   02/01/2018    1\n1111    Soup        Sale              02/01/2018    4\n1112    Garlic      Sale              03/01/2018    0.93\n1112    Garlic      Sale              03/01/2018    0.94\n</code></pre>\n\n<p>I want it to show bring the last date when <code>source</code> is <code>inventory check</code>. But the <code>quantity</code> of whatever date is later. For this example would be something like:</p>\n\n<pre><code>id      description source          checkdate   quantity\n1111    Soup        inventory check 02/01/2018  4\n1112    Garlic      inventory check 02/01/2018  0.94\n1113    Orange      inventory check 01/01/2018  10\n</code></pre>\n\n<p>I'm looking for any suggestions, maybe is cheaper doing it via query, maybe not.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "covariance", "contravariance"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1531344343, "post_id": 51294348, "comment_id": 89566282, "body": "<code>in Shape</code> only allows supertypes of <code>Shape</code>, not subtypes.  <code>Node&lt;Shape, Circle&gt;</code> would work.  <code>Node&lt;Oval, Shape&gt;</code> would not."}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1531344964, "post_id": 51294348, "comment_id": 89566521, "body": "thanks @LouisWasserman, so is there a way to achieve this?  Some other combination of in/out here?"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1531346073, "post_id": 51294348, "comment_id": 89566915, "body": "I doubt you can have a <code>NodeChain</code> type like you want to.  The linkage structure in <code>Node</code> with its <code>nextNode</code> field works, but you can&#39;t have the <code>with</code> structure work like you want it to because the type allowed for the next node changes as you add more nodes. <code>Node</code> alone should work, and building chains of <code>Node</code>s directly without an intermediate type should work."}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1531346481, "post_id": 51294348, "comment_id": 89567070, "body": "thanks @LouisWasserman, yeah creating and connecting the nodes (without any managing chain) does work fine, but was hoping to be able to leverage the &#39;Chain&#39; to own the nodes and assemble them...I worried though it may not be possible :/"}], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1531345942, "post_id": 51294584, "comment_id": 89566878, "body": "Thanks @tynn, I tried this previously but I get an error when trying to call processInput: <code>Type mismatch. Required: List&lt;Nothing&gt; Found: List&lt;Scratch_3.Shape&gt; Projected type Scratch_3.Node&lt;*, *&gt; restricts use of public abstract fun processInput(input: List&lt;InputType&gt;): Unit defined in Scratch_3.Node</code>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1531347193, "post_id": 51294584, "comment_id": 89567275, "body": "Do you have a contravariance left in your implementation?"}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1531348076, "post_id": 51294584, "comment_id": 89567552, "body": "As far as I can tell, no...It&#39;s just the code I pasted above but with all of the <code>in</code>/<code>out</code> removed from <code>NodeChain</code>.  <code>Node</code> didn&#39;t have any.  Is it working for you?  I&#39;ll check again."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1531382918, "post_id": 51294584, "comment_id": 89577568, "body": "The issue is, that <code>List&lt;InputType&gt;</code> has <code>InputType</code> on an <i>in</i> possition. So the contravariance is implicitly given."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1531345375, "creation_date": 1531345375, "answer_id": 51294584, "question_id": 51294348, "link": "https://stackoverflow.com/questions/51294348/kotlin-variance-issue/51294584#51294584", "title": "Kotlin variance issue", "body": "<p>The type <code>Node&lt;in Shape, out Shape&gt;</code> you use is equivalent to <code>Node&lt;Shape, *&gt;</code>. Thus you can only add types having an <code>InputType</code> of <code>Shape</code>. For your usecase you should use <code>Node&lt;*, *&gt;</code> for adding any extension of <code>Node</code>:</p>\n\n<pre><code>class NodeChain {\n    val nodes: MutableList&lt;Node&lt;*, *&gt;&gt; = mutableListOf()\n\n    fun node(n: Node&lt;*, *&gt;) {\n        val prevNode = nodes.lastOrNull()\n        nodes.add(n)\n        prevNode?.nextNode = n::processInput\n    }\n\n    fun processInput(input: List&lt;Shape&gt;) {\n        nodes[0].processInput(input)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531345375, "creation_date": 1531344155, "question_id": 51294348, "link": "https://stackoverflow.com/questions/51294348/kotlin-variance-issue", "title": "Kotlin variance issue", "body": "<p>I'm playing with the concept of a chain of Nodes, each of which have could have different input and output types (though the input/output types would all derive from a shared parent type), where data is passed from node to node and transformed along the way.  Here's an example:</p>\n\n<pre><code>open class Shape\nopen class Oval : Shape()\nclass Circle : Oval()\n\nclass NodeChain {\n    val nodes: MutableList&lt;Node&lt;in Shape, out Shape&gt;&gt; = mutableListOf()\n\n    fun node(n: Node&lt;in Shape, out Shape&gt;) {\n        val prevNode = nodes.lastOrNull()\n        nodes.add(n)\n        prevNode?.nextNode = n::processInput\n    }\n\n    fun processInput(input: List&lt;Shape&gt;) {\n        nodes[0].processInput(input)\n    }\n}\n\nabstract class Node&lt;InputType : Shape, OutputType : Shape&gt; {\n    var nextNode: Function1&lt;List&lt;OutputType&gt;, Unit&gt;? = null\n\n    abstract fun processInput(input: List&lt;InputType&gt;)\n}\n\nclass OvalNode : Node&lt;Shape, Oval&gt;() {\n    override fun processInput(input: List&lt;Shape&gt;) {\n        nextNode?.invoke(listOf(Oval()))\n    }\n}\n\nclass CircleNode : Node&lt;Oval, Circle&gt;() {\n    override fun processInput(input: List&lt;Oval&gt;) {\n        nextNode?.invoke(listOf(Circle()))\n    }\n}\n\nval nodeChain = with (NodeChain()) {\n    node(OvalNode())\n    node(CircleNode()) // Error[1] here (listed below)\n    this\n}\n\nErorr[1]:\nType mismatch. \nRequired:\nScratch_3.Node&lt;in Scratch_3.Shape, out Scratch_3.Shape&gt;\nFound:\nScratch_3.CircleNode\n</code></pre>\n\n<p>You can see at the end there that I get an error: when trying to add a 'CircleNode' to the chain, it complains about expecting a <code>Node&lt;in Shape, out Shape&gt;</code> and doesn't allow a <code>CircleNode</code> (which is <code>Node&lt;Oval, Circle&gt;</code>).  My understanding of variance isn't strong enough to figure out what I need to achieve this (or if it's even possible?).  Is this possible?  Am I on the right track?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "edited": false, "score": 0, "creation_date": 1531337159, "post_id": 51292758, "comment_id": 89563362, "body": "Thank you very much for your answer! So you are saying that for write I could use something like <code>Executors.newSingleThreadExecutor().submit(DAO.insertItem(it&zwnj;&#8203;em))</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "edited": false, "score": 1, "creation_date": 1531337312, "post_id": 51292758, "comment_id": 89563419, "body": "Heavens no, you&#39;d be creating a new single thread executor for every single insert. Make a singleton instance of the executor and use that globally for writes."}, {"owner": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "edited": false, "score": 0, "creation_date": 1531337597, "post_id": 51292758, "comment_id": 89563531, "body": "I am not really familiar yet with Kotlin, still on early learning. Looking at the code sample, <a href=\"https://github.com/googlesamples/android-sunflower/blob/master/app/src/main/java/com/google/samples/apps/sunflower/utilities/AppExecutors.kt\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-sunflower/blob/master/app/s&zwnj;&#8203;rc/&hellip;</a> is the <code>IO_EXECUTOR</code> created each time <code>ronOnIoThread</code> is called? or only one instance?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "edited": false, "score": 1, "creation_date": 1531338792, "post_id": 51292758, "comment_id": 89564079, "body": "Created only once."}, {"owner": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "edited": false, "score": 0, "creation_date": 1531339818, "post_id": 51292758, "comment_id": 89564521, "body": "Thank you very much I&#39;ll go with this approach"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 5, "last_activity_date": 1531337373, "last_edit_date": 1531337373, "creation_date": 1531336618, "answer_id": 51292758, "question_id": 51292561, "link": "https://stackoverflow.com/questions/51292561/recommended-way-to-run-room-insert-in-another-thread-in-kotlin/51292758#51292758", "title": "Recommended way to run Room Insert in another thread in kotlin", "body": "<p>You should generally have your own Executor wrapped under an interface.</p>\n\n<pre><code>public interface Scheduler {\n    void runOnThread(Runnable runnable);\n}\n\n/**\n * A Scheduler implementation based on ModernAsyncTask with an unbounded task queue.\n **/\npublic class IoScheduler implements Scheduler {\n    private static final int CORE_POOL_SIZE = 5;\n    private static final int MAXIMUM_POOL_SIZE = 128;\n    private static final int KEEP_ALIVE = 1;\n\n    private static final ThreadFactory sThreadFactory = new ThreadFactory() {\n        private final AtomicInteger mCount = new AtomicInteger(1);\n\n        @Override\n        public Thread newThread(Runnable r) {\n            return new Thread(r, \"IoScheduler #\" + mCount.getAndIncrement());\n        }\n    };\n\n    private static final BlockingQueue&lt;Runnable&gt; sPoolWorkQueue =\n            new LinkedBlockingQueue&lt;Runnable&gt;();\n\n    /**\n     * An {@link Executor} that can be used to execute tasks in parallel.\n     */\n    private static final Executor THREAD_POOL_EXECUTOR =\n         new ThreadPoolExecutor(CORE_POOL_SIZE, MAXIMUM_POOL_SIZE, KEEP_ALIVE,\n                 TimeUnit.SECONDS, sPoolWorkQueue, sThreadFactory);\n\n    @Override\n    public void runOnThread(Runnable runnable) {\n        THREAD_POOL_EXECUTOR.execute(runnable);\n    }\n}\n</code></pre>\n\n<p>You typically provide these with Dagger:</p>\n\n<pre><code>@Singleton\npublic class IoScheduler implements Scheduler {\n    @Inject\n    IoScheduler() {}\n    ...\n}\n\n@Module\npublic class SchedulerModule {\n    public static final String BACKGROUND = \"BACKGROUND\";\n\n    @Named(BACKGROUND) // you can also use @Qualifier\n    @Provides\n    Scheduler ioScheduler(IoScheduler ioScheduler) {\n        return ioScheduler;\n    }\n}\n</code></pre>\n\n<p>And then use it elsewhere</p>\n\n<pre><code>@Singleton\npublic class MyService {\n    private final Scheduler ioScheduler;\n\n    @Inject\n    MyService(@Named(SchedulerModule.BACKGROUND) Scheduler ioScheduler) { // you can use @Qualifier here instead of @Named\n        this.ioScheduler = ioScheduler;\n    }\n    ....\n}\n</code></pre>\n\n<p>(though this <code>ioScheduler</code> is better for reads: for writes, you might want to consider a separate, single-threaded executor.)</p>\n\n<hr>\n\n<p>So if you read this to its end, it's actually this approach:</p>\n\n<blockquote>\n  <p>2.) The Google sunflower sample uses <code>runOnIoThread</code> which is a method that does <code>IO_EXECUTOR.execute(job)</code> where <code>IO_EXECUTOR = Executors.newSingleThreadExecutor</code></p>\n</blockquote>\n"}], "owner": {"reputation": 13413, "user_id": 379865, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d61816cef798bc0de81d90bb7063c486?s=128&d=identicon&r=PG", "display_name": "Alin", "link": "https://stackoverflow.com/users/379865/alin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 3, "accepted_answer_id": 51292758, "answer_count": 1, "score": 2, "last_activity_date": 1531337373, "creation_date": 1531335815, "last_edit_date": 1531336178, "question_id": 51292561, "link": "https://stackoverflow.com/questions/51292561/recommended-way-to-run-room-insert-in-another-thread-in-kotlin", "title": "Recommended way to run Room Insert in another thread in kotlin", "body": "<p>I am at the step where in my <code>Repository</code> I want to implement running <code>@Insert</code> into a new thread, not on UI thread.</p>\n\n<p>I saw that there are a few ways to handle this:</p>\n\n<ol>\n<li><p>Some sample use <code>AsyncTask</code> and within <code>doInBackground</code> do the <code>Dao</code> call</p></li>\n<li><p>The Google sunflower sample uses <code>runOnIoThread</code> which is a method that does <code>IO_EXECUTOR.execute(job)</code> where <code>IO_EXECUTOR = Executors.newSingleThreadExecutor</code></p></li>\n<li><p>Some seem to use <code>anko</code>  </p></li>\n</ol>\n\n<p><code>doAsync{\n    dao.insert(item)\n}</code></p>\n\n<p>What is the recommended way to do it?</p>\n"}, {"tags": ["spring", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531335809, "post_id": 51292526, "comment_id": 89562755, "body": "A standard JPQL query starts with <code>select</code>. Add <code>select distinct m</code> at the beginning of the query. Note that your last LEFT JOIN is completely useless, since it doesn&#39; have FETCH."}, {"owner": {"reputation": 1, "user_id": 4534576, "user_type": "registered", "profile_image": "https://graph.facebook.com/806486342720926/picture?type=large", "display_name": "Kazioo", "link": "https://stackoverflow.com/users/4534576/kazioo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531339067, "post_id": 51292526, "comment_id": 89564217, "body": "After I change query to &quot;SELECT DISTINCT m FROM MainCategory m LEFT JOIN FETCH m.sub_category s LEFT JOIN FETCH s.topics&quot; I am getting &quot;org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; error"}, {"owner": {"reputation": 1, "user_id": 4534576, "user_type": "registered", "profile_image": "https://graph.facebook.com/806486342720926/picture?type=large", "display_name": "Kazioo", "link": "https://stackoverflow.com/users/4534576/kazioo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531340794, "post_id": 51292526, "comment_id": 89564910, "body": "Ok, I solved problem by changing in entities List to Set. Many thanks @JBNizet"}], "owner": {"reputation": 1, "user_id": 4534576, "user_type": "registered", "profile_image": "https://graph.facebook.com/806486342720926/picture?type=large", "display_name": "Kazioo", "link": "https://stackoverflow.com/users/4534576/kazioo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531335689, "creation_date": 1531335689, "question_id": 51292526, "link": "https://stackoverflow.com/questions/51292526/spring-query-with-two-joins", "title": "Spring @Query with two Joins", "body": "<p>I am trying to create @Query, witch will return json structure with one Database query. But Unfortunately I am getting error:\njava.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to org...entity.MainCategory</p>\n\n<pre><code>@Entity\nclass MainCategory(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    var id: Long = -1,\n    ...\n    @OneToMany (mappedBy = \"maincategory\", cascade = [(CascadeType.ALL)], \nfetch = FetchType.LAZY)\n    var sub_category: List&lt;SubCategory&gt; = emptyList()\n)\n\n@Entity\nclass SubCategory(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    val id: Long = 0,\n    ...\n    @ManyToOne\n    @JsonIgnore\n    @JoinColumn(name = \"maincategory_id\", referencedColumnName=\"id\")\n    val maincategory: MainCategory,\n\n    @OneToMany (mappedBy = \"subcategory\", cascade = [(CascadeType.ALL)], fetch = FetchType.LAZY)\n    var topics: List&lt;Topic&gt; = emptyList()\n)\n\n@Entity\nclass Topic (@Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)\n         val id: Long = 0,\n         ...\n         @ManyToOne\n         @JsonIgnore\n         @JoinColumn(name = \"subcategory_id\", referencedColumnName=\"id\")\n         val subcategory: SubCategory,\n\n         @OneToMany(fetch = FetchType.LAZY)\n         @JoinColumn(name = \"tpc_id\", nullable = false, insertable = false, updatable = false, referencedColumnName=\"ID\")\n         var posts: List&lt;Post&gt;\n)\n\n@Repository\ninterface MainCategoryRepository : CrudRepository&lt;MainCategory, Long&gt; {\n@Query(\"FROM MainCategory m LEFT JOIN FETCH m.sub_category s LEFT JOIN s.topics\")\nfun findList(): MutableIterable&lt;MainCategory&gt;\n}\n\n@RestController\n@RequestMapping(\"mainCategory\")\nclass MainCategoryController(val mainCategoryRepository: MainCategoryRepository) {\n@GetMapping(\"/findList\")\nfun findList(): MutableIterable&lt;MainCategory&gt; {\n    val i: MutableIterable&lt;MainCategory&gt; =  this.mainCategoryRepository.findList()\n    i.forEach{it.sub_category.forEach{ cs -&gt;\n        cs.topics.forEach{it -&gt;\n            it.posts = emptyList()}\n    }\n    }\n    return i\n}\n}\n</code></pre>\n\n<p>Is there a possibility to return MainCategory &amp; SubCategory &amp; Topics with only One query?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 2, "creation_date": 1531334256, "post_id": 51292093, "comment_id": 89562004, "body": "Because coruotines aren&#39;t magic.  If you start to have various functions finish at random times, you lose determinism.  Losing that makes a lot of things very hard, if not impossible.  That&#39;s why so many things happen on the main thread-  so that the order is deterministic and you can know for sure that onStart finishes before onResume, that onMeasure finishes before you draw, that touch input is handled relative to the state of the UI when the touch occurred rather than handling it on its own thread when the UI may have changed, etc."}, {"owner": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 2, "creation_date": 1531341443, "post_id": 51292093, "comment_id": 89565145, "body": "@GabeSechan very thoughtful reply, thanks! You can put it as an answer, I will accept it if no one else goes into more detail"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531385609, "post_id": 51292093, "comment_id": 89579327, "body": "You lose that ordering whenever you apply coroutines, so I&#39;m not really happy with this argumentation. A function suspends itself for a reason, because it can&#39;t go on at the moment. It would indeed be more convenient if all android callbacks were <code>suspend fun</code>s to begin with, but i don&#39;t think that&#39;s going to happen. You&#39;d first have to eliminate Java from the picture."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1531385953, "post_id": 51292093, "comment_id": 89579547, "body": "Let me also note that I don&#39;t like the default behavior of <code>launch(UI)</code>, it delays even the coroutine start so you lose ordering right at the top. That&#39;s why i use <code>start = UNDISPATCHED</code> in my project. Sometimes i must also use <code>with(myContinuation) { UI.resumeUndispatched(Unit) }</code>  to resume synchronously, within the event handler frame."}], "owner": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 873, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1531333691, "creation_date": 1531333691, "question_id": 51292093, "link": "https://stackoverflow.com/questions/51292093/kotlin-coroutine-main-looper-android", "title": "Kotlin Coroutine Main Looper Android", "body": "<p>I have been studying the coroutines and their applications in Android when a natural question came into my mind. Why don\u2019t we use a non-blocking implementation of Main Looper that processes the message queue inside the main coroutine so that we could use suspending functions in any part of the application without explicitly launching new coroutines?</p>\n\n<p>I\u2019m nowhere near an expert in coroutines, but I think that such enhancement could potentially be useful, even though may require a complete revision of the Android\u2019s platform code.</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "edited": false, "score": 5, "creation_date": 1531331472, "post_id": 51291427, "comment_id": 89560772, "body": "would you be able to provide the code for the situation where this occured?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1531332509, "post_id": 51291427, "comment_id": 89561242, "body": "This should not be possible. If you can reproduce it, please post code. If the question is only about the difference between the two, they&#39;re discussed here: <a href=\"https://stackoverflow.com/a/51094692/4465208\">stackoverflow.com/a/51094692/4465208</a>"}, {"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1552388680, "post_id": 51291427, "comment_id": 96981393, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51093601/which-one-should-i-use-between-if-data-null-and-data-let-in-kotlin\">Which one should I use between if (data!=null) and data?.let in kotlin?</a>"}], "owner": {"reputation": 101, "user_id": 10060679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa03K.jpg?s=128&g=1", "display_name": "Ado Ki", "link": "https://stackoverflow.com/users/10060679/ado-ki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552385417, "creation_date": 1531330890, "last_edit_date": 1552385417, "question_id": 51291427, "link": "https://stackoverflow.com/questions/51291427/kotlin-let-versus-null", "title": "Kotlin let versus != null", "body": "<p>What is the difference between using kotlin's <code>object?.let {...}</code> versus <code>if(object != null) {...}</code>? I've run into the situation where using <code>let</code> on a non-null equates to false and the block is not executed but using the <code>if</code> statement with the same object results in properly identifying that the object non-null and the block is executed.</p>\n\n<p>Do they differ on the low level somehow?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1531332753, "creation_date": 1531332753, "answer_id": 51291880, "question_id": 51291355, "link": "https://stackoverflow.com/questions/51291355/same-property-name-and-primary-constructor-parameter-name-in-kotlin/51291880#51291880", "title": "Same property name and primary constructor parameter name in Kotlin", "body": "<p>Primary constructor parameters are available in property initializers and initializer blocks (this is what makes the primary constructor special).</p>\n\n<p>In your <code>init</code> block, <code>name</code> refers to the constructor parameter, which as all other function parameters, cannot be reassigned. This is the second error. The first one is for the same reason, now your property isn't initialized anywhere.</p>\n\n<p>If you want to initialize your property, you can still refer to it as <code>this.name</code>:</p>\n\n<pre><code>class Student(name : String, roll : Int){\n    val name: String\n\n    init {\n        this.name = \"Asif\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531332777, "creation_date": 1531332777, "answer_id": 51291890, "question_id": 51291355, "link": "https://stackoverflow.com/questions/51291355/same-property-name-and-primary-constructor-parameter-name-in-kotlin/51291890#51291890", "title": "Same property name and primary constructor parameter name in Kotlin", "body": "<p>Init block provides parameters from the default constructor. To assign <code>name</code> field of your object, you have to explicitly use <code>this.name</code>:</p>\n\n<pre><code>class Student(name : String, roll : Int){\n    val name: String\n\n    init {\n        this.name = \"Asif\"\n    }\n}\n</code></pre>\n\n<p>But more kotlin-way is to declare field with default value directly in the constructor:</p>\n\n<pre><code>class Student(val name : String = \"DefaultName\", roll : Int){ }\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531334706, "last_edit_date": 1531334706, "creation_date": 1531334365, "answer_id": 51292226, "question_id": 51291355, "link": "https://stackoverflow.com/questions/51291355/same-property-name-and-primary-constructor-parameter-name-in-kotlin/51292226#51292226", "title": "Same property name and primary constructor parameter name in Kotlin", "body": "<p>The answer was provided by others but to clarify look at these versions: <br/>\n<strong>(a)</strong></p>\n\n<pre><code>class Student1(name : String, roll : Int){\n    val name: String\n\n    init {\n        this.name = \"Asif\"\n    }\n}\n</code></pre>\n\n<p><strong>(b)</strong></p>\n\n<pre><code>class Student2(name : String, roll : Int){\n    val name: String = \"Asif\"\n}\n</code></pre>\n\n<p><br/>\n<strong>(c)</strong></p>\n\n<pre><code>class Student3(val name : String = \"DefaultName\", roll : Int)  \n</code></pre>\n\n<p><br/> Classes <code>Student1</code> and <code>Student2</code> are totally equivalent but <code>Student3</code> is not:  <br/> If you run the below code:</p>\n\n<pre><code>val s = Student1(\"Nick\", 2)\nprintln(s.name)\nval s2 = Student2(\"Nick\", 2)\nprintln(s2.name)\nval s3 = Student3(\"Nick\", 2)\nprintln(s3.name)\n</code></pre>\n\n<p>you will see:</p>\n\n<pre><code>Asif\nAsif\nNick\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1126, "user_id": 4002813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ebc6b0ce80a9f32c846e464261e155?s=128&d=identicon&r=PG&f=1", "display_name": "Namrata Bagerwal", "link": "https://stackoverflow.com/users/4002813/namrata-bagerwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1545032657, "creation_date": 1545032657, "answer_id": 53810805, "question_id": 51291355, "link": "https://stackoverflow.com/questions/51291355/same-property-name-and-primary-constructor-parameter-name-in-kotlin/53810805#53810805", "title": "Same property name and primary constructor parameter name in Kotlin", "body": "<p>Kotlin provides concise and easy way like below:</p>\n\n<pre><code>class Student(var name : String, roll : Int){\n\n    init {\n        name = \"Asif\"\n    }\n}\n</code></pre>\n\n<p><strong><em>Copied:</strong> In fact, for declaring properties and initializing them from the primary constructor, Kotlin has a concise syntax.</em> <strong><a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Refer here</a></strong></p>\n"}], "owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 0, "accepted_answer_id": 51291880, "answer_count": 4, "score": 1, "last_activity_date": 1545032657, "creation_date": 1531330612, "last_edit_date": 1531331382, "question_id": 51291355, "link": "https://stackoverflow.com/questions/51291355/same-property-name-and-primary-constructor-parameter-name-in-kotlin", "title": "Same property name and primary constructor parameter name in Kotlin", "body": "<p>I'm little confused how kotlin is managing the property name and the primary constructor parameter name. If I wrote the same property name and the parameter name then kotlin compiler gives an error.</p>\n\n<pre><code>class Student(name : String, roll : Int){\n    val name: String\n\n    init {\n        name = \"Asif\"\n    }\n}\n</code></pre>\n\n<p>It gives this error. </p>\n\n<pre><code>&gt; Error:(9, 5) Kotlin: Property must be initialized or be abstract\n&gt; Error:(12, 9) Kotlin: Val cannot be reassigned\n</code></pre>\n\n<p>But when I change the name of the property <code>val name : String</code> or the changing the name of the parameter of the primary constructor <code>name : String</code> then the code will work and compile.</p>\n\n<p>This will work or compile fine.</p>\n\n<pre><code>class Student(pName : String, roll : Int){\n    val name: String\n\n    init {\n        name = \"Asif\"\n    }\n}\n</code></pre>\n\n<p>What is the reason behind this? Why we can't have the same primary constructor's parameter name and the property name?</p>\n"}, {"tags": ["gradle", "build", "kotlin", "settings", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "edited": false, "score": 0, "creation_date": 1534790136, "post_id": 51290853, "comment_id": 90823353, "body": "It looks like the only thing really shared by both settings.gradle.kts and build.gradle.kts is gradle instance properties, but the hunt for how to set these seems like a method for setting them has been removed?  I might have found a way to set a single property, so I will investigate this later when I get back to refactoring this part."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 5311017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIlc7.png?s=128&g=1", "display_name": "JDMcMillian", "link": "https://stackoverflow.com/users/5311017/jdmcmillian"}, "is_accepted": false, "score": 0, "last_activity_date": 1608443947, "creation_date": 1608443947, "answer_id": 65377323, "question_id": 51290853, "link": "https://stackoverflow.com/questions/51290853/how-to-define-kotlin-dsl-gradle-properties-available-in-settings-gradle-kts-and/65377323#65377323", "title": "How to define kotlin dsl gradle properties available in settings.gradle.kts and build.gradle.kts?", "body": "<p>I realize this is a bit old of a post, but I recently gave an answer <a href=\"https://stackoverflow.com/questions/54603853/gradle-kotlin-dsl-access-objects-defined-in-settings-gradle-kts/65377094#65377094\">here</a>.\nBut will repeat it since I came across this question also....</p>\n<p>In <strong>settings.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// // This works in settings.gradle\n// gradle.ext.GLOBAL_VAR = &quot;This is a global value&quot;\n// println(&quot;settings.gradle ::: &quot; + gradle.GLOBAL_VAR)\n\n// This works in settings.gradle.kts\nval settingsValue = &quot;This value was set in settings.gradle.kts&quot;\nif (gradle is ExtensionAware) {\n    (gradle as ExtensionAware).extra[&quot;GLOBAL_VAR&quot;]=settingsValue\n    println(&quot;settings.gradle.kts ::: &quot; + (gradle as ExtensionAware).extra.get(&quot;GLOBAL_VAR&quot;))\n}\n</code></pre>\n<p>in <strong>build.gradle.kts</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// // This works in settings.gradle\n// println(&quot;build.gradle ::: &quot; + gradle.GLOBAL_VAR)\n\n// This works in settings.gradle.kts\nif (gradle is ExtensionAware) println(&quot;build.gradle.kts ::: &quot; + (gradle as ExtensionAware).extra.get(&quot;GLOBAL_VAR&quot;))\n</code></pre>\n<ul>\n<li>Gradle version 6.6.1</li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1081, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1608443947, "creation_date": 1531328578, "last_edit_date": 1532378837, "question_id": 51290853, "link": "https://stackoverflow.com/questions/51290853/how-to-define-kotlin-dsl-gradle-properties-available-in-settings-gradle-kts-and", "title": "How to define kotlin dsl gradle properties available in settings.gradle.kts and build.gradle.kts?", "body": "<p>I have a multiplatform (kotlin) multiproject gradle project written using the kotlin DSL.  Bear with me.  In settings.gradle.kts, I have two major types of include helpers to deal with alternative project layout, a regular module (module/src) and a mutliplatform module (module/js, module/common, module/jvm).  I then create variables to hold lists of each which I use with these helpers to include everything the way I'd like.</p>\n\n<p>I'd like to be able to reuse this information defined in settings (the lists) in my build.gradle.kts file.</p>\n\n<p>Every time I try to do this the way I would in the build file, I get the same error:</p>\n\n<pre><code>val test: List&lt;String&gt; by rootProject.extra(listOf(\"game\", \"spine\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val test: List&lt;String&gt; by extra(listOf(\"game\", \"spine\"))\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>Line 68: val test: List&lt;String&gt; by rootProject.extra(listOf(\"game\", \"spine\"))\n                                             ^ Expression 'extra' cannot be invoked as a function. The function 'invoke()' is not found\n</code></pre>\n\n<p>My guess is that settings is not extension aware, so even though <code>this</code> is of type Project (bc it is the root project) in settings, it doesn't matter and you can't use extra.  The only way I can think of to do this would be to define project properties back in a gradle properties file, but I'm not very keen on that given this doesn't seem like the type of information to keep there.</p>\n\n<p>Is there anything that allows for an extension property to be lazily initialized when buildscript is underway?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531327253, "creation_date": 1531327253, "answer_id": 51290519, "question_id": 51290407, "link": "https://stackoverflow.com/questions/51290407/recyclerview-will-show-item-at-position-listener/51290519#51290519", "title": "RecyclerView &quot;will show item at position&quot; listener", "body": "<p>The recyclerview's adapter class uses <code>onBindViewHolder</code> and in there you can catch the creation of the rows.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531333090, "creation_date": 1531333090, "answer_id": 51291952, "question_id": 51290407, "link": "https://stackoverflow.com/questions/51290407/recyclerview-will-show-item-at-position-listener/51291952#51291952", "title": "RecyclerView &quot;will show item at position&quot; listener", "body": "<p>I don't know what swift methods do but Adapters <code>onViewAttachedToWindow(RecyclerView.ViewHolder)</code> and <code>onViewDetachedFromWindow(RecyclerView.ViewHolder)</code> give you the most precise moment for when an item is being displayed and when it leaves the view.</p>\n\n<p>You will need to use provided <code>ViewHolder</code>s <code>getAdapterPosition()</code> to resolve the items position in the list then.</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531333090, "creation_date": 1531326820, "question_id": 51290407, "link": "https://stackoverflow.com/questions/51290407/recyclerview-will-show-item-at-position-listener", "title": "RecyclerView &quot;will show item at position&quot; listener", "body": "<p>What is the <code>RecyclerView</code> equivalent of Swift <code>UICollectionView</code>'s <code>willDisplayCellAtIndexPath</code> and <code>didEndDisplayingCellAtIndexPath</code>?</p>\n"}, {"tags": ["java", "android", "xml", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531326619, "post_id": 51290032, "comment_id": 89558374, "body": "You are trying to set text of a view that has not been created yet. Save the value you want to set in shared preference inside your life cycle method and later update the view inside the activity."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531327019, "post_id": 51290032, "comment_id": 89558601, "body": "@MRah Exactly the view has not been created yet . The problem is that I don&#39;t want to save any particular data , I just want to perform some XML change when My LifecycleObserver tells me that I&#39;m in Foreground"}, {"owner": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531329405, "post_id": 51290032, "comment_id": 89559790, "body": "do you want to modify the xml layout permanently? Can you please explain your situation in more details?  To me it feels like, you want to achieve control over whether your app came from background or it&#39;s been created from scratch, am I right? modifying layout completely does not make any sense here though!"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531330808, "post_id": 51290032, "comment_id": 89560471, "body": "@MRah Sorry if it&#39;s not clear enough it&#39;s a bit complex. I would like to access to the xml layout . For example : I have an element in my XML who has visibility to &quot;Invisible&quot; , I would like in my MainActivity&#39;s method to findViewById() this element and set it to &quot;Visible&quot; in order to have it appears on my screen when I&#39;m in my MainActivity"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531332588, "post_id": 51290032, "comment_id": 89561273, "body": "@MRah okey I will simply do it like you said , I will save in preference the value &quot;refresh&quot; for example and interpret it in my MainActivity when the layout will be fully loaded"}, {"owner": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "edited": false, "score": 0, "creation_date": 1531334103, "post_id": 51290032, "comment_id": 89561936, "body": "please take a look into the answer. I wrote it in Java, please let me know if you need some more explanation."}, {"owner": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "reply_to_user": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1531334194, "post_id": 51290032, "comment_id": 89561978, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174832/discussion-between-mrah-and-manu13k\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "edited": false, "score": 0, "creation_date": 1531334468, "post_id": 51292154, "comment_id": 89562107, "body": "I clearly understand. It seems to be good , I will take a look at this in details and I will choose one of your two answers. Thank you man"}], "tags": [], "owner": {"reputation": 890, "user_id": 9085446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTMxB.png?s=128&g=1", "display_name": "MRah", "link": "https://stackoverflow.com/users/9085446/mrah"}, "is_accepted": true, "score": 2, "last_activity_date": 1531333982, "creation_date": 1531333982, "answer_id": 51292154, "question_id": 51290032, "link": "https://stackoverflow.com/questions/51290032/call-mainactivitys-method-in-lifecycleobserver/51292154#51292154", "title": "Call mainActivity&#39;s method in LifecycleObserver", "body": "<p><strong>I am writing this in Java, \n(This is the method if you don't want to save the data in preferences or storage)</strong></p>\n\n<p><strong>Application Class:</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class TestApplication extends Application implements ActivityLifecycleCallbacks {\r\n    private static String mStringToSet;\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        //App is not from background, a new instance of your app           is created \r\n        mStringToSet=\"new_instance\";\r\n        registerActivityLifecycleCallbacks(this);\r\n    }\r\n\r\n    public static String getStringToSet() {\r\n        return mStringToSet;\r\n    }\r\n\r\n  \r\n    @Override\r\n    public void onActivityDestroyed(Activity activity) {\r\n        if(activity instanceof MainActivity){\r\n        //This is only called when the activity is destroyed not the application, so if the context is your desired activity then set the string here\r\n            mStringToSet=\"refresh\";\r\n        }\r\n    }\r\n\r\n   //Implement other life cycle methods** \r\n\r\n  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>In your activity:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\r\n    private final String TAG=\"ACTIVITY\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        if(\"refresh\".equals(TestApplication.getStringToSet())){\r\n            Toast.makeText(this,\"From Background\",Toast.LENGTH_SHORT).show();\r\n            (TextView)findViewById(R.id.YOUR_TEXT_VIEW).setText(\"refresh\")\r\n        }else{\r\n            Log.d(TAG,TestApplication.getStringToSet());\r\n            Toast.makeText(this,\"Not from background\",Toast.LENGTH_SHORT).show();\r\n           (TextView)findViewById(R.id.YOUR_TEXT_VIEW).setText(\"new_instance\")\r\n        }\r\n\r\n    }\r\n}\r\n     //Implement other life cycle methods\r\n}\r\n      </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "accepted_answer_id": 51292154, "answer_count": 1, "score": 2, "last_activity_date": 1531333982, "creation_date": 1531325543, "last_edit_date": 1531327284, "question_id": 51290032, "link": "https://stackoverflow.com/questions/51290032/call-mainactivitys-method-in-lifecycleobserver", "title": "Call mainActivity&#39;s method in LifecycleObserver", "body": "<p>I'm in trouble.</p>\n\n<p>I would like to call my MainActivity's method from my LifeCycleManager ( which is a LifecycleObserver )  and perform simple XML modifications. But that crash because I'm trying to access to an XML value and main_activity.xml isn't fully created yet</p>\n\n<p>First this is my LifeCycleManager : </p>\n\n<pre><code>class LifeCycleManager(context: Context) : LifecycleObserver {\n\ncompanion object {\n    var notif = NotificationManager()\n    var onForeground = false\n    var main = MainActivity()\n\n    // If we are on MainActivity return true , otherwise return false\n    fun isOnHomeController(context: Context?): Boolean {\n\n        if (context == null || context !is MainActivity)\n            return false\n\n        return true\n    }\n\n\nvar mContext = context\n\n// WHEN THE APP BECOME ACTIVE\n@OnLifecycleEvent(Lifecycle.Event.ON_START)\nfun appComeBackFromBackground() {\n    onForeground = true\n    notif.cancelAllLocalNotifications(mContext)\n\n    if (isOnHomeController(mContext)) {\n        // Call the refresh dialog and print it\n        main.appComeBackFromBackground(\"refresh\", null)\n    }\n}\n}\n</code></pre>\n\n<p>Here is my MainActivity method :</p>\n\n<pre><code>fun appComeBackFromBackground(status: String?, elementsadded: Int?)\n{\nLog.e(\"enterForeground\", \"App come back in Foreground\")\nif (status == null) return\n\nwhen (status)\n{\n    \"refresh\" -&gt;{\n        val text = findViewById&lt;TextView&gt;(R.id.refreshtext)\n        text.setText(\"test\")\n    }\n    else -&gt; {\n        return\n    }\n\n}\n}\n</code></pre>\n\n<p>As you can see when my MainActivity Start , my Lifecycle get the event and go directly in my appComeBackFromBackground() method.\nIn it I'm calling my MainActivity method where I want to modify an element from activity_main.xml </p>\n\n<p>That crash with theses :</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mControllers.MainActivity}: java.lang.RuntimeException: Failed to call observer method</p>\n  \n  <p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.Window$Callback android.view.Window.getCallback()' on a null object reference</p>\n</blockquote>\n\n<p>What can I do please? I really need to do it like this ( LifecycleObserver to MainActivity ). Thank's</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I tried to call my MainActivity's method with delay like this : </p>\n\n<pre><code>Handler().postDelayed({\n        main.appComeBackFromBackground(\"refresh\", null)\n    }, 5000)\n</code></pre>\n\n<p>And it crash too , even if MainActivity layout is loaded                  </p>\n"}, {"tags": ["kotlin", "h2"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1531473294, "post_id": 51287700, "comment_id": 89618765, "body": "Can you add the error output?"}], "owner": {"reputation": 758, "user_id": 5955376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1634355886825243/picture?type=large", "display_name": "nllsdfx", "link": "https://stackoverflow.com/users/5955376/nllsdfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1531672793, "creation_date": 1531318190, "last_edit_date": 1531672793, "question_id": 51287700, "link": "https://stackoverflow.com/questions/51287700/h2-database-create-alias-for-function-in-package-in-schema", "title": "H2 database create alias for function in package in schema", "body": "<p>In my code I call stored procedure like this (and it works perfectly):</p>\n\n<p><code>{ ? = call schema.package.function(?) }</code></p>\n\n<p>I need to call it like this because jdbc connection is set to another schema.</p>\n\n<p>But for now I can't test it because H2 database doesn't support packages. So if I change my jdbc url database name to the one I require and delete \"<code>schema</code>\" from the call everything is ok while testing.</p>\n\n<pre><code>@Test\nfun test() {\n        val session = em.entityManager.unwrap(Session::class.java)\n\n        session.doWork {\n            val st = it.createStatement()\n            st.execute(\"create schema if not exists mySchema\")\n            st.execute(\"create alias mySchema.myPackage.myFunction for \" // the error happens here  +\n                    \"\\\"${this.javaClass.name}.myFunction\\\"\")\n        }\n\n        val response = dao.myFunction(\"1\")\n\n        //test stuff\n\n\n    }\n</code></pre>\n\n<p>How can I change my test because now it's giving me the syntax error?</p>\n"}, {"tags": ["java", "android", "kotlin", "media", "seekbar"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1531316812, "post_id": 51287120, "comment_id": 89551770, "body": "One approach, not very convenient but working, is to subclass <code>SeekBar</code> and override <code>onDraw(Canvas)</code>."}, {"owner": {"reputation": 60, "user_id": 9189076, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jKmVb41obiI/AAAAAAAAAAI/AAAAAAAAAAs/TTLZooybnvQ/photo.jpg?sz=128", "display_name": "C&#39;Aira Shields", "link": "https://stackoverflow.com/users/9189076/caira-shields"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531324053, "post_id": 51287120, "comment_id": 89557006, "body": "@MarkoTopolnik That is kind of the approach I was thinking about, but I&#39;m not really sure how to go about implementing it. I was thinking I could draw the line in onDraw() and then anytime the button is pressed, I call that method?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531325591, "post_id": 51287120, "comment_id": 89557847, "body": "Well, that&#39;s why it&#39;s less than convenient :) <code>onDraw()</code> is a callback that only Android calls when it knows it must refresh the content of the view. So each time you change it (add another line etc.), you must manually call <code>view.invalidate()</code> and then Android will redraw it. You must also store all the state (line positions) inside the view so you can redraw whenever asked to."}, {"owner": {"reputation": 60, "user_id": 9189076, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jKmVb41obiI/AAAAAAAAAAI/AAAAAAAAAAs/TTLZooybnvQ/photo.jpg?sz=128", "display_name": "C&#39;Aira Shields", "link": "https://stackoverflow.com/users/9189076/caira-shields"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531327176, "post_id": 51287120, "comment_id": 89558684, "body": "@MarkoTopolnik Okay I think that is starting to make sense. Correct me if I have this wrong: to forcefully call onDraw, I have to call view.invalidate. The &#39;view&#39; would be a reference to the seekbar? And could I just store the positions in an array, and whenever a new line is requested, I just add that position to the array? Then in onDraw() I use the array to actually draw the lines?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531384196, "post_id": 51287120, "comment_id": 89578375, "body": "Yes, in your <code>SeekBar</code> subclass you&#39;ll have this array. You should also add a method to your subclass: <code>addMark</code>. That method then calls <code>invalidate()</code> on itself, so it&#39;s not the concern of the user of the class."}], "owner": {"reputation": 60, "user_id": 9189076, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jKmVb41obiI/AAAAAAAAAAI/AAAAAAAAAAs/TTLZooybnvQ/photo.jpg?sz=128", "display_name": "C&#39;Aira Shields", "link": "https://stackoverflow.com/users/9189076/caira-shields"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531319658, "creation_date": 1531316692, "question_id": 51287120, "link": "https://stackoverflow.com/questions/51287120/is-there-a-way-to-draw-lines-on-a-seekbar-in-android", "title": "Is there a way to draw lines on a seekbar in Android?", "body": "<p>I have a seekbar (progress bar - horizontal) that is used for media playback. Currently, there is a thumb that people can drag back and forth to change the position of the media being played. </p>\n\n<p>What I am trying to achieve is this: a user can click a button while the media is playing, and then a line marking that position on the seekbar appears. </p>\n\n<p>I've been looking for like a day and a half now and can't really find anything. Any help would be appreciated!</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-android"], "comments": [{"owner": {"reputation": 378, "user_id": 6952369, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222752527797253/picture?type=large", "display_name": "Hongyu Wang", "link": "https://stackoverflow.com/users/6952369/hongyu-wang"}, "edited": false, "score": 0, "creation_date": 1531316865, "post_id": 51287074, "comment_id": 89551817, "body": "try Wrapper.class"}, {"owner": {"reputation": 135, "user_id": 4803070, "user_type": "registered", "profile_image": "https://graph.facebook.com/953306764709684/picture?type=large", "display_name": "Indra As Lesmana", "link": "https://stackoverflow.com/users/4803070/indra-as-lesmana"}, "reply_to_user": {"reputation": 378, "user_id": 6952369, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222752527797253/picture?type=large", "display_name": "Hongyu Wang", "link": "https://stackoverflow.com/users/6952369/hongyu-wang"}, "edited": false, "score": 0, "creation_date": 1531317198, "post_id": 51287074, "comment_id": 89552091, "body": "can you more detail, please?"}, {"owner": {"reputation": 378, "user_id": 6952369, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222752527797253/picture?type=large", "display_name": "Hongyu Wang", "link": "https://stackoverflow.com/users/6952369/hongyu-wang"}, "edited": false, "score": 0, "creation_date": 1531317455, "post_id": 51287074, "comment_id": 89552324, "body": "Pass into the getObjectSingle(Wrapper.class)"}, {"owner": {"reputation": 135, "user_id": 4803070, "user_type": "registered", "profile_image": "https://graph.facebook.com/953306764709684/picture?type=large", "display_name": "Indra As Lesmana", "link": "https://stackoverflow.com/users/4803070/indra-as-lesmana"}, "reply_to_user": {"reputation": 378, "user_id": 6952369, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222752527797253/picture?type=large", "display_name": "Hongyu Wang", "link": "https://stackoverflow.com/users/6952369/hongyu-wang"}, "edited": false, "score": 0, "creation_date": 1531317687, "post_id": 51287074, "comment_id": 89552502, "body": "still error with balloon message &quot;Function invocation Wrapper&lt;SignInResponse&gt;() expected&quot; ... try like balloon message. same."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 4803070, "user_type": "registered", "profile_image": "https://graph.facebook.com/953306764709684/picture?type=large", "display_name": "Indra As Lesmana", "link": "https://stackoverflow.com/users/4803070/indra-as-lesmana"}, "edited": false, "score": 1, "creation_date": 1531363998, "post_id": 51288730, "comment_id": 89570671, "body": "Wrapper&lt;SignInResponse&gt;().javaClass"}], "tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": true, "score": 0, "last_activity_date": 1531321193, "creation_date": 1531321193, "answer_id": 51288730, "question_id": 51287074, "link": "https://stackoverflow.com/questions/51287074/generic-class-input-param-type-miss-match/51288730#51288730", "title": "Generic class input param type miss match", "body": "<p>You need the class not the instance, but you must create an instance of the class to get class itself, try this:</p>\n\n<pre><code>val wrapper = Wrapper&lt;String&gt;()\n\nRx2AndroidNetworking.post(someUrl)\n        .build()\n        .getObjectSingle(wrapper.javaClass)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>val wrapper = Wrapper&lt;String&gt;()\n\nRx2AndroidNetworking.post(someUrl)\n        .build()\n        .getObjectSingle(wrapper::class.java)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>val wrapper = Wrapper&lt;String&gt;()\n\nval s: Class&lt;Wrapper&lt;String&gt;&gt; = wrapper.javaClass\n\nRx2AndroidNetworking.post(someUrl)\n        .build()\n        .getObjectSingle(s)\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 4803070, "user_type": "registered", "profile_image": "https://graph.facebook.com/953306764709684/picture?type=large", "display_name": "Indra As Lesmana", "link": "https://stackoverflow.com/users/4803070/indra-as-lesmana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 51288730, "answer_count": 1, "score": 2, "last_activity_date": 1531321193, "creation_date": 1531316573, "question_id": 51287074, "link": "https://stackoverflow.com/questions/51287074/generic-class-input-param-type-miss-match", "title": "Generic class input param type miss match", "body": "<p>Always get an Error type mismatch, when input param for <strong>getObjectSingle</strong>.\nhow do I fix with my generic wrapper class?</p>\n\n<p><a href=\"https://i.stack.imgur.com/S8p75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S8p75.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Gyico.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gyico.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1531317212, "creation_date": 1531317212, "answer_id": 51287317, "question_id": 51286973, "link": "https://stackoverflow.com/questions/51286973/override-operator-int-rangeto-not-working/51287317#51287317", "title": "Override operator Int RangeTo not working", "body": "<p><code>rangeTo</code> is already a member of <code>Int</code> and it shadows as you can see in Intellij IDEA the operator you create. This is by design.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1531317214, "creation_date": 1531317214, "answer_id": 51287321, "question_id": 51286973, "link": "https://stackoverflow.com/questions/51286973/override-operator-int-rangeto-not-working/51287321#51287321", "title": "Override operator Int RangeTo not working", "body": "<p>If you look at this code in IntelliJ, you'll get your answer in the form of a warning on your <code>rangeTo</code> function:</p>\n\n<blockquote>\n  <p>Extension is shadowed by a member: public final operator fun rangeTo(other: Int): IntRange</p>\n</blockquote>\n\n<p>Extensions can't override methods that a type already has, and since <code>Int</code> has a non-extension <code>rangeTo(Int)</code> method, the <code>0..4</code> syntax will always call that method. If you think about it, you're actually making use of this fact when you write down <code>this..other</code>, as that's a call to the built-in <code>rangeTo</code> operator, and not a recursive call to your own extension function.</p>\n\n<p>The reason why it worked with a <code>Float</code> is that it doesn't have a member <code>rangeTo(Int)</code> method of its own.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531317214, "creation_date": 1531316320, "question_id": 51286973, "link": "https://stackoverflow.com/questions/51286973/override-operator-int-rangeto-not-working", "title": "Override operator Int RangeTo not working", "body": "<p>I write the operator</p>\n\n<pre><code>private fun method() {\n    operator fun Float.rangeTo(other: Int) {\n        (this.toInt()..other).forEach { print(it) }\n    }\n    0f..4\n}\n</code></pre>\n\n<p>This works well i.e. printing <code>01234</code></p>\n\n<p>But when I replace the <code>float</code> with <code>Int</code>, it no longer works i.e. not printing <code>01234</code></p>\n\n<pre><code>private fun method() {\n    operator fun Int.rangeTo(other: Int) {\n        (this..other).forEach { print(it) }\n    }\n    0..4\n}\n</code></pre>\n\n<p>What did I miss? How could I get it work?</p>\n"}, {"tags": ["kotlin", "android-room"], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531315892, "creation_date": 1531315892, "question_id": 51286791, "link": "https://stackoverflow.com/questions/51286791/android-room-fetch-related-entities-with-non-null-embedded-property", "title": "Android Room fetch related entities with non-null embedded property", "body": "<p>This post by Florina  (<a href=\"https://medium.com/google-developers/7-pro-tips-for-room-fbadea4bfbd1\" rel=\"nofollow noreferrer\">https://medium.com/google-developers/7-pro-tips-for-room-fbadea4bfbd1</a>) introduced a nice way to simplify one-to-many queries, by defining a composite class</p>\n\n<pre><code>class UserAndAllPets {\n   @Embedded\n   var user: User? = null\n   @Relation(parentColumn = \u201cuserId\u201d,\n             entityColumn = \u201cowner\u201d)\n   var pets: List&lt;Pet&gt; = ArrayList()\n}\n\n@Transaction\n@Query(\u201cSELECT * FROM Users\u201d)\nList&lt;UserAndAllPets&gt; getUsers()\n</code></pre>\n\n<p>This allows you to fetch all users with their pets in a single query. However, it starts to get annoying when I have to null check <code>user</code> every time I am using it. Plus, I don't want query to return a <code>UserAndAllPets</code> object without a user. Is there anyway I can enforce this rule in query, instead of doing a safety check whenver I am using <code>UserAndAllPets</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 5, "creation_date": 1531305982, "post_id": 51283482, "comment_id": 89544190, "body": "have you check this <a href=\"https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin\" title=\"what is the equivalent of java static methods in kotlin\">stackoverflow.com/questions/40352684/&hellip;</a> and this <a href=\"https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables/43857895\" title=\"kotlin static methods and variables\">stackoverflow.com/questions/43857824/&hellip;</a>"}], "owner": {"reputation": 1536, "user_id": 9840325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nLKuHEODdqM/AAAAAAAAAAI/AAAAAAAAAmk/hc-BMUs8nfs/photo.jpg?sz=128", "display_name": "Gaurang Goda", "link": "https://stackoverflow.com/users/9840325/gaurang-goda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3033, "favorite_count": 0, "closed_date": 1531306133, "answer_count": 0, "score": 0, "last_activity_date": 1531306187, "creation_date": 1531305892, "last_edit_date": 1531306101, "question_id": 51283482, "link": "https://stackoverflow.com/questions/51283482/how-to-declare-static-variables-and-methods-in-kotlin", "closed_reason": "Duplicate", "title": "How to declare Static Variables and Methods in Kotlin?", "body": "<p>How can we define and declare <code>Static variables</code> and <code>static function</code> in Android while writing code in <strong>kotlin</strong>?</p>\n\n<p>And</p>\n\n<p>Is there any Difference between the <code>memory allocation of static members</code> in java vs Kotlin? </p>\n\n<p>Please, can anyone help me?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1531302538, "post_id": 51282118, "comment_id": 89542023, "body": "they do not serve the same purpose. You cannot say one or the other is better"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 5, "last_activity_date": 1531302434, "creation_date": 1531302434, "answer_id": 51282301, "question_id": 51282118, "link": "https://stackoverflow.com/questions/51282118/top-level-function-vs-any-in-kotlin/51282301#51282301", "title": "top level function vs Any. in kotlin", "body": "<p>The <code>Any.A()</code> extension function would be available on all object instance, while the <code>A()</code> function is available \"statically\". So if you don't need to use <code>this</code> within <code>A()</code>, you should not put it as an extension function.</p>\n\n<p>In <em>Java</em> the difference in the signature would be <code>ToolsKt.A(Any)</code> vs <code>ToolsKt.A()</code>.</p>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 51282301, "answer_count": 1, "score": 0, "last_activity_date": 1531302547, "creation_date": 1531301970, "last_edit_date": 1531302547, "question_id": 51282118, "link": "https://stackoverflow.com/questions/51282118/top-level-function-vs-any-in-kotlin", "title": "top level function vs Any. in kotlin", "body": "<p>Which of the Top Level Function and extension Any better to have a function everywhere in the project?</p>\n\n<p><strong>Top level functio</strong>n</p>\n\n<pre><code>package com.test\n\nfun A(){\n\n}\n</code></pre>\n\n<p><strong>Extension Any</strong></p>\n\n<pre><code>package com.test\n\nfun Any.A(){\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-kotlin2"], "comments": [{"owner": {"reputation": 76, "user_id": 5699684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E73V0YLFb00/AAAAAAAAAAI/AAAAAAAAMHo/j5CgVQa5e20/photo.jpg?sz=128", "display_name": "Ankit Dubey", "link": "https://stackoverflow.com/users/5699684/ankit-dubey"}, "edited": false, "score": 0, "creation_date": 1531299254, "post_id": 51280700, "comment_id": 89539679, "body": "try using Single"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1531308084, "post_id": 51280700, "comment_id": 89545564, "body": "How are you calling these? Have you checked your queries for possible wrong filtering of items you wanted from the respective datasources (outside of RxJava)?"}, {"owner": {"reputation": 1465, "user_id": 994926, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/K1Qvn.jpg?s=128&g=1", "display_name": "Navdroid", "link": "https://stackoverflow.com/users/994926/navdroid"}, "edited": false, "score": 0, "creation_date": 1531308905, "post_id": 51280700, "comment_id": 89546064, "body": "getDataFromApi() calls a method in Retrofit interface and getDataFromDb() uses RoomDao. This is then called in ViewModel for a fragment."}], "answers": [{"comments": [{"owner": {"reputation": 1465, "user_id": 994926, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/K1Qvn.jpg?s=128&g=1", "display_name": "Navdroid", "link": "https://stackoverflow.com/users/994926/navdroid"}, "edited": false, "score": 0, "creation_date": 1531302785, "post_id": 51281307, "comment_id": 89542186, "body": "The stream is subscribed. But getDataFromDb() is already completed wont it unsubscribe itself. And I have used anonymous class extending DefaultObserver for subscribing."}], "tags": [], "owner": {"reputation": 296, "user_id": 9309499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b104a47eb0093c2a80d8675f216d7bc?s=128&d=identicon&r=PG&f=1", "display_name": "Vaios", "link": "https://stackoverflow.com/users/9309499/vaios"}, "is_accepted": true, "score": 1, "last_activity_date": 1531299562, "creation_date": 1531299562, "answer_id": 51281307, "question_id": 51280700, "link": "https://stackoverflow.com/questions/51280700/rxjava2-onnext-called-multiple-times/51281307#51281307", "title": "RxJava2 onNext() called multiple times?", "body": "<p>If getDataFromDb() is emitting items and getDataFromApi() is called, the first method will continue to emit till finish. You should unsubscribe from the stream if it is not needed anymore and also add condition in your source in order to stop emitting if observable is unsubscribed.</p>\n\n<p>Also keep in mind that the functions inside an observable do not run till the stream is subscribed.</p>\n"}], "owner": {"reputation": 1465, "user_id": 994926, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/K1Qvn.jpg?s=128&g=1", "display_name": "Navdroid", "link": "https://stackoverflow.com/users/994926/navdroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 1, "accepted_answer_id": 51281307, "answer_count": 1, "score": 0, "last_activity_date": 1531299562, "creation_date": 1531297706, "question_id": 51280700, "link": "https://stackoverflow.com/questions/51280700/rxjava2-onnext-called-multiple-times", "title": "RxJava2 onNext() called multiple times?", "body": "<p>I have a method that returns an Observable like this:</p>\n\n<pre><code>open fun get(): Observable&lt;Response&gt; {\n\n    return if (condition)\n        getDataFromApi()\n    else\n        getDataFromDb()\n\n}\n</code></pre>\n\n<p>and is subscribed as followed:</p>\n\n<pre><code>                get()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(/*a object of class extending DefaultObserver*/)\n</code></pre>\n\n<p>I am facing this issue when getDataFromDb() is called and after a while getDataFromApi() is called as per condition. For first call it works fine but on second call onNext is called more then one time with the old data response from getDataFromDb(). Please let me know what I am doing wrong. I am a bit new to RxJava.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1531300661, "post_id": 51281403, "comment_id": 89540686, "body": "Thank you, that already helps a lot.  Now the build finishes, but the programm crashes right after start 07-11 09:14:02.773 18325-18325/? E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.hdmc.smartristraveller, PID: 18325     android.os.NetworkOnMainThreadException         at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(Stri&zwnj;&#8203;ctMode.java:1303)         at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.&zwnj;&#8203;java:86)         at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl&zwnj;&#8203;.java:74)         at java.net.InetAddress.getAllByName(InetAddress.java:752)"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1531304906, "post_id": 51281403, "comment_id": 89543458, "body": "It works now, I had to do it in another thread, so I did it for now in an AsyncTask."}], "tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 3, "last_activity_date": 1531299818, "creation_date": 1531299818, "answer_id": 51281403, "question_id": 51280364, "link": "https://stackoverflow.com/questions/51280364/how-to-get-html-input-in-kotlin/51281403#51281403", "title": "How to get HTML input in kotlin?", "body": "<p>The following code reads the content of <a href=\"http://www.android.com/\" rel=\"nofollow noreferrer\">http://www.android.com/</a> and outputs the text in the log.</p>\n\n<pre><code>val url = URL(\"http://www.android.com/\")\nval urlConnection = url.openConnection() as HttpURLConnection\n\ntry {\n  val text = urlConnection.inputStream.bufferedReader().readText()\n  Log.d(\"UrlTest\", text)\n} finally {\n  urlConnection.disconnect()\n}\n</code></pre>\n\n<p>See <a href=\"https://developer.android.com/reference/java/net/HttpURLConnection\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/net/HttpURLConnection</a> on how interact with HTTP servers in Android.</p>\n\n<p>Kotlin provides the extension methods <code>bufferedReader()</code> and <code>readText</code> which make reading streams more convenient.</p>\n"}, {"tags": [], "owner": {"reputation": 2476, "user_id": 7664651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8561e9319f807c4f93da2d9919825300?s=128&d=identicon&r=PG&f=1", "display_name": "Saikrishna Rajaraman", "link": "https://stackoverflow.com/users/7664651/saikrishna-rajaraman"}, "is_accepted": false, "score": 1, "last_activity_date": 1531299910, "creation_date": 1531299910, "answer_id": 51281436, "question_id": 51280364, "link": "https://stackoverflow.com/questions/51280364/how-to-get-html-input-in-kotlin/51281436#51281436", "title": "How to get HTML input in kotlin?", "body": "<p>You can make use of Jsoup library \n<a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup html parser</a></p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3178, "favorite_count": 0, "accepted_answer_id": 51281403, "answer_count": 2, "score": 1, "last_activity_date": 1531310959, "creation_date": 1531296656, "last_edit_date": 1531310959, "question_id": 51280364, "link": "https://stackoverflow.com/questions/51280364/how-to-get-html-input-in-kotlin", "title": "How to get HTML input in kotlin?", "body": "<p>I want to read a html site in a string with kotlin.</p>\n\n<p>But I cannot find how I even get the information from the website or which command I need for it.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 7157419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b843eede90a1593408cfde8954ef9a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Sander", "link": "https://stackoverflow.com/users/7157419/aleks-sander"}, "edited": false, "score": 0, "creation_date": 1531298245, "post_id": 51280846, "comment_id": 89539015, "body": "and ArrayList cann&#39;t be a PrimaryKey"}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1531298286, "post_id": 51280846, "comment_id": 89539042, "body": "yes you&#39;re right. Seems like what OP is trying to do is counterintuitive. Room already knows how to put an object in a list, no need for a converter."}], "tags": [], "owner": {"reputation": 36, "user_id": 7157419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b843eede90a1593408cfde8954ef9a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Sander", "link": "https://stackoverflow.com/users/7157419/aleks-sander"}, "is_accepted": true, "score": 2, "last_activity_date": 1531298168, "creation_date": 1531298168, "answer_id": 51280846, "question_id": 51280061, "link": "https://stackoverflow.com/questions/51280061/room-database-not-considering-a-type-converter/51280846#51280846", "title": "Room database not considering a type converter", "body": "<p>You do not need a NewsConverter. You do not need a NewsResponse as Entity. \nyour entities must be like this:</p>\n\n<pre><code>@Database(entities = arrayOf(Source::class,NewsItem::class),version = 1)\nabstract class SourceDataBase : RoomDatabase(){\n</code></pre>\n\n<p>and then everything should be work fine</p>\n"}], "owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 51280846, "answer_count": 1, "score": -1, "last_activity_date": 1531298168, "creation_date": 1531295683, "question_id": 51280061, "link": "https://stackoverflow.com/questions/51280061/room-database-not-considering-a-type-converter", "title": "Room database not considering a type converter", "body": "<p>I have an Entity class like this</p>\n\n<pre><code>@Entity\ndata class NewsResponse(\n        @PrimaryKey\n        @field:SerializedName(\"news\")\n        val news: ArrayList&lt;NewsItem?&gt;? = null\n)\n</code></pre>\n\n<p>The NewsItem class is like this</p>\n\n<pre><code>@Entity\ndata class NewsItem(\n\n    @field:SerializedName(\"imgUrl\")\n    val imgUrl: String? = null,\n\n    @field:SerializedName(\"link\")\n    val link: String? = null,\n\n    @field:SerializedName(\"description\")\n    val description: String? = null,\n\n    @PrimaryKey\n    @field:SerializedName(\"title\")\n    val title: String? = null\n)\n</code></pre>\n\n<p>Then I have DAO for NewsResponse like this</p>\n\n<pre><code>@Dao\ninterface NewsRespDao {\n    @Query(\"SELECT * FROM NewsItem\")\n    fun getNewsItems():LiveData&lt;List&lt;NewsItem&gt;&gt;\n\n    @Insert(onConflict = REPLACE)\n    fun insertNews(newsList: List&lt;NewsItem?&gt;?)\n\n    @Query(\"DELETE FROM NewsItem\")\n    fun deleteAll()\n}\n</code></pre>\n\n<p>I also have a TypeConverter defined like this</p>\n\n<pre><code>class NewsConverter {\n    @TypeConverter\n    fun fromString(value:String):ArrayList&lt;NewsItem&gt;{\n        val listType = object : TypeToken&lt;ArrayList&lt;NewsItem&gt;&gt;() {\n\n        }.type\n        return Gson().fromJson(value, listType)\n    }\n\n    fun fromArrayList(list:ArrayList&lt;NewsItem&gt;):String{\n        val gson = Gson()\n        return gson.toJson(list)\n    }\n}\n</code></pre>\n\n<p>Then in RoomDatabase class I have defined the TypeConverter annotation like this </p>\n\n<pre><code>@Database(entities = arrayOf(Source::class,NewsResponse::class),version = 1)\n@TypeConverters(NewsConverter::class)\nabstract class SourceDataBase : RoomDatabase(){\n    abstract fun sourceDao():SourceDao\n\n    companion object {\n        private var INSTANCE:SourceDataBase?=null\n\n        fun getInstance(context: Context):SourceDataBase?{\n            if(INSTANCE == null){\n                synchronized(SourceDataBase::class){\n                    INSTANCE = Room.databaseBuilder(context.applicationContext,SourceDataBase::class.java,\"source.db\")\n                            .build()\n                }\n            }\n            return INSTANCE\n        }\n        fun destroyInstance(){\n            INSTANCE=null\n        }\n\n    }\n\n\n}\n</code></pre>\n\n<p>But whenever I try to run, I get an error saying </p>\n\n<pre><code>Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n</code></pre>\n\n<p>To save a List of objects one of the way is by defining TypeConverter and I have defined it but still I am getting the error. What am I doing wrong here? Thanks</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-maps-android-api-2"], "comments": [{"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1531292643, "post_id": 51279132, "comment_id": 89535765, "body": "Do you have the code where you init the map? I can&#39;t find the &quot;fixed marker&quot; you mentioned in the code above"}, {"owner": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "reply_to_user": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1531295646, "post_id": 51279132, "comment_id": 89537405, "body": "I create &quot;fixed marker&quot; in activity.xml code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531298414, "post_id": 51280418, "comment_id": 89539117, "body": "Yes, the fixed marker is like an overlay center of the map. With your code, can i get coordinate and set it on the text view?"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "reply_to_user": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531298722, "post_id": 51280418, "comment_id": 89539321, "body": "Check my edited answer for centered and non-centered fixed marker"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "reply_to_user": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531302242, "post_id": 51280418, "comment_id": 89541819, "body": "<code>currentCenter</code> is the coordinate you want, just show latitude and longitude on your <code>TextView</code>"}, {"owner": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531305867, "post_id": 51280418, "comment_id": 89544126, "body": "I was try your java code, but I get error in code &quot;LatLng currentCenter&quot;"}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "reply_to_user": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531313787, "post_id": 51280418, "comment_id": 89549508, "body": "Only use one of the 2 solutions, check the edited answer"}, {"owner": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "edited": false, "score": 0, "creation_date": 1531711953, "post_id": 51280418, "comment_id": 89680956, "body": "I try your java code  override fun onLocationChanged(newLocation: Location?) {         val latLng = LatLng(newLocation!!.latitude, newLocation.longitude)         ... mMaps.setOnCameraIdleListener(GoogleMap.OnCameraIdleListener&zwnj;&#8203;() {             val centerPos : LatLng = mMapsNPlotBng.cameraPosition.target             tv_nplotbng_lat.setText(&quot;&quot; + centerPos.latitude)             tv_nplotbng_long.setText(&quot;&quot; + centerPos.longitude)         }) }  but, in textview don&#39;t show coordinate"}], "tags": [], "owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "is_accepted": false, "score": 1, "last_activity_date": 1531313758, "last_edit_date": 1531313758, "creation_date": 1531296843, "answer_id": 51280418, "question_id": 51279132, "link": "https://stackoverflow.com/questions/51279132/how-to-get-coordinate-from-fixed-marker-at-center-of-google-maps-in-android/51280418#51280418", "title": "How to get coordinate from fixed marker at center of google maps in android", "body": "<p>Check my Java code. The fixed marker you are talking about is like an overlay <code>View</code> from your layout code. But if it's right at the center of the map, you can use the center of the camera:</p>\n\n<pre><code>mGoogleMap.setOnCameraIdleListener(new OnCameraIdleListener() {\n    @Override\n    public void onCameraIdle() {\n            // Get the center coordinate of the map, if the overlay view is center too\n            CameraPosition cameraPosition = mGoogleMap.getCameraPosition();\n            LatLng currentCenter = cameraPosition.target;\n\n            // Or get any coordinate if overlay view is not at the centered\n            // int[] location = new int[2];\n            // mOverlayView.getLocationInWindow(location);\n\n            // Point viewPosition = new Point(location[0], location[1]);\n            // LatLng currentCenter = mGoogleMap.getProjection().fromScreenLocation(viewPosition);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1513, "user_id": 2853718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PIKpK.jpg?s=128&g=1", "display_name": "Jahangir Kabir", "link": "https://stackoverflow.com/users/2853718/jahangir-kabir"}, "is_accepted": false, "score": 1, "last_activity_date": 1563621195, "creation_date": 1563621195, "answer_id": 57124188, "question_id": 51279132, "link": "https://stackoverflow.com/questions/51279132/how-to-get-coordinate-from-fixed-marker-at-center-of-google-maps-in-android/57124188#57124188", "title": "How to get coordinate from fixed marker at center of google maps in android", "body": "<p>To get the center location of google map</p>\n\n<pre><code>LatLng centerLatLang = mMap.getProjection().getVisibleRegion().latLngBounds.getCenter();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10062514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc25f4f2d22082961e8bb6a144e613?s=128&d=identicon&r=PG&f=1", "display_name": "Bara19", "link": "https://stackoverflow.com/users/10062514/bara19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563621195, "creation_date": 1531292440, "last_edit_date": 1531311000, "question_id": 51279132, "link": "https://stackoverflow.com/questions/51279132/how-to-get-coordinate-from-fixed-marker-at-center-of-google-maps-in-android", "title": "How to get coordinate from fixed marker at center of google maps in android", "body": "<p>In my application I'm trying to get coordinate from fixed marker at center of google maps. When i scroll map, i want to get coordinate and set it on the text view.</p>\n\n<p>Here is my Kotlin code:</p>\n\n<pre><code>class ActivityMapsDSPBng : AppCompatActivity(), OnMapReadyCallback, GoogleMap.OnMarkerClickListener, GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener,\n        com.google.android.gms.location.LocationListener {\n\n    ...\n\n    private val TAG = \"ActivityMapsDSPBng\"\n    private lateinit var mGoogleApiClient: GoogleApiClient\n    private var mLocationManager: LocationManager? = null\n    lateinit var mLocation: Location\n    private var mLocationRequest: LocationRequest? = null\n    private val listener: com.google.android.gms.location.LocationListener? = null\n    private val UPDATE_INTERVAL = (2 * 1000).toLong()\n    private val FASTEST_INTERVAL: Long = 2000\n\n    lateinit var locationManager: LocationManager\n\n    override fun onStart() {\n        ...\n    }\n\n    override fun onStop() {\n        ...\n    }\n\n    override fun onConnectionSuspended(p0: Int) {\n        ...\n    }\n\n    override fun onConnectionFailed(connectionResult: ConnectionResult) {\n        Log.i(TAG, \"Connection failed. Error: \" + connectionResult.errorCode)\n    }\n\n    override fun onLocationChanged(location: Location) {\n        var msg = \"Update Location: Latitude \" + location.latitude.toString() + \" Longitude \" + location.longitude.toString()\n        tv_dspbg_lat.setText(\"\" + location.latitude)\n        tv_dspbg_long.setText(\"\" + location.longitude)\n        Toast.makeText(this, msg, Toast.LENGTH_SHORT).show()\n    }\n\n    override fun onConnected(p0: Bundle?) {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            return\n        }\n\n        startLocationUpdates()\n\n        var fusedLocationProviderClient: FusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this)\n        fusedLocationProviderClient.lastLocation\n                .addOnSuccessListener(this, OnSuccessListener&lt;Location&gt; { location -&gt;\n                    if (location != null){\n                        mLocation = location\n                        tv_dspbg_lat.setText(\"\" + mLocation.latitude)\n                        tv_dspbg_long.setText(\"\" + mLocation.longitude)\n                    }\n                })\n    }\n\n    protected fun startLocationUpdates(){\n        // Create location request\n        mLocationRequest = LocationRequest.create()\n                .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\n                .setInterval(UPDATE_INTERVAL)\n                .setFastestInterval(FASTEST_INTERVAL)\n\n        // Request location updates\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED){\n            return\n        }\n        LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this)\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n\n        val mapsDSPBNGfragment = supportFragmentManager\n                .findFragmentById(R.id.maps_dspbg) as SupportMapFragment\n        mapsDSPBNGfragment.getMapAsync(this)\n\n        fusedLPCBg = LocationServices.getFusedLocationProviderClient(this)\n\n        mGoogleApiClient = GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(LocationServices.API)\n                .build()\n        mLocationManager = this.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n\n        checkLocation()\n    }\n\n    private fun checkLocation(): Boolean{\n        ...\n    }\n\n    private fun isLocationEnabled(): Boolean{\n        ...\n    }\n\n    private fun showAlert(){\n        val dialog = AlertDialog.Builder(this)\n        dialog.setTitle(\"Enable Location\")\n                .setMessage(\"Your location setting is set to 'Off'. \\nPlease enable location to \" + \"use this app\")\n                .setPositiveButton(\"Location Settings\", DialogInterface.OnClickListener { paramDialogInterface, paramInt -&gt;\n                    val myIntent = Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS)\n                    startActivity(myIntent)\n                })\n                .setNegativeButton(\"Cancel\", DialogInterface.OnClickListener { paramDialogInterface, paramInt -&gt;  })\n        dialog.show()\n    }\n\n}\n</code></pre>\n\n<p>I build code from <a href=\"https://androidteachers.com/kotlin-for-android/get-location-in-android-with-kotlin/\" rel=\"nofollow noreferrer\">https://androidteachers.com/kotlin-for-android/get-location-in-android-with-kotlin/</a></p>\n\n<p>When I scrool maps, coordinates do not change according to the fixed maker.</p>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "edited": false, "score": 0, "creation_date": 1531295699, "post_id": 51279144, "comment_id": 89537441, "body": "So if I have some functions which are asynchronous and <code>suspend</code>ing (the one with <code>suspendCoroutine</code>), it&#39;s ok to mark all the functions that call this function also as <code>suspend</code>?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "edited": false, "score": 0, "creation_date": 1531295910, "post_id": 51279144, "comment_id": 89537591, "body": "Yes, and when you call such functions you&#39;ll get an indicator on the left gutter in IDEA so you know where the &quot;interruptions&quot; are in your code."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1531292817, "last_edit_date": 1531292817, "creation_date": 1531292476, "answer_id": 51279144, "question_id": 51278765, "link": "https://stackoverflow.com/questions/51278765/mark-function-suspend-or-using-builder/51279144#51279144", "title": "Mark function suspend or using builder", "body": "<p>You should write a <code>suspend fun</code> for every asynchronous, callback-based API call you're currently making. </p>\n\n<p>You should wrap in <code>withContext(myThreadPool)</code> every synchronous API call you're making.</p>\n\n<p>All Android-friendly APIs that do I/O use the async approach, so for these you'll be writing <code>suspend fun</code>s, but for CPU-intensive tasks (such as decoding images) you may need <code>withContext</code>.</p>\n\n<p>Finally, to be able to use either kind of calls, you must create a top-level coroutine with <code>launch(UI)</code>.</p>\n\n<hr>\n\n<p>Keep in mind that the above is really just a rule of thumb. When you factor your code, many times you realize you need, for example, a <code>suspend fun</code> to make a CPU-intensive operation because there's a <code>withContext</code> somewhere on that call path.</p>\n\n<p>Let me also add a warning about a very typical misuse of the coroutine APIs: you almost never need <code>async-await</code>. Use it only for the cases where you want to truly run it \"in the background\" while you continue to perform other stuff in your current context. In simpler terms, you should never write</p>\n\n<pre><code>val result = async { calculation() }.await()\n</code></pre>\n\n<p>Instead you should write</p>\n\n<pre><code>val result = withContext(myThreadPool) { calculation() }\n</code></pre>\n"}], "owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 51279144, "answer_count": 1, "score": 3, "last_activity_date": 1552980967, "creation_date": 1531291122, "last_edit_date": 1552980967, "question_id": 51278765, "link": "https://stackoverflow.com/questions/51278765/mark-function-suspend-or-using-builder", "title": "Mark function suspend or using builder", "body": "<p>I'm starting with coroutines in Android app. I'm rewriting callbacks to <code>suspendCoroutine&lt;&gt; {}</code> and I've got one dillema: when should I just mark the function as <code>suspend</code>, and when should I wrap the call in some builder (<code>launch</code>, <code>async</code>, etc.)?</p>\n\n<p>Is there some best practice, rule of thumb, or something?</p>\n"}, {"tags": ["android", "kotlin", "uri"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 9468790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9ac28f96f1161ed93dc0992fff3177e?s=128&d=identicon&r=PG&f=1", "display_name": "Farbodc137", "link": "https://stackoverflow.com/users/9468790/farbodc137"}, "is_accepted": false, "score": 0, "last_activity_date": 1531299918, "last_edit_date": 1531299918, "creation_date": 1531293042, "answer_id": 51279296, "question_id": 51278601, "link": "https://stackoverflow.com/questions/51278601/uri-parse-in-kotlin-is-not-working/51279296#51279296", "title": "URI parse in Kotlin is not working", "body": "<p>I figured it out. so my string, in itself had double quotes mark and that is why uri parse was not working correctly. All I had to do was removing those annoying marks with : </p>\n\n<pre><code>  val dataRemoved =  data.replace(\"\\\"\",\"\")\n</code></pre>\n\n<p>and now everything works correctly.</p>\n"}], "owner": {"reputation": 13, "user_id": 9468790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9ac28f96f1161ed93dc0992fff3177e?s=128&d=identicon&r=PG&f=1", "display_name": "Farbodc137", "link": "https://stackoverflow.com/users/9468790/farbodc137"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3619, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531299918, "creation_date": 1531290464, "last_edit_date": 1531290749, "question_id": 51278601, "link": "https://stackoverflow.com/questions/51278601/uri-parse-in-kotlin-is-not-working", "title": "URI parse in Kotlin is not working", "body": "<p>I am trying to open a link that I get from the server in the web browser. when I manually parse a string everything is fine and works well:</p>\n\n<pre><code>paymentApi.httpPost(params).responseString{ request, response, result -&gt;\n    when(result){\n        is Result.Success -&gt; {\n            val data = result.get()\n            val url = Uri.parse(\"http://google.com\")\n            println(url)\n\n            val intent = Intent(Intent.ACTION_VIEW, url)\n            startActivity(intent)\n        }\n\n        is Result.Failure -&gt; {\n            println(result.get())\n        }\n    }\n}\n</code></pre>\n\n<p>In this code snippet, I am sending a http post request to a valid url and I get valid response. this response contains a simple url to a payment website. when I don't parse that response via uri and enter a url manually, everything is fine. but when I parse the server's response, here is the error that I keep getting: </p>\n\n<pre><code>D/Instrumentation: checkStartActivityResult() : Intent { act=android.intent.action.VIEW dat=\"https://pay.ir/payment/gateway/21559471\" }\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: atd.com.ekran, PID: 14542\n                  android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=\"https://pay.ir/payment/gateway/21559471\" }\n                      at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1968)\n                      at android.app.Instrumentation.execStartActivity(Instrumentation.java:1622)\n                      at android.app.Activity.startActivityForResult(Activity.java:4564)\n                      at android.app.Activity.startActivityForResult(Activity.java:4522)\n                      at android.app.Activity.startActivity(Activity.java:4883)\n                      at android.app.Activity.startActivity(Activity.java:4851)\n</code></pre>\n\n<p>as u can see, the url is completely valid. so there is nothing wrong with the response that the server throws me. what am I doing wrong? \nhere are some more information that you might need:</p>\n\n<ol>\n<li>I am using Kotlin's fuel library to send my http request </li>\n<li>this url works fine in my iOS app. </li>\n</ol>\n"}, {"tags": ["kotlin", "libgdx"], "comments": [{"owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "edited": false, "score": 1, "creation_date": 1531309217, "post_id": 51277708, "comment_id": 89546272, "body": "Try to build without &quot;Use Kotlin&quot; and then import it directly like here <a href=\"https://github.com/libgdx/libgdx/wiki/Using-libGDX-with-Kotlin\" rel=\"nofollow noreferrer\">github.com/libgdx/libgdx/wiki/Using-libGDX-with-Kotlin</a>"}, {"owner": {"reputation": 316, "user_id": 2295807, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ff7d9c4530de01f4c3790ae95fb61b97?s=128&d=identicon&r=PG", "display_name": "kacpr", "link": "https://stackoverflow.com/users/2295807/kacpr"}, "edited": false, "score": 0, "creation_date": 1531312848, "post_id": 51277708, "comment_id": 89548855, "body": "Did you have any luck? I seem to be having similar issues"}, {"owner": {"reputation": 872, "user_id": 704132, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XoaW2.png?s=128&g=1", "display_name": "Riki137", "link": "https://stackoverflow.com/users/704132/riki137"}, "edited": false, "score": 0, "creation_date": 1542239493, "post_id": 51277708, "comment_id": 93501769, "body": "Note that Kotlin 1.3 doesn&#39;t go well with gradle 2.2 (default libgdx gradle version). Upgrade your gradle if you&#39;re having build problems."}], "answers": [{"tags": [], "owner": {"reputation": 312, "user_id": 9375612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c3ca3921153d06cdbcfe29702809b9?s=128&d=identicon&r=PG&f=1", "display_name": "Divelix", "link": "https://stackoverflow.com/users/9375612/divelix"}, "is_accepted": true, "score": 4, "last_activity_date": 1531317048, "last_edit_date": 1531317048, "creation_date": 1531316710, "answer_id": 51287125, "question_id": 51277708, "link": "https://stackoverflow.com/questions/51277708/how-to-setup-build-libgdx-kotlin-project-correctly/51287125#51287125", "title": "How to setup/build LibGDX + Kotlin project correctly?", "body": "<p>Well, I've finally figured out how to build project correctly with Kotlin (and if you have trouble with gradle it also will help you). Firstly, you just should to build it without \"Use Kotlin\" and than than edit your project build.gradle file like this:</p>\n\n<pre><code>buildscript {\n    ext.kotlinVersion = '1.1.1'\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n\n    }\n}\n</code></pre>\n\n<p>Also you should delete <code>google()</code> if you have it after jcenter()</p>\n\n<p>In <code>:desktop</code> replace <code>java</code> with <code>kotlin</code> plugin and add <code>kotlin-stdlib</code></p>\n\n<pre><code>project(\":desktop\") {\n    apply plugin: \"kotlin\"\n\n    dependencies {\n        compile project(\":core\")\n        compile \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n        compile \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n        compile \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop\"\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n    }\n}\n</code></pre>\n\n<p>In <code>:android</code> add <code>kotlin-android</code> plugin and <code>kotlin-stdlib</code></p>\n\n<pre><code>project(\":android\") {\n    apply plugin: \"android\"\n    apply plugin: \"kotlin-android\"\n\n    configurations { natives }\n\n    dependencies {\n        compile project(\":core\")\n        compile \"com.badlogicgames.gdx:gdx-backend-android:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64\"\n        compile \"com.badlogicgames.ashley:ashley:$ashleyVersion\"\n        compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86\"\n        natives \"com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64\"\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n\n    }\n}\n</code></pre>\n\n<p>In <code>:core</code> replace <code>java</code> with <code>kotlin</code> plugin and add <code>kotlin-stdlib</code></p>\n\n<pre><code>project(\":core\") {\n    apply plugin: \"kotlin\"\n\n    dependencies {\n        compile \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n        compile \"com.badlogicgames.ashley:ashley:$ashleyVersion\"\n        compile \"com.badlogicgames.gdx:gdx-freetype:$gdxVersion\"\n        compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n    }\n}\n</code></pre>\n\n<p>If you have just kotlin issue it would be enough.</p>\n\n<p>If you also have gradle issue like me, so open <code>gradle-wrapper.properties</code> and fix gradle version to 3.3:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-3.3-bin.zip\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 9375612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c3ca3921153d06cdbcfe29702809b9?s=128&d=identicon&r=PG&f=1", "display_name": "Divelix", "link": "https://stackoverflow.com/users/9375612/divelix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 1, "accepted_answer_id": 51287125, "answer_count": 1, "score": 2, "last_activity_date": 1531317048, "creation_date": 1531286192, "last_edit_date": 1531295557, "question_id": 51277708, "link": "https://stackoverflow.com/questions/51277708/how-to-setup-build-libgdx-kotlin-project-correctly", "title": "How to setup/build LibGDX + Kotlin project correctly?", "body": "<p>I've downloaded gdx-setup.jar and try to build empty project with the following settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/J0A3R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0A3R.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is what I get in console:</p>\n\n<pre><code>Generating app in C:\\Users\\Divelix\\Desktop\\test\nExecuting 'C:\\Users\\Divelix\\Desktop\\test/gradlew.bat clean --no-daemon idea'\nTo honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: https://docs.gradle.org/4.6/userguide/gradle_daemon.html.\nDaemon will be stopped at the end of the build stopping after processing\nWARNING: Configuration 'compile' is obsolete and has been replaced with 'implementation'.\nIt will be removed at the end of 2018\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring project ':android'.\n&gt; Failed to notify project evaluation listener.\n   &gt; com.android.build.gradle.internal.variant.BaseVariantData.getOutputs()Ljava/util/List;\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 22s\nDone!\nTo import in Eclipse: File -&gt; Import -&gt; General -&gt; Existing Projects into Workspace\nTo import to Intellij IDEA: File -&gt; Open -&gt; YourProject.ipr\n</code></pre>\n\n<p>If I do not mark \"Use Kotlin\" it builds well, so why is that and what am I doing wrong?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1531281398, "post_id": 51276984, "comment_id": 89531612, "body": "<code>Kotlin</code> does not make any difference in Android Core classes usecase its syntactically differ from java . You should post whole code of adapter ."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531283469, "post_id": 51276984, "comment_id": 89532137, "body": "Are you using <code>kotlin synthetic</code> ?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1531285283, "post_id": 51276984, "comment_id": 89532604, "body": "call your <code>holder.itemView.editButton.onClick</code> inside your custom <code>ViewHolder</code> constructor, not inside <code>onBindViewHolder</code> method"}, {"owner": {"reputation": 4947, "user_id": 2710256, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/EHLal.jpg?s=128&g=1", "display_name": "breakline", "link": "https://stackoverflow.com/users/2710256/breakline"}, "edited": false, "score": 0, "creation_date": 1531286330, "post_id": 51276984, "comment_id": 89532950, "body": "My bad, the problem might be connected to the fact that the Recycleview is inside a CoordinatorLayout. Still a very weird issue"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1531287115, "post_id": 51276984, "comment_id": 89533227, "body": "<code>CoordinatorLayout</code> has nothing to do with it - just setup your <code>OnClickListener</code> inside view holder constructor"}, {"owner": {"reputation": 4947, "user_id": 2710256, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/EHLal.jpg?s=128&g=1", "display_name": "breakline", "link": "https://stackoverflow.com/users/2710256/breakline"}, "edited": false, "score": 0, "creation_date": 1531294229, "post_id": 51276984, "comment_id": 89536571, "body": "Then it wouldn&#39;t work otherwise. No touch event is propagated to the view at all due to bad custom layout behaviour implementation"}], "answers": [{"tags": [], "owner": {"reputation": 1841, "user_id": 5180572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wo2Rf.jpg?s=128&g=1", "display_name": "Shivam Kumar", "link": "https://stackoverflow.com/users/5180572/shivam-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1531283062, "creation_date": 1531283062, "answer_id": 51277237, "question_id": 51276984, "link": "https://stackoverflow.com/questions/51276984/kotlin-recycleview-viewholder-onclick-not-working/51277237#51277237", "title": "Kotlin - Recycleview ViewHolder OnClick not working", "body": "<p>Try this code.</p>\n\n<pre><code>holder.itemView.editButton.setOnClickListener(object : View.OnClickListener {\n            override fun onClick(v: View?) {\n               Log.d(\"Holder\", \"Click\")\n            }\n        })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1531283751, "creation_date": 1531283751, "answer_id": 51277334, "question_id": 51276984, "link": "https://stackoverflow.com/questions/51276984/kotlin-recycleview-viewholder-onclick-not-working/51277334#51277334", "title": "Kotlin - Recycleview ViewHolder OnClick not working", "body": "<p>Make sure you bind the value of edittext with ViewHolder class like below</p>\n\n<pre><code>class ViewHolder (view: View) : RecyclerView.ViewHolder(view) {\n    // Holds the button that will add each editButton to\n    val editButton = view.editButton\n}\n</code></pre>\n\n<p>After try this simple code</p>\n\n<pre><code>    holder?.editButton.setOnClickListener {\n        Log.e(\"editbutton\", \"onClick\")\n    }\n</code></pre>\n"}], "owner": {"reputation": 4947, "user_id": 2710256, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/EHLal.jpg?s=128&g=1", "display_name": "breakline", "link": "https://stackoverflow.com/users/2710256/breakline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1531283751, "creation_date": 1531281042, "question_id": 51276984, "link": "https://stackoverflow.com/questions/51276984/kotlin-recycleview-viewholder-onclick-not-working", "title": "Kotlin - Recycleview ViewHolder OnClick not working", "body": "<p>I have an app in Kotlin done by another developer. It sets Onclick listeners in \"onBindViewHolder\" method of RecycleView Adapter. Somehow after the view scrolls out of the visible area (i.e. user scrolls down) and the user scrolls back to top, the onclick method only gets called after the view is tapped TWICE. Don't understand what's going on, and my Kotlin knowledge is very little. This is how the onclick listener is set:</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n//...\n    holder.itemView.editButton.onClick {\n                Log.d(\"Holder\", \"Click\")\n\n    }\n//...\n</code></pre>\n\n<p>}</p>\n\n<p>It is working EXCEPT when the view gets out of screen. Also, onBindViewholder is not called for views just coming back from outside of the screen, which is not standard I believe? </p>\n\n<p>There is no special settings for the recycleview either, just a simple linearlayout and a single view type.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "adapter", "onclicklistener"], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1531309782, "creation_date": 1531309782, "answer_id": 51284776, "question_id": 51276677, "link": "https://stackoverflow.com/questions/51276677/custom-listener-for-recyclerview-is-not-detecting-clicks/51284776#51284776", "title": "Custom listener for RecyclerView is not detecting clicks", "body": "<p>Add below code inside your onBindViewHolder method.</p>\n\n<pre><code>override fun onBindViewHolder(holder: MainAdapter.CustomViewHolder, position: Int) {\n\n    holder.view.isLongClickable = true\n\n    //set the listener like below \n    holder.view.setOnClickListener(holder);\n}\n</code></pre>\n\n<p>This should work.But you have kind of complicated the whole listener thing.Can implemented in simple way.</p>\n"}], "owner": {"reputation": 307, "user_id": 5961244, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SBV6L.jpg?s=128&g=1", "display_name": "Zolly", "link": "https://stackoverflow.com/users/5961244/zolly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531311019, "creation_date": 1531278469, "last_edit_date": 1531311019, "question_id": 51276677, "link": "https://stackoverflow.com/questions/51276677/custom-listener-for-recyclerview-is-not-detecting-clicks", "title": "Custom listener for RecyclerView is not detecting clicks", "body": "<p><a href=\"https://guides.codepath.com/android/Using-the-RecyclerView#simple-click-handler-within-viewholder\" rel=\"nofollow noreferrer\">This</a>\n is the tutorial I am following, under \"Attaching Click Handlers using Listeners\"</p>\n\n<p>I am trying to implement a custom listener to pass to an adapter. This is to ensure the adapter runs the code in <code>MainActivity</code> when a RecyclerView item is clicked.\nIt is done inside <code>adapter.setOnItemClickListener</code></p>\n\n<p>When I click on one of the items in my recyclerview, <code>showAlertDialog()</code> does not run.\nIs it because I have placed my recyclerview in a swiperefreshlayout?</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), MainContract.View {\n\n    private lateinit var presenter: MainContract.Presenter\n    private lateinit var adapter: MainAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        ...\n\n        swipe_container.setOnRefreshListener { presenter.refreshPlaceList() }\n\n        recyclerViewPlaces.layoutManager = LinearLayoutManager(this)\n    }\n\n    override fun showFavouritePlaces(favouritePlaces: List&lt;Place&gt;) {\n        adapter = MainAdapter(favouritePlaces.toMutableList(), this)\n\n        // Anonymous object passed here as listener\n        adapter.setOnItemClickListener(object: MainAdapter.OnItemClickListener{\n            override fun onItemClick(itemView: View) {\n                showAlertDialog()\n            }\n        })\n\n        recyclerViewPlaces.adapter = adapter\n    }\n\n    override fun showFavouritePlace(favouritePlace: Place) {\n        if (this::adapter.isInitialized) {\n            adapter.addFavouritePlace(favouritePlace)\n        } else {\n            adapter = MainAdapter(mutableListOf(favouritePlace), this)\n            recyclerViewPlaces.adapter = adapter\n        }\n    }\n\n    override fun showAlertDialog() {\n        val builder = AlertDialog.Builder(this)\n\n        builder.setTitle(\"Delete\")\n\n        builder.setMessage(\"Would you like to delete this place?\")\n\n        builder.setPositiveButton(\"YES\") { dialog, which -&gt;\n            Toast.makeText(applicationContext, \"Yes selected\", Toast.LENGTH_SHORT).show()\n        }\n\n        builder.setNegativeButton(\"No\") { dialog, which -&gt;\n            Toast.makeText(applicationContext, \"Nope\", Toast.LENGTH_SHORT).show()\n        }\n\n        val dialog: AlertDialog = builder.create()\n\n        dialog.show()\n    }\n}\n\n\nclass MainAdapter(private val favouritePlaces: MutableList&lt;Place&gt;, private val context: Context)\n    : RecyclerView.Adapter&lt;MainAdapter.CustomViewHolder&gt;() {\n\n    private lateinit var listener: OnItemClickListener\n\n    interface OnItemClickListener {\n        fun onItemClick(itemView: View)\n    }\n\n    fun setOnItemClickListener(listener: OnItemClickListener) {\n        this.listener = listener\n    }\n\n    class CustomViewHolder(val view: View, private val listener: OnItemClickListener)\n                                : RecyclerView.ViewHolder(view), View.OnClickListener {\n\n        override fun onClick(v: View?) {\n            if (listener != null) {\n                listener.onItemClick(v!!)\n            }\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MainAdapter.CustomViewHolder {\n        val placeView = LayoutInflater.from(parent.context)\n                .inflate(R.layout.place_list_item, parent, false)\n\n        return MainAdapter.CustomViewHolder(placeView, listener)\n    }\n\n    override fun onBindViewHolder(holder: MainAdapter.CustomViewHolder, position: Int) {\n\n        holder.view.isLongClickable = true\n\n        // Setting XML properties\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-sqlite", "android-recyclerview"], "comments": [{"owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1531278068, "post_id": 51276582, "comment_id": 89530986, "body": "can you provide <code>RVInvoiceListAdapter</code> and the xml that you using in <code>createViewHolder</code> ?"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "reply_to_user": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "edited": false, "score": 0, "creation_date": 1531278325, "post_id": 51276582, "comment_id": 89531042, "body": "I edit the question."}, {"owner": {"reputation": 1648, "user_id": 6672577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8gWl.jpg?s=128&g=1", "display_name": "Shahzad Afridi", "link": "https://stackoverflow.com/users/6672577/shahzad-afridi"}, "edited": false, "score": 0, "creation_date": 1531281069, "post_id": 51276582, "comment_id": 89531534, "body": "Following line is missing: &lt;/LinearLayout&gt;"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531281011, "creation_date": 1531277730, "last_edit_date": 1531278290, "question_id": 51276582, "link": "https://stackoverflow.com/questions/51276582/binary-xml-file-line-9-binary-xml-file-line-9-error-inflating-class-unknown", "title": "Binary XML file line #9: Binary XML file line #9: Error inflating class &lt;unknown&gt;", "body": "<p>this error appears when inflating a layout. I think this error happens because query code of mine. because when I comment the codes, the fragment works just fine.</p>\n\n<p><strong>This is the code that I believe the problem:</strong></p>\n\n<pre><code>fun getInvoiceListData(offset:Int, limit:Int): ArrayList&lt;InvoicesCustomerAddressRelationship&gt;\n{\n    val db = context.database.readableDatabase\n    var data: ArrayList&lt;InvoicesCustomerAddressRelationship&gt; = ArrayList()\n\n    var columns = Invoices.TABLE_NAME+\".\"+Invoices.COLUMN_ID + \" AS invoice_id,\"\n    columns += Invoices.TABLE_NAME+\".\"+Invoices.COLUMN_CUSTOMER_ID + \" AS cus_customer_id,\"\n    columns += Customer.TABLE_NAME+\".\"+Customer.COLUMN_NAME + \" AS customer_name,\"\n    columns += Invoices.COLUMN_ADDRESS_ID + \" AS address_id,\"\n    columns += CustomerAddress.TABLE_NAME+\".\"+CustomerAddress.COLUMN_NAME + \" AS address_name,\"\n    columns += CustomerAddress.TABLE_NAME+\".\"+CustomerAddress.COLUMN_ADDRESS + \",\"\n    columns += Invoices.COLUMN_TOTAL_BILLING + \",\"\n    columns += Invoices.COLUMN_STATUS + \",\"\n    columns += Invoices.TABLE_NAME+\".\"+Invoices.COLUMN_CREATED_AT + \" as inv_created_at,\"\n    columns += Customer.TABLE_NAME+\".\"+Customer.COLUMN_ID + \" AS rel_customer_id,\"\n    columns += CustomerAddress.TABLE_NAME+\".\"+CustomerAddress.COLUMN_ID + \" AS rel_address_id\"\n\n    var query = \"SELECT \" + columns + \" FROM \" + Invoices.TABLE_NAME\n    query += \" LEFT JOIN \" + Customer.TABLE_NAME + \" ON \" + \"cus_customer_id = rel_customer_id\"\n    query += \" LEFT JOIN \" + CustomerAddress.TABLE_NAME + \" ON \" + \"address_id = rel_address_id  ORDER BY invoice_id DESC LIMIT \" + offset.toString() + \",\" + limit.toString()\n\n    val sql:Cursor = db.rawQuery(query, null)\n\n    if(sql.moveToFirst()) {\n        do {\n            val invoiceId = sql.getString(sql.getColumnIndex(\"invoice_id\"))\n            val customerId = sql.getString(sql.getColumnIndex(\"cus_customer_id\"))\n            val customerName = sql.getString(sql.getColumnIndex(\"customer_name\"))\n            val addressId = sql.getString(sql.getColumnIndex(\"address_id\"))\n            val addressName = sql.getString(sql.getColumnIndex(\"address_name\"))\n            val address = sql.getString(sql.getColumnIndex(CustomerAddress.COLUMN_ADDRESS))\n            val totalBilling = sql.getString(sql.getColumnIndex(Invoices.COLUMN_TOTAL_BILLING))\n            val status = sql.getString(sql.getColumnIndex(Invoices.COLUMN_STATUS))\n            val createdAt = sql.getString(sql.getColumnIndex(\"inv_created_at\"))\n\n            data.add(InvoicesCustomerAddressRelationship(\n                    invoiceId.toInt(),\n                    customerId.toInt(),\n                    customerName,\n                    addressId.toInt(),\n                    addressName,\n                    address,\n                    totalBilling.toInt(),\n                    status.toInt(),\n                    createdAt)\n            )\n\n        }while(sql.moveToNext())\n    }\n\n    sql.close()\n    db.close()\n\n    return data\n}\n</code></pre>\n\n<p><strong>RVInvoiceListAdapter</strong>:</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RVInvoiceListAdapter.ViewHolder {\n    val context = parent.context\n    val inflater = LayoutInflater.from(context)\n\n    // Inflate the custom layout. Log pointing this line is the error\n    val contactView = inflater.inflate(R.layout.invoice_list_child, parent, false) \n    // Return a new holder instance\n    return ViewHolder(contactView)\n}\n</code></pre>\n\n<p><strong>invoice_list_child Layout :</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:id=\"@+id/barcodeToPrintChildParent\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"100dp\"\n    android:layout_marginBottom=\"3dp\"\n    android:layout_marginTop=\"3dp\"\n    android:background=\"@drawable/border_invoice_list\"\n    app:layout_constraintBottom_toBottomOf=\"@+id/barcodeText0\"\n    app:layout_constraintTop_toBottomOf=\"@+id/barcodeText0\"&gt;\n\n\n    &lt;TextView\n        android:id=\"@+id/textView22\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:textColor=\"@color/colorPrimary\"\n        android:text=\"ID: \"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/invoiceId\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"0\"\n        app:layout_constraintStart_toEndOf=\"@+id/textView22\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tempInvoiceId\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"0\"\n        android:visibility=\"invisible\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView25\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginRight=\"16dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:text=\"Tgl:\"\n        android:textColor=\"@color/colorPrimary\"\n        app:layout_constraintEnd_toStartOf=\"@+id/date\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/date\"\n        android:layout_width=\"110dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView27\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:text=\"Pembeli:\"\n        android:textColor=\"@color/colorPrimary\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView22\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/customerName\"\n        android:layout_width=\"115dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toEndOf=\"@+id/textView27\"\n        app:layout_constraintTop_toBottomOf=\"@+id/invoiceId\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView29\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginRight=\"16dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:text=\"Total:\"\n        android:textColor=\"@color/colorPrimary\"\n        app:layout_constraintEnd_toStartOf=\"@+id/total\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView33\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/total\"\n        android:layout_width=\"110dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"0\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/status\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView31\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:text=\"Alamat:\"\n        android:textColor=\"@color/colorPrimary\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView27\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/address\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toEndOf=\"@+id/textView31\"\n        app:layout_constraintTop_toBottomOf=\"@+id/customerName\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView33\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginRight=\"16dp\"\n        android:layout_marginTop=\"8dp\"\n        android:background=\"@drawable/border_title\"\n        android:text=\"Status:\"\n        android:textColor=\"@color/colorPrimary\"\n        app:layout_constraintEnd_toStartOf=\"@+id/status\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView25\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/status\"\n        android:layout_width=\"110dp\"\n        android:layout_height=\"20dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"0\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/date\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>I cant find any error related query in Logcat. I only found this error:</p>\n\n<pre><code>android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class &lt;unknown&gt;\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n    at com.mockie.daikokuten.adapters.RVInvoiceListAdapter.onCreateViewHolder(RVInvoiceListAdapter.kt:87)\n    at com.mockie.daikokuten.adapters.RVInvoiceListAdapter.onCreateViewHolder(RVInvoiceListAdapter.kt:29)\n    at android.support.v7.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:6493)\n    at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5680)\n    at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5563)\n    at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5559)\n    at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2229)\n    at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1556)\n</code></pre>\n"}, {"tags": ["java", "android", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 1, "creation_date": 1531271050, "post_id": 51275494, "comment_id": 89529528, "body": "Add the xml for your layouts which include the <code>tv_name</code> and <code>textView</code>"}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 3814777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e12550ee31b0a6f321b50eda3cf302?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Ta", "link": "https://stackoverflow.com/users/3814777/dung-ta"}, "edited": false, "score": 0, "creation_date": 1531280360, "post_id": 51275964, "comment_id": 89531384, "body": "Yeah, that makes sense, let me double check my layout tomorrow. I don&#39;t have access to the code right now."}], "tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": true, "score": 4, "last_activity_date": 1531272292, "creation_date": 1531272292, "answer_id": 51275964, "question_id": 51275494, "link": "https://stackoverflow.com/questions/51275494/android-ui-not-crashing-when-modifying-view-off-ui-thread/51275964#51275964", "title": "Android UI Not Crashing When Modifying View off UI Thread", "body": "<p>The <code>CalledFromWrongThreadException</code> only throws when necessary, but not always. In your cases, it throws when the <code>ViewRootImpl.checkThread()</code> is called during <code>ViewRootImpl.requestLayout()</code>, here is the code from <code>ViewRootImpl.java</code>:</p>\n\n<pre><code>@Override\npublic void requestLayout() {\n    if (!mHandlingLayoutInLayoutRequest) {\n        checkThread();\n        mLayoutRequested = true;\n        scheduleTraversals();\n    }\n}\n\nvoid checkThread() {\n    if (mThread != Thread.currentThread()) {\n        throw new CalledFromWrongThreadException(\n                \"Only the original thread that created a view hierarchy can touch its views.\");\n    }\n}\n</code></pre>\n\n<p>And for <code>TextView</code>, it's not always necessary to relayout when we update it's text, we can see the logic in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/TextView.java#8481\" rel=\"nofollow noreferrer\">source code</a>:</p>\n\n<pre><code>/**\n * Check whether entirely new text requires a new view layout\n * or merely a new text layout.\n */\nprivate void checkForRelayout() {\n    // If we have a fixed width, we can just swap in a new text layout\n    // if the text height stays the same or if the view height is fixed.\n\n    if ((mLayoutParams.width != LayoutParams.WRAP_CONTENT\n            || (mMaxWidthMode == mMinWidthMode &amp;&amp; mMaxWidth == mMinWidth))\n            &amp;&amp; (mHint == null || mHintLayout != null)\n            &amp;&amp; (mRight - mLeft - getCompoundPaddingLeft() - getCompoundPaddingRight() &gt; 0)) {\n        // Static width, so try making a new text layout.\n\n        int oldht = mLayout.getHeight();\n        int want = mLayout.getWidth();\n        int hintWant = mHintLayout == null ? 0 : mHintLayout.getWidth();\n\n        /*\n         * No need to bring the text into view, since the size is not\n         * changing (unless we do the requestLayout(), in which case it\n         * will happen at measure).\n         */\n        makeNewLayout(want, hintWant, UNKNOWN_BORING, UNKNOWN_BORING,\n                      mRight - mLeft - getCompoundPaddingLeft() - getCompoundPaddingRight(),\n                      false);\n\n        if (mEllipsize != TextUtils.TruncateAt.MARQUEE) {\n            // In a fixed-height view, so use our new text layout.\n            if (mLayoutParams.height != LayoutParams.WRAP_CONTENT\n                    &amp;&amp; mLayoutParams.height != LayoutParams.MATCH_PARENT) {\n                autoSizeText();\n                invalidate();\n                return; // return with out relayout\n            }\n\n            // Dynamic height, but height has stayed the same,\n            // so use our new text layout.\n            if (mLayout.getHeight() == oldht\n                    &amp;&amp; (mHintLayout == null || mHintLayout.getHeight() == oldht)) {\n                autoSizeText();\n                invalidate();\n                return; // return with out relayout\n            }\n        }\n\n        // We lose: the height has changed and we have a dynamic height.\n        // Request a new view layout using our new text layout.\n        requestLayout();\n        invalidate();\n    } else {\n        // Dynamic width, so we have no choice but to request a new\n        // view layout with a new text layout.\n        nullLayouts();\n        requestLayout();\n        invalidate();\n    }\n}\n</code></pre>\n\n<p>As you can see, in some cases, the <code>requestLayout()</code> is not called, so the main thread check is not introduced.</p>\n\n<p>So I think the key point is not about Kotlin or Java, it's about the <code>TextView</code>s' layout params which determined whether <code>requestLayout()</code> is called or not.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 3519407, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152430118/picture?type=large", "display_name": "Nanev", "link": "https://stackoverflow.com/users/3519407/nanev"}, "is_accepted": false, "score": 0, "last_activity_date": 1531324590, "creation_date": 1531324590, "answer_id": 51289775, "question_id": 51275494, "link": "https://stackoverflow.com/questions/51275494/android-ui-not-crashing-when-modifying-view-off-ui-thread/51289775#51289775", "title": "Android UI Not Crashing When Modifying View off UI Thread", "body": "<p>Most likely, in Kotlin case, there is some overhead in setText() which assures that it runs in UI thread. </p>\n"}], "owner": {"reputation": 789, "user_id": 3814777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e12550ee31b0a6f321b50eda3cf302?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Ta", "link": "https://stackoverflow.com/users/3814777/dung-ta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 1, "accepted_answer_id": 51275964, "answer_count": 2, "score": 5, "last_activity_date": 1531324590, "creation_date": 1531267893, "last_edit_date": 1531324253, "question_id": 51275494, "link": "https://stackoverflow.com/questions/51275494/android-ui-not-crashing-when-modifying-view-off-ui-thread", "title": "Android UI Not Crashing When Modifying View off UI Thread", "body": "<p><strong>Scenario:</strong></p>\n\n<p>I ran into a strange issue while testing out threads in my fragment. </p>\n\n<p>I have a fragment written in Kotlin with the following snippet in onResume():</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n\n    val handlerThread = HandlerThread(\"Stuff\")\n    handlerThread.start()\n    val handler = Handler(handlerThread.looper)\n    handler.post {\n        Thread.sleep(2000)\n        tv_name.setText(\"Something something : \" + isMainThread())\n    }\n}\n</code></pre>\n\n<p>is MainThread() is a function that checks if the current thread is the main thread like so:</p>\n\n<pre><code>private fun isMainThread(): Boolean = Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n\n<p>I am seeing my TextView get updated after 2 seconds with the text \"Something something : false\"</p>\n\n<p>Seeing false tells me that this thread is currently not the UI/Main thread.</p>\n\n<p>I thought this was strange so I created the same fragment but written in Java instead with the following snippet from onResume():</p>\n\n<pre><code>@Override\npublic void onResume() {\n    super.onResume();\n\n    HandlerThread handlerThread = new HandlerThread(\"stuff\");\n    handlerThread.start();\n    new Handler(handlerThread.getLooper()).post(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            textView.setText(\"Something something...\");\n        }\n    });\n}\n</code></pre>\n\n<p>The app crashes with the following exception as expected:</p>\n\n<pre><code>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n        at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:7313)\n        at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:1161)\n</code></pre>\n\n<p>I did some research but I couldn't really find something that explains this. Also, please assume that my views are all inflated correctly.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why does my app not crash when I modify my TextView in the runnable that's running off my UI thread in the Fragment written in Kotlin?</p>\n\n<p>If there's something in some documentation somewhere that explains this, can someone please refer me to this?</p>\n\n<p><strong>I am not actually trying to modify my UI off the UI thread, I am just curious why this is happening.</strong></p>\n\n<p>Please let me know if you guys need any more information. Thanks a lot!</p>\n\n<p><strong>Update:</strong>\nAs per what @Hong Duan mentioned, requestLayout() was not getting called. This has nothing to do with Kotlin/Java but with the TextView itself. </p>\n\n<p>I goofed and didn't realize that the TextView in my Kotlin fragment has a layout_width of \"match_parent.\" Whereas the TextView in my Java fragment has a layout_width of \"wrap_content.\"</p>\n\n<p><strong>TLDR:</strong> User error + requestLayout(), where thread checking doesn't always occur.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1531297203, "creation_date": 1531297203, "answer_id": 51280535, "question_id": 51275431, "link": "https://stackoverflow.com/questions/51275431/cloud-firestore-error-while-trying-to-retrieve-list/51280535#51280535", "title": "Cloud Firestore error while trying to retrieve List", "body": "<blockquote>\n  <p>-usermatches: &lt;---- This is an array</p>\n</blockquote>\n\n<p>Is not! It's true that if an object is stored in the database as an <code>array</code>, <code>entry.value</code> returns an ArrayList and not an array, but in your case, <code>usermatches</code> is a <code>map</code> which in terms contains other maps, <code>0</code>, <code>1</code> and so on. That's why you also get that error. So in order to solve this, you need to iterate over <code>usermatches</code> map twice, once to get the maps and second to get the values whithin those maps.</p>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 4258880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f68aa3f9da13610b8e8800f5b87ac41c?s=128&d=identicon&r=PG&f=1", "display_name": "Ispam", "link": "https://stackoverflow.com/users/4258880/ispam"}, "is_accepted": false, "score": 0, "last_activity_date": 1531355508, "creation_date": 1531355508, "answer_id": 51295830, "question_id": 51275431, "link": "https://stackoverflow.com/questions/51275431/cloud-firestore-error-while-trying-to-retrieve-list/51295830#51295830", "title": "Cloud Firestore error while trying to retrieve List", "body": "<p>As @Alex Mamo pointed out, it was indeed a HashMap</p>\n\n<p>What I was doing in the above code snipet was close to how I actually solved the problem.</p>\n\n<p>I was initializing my <strong>Object</strong> inside the third for loop and was making it hold imprecise information from the Firestore DB.</p>\n\n<p><strong>Solution:</strong></p>\n\n<pre><code>docRef = db.collection(\"userdata\").document(user.user_id)\n                docRef.get()\n                        .addOnCompleteListener { task -&gt;\n                            if (task.isSuccessful) {\n\n                                val document: DocumentSnapshot = task.result\n\n                                val cedula = document.data!![\"cedula\"] as Long\n\n                                val points = document.data!![\"points\"] as Long\n\n                                val alias = document.data!![\"username\"] as String\n\n                                val map: MutableMap&lt;String, Any&gt;? = document.data\n                                for (entry in map!!.entries) {\n                                    if (entry.key == \"usermatches\") {\n\n                                        val list = entry.value as ArrayList&lt;Any&gt;\n\n                                        var home_score: Long = 0\n                                        var winner: Long = 0\n                                        var userchanged: Boolean = true\n                                        var id: String = \"\"\n                                        var away_score: Long = 0\n\n                                        for (each in list){\n\n                                            val usermatch = Usermatches(home_score, away_score, id, userchanged, winner)\n\n                                            for (entry2 in  each as HashMap&lt;String, Any&gt;){\n\n                                                when {\n                                                    entry2.key == \"away_score\" -&gt; usermatch.away_score = entry2.value as Long\n                                                    entry2.key == \"home_score\" -&gt; usermatch.home_score = entry2.value as Long\n                                                    entry2.key == \"id\" -&gt; usermatch.id = entry2.value as String\n                                                    entry2.key == \"userchanged\" -&gt; usermatch.userchanged = entry2.value as Boolean\n                                                    entry2.key == \"winner\" -&gt; usermatch.winner = entry2.value as Long\n                                                }\n\n                                            }\n\n                                            println(\"$usermatch\")\n                                            mDisposable.add(usermatchesViewModel.insert(usermatch)\n                                                    .subscribeOn(Schedulers.io())\n                                                    .subscribe{println(\"Checking\")})\n                                        }\n                                    }\n                                }\n\n                            } else {\n                                Log.d(TAG, \"Error getting Usermatches \", task.exception)\n                            }\n                        }\n            })\n</code></pre>\n"}], "owner": {"reputation": 380, "user_id": 4258880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f68aa3f9da13610b8e8800f5b87ac41c?s=128&d=identicon&r=PG&f=1", "display_name": "Ispam", "link": "https://stackoverflow.com/users/4258880/ispam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 51280535, "answer_count": 2, "score": 1, "last_activity_date": 1531355508, "creation_date": 1531267285, "last_edit_date": 1531297279, "question_id": 51275431, "link": "https://stackoverflow.com/questions/51275431/cloud-firestore-error-while-trying-to-retrieve-list", "title": "Cloud Firestore error while trying to retrieve List", "body": "<p>I started working with Cloud Firestore in a personal project and have been facing an issue trying to retrieve a List from a Document while I still managed to receive some data from the backend, it's not that precise while checking the DB.</p>\n\n<pre><code>Collection\n DocumentN\n     -otherStuff\n     -usermatches:                &lt;---- This is an array  \n          (0): \n             -Score:0\n             -Id:123 \n          (1): \n             -Score:1\n             -Id:456\n</code></pre>\n\n<p><strong>Schema</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/fhVi5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fhVi5.jpg\" alt=\"Firestore\"></a></p>\n\n<p>I've been trying alot and the class below is me solving momentarily the <strong>Error</strong> <code>HashMap cannot be cast to parameter..</code> but I do not know how to really achieve what i need, if you have any feed back or have any recommendations pls tell me</p>\n\n<p><strong>Backend.kt</strong></p>\n\n<pre><code>docRef = db.collection(\"userdata\").document(user.user_id)\n                docRef.get()\n                        .addOnCompleteListener { task -&gt;\n                            if (task.isSuccessful) {\n\n                                val document: DocumentSnapshot = task.result\n\n                                val cedula = document.data!![\"cedula\"] as Long\n                                val points = document.data!![\"points\"] as Long\n //                                    val usermatches = document.data!![\"usermatches\"] as HashMap&lt;String, Any&gt;\n                                val alias = document.data!![\"username\"] as String\n\n//                                     val usermatches = document.toObject(Usermatches::class.java)\n\n                                val map: MutableMap&lt;String, Any&gt;? = document.data\n                                for (entry in map!!.entries) {\n                                    if (entry.key == \"usermatches\") {\n\n                                        val list = entry.value as ArrayList&lt;Any&gt;\n\n                                        for (each in list){\n\n                                            for (entry2 in  each as HashMap&lt;String, Any&gt;){\n\n                                                var home_score: Long = 0\n                                                var winner: Long = 0\n                                                var userchanged: Boolean = true\n                                                var id: String = \"\"\n                                                var away_score: Long = 0\n\n                                                val usermatch = Usermatches(home_score, away_score, id, userchanged, winner)\n\n                                                when {\n                                                    entry2.key == \"away_score\" -&gt; {\n                                                        away_score = entry2.value as Long\n\n                                                        usermatch.away_score = away_score\n//                                                            println(away_score)\n                                                    }\n                                                    entry2.key == \"home_score\" -&gt; {\n\n                                                        home_score = entry2.value as Long\n                                                        usermatch.home_score = home_score\n//                                                            println(home_score)\n                                                    }\n                                                    entry2.key == \"id\" -&gt; {\n                                                        id = entry2.value as String\n                                                        usermatch.id = id\n//                                                            println(id)\n                                                    }\n                                                    entry2.key == \"userchanged\" -&gt; {\n                                                        userchanged = entry2.value as Boolean\n                                                        usermatch.userchanged = userchanged\n//                                                            println(userchanged)\n                                                    }\n                                                    entry2.key == \"winner\" -&gt; {\n                                                        winner = entry2.value as Long\n                                                        usermatch.winner = winner\n//                                                            println(winner)\n                                                    }\n\n                                                }\n                                                mDisposable.add(usermatchesViewModel.insert(Usermatches(home_score, away_score, id, userchanged, winner))\n                                                    .subscribeOn(Schedulers.io())\n                                                    .subscribe{ println(\"Checking\")})\n\n                                            }\n                                        }\n                                    }\n                                }\n\n                            } else {\n                                Log.d(TAG, \"Error getting Usermatches \", task.exception)\n                            }\n\n                        }\n            })\n</code></pre>\n\n<p><strong>Usermatches Data Class</strong></p>\n\n<pre><code>@Entity\ndata class Usermatches(var home_score: Long,\n                   var away_score: Long,\n                   @ColumnInfo(name = \"usermatches_id\") var id: String,\n                   var userchanged: Boolean,\n                   var winner: Long) {\n    @PrimaryKey(autoGenerate = true)\n    var num_id: Long = 0\n }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-bitmap", "bitmapdrawable"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531264588, "post_id": 51275049, "comment_id": 89528321, "body": "Download the image to a file (e.g., using OkHttp), then worry about loading the file into the <code>ImageView</code>."}, {"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531267970, "post_id": 51275049, "comment_id": 89528929, "body": "I prefer to use glide - it handles stuff like putting an image into a <code>ImageView</code> and caching. Regardless of OkHttp vs Glide, it should be possible to convert a <code>Bitmap</code> to a file without losing its dimensions."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531268163, "post_id": 51275049, "comment_id": 89528951, "body": "If you look at the <code>Bitmap</code> object, I suspect that you will find that it has the dimensions that are shown in the file. You appear to have assumed that the <code>Bitmap</code> will have the dimensions of the <code>ImageView</code>."}, {"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531268485, "post_id": 51275049, "comment_id": 89529011, "body": "That&#39;s what I thought too, but the dimensions of the <code>Bitmap</code> and the dimensions of the <code>ImageView</code> are the same. I&#39;ve updated my post with the code that outputs the dimensions of <code>ImageView</code> and <code>Bitmap</code>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531268555, "post_id": 51275049, "comment_id": 89529026, "body": "What are the dimensions of the image in the file itself? And, if you manually download the image from the URL, what are the dimensions of the original image? I have never attempted to work with a <code>Bitmap</code> managed by a <code>BitmapDrawable</code>, so it is possible that &quot;the rules of the game&quot; are different for it somehow, though I&#39;m not quite certain how."}, {"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531268814, "post_id": 51275049, "comment_id": 89529067, "body": "Glide downloads the image from the following url: <a href=\"https://github.com/vedantroy/Image-Database/raw/master/Curated/Hype/akyuusqueel.jpg\" rel=\"nofollow noreferrer\">github.com/vedantroy/Image-Database/raw/master/Curated/Hype/&zwnj;&#8203;&hellip;</a> The dimensions of this image are 129 x 123 (pixels). With a horizontal and vertical resolution of 72 dpi and resolution unit of 2, whatever that means."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531269053, "post_id": 51275049, "comment_id": 89529105, "body": "OK. If the file that you are saving via <code>outputStream</code> has a 315x300 image, then the problem lies somewhere in Facebook Messenger. If the file that you are saving has larger dimensions, then poke at some of the more obscure properties of the bitmap and see if anything appears to be unusual (e.g., <code>isPremultiplied()</code>)."}, {"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531269808, "post_id": 51275049, "comment_id": 89529263, "body": "I checked the dimensions of the file saved via <code>outputStream</code>. It has the correct dimensions (315 x 300).  So, the issue might be with Fb messenger and Telegram.That being said there is another image that does not exhibit this problem behavior: <a href=\"https://github.com/vedantroy/Image-Database/raw/master/Curated/Lewd/yandereyuno.jpg\" rel=\"nofollow noreferrer\">github.com/vedantroy/Image-Database/raw/master/Curated/Lewd/&zwnj;&#8203;&hellip;</a> so I&#39;m going to see if there are any differences in the bitmaps of those two files. Are there any other obscure bitmap properties besides <code>isPremultiplied()</code> that I should look into?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1531306710, "post_id": 51275049, "comment_id": 89544670, "body": "When I scanned through the <code>Bitmap</code> docs before posting that comment, the only one that leaped out at me that might be related to size was <code>isPremultiplied()</code>. AFAIK, that is an Android thing, not a PNG thing, and so I would not expect it to have an impact on how the PNG is encoded. You might also consider experimenting with writing out JPEG files and see if that changes anything. JPEG might be a better format anyway, if you are not completely in control over the images."}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531269645, "creation_date": 1531263799, "last_edit_date": 1531269645, "question_id": 51275049, "link": "https://stackoverflow.com/questions/51275049/preserve-bitmap-dimensions-when-saving-to-file-from-imageview", "title": "Preserve Bitmap dimensions when saving to file from ImageView", "body": "<p>I am trying to save the drawable inside of a <code>ImageView</code> to a file.\nI use Glide to load an image into the <code>ImageView</code> like this:</p>\n\n<pre><code>    Glide.with(context)\n            //items[position] is a string that represents a url \n            .load(items[position])\n            .listener(object : RequestListener&lt;Drawable&gt; {\n                override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\n                    holder.progressBar.visibility = View.GONE\n                    return false\n                }\n\n                override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\n                    holder.progressBar.visibility = View.GONE\n                    return false\n                }\n\n            })\n            .into(holder.imageView)\n</code></pre>\n\n<p>If the <code>ImageView</code> contains a GIF, I can save it without trouble to a file using the following method:</p>\n\n<pre><code>//In a typical use case, gifDrawable will equal holder.imageView.(gifDrawable.constantState.newDrawable().mutate()) as GifDrawable\nprivate fun gifDrawableToFile(gifDrawable: GifDrawable, gifFile: File) {\n    val byteBuffer = gifDrawable.buffer\n    val output = FileOutputStream(gifFile)\n    val bytes = ByteArray(byteBuffer.capacity())\n    (byteBuffer.duplicate().clear() as ByteBuffer).get(bytes)\n    output.write(bytes, 0, bytes.size)\n    output.close()\n}\n</code></pre>\n\n<p>However, if the <code>ImageView</code> contains a static image - then the dimensions are not preserved when I save it to a file using the following method:</p>\n\n<pre><code>//In a typical use case, bitmapDrawable will equal holder.imageView.drawable.constantState.newDrawable().mutate() as BitmapDrawable\nbitmapDrawable.bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream)\n</code></pre>\n\n<p>The above code fails to maintain the dimensions the static image had inside of the imageview. </p>\n\n<p>For example - notice how the GIF maintains the dimensions that it had inside of the <code>imageView</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CxZWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CxZWD.png\" alt=\"Screenshot_Of_Gif\"></a></p>\n\n<p>But notice here how the static image has drastically expanded in size:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5kuzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kuzP.png\" alt=\"Screenshot_Of_Static_Image\"></a></p>\n\n<p>(In both these examples, I am sending a file to the Facebook Messenger app, which it uses to display an image inside of a chat).</p>\n\n<p>Although my code samples are in Kotlin, answers in Java would be helpful too. </p>\n\n<p>Update 1 - I printed the width of the <code>ImageView</code> and of the Bitmap with the following code and they are the same.</p>\n\n<pre><code>val bitmap = (holder.imageView.drawable as BitmapDrawable).bitmap\nLog.d(\"APP\",\"Bwidth: \" + bitmap.width)\nLog.d(\"APP\",\"Bheight:\" + bitmap.height)\n\nLog.d(\"APP\",\"Iwidth\" + holder.imageView.width)\nLog.d(\"PP\",\"Iheight\" + holder.imageView.height)\n</code></pre>\n\n<p>But the output of both heights/widths was 315, and 300. </p>\n\n<p>Update 2 - </p>\n\n<p>I printed the width of the bitmap after saving it to a file like this. The width and height were still 315 and 300.</p>\n\n<pre><code>val bmOptions = BitmapFactory.Options()\nval bitmap = BitmapFactory.decodeFile(imageFile.absolutePath, bmOptions)\nLog.d(\"APP\",\"Bitmap from file width: \" + bitmap.width)\nLog.d(\"APP\",\"Bitmap from file height: \" + bitmap.height)\n</code></pre>\n"}, {"tags": ["android", "android-studio", "listview", "kotlin", "onclicklistener"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7652408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-188lTQuU76I/AAAAAAAAAAI/AAAAAAAAK50/MJCbOu06j-c/photo.jpg?sz=128", "display_name": "Roger Backwards", "link": "https://stackoverflow.com/users/7652408/roger-backwards"}, "edited": false, "score": 0, "creation_date": 1531279815, "post_id": 51276764, "comment_id": 89531284, "body": "I&#39;m really introducing myself to android, i supose this was a newbie stone  Thank you so much!"}, {"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "reply_to_user": {"reputation": 37, "user_id": 7652408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-188lTQuU76I/AAAAAAAAAAI/AAAAAAAAK50/MJCbOu06j-c/photo.jpg?sz=128", "display_name": "Roger Backwards", "link": "https://stackoverflow.com/users/7652408/roger-backwards"}, "edited": false, "score": 1, "creation_date": 1531280496, "post_id": 51276764, "comment_id": 89531410, "body": "Yeah, I think this is a common question for newbies, you&#39;re welcome :)"}], "tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": true, "score": 1, "last_activity_date": 1531279399, "creation_date": 1531279399, "answer_id": 51276764, "question_id": 51274658, "link": "https://stackoverflow.com/questions/51274658/checkbox-on-a-listview-prevents-event-click-kotlin/51276764#51276764", "title": "Checkbox on a listView prevents event click, kotlin", "body": "<p>Add these properties to your <code>CheckBox</code>:</p>\n\n<pre><code>android:focusable=\"false\"\nandroid:focusableInTouchMode=\"false\"\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7652408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-188lTQuU76I/AAAAAAAAAAI/AAAAAAAAK50/MJCbOu06j-c/photo.jpg?sz=128", "display_name": "Roger Backwards", "link": "https://stackoverflow.com/users/7652408/roger-backwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 51276764, "answer_count": 1, "score": 1, "last_activity_date": 1531279399, "creation_date": 1531261006, "question_id": 51274658, "link": "https://stackoverflow.com/questions/51274658/checkbox-on-a-listview-prevents-event-click-kotlin", "title": "Checkbox on a listView prevents event click, kotlin", "body": "<p><strong>Using kotlin</strong></p>\n\n<p>Hi, I'm doing a listview with title, description and a checkbox. </p>\n\n<p>Without the checkbox, when I click the cell, it opens a detailsActivity about the item.</p>\n\n<p>So I have added a checkbox, with its default check action to make the user capable of select items, and it seems like it is preventing the view click event. </p>\n\n<pre><code>  listView.onItemClickListener = AdapterView.OnItemClickListener { adapterView, view, position, id -&gt;\n        val productListToDetail = Intent(this, ProductDetailActivity::class.java)\n        productListToDetail.putExtra(\"title\",platoList[position].nombre)\n        productListToDetail.putExtra(\"descripcion\",platoList[position].descripcion)\n        startActivity(productListToDetail)\n    }\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["android", "kotlin", "mockito", "android-room", "android-livedata"], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531311061, "creation_date": 1531257188, "last_edit_date": 1531311061, "question_id": 51273961, "link": "https://stackoverflow.com/questions/51273961/testing-a-minimal-livedata-viewmodel-using-mockito", "title": "Testing a minimal livedata viewmodel using Mockito", "body": "<p>I have the following viewmodel:</p>\n\n<pre><code>class ListViewModel(application: Application) : AndroidViewModel(application) {\n    private val appDatabase: AppDatabase by lazy {\n        AppDatabase.getInstance(application)\n    }\n\n    private val items: LiveData&lt;List&lt;Item&gt;&gt; by lazy {\n        appDatabase.itemDao().getAllItems()\n    }\n\n    fun getAllItems(): LiveData&lt;List&lt;Item&gt;&gt; {\n        return items\n    }\n\n    fun deleteItemById(id: Long) {\n        launch { async { appDatabase.itemDao().deleteItemById(id) } }\n    }\n}\n</code></pre>\n\n<p>I have a test suite already in place at the DAO level, and because this viewmodel is simple an abstraction layer over my DAOs, I'm struggling to figure out how to create meaningful tests for this viewmodel.</p>\n\n<p>I've tried mocking the DAOs using Mockito but can't seem to implement them properly. My latest attempt looks like this:</p>\n\n<pre><code>class ListViewModelTest {\n\n    lateinit var listViewModel: ListViewModel\n\n    @Mock\n    lateinit var context: Application\n\n    @Mock\n    lateinit var appDatabase: AppDatabase\n\n    @Mock\n    lateinit var items: LiveData&lt;List&lt;Item&gt;&gt;\n\n    @Before\n    fun setup() {\n        MockitoAnnotations.initMocks(this)\n        setupMocks()\n        listViewModel = ListViewModel(context)\n    }\n\n    fun setupMocks() {\n        `when`&lt;Context&gt;(context.applicationContext).thenReturn(context)\n        `when`(appDatabase.itemDao().getAllItems()).thenReturn(items)\n    }\n\n    @Test\n    fun getAllItems() {\n        listViewModel.getAllItems()\n        verify(appDatabase).itemDao().getAllItems()\n    }\n\n    @Test\n    fun deleteFilesystem() {\n        listViewModel.deleteItemById(0)\n        verify(appDatabase).itemDao().deleteItemById(0)\n    }\n}\n</code></pre>\n\n<p>I'm pretty new to testing in general, so any general advice is also appreciated.</p>\n"}, {"tags": ["android", "service", "kotlin", "overlay"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 3, "creation_date": 1531249659, "post_id": 51272387, "comment_id": 89522978, "body": "You are creating a service object which has no correlation to the actual running service. You need to send intent to the service or bind to it to obtain proper reference."}, {"owner": {"reputation": 41, "user_id": 8137070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bec62e7f0839294056471a4711bd412?s=128&d=identicon&r=PG&f=1", "display_name": "Umar", "link": "https://stackoverflow.com/users/8137070/umar"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1531306853, "post_id": 51272387, "comment_id": 89544777, "body": "@Pawel  Thank you for your help, As you mentioned in your comment, I was using the wrong approach and the service object itself was null. It did work after passing the intent to the service and removing the view in onStartCommand. Thanks again for your big help.."}], "owner": {"reputation": 41, "user_id": 8137070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bec62e7f0839294056471a4711bd412?s=128&d=identicon&r=PG&f=1", "display_name": "Umar", "link": "https://stackoverflow.com/users/8137070/umar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1531249290, "creation_date": 1531249290, "question_id": 51272387, "link": "https://stackoverflow.com/questions/51272387/how-to-remove-overlay-android", "title": "how to remove overlay android", "body": "<p>I have created a system overlay using onCreate method of service, when I start service it creates an overlay as expected. But when I try to remove this overlay calling a service method from an activity it always give me error.</p>\n\n<p>here is the code in onCreate method of service</p>\n\n<pre><code>  wm = getSystemService(Context.WINDOW_SERVICE) as WindowManager\n    vibrator = this.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n\n    imageView = ImageView(this)\n    imageView!!.minimumHeight = 30\n    imageView!!.minimumWidth = 700\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        imageView!!.background = getDrawable(R.drawable.round)\n    }\n    imageView!!.setOnClickListener(this)\n    imageView!!.setOnTouchListener(this)\n\n    val params1 = LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)\n\n\n    layout = LinearLayout(this)\n    layout!!.layoutParams = params1\n    layout!!.orientation = LinearLayout.HORIZONTAL\n    layout!!.gravity = Gravity.CENTER\n\n    layout!!.addView(imageView)\n\n    val LAYOUT_FLAG: Int\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        LAYOUT_FLAG = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n    } else {\n        LAYOUT_FLAG = WindowManager.LayoutParams.TYPE_PHONE\n    }\n\n    val params = WindowManager.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT, LAYOUT_FLAG, WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL or WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, PixelFormat.TRANSLUCENT)\n    params.gravity = Gravity.CENTER or Gravity.BOTTOM\n    params.x = 0\n    params.y = 0\n    wm!!.addView(layout, params)\n</code></pre>\n\n<p>Now I am trying to remove this overlay by using the following code in a method of service and then calling this method form another activity</p>\n\n<pre><code>       public fun removeBar(){\n     wm!!.removeView(layout);\n   }\n</code></pre>\n\n<p>Now I call above function of service in the MainActivity as follow</p>\n\n<pre><code>               mService = OverlayShowingService();\n                    mService.removeBar()\n</code></pre>\n\n<p>Whenever I try to do this, I get NullPointerException..</p>\n\n<p>W/System.err: kotlin.KotlinNullPointerException</p>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 3, "creation_date": 1531249307, "post_id": 51272272, "comment_id": 89522833, "body": "You can use <code>this</code>? What&#39;s the context of referencing self? If it&#39;s to return some value based on &quot;selected&quot; value with a switch (when), then it&#39;s better to have a field in the enum and just return its value."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 5, "last_activity_date": 1531288760, "last_edit_date": 1531288760, "creation_date": 1531249486, "answer_id": 51272434, "question_id": 51272272, "link": "https://stackoverflow.com/questions/51272272/access-enum-value-inside-a-method-of-enum-class-in-kotlin/51272434#51272434", "title": "Access enum value inside a method of enum class in Kotlin", "body": "<p>You can use <code>this</code> and <code>this.ordinal</code> which returns the ordinal of this enumeration constant  <br/> Also if you do this:  <br/></p>\n\n<pre><code>fun myFunc(): Any{\n    val array = MyEnum.values()\n    println(array[this.ordinal])\n    println(this)\n    return array[this.ordinal]\n}\n</code></pre>\n\n<p>and call <code>MyEnum.VAL2.myFunc()</code> you will see <code>VAL2</code></p>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 1, "last_activity_date": 1531251458, "last_edit_date": 1531251458, "creation_date": 1531251143, "answer_id": 51272797, "question_id": 51272272, "link": "https://stackoverflow.com/questions/51272272/access-enum-value-inside-a-method-of-enum-class-in-kotlin/51272797#51272797", "title": "Access enum value inside a method of enum class in Kotlin", "body": "<p>Try as follow</p>\n\n<pre><code>enum class MyEnum {\n    VAL1 {\n        override fun myFunc() {\n            //do something with VAL1 using this\n        }\n    },\n    VAL2 {\n        override fun myFunc() {\n            //do something with VAL2 using this\n        }\n    },\n    VAL3 {\n        override fun myFunc() {\n            //do something with VAL3 using this\n        }\n    };\n\n    abstract fun myFunc()\n}\n</code></pre>\n"}], "owner": {"reputation": 7265, "user_id": 3457177, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae2e85ed6794ece744ee124d9ac7842?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/3457177/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1683, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1531288760, "creation_date": 1531248848, "question_id": 51272272, "link": "https://stackoverflow.com/questions/51272272/access-enum-value-inside-a-method-of-enum-class-in-kotlin", "title": "Access enum value inside a method of enum class in Kotlin", "body": "<p>I have enum class with method declared inside</p>\n\n<pre><code>enum class MyEnum {\n    VAL1, VAL2, VAL3;\n\n    fun myFunc(): Any{\n         // Here I want to access selected value\n         // VAL1 in my example\n    }\n}\n</code></pre>\n\n<p>I can call this method like this</p>\n\n<pre><code>MyEnum.VAL1.myFunc()\n</code></pre>\n\n<p>But is it possible inside <code>myFunc</code> to get the value method was called on? In my example it's <code>VAL1</code>. </p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5324912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfd9db746945135c9abdd23759ebc6?s=128&d=identicon&r=PG&f=1", "display_name": "Boris EKUE-HETTAH", "link": "https://stackoverflow.com/users/5324912/boris-ekue-hettah"}, "edited": false, "score": 0, "creation_date": 1531312028, "post_id": 51284560, "comment_id": 89548243, "body": "Am using ktor <b>0.9.3</b> with <b>Netty</b>"}, {"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "reply_to_user": {"reputation": 111, "user_id": 5324912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfd9db746945135c9abdd23759ebc6?s=128&d=identicon&r=PG&f=1", "display_name": "Boris EKUE-HETTAH", "link": "https://stackoverflow.com/users/5324912/boris-ekue-hettah"}, "edited": false, "score": 0, "creation_date": 1531312273, "post_id": 51284560, "comment_id": 89548407, "body": "Then you have to show more code so we can see what you are doing. My example works, so there probably is some issue with your code."}, {"owner": {"reputation": 111, "user_id": 5324912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfd9db746945135c9abdd23759ebc6?s=128&d=identicon&r=PG&f=1", "display_name": "Boris EKUE-HETTAH", "link": "https://stackoverflow.com/users/5324912/boris-ekue-hettah"}, "edited": false, "score": 0, "creation_date": 1531317354, "post_id": 51284560, "comment_id": 89552233, "body": "In fact I was  defining    <b>val userKey = AttributeKey&lt;User&gt;(&quot;userK&quot;)</b>    twice. First in the intercept() and then in the route hoping that they will point to the same key. Thanks @andreas-volkmann"}, {"owner": {"reputation": 370, "user_id": 11629002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b17ea95ff1935121623cc8204953c0?s=128&d=identicon&r=PG", "display_name": "Nikunj Chaklasiya", "link": "https://stackoverflow.com/users/11629002/nikunj-chaklasiya"}, "edited": false, "score": 0, "creation_date": 1581921926, "post_id": 51284560, "comment_id": 106584433, "body": "@AndreasVolkmann sir, Sorry I comment Here, I read your good article <a href=\"https://andreasvolkmann.github.io/posts/2018-04-27-m3u8-and-ts-segments/\" rel=\"nofollow noreferrer\">andreasvolkmann.github.io/posts/2018-04-27-m3u8-and-ts-segme&zwnj;&#8203;nts</a>. I&#39;m new to Kotlin and also encryption. I tried to find out a solution for AES-128 encryption in kotlin until the last month. But I didn&#39;t find any solution for this. my question is here <a href=\"https://stackoverflow.com/questions/60220798/delegate-for-android-videoview\" title=\"delegate for android videoview\">stackoverflow.com/questions/60220798/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": true, "score": 4, "last_activity_date": 1531309109, "creation_date": 1531309109, "answer_id": 51284560, "question_id": 51271993, "link": "https://stackoverflow.com/questions/51271993/how-to-pass-data-between-various-parts-of-the-pipeline-in-ktor-kotlin/51284560#51284560", "title": "How to pass data between various parts of the pipeline in Ktor (Kotlin)", "body": "<p>Here is the simplest code reproducing what you describe:</p>\n\n<pre><code>class KtorTest {\n\n    data class User(val name: String)\n\n    private val userKey = AttributeKey&lt;User&gt;(\"userK\")\n    private val expected = \"expected name\"\n\n    private val module = fun Application.() {\n        install(Routing) {\n            intercept(ApplicationCallPipeline.Call) {\n                println(\"intercept\")\n                call.attributes.put(userKey, User(expected))\n            }\n\n            get {\n                println(\"call\")\n                val user = call.attributes[userKey]\n                call.respond(user.name)\n            }\n\n        }\n    }\n\n    @Test fun `pass data`() {\n        withTestApplication(module) {\n            handleRequest {}.response.content.shouldNotBeNull() shouldBeEqualTo expected\n        }\n    }\n\n}\n</code></pre>\n\n<p>I intercept the call, put the user in the attributes, and finally respond with the user in the get request. \nThe test passes. </p>\n\n<p>What ktor version are you using and which engine?</p>\n"}], "owner": {"reputation": 111, "user_id": 5324912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfd9db746945135c9abdd23759ebc6?s=128&d=identicon&r=PG&f=1", "display_name": "Boris EKUE-HETTAH", "link": "https://stackoverflow.com/users/5324912/boris-ekue-hettah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 1, "accepted_answer_id": 51284560, "answer_count": 1, "score": 1, "last_activity_date": 1531309109, "creation_date": 1531247565, "last_edit_date": 1531247774, "question_id": 51271993, "link": "https://stackoverflow.com/questions/51271993/how-to-pass-data-between-various-parts-of-the-pipeline-in-ktor-kotlin", "title": "How to pass data between various parts of the pipeline in Ktor (Kotlin)", "body": "<p>Am building an API and using <code>intercept(ApplicationCallPipeline.Call){}</code> to run some logic before each route execution. I need to pass  data from the intercept() method to the called route and\nam setting data by using <code>call.attributes.put()</code> in the intercept() like this:</p>\n\n<p><code>val userKey= AttributeKey&lt;User&gt;(\"userK\")\n call.attributes.put(userKey, userData)</code></p>\n\n<p>And retrieve <strong>userData</strong> with <code>call.attributes[userKey]</code> .\nWhat happens is that <code>call.attributes[userKey]</code> only works in the intercept() method where I have set the attribute. It doesn't work in the route where I need it.\nIt throws me \n<code>java.lang.IllegalStateException: No instance for key AttributeKey: userK</code></p>\n\n<p>I wonder if am doing things in the right way</p>\n"}, {"tags": ["spring", "kotlin", "jvm", "klaxon"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1531247730, "post_id": 51271788, "comment_id": 89522126, "body": "You need to add a dependency on a newer version of <code>jackson-module-kotlin</code> (see answer to linked question)."}, {"owner": {"reputation": 2836, "user_id": 3529197, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ceed214a6e603c456a8ebaacc036b407?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3529197/neo"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1531248040, "post_id": 51271788, "comment_id": 89522253, "body": "@yole I added the dependency and it worked. Thank you so much! However, I still have no clue about why does adding it solves the problem and the answer linked isn&#39;t helpful about that either. Is there any explanation to this?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1531252733, "post_id": 51271788, "comment_id": 89524270, "body": "jackson-module-kotlin was using an internal Kotlin class that was moved to a different package in Kotlin 1.2.20. The new version refers to the class with the new package name."}], "owner": {"reputation": 2836, "user_id": 3529197, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ceed214a6e603c456a8ebaacc036b407?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3529197/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "closed_date": 1531247689, "answer_count": 0, "score": 0, "last_activity_date": 1531247031, "creation_date": 1531246656, "last_edit_date": 1531247031, "question_id": 51271788, "link": "https://stackoverflow.com/questions/51271788/kotlinreflectioninternalerror-when-compiling-klaxon-and-using-spring", "closed_reason": "Duplicate", "title": "KotlinReflectionInternalError when compiling Klaxon and using Spring", "body": "<p>I'm developing a web server with Kotlin and Spring and recently I decided to use <a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">Klaxon</a> to format data for some logging. I'm using IntelliJ and the Kotlin plugin is updated to version <code>1.2.51</code>.</p>\n\n<p>I added <code>compile 'com.beust:klaxon:3.0.1'</code> to my Gradle build file and let it sync, and when I run it the server crashed with a long stack trace ending with: <code>Caused by: java.lang.ClassNotFoundException: kotlin.reflect.KotlinReflectionInternalError</code>.  </p>\n\n<p>It happens even if I don't use Klaxon anywhere, on the server startup.  </p>\n\n<p>If I remove the <code>compile 'com.beust:klaxon:3.0.1'</code> bit it works again as usual.</p>\n\n<p>If I comment out the <code>SpringApplication.run(...)</code> bit it also works well.</p>\n\n<p>I just can't understand why does it happen. Any help would be much appreciated.</p>\n\n<p>Below: The full stack trace.</p>\n\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at MainKt.main(Main.kt:8) [classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:409) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'httpPutFormContentFilter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.filter.OrderedHttpPutFormContentFilter]: Factory method 'httpPutFormContentFilter' threw exception; nested exception is java.lang.NoClassDefFoundError: kotlin/reflect/KotlinReflectionInternalError\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$91/504858437.getObject(Unknown Source) ~[na:na]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:225) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:181) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:176) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:158) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:80) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:250) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:237) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext$$Lambda$252/752011518.onStartup(Unknown Source) ~[na:na]\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:54) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5245) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_45]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_45]\n    at java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_45]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.filter.OrderedHttpPutFormContentFilter]: Factory method 'httpPutFormContentFilter' threw exception; nested exception is java.lang.NoClassDefFoundError: kotlin/reflect/KotlinReflectionInternalError\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 26 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: kotlin/reflect/KotlinReflectionInternalError\n    at com.fasterxml.jackson.module.kotlin.KotlinModule.setupModule(KotlinModule.kt:44) ~[jackson-module-kotlin-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:751) ~[jackson-databind-2.9.5.jar:2.9.5]\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.registerWellKnownModulesIfAvailable(Jackson2ObjectMapperBuilder.java:766) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.configure(Jackson2ObjectMapperBuilder.java:624) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.http.converter.json.Jackson2ObjectMapperBuilder.build(Jackson2ObjectMapperBuilder.java:608) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.&lt;init&gt;(MappingJackson2HttpMessageConverter.java:59) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt;(AllEncompassingFormHttpMessageConverter.java:74) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.web.filter.HttpPutFormContentFilter.&lt;init&gt;(HttpPutFormContentFilter.java:64) ~[spring-web-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.filter.OrderedHttpPutFormContentFilter.&lt;init&gt;(OrderedHttpPutFormContentFilter.java:29) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration.httpPutFormContentFilter(WebMvcAutoConfiguration.java:163) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$$EnhancerBySpringCGLIB$$7b555945.CGLIB$httpPutFormContentFilter$0(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$$EnhancerBySpringCGLIB$$7b555945$$FastClassBySpringCGLIB$$79749137.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$$EnhancerBySpringCGLIB$$7b555945.httpPutFormContentFilter(&lt;generated&gt;) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_45]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_45]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_45]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_45]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: kotlin.reflect.KotlinReflectionInternalError\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_45]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_45]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_45]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_45]\n    ... 47 common frames omitted\n</code></pre>\n"}, {"tags": ["android", "kotlin", "singleton", "proguard", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1531244932, "last_edit_date": 1531244932, "creation_date": 1531244476, "answer_id": 51271287, "question_id": 51271286, "link": "https://stackoverflow.com/questions/51271286/proguard-generating-notes-for-all-instance-fields-with-kotlin-reflect/51271287#51271287", "title": "Proguard generating notes for all INSTANCE fields with kotlin-reflect", "body": "<p>The first line of the error tells us what's wrong here, it found that whatever <code>kotlin.reflect.jvm.internal.KClassImpl$Data$objectInstance$2</code> is, it's accessing a field named <code>INSTANCE</code> via reflection. Proguard can't tell which class it is that this code accesses the <code>INSTANCE</code> field of, so it warns us about every single class that has this field, just in case.</p>\n\n<p>If we look at the <a href=\"https://github.com/JetBrains/kotlin/blob/a58acdd537aadd9706927c11924897e506105a83/core/reflection.jvm/src/kotlin/reflect/jvm/internal/KClassImpl.kt\" rel=\"nofollow noreferrer\">source of <code>KClassImpl</code></a>, we'll find the <a href=\"https://github.com/JetBrains/kotlin/blob/a58acdd537aadd9706927c11924897e506105a83/core/reflection.jvm/src/kotlin/reflect/jvm/internal/KClassImpl.kt#L112\" rel=\"nofollow noreferrer\">culprit</a> quickly: it contains a property called <code>objectInstance</code>, which calls the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredField(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Class#getDeclaredField</code></a> method in some cases, passing in a constant with the value <code>\"INSTANCE\"</code> as the parameter. This is what Proguard is detecting.</p>\n\n<p>So, unless you have a singleton class, and you're accessing its instance via its <code>KClass</code>, like so:</p>\n\n<pre><code>val instance = MySingleton::class.objectInstance\n</code></pre>\n\n<p>You can ignore the Proguard note with the following rule added to your <code>proguard-rules.pro</code> file:</p>\n\n<pre><code>-dontnote kotlin.reflect.jvm.internal.KClassImpl$Data$objectInstance**\n</code></pre>\n\n<p>You can also end it precisely with <code>objectInstance$2</code>, but an implementation change in the library could change that positional number in the future. This way, you're ignoring all notes that would appear about the <code>objectInstance</code> property and its implementation.</p>\n"}], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 1, "accepted_answer_id": 51271287, "answer_count": 1, "score": 1, "last_activity_date": 1531244932, "creation_date": 1531244476, "question_id": 51271286, "link": "https://stackoverflow.com/questions/51271286/proguard-generating-notes-for-all-instance-fields-with-kotlin-reflect", "title": "Proguard generating notes for all INSTANCE fields with kotlin-reflect", "body": "<p>I've added the kotlin-reflect library to my Android project, and now Proguard is generating hundreds of lines of notes, listing all classes that have a field named <code>INSTANCE</code>, which of course includes every single Kotlin <code>object</code>.</p>\n\n<p>Here's just a short part of the Proguard output:</p>\n\n<pre><code>Note: kotlin.reflect.jvm.internal.KClassImpl$Data$objectInstance$2 accesses a declared field 'INSTANCE' dynamically\n      Maybe this is program field 'co.zsmb.example.proguardkttest.MySingleton { co.zsmb.example.proguardkttest.MySingleton INSTANCE; }'\n      Maybe this is program field 'kotlin.UNINITIALIZED_VALUE { kotlin.UNINITIALIZED_VALUE INSTANCE; }'\n      Maybe this is program field 'kotlin.Unit { kotlin.Unit INSTANCE; }'\n      Maybe this is program field 'kotlin._Assertions { kotlin._Assertions INSTANCE; }'\n      Maybe this is program field 'kotlin.collections.EmptyIterator { kotlin.collections.EmptyIterator INSTANCE; }'\n      Maybe this is program field 'kotlin.collections.EmptyList { kotlin.collections.EmptyList INSTANCE; }'\n      Maybe this is program field 'kotlin.collections.EmptyMap { kotlin.collections.EmptyMap INSTANCE; }'\n      Maybe this is program field 'kotlin.collections.EmptySet { kotlin.collections.EmptySet INSTANCE; }'\n      Maybe this is program field 'kotlin.comparisons.NaturalOrderComparator { kotlin.comparisons.NaturalOrderComparator INSTANCE; }'\n</code></pre>\n\n<p>As you can see, it includes both my own <code>MySingleton</code> class, as well as many classes from the Kotlin standard library, and it finds these fields in any other libraries too, if they're present.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1531250562, "post_id": 51271242, "comment_id": 89523333, "body": "You can&#39;t suspend any calls running on the main thread, You need to get by with a callback interface."}, {"owner": {"reputation": 2814, "user_id": 1542720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6b161703892a5913f7dac6e192a7f5a3?s=128&d=identicon&r=PG", "display_name": "Adnan Mulla", "link": "https://stackoverflow.com/users/1542720/adnan-mulla"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1531273650, "post_id": 51271242, "comment_id": 89530077, "body": "@Pawel - So essentially, I will either have to write launch in my UI code or fallback to an interface callback mechanism, right ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1533405565, "post_id": 51271242, "comment_id": 90338382, "body": "The difference between regular and suspending function is not just formal or an implementation detail: it changes the semantics of your program. With sync code, you know all the operations it does are performed before any other UI event handlers are called. You lose that atomicity with async code and enter the world of &quot;async hell&quot; where your event handlers are running concurrently to each other."}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 2, "last_activity_date": 1531379651, "creation_date": 1531379651, "answer_id": 51299401, "question_id": 51271242, "link": "https://stackoverflow.com/questions/51271242/kotlin-co-routines-return-a-value-from-co-routine-without-blocking-main-thread/51299401#51299401", "title": "Kotlin Co-Routines - Return a value from Co-routine without blocking main thread Android", "body": "<p>You cannot return result of an asynchronous operation from a regular function like <code>getResponseString</code>. Regular functions don't have this capability of suspending execution without blocking the thread they have been invoked on. That is why Kotlin has to introduce a concept of \"suspending function\", so you can write:</p>\n\n<pre><code>suspend fun getResponseString(): String {\n    val v1 = someDeferredType \n    val v2 = v1.await()\n    val v3 = v2.text\n    return v3\n}\n</code></pre>\n\n<p>The idea that you add <code>suspend</code> modifier to all your asynchronous functions (functions that has to wait for something but should not block UI thread) and then use <code>launch(UI) { ... }</code> only at the very top level where you need to initiate some self-contained asynchronous operation.</p>\n\n<p>P.S. Also coroutines are spelled \"coroutines\". It is one word and there is no dash. See <a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"nofollow noreferrer\">wikipedia</a>, for example.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1533407346, "last_edit_date": 1533407346, "creation_date": 1533406681, "answer_id": 51688418, "question_id": 51271242, "link": "https://stackoverflow.com/questions/51271242/kotlin-co-routines-return-a-value-from-co-routine-without-blocking-main-thread/51688418#51688418", "title": "Kotlin Co-Routines - Return a value from Co-routine without blocking main thread Android", "body": "<p>The difference between a regular and a suspending function is not just an implementation detail: it changes the semantics of your program. With sync code, you know all the operations it does are performed before any other UI event handlers are called. You lose that atomicity with async code and enter the world of \"async hell\" where your event handlers are running concurrently to each other.</p>\n\n<p>Kotlin makes this fact explicit, and that's great: as long as your code path doesn't enter a coroutine builder, you know you have the guarantee of atomicity. You must always choose wisely where to lose it because once you do, the complexity of all the rest of your program rises.</p>\n\n<p>When you write</p>\n\n<pre><code>override fun onSomething() {\n   val v0 = getV0()\n   launch(UI) { \n        val v1 = getV1Async()\n        val v2 = v1.await()\n        useV2ToUpdateTheGUI(v2)\n   }\n   val v4 = getV4()\n}\n</code></pre>\n\n<p>this will be the order of execution of your handler code:</p>\n\n<ol>\n<li><code>v0 = getV0()</code></li>\n<li><code>v4 = getV4()</code></li>\n<li><code>onSomething</code> handler returns</li>\n<li>some other handlers run</li>\n<li><code>v1 = getV1Async()</code></li>\n<li>some other handlers run</li>\n<li><code>v2 = v1.await()</code></li>\n<li><code>useV2ToUpdateTheGUI(v2)</code></li>\n</ol>\n\n<p>An uncontrolled amount of unknown code will run after your <code>onSomething</code> handler returns at 3. above. Most notoriously, your own handlers run, and none are allowed to assume that all the operations initiated in <code>onSomething</code> are done. Whenever you want to use the value of <code>v2</code>, you must add code to decide what to do if it's still not ready.</p>\n\n<p>You can hide the <code>launch</code> call behind a <code>fun</code> that <code>onSomething</code> calls, but then you'll have to carefully explain in the comments/docs that this function just fires off a concurrent task. Naturally, you won't be able to use the result of that task in the body of the handler.</p>\n\n<p>My experience is that you should either have the <code>launch(UI)</code> explicitly in the handler or you should name your method <code>launchFooBar()</code>.</p>\n"}], "owner": {"reputation": 2814, "user_id": 1542720, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6b161703892a5913f7dac6e192a7f5a3?s=128&d=identicon&r=PG", "display_name": "Adnan Mulla", "link": "https://stackoverflow.com/users/1542720/adnan-mulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2448, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1552981562, "creation_date": 1531244282, "last_edit_date": 1552981562, "question_id": 51271242, "link": "https://stackoverflow.com/questions/51271242/kotlin-co-routines-return-a-value-from-co-routine-without-blocking-main-thread", "title": "Kotlin Co-Routines - Return a value from Co-routine without blocking main thread Android", "body": "<p>I am relatively new to Co-Routines and I am trying get the behaviour what the Launch co-routine would accomplish :</p>\n\n<pre><code>launch(UI) { \n\n     val v1 = someDeferredType \n     val v2 = v1.await()\n     val v3 = v2.text\n\n} \n</code></pre>\n\n<p>In the above example v3 will wait for v2 to execute and then run while not blocking the main thread. While this is great, this brings in the Deferred Type and Co-routine logic in my Calling Activity/Fragment. </p>\n\n<p>I would like to keep my Activity/Fragment free from specific implementation details, something like this : </p>\n\n<pre><code> fun getResponseString() : String {\n\n     launch(UI) { \n\n           val v1 = someDeferredType \n           val v2 = v1.await()\n           val v3 = v2.text\n\n      } \n\n      return v3 //This is the actual String which I need to be returned\n }\n</code></pre>\n\n<p>So that I can just call getResponseString() like a regular function from my activity.</p>\n\n<p>The only option I have come across so far is to use runBlocking co-routine but thats blocks the main thread altogether unlike launch. </p>\n\n<p>Maybe I am missing something or is it not possible to do something like this using Co-routines in Kotlin ? </p>\n"}, {"tags": ["spring", "spring-boot", "properties", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "is_accepted": true, "score": 7, "last_activity_date": 1592562457, "last_edit_date": 1592562457, "creation_date": 1531244932, "answer_id": 51271385, "question_id": 51270135, "link": "https://stackoverflow.com/questions/51270135/spring-boot-with-kotlin-value-annotation-not-working-as-expected/51271385#51271385", "title": "Spring Boot with Kotlin - @Value annotation not working as expected", "body": "<p>The issue is that you are creating the instance of <code>AppConfig</code> yourself via the constructor:</p>\n\n<blockquote>\n<pre><code>val config = AppConfig()\n</code></pre>\n</blockquote>\n\n<p>While this class might have Spring annotations, it is NOT spring managed if you create the instance yourself.</p>\n\n<p>I recommend you borrow from the <a href=\"https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin#property-placeholders\" rel=\"nofollow noreferrer\">link you mentioned in my other</a> answer.  There are good examples of using SpringBoot to create a Spring application for you.  Below I created a 'merged' example of your test + an example from the link.  There is no need to specify a properties file, as <code>application.properties</code> is used as a property source by default.</p>\n\n<pre><code>@SpringBootApplication\nclass AppConfig {\n    @Value(\"\\${test.prop}\")\n    val testProperty: String? = null\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val appContext = SpringApplication.run(AppConfig::class.java, *args)\n    val config = appContext.getBean(AppConfig::class.java)\n    System.out.println(config.testProperty)\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 2879021, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000731128152/picture?type=large", "display_name": "Adriano Todaro", "link": "https://stackoverflow.com/users/2879021/adriano-todaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12346, "favorite_count": 1, "accepted_answer_id": 51271385, "answer_count": 1, "score": 7, "last_activity_date": 1592562457, "creation_date": 1531239889, "last_edit_date": 1531243326, "question_id": 51270135, "link": "https://stackoverflow.com/questions/51270135/spring-boot-with-kotlin-value-annotation-not-working-as-expected", "title": "Spring Boot with Kotlin - @Value annotation not working as expected", "body": "<p>I'm developing a Spring boot application using Kotlin. Since I need to connect to an external API (cloudinary) I decided to add to my app a configuration class in order to store (and hide from VCS) my sensible data like username, passwords or API keys.</p>\n\n<p>So this is what i did:</p>\n\n<p>I created a Config class:</p>\n\n<pre><code>package demons\n\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.context.annotation.PropertySource\n\n@Configuration\n@PropertySource(\"classpath:application.properties\")\nclass AppConfig {\n    @Value(\"\\${test.prop}\")\n    val testProperty: String? = null\n}\n</code></pre>\n\n<p>Then I added a test.prop entry in my application.properties file</p>\n\n<pre><code>test.prop=TEST\n</code></pre>\n\n<p>However, in every test I run, after creating an instance of AppConfig, his testProperty attribute is <code>null</code> instead of being the string <code>TEST</code>.</p>\n\n<p>For instance this snippet:</p>\n\n<pre><code>val config = AppConfig()\nSystem.out.println(config.testProperty)\n</code></pre>\n\n<p>would print out:</p>\n\n<pre><code>null\n</code></pre>\n\n<p>I've also tried using a separate .properties file instead of the default one like <code>myproperties.properties</code> and declaring the variable as <code>lateinit var</code>. In this last case the variable seems to never be initialized:</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property testProperty has not been initialized\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["scala", "kotlin"], "comments": [{"owner": {"reputation": 3067, "user_id": 297167, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/10b18603240f6d098573e1a2e0bddf83?s=128&d=identicon&r=PG", "display_name": "Feyyaz", "link": "https://stackoverflow.com/users/297167/feyyaz"}, "edited": false, "score": 0, "creation_date": 1531265690, "post_id": 51270114, "comment_id": 89528536, "body": "Sealed traits are not enums, but it can be used to achieve an enum-like behavior (<a href=\"https://pedrorijo.com/blog/scala-enums/\" rel=\"nofollow noreferrer\">almost</a>)."}, {"owner": {"reputation": 741, "user_id": 1359924, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uE0Hz.jpg?s=128&g=1", "display_name": "drusolis", "link": "https://stackoverflow.com/users/1359924/drusolis"}, "reply_to_user": {"reputation": 3067, "user_id": 297167, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/10b18603240f6d098573e1a2e0bddf83?s=128&d=identicon&r=PG", "display_name": "Feyyaz", "link": "https://stackoverflow.com/users/297167/feyyaz"}, "edited": false, "score": 0, "creation_date": 1531337970, "post_id": 51270114, "comment_id": 89563717, "body": "Corrected the description. I don&#39;t know Scala, the devs on my team use it, while I automate tests in Kotlin. Thanks for the info."}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1574499678, "post_id": 51270114, "comment_id": 104261262, "body": "Refer to <a href=\"https://stackoverflow.com/q/44149474/6521116\">Why does this Kotlin method have enclosing backticks?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 741, "user_id": 1359924, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uE0Hz.jpg?s=128&g=1", "display_name": "drusolis", "link": "https://stackoverflow.com/users/1359924/drusolis"}, "is_accepted": true, "score": 2, "last_activity_date": 1531239784, "creation_date": 1531239784, "answer_id": 51270115, "question_id": 51270114, "link": "https://stackoverflow.com/questions/51270114/how-do-i-call-scala-sealed-traits-from-kotlin/51270115#51270115", "title": "How do I call Scala sealed traits from Kotlin?", "body": "<p>Backticks are your friends here!</p>\n\n<p>Kotlin</p>\n\n<pre><code>import com.example.`Yes$`\n`Yes$`.`MODULE$`\n</code></pre>\n"}], "owner": {"reputation": 741, "user_id": 1359924, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uE0Hz.jpg?s=128&g=1", "display_name": "drusolis", "link": "https://stackoverflow.com/users/1359924/drusolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 51270115, "answer_count": 1, "score": 2, "last_activity_date": 1531337914, "creation_date": 1531239784, "last_edit_date": 1531337914, "question_id": 51270114, "link": "https://stackoverflow.com/questions/51270114/how-do-i-call-scala-sealed-traits-from-kotlin", "title": "How do I call Scala sealed traits from Kotlin?", "body": "<p>From what I've read, Scala sealed traits can be used for ENUM like behavior, but they are not as intuitive to use in Java or Kotlin.</p>\n\n<p>Scala code (and <a href=\"https://www.youtube.com/watch?v=9-K5gDJlTVk\" rel=\"nofollow noreferrer\">Suzy MV</a>)</p>\n\n<pre><code>package com.example\n\nsealed trait Answer\ncase object Yes extends Answer\ncase object No extends Answer\ncase object Maybe extends Answer\n</code></pre>\n\n<p>Java code to call above Scala</p>\n\n<pre><code>import com.example.Yes$;\nYes$ myAnswer = Yes$.MODULE$;\n</code></pre>\n\n<p>How do you call this in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-tablayout"], "comments": [{"owner": {"reputation": 2823, "user_id": 284308, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2c8a794aa76ea553382198aa9d4f9b36?s=128&d=identicon&r=PG", "display_name": "Prexx", "link": "https://stackoverflow.com/users/284308/prexx"}, "edited": false, "score": 0, "creation_date": 1531238927, "post_id": 51269840, "comment_id": 89517917, "body": "Did you try <code>viewpager_main.adapter = fragmentAdapter</code> ?"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 1, "creation_date": 1531239327, "post_id": 51269840, "comment_id": 89518129, "body": "Post your log error"}, {"owner": {"reputation": 51, "user_id": 10055087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJ3wTp-s1oc/AAAAAAAAAAI/AAAAAAAAA88/kFtVwGuhG-Y/photo.jpg?sz=128", "display_name": "Tayyab Ali", "link": "https://stackoverflow.com/users/10055087/tayyab-ali"}, "edited": false, "score": 0, "creation_date": 1531241015, "post_id": 51269840, "comment_id": 89518976, "body": "yes i tried but not working"}, {"owner": {"reputation": 51, "user_id": 10055087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJ3wTp-s1oc/AAAAAAAAAAI/AAAAAAAAA88/kFtVwGuhG-Y/photo.jpg?sz=128", "display_name": "Tayyab Ali", "link": "https://stackoverflow.com/users/10055087/tayyab-ali"}, "edited": false, "score": 0, "creation_date": 1531242776, "post_id": 51269840, "comment_id": 89519825, "body": "Unresolved reference: swing\t Type mismatch: inferred type is TabLayout! but Int was expected"}, {"owner": {"reputation": 51, "user_id": 10055087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJ3wTp-s1oc/AAAAAAAAAAI/AAAAAAAAA88/kFtVwGuhG-Y/photo.jpg?sz=128", "display_name": "Tayyab Ali", "link": "https://stackoverflow.com/users/10055087/tayyab-ali"}, "edited": false, "score": 0, "creation_date": 1531243835, "post_id": 51269840, "comment_id": 89520365, "body": "07-10 21:52:10.373 4448-4448/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system"}], "owner": {"reputation": 51, "user_id": 10055087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJ3wTp-s1oc/AAAAAAAAAAI/AAAAAAAAA88/kFtVwGuhG-Y/photo.jpg?sz=128", "display_name": "Tayyab Ali", "link": "https://stackoverflow.com/users/10055087/tayyab-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531240455, "creation_date": 1531238732, "last_edit_date": 1531240455, "question_id": 51269840, "link": "https://stackoverflow.com/questions/51269840/adding-icons-to-tabs-in-tablelayout-using-kotlin", "title": "Adding Icons to Tabs in TableLayout Using Kotlin", "body": "<p>I am having trouble in adapter line no 3 after updating android studio version. The same code worked for previous version, but now it is giving an error in the adapter.  </p>\n\n<pre><code>val fragmentAdapter=  MyPagerAdapter(supportFragmentManager)\n            val tabs = findViewById&lt;View&gt;(R.id.tab_layout) as TabLayout\n            viewpager_main.adapter(fragmentAdapter)\n            tabs.setupWithViewPager(viewpager_main)\n            tabs.getTabAt(0)!!.setIcon(R.drawable.ic_library_books)\n            tabs.getTabAt(1)!!.setIcon(R.drawable.ic_dashboard)\n            tabs.getTabAt(2)!!.setIcon(R.drawable.ic_person)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "icons", "material-design", "android-chips"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1570270156, "post_id": 51268640, "comment_id": 102865608, "body": "What is @style/ChipStyle ?"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 9129663, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-Zhbhsh2gVbo/AAAAAAAAAAI/AAAAAAAAJvY/zNCGLjbFB-I/photo.jpg?sz=128", "display_name": "Aden Diamond", "link": "https://stackoverflow.com/users/9129663/aden-diamond"}, "is_accepted": false, "score": 1, "last_activity_date": 1553246903, "creation_date": 1553246903, "answer_id": 55296532, "question_id": 51268640, "link": "https://stackoverflow.com/questions/51268640/cannot-add-icon-in-a-chip/55296532#55296532", "title": "Cannot add icon in a Chip", "body": "<p>If your style <code>@style/ChipStyle</code> contains\n<code>style=\"@style/Widget.MaterialComponents.Chip.Choice\"</code> or <code>style=\"@style/Widget.MaterialComponents.Chip.Filter\"</code>, the icon will not show. I don't know what Google's reasoning is for this but I think is pretty silly.</p>\n"}, {"tags": [], "owner": {"reputation": 858, "user_id": 5373017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eQhMv.png?s=128&g=1", "display_name": "el2e10", "link": "https://stackoverflow.com/users/5373017/el2e10"}, "is_accepted": false, "score": 4, "last_activity_date": 1575008418, "creation_date": 1575008418, "answer_id": 59099655, "question_id": 51268640, "link": "https://stackoverflow.com/questions/51268640/cannot-add-icon-in-a-chip/59099655#59099655", "title": "Cannot add icon in a Chip", "body": "<p>Try adding <code>app:chipIconEnabled=\"true\"</code> to your chip style . </p>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 192453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959343553de7e7fe31683ae80de5e24b?s=128&d=identicon&r=PG", "display_name": "blebleble", "link": "https://stackoverflow.com/users/192453/blebleble"}, "is_accepted": false, "score": 2, "last_activity_date": 1606988339, "creation_date": 1606988339, "answer_id": 65123319, "question_id": 51268640, "link": "https://stackoverflow.com/questions/51268640/cannot-add-icon-in-a-chip/65123319#65123319", "title": "Cannot add icon in a Chip", "body": "<p>Actually since <code>app:chipIconEnabled</code> is deprecated it has to be <code>app:chipIconVisible=&quot;true&quot;</code> now.</p>\n"}], "owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1595, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1606988339, "creation_date": 1531235164, "question_id": 51268640, "link": "https://stackoverflow.com/questions/51268640/cannot-add-icon-in-a-chip", "title": "Cannot add icon in a Chip", "body": "<p>I have implemented 3 <code>Chip</code> within a <code>ChipGroup</code> in my application successfully, but I am having trouble making an icon at the left appear.</p>\n\n<pre><code>&lt;android.support.design.chip.ChipGroup\n    android:id=\"@+id/chip_group\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_marginTop=\"32dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/img_announcement_photo\"\n    app:singleLine=\"true\"\n    app:singleSelection=\"true\"&gt;\n\n    &lt;android.support.design.chip.Chip\n        android:id=\"@+id/chip_donate\"\n        style=\"@style/ChipStyle\"\n        android:checked=\"true\"\n        app:chipIcon=\"@drawable/ic_donate_black_24dp\" /&gt;\n\n    &lt;android.support.design.chip.Chip\n        android:id=\"@+id/chip_sell\"\n        style=\"@style/ChipStyle\"\n        app:chipIcon=\"@drawable/ic_sell_black_24dp\" /&gt;\n\n    &lt;android.support.design.chip.Chip\n        android:id=\"@+id/chip_trade\"\n        style=\"@style/ChipStyle\"\n        app:chipIcon=\"@drawable/ic_trade_black_24dp\" /&gt;\n&lt;/android.support.design.chip.ChipGroup&gt;\n</code></pre>\n\n<p>But it doesn't show. I've tried programmatically as well, but no success. I am not yet using the new namespace, but the old <code>com.android.support:design:28.0.0-alpha3</code> because I am also using Google Maps, and it is not yet supported by <code>androidx.*</code>.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1531238292, "post_id": 51268620, "comment_id": 89517556, "body": "Never use !! with Kotlin. Never."}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 0, "creation_date": 1531248928, "post_id": 51268620, "comment_id": 89522651, "body": "You can use <a href=\"https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter\" rel=\"nofollow noreferrer\">ListAdapter</a> from the support library, it handles diffing on a background thread for you."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1531290975, "post_id": 51268620, "comment_id": 89534890, "body": "@Demigod well there are times when it makes sense but generally no"}], "answers": [{"comments": [{"owner": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "edited": false, "score": 0, "creation_date": 1531295641, "post_id": 51268794, "comment_id": 89537401, "body": "what library are you referring to ?"}, {"owner": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "reply_to_user": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "edited": false, "score": 0, "creation_date": 1531295802, "post_id": 51268794, "comment_id": 89537514, "body": "@ZeyadGasser rxjava"}], "tags": [], "owner": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "is_accepted": false, "score": 1, "last_activity_date": 1531235605, "creation_date": 1531235605, "answer_id": 51268794, "question_id": 51268620, "link": "https://stackoverflow.com/questions/51268620/diffutil-callback-resulting-in-index-out-of-bounds-exception/51268794#51268794", "title": "DiffUtil Callback resulting in index out of bounds exception", "body": "<p><code>DiffUtils</code> compares two objects that is not empty.\nSo if the <code>newList</code> and <code>oldList</code> are either empty call <code>notifyDataSetChanged()</code> instead of calling <code>DiffUtil</code></p>\n\n<p>I'm not familiar with the library you used, but I've already encounter this kind of problem before.</p>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 1714102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc0da4a2535695cffdbd66719b58a28?s=128&d=identicon&r=PG", "display_name": "Przemo", "link": "https://stackoverflow.com/users/1714102/przemo"}, "is_accepted": false, "score": 0, "last_activity_date": 1599810999, "last_edit_date": 1599810999, "creation_date": 1599486779, "answer_id": 63778944, "question_id": 51268620, "link": "https://stackoverflow.com/questions/51268620/diffutil-callback-resulting-in-index-out-of-bounds-exception/63778944#63778944", "title": "DiffUtil Callback resulting in index out of bounds exception", "body": "<p>I observed the bug for:</p>\n<pre><code>adapter.items = newItems\nval result = DiffUtil.calculateDiff(\n    AllModulesDiffUtilsCallback(oldItems, newItems)\n)\nresult.dispatchUpdatesTo(this)\n</code></pre>\n<p>and overriden <code>Adapter#setItems()</code>:</p>\n<pre><code>override fun setItems(items: List&lt;RecyclerItem&gt;) {\n    this.items = when (state) {\n        State.COLLAPSED -&gt; items.take(4)\n        State.EXPANDED -&gt; items\n    }\n}\n</code></pre>\n<p>Exception happened, because <code>adapter#items</code> count is different than <code>newItems</code> for <code>COLLAPSED</code>, after such operation. They should be the same data though.</p>\n<p>Apart from that, watch out for <code>override fun getItemCount(): Int</code> - overriding it may have similar effect.</p>\n"}], "owner": {"reputation": 1286, "user_id": 1311008, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/8PhPH.jpg?s=128&g=1", "display_name": "Zeyad Gasser", "link": "https://stackoverflow.com/users/1311008/zeyad-gasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1599810999, "creation_date": 1531235094, "question_id": 51268620, "link": "https://stackoverflow.com/questions/51268620/diffutil-callback-resulting-in-index-out-of-bounds-exception", "title": "DiffUtil Callback resulting in index out of bounds exception", "body": "<p>I am currently developing a list of items that has 4 fields that can be edited with an autocomplete feature. The underlying data structure is a list of pairs of the 4 fields and their autocomplete suggestions. Before the user edits the suggestions are empty once the user edits a request is fired and i use a diffutil to detect &amp; dispatch the changes to the adapter. I am using the redux/mvi pattern, so i calculate the diffutil call back in the view model then pass a pair to my activity to just dispatch the changes. \nTime for some code and error snippets :)</p>\n\n<p>Error:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder{88b1b52 position=5 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} android.support.v7.widget.RecyclerView{c60ba82 VFED..... ......I. 11,11-1069,990 #7f0900ba app:id/rv_suggestions}, adapter:com.accenture.shiny.screens.classify.ClassifyActivity$setupRecyclerView$1@8f3593, layout:android.support.v7.widget.LinearLayoutManager@1fec9d0, context:com.accenture.shiny.screens.classify.ClassifyActivity@9caa09a\n</code></pre>\n\n<p>DiffUtil:</p>\n\n<pre><code>class ClassificationDiffCallback(private val oldList: Pair&lt;MutableList&lt;ItemInfo&gt;, AutoCompleteResponse&gt;,\n                             private val newList: Pair&lt;MutableList&lt;ItemInfo&gt;, AutoCompleteResponse&gt;) : DiffUtil.Callback() {\n\noverride fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int) =\n        oldList.first!![oldItemPosition].getData&lt;Classification&gt;().id == newList.first!![newItemPosition].getData&lt;Classification&gt;().id\n\n\noverride fun getOldListSize() = oldList.first?.size!!\n\n\noverride fun getNewListSize() = newList.first?.size!!\n\n\noverride fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int) =\n        newList.first!![newItemPosition].getData&lt;Pair&lt;Classification, AutoCompleteResponse&gt;&gt;() == oldList.first!![oldItemPosition].getData&lt;Pair&lt;Classification, AutoCompleteResponse&gt;&gt;()\n\n\noverride fun getChangePayload(oldItemPosition: Int, newItemPosition: Int): Any? {\n    return newList.first!![newItemPosition].getData&lt;Pair&lt;Classification, AutoCompleteResponse&gt;&gt;().second\n}\n}\n</code></pre>\n\n<p>ViewModel state reduction:</p>\n\n<pre><code> val currentEditableState = (currentState as EditableClassifyState)\n                    val list = currentEditableState.classificationsItemInfoDiffResultPair.first\n                    EditableClassifyState(calculateClassificationsDiffResultPair(\n                            Observable.fromIterable(list ?: mutableListOf())\n                                    .map { itemInfo -&gt;\n                                        val classification = when (itemInfo.getData&lt;Any&gt;()) {\n                                            is Pair&lt;*, *&gt; -&gt; itemInfo.getData&lt;Pair&lt;Any, DiffUtil.DiffResult&gt;&gt;().first\n                                            else -&gt; Unit\n                                        }\n                                        ItemInfo(Pair(classification, result),\n                                                if (classification === Unit) R.layout.manual_classification else R.layout.classification_item_layout)\n                                                .setId((classification as? Classification)?.id\n                                                        ?: 0)\n                                    }.toList().blockingGet(), result))\n\n\nfun calculateClassificationsDiffResultPair(list: MutableList&lt;ItemInfo&gt;, result: AutoCompleteResponse = AutoCompleteResponse()): Pair&lt;MutableList&lt;ItemInfo&gt;, DiffUtil.DiffResult&gt; {\n    return Flowable.fromArray(list)\n            .scan(Pair(mutableListOf(), DiffUtil.calculateDiff(ClassificationDiffCallback(Pair(mutableListOf(), AutoCompleteResponse()), Pair(mutableListOf(), AutoCompleteResponse())))))\n            { state: Pair&lt;MutableList&lt;ItemInfo&gt;, DiffUtil.DiffResult&gt;, next: MutableList&lt;ItemInfo&gt; -&gt;\n                Pair(next, DiffUtil.calculateDiff(ClassificationDiffCallback(Pair(state.first, result), Pair(next, result))))\n            }\n            .skip(1)\n            .blockingFirst()\n}\n</code></pre>\n\n<p>Any help would be appreciated thanks in advance.</p>\n"}, {"tags": ["java", "user-interface", "javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "edited": false, "score": 0, "creation_date": 1531237018, "post_id": 51268675, "comment_id": 89516762, "body": "Thank you! Adding a View/Fragment to a Node means making that View/Fragment display when the node is displayed, right? And that&#39;s different fro putting a Node in a View/Fragment."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "edited": false, "score": 0, "creation_date": 1531238019, "post_id": 51268675, "comment_id": 89517410, "body": "That&#39;s basically correct, yes. There is absolutely no magic - the root Node is just added to the children list. Nothing more, nothing less :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 0, "last_activity_date": 1531235280, "creation_date": 1531235280, "answer_id": 51268675, "question_id": 51267163, "link": "https://stackoverflow.com/questions/51267163/what-is-the-structure-of-a-window-in-tornadofx/51268675#51268675", "title": "What is the structure of a window in tornadofx?", "body": "<p>A View or Fragment, or any UIComponent sub type, is a container for a root Node, which can be attached to anything a Node normally can be attached to. Think of View/Fragment as a Controller for the UI logic of a certain root node and it's children. With the builder syntax, you can \"add\" a View or Fragment to a Node. What happens under the covers is quite simply that the <code>root</code> node of the View is attached to the <code>children</code> list of the Node you add it to.</p>\n"}], "owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 51268675, "answer_count": 1, "score": 0, "last_activity_date": 1531235280, "creation_date": 1531230955, "question_id": 51267163, "link": "https://stackoverflow.com/questions/51267163/what-is-the-structure-of-a-window-in-tornadofx", "title": "What is the structure of a window in tornadofx?", "body": "<p>So in javafx, windows of UI's are made like this: nodes inside scenes inside a stage. Sometimes nodes get nested inside other nodes.\n<a href=\"https://i.stack.imgur.com/gzYps.png\" rel=\"nofollow noreferrer\">the structure of a javafx ui</a>\nI know that in tornadofx, there are still nodes. They still nest inside each other. HBox, datagrid, etc.\nBut in tornadofx, we use fragments and views. They are \"UI elements\", according to the manual. What are these? Are they nodes? Stages?\nThanks!</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-theme"], "answers": [{"tags": [], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1531238348, "creation_date": 1531238348, "answer_id": 51269720, "question_id": 51266655, "link": "https://stackoverflow.com/questions/51266655/force-theme-change-as-observable-action/51269720#51269720", "title": "Force theme change as observable action", "body": "<p>Add an onGlobalLayoutListener to your view to ensure that the layout is inflated before setting the theme on it:</p>\n\n<p><a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener</a></p>\n"}], "owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531238348, "creation_date": 1531229507, "question_id": 51266655, "link": "https://stackoverflow.com/questions/51266655/force-theme-change-as-observable-action", "title": "Force theme change as observable action", "body": "<p>I am trying to implement a theme change in Android since I need to change the look and feel of the whole application dynamically as a result of some asynchronous action.</p>\n\n<p>I have several themes like this:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"preferenceTheme\"&gt;@style/PreferenceThemeOverlay.v14.Material&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"YellowTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorYellowLight&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorYellowDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"preferenceTheme\"&gt;@style/PreferenceThemeOverlay.v14.Material&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"GreenTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorGreenLight&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorGreenDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"preferenceTheme\"&gt;@style/PreferenceThemeOverlay.v14.Material&lt;/item&gt;\n &lt;/style&gt; \n</code></pre>\n\n<p>and I am using <code>MutableLiveData</code> to store some object which is used as a basis for the theme change:</p>\n\n<pre><code>val dayTypeDTO = MutableLiveData&lt;DayTypeDTO&gt;()\n</code></pre>\n\n<p>I am then observing this object and when it's value changes, I need to change the app theme:</p>\n\n<pre><code>cache.dayTypeDTO.observe(this, Observer { dto -&gt;\n            if (dto != null) setTheme(dto.theme)\n})\n</code></pre>\n\n<p>The problem is that the theme change should happen after the view is inflated. Otherwise, it is not applied. But since I am registering the observers after the view is created and due to the dynamic change which cannot be predicted, I cannot really do it this way.</p>\n\n<p>I know I can call <code>activity.recreate()</code> but this just results in an infinite loop.</p>\n\n<p>Can someone suggest how to achieve this theme change so all components using <code>colorPrimary</code> are updated as a result of this observable action? Preferably other then changing them manually one by one.</p>\n"}, {"tags": ["android", "kotlin", "async-await", "coroutine", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1531229343, "post_id": 51266460, "comment_id": 89511107, "body": "<code>launch(UI) { showSplash(); delay(someSeconds); sendUserToHomeScreen() }</code>"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1531229585, "post_id": 51266460, "comment_id": 89511290, "body": "Hi, if your app is an android app, please add &quot;android&quot; tag to your question."}, {"owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "edited": false, "score": 0, "creation_date": 1531229930, "post_id": 51266460, "comment_id": 89511529, "body": "Can we use it without delay? For example, all data are fetch in 1sec and we have put delay of 3sec, so there is wastage of 2sec."}, {"owner": {"reputation": 105, "user_id": 2063836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a482fd4758471ae78ff73e4c1837461?s=128&d=identicon&r=PG", "display_name": "Iyyanarappan", "link": "https://stackoverflow.com/users/2063836/iyyanarappan"}, "edited": false, "score": 0, "creation_date": 1531230360, "post_id": 51266460, "comment_id": 89511858, "body": "Yes you can start the API call in onCreate, then wait for the response and then navigate the user to home screen ."}, {"owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "edited": false, "score": 0, "creation_date": 1531230749, "post_id": 51266460, "comment_id": 89512160, "body": "I am calling API in onCreate, but I want to know how to use suspend function of kotlin or async/await in koltin so that I can navigate to other screen as soon as possible."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "edited": false, "score": 0, "creation_date": 1531763142, "post_id": 51267401, "comment_id": 89707179, "body": "Well, AsyncTask is also a way, but I want to do it with the basic kotlin co-routine library (experimental one), to understand deeply how co-routine works"}], "tags": [], "owner": {"reputation": 105, "user_id": 2063836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a482fd4758471ae78ff73e4c1837461?s=128&d=identicon&r=PG", "display_name": "Iyyanarappan", "link": "https://stackoverflow.com/users/2063836/iyyanarappan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531231682, "creation_date": 1531231682, "answer_id": 51267401, "question_id": 51266460, "link": "https://stackoverflow.com/questions/51266460/use-of-suspend-function-in-android-splash-screen/51267401#51267401", "title": "Use of suspend function in android splash screen", "body": "<p>When you are working with Kotlin in Android, a library we can\u2019t miss is <a href=\"https://antonioleiva.com/anko-background-kotlin-android/\" rel=\"nofollow noreferrer\">Anko</a>.</p>\n\n<p>Here i added snippet of code</p>\n\n<pre><code>async {\n    val result = URL(\"&lt;api call&gt;\").readText()\n    uiThread { \n        Log.d(\"Request\", result)\n        longToast(\"Request performed\") \n    }\n}\n</code></pre>\n\n<p>or else you can go with plain AsyncTask</p>\n\n<pre><code>class GetWeatherAsyncTask : AsyncTask&lt;Params, Progress, Result&gt;() {\n\n    override fun onPreExecute() {\n        // Before doInBackground\n    }\n\n    override fun doInBackground(vararg params: Params?): Progress {\n        // ...\n        publishProgress(progressResult)\n\n        return result\n    }\n\n    override fun onProgressUpdate(vararg values: Progress?) {\n       // use progressResult to do things such as updating UI...\n    }\n\n    override fun onPostExecute(result: Result?) {\n        // Done: use result which is returned from doInBackground()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "edited": false, "score": 1, "creation_date": 1531763270, "post_id": 51267810, "comment_id": 89707239, "body": "Can we solve it using kotlin co-routine library(experimental)? Using suspend function on network call."}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1541003038, "post_id": 51267810, "comment_id": 93072932, "body": "How about without anko?"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "reply_to_user": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1541003371, "post_id": 51267810, "comment_id": 93073121, "body": "@JPM, you can use <code>AsyncTask</code>, see more <a href=\"https://stackoverflow.com/a/14251115/6733404\">here</a>"}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1541004462, "post_id": 51267810, "comment_id": 93073688, "body": "I&#39;d rather stick with the future and use coroutines, we are not using anko right now so need a solution for just coroutines.  I&#39;ve been looking at a few but the library keeps changing and all the solutions out there are old."}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 0, "last_activity_date": 1531232797, "creation_date": 1531232797, "answer_id": 51267810, "question_id": 51266460, "link": "https://stackoverflow.com/questions/51266460/use-of-suspend-function-in-android-splash-screen/51267810#51267810", "title": "Use of suspend function in android splash screen", "body": "<p>Use <code>Anko</code>, it is simple and clear, and your owner is JetBrains</p>\n\n<h3>Step 1. Getting anko</h3>\n\n<p>Put it on your <code>app/build.gradle</code></p>\n\n<pre><code>dependencies {\n    ...\n    implementation \"org.jetbrains.anko:anko:0.10.5\"\n    ...\n}\n</code></pre>\n\n<h3>Step 2. Using anko</h3>\n\n<p>Inside of your <code>SplashActivity</code>, on your <code>onCreate()</code> try as follow</p>\n\n<pre><code>doAsync {\n    val result = URL(\"your request here\").readText()\n    //depending of your result go to MainActivity\n}\n</code></pre>\n\n<p>See more about <code>Anko</code> <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 51, "user_id": 8383258, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W8R-ypMskHs/AAAAAAAAAAI/AAAAAAAAB1w/do-6-l8w8c0/photo.jpg?sz=128", "display_name": "Pratik Burkhawala", "link": "https://stackoverflow.com/users/8383258/pratik-burkhawala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 694, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1531232797, "creation_date": 1531228983, "last_edit_date": 1531229990, "question_id": 51266460, "link": "https://stackoverflow.com/questions/51266460/use-of-suspend-function-in-android-splash-screen", "title": "Use of suspend function in android splash screen", "body": "<p>My app splash screen is use to fetch data from network and after data fetch is success, I want to send user to Home screen. Usually, we use Thread.sleep or Handler to stay on Splash screen for some time. Can we do this using suspend function of Kotlin?</p>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1531239091, "post_id": 51266385, "comment_id": 89517998, "body": "Add log error here, pls!"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531237706, "post_id": 51268307, "comment_id": 89517187, "body": "I&#39;ve passed delay and it still shows the same error. I&#39;ve tried delay at 0 and delay at 1. val current = LocalDateTime.now().toString()             val airplaneStatus = subFlow(OraclizeQueryAwaitFlow(                 datasource = &quot;URL&quot;,                 query = foo,                 proofType = ProofType.TLSNOTARY,                 delay = 1             ))"}, {"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "reply_to_user": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531238395, "post_id": 51268307, "comment_id": 89517607, "body": "Verify if <code>ProofType.TLSNOTARY</code> is null"}, {"owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531239033, "post_id": 51268307, "comment_id": 89517966, "body": "I have verified that proofType is non-null and the error persists"}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 0, "last_activity_date": 1531234223, "creation_date": 1531234223, "answer_id": 51268307, "question_id": 51266385, "link": "https://stackoverflow.com/questions/51266385/why-do-i-get-null-cannot-be-cast-to-non-null-type-net-corda-core-identity-party/51268307#51268307", "title": "Why do I get null cannot be cast to non-null type net.corda.core.identity.Party error with Oraclize?", "body": "<p>You forgot of pass the 4th parameter, the parameter <code>delay</code></p>\n\n<pre><code>OraclizeQueryAwaitFlow(val datasource: String,\n                             val query: Any,\n                             val proofType: Int = 0,\n                             val delay: Int = 0) //here &lt;------\n</code></pre>\n\n<p><strong>Why?</strong></p>\n\n<p>This parameter is no-null (it not have an elvis (<code>?</code>) operator) and need be atribuited</p>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": true, "score": 1, "last_activity_date": 1531241502, "last_edit_date": 1592644375, "creation_date": 1531241100, "answer_id": 51270459, "question_id": 51266385, "link": "https://stackoverflow.com/questions/51266385/why-do-i-get-null-cannot-be-cast-to-non-null-type-net-corda-core-identity-party/51270459#51270459", "title": "Why do I get null cannot be cast to non-null type net.corda.core.identity.Party error with Oraclize?", "body": "<p>Seing the repository from library on github and your log error (line 36 from OraclizeQueryAwaitFlow.kt, see <a href=\"https://github.com/oraclize/corda-api/blob/f20b47ae102c999b2e18552d67ab1d584eba3b21/src/main/kotlin/it/oraclize/cordapi/flows/OraclizeQueryAwaitFlow.kt\" rel=\"nofollow noreferrer\">here</a>), I am presume that problem occurre because</p>\n<ul>\n<li>The call <code>serviceHub.identityService.wellKnownPartyFromX500Name(OraclizeUtils.getNodeName())</code> return null</li>\n<li>The null value want be casted for <code>Party</code>, but it is no possible, throwing an <code>TypeCastException</code></li>\n</ul>\n<h3>My sugestions</h3>\n<p><strong>1.</strong> (Recomended) Open an issue on this repository asking for this error solution and wait the response from developers, or</p>\n<p><strong>2.</strong> Fork this repository and you verify this cast attempt and use your repository forked</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531307946, "post_id": 51281672, "comment_id": 89545486, "body": "I&#39;ll give that a try and let you know."}, {"owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531308689, "post_id": 51281672, "comment_id": 89545924, "body": "Looking at <a href=\"https://docs.corda.net/changelog.html\" rel=\"nofollow noreferrer\">docs.corda.net/changelog.html</a>, Corda&#39;s most recent comment on the testnest is &quot;Note that currently there is no public Corda testnet, so we are not currently running a permissioning service&quot;. How would I then connect to the public testnet?"}, {"owner": {"reputation": 1, "user_id": 10063637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwLcD.png?s=128&g=1", "display_name": "oraclize-support", "link": "https://stackoverflow.com/users/10063637/oraclize-support"}, "reply_to_user": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531314461, "post_id": 51281672, "comment_id": 89550022, "body": "Maybe they forgot to put it in the changelog, but standing from here <a href=\"https://docs.corda.net/releases/release-V2.0/permissioning.html#\" rel=\"nofollow noreferrer\">docs.corda.net/releases/release-V2.0/permissioning.html#</a> there should be a public testnet from <code>release-V2.0</code>. Which version of corda are you using?"}, {"owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531331350, "post_id": 51281672, "comment_id": 89560720, "body": "Currently using V3.1"}, {"owner": {"reputation": 1, "user_id": 10063637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwLcD.png?s=128&g=1", "display_name": "oraclize-support", "link": "https://stackoverflow.com/users/10063637/oraclize-support"}, "reply_to_user": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "edited": false, "score": 0, "creation_date": 1531404485, "post_id": 51281672, "comment_id": 89592248, "body": "Currently we are supporting V2.0 on the public testnet. An API supporting corda V3.1 will be released in the next few days, in the meantime could you please share with us your <code>compatibilityZoneURL</code> of your compatibility zone, so we can join your network? Feel free to reach us on our public channel on <a href=\"https://gitter.im/oraclize/corda-api?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\" rel=\"nofollow noreferrer\">gitter</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 10063637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwLcD.png?s=128&g=1", "display_name": "oraclize-support", "link": "https://stackoverflow.com/users/10063637/oraclize-support"}, "is_accepted": false, "score": 0, "last_activity_date": 1531312706, "last_edit_date": 1531312706, "creation_date": 1531300614, "answer_id": 51281672, "question_id": 51266385, "link": "https://stackoverflow.com/questions/51266385/why-do-i-get-null-cannot-be-cast-to-non-null-type-net-corda-core-identity-party/51281672#51281672", "title": "Why do I get null cannot be cast to non-null type net.corda.core.identity.Party error with Oraclize?", "body": "<p>Did you load the Cordapp on the public testnet? If not, that could be the problem because the <code>identityService</code> couldn't reach our public node. We are currently working on a tool for testing on private networks, but in the meantime, you should load your cordapp on a node connected to the public testnet.</p>\n"}], "owner": {"reputation": 121, "user_id": 10059436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pz5qoM4kyo0/AAAAAAAAAAI/AAAAAAAAEaE/nPkraLHg4FA/photo.jpg?sz=128", "display_name": "Pronoy Chaudhuri", "link": "https://stackoverflow.com/users/10059436/pronoy-chaudhuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 51270459, "answer_count": 3, "score": 0, "last_activity_date": 1531332170, "creation_date": 1531228809, "last_edit_date": 1531332170, "question_id": 51266385, "link": "https://stackoverflow.com/questions/51266385/why-do-i-get-null-cannot-be-cast-to-non-null-type-net-corda-core-identity-party", "title": "Why do I get null cannot be cast to non-null type net.corda.core.identity.Party error with Oraclize?", "body": "<p>I've been trying to implement Oraclize into my CorDapp and the flow I have created works perfectly but when I try to add an Oraclize query I received the error: null cannot be cast to non-null type net.corda.core.identity.Party. This is the code in question.</p>\n\n<pre><code>        val current = LocalDateTime.now().toString()\n        val airplaneStatus = subFlow(OraclizeQueryAwaitFlow(\n            datasource = \"URL\",\n            query = \"json(https://api.flightstats.com/flex/flightstatus/rest/v2/json/flight/status/\" + flight.subSequence(0,2) + \"/\" + flight.subSequence(2, flight.length) + \"/arr/\" +\n            current.subSequence(0,4) + \"/\" + current.subSequence(5,7) + \"/\" + current.subSequence(8,10) + \"?appId=******&amp;appKey=***********&amp;utc=false).flightStatuses.status\",\n            proofType = ProofType.TLSNOTARY,\n            delay = 1\n        ))\n</code></pre>\n\n<p>A flight is a simple Flight ID such as AC345 or WS9405. The entire flow is here: <a href=\"https://pastebin.com/7uvPnjEf\" rel=\"nofollow noreferrer\">https://pastebin.com/7uvPnjEf</a></p>\n\n<p><strong>UPDATE:</strong> I have added the <code>delay</code> parameter but the error persists (tried 0 and 1). I have also verified that <code>ProofType.TLSNOTARY</code> is non-null.</p>\n\n<p>Thanks in advance!</p>\n\n<p>Log Error Report:</p>\n\n<pre><code>[WARN ] 2018-07-10T16:08:00,619Z [Node thread-1] flow.[a0362ed5-74b5- \n4519-a80e-4adda70adca7].run - Terminated by unexpected exception {}\nkotlin.TypeCastException: null cannot be cast to non-null type net.corda.core.identity.Party\nat it.oraclize.cordapi.flows.OraclizeQueryAwaitFlow.call(OraclizeQueryAwaitFlow.kt:36) ~[InsureFlight-0.1.jar:?]\nat it.oraclize.cordapi.flows.OraclizeQueryAwaitFlow.call(OraclizeQueryAwaitFlow.kt:18) ~[InsureFlight-0.1.jar:?]\nat net.corda.core.flows.FlowLogic.subFlow(FlowLogic.kt:290) ~[corda-core-3.1-corda.jar:?]\nat com.insureflight.flows.IssuePolicy$Initiator.call(IssuePolicy.kt:76) ~[cordapp-0.1.jar:?]\nat com.insureflight.flows.IssuePolicy$Initiator.call(IssuePolicy.kt:37) ~[cordapp-0.1.jar:?]\nat net.corda.node.services.statemachine.FlowStateMachineImpl.run(FlowStateMachineImpl.kt:96) [corda-node-3.1-corda.jar:?]\nat net.corda.node.services.statemachine.FlowStateMachineImpl.run(FlowStateMachineImpl.kt:44) [corda-node-3.1-corda.jar:?]\nat co.paralleluniverse.fibers.Fiber.run1(Fiber.java:1092) [quasar-core-0.7.9-jdk8.jar:0.7.9]\nat co.paralleluniverse.fibers.Fiber.exec(Fiber.java:788) [quasar-core-0.7.9-jdk8.jar:0.7.9]\nat co.paralleluniverse.fibers.RunnableFiberTask.doExec(RunnableFiberTask.java:100) [quasar-core-0.7.9-jdk8.jar:0.7.9]\nat co.paralleluniverse.fibers.RunnableFiberTask.run(RunnableFiberTask.java:91) [quasar-core-0.7.9-jdk8.jar:0.7.9]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_172]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_172]\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_172]\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_172]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_172]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_172]\nat net.corda.node.utilities.AffinityExecutor$ServiceAffinityExecutor$1$thread$1.run(AffinityExecutor.kt:62) [corda-node-3.1-corda.jar:?]\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1531228655, "post_id": 51266313, "comment_id": 89510588, "body": "What you call &quot;override&quot; would actually mean &quot;replace&quot;, i.e., monkey-patch the original declaring class. You can&#39;t override non-virtual methods."}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1531228877, "post_id": 51266313, "comment_id": 89510762, "body": "Polymorphism and the static keyword are conflicting concepts. What you are suggesting is not possible because it does not make sense. I suggest you read up on <a href=\"https://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-a-class\">what static really means</a>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531228885, "post_id": 51266313, "comment_id": 89510775, "body": "@Marko Topolnik the correct term is &quot;shadowing&quot;"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1531229183, "post_id": 51266313, "comment_id": 89510993, "body": "@Pawel Shadowing is much lighter-weight, it just affects the resolution of unqualified names. This is not what OP is after."}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1531230374, "post_id": 51266313, "comment_id": 89511872, "body": "I didn&#39;t know monkey-patch before, but I will read about it. Don&#39;t understand why sb downvoted it? Does this question break stackoverflow rules? If not, why you did it?"}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531230452, "post_id": 51266313, "comment_id": 89511942, "body": "@MarkoTopolnik does &quot;monkey-patch&quot; is the only solution for that? Do you know if PowerMockito use it to replace static methods?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1531231153, "post_id": 51266313, "comment_id": 89512505, "body": "I can only suppose what it does: jack into the class loading mechanism and replace the bytecode of a static method."}], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 2, "last_activity_date": 1531236238, "creation_date": 1531236238, "answer_id": 51269010, "question_id": 51266313, "link": "https://stackoverflow.com/questions/51266313/is-it-possible-to-override-static-method-in-kotlin/51269010#51269010", "title": "Is it possible to override static method in Kotlin?", "body": "<p>You can't do that in Kotlin. The problem is that there is no <code>static</code> keyword in Kotlin. There is a similar concept (<code>companion object</code>) but the problem is that your original Java class doesn't have one.</p>\n\n<p><code>static</code> methods don't support inheritance either so you can't help this on the Java side.</p>\n\n<p>If you want to declare extension methods which are \"static\" (eg: put them on a <code>companion object</code>) you can do this:</p>\n\n<pre><code>class Manager {\n\n    companion object\n}\n\nfun Manager.Companion.doSth() = println(\"sth\")\n</code></pre>\n\n<p>Then you can call it like this:</p>\n\n<pre><code>Manager.doSth()\n</code></pre>\n\n<p><strong>Note that</strong> you can only augment <em>Kotlin</em> classes this way which <strong>have</strong> a <code>companion object</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1531306276, "post_id": 51269156, "comment_id": 89544389, "body": "I cannot not override static method in anyway."}, {"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "reply_to_user": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1531312582, "post_id": 51269156, "comment_id": 89548657, "body": "Yeah, the thing is that the static method from the parent can&#39;t be accessed from the child&#39;s qualifier so it can&#39;t be shadowed.  Using extensions, you simply can&#39;t do it for either static or non-static as the member function will always win.   What you can do is to subclass the parent and add a new companion object that has a method with the same name as the parent."}], "tags": [], "owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "is_accepted": true, "score": 11, "last_activity_date": 1561364558, "last_edit_date": 1561364558, "creation_date": 1531236594, "answer_id": 51269156, "question_id": 51266313, "link": "https://stackoverflow.com/questions/51266313/is-it-possible-to-override-static-method-in-kotlin/51269156#51269156", "title": "Is it possible to override static method in Kotlin?", "body": "<p><strong>Short Answer</strong></p>\n\n<p>No</p>\n\n<p><strong>\"Short\" Explanation</strong></p>\n\n<p>You can only override virtual methods and also you can shadow/replace static methods in Java, but you can't shadow a \"static\" method in Kotlin as the static method will not be available using the child class qualifier already. And even when using extension methods, you simply can't do it for either static or non-static as <strong>the member function will always win</strong>(see the example below). What you can do is to subclass the parent and add a new companion object that has a method with the same name as the parent and call the parent method from inside.</p>\n\n<p><strong>Full Explanation</strong></p>\n\n<ul>\n<li>Static methods can't be overridden. It's called shadowing as you hide\na method with another one.</li>\n<li>There are no static methods in Kotlin, so what you can do is using the\n<code>companion object</code> which behaves similarly and you can access the method\nof the companion object as if it were a java static method using only\nthe class name as a qualifier but you can't access the methods of\ncompanion object of a parent class from its child like Java.</li>\n<li>You can't shadow a static method in Kotlin as the static method will not be available using the child class qualifier already, but you can write another companion object and add a method with the same name and call the\nparent method from there as the method from parent can't be accessed\nwith the child class name qualifier.</li>\n<li>You can't make an extension method that shadows a companion object\nmethod or even overrides a member method. If a class has a member\nfunction and an extension function is defined which has the same\nreceiver type, the same name and is applicable to given arguments,\nthe member always wins.</li>\n<li><a href=\"https://kotlinlang.org/docs/reference/extensions.html#companion-object-extensions\" rel=\"nofollow noreferrer\">Companion object extension</a>: You can write an extension method to\nthe companion object, but if a member of that companion object has\nthe same signature the member will always win.</li>\n</ul>\n\n<h2>Example</h2>\n\n<pre><code>open class A {\n    fun foo() {\n        println(\"A.foo()\")\n    }\n    companion object {\n        fun bar() {\n            println(\"A.Companion.bar()\")\n        }\n    }\n}\n\nclass B: A()\n\nfun A.foo() {\n   println(\"A.foo() extension\")\n}\n\nfun A.Companion.bar() {\n    println(\"A.Companion.bar() extension\")\n}\n\nfun A.Companion.baz() {\n    println(\"A.Companion.baz() extension\")\n}\n\nfun main(args: Array&lt;String&gt;) {\n    A().foo() // prints A.foo()\n    A.bar() // prints A.Companion.bar()\n    A.baz() // prints A.Companion.baz() extension\n    B.bar() // COMPILE ERROR\n}\n</code></pre>\n"}], "owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6296, "favorite_count": 0, "accepted_answer_id": 51269156, "answer_count": 2, "score": 2, "last_activity_date": 1561364558, "creation_date": 1531228608, "last_edit_date": 1531229163, "question_id": 51266313, "link": "https://stackoverflow.com/questions/51266313/is-it-possible-to-override-static-method-in-kotlin", "title": "Is it possible to override static method in Kotlin?", "body": "<p>Hello imagine that we have following class</p>\n\n<pre><code>Manager{\n   public static void doSth(){\n      // some logic\n   };\n}\n</code></pre>\n\n<p>How to override that method in kotlin?</p>\n\n<p>I've tired to use</p>\n\n<pre><code>fun Manager.doSth(){}\n</code></pre>\n\n<p>but Its applied to instance not a static type.</p>\n\n<p>Purpose of doing that is to avoid using PowerMockito </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1572521650, "creation_date": 1572521650, "answer_id": 58642487, "question_id": 51266285, "link": "https://stackoverflow.com/questions/51266285/issue-using-parcelable-attributes-inside-parcelable-classes/58642487#58642487", "title": "Issue using Parcelable attributes inside Parcelable Classes", "body": "<p>You will need to break the circular dependency.  One way is to store just the id of the facility or building instead of storing the entire object.  You could write a separate class just for storing a slimmed version of the object, then reconstruct the original objects using the Ids.</p>\n"}], "owner": {"reputation": 23, "user_id": 7852962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72688798bcbdb488441a577cae5b5261?s=128&d=identicon&r=PG&f=1", "display_name": "WLoumakis", "link": "https://stackoverflow.com/users/7852962/wloumakis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572521650, "creation_date": 1531228533, "last_edit_date": 1531239633, "question_id": 51266285, "link": "https://stackoverflow.com/questions/51266285/issue-using-parcelable-attributes-inside-parcelable-classes", "title": "Issue using Parcelable attributes inside Parcelable Classes", "body": "<p>I'm trying to implement a \"survey\" type application that needs to pass data between activities so that it can eventually be written to an Excel doc, so I need to pass instantiated classes that have different data types to new activities so that I can gather more data. However, I'm using @Parcelize and think that it's causing an issue where the hidden boilerplate code is bouncing back and forth between parcels. I hope there is a solution to this without removing @Parcelize as I'm new to Kotlin and app development, but if there isn't then that's okay too.</p>\n\n<p>Here is the long infinite loop error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.raymondllc.testapp, PID: 5396\n              java.lang.IllegalStateException: Could not execute method for android:onClick\n                  at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:389)\n                  at android.view.View.performClick(View.java:6294)\n                  at android.view.View$PerformClick.run(View.java:24770)\n                  at android.os.Handler.handleCallback(Handler.java:790)\n                  at android.os.Handler.dispatchMessage(Handler.java:99)\n                  at android.os.Looper.loop(Looper.java:164)\n                  at android.app.ActivityThread.main(ActivityThread.java:6494)\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n               Caused by: java.lang.reflect.InvocationTargetException\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:384)\n                  at android.view.View.performClick(View.java:6294)\u00a0\n                  at android.view.View$PerformClick.run(View.java:24770)\u00a0\n                  at android.os.Handler.handleCallback(Handler.java:790)\u00a0\n                  at android.os.Handler.dispatchMessage(Handler.java:99)\u00a0\n                  at android.os.Looper.loop(Looper.java:164)\u00a0\n                  at android.app.ActivityThread.main(ActivityThread.java:6494)\u00a0\n                  at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\u00a0\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\u00a0\n               Caused by: java.lang.StackOverflowError: stack size 8MB\n                  at android.os.Parcel$ReadWriteHelper.writeString(Parcel.java:353)\n                  at android.os.Parcel.writeString(Parcel.java:675)\n                  at android.os.Parcel.writeParcelableCreator(Parcel.java:1797)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1790)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\nE/AndroidRuntime:     at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\nI/zygote: Do partial code cache collection, code=59KB, data=48KB\nI/zygote: After code cache collection, code=59KB, data=48KB\n      Increasing code cache capacity to 256KB\nI/zygote: Background concurrent copying GC freed 3584(1418KB) AllocSpace objects, 2(1572KB) LOS objects, 17% free, 28MB/34MB, paused 720us total 341.766ms\nI/zygote: Background concurrent copying GC freed 184569(14MB) AllocSpace objects, 0(0B) LOS objects, 15% free, 31MB/37MB, paused 671us total 213.138ms\nI/chatty: uid=10080(com.raymondllc.testapp) identical 3054 lines\nE/AndroidRuntime:     at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\nE/AndroidRuntime:     at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Facility.writeToParcel(Unknown Source:47)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at com.raymondllc.testapp.Building.writeToParcel(Unknown Source:55)\n                  at android.os.Parcel.writeParcelable(Parcel.java:1791)\n                  at android.os.Parcel.writeValue(Parcel.java:1697)\n                  at android.os.Parcel.writeArrayMapInternal(Parcel.java:838)\n                  at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1542)\n                  at android.os.Bundle.writeToParcel(Bundle.java:1232)\n                  at android.os.Parcel.writeBundle(Parcel.java:878)\n                  at android.content.Intent.writeToParcel(Intent.java:9599)\n                  at android.app.IActivityManager$Stub$Proxy.startActivity(IActivityManager.java:4327)\n                  at android.app.Instrumentation.execStartActivity(Instrumentation.java:1611)\n                  at android.app.Activity.startActivityForResult(Activity.java:4487)\n                  at android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:68)\n                  at android.app.Activity.startActivityForResult(Activity.java:4445)\n                  at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:751)\n                  at android.app.Activity.startActivity(Activity.java:4806)\n                  at android.app.Activity.startActivity(Activity.java:4774)\n                  at com.raymondllc.testapp.MainActivity.nextButton(MainActivity.kt:25)\n                    ... 11 more\n</code></pre>\n\n<p>I think it's bouncing back and forth between reads/writes in the \"Unknown Source\" which, when I click on in Android Studio, bounce between two different classes I've written. Here are the classes' definitions:</p>\n\n<pre><code>@Parcelize\nclass Facility(private var facID : String,\n               private var buildings: Array&lt;Building&gt;) : Parcelable {\n    ...\n\n\n@Parcelize\nclass Building(private var bldgID: String = \"\",\n               private var sections : Array&lt;Section&gt; = emptyArray(),\n               private var facility: Facility? = null) : Parcelable {\n    ...\n</code></pre>\n\n<p>Any help/suggestions is much appreciated!</p>\n\n<p><strong>Edit 1:</strong>\nI've removed the @Parcelize in front of the classes and allowed Android Studio to auto-generate the boilerplate code, and now I can see the problem but don't know how to go about fixing it. The <code>writeToParcel</code> function in the Building class calls <code>writeParcelable(facility, flags)</code>, which calls the <code>writeToParcel</code> function in the Facility class, which calls <code>writeTypedArray(building, flags)</code>, which calls <code>writeToParcel</code>on each building in the given facility, in turn repeating the process listed until stopped. Thoughts?</p>\n"}, {"tags": ["android", "kotlin", "multi-window"], "owner": {"reputation": 21, "user_id": 10059305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280c58be98359899d3fe83250389399b?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233; Wiersma", "link": "https://stackoverflow.com/users/10059305/ren%c3%a9-wiersma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1587929622, "creation_date": 1531227500, "question_id": 51265900, "link": "https://stackoverflow.com/questions/51265900/how-to-make-setlaunchbounds-work-with-freeform-windowed-apps", "title": "How to make setLaunchBounds work with freeform windowed apps?", "body": "<p>I'm writing an Android launcher in Kotlin. It should open apps in freeform mode. I expect the following piece of code to open an app on the left half of the screen. Instead, it opens the app in the middle of the screen at half size.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dWx60.png\" rel=\"nofollow noreferrer\">The app opens in the middle of the screen</a></p>\n\n<pre><code>private fun launchPackage(context: Context, packageName : String) {\n    val metrics = getRealDisplayMetrics(context)\n    val options = ActivityOptions.makeBasic()\n    options.launchBounds = leftSide(metrics)\n\n    val launchIntent = context.packageManager.getLaunchIntentForPackage(packageName)\n\n    context.startActivity(launchIntent, options.toBundle())\n}\n\nprivate fun leftSide(metrics: DisplayMetrics) : Rect {\n    val left = 0\n    val top = 0\n    val right = metrics.widthPixels / 2\n    val bottom = metrics.heightPixels\n\n    return Rect(left, top, right, bottom)\n}\n\nprivate fun getRealDisplayMetrics(context: Context): DisplayMetrics {\n    val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\n    val defaultDisplay = windowManager.defaultDisplay\n    val metrics = DisplayMetrics()\n\n    defaultDisplay.getMetrics(metrics)\n\n    return metrics\n}\n</code></pre>\n\n<p>Interestingly, when I maximize the app, then from the overview I set it to windowed mode again, it does occupy the area that I set with LaunchBounds, ie. the left half of the screen. </p>\n\n<p><a href=\"https://i.stack.imgur.com/eYpHG.png\" rel=\"nofollow noreferrer\">The app shown half-screen after maximizing and returning to windowed mode</a></p>\n\n<p>Is there anyway to make this work right away?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata", "android-workmanager"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 5371749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOVs.jpg?s=128&g=1", "display_name": "james04", "link": "https://stackoverflow.com/users/5371749/james04"}, "edited": false, "score": 0, "creation_date": 1583766604, "post_id": 51284464, "comment_id": 107217403, "body": "I have the same exact problem. Here is the link to it. ( <a href=\"https://stackoverflow.com/questions/60589304/insert-on-room-db-does-not-trigger-observer-on-activity\" title=\"insert on room db does not trigger observer on activity\">stackoverflow.com/questions/60589304/&hellip;</a> ). Is there a way that you can help me in case you have found the solution? Thnx"}], "tags": [], "owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "is_accepted": false, "score": 0, "last_activity_date": 1531308821, "creation_date": 1531308821, "answer_id": 51284464, "question_id": 51264271, "link": "https://stackoverflow.com/questions/51264271/livedata-not-updating-when-changing-db-from-worker/51284464#51284464", "title": "LiveData not updating when changing Db from Worker", "body": "<p>Not exactly sure what the problem was, but its working now.</p>\n\n<p>Im injecting everything (db and services) into my worker now, maybe that helped (Not sure if it makes a difference if I use the same instance of my db).</p>\n"}, {"comments": [{"owner": {"reputation": 682, "user_id": 9083691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUOMG.jpg?s=128&g=1", "display_name": "Iliya Mashin", "link": "https://stackoverflow.com/users/9083691/iliya-mashin"}, "edited": false, "score": 0, "creation_date": 1599156517, "post_id": 63726443, "comment_id": 112694466, "body": "You need to detail the answer"}], "tags": [], "owner": {"reputation": 11, "user_id": 2710676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4329713a26f5441fe2239e710504e5?s=128&d=identicon&r=PG&f=1", "display_name": "husnu.setiawan", "link": "https://stackoverflow.com/users/2710676/husnu-setiawan"}, "is_accepted": false, "score": 1, "last_activity_date": 1599234442, "last_edit_date": 1599234442, "creation_date": 1599145566, "answer_id": 63726443, "question_id": 51264271, "link": "https://stackoverflow.com/questions/51264271/livedata-not-updating-when-changing-db-from-worker/63726443#63726443", "title": "LiveData not updating when changing Db from Worker", "body": "<pre><code>Room.databaseBuilder(application, Database::class.java,&quot;dbname&quot;)\n            .allowMainThreadQueries()\n            .enableMultiInstanceInvalidation() // maybe room database create multi instance. add this line solved my problem\n            .fallbackToDestructiveMigration()\n            .build()\n</code></pre>\n<p>the problem was room database instance created more than once. just try add this line. all room database instance have created can be tracked and invalidate data source if there are modifications.</p>\n<pre><code>.enableMultiInstanceInvalidation() \n</code></pre>\n<p>another solution, i use dagger (dependency injection) and add @Singleton annotation at provide function the room database instance. to prevent room database instance created more than once.</p>\n"}], "owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1599234442, "creation_date": 1531222848, "question_id": 51264271, "link": "https://stackoverflow.com/questions/51264271/livedata-not-updating-when-changing-db-from-worker", "title": "LiveData not updating when changing Db from Worker", "body": "<p>I'm writing a message to my Room db to then send it to the server when this is succesful I update the message in the database.</p>\n\n<p>When I try this from a Worker (WorkManager) the LiveData that holds the messages doesnt update even tho the message gets written to the db.</p>\n\n<p>Small example (insert doesnt update LiveData but when I restart the app the message shows up):    </p>\n\n<pre><code>override fun doWork(): Result {\n    appDatabase = appDatabase(applicationContext)\n    val messageId = inputData.getString(\"messageId\", \"\") ?: \"\"\n\n    val message = appDatabase.messageDao().getMessage(messageId)\n    appDatabase.messageDao().insertMessage(Message(message.conversationId, \"XYZ 234234234234\", \"test\", \"test\", SimpleDateFormat(\"yyyy-MM-dd-HH-mm-ss\", Locale.GERMANY).format(Date()), false))\n\n    return Result.SUCCESS\n}\n</code></pre>\n\n<p>Outside of the Worker everything works fine.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1531222740, "post_id": 51264191, "comment_id": 89506279, "body": "1. create a file <code>Constants.kt</code> 2. Add constant declarations to it, right at the top level. 3. Use the constants anywhere in the project, no qualificiation needed."}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1531223334, "post_id": 51264258, "comment_id": 89506667, "body": "You totally missed top-level constants. Your first example can be written outside any class declaration. The second example is only for special cases where you want to tie the constant specifically with a class, so it lives inside its namespace. BTW the first example as a property of a class is just bad practice, it increases each object&#39;s RAM footprint for no reason."}], "tags": [], "owner": {"reputation": 68, "user_id": 4548949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d0a2337e9250c95abfabb738904f31?s=128&d=identicon&r=PG&f=1", "display_name": "Lakshmi", "link": "https://stackoverflow.com/users/4548949/lakshmi"}, "is_accepted": false, "score": 1, "last_activity_date": 1531224533, "last_edit_date": 1531224533, "creation_date": 1531222819, "answer_id": 51264258, "question_id": 51264191, "link": "https://stackoverflow.com/questions/51264191/what-is-the-good-practice-to-create-a-constants-file-in-kotlin/51264258#51264258", "title": "What is the good practice to create a Constants file in kotlin", "body": "<p>If you want to create a public constant in kotlin like public static final in java, you can create it as follow.</p>\n\n<pre><code>companion object {\n\n     const val MY_CONSTANT = \"Constants\"\n\n}\n</code></pre>\n\n<p>Checkout this link \n<a href=\"https://blog.egorand.me/where-do-i-put-my-constants-in-kotlin/\" rel=\"nofollow noreferrer\">https://blog.egorand.me/where-do-i-put-my-constants-in-kotlin/</a></p>\n"}], "owner": {"reputation": 109, "user_id": 4042912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae89044a44a811146c962c0a8d9b021e?s=128&d=identicon&r=PG&f=1", "display_name": "mandar bhoot", "link": "https://stackoverflow.com/users/4042912/mandar-bhoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2032, "favorite_count": 0, "closed_date": 1531222882, "answer_count": 1, "score": 3, "last_activity_date": 1531260860, "creation_date": 1531222586, "last_edit_date": 1531260860, "question_id": 51264191, "link": "https://stackoverflow.com/questions/51264191/what-is-the-good-practice-to-create-a-constants-file-in-kotlin", "closed_reason": "Needs details or clarity", "title": "What is the good practice to create a Constants file in kotlin", "body": "<p>I have a Java project, in which I have this <code>Constants</code> class to organise my constants:</p>\n\n<pre><code>/** This is my java constants file in java**/\n\npublic class Constants {\n    public static final String LOWER_GROUND_FLOOR = \"LG\";\n    public static final String GROUND_FLOOR = \"G\";\n    public static final String FIRST_FLOOR = \"1\";\n    public static final String SECOND_FLOOR = \"2\";\n    public static final String THIRD_FLOOR = \"3\";\n    public static final String THIS_KIOSK_ID = \"currentFloorIndex\";\n    public static final String EXPIRY = \"cacheExpiry\";\n    public static String third_floor_small_map_path = \"map/abc.png\";\n}\n</code></pre>\n\n<p>How can I create a similar constants file in Kotlin?</p>\n"}, {"tags": ["android", "xml", "android-layout", "kotlin", "android-checkbox"], "comments": [{"owner": {"reputation": 721, "user_id": 2902518, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/NZ1ex.jpg?s=128&g=1", "display_name": "pa1pal", "link": "https://stackoverflow.com/users/2902518/pa1pal"}, "edited": false, "score": 0, "creation_date": 1531234572, "post_id": 51264143, "comment_id": 89515050, "body": "show some code samples, what have you tried?"}, {"owner": {"reputation": 721, "user_id": 2902518, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/NZ1ex.jpg?s=128&g=1", "display_name": "pa1pal", "link": "https://stackoverflow.com/users/2902518/pa1pal"}, "edited": false, "score": 0, "creation_date": 1531242585, "post_id": 51264143, "comment_id": 89519745, "body": "<code>check_box.isChecked = false</code> This is a compile time error. It is not possible. Use <code>setChecked(true)</code> method."}, {"owner": {"reputation": 574, "user_id": 3176277, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/43Xga.jpg?s=128&g=1", "display_name": "Rajan Maurya", "link": "https://stackoverflow.com/users/3176277/rajan-maurya"}, "reply_to_user": {"reputation": 721, "user_id": 2902518, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/NZ1ex.jpg?s=128&g=1", "display_name": "pa1pal", "link": "https://stackoverflow.com/users/2902518/pa1pal"}, "edited": false, "score": 0, "creation_date": 1531282905, "post_id": 51264143, "comment_id": 89531990, "body": "@pa1pal I think you never worked with kotlin, calling checkbox.setChecked(true) and checkbox.isChecked = true is same in kotlin."}, {"owner": {"reputation": 550, "user_id": 3977077, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AAoPi.jpg?s=128&g=1", "display_name": "Sherlock", "link": "https://stackoverflow.com/users/3977077/sherlock"}, "edited": false, "score": 0, "creation_date": 1535093905, "post_id": 51264143, "comment_id": 90947118, "body": "Are you trying to do this w/ a child Fragment inside a ViewPager?  I know that scenario can cause problems especially if the parent is a Fragment regardless if its v4 or not."}], "answers": [{"tags": [], "owner": {"reputation": 652, "user_id": 5461815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ldfRs.png?s=128&g=1", "display_name": "Konayuki", "link": "https://stackoverflow.com/users/5461815/konayuki"}, "is_accepted": false, "score": 3, "last_activity_date": 1542351026, "creation_date": 1542351026, "answer_id": 53332788, "question_id": 51264143, "link": "https://stackoverflow.com/questions/51264143/checkboxs-ischecked-not-working-when-i-set-initially-in-java-or-kotlin/53332788#53332788", "title": "CheckBox&#39;s isChecked not working when I set initially in java or Kotlin", "body": "<p>I experienced the same with you. I've only tested this in an emulator and one real device, but I found 2 ways to do make it ticked without setting it in xml (for example, you need to fetch something from back-end first to determine whether it has to be ticked from the start or not):</p>\n\n<p>1) Delay command using Handler  </p>\n\n<pre><code>Handler().postDelayed({ checkBox?.isChecked = true }, 300)\n</code></pre>\n\n<p>2) Use <code>toggle()</code> after setting <code>isChecked</code>  </p>\n\n<pre><code>checkBox?.isChecked = true \ncheckBox?.toggle()\n</code></pre>\n\n<p>It's as if toggle triggers the UI changes. Problem is, from code above, you'll have your check box ticked, but its <code>isChecked</code> value will be <code>false</code>. </p>\n\n<p>Since I have to set <code>enabled</code> too and somehow it messed up when using <code>toggle()</code>, I settled with the first way. I really hope someone find a more elegant way to solve this...</p>\n"}, {"comments": [{"owner": {"reputation": 2174, "user_id": 1139966, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/phQqC.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1139966/ali"}, "edited": false, "score": 0, "creation_date": 1546499550, "post_id": 54017580, "comment_id": 94871926, "body": "hi, Why <code>jumpDrawablesToCurrentState</code> solve the issue :) If you have any specific reason please write in your answer"}, {"owner": {"reputation": 31, "user_id": 6517630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EPoBKwU17EA/AAAAAAAAAAI/AAAAAAAABd8/XagWUviQAz0/photo.jpg?sz=128", "display_name": "Hemant Yadav", "link": "https://stackoverflow.com/users/6517630/hemant-yadav"}, "reply_to_user": {"reputation": 2174, "user_id": 1139966, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/phQqC.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1139966/ali"}, "edited": false, "score": 0, "creation_date": 1546954125, "post_id": 54017580, "comment_id": 95017610, "body": "The reason is when you call <code>setChecked(true)</code> it does following tasks 1. Change the border color. 2. Animation of setting the check inside the checkBox. For some reason when the checkbox is hidden, it only does the first task and the second task is skipped. That&#39;s why this problem was ocurring in my case. Calling <code>jumpDrawablesToCurrentState </code> solves this issue by doing both tasks at the same time without playing animation. Hope it helps :)"}], "tags": [], "owner": {"reputation": 31, "user_id": 6517630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EPoBKwU17EA/AAAAAAAAAAI/AAAAAAAABd8/XagWUviQAz0/photo.jpg?sz=128", "display_name": "Hemant Yadav", "link": "https://stackoverflow.com/users/6517630/hemant-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1546966442, "last_edit_date": 1546966442, "creation_date": 1546498336, "answer_id": 54017580, "question_id": 51264143, "link": "https://stackoverflow.com/questions/51264143/checkboxs-ischecked-not-working-when-i-set-initially-in-java-or-kotlin/54017580#54017580", "title": "CheckBox&#39;s isChecked not working when I set initially in java or Kotlin", "body": "<p>A better approach would be to use <code>jumpDrawablesToCurrentState</code> to solve this problem.</p>\n\n<p>The reason is when you call <code>setChecked(true)</code> it does the following tasks:</p>\n\n<ol>\n<li>Change the border color. </li>\n<li>Animation of setting the check inside the checkBox. </li>\n</ol>\n\n<p>For some reason when the checkbox is hidden, it only does the first task and the second task is skipped. That's why this problem was occurring in my case. Calling <code>jumpDrawablesToCurrentState</code> solves this issue by doing both tasks at the same time without playing animation. </p>\n"}], "owner": {"reputation": 574, "user_id": 3176277, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/43Xga.jpg?s=128&g=1", "display_name": "Rajan Maurya", "link": "https://stackoverflow.com/users/3176277/rajan-maurya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1546966442, "creation_date": 1531222437, "last_edit_date": 1531235375, "question_id": 51264143, "link": "https://stackoverflow.com/questions/51264143/checkboxs-ischecked-not-working-when-i-set-initially-in-java-or-kotlin", "title": "CheckBox&#39;s isChecked not working when I set initially in java or Kotlin", "body": "<p>If I set checkbox state in xml initially, It's working fine but When I set in java or Kotlin dynamically It's not working as I expected. </p>\n\n<p>Like an exmaple when I am setting <code>isChecked = true</code> It supposed to show check box filled with accent color but It's only showing checking border color with accent only but did not filled the color inside.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aonkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aonkr.png\" alt=\"enter image description here\"></a></p>\n\n<p>See when I set the isChecked It's showing accent color in border only.</p>\n\n<p>If I set checkbox state <code>checked = true</code> and set <code>isChecked = false</code> in java It looks like this then</p>\n\n<p><a href=\"https://i.stack.imgur.com/zdR7b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zdR7b.png\" alt=\"enter image description here\"></a></p>\n\n<p>Xml Code of CheckBox</p>\n\n<pre><code>&lt;CheckBox\n   android:checked=\"false\"\n   android:id=\"@+id/check_box\"\n   android:layout_height=\"wrap_content\"\n   android:layout_marginTop=\"@dimen/layout_padding_8dp\"\n   android:layout_width=\"wrap_content\"\n   android:text=\"@string/check_box_title\"/&gt;\n</code></pre>\n\n<p>Kotlin Code</p>\n\n<pre><code>check_box.isChecked = false // Setting Uncheck\ncheck_box.isChecked = true // Setting Checked\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-textinputlayout"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8727946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CluCq.jpg?s=128&g=1", "display_name": "Android Rooter", "link": "https://stackoverflow.com/users/8727946/android-rooter"}, "edited": false, "score": 0, "creation_date": 1531222703, "post_id": 51264184, "comment_id": 89506261, "body": "Is it possible to change it programmatically? If yes please provide how."}, {"owner": {"reputation": 98, "user_id": 8203859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ov4e6ZSATRE/AAAAAAAAAAI/AAAAAAAAENw/uOv0K-HG4Xg/photo.jpg?sz=128", "display_name": "Shanmuka Chowdary", "link": "https://stackoverflow.com/users/8203859/shanmuka-chowdary"}, "reply_to_user": {"reputation": 11, "user_id": 8727946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CluCq.jpg?s=128&g=1", "display_name": "Android Rooter", "link": "https://stackoverflow.com/users/8727946/android-rooter"}, "edited": false, "score": 0, "creation_date": 1531223003, "post_id": 51264184, "comment_id": 89506440, "body": "Please refer this link <a href=\"https://stackoverflow.com/questions/25815769/how-to-really-programmatically-change-primary-and-accent-color-in-android-loll\" title=\"how to really programmatically change primary and accent color in android loll\">stackoverflow.com/questions/25815769/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 8727946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CluCq.jpg?s=128&g=1", "display_name": "Android Rooter", "link": "https://stackoverflow.com/users/8727946/android-rooter"}, "edited": false, "score": 0, "creation_date": 1531234644, "post_id": 51264184, "comment_id": 89515097, "body": "Thank you so much! It took a lot of work but finally worked. With a small trade off though."}, {"owner": {"reputation": 98, "user_id": 8203859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ov4e6ZSATRE/AAAAAAAAAAI/AAAAAAAAENw/uOv0K-HG4Xg/photo.jpg?sz=128", "display_name": "Shanmuka Chowdary", "link": "https://stackoverflow.com/users/8203859/shanmuka-chowdary"}, "reply_to_user": {"reputation": 11, "user_id": 8727946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CluCq.jpg?s=128&g=1", "display_name": "Android Rooter", "link": "https://stackoverflow.com/users/8727946/android-rooter"}, "edited": false, "score": 0, "creation_date": 1531302837, "post_id": 51264184, "comment_id": 89542210, "body": "Welcome, Keep Coding"}], "tags": [], "owner": {"reputation": 98, "user_id": 8203859, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ov4e6ZSATRE/AAAAAAAAAAI/AAAAAAAAENw/uOv0K-HG4Xg/photo.jpg?sz=128", "display_name": "Shanmuka Chowdary", "link": "https://stackoverflow.com/users/8203859/shanmuka-chowdary"}, "is_accepted": false, "score": 0, "last_activity_date": 1531222559, "creation_date": 1531222559, "answer_id": 51264184, "question_id": 51264001, "link": "https://stackoverflow.com/questions/51264001/changing-textinputlayouts-focus-color-dynamically-programmatically/51264184#51264184", "title": "Changing TextInputLayout&#39;s Focus color dynamically programmatically", "body": "<p>Change the Color Accent in the App Theme</p>\n\n<pre><code> &lt;item name=\"colorAccent\"&gt;@color/Color Name&lt;/item&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8727946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CluCq.jpg?s=128&g=1", "display_name": "Android Rooter", "link": "https://stackoverflow.com/users/8727946/android-rooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531222559, "creation_date": 1531221995, "question_id": 51264001, "link": "https://stackoverflow.com/questions/51264001/changing-textinputlayouts-focus-color-dynamically-programmatically", "title": "Changing TextInputLayout&#39;s Focus color dynamically programmatically", "body": "<p>I'm working on an android app using kotlin. </p>\n\n<p>I'm asked to implement a feature where the user picks a color upon signup, and this color is later the main color for this user in the app. Where the action bar, buttons, and textinputlayouts should change color.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WqWfG.jpg\" rel=\"nofollow noreferrer\">Before the user picks a color (app default theme color)</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/pJc09.jpg\" rel=\"nofollow noreferrer\">This is where I reached after the user picks the color from the color picker.</a></p>\n\n<p>Any idea how to change the color of the textinputlayouts accordingly?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 1575, "user_id": 3759846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTvAt.png?s=128&g=1", "display_name": "Wajid", "link": "https://stackoverflow.com/users/3759846/wajid"}, "edited": false, "score": 1, "creation_date": 1531220731, "post_id": 51263356, "comment_id": 89504993, "body": "from where do you get context, which you passing incase of holder.itemView.onClick {showDialog(context, notes[position]) } ?"}, {"owner": {"reputation": 492, "user_id": 8427587, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R81O1.jpg?s=128&g=1", "display_name": "Fadel Trivandi Dipantara", "link": "https://stackoverflow.com/users/8427587/fadel-trivandi-dipantara"}, "reply_to_user": {"reputation": 1575, "user_id": 3759846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTvAt.png?s=128&g=1", "display_name": "Wajid", "link": "https://stackoverflow.com/users/3759846/wajid"}, "edited": false, "score": 0, "creation_date": 1531222404, "post_id": 51263356, "comment_id": 89506037, "body": "I get the context from constructor in my adapter <code>class NotesAdapter(private val context: Context) : RecyclerView.Adapter&lt;NotesAdapter.NotesViewHolder&gt;() {</code>"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 8427587, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R81O1.jpg?s=128&g=1", "display_name": "Fadel Trivandi Dipantara", "link": "https://stackoverflow.com/users/8427587/fadel-trivandi-dipantara"}, "edited": false, "score": 0, "creation_date": 1531280618, "post_id": 51271141, "comment_id": 89531429, "body": "Can you give me an explanation of why this approach works?"}], "tags": [], "owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "is_accepted": true, "score": 2, "last_activity_date": 1531295645, "last_edit_date": 1531295645, "creation_date": 1531243849, "answer_id": 51271141, "question_id": 51263356, "link": "https://stackoverflow.com/questions/51263356/comparison-of-view-setonlongclicklistener-and-view-onclick-in-kotlin/51271141#51271141", "title": "Comparison of view.setOnLongClickListener and view.onClick in Kotlin", "body": "<p>Maybe try this:</p>\n\n<pre><code>class NotesAdapter(private val ctx: Context) : RecyclerView.Adapter&lt;NotesAdapter.NotesViewHolder&gt;() {\n    // Etc\n    holder.itemView.onClick { showDialog(ctx, notes[position]) }\n}\n</code></pre>\n\n<p><strong>EDIT - Explanation</strong></p>\n\n<p>I'm not an expert at Kotlin by any means, but the error that you got was a very clear clue as to what was going on. </p>\n\n<p>When you call <code>holder.itemView.onClick</code> under the hood you are calling itemView.setOnClickListener which takes an instance of View.OnClickListener. So you could have done something like this and it probably would have worked fine:</p>\n\n<pre><code>class NotesAdapter(private val context: Context) : RecyclerView.Adapter&lt;NotesAdapter.NotesViewHolder&gt;() {\n    // Etc\n    holder.itemView.onClick(View.OnClickListener(){\n        void onClick(v: View) {\n            showDialog(context, notes[position])\n        }\n    })\n}\n</code></pre>\n\n<p>Instead you wanted to use some of Kotlins clean syntax and pass it a lambda. Which is completely valid, and much cleaner. However, it seems like the lambda (or coroutine) has apparently also has a field called context and it has a type of CoroutineContext. Continuing the example above its the equivalent of this:</p>\n\n<pre><code>holder.itemView.onClick(View.OnClickListener(){\n    var context: CoroutineContext\n    void onClick(v: View) {\n        showDialog(context, notes[position])\n    }\n})\n</code></pre>\n\n<p>In which case when you call showDialog you get the \"context\" of the current scope which is the wrong type which is why you got the Type mismatch error.</p>\n\n<p>In java there's another solution, I just don't know the equivalent Kotlin syntax. You would do something like this:</p>\n\n<pre><code>holder.itemView.onClick { showDialog(NotesAdapter.this.context, notes[position]) }\n</code></pre>\n\n<p>Which is just another way of telling the compiler that the context that you are looking for is in the NotesAdapter scope and not in the Coroutine scope</p>\n"}], "owner": {"reputation": 492, "user_id": 8427587, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R81O1.jpg?s=128&g=1", "display_name": "Fadel Trivandi Dipantara", "link": "https://stackoverflow.com/users/8427587/fadel-trivandi-dipantara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 51271141, "answer_count": 1, "score": 1, "last_activity_date": 1531295645, "creation_date": 1531219924, "question_id": 51263356, "link": "https://stackoverflow.com/questions/51263356/comparison-of-view-setonlongclicklistener-and-view-onclick-in-kotlin", "title": "Comparison of view.setOnLongClickListener and view.onClick in Kotlin", "body": "<p>I'm trying to call another function from my recycler view adapter, I add the onclick listener in my <code>holder.itemView</code>. I have tried <code>setOnClickListener</code> and <code>onClick</code> in my Activity with <code>this@MainActivity</code> as the <code>context</code> paramater, it works fine.</p>\n\n<pre><code>btn.setOnClickListener { showDialog(this@MainActivity) }\nbtn.onClick { showDialog(this@MainActivity) }\n</code></pre>\n\n<p>but <code>onClick</code> won't work in the adapter because</p>\n\n<pre><code>holder.itemView.setOnClickListener {\n    showDialog(context, notes[position])\n} // This works fine\n\n// Type mismatch required Context, Found CoroutineContext\nholder.itemView.onClick { showDialog(context, notes[position]) }\n</code></pre>\n\n<p>What should I do to fix this if I want to use <code>onClick</code> instead of setOnClickListener</p>\n"}, {"tags": ["android", "kotlin", "wear-os", "android-wear-2.0"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 4473737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4PSz.jpg?s=128&g=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/4473737/divya"}, "edited": false, "score": 1, "creation_date": 1531219371, "post_id": 51263139, "comment_id": 89504194, "body": "If I add it likewise, I&#39;m getting another similar error Unresolved reference: ViewHolder"}], "tags": [], "owner": {"reputation": 1376, "user_id": 4614807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qO4k8.jpg?s=128&g=1", "display_name": "Bubu", "link": "https://stackoverflow.com/users/4614807/bubu"}, "is_accepted": false, "score": 0, "last_activity_date": 1531219227, "creation_date": 1531219227, "answer_id": 51263139, "question_id": 51262977, "link": "https://stackoverflow.com/questions/51262977/unresolved-reference-wearablerecyclerview-adapter-error-in-kotlin/51263139#51263139", "title": "Unresolved reference WearableRecyclerView.Adapter error in Kotlin", "body": "<p>Your class <code>inner class viewHolder(view: View) : WearableRecyclerView(mcontext)</code> must extends <code>WearableRecyclerView.ViewHolder</code> instead of <code>WearableRecyclerView</code> like : </p>\n\n<pre><code>inner class viewHolder(view: View) : WearableRecyclerView.ViewHolder(view)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 713, "user_id": 1673242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1643b01375400ea81035866f6543ac?s=128&d=identicon&r=PG", "display_name": "Brendan", "link": "https://stackoverflow.com/users/1673242/brendan"}, "is_accepted": false, "score": 1, "last_activity_date": 1536574238, "creation_date": 1536574238, "answer_id": 52255501, "question_id": 51262977, "link": "https://stackoverflow.com/questions/51262977/unresolved-reference-wearablerecyclerview-adapter-error-in-kotlin/52255501#52255501", "title": "Unresolved reference WearableRecyclerView.Adapter error in Kotlin", "body": "<p>Rather than using a (apparently non existent) <code>WearableRecyclerView.Adapter</code> consider using the non-wearable adapter: <code>RecyclerView.Adapter</code></p>\n"}], "owner": {"reputation": 483, "user_id": 4473737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4PSz.jpg?s=128&g=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/4473737/divya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1536574238, "creation_date": 1531218747, "last_edit_date": 1534743623, "question_id": 51262977, "link": "https://stackoverflow.com/questions/51262977/unresolved-reference-wearablerecyclerview-adapter-error-in-kotlin", "title": "Unresolved reference WearableRecyclerView.Adapter error in Kotlin", "body": "<p>I'm trying to create an android wear app with a list of items. To enable circular scrolling, I'm using <a href=\"https://developer.android.com/training/wearables/ui/lists\" rel=\"nofollow noreferrer\">WearableRecyclerView</a> by coding in kotlin. But facing this error <strong>Unresolved reference: Adapter</strong> The same code in java doesn't throw this error! I've also referred the inner and outer classes concepts in kotlin. Adapter class is an abstract class of RecyclerView which in turn is extended by WearableRecyclerView. Any guidance will be of much use, Thankyou!!</p>\n\n<p>Here is my code</p>\n\n<pre><code>class CustomRecyclerAdapter(context: Context,dataSet: Array&lt;String&gt;): WearableRecyclerView.Adapter&lt;CustomRecyclerAdapter.viewHolder&gt;() {\n\n\n\nvar mDataSet: Array&lt;String&gt;\nvar mcontext: Context\n\n\ninit {\n    mDataSet = dataSet\n    mcontext=context\n}\n\n   inner class viewHolder(view: View) : WearableRecyclerView(mcontext) {\n\n    val mTextView: TextView\n\n    init {\n        mTextView = view.findViewById(R.id.textView)\n    }\n\n    override fun toString(): String {\n        return mTextView.text as String\n    }\n}\n\nfun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): viewHolder {\n    val view = LayoutInflater.from(viewGroup.context)\n            .inflate(R.layout.recycler_row_item, viewGroup, false)\n\n    return viewHolder(view)\n}\n\nfun onBindViewHolder(viewHolder: viewHolder, position: Int) {\n    // Replaces content of view with correct element from data set\n    viewHolder.mTextView.text = mDataSet[position]\n}\n\n// Return the size of your dataset (invoked by the layout manager)\nfun getItemCount(): Int {\n    return mDataSet.size\n}\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "sendbird", "android-messaging"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1531899173, "post_id": 51334392, "comment_id": 89763280, "body": "Thank you very much for the answer. Would you please also tell what would be the guideline in the case when user1 sends message to user2, but user2 is not connected."}, {"owner": {"reputation": 81, "user_id": 1513066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c584a7a67577d10a369363cabd2b62b?s=128&d=identicon&r=PG", "display_name": "jannamcl", "link": "https://stackoverflow.com/users/1513066/jannamcl"}, "reply_to_user": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1532109177, "post_id": 51334392, "comment_id": 89866394, "body": "Are you currently using FCM for push notification support? When user2 is not connected, you can send a push to prompt the user to return to the app. Here is our guide on Android push notifications for more details: <a href=\"https://docs.sendbird.com/android/push_notifications\" rel=\"nofollow noreferrer\">docs.sendbird.com/android/push_notifications</a>"}, {"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1532427310, "post_id": 51334392, "comment_id": 89959978, "body": "Thank you Janna, I just wrote an email to the support team. Unfortunately, I can&#39;t copy it here. The main idea is to build a 1-to-1 chat so that users are able to have separate chats for different topics, ex. me and you have chat about work, another chat about sports, etc.. I tried this solution: set distinct to be false, gave topic as a customType and cached urls. So everytime i need a chat instance i check if I have chat with user1, user2 and topic1, if yes I get the chat by url, if no I create new one and again store the url. Is there any better solution to this? Am i missing smth?"}, {"owner": {"reputation": 174, "user_id": 5742450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fJ1lF.png?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/5742450/naveen"}, "edited": false, "score": 0, "creation_date": 1533982120, "post_id": 51334392, "comment_id": 90553969, "body": "@JannaMcLaughlin I am implementing SendBird in my Xamarin android app, Every Thing is fine, but i am facing issue in showing Last Seen, Online status for those user with whom i have initiated chat because of I am getting List of person with whom i have chat as a MessagingChannel and there is not last seen and online property in MessagingChannel Object. Please help me."}], "tags": [], "owner": {"reputation": 81, "user_id": 1513066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c584a7a67577d10a369363cabd2b62b?s=128&d=identicon&r=PG", "display_name": "jannamcl", "link": "https://stackoverflow.com/users/1513066/jannamcl"}, "is_accepted": true, "score": 1, "last_activity_date": 1531530529, "creation_date": 1531530529, "answer_id": 51334392, "question_id": 51262434, "link": "https://stackoverflow.com/questions/51262434/sendbird-channelhandler-onmessagereceived-is-not-called-on-android/51334392#51334392", "title": "SendBird ChannelHandler onMessageReceived is not called on Android", "body": "<p>The SendBird Android and iOS SDKs are intended for client-side code on mobile. Only one user connection should be made per client, not multiple user connections on the client-side mobile app. </p>\n\n<p>I recommend testing on two separate devices/emulators to simulate two users messaging in your application. The code should have one handler that adds the ChannelHandler for the current Android user that calls onMessageReceived(p0: BaseChannel?, p1: BaseMessage?). Your application could have a list of users where user 111111 can select user 222222 and send a message to that user. On select, the app would create a distinct group channel for user 111111 (the current user) and user 222222 (the selected user(s)). Then, user 111111 could send a message in that channel.</p>\n\n<p>For a code sample, please feel free to download our Android Chat Sample here:\n<a href=\"https://github.com/smilefam/Sendbird-Android\" rel=\"nofollow noreferrer\">https://github.com/smilefam/Sendbird-Android</a></p>\n\n<p>We would love to learn more about your use case and to help you get this working. Please email <a href=\"http://support@sendbird.com\" rel=\"nofollow noreferrer\">support@sendbird.com</a> for further support and reference \"StackOverflow\" in the subject line.</p>\n\n<p>-- Janna, Solutions Engineer @ SendBird</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 51334392, "answer_count": 1, "score": 0, "last_activity_date": 1531530529, "creation_date": 1531217067, "question_id": 51262434, "link": "https://stackoverflow.com/questions/51262434/sendbird-channelhandler-onmessagereceived-is-not-called-on-android", "title": "SendBird ChannelHandler onMessageReceived is not called on Android", "body": "<p>I just started using SendBird on Android. I want to make 1-in-1 chat, so I connected users to SendBird, set the handler, created channel and sent a message, however, the onMessageReceived is not working. See the code below:</p>\n\n<pre><code>var handler = object : SendBird.ConnectHandler{\n        override fun onConnected(p0: User?, p1: SendBirdException?) {\n            SendBird.addChannelHandler(UNIQUE_HANDLER_ID, object : SendBird.ChannelHandler() {\n                override fun onMessageReceived(p0: BaseChannel?, p1: BaseMessage?) {\n                    Log.d(TAG, \"addChannelHandler  - onMessageReceived - messageId ${p1?.messageId}\")\n                    Log.d(TAG, \"addChannelHandler  - onMessageReceived - channelUrl ${p1?.channelUrl}\")\n\n                    if (p1 is UserMessage) {\n                        Log.d(TAG, \"addChannelHandler  - onMessageReceived - messageId ${p1?.message}\")\n                    }\n                }\n            })\n        }\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        SendBird.connect(\"222222\", handler)\n        SendBird.connect(\"111111\", object : SendBird.ConnectHandler {\n            override fun onConnected(p0: User?, p1: SendBirdException?) {\n                Log.d(TAG, \" SendBird.connect - userID -  \" + p0?.userId)\n\n                var list = mutableListOf(\"111111\", \"222222\")\n\n                var   params = GroupChannelParams()\n                params.setDistinct(true)\n                        .addUserIds(list)\n\n                GroupChannel.createChannel(params, object : GroupChannel.GroupChannelCreateHandler {\n                    override fun onResult(p0: GroupChannel?, p1: SendBirdException?) {\n\n                          groupChannel?.sendUserMessage(\"Hello\", object : BaseChannel.SendUserMessageHandler {\n                        override fun onSent(p0: UserMessage?, p1: SendBirdException?) {\n                            Log.d(TAG, \"sendUserMessage - onSent - ${p0?.message}\")\n                        }\n                    })\n\n\n\n                }\n            })\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 5848526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467a76e481d6481a13284b04f7c97808?s=128&d=identicon&r=PG&f=1", "display_name": "Tarika Chawla", "link": "https://stackoverflow.com/users/5848526/tarika-chawla"}, "is_accepted": false, "score": 0, "last_activity_date": 1532366893, "creation_date": 1532366893, "answer_id": 51484289, "question_id": 51262364, "link": "https://stackoverflow.com/questions/51262364/kotlin-android-after-updating-kotlin-to-1-2-51-build-fails-execution-failed-f/51484289#51484289", "title": "Kotlin Android: After updating Kotlin to 1.2.51, build fails. Execution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;", "body": "<p>Try closing Android Studio, and then remove your project from the list of recent projects. \nClick on \"Open Existing project\". This should fix the problem. \nThis worked for me when I was stuck with \"please select Android SDK error after the update. \nTried Clean project, Invalidate many times But this solution worked. </p>\n"}], "owner": {"reputation": 165, "user_id": 9068586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f5b7aac0075cbd145b12f6aff3731f?s=128&d=identicon&r=PG&f=1", "display_name": "wzlr", "link": "https://stackoverflow.com/users/9068586/wzlr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1532366893, "creation_date": 1531216878, "question_id": 51262364, "link": "https://stackoverflow.com/questions/51262364/kotlin-android-after-updating-kotlin-to-1-2-51-build-fails-execution-failed-f", "title": "Kotlin Android: After updating Kotlin to 1.2.51, build fails. Execution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;", "body": "<p>After updating Kotlin to 1.2.51 I cannot build my app. I have invalidated caches numerous times, and feel like I have tried everything. Any help would be greatly appreciated. I've posted logs and some code below so hopefully you can better understand the problem - any help would be greatly appreciated. Thanks!</p>\n\n<p><strong>Logs</strong></p>\n\n<pre><code>e: java.lang.NoClassDefFoundError: org/jetbrains/kotlin/resolve/checkers/DeclarationCheckerContext\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetPublicMethods(Class.java:2902)\n        at java.lang.Class.getMethods(Class.java:1615)\n        at org.jetbrains.kotlin.container.CacheKt.getSetterInfos(Cache.kt:64)\n        at org.jetbrains.kotlin.container.CacheKt.traverseClass(Cache.kt:59)\n        at org.jetbrains.kotlin.container.CacheKt.access$traverseClass(Cache.kt:1)\n        at org.jetbrains.kotlin.container.ClassTraversalCache.getClassInfo(Cache.kt:29)\n        at org.jetbrains.kotlin.container.CacheKt.getInfo(Cache.kt:38)\n        at org.jetbrains.kotlin.container.InstanceComponentDescriptor.getRegistrations(Components.kt:24)\n        at org.jetbrains.kotlin.container.ComponentRegistry.buildRegistrationMap(Registry.kt:26)\n        at org.jetbrains.kotlin.container.ComponentRegistry.addAll(Registry.kt:36)\n        at org.jetbrains.kotlin.container.ComponentStorage.composeDescriptors(Storage.kt:124)\n        at org.jetbrains.kotlin.container.ComponentStorage.compose(Storage.kt:118)\n        at org.jetbrains.kotlin.container.StorageComponentContainer.compose(Container.kt:55)\n        at org.jetbrains.kotlin.container.DslKt.composeContainer(Dsl.kt:24)\n        at org.jetbrains.kotlin.resolve.TargetPlatformKt.createContainer(TargetPlatform.kt:149)\n        at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForLazyResolveWithJava(injection.kt:92)\n        at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForTopDownAnalyzerForJvm(injection.kt:141)\n        at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForTopDownAnalyzerForJvm$default(injection.kt:140)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.createContainer(TopDownAnalyzerFacadeForJVM.kt:175)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:86)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n        at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:162)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:109)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:53)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:451)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:97)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:218)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:37)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:80)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:92)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:518)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:97)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:400)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:895)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:97)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:925)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:894)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:399)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.jetbrains.kotlin.resolve.checkers.DeclarationCheckerContext\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at org.jetbrains.kotlin.cli.jvm.plugins.PluginURLClassLoader$SelfThenParentURLClassLoader.findClass(PluginURLClassLoader.kt:50)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 66 more\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptGenerateStubsDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 35s\n26 actionable tasks: 1 executed, 25 up-to-date\n</code></pre>\n\n<p><strong>App: build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nbuildscript {\n    ext.kotlin_version = '1.2.51'\n    ext.dagger_version = '2.11'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n    defaultConfig {\n        applicationId \"com.fil.uk.mobile.eventual\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0.4.3\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    useLibrary 'org.apache.http.legacy'\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation project(':gd')\n\n    compile 'me.rishabhkhanna:CustomToggle:1.0.0'\n    compile 'uk.co.chrisjenx:calligraphy:2.3.0'\n    compile 'com.android.support:design:27.1.1'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.9'\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'com.android.support:cardview-v7:27.1.1'\n    compile 'com.android.support:recyclerview-v7:27.1.1'\n    compile 'com.squareup.okhttp:okhttp:2.7.5'\n    compile 'com.ramotion.expandingcollection:expanding-collection:0.9.0'\n    compile 'com.google.code.gson:gson:2.8.2'\n    compile 'de.hdodenhof:circleimageview:2.1.0'\n    compile 'com.github.florent37:materialviewpager:1.2.3'\n//dependencies\n    compile 'com.flaviofaria:kenburnsview:1.0.7'\n    compile 'com.jpardogo.materialtabstrip:library:1.1.0'\n    compile 'com.github.bumptech.glide:glide:4.0.0'\n\n    compile 'com.google.dagger:dagger:2.11'\n    kapt \"com.google.dagger:dagger-compiler:2.11\"\n\n    compile 'com.facebook.stetho:stetho:1.5.0'\n\n    compile 'de.siegmar:fastcsv:1.0.2'\n\n    compile 'com.jaredrummler:material-spinner:1.2.3'\n    compile 'com.airbnb.android:lottie:2.2.5'\n\n    compile 'com.github.dmytrodanylyk.circular-progress-button:library:1.1.3'\n\n    // Required -- JUnit 4 framework\n    testCompile 'junit:junit:4.12'\n    // Optional -- Mockito framework\n    testCompile 'org.mockito:mockito-core:2.13.0'\n    //Word utils\n    compile 'org.apache.commons:commons-lang3:3.4'\n\n}\n</code></pre>\n\n<p>I am also getting unresolved references to some libraries:\n<a href=\"https://i.stack.imgur.com/4OMsA.png\" rel=\"nofollow noreferrer\">Link to image</a></p>\n\n<p>Any help would be greatly appreciated as I have been stuck with this for hours.</p>\n"}, {"tags": ["android", "json", "kotlin", "gson", "retrofit2"], "comments": [{"owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1531216924, "post_id": 51262195, "comment_id": 89502701, "body": "may be its not possible with help of GSON, either you have to add different key string like &quot;error&quot;:&quot;error message&quot; and check if it is null or empty?"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1531216992, "post_id": 51262195, "comment_id": 89502742, "body": "you want to both data fetching."}, {"owner": {"reputation": 4557, "user_id": 8009433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XbhSe.jpg?s=128&g=1", "display_name": "Navneet Krishna", "link": "https://stackoverflow.com/users/8009433/navneet-krishna"}, "edited": false, "score": 0, "creation_date": 1531278613, "post_id": 51262195, "comment_id": 89531092, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24279245/how-to-handle-dynamic-json-in-retrofit\">How to handle Dynamic JSON in Retrofit?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 1, "last_activity_date": 1531217643, "creation_date": 1531217643, "answer_id": 51262629, "question_id": 51262195, "link": "https://stackoverflow.com/questions/51262195/how-to-create-a-json-converter-for-objects-that-can-be-either-a-string-or-a-cust/51262629#51262629", "title": "How to create a JSON Converter for objects that can be either a String or a Custom Object", "body": "<p>make pojo class like this way..</p>\n\n<pre><code>public class Details{\n\n@SerializedName(\"address\")\nprivate String address;\n\n@SerializedName(\"birthdate\")\nprivate String birthdate;\n\n@SerializedName(\"profile_file_id\")\nprivate Object profileFileId;\n\n@SerializedName(\"user_id\")\nprivate String userId;\n\n@SerializedName(\"name\")\nprivate String name;\n\n@SerializedName(\"email\")\nprivate String email;\n\npublic void setAddress(String address){\n    this.address = address;\n}\n\npublic String getAddress(){\n    return address;\n}\n\npublic void setBirthdate(String birthdate){\n    this.birthdate = birthdate;\n}\n\npublic String getBirthdate(){\n    return birthdate;\n}\n\npublic void setProfileFileId(Object profileFileId){\n    this.profileFileId = profileFileId;\n}\n\npublic Object getProfileFileId(){\n    return profileFileId;\n}\n\npublic void setUserId(String userId){\n    this.userId = userId;\n}\n\npublic String getUserId(){\n    return userId;\n}\n\npublic void setName(String name){\n    this.name = name;\n}\n\npublic String getName(){\n    return name;\n}\n\npublic void setEmail(String email){\n    this.email = email;\n}\n\npublic String getEmail(){\n    return email;\n}\n\n}\n</code></pre>\n\n<p>ResponseData..</p>\n\n<pre><code>public class ResponseData extends ErrorResponse{\n\n@SerializedName(\"response\")\nprivate String response;\n\n@SerializedName(\"details\")\nprivate String details;\n\npublic void setResponse(String response){\n    this.response = response;\n}\n\npublic String getResponse(){\n    return response;\n}\n\npublic void setDetails(String details){\n    this.details = details;\n}\n\npublic String getDetails(){\n    return details;\n}\n\n}\n</code></pre>\n\n<p>Error Response..</p>\n\n<pre><code>public class ErrorResponse {\n\n@SerializedName(\"response\")\nprivate String response;\n\n@SerializedName(\"details\")\nprivate String details;\n</code></pre>\n\n<p>}</p>\n\n<p>make api call into interface..</p>\n\n<pre><code>@GET(\"path\")\nCall&lt;ResponseData&gt; getUserData();\n</code></pre>\n\n<p>api called.</p>\n\n<pre><code>        Call&lt;ResponseData&gt; dataCall=apiInterface.getUserData();\n    dataCall.enqueue(new Callback&lt;ResponseData&gt;() {\n        @Override\n        public void onResponse(Call&lt;ResponseData&gt; call, Response&lt;ResponseData&gt; response) {\n            if (response!=null &amp;&amp; response.isSuccessful() &amp;&amp; response.body()!=null){\n\n            }\n            else{\n                if (response.errorBody()!=null){\n                    ErrorResponse errorResponse=new Gson().fromJson(response.errorBody().toString(),ErrorResponse.class);\n                    Log.d(\"Error data\",response.errorBody().toString());\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;ResponseData&gt; call, Throwable t) {\n\n        }\n    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1428, "user_id": 6243778, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/agD7O.png?s=128&g=1", "display_name": "Dale Julian", "link": "https://stackoverflow.com/users/6243778/dale-julian"}, "edited": false, "score": 0, "creation_date": 1531297751, "post_id": 51262898, "comment_id": 89538699, "body": "This is true. I&#39;ll suggest to change it to a more semantic way next time. However, I changed your <code>String details</code> to a <code>JsonElement</code>. But this worked! Thanks!"}], "tags": [], "owner": {"reputation": 638, "user_id": 2538860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ac2ccb36a009e2c6c219bb519cb1e?s=128&d=identicon&r=PG", "display_name": "Viktor Stojanov", "link": "https://stackoverflow.com/users/2538860/viktor-stojanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1531218498, "creation_date": 1531218498, "answer_id": 51262898, "question_id": 51262195, "link": "https://stackoverflow.com/questions/51262195/how-to-create-a-json-converter-for-objects-that-can-be-either-a-string-or-a-cust/51262898#51262898", "title": "How to create a JSON Converter for objects that can be either a String or a Custom Object", "body": "<pre><code>public class ResponseData {\n\n    @SerializedName(\"response\")\n    private String response;\n\n    @SerializedName(\"details\")\n    private String details;\n\n    public String getError(){\n        if(response.equals(\"FAILED\")\n            return details;\n        else return null; \n    }\n\n    public UserData getUserData(){\n        if(response.equals(\"SUCCESS\")\n           return new Gson().fromJson(details, UserData.class);\n        else return null;\n    }\n</code></pre>\n\n<p>and Retrofit2 with RxJava2</p>\n\n<pre><code>MaybeObserver&lt;ResponseData&gt; getUserData(...)\n</code></pre>\n\n<p>However in my opinion your API design introduces some failure potential. Use HTTP response codes instead. </p>\n"}, {"tags": [], "owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "is_accepted": false, "score": 0, "last_activity_date": 1531218659, "creation_date": 1531218659, "answer_id": 51262951, "question_id": 51262195, "link": "https://stackoverflow.com/questions/51262195/how-to-create-a-json-converter-for-objects-that-can-be-either-a-string-or-a-cust/51262951#51262951", "title": "How to create a JSON Converter for objects that can be either a String or a Custom Object", "body": "<p>Is not correct to use the same property to contain 2 semantically different types of information. You are sort of applying polymorphism on a class internally (using the state of some inner porperty to decide the content <em>type</em> of some other porperty). What I would do is add another property parallel do <code>details</code>, like <code>errorDetails</code> which will be populated with the error reason in the case where an error occurs. In this case you have 2 separate fields to handle the data according to the type of response.</p>\n"}], "owner": {"reputation": 1428, "user_id": 6243778, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/agD7O.png?s=128&g=1", "display_name": "Dale Julian", "link": "https://stackoverflow.com/users/6243778/dale-julian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 51262898, "answer_count": 3, "score": 0, "last_activity_date": 1531218659, "creation_date": 1531216405, "question_id": 51262195, "link": "https://stackoverflow.com/questions/51262195/how-to-create-a-json-converter-for-objects-that-can-be-either-a-string-or-a-cust", "title": "How to create a JSON Converter for objects that can be either a String or a Custom Object", "body": "<p>Our back-end implements a Login API with responses like this:</p>\n\n<p>Successful Response:</p>\n\n<pre><code>{\n    \"response\": \"SUCCESS\",\n    \"details\": {\n        \"user_id\": \"912341\",\n        \"name\": \"John Doe\",\n        \"email\": \"johndoe@gmail.com\",\n        \"address\": \"John Doe's House\",\n        \"birthdate\": \"2018-07-09\",\n        \"profile_file_id\": null\n    }\n}\n</code></pre>\n\n<p>Error reponse:</p>\n\n<pre><code>{\n    \"response\": \"FAILED\",\n    \"details\": \"Invalid email\"\n}\n</code></pre>\n\n<p>How can I make my GSON and Retrofit Serializer dynamic to allow data changes like this? I am using Retrofit 2, Gson, and RxJava2CallAdapterFactory.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 354, "user_id": 6513815, "user_type": "registered", "profile_image": "https://graph.facebook.com/1053762734689293/picture?type=large", "display_name": "Dinesh Neupane", "link": "https://stackoverflow.com/users/6513815/dinesh-neupane"}, "edited": false, "score": 0, "creation_date": 1531214427, "post_id": 51261403, "comment_id": 89500970, "body": "You might want to look at this: <a href=\"https://android-pratap.blogspot.com/2015/01/recyclerview-with-checkbox-example.html\" rel=\"nofollow noreferrer\">android-pratap.blogspot.com/2015/01/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531214437, "post_id": 51261403, "comment_id": 89500979, "body": "Do you want to start from the bottom? Because this is what you&#39;re asking with reverseLayout=true and stackFromEnd = true."}, {"owner": {"reputation": 894, "user_id": 5762714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4pel.jpg?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5762714/sphinx"}, "edited": false, "score": 1, "creation_date": 1531214533, "post_id": 51261403, "comment_id": 89501064, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26875061/scroll-recyclerview-to-show-selected-item-on-top\">Scroll RecyclerView to show selected item on top</a>"}, {"owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531214843, "post_id": 51261403, "comment_id": 89501281, "body": "@mTak I want to start from a position other than the bottom position"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531214886, "post_id": 51261403, "comment_id": 89501318, "body": "Why do you set reverseLayout=true and stackFromEnd = true?"}, {"owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "reply_to_user": {"reputation": 894, "user_id": 5762714, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i4pel.jpg?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5762714/sphinx"}, "edited": false, "score": 0, "creation_date": 1531214900, "post_id": 51261403, "comment_id": 89501329, "body": "@Sphinx I&#39;ve tried that before. But still doesn&#39;t work."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531214979, "post_id": 51261403, "comment_id": 89501396, "body": "So comment out these 2 lines and try again"}, {"owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531215253, "post_id": 51261403, "comment_id": 89501592, "body": "@mTak I try stackFromEnd = true and false nothing happen. I use reverselayout = true to reverse the order of my data from firebase. It works, but the scroll position starts from bottom. I want to change it from the other position"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531215345, "post_id": 51261403, "comment_id": 89501657, "body": "see my answer. I did not see that that you set the adapter after you try to scroll"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 1, "creation_date": 1531215540, "post_id": 51261757, "comment_id": 89501784, "body": "Still start from bottom :("}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531215869, "post_id": 51261757, "comment_id": 89502009, "body": "Do they all fit to the screen? It would be better if you post an image of the starting screen"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531216685, "post_id": 51261757, "comment_id": 89502527, "body": "Are you sure the position of the item is 3?"}, {"owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531216971, "post_id": 51261757, "comment_id": 89502728, "body": "yes. I try to start from position 0, 1, 2, mItems.size()-1. But nothing happen. Still start from bottom when reverseLayout = true."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "edited": false, "score": 0, "creation_date": 1531217108, "post_id": 51261757, "comment_id": 89502806, "body": "Try  scrollToPosition(mItems.size()-3) or scrollToPosition(mItems.size()-4)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1531216258, "last_edit_date": 1531216258, "creation_date": 1531215068, "answer_id": 51261757, "question_id": 51261403, "link": "https://stackoverflow.com/questions/51261403/android-recycler-view-scroll-to-position-doesnt-work/51261757#51261757", "title": "Android - recycler view scroll to position doesn&#39;t work", "body": "<p>First of all delete the both lines that make the recyclerview start from the botom. \nSet the scrolling after you set the adapter:</p>\n\n<pre><code>mRecyclerView!!.adapter = mAdapter\nmRecyclerView?.scrollToPosition(3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1532443116, "creation_date": 1532443116, "answer_id": 51501394, "question_id": 51261403, "link": "https://stackoverflow.com/questions/51261403/android-recycler-view-scroll-to-position-doesnt-work/51501394#51501394", "title": "Android - recycler view scroll to position doesn&#39;t work", "body": "<p>Try to set <code>scrollToPosition</code> using <code>post</code> method of <code>View</code></p>\n"}], "owner": {"reputation": 73, "user_id": 7825519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9678bbdd156530abc95e82af33730?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Siahaan", "link": "https://stackoverflow.com/users/7825519/martin-siahaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 659, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532443116, "creation_date": 1531214060, "last_edit_date": 1531218081, "question_id": 51261403, "link": "https://stackoverflow.com/questions/51261403/android-recycler-view-scroll-to-position-doesnt-work", "title": "Android - recycler view scroll to position doesn&#39;t work", "body": "<p>I am trying to retrieve data from firebase then display it in recycler view. I set the layout to be reverselayout = true. However, when I run the activity, the view starts at the bottom. I tried to change the initial position when the application is run using scrollToPosition as commented below, but still nothing changes. Does anyone have a solution related to this problem?</p>\n\n<p>I've tried this: <a href=\"https://stackoverflow.com/a/26876044/7825519\">https://stackoverflow.com/a/26876044/7825519</a>\nBut still start from bottom.</p>\n\n<pre><code>mRecyclerView!!.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n    (mRecyclerView!!.layoutManager as LinearLayoutManager).reverseLayout = true\n    (mRecyclerView!!.layoutManager as LinearLayoutManager).stackFromEnd = true\n    mRecyclerView?.scrollToPosition(3)\n//        mRecyclerView?.smoothScrollToPosition(3)\n//        (mRecyclerView!!.layoutManager as LinearLayoutManager).scrollToPositionWithOffset(3,0)\n//        mNestedScrollView?.scrollTo(0,3)\n    mAdapter = DiscoverAdapter(mItems, mPostKey, Static.mLikedPosts, this)\n    mRecyclerView!!.adapter = mAdapter\n    val spacingInPixels = resources.getDimensionPixelSize(R.dimen.margin_between_card)\n    mRecyclerView!!.addItemDecoration(SpacesItemDecoration(spacingInPixels))\n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531218654, "post_id": 51261056, "comment_id": 89503815, "body": "Can you post a complete sample app? I suspect you&#39;re accessing different <code>config</code> objects when reading and writing."}, {"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1531225876, "post_id": 51261056, "comment_id": 89508422, "body": "@EdvinSyse, I&#39;ve edited my OP to include a sample code that demonstrates the issue"}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "edited": false, "score": 0, "creation_date": 1531237089, "post_id": 51268878, "comment_id": 89516803, "body": "The <code>onCommit()</code> member function is a splendid solution. IMHO, this pattern (validation + config) is worth mentioning in tornadoFX guide."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "edited": false, "score": 0, "creation_date": 1531238053, "post_id": 51268878, "comment_id": 89517428, "body": "Great! A small PR against the guide would be much appreciated, I&#39;m a little pressed for time these days myself you see :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1531235830, "creation_date": 1531235830, "answer_id": 51268878, "question_id": 51261056, "link": "https://stackoverflow.com/questions/51261056/tornadofx-how-to-preserve-itemviewmodels-property/51268878#51268878", "title": "TornadoFX: How to preserve `ItemViewModel`&#39;s property?", "body": "<p>Each Component has it's own <code>config</code> store, which is backed by a separate file. Either make sure to use the same config file, or the app global config file.</p>\n\n<p>You can refer to other component's <code>config</code> store, so one solution would be to let the View access the ViewModel's config store like this:</p>\n\n<pre><code>button(\"Do something\") {\n    enableWhen(model.valid)\n    action {\n        model.commit {\n            // ...\n            with(model.config) {\n                set(\"pm\" to model.preserveMe.value)\n                save()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, there is a much simpler and more contained solution, which is simply to handle save in the FooModel's <code>onCommit</code> callback</p>\n\n<pre><code>override fun onCommit() {\n    with(config) {\n        set(\"pm\" to preserveMe.value)\n        save()\n    }\n}\n</code></pre>\n\n<p>In this case you'd simply call <code>model.commit()</code> in the button callback.</p>\n\n<p>You can also use a common, or even global config object. Either use a Controller's config store, or the global store. To use the global config object, just refer to <code>app.config</code> in both the model and the view.</p>\n"}], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 51268878, "answer_count": 1, "score": 0, "last_activity_date": 1531235830, "creation_date": 1531212965, "last_edit_date": 1531225730, "question_id": 51261056, "link": "https://stackoverflow.com/questions/51261056/tornadofx-how-to-preserve-itemviewmodels-property", "title": "TornadoFX: How to preserve `ItemViewModel`&#39;s property?", "body": "<p>Good day.\nI am trying to preserve a property of <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part1/11.%20Editing%20Models%20and%20Validation.html\" rel=\"nofollow noreferrer\"><code>ItemViewModel</code></a> via <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part2/Config%20Settings%20and%20State.html\" rel=\"nofollow noreferrer\"><code>config</code></a> helper. I am able to successfully save the property (<code>conf</code> directory with appropriate <code>.properties</code> file is generated), however upon next start, the property does not restore its value, just remains <code>null</code>. Here's a sample code to demonstrate my issue:</p>\n\n<pre><code>import javafx.beans.property.SimpleStringProperty\nimport tornadofx.*\n\ndata class Foo(val doNotPreserveMe: String, val preserveMe: String)\n\nclass FooModel : ItemViewModel&lt;Foo&gt;() {\n    val doNotPreserveMe = bind { item?.doNotPreserveMe?.toProperty() }\n    val preserveMe = bind { SimpleStringProperty(item?.preserveMe, \"pm\", config.string(\"pm\")) }\n}\n\nclass FooApp : App(FooView::class)\n\nclass FooView : View() {\n    private val model = FooModel()\n\n    override val root = form {\n        fieldset {\n            field(\"Do not preserve me\") { textfield(model.doNotPreserveMe).required() }\n            field(\"Preserve me\") { textfield(model.preserveMe).required() }\n            button(\"Do something\") {\n                enableWhen(model.valid)\n                action {\n                    model.commit {\n                        // ...\n                        with(config) {\n                            set(\"pm\" to model.preserveMe.value)\n                            save()\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Any ideas on why the model is not restoring the value?</p>\n"}, {"tags": ["java", "android", "kotlin", "mocking", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 1, "last_activity_date": 1531225914, "creation_date": 1531225914, "answer_id": 51265311, "question_id": 51260553, "link": "https://stackoverflow.com/questions/51260553/mockiito-wrong-return-value/51265311#51265311", "title": "Mockiito wrong return value?", "body": "<p>The values are not ignored you are simply not mocking them.</p>\n\n<pre><code>Mockito.doNothing()\n    .`when`(bundle)\n    .putBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE, true)\n</code></pre>\n\n<p>This line does not store the <code>true</code> under the given key. With this line you say \"When I call <code>bundle.putBoolean()</code> method with specified arguments I want you to do nothing.\"\nFor mocking a query call you need a different Mockito method.</p>\n\n<pre><code>Mockito.doReturn(true)\n    .`when`(bundle)\n    .getBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE)\n</code></pre>\n\n<p>This line on the other hand tells Mockito to return true for <code>bundle.getBoolean()</code> calls with argument <code>EventPlanner.EVENT_PLANNER_IS_ARCHIVE</code>.</p>\n\n<p>In other words, you need to mock query calls if you want it to return stub values.</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 51265311, "answer_count": 1, "score": 0, "last_activity_date": 1531225914, "creation_date": 1531211415, "last_edit_date": 1531212043, "question_id": 51260553, "link": "https://stackoverflow.com/questions/51260553/mockiito-wrong-return-value", "title": "Mockiito wrong return value?", "body": "<p>Hello I have 2 tests for newInstance() method fragment. </p>\n\n<p>But it looks like I'm doing something wrong, because Mockito is ignoring my bundle values. </p>\n\n<pre><code>    @Test\nfun onNewInstanceTest_isNotArchive() {\n\n    val bundle = Mockito.mock(Bundle::class.java)\n    Mockito.doNothing().`when`(bundle).putBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE, false)\n\n    val eventPlannerListFragment = EventPlannerListFragment.newInstance(bundle)\n\n    val arguments = eventPlannerListFragment.arguments\n    val isArchive = arguments!!.getBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE)\n\n    assertFalse(isArchive)\n}\n\n@Test\nfun onNewInstanceTest_isArchive() {\n\n    val bundle = Mockito.mock(Bundle::class.java)\n    Mockito.doNothing().`when`(bundle).putBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE, true)\n\n    val eventPlannerListFragment = EventPlannerListFragment.newInstance(bundle)\n\n    val arguments = eventPlannerListFragment.arguments\n    val isArchive = arguments!!.getBoolean(EventPlanner.EVENT_PLANNER_IS_ARCHIVE)\n\n    assertTrue(isArchive)\n}\n</code></pre>\n\n<p>But it looks like the values are getting ignored.</p>\n\n<pre><code>java.lang.AssertionError\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat com.fs.wfm.ui.EventPlannerListFragmentTest.onNewInstanceTest_isArchive(EventPlannerListFragmentTest.kt:67)\n</code></pre>\n\n<p><strong>Thanks for any advice.</strong></p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 0, "creation_date": 1531212927, "post_id": 51260256, "comment_id": 89500059, "body": "You may have encounter a limitation of the mock-maker-inline feature."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1531397340, "post_id": 51260256, "comment_id": 89587158, "body": "Checkout <a href=\"http://mockk.io\" rel=\"nofollow noreferrer\">mockk.io</a>. It handles more Kotlin code than Mockito does, so it may be able to mock this."}, {"owner": {"reputation": 332, "user_id": 5222184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b20364bb3b283c9978e51fd825011127?s=128&d=identicon&r=PG&f=1", "display_name": "qpator", "link": "https://stackoverflow.com/users/5222184/qpator"}, "edited": false, "score": 0, "creation_date": 1536769985, "post_id": 51260256, "comment_id": 91547250, "body": "Change <i>findLast</i> to <i>find</i>. It should help"}, {"owner": {"reputation": 6942, "user_id": 205210, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a6526b459b20615378bf2bcdd6fb79d5?s=128&d=identicon&r=PG", "display_name": "Nicolas Guillaume", "link": "https://stackoverflow.com/users/205210/nicolas-guillaume"}, "edited": false, "score": 0, "creation_date": 1562786515, "post_id": 51260256, "comment_id": 100490808, "body": "Have you ever figured out how to get around this error? Thanks."}, {"owner": {"reputation": 3773, "user_id": 3111083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb85298c8d24eeeb1747416973003726?s=128&d=identicon&r=PG&f=1", "display_name": "sunil sunny", "link": "https://stackoverflow.com/users/3111083/sunil-sunny"}, "edited": false, "score": 0, "creation_date": 1614693268, "post_id": 51260256, "comment_id": 117458493, "body": "Did you solved this error?"}], "answers": [{"comments": [{"owner": {"reputation": 6942, "user_id": 205210, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a6526b459b20615378bf2bcdd6fb79d5?s=128&d=identicon&r=PG", "display_name": "Nicolas Guillaume", "link": "https://stackoverflow.com/users/205210/nicolas-guillaume"}, "edited": false, "score": 3, "creation_date": 1562784850, "post_id": 52728563, "comment_id": 100490119, "body": "I don&#39;t think that&#39;s right. I have the same problem and I have <code>mock-maker-inline</code> setup. This looks like a Mockito limitation."}, {"owner": {"reputation": 2854, "user_id": 5253659, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e3d2d8b05bf636b3efd30d5c9dc65aa?s=128&d=identicon&r=PG&f=1", "display_name": "DmitryBorodin", "link": "https://stackoverflow.com/users/5253659/dmitryborodin"}, "reply_to_user": {"reputation": 6942, "user_id": 205210, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a6526b459b20615378bf2bcdd6fb79d5?s=128&d=identicon&r=PG", "display_name": "Nicolas Guillaume", "link": "https://stackoverflow.com/users/205210/nicolas-guillaume"}, "edited": false, "score": 0, "creation_date": 1562798267, "post_id": 52728563, "comment_id": 100494836, "body": "I do mock non-open classes with Mockito in my project, so it is working. Check version and configuration to set it up properly."}], "tags": [], "owner": {"reputation": 2854, "user_id": 5253659, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e3d2d8b05bf636b3efd30d5c9dc65aa?s=128&d=identicon&r=PG&f=1", "display_name": "DmitryBorodin", "link": "https://stackoverflow.com/users/5253659/dmitryborodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1539115634, "creation_date": 1539115634, "answer_id": 52728563, "question_id": 51260256, "link": "https://stackoverflow.com/questions/51260256/mocking-kotlin-class-not-mockable/52728563#52728563", "title": "Mocking Kotlin class not mockable", "body": "<p>Mockito can mock non-open kotlin classes (or final java classes), but you need to turn this function on, since it may change behaviour and will affect mocking performance (which you most probably will not notice)\n<a href=\"https://stackoverflow.com/questions/14292863/how-to-mock-a-final-class-with-mockito/40018295#40018295\">This answer</a> explains how to enable mocking for such cases.</p>\n"}], "owner": {"reputation": 2654, "user_id": 1177083, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/KKeqN.jpg?s=128&g=1", "display_name": "4ndro1d", "link": "https://stackoverflow.com/users/1177083/4ndro1d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2485, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1539115634, "creation_date": 1531210446, "last_edit_date": 1531212065, "question_id": 51260256, "link": "https://stackoverflow.com/questions/51260256/mocking-kotlin-class-not-mockable", "title": "Mocking Kotlin class not mockable", "body": "<p>I have the following class</p>\n\n<pre><code>class GlobalFieldTitleMapper @Inject constructor() {\n\n    fun toTitleMap(rawApiResponse: List&lt;Map&lt;String, Any&gt;&gt;): HashMap&lt;Any, Any&gt; {\n        val titles = HashMap&lt;Any, Any&gt;()\n        val globalHashMap = rawApiResponse.findLast { it.containsKey(\"global\") }\n        val globalValue = globalHashMap?.get(\"global\") as Map&lt;*, *&gt;\n        val boxAttributes = globalValue[\"boxattributes\"]?.let { it as Map&lt;*, *&gt; }\n        boxAttributes?.forEach { key, value -&gt;\n            titles[key!!] = (value as Map&lt;*, *&gt;)[\"boxtitle\"]!!\n        }\n        return titles\n    }\n}\n</code></pre>\n\n<p>and I want to mock this method in a unit test:</p>\n\n<pre><code>@Mock\nprivate lateinit var globalFieldTitleMapper: GlobalFieldTitleMapper\n\n @Before\n    fun setup() {\n        MockitoAnnotations.initMocks(this)\n        recoRepo = RecommendationsRepo(recommendationsApi, SALESLINE, sessionInfo, productModuleMapper, globalFieldTitleMapper)  \n      whenever(globalFieldTitleMapper.toTitleMap(any())).thenReturn(hashMapOf())\n    }\n</code></pre>\n\n<p>But Mockito throws the following error:</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper.\nCan not mock final classes with the following settings :\n - explicit serialization (e.g. withSettings().serializable())\n - extra interfaces (e.g. withSettings().extraInterfaces(...))\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper]\n\n    at com.mediasaturn.app.home.recommendations.RecommendationsRepoTest.setup(RecommendationsRepoTest.kt:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at com.mediasaturn.test.utils.JunitRxSchedulerRule$1.evaluate(JunitRxSchedulerRule.java:40)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper]\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    ... 30 more\nCaused by: java.lang.IllegalStateException: \nByte Buddy could not instrument all classes within the mock's type hierarchy\n\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\n - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:120)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:97)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:201)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:182)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1729)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:38)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:62)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:57)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:41)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:69)\n    ... 30 more\nCaused by: java.lang.IllegalStateException: Inconsistent frame length for public final java.lang.String com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper.toTitleMap(java.util.List): 0\n    at net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1187)\n    at net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1141)\n    at net.bytebuddy.asm.Advice$AdviceVisitor.visitFrame(Advice.java:6636)\n    at net.bytebuddy.jar.asm.ClassReader.a(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.b(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2910)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1628)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2560)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:167)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:117)\n    ... 50 more\n</code></pre>\n\n<p>I tried several approaches like setting explicit types (e.g. instead of <code>Any</code> in the parameter) and also temporarily changed the return type to <code>String</code>. All without success. I think Mockito does not care about the implementation of my method, but only about the signature of the function, but I still don't get what I am doing wrong. Is it the way I define the mock method - where I also tried to set an explicit object instead of <code>hashMapOf()</code>. Also without success. I am happy for every input.</p>\n\n<p><strong>EDIT:</strong> \n    <strong>mock-maker-inline</strong> is enabled and working for other Kotlin classes</p>\n\n<p>Also I tried to use the <code>open</code> keyword on my class - when I run the tests I get the following error</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper.\n\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : JetBrains s.r.o\nJVM vendor version : 25.152-b01\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 1.8.0_152-release-1024-b01\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.12.6\n\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper]\n\n    at com.mediasaturn.app.home.recommendations.RecommendationsRepoTest.setup(RecommendationsRepoTest.kt:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at com.mediasaturn.test.utils.JunitRxSchedulerRule$1.evaluate(JunitRxSchedulerRule.java:40)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [class com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper]\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    ... 30 more\nCaused by: java.lang.IllegalStateException: \nByte Buddy could not instrument all classes within the mock's type hierarchy\n\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\n - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:120)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:97)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:201)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:182)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1729)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:38)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:62)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:57)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:41)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:69)\n    ... 30 more\nCaused by: java.lang.IllegalStateException: Inconsistent frame length for public final java.util.HashMap com.mediasaturn.app.home.recommendations.GlobalFieldTitleMapper.toGlobalField(java.util.List): 0\n    at net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1187)\n    at net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1141)\n    at net.bytebuddy.asm.Advice$AdviceVisitor.visitFrame(Advice.java:6636)\n    at net.bytebuddy.jar.asm.ClassReader.a(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.b(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\n    at net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2910)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1628)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2560)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:167)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:117)\n    ... 50 more\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 1, "creation_date": 1531206016, "post_id": 51258956, "comment_id": 89496331, "body": "What is your extension class extension (type: like .kt)?"}, {"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "reply_to_user": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 0, "creation_date": 1531206204, "post_id": 51258956, "comment_id": 89496433, "body": "type file Log.kt"}], "answers": [{"comments": [{"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 0, "creation_date": 1531206405, "post_id": 51259045, "comment_id": 89496547, "body": "I need to add function on android.util.Log class in android. not new custom class"}, {"owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "reply_to_user": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 2, "creation_date": 1531207233, "post_id": 51259045, "comment_id": 89496965, "body": "android.util.Log class is static, and to make extension function of a static class in Kotlin we need to use their companion object reference. Which if not possible in Log then I suggest to create <code>Any</code> extension function as per this <a href=\"https://stackoverflow.com/a/51259126/4878972\">answer</a>"}], "tags": [], "owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "is_accepted": true, "score": 5, "last_activity_date": 1531206224, "creation_date": 1531206224, "answer_id": 51259045, "question_id": 51258956, "link": "https://stackoverflow.com/questions/51258956/add-extension-on-log-in-android-kotlin/51259045#51259045", "title": "add extension on Log in android (Kotlin)", "body": "<p>To achieve extension function in static class, you need to write extension of the companion object(refer <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">this</a>)</p>\n\n<pre><code>fun Log.Companion.i2(msg:String) {\n ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2596, "user_id": 7409774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDIOj.png?s=128&g=1", "display_name": "Milind Mevada", "link": "https://stackoverflow.com/users/7409774/milind-mevada"}, "is_accepted": false, "score": 1, "last_activity_date": 1531206398, "creation_date": 1531206398, "answer_id": 51259088, "question_id": 51258956, "link": "https://stackoverflow.com/questions/51258956/add-extension-on-log-in-android-kotlin/51259088#51259088", "title": "add extension on Log in android (Kotlin)", "body": "<p>You have created Extension function of Class <code>Log</code>.\nWhich is suppose to call by Instance of Class <code>Log</code>. You are trying to treat extension function as static and calling it by Class name. Which is not correct in the case</p>\n"}, {"comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1531215070, "post_id": 51259126, "comment_id": 89501461, "body": "Extending <code>Any</code> is redundant if you don&#39;t use receiver object, at this point you can create static <code>logI2</code> function."}, {"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1531297789, "post_id": 51259126, "comment_id": 89538727, "body": "@Pawel  why use top-level function? why don&#39;t use Any. ?"}, {"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 1, "creation_date": 1531298238, "post_id": 51259126, "comment_id": 89539012, "body": "Because these two have the same behavior."}], "tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": false, "score": 1, "last_activity_date": 1531223093, "last_edit_date": 1531223093, "creation_date": 1531206516, "answer_id": 51259126, "question_id": 51258956, "link": "https://stackoverflow.com/questions/51258956/add-extension-on-log-in-android-kotlin/51259126#51259126", "title": "add extension on Log in android (Kotlin)", "body": "<p>Currently, static extension methods in Kotlin is not supported without the <code>companion object</code>, because <code>android.util.Log</code> is a java class, so there is no <code>companion object</code>.</p>\n\n<p>Instead, I recommend you to use a static function (package-level function, simply declared outside a class in a source code file):</p>\n\n<pre><code>fun logI2(msg: String) {\n    Log.i(\"Test\", msg)\n}\n</code></pre>\n\n<p>And just use it like this:</p>\n\n<pre><code>logI2(\"activity_main\")\n</code></pre>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 1, "accepted_answer_id": 51259045, "answer_count": 3, "score": 4, "last_activity_date": 1531223093, "creation_date": 1531205880, "last_edit_date": 1531213771, "question_id": 51258956, "link": "https://stackoverflow.com/questions/51258956/add-extension-on-log-in-android-kotlin", "title": "add extension on Log in android (Kotlin)", "body": "<p>I use this code to add extension for <code>Log</code> class android</p>\n\n<pre><code>fun Log.i2(msg:String):Unit{\n    Log.i(\"Test\",msg)\n}\n</code></pre>\n\n<p>when using in the activity</p>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        Log.i2(\"activity_main\")\n    }\n}\n</code></pre>\n\n<p>Log.i2 not found. What's wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1531203653, "post_id": 51258330, "comment_id": 89495231, "body": "Post your XML file."}, {"owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "reply_to_user": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1531203778, "post_id": 51258330, "comment_id": 89495277, "body": "@Ankita xml of the Activity or the row of the spinner?"}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1531203798, "post_id": 51258330, "comment_id": 89495289, "body": "Block of the spinner ."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 0, "creation_date": 1531204021, "post_id": 51258330, "comment_id": 89495380, "body": "Check if your <i>categoriaArray</i> contains values or not by getting it&#39;s <i>size</i>."}, {"owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531204083, "post_id": 51258330, "comment_id": 89495406, "body": "Yes, it has values. I check it using the LogCat"}, {"owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "edited": false, "score": 0, "creation_date": 1531205810, "post_id": 51258330, "comment_id": 89496225, "body": "Please refer this <a href=\"https://github.com/srodrigo/Android-Hint-Spinner\" rel=\"nofollow noreferrer\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531247077, "post_id": 51259070, "comment_id": 89521848, "body": "in the xml of the row?"}, {"owner": {"reputation": 79, "user_id": 5059689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FYgLfhJ-LQo/AAAAAAAAAAI/AAAAAAAAAd8/7e0dzSYi85k/photo.jpg?sz=128", "display_name": "vyashole", "link": "https://stackoverflow.com/users/5059689/vyashole"}, "reply_to_user": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531247184, "post_id": 51259070, "comment_id": 89521885, "body": "Yes, the XML of the row.   Also, anywhere else. Any direct children of ContsraintLayout can&#39;t use match_parent. You should use 0dp instead."}, {"owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531247640, "post_id": 51259070, "comment_id": 89522082, "body": "Still doesnt working, even the onItemSelected doesnt work"}, {"owner": {"reputation": 79, "user_id": 5059689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FYgLfhJ-LQo/AAAAAAAAAAI/AAAAAAAAAd8/7e0dzSYi85k/photo.jpg?sz=128", "display_name": "vyashole", "link": "https://stackoverflow.com/users/5059689/vyashole"}, "reply_to_user": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531247866, "post_id": 51259070, "comment_id": 89522187, "body": "Interesting. Check of getView and getDropdownView get called using log statements."}, {"owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "edited": false, "score": 0, "creation_date": 1531249582, "post_id": 51259070, "comment_id": 89522953, "body": "Yes, they work fine but the onItemSelectedListener no and I don&#39;t know why!"}], "tags": [], "owner": {"reputation": 79, "user_id": 5059689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FYgLfhJ-LQo/AAAAAAAAAAI/AAAAAAAAAd8/7e0dzSYi85k/photo.jpg?sz=128", "display_name": "vyashole", "link": "https://stackoverflow.com/users/5059689/vyashole"}, "is_accepted": false, "score": 0, "last_activity_date": 1531247257, "last_edit_date": 1531247257, "creation_date": 1531206337, "answer_id": 51259070, "question_id": 51258330, "link": "https://stackoverflow.com/questions/51258330/onitemselected-doesnt-work/51259070#51259070", "title": "onItemSelected doesn&#39;t work", "body": "<p>Your spinner is probably getting populated, but the contents are not visible. </p>\n\n<p>This is happening because in the XML for your item view, you used <code>match_parent</code> inside <code>ContsraintLayout</code> </p>\n\n<p>Direct children of <code>ContsraintLayout</code> must use 0dp instead of <code>match_parent</code>.</p>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/37603751/set-width-to-match-constraints-in-constraintlayout\">Set width to match constraints in ConstraintLayout</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10061341, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K-SpmGTo4NE/AAAAAAAAAAI/AAAAAAAAABc/TbmMcUkyFmw/photo.jpg?sz=128", "display_name": "briansalvattore", "link": "https://stackoverflow.com/users/10061341/briansalvattore"}, "is_accepted": false, "score": 0, "last_activity_date": 1531256687, "creation_date": 1531256687, "answer_id": 51273874, "question_id": 51258330, "link": "https://stackoverflow.com/questions/51258330/onitemselected-doesnt-work/51273874#51273874", "title": "onItemSelected doesn&#39;t work", "body": "<p>You should use the native layout for the item view</p>\n\n<pre><code>data class Category(val title: String)\n\nclass CategoryAdapter(context: Context, private var list: List&lt;Category&gt;) :\n    ArrayAdapter&lt;Category&gt;(context, android.R.layout.simple_spinner_dropdown_item, list) {\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val textView =  super.getView(position, convertView, parent) as TextView\n\n        textView.text = list[position].title\n\n        return textView\n    }\n\n    override fun getDropDownView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val textView =  super.getDropDownView(position, convertView, parent) as TextView\n\n        textView.text = list[position].title\n\n        return textView\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 5503814, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vCSMY.jpg?s=128&g=1", "display_name": "Alonso Ato Neyra", "link": "https://stackoverflow.com/users/5503814/alonso-ato-neyra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531256687, "creation_date": 1531203361, "last_edit_date": 1531204846, "question_id": 51258330, "link": "https://stackoverflow.com/questions/51258330/onitemselected-doesnt-work", "title": "onItemSelected doesn&#39;t work", "body": "<p>I m having problems working with <code>Spinner</code>. I have a custom adapter for the <code>Spinner</code>. This is the code :</p>\n\n<pre><code>public class CategoriaArrayAdapter extends ArrayAdapter&lt;Categoria&gt; {\n\n    private Context context;\n    private ArrayList&lt;Categoria&gt; values;\n\n    public CategoriaArrayAdapter(Context context, int textViewResourceId,\n                       ArrayList&lt;Categoria&gt; values) {\n        super(context, textViewResourceId, values);\n        this.context = context;\n        this.values = values;\n    }\n\n    public View myCustomView(int position, @Nullable View myView, @NonNull ViewGroup parent){\n        LayoutInflater layoutInflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        View customView = layoutInflater.inflate(R.layout.row_buscar_categoria_nothing_selected, parent, false);\n        TextView textCategoria = customView.findViewById(R.id.tv_categoria_empty);\n        textCategoria.setText(values.get(position).getNombre());\n        return customView;\n    }\n\n    @Override\n    public int getCount(){\n        return values.size();\n    }\n\n    @Override\n    public Categoria getItem(int position){\n        return values.get(position);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        return myCustomView(position, convertView, parent);\n    }\n\n    @Override\n    public View getDropDownView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        return myCustomView(position, convertView, parent);\n    }\n}\n</code></pre>\n\n<p>Yes, I made it in Java because I dont have too much experience with kotlin. \nWell, this is the implementation of my adapter:</p>\n\n<pre><code>    private fun eventSpinners(){\n\n        myCustomAdapter = CategoriaArrayAdapter(context, R.layout.row_buscar_categoria_nothing_selected,categoriaArray)\n        categoriaSpinner.adapter = myCustomAdapter\n\n        categoriaSpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n                Log.d(\"BuscarActivity\", \"May not work\")\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                Toast.makeText(context, \"Works!\", Toast.LENGTH_LONG).show()\n            }\n\n        }\n    }\n</code></pre>\n\n<p>So, my problem is when the view is inflated, the <code>Spinner</code> doesn't show\nthe first element of the <code>ArrayList</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EeJWv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeJWv.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when I click on an element of the array, nothing happens. </p>\n\n<p>Any idea about what could be the problem? </p>\n\n<p>Update:</p>\n\n<p>This is my the xml of the row.</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/tv_categoria_empty\"\n    style=\"?android:attr/spinnerItemStyle\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:textSize=\"18sp\"\n    android:text=\"Seleccionar\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And the spinner spinner is inside this block in the xml:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n            android:id=\"@+id/constraint_linea\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"50dp\"\n            android:layout_marginEnd=\"10dp\"\n            android:layout_marginLeft=\"10dp\"\n            android:layout_marginRight=\"10dp\"\n            android:layout_marginStart=\"10dp\"\n            android:layout_marginTop=\"17dp\"\n            android:background=\"@drawable/shape_button_buscar\"\n            android:orientation=\"vertical\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/contrasint_edit_text\"&gt;\n\n            &lt;Spinner\n                android:id=\"@+id/spinner_linea\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginRight=\"10dp\"\n                android:paddingLeft=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@id/divider\"\n                app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1531184288, "post_id": 51255784, "comment_id": 89490677, "body": "Please add the stacktrace to the question"}], "answers": [{"tags": [], "owner": {"reputation": 2759, "user_id": 10044798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lyXyT.jpg?s=128&g=1", "display_name": "Jackey", "link": "https://stackoverflow.com/users/10044798/jackey"}, "is_accepted": true, "score": 3, "last_activity_date": 1531185357, "creation_date": 1531185357, "answer_id": 51255996, "question_id": 51255784, "link": "https://stackoverflow.com/questions/51255784/arrayindexoutofboundsexception-when-adding-to-arraylist-in-listview/51255996#51255996", "title": "ArrayIndexOutOfBoundsException when adding to ArrayList in ListView", "body": "<p>This is happening because you're using ViewHolder improperly.</p>\n\n<p>But before I explain the problem, I want to tell you your way of overriding <strong>getViewTypeCount()</strong> and <strong>getItemViewType()</strong> is a serious mistake.</p>\n\n<p>The point of a ViewHolder is so it can hold onto a view for the ListView to reuse. This way, ListView doesn't have to keep recreating a new view for each item in the ArrayList. </p>\n\n<p>However, you're doing the complete opposite with your code. By how you're overriding <strong>getViewTypeCount()</strong> and <strong>getItemViewType()</strong>, you're essentially destroying the purpose of ViewHolders. You're telling the ListView to create a new ViewHolder for each item in the ArrayList, which makes it not be able to reuse the views stored in the ViewHolder.</p>\n\n<p>The reason why <strong>not overriding</strong> those two methods will cause the items to duplicate is related to the solution of your question, which is using ViewHolder's properly.</p>\n\n<p>To use ViewHolder's properly, when you get to the code that says: </p>\n\n<pre><code>} else\n        convertView\n</code></pre>\n\n<p>Don't just return the convertView. Get the ViewHolder from the convertView's TAG and update the CheckBox and TextView with the current item's data. </p>\n\n<p>This way, your ViewHolder will always hold the name and description it's meant to hold. </p>\n\n<p>You will also be reusing ViewHolder's properly and not creating a new one for each item. </p>\n\n<p>The reason why your previous code was duplicating the items while you scroll is because you didn't update the ViewHolder with proper data, so it was just using the old data from previous items. </p>\n\n<p>So to summarize:</p>\n\n<ol>\n<li><p>Do not override <strong>getViewTypeCount()</strong> and <strong>getItemViewType()</strong></p></li>\n<li><p>Have your <strong>getView()</strong> method update the ViewHolder's views with the proper data. </p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531187832, "creation_date": 1531187832, "answer_id": 51256257, "question_id": 51255784, "link": "https://stackoverflow.com/questions/51255784/arrayindexoutofboundsexception-when-adding-to-arraylist-in-listview/51256257#51256257", "title": "ArrayIndexOutOfBoundsException when adding to ArrayList in ListView", "body": "<p>As @Jackey said, you have some mistakes when implementing the ListAdapter.</p>\n\n<p>To make the ListView reuse the ViewHolders properly, you need to figure out two things:</p>\n\n<ol>\n<li>how many different items in your list? (in your case, you only need 1)</li>\n<li>what is the type of each item at a position? (in your case, only 1 type, so every item has the same type)</li>\n</ol>\n\n<p>So in your case, you need not override these two methods, because the default implementation of <code>BaseAdapter</code> is:</p>\n\n<pre><code>public int getItemViewType(int position) {\n    return 0; // type is 0 for every item\n}\n\npublic int getViewTypeCount() {\n    return 1; // we only have 1 type\n}\n</code></pre>\n\n<p>I'll give you a working example to help you to understand this:</p>\n\n<pre><code>class MyAdapter(val context: Context, val names: ArrayList&lt;String&gt;,\n                        val descriptions: ArrayList&lt;String&gt;) : BaseAdapter() {\n    override fun getCount(): Int {\n        return names.size\n    }\n\n    override fun getItem(position: Int): Any {\n        return position\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val viewHolder: ViewHolder\n\n        var convertViewMutable = convertView\n        if (convertView == null) {\n            convertViewMutable = LayoutInflater.from(context).inflate(R.layout.activity_custom, parent, false)\n\n            val checkBox: CheckBox = convertViewMutable.findViewById(R.id.checkBox_name) as CheckBox\n            val desc: TextView = convertViewMutable.findViewById(R.id.textView_desc) as TextView\n\n            viewHolder = ViewHolder(checkBox, desc)\n            convertViewMutable.tag = viewHolder\n        } else {\n            viewHolder = convertViewMutable!!.tag as ViewHolder\n        }\n\n        viewHolder.checkBox.text = names[position]\n        viewHolder.textView.text = descriptions[position]\n\n        return convertViewMutable!!\n    }\n}\n\nprivate data class ViewHolder(val checkBox: CheckBox, val textView: TextView)\n</code></pre>\n"}], "owner": {"reputation": 374, "user_id": 5326319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fd1dcead09716f1b8f118e6d661c9a?s=128&d=identicon&r=PG&f=1", "display_name": "K.R.", "link": "https://stackoverflow.com/users/5326319/k-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 51255996, "answer_count": 2, "score": 0, "last_activity_date": 1531187832, "creation_date": 1531183384, "question_id": 51255784, "link": "https://stackoverflow.com/questions/51255784/arrayindexoutofboundsexception-when-adding-to-arraylist-in-listview", "title": "ArrayIndexOutOfBoundsException when adding to ArrayList in ListView", "body": "<p>I've found several other questions about this exception and none of them have an answer that works for me.</p>\n\n<p>Here is my entire code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var listView: ListView\n    private lateinit var addItem: ImageButton\n    private lateinit var adapter: MyAdapter\n\n    private val names = arrayListOf(\"Person 1\", \"Person 2\", \"Person 3\", \"Person 4\", \"Person 5\",\n        \"Person 6\", \"Person 7\", \"Person 8\", \"Person 9\", \"Person 10\")\n    private val descriptions = arrayListOf(\"Actor\", \"Activist\", \"Athlete\", \"Scientist\", \"Astronaut\",\n        \"Engineer\", \"Software Developer\", \"Politician\", \"Soldier\", \"Shopkeeper\")\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        listView = list_view as ListView\n        addItem = addButton as ImageButton\n        adapter = MyAdapter(this, names, descriptions)\n        listView.adapter = adapter\n        addItem.setOnClickListener {\n            names.add(\"Person 11\")\n            descriptions.add(\"Mortician\")\n            adapter.notifyDataSetChanged()\n            Toast.makeText(this, \"Button Clicked\", Toast.LENGTH_LONG).show()\n        }\n    }\n}\n\nprivate class MyAdapter(val context: Context, val names: ArrayList&lt;String&gt;,\n            val descriptions: ArrayList&lt;String&gt;) : BaseAdapter() {\n    override fun getCount(): Int {\n        return names.size\n    }\n\n    override fun getViewTypeCount(): Int {\n        return count\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return position\n    }\n\n    override fun getItem(position: Int): Any {\n        return position\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val viewHolder: ViewHolder?\n\n        return if (convertView == null) {\n            val convertViewMutable = LayoutInflater.from(context).inflate(R.layout.activity_custom, parent, false)\n\n            val checkBox: CheckBox = convertViewMutable.findViewById(R.id.checkBox_name) as CheckBox\n            val desc: TextView = convertViewMutable.findViewById(R.id.textView_desc) as TextView\n\n            viewHolder = ViewHolder(checkBox, desc)\n            convertViewMutable.tag = viewHolder\n\n            checkBox.text = names[position]\n            desc.text = descriptions[position]\n\n            convertViewMutable\n        } else\n            convertView\n    }\n}\nprivate data class ViewHolder(private val checkBox: CheckBox, private val textView: TextView)\n</code></pre>\n\n<p>When I run the program, the list appears fine. When I click the button to add the new name and description it runs all the code in the listener since I see the Toast appear. I can then scroll down and see the new item at the bottom of the list. But, when I scroll back up the error is thrown.</p>\n\n<p>I saw an answer for someone saying you shouldn't override getViewTypeCount() and getItemViewType() but I am only overriding them because if I take them out the items in my list will duplicate when I scroll through them. There were also answers saying the error happens because getItemViewType() is returning a number greater than getViewTypeCount() but they don't mention how to fix it.</p>\n"}, {"tags": ["java", "kotlin", "jinq"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1531178170, "post_id": 51255171, "comment_id": 89489348, "body": "<a href=\"https://stackoverflow.com/questions/40064479/jinq-in-kotlin-how-to-convert-lambda-into-java-serializedlambda\">Duplicate?</a>"}, {"owner": {"reputation": 1611, "user_id": 791160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d5c6a6d39fb143c62e6ea3f1d7f0ca74?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/791160/chris"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1531215432, "post_id": 51255171, "comment_id": 89501718, "body": "Indeed it is a duplicate, but the answer is incorrect."}], "owner": {"reputation": 1611, "user_id": 791160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d5c6a6d39fb143c62e6ea3f1d7f0ca74?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/791160/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531216075, "creation_date": 1531177837, "last_edit_date": 1531216075, "question_id": 51255171, "link": "https://stackoverflow.com/questions/51255171/how-to-create-a-java-serializedlambda-from-a-kotlin-lambda", "title": "How to create a Java SerializedLambda from a Kotlin lambda?", "body": "<p>If I have a Kotlin lambda, eg.</p>\n\n<pre><code>{ a -&gt; a.b }\n</code></pre>\n\n<p>...I know this can be passed into a Java Serializable interface, eg:</p>\n\n<pre><code>interface I extends Serializable {\n  public int f(T t);\n}\n</code></pre>\n\n<p>However, the actual <em>type</em> of the lambda is not SerializedLambda.</p>\n\n<p>Is it possible to create a genuine SerializedLambda from a Kotlin lambda?</p>\n\n<p>(The reason is for compatibility with JINQ) </p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "myfaces"], "comments": [{"owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "edited": false, "score": 0, "creation_date": 1531255453, "post_id": 51255117, "comment_id": 89525405, "body": "I followed all this instructions too, no success. <a href=\"https://stackoverflow.com/questions/45682309/changing-faces-config-xml-from-2-2-to-2-3-causes-javax-el-propertynotfoundexcept\" title=\"changing faces config xml from 2 2 to 2 3 causes javax el propertynotfoundexcept\">stackoverflow.com/questions/45682309/&hellip;</a>"}, {"owner": {"reputation": 1696, "user_id": 3415398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5114e222ca7b36ed66743f75af7a80ec?s=128&d=identicon&r=PG&f=1", "display_name": "tandraschko", "link": "https://stackoverflow.com/users/3415398/tandraschko"}, "edited": false, "score": 0, "creation_date": 1531394232, "post_id": 51255117, "comment_id": 89585034, "body": "1) I would not add another EL impl 2) What kind of ManagedBeans do you use? JSF Native or Spring?"}, {"owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "reply_to_user": {"reputation": 1696, "user_id": 3415398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5114e222ca7b36ed66743f75af7a80ec?s=128&d=identicon&r=PG&f=1", "display_name": "tandraschko", "link": "https://stackoverflow.com/users/3415398/tandraschko"}, "edited": false, "score": 0, "creation_date": 1531483294, "post_id": 51255117, "comment_id": 89624252, "body": "@tandraschko thank you. I recently tried other EL and JSF impl and the result was the same. I Use native Managed Beans.  As I also used the same dependencies of another project, and it not worked, I am pretty sure that the problem is on my environment. As I have JDK 8,9 and 10 installed, I just realized that my annotated classes maybe are not being found because of this, maybe. I am compiling targeting Java 8, I will test more observing the JDKs that are being used. I also use Tomcat 9. Without errors being thrown is difficult but now I think I will soon find the solution."}, {"owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "reply_to_user": {"reputation": 1696, "user_id": 3415398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5114e222ca7b36ed66743f75af7a80ec?s=128&d=identicon&r=PG&f=1", "display_name": "tandraschko", "link": "https://stackoverflow.com/users/3415398/tandraschko"}, "edited": false, "score": 0, "creation_date": 1531483783, "post_id": 51255117, "comment_id": 89624511, "body": "I added my new discovery as an edit to maybe help more users that can face the same problem."}], "answers": [{"tags": [], "owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "is_accepted": false, "score": 0, "last_activity_date": 1531935603, "last_edit_date": 1531935603, "creation_date": 1531935245, "answer_id": 51407947, "question_id": 51255117, "link": "https://stackoverflow.com/questions/51255117/my-el-expressions-are-not-being-evaluated-under-a-myfaces-2-3-and-spring-boot-2/51407947#51407947", "title": "My EL Expressions are not being evaluated under a MyFaces 2.3 and Spring Boot 2.0.3 application", "body": "<p>After days trying to solve this problem, changing and combining different codes and environments, from <code>JDK 8 to 10</code>, <code>Tomcat 8 and 9</code>, testing in <code>MacOS</code> and <code>Windows 10</code>,from the <code>JSF 2.1</code> implementation of <code>MyFaces</code> to the brand new <code>JSF 2.3</code> implementation supporting <code>CDI</code>, deployed this last one on a <a href=\"http://www.wildfly.org/\" rel=\"nofollow noreferrer\">WildFly</a> server, I just noticed, on my expensive 32'' high-resolution display, that my <code>Managed Bean</code> was named with <code>indexBean</code>using a stranger character <code>i</code> with small dots on its top of, it was a diarised <code>\u00ef</code> that I don't know how it had placed or typed there. <strong>That was the reason my managed bean was never found no matter what configuration I used.</strong></p>\n\n<p>I noticed this character on MacOS. On my Windows it seems harder to notice it. I think it's because of font differences, not hardware.</p>\n\n<p><a href=\"https://i.stack.imgur.com/H751h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H751h.png\" alt=\"The strange \u00ef that cost me a week\"></a></p>\n\n<p>I am ashamed but I will not delete this question. May this can help someone in the future. Programming and life problems are like this: most of the times the error is in the less expected place. </p>\n\n<p>Lesson learned.</p>\n"}], "owner": {"reputation": 3872, "user_id": 399113, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/Ok15f.jpg?s=128&g=1", "display_name": "John John Pichler", "link": "https://stackoverflow.com/users/399113/john-john-pichler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 655, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1531935603, "creation_date": 1531177400, "last_edit_date": 1531483713, "question_id": 51255117, "link": "https://stackoverflow.com/questions/51255117/my-el-expressions-are-not-being-evaluated-under-a-myfaces-2-3-and-spring-boot-2", "title": "My EL Expressions are not being evaluated under a MyFaces 2.3 and Spring Boot 2.0.3 application", "body": "<p>I have a MyFaces application running under <code>Spring Boot 2.0.3</code>, all <code>Servlets</code> and <code>Context Listeners</code> are properly registered and configured, and apparently working. Even my <code>index.jsf</code> page is being rendered. The  tags are processed correctly on the <code>.xhtml</code> file. </p>\n\n<p>The problem is that all the <code>EL expressions</code> of index.jsf page are not being processed/evaluated. No error is thrown but where I put <code>#{myBean.property}</code> is always being rendered as an empty <code>String</code>. Debugging it I see that the server code of my Managed bean is not being called.</p>\n\n<p>I tried changing the el-api and el-impl libs for many versions, but no one worked. The final version I used is the <code>el-api 2.2</code> specification, following the page <a href=\"https://myfaces.apache.org/core23/myfaces-impl/dependencies.html\" rel=\"nofollow noreferrer\">https://myfaces.apache.org/core23/myfaces-impl/dependencies.html</a></p>\n\n<p>As no error is being thrown, I can't figure out where is the problem. Does anybody has this error? Is it possible to run MyFaces 2.3 under a Spring Boot application packed as a jar file?</p>\n\n<p>Here are the dependencies I am using on Gradle build file:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n\n    compile 'io.github.microutils:kotlin-logging:1.5.4'\n\n    compile group: 'org.apache.myfaces.core', name: 'myfaces-impl', version: '2.3.1'\n    compile group: 'org.apache.myfaces.core', name: 'myfaces-api', version: '2.3.1'\n    compile group: 'javax.enterprise', name: 'cdi-api', version: '2.0' //CDI vem embutido no JavaEE 6, mas n\u00e3o no Tomcat 9\n\n    compile group: 'org.glassfish.web', name: 'el-impl', version: '2.2'\n\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\n    compile 'org.springframework.boot:spring-boot-starter-web:2.0.3.RELEASE'\n    compile 'org.apache.tomcat.embed:tomcat-embed-jasper:8.5.32'\n    compile 'com.fasterxml.jackson.module:jackson-module-kotlin:2.9.6'\n    compile group: 'org.ocpsoft.rewrite', name: 'rewrite-servlet', version: '3.4.2.Final'\n\n}\n</code></pre>\n\n<p>Here is the Spring configuration, to load Faces servlets:</p>\n\n<pre><code>@Component\nopen class ConfigureJSF : ServletContextInitializer {\n    private val logger = KotlinLogging.logger {}\n\n    @Throws(ServletException::class)\n    override fun onStartup(servletContext: ServletContext) {\n        //necessary to myfaces be enabled and work in spring boot, once servlets are loaded dynamically.\n        servletContext.setInitParameter(\"org.apache.myfaces.INITIALIZE_ALWAYS_STANDALONE\", \"true\")\n\n        servletContext.setInitParameter(\"com.sun.faces.forceLoadConfiguration\", \"true\");\n        servletContext.setInitParameter(\"javax.faces.FACELETS_SKIP_COMMENTS\", \"true\");\n\n        servletContext.setInitParameter(\"javax.faces.DEFAULT_SUFFIX\", \".xhtml\")\n        servletContext.setInitParameter(\"javax.faces.FACELETS_REFRESH_PERIOD\", \"1\")\n\n        servletContext.setInitParameter(\"org.apache.myfaces.EXPRESSION_FACTORY\", \"com.sun.el.ExpressionFactoryImpl\")\n        servletContext.setInitParameter(\"org.apache.myfaces.CACHE_EL_EXPRESSIONS\", \"alwaysRecompile\")\n\n                    }\n\n    // Register ServletContextListener, necessary for Myfaces.\n    @Bean\n    open fun listenerRegistrationBean1(): ServletListenerRegistrationBean&lt;ServletContextListener&gt; {\n        val bean = ServletListenerRegistrationBean&lt;ServletContextListener&gt;()\n        bean.setListener(org.apache.myfaces.webapp.StartupServletContextListener())\n        return bean\n    }\n\n    @Bean\n    fun requestContextListener(): RequestContextListener {\n        return RequestContextListener()\n    }\n\n    //The faces servlet\n    @Bean\n    open fun facesServlet(): ServletRegistrationBean&lt;MyFacesServlet&gt; {\n        logger.info { \"Criando Faces Servlet...\" }\n        val servlet = org.apache.myfaces.webapp.MyFacesServlet() ;\n        val servletRegistrationBean = ServletRegistrationBean(servlet, \"*.jsf\", \"*.xhtml\")\n        servletRegistrationBean.setLoadOnStartup(1)\n//        servletRegistrationBean.order = 1;\n        return servletRegistrationBean;\n    }\n</code></pre>\n\n<h1>Edit:</h1>\n\n<p>I copied the dependency configuration of another project that works, and the same result occurred. So, the problem is not with the code I did paste here, and yes, with my environment, which I will start to investigate more detailed on the sequence. My problematic environment contains <code>JDK 8, 9 and 10</code> and <code>Tomcat 9</code>. My project is targeting <code>JDK 8</code>. Maybe there is some incompatibility here and this is the reason for some compiled annotations not being found, I believe I will discover the problem very soon.</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1531181157, "post_id": 51254189, "comment_id": 89490035, "body": "You have a good hint when you <code>println(field)</code>. <code>[C</code> is actually a character array. You can get the value like this: <code>field.get(str) as CharArray</code>."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9320790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cb341b14d1dc640a67d97829406c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Tsvetomir Bonev", "link": "https://stackoverflow.com/users/9320790/tsvetomir-bonev"}, "edited": false, "score": 0, "creation_date": 1531209265, "post_id": 51255819, "comment_id": 89497996, "body": "Ohhh, that now makes sense. I tried casting it to Array&lt;Char&gt;, apparently it tried to cast it to a character and then make an array from it or something. Casting it to CharArray worked perfectly. I had no idea that these two are different, thank you for pointing that out."}], "tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": true, "score": 0, "last_activity_date": 1531183745, "creation_date": 1531183745, "answer_id": 51255819, "question_id": 51254189, "link": "https://stackoverflow.com/questions/51254189/kotlin-reflection-on-inbuilt-classes/51255819#51255819", "title": "Kotlin reflection on inbuilt classes", "body": "<p>I am not sure what you are trying to achieve but you can try this.</p>\n\n<pre><code>val value = (field.get(str) as ByteArray).toString(Charset.defaultCharset())\nprintln(value)\n</code></pre>\n\n<p>In my env, the field is a ByteArray so I casted it to a ByteArray and get a printable version. In your case, a simple CharArray should suffice.</p>\n"}], "owner": {"reputation": 23, "user_id": 9320790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cb341b14d1dc640a67d97829406c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Tsvetomir Bonev", "link": "https://stackoverflow.com/users/9320790/tsvetomir-bonev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 51255819, "answer_count": 1, "score": 0, "last_activity_date": 1531183745, "creation_date": 1531171242, "question_id": 51254189, "link": "https://stackoverflow.com/questions/51254189/kotlin-reflection-on-inbuilt-classes", "title": "Kotlin reflection on inbuilt classes", "body": "<p>I am trying to read the \"value\" field of a String in Kotlin. I am not very familiar with reflection in Kotlin, so I can't get it to work. This is what I have:</p>\n\n<pre><code>var str: String = \"Some string\"\n\nval field = String::class.java.getDeclaredField(\"value\")\nfield.isAccessible = true\n\nprintln(field) // This prints \"private final char[] java.lang.String.value\"\n\nprintln(field.get(str)) // This prints [C@66d3c617\n</code></pre>\n\n<p>When trying to cast char[] to Array, I get this exception:</p>\n\n<pre><code>java.lang.ClassCastException: [C cannot be cast to [Ljava.lang.Character;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "parcelable", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 5, "last_activity_date": 1531172627, "creation_date": 1531172627, "answer_id": 51254451, "question_id": 51253236, "link": "https://stackoverflow.com/questions/51253236/parcelize-complains-parcelable-should-be-a-class-on-objects-and-enums/51254451#51254451", "title": "Parcelize complains &quot;Parcelable should be a class&quot; on objects and enums", "body": "<p>The documented support means, that <em>objects and enums</em> are properly handled when used as properties on the <em>class</em> being <em>parcelized</em>. More importantly both types are implicitly excluded from the usage, as the fields have to be properties defined within the primary constructor:</p>\n\n<blockquote>\n  <p><code>@Parcelize</code> requires all serialized properties to be declared in the primary constructor. Android Extensions will issue a warning on each property with a backing field declared in the class body. Also, <code>@Parcelize</code> can't be applied if some of the primary constructor parameters are not properties.</p>\n</blockquote>\n\n<p>If you need to use your <em>objects or enums</em> as a property only, there's no issue with it. If you want to use it as a <code>Parcelable</code>, you can't get around implementing the interface by yourself, since both types are a kind of a singleton implementation and <code>@Parcelize</code> only supports types with accessible constructors with properties.</p>\n"}, {"comments": [{"owner": {"reputation": 1133, "user_id": 8876284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0afd0314f7b98407c79c3b65317e16d?s=128&d=identicon&r=PG&f=1", "display_name": "guglhupf", "link": "https://stackoverflow.com/users/8876284/guglhupf"}, "edited": false, "score": 0, "creation_date": 1559119398, "post_id": 51792962, "comment_id": 99316904, "body": "Yes, I can confirm that this works: @Parcelize enum class MyEnum : Parcelable {A,B}"}], "tags": [], "owner": {"reputation": 182, "user_id": 3424405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bN3P.jpg?s=128&g=1", "display_name": "veyndan", "link": "https://stackoverflow.com/users/3424405/veyndan"}, "is_accepted": false, "score": 7, "last_activity_date": 1533929221, "creation_date": 1533929221, "answer_id": 51792962, "question_id": 51253236, "link": "https://stackoverflow.com/questions/51253236/parcelize-complains-parcelable-should-be-a-class-on-objects-and-enums/51792962#51792962", "title": "Parcelize complains &quot;Parcelable should be a class&quot; on objects and enums", "body": "<p>Since Kotlin 1.2.60, the <a href=\"https://github.com/JetBrains/kotlin/blob/master/ChangeLog.md#tools-android-extensions\" rel=\"noreferrer\">CHANGELOG</a> states that Parcelize works with object and enum types.</p>\n"}], "owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3987, "favorite_count": 0, "accepted_answer_id": 51254451, "answer_count": 2, "score": 5, "last_activity_date": 1533929221, "creation_date": 1531166667, "last_edit_date": 1531167068, "question_id": 51253236, "link": "https://stackoverflow.com/questions/51253236/parcelize-complains-parcelable-should-be-a-class-on-objects-and-enums", "title": "Parcelize complains &quot;Parcelable should be a class&quot; on objects and enums", "body": "<p>When I try to annotate an <code>enum class</code> or <code>object</code> with <code>@Parcelize</code>, it results in the error <code>'Parcelable' should be a class</code>, both as an editor hint and as a compile failure. I can <code>@Parcelize</code> classes just fine, but I can't do things like</p>\n\n<pre><code>@Parcelize object MySingletion : Parcelable\n@Parcelize enum class Direction : Parcelable { N, E, W, S }\n</code></pre>\n\n<p>This happens even though the Kotlin website <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#supported-types\" rel=\"noreferrer\">explicitly states</a> that objects and enums are supported. Is there a way to fix this so that I can <code>@Parcelize</code> these types of classes? And ideally, is there a solution that doesn't involve manually coding the parceler logic?</p>\n"}, {"tags": ["android", "socket.io", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 8817639, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jvq3VsmV0bs/AAAAAAAAAAI/AAAAAAAAAW4/qjxke5yFrzA/photo.jpg?sz=128", "display_name": "Ulises Mart&#237;nez El&#237;as", "link": "https://stackoverflow.com/users/8817639/ulises-mart%c3%adnez-el%c3%adas"}, "is_accepted": false, "score": 0, "last_activity_date": 1598729244, "last_edit_date": 1598729244, "creation_date": 1598728177, "answer_id": 63650824, "question_id": 51252069, "link": "https://stackoverflow.com/questions/51252069/getting-data-from-socket-io-kotlin/63650824#63650824", "title": "Getting data from socket io kotlin", "body": "<p>I have done this:</p>\n<p>a singleton:</p>\n<pre><code>class WebSocket{\n\nprivate var mSocket: Socket? = null\n\ncompanion object {\n    @Volatile\n    private var INSTANCE: WebSocket? = null\n    fun getInstance() =\n        INSTANCE ?: synchronized(this) {\n            INSTANCE ?: WebSocket().also {\n                INSTANCE = it\n            }\n        }\n}\n\nfun createSocket(id:String) {\n\n    val mUrl = &quot;https://myserverurl&quot;\n\n    try {\n        val opts = IO.Options()\n        opts.forceNew = true\n        opts.reconnection = true\n        opts.secure = true\n        opts.query = &quot;id=${id}&quot;\n        mSocket = IO.socket(mUrl,opts)\n        mSocket!!.connect()\n    } catch (e: URISyntaxException) {\n        e.printStackTrace()\n    }\n\n}\n\nfun onNewMessage(cb:(fromId:String,\n                     toId:String,\n                     fromDeviceId:String,\n                     senderName:String,\n                     receiverName:String,\n                     message:String,\n                     productId:String,\n                     timestamp:String ) -&gt; Unit): Emitter.Listener {\n\n    return Emitter.Listener { args -&gt;\n\n        val data = args[0] as JSONObject\n\n        val senderName = data.getString(&quot;sender_name&quot;)\n        val receiverName = data.getString(&quot;receiver_name&quot;)\n        val message = data.getString(&quot;message&quot;)\n        val fromId = data.getString(&quot;from_id&quot;)\n        val toId = data.getString(&quot;to_id&quot;)\n        val fromDeviceId = data.getString(&quot;from_device_id&quot;)\n        val productId = data.getString(&quot;product_id&quot;)\n        val timestamp = data.getString(&quot;timestamp&quot;)\n\n        cb( fromId,\n            toId,\n            fromDeviceId,\n            senderName,\n            receiverName,\n            message,\n            productId,\n            timestamp )\n\n    }\n}\n\nfun getSocket():Socket? {\n    return mSocket\n}\n\n}\n</code></pre>\n<p>In my service:</p>\n<pre><code>WebSocket.getInstance().createSocket(userId!!)\n    val io = WebSocket.getInstance().getSocket()\n    //val notifications = NotificationsHandler()\n\n    io!!.on(&quot;message&quot;,\n        WebSocket.getInstance().onNewMessage { fromId, toId, fromDeviceId, senderName, receiverName, message, productId, timestamp -&gt;\n            \n            //here you handle fromId, toId, fromDeviceId, senderName, receiverName, message, productId, timestamp\n\n        })\n</code></pre>\n<p>This way, you can call <code>WebSocket.getInstance().getSocket()</code> (after creating a <code>Socket</code>), and the socket is ready to use in any activity.</p>\n"}], "owner": {"reputation": 25, "user_id": 7988351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1380467525369569/picture?type=large", "display_name": "Sergiu Tritean", "link": "https://stackoverflow.com/users/7988351/sergiu-tritean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1598729244, "creation_date": 1531161505, "question_id": 51252069, "link": "https://stackoverflow.com/questions/51252069/getting-data-from-socket-io-kotlin", "title": "Getting data from socket io kotlin", "body": "<p>I want to make an application for android in kotlin and I'm using socket io for getting data from server. The problem is, I couldn't find anywhere how to write \"socket.on\" method and to do something with the data, only \".emit\" method only in Java. Can you help me please?</p>\n"}, {"tags": ["graphics", "datagrid", "kotlin", "tornadofx", "borderpane"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "edited": false, "score": 1, "creation_date": 1531229483, "post_id": 51266559, "comment_id": 89511203, "body": "So you need to use fragments instead of views if you&#39;re going to use them more than once. (Top and Bottom Widget were Views in my code; I changed that and it worked!) Thank you very much!"}], "tags": [], "owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "is_accepted": true, "score": 0, "last_activity_date": 1531229805, "last_edit_date": 1531229805, "creation_date": 1531229281, "answer_id": 51266559, "question_id": 51251646, "link": "https://stackoverflow.com/questions/51251646/tornadofx-datagrid-empty/51266559#51266559", "title": "TornadoFX datagrid empty", "body": "<p>This uses two custom Fragments to create objects that are added to the top and the bottom.</p>\n\n<pre><code>class TopWidget(msg : String) : Fragment() {\n\n    override val root = label(msg)\n}\n\nclass BottomWidget(msg : String) : Fragment() {\n\n    override val root = label(msg)\n}\n\nclass DatagridDemo: View(\"Datagrid Demo\") {\n\n    val data = listOf(\"one\", \"two\", \"three\")\n\n    override val root = datagrid(data) {\n        cellFormat {\n            graphic = borderpane {\n                top { add(TopWidget(\"Top ${it}\")) }\n                center { label(it) }\n                bottom { add(BottomWidget(\"Bottom ${it}\")) }\n            }\n        }\n    }\n\n}\n\nclass DGDemo : App(DatagridDemo::class)\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 9991090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bwHc0sH1NGE/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq16T9ZGRDZ0NQwRAj5zYM4pU1BQ0A/mo/photo.jpg?sz=128", "display_name": "Joy S", "link": "https://stackoverflow.com/users/9991090/joy-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 51266559, "answer_count": 1, "score": 0, "last_activity_date": 1531229805, "creation_date": 1531159828, "question_id": 51251646, "link": "https://stackoverflow.com/questions/51251646/tornadofx-datagrid-empty", "title": "TornadoFX datagrid empty", "body": "<p>So I have been following <a href=\"https://www.youtube.com/watch?v=igGOBWPNrpU\" rel=\"nofollow noreferrer\">this tutorial</a> that tells you how to make a datagrid in TornadoFX, and everything works fine. However, I want to add multiple Views to each cell of my datagrid, so I want to replace the stackpane with a borderpane. This breaks it. Cells still show up, but they are blank white squares. None of the Views show up inside.\nI'm not really sure why this happens. It seems to me that cellFormat and cellCache act like for-each loops, making a graphic described inside of them for each element in the list of cells that need formatting. I'm not sure, though.\nAs such, I'm really not sure how to fix this. I really appreciate it if anybody can help. </p>\n\n<p>Code that puts a green circle and a label on each of the white squares:</p>\n\n<pre><code>    class DatagridDemo: View(\"Datagrid Demo\") {\n\n        val data = listOf(\"one\", \"two\", \"three\")\n\n        override val root = datagrid(data) {\n            cellFormat {\n                graphic = stackpane() {\n                    circle(radius = 50.0) {\n                        fill = Color.ALICEBLUE;\n                    }\n                    label(it);\n                }\n            }\n        }\n\n    }\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>    class DatagridDemo: View(\"Datagrid Demo\") {\n\n        val data = listOf(\"one\", \"two\", \"three\")\n\n        override val root = datagrid(data) {\n            cellFormat {\n                graphic = borderpane() {\n//The widgets implement View()\n                    top&lt;TopWidget&gt;();\n                    bottom&lt;BottomWidget&gt;()\n                    label(it);\n                }\n            }\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "binding", "kotlin"], "comments": [{"owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1531184485, "post_id": 51250487, "comment_id": 89490714, "body": "Can you post the User class code?"}, {"owner": {"reputation": 5, "user_id": 3813866, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001411794970/picture?type=large", "display_name": "Kozik", "link": "https://stackoverflow.com/users/3813866/kozik"}, "reply_to_user": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1531244866, "post_id": 51250487, "comment_id": 89520861, "body": "There you go.  Plain and simple"}], "owner": {"reputation": 5, "user_id": 3813866, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001411794970/picture?type=large", "display_name": "Kozik", "link": "https://stackoverflow.com/users/3813866/kozik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531244810, "creation_date": 1531155095, "last_edit_date": 1531244810, "question_id": 51250487, "link": "https://stackoverflow.com/questions/51250487/android-databinding-generated-class-with-wrong-member-type", "title": "Android databinding generated class with wrong member type", "body": "<p>I'm new to DataBinding, and I've been trying to set up binding to a sample app based on the <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"nofollow noreferrer\">guide</a>. However, when I created separate subfolder called \"Data\" put my User class in it and tried to run it, I got an error \"Cannot access class 'Data.User'\". I'd like to separate my classes in different folders (i.e. make MVVM structure)</p>\n\n<p>My activity code:</p>\n\n<pre><code>package kozak.databindingtesting\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.databinding.DataBindingUtil\nimport kozak.databindingtesting.Data.User\nimport kozak.databindingtesting.databinding.ActivityMainBinding\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val user = User(\"Marcin\")\n    val binding = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n    binding.user = user\n}\n</code></pre>\n\n<p>}</p>\n\n<p>User class:</p>\n\n<pre><code>package kozak.databindingtesting.Data;\n\npublic class User {\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String name;\n\n    public User(String name){\n        this.name=name;\n    }\n\n}\n</code></pre>\n\n<p>Activity layout:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;variable name=\"user\" type=\"kozak.databindingtesting.Data.User\"/&gt;\n    &lt;/data&gt;\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/main_constraint_layout\"\n    &gt;\n\n    &lt;TextView\n        android:id=\"@+id/x_text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@{user.name}\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kVhs2.png\" rel=\"nofollow noreferrer\">My project structure</a></p>\n\n<p>When I just paste this class out to general folder it works fine.\nI have android.databinding.enableV2=true in gradle.properties, as well as enabled properly dataBinding in gradle.build - as mentioned, this example worked fine on its own.</p>\n\n<p>P.S. Please ignore the fragment class, it is currently omitted</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10054657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6IEZFeFOBqc/AAAAAAAAAAI/AAAAAAAAIU4/6ttezf9UAjc/photo.jpg?sz=128", "display_name": "Quanta Innoveter", "link": "https://stackoverflow.com/users/10054657/quanta-innoveter"}, "edited": false, "score": 0, "creation_date": 1531441548, "post_id": 51256799, "comment_id": 89608556, "body": "Yes. Do you have example this case."}, {"owner": {"reputation": 9535, "user_id": 3032, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3f1592ca28c9ed4981e70064d320e19d?s=128&d=identicon&r=PG", "display_name": "Scott W", "link": "https://stackoverflow.com/users/3032/scott-w"}, "reply_to_user": {"reputation": 1, "user_id": 10054657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6IEZFeFOBqc/AAAAAAAAAAI/AAAAAAAAIU4/6ttezf9UAjc/photo.jpg?sz=128", "display_name": "Quanta Innoveter", "link": "https://stackoverflow.com/users/10054657/quanta-innoveter"}, "edited": false, "score": 0, "creation_date": 1532005201, "post_id": 51256799, "comment_id": 89817523, "body": "There is too much code missing from your example to provide a clear answer here."}], "tags": [], "owner": {"reputation": 9535, "user_id": 3032, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3f1592ca28c9ed4981e70064d320e19d?s=128&d=identicon&r=PG", "display_name": "Scott W", "link": "https://stackoverflow.com/users/3032/scott-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1531193067, "creation_date": 1531193067, "answer_id": 51256799, "question_id": 51249692, "link": "https://stackoverflow.com/questions/51249692/kotlin-fuel-gson-error-begin-array-but-was-begin-object-at-line-1-column-2-path/51256799#51256799", "title": "kotlin fuel gson Error BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $", "body": "<p>This error means that your parsing code was expecting to find a BEGIN_ARRAY delimiter (<code>[</code>), but it found a BEGIN_OBJECT delimiter (<code>{</code>) instead. Essentially, your objects that GSON is attempting to parse are expecting an array in a place where the JSON input is providing on object.</p>\n\n<p>It's a little bit tough to debug with just a small snippet of code, but you want to make sure that the object models you are providing to GSON for deserialization are able to parse the JSON input from the root down to the data you're interested in accessing. My hunch is that you're missing the part that parses the <code>\"data\"</code> object.</p>\n"}], "owner": {"reputation": 1, "user_id": 10054657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6IEZFeFOBqc/AAAAAAAAAAI/AAAAAAAAIU4/6ttezf9UAjc/photo.jpg?sz=128", "display_name": "Quanta Innoveter", "link": "https://stackoverflow.com/users/10054657/quanta-innoveter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531193067, "creation_date": 1531152112, "last_edit_date": 1531189882, "question_id": 51249692, "link": "https://stackoverflow.com/questions/51249692/kotlin-fuel-gson-error-begin-array-but-was-begin-object-at-line-1-column-2-path", "title": "kotlin fuel gson Error BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $", "body": "<p>Response from api. How to get data from this result. Use Fuel connect api<br>\n <strong>Error :</strong></p>\n\n<blockquote>\n  <p>BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</p>\n</blockquote>\n\n<p>I don't understand it</p>\n\n<pre><code>{    \n      \"data\": {\n        \"translations\": [\n          {\n            \"translatedText\": \"\u0e04\u0e38\u0e13\u0e0a\u0e2d`enter code here`\u0e1a\u0e09\u0e31\u0e19\u0e44\u0e2b\u0e21 \u0e04\u0e38\u0e13\u0e0a\u0e2d\u0e1a\u0e43\u0e04\u0e23? \u0e16\u0e36\u0e07 12 ML 2. 19. 9. 19 ROADSHOW kiele \u0e2b\u0e31\u0e27\u0e40\u0e23\u0e32\u0e30\u0e41\u0e25\u0e30\u0e23\u0e49\u0e2d\u0e07\u0e44\u0e2b\u0e49\u0e41\u0e25\u0e30\u0e23\u0e49\u0e2d\u0e07\u0e44\u0e2b\u0e49\u0e1c\u0e34\u0e27\u0e23\u0e31\u0e01\u0e40\u0e1b\u0e47\u0e19\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e40\u0e01\u0e34\u0e14\",\n            \"detectedSourceLanguage\": \"ja\"\n          }\n        ]\n      }\n    }\n\nclass Textmodel {\n    @SerializedName(\"translations\")\n    @Expose\n    var translation: List&lt;MessageResult&gt;? = null\n\n\n    class MessageResult {\n        @SerializedName(\"translatedText\")\n        @Expose\n        var message: String? = null\n        @SerializedName(\"detectedSourceLanguage\")\n        @Expose\n        var originalLanguage: String? = null\n\n        constructor(message: String?, originalLanguage: String?) {\n            this.message = message\n            this.originalLanguage = originalLanguage\n        }\n\n    }\n\n   class ListDeserializer : ResponseDeserializable&lt;List&lt;Textmodel&gt;&gt; {\n        override fun deserialize(content: String) =\n\n                Gson().fromJson&lt;List&lt;Textmodel&gt;&gt;(content,object :TypeToken&lt;List&lt;Textmodel&gt;&gt;(){}.type)\n    }\n</code></pre>\n\n<p>I want to get data form this object. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "csv", "kotlin", "share"], "answers": [{"comments": [{"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1531150835, "post_id": 51249145, "comment_id": 89477464, "body": "i think it works. I guess I need to get permission because it shows permission denied. Could you please let me know what kind of permission I have to get?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1531151139, "post_id": 51249145, "comment_id": 89477644, "body": "<code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; &#47;&gt;</code> <code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; &#47;&gt;</code> <code>&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; &#47;&gt;</code> <code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; &#47;&gt;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1531151260, "post_id": 51249145, "comment_id": 89477719, "body": "These are permissions for the mail app. I don&#39;t think you need them"}, {"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1531151675, "post_id": 51249145, "comment_id": 89477984, "body": "same ,  I tried email and whatsapp. it still doesn&#39;t work,"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1531151821, "post_id": 51249145, "comment_id": 89478074, "body": "Maybe try to copy the file to external storage and attach it from there"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1531150327, "creation_date": 1531150327, "answer_id": 51249145, "question_id": 51248872, "link": "https://stackoverflow.com/questions/51248872/kotlin-android-create-and-share-csv-file/51249145#51249145", "title": "Kotlin Android create and share CSV file", "body": "<p>After writing to the file you must close it:  <br/> <code>fileWriter.close()</code>  <br/>\nand make this change: <br/><code>sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(qponFile))</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14299956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg5DXFVwN6pcxVZF0X-Jmr5qTVZJaJO9Bm-vRYWlA=k-s128", "display_name": "SA Faraz", "link": "https://stackoverflow.com/users/14299956/sa-faraz"}, "is_accepted": false, "score": 0, "last_activity_date": 1611311860, "last_edit_date": 1611311860, "creation_date": 1611298096, "answer_id": 65840513, "question_id": 51248872, "link": "https://stackoverflow.com/questions/51248872/kotlin-android-create-and-share-csv-file/65840513#65840513", "title": "Kotlin Android create and share CSV file", "body": "<pre><code>val HEADER = &quot;Name, DateTime&quot;\n\nvar filename = &quot;export.csv&quot;\n\nvar path = getExternalFilesDir(null)   //get file directory for this package\n//(Android/data/.../files | ... is your app package)\n\n//create fileOut object\nvar fileOut = File(path, filename)\n\n//delete any file object with path and filename that already exists\nfileOut.delete()\n\n//create a new file\nfileOut.createNewFile()\n\n//append the header and a newline\nfileOut.appendText(HEADER)\nfileOut.appendText(&quot;\\n&quot;)\n// trying to append some data into csv file\nfileOut.appendText(&quot;Haider, 12/01/2021&quot;)\nfileOut.appendText(&quot;\\n&quot;)\n\n\nval sendIntent = Intent(Intent.ACTION_SEND)\nsendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(fileOut))\nsendIntent.type = &quot;text/csv&quot;\nstartActivity(Intent.createChooser(sendIntent, &quot;SHARE&quot;))\n</code></pre>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2976, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1611311860, "creation_date": 1531149461, "question_id": 51248872, "link": "https://stackoverflow.com/questions/51248872/kotlin-android-create-and-share-csv-file", "title": "Kotlin Android create and share CSV file", "body": "<p>My android app create an csv file and share it immediately as the below code. The app start properly but there is no file attached when i select anyone of the application to share it. please kindly help to solve this issue.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val CSV_HEADER = \"id,name,address,age\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        val qponFile = File.createTempFile(\"qpon\", \"csv\")\n        var fileWriter: FileWriter? = null\n\n        try {\n            fileWriter = FileWriter(\"qpon.csv\")\n\n            fileWriter.append(CSV_HEADER)\n            fileWriter.append('\\n')\n\n\n                fileWriter.append(\"aaaaa\")\n                fileWriter.append(',')\n                fileWriter.append(\"bbbbb\")\n                fileWriter.append(',')\n                fileWriter.append(\"cccccc\")\n                fileWriter.append(',')\n                fileWriter.append(\"dddddd\")\n                fileWriter.append('\\n')\n\n            println(\"Write CSV successfully!\")\n\n        } catch (e: Exception) {\n            println(\"Writing CSV error!\")\n            e.printStackTrace()\n        }\n\n\n        val sendIntent = Intent()\n        sendIntent.action = Intent.ACTION_SEND\n        sendIntent.putExtra(Intent.EXTRA_STREAM, qponFile)\n        sendIntent.type = \"text/csv\"\n        startActivity(Intent.createChooser(sendIntent, \"SHARE\"))\n\n    }\n\n}\n</code></pre>\n\n<p>Image1,the app start properly. \n<a href=\"https://i.stack.imgur.com/PReVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PReVG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Image2, no attachment\n<a href=\"https://i.stack.imgur.com/7UhS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7UhS5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1531148584, "post_id": 51248555, "comment_id": 89476081, "body": "use <code>,</code> instead of <code>or</code>"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1531148647, "post_id": 51248555, "comment_id": 89476126, "body": "right, can you tell for me about it"}], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 719763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d804c5079e5ca2bae884bb42f4d5ba9?s=128&d=identicon&r=PG", "display_name": "pforhan", "link": "https://stackoverflow.com/users/719763/pforhan"}, "edited": false, "score": 0, "creation_date": 1536584495, "post_id": 51248647, "comment_id": 91464002, "body": "I understand , vs or -- but why is &quot;duplicate in when&quot; a warning and not an error message?  Seems like it&#39;s always a coding error."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 807, "user_id": 719763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d804c5079e5ca2bae884bb42f4d5ba9?s=128&d=identicon&r=PG", "display_name": "pforhan", "link": "https://stackoverflow.com/users/719763/pforhan"}, "edited": false, "score": 0, "creation_date": 1536586696, "post_id": 51248647, "comment_id": 91465534, "body": "@pforhan not sure, you would have to ask the kotlin team why they designed it to be a warning"}], "tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 20, "last_activity_date": 1531149196, "last_edit_date": 1531149196, "creation_date": 1531148743, "answer_id": 51248647, "question_id": 51248555, "link": "https://stackoverflow.com/questions/51248555/what-is-duplicate-in-when-in-kotlin/51248647#51248647", "title": "What is &quot;duplicate in when&quot; in Kotlin?", "body": "<p>You're using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/or.html\" rel=\"noreferrer\">bitwise OR</a> with <code>or</code>. This means that <code>1 or 7</code> evaluates to 7 and <code>4 or 10</code> evaluates to 14. <code>6 or 12</code> also happens to evaluate to 14, hence the compiler tells you it is a duplicate. </p>\n\n<p>Solution: use <code>,</code> instead of <code>or</code>. See more on how to use when statements <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 1, "accepted_answer_id": 51248647, "answer_count": 1, "score": 6, "last_activity_date": 1531149196, "creation_date": 1531148412, "question_id": 51248555, "link": "https://stackoverflow.com/questions/51248555/what-is-duplicate-in-when-in-kotlin", "title": "What is &quot;duplicate in when&quot; in Kotlin?", "body": "<p>I write code like bellow:</p>\n\n<pre><code>when(month){\n        1 or 7 -&gt; arrHoangDao = arrayListOf(\"T\u00fd\", \"S\u1eedu\", \"T\u1ef5\", \"M\u00f9i\")\n        2 or 8 -&gt; arrHoangDao = arrayListOf(\"D\u1ea7n\", \"M\u00e3o\", \"M\u00f9i\", \"D\u1eadu\")\n        3 or 9 -&gt; arrHoangDao = arrayListOf(\"Th\u00ecn\", \"T\u1ef5\", \"D\u1eadu\", \"H\u1ee3i\")\n        4 or 10 -&gt; arrHoangDao = arrayListOf(\"Ng\u1ecd\", \"M\u00f9i\", \"S\u1eedu\", \"D\u1eadu\")\n        5 or 11 -&gt; arrHoangDao = arrayListOf(\"Th\u00e2n\", \"D\u1eadu\", \"S\u1eedu\", \"M\u00e3o\")\n        /* 6 or 12 is duplicate */\n        6 or 12 -&gt; arrHoangDao = arrayListOf(\"Tu\u1ea5t\", \"H\u1ee3i\", \"M\u00e3o\", \"T\u1ecb\")\n    }\n</code></pre>\n\n<p>I get the message is \"duplicate in when\". What does it mean?</p>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout", "android-framelayout"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531145058, "post_id": 51247123, "comment_id": 89473601, "body": "0dp is &quot;match constraint&quot;, if you don&#39;t wnat to show it then make it 1px"}, {"owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531201302, "post_id": 51247123, "comment_id": 89494439, "body": "@EpicPandaForce That actually did the trick, especially the &quot;1px&quot; hint. Do you mind posting this as an answer, so that it may help others later?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1531209234, "post_id": 51247123, "comment_id": 89497980, "body": "Typically using View.GONE is the preferred way, except when you&#39;re trying to do this in a RecyclerView. There, GONE isn&#39;t enough, so using 1px is kind of a hack, but it works!"}], "answers": [{"tags": [], "owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "is_accepted": true, "score": 3, "last_activity_date": 1531159678, "last_edit_date": 1531159678, "creation_date": 1531153950, "answer_id": 51250195, "question_id": 51247123, "link": "https://stackoverflow.com/questions/51247123/width-of-framelayout-never-truly-0/51250195#51250195", "title": "Width of FrameLayout never truly 0", "body": "<p>That\u2019s not a bug at all. In constraint layout the <code>0dp</code> is evaluated as <code>match_constraint</code>, which will take up space based on the constraints you defined.</p>\n\n<p>As stated on the docs:</p>\n\n<blockquote>\n  <p>The dimension of the widgets can be specified by setting the\n  <code>android:layout_width</code> and <code>android:layout_height</code> attributes in <strong>3\n  different ways</strong>:</p>\n  \n  <p>1- Using a specific dimension (either a literal value such as 123dp or a\n  Dimension reference);</p>\n  \n  <p>2- Using <code>WRAP_CONTENT</code>, which will ask the widget to compute its own size;</p>\n  \n  <p><strong><em>3- Using 0dp, which is the equivalent of <code>MATCH_CONSTRAINT</code></em></strong>.</p>\n</blockquote>\n\n<p>If your goal is to make a view disappear, you can change its visibility instead of changing the width or height.</p>\n\n<pre><code>val view: View = findViewById(R.id.yourView)\nview.visibility = View.GONE // Or View.INVISIBLE\n</code></pre>\n\n<p>Now if you're looking to change the width/height for animation purposes, or for any other reason, change it to 1dp or any other size that fits your needs.</p>\n\n<p>You can read more about <code>ConstraintLayout</code> on the <a href=\"https://developer.android.com/training/constraint-layout/\" rel=\"nofollow noreferrer\">Android training guide</a> and <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintLayout\" rel=\"nofollow noreferrer\">on its docs</a>.</p>\n"}], "owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 51250195, "answer_count": 1, "score": 1, "last_activity_date": 1531159678, "creation_date": 1531143991, "question_id": 51247123, "link": "https://stackoverflow.com/questions/51247123/width-of-framelayout-never-truly-0", "title": "Width of FrameLayout never truly 0", "body": "<p>I'm currently facing a strange bug(?) with ConstraintLayout.\nIm trying to set the width of a FrameLayout, which is a child of a Constraintlayout, to 0px.</p>\n\n<p>I set the width via the following code snippet: </p>\n\n<pre><code>// set width\nval newWidth = 0\nval frameParams = frame.layoutParams as ConstraintLayout.LayoutParams\nframeParams.width = newWidth\nframe.layoutParams = frameParams\nlogE(\"newWidth: $newWidth, frame.measuredWidth: ${frame.measuredWidth}, frame.width: ${frame.width}\")\n</code></pre>\n\n<p>Strangely, it seems that my FrameLayout never reaches a \"true\" width of 0px, but some random values close to 0. See a selection of logs below: </p>\n\n<pre><code>E/Log: newWidth: 0, frame.measuredWidth: 6, frame.width: 6\nE/Log: newWidth: 0, frame.measuredWidth: 10, frame.width: 10\nE/Log: newWidth: 0, frame.measuredWidth: 1, frame.width: 1\n</code></pre>\n\n<p>As you can see, neither the FrameLayouts width, nor its measuredWidth, reach a value of 0.\nIs this a known bug, and if so, does anyone know a workaround?</p>\n\n<p>Please let me know if you need any further information. Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "applinks", "chrome-custom-tabs"], "comments": [{"owner": {"reputation": 137, "user_id": 8189250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6j0K.jpg?s=128&g=1", "display_name": "MalikDe", "link": "https://stackoverflow.com/users/8189250/malikde"}, "edited": false, "score": 1, "creation_date": 1538560380, "post_id": 51244910, "comment_id": 92182002, "body": "I&#39;ve got the exact same issue. You can try to define a fix path after your host uri, it may work : <a href=\"https://my-host/redirect\" rel=\"nofollow noreferrer\">my-host/redirect</a>."}, {"owner": {"reputation": 170, "user_id": 4159909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-rVrKFrM8hWc/AAAAAAAAAAI/AAAAAAAAABE/zGUUmYLn-qo/photo.jpg?sz=128", "display_name": "Jo&#227;o Z&#227;o", "link": "https://stackoverflow.com/users/4159909/jo%c3%a3o-z%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1546986165, "post_id": 51244910, "comment_id": 95034052, "body": "What&#39;s the dependency version you are using for chrome custom tabs? com.android.support:customtabs"}, {"owner": {"reputation": 181, "user_id": 3904645, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003057487690/picture?type=large", "display_name": "Rezo Shalikashvili", "link": "https://stackoverflow.com/users/3904645/rezo-shalikashvili"}, "edited": false, "score": 0, "creation_date": 1587129507, "post_id": 51244910, "comment_id": 108394680, "body": "Have you found the solution?"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 1552050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15222234f7e86ddbdbac755d2fbafca7?s=128&d=identicon&r=PG", "display_name": "user1552050", "link": "https://stackoverflow.com/users/1552050/user1552050"}, "edited": false, "score": 0, "creation_date": 1531312915, "post_id": 51246588, "comment_id": 89548907, "body": "Thanks for reply but this won&#39;t work in my scenario. What I currently do is: 1. Open login url from webview in chrome browser 2. After login is completed I&#39;m redirected back to my single webview host from 3rd party provider with auth token - which always redirects to &quot;<a href=\"https://my-host/auth-token\" rel=\"nofollow noreferrer\">my-host/auth-token</a>&quot; after I changed the https scheme it will be never opened in my native app.  And this works as expected, just doesn&#39;t work when I replace chrome browser to custom tabs"}, {"owner": {"reputation": 7571, "user_id": 4578513, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/mUo1D.jpg?s=128&g=1", "display_name": "Developine", "link": "https://stackoverflow.com/users/4578513/developine"}, "edited": false, "score": 0, "creation_date": 1598433720, "post_id": 51246588, "comment_id": 112455018, "body": "this is great hint, I was struggling with this. changed my scheme to app-id (com.company.appname). updated redirect url in keycloak also. and it worked."}], "tags": [], "owner": {"reputation": 177, "user_id": 2656461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DqjzT.jpg?s=128&g=1", "display_name": "Smile", "link": "https://stackoverflow.com/users/2656461/smile"}, "is_accepted": false, "score": 1, "last_activity_date": 1531142386, "creation_date": 1531142386, "answer_id": 51246588, "question_id": 51244910, "link": "https://stackoverflow.com/questions/51244910/android-app-links-not-working-with-chrome-custom-tabs/51246588#51246588", "title": "Android app links not working with Chrome Custom Tabs", "body": "<p>Because your deeplink url is like that of a website, the Chrome Custom Tab will always try to load it as a webpage instead of redirecting. What you could do is use a scheme not commonly supported by a browser like <code>app-name://</code> then your host could be <code>redirect-to</code> so what this would play out to be would be </p>\n\n<pre><code> &lt;data\n  android:host=\"redirect-to\"\n  android:scheme=\"app-name\" /&gt;\n</code></pre>\n\n<p>This way only your app, will be the one to resolve this url. But take note when you use this type of url, it may not appear as a link in some apps like e-mails.</p>\n"}], "owner": {"reputation": 81, "user_id": 1552050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15222234f7e86ddbdbac755d2fbafca7?s=128&d=identicon&r=PG", "display_name": "user1552050", "link": "https://stackoverflow.com/users/1552050/user1552050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2695, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1531142386, "creation_date": 1531137019, "question_id": 51244910, "link": "https://stackoverflow.com/questions/51244910/android-app-links-not-working-with-chrome-custom-tabs", "title": "Android app links not working with Chrome Custom Tabs", "body": "<p>I have application which use app links for login in the browser outside of the app and is redirected back after login is completed.\nThis works fine with android native browsers but fails when I'm using Chrome Custom Tabs. User is logged in custom tabs and not redirected back to the app, so I wonder if is it possible to \nuse app links with custom tabs in the same way as with the native browsers?</p>\n\n<p>manifest configuration\n\n    </p>\n\n<pre><code>&lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n&lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n\n&lt;data\n    android:host=\"my-host\"\n    android:scheme=\"https\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>working implementation in native browsers</p>\n\n<pre><code>val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\nContextCompat.startActivity(context, intent, null)\n</code></pre>\n\n<p>failing redirect using chrome custom tabs</p>\n\n<pre><code>val customTabsIntent = CustomTabsIntent.Builder()\n    .build()\n\ncustomTabsIntent.launchUrl(context, Uri.parse(url))\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bar-chart"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531130976, "post_id": 51242601, "comment_id": 89464667, "body": "which chart lib are you using ?"}, {"owner": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531131028, "post_id": 51242601, "comment_id": 89464694, "body": "I am using MPAndroidChart"}, {"owner": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531131058, "post_id": 51242601, "comment_id": 89464719, "body": "I want to show 4 values in x axis but it only shows single value"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531131166, "post_id": 51242601, "comment_id": 89464782, "body": "Okay Actually i got solution for another lib. that&#39;s why asked you."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531131348, "post_id": 51242601, "comment_id": 89464859, "body": "It&#39;s a silly thing but can you try with <code>xVals.add(&quot;New&quot;); xVals.add(&quot;Acc&quot;); xVals.add(&quot;Com&quot;); xVals.add(&quot;Can&quot;);</code>"}, {"owner": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531131818, "post_id": 51242601, "comment_id": 89465121, "body": "That is not working"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1531133007, "post_id": 51242601, "comment_id": 89465727, "body": "Please have a look at my answer"}], "answers": [{"tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1531132983, "creation_date": 1531132983, "answer_id": 51243653, "question_id": 51242601, "link": "https://stackoverflow.com/questions/51242601/x-axis-values-not-showing-all-in-stacked-bar-chart/51243653#51243653", "title": "x-axis values not showing all in stacked bar chart", "body": "<p>The problem was the <code>float value</code> with is got in the getFormattedValue method of the Formatter. The values which you are getting are(0,10,20,30) and the array you provided for the value of x-axis is only of size 4. That's why it was only printing the first x-value and not the rest.</p>\n\n<p>Please change your code as followed.</p>\n\n<pre><code>    xAxis.setValueFormatter(new IAxisValueFormatter() {\n        @Override\n        public String getFormattedValue(float value, AxisBase axis) {\n            try {\n                return xVals.get((int) (value / 10));//dividing the value by 10 to get the multiplied value.\n            } catch (Exception e){\n                return \"\";\n            }\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 51243653, "answer_count": 1, "score": 1, "last_activity_date": 1531136880, "creation_date": 1531129688, "last_edit_date": 1531136880, "question_id": 51242601, "link": "https://stackoverflow.com/questions/51242601/x-axis-values-not-showing-all-in-stacked-bar-chart", "title": "x-axis values not showing all in stacked bar chart", "body": "<p>Below you can find screen shot as well as my code;</p>\n\n<p><a href=\"https://i.stack.imgur.com/3i17w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3i17w.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code is below;</p>\n\n<pre><code>      mChart = view.findViewById(R.id.bar_chart);\n        barWidth = 0.3f;\n        barSpace = 0.02f;\n        groupSpace = 0.4f;\n\n        mChart.setDescription(null);\n        mChart.setPinchZoom(false);\n        mChart.setScaleEnabled(false);\n        mChart.setDrawBarShadow(false);\n        mChart.setDrawGridBackground(false);\n\n        mChart.getAxisLeft().setDrawGridLines(false);\n        mChart.getXAxis().setDrawGridLines(false);\n        mChart.setBackgroundColor(Color.TRANSPARENT); \n\n        ArrayList&lt;BarEntry&gt; yValues = new ArrayList&lt;&gt;();\n        yValues.add(new BarEntry(5, new float[]{10, 20, 30, 50}));\n        yValues.add(new BarEntry(15, new float[]{12, 13}));\n        yValues.add(new BarEntry(25, new float[]{15, 15}));\n        yValues.add(new BarEntry(35, new float[]{17, 17}));\n\n        BarDataSet set = new BarDataSet(yValues, \"\");\n        set.setColors(new int[]{Color.rgb(67, 67, 72), Color.rgb(124, 181, 236),\n                Color.rgb(124, 181, 236), Color.rgb(124, 181, 236)});\n        set.setStackLabels(new String[]{\n                \"Men\", \"Women\", \"fgdgfx\", \"gfdrhd\"\n        });\n        BarData data = new BarData(set);\n        data.setBarWidth(1.9f);\n        mChart.setData(data);\n        mChart.invalidate();\n\n        final ArrayList xVals = new ArrayList();\n        xVals.add(\"New\");\n        xVals.add(\"Accepted\");\n        xVals.add(\"Completed\");\n        xVals.add(\"Cancelled\");\n\n        XAxis xAxis = mChart.getXAxis();\n        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);\n\n        xAxis.setTextColor(Color.RED);\n        xAxis.setDrawAxisLine(true);\n        xAxis.setDrawGridLines(false);\n        xAxis.setCenterAxisLabels(true);\n        xAxis.setAxisMinimum(0.4f);\n        xAxis.setGranularity(4f);\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(xVals));\n\n        mChart.getAxisRight().setEnabled(false);\n        YAxis leftAxis = mChart.getAxisLeft();\n        leftAxis.setValueFormatter(new LargeValueFormatter());\n        leftAxis.setDrawGridLines(false);\n        leftAxis.setSpaceTop(35f);\n        leftAxis.setAxisMinimum(0f);\n        leftAxis.setGranularity(1.0f);\n        leftAxis.setGranularityEnabled(true);\n\n        Legend l = mChart.getLegend();\n        l.setPosition(Legend.LegendPosition.BELOW_CHART_RIGHT);\n        l.setWordWrapEnabled(true);\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": false, "score": 1, "last_activity_date": 1531139152, "creation_date": 1531139152, "answer_id": 51245575, "question_id": 51242443, "link": "https://stackoverflow.com/questions/51242443/why-am-i-getting-a-nullpointerexception-when-fetching-json/51245575#51245575", "title": "Why am I getting a NullPointerException when fetching JSON?", "body": "<p>The way you're using retrofit makes it have an asynchronous behaviour, meaning the code within <code>onFailure</code> and <code>onResponse</code> might run after or before you have a chance to return from <code>fetchWeatherData</code>. In other words, you cannot assume that <code>place</code> will have a value when you return from <code>fetchWeatherData</code> and this is actually what's happening, <code>place</code> is still <code>null</code> and calling <code>!!</code> will cause the null pointer exception you're having.</p>\n\n<p>To fix this you either change the way you're using retrofit to be synchronous, or you use an approach like callbacks. </p>\n\n<p>Personally, I prefer the callback approach / reactive streams and this you can check <a href=\"https://stackoverflow.com/questions/44872115/how-can-i-return-value-from-onresponse-of-retrofit-v2\">here</a>.</p>\n\n<p>Making the code synchronous will most likely lead to other issues such as network calls on the main thread, which are not allowed and crash the app.</p>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1531139707, "creation_date": 1531139707, "answer_id": 51245728, "question_id": 51242443, "link": "https://stackoverflow.com/questions/51242443/why-am-i-getting-a-nullpointerexception-when-fetching-json/51245728#51245728", "title": "Why am I getting a NullPointerException when fetching JSON?", "body": "<p>You need to invert your logic. You cannot simply \"return data\" from a network call that you're waiting for</p>\n\n<p>Instead, loop over the list, make requests, then show/update the view</p>\n\n<pre><code>for (index in 0 until favPlaceStrings.size) {\n    val call: Call&lt;Place&gt; = networkApi.getPlaceWeather(favPlaceStrings.elementAt(index))\n    call.enqueue(object : Callback&lt;Place&gt; {\n        override fun onFailure(call: Call&lt;Place&gt;?, t: Throwable?) {\n            println(t?.message)\n        }\n\n        override fun onResponse(call: Call&lt;Place&gt;?, response: Response&lt;Place&gt;?) {\n\n            if (response != null &amp;&amp; response.isSuccessful &amp;&amp; response.body() != null) {\n\n                val place: Place = response.body() as Place\n                places.add(place)  // move this list to a field \n                println(place.toString())\n                view.showFavouritePlaces(places) // this is fine that it's inside a loop\n            }\n        }\n    })\n\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5961244, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SBV6L.jpg?s=128&g=1", "display_name": "Zolly", "link": "https://stackoverflow.com/users/5961244/zolly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 51245728, "answer_count": 2, "score": -1, "last_activity_date": 1531171981, "creation_date": 1531129198, "last_edit_date": 1531171981, "question_id": 51242443, "link": "https://stackoverflow.com/questions/51242443/why-am-i-getting-a-nullpointerexception-when-fetching-json", "title": "Why am I getting a NullPointerException when fetching JSON?", "body": "<p>I keep getting a NullPointerException at <code>return place</code>.<br>\nWhen I was debugging the app, the code skips the <code>onFailure()</code> and <code>onResponse()</code> methods.</p>\n\n<p>Previously, this worked but I refactored it into the current classes. </p>\n\n<pre><code>class Repository private constructor() {\n\n    private val baseUrl: String = \"http://api.openweathermap.org/\"\n\n    val client = OkHttpClient.Builder()\n            .addInterceptor(HttpLoggingInterceptor()\n            .setLevel(HttpLoggingInterceptor.Level.BODY))\n            .build()\n\n    val retrofit = Retrofit.Builder()\n            .baseUrl(baseUrl)\n            .addConverterFactory(MoshiConverterFactory.create())\n            .client(client)\n            .build()\n\n    val networkApi = retrofit.create(NetworkApi::class.java)\n\n\n    private object Holder { val INSTANCE = Repository() }\n\n    companion object {\n\n        val instance: Repository by lazy { Holder.INSTANCE }\n\n    }\n\n    fun fetchWeatherData(placeName: String): Place {\n\n        var place: Place? = null\n\n        val call: Call&lt;Place&gt; = networkApi.getPlaceWeather(placeName)\n\n        call.enqueue(object : Callback&lt;Place&gt; {\n\n            override fun onFailure(call: Call&lt;Place&gt;?, t: Throwable?) {\n                println(t?.message)\n            }\n\n            override fun onResponse(call: Call&lt;Place&gt;?, response: Response&lt;Place&gt;?) {\n\n                if (response != null &amp;&amp; response.isSuccessful &amp;&amp; response.body() != null) {\n\n                    place = response.body() as Place\n\n                    println(place.toString())\n                }\n            }\n        })\n\n        return place!!\n    }\n}\n\n\nclass MainPresenter(private val view: MainContract.View, val context: Context) : MainContract.Presenter {\n\n    val repository = Repository.instance\n\n    ...\n\n    override fun updateListOfPlaces() {\n\n        var places = mutableListOf&lt;Place&gt;()\n\n        for (index in 0 until favPlaceStrings.size) {\n            places.add(repository.fetchWeatherData(favPlaceStrings.elementAt(index)))\n        }\n\n        view.showFavouritePlaces(places)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "amazon-web-services", "kotlin", "aws-sdk-js"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1531127829, "post_id": 51241840, "comment_id": 89462659, "body": "<code>But when I&#39;ve &quot;compiled&quot; my project, the AWS SDK doesn&#39;t appear in the big index.js file generated from Kotlin.</code> but does it work though?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1531127857, "post_id": 51241840, "comment_id": 89462677, "body": "It isn&#39;t supposed to appear there. <code>index.js</code> generated by the Kotlin compiler includes only the results of compiling your Kotlin code. If you want to package all of your dependencies in a single .js file, you need to use something like webpack."}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1531128050, "post_id": 51241840, "comment_id": 89462817, "body": "@JonasW. no, it doesn&#39;t work. Since I don&#39;t really know if I&#39;m importing it correctly."}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1531128053, "post_id": 51241840, "comment_id": 89462818, "body": "@yole I&#39;ll take a look at webpack then, thank you."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1531128116, "post_id": 51241840, "comment_id": 89462867, "body": "&quot;doesnt work&quot; ... Debug?! Whats the error?"}, {"owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1531128421, "post_id": 51241840, "comment_id": 89463075, "body": "@JonasW. <code>Cannot find module &#39;aws-sdk&#39;</code>. So probably I&#39;m not packing the modules with my lambda."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1531129121, "post_id": 51241840, "comment_id": 89463543, "body": "@abierto no, you just havent installed it!!! <code>npm install aws-sdk</code>, them run again..."}], "owner": {"reputation": 1325, "user_id": 1285611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5938707880c06c25f0d789961f0aebeb?s=128&d=identicon&r=PG", "display_name": "abierto", "link": "https://stackoverflow.com/users/1285611/abierto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531127351, "creation_date": 1531127351, "question_id": 51241840, "link": "https://stackoverflow.com/questions/51241840/cant-understand-how-to-import-aws-sdk-on-kotlin-node-js-lambda", "title": "Can&#39;t understand how to import AWS SDK on Kotlin Node JS Lambda", "body": "<p>I'm trying to run a little example of an AWS Lambda written in Kotlin JavaScript, server side, which gets a parameter from the AWS SSM Parameter Store, and returns it through a REST call usig AWS API Gateway. </p>\n\n<p>I came from Kotlin Java and mainly Java, so my main issue is: how do I import the <code>aws-sdk</code> dependency? </p>\n\n<p>I've added it to my <code>package.json</code> and next I run <code>npm install</code>. \nI've tried importing it declaring something like this:</p>\n\n<pre><code>external fun require(module:String):dynamic\n...\nval aws = require(\"aws-sdk\")\nval ssm = aws.SSM()\n...\n</code></pre>\n\n<p>But when I've \"compiled\" my project, the AWS SDK doesn't appear in the big index.js file generated from Kotlin.</p>\n\n<p>Is there a better way to do what I'm trying to do?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1531127442, "post_id": 51241758, "comment_id": 89462404, "body": "maybe it&#39;s an obvious consideration, but <code>run</code> returns the result of the code block you&#39;re supplying, so it must return the same type as the left side of the elvis operator"}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1531127702, "post_id": 51241758, "comment_id": 89462568, "body": "so other then providing a block to write code, the ?: run{}    and ?:   are the same right"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1531127934, "post_id": 51241758, "comment_id": 89462740, "body": "to me yes, I don&#39;t see any difference. Moreover, you could do the same even without <code>run</code>, by simply creating and executing a lambda (e.g., <code>x ?: { doSomething(); doSomethingElse() }()</code>), which is more or less what <code>run</code> does"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 9, "last_activity_date": 1531127770, "creation_date": 1531127770, "answer_id": 51241983, "question_id": 51241758, "link": "https://stackoverflow.com/questions/51241758/kotlin-run-vs-elvis-operator-what-is-the-difference/51241983#51241983", "title": "kotlin - run vs elvis operator - what is the difference?", "body": "<p>Yes, they are equivalent. <code>run</code> allows you to use multiple statements on the right side of an elvis operator; in this case there's only one, so <code>run</code> is not needed.</p>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 51241983, "answer_count": 1, "score": 3, "last_activity_date": 1531127770, "creation_date": 1531127100, "question_id": 51241758, "link": "https://stackoverflow.com/questions/51241758/kotlin-run-vs-elvis-operator-what-is-the-difference", "title": "kotlin - run vs elvis operator - what is the difference?", "body": "<p>im trying to understand the difference between the following two pieces of code in kotlin:</p>\n\n<pre><code>myVar?.let { print(it) } ?: run { print(\"its null folks\") }\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>myVar?.let { print(it) } ?:  print(\"its null folks\")\n</code></pre>\n\n<p>are they equivalent ?  is run just so we can use a block of code and the the other is for just a single statement ?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "anko"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1531128420, "post_id": 51241680, "comment_id": 89463072, "body": "your customButton is not a button. It is a layout that contains a button. You&#39;re setting a clicklistener on the layout, not the button"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531130036, "post_id": 51241680, "comment_id": 89464129, "body": "did you try my answer?"}, {"owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1531130051, "post_id": 51241680, "comment_id": 89464138, "body": "@TimCastelijns I know that. That what I was searching for. But the button ignoring the layout <code>onClickListener</code>. I also try to remove the <code>onClickListener</code> on the button so it capture the <code>onClickListener</code> on the layout. But, still no luck."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531134579, "post_id": 51241680, "comment_id": 89466672, "body": "Total unresponsivness"}, {"owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "edited": false, "score": 0, "creation_date": 1531142293, "post_id": 51241680, "comment_id": 89471718, "body": "@mTak dude, what&#39;s your problem? Not everyone have same time zone as yours. It&#39;s already night in here. And I&#39;m planning to answer all of your questions/suggestions tomorrow. And now I misuse this comment section because of you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531142413, "post_id": 51241680, "comment_id": 89471804, "body": "You can leave a comment if you&#39;re unavailable. And how did your question appear again by a different username?"}, {"owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "edited": false, "score": 0, "creation_date": 1531142891, "post_id": 51241680, "comment_id": 89472146, "body": "On where? Can you give me the link. I don&#39;t have any other account."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1531158014, "post_id": 51241680, "comment_id": 89481297, "body": "This is it: <a href=\"https://stackoverflow.com/questions/51244951/android-click-event-view-with-button-and-text#comment89469645_51244951\">link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "edited": false, "score": 0, "creation_date": 1531142759, "post_id": 51244245, "comment_id": 89472057, "body": "Aahhh. This never cross my mind. Gonna check this tomorrow."}, {"owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "edited": false, "score": 1, "creation_date": 1531278952, "post_id": 51244245, "comment_id": 89531149, "body": "I can&#39;t use <code>onClickListener = clickListener</code>, but use <code>this.setOnClickListener { clickListener() }</code> instead. And change the variable <code>clickListener</code> to a function so it become <code>clickListener: () -&gt; Unit</code>. And then to use it <code>val button = customButton(&quot;YeY&quot;) { toast(&quot;YeY&quot;) }</code>"}], "tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": true, "score": 0, "last_activity_date": 1531134914, "creation_date": 1531134914, "answer_id": 51244245, "question_id": 51241680, "link": "https://stackoverflow.com/questions/51241680/android-onclick-view-with-button-and-text/51244245#51244245", "title": "Android - Onclick View with button and text", "body": "<p>The easiest solution would be just to pass an instance of <code>View.OnClickListener</code> to your method <code>customButton</code>.</p>\n\n<p>I am not familiar with anko syntax, but it should look similar to this:</p>\n\n<pre><code>fun customButton(label: String, clickListener: View.OnClickListener): View {\n    return UI {\n        verticalLayout {\n            button {\n                id = BTN_SERVICE_ITEM_ID\n                onClickListener = clickListener\n            }.lparams(dip(64), dip(64))\n\n            textView {\n                text = label\n            }.lparams(wrapContent, wrapContent)\n        }\n    }.view\n}\n</code></pre>\n\n<p>After all, if you're up to making a dedicated method to create a button, why not to use full of it :)</p>\n"}], "owner": {"reputation": 29, "user_id": 4917020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15900362579cb23caa465104bddb2f15?s=128&d=identicon&r=PG", "display_name": "rahmatfajar15", "link": "https://stackoverflow.com/users/4917020/rahmatfajar15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 51244245, "answer_count": 1, "score": -1, "last_activity_date": 1531134914, "creation_date": 1531126813, "last_edit_date": 1531129869, "question_id": 51241680, "link": "https://stackoverflow.com/questions/51241680/android-onclick-view-with-button-and-text", "title": "Android - Onclick View with button and text", "body": "<p>I have a custom button that I build using anko DSL:</p>\n\n<pre><code>fun customButton(label: String): View {\n    return UI {\n        verticalLayout {\n            button {\n                id = BTN_SERVICE_ITEM_ID\n            }.lparams(dip(64), dip(64))\n\n            textView {\n                text = label\n            }.lparams(wrapContent, wrapContent)\n        }\n    }.view\n}\n</code></pre>\n\n<p>then I add <code>setOnClickListener</code> on that button</p>\n\n<pre><code>val customButton = customButton(\"service 1\")\n\nlayout.addView(customButton)\n\ncustomButton.setOnClickListener {\n    toast(\"clicked\")\n}\n</code></pre>\n\n<p>when I click the button, the toast is not shown. But when the area of the custom button is clicked, the toast is shown.</p>\n\n<p>I know I can use <code>findViewById</code> to get the button then add <code>setOnClickListener</code> to it. But, is there any method so I can just attach onClickListener to the view?  </p>\n\n<p><br>\nEDIT:\n<br>\nI already try to add <code>isEnabled=false</code>, <code>isClickable=false</code>, <code>isFocusable=false</code> , <code>isActivated=false</code> and setOnClickListener(null) on the button. Still no luck.</p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 266, "user_id": 1997993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wpUBj.jpg?s=128&g=1", "display_name": "Trevor Jex", "link": "https://stackoverflow.com/users/1997993/trevor-jex"}, "edited": false, "score": 0, "creation_date": 1534308103, "post_id": 51241398, "comment_id": 90658615, "body": "I&#39;ve had a similar problem. I am getting data updates after a reconnect, but I&#39;m not able to update or create any new data."}], "answers": [{"tags": [], "owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1540180508, "creation_date": 1540180508, "answer_id": 52922201, "question_id": 51241398, "link": "https://stackoverflow.com/questions/51241398/firestore-stops-updating-after-losing-and-regaining-an-internet-connection/52922201#52922201", "title": "Firestore stops updating after losing and regaining an internet connection", "body": "<p>I know its a late reply, and i'm only a novice here (so I could be wrong), but for anyone else to come across this... it may be a combination of the problem I had: <br/></p>\n\n<p><a href=\"https://stackoverflow.com/questions/52917476/firebase-firestore-batch-command-wont-commit-after-regaining-connection/52922137#52922137\">Firebase Firestore batch command wont commit after regaining connection</a>\n<br/>\n<br/>\nAnd the problem someone else had: <br/></p>\n\n<p><a href=\"https://stackoverflow.com/questions/49456327/firestore-doesnt-immediately-start-listening-to-changes-when-internet-connectio\">Firestore doesn&#39;t immediately start listening to changes when Internet Connection Resumes</a></p>\n\n<p><br/></p>\n\n<p><strong>In summary:</strong><br/>\nEnsure you test without an emulator. <br/>\nIf you need live data, turn data persistence off. <br/>\nAnd Firestore may use an uncontrollable timer to dictate when it reconnects its listeners after a connection is regained.</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 8072092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2bc7fb2189d2e46ef36458a00c5977?s=128&d=identicon&r=PG&f=1", "display_name": "Joonsoo", "link": "https://stackoverflow.com/users/8072092/joonsoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1544785813, "last_edit_date": 1544785813, "creation_date": 1541326844, "answer_id": 53139753, "question_id": 51241398, "link": "https://stackoverflow.com/questions/51241398/firestore-stops-updating-after-losing-and-regaining-an-internet-connection/53139753#53139753", "title": "Firestore stops updating after losing and regaining an internet connection", "body": "<p><strong>Use device instead of emulator</strong> as <a href=\"https://stackoverflow.com/users/9648504/niccoe\">NicCoe</a> has mentioned. I also suffered from a similar problem for a long time and finally found that Firestore works differently on device and emulator. (FYI, I'm using <code>com.google.firebase:firebase-firestore:17.1.3</code>) Most problems were solved after changing the test environment with the device. One small problem with the device I have found is that Firestore gives empty result several times after regaining an internet connection. And I solved it with this code:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    ...\n    mRetryButton.setOnClickListener {\n        val pendingIntent = PendingIntent.getActivity(context, 0, Intent(context, ThisActivity::class.java), PendingIntent.FLAG_ONE_SHOT)\n        val alarmManager = context?.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarmManager.set(AlarmManager.RTC, System.currentTimeMillis() + 100, pendingIntent)\n        System.exit(0)\n    }\n    ...\n}\n\n\nfun fetchData() {\n    FirebaseFirestore.getInstance().collection(\"col_name\").get()\n            .addOnCompleteListener {\n                if (it.isSuccessful) {\n                    val result = it.result!!\n                    if (result.isEmpty &amp;&amp; result.metadata.isFromCache) {\n                        mRetryButton.visibility = View.VISIBLE\n                        return@addOnCompleteListener\n                    }\n                    var docs = result.documents\n                    ...\n                } else {\n                    Log.d(TAG, \"Error getting documents: \", it.getException())\n                }\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 5123555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wt60z.png?s=128&g=1", "display_name": "Jeremiah Zucker", "link": "https://stackoverflow.com/users/5123555/jeremiah-zucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 5, "answer_count": 2, "score": 6, "last_activity_date": 1607600453, "creation_date": 1531125968, "last_edit_date": 1531181772, "question_id": 51241398, "link": "https://stackoverflow.com/questions/51241398/firestore-stops-updating-after-losing-and-regaining-an-internet-connection", "title": "Firestore stops updating after losing and regaining an internet connection", "body": "<p>I have set up some listeners like so:</p>\n\n<pre><code>deviceListener = db.addSnapshotListener(this::handleDbChange)\n</code></pre>\n\n<p>When I have a stable internet connection, the handler fires on a data change and allows me to update my application. However, when I lose and regain an internet connection the handler ceases to fire. This doesn't always occur on the first loss of connection, but it always occurs after 2 or 3 drops in my connection.</p>\n\n<p>I have tried removing the listeners and re-adding them when the network changes. Additionally, I tried getting the data directly after the network connection is reestablished:</p>\n\n<pre><code>db.get().add().addOnCompleteListener {\n   val snapshot = it.result\n   snapshot.toObject(Model::class.java)\n}\n</code></pre>\n\n<p>But, this still serves the stale data. The only way I've found to correct this issue is restarting the app.</p>\n\n<p>If anyone else has encountered this issue, I'd appreciate any insight you may have on how to solve it. FYI, I'm using the <code>com.google.firebase:firebase-firestore:17.0.2</code> version of the library.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1531122354, "post_id": 51240274, "comment_id": 89459569, "body": "instead of <code>return</code> just <code>throw</code> the throwable and there&#39;s no need for a <code>return</code> statement then"}], "answers": [{"comments": [{"owner": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "edited": false, "score": 0, "creation_date": 1531404353, "post_id": 51243392, "comment_id": 89592148, "body": "Perfect! Thank you!"}], "tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": true, "score": 2, "last_activity_date": 1531166866, "last_edit_date": 1531166866, "creation_date": 1531132168, "answer_id": 51243392, "question_id": 51240274, "link": "https://stackoverflow.com/questions/51240274/flatmap-in-kotlin/51243392#51243392", "title": "flatMap() in kotlin", "body": "<p>Assuming you want to return the same thing as <code>doAnotherRequest()</code> the problem is with <code>Single.error&lt;Throwable&gt;(Throwable(\"error))</code>. You're hitting the compiler that you're returning a <code>Single&lt;Throwable&gt;</code>, but you want to return a <code>Single&lt;whatever doAnotherRequest returns&gt;</code>. </p>\n\n<p>Say your <code>doAnotherRequest</code> returns <code>Single&lt;Foo&gt;</code>, then you'd want to return <code>Single.error&lt;Foo&gt;(Throwable(\"error))</code>, which will return a single that will emit an error with the given exception.</p>\n\n<p>Kotlin tries to infer the type you want to return, but because you're returning 2 types that the \"most common\" type is <code>Any</code>, kotlin can only infer it's that you want to return. </p>\n"}], "owner": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "accepted_answer_id": 51243392, "answer_count": 1, "score": 0, "last_activity_date": 1531166866, "creation_date": 1531121824, "question_id": 51240274, "link": "https://stackoverflow.com/questions/51240274/flatmap-in-kotlin", "title": "flatMap() in kotlin", "body": "<p>If i make a <code>Single</code> invocation using <code>Retrofit</code> as example in Kotlin, i want to check the resulted answer and keep going with a <code>Single</code> or an error. As example</p>\n\n<pre><code>model.doRequest()\n     .flatMap { t: Response -&gt;\n          if(!h.hasError) {\n              return@flatMap model.doAnotherRequest()\n          } else {\n              return@flatmap Single.error&lt;Throwable&gt;(Throwable(\"error))\n          }\n      }\n</code></pre>\n\n<p>If i make another <code>flatMap()</code>, <code>subscribe()</code> or any other things, RxJava won't know that I want to continue with response given by the <code>doAnowhtRequest()</code>, instead will return <code>Any!</code>. How i can get data given by second request?</p>\n\n<p>In Java, <code>Single.error</code> isn't interpreted so RxJava will continue to give me the response in next invocations.</p>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": false, "score": 3, "last_activity_date": 1531121559, "last_edit_date": 1531121559, "creation_date": 1531121023, "answer_id": 51240059, "question_id": 51239876, "link": "https://stackoverflow.com/questions/51239876/how-to-write-beforeeach-and-beforeclass-in-kotlintest/51240059#51240059", "title": "How to write beforeEach and beforeClass in kotlintest", "body": "<p>After doing some research in the github docs and kotlin-test framework source code, below is the code to write beforeTest, beforeSpec, afterTest, afterSpec</p>\n\n<pre><code>class MyTest : StringSpec({\n\n    \"test should run \" {\n        \"Hello\".shouldHaveLength(4)\n    }\n\n    \"test2 should run \" {\n        \"Hello World\".shouldHaveLength(10)\n    }\n}) {\n    override fun beforeTest(description: Description) {\n        super.beforeTest(description)\n        println(\"Before every spec/test case\")\n    }\n\n    override fun beforeSpec(description: Description, spec: Spec) {\n        super.beforeSpec(description, this)\n        println(\"Before every test suite\")\n    }\n\n    override fun afterTest(description: Description, result: TestResult) {\n        super.afterTest(description, result)\n        println(\"After every spec/test case\")\n    }\n\n    override fun afterSpec(description: Description, spec: Spec) {\n        super.afterSpec(description, spec)\n        println(\"After every test suite\")\n    }\n}\n</code></pre>\n\n<p>This is not looking elegant, if there is any way which can make it elegant, please post it.</p>\n"}, {"tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 10, "last_activity_date": 1531640805, "creation_date": 1531640805, "answer_id": 51346360, "question_id": 51239876, "link": "https://stackoverflow.com/questions/51239876/how-to-write-beforeeach-and-beforeclass-in-kotlintest/51346360#51346360", "title": "How to write beforeEach and beforeClass in kotlintest", "body": "<p>Very similar to your own answer @JTeam, but use the init {} constructor block to declare your tests and then you can override methods directly in the class.</p>\n\n<pre><code>class MyTest : StringSpec() {\n\n  override fun beforeTest(description: Description) {\n    super.beforeTest(description)\n    println(\"Before every spec/test case\")\n  }\n\n  override fun beforeSpec(description: Description, spec: Spec) {\n    super.beforeSpec(description, this)\n    println(\"Before every test suite\")\n  }\n\n  override fun afterTest(description: Description, result: TestResult) {\n    super.afterTest(description, result)\n    println(\"After every spec/test case\")\n  }\n\n  override fun afterSpec(description: Description, spec: Spec) {\n    super.afterSpec(description, spec)\n    println(\"After every test suite\")\n  }\n\n  init {\n    \"test should run \" {\n      \"Hello\".shouldHaveLength(4)\n    }\n\n    \"test2 should run \" {\n      \"Hello World\".shouldHaveLength(10)\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3927, "favorite_count": 1, "accepted_answer_id": 51346360, "answer_count": 2, "score": 4, "last_activity_date": 1531640805, "creation_date": 1531120127, "question_id": 51239876, "link": "https://stackoverflow.com/questions/51239876/how-to-write-beforeeach-and-beforeclass-in-kotlintest", "title": "How to write beforeEach and beforeClass in kotlintest", "body": "<p>Given is the example from <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">kotlin-test github docs</a>, but i don't see beforeEach or beforeClass concept here. I want to understand,</p>\n\n<ul>\n<li>How to execute a code/method once before every test</li>\n<li>How to execute a code/method once before every test class</li>\n</ul>\n\n<pre><code>class MyTests : StringSpec({\n  \"length should return size of string\" {\n    \"hello\".length shouldBe 5\n  }\n  \"startsWith should test for a prefix\" {\n    \"world\" should startWith(\"wor\")\n  }\n})\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "jar", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1531118078, "post_id": 51239339, "comment_id": 89457584, "body": "welcom != welcome"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1531118288, "post_id": 51239339, "comment_id": 89457693, "body": "Which view technology are you using."}, {"owner": {"reputation": 1536, "user_id": 8232755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e906369840a673a6b9417941640da91?s=128&d=identicon&r=PG&f=1", "display_name": "Thoomas", "link": "https://stackoverflow.com/users/8232755/thoomas"}, "edited": false, "score": 0, "creation_date": 1531118405, "post_id": 51239339, "comment_id": 89457745, "body": "Do you see in the startup logs something like <code>.WebMvcEndpointHandlerMapping : Mapped &quot;{[&#47;welcome&#47;user],methods=[GET]</code> ?"}, {"owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "reply_to_user": {"reputation": 1536, "user_id": 8232755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e906369840a673a6b9417941640da91?s=128&d=identicon&r=PG&f=1", "display_name": "Thoomas", "link": "https://stackoverflow.com/users/8232755/thoomas"}, "edited": false, "score": 0, "creation_date": 1531118859, "post_id": 51239339, "comment_id": 89457952, "body": "@Thoomas I see <code>s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[&#47;welcome&#47;user] ...</code> when I run in IDE but this line doesn&#39;t exists when I run using jar file."}, {"owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1531119067, "post_id": 51239339, "comment_id": 89458046, "body": "@M.Deinum I&#39;m only add <code>spring-boot-starter-web-services</code> dependency to my project using start.spring.io. I test this behavior with another REST framework (Jersey) and i face the same problem with it."}, {"owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1531119151, "post_id": 51239339, "comment_id": 89458088, "body": "@JBNizet Thanks, I fix my typo in the question."}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1531119278, "post_id": 51239339, "comment_id": 89458154, "body": "<code>spring-boot-starter-web-services</code> has nothing to do with ReST that is for SOAP based webservices."}, {"owner": {"reputation": 1536, "user_id": 8232755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e906369840a673a6b9417941640da91?s=128&d=identicon&r=PG&f=1", "display_name": "Thoomas", "link": "https://stackoverflow.com/users/8232755/thoomas"}, "edited": false, "score": 0, "creation_date": 1531119781, "post_id": 51239339, "comment_id": 89458385, "body": "You may be missing a web container dependancy ?"}, {"owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1531119819, "post_id": 51239339, "comment_id": 89458402, "body": "@M.Deinum, I completely understand it, but at this point, my problem is why it works in IDE and doesn&#39;t with Jar file. I face the similar issue with jersey."}, {"owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "reply_to_user": {"reputation": 1536, "user_id": 8232755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e906369840a673a6b9417941640da91?s=128&d=identicon&r=PG&f=1", "display_name": "Thoomas", "link": "https://stackoverflow.com/users/8232755/thoomas"}, "edited": false, "score": 0, "creation_date": 1531120023, "post_id": 51239339, "comment_id": 89458492, "body": "@Thoomas, I don&#39;t thinks so. Its embedded in spring boot and i see tomcat jar files in my final jar too."}], "owner": {"reputation": 1246, "user_id": 1385652, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/36c394d66e9444796f59d490c7608e1a?s=128&d=identicon&r=PG", "display_name": "Hossein Nasr", "link": "https://stackoverflow.com/users/1385652/hossein-nasr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1531120244, "creation_date": 1531117714, "last_edit_date": 1531120244, "question_id": 51239339, "link": "https://stackoverflow.com/questions/51239339/spring-boot-behave-different-when-running-using-jar-file-compare-to-running-in-i", "title": "Spring boot behave different when running using jar file compare to running in IDE", "body": "<p>I create a simple spring boot application using <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> with only one dependency: Web Services (Gradle, springBoot:2.0.3, Kotlin). then I add the following file as a controller.</p>\n\n<pre><code>@Controller\npublic class WelcomeController {\n    private static final String welcomemsg = \"Welcome Mr. %s!\";\n\n    @GetMapping(\"/welcome/user\")\n    @ResponseBody\n    public Welcome welcomeUser(@RequestParam(name = \"name\", required = false, defaultValue = \"Java Fan\") String name) {\n        return new Welcome(String.format(welcomemsg, name));\n    }\n}\n</code></pre>\n\n<p>and then run the main class in IntelliJ and everything goes fine. and I could access <code>localhost:8080/welcome/user?name=X</code>.</p>\n\n<p>when I run <code>bootJar</code> it gives me an executable jar file under <code>build/libs</code> directory. when I run it, Spring boot application starts without error but I can not access <code>/welcome/user/</code> and it returns 404 error. what's wrong with these steps?</p>\n\n<p>I Notice that the following log exists when I run it in IDE but doesn't exist when I run Jar file.</p>\n\n<blockquote>\n  <p>2018-07-09 11:13:53.873  INFO 22042 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/welcome/user],methods=[GET]}\" onto public ir.hosseinnasr.sarbazi.Welcome ir.hosseinnasr.sarbazi.WelcomeController.welcomeUser(java.lang.String)</p>\n</blockquote>\n\n<p>when I look at my jar, file structure It seems ok, it contains my controller class.</p>\n"}, {"tags": ["android", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 1, "creation_date": 1531138821, "post_id": 51238957, "comment_id": 89469328, "body": "I tried to run in the stable version of android studio, and it compiled perfectly."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 2954262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4EZSz.jpg?s=128&g=1", "display_name": "tito", "link": "https://stackoverflow.com/users/2954262/tito"}, "is_accepted": false, "score": 0, "last_activity_date": 1531244058, "creation_date": 1531244058, "answer_id": 51271189, "question_id": 51238957, "link": "https://stackoverflow.com/questions/51238957/databinding-build-error-android-sunflower-sample/51271189#51271189", "title": "Databinding build error , android-sunflower sample", "body": "<p>You can try Android JetPack (Navigation Component Framework) on Android 3.2 Canary 14 or higher. As tell us here <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing?utm_source=android-studio&amp;utm_medium=studio-assistant\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing?utm_source=android-studio&amp;utm_medium=studio-assistant</a> </p>\n\n<p>you can try with Android Studio 3.2 Beta 2.</p>\n\n<p>Althought I am not reproducing the issue by just downloading the project and running it on 3.3 Canary 2.</p>\n\n<p>do you change something apart of the gradle version that is needed?</p>\n\n<p>Greetings.</p>\n"}], "owner": {"reputation": 1, "user_id": 6442718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11cbad8dd3af5fd75ab1a3a03aad98be?s=128&d=identicon&r=PG", "display_name": "G&#246;rkem Karayel", "link": "https://stackoverflow.com/users/6442718/g%c3%b6rkem-karayel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531244058, "creation_date": 1531115623, "question_id": 51238957, "link": "https://stackoverflow.com/questions/51238957/databinding-build-error-android-sunflower-sample", "title": "Databinding build error , android-sunflower sample", "body": "<p>I want to try Android JetPack (Navigation Component Framework).I downloaded Android Studio 3.3 Canary 2 for this and copied the application from github(<a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-sunflower</a>). But I get an error during build.</p>\n\n<p>Project Gradle =</p>\n\n<pre><code>buildscript {\n// Define versions in a single place\next {\n    compileSdkVersion = 28\n    minSdkVersion = 19\n    targetSdkVersion = 28\n\n    // App dependencies\n    constraintLayoutVersion = '1.1.2'\n    espressoVersion = '3.0.1'\n    glideVersion = '4.4.0'\n    gradleVersion = '3.3.0-alpha02'\n    gsonVersion = '2.8.2'\n    junitVersion = '4.12'\n    lifecycleVersion = '1.1.1'\n    navigationVersion = '1.0.0-alpha02'\n    kotlinVersion = '1.2.50'\n    ktlintVersion = '0.24.0'\n    ktxVersion = '0.3'\n    roomVersion = '1.1.1'\n    runnerVersion = '1.0.1'\n    supportLibraryVersion = '28.0.0-alpha3'\n    workVersion = '1.0.0-alpha04'\n}\n\nrepositories {\n    google()\n    jcenter()\n}\n\ndependencies {\n    classpath \"com.android.tools.build:gradle:$gradleVersion\"\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n}\n</code></pre>\n\n<p>App Gradle = </p>\n\n<pre><code>android {\ncompileSdkVersion 28\ndataBinding {\n enabled = true\n}\ndefaultConfig {\n applicationId \"com.google.samples.apps.sunflower\"\n minSdkVersion rootProject.minSdkVersion\n targetSdkVersion rootProject.targetSdkVersion\n testInstrumentationRunner \n \"android.support.test.runner.AndroidJUnitRunner\"\n versionCode 1\n versionName \"0.1.3\"\n vectorDrawables.useSupportLibrary true\n javaCompileOptions {\n  annotationProcessorOptions {\n    arguments = [\"room.schemaLocation\":\n        \"$projectDir/schemas\".toString()]\n   }\n   }\n }\n buildTypes {\n   release {\n    minifyEnabled false\n     proguardFiles getDefaultProguardFile('proguard-android.txt'), \n    'proguard-rules.pro'\n   }\n  }\n compileOptions {\n sourceCompatibility JavaVersion.VERSION_1_8\n targetCompatibility JavaVersion.VERSION_1_8\n  }\n\n  kapt { generateStubs = true } \n  }\n\n dependencies {\n\n kapt \"android.arch.persistence.room:compiler:$rootProject.roomVersion\"\n kapt \"com.github.bumptech.glide:compiler:$rootProject.glideVersion\"\n\nimplementation \n\"android.arch.lifecycle:extensions:$rootProject.lifecycleVersion\"\nimplementation \"android.arch.navigation:navigation-fragment- \nktx:$rootProject.navigationVersion\"\nimplementation \"android.arch.navigation:navigation-ui- \nktx:$rootProject.navigationVersion\"\nimplementation \n\"android.arch.persistence.room:runtime:$rootProject.roomVersion\"\nimplementation \"android.arch.work:work-runtime- \nktx:$rootProject.workVersion\"\nimplementation \"androidx.core:core-ktx:$rootProject.ktxVersion\"\nimplementation \"com.android.support:appcompat- \nv7:$rootProject.supportLibraryVersion\"\nimplementation \"com.android.support:support- \nv4:$rootProject.supportLibraryVersion\"\nimplementation \"com.android.support:recyclerview- \nv7:$rootProject.supportLibraryVersion\"\nimplementation \"com.android.support.constraint:constraint- \nlayout:$rootProject.constraintLayoutVersion\"\nimplementation \n\"com.android.support:design:$rootProject.supportLibraryVersion\"\nimplementation \n\"com.github.bumptech.glide:glide:$rootProject.glideVersion\"\nimplementation \"com.google.code.gson:gson:$rootProject.gsonVersion\"\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib- \njdk8:$rootProject.kotlinVersion\"\n\n// Testing dependencies\nandroidTestImplementation \"com.android.support.test.espresso:espresso- \ncontrib:$rootProject.espressoVersion\"\nandroidTestImplementation \"com.android.support.test.espresso:espresso- \ncore:$rootProject.espressoVersion\"\ntestImplementation \"junit:junit:$rootProject.junitVersion\"\n}\n</code></pre>\n\n<p>Error <a href=\"https://i.stack.imgur.com/sminT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "android-studio", "webview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 3155082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qeBOn.jpg?s=128&g=1", "display_name": "Jawad Zeb", "link": "https://stackoverflow.com/users/3155082/jawad-zeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1531117565, "creation_date": 1531117565, "answer_id": 51239310, "question_id": 51238854, "link": "https://stackoverflow.com/questions/51238854/android-studio-webview-url-javascript-wont-load/51239310#51239310", "title": "Android Studio WebView URL JavaScript won&#39;t load", "body": "<p>add web chrome client after enabling Java Script</p>\n\n<pre><code>import android.webkit.WebChromeClient;\n\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebChromeClient(new WebChromeClient());\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4910900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e76fa3657d4c2fa3c593528d48df8ffb?s=128&d=identicon&r=PG&f=1", "display_name": "Count", "link": "https://stackoverflow.com/users/4910900/count"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549773478, "creation_date": 1531115006, "last_edit_date": 1549773478, "question_id": 51238854, "link": "https://stackoverflow.com/questions/51238854/android-studio-webview-url-javascript-wont-load", "title": "Android Studio WebView URL JavaScript won&#39;t load", "body": "<p>This is the sample of my project I can't load my design.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PkncC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkncC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531174831, "post_id": 51238675, "comment_id": 89488507, "body": "You should use <code>&quot;&quot;&quot;</code> so that you don&#39;t need to do all this <code>+</code> stuff."}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531176124, "post_id": 51238675, "comment_id": 89488846, "body": "@EpicPandaForce I&#39;m sorry I don&#39;t know what do you mean"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531176325, "post_id": 51238675, "comment_id": 89488897, "body": "<code>&quot;&quot;&quot;CREATE TABLE if not exists $TABLE_INVENTORY ( $COL_INVENTORYID integer PRIMARY KEY, ....&quot;&quot;&quot;</code>"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531176552, "post_id": 51238675, "comment_id": 89488950, "body": "@EpicPandaForce does that work even with multiple lines? Because I&#39;m not so good at this (you can see this question and how I solved it after 2 days of debugging), I need the structure I put in here or else I become crazy. Thanks!"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1531176781, "post_id": 51238675, "comment_id": 89489008, "body": "yes, it works with multiple lines."}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1531176834, "post_id": 51238675, "comment_id": 89489024, "body": "@EpicPandaForce that&#39;s amazing, I will use it. Thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1531140091, "post_id": 51239729, "comment_id": 89470179, "body": "Thanks! Still not working. with <code>&#39;$barcode&#39;</code> and without the apostrophe... <code>barcode</code> is <code>varchar</code>. Any other ideas?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1531170018, "post_id": 51239729, "comment_id": 89486840, "body": "Same, doesn&#39;t work... (sorry for the late reply, this is part of my thesis project but I had to go to work, thanks for your time, I appreciate it)."}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1531170343, "post_id": 51239729, "comment_id": 89486971, "body": "A friend of mine said to try <code>select * from $table where $COL_PRODUCTID like &#39;%$barcode%</code> and it doesn&#39;t work either..."}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1531172359, "post_id": 51239729, "comment_id": 89487667, "body": "If you have time, please check the edit in my original question. Thanks"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1531140522, "last_edit_date": 1531140522, "creation_date": 1531119530, "answer_id": 51239729, "question_id": 51238675, "link": "https://stackoverflow.com/questions/51238675/not-getting-rows-from-database-sqlite-android-kotlin/51239729#51239729", "title": "Not getting rows from database. SQLite, Android, Kotlin", "body": "<p>Try the whole statement in a <code>rawquery</code>:  <br/></p>\n\n<pre><code>val sql = \"select * from $TABLE_INVENTORY WHERE trim($COL_PRODUCTID) = '$barcode'\"\nval cursor = p0.rawQuery(sql, null)\n</code></pre>\n\n<p>I assume barcode is TEXT</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "is_accepted": true, "score": 1, "last_activity_date": 1531175235, "creation_date": 1531175235, "answer_id": 51254850, "question_id": 51238675, "link": "https://stackoverflow.com/questions/51238675/not-getting-rows-from-database-sqlite-android-kotlin/51254850#51254850", "title": "Not getting rows from database. SQLite, Android, Kotlin", "body": "<p>I was missing a line when initializing my object:</p>\n\n<p>inventory.product_id = product.product_id</p>\n\n<p>Thanks, especially <a href=\"https://stackoverflow.com/users/8959091/mtak\">@mTak</a></p>\n"}], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 51254850, "answer_count": 2, "score": 0, "last_activity_date": 1531175235, "creation_date": 1531113926, "last_edit_date": 1531172315, "question_id": 51238675, "link": "https://stackoverflow.com/questions/51238675/not-getting-rows-from-database-sqlite-android-kotlin", "title": "Not getting rows from database. SQLite, Android, Kotlin", "body": "<p>I have a function inside DatabaseHelper.kt:</p>\n\n<pre><code>fun readData_Inventory(barcode: String): Inventory{ \n        val p0 = this.readableDatabase\n        val selection = \"$COL_PRODUCTID = ?\"\n        val selectionArgs = arrayOf(barcode)\n        val cursor = p0.query(TABLE_INVENTORY, null, selection, selectionArgs,null, null, null)\n        Toast.makeText(context, \"Barcode: $barcode, Count: ${cursor.count}\", Toast.LENGTH_LONG).show()\n        val inventory: Inventory?\n        if (cursor.moveToLast()) {\n            cursor.moveToLast()\n            val productId = cursor.getString(cursor.getColumnIndex(COL_PRODUCTID))\n            val quantity = cursor.getDouble(cursor.getColumnIndex(COL_QUANTITY))\n            val source = cursor.getString(cursor.getColumnIndex(COL_SOURCE))\n            val dateCheck = cursor.getString(cursor.getColumnIndex(COL_DATECHECK))\n            inventory = Inventory(productId, quantity, source, dateCheck)\n        } else{\n            inventory = Inventory (\"000\", 0.0, \"\", \"\")\n        }\n        return inventory\n</code></pre>\n\n<p>But the <code>Toast</code> shows 0 in <code>cursor.count</code>.</p>\n\n<p>I know the table has rows because when I run the next code it brings the rows I'm looking for:</p>\n\n<pre><code>fun readData_Inventory(barcode: String): Inventory{ \n        val p0 = this.readableDatabase\n        val sql = \"select * from $TABLE_INVENTORY\"\n        val cursor = p0.rawQuery(sql, null)\n        val inventory: Inventory?\n        Toast.makeText(context, \"Barcode: $barcode, Count: ${cursor.count}\", Toast.LENGTH_LONG).show()\n        if (cursor.moveToLast()) {\n            cursor.moveToLast()\n            val productId = cursor.getString(cursor.getColumnIndex(COL_PRODUCTID))\n            val quantity = cursor.getDouble(cursor.getColumnIndex(COL_QUANTITY))\n            val source = cursor.getString(cursor.getColumnIndex(COL_SOURCE))\n            val dateCheck = cursor.getString(cursor.getColumnIndex(COL_DATECHECK))\n            inventory = Inventory(productId, quantity, source, dateCheck)\n        } else{\n            inventory = Inventory (\"000\", 0.0, \"\", \"\")\n        }\n        return inventory\n</code></pre>\n\n<p>Any help is appreciated. Thanks in advance.</p>\n\n<p><strong>EDIT:</strong>\nI tried with the next code:</p>\n\n<pre><code>fun readData_Inventory(barcode: String) {\n        val p0 = this.readableDatabase\n        val inventory: Inventory?\n        val sql = \"select * from $TABLE_INVENTORY\"\n        val cursor = p0.rawQuery(sql, null)\n        Toast.makeText(context, \"Size: ${cursor.count} Move: ${cursor.moveToFirst()}\", Toast.LENGTH_LONG).show()\n        /////////////////\n        cursor.moveToFirst()\n        val productId = cursor.getString(cursor.getColumnIndex(COL_PRODUCTID))\n        Toast.makeText(context, \"ID: $productId\", Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n\n<p>When I run the code with only the first part (before the /////// part), the toast shows <code>\"Size: 1, true\"</code> (that's ok, my table only has 1 row). But when I add the second part (after the ////////) it shows the error: <code>android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0</code></p>\n\n<p>I'm adding the part where I insert the data... maybe is that...</p>\n\n<pre><code>fun insertData_Inventory(inventory: Inventory){\n        val p0 = this.writableDatabase\n        val cv = ContentValues()\n        cv.put(COL_PRODUCTID, inventory.product_id)\n        cv.put(COL_QUANTITY, inventory.quantity)\n        cv.put(COL_SOURCE, inventory.source)\n        cv.put(COL_DATECHECK, inventory.checkDate)\n        val result = p0.insert(TABLE_INVENTORY, null, cv)\n        if (result == (-1).toLong())\n            Toast.makeText(context, \"Insert Inventory Failed\", Toast.LENGTH_SHORT).show()\n        else\n            Toast.makeText(context, \"Insert Inventory Success\", Toast.LENGTH_SHORT).show()\n        p0.close()\n    }\n</code></pre>\n\n<p>It always inserts and shows \"Insert Inventory Success\"</p>\n\n<p>Also the part where I declare the table:</p>\n\n<pre><code>val TABLE_INVENTORY = \"Inventory\"\nval COL_INVENTORYID = \"inventory_id\"\nval COL_PRODUCTID = \"product_id\"\nval COL_QUANTITY = \"quantity\"\nval COL_SOURCE = \"source\"\nval COL_DATECHECK = \"date_check\"\nval CREATE_T_INVENTORY = \"CREATE TABLE if not exists $TABLE_INVENTORY \" +\n        \"(\" +\n        \"$COL_INVENTORYID integer PRIMARY KEY, \" +\n        \"$COL_PRODUCTID varchar(20), \" +\n        \"$COL_QUANTITY double, \" +\n        \"$COL_SOURCE varchar(20),\" +\n        \"$COL_DATECHECK datetime, \" +\n        \"FOREIGN KEY($COL_PRODUCTID) REFERENCES $TABLE_PRODUCT($COL_PRODUCTID)\" +\n        \")\"\n</code></pre>\n\n<p>Any other ideas? Thanks in advance!</p>\n"}, {"tags": ["string", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 4604131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3cfceedf8f02b5fa92552ea522b5ecd?s=128&d=identicon&r=PG&f=1", "display_name": "htuy42", "link": "https://stackoverflow.com/users/4604131/htuy42"}, "is_accepted": false, "score": 4, "last_activity_date": 1531112724, "creation_date": 1531112724, "answer_id": 51238493, "question_id": 51238456, "link": "https://stackoverflow.com/questions/51238456/how-to-check-whether-a-string-contains-a-substring-in-kotlin/51238493#51238493", "title": "How to check whether a string contains a substring in Kotlin?", "body": "<p>Kotlin has a few different contains function on Strings, see here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/contains.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/contains.html</a>.</p>\n\n<p>If you want it to be true that string2 is contained in string1 (ie you want to ignore case), they even have a convenient boolean argument for you, so you won't need to convert to lowercase first.</p>\n"}, {"tags": [], "owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "is_accepted": false, "score": 3, "last_activity_date": 1531112747, "creation_date": 1531112747, "answer_id": 51238498, "question_id": 51238456, "link": "https://stackoverflow.com/questions/51238456/how-to-check-whether-a-string-contains-a-substring-in-kotlin/51238498#51238498", "title": "How to check whether a string contains a substring in Kotlin?", "body": "<p>See the <code>contains</code> method in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<pre><code>String1.contains(String2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "is_accepted": true, "score": 52, "last_activity_date": 1531113531, "last_edit_date": 1531113531, "creation_date": 1531112881, "answer_id": 51238522, "question_id": 51238456, "link": "https://stackoverflow.com/questions/51238456/how-to-check-whether-a-string-contains-a-substring-in-kotlin/51238522#51238522", "title": "How to check whether a string contains a substring in Kotlin?", "body": "<p>Kotlin has <code>stdlib</code> package to perform certain extension function operation over the string, you can check this method it will check the substring in a string, you can ignore the case by passing true/false value. Refer this <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/contains.html#contains\" rel=\"noreferrer\">link</a></p>\n\n<pre><code>\"AbBaCca\".contains(\"bac\", ignoreCase = true)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 3612063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76655285ce09413e5e739ecb60add953?s=128&d=identicon&r=PG", "display_name": "kotoMJ", "link": "https://stackoverflow.com/users/3612063/kotomj"}, "edited": false, "score": 0, "creation_date": 1553782551, "post_id": 51239300, "comment_id": 97519996, "body": "This is shorter, but in case you want to make negation, you will need brackets. At least it seems so. And If you have condition with two such checks, there stands to be over-bracketed. Thus sometimes CONTAINS() fit in some situations better than IN."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1554138008, "post_id": 51239300, "comment_id": 97632915, "body": "If you want to make negation, you can write this as <code>String2 !in String1</code>. You do not need parentheses."}, {"owner": {"reputation": 175, "user_id": 2319793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb6fa04bb4c240142a9d2375e3ee624b?s=128&d=identicon&r=PG", "display_name": "hellcast", "link": "https://stackoverflow.com/users/2319793/hellcast"}, "edited": false, "score": 0, "creation_date": 1565189190, "post_id": 51239300, "comment_id": 101275781, "body": "This cannot be the correct one if you want to ignore case since it will call default contains."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 44, "last_activity_date": 1531117501, "creation_date": 1531117501, "answer_id": 51239300, "question_id": 51238456, "link": "https://stackoverflow.com/questions/51238456/how-to-check-whether-a-string-contains-a-substring-in-kotlin/51239300#51239300", "title": "How to check whether a string contains a substring in Kotlin?", "body": "<p>The most idiomatic way to check this is to use the <code>in</code> operator:</p>\n\n<pre><code>String2 in String1\n</code></pre>\n\n<p>This is equivalent to calling <code>contains()</code>, but shorter and more readable.</p>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38227, "favorite_count": 5, "accepted_answer_id": 51238522, "answer_count": 4, "score": 36, "last_activity_date": 1531196913, "creation_date": 1531112453, "last_edit_date": 1531196913, "question_id": 51238456, "link": "https://stackoverflow.com/questions/51238456/how-to-check-whether-a-string-contains-a-substring-in-kotlin", "title": "How to check whether a string contains a substring in Kotlin?", "body": "<p>Example:</p>\n\n<pre><code>String1 = \"AbBaCca\";\nString2 = \"bac\";\n</code></pre>\n\n<p>I want to perform a check that String1 contains  String2 or not.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "edited": false, "score": 0, "creation_date": 1531085488, "post_id": 51236109, "comment_id": 89451207, "body": "I added the whole body in the question"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "edited": false, "score": 0, "creation_date": 1531087167, "post_id": 51236109, "comment_id": 89451510, "body": "Yeah, that is going to create a new thread every 5 seconds which doesnt end unless an exception happens while reading the socket. Android probably stops launching new threads after 3 iterations because you&#39;ve trying to create more threads than cores all listening to the same socket."}, {"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "edited": false, "score": 0, "creation_date": 1531087399, "post_id": 51236109, "comment_id": 89451552, "body": "Ok so what should I do different? I&#39;m pretty new to udp stuff and async method calles"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "edited": false, "score": 0, "creation_date": 1531144096, "post_id": 51236109, "comment_id": 89472895, "body": "Without knowing what you are actually trying to do there is no way to answer that. Why are you sending a message every 5 seconds then waiting forever for any new messages?"}, {"owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "edited": false, "score": 0, "creation_date": 1534354803, "post_id": 51236109, "comment_id": 90679536, "body": "My goal is to get the status of a (or better multiple) hardware switch(es) and show the current status in the app. I don&#39;t have much knowledge about networking stuff, so maybe I&#39;m doing it completely wrong...."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1531085165, "creation_date": 1531085165, "answer_id": 51236109, "question_id": 51236052, "link": "https://stackoverflow.com/questions/51236052/doasync-does-not-get-called-anymore-after-some-time/51236109#51236109", "title": "doAsync does not get called anymore after some time", "body": "<p>anko's <code>doAsync</code> runs on an internal <code>SchedulerService</code>.</p>\n\n<p>The main question would be whether your <code>doAsync</code> calls end, because at some point it might have enough calls running simultaneously that android simply decides to not schedule any more threads until some of the older ones finish up.</p>\n\n<p>Without seeing the full body of the <code>doAsync</code> call there would be no way to give a more specific answer.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531091002, "creation_date": 1531091002, "answer_id": 51236612, "question_id": 51236052, "link": "https://stackoverflow.com/questions/51236052/doasync-does-not-get-called-anymore-after-some-time/51236612#51236612", "title": "doAsync does not get called anymore after some time", "body": "<p>Have field that stores the socket outside the Async block. </p>\n\n<p>Run your async to start socket once, then you can just use <code>udpSocket.send()</code> to send the packets thru the socket (it's non-blocking).</p>\n\n<p>Otherwise you can kill the socket after receiving one response (if you're sure that's enough) to free up the thread.</p>\n"}], "owner": {"reputation": 1850, "user_id": 2977288, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/R5NJf.png?s=128&g=1", "display_name": "Zoker", "link": "https://stackoverflow.com/users/2977288/zoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531091002, "creation_date": 1531084633, "last_edit_date": 1531085466, "question_id": 51236052, "link": "https://stackoverflow.com/questions/51236052/doasync-does-not-get-called-anymore-after-some-time", "title": "doAsync does not get called anymore after some time", "body": "<p>I use <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> to do the follwing udp networking in the background:</p>\n\n<ul>\n<li>Request a state of a hardware component every 5 second</li>\n<li>Send command when user presses a button</li>\n</ul>\n\n<p>While everything works fine so far, the <code>doAsync</code> body does not get called after like 15 seconds anymore.</p>\n\n<p>My function looks like:</p>\n\n<pre><code>// handler function, that calls sendRquest every 5 seconds\nval handler = Handler()\nval runnable = object : Runnable {\n    override fun run() {\n        sendRequest(message)\n        handler.postDelayed(this, 5000)\n    }\n}\nhandler.postDelayed(runnable, 500)\n\n// function that is called every 5 sec\nprivate fun sendRequest(message: String) {\n     val ip = getGlobalIP()\n     doAsync {\n         var run = true\n         //some udp stuff\n     }\n}\n</code></pre>\n\n<p>When I debug, I can see that the <code>val ip =</code> line gets called, the <code>var run =</code> line does not get called after these 15 seconds. </p>\n\n<p>I waited for like a minute, but the <code>doAsync</code> body does not get called anymore.</p>\n\n<p>Does anybody have an idea why?</p>\n\n<p>*edit: *\nHere is the full <code>doAsync</code> body: </p>\n\n<pre><code>private fun sendRequest(relay: Relay, message: String, callback: (String, Relay) -&gt; Unit) {\n    val test = 0\n    doAsync {\n        var run = true\n        val ipAddress = InetAddress.getByName(relay.ip)\n        try {\n            val packet = DatagramPacket(message.toByteArray(), message.length, ipAddress, relay.port!!)\n            val udpSocket = relay.socket!!\n            udpSocket.send(packet)\n            while (run) {\n                try {\n                    val newMessage = ByteArray(8000)\n                    val newPacket = DatagramPacket(newMessage, newMessage.size)\n                    Log.i(\"UDP client: \", \"about to wait to receive\")\n                    udpSocket.receive(newPacket)\n                    val response = String(newMessage, 0, newPacket.length)\n                    Log.d(\"Received text\", response)\n                    uiThread {\n                        callback(response, relay)\n                    }\n                } catch (e: IOException) {\n                    Log.e(\"UDP client error\", \"error: \", e)\n                    toast(e.message!!)\n                    uiThread {\n                        run = false\n                    }\n                    throw IOException(e)\n                }\n            }\n        } catch (e: IOException) {\n            e.printStackTrace()\n            toast(e.message!!)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin", "java-stream"], "answers": [{"comments": [{"owner": {"reputation": 14104, "user_id": 315677, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/s1vD0.png?s=128&g=1", "display_name": "Pierre Henry", "link": "https://stackoverflow.com/users/315677/pierre-henry"}, "edited": false, "score": 0, "creation_date": 1531165840, "post_id": 51236047, "comment_id": 89484981, "body": "Nice! Thanks for the complete examples! I changed the accepted answer to this one since it is much more complete."}], "tags": [], "owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "is_accepted": true, "score": 12, "last_activity_date": 1531085369, "last_edit_date": 1531085369, "creation_date": 1531084588, "answer_id": 51236047, "question_id": 51235998, "link": "https://stackoverflow.com/questions/51235998/why-does-chaining-map-and-filter-in-kotlin-not-work-as-expected/51236047#51236047", "title": "Why does chaining .map() and .filter() in Kotlin not work as expected?", "body": "<p><code>return</code> returns from the nearest enclosing function or anonymous function (that's the form <code>fun(a1: T1, ..., an: TN): TR = ...</code>) . The mnemonic is that an unqualified <code>return</code> goes up to the nearest <code>fun</code>. A lambda is not an anonymous function, so the <code>return</code> is actually returning from the function that contains the whole <code>map</code>/<code>filter</code> expression. You can use a labelled return:</p>\n\n<pre><code>val results: List&lt;AccountDto&gt; = listOfPersons\n                .map(::getPersonAccount)\n                .filter { account -&gt;\n                    if(validateAccount(account)){\n                        // etc.\n                        return@filter true\n                    }\n                    // etc.\n                    return@filter false\n                }\n                .map(::toDto)\n</code></pre>\n\n<p>A lambda expression is implicitly labelled with the function that it is passed to, so you don't need to add the label explicitly. If you would prefer to have it, you may:</p>\n\n<pre><code>val results: List&lt;AccountDto&gt; = listOfPersons\n                .map(::getPersonAccount)\n                .filter lam@{ account -&gt;\n                    if(validateAccount(account)){\n                        // etc.\n                        return@lam true\n                    }\n                    // etc.\n                    return@lam false\n                }\n                .map(::toDto)\n</code></pre>\n\n<p>But an <code>if</code>/<code>else</code> is itself an expression, so it suffices to just not have <code>return</code>s.</p>\n\n<pre><code>val results: List&lt;AccountDto&gt; = listOfPersons\n                .map(::getPersonAccount)\n                .filter { account -&gt;\n                    if(validateAccount(account)) {\n                        // etc.\n                        true\n                    } else {\n                        // etc.\n                        false\n                    }\n                }\n                .map(::toDto)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14104, "user_id": 315677, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/s1vD0.png?s=128&g=1", "display_name": "Pierre Henry", "link": "https://stackoverflow.com/users/315677/pierre-henry"}, "edited": false, "score": 0, "creation_date": 1531138178, "post_id": 51236050, "comment_id": 89468938, "body": "Thanks, I was not aware of that. As you can see I am a Kotlin noob ;)"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 4, "last_activity_date": 1531084599, "creation_date": 1531084599, "answer_id": 51236050, "question_id": 51235998, "link": "https://stackoverflow.com/questions/51235998/why-does-chaining-map-and-filter-in-kotlin-not-work-as-expected/51236050#51236050", "title": "Why does chaining .map() and .filter() in Kotlin not work as expected?", "body": "<p>You get that error because a plain <code>return</code> in a lambda tends to return from the outermost scope, the function itself.</p>\n\n<p>Lambdas expect either implicit returns (the last expression on each path of execution) or explicit labelled returns <code>return@filter</code>.</p>\n\n<p>Removing the <code>return</code>s or replacing them with <code>return@filter</code> will fix the error.</p>\n"}], "owner": {"reputation": 14104, "user_id": 315677, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/s1vD0.png?s=128&g=1", "display_name": "Pierre Henry", "link": "https://stackoverflow.com/users/315677/pierre-henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3809, "favorite_count": 0, "accepted_answer_id": 51236047, "answer_count": 2, "score": 4, "last_activity_date": 1531329474, "creation_date": 1531084040, "last_edit_date": 1531329474, "question_id": 51235998, "link": "https://stackoverflow.com/questions/51235998/why-does-chaining-map-and-filter-in-kotlin-not-work-as-expected", "title": "Why does chaining .map() and .filter() in Kotlin not work as expected?", "body": "<p>I am trying to map a list of objects to a list of objects of another type, then filter the list, then map to a list of a third type, just like I would do by chaining streams in Java 8+ (I changed the class and variable names to make it more meaningful but the structure is the same as in my code):</p>\n\n<pre><code>val results: List&lt;AccountDto&gt; = listOfPersons\n                .map { person -&gt; getPersonAccount(person) }\n                .filter { account -&gt;\n                    if(validateAccount(account)){ // validateAccount is a function with boolean return type\n                        // do something here like logging\n                        return true\n                    }\n                    // do something else...\n                    return false\n                }\n                .map { account -&gt;\n                     toDto(account) // returns an AccountDto\n                }\n</code></pre>\n\n<p>I get a compiler error on the <code>return true</code> and <code>return false</code> statements inside the filter lambda :</p>\n\n<pre><code>Error:(217, 32) Kotlin: The boolean literal does not conform to the expected type List&lt;AccountDto&gt;\n</code></pre>\n\n<p>If I use an anonymous function for the filter predicate it compiles fine :</p>\n\n<pre><code>.filter (fun(account):Boolean{\n                if(validateAccount(account)){ \n                        // do something here like logging\n                        return true\n                    }\n                    // do something else...\n                    return false\n            })\n</code></pre>\n\n<p>Why does the type inference fail in that case?</p>\n\n<p>Is it possible to somehow I make it work with just a lambda ?</p>\n"}, {"tags": ["android", "kotlin", "timber-android"], "answers": [{"comments": [{"owner": {"reputation": 879, "user_id": 2218746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9bfd3230d46d5be0487ad851ce1ff3?s=128&d=identicon&r=PG", "display_name": "Ethan_AI", "link": "https://stackoverflow.com/users/2218746/ethan-ai"}, "edited": false, "score": 0, "creation_date": 1531084074, "post_id": 51235987, "comment_id": 89450943, "body": "Ah jeez, I got so wrapped up in the Kotlin I forgot to initialize the logger. Thanks a lot!"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 879, "user_id": 2218746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9bfd3230d46d5be0487ad851ce1ff3?s=128&d=identicon&r=PG", "display_name": "Ethan_AI", "link": "https://stackoverflow.com/users/2218746/ethan-ai"}, "edited": false, "score": 0, "creation_date": 1531688457, "post_id": 51235987, "comment_id": 89676911, "body": "as you guys already know, it&#39;s <code>Timber.plant(DebugTree());</code> in kotlin, missed the kotlin tag"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 1332, "user_id": 2230249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a41de575097f876ef083c3016529ec0?s=128&d=identicon&r=PG", "display_name": "Ilia Sidorenko", "link": "https://stackoverflow.com/users/2230249/ilia-sidorenko"}, "edited": false, "score": 0, "creation_date": 1582723370, "post_id": 51235987, "comment_id": 106874924, "body": "@IliaSidorenko &#39;cause it&#39;s catchy!"}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 28, "last_activity_date": 1531918773, "last_edit_date": 1531918773, "creation_date": 1531083915, "answer_id": 51235987, "question_id": 51235941, "link": "https://stackoverflow.com/questions/51235941/timber-not-logging-in-kotlin-android/51235987#51235987", "title": "Timber Not Logging in Kotlin Android", "body": "<p>The first step of Timber is to plant the tree as <a href=\"https://github.com/JakeWharton/timber\" rel=\"noreferrer\">mentioned in docs</a></p>\n\n<blockquote>\n  <p>Behavior is added through Tree instances. You can install an instance\n  by calling Timber.plant. Installation of Trees should be done as early\n  as possible. The onCreate of your application is the most logical\n  choice.</p>\n</blockquote>\n\n<p>And use the <code>debugTree</code></p>\n\n<blockquote>\n  <p>The <code>DebugTree implementation will automatically figure out from which</code>\n  <code>class it's being called and use that class name as its tag</code>. Since the\n  tags vary</p>\n</blockquote>\n\n<p>If you don't do this then you will have no logs entry and do this as soon as possible, like in <code>oncreate</code> or better inside application class so do this</p>\n\n<pre><code>Timber.plant(Timber.DebugTree());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 3836294, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab7f3902084f168bc6c437c80bb45f12?s=128&d=identicon&r=PG&f=1", "display_name": "romaneso", "link": "https://stackoverflow.com/users/3836294/romaneso"}, "edited": false, "score": 1, "creation_date": 1603724825, "post_id": 63009991, "comment_id": 114119543, "body": "Thanks for the answer, literally the one I was searching for!"}, {"owner": {"reputation": 109, "user_id": 5500459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUkiK.jpg?s=128&g=1", "display_name": "art", "link": "https://stackoverflow.com/users/5500459/art"}, "edited": false, "score": 0, "creation_date": 1610464791, "post_id": 63009991, "comment_id": 116138039, "body": "Great answer, thanks!"}], "tags": [], "owner": {"reputation": 599, "user_id": 4960025, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mp38J3qLoCg/AAAAAAAAAAI/AAAAAAAAAAA/IP-nahcMKUU/photo.jpg?sz=128", "display_name": "AFA", "link": "https://stackoverflow.com/users/4960025/afa"}, "is_accepted": false, "score": 6, "last_activity_date": 1595318321, "creation_date": 1595318321, "answer_id": 63009991, "question_id": 51235941, "link": "https://stackoverflow.com/questions/51235941/timber-not-logging-in-kotlin-android/63009991#63009991", "title": "Timber Not Logging in Kotlin Android", "body": "<p>I have faced same problem, using Kotlin and Android studio 3.6\nFollow these steps:</p>\n<ol>\n<li><p>Add the following in build.gradle(Module: App)</p>\n<pre><code>implementation 'com.jakewharton.timber:timber:4.7.1'\n</code></pre>\n</li>\n<li><p>Initialize <code>Timber</code> in Application Class:</p>\n<pre><code>class MyApp : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n\n        if(BuildConfig.DEBUG){\n            Timber.plant(Timber.DebugTree())\n        }\n    }\n}\n</code></pre>\n</li>\n<li><p>Add the Application class(<code>MyApp</code>) to the Manifest (AndroidManifest.xml)</p>\n<pre><code>&lt;application\n    android:name=&quot;.MyApp&quot;\n</code></pre>\n</li>\n</ol>\n<p>Now you can use Timber: <code>Timber.i(&quot;Timber logs&quot;)</code></p>\n<p>Also can use custom tags if you wish: <code>Timber.tag(&quot;Yo&quot;).I(&quot;used custom tag for logs&quot;)</code></p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 2041475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6779983e45d6b41498deb00b9113c40?s=128&d=identicon&r=PG", "display_name": "MikkelT", "link": "https://stackoverflow.com/users/2041475/mikkelt"}, "is_accepted": false, "score": 0, "last_activity_date": 1615887751, "creation_date": 1615887751, "answer_id": 66652606, "question_id": 51235941, "link": "https://stackoverflow.com/questions/51235941/timber-not-logging-in-kotlin-android/66652606#66652606", "title": "Timber Not Logging in Kotlin Android", "body": "<p>Probably late to the party but my problem was the my phone was set to &quot;Charge only&quot; and not &quot;file transfer&quot;. Apparently I was allowed to build and run, but logs were blocked</p>\n"}], "owner": {"reputation": 879, "user_id": 2218746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9bfd3230d46d5be0487ad851ce1ff3?s=128&d=identicon&r=PG", "display_name": "Ethan_AI", "link": "https://stackoverflow.com/users/2218746/ethan-ai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7026, "favorite_count": 3, "answer_count": 3, "score": 18, "last_activity_date": 1615887751, "creation_date": 1531083440, "last_edit_date": 1549382172, "question_id": 51235941, "link": "https://stackoverflow.com/questions/51235941/timber-not-logging-in-kotlin-android", "title": "Timber Not Logging in Kotlin Android", "body": "<p>Timber is a great library for logging in Android. In Kotlin classes though, doesn't output anything. How can I fix this?</p>\n\n<p>MainActivity.kt code:</p>\n\n<pre><code>Timber.e(\"Timber Log 1\")\nLog.e(\"MainActivity\", \"Log 1\")\n</code></pre>\n\n<p>Gradle: \nI've tried the regular Java Timber:</p>\n\n<pre><code>implementation 'com.jakewharton.timber:timber:4.7.1'\n</code></pre>\n\n<p>And this Kotlin specific wrapper:</p>\n\n<pre><code>implementation 'com.github.ajalt:timberkt:1.5.1'\n</code></pre>\n\n<p>Same result. No output with either. Only from the <code>Log.e()</code></p>\n"}, {"tags": ["kotlin", "char", "type-conversion", "operators"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1531080996, "post_id": 51235401, "comment_id": 89450278, "body": "For which operators will you need this?"}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 1, "creation_date": 1531078978, "post_id": 51235431, "comment_id": 89449799, "body": "I was looking for a dynamic way, so for example &#39;-&#39; becomes - and &#39;+&#39; becomes +"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1531079210, "post_id": 51235431, "comment_id": 89449850, "body": "I&#39;m not so clear of the saying &quot;with a value of &#39;+&#39;&quot;. Do you mean you are writing a calculator accepting a string input or a <code>eval</code> function?"}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1531079300, "post_id": 51235431, "comment_id": 89449870, "body": "im making a calculator, and want the user to be able to choose operator"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1531079607, "post_id": 51235431, "comment_id": 89449935, "body": "The very first solution I can think to your question is to <code>when</code> match the second character and do the corresponding thing to the converted first and third string, something like <code>when (expression[1]) { &#39;+&#39; -&gt; return expression[0].toInt() + expression[1].toInt() }</code>. Maybe there is a better and tricky solution which I am waiting for, too."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1531079670, "post_id": 51235431, "comment_id": 89449952, "body": "Or something like &quot;converting infix to postfix&quot;, etc. You may asking an X - Y question."}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1531081081, "post_id": 51235431, "comment_id": 89450294, "body": "Im not sure if i understand what youre saying here Geno"}], "tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1531098222, "last_edit_date": 1531098222, "creation_date": 1531078865, "answer_id": 51235431, "question_id": 51235401, "link": "https://stackoverflow.com/questions/51235401/convert-from-char-to-operator-kotlin/51235431#51235431", "title": "Convert from char to operator Kotlin", "body": "<p>You can do something like</p>\n\n<pre><code>infix fun Int.`_`(that: Int) = this + that \n</code></pre>\n\n<p>where the backtick is unnecessary to this character but maybe necessary for other character. Then you can try:</p>\n\n<pre><code>println(2 _ 3) // output: 5\n</code></pre>\n\n<p><strong>Update</strong> according to the comment:</p>\n\n<p>I mean something like</p>\n\n<pre><code>val expr = input.split(' ')\nwhen (expr[1])\n{\n    '+' -&gt; return expr[0].toInt() + expr[2].toInt()\n    '-' -&gt; return expr[0].toInt() - expr[2].toInt()\n    '*' -&gt; return expr[0].toInt() * expr[2].toInt()\n    '/' -&gt; return expr[0].toInt() / expr[2].toInt()\n    // add more branches\n}\n</code></pre>\n\n<p>However, I was wondering whether there is a better and tricky solution from the grammar of Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1531081166, "creation_date": 1531081166, "answer_id": 51235687, "question_id": 51235401, "link": "https://stackoverflow.com/questions/51235401/convert-from-char-to-operator-kotlin/51235687#51235687", "title": "Convert from char to operator Kotlin", "body": "<p>This isn't really possible. Maybe you should add your current solution and there's another way to help you out.</p>\n\n<p>Here's a sneaky solution for calculating expressions with <code>+</code> and <code>-</code> only:</p>\n\n<pre><code>val exp = \"10+44-12+3\"\n\nval result = exp.replace(\"-\", \"+-\").split(\"+\").sumBy { it.toInt() }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1531942858, "post_id": 51238571, "comment_id": 89791058, "body": "You can invoke it like this as well: operatorFromChar(&#39;+&#39;)(1,1) :) +1"}], "tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": true, "score": 4, "last_activity_date": 1531113658, "last_edit_date": 1531113658, "creation_date": 1531113258, "answer_id": 51238571, "question_id": 51235401, "link": "https://stackoverflow.com/questions/51235401/convert-from-char-to-operator-kotlin/51238571#51238571", "title": "Convert from char to operator Kotlin", "body": "<p>You can use something like this:</p>\n\n<pre><code>fun operatorFromChar(charOperator: Char):(Int, Int)-&gt;Int\n{\n    return when(charOperator)\n    {\n        '+'-&gt;{a,b-&gt;a+b}\n        '-'-&gt;{a,b-&gt;a-b}\n        '/'-&gt;{a,b-&gt;a/b}\n        '*'-&gt;{a,b-&gt;a*b}\n        else -&gt; throw Exception(\"That's not a supported operator\")\n    }\n}\n</code></pre>\n\n<p>and later call:</p>\n\n<pre><code>println(operatorFromChar('+').invoke(1,1))\n</code></pre>\n\n<p>Operators are, at the end of the way, functions. If you return a function with the operator's job, you can invoke it as it was the operator itself, but it will never be as \"pretty\" as calling the operator directly.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1531942880, "creation_date": 1531942880, "answer_id": 51409860, "question_id": 51235401, "link": "https://stackoverflow.com/questions/51235401/convert-from-char-to-operator-kotlin/51409860#51409860", "title": "Convert from char to operator Kotlin", "body": "<p>What you basically want is an <code>Char</code> to <strong>result</strong> of an operation mapping. So, I decided to return the result right away and not a lambda.</p>\n\n<pre><code>fun Int.doOperation(charOperator: Char, x: Int) = when(charOperator) {\n    '+' -&gt; this + x\n    '-' -&gt; this - x\n    '/' -&gt; this / x\n    '*' -&gt; this * x\n    else -&gt; throw IllegalArgumentException(\"Not supported\")\n}\n</code></pre>\n\n<p>Using an extension function maybe (?) makes the syntax a little nicer. You decide.</p>\n\n<p>Call site:</p>\n\n<pre><code>println(5.doOperation('+', 6))\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 51238571, "answer_count": 4, "score": 0, "last_activity_date": 1531942880, "creation_date": 1531078592, "question_id": 51235401, "link": "https://stackoverflow.com/questions/51235401/convert-from-char-to-operator-kotlin", "title": "Convert from char to operator Kotlin", "body": "<p>Is there any way to convert a char, lets say with a value of '+', into the operator +? Something like this:</p>\n\n<pre><code>println(1 charOperator 1);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>2\n</code></pre>\n"}, {"tags": ["junit", "enums", "kotlin", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": true, "score": 3, "last_activity_date": 1531076242, "last_edit_date": 1531076242, "creation_date": 1531074895, "answer_id": 51234967, "question_id": 51233751, "link": "https://stackoverflow.com/questions/51233751/test-all-enums-implementing-the-marker-interface/51234967#51234967", "title": "Test all enums implementing the marker interface", "body": "<p>Take a look at the <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections</a> library which might aid you with this.</p>\n\n<p>You should be able to get all subtypes of <code>HavingUniqueValues</code>:</p>\n\n<pre><code>val subjects: Set&lt;Class&lt;out HavingUniqueValues&gt;&gt; =\n        Reflections(\"your.package\").getSubTypesOf(HavingUniqueValues::class.java)\n</code></pre>\n\n<p>Now, this will result in a Set of all enum classes that implement <code>HavingUniqueValues</code>. You can iterate all of their values to know if they are unique or not:</p>\n\n<pre><code>subjects.forEach { enumClass -&gt;\n    assertEquals(\n            enumClass.enumConstants.size,\n            enumClass.enumConstants.map(HavingUniqueValues::v).toSet().size\n    )\n}\n</code></pre>\n\n<p>I used <code>toSet()</code> here to drop all non-inuque values.</p>\n\n<p>This will pass the test:</p>\n\n<pre><code>enum class EnumName(override val v: Int) : HavingUniqueValues { ONE(1), TWO(2), THREE(3) }\n</code></pre>\n\n<p>This will not pass the test:</p>\n\n<pre><code>enum class EnumName(override val v: Int) : HavingUniqueValues { ONE(1), TWO(2), THREE(2) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1531641077, "creation_date": 1531641077, "answer_id": 51346391, "question_id": 51233751, "link": "https://stackoverflow.com/questions/51233751/test-all-enums-implementing-the-marker-interface/51346391#51346391", "title": "Test all enums implementing the marker interface", "body": "<p>Since you tagged your question with <code>kotlintest</code>, I've turned @egor's excellent answer into a <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">KotlinTest</a> copy n paste snippet for you.</p>\n\n<pre><code>class MyTest : StringSpec({\n\n  \"unique values\" {\n\n    val subjects: Set&lt;Class&lt;out HavingUniqueValues&gt;&gt; =\n        Reflections(\"your.package\").getSubTypesOf(HavingUniqueValues::class.java)\n\n    subjects.forEach { enumClass -&gt;\n      enumClass.enumConstants.size shouldBe\n          enumClass.enumConstants.map(HavingUniqueValues::v).toSet().size\n    }\n  }\n\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1856180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuNFf.jpg?s=128&g=1", "display_name": "Daimonion", "link": "https://stackoverflow.com/users/1856180/daimonion"}, "is_accepted": false, "score": 1, "last_activity_date": 1564561960, "last_edit_date": 1564561960, "creation_date": 1564512817, "answer_id": 57278340, "question_id": 51233751, "link": "https://stackoverflow.com/questions/51233751/test-all-enums-implementing-the-marker-interface/57278340#57278340", "title": "Test all enums implementing the marker interface", "body": "<p>I tried accepted solution and it didn't work with enums. It seems Reflectons library doesn't support searching for implementations that are custom Enums, Exceptions etc. At least with default configuration provided in above answer. There are lot of links and documentation that answer why it won't work:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35584995/why-doesnt-reflections-getsubtypesofobject-class-find-enums\">Why doesn&#39;t reflections.getSubTypesOf(Object.class) find enums?</a></p>\n\n<p><a href=\"https://github.com/ronmamo/reflections/issues/126\" rel=\"nofollow noreferrer\">https://github.com/ronmamo/reflections/issues/126</a></p>\n\n<p>I was able to find and test similar solution with <a href=\"https://github.com/classgraph\" rel=\"nofollow noreferrer\">Classgraph</a></p>\n\n<p>Here is example code that worked for me with enums:</p>\n\n<pre><code>try (ScanResult scanResult = new ClassGraph().enableAllInfo().whitelistPackages(\"package.with.your.enums\").scan()) {\n    ClassInfoList implementationsRefs = scanResult.getClassesImplementing(\"package.with.your.enums.yourInterfaceForEnums\");\n    List&lt;Class&lt;?&gt;&gt; implementations = implementationsRefs.loadClasses();\n    //here goes your code that operates on \"implementations\"\n}\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 6639500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e86e866a811829acb7ba5535f14cdfc?s=128&d=identicon&r=PG&f=1", "display_name": "SerVB", "link": "https://stackoverflow.com/users/6639500/servb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 51234967, "answer_count": 3, "score": 1, "last_activity_date": 1564561960, "creation_date": 1531065503, "question_id": 51233751, "link": "https://stackoverflow.com/questions/51233751/test-all-enums-implementing-the-marker-interface", "title": "Test all enums implementing the marker interface", "body": "<p>I have the empty interface <code>interface HavingUniqueValues(val v: Int) {}</code> and some enums like <code>enum class EnumName(override val v: Int) : HavingUniqueValues</code>.</p>\n\n<p>I want the elements in each enum have unique <code>v</code>-values but I can mistype the values. So I need a test.</p>\n\n<ol>\n<li>Is it possible to create a test where the interface implementations are saved as a <code>List</code> manually and the test checks if all the implementations in the <code>List</code> meet the requirement?</li>\n<li>If yes: is it possible to create a function that returns the <code>List</code> of all implementations in the specified package to use it in the test?</li>\n</ol>\n"}, {"tags": ["recursion", "kotlin", "anonymous-function"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1531063705, "creation_date": 1531063705, "answer_id": 51233485, "question_id": 51233329, "link": "https://stackoverflow.com/questions/51233329/recursive-anonymus-function-in-kotlin/51233485#51233485", "title": "Recursive anonymus function in kotlin", "body": "<p>You can't name anonymous functions (either with this syntax, or as a lambda) in Kotlin, and therefore you can't make them recursive either, because you have know way to reference themselves.</p>\n\n<p>If you need recursion, you'll have to create a regular function, and call that:</p>\n\n<pre><code>fun helper() : Char {\n     if (condition) {\n        return helper();\n    }\n    ...\n}\n\nval example = helper()\n</code></pre>\n\n<p>The good news is that you can basically create a regular, named function in <a href=\"https://kotlinlang.org/docs/reference/functions.html#function-scope\" rel=\"nofollow noreferrer\">any scope</a>. They can be top level outside classes, class members, or just local functions nested within other functions. Wherever you can write down <code>val example = ...</code>, you can also create a function.</p>\n"}, {"tags": [], "owner": {"reputation": 2310, "user_id": 2356160, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/vbPHS.jpg?s=128&g=1", "display_name": "lathspell", "link": "https://stackoverflow.com/users/2356160/lathspell"}, "is_accepted": false, "score": 1, "last_activity_date": 1531064451, "creation_date": 1531064451, "answer_id": 51233594, "question_id": 51233329, "link": "https://stackoverflow.com/questions/51233329/recursive-anonymus-function-in-kotlin/51233594#51233594", "title": "Recursive anonymus function in kotlin", "body": "<p>Calling an anonymous function sound complicated as there is no name to call it with :)\nAs I'm learning Kotlin myself at the moment, I tried something and came up with this, hope it helps:</p>\n\n<pre><code>import kotlin.test.Test\nimport kotlin.test.assertEquals\n\nclass StackOverflow51233329 {\n\n    @Test\n    fun test() {\n        var letter = 'A'\n\n        lateinit var example: () -&gt; Char\n\n        example = {\n            letter++   \n            if (letter &gt;= 'C') letter else example()\n        }\n\n        assertEquals('C', example())\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "is_accepted": false, "score": 0, "last_activity_date": 1593384181, "last_edit_date": 1593384181, "creation_date": 1593378717, "answer_id": 62628277, "question_id": 51233329, "link": "https://stackoverflow.com/questions/51233329/recursive-anonymus-function-in-kotlin/62628277#62628277", "title": "Recursive anonymus function in kotlin", "body": "<p>If you want to avoid using <code>lateinit</code>, you could use the <a href=\"https://mvanier.livejournal.com/2897.html\" rel=\"nofollow noreferrer\">Y combinator</a>, which can be used to enable recursion when recursion is impossible directly. Declare this globally:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class RecursiveFunc&lt;T, R&gt;(val f: (RecursiveFunc&lt;T, R&gt;) -&gt; (T) -&gt; R)\n\nfun &lt;T, R&gt; y(f: ((T) -&gt; R) -&gt; (T) -&gt; R): (T) -&gt; R {\n    val rec = RecursiveFunc&lt;T, R&gt; { r -&gt; f { r.f(r)(it) } }\n    return rec.f(rec)\n}\n</code></pre>\n<p>This code was taken from <a href=\"https://rosettacode.org/wiki/Y_combinator#Kotlin\" rel=\"nofollow noreferrer\">Rosetta Code</a>. You use it like this:</p>\n<pre><code>val fac = y { f: ((Int) -&gt; Int) -&gt;\n    { n: Int -&gt;\n        if (n &lt;= 1) 1 else n * f(n - 1)\n    }\n}\nprintln(fac(10))\n</code></pre>\n<p><code>f</code> is the recursive function here, with a signature of <code>(Int) -&gt; Int</code>. The rest of the function is pretty much the same as usual, but in lambda form. You can even use the usual function syntax if that's more familiar:</p>\n<pre><code>val fac = y { f: (Int) -&gt; Int -&gt;\n    fun(n: Int): Int {\n        return if (n &lt;= 1) 1 else n * f(n - 1)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1593384181, "creation_date": 1531062706, "question_id": 51233329, "link": "https://stackoverflow.com/questions/51233329/recursive-anonymus-function-in-kotlin", "title": "Recursive anonymus function in kotlin", "body": "<p>Im making this anonymus function, and i need it to call <em>itself</em>. Is there any way to do it? I tried the code below, which didnt work...</p>\n\n<pre><code>val example:Char = fun () : Char { \n    //Some code\n    if(condition) {\n        return this();\n    } \n}\n</code></pre>\n\n<p>What should i replace 'this()' with?\nIm pretty new to kotlin, so it would be really helpful with a response</p>\n"}, {"tags": ["function", "parameters", "kotlin", "parameter-passing", "return-type"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 3, "last_activity_date": 1531055879, "creation_date": 1531055879, "answer_id": 51232377, "question_id": 51232339, "link": "https://stackoverflow.com/questions/51232339/unspecified-parameters-and-return-types-in-kotlin/51232377#51232377", "title": "Unspecified parameters and return types in kotlin", "body": "<p>It can be done with the right generics:</p>\n\n<pre><code>interface Input&lt;R&gt;\n\nfun &lt;R&gt; example(variable: Input&lt;R&gt;): R {\n\n}\n</code></pre>\n\n<p>This will change the return type based on the generic type passed as <code>Input</code>.</p>\n"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531055879, "creation_date": 1531055625, "question_id": 51232339, "link": "https://stackoverflow.com/questions/51232339/unspecified-parameters-and-return-types-in-kotlin", "title": "Unspecified parameters and return types in kotlin", "body": "<p>I want to make this function in kotlin with unspecified parameters, and a return type depending on what is entered. That might sound confusing, so heres an example:</p>\n\n<pre><code>fun example(variable:unspecified) : variable.type {...}\n</code></pre>\n\n<p>Is there any way to do something like this in kotlin? Im pretty new to this language fyi.</p>\n"}, {"tags": ["android", "push-notification", "kotlin", "android-pendingintent"], "answers": [{"comments": [{"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1531059288, "post_id": 51232419, "comment_id": 89444737, "body": "That&#39;s right, but how do I get the notification time?"}], "tags": [], "owner": {"reputation": 2384, "user_id": 5607107, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hT5OcLs0j08/AAAAAAAAAAI/AAAAAAAACWI/DN7KFLj6z60/photo.jpg?sz=128", "display_name": "Mayank Bhatnagar", "link": "https://stackoverflow.com/users/5607107/mayank-bhatnagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1531056122, "creation_date": 1531056122, "answer_id": 51232419, "question_id": 51232330, "link": "https://stackoverflow.com/questions/51232330/android-get-remaining-time-from-a-pending-notification-that-is-repeating-perio/51232419#51232419", "title": "Android - get remaining time from a pending notification that is repeating periodically", "body": "<p>Well if you set the exact day and time to the Calendar instance, then it'll be easier to calculate the pending time using notification time - current device time.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531056122, "creation_date": 1531055570, "question_id": 51232330, "link": "https://stackoverflow.com/questions/51232330/android-get-remaining-time-from-a-pending-notification-that-is-repeating-perio", "title": "Android - get remaining time from a pending notification that is repeating periodically", "body": "<p>I set up a pending notification based on some value the user inserts within the app like this:</p>\n\n<pre><code>val notificationAlarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n            val notificationIntent = Intent(this, ReminderBroadcastReceiver::class.java)\n            notificationIntent.putExtra(\"bytes\", bytes)\n            val pendingNotificationIntent = PendingIntent.getBroadcast(this, REQUEST_CODE, notificationIntent,\n                    PendingIntent.FLAG_UPDATE_CURRENT)\n\n            myCalendar.set(Calendar.HOUR_OF_DAY, 10)\n            notificationAlarmManager.setRepeating(AlarmManager.RTC_WAKEUP, myCalendar.timeInMillis,\n                    NOTIFICATION_OFFSET,\n                    pendingNotificationIntent)\n</code></pre>\n\n<p>Since it is a repeating intent I can calculate only the first notification, the ones after can't be calculated.</p>\n\n<p>How can I get the time remaining until the notification will be shown again?</p>\n"}]