[{"tags": ["java", "return", "kotlin"], "comments": [{"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 4, "creation_date": 1516224097, "post_id": 48310136, "comment_id": 83606135, "body": "Kotlin is expression-based, so most things are expressions and can be used as arguments to other expressions, including <code>return</code>. Java is statement-based, so many things are statements which can only appear at the top-level. There seems to be a (very fortuitious, IMHO) trend toward expression-based languages in recent years."}], "answers": [{"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1516224246, "post_id": 48310185, "comment_id": 83606199, "body": "I know that &quot;return&quot; returns Nothing, that&#39;s why the compiler says &quot;Unreachable code&quot;."}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1516224273, "post_id": 48310185, "comment_id": 83606210, "body": "Then if you already understand this, what is your question, exactly?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1516224614, "post_id": 48310185, "comment_id": 83606345, "body": "@SilvioMayolo I understand that I can return Nothing in general, but this does not explain why return itself should return Nothing. Being able to use return in an expression on the other hand, sounds like a reasonable explanation."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1516283267, "post_id": 48310185, "comment_id": 83630771, "body": "@WilliMentzel Keep a close eye on the distinction between &quot;makes the current function return with the given value&quot; and &quot;evaluates to the given value&quot;. The expression <code>return 1</code> evaluates to <code>Nothing</code> and, as a side effect, makes the current function return with the value <code>1</code>. Given the nature of the side effect, no code can ever observe the result of evaluating a <code>return</code> expression."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 9, "last_activity_date": 1516250827, "last_edit_date": 1516250827, "creation_date": 1516224106, "answer_id": 48310185, "question_id": 48310136, "link": "https://stackoverflow.com/questions/48310136/why-can-return-return-a-return-in-kotlin/48310185#48310185", "title": "Why can &quot;return&quot; return a &quot;return&quot; in Kotlin?", "body": "<p>Because the <code>return</code> statement is an expression that returns <code>Nothing</code>. As a result, the following also compiles:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val r = return\n}\n</code></pre>\n\n<p>It's stated in the <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Kotlin has three structural jump expressions:</p>\n  \n  <ul>\n  <li><code>return</code>. By default returns from the nearest enclosing function or anonymous function.\n  [...]</li>\n  </ul>\n  \n  <p>All of these expressions can be used as part of larger expressions:</p>\n\n<pre><code>val s = person.name ?: return\n</code></pre>\n  \n  <p>The type of these expressions is the <code>Nothing</code> type.</p>\n</blockquote>\n\n<p>Since <code>Nothing</code> is a subtype of any other type, it has the power of making weird statements, like the one in your question, valid although they appear to be very wrong...</p>\n\n<p>There was actually a funny talk at <a href=\"https://www.youtube.com/watch?v=ukwVzLq_pHk\" rel=\"noreferrer\">KotlinConf</a> taking a look at interesting things like the following:</p>\n\n<pre><code>fun getText(): String {\n  val s = return throw return \"Hello\"\n}\n\nprintln(getText())\n//prints \"Hello\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1516225605, "post_id": 48310241, "comment_id": 83606772, "body": "actually the last part <code>throw throw return 0</code> is not marked as unreachable"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1516786793, "post_id": 48310241, "comment_id": 83827994, "body": "Other <code>Nothing</code> typed expressions are <code>continue</code> and <code>break</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 18, "last_activity_date": 1516224358, "creation_date": 1516224358, "answer_id": 48310241, "question_id": 48310136, "link": "https://stackoverflow.com/questions/48310136/why-can-return-return-a-return-in-kotlin/48310241#48310241", "title": "Why can &quot;return&quot; return a &quot;return&quot; in Kotlin?", "body": "<p><code>return</code> is an expression in Kotlin, with a return type of <code>Nothing</code>, the type that acts as a subtype of all other types. This enables you to, for example, do this in a type safe way and without extra lines of <code>null</code> checks:</p>\n\n<pre><code>fun getInt(): Int? = ...\n\nfun printInt() {\n    val int: Int = getInt() ?: return\n    println(int)\n}\n</code></pre>\n\n<p>The type of <code>getInt() ?: return</code> can be <code>Int</code> here, because that's the closest common supertype of the two sides of the Elvis operator, thanks to <code>Nothing</code> being a subtype of <code>Int</code>. </p>\n\n<p>The same thing applies for <code>throw</code>, which you can also use neatly with the <code>Elvis</code> operator to indicate that you want to cancel execution on a <code>null</code> value without having to worry about types later.</p>\n\n<p>This results in an odd quirk where things like </p>\n\n<pre><code>fun x(): Int {\n    return return throw return throw throw return 0\n}\n</code></pre>\n\n<p>are valid syntax, because the <code>Nothing</code> type makes each of the expressions valid read from right to left. What will actually happen is that <code>return 0</code> will execute and the rest of the code will never be reached, as the compiler warns.</p>\n"}], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1675, "favorite_count": 3, "accepted_answer_id": 48310241, "answer_count": 2, "score": 14, "last_activity_date": 1516250827, "creation_date": 1516223863, "question_id": 48310136, "link": "https://stackoverflow.com/questions/48310136/why-can-return-return-a-return-in-kotlin", "title": "Why can &quot;return&quot; return a &quot;return&quot; in Kotlin?", "body": "<p>The question may sound silly, but there is no typo in it.</p>\n\n<pre><code>fun test(): Any {\n    return return true\n}\n</code></pre>\n\n<p>This is actually possible in Kotlin. Although the compiler warns about</p>\n\n<blockquote>\n  <p>Unreachable code</p>\n</blockquote>\n\n<p>for the outer return. But this is just a warning.</p>\n\n<p>I don't want to compare Java with Kotlin, but I was interested whether the same would work in Java.</p>\n\n<pre><code>public class Test {\n  // ...\n  static int test() {\n    return return 1;\n  }\n}\n</code></pre>\n\n<p>It does not!</p>\n\n<blockquote>\n  <p>/Test.java:8: error: illegal start of expression<br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return return 1;<br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br>\n  /Test.java:8: error: not a statement<br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return return 1;<br>\n  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br>\n  2 errors</p>\n</blockquote>\n\n<p>Why was Kotlin designed this way?</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin", "kotlinx.coroutines", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1516220433, "post_id": 48309195, "comment_id": 83604281, "body": "For me it works like shown in the linked example. What is not working for you"}], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1517995004, "post_id": 48310227, "comment_id": 84317232, "body": "what is meant by having the <code>kotlin</code> plugin applied to the project?"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 1, "creation_date": 1518011173, "post_id": 48310227, "comment_id": 84328205, "body": "@Thufir I just meant that I am assuming you are applying a Kotlin plugin using the <code>plugins {}</code> block, because that is how the <code>kotlin</code> accesor is generated."}, {"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1518011376, "post_id": 48310227, "comment_id": 84328341, "body": "a plugins block is different from an apply block with a plugin?  If so, that may have solved my (different) problem..."}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1518011481, "post_id": 48310227, "comment_id": 84328425, "body": "In the current versions of the <code>kotlin-dsl</code>, yes."}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": true, "score": 3, "last_activity_date": 1516228156, "last_edit_date": 1516228156, "creation_date": 1516224309, "answer_id": 48310227, "question_id": 48309195, "link": "https://stackoverflow.com/questions/48309195/how-can-i-configure-kotlin-coroutines-for-gradle-with-the-kotlin-dsl/48310227#48310227", "title": "How can I configure Kotlin coroutines for Gradle with the Kotlin DSL?", "body": "<p>Assuming you have the <code>kotlin</code> plugin applied to the project:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.dsl.Coroutines\n\nplugins {\n  kotlin(\"jvm\")\n}\n\nkotlin { // type is KotlinJvmProjectExtension\n  experimental.coroutines = Coroutines.ENABLE\n}\n</code></pre>\n\n<p>This works for me with Gradle 4.4.1 and 4.5-rc-1, and I should also work for versions before that. If you are bringing in the Kotlin plugin by using <code>buildscript</code> instead of <code>plugins</code>, you may not have the generated accessors and will have to use <code>extensions.getByType(KotlinJvmProjectExtension::class.java).apply {}</code> (or something like that).</p>\n"}], "owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2202, "favorite_count": 1, "accepted_answer_id": 48310227, "answer_count": 1, "score": 3, "last_activity_date": 1516306051, "creation_date": 1516219670, "last_edit_date": 1516306051, "question_id": 48309195, "link": "https://stackoverflow.com/questions/48309195/how-can-i-configure-kotlin-coroutines-for-gradle-with-the-kotlin-dsl", "title": "How can I configure Kotlin coroutines for Gradle with the Kotlin DSL?", "body": "<p>Using Gradle 4.4.1 with the Kotlin-DSL, I want to configure the experimental Kotlin coroutines in my Kotlin 1.2.20 project. This proves to be surprisingly difficult.</p>\n\n<p>The official Kotlin documentation itself only mentions <a href=\"http://kotlinlang.org/docs/diagnostics/experimental-coroutines.html\" rel=\"nofollow noreferrer\">Gradle with the Groovy DSL</a> instead of Kotlin.</p>\n\n<p>The Kotlin-DSL project has an <a href=\"https://github.com/gradle/kotlin-dsl/blob/master/samples/hello-coroutines/build.gradle.kts\" rel=\"nofollow noreferrer\">example for coroutines</a> that does not work. Probably, it\u2019s for an older Gradle version (the Kotlin version in that script is 1.1.51, which is suspicious in itself).</p>\n\n<p>PS: Even IntelliJ\u2019s <em>configure Kotlin</em> writes incorrect Gradle code. Is downgrading the only option?</p>\n\n<hr>\n\n<p>Addendum: The build script was <em>very red</em> in IntelliJ IDEA. The IDE kept adding import statements all the time. It seems that these futile attempts were what made the script non-functional. I disabled \u2018Add unambiguos imports on the fly\u2019 temporarily, and even though the script remained mostly red, Gradle could execute it. And afterwards, the error notices withing IntelliJ were gone as well.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "edited": false, "score": 0, "creation_date": 1516216204, "post_id": 48308249, "comment_id": 83602023, "body": "Try with companion object"}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "reply_to_user": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "edited": false, "score": 0, "creation_date": 1516216329, "post_id": 48308249, "comment_id": 83602090, "body": "@MeLine Did not make a diffrenece"}, {"owner": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "edited": false, "score": 0, "creation_date": 1516216506, "post_id": 48308249, "comment_id": 83602159, "body": "copanioin object{ var clubs = 0} is equivalent to static in java"}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "reply_to_user": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "edited": false, "score": 0, "creation_date": 1516216694, "post_id": 48308249, "comment_id": 83602265, "body": "@MeLine but when I try to access it from the fragment using activity.clubs it does not show up"}, {"owner": {"reputation": 1530, "user_id": 3626353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6SkxM.jpg?s=128&g=1", "display_name": "MeLine", "link": "https://stackoverflow.com/users/3626353/meline"}, "edited": false, "score": 0, "creation_date": 1516216805, "post_id": 48308249, "comment_id": 83602317, "body": "did you try to make it public ?"}, {"owner": {"reputation": 2160, "user_id": 1062074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B7AJr.jpg?s=128&g=1", "display_name": "chrjs", "link": "https://stackoverflow.com/users/1062074/chrjs"}, "edited": false, "score": 0, "creation_date": 1516217933, "post_id": 48308249, "comment_id": 83602926, "body": "I&#39;m not sure what you try to accomplish. But another approach could be something like this: Communicate with an activity from your fragment via an interface. Refer to the Android Docs: <a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/fragments/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 6561371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5196f6eb4c051d4c5f56680fd32615?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik G.", "link": "https://stackoverflow.com/users/6561371/dominik-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1516294309, "creation_date": 1516294309, "answer_id": 48326457, "question_id": 48308249, "link": "https://stackoverflow.com/questions/48308249/fragments-and-activities-using-kotlin/48326457#48326457", "title": "Fragments and Activities using Kotlin", "body": "<p>You would create an interface, let's say <code>FragmentListener</code> for your Activity that contains a function like <code>fun updateClubs(count: Int)</code>. Your Activity should implement this interface.\nThen, in your Fragment, add a fragmentListener property and override onAttach(context: Context):</p>\n\n<pre><code>private var fragmentListener: FragmentListener? = null\n\noverride fun onAttach(context: Context) {\n    this.listener = context as? FragmentListener\n}\n</code></pre>\n\n<p>Then, in your OnClickListener, you can simply call <code>fragmentListener?.updateClubs(4)</code>.</p>\n"}], "owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4426, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516294309, "creation_date": 1516215933, "question_id": 48308249, "link": "https://stackoverflow.com/questions/48308249/fragments-and-activities-using-kotlin", "title": "Fragments and Activities using Kotlin", "body": "<p>I have the following activity with two integers</p>\n\n<pre><code>class ComplexActivity : AppCompatActivity() {\n\n    var clubs : Int = 0\n    var diamonds : Int = 0\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_complex)\n\n    val fragment = ClubsFragment()\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.main_frame, fragment)\n    transaction.commit()\n\n    }\n}\n</code></pre>\n\n<p>I want to change the value of the integer clubs from the fragment ClubsFragment when isScored is true</p>\n\n<pre><code>class ClubsFragment : Fragment(),  SeekBar.OnSeekBarChangeListener{\n\nprivate var isScored = false\n\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n\n    val v = inflater!!.inflate(R.layout.fragment_clubs, container, false)\n\n    v.image_clubs.setOnClickListener {\n\n        if(isScored){\n           activity.clubs = 4\n        }\n    }\n  }\n}\n</code></pre>\n\n<p>I tried to use activity.clubs but It's not working. How can I access the activity constants from a fragment.</p>\n"}, {"tags": ["list", "hashmap", "kotlin", "higher-order-functions"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1516215050, "post_id": 48308014, "comment_id": 83601392, "body": "Rather than &quot;swap some elements of a <code>List&lt;String&gt;</code>...&quot; it sounds like you&#39;re really asking about how to &quot;replace some elements of a <code>String</code>...&quot;."}, {"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1516215360, "post_id": 48308014, "comment_id": 83601587, "body": "@OliverCharlesworth Technically yes but since I am converting it into a CharArray and then mapping that into a List&lt;String&gt; I get stuck at manipulating that list. I just wanted to be specific at where my problem is."}], "answers": [{"tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 3, "last_activity_date": 1516215145, "creation_date": 1516215145, "answer_id": 48308069, "question_id": 48308014, "link": "https://stackoverflow.com/questions/48308014/how-do-i-swap-some-characters-of-a-string-with-values-of-a-hashmapstring-string/48308069#48308069", "title": "How do I swap some characters of a String with values of a HashMap&lt;String,String&gt; in Kotlin?", "body": "<p>You could either use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/get-or-default.html\" rel=\"nofollow noreferrer\"><code>getOrDefault(...)</code></a>, or the Kotlinesque <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\"><code>b[it] ?: it</code></a>.</p>\n\n<hr>\n\n<p><sub>By the way, if you're using the implicit lambda argument name (<code>it</code>), you can get rid of the <code>it -&gt;</code>.</sub></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1516245431, "last_edit_date": 1516245431, "creation_date": 1516219292, "answer_id": 48309100, "question_id": 48308014, "link": "https://stackoverflow.com/questions/48308014/how-do-i-swap-some-characters-of-a-string-with-values-of-a-hashmapstring-string/48309100#48309100", "title": "How do I swap some characters of a String with values of a HashMap&lt;String,String&gt; in Kotlin?", "body": "<p>You can use the <code>String</code> as an iterable by default and simplify your code as follows:</p>\n\n<pre><code>s.map { it.toString() }\n .map { b[it] ?: it }\n</code></pre>\n"}], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 48308069, "answer_count": 2, "score": 0, "last_activity_date": 1516245431, "creation_date": 1516214886, "last_edit_date": 1516223349, "question_id": 48308014, "link": "https://stackoverflow.com/questions/48308014/how-do-i-swap-some-characters-of-a-string-with-values-of-a-hashmapstring-string", "title": "How do I swap some characters of a String with values of a HashMap&lt;String,String&gt; in Kotlin?", "body": "<p>Assuming I have a </p>\n\n<pre><code>val s: String = \"14ABC5\"\n</code></pre>\n\n<p>and have a <code>HashMap</code></p>\n\n<pre><code>val b: HashMap&lt;String,String&gt; = hashMapOf(\"A\" to \"10\", \"B\" to \"11\", \"C\" to \"12\", \"D\" to \"13\", \"E\" to \"14\", \"F\" to \"15\" )\n</code></pre>\n\n<p>How would I change all occurrences of A,B,C with 10, 11, 12 while keeping their order (\"1\", \"4\", \"10\", \"11\", \"12\", \"5\")?</p>\n\n<p>So far I have this </p>\n\n<pre><code>val result: List&lt;String&gt; = s.toUpperCase().toCharArray().map{ it.toString() }.map{ it -&gt; b.getValue(it)}\n</code></pre>\n\n<p>which works if ALL characters of the <code>String</code> exist in the <code>HashMap</code> but my <code>String</code> may contain <strong>inexistent</strong> keys as well. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1516218665, "post_id": 48307670, "comment_id": 83603311, "body": "The highlighted area is the focus area of the camera, so the decoder can work better, you may place items on top of the View witha  FrameLayout, but you still better to let the focus area in the same size and zoom as it is"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1516256027, "post_id": 48308043, "comment_id": 83615290, "body": "Is there any documentation for these libraries?"}, {"owner": {"reputation": 2060, "user_id": 313870, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eeb6068005e32b9bc1c57051ac3e2fa5?s=128&d=identicon&r=PG", "display_name": "Demonick", "link": "https://stackoverflow.com/users/313870/demonick"}, "reply_to_user": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1516257105, "post_id": 48308043, "comment_id": 83615663, "body": "<a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">github.com/journeyapps/zxing-android-embedded</a> and <a href=\"https://github.com/zxing/zxing\" rel=\"nofollow noreferrer\">github.com/zxing/zxing</a> should lead to further documentation"}], "tags": [], "owner": {"reputation": 2060, "user_id": 313870, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eeb6068005e32b9bc1c57051ac3e2fa5?s=128&d=identicon&r=PG", "display_name": "Demonick", "link": "https://stackoverflow.com/users/313870/demonick"}, "is_accepted": true, "score": 8, "last_activity_date": 1516215007, "creation_date": 1516215007, "answer_id": 48308043, "question_id": 48307670, "link": "https://stackoverflow.com/questions/48307670/android-how-to-change-barcode-scanner-view-size/48308043#48308043", "title": "Android - how to change barcode scanner view size?", "body": "<p>You could use the zxing embedded library with these gradle dependencies:</p>\n\n<pre><code>implementation \"com.journeyapps:zxing-android-embedded:3.5.0@aar\"\nimplementation \"com.google.zxing:core:3.3.0\"\n</code></pre>\n\n<p>And then put it in your layout like</p>\n\n<pre><code>&lt;com.journeyapps.barcodescanner.DecoratedBarcodeView\n    android:id=\"@+id/qr_scanner_view\"\n    android:layout_width=\"@dimen/your_width\"\n    android:layout_height=\"@dimen/your_height\" /&gt;\n</code></pre>\n\n<p>And then use it in your code like</p>\n\n<pre><code>DecoratedBarcodeView qrView = findViewById(R.id.qr_scanner_view);\nCameraSettings s = new CameraSettings();\ns.setRequestedCameraId(0); // front/back/etc\nqrView.getBarcodeView().setCameraSettings(s);\nqrView.resume();\n\nqrView.decodeSingle(new BarcodeCallback() {\n    @Override\n    public void barcodeResult(BarcodeResult result) {\n        Log.d(\"barcode result: \" + result.toString());\n        // do your thing with result\n    }\n\n    @Override\n    public void possibleResultPoints(List&lt;ResultPoint&gt; resultPoints) {}\n});\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7870, "favorite_count": 0, "accepted_answer_id": 48308043, "answer_count": 1, "score": 3, "last_activity_date": 1516215007, "creation_date": 1516213552, "question_id": 48307670, "link": "https://stackoverflow.com/questions/48307670/android-how-to-change-barcode-scanner-view-size", "title": "Android - how to change barcode scanner view size?", "body": "<p>I am trying to make Barcode Scanner by following this YouTube <a href=\"https://www.youtube.com/watch?v=otkz5Cwdw38&amp;t=127s\" rel=\"nofollow noreferrer\">video</a>.By following this video I am able to get app working. But as the barcode reader takes the entire page while the scanning cursor takes just around 40% of screen area. So I want to know if there is a way to Shrink the barcode and remaining space can be used to put some buttons or warning TexViews.\nSo basically I want to set width and height of QR camera view.So is it possible?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ddrwn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ddrwn.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>As it is clear that space outside of green square is waste and that's why I want to arrange it so that it comes in about 200dp*200dp in dimension.</p>\n\n<p>Code is as follow:</p>\n\n<pre><code>package com.example.priyanka.qrbarcodescanner\n\nimport android.content.Context\nimport android.content.DialogInterface\nimport android.content.Intent\nimport android.content.pm.PackageManager\nimport android.hardware.Camera\nimport android.net.Uri\nimport android.os.Build\nimport android.support.v4.app.ActivityCompat\nimport android.support.v4.content.ContextCompat\nimport android.support.v7.app.AlertDialog\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Toast\n\nimport com.google.zxing.Result\n\nimport me.dm7.barcodescanner.zxing.ZXingScannerView\n\nimport android.Manifest.permission.CAMERA\n\nclass MainActivity : AppCompatActivity(), ZXingScannerView.ResultHandler {\n    private var scannerView: ZXingScannerView? = null\n    internal var mcontext: Context? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        mcontext = this\n\n        scannerView = ZXingScannerView(this)\n        setContentView(scannerView)\n        val currentApiVersion = Build.VERSION.SDK_INT\n\n        if (currentApiVersion &gt;= Build.VERSION_CODES.M) {\n            if (checkPermission()) {\n                Toast.makeText(applicationContext, \"Permission already granted!\", Toast.LENGTH_LONG).show()\n            } else {\n                requestPermission()\n            }\n        }\n    }\n\n    private fun checkPermission(): Boolean {\n        return ContextCompat.checkSelfPermission(applicationContext, CAMERA) == PackageManager.PERMISSION_GRANTED\n    }\n\n    private fun requestPermission() {\n        ActivityCompat.requestPermissions(this, arrayOf(CAMERA), REQUEST_CAMERA)\n    }\n\n    public override fun onResume() {\n        super.onResume()\n\n        val currentapiVersion = android.os.Build.VERSION.SDK_INT\n        if (currentapiVersion &gt;= android.os.Build.VERSION_CODES.M) {\n            if (checkPermission()) {\n                if (scannerView == null) {\n                    scannerView = ZXingScannerView(this)\n                    setContentView(scannerView)\n                }\n                scannerView!!.setResultHandler(this)\n                scannerView!!.startCamera()\n            } else {\n                requestPermission()\n            }\n        }\n    }\n\n    public override fun onDestroy() {\n        super.onDestroy()\n        scannerView!!.stopCamera()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;String&gt;, grantResults: IntArray) {\n        when (requestCode) {\n            REQUEST_CAMERA -&gt; if (grantResults.size &gt; 0) {\n\n                val cameraAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED\n                if (cameraAccepted) {\n                    Toast.makeText(applicationContext, \"Permission Granted, Now you can access camera\", Toast.LENGTH_LONG).show()\n                } else {\n                    Toast.makeText(applicationContext, \"Permission Denied, You cannot access and camera\", Toast.LENGTH_LONG).show()\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                        if (shouldShowRequestPermissionRationale(CAMERA)) {\n                            showMessageOKCancel(\"You need to allow access to both the permissions\",\n                                    DialogInterface.OnClickListener { dialog, which -&gt;\n                                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                            requestPermissions(arrayOf(CAMERA),\n                                                    REQUEST_CAMERA)\n                                        }\n                                    })\n                            return\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun showMessageOKCancel(message: String, okListener: DialogInterface.OnClickListener) {\n        android.support.v7.app.AlertDialog.Builder(mcontext!!)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setNegativeButton(\"Cancel\", null)\n                .create()\n                .show()\n    }\n\n    override fun handleResult(result: Result) {\n        val myResult = result.text\n        Log.d(\"QRCodeScanner\", result.text)\n        Log.d(\"QRCodeScanner\", result.barcodeFormat.toString())\n\n        val builder = AlertDialog.Builder(this)\n        builder.setTitle(\"Scan Result\")\n        builder.setPositiveButton(\"OK\") { dialog, which -&gt; scannerView!!.resumeCameraPreview(this@MainActivity) }\n        builder.setNeutralButton(\"Visit\") { dialog, which -&gt;\n            val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(myResult))\n            startActivity(browserIntent)\n        }\n        builder.setMessage(result.text)\n        val alert1 = builder.create()\n        alert1.show()\n    }\n\n    companion object {\n\n        private val REQUEST_CAMERA = 1\n        private val camId = Camera.CameraInfo.CAMERA_FACING_BACK\n    }\n}\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["spring", "kotlin", "spring-mongodb", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "is_accepted": true, "score": 3, "last_activity_date": 1516356374, "creation_date": 1516356374, "answer_id": 48338528, "question_id": 48306899, "link": "https://stackoverflow.com/questions/48306899/when-does-kotlin-introspection-become-available-in-the-lifetime-of-a-spring-boot/48338528#48338528", "title": "When does Kotlin introspection become available in the lifetime of a Spring Boot Application?", "body": "<h2>TL;DR;</h2>\n\n<p>It looks like a bug, but it isn't \u2013 it's a consequence of how things work.</p>\n\n<h2>Explanation</h2>\n\n<p>What happens here is that <code>private val klass: KClass&lt;T&gt;</code> is <code>null</code>. Looking at the code, this actually can't happen, but it does. What happens behind the scenes is that Spring creates a proxy for <code>PersonRepository</code>:</p>\n\n<pre><code>this = {com.example.demo.DemoApplicationTests@5173} \n personRepository = {com.example.demo.PersonRepository$$EnhancerBySpringCGLIB$$42849208@5193} \"com.example.demo.PersonRepository@1961d75a\"\n  CGLIB$BOUND = false\n  CGLIB$CALLBACK_0 = {org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor@5208} \n  CGLIB$CALLBACK_1 = {org.springframework.aop.framework.CglibAopProxy$StaticUnadvisedInterceptor@5209} \n  CGLIB$CALLBACK_2 = {org.springframework.aop.framework.CglibAopProxy$SerializableNoOp@5210} \n  CGLIB$CALLBACK_3 = {org.springframework.aop.framework.CglibAopProxy$StaticDispatcher@5211} \n  CGLIB$CALLBACK_4 = {org.springframework.aop.framework.CglibAopProxy$AdvisedDispatcher@5212} \n  CGLIB$CALLBACK_5 = {org.springframework.aop.framework.CglibAopProxy$EqualsInterceptor@5213} \n  CGLIB$CALLBACK_6 = {org.springframework.aop.framework.CglibAopProxy$HashCodeInterceptor@5214} \n  template = null\n  klass = null\n</code></pre>\n\n<p>As you can see, <code>klass</code> is <code>null</code>. This is a significant fact because you're calling <code>RepositoryBase.count()</code>. <code>count()</code> is <code>final</code>, therefore it can't be proxied by CGLIB. Inside of <code>count()</code> you're accessing the <code>klass</code> field (not using a getter here) therefore the call uses the uninitialized field from the proxy instance instead of the actual target. Using a getter method would route the call to the actual target and retrieve the field.</p>\n\n<h2>Solution</h2>\n\n<p>Make your method non-<code>final</code>:</p>\n\n<pre><code>open class RepositoryBase&lt;T: Any&gt; (val template: ReactiveMongoTemplate, private val klass: KClass&lt;T&gt;)\n{\n    open fun count(): \u2026\n}\n</code></pre>\n"}], "owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 48338528, "answer_count": 1, "score": 0, "last_activity_date": 1516356374, "creation_date": 1516210544, "question_id": 48306899, "link": "https://stackoverflow.com/questions/48306899/when-does-kotlin-introspection-become-available-in-the-lifetime-of-a-spring-boot", "title": "When does Kotlin introspection become available in the lifetime of a Spring Boot Application?", "body": "<p>I ran into a surprising bug. I am trying to make an application that would access mongodb using the <em>repository pattern</em>. In order to reduce code duplication I wanted to make a common base class for all repositories. The repository of each root aggregate (such as <code>Person</code> in code bellow), would inherit from this <code>RepositoryBase</code> and inherit all the common functionality. </p>\n\n<pre><code>data class Person(val name: String)\n\nopen class RepositoryBase&lt;T: Any&gt; (val template: ReactiveMongoTemplate, private val klass: KClass&lt;T&gt;)\n{\n    fun count(): Mono&lt;Long&gt; = template.count(Query(), klass.java)\n}\n\n@Repository\nclass PersonRepository(template: ReactiveMongoTemplate): RepositoryBase&lt;Person&gt;(template, Person::class)\n\n@RunWith(SpringRunner::class)\n@SpringBootTest\nclass DemoApplicationTests\n{\n    @Autowired var personRepository: PersonRepository? = null\n\n    @Test\n    fun contextLoads()\n    {\n        println(personRepository?.count()?.block()!!)\n    }\n}\n</code></pre>\n\n<p>However, this does not seem to work:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Parameter specified as non-null is\n  null: method kotlin.jvm.JvmClassMappingKt.getJavaClass, parameter\n  $receiver</p>\n  \n  <p>at kotlin.jvm.JvmClassMappingKt.getJavaClass(JvmClassMapping.kt)    at\n  com.example.demo.RepositoryBase.count(DemoApplicationTests.kt:18)\n  ...</p>\n</blockquote>\n\n<p>It seems that at the time <code>Person::class</code> is being called, the introspection capabilities are not fully initialized and the subsequent call to <code>KClass.java</code>, which is defined as:</p>\n\n<pre><code>/**\n * Returns a Java [Class] instance corresponding to the given [KClass] instance.\n */\n@Suppress(\"UPPER_BOUND_VIOLATED\")\npublic val &lt;T&gt; KClass&lt;T&gt;.java: Class&lt;T&gt;\n    @JvmName(\"getJavaClass\")\n    get() = (this as ClassBasedDeclarationContainer).jClass as Class&lt;T&gt;\n</code></pre>\n\n<p>results in the null-exception.</p>\n\n<p>I would like to know if there are some rules on using introspection in Spring applications or whether this is a bug either in Kotlin or in Spring.</p>\n"}, {"tags": ["algorithm", "kotlin"], "comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516285993, "post_id": 48306590, "comment_id": 83632610, "body": "Is there a restriction missing in the problem description? It&#39;s nowhere requested, that the rectangles need to span vertically from r1 to r2 as you have shown in your example."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516286168, "post_id": 48306590, "comment_id": 83632725, "body": "Well I do specify the height as <code>abs(r1 - r2)</code> in the attempted formalization."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516286211, "post_id": 48306590, "comment_id": 83632746, "body": "But that does not specify the location of the rectangle, only its height."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516286263, "post_id": 48306590, "comment_id": 83632789, "body": "Ah good point! Yes, the top left most point of the rectangle must have a y component that is equal to r1."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516286699, "post_id": 48306590, "comment_id": 83633093, "body": "What is the criteria for the width? Your example shows a rectangle that overlaps with another that doesn&#39;t have the same width."}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516212739, "creation_date": 1516209334, "last_edit_date": 1516212739, "question_id": 48306590, "link": "https://stackoverflow.com/questions/48306590/rectangle-packing-subset", "title": "Rectangle Packing - Subset", "body": "<p>I'm working on an algorithm that figures out how to pack rectangles into a larger rectangle. I am aware this is similar to the rectangle packing problem but my particular problem has a few quirks; namely the rectangles that I'm fitting only have a defined height, the width can (and should) vary such that the rectangles that share a vertical overlap with other rectangles will end up having equal widths with respect to the other rectangles they overlap with.</p>\n\n<p>Here is the best formalization I could come up with:</p>\n\n<p>Given a possibly infinite set <code>R</code> of real number ranges between <code>-inf</code>, <code>+inf</code> and an area <code>A</code> defined by the points <code>(0, -inf)</code>, <code>(100, +inf)</code>.</p>\n\n<p>For each range <code>r</code> in <code>R</code> find a rectangle <code>Ar</code> which resides inside area <code>A</code> with a height <code>abs(r1 - r2)</code> and a width which results in a rectangle that fills as much horizontal space as possible without overlapping any other rectangle.</p>\n\n<p>Here is an image showing an example input set, and the expected output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vcqRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vcqRc.png\" alt=\"Example\"></a></p>\n\n<p>Does anyone have any idea the best way to approach this? I have a somewhat working solution but it fails under conditions where there are a lot of overlapping ranges. Here is the code:</p>\n\n<pre><code>val laidOutRectangles = mutableListOf&lt;Rectangle&gt;() // Rectangle is defined by x1, y1, x2, y2\nval ranges = mutableListOf&lt;Range&gt;() // Range just has lower and upper bounds\nval width = 100\n\nranges.sortedByDescending { it.first }.forEach { range -&gt;\n    // Get top and bottom of range\n    val lower = range.first\n    val upper = range.second\n\n    // Work out overlapping rectangles\n    var overlappingRectangles = 0\n    laidOutRectangles.forEach { rectangle -&gt;\n        if ((lower &gt;= rectangle.y1 &amp;&amp; lower &lt;= rectangle.y2) ||\n                (upper &gt;= rectangle.y1 &amp;&amp; upper &lt;= rectangle.y2)) {\n            overlappingRectangles++\n        }\n    }\n\n    val rectangleWidth = (width / (overlappingRectangles + 1)).toInt()\n\n    val newRectangle = Rectangle(0, lower, rectangleWidth, upper)\n    laidOutRectangles.add(newRectangle)\n\n    var repositionedRectangles = 0\n    laidOutRectangles.filter {\n        ((lower &gt;= it.y1 &amp;&amp; lower &lt;= it.y2) ||\n                (upper &gt;= it.y1 &amp;&amp; upper &lt;= it.y2))\n    }.sortedByDescending {\n        Math.abs(upper - lower)\n    }.forEach { rectangle -&gt;\n        rectangle.width = rectangleWidth\n        rectangle.x1 = (rectangleWidth * (repositionedRectangles + 1)).toInt()\n        rectangle.x2 = (rectangle.x1 + rectangleWidth)\n        repositionedRectangles++\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kdoc"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1516243974, "post_id": 48306488, "comment_id": 83612024, "body": "If it&#39;s available only for test, is it in the src/test/kotlin tree? And thus not built into your normal -src.jar file? If those conventions are followed, dokka won&#39;t build the doc files when you direct it to run only over your src/main/kotlin tree."}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 3, "last_activity_date": 1516481176, "creation_date": 1516481176, "answer_id": 48360932, "question_id": 48306488, "link": "https://stackoverflow.com/questions/48306488/kotlin-hide-javadoc-equivalent/48360932#48360932", "title": "Kotlin - @hide javadoc equivalent", "body": "<p>If you really want to show that method/function is not part of public API and is exposed only t obe testable, it's considered to be a good practice to use annotation <code>@VisibleForTesting</code>. If you don't have guava or similar library in your project you can create such annotation easiily yourself.</p>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516481176, "creation_date": 1516208967, "question_id": 48306488, "link": "https://stackoverflow.com/questions/48306488/kotlin-hide-javadoc-equivalent", "title": "Kotlin - @hide javadoc equivalent", "body": "<p>I'm trying to hide a method that should be visible only for test usage.</p>\n\n<p>Is there any equivalent for javadoc's <code>@hide</code></p>\n\n<p>I'm not an expert using KDoc neither JavaDoc, If I'm missing any concept please point me to it.</p>\n\n<pre><code>/** @hide */\nfun methodToHide() : String = \"foo\"\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine", "completable-future"], "answers": [{"tags": [], "owner": {"reputation": 1383, "user_id": 497753, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0e5e5ac2af76d5bf54a90a5c0b3ead9?s=128&d=identicon&r=PG&f=1", "display_name": "Mannie", "link": "https://stackoverflow.com/users/497753/mannie"}, "is_accepted": true, "score": 2, "last_activity_date": 1516620615, "creation_date": 1516620615, "answer_id": 48380594, "question_id": 48306441, "link": "https://stackoverflow.com/questions/48306441/kotlin-coroutines-block-thread-until-timeout-or-message-count-received/48380594#48380594", "title": "kotlin coroutines -block thread until timeout or message count received", "body": "<p>After much research into coroutines in Kotlin i decided to simply use a <code>CountdownLatch</code> and have it countdown until the messageCount has been received; for example; </p>\n\n<pre><code>private fun listenForMessages(consumer: MessageConsumer,messageCount: Int, \n                              timeout: Long): List {\n    val messages = mutableListOf&lt;T&gt;()\n    val outerLatch = CountDownLatch(messageCount)\n    consumer.setMessageListener({ it -&gt;\n        //do something\n        outerLatch.countDown()\n    }\n})\nouterLatch.await(timeout)\nreturn messages\n}\n</code></pre>\n"}], "owner": {"reputation": 1383, "user_id": 497753, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0e5e5ac2af76d5bf54a90a5c0b3ead9?s=128&d=identicon&r=PG&f=1", "display_name": "Mannie", "link": "https://stackoverflow.com/users/497753/mannie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 48380594, "answer_count": 1, "score": 0, "last_activity_date": 1516620615, "creation_date": 1516208794, "question_id": 48306441, "link": "https://stackoverflow.com/questions/48306441/kotlin-coroutines-block-thread-until-timeout-or-message-count-received", "title": "kotlin coroutines -block thread until timeout or message count received", "body": "<p>With Kotlin, I would to block a thread until n messages (or a timeout occurs) are received from a callback MessageBroker; </p>\n\n<p>For example -  Something like;</p>\n\n<pre><code>fun receivedMessages(numberOfMessages: Int, timeout: Long): List&lt;Message&gt; {\nreceivedMessages: ArrayList&lt;Message&gt;\n\n//subscribe to a queue and get a callback for EACH message on the queue e.g.\n\n//listen until the 'numberOfMessages' have been reveived OR the timeout is reached. e.g.\n\nasync - block\n{\n    messageQueue.setMessageListener\n    (message -&gt; {\n    receivedMessages.add(message)\n    if (receivedMessages.size &gt; numberOfMessages) //break out of the routine\n})\n\n    //else - if timeout is reached - break the routine.\n}.withTimeout(timeout)\n\n\nreturn receviedMessages\n</code></pre>\n\n<p>}</p>\n\n<p>What is the most eloquent way to do this with kotlin coroutines?</p>\n"}, {"tags": ["android", "kotlin", "generic-collections", "android-architecture-components"], "comments": [{"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1516207931, "post_id": 48305871, "comment_id": 83597385, "body": "@Kiskae I saw your related answer, may you please refer to my question?"}], "answers": [{"tags": [], "owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "is_accepted": false, "score": 2, "last_activity_date": 1520495088, "last_edit_date": 1520495088, "creation_date": 1520444262, "answer_id": 49158071, "question_id": 48305871, "link": "https://stackoverflow.com/questions/48305871/generic-list-in-pagedlistadapter/49158071#49158071", "title": "Generic list in PagedListAdapter", "body": "<p>Ok so I had this same problem but couldn't find anything on it except this question, but after a while I figured it out and the way I did it was to define the generic in your own class and then pass it onto the <code>PagedListAdapter</code>, for example:</p>\n\n<p>You would initiate it like this:</p>\n\n<pre><code>var adapter: MAdapter&lt;GenericImplementation, MAdapter.ViewHolder&gt;\n</code></pre>\n\n<p>And then your adapter class would look like this:</p>\n\n<pre><code>class MAdapter&lt;T : GenericInterface, VH : RecyclerView.ViewHolder&gt; : PagedListAdapter&lt;T, VH&gt;(\n    object : DiffCallback&lt;T&gt;() {\n        override fun areItemsTheSame(oldItem: T, newItem: T): Boolean =\n                oldItem.id == newItem.id\n\n        override fun areContentsTheSame(oldItem: T, newItem: T): Boolean =\n                oldItem == newItem\n    }) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): VH = \n                MAdapter.ViewHolder(parent)\n\n    override fun onBindViewHolder(holder: VH, position: Int) {\n        holder.bindTo(getItem(position)!!)\n    }\n}\n</code></pre>\n\n<p>As you can see the <code>DiffCallback</code> has to be inline instead of the norm of putting it in the companion object.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4776675, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ziecM_pZtS8/AAAAAAAAAAI/AAAAAAAAALI/0rumfnt-NQo/photo.jpg?sz=128", "display_name": "Htet Will", "link": "https://stackoverflow.com/users/4776675/htet-will"}, "is_accepted": false, "score": 0, "last_activity_date": 1574423563, "creation_date": 1574423563, "answer_id": 58993734, "question_id": 48305871, "link": "https://stackoverflow.com/questions/48305871/generic-list-in-pagedlistadapter/58993734#58993734", "title": "Generic list in PagedListAdapter", "body": "<p>I also face same problem. While rewriting Java POJO into Data Classes, i face problem with restricted Inheritance on Kotlin Data Class to use in multiple Data Type for Single PageListAdapter with multiple ViewHolder. But after Kotlin version 1.1 , we can start implementing Interface as Inheritance. But using this pattern, we also have to need   explicit cast on Data Classes and ViewModel using keyword 'as'.Combine with @Anthony Cannon answer on Generic Class T, I can able to make it work. But I still don't know the reason why IDE show error on using Generic RecyclerView.ViewHolder and needed explicit cast. </p>\n\n<p>Below is my code. </p>\n\n<p>Empty Interface with nothing in it - Super \n interface Super \nData Class TypeA implementing Abstract</p>\n\n<pre><code>data class TypeA (val someValueA: someValueA): Super\n</code></pre>\n\n<p>Data Class TypeB implementing Abstract</p>\n\n<pre><code>    data class TypeB (val someValueB: someValueB): Super\n</code></pre>\n\n<p>PagedListAdapter for handling multiple Data Class and multiple ViewHolder </p>\n\n<pre><code>class CustomPagedListAdapterV2&lt;T : Super, VH : RecyclerView.ViewHolder&gt; internal constructor(private var controller: Controller) :\n    CustomPagedListAdapterV2&lt;T , VH&gt;(object : DiffUtil.ItemCallback&lt;T&gt;() {\n        override fun areItemsTheSame(oldItem: T, newItem: T): Boolean {\n            return false\n        }\n\n        override fun areContentsTheSame(oldItem: T, newItem: T): Boolean {\n            //            TODO :\n            return false\n        }\n    }) {     override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): VH {\n    val itemView = LayoutInflater.from(parent.context).inflate(R.layout.layout_adapter_type_a, parent, false) // return TypeBListViewHolder(itemView, controller) as VH //depend on your own implementation\n    return TypeAListViewHolder(itemView, controller) as VH\n}\noverride fun onBindViewHolder(holder: VH, position: Int) { // (holder as TypeAListViewHolder).bindModel(getItem(position) as TypeB) //depend on your own implementation \n    (holder as TypeAListViewHolder).bindModel(getItem(position) as TypeA)\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Initializing PagedListAdapter from Fragment/Activity 's ViewModel</p>\n\n<pre><code>    private lateinit var mAdapter: CustomPagedListAdapterV2&lt;Super, RecyclerView.ViewHolder&gt;\n    viewModel.liveData.observe(viewLifecycleOwner, Observer { t -&gt;\n        mAdapter.submitList(t as PagedList&lt;Super&gt;)\n\n    })\n</code></pre>\n\n<p>Description</p>\n"}, {"tags": [], "owner": {"reputation": 4263, "user_id": 4625990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L6QISW_BYLw/AAAAAAAAAAI/AAAAAAAABb0/br7i72LUF0Y/photo.jpg?sz=128", "display_name": "Koma Yip", "link": "https://stackoverflow.com/users/4625990/koma-yip"}, "is_accepted": false, "score": 0, "last_activity_date": 1599821287, "creation_date": 1599821287, "answer_id": 63845561, "question_id": 48305871, "link": "https://stackoverflow.com/questions/48305871/generic-list-in-pagedlistadapter/63845561#63845561", "title": "Generic list in PagedListAdapter", "body": "<pre><code>abstract class DiffUtilPagedListAdapter&lt;T : PagingComparable&lt;T&gt;, VH : BaseBindingViewHolder&lt;T&gt;&gt; :\nPagedListAdapter&lt;T, VH&gt;\n</code></pre>\n<p>The adapter class will accept a class which implements an interface: PagingComparable, the diff util method will be called inside the classes which implemented the interface.</p>\n<p>the adapter will be very short and pretty like below</p>\n<pre><code>class TransactionAdapter :\nDiffUtilPagedListAdapter&lt;Transaction, TransactionAdapter.TransactionViewHolder&gt;() {\n\nclass TransactionViewHolder(override val binding: ItemTransactionBinding) :\n    BaseBindingViewHolder&lt;Transaction&gt;(binding) {\n\n    override fun bind(data: Transaction) {\n        binding.transaction = data\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TransactionViewHolder {\n    return TransactionViewHolder(createBinding(R.layout.item_transaction, parent))\n}}\n</code></pre>\n<p>with the paging and MVVM and databinding, time saving!</p>\n<p>you can read more <a href=\"https://github.com/komayip/Android-Common-Lib/blob/develop/commonlib/src/main/java/com/komayip/commonlib/base/recyclerView/diffutil/paging/DiffUtilPagedListAdapter.kt\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1599821287, "creation_date": 1516206843, "last_edit_date": 1516207174, "question_id": 48305871, "link": "https://stackoverflow.com/questions/48305871/generic-list-in-pagedlistadapter", "title": "Generic list in PagedListAdapter", "body": "<p>I want to use generic class as items in <code>PagingList&lt;&gt;</code></p>\n\n<pre><code>interface GenericInterface{}\nclass GenericImplementation: GenericInterface{}\n</code></pre>\n\n<p>As Kotlin doc state: <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a> inheritance <strong>in list</strong> isn't possible, although I can declare generic type of Parameter of <strong><em>T</em></strong></p>\n\n<pre><code>public abstract class PagedListAdapter&lt;T, VH extends RecyclerView.ViewHolder&gt;\n</code></pre>\n\n<p>like </p>\n\n<pre><code>class MAdapter: PagedListAdapter&lt;GenericInterface, MAdapter.ViewHolder&gt;(DIFF_CALLBACK){...}\n</code></pre>\n\n<p>I cannot pass generic list to it </p>\n\n<pre><code>mAdapter.setList(listOfGenericImplementation)\n</code></pre>\n\n<p>because <code>out</code>, <code>in</code> modifiers are not accepted in Type projections</p>\n\n<pre><code>PagedListAdapter&lt;in/out GenericInterface, ..&gt;(..){...}\n</code></pre>\n\n<p>Is there any workaround for this?</p>\n"}, {"tags": ["kotlin", "double"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1516206770, "post_id": 48305766, "comment_id": 83596651, "body": "That number has a sextillion digits. Of course it&#39;s higher than the upper range of double."}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1516206822, "post_id": 48305766, "comment_id": 83596687, "body": "@Michael But the Math.pow() method will always return a double variable. Also, that method takes double variable as parameters. How can I solve this problem?"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1516207442, "post_id": 48305766, "comment_id": 83597057, "body": "Not even BigInteger will allow you to do <code>2^23283064365386962890625</code>. Basically you should just <i>very carefully</i> rethink whether this is even necessary. It&#39;s almost certainly not."}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1516209168, "post_id": 48305766, "comment_id": 83598183, "body": "The real question is : Why you have to deal with numbers of this size ? :o"}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "edited": false, "score": 0, "creation_date": 1516209203, "post_id": 48305766, "comment_id": 83598196, "body": "I am posting the actual question."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1516287940, "post_id": 48305766, "comment_id": 83633950, "body": "Why do you have to do &quot;the calculation of exponential&quot; at all? You can determine which number is higher without calculating the actual values. Are the actual values really part of the requirement?"}], "answers": [{"comments": [{"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1516273270, "post_id": 48316705, "comment_id": 83624706, "body": "You doesn&#39;t purpose an answer to Avijit&#39;s question. He doesn&#39;t have to know why double is not suitable for his use case. He search a solution to store his number who doesn&#39;t fit in a double (and a way to compute pow on it)."}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "edited": false, "score": 0, "creation_date": 1516288197, "post_id": 48316705, "comment_id": 83634128, "body": "Sorry for asking that type of question. I am new in Kotlin. I didnot get anything that shows that double can have a infinity"}, {"owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "edited": false, "score": 0, "creation_date": 1516288330, "post_id": 48316705, "comment_id": 83634233, "body": "Thanks to @Alexey. I am also thinking about logarithm. I have solved the problem using logarithm."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1516263772, "last_edit_date": 1592644375, "creation_date": 1516263772, "answer_id": 48316705, "question_id": 48305766, "link": "https://stackoverflow.com/questions/48305766/getting-value-of-a-double-variable-as-infinity/48316705#48316705", "title": "Getting Value of a Double Variable as Infinity", "body": "<p>Infinity is a legal value for <code>double</code> and what you'll get whenever your result sufficiently exceeds the maximum number representable as a <code>double</code> (~1.8*10^308). This isn't the only &quot;special&quot; value: there are also negative infinity, negative zero, NaN, subnormal numbers.</p>\n<p>There are many sources on how floating point numbers work, you can start here: <a href=\"http://floating-point-gui.de/\" rel=\"nofollow noreferrer\">http://floating-point-gui.de/</a></p>\n<blockquote>\n<p>I have to run the above code and need the value of num variable. How can I solve it?</p>\n</blockquote>\n<p>When you run this code, the value of <code>num</code> <em>is</em> infinity. There's nothing to solve there.</p>\n<blockquote>\n<p>Actually, I have to compare two numbers after the calculation of exponential programmatically to determine which one is higher?</p>\n<p>Like: (2^(5^(2^5))) or (5^(2^(5^2))). So, which one is higher?</p>\n</blockquote>\n<p>You can't use <code>double</code> for that if the numbers are too large, period. Try calculating and comparing their logarithms or logarithms of logarithms.</p>\n"}], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "accepted_answer_id": 48316705, "answer_count": 1, "score": 1, "last_activity_date": 1516263772, "creation_date": 1516206540, "last_edit_date": 1516210092, "question_id": 48305766, "link": "https://stackoverflow.com/questions/48305766/getting-value-of-a-double-variable-as-infinity", "title": "Getting Value of a Double Variable as Infinity", "body": "<p><strong>Code:</strong></p>\n\n<pre><code>var num = Math.pow(2.0, 5.0)\nnum = Math.pow(5.0, num)\nnum = Math.pow(2.0, num)\nprint(num)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Infinity\n</code></pre>\n\n<p>When I run the above code I am getting the value as Infinity. I can't understand what's happening. Is it crossing the limit of the <strong>double</strong> variable? Also, <code>Math.pow()</code> method will always return a <strong>double</strong>. </p>\n\n<p>I have to run the above code and need the value of <strong>num</strong> variable. How can I solve it?</p>\n\n<p>Actually, I have to compare two numbers after the calculation of exponential programmatically to determine which one is higher?</p>\n\n<p>Like: (2^(5^(2^5))) or (5^(2^(5^2))). So, which one is higher?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1516207517, "post_id": 48305360, "comment_id": 83597108, "body": "your activity should have a frame layout with id <code>first_activity</code>"}], "answers": [{"comments": [{"owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516205956, "post_id": 48305515, "comment_id": 83596137, "body": "it give an error of Error:(14, 1) Class &#39;MainActivity&#39; is not abstract and does not implement abstract member public abstract fun onFragmentInteraction(uri: Uri): Unit defined in com.a3.aakap.ftrial.FirstFragment.OnFragmentInteractionListe&zwnj;&#8203;ner"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206041, "post_id": 48305515, "comment_id": 83596184, "body": "@ApurvAjayKumarA2K yeah, as i said <code>override methods</code> use android stuido help, either <code>alt+enter</code> or click on that bulb icon and apply <code>override method</code> option"}, {"owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206211, "post_id": 48305515, "comment_id": 83596280, "body": "Can you tell me in Detail, Thank you"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206303, "post_id": 48305515, "comment_id": 83596341, "body": "@ApurvAjayKumarA2K then you have to post the code of <code>FirstFragment</code>"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206804, "post_id": 48305515, "comment_id": 83596677, "body": "@ApurvAjayKumarA2K try updated code, add that method in <code>MainActivity</code>"}, {"owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206858, "post_id": 48305515, "comment_id": 83596710, "body": "I have tried to do this but it still crashes with this No view found for id 0x7f080048 (com.a3.aakap.ftrial:id/first_activity) for fragment FirstFragment{184b0bb #0 id=0x7f080048 FragmentOne"}, {"owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516206974, "post_id": 48305515, "comment_id": 83596785, "body": "Hey did you check my Fragment file"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516207264, "post_id": 48305515, "comment_id": 83596967, "body": "@ApurvAjayKumarA2K that&#39;s some other issue , you have to post xml files and complete error details in your post, make sure the layout and Ids of views are correct"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516207358, "post_id": 48305515, "comment_id": 83597011, "body": "@ApurvAjayKumarA2K you sure that <code>R.id.first_activity</code> is frame layout"}, {"owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "edited": false, "score": 0, "creation_date": 1516207818, "post_id": 48305515, "comment_id": 83597307, "body": "Thank you for help , i fixed it there is problem with id"}, {"owner": {"reputation": 1284, "user_id": 1628387, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/c482161f077c79df5e62590110b465e9?s=128&d=identicon&r=PG", "display_name": "Alex C", "link": "https://stackoverflow.com/users/1628387/alex-c"}, "edited": false, "score": 0, "creation_date": 1560279447, "post_id": 48305515, "comment_id": 99682060, "body": "What&#39;s FirstFragment ?"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 1284, "user_id": 1628387, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/c482161f077c79df5e62590110b465e9?s=128&d=identicon&r=PG", "display_name": "Alex C", "link": "https://stackoverflow.com/users/1628387/alex-c"}, "edited": false, "score": 0, "creation_date": 1560883396, "post_id": 48305515, "comment_id": 99880400, "body": "@AlexC FirstFragment is a class which extends the &#39;Fragment&#39; class and has it&#39;s own interface declared for communication &#39;OnHeadlineSelectedListener&#39; in <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">this example</a>"}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 6, "last_activity_date": 1516206708, "last_edit_date": 1516206708, "creation_date": 1516205724, "answer_id": 48305515, "question_id": 48305360, "link": "https://stackoverflow.com/questions/48305360/how-to-add-onfragmentinteractionlistener-in-navigation-drawer-activity-in-kotlin/48305515#48305515", "title": "How to add OnFragmentInteractionListener in Navigation Drawer Activity in Kotlin?", "body": "<p>Apparently, You are trying to implement communication mechanism between fragment and activity via <code>OnFragmentInteractionListener</code> interface so use</p>\n\n<pre><code>class MainActivity : AppCompatActivity(),\n       FirstFragment.OnFragmentInteractionListener,\n       NavigationView.OnNavigationItemSelectedListener {\n     // .. other code\n\n     override fun onFragmentInteraction(uri: Uri) {\n      // TODO Implement\n     }\n\n\n}\n</code></pre>\n\n<p>and override methods</p>\n"}], "owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2900, "favorite_count": 1, "accepted_answer_id": 48305515, "answer_count": 1, "score": 5, "last_activity_date": 1516207399, "creation_date": 1516205251, "last_edit_date": 1516207399, "question_id": 48305360, "link": "https://stackoverflow.com/questions/48305360/how-to-add-onfragmentinteractionlistener-in-navigation-drawer-activity-in-kotlin", "title": "How to add OnFragmentInteractionListener in Navigation Drawer Activity in Kotlin?", "body": "<p>I am trying to make a app which use Navigation Drawer Activity But i need to use Fragments When i am add fragment, and tried to switch between fragments it crashes  I don't why it crashes transaction it throw an error :</p>\n\n<pre><code> Process: com.a3.aakap.ftrial, PID: 6958\n                                                               java.lang.RuntimeException: Unable to start activity ComponentInfo{com.a3.aakap.ftrial/com.a3.aakap.ftrial.MainActivity}: java.lang.RuntimeException: com.a3.aakap.ftrial.MainActivity@9483ac4 must implement OnFragmentInteractionListener\n</code></pre>\n\n<p>And I can''t fix it as i am new in this Here is my MainAcivity.kt File :</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n\n    fab.setOnClickListener { view -&gt;\n        Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG).setAction(\"Action\", null).show()\n    }\n\n    val toggle = ActionBarDrawerToggle(this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n    drawer_layout.addDrawerListener(toggle)\n    toggle.syncState()\n\n    nav_view.setNavigationItemSelectedListener(this)\n\n    title = \"Fragment One\"\n    val fragment = FirstFragment()\n    val fragmentTransaction = supportFragmentManager.beginTransaction()\n    fragmentTransaction.replace(R.id.first_activity, fragment, \"FragmentOne\")  //create first framelayout with id fram in the activity where fragments will be displayed\n    fragmentTransaction.commit()\n}\n\noverride fun onBackPressed() {\n    if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n        drawer_layout.closeDrawer(GravityCompat.START)\n    } else {\n        super.onBackPressed()\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    menuInflater.inflate(R.menu.main, menu)\n    return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    when (item.itemId) {\n        R.id.action_settings -&gt; return true\n        else -&gt; return super.onOptionsItemSelected(item)\n    }\n}\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n    // Handle navigation view item clicks here.\n    when (item.itemId) {\n        R.id.first_activity -&gt; {\n            title = \"Fragment One\"\n            val fragment = FirstFragment()\n            val fragmentTransaction = supportFragmentManager.beginTransaction()\n            fragmentTransaction.replace(R.id.first_activity, fragment, \"FragmentOne\")  //create first framelayout with id fram in the activity where fragments will be displayed\n            fragmentTransaction.commit() // Handle the camera action\n        }\n        R.id.second_activity -&gt; {\n            title = \"Fragment Second\"\n            val fragment = FirstFragment()\n            val fragmentTransaction = supportFragmentManager.beginTransaction()\n            fragmentTransaction.replace(R.id.second_activity, fragment, \"FragmentOne\")  //create first framelayout with id fram in the activity where fragments will be displayed\n            fragmentTransaction.commit()\n        }\n\n        R.id.nav_share -&gt; {\n\n        }\n        R.id.nav_exit -&gt; {\n            System.exit(0)\n        }\n    }\n\n    drawer_layout.closeDrawer(GravityCompat.START)\n    return true\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Please Help me , I have tried to fix it but i can't please Help me </p>\n\n<p>Here is my first fragment code :</p>\n\n<pre><code>package com.a3.aakap.ftrial\n\nimport android.content.Context\nimport android.net.Uri\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n</code></pre>\n\n<p>/**\n * A simple [Fragment] subclass.\n * Activities that contain this fragment must implement the\n * [FirstFragment.OnFragmentInteractionListener] interface\n * to handle interaction events.\n * Use the [FirstFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FirstFragment : Fragment() {</p>\n\n<pre><code>// TODO: Rename and change types of parameters\nprivate var mParam1: String? = null\nprivate var mParam2: String? = null\n\nprivate var mListener: OnFragmentInteractionListener? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    if (arguments != null) {\n        mParam1 = arguments.getString(ARG_PARAM1)\n        mParam2 = arguments.getString(ARG_PARAM2)\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater!!.inflate(R.layout.fragment_first, container, false)\n}\n\n// TODO: Rename method, update argument and hook method into UI event\nfun onButtonPressed(uri: Uri) {\n    if (mListener != null) {\n        mListener!!.onFragmentInteraction(uri)\n    }\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    if (context is OnFragmentInteractionListener) {\n        mListener = context\n    } else {\n        throw RuntimeException(context!!.toString() + \" must implement OnFragmentInteractionListener\")\n    }\n}\n\noverride fun onDetach() {\n    super.onDetach()\n    mListener = null\n}\n\n/**\n * This interface must be implemented by activities that contain this\n * fragment to allow an interaction in this fragment to be communicated\n * to the activity and potentially other fragments contained in that\n * activity.\n *\n *\n * See the Android Training lesson [Communicating with Other Fragments](http://developer.android.com/training/basics/fragments/communicating.html) for more information.\n */\ninterface OnFragmentInteractionListener {\n    // TODO: Update argument type and name\n    fun onFragmentInteraction(uri: Uri)\n}\n\ncompanion object {\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private val ARG_PARAM1 = \"param1\"\n    private val ARG_PARAM2 = \"param2\"\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment FirstFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    fun newInstance(param1: String, param2: String): FirstFragment {\n        val fragment = FirstFragment()\n        val args = Bundle()\n        args.putString(ARG_PARAM1, param1)\n        args.putString(ARG_PARAM2, param2)\n        fragment.arguments = args\n        return fragment\n    }\n}\n</code></pre>\n\n<p>}// Required empty public con</p>\n\n<p>Here is my Fragement xml :</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.a3.aakap.ftrial.FirstFragment\"&gt;\n\n&lt;!-- TODO: Update blank fragment layout --&gt;\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:text=\"@string/hello_blank_fragment\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1516204281, "post_id": 48304923, "comment_id": 83595021, "body": "On the java side there is the fixed sized array: <code>int[]</code> (with the primitive type <code>int</code>) and dynamically sized <code>ArrayList&lt;Integer&gt;</code> (with the int wrapper Integer)."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1516204654, "post_id": 48304923, "comment_id": 83595280, "body": "This question basically duplicates two other questions: (1) <a href=\"https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin\">Difference between List and Array types in Kotlin</a> and (2) <a href=\"https://stackoverflow.com/questions/45090808/intarray-vs-arrayint-in-kotlin\">IntArray vs Array&lt;Int&gt; in Kotlin</a>"}, {"owner": {"reputation": 497, "user_id": 4652307, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/2bad08d616c0b8b70938526f5e4c47fe?s=128&d=identicon&r=PG&f=1", "display_name": "Wee Hong", "link": "https://stackoverflow.com/users/4652307/wee-hong"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1516205360, "post_id": 48304923, "comment_id": 83595784, "body": "@hotkey alright. thank you for pointing it out."}], "answers": [{"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1516204429, "creation_date": 1516204429, "answer_id": 48305068, "question_id": 48304923, "link": "https://stackoverflow.com/questions/48304923/different-between-arraylist-intarray-and-arrayint/48305068#48305068", "title": "Different Between ArrayList, IntArray and Array&lt;Int&gt;", "body": "<p>Major differences</p>\n\n<p><code>ArrayList</code> : resizable, Generic (Objects)</p>\n\n<p><code>IntArray</code> : primitive, fix length, only Int values</p>\n\n<p><code>Array&lt;Int&gt;</code> : Generic (Objects), fix length</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1516204513, "creation_date": 1516204513, "answer_id": 48305095, "question_id": 48304923, "link": "https://stackoverflow.com/questions/48304923/different-between-arraylist-intarray-and-arrayint/48305095#48305095", "title": "Different Between ArrayList, IntArray and Array&lt;Int&gt;", "body": "<p>This will partially answer your question: <a href=\"https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin\"><strong>Difference between List and Array types in Kotlin</strong></a></p>\n\n<p>Besides, the difference between <code>IntArray</code> and <code>Array&lt;Int&gt;</code> is the same as between Java <code>int[]</code> and <code>Integer[]</code>: the former stores primitive integers without wrapping them while the latter <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">boxes them into <code>java.lang.Integer</code></a> objects. Consider <code>IntArray</code> an optimized form of <code>Array&lt;Int&gt;</code> that does not introduce memory and boxing-unboxing overheads.</p>\n"}, {"tags": [], "owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "is_accepted": false, "score": 2, "last_activity_date": 1516204881, "last_edit_date": 1516204881, "creation_date": 1516204531, "answer_id": 48305110, "question_id": 48304923, "link": "https://stackoverflow.com/questions/48304923/different-between-arraylist-intarray-and-arrayint/48305110#48305110", "title": "Different Between ArrayList, IntArray and Array&lt;Int&gt;", "body": "<p>I see multiples questions inside of your question and i gonna attempt to help you.</p>\n\n<h2>First question: What is the difference between <code>ArrayList</code> and <code>List</code>:</h2>\n\n<ul>\n<li><code>Array</code> is static in size, <code>ArrayList</code> is autoresizable.</li>\n<li><code>ArrayList</code> can not contains primitive types <em>(like <code>int</code>, <code>char</code>, ...)</em>, <code>List</code> can.</li>\n</ul>\n\n<h2>Second question: What is the difference between <code>Array&lt;Int&gt;</code> and <code>IntArray</code></h2>\n\n<p>Check this question who respond to this question:  <a href=\"https://stackoverflow.com/questions/45090808/intarray-vs-arrayint-in-kotlin\">IntArray vs Array&lt;Int&gt; in Kotlin</a></p>\n\n<p>but in summary: </p>\n\n<pre><code>Array&lt;Int&gt; == Integer[] \nIntArray == int[]\n</code></pre>\n\n<p>That's it !</p>\n"}], "owner": {"reputation": 497, "user_id": 4652307, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/2bad08d616c0b8b70938526f5e4c47fe?s=128&d=identicon&r=PG&f=1", "display_name": "Wee Hong", "link": "https://stackoverflow.com/users/4652307/wee-hong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 1, "closed_date": 1516204595, "answer_count": 3, "score": 1, "last_activity_date": 1516204881, "creation_date": 1516203976, "question_id": 48304923, "link": "https://stackoverflow.com/questions/48304923/different-between-arraylist-intarray-and-arrayint", "closed_reason": "Duplicate", "title": "Different Between ArrayList, IntArray and Array&lt;Int&gt;", "body": "<p>I am new in Java and Kotlin.</p>\n\n<p>Recently when I read a tutorial while learning Kotlin.</p>\n\n<p>I found there are some <code>Array/List</code> confusing me.</p>\n\n<ol>\n<li>What is the different between <code>ArrayList</code>, <code>IntArray</code> and <code>Array&lt;Int&gt;</code>?</li>\n<li>When should I use them?</li>\n</ol>\n"}, {"tags": ["java", "android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1516199968, "post_id": 48303585, "comment_id": 83591988, "body": "what are the types of modules(lib or app) ... also why are you using <code>implementation</code> instead <code>api</code> if module type is lib?"}], "answers": [{"tags": [], "owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "is_accepted": false, "score": 2, "last_activity_date": 1516199951, "creation_date": 1516199951, "answer_id": 48303664, "question_id": 48303585, "link": "https://stackoverflow.com/questions/48303585/refer-class-from-module-a-to-module-c-through-module-b-gradle/48303664#48303664", "title": "Refer class from Module A to Module C through Module B gradle", "body": "<p>As you have <strong>moduleC</strong> as a dependency in <strong>moduleB</strong>, it should be available in <strong>moduleA</strong> as this a <strong>transitive</strong> dependency</p>\n\n<p>Make sure you have <strong>transitive</strong> set to <strong>true</strong> while adding <strong>moduleB</strong>\nin <strong>moduleA</strong></p>\n"}, {"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 2, "last_activity_date": 1516203888, "creation_date": 1516203888, "answer_id": 48304898, "question_id": 48303585, "link": "https://stackoverflow.com/questions/48303585/refer-class-from-module-a-to-module-c-through-module-b-gradle/48304898#48304898", "title": "Refer class from Module A to Module C through Module B gradle", "body": "<p>The new <code>implementation</code> mechanics of importing dependencies hides dependencies 'downstream'. So if A depends on B and B depends on C, A <strong>cannot</strong> access C by default.<br>\nThis was not the case with the old <code>compile</code> keyword, which has a successor in the <code>api</code> keyword, which probably is what you want. \n<a href=\"https://medium.com/mindorks/implementation-vs-api-in-gradle-3-0-494c817a6fa\" rel=\"nofollow noreferrer\">This</a> and <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html\" rel=\"nofollow noreferrer\">this</a> should clear things up. </p>\n"}], "owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 48304898, "answer_count": 2, "score": 2, "last_activity_date": 1516203888, "creation_date": 1516199653, "question_id": 48303585, "link": "https://stackoverflow.com/questions/48303585/refer-class-from-module-a-to-module-c-through-module-b-gradle", "title": "Refer class from Module A to Module C through Module B gradle", "body": "<p>How can I refer my code from another module? I have a <strong>Module A</strong> which implements <strong>Module B</strong>. <strong>Module B</strong> implements <strong>Module C</strong> which contains classes that i need to access in <strong>Module A</strong>.</p>\n\n<p><strong>Module A</strong> contains class <strong>Foo</strong> {} and implements:</p>\n\n<pre><code> dependencies {\n    implementation project(\":moduleB\")\n}\n</code></pre>\n\n<p><strong>Module B</strong> implements:</p>\n\n<pre><code>dependencies {\n    implementation project(\":moduleC\")\n}\n</code></pre>\n\n<p>Module C contains Class <strong>Bar</strong> {}</p>\n\n<p>I can easily access classes which are located in module BHow can i access class <strong>Bar</strong> {} (module C) from class <strong>Foo</strong> {} (module A)? Is there any way to achive this event in gradle?</p>\n"}, {"tags": ["postgresql", "jpa", "spring-boot", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 7365, "user_id": 4365460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZoU3u.jpg?s=128&g=1", "display_name": "Roland Weisleder", "link": "https://stackoverflow.com/users/4365460/roland-weisleder"}, "edited": false, "score": 0, "creation_date": 1516192538, "post_id": 48301065, "comment_id": 83587052, "body": "Can you please add the complete exception? The validation errors should appear in a &quot;Caused by&quot;."}, {"owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "reply_to_user": {"reputation": 7365, "user_id": 4365460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZoU3u.jpg?s=128&g=1", "display_name": "Roland Weisleder", "link": "https://stackoverflow.com/users/4365460/roland-weisleder"}, "edited": false, "score": 0, "creation_date": 1516192825, "post_id": 48301065, "comment_id": 83587238, "body": "@RolandWeisleder I updated the question."}, {"owner": {"reputation": 33963, "user_id": 1915448, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/51afb9344f8a44e60916753d37186513?s=128&d=identicon&r=PG", "display_name": "g00glen00b", "link": "https://stackoverflow.com/users/1915448/g00glen00b"}, "edited": false, "score": 1, "creation_date": 1516193560, "post_id": 48301065, "comment_id": 83587697, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42739566/how-to-use-jpa-query-to-insert-data-into-db\">How to use JPA Query to insert data into db?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7365, "user_id": 4365460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZoU3u.jpg?s=128&g=1", "display_name": "Roland Weisleder", "link": "https://stackoverflow.com/users/4365460/roland-weisleder"}, "is_accepted": false, "score": 2, "last_activity_date": 1516193400, "creation_date": 1516193400, "answer_id": 48301600, "question_id": 48301065, "link": "https://stackoverflow.com/questions/48301065/validation-failed-for-query-jparepository/48301600#48301600", "title": "Validation failed for query: JpaRepository", "body": "<p>According to <a href=\"https://stackoverflow.com/a/3085782/4365460\">JPA insert statement</a> there is no INSERT in JPA, only native queries are supported. So you should define</p>\n\n<pre><code>@Query(value = \"INSERT INTO ...\", nativeQuery = true)\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516193461, "creation_date": 1516191756, "last_edit_date": 1516193461, "question_id": 48301065, "link": "https://stackoverflow.com/questions/48301065/validation-failed-for-query-jparepository", "title": "Validation failed for query: JpaRepository", "body": "<p>I'm trying to create and a JPaRepository with the below code with a select query and insert query,</p>\n\n<p>Code for repository:</p>\n\n<pre><code>@Repository\n@Transactional\ninterface ThirdPartyDevicesRepository : JpaRepository&lt;ThirdPartyDevicesEntity, String&gt; {\n\n    @Query(\"select u from ThirdPartyDevicesEntity u where u.userId = :userId\")\n    @Nullable\n    fun findDevicebyUserId(@Param(\"userId\") userId: String): ThirdPartyDevicesEntity\n\n    @Query(\"insert into ThirdPartyDevicesEntity (userId, deviceManufacturer, externalUserId, accessToken, refreshToken, tokenExpire, tokenUpdated, createdAt, updatedAt) values (:userId, :deviceManufacturer, :externalUserId, :accessToken, :refreshToken, :tokenExpire, :tokenUpdated, :createdAt, :updatedAt)\")\n    fun insertThirdPartyDevice(@Param(\"userId\")  userId: String,\n                               @Param(\"deviceManufacturer\")  deviceManufacturer: String,\n                               @Param(\"externalUserId\")  externalUserId: String,\n                               @Param(\"accessToken\")  accessToken: String,\n                               @Param(\"refreshToken\")  refreshToken: String,\n                               @Param(\"tokenExpire\")  tokenExpire: Int,\n                               @Param(\"tokenUpdated\")  tokenUpdated: LocalDateTime,\n                               @Param(\"createdAt\")  createdAt: LocalDateTime,\n                               @Param(\"updatedAt\")  updatedAt: LocalDateTime?)\n\n}\n</code></pre>\n\n<p>Code for entity: </p>\n\n<pre><code>@Entity\n@Table(name = \"third_party_devices\")\ndata class ThirdPartyDevicesEntity(\n        @Id\n        val userId: String,\n        val deviceManufacturer: String,\n        val externalUserId: String,\n        val accessToken: String,\n        val refreshToken: String,\n        val tokenExpire: Int,\n        val tokenUpdated: LocalDateTime = LocalDateTime.now(),\n        val createdAt: LocalDateTime = LocalDateTime.now(),\n        @Column(nullable = true)\n        val updatedAt: LocalDateTime? = null) {\n\n    private constructor() : this(\n            userId = \"\",\n            deviceManufacturer = \"\",\n            externalUserId = \"\",\n            accessToken = \"\",\n            refreshToken = \"\",\n            tokenExpire = 0\n    )\n\n}\n</code></pre>\n\n<p>But the following error keeps coming with the insert query,</p>\n\n<pre><code>2018:01:17 18:05:29:559 ERROR main o.h.h.i.a.ErrorCounter  line 1:158: unexpected token: values \n2018:01:17 18:05:29:562 ERROR main o.h.h.i.a.ErrorCounter  line 1:158: unexpected token: values \nantlr.NoViableAltException: unexpected token: values\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1055)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:748)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:319)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.insertStatement(HqlBaseParser.java:351)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:204)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n    at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\n    at com.sun.proxy.$Proxy87.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:213)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$null$0(RepositoryFactorySupport.java:525)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$2(RepositoryFactorySupport.java:527)\n    at java.util.Optional.map(Optional.java:215)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:518)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:315)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$3(RepositoryFactoryBeanSupport.java:287)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:141)\n    at org.springframework.data.util.Lazy.get(Lazy.java:63)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:290)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:102)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1763)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1700)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:740)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:49)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233)\n    at hms.research.wellness.boot.WellnessApplicationKt.main(WellnessApplication.kt:25)\n2018:01:17 18:05:29:563 ERROR main o.h.h.i.a.ErrorCounter  line 1:293: expecting EOF, found ')' \n2018:01:17 18:05:29:563 ERROR main o.h.h.i.a.ErrorCounter  line 1:293: expecting EOF, found ')' \nantlr.MismatchedTokenException: expecting EOF, found ')'\n    at antlr.Parser.match(Parser.java:211)\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:215)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:284)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n    at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\n    at com.sun.proxy.$Proxy87.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:213)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$null$0(RepositoryFactorySupport.java:525)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$2(RepositoryFactorySupport.java:527)\n    at java.util.Optional.map(Optional.java:215)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:518)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:315)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$3(RepositoryFactoryBeanSupport.java:287)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:141)\n    at org.springframework.data.util.Lazy.get(Lazy.java:63)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:290)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:102)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1763)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1700)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:740)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:49)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233)\n    at hms.research.wellness.boot.WellnessApplicationKt.main(WellnessApplication.kt:25)\n2018:01:17 18:05:29:592 ERROR main o.s.b.SpringApplication  Application startup failed \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'thirdPartyDevicesRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract void hms.research.wellness.repo.repository.ThirdPartyDevicesRepository.insertThirdPartyDevice(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,int,java.time.LocalDateTime,java.time.LocalDateTime,java.time.LocalDateTime)!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:740)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:49)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233)\n    at hms.research.wellness.boot.WellnessApplicationKt.main(WellnessApplication.kt:25)\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract void hms.research.wellness.repo.repository.ThirdPartyDevicesRepository.insertThirdPartyDevice(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,int,java.time.LocalDateTime,java.time.LocalDateTime,java.time.LocalDateTime)!\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:213)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$null$0(RepositoryFactorySupport.java:525)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$2(RepositoryFactorySupport.java:527)\n    at java.util.Optional.map(Optional.java:215)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:518)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:315)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$3(RepositoryFactoryBeanSupport.java:287)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:141)\n    at org.springframework.data.util.Lazy.get(Lazy.java:63)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:290)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:102)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1763)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1700)\n    ... 16 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 158 [insert into ThirdPartyDevicesEntity (userId, deviceManufacturer, externalUserId, accessToken, refreshToken, tokenExpire, tokenUpdated, createdAt, updatedAt) values (:userId, :deviceManufacturer, :externalUserId, :accessToken, :refreshToken, :tokenExpire, :tokenUpdated, :createdAt, :updatedAt)]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:133)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:164)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:670)\n    at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)\n    at com.sun.proxy.$Proxy87.createQuery(Unknown Source)\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)\n    ... 43 common frames omitted\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 158 [insert into ThirdPartyDevicesEntity (userId, deviceManufacturer, externalUserId, accessToken, refreshToken, tokenExpire, tokenUpdated, createdAt, updatedAt) values (:userId, :deviceManufacturer, :externalUserId, :accessToken, :refreshToken, :tokenExpire, :tokenUpdated, :createdAt, :updatedAt)]\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)\n    at org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:91)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:291)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n    ... 51 common frames omitted\n</code></pre>\n\n<p>The select query alone works fine but when I add the insert query the errors comes up. I can't figure out where the problem is.</p>\n"}, {"tags": ["ssl", "kotlin", "corda"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1516202761, "post_id": 48299099, "comment_id": 83593955, "body": "What indicated to you that the node were communicating using TLS 1?"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 9087896, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-_MRgpdn-b7M/AAAAAAAAAAI/AAAAAAAAAL8/3DK8zyz6sRs/photo.jpg?sz=128", "display_name": "Javier Garcia Lozano", "link": "https://stackoverflow.com/users/9087896/javier-garcia-lozano"}, "edited": false, "score": 0, "creation_date": 1517237793, "post_id": 48398091, "comment_id": 84001844, "body": "Hi, thanks you are rigth but our problem is TLS v1 is enable in the system. If I run &quot;openssl s_client -connect IP:port -tls1&quot; I get a sucessfully respond. Is there a way to disable TLS v1 in corda? Thanks!!"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516699269, "creation_date": 1516699269, "answer_id": 48398091, "question_id": 48299099, "link": "https://stackoverflow.com/questions/48299099/use-of-tls-v1-for-artemistcptransport/48398091#48398091", "title": "Use of TLS v1 for ArtemisTcpTransport", "body": "<p>Corda nodes do communicate using TLS 1.2. See <a href=\"https://docs.corda.net/permissioning.html#keypair-and-certificate-formats\" rel=\"nofollow noreferrer\">https://docs.corda.net/permissioning.html#keypair-and-certificate-formats</a>.</p>\n"}], "owner": {"reputation": 97, "user_id": 9087896, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-_MRgpdn-b7M/AAAAAAAAAAI/AAAAAAAAAL8/3DK8zyz6sRs/photo.jpg?sz=128", "display_name": "Javier Garcia Lozano", "link": "https://stackoverflow.com/users/9087896/javier-garcia-lozano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516699269, "creation_date": 1516185606, "last_edit_date": 1516185792, "question_id": 48299099, "link": "https://stackoverflow.com/questions/48299099/use-of-tls-v1-for-artemistcptransport", "title": "Use of TLS v1 for ArtemisTcpTransport", "body": "<p>we have realized our communications between nodes are using TLSv1. However checking ArtemisTcpTransport.kt class it looks like only v1.2 is supported:</p>\n\n<pre><code>val TLS_VERSIONS = listOf(\"TLSv1.2\")\n</code></pre>\n\n<p>I would like to use v1.2 in our communications. Is that possible ? </p>\n"}, {"tags": ["android", "json", "list", "kotlin"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 2, "creation_date": 1516185276, "post_id": 48298938, "comment_id": 83582341, "body": "use <code>gson</code> library (or something similar)"}, {"owner": {"reputation": 309, "user_id": 9140698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sv6s.jpg?s=128&g=1", "display_name": "chandani c patel", "link": "https://stackoverflow.com/users/9140698/chandani-c-patel"}, "edited": false, "score": 0, "creation_date": 1516185354, "post_id": 48298938, "comment_id": 83582394, "body": "use retrofit library for that"}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1516185534, "post_id": 48298938, "comment_id": 83582516, "body": "welcome to kotlin and firebase realtime database ( i pressume ).  your problem is your json does not contain any array/list/collection. you were given an object with indexed attributes, and that&#39;s quite different. You must transform first your JSONObject to a JSONArray.  like here: <a href=\"https://stackoverflow.com/questions/22687771/how-to-convert-jsonobjects-to-jsonarray\" title=\"how to convert jsonobjects to jsonarray\">stackoverflow.com/questions/22687771/&hellip;</a> , or finding a way through retrofit, as others say."}, {"owner": {"reputation": 201, "user_id": 5991631, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24679fdd3a8aba05cf6ca9434f2f0a05?s=128&d=identicon&r=PG&f=1", "display_name": "msdev16", "link": "https://stackoverflow.com/users/5991631/msdev16"}, "edited": false, "score": 0, "creation_date": 1516185854, "post_id": 48298938, "comment_id": 83582730, "body": "check this : it uses gson lib <a href=\"https://stackoverflow.com/a/45605731/5991631\">stackoverflow.com/a/45605731/5991631</a>"}, {"owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "edited": false, "score": 0, "creation_date": 1516279410, "post_id": 48298938, "comment_id": 83628428, "body": "Here is how to parse this JSON with Klaxon:  <a href=\"https://pastebin.com/VFCzziHi\" rel=\"nofollow noreferrer\">pastebin.com/VFCzziHi</a>"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1516373653, "post_id": 48298938, "comment_id": 83673025, "body": "Problem solved, read the edit ! Thanks for helping me guys !"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "closed_date": 1516259112, "answer_count": 0, "score": 0, "last_activity_date": 1516373594, "creation_date": 1516185176, "last_edit_date": 1516373594, "question_id": 48298938, "link": "https://stackoverflow.com/questions/48298938/how-to-parse-json-indexed-dictionnary-in-kotlin", "closed_reason": "Duplicate", "title": "How to parse JSON indexed dictionnary in Kotlin", "body": "<p>I am trying to parse JSON with Kotlin.\nAs I am a beginner in Kotlin, this is still a little bit difficult.</p>\n\n<p>Here is my Json example :</p>\n\n<pre><code>\"orders\": {\n  \"id\" = 1;\n  \"base_order\": {\n    \"id\" = 1;\n    \"price\" = 10;\n  }\n  \"picks\": {\n    \"0\": {\n      \"name\": \"Omelette du fromage\"\n    }\n    \"1\": {\n      \"name\": \"Baguette\"\n    }\n  }\n}\n</code></pre>\n\n<p>So here is how I am trying to parse that :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Parcel\r\nclass Orders {\r\n  var id = 0L\r\n  var baseOrder = BaseOrder()\r\n  var picks = ArrayList&lt;Picks&gt;()\r\n  \r\n  fun loadFromJson(json: JsonObject) {\r\n    id = readLong(json, TAG_ID)\r\n    json.get(TAG_BASE_ORDER)?.let {\r\n      if (it.isJsonObject)\r\n        baseOrder.loadFromJson(it.asJsonObject)\r\n    }\r\n  }\r\n  \r\n  companion object {\r\n    private const val TAG_ID = \"id\"\r\n    private const val TAG_BASE_ORDER = \"base_order\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is my BaseOrder class :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Parcel\r\nclass BaseOrder {\r\n  var id = 0L\r\n  var price = 0f\r\n  \r\n  fun loadFromJson(json: JsonObject) {\r\n    id = readLong(json, TAG_ID)\r\n    price = readFloat(json, TAG_PRICE)\r\n  }\r\n  \r\n  companion object {\r\n    private const val TAG_ID = \"id\"\r\n    private const val TAG_PRICE = \"price\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And finally my Picks class :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Parcel\r\nclass Picks {\r\n  var name = \"\"\r\n  \r\n  fun loadFromJson(json: JsonObject) {\r\n    name = readString(json, TAG_NAME)\r\n  }\r\n  \r\n  companion object {\r\n    private const val TAG_NAME = \"name\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to parse my \"picks\" list, ideally in my ArrayList of Picks() but I have no idea how to loop to parse that kind of list with \"0\", \"1\", \"2\"... index keys.</p>\n\n<p>If you think I did not search enough, please give me at least the name of this kind of json list, so I can do better searches.</p>\n\n<p>========================</p>\n\n<p>EDIT :</p>\n\n<p>I finally found out how to do it !\nHere is my code :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Parcel\r\nclass Orders {\r\n  var id = 0L\r\n  var baseOrder = BaseOrder()\r\n  var picks = ArrayList&lt;Picks&gt;()\r\n  var pickItem = Picks() // This is a buffer\r\n  \r\n  fun loadFromJson(json: JsonObject) {\r\n    id = readLong(json, TAG_ID)\r\n    json.get(TAG_BASE_ORDER)?.let {\r\n      if (it.isJsonObject)\r\n        baseOrder.loadFromJson(it.asJsonObject)\r\n    }\r\n    // Here I am going to start parsing it :\r\n    json.get(TAG_PICKS)?.let {\r\n      if (it.isJsonObject)\r\n        it.asJsonObject.entrySet().forEach() {\r\n          it.value.let {\r\n            if (it.isJsonObject)\r\n              pickItem.loadFromJson(it.asJsonObject)//I parse the json item in the buffer\r\n              picks.add(pickItem) // I add the buffer into the array at the right place\r\n              pickItem = Picks()  // I re-init the buffer for next loops\r\n          }\r\n        }\r\n    }\r\n  }\r\n  \r\n  companion object {\r\n    private const val TAG_ID = \"id\"\r\n    private const val TAG_BASE_ORDER = \"base_order\"\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It is a little bit dirty, as I am using a buffer and I think I could do without it, but the syntax is here.</p>\n\n<p>As a very beginner in Kotlin, I am open to any suggestions.</p>\n\n<p>Thanks for the people who tried to help me out :)</p>\n"}, {"tags": ["android", "kotlin", "dsl", "anko"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7401862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2kgXSCZk7mI/AAAAAAAAAAI/AAAAAAAAAHs/tlUjp8Gr-oQ/photo.jpg?sz=128", "display_name": "Alexander Minkin", "link": "https://stackoverflow.com/users/7401862/alexander-minkin"}, "edited": false, "score": 0, "creation_date": 1523442869, "post_id": 49772229, "comment_id": 86560428, "body": "thank for your answer. it&#39;s working too, but i find a better solution to use with anko. i use &quot;include&quot; tag for custom xml layout like seekbar seekBar = include&lt;SeekBar&gt;(R.layout.seek_lay) {}  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;SeekBar xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;     android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;     android:maxHeight=&quot;2dp&quot;     android:minHeight=&quot;2dp&quot;     android:progress=&quot;1&quot;     android:progressDrawable=&quot;@drawable/seek_bar_progress&quot;     android:thumb=&quot;@drawable/seek_bar_thumb&quot;     /&gt;"}, {"owner": {"reputation": 481, "user_id": 9629748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCSCN.jpg?s=128&g=1", "display_name": "Hababa", "link": "https://stackoverflow.com/users/9629748/hababa"}, "reply_to_user": {"reputation": 3, "user_id": 7401862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2kgXSCZk7mI/AAAAAAAAAAI/AAAAAAAAAHs/tlUjp8Gr-oQ/photo.jpg?sz=128", "display_name": "Alexander Minkin", "link": "https://stackoverflow.com/users/7401862/alexander-minkin"}, "edited": false, "score": 0, "creation_date": 1523449504, "post_id": 49772229, "comment_id": 86564933, "body": "yes, using xml is straightforward. I thought you originally wanted to done without xml :)"}, {"owner": {"reputation": 481, "user_id": 9629748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCSCN.jpg?s=128&g=1", "display_name": "Hababa", "link": "https://stackoverflow.com/users/9629748/hababa"}, "reply_to_user": {"reputation": 3, "user_id": 7401862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2kgXSCZk7mI/AAAAAAAAAAI/AAAAAAAAAHs/tlUjp8Gr-oQ/photo.jpg?sz=128", "display_name": "Alexander Minkin", "link": "https://stackoverflow.com/users/7401862/alexander-minkin"}, "edited": false, "score": 0, "creation_date": 1523450190, "post_id": 49772229, "comment_id": 86565444, "body": "BTW, <b>android:minHeight</b> &amp; <b>android:maxHeight</b> can be used in xml because they&#39;re defined in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/ProgressBar.java\" rel=\"nofollow noreferrer\">ProgreesBar&#39;s</a> styleable, and they do not have setter that we cannot change it programmatically"}], "tags": [], "owner": {"reputation": 481, "user_id": 9629748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCSCN.jpg?s=128&g=1", "display_name": "Hababa", "link": "https://stackoverflow.com/users/9629748/hababa"}, "is_accepted": true, "score": 0, "last_activity_date": 1523441247, "creation_date": 1523441247, "answer_id": 49772229, "question_id": 48297817, "link": "https://stackoverflow.com/questions/48297817/android-anko-seekbar-skinning/49772229#49772229", "title": "Android Anko seekbar skinning", "body": "<p>I face the same problem today.. And I search for hours to solve this problem too, but I could not find any 'normally' solution at all.</p>\n\n<p>Finally I change the field <strong><em>mMaxHeight</em></strong> with java reflection to achieve the result.</p>\n\n<p>Just notice that <strong><em>mMaxHeight</em></strong> belong to <strong>ProgressBar.class</strong>, so you need to use <strong>ProgressBar.class</strong> to find it.</p>\n\n<pre><code>val field = ProgressBar::class.java.getDeclaredField(\"mMaxHeight\")\nval accessible = field.isAccessible\nfield.isAccessible = true\nfield.setInt(seekBar, [value])\nfield.isAccessible = accessible\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kLc0U.png\" rel=\"nofollow noreferrer\" title=\"result\">Result</a></p>\n\n<p>I dont know it is a good or bad way, it just can work for me.</p>\n"}], "owner": {"reputation": 3, "user_id": 7401862, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2kgXSCZk7mI/AAAAAAAAAAI/AAAAAAAAAHs/tlUjp8Gr-oQ/photo.jpg?sz=128", "display_name": "Alexander Minkin", "link": "https://stackoverflow.com/users/7401862/alexander-minkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 1, "accepted_answer_id": 49772229, "answer_count": 1, "score": 0, "last_activity_date": 1523441247, "creation_date": 1516181861, "question_id": 48297817, "link": "https://stackoverflow.com/questions/48297817/android-anko-seekbar-skinning", "title": "Android Anko seekbar skinning", "body": "<p>I have a SeekBar in my anko dsl (i use 0.10.4) layout like this</p>\n\n<pre><code>seekBar {\n                max = 2\n                progress = 1\n                progressDrawable = drawable(R.drawable.seek_bar_progress)\n                thumb = drawable(R.drawable.seek_bar_thumb)\n                onSeekBarChangeListener {\n                    onProgressChanged { _, progress, _ -&gt;\n                        // Something\n                    }\n                }\n            }.lparams(matchParent) {\n                setMargins(dip(16), dip(8), dip(16), dip(8))\n            }\n</code></pre>\n\n<p><strong>seek_bar_progress.xml</strong></p>\n\n<pre><code>&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item android:id=\"@android:id/background\"&gt;\n    &lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:shape=\"rectangle\"&gt;\n        &lt;solid android:color=\"#D9D9D9\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n&lt;item android:id=\"@android:id/progress\"&gt;\n    &lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:shape=\"rectangle\"&gt;\n        &lt;solid android:color=\"@color/colorRed\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>seek_bar_thumb.xml</strong></p>\n\n<pre><code>&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item &gt;\n    &lt;shape android:shape=\"oval\"&gt;\n        &lt;solid android:color=\"@color/colorRed\"/&gt;\n        &lt;size android:height=\"26dp\" android:width=\"26dp\"/&gt;\n    &lt;/shape&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>and i have ugly view with this settings on any android devices\n<a href=\"https://i.stack.imgur.com/uPpyu.png\" rel=\"nofollow noreferrer\">see picture</a>.</p>\n\n<p>But when i use \"include\" tag i have a correct seekbar implementation <a href=\"https://i.stack.imgur.com/piE5V.png\" rel=\"nofollow noreferrer\">see picture</a></p>\n\n<pre><code>include&lt;SeekBar&gt;(R.layout.seek_lay) {\n                progress = 1\n                onSeekBarChangeListener {\n                    onProgressChanged { _, progress, _ -&gt;\n                        // Something\n                    }\n                }\n            }.lparams(matchParent) {\n                setMargins(dip(16), dip(8), dip(16), dip(8))\n            }\n</code></pre>\n\n<p><strong>seek_lay.xml</strong></p>\n\n<pre><code>&lt;SeekBar xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\" android:layout_height=\"match_parent\"\nandroid:max=\"2\"\nandroid:maxHeight=\"2dp\"\nandroid:minHeight=\"2dp\"\nandroid:progress=\"1\"\nandroid:progressDrawable=\"@drawable/seek_bar_progress\"\nandroid:thumb=\"@drawable/seek_bar_thumb\"\n/&gt;\n</code></pre>\n\n<p>does anybody faces with the same problem? And how i can resolve this if it's possible?\nThanks</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 4881, "user_id": 947526, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6a84b61e353299d7f9306e99bfce8854?s=128&d=identicon&r=PG", "display_name": "C-Otto", "link": "https://stackoverflow.com/users/947526/c-otto"}, "edited": false, "score": 1, "creation_date": 1516178628, "post_id": 48296754, "comment_id": 83578187, "body": "Did you specify the dependency in the module setting? Is there any other way (gradle, maven) IntelliJ IDEA should know about the connection?"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1516209206, "post_id": 48296754, "comment_id": 83598199, "body": "Sounds like the dependency is defined as a jar dependency rather than a project dependency. Are you using Maven/Gradle/Ant or a manually configured project?"}, {"owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "edited": false, "score": 0, "creation_date": 1516252650, "post_id": 48296754, "comment_id": 83614234, "body": "we are using maven for dependency management... all the dependencies get downloaded from internal nexus unless we specify a snapshot version...."}, {"owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "edited": false, "score": 0, "creation_date": 1516252868, "post_id": 48296754, "comment_id": 83614306, "body": "however, my issue is not with navigating from a module having the dependency to the dependent module... I am directly navigating to the dependent module through project structure at the left.... when I double click and open a kotlin file... it shows it well... but then as I click on &quot;Scroll from  Source&quot; it shows that the kt file opened does not belong to file in project directory but from one of the jar in majen.. which is a generated jar of the same project."}], "owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516178169, "creation_date": 1516178169, "question_id": 48296754, "link": "https://stackoverflow.com/questions/48296754/kotlin-file-opening-from-jar-instead-of-project-intellij", "title": "Kotlin file Opening from Jar instead of Project : IntelliJ", "body": "<p>Currently, I am working on a multi-module project, wherein I have started facing an issue, for one of my modules, when I navigate to src->package path and then open a kotlin file (*.kt), as soon as I click on \"Scroll from Source\", it shows that the file is loaded from one of the jar in m2 repo.</p>\n\n<p>I have tried to:</p>\n\n<ul>\n<li>unload and reload the module</li>\n<li>invalidate the cache and restart</li>\n<li>delete m2 folder completely and reimport dependencies</li>\n</ul>\n\n<p>none of these have worked so far. </p>\n\n<p>also to stress :</p>\n\n<ul>\n<li>this issue I am facing is only for one of the modules</li>\n<li>and also for only kt files, java files and other files are navigating fine. </li>\n</ul>\n"}, {"tags": ["android", "mvvm", "architecture", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 7091861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13b386452efc5877035ed4da587e80b?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan \u0160imovi\u0107", "link": "https://stackoverflow.com/users/7091861/ivan-%c5%a0imovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1516185954, "post_id": 48297193, "comment_id": 83582793, "body": "Can you give me a rxJava example?"}], "tags": [], "owner": {"reputation": 263, "user_id": 9038254, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1_OaIQpyqMs/AAAAAAAAAAI/AAAAAAAAAA8/NA5Ayp6P2pI/photo.jpg?sz=128", "display_name": "yu wang", "link": "https://stackoverflow.com/users/9038254/yu-wang"}, "is_accepted": true, "score": 1, "last_activity_date": 1516179765, "creation_date": 1516179765, "answer_id": 48297193, "question_id": 48296700, "link": "https://stackoverflow.com/questions/48296700/android-mvvm-have-view-respond-to-async-result/48297193#48297193", "title": "Android MVVM have view respond to async result", "body": "<p>In your viewmodel:</p>\n\n<pre><code>private MediatorLiveData&lt;YourDataType&gt; mDataObserved;\npublic LiveData&lt;YourDataType&gt; getDataObserved(){\n    return mDataObserved;\n}\n</code></pre>\n\n<p>And in your view:</p>\n\n<pre><code>viewModel.getDataObserved().observer(this, Observer&lt;YourDataType&gt;{\n    // do update view logic in here\n});\n</code></pre>\n\n<p>Last, in your repository callback call viewmodel to notify data changed:</p>\n\n<pre><code>mDataObserved.postValue(YourDataValue);\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 7091861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13b386452efc5877035ed4da587e80b?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan \u0160imovi\u0107", "link": "https://stackoverflow.com/users/7091861/ivan-%c5%a0imovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 48297193, "answer_count": 1, "score": 0, "last_activity_date": 1516179765, "creation_date": 1516177988, "question_id": 48296700, "link": "https://stackoverflow.com/questions/48296700/android-mvvm-have-view-respond-to-async-result", "title": "Android MVVM have view respond to async result", "body": "<p>I am working on creating my MVVM template project.\nThe way MVVM work's is that the View observes changes to the VM and reacts to them. How would i implement that logic in the following example.</p>\n\n<p>View code:</p>\n\n<pre><code>fun addPost(): Unit {\n    viewModel.addPost(dataSource.text.get(), dataSource.title.get(), { postID: Long -&gt;\n        if (postID.equals(0)) {\n            Toast.makeText(MyApp.instance.getContext(), \"Error\", Toast.LENGTH_LONG).show()\n        } else {\n            (arguments.get(ARG_RunOnPositiveDismiss) as (DMPost) -&gt; Unit)(DMPost(postID, MyOptions.User.GET()!!.UserID, dataSource.title.get(), dataSource.text.get()))\n            dismiss()\n        }\n    })\n}\n</code></pre>\n\n<p>ViewModel code:</p>\n\n<pre><code>fun addPost(title:String,text:String,onSuccess: (Long) -&gt; Unit): Unit {\n        rep.insertPost(DMPost(0, MyOptions.User.GET()!!.UserID, title, text),onSuccess)\n}\n</code></pre>\n\n<p>Repository code:</p>\n\n<pre><code>fun insertPost(post: DMPost, onSuccess: (Long) -&gt; Unit) {\n    if (MyOptions.Online.GET()!!) {\n        val client = retrofit.create(APIPost::class.java)\n        val insertPost: Call&lt;Long&gt; = client.insertPost(post)\n        insertPost.enqueue(object : Callback&lt;Long&gt; {\n            override fun onResponse(call: Call&lt;Long&gt;, response: Response&lt;Long&gt;) {\n                if (response.isSuccessful) {\n                    onSuccess(response.body()!!)\n                } else {\n                    onSuccess(0)\n                }\n            }\n\n            override fun onFailure(call: Call&lt;Long&gt;, t: Throwable) {\n                onSuccess(0)\n            }\n        })\n\n    } else {\n        AsyncTask.execute {\n            try {\n                onSuccess(daoPost.insertPost(EntityPost(post)))\n            } catch (e: Exception) {\n                onSuccess(0)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am assuming that i need to have 2 methods in my view, one for showing the error toast and the other for success.the view should observe a value on the VM and on a change on that value, should call one of those 2 methods.</p>\n\n<p>Is my assumption right?\nIf yes, can someone write the code for that logic?</p>\n"}, {"tags": ["android", "kotlin", "cardview", "anko"], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 2252679, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E3eWZ.jpg?s=128&g=1", "display_name": "alena_fox_spb", "link": "https://stackoverflow.com/users/2252679/alena-fox-spb"}, "is_accepted": true, "score": 6, "last_activity_date": 1516180888, "creation_date": 1516180888, "answer_id": 48297527, "question_id": 48296272, "link": "https://stackoverflow.com/questions/48296272/anko-cardview-radius-not-work/48297527#48297527", "title": "Anko CardView radius not work", "body": "<p>So, the problem was in </p>\n\n<pre><code>backgroundColor = Color.WHITE\n</code></pre>\n\n<p>It was set the default background DRAWABLE param to ColorDrawable instead inner <code>RoundRectDrawable</code>.\nSo, when I change this row to :</p>\n\n<pre><code>background.setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_ATOP)\n</code></pre>\n\n<p>All start to work and corners become to be rounded</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 8117570, "user_type": "registered", "profile_image": "https://graph.facebook.com/1352644464782732/picture?type=large", "display_name": "Evgenia", "link": "https://stackoverflow.com/users/8117570/evgenia"}, "is_accepted": false, "score": 2, "last_activity_date": 1558953969, "creation_date": 1558953969, "answer_id": 56324555, "question_id": 48296272, "link": "https://stackoverflow.com/questions/48296272/anko-cardview-radius-not-work/56324555#56324555", "title": "Anko CardView radius not work", "body": "<p>The previous answer didn't help me. That is worked for me:</p>\n\n<pre><code>cardView {    \n    background = GradientDrawable().apply {\n        shape = GradientDrawable.RECTANGLE\n        cornerRadius = 8f\n        setStroke(2, grey)\n        ....\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 2252679, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E3eWZ.jpg?s=128&g=1", "display_name": "alena_fox_spb", "link": "https://stackoverflow.com/users/2252679/alena-fox-spb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 2, "accepted_answer_id": 48297527, "answer_count": 2, "score": 3, "last_activity_date": 1558953969, "creation_date": 1516176352, "last_edit_date": 1516176672, "question_id": 48296272, "link": "https://stackoverflow.com/questions/48296272/anko-cardview-radius-not-work", "title": "Anko CardView radius not work", "body": "<p>I want to create cardView with anko and set cornerRadius param to it. But When I try to do - no such differents come.\nIn main class I do this:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup): View {\n    with(applicationContext!!) {\n        listView = listView {\n            layoutParams = ViewGroup.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.WRAP_CONTENT)\n            dividerHeight = 20\n        }\n    }\n    listView?.adapter = CustomAdapter(forms)\n\n    return listView!!\n}\n</code></pre>\n\n<p>In CustomAdapter I return cardView like this:</p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n    val currentForm = getItem(position)\n    return convertView ?: createCardView(parent!!.context, currentForm)\n}\n\nprivate fun createCardView(context: Context, form: FormField): View =\n        with(context) {\n            frameLayout {\n                cardView {\n                    layoutParams = FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.WRAP_CONTENT).apply {\n                        leftMargin = dip(10)\n                        rightMargin = dip(10)\n                        topMargin = dip(5)\n                        bottomMargin = dip(5)\n\n                    }\n                    backgroundColor = Color.WHITE\n                    radius = dip(8).toFloat()\n\n                    verticalLayout {\n                        // title\n                        textView {\n                            text = form.title\n                            textColor = ContextCompat.getColor(context, R.color.colorPrimary)\n                            textSize = 20f\n                        }.lparams(width = matchParent) {\n                            leftMargin = dip(15)\n                            topMargin = dip(10)\n                            bottomMargin = dip(10)\n                        }\n                        // subtitle\n                        textView {\n                            if (form.subTitle != null) {\n                                text = form.subTitle\n                                textColor = ContextCompat.getColor(context, R.color.colorPrimary)\n                                textSize = 12f\n                                visibility = View.VISIBLE\n                            } else {\n                                visibility = View.GONE\n                            }\n                        }.lparams(width = matchParent) {\n                            leftMargin = dip(15)\n                            topMargin = dip(10)\n                            bottomMargin = dip(10)\n                        }\n\n                    }.lparams(width = matchParent, height = matchParent)\n                }\n            }\n        }\n</code></pre>\n\n<p>I try to call 'radius' setter in different ways and values, but result is always like this\n<a href=\"https://i.stack.imgur.com/jaaDD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaaDD.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see - the corners are always rectangle. What I want - to round the corners with Anko \n<a href=\"https://i.stack.imgur.com/awwKk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awwKk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Small p.s. - when I return from <code>getView</code> inflated xml layout with same cardview - it has rounded corners.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516174477, "post_id": 48295734, "comment_id": 83576092, "body": "It will compile into a <code>static show(MyCustomView self, ShopFilterModel model)</code>. Runtime overheads, if any, will be very small."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516174554, "post_id": 48295734, "comment_id": 83576125, "body": "sense it will compile into a static how can i reference object variables, i assume i cannot then, correct ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516174721, "post_id": 48295734, "comment_id": 83576214, "body": "It has the <code>self</code> argument, this is the instance holding the variables. But you can&#39;t access any <code>private</code> members and this could be a show-stopper."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516192336, "post_id": 48295734, "comment_id": 83586891, "body": "There&#39;s a pitfall with extension funs and overloading: if the member&#39;s signature is compatible with your extension fun&#39;s, but more general, it will get selected before even considering yours."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516194252, "post_id": 48295734, "comment_id": 83588152, "body": "very good point to know some of the drawbacks. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1516237848, "last_edit_date": 1516237848, "creation_date": 1516174621, "answer_id": 48295856, "question_id": 48295734, "link": "https://stackoverflow.com/questions/48295734/kotlin-can-i-use-an-extension-for-method-overloading/48295856#48295856", "title": "Kotlin - can i use an extension for method overloading?", "body": "<p>It\u2019s not only for utilities, as you can read in this great <a href=\"https://stackoverflow.com/a/35321347/8073652\">answer</a>, which lists pretty much all use cases.</p>\n\n<p>Imho, if you have control over that class you want to extend with a method, there\u2019s no problem to add the method directly to it as opposed to doing it with an extension method. Yet, <em>technically you can consider doing this</em>. Please <strong>be aware</strong> that <a href=\"https://stackoverflow.com/a/30880699/8073652\">calling such an extension function from Java</a> isn\u2019t very idiomatic because it will be compiled to a <code>static</code> function. If it\u2019s ever going to be invoked from Java, I\u2019d rather use ordinary methods when possible.</p>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 48295856, "answer_count": 1, "score": 2, "last_activity_date": 1516237848, "creation_date": 1516174086, "question_id": 48295734, "link": "https://stackoverflow.com/questions/48295734/kotlin-can-i-use-an-extension-for-method-overloading", "title": "Kotlin - can i use an extension for method overloading?", "body": "<p>I have created a custom view in android. one of the methods has a signature like this:</p>\n\n<pre><code>fun show(CategoryFilterModel model) {/*...*/}\n</code></pre>\n\n<p>and it works fine. and now i'd like to create a overloaded function which would look like this if i did it by adding it to the custom view class:</p>\n\n<pre><code>fun show(ShopFilterModel model) {/*...*/}\n</code></pre>\n\n<p>Notice the type is different so this is a method overload. </p>\n\n<p>a thought came to me that i could instead use an extension in kotlin to add another method to the class.  </p>\n\n<p>so it would like something like this:</p>\n\n<pre><code>fun MyCustomView.show(ShopFilterModel: model){\n\n    }\n</code></pre>\n\n<p>is this advised or should i only add utility methods with extensions ? Are there any overheads ?</p>\n"}, {"tags": ["java", "apache-spark", "kotlin"], "owner": {"reputation": 1748, "user_id": 1301970, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/338ac36e54fcbdd09571067d8ce92b3f?s=128&d=identicon&r=PG&f=1", "display_name": "reith", "link": "https://stackoverflow.com/users/1301970/reith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "protected_date": 1516176376, "answer_count": 0, "score": 1, "last_activity_date": 1516175248, "creation_date": 1516171496, "question_id": 48295090, "link": "https://stackoverflow.com/questions/48295090/getting-task-not-serializable-while-trying-commit-kafka-offsets-in-spark-which-b", "title": "Getting Task not Serializable while trying commit Kafka offsets in Spark which broadcast variables", "body": "<p>I've written Spark jobs that reads from Kafka and <a href=\"https://spark.apache.org/docs/2.2.0/streaming-kafka-0-10-integration.html#kafka-itself\" rel=\"nofollow noreferrer\">commits offsets manually</a>. It worked fine but since I introduced broadcast variables, I get serializable exceptions because it tries to serialize KafkaInputDStream. Here is a minimal code showing the problem (the code is written in Kotlin but I believe it'll happen in Java too):</p>\n\n<pre><code>fun testBroadCast(jsc: JavaStreamingContext, kafkaStream: JavaInputDStream&lt;ConsumerRecord&lt;String, SomeSerializableEvent&gt;&gt;) {\n    val keyPrefix = jsc.sparkContext().broadcast(\"EVENT:\")\n    kafkaStream.foreachRDD { rdd -&gt;\n        val offsetRanges = (rdd.rdd() as HasOffsetRanges).offsetRanges()\n        val prefixedIds = rdd.map { \"${keyPrefix.value}:$it\" }.collect()\n        (kafkaStream.dstream() as CanCommitOffsets).commitAsync(offsetRanges)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val jsc = JavaStreamingContext(SparkConf().setAppName(\"test simple prefixer\").setMaster(\"local[*]\"), Duration(5000))\n    val stream = makeStreamFromSerializableEventTopic(jsc)\n    testBroadCast(jsc, stream)\n    jsc.start()\n    jsc.awaitTermination()\n}\n</code></pre>\n\n<p>If I remove <code>keyPreix</code> and put \"EVENT:\" in map function, It works as expected. Otherwise I get:</p>\n\n<blockquote>\n  <p>java.io.NotSerializableException: Object of org.apache.spark.streaming.kafka010.DirectKafkaInputDStream is being serialized  possibly as a part of closure of an RDD operation. This is because  the DStream object is being referred to from within the closure.  Please rewrite the RDD operation inside this DStream to avoid this.  This has been enforced to avoid bloating of Spark tasks  with unnecessary objects.\n      at org.apache.spark.streaming.dstream.DStream$$anonfun$writeObject$1.apply$mcV$sp(DStream.scala:525)\n      at org.apache.spark.streaming.dstream.DStream$$anonfun$writeObject$1.apply(DStream.scala:512)\n      at org.apache.spark.streaming.dstream.DStream$$anonfun$writeObject$1.apply(DStream.scala:512)\n      at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1303)\n      at org.apache.spark.streaming.dstream.DStream.writeObject(DStream.scala:512)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1028)\n      at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\n      at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n      at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n      at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n      at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n      at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n      at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n      at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n      at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n      at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n      at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n      at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n      at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n      at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n      at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n      at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n      at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n      at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n      at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n      at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n      at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:43)\n      at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:100)\n      at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:295)\n      at org.apache.spark.util.ClosureCleaner$.org$apache$spark$util$ClosureCleaner$$clean(ClosureCleaner.scala:288)\n      at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:108)\n      at org.apache.spark.SparkContext.clean(SparkContext.scala:2287)\n      at org.apache.spark.rdd.RDD$$anonfun$map$1.apply(RDD.scala:370)\n      at org.apache.spark.rdd.RDD$$anonfun$map$1.apply(RDD.scala:369)\n      at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n      at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n      at org.apache.spark.rdd.RDD.withScope(RDD.scala:362)\n      at org.apache.spark.rdd.RDD.map(RDD.scala:369)\n      at org.apache.spark.api.java.JavaRDDLike$class.map(JavaRDDLike.scala:93)\n      at org.apache.spark.api.java.AbstractJavaRDDLike.map(JavaRDDLike.scala:45)\n      at ir.pegahtech.tapsell.brain.engine.jobs.Test$testBroadCast$1.call(Test.kt:226)\n      at ir.pegahtech.tapsell.brain.engine.jobs.Test$testBroadCast$1.call(Test.kt)\n      at org.apache.spark.streaming.api.java.JavaDStreamLike$$anonfun$foreachRDD$1.apply(JavaDStreamLike.scala:272)\n      at org.apache.spark.streaming.api.java.JavaDStreamLike$$anonfun$foreachRDD$1.apply(JavaDStreamLike.scala:272)\n      at org.apache.spark.streaming.dstream.DStream$$anonfun$foreachRDD$1$$anonfun$apply$mcV$sp$3.apply(DStream.scala:628)\n      at org.apache.spark.streaming.dstream.DStream$$anonfun$foreachRDD$1$$anonfun$apply$mcV$sp$3.apply(DStream.scala:628)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ForEachDStream.scala:51)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(ForEachDStream.scala:51)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(ForEachDStream.scala:51)\n      at org.apache.spark.streaming.dstream.DStream.createRDDWithLocalProperties(DStream.scala:416)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply$mcV$sp(ForEachDStream.scala:50)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply(ForEachDStream.scala:50)\n      at org.apache.spark.streaming.dstream.ForEachDStream$$anonfun$1.apply(ForEachDStream.scala:50)\n      at scala.util.Try$.apply(Try.scala:192)\n      at org.apache.spark.streaming.scheduler.Job.run(Job.scala:39)\n      at org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply$mcV$sp(JobScheduler.scala:257)\n      at org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply(JobScheduler.scala:257)\n      at org.apache.spark.streaming.scheduler.JobScheduler$JobHandler$$anonfun$run$1.apply(JobScheduler.scala:257)\n      at scala.util.DynamicVariable.withValue(DynamicVariable.scala:58)\n      at org.apache.spark.streaming.scheduler.JobScheduler$JobHandler.run(JobScheduler.scala:256)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n      at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>How using or not using broadcast variable relates to serializing KafkaInputDStream? Spark version is 2.2.0.</p>\n"}, {"tags": ["android", "data-binding", "lambda", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "edited": false, "score": 0, "creation_date": 1516206781, "post_id": 48292308, "comment_id": 83596662, "body": "Changing the lambda as you recommend results in the same error."}, {"owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 0, "creation_date": 1516222087, "post_id": 48292308, "comment_id": 83605123, "body": "not sure, but maybe <code>android:onClick=&quot;@{_: View-&gt; vm.buttonClicked()}&quot;</code> will do"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1516224982, "post_id": 48292308, "comment_id": 83606499, "body": "Shouldn&#39;t need to. I think the error is solved now though: <a href=\"https://stackoverflow.com/a/48308716/3195526\">stackoverflow.com/a/48308716/3195526</a>"}, {"owner": {"reputation": 332, "user_id": 2923505, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f306e1e3352f9f2f92a9463baaea04fb?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/2923505/saurabh"}, "edited": false, "score": 0, "creation_date": 1593544621, "post_id": 48292308, "comment_id": 110817954, "body": "@PaulHicks the <code>View</code> parameter refers to the view being clicked?"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1593549742, "post_id": 48292308, "comment_id": 110820147, "body": "That&#39;s how I read it. I know nothing about Android SDKs though, I just know how to have an anonymous parameter to a lambda in Kotlin :)"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 4, "last_activity_date": 1516151917, "creation_date": 1516151917, "answer_id": 48292308, "question_id": 48291942, "link": "https://stackoverflow.com/questions/48291942/cannot-find-method-for-data-binding-event-using-lambda/48292308#48292308", "title": "Cannot find method for data binding event using lambda", "body": "<p>As you noted in your comment about the <code>android:onClick=\"@{vm::doIt}\"</code> solution, your onClick handler must have a <code>View</code> parameter, even if you don't use it.</p>\n\n<p>Your workaround of calling your parameter-less <code>buttonClicked</code> method via a lambda will work nicely, <em>so long as the lambda accepts the <code>View</code> parameter</em>. This is easy. <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#underscore-for-unused-variables-since-11\" rel=\"nofollow noreferrer\">Unused parameters to lambdas can be named \"_\"</a> for clarity.  So your onClick handler can be configured thus:</p>\n\n<pre><code>android:onClick=\"@{_ -&gt; vm.buttonClicked()}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "is_accepted": true, "score": 3, "last_activity_date": 1516217842, "creation_date": 1516217842, "answer_id": 48308716, "question_id": 48291942, "link": "https://stackoverflow.com/questions/48291942/cannot-find-method-for-data-binding-event-using-lambda/48308716#48308716", "title": "Cannot find method for data binding event using lambda", "body": "<p>Apparently the data binding generated classes were in a bad state and weren't getting properly regenerated, invalidating caches and cleaning fixed the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 1077, "user_id": 293918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e8dde00b2af8b26238d61a68b95ed49?s=128&d=identicon&r=PG", "display_name": "Alberto M", "link": "https://stackoverflow.com/users/293918/alberto-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1566375680, "creation_date": 1566375680, "answer_id": 57587333, "question_id": 48291942, "link": "https://stackoverflow.com/questions/48291942/cannot-find-method-for-data-binding-event-using-lambda/57587333#57587333", "title": "Cannot find method for data binding event using lambda", "body": "<p>the signature of the method has to be the same in the viewModel,</p>\n\n<p>I was using </p>\n\n<pre><code>android:onClick=\"@{v -&gt; viewModel.settingsClick(v)}\"\n</code></pre>\n\n<p>and the method in the viewModel was</p>\n\n<pre><code> public void settingsClick() {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7388, "favorite_count": 1, "accepted_answer_id": 48308716, "answer_count": 3, "score": 8, "last_activity_date": 1566375680, "creation_date": 1516149032, "question_id": 48291942, "link": "https://stackoverflow.com/questions/48291942/cannot-find-method-for-data-binding-event-using-lambda", "title": "Cannot find method for data binding event using lambda", "body": "<p>I have events working up to this point using the :: notation (i.e <code>android:onClick=\"@{vm::doIt}\"</code>) but this requires the signature of <code>doIt</code> to have the unnecessary <code>View</code> parameter, which I end up ignoring the unused warning on. I'm trying to clean that up and move to the lambda event notation (i.e. `android:onClick=\"@{() -> vm.doIt()}, however the compiler throws an exception.</p>\n\n<p><strong>layout.xml</strong></p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"vm\"\n            type=\"com.myapp.ViewModel\"/&gt;\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n        &lt;Button\n            android:id=\"@+id/button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:onClick=\"@{() -&gt; vm.buttonClicked()}\"\n            &lt;!--android:onClick=\"@{vm::buttonClicked}\" worked with view param in buttonClicked in the viewModel --&gt;\n            android:text=\"@{vm.buttonText}\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>ViewModel.kt</strong></p>\n\n<pre><code>class ViewModel(): BaseObservable{\n\n    //Bindings - All works great!\n\n    //Event handler... not found, worked with commented param and :: notation\n    fun buttonClicked(/*view: View*/){\n        //Do button click stuff\n    }\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>e: java.lang.IllegalStateException: failed to analyze: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n****/ data binding error ****msg:Cannot find method buttonClicked on ViewDataBinding file:/Users/.../app/src/main/res/layout/layout.xml loc:107:31 - 107:57 ****\\ data binding error ****\n\nat org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\nat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n\nCaused by: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n****/ data binding error ****msg:Cannot find method buttonClicked on ViewDataBinding file:/Users/.../app/src/main/res/layout/layout.xml loc:107:31 - 107:57 ****\\ data binding error ****\n\nat android.databinding.tool.processing.Scope.assertNoError(Scope.java:112)\nat android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:91)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.access$200(JavacProcessingEnvironment.java:91)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.runContributingProcs(JavacProcessingEnvironment.java:627)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1033)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1198)\nat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\nat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\nat org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\nat org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\nat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\nat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\nat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)\n... 30 more\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1516147754, "post_id": 48291736, "comment_id": 83568598, "body": "For an answer that includes how to accomplish what you want, you&#39;re going to need to explain what you expect looping through an integer to do."}, {"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1516147855, "post_id": 48291736, "comment_id": 83568629, "body": "I have updated @chris"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1516147892, "post_id": 48291736, "comment_id": 83568639, "body": "can you give an example?"}, {"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1516147983, "post_id": 48291736, "comment_id": 83568665, "body": "for example the user inputs 34652312 and it prints 12, that is the sum of all the even algarisms on that number @s1m0nw1"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1516148169, "post_id": 48291736, "comment_id": 83568724, "body": "Does my answer do what you need?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1516148230, "post_id": 48291736, "comment_id": 83568743, "body": "According to Wikipedia, an algorism is a technique. I think you&#39;re looking for &quot;digit&quot;. Anyway, 12 is the sum of the odd digits of that number, but your posted code checks for even."}, {"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1516148466, "post_id": 48291736, "comment_id": 83568817, "body": "yes, I translated it wrong, thanks for correcting me, I have changed it to look for odd now @chris"}], "answers": [{"comments": [{"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "edited": false, "score": 0, "creation_date": 1516148404, "post_id": 48291784, "comment_id": 83568804, "body": "i think that fixes it, but is there a more simple way to do that? This is an homework I have to do for my course and we haven&#39;t learned map or filter yet, so it would be odd if I used that. thank you"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "edited": false, "score": 0, "creation_date": 1516148598, "post_id": 48291784, "comment_id": 83568849, "body": "Sure, I&#39;ll add it"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516176227, "post_id": 48291784, "comment_id": 83576924, "body": "You don&#39;t need <code>.toCharArray()</code> because <code>String.iterator()</code> is defined. You can also go from the <code>Char</code> to the number it represents without an intermediate string (<code>getNumericValue()</code>), but that&#39;s more of an optimization."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1516175892, "last_edit_date": 1516175892, "creation_date": 1516147718, "answer_id": 48291784, "question_id": 48291736, "link": "https://stackoverflow.com/questions/48291736/loop-string-from-console-and-sum-odd-numbers/48291784#48291784", "title": "Loop String from Console and sum odd numbers", "body": "<p>You cannot iterate over an <code>Int</code> like <code>num</code>:</p>\n\n<pre><code>val num = readLine()!!.toInt()\n</code></pre>\n\n<p>You can fix it without a loop and by using standard functions <code>map</code>, <code>filter</code> and <code>sum</code>:</p>\n\n<pre><code>val sum = readLine()!!.toCharArray()\n    .map { it.toString().toInt() }\n    .filter { it % 2 != 0 }\n    .sum()\n</code></pre>\n\n<p>The <code>filter</code>-condition for even numbers would be <code>it % 2 == 0</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>For your homework, do this:</p>\n\n<pre><code>val num = readLine()!!.toCharArray()\nvar sum = 0\nfor (a in num) {\n    val intVal = a.toString().toInt()\n    if (intVal % 2 != 0) {\n        sum += intVal\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 48291784, "answer_count": 1, "score": 1, "last_activity_date": 1516176078, "creation_date": 1516147412, "last_edit_date": 1516176078, "question_id": 48291736, "link": "https://stackoverflow.com/questions/48291736/loop-string-from-console-and-sum-odd-numbers", "title": "Loop String from Console and sum odd numbers", "body": "<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"Number: \")\n    val num = readLine()!!.toInt()\n    var sum = 0\n    for (digit in num) {\n        if (digit % 2 != 0) {\n            sum += digit\n        }\n    }\n    println(\"$sum\")\n}\n</code></pre>\n\n<p>I need this loop to go through every digit in the number and sums all the digits that are odd.\nIt gives me an error on num \"For-loop range must have an 'iterator()' method\"</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 0, "creation_date": 1516139746, "post_id": 48290389, "comment_id": 83565985, "body": "did you try <code>configurations.provided</code> ?"}, {"owner": {"reputation": 307, "user_id": 7457872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbf659345ceb77ef942a5c54626ce47?s=128&d=identicon&r=PG&f=1", "display_name": "bruto", "link": "https://stackoverflow.com/users/7457872/bruto"}, "reply_to_user": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 0, "creation_date": 1516140008, "post_id": 48290389, "comment_id": 83566086, "body": "My problem is that the value returned by my extension java getter is null"}], "answers": [{"tags": [], "owner": {"reputation": 5514, "user_id": 550282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9101cec9230e76ad2f245805e48d6d?s=128&d=identicon&r=PG", "display_name": "aweigold", "link": "https://stackoverflow.com/users/550282/aweigold"}, "is_accepted": false, "score": 4, "last_activity_date": 1544238540, "creation_date": 1544238540, "answer_id": 53679150, "question_id": 48290389, "link": "https://stackoverflow.com/questions/48290389/different-ways-to-apply-plugins-gradle-kotlin-dsl/53679150#53679150", "title": "Different ways to apply plugins ? (Gradle Kotlin DSL)", "body": "<p>This issue isn't specific to Kotlin, and is due to a race condition.  While the script is being evaluated, it may not have added the plugin to the classpath yet.  This is one of many reasons why the <code>plugins</code> block was created, as it's specifically evaluated prior to the rest of the scripts evaluation during a <code>buildscript</code> phase.  That said however, this special treatment is only done if this block is at the top of the script, and not when it's within a <code>subprojects</code> or <code>allprojects</code> block, as those blocks are technically arbitrary and are evaluated later to ensure the <code>buildscript</code> is idempotent.  In your case, you are just moving up the race by placing it in <code>allprojects</code> block, and are getting lucky.</p>\n\n<p>When dealing with multi-project builds, this is problematic, however if possible, the best is to declare the plugin in the <code>plugins</code> block with the <code>apply false</code> constrained syntax to add it to your build's classpath in the <code>buildscript</code> phase.  You will then be able to apply the plugin later via the plugin's id during script evaluation (version isn't necessary, as it's used for fetching the dependency only).</p>\n\n<p>An example:</p>\n\n<pre><code>plugins {\n    id(\"org.gradle.sample.hello\") version \"1.0.0\" apply false\n}\n\nsubprojects {\n    apply(plugin = \"org.gradle.sample.hello\")\n}\n</code></pre>\n\n<p>The <a href=\"https://docs.gradle.org/current/userguide/plugins.html\" rel=\"nofollow noreferrer\">Gradle User Guide</a> does a great job at explaining how these should be used, and the balance you will need to consider in multi-module projects.</p>\n\n<p>Due to the nature of how some plugins are written, there may be cases where other issues will arise, but if plugin authors are following best practice guidelines, you'll be fine.</p>\n"}], "owner": {"reputation": 307, "user_id": 7457872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbbf659345ceb77ef942a5c54626ce47?s=128&d=identicon&r=PG&f=1", "display_name": "bruto", "link": "https://stackoverflow.com/users/7457872/bruto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4161, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1544238540, "creation_date": 1516139435, "last_edit_date": 1516173762, "question_id": 48290389, "link": "https://stackoverflow.com/questions/48290389/different-ways-to-apply-plugins-gradle-kotlin-dsl", "title": "Different ways to apply plugins ? (Gradle Kotlin DSL)", "body": "<p>Trying to migrate this one project's build to GSK.\nWe have this in Groovy:</p>\n\n<pre><code>allprojects {\n    apply plugin: 'java'\n...\n    sourceSets {\n        ...\n    }\n    sourceCompatibility = ...\n}\n</code></pre>\n\n<p>So while figuring out how to access the plugin convention in Kotlin, I found out that:</p>\n\n<pre><code>allprojects {\n    plugins {\n        java apply true\n    }\n    ...\n    println(\"Project $name, plugins: ${plugins}\") // empty list\n    val java = the&lt;JavaPluginConvention&gt;() // throws exception\n}\n</code></pre>\n\n<p>but if you do it like this:</p>\n\n<pre><code>allprojects {\n    apply {\n        plugin(JavaPlugin::class.java)\n    }\n}\n</code></pre>\n\n<p>plugin is applied and convention becomes accessible</p>\n\n<p>WTH?</p>\n"}, {"tags": ["java", "android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "is_accepted": true, "score": 1, "last_activity_date": 1516201343, "creation_date": 1516201343, "answer_id": 48304068, "question_id": 48289126, "link": "https://stackoverflow.com/questions/48289126/dagger-2-activity-cannot-be-provided-without-an-provides-or-produces-annotate/48304068#48304068", "title": "Dagger 2 Activity cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>My problem was here: </p>\n\n<pre><code>@Inject\ninternal var tokenHelper: FCMTokenHelper? = null\n</code></pre>\n\n<p>Changing it to: </p>\n\n<pre><code>@Inject\nlateinit var tokenHelper: FCMTokenHelper\n</code></pre>\n\n<p>Fixed the problem.  See a good explanation <a href=\"https://stackoverflow.com/questions/47248478/can-i-use-dagger-2s-field-injection-in-kotlin\">here.</a></p>\n"}], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 48304068, "answer_count": 1, "score": 1, "last_activity_date": 1516458503, "creation_date": 1516133727, "last_edit_date": 1516458503, "question_id": 48289126, "link": "https://stackoverflow.com/questions/48289126/dagger-2-activity-cannot-be-provided-without-an-provides-or-produces-annotate", "title": "Dagger 2 Activity cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>I'm new to Dagger and I'm trying to implement a class that inherits from a class where injection is taking place.  Things broke when I took out injection of one component in MainActivity and inherited it from BaseActivity.  </p>\n\n<p>My AppComponentClass: </p>\n\n<pre><code>@Singleton\n@Component(modules = {NetworkModule.class, ApplicationModule.class, \nAndroidModule.class})\npublic interface AppComponent {\n\n   void inject (BaseActivity baseActivity);\n   void inject (MainActivity mainActivity);\n}\n}\n</code></pre>\n\n<p>My ActivityModule class: </p>\n\n<pre><code>@Module\npublic class ActivityModule {\n\nprivate Activity activity;\n\npublic ActivityModule(Activity activity) {\n    this.activity = activity;\n}\n\n@PerActivity\n@Provides\n@ActivityContext\npublic Context provideContext() {\n    return activity;\n}\n}\n</code></pre>\n\n<p>my ApplicationModule class: </p>\n\n<pre><code>@Module\npublic class ApplicationModule {\n\nprivate Application application;\n\npublic ApplicationModule(Application application) {\n    this.application = application;\n}\n\n@Provides\n@Singleton\n@ApplicationContext\npublic Context provideContext() {\n    return this.application;\n}\n\n@Provides\n@Singleton\npublic FCMTokenHelper provideFCMTokenHelper(Context context, ApiService apiService) {\n    UserRepoImpl userRepo = new UserRepoImpl(apiService);\n    return new FCMTokenHelper(context, context.getClass().getSimpleName(), userRepo);\n}\n\n@Provides\n@Singleton\npublic UserRepoContract providerUserRepo(ApiService apiService) {\n    return new UserRepoImpl(apiService);\n}\n\n}\n</code></pre>\n\n<p>My two classes (both in kotlin) </p>\n\n<pre><code>class MainActivity : BaseActivity() { \n\n}\n\nabstract class BaseActivity : AppCompatActivity(), GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener, ActivityCompat.OnRequestPermissionsResultCallback, LocationListener {\n\n   @Inject\n   lateinit var userRepo: UserRepoContract\n\n   @Inject\n   internal var tokenHelper: FCMTokenHelper? = null\n}\n</code></pre>\n\n<p>The error(s):</p>\n\n<blockquote>\n  <p>Error:(51, 10) error: .BaseActivity cannot be provided without an @Provides-annotated method. BaseActivity is injected at AppComponent.inject(baseActivity)\n  Error:(75, 10) error: MainActivity cannot be provided without an @Inject constructor or from an @Provides-annotated method. MainActivity is injected at .AppComponent.inject(mainActivity)</p>\n</blockquote>\n\n<p>Using Dagger 2 ver 2.9\nAndroid Studio 3.0\nboth Kotlin and Java</p>\n"}, {"tags": ["android", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 215, "user_id": 2205523, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oSRPo.jpg?s=128&g=1", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/2205523/sinisa"}, "edited": false, "score": 0, "creation_date": 1518466344, "post_id": 48288638, "comment_id": 84510272, "body": "I can confirm this issue on Nexus 6 (Android 7.1). In my case you url (<a href=\"https://cryptocompare.com/media/12318177/ada.png\" rel=\"nofollow noreferrer\">cryptocompare.com/media/12318177/ada.png</a>) is working fine, but i get the same stacktrace with this url <a href=\"https://plus.google.com/_/focus/photos/private/AIbEiAIAAABECMan_fCfk6D3_wEiC3ZjYXJkX3Bob3RvKig4ODFjODdkMzMwY2FiYjE5Nzg1MDQ1NWQ5YTk1MTg5YWE4MDg0Yzk5MAGf0v2AKBI5sPoLdJLX5aQPIU4GpQ\" rel=\"nofollow noreferrer\">plus.google.com/_/focus/photos/private/&hellip;</a>  Did you have any luck solving the problem?"}, {"owner": {"reputation": 13, "user_id": 5635941, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204633657953062/picture?type=large", "display_name": "Haller Patrick", "link": "https://stackoverflow.com/users/5635941/haller-patrick"}, "reply_to_user": {"reputation": 215, "user_id": 2205523, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oSRPo.jpg?s=128&g=1", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/2205523/sinisa"}, "edited": false, "score": 0, "creation_date": 1518727807, "post_id": 48288638, "comment_id": 84635907, "body": "For me it  is working fine now, sorry its been a while from there, so I&#39;m not sure.  Do you also use the GlideUrl class to set url? Maybe it had to do with url handling? Are you using the glide debugging feature?"}, {"owner": {"reputation": 215, "user_id": 2205523, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/oSRPo.jpg?s=128&g=1", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/2205523/sinisa"}, "edited": false, "score": 0, "creation_date": 1518776966, "post_id": 48288638, "comment_id": 84652955, "body": "I tried String, Uri and GlideUrl with the same result. Ill see about the debugging feature, thanks."}], "owner": {"reputation": 13, "user_id": 5635941, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204633657953062/picture?type=large", "display_name": "Haller Patrick", "link": "https://stackoverflow.com/users/5635941/haller-patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 593, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516131522, "creation_date": 1516131522, "question_id": 48288638, "link": "https://stackoverflow.com/questions/48288638/glide-not-working-on-different-devices-filenotfoundexception", "title": "Glide not working on different devices, FileNotFoundException", "body": "<p>I\u00b4m getting strange behavior from the app I'm developing. Normally I run it on a Pixel 2 XL, but now I'm testing it on other devices and APIs. With the Pixel 2 Xl and API 27 I'm getting no errors whatsoever, but changing to other APIs and/or devices I get following:</p>\n\n<pre><code>Load failed for https://cryptocompare.com/media/12318177/ada.png with size [60x90]\n                                                                        class com.bumptech.glide.load.engine.GlideException: Failed to load resource\n                                                                        There was 1 cause:\n                                                                        java.io.FileNotFoundException(https://cryptocompare.com/media/12318177/ada.png)\n                                                                         call GlideException#logRootCauses(String) for more detail\n                                                                          Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\n                                                                        There was 1 cause:\n                                                                        java.io.FileNotFoundException(https://cryptocompare.com/media/12318177/ada.png)\n                                                                         call GlideException#logRootCauses(String) for more detail\n                                                                            Cause (1 of 1): class java.io.FileNotFoundException: https://cryptocompare.com/media/12318177/ada.png\n\n01-16 14:25:16.522 4661-4661/com.example.patrickhaller.cryptofolio I/Glide: Root cause (1 of 1)\n                                                                        java.io.FileNotFoundException: https://cryptocompare.com/media/12318177/ada.png\n                                                                            at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:251)\n                                                                            at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:210)\n                                                                            at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(Unknown Source:0)\n                                                                            at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:106)\n                                                                            at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:59)\n                                                                            at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:62)\n                                                                            at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:299)\n                                                                            at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:269)\n                                                                            at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:230)\n                                                                            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n                                                                            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n                                                                            at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>To clarify, here the used Glide lines:</p>\n\n<pre><code> val glideUrl = GlideUrl(baseUrl + url)\n Glide.with(context)\n         .load(glideUrl)\n         .transition(withCrossFade())\n         .into(holder.logo!!)\n</code></pre>\n\n<p>I also tried it with Volley, instead of Okhttp.</p>\n"}, {"tags": ["java", "android", "json", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1523233491, "post_id": 48287865, "comment_id": 86462066, "body": "That is filed as a feature request here <a href=\"https://youtrack.jetbrains.com/issue/KT-22560\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22560</a>"}], "owner": {"reputation": 81, "user_id": 8698663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yIWW1b-vIO4/AAAAAAAAAAI/AAAAAAAAHcM/mN0ZZSafAys/photo.jpg?sz=128", "display_name": "Pawar Shah", "link": "https://stackoverflow.com/users/8698663/pawar-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1288, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1516195205, "creation_date": 1516128155, "last_edit_date": 1516139982, "question_id": 48287865, "link": "https://stackoverflow.com/questions/48287865/type-inference-failed-in-kotlin", "title": "Type inference failed in kotlin", "body": "<p>I created an extension function <code>iterator()</code> on <code>JSONArray</code> class and while using in for loop i am getting below error:</p>\n\n<pre><code>Type inferece failed: Not enough information to infer parameter T in \noperator fun &lt;T&gt; JSONArray.iterator () L Iterator&lt;T&gt;\n</code></pre>\n\n<p>My code is: </p>\n\n<pre><code>class GetFlickrJsonData(private val mCallBack: OnDataAvailable, private var mBaseUrl: String, private var mLanguage: String, private var mMatchAll: Boolean) : GetRawData.OnDownLoadComplete {\n\ninit {\n    Log.d(TAG,\"GetFlickrJsonData Called\")\n}\ncompanion object {\n    private val TAG = \"GetFlickrJsonData\"\n}\nprivate var mPhotosList: List&lt;Photo&gt;? = null\n\ninterface OnDataAvailable {\n    fun onDataAvailable(data: List&lt;Photo&gt;,status: ClientInfoStatus)\n}\n\nfun executeOnSameThread(searchCriteria: String){\n    Log.d(TAG,\"executeOnSameThread starts...\")\n    val destinationUri: String = createUri(searchCriteria,mLanguage,mMatchAll)\n    val getRawData = GetRawData(this)\n    getRawData.execute(destinationUri)\n    Log.d(TAG,\"executeOnSameThread ends...\")\n\n}\n\nfun createUri(searchCriteria: String,mLanguage: String,mMatchAll: Boolean): String{\n    Log.d(TAG,\"createUri starts...\")\n\n    return Uri.parse(mBaseUrl).buildUpon()\n            .appendQueryParameter(\"tags\",searchCriteria)\n            .appendQueryParameter(\"tagmode\",if(mMatchAll) \"ALL\" else \"ANY\")\n            .appendQueryParameter(\"lang\",mLanguage)\n            .appendQueryParameter(\"format\",\"json\")\n            .appendQueryParameter(\"nojsoncallback\",\"1\")\n            .build().toString()\n\n}\n\noverride fun onDownloadComplete(data: String?, status: DownloadStatus) {\n    Log.d(TAG,\"onDownLoadComplete  : $status\")\n    if (status == DownloadStatus.OK) mPhotosList = ArrayList()\n\n    try {\n        val jsonData = JSONObject(data)\n        val jsonArray: JSONArray = jsonData.getJSONArray(\"items\")\n        for (item: JSONObject in jsonArray){\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Extension function is: </p>\n\n<pre><code>operator fun &lt;T&gt;JSONArray.iterator(): Iterator&lt;T&gt; = (0 until length()).asSequence().map { get(it) as T }.iterator()\n</code></pre>\n\n<p>How can i infer it explicitly?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 8, "creation_date": 1516127566, "post_id": 48287698, "comment_id": 83560230, "body": "It&#39;s not mandatory to declare it as a data class. You can declare the functions <code>component1()</code> and <code>component2()</code> in any class."}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1516127741, "post_id": 48287698, "comment_id": 83560321, "body": "yes, but the whole point of using Destructuring declaration is to have a concise code, and using data classes is the easiest way.   but if for some reason someone can&#39;t use data class they can resort to <code>component1()</code> and <code>component2()</code> solution"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1516128395, "post_id": 48287698, "comment_id": 83560636, "body": "That&#39;s exactly my point. You don&#39;t <i>have</i> to use a data class if that&#39;s not appropriate."}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": true, "score": 21, "last_activity_date": 1516127923, "last_edit_date": 1516127923, "creation_date": 1516127485, "answer_id": 48287698, "question_id": 48287697, "link": "https://stackoverflow.com/questions/48287697/cant-use-destructuring-declaration/48287698#48287698", "title": "Can&#39;t use Destructuring declaration", "body": "<p>We need to declare <code>Person</code> as <strong>data</strong> class.</p>\n\n<pre><code>data class Person(val name: String, val age: Int)\n</code></pre>\n\n<p>it wasn't very clear in the docs but for official ref: </p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#example-returning-two-values-from-a-function\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/multi-declarations.html#example-returning-two-values-from-a-function</a></p>\n\n<p>from  <a href=\"https://stackoverflow.com/users/1103872/marko-topolnik\">Marko Topolnik</a> comment:<br>\nif for some reason someone can't use data class it's not mandatory. You can declare the functions <code>component1()</code> and <code>component2()</code> in any class.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1518299120, "last_edit_date": 1518299120, "creation_date": 1516149258, "answer_id": 48291975, "question_id": 48287697, "link": "https://stackoverflow.com/questions/48287697/cant-use-destructuring-declaration/48291975#48291975", "title": "Can&#39;t use Destructuring declaration", "body": "<p>It's very helpful if you simply let the IDE do some work for you. Here are the suggestions given by IntelliJ IDEA that help to fix the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SVZAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVZAp.png\" alt=\"enter image description here\"></a></p>\n\n<p>It basically lists all <em>alternatives</em>: <code>data</code> class is probably the easiest one. You can also create the corresponding <code>componentX</code> functions manually, which are otherwise automatically generated for <code>data</code> classes. In this <a href=\"https://stackoverflow.com/a/47979638/8073652\">SO thread</a>, I gave some information on this kind of function.</p>\n\n<p>As to your example, I'll show how to provide the <code>componentX</code> functions by using extension functions. This approach is especially useful whenever you're working with classes that you cannot modify yourself. It's that simple:</p>\n\n<pre><code>private operator fun Person.component1() = name\nprivate operator fun Person.component2() = age\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": false, "score": 0, "last_activity_date": 1606484971, "creation_date": 1606484971, "answer_id": 65038477, "question_id": 48287697, "link": "https://stackoverflow.com/questions/48287697/cant-use-destructuring-declaration/65038477#65038477", "title": "Can&#39;t use Destructuring declaration", "body": "<p>The easiest way to solve this problem is to use a data class since data classes automatically declare <code>componentN()</code> functions (<a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#example-returning-two-values-from-a-function\" rel=\"nofollow noreferrer\">see the docs</a>).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Person(val name: String, val age: Int)\nval (name, age) = Person(&quot;name&quot;, 22) // OK\n</code></pre>\n<p>Sometimes you might not have access to the source code of a class you want to allow destructuring, so if for any reasons you are not allowed to use data classes, you can provide the <code>componentX</code> functions (<code>component1</code> and <code>component2</code> in this case) by using extension functions.</p>\n<pre><code>operator fun Person.component1() = name\noperator fun Person.component2() = age\n</code></pre>\n"}], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6181, "favorite_count": 1, "accepted_answer_id": 48287698, "answer_count": 3, "score": 9, "last_activity_date": 1606484971, "creation_date": 1516127485, "question_id": 48287697, "link": "https://stackoverflow.com/questions/48287697/cant-use-destructuring-declaration", "title": "Can&#39;t use Destructuring declaration", "body": "<p>I have a class <code>Person</code>:</p>\n\n<pre><code>class Person(val name: String, val age: Int)\n</code></pre>\n\n<p>I want to use Destructuring declaration with <code>Parent</code> like this:</p>\n\n<pre><code>val (name, age) = Person(\"name\", 22)\n</code></pre>\n\n<p>but I get this error:</p>\n\n<blockquote>\n  <p>Destructuring declaration initializer of type Person must have a \n  'component1()' function  Destructuring declaration initializer of type\n  Person must have a 'component2()' function</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1516124081, "post_id": 48286833, "comment_id": 83558456, "body": "Is the LiveData obtained from Room DAO, or is it manual? Do you call <code>postValue()</code> from the job on the LiveData if the Job is complete (in case your LiveData is a <code>MutableLiveData</code> you manage manually)?"}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516124205, "post_id": 48286833, "comment_id": 83558529, "body": "The LiveData is obtained from a custom repository, which is obtained from a Room Dao. No, the Job does not have any reference to LiveData, it has injected via Dagger a repository which uses to insert the new record. Should I use MutableLiveData and call it from the job?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 3, "creation_date": 1516124539, "post_id": 48286833, "comment_id": 83558726, "body": "LiveData obtained from a <code>@Query</code> of a Room DAO should be updated when the table the query is based on is modified, so you shouldn&#39;t have to manually update it..."}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516125661, "post_id": 48286833, "comment_id": 83559331, "body": "Yeah, it should... :/ Added the code so you can see what I&#39;ve done."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1516126469, "post_id": 48286833, "comment_id": 83559756, "body": "Where do you observe the LiveData?"}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516180018, "post_id": 48286833, "comment_id": 83579002, "body": "The RoomDAO has a @Query which returns LiveData. Then from the repository I access said LiveData and return it as it is. After that from the ViewModel I have a field which holds a LiveData and populates it from the repository. Finally from the activity I observe to the changes in the ViewModel&#39;s LiveData. It works when updating from the UI but not when a new record is inserted in the database from a background job."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1516187829, "post_id": 48286833, "comment_id": 83584034, "body": "Can you show the relevant query / dao?"}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516200260, "post_id": 48286833, "comment_id": 83592165, "body": "Ok. I found out that the instance of the repository on the App is different that  the instance of the repository on the background job. I edited the question to reflect the new findings."}], "owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1026, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516200654, "creation_date": 1516123946, "last_edit_date": 1516200654, "question_id": 48286833, "link": "https://stackoverflow.com/questions/48286833/how-do-i-notify-in-android-the-viewmodel-when-a-background-job-has-finished-crea", "title": "How do I notify in Android the ViewModel when a background job has finished creating a new record using LiveData?", "body": "<p>I have an application which from one activity triggers a background job using <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a>. This job inserts in a database using <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"nofollow noreferrer\">Room</a> once it's done. To notify the ViewModel I'm using <a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">LiveData</a>. I have set up a main activity which uses <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">ViewModel</a> and everything is injected with <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger 2</a>.</p>\n\n<p>The problem is as follows: when I launch the main activity the list is populated as expected. However when from other activity I schedule a job and said job is finished and a new record has been inserted in the database <strong>the main activity does not update</strong>. </p>\n\n<p>Moreover, if I update a record from the main activity (without using a job) the view refreshes as expected, which makes me believe that the problem has to do with the ViewModel not detecting when a record is inserted using a job.</p>\n\n<p>If I'm using LiveData, isn't it supposed to catch all the new insertions? How could I manually notify the ViewModel of the new record?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Repository:</p>\n\n<pre><code>@Singleton\nclass DebtsRepository @Inject constructor(\n        var debtDao: DebtDao\n) {\n\n    fun insertDebt(debt: Debt) {\n        debtDao.insert(debt)\n        Log.e(\"DebtsRepository\", \"debt inserted\")\n    }\n\n    fun getAllDebts(): LiveData&lt;List&lt;Debt&gt;&gt; {\n        return debtDao.findAll()\n    }\n\n    fun getAllDebtsWithInformation(): LiveData&lt;List&lt;DebtWithDebtorCreditorAndProduct&gt;&gt; {\n        return debtDao.findAllWithProductDebtorAndCreditor()\n    }\n\n    fun payDebt(debtId: Long) {\n        val paidDebt = debtDao.findOne(debtId)\n        debtDao.update(paidDebt.copy(paid = true))\n    }\n\n    fun getUnpaidDebts(debts: List&lt;DebtWithDebtorCreditorAndProduct&gt;): List&lt;DebtWithDebtorCreditorAndProduct&gt; = debts.filter { !it.debt.paid }\n\n}\n</code></pre>\n\n<p>Here is the ViewModel:</p>\n\n<pre><code>@Singleton\nclass DebtsListViewModel @Inject constructor(var debtsRepository: DebtsRepository) : ViewModel() {\n\n    private var debts: LiveData&lt;List&lt;Debt&gt;&gt; = MutableLiveData()\n    private var formattedDebts: LiveData&lt;List&lt;DebtWithDebtorCreditorAndProduct&gt;&gt; = MutableLiveData()\n\n    init {\n        debts = debtsRepository.getAllDebts()\n        formattedDebts = Transformations.switchMap(debts) {\n            Log.e(\"DebtsListViewModel\", \"change triggered\")\n            debtsRepository.getAllDebtsWithInformation()\n        }\n    }\n\n    fun getFormattedDebts() = formattedDebts\n\n    fun payDebt(debtId: Long) {\n        debtsRepository.payDebt(debtId)\n    }\n\n    fun getUnpaidDebts(): List&lt;DebtWithDebtorCreditorAndProduct&gt; =\n            if (formattedDebts.value != null)\n                debtsRepository.getUnpaidDebts(formattedDebts.value!!)\n            else\n                emptyList()\n\n}\n</code></pre>\n\n<p>This is the job:</p>\n\n<pre><code>class GenerateDebtJobService : JobService() {\n\n    @Inject\n    lateinit var debtsRepository: DebtsRepository\n\n    @Inject\n    lateinit var productDao: ProductDao\n\n    @Inject\n    lateinit var productsDebtorsDao: ProductDebtorDao\n\n    @Inject\n    lateinit var productCreditorsDao: ProductCreditorDao\n\n    override fun onStartJob(params: JobParameters): Boolean {\n        DaggerGraphBuilder.build(applicationContext as FineApplication).inject(this)\n        val productId = params.extras.getLong(\"id\")\n        val product = productDao.findOne(productId)\n        val productCreditor = productCreditorsDao.findOneByProduct(productId)\n        val debtors = productsDebtorsDao.findAllByProduct(productId)\n\n        // When the bill day is reached for a given product the debtors list associated with that product is looped through and a new debt is created\n        debtors.forEach {\n            debtsRepository.insertDebt(Debt(productId = it.productProductId, debtorId = it.productDebtorId, quantity = product.recurringCost, date = DateTime().toString(), creditorId = productCreditor.productCreditorId))\n        }\n\n        return false\n    }\n\n    override fun onStopJob(params: JobParameters): Boolean {\n        Log.e(\"GenerateDebtJob\", \"job finished\")\n        return false\n    }\n\n    companion object {\n        fun build(application: Application, productId: Long, periodicity: Days, startDay: Days) {\n            val serviceComponent = ComponentName(application, GenerateDebtJobService::class.java)\n            val bundle = PersistableBundle()\n            bundle.putLong(\"id\", productId)\n\n            val builder = JobInfo.Builder(productId.toInt(), serviceComponent)\n                    .setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)\n//                    .setPeriodic(TimeUnit.DAYS.toMillis(periodicity.days.toLong()))\n                    .setOverrideDeadline(1_000)\n                    .setExtras(bundle)\n\n            (application.getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler).schedule(builder.build())\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>More edits:</strong></p>\n\n<p>I found out that the <strong>instance of the repository on the App is different that the instance of the repository on the background job</strong>. This makes the LiveData unable to trigger new changes when there are new records inserted in the DB.</p>\n\n<p>So my guess is that somehow I have to check if the app is on the foreground and if so inject the current instance of the repository into the job.</p>\n\n<p>If not, then the dependency graph must be created and as the job executes without the app running.</p>\n\n<p>Here are the relevant parts of DI configuration:</p>\n\n<p>AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    AppModule::class,\n    AndroidInjectionModule::class,\n    DebtsListViewModelModule::class,\n    DebtsListModule::class,\n    AddProductModule::class\n])\ninterface AppComponent {\n\n    fun inject(application: FineApplication)\n    fun inject(generateDebtJobService: GenerateDebtJobService)\n\n}\n</code></pre>\n\n<p>AppModule:</p>\n\n<pre><code>@Singleton\n@Module\nclass AppModule(private val application: Application) {\n\n    @Provides\n    fun provideApplicationContext(): Context = application\n\n    @Provides\n    fun provideAppDatabase(context: Context): AppDatabase =\n            Room\n                    .databaseBuilder&lt;AppDatabase&gt;(context, AppDatabase::class.java, AppDatabase.DB_NAME)\n                    .allowMainThreadQueries()\n                    .build()\n\n    @Provides\n    fun provideDebtDao(database: AppDatabase): DebtDao = database.debtDao()\n\n    @Provides\n    fun provideDebtorDao(database: AppDatabase): DebtorDao = database.debtorDao()\n\n    @Provides\n    fun provideCreditorDao(database: AppDatabase): CreditorDao = database.creditorDao()\n\n    @Provides\n    fun provideProductDao(database: AppDatabase): ProductDao = database.productDao()\n\n    @Provides\n    fun provideProductDebtorDao(database: AppDatabase): ProductDebtorDao = database.productDebtorDao()\n\n    @Provides\n    fun provideProductCreditorDao(database: AppDatabase): ProductCreditorDao = database.productCreditorDao()\n\n}\n</code></pre>\n\n<p>Application:</p>\n\n<pre><code>class FineApplication : Application(), HasActivityInjector {\n\n    @Inject\n    lateinit var dispatchingActivityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    private val component by lazy {\n        DaggerAppComponent\n                .builder()\n                .appModule(AppModule(this))\n                .build()\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        component.inject(this)\n        Stetho.initializeWithDefaults(this)\n        JodaTimeAndroid.init(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = dispatchingActivityInjector\n\n}\n</code></pre>\n\n<p>If there is anything else needed just let me know.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "edited": false, "score": 1, "creation_date": 1516126337, "post_id": 48286338, "comment_id": 83559687, "body": "So, inside fun child, when you call child.init(), name = &quot;Gugu&quot; and age = 2 (written in main) is the same as writing child.name = &quot;Gugu&quot; and child.age = 2 in fun child, right?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "edited": false, "score": 0, "creation_date": 1516126687, "post_id": 48286338, "comment_id": 83559846, "body": "Yes, because inside the <code>init</code> block, <code>this</code> is assigned to the <code>child</code> instance."}, {"owner": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "edited": false, "score": 0, "creation_date": 1516128478, "post_id": 48286338, "comment_id": 83560680, "body": "So function person is only for building purposes? If want to get some value after building, I would have to call Person class, right?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "edited": false, "score": 0, "creation_date": 1516128595, "post_id": 48286338, "comment_id": 83560730, "body": "Yes, you get a regular data class out of it. But at any later point you can again call <code>p.child { ... }</code>"}, {"owner": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "edited": false, "score": 0, "creation_date": 1516133090, "post_id": 48286338, "comment_id": 83562887, "body": "Awesome! Thanks."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1523470651, "last_edit_date": 1523470651, "creation_date": 1516122165, "answer_id": 48286338, "question_id": 48286031, "link": "https://stackoverflow.com/questions/48286031/how-to-work-with-type-safe-builders-in-kotlin/48286338#48286338", "title": "How to work with Type-Safe Builders in Kotlin?", "body": "<p>I was interested in some details, too. Here's what I wrote:</p>\n\n<pre><code>data class Person(\n        var name: String? = null,\n        var age: Int? = null,\n        val children: MutableList&lt;Person&gt; = ArrayList()\n) {\n    fun child(init: Person.() -&gt; Unit) = Person().also {\n        it.init()\n        children.add(it)\n    }\n}\n\nfun person(init: Person.() -&gt; Unit) = Person().apply { init() }\n\nfun main(args: Array&lt;String&gt;) {\n    val p = person {\n        name = \"Mommy\"\n        age = 33\n        child {\n            name = \"Gugu\"\n            age = 2\n        }\n        child {\n            name = \"Gaga\"\n            age = 3\n        }\n    }\n    println(p)\n}\n</code></pre>\n\n<p>It prints out (with a little formatting added):</p>\n\n<pre><code>Person(name=Mommy, age=33, children=[\n    Person(name=Gugu, age=2, children=[]), \n    Person(name=Gaga, age=3, children=[])\n])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1516133261, "creation_date": 1516133261, "answer_id": 48289040, "question_id": 48286031, "link": "https://stackoverflow.com/questions/48286031/how-to-work-with-type-safe-builders-in-kotlin/48289040#48289040", "title": "How to work with Type-Safe Builders in Kotlin?", "body": "<h2>Kotlin DSLs</h2>\n\n<p>Kotlin is great for writing your own <strong>Domain Specific Languages</strong>, also called <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">type-safe builders</a>. Anko is one of the examples using such DSLs. The most important language feature you need to understand here is called <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">\"Function Literals with Receiver\"</a>, which you made use of already: <code>Test.() -&gt; Unit</code></p>\n\n<h2>Function Literals with Receiver - Basics</h2>\n\n<p>Kotlin supports the concept of \u201cfunction literals with receivers\u201d. This enables us to call methods on the <strong>receiver</strong> of the function literal in its body <em>without any specific qualifiers</em>. This is very <strong>similar to extension functions</strong>in which it\u2019s also possible to access members of the receiver object inside the extension. </p>\n\n<p>A simple example, also one of the greatest functions in the Kotlin standard library, is<code>apply</code></p>\n\n<pre><code>public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n\n<p>As you can see, such a function literal with receiver is taken as the argument <code>block</code> here. This block is simply executed and the receiver (which is an instance of <code>T</code>) is returned. In action this looks as follows:</p>\n\n<pre><code>val foo: Bar = Bar().apply {\n    color = RED\n    text = \"Foo\"\n}\n</code></pre>\n\n<p>We instantiate an object of <code>Bar</code> and call <code>apply</code> on it. The instance of <code>Bar</code> becomes the \u201creceiver\u201d. The <code>block</code>, passed as an argument in <code>{}</code>(lambda expression) does not need to use additional qualifiers to access and modify the shown visible properties <code>color</code> and <code>text</code>.</p>\n\n<h2>Function Literals with Receiver - in DSL</h2>\n\n<p>If you look at this example, taken from the documentation, you see this in action:</p>\n\n<pre><code>class HTML {\n    fun body() { ... }\n}\n\nfun html(init: HTML.() -&gt; Unit): HTML {\n    val html = HTML()  // create the receiver object\n    html.init()        // pass the receiver object to the lambda\n    return html\n}\n\n\nhtml {       // lambda with receiver begins here\n    body()   // calling a method on the receiver object\n}\n</code></pre>\n\n<p>The <code>html()</code> function expects such a function literal with receiver with <code>HTML</code> as the receiver. In the function body you can see how it is used: an instance of <code>HTML</code> is created and the <code>init</code> is called on it.  </p>\n\n<h2>Benefit</h2>\n\n<p>The caller of such an <em>higher-order function</em> expecting a function literal with receiver (like <code>html()</code>) you can use any visible <code>HTML</code> function and property without additional qualifiers (like <code>this</code> e.g.), as you can see in the call:</p>\n\n<pre><code>html {       // lambda with receiver begins here\n    body()   // calling a method on the receiver object\n}\n</code></pre>\n\n<h2>Example</h2>\n\n<p>I've written a sample DSL and described it very detailed in a <a href=\"https://blog.simon-wirtz.de/creating-dsl-with-kotlin-introducing-a-tlslibrary/\" rel=\"nofollow noreferrer\">blog post</a>. Maybe that's also helpful.</p>\n"}], "owner": {"reputation": 93, "user_id": 9225367, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894248704222788/picture?type=large", "display_name": "Adobe Alura", "link": "https://stackoverflow.com/users/9225367/adobe-alura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1769, "favorite_count": 0, "accepted_answer_id": 48286338, "answer_count": 2, "score": 4, "last_activity_date": 1523470651, "creation_date": 1516121028, "question_id": 48286031, "link": "https://stackoverflow.com/questions/48286031/how-to-work-with-type-safe-builders-in-kotlin", "title": "How to work with Type-Safe Builders in Kotlin?", "body": "<p>I've seen lots of tutorials but still didn't get exactly how it works. I understood the main idea: a function holding functions with data, but looking <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">official documentation</a> I couldn't realize how and where the data is stored and who calls the function responsible for its storaging. Other tutorials seems to show just a snippet of code, which didn't help me much. Can you give me a full and simple example with a trivial class, like a person, please?</p>\n"}, {"tags": ["java", "methods", "lambda", "interface", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": false, "score": 2, "last_activity_date": 1516118551, "last_edit_date": 1516118551, "creation_date": 1516118168, "answer_id": 48285208, "question_id": 48284994, "link": "https://stackoverflow.com/questions/48284994/lambda-implementation-of-interface-in-kotlin/48285208#48285208", "title": "Lambda implementation of interface in kotlin", "body": "<p>You can use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">object expression</a></p>\n\n<p>So it would look something like this:</p>\n\n<pre><code>val impl = object : AnInterface {\n    override fun(doSmth: Any, num: Int) {\n        TODO()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 2, "creation_date": 1548511264, "post_id": 48285220, "comment_id": 95571585, "body": "Why Kotlin interfaces doesn&#39;t have a similar SAM conversion to that of Java? Any way can this AnInterface { inst, num -&gt; } apply to Kotlin interface as well?"}, {"owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "edited": false, "score": 0, "creation_date": 1580997393, "post_id": 48285220, "comment_id": 106288172, "body": "well you can upvote this issue here: <a href=\"https://discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces/1433\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 30, "last_activity_date": 1516118507, "last_edit_date": 1516118507, "creation_date": 1516118200, "answer_id": 48285220, "question_id": 48284994, "link": "https://stackoverflow.com/questions/48284994/lambda-implementation-of-interface-in-kotlin/48285220#48285220", "title": "Lambda implementation of interface in kotlin", "body": "<p>If <code>AnInterface</code> is Java, you can work with <a href=\"https://stackoverflow.com/a/47605970/8073652\">SAM conversion</a>:</p>\n\n<pre><code>val impl = AnInterface { inst, num -&gt; \n     //...\n}\n</code></pre>\n\n<p>Otherwise, if the interface is Kotlin...</p>\n\n<pre><code>interface AnInterface {\n     fun doSmth(inst: MyClass, num: Int)\n}\n</code></pre>\n\n<p>...you can use the <code>object</code> syntax for implementing it anonymously:</p>\n\n<pre><code>val impl = object : AnInterface {\n    override fun doSmth(inst:, num: Int) {\n        //...\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1527039381, "post_id": 48286559, "comment_id": 87970842, "body": "This is the true answer... the other 2 does not address the lambda implementation. However if I still want to use my own declared interface (for readability reason), does it mean I cannot use lambda?"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 1, "creation_date": 1529292738, "post_id": 48286559, "comment_id": 88804538, "body": "@SiraLam you can declare a default variable name for a functional type: <code>val listener: (name: Class, other: OtherClass) -&gt; Unit</code>"}, {"owner": {"reputation": 6162, "user_id": 1672027, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/356de98a7af65cf6dd187d3796ba04fd?s=128&d=identicon&r=PG", "display_name": "Matt Klein", "link": "https://stackoverflow.com/users/1672027/matt-klein"}, "reply_to_user": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 2, "creation_date": 1531345122, "post_id": 48286559, "comment_id": 89566571, "body": "@SiraLam If you want the interface for readability reasons then you&#39;re probably suffering from Primitive Obsession. tl;dr - don&#39;t use primitives as arguments. What does a function with this signature do? <code>(String) -&gt; String</code> Without a name, you can&#39;t reason about it. Now, what does a function with this signature do? <code>(UserId) -&gt; PhoneNumber</code> - Well, the only reasonable implementation would be something that looks up user data by ID, then pulls out the phone number and returns it. If your functions don&#39;t take primitives then you don&#39;t usually need to wrap them in an interface for readability."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 19, "last_activity_date": 1516122966, "creation_date": 1516122966, "answer_id": 48286559, "question_id": 48284994, "link": "https://stackoverflow.com/questions/48284994/lambda-implementation-of-interface-in-kotlin/48286559#48286559", "title": "Lambda implementation of interface in kotlin", "body": "<p>If you're rewriting both the interface and its implementations to Kotlin, then you should just delete the interface and use a functional type:</p>\n\n<pre><code>val impl: (MyClass, Int) -&gt; Unit = { inst, num -&gt; ... }\n</code></pre>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10922, "favorite_count": 3, "accepted_answer_id": 48285220, "answer_count": 3, "score": 27, "last_activity_date": 1516122966, "creation_date": 1516117498, "question_id": 48284994, "link": "https://stackoverflow.com/questions/48284994/lambda-implementation-of-interface-in-kotlin", "title": "Lambda implementation of interface in kotlin", "body": "<p>What would be the equivalent of that code in kotlin, nothing seems to work of what I try:</p>\n\n<pre><code>public interface AnInterface {\n    void doSmth(MyClass inst, int num);\n}\n</code></pre>\n\n<p>init:</p>\n\n<pre><code>AnInterface impl = (inst, num) -&gt; {\n    //...\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-drawable"], "comments": [{"owner": {"reputation": 12180, "user_id": 588532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gqNqv.jpg?s=128&g=1", "display_name": "Uriel Frankel", "link": "https://stackoverflow.com/users/588532/uriel-frankel"}, "edited": false, "score": 0, "creation_date": 1516179149, "post_id": 48284757, "comment_id": 83578476, "body": "What about putting all the edittext inside a frame layout and putting a view above it?"}, {"owner": {"reputation": 3545, "user_id": 1554860, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RGb4x.png?s=128&g=1", "display_name": "james", "link": "https://stackoverflow.com/users/1554860/james"}, "reply_to_user": {"reputation": 12180, "user_id": 588532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gqNqv.jpg?s=128&g=1", "display_name": "Uriel Frankel", "link": "https://stackoverflow.com/users/588532/uriel-frankel"}, "edited": false, "score": 0, "creation_date": 1516195642, "post_id": 48284757, "comment_id": 83589071, "body": "@UrielFrankel my only hesitation with an implementation like that is I wanted to stick with &quot;the native Android&quot; way of doing things by using the <code>app:errorEnabled</code> and <code>app:errorTextAppearance</code> to control the styling/position of my errors. I don&#39;t want to have to worry about positioning my error text anytime I want to use an icon. But that is definitely a valid way around this problem I am having, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "is_accepted": false, "score": 0, "last_activity_date": 1533420938, "last_edit_date": 1533420938, "creation_date": 1517533234, "answer_id": 48574188, "question_id": 48284757, "link": "https://stackoverflow.com/questions/48284757/android-textinputlayout-icon-in-error-or-hint-text/48574188#48574188", "title": "Android TextInputLayout icon in error (or hint) text", "body": "<p>This might help others who've fallen in to similar trouble. I looked at source codes. The thing is <code>setError(text, drawable)</code> has defined in EditText class not <code>TextInputLayout</code> as your layout is based on.</p>\n\n<p>I have similar code and issue like you and since <a href=\"https://developer.android.com/reference/android/support/design/widget/TextInputLayout.html\" rel=\"nofollow noreferrer\">TextInputLayout</a> doesn't have any method to replace Drawable then we have to create a TextView below TextInputLayout in order to simulate error message.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9940544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a142657445a4df352af784ca48dab0?s=128&d=identicon&r=PG&f=1", "display_name": "Cassian", "link": "https://stackoverflow.com/users/9940544/cassian"}, "is_accepted": false, "score": 1, "last_activity_date": 1533380514, "last_edit_date": 1533380514, "creation_date": 1533208859, "answer_id": 51652363, "question_id": 48284757, "link": "https://stackoverflow.com/questions/48284757/android-textinputlayout-icon-in-error-or-hint-text/51652363#51652363", "title": "Android TextInputLayout icon in error (or hint) text", "body": "<p>You can use SpannableString with ImageSpan like this</p>\n\n<pre><code>val errorDrawable = ContextCompat.getDrawable(context!!, R.drawable.ic_error)\nyour_text_input_layout.error = SpannableString(\"your string\").apply {\n                setSpan(ImageSpan(errorDrawable, ImageSpan.ALIGN_BASELINE), 0, 1, Spanned.SPAN_INCLUSIVE_EXCLUSIVE)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3450, "user_id": 527808, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/z3Pjz.jpg?s=128&g=1", "display_name": "dilix", "link": "https://stackoverflow.com/users/527808/dilix"}, "is_accepted": false, "score": 0, "last_activity_date": 1533452683, "last_edit_date": 1533452683, "creation_date": 1533423713, "answer_id": 51690177, "question_id": 48284757, "link": "https://stackoverflow.com/questions/48284757/android-textinputlayout-icon-in-error-or-hint-text/51690177#51690177", "title": "Android TextInputLayout icon in error (or hint) text", "body": "<p>You want to place an icon inside the error container of <code>TextInputLayout</code></p>\n\n<p>If you check the real layout</p>\n\n<p><a href=\"https://i.stack.imgur.com/dWoF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dWoF2.png\" alt=\"enter image description here\"></a> </p>\n\n<p>You'll find that your textview is even wrap content.</p>\n\n<p>Also in SDK sources</p>\n\n<pre><code>if (enabled) {\n    mErrorView = new AppCompatTextView(getContext());\n    mErrorView.setId(R.id.textinput_error);\n    ...\n</code></pre>\n\n<p>So there is no place to insert an icon on the right AS IS.</p>\n\n<ul>\n<li>One possible solution is to find this view programatically inside your layout, change width and apply drawable.</li>\n<li>Second (and probably easiest) solution is to implement your own simple error layout and not to set error for <code>TextInputLayout</code> but manage the error state by yourself</li>\n</ul>\n"}], "owner": {"reputation": 3545, "user_id": 1554860, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RGb4x.png?s=128&g=1", "display_name": "james", "link": "https://stackoverflow.com/users/1554860/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6510, "favorite_count": 2, "answer_count": 3, "score": 10, "last_activity_date": 1533452683, "creation_date": 1516116745, "question_id": 48284757, "link": "https://stackoverflow.com/questions/48284757/android-textinputlayout-icon-in-error-or-hint-text", "title": "Android TextInputLayout icon in error (or hint) text", "body": "<p>I am using a <code>TextInputLayoutHelper</code> widget in order to follow the material guidelines for floating label inputs. It currently looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8Dw81.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8Dw81.png\" alt=\"floating input label with error message\"></a></p>\n\n<h2>My code</h2>\n\n<p>In my activities <code>onCreate</code> function, I have:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    val passwordInputLayout = this.findViewById&lt;TextInputLayoutHelper&gt;(R.id.input_layout_password)\n    passwordInputLayout.error = \"8+ characters and at least one uppercase letter, a number, and a special character (\\$, #, !)\"\n    passwordInputLayout.isErrorEnabled = true\n}\n</code></pre>\n\n<p>and my widget in my <code>xml</code> looks like...</p>\n\n<pre><code>&lt;TextInputLayout\n    android:id=\"@+id/input_layout_password\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/EditTextTheme\"\n    app:errorEnabled=\"true\"\n    app:errorTextAppearance=\"@style/ErrorAppearance\"\n    app:passwordToggleDrawable=\"@drawable/asl_password_visibility\"\n    app:passwordToggleEnabled=\"true\"\n    app:passwordToggleTint=\"?colorControlNormal\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/password_edit_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:ems=\"10\"\n        android:hint=\"@string/set_a_password\"\n        android:inputType=\"textPassword\"\n        android:singleLine=\"true\" /&gt;\n\n&lt;/TextInputLayout&gt;\n</code></pre>\n\n<h2>What I want to do</h2>\n\n<p>I want to put an icon in the error/hint text (the exclamation triangle) to the right of the error text.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IkAKN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IkAKN.png\" alt=\"mock up of input with error icon\"></a></p>\n\n<h2>My Attempt</h2>\n\n<h3>Attempt 1</h3>\n\n<p><a href=\"https://stackoverflow.com/q/13707282/1554860\">I found an implementation</a> which uses <code>setError(text, drawable)</code> but I am using <code>Kotlin</code> to <code>setError</code> is not available.</p>\n\n<p>So I tried:</p>\n\n<pre><code>val warningIcon = ResourcesCompat.getDrawable(resources, R.drawable.ic_warning_black_24dp, null)\nwarningIcon?.setBounds(0, 0, warningIcon.intrinsicWidth, warningIcon.intrinsicHeight)\n\npasswordInputLayout.error = \"8+ characters and at least one uppercase letter, a number, and a special character (\\$, #, !) $warningIcon\"\n</code></pre>\n\n<p>but that does not render the drawable, only a string of the resource path.</p>\n\n<h3>Attempt 2</h3>\n\n<p>I found <a href=\"https://stackoverflow.com/a/9161958/1554860\">another one</a> that overrides the <code>TextInputLayoutHelper</code> in order to set a drawable next to the text. As you can see, <code>setError</code> only contains the interface <code>override fun setError(error: CharSequence?)</code> which does not have a parameter for <code>drawable</code>.</p>\n\n<pre><code>override fun setError(error: CharSequence?) {\n    super.setError(error)\n\n    val warningIcon = ResourcesCompat.getDrawable(resources, R.drawable.ic_warning_black_24dp, null)\n    warningIcon?.setBounds(0, 0, warningIcon.intrinsicWidth, warningIcon.intrinsicHeight)\n    // mHelperView is a TextView used in my custom `TextInputLayout` override widget\n    mHelperView!!.setCompoundDrawables(null, null, warningIcon, null)\n}\n</code></pre>\n\n<hr>\n\n<p>Is there an override or built in \"Android way\" to add this icon next to the error/hint text?</p>\n"}, {"tags": ["android", "kotlin", "gson"], "comments": [{"owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "edited": false, "score": 0, "creation_date": 1516116854, "post_id": 48284634, "comment_id": 83553588, "body": "Why the down vote? Did you not understand the question?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516116857, "post_id": 48284634, "comment_id": 83553592, "body": "ok lets define &quot;no-args constructor&quot; == &quot;parameterless constructor&quot; ... now we can use google: kotlin data class parameterless constructor"}, {"owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516116900, "post_id": 48284634, "comment_id": 83553623, "body": "I think you missed the EDIT. Good work for google. Already did that!"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516116986, "post_id": 48284634, "comment_id": 83553679, "body": "so now it&#39;s a new question where 90% of it is unrelated"}, {"owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516117283, "post_id": 48284634, "comment_id": 83553902, "body": "The background to some error that happens in the same place is quite vital for this question I think!"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516117524, "post_id": 48284634, "comment_id": 83554057, "body": "I bet that the second error is becuase @Parcelize(which has experimental flag) doesn&#39;t supports objects"}, {"owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516117637, "post_id": 48284634, "comment_id": 83554147, "body": "But how come this works perfectly in Lollipop+? My thought was more something Kitkat is missing in either GSON or something else which was added later."}], "owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516117119, "creation_date": 1516116352, "last_edit_date": 1516117119, "question_id": 48284634, "link": "https://stackoverflow.com/questions/48284634/cant-deserialize-json-with-gson-using-kotlin-happens-only-on-android-kitkat-an", "title": "Can&#39;t deserialize JSON with Gson using Kotlin (Happens only on Android KitKat and maybe lower)", "body": "<p>As the title describes I'm trying to deserialize some JSON doing it this way:</p>\n\n<pre><code>val jsonResponse = ApiClientLive().get(\"events/\" + id.toString() + \".json\")\nval event = GsonBuilder().create().fromJson(jsonResponse, Event::class.java) // &lt;-- Crashes here\nCollections.sort(event.courses!!) { course1, course2 -&gt; course1.name!!.compareTo(course2.name!!, ignoreCase = true) }\n</code></pre>\n\n<p>This only crashes when running on Android KitKat, Api level 19, and this is the crash message: (19 is the lowest I support so I don't know of lower api levels)</p>\n\n<pre><code>onError()\n    java.lang.RuntimeException: Unable to invoke no-args constructor for class ...event.models.Event. Registering an InstanceCreator with Gson for this type may fix this problem.\n    at com.google.gson.internal.ConstructorConstructor$14.construct(ConstructorConstructor.java:226)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:210)\n    at com.google.gson.Gson.fromJson(Gson.java:888)\n    at com.google.gson.Gson.fromJson(Gson.java:853)\n    at com.google.gson.Gson.fromJson(Gson.java:802)\n    at com.google.gson.Gson.fromJson(Gson.java:774)\n    at ...event.EventPresenter$loadEvent$1.subscribe(EventPresenter.kt:96)\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\n    at io.reactivex.Observable.subscribe(Observable.java:10910)\n    at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\n    at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n    at java.lang.Thread.run(Thread.java:841)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.google.gson.internal.UnsafeAllocator$1.newInstance(UnsafeAllocator.java:50)\n    at com.google.gson.internal.ConstructorConstructor$14.construct(ConstructorConstructor.java:223)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:210)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:888)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:853)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:802)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:774)\u00a0\n    at ...event.EventPresenter$loadEvent$1.subscribe(EventPresenter.kt:96)\u00a0\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\u00a0\n    at io.reactivex.Observable.subscribe(Observable.java:10910)\u00a0\n    at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\u00a0\n    at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)\u00a0\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)\u00a0\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)\u00a0\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\u00a0\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)\u00a0\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\u00a0\n    at java.lang.Thread.run(Thread.java:841)\u00a0\nCaused by: java.lang.VerifyError: com/tractrac/otrack/event/models/Event$Creator\n    at ...event.models.Event.&lt;clinit&gt;(Event.kt)\n    at sun.misc.Unsafe.allocateInstance(Native Method)\n    at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n    at com.google.gson.internal.UnsafeAllocator$1.newInstance(UnsafeAllocator.java:50)\u00a0\n    at com.google.gson.internal.ConstructorConstructor$14.construct(ConstructorConstructor.java:223)\u00a0\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:210)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:888)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:853)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:802)\u00a0\n    at com.google.gson.Gson.fromJson(Gson.java:774)\u00a0\n    at ...event.EventPresenter$loadEvent$1.subscribe(EventPresenter.kt:96)\u00a0\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\u00a0\n    at io.reactivex.Observable.subscribe(Observable.java:10910)\u00a0\n    at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\u00a0\n    at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)\u00a0\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:61)\u00a0\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:52)\u00a0\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\u00a0\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:152)\u00a0\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:265)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\u00a0\n    at java.lang.Thread.run(Thread.java:841)\n</code></pre>\n\n<p>The <strong>Event</strong> object looks like the following:</p>\n\n<pre><code>@SuppressLint(\"ParcelCreator\")\n@Parcelize\ndata class Event(\n    var id: Int,\n    var name: String?,\n    @SerializedName(\"permanent\") var isPermanent: Boolean,\n    @SerializedName(\"start_time\") var startTime: Long?,\n    @SerializedName(\"end_time\") var endTime: Long?,\n    @SerializedName(\"map_publication_time\") var mapPublicationTime: Long?,\n    @SerializedName(\"allow_punching\") var allowPunching: Boolean?,\n    var courses: List&lt;Course&gt;?\n): Parcelable\n</code></pre>\n\n<p>All sub objects like <strong>Course</strong> looks similar to this. </p>\n\n<p>Does anyone know of a nice little fix for this?</p>\n\n<p><strong>EDIT:</strong> I found somewhere that adding empty constructors to the objects might fix this issue. But adding it to Event and all custom sub objects generates another error:</p>\n\n<pre><code>FATAL EXCEPTION: RxCachedThreadScheduler-1\nProcess: ...debug, PID: 30493\nio.reactivex.exceptions.UndeliverableException: java.lang.VerifyError: ../event/models/Event$Creator\n</code></pre>\n\n<p><strong>EDIT2:</strong> Even though I get this other error I still get the crash on the same line. So the problem is still with GSON not being able to deserialize the JSON. </p>\n"}, {"tags": ["kotlin", "project-reactor"], "comments": [{"owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "edited": false, "score": 0, "creation_date": 1516200771, "post_id": 48283841, "comment_id": 83592529, "body": "is the <code>EventProcessor</code> a listener interface of some sort? Is it registered to a source? Or is it expected to be directly manipulated by the user to trigger a new data even manually?"}, {"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "reply_to_user": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "edited": false, "score": 0, "creation_date": 1516204061, "post_id": 48283841, "comment_id": 83594872, "body": "@SimonBasle Yes, it is a listener. This example is a little contrived, in fact my class&#39; <code>onUserEvent</code> are triggered by a <code>doOnSuccess</code> of a different <code>Flux</code>."}, {"owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "edited": false, "score": 0, "creation_date": 1516204194, "post_id": 48283841, "comment_id": 83594950, "body": "have you made sure your use case couldn&#39;t do entirely without the listener and sinks in this case? usually <code>map</code> and <code>flatMap</code> will get you a looooong way if your original source is already a <code>Publisher&#47;Flux&#47;Mono</code>..."}, {"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "reply_to_user": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "edited": false, "score": 0, "creation_date": 1516204874, "post_id": 48283841, "comment_id": 83595436, "body": "I was thinking exactly the same. However, <code>flatMap</code> and <code>map</code> are used for serial processing. However I need to return the results from the original source immediately and then run a lengthy <code>EventProcessor</code> in the background. Also, the audience of the two publishers are different."}], "owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516113939, "creation_date": 1516113939, "question_id": 48283841, "link": "https://stackoverflow.com/questions/48283841/how-to-inform-a-flux-that-i-have-an-item-ready-to-publish", "title": "How to inform a Flux that I have an item ready to publish?", "body": "<p>I am trying to make a class that would take incoming user events, process them and then pass the result to whoever subscribed to it:</p>\n\n<pre><code>class EventProcessor\n{\n    val flux: Flux&lt;Result&gt;\n\n    fun onUserEvent1(e : Event)\n    {\n        val result = process(e)\n        // Notify flux that I have a new result\n    }\n\n    fun onUserEvent2(e : Event)\n    {\n        val result = process(e)\n        // Notify flux that I have a new result\n    }\n\n    fun process(e : Event): Result \n    { \n        ...\n    }\n}\n</code></pre>\n\n<p>Then the client code can subscribe to <code>EventProcessor::flux</code> and get notified each time a user event has been successfully processed.</p>\n\n<p>However, I do not know how to do this. I tried to construct the <code>flux</code> with the <code>Flux::generate</code> function like this:</p>\n\n<pre><code>class EventProcessor\n{\n    private var sink: SynchronousSink&lt;Result&gt;? = null\n    val flux: Flux&lt;Result&gt; = Flux.generate{ sink = it }\n\n    fun onUserEvent1(e : Event)\n    {\n        val result = process(e)\n        sink?.next(result)\n    }\n\n    fun onUserEvent2(e : Event)\n    {\n        val result = process(e)\n        sink?.next(result)\n    }\n\n    ....\n}\n</code></pre>\n\n<p>But this does not work, since I am supposed to immediately call <code>next</code> on the <code>SynchronousSink&lt;Result&gt;</code> passed to me in <code>Flux::generate</code>. I cannot store the <code>sink</code> as in the example: </p>\n\n<blockquote>\n  <p>reactor.core.Exceptions$ErrorCallbackNotImplemented:\n  java.lang.IllegalStateException: The generator didn't call any of the\n  SynchronousSink method</p>\n</blockquote>\n\n<p>I was also thinking about the <code>Flux::merge</code> and <code>Flux::concat</code> methods, but these are static and they create a new <code>Flux</code>. I just want to push things into the existing flux, such that whoever holds it, gets notified.</p>\n\n<p>Based on my limited understanding of the reactive types, this is supposed to be a common use case. Yet I find it very difficult to actually implement it. This brings me to a suspicion that I am missing something crucial or that I am using the library in an odd way, in which it was not intended to be used. If this is the case, any advice is warmly welcome.</p>\n"}, {"tags": ["android", "kotlin", "admob", "ads", "googleads-mobile-unity"], "comments": [{"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 0, "creation_date": 1516110699, "post_id": 48282214, "comment_id": 83549318, "body": "Can we have some code?"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 0, "creation_date": 1516111345, "post_id": 48282214, "comment_id": 83549813, "body": "Yes off course. Look at edited question.@pablisco"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1516112272, "post_id": 48282214, "comment_id": 83550418, "body": "I feel really split between  - praising you for noticing code duplication  and - warning you could learn your lessons on basic Kotlin and program flow before better..."}], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1516190352, "post_id": 48283234, "comment_id": 83585645, "body": "This solved my problem but i have another problem. I&#39;m loading 5 ads and refreshing it continuously. problem is ad stops refreshing automatically. did you have any solution for this??"}, {"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1516203357, "post_id": 48283234, "comment_id": 83594389, "body": "Ask another question. However, this doesn&#39;t seem like a normal behaviour for ads. Google will probably ban your account if you try to do that."}], "tags": [], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "is_accepted": true, "score": 3, "last_activity_date": 1516111969, "creation_date": 1516111969, "answer_id": 48283234, "question_id": 48282214, "link": "https://stackoverflow.com/questions/48282214/multiple-adlistener-in-android-kotlin/48283234#48283234", "title": "Multiple AdListener in android kotlin", "body": "<p>You can group all your views in a list:</p>\n\n<pre><code>val adViews = listOf(ad1, ad2, ...)\n</code></pre>\n\n<p>And then, you can iterate over and set the listener:</p>\n\n<pre><code>adViews.forEach { \n  it.adListener = object : AdListener() {\n    override fun onAdLoaded() {\n      super.onAdLoaded()\n      incrementCounter()\n    }\n  } \n}\n</code></pre>\n"}], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 48283234, "answer_count": 1, "score": -1, "last_activity_date": 1516111969, "creation_date": 1516108723, "last_edit_date": 1516111315, "question_id": 48282214, "link": "https://stackoverflow.com/questions/48282214/multiple-adlistener-in-android-kotlin", "title": "Multiple AdListener in android kotlin", "body": "<p>I am making an app, for personal use, which has multiple banner ads on a single activity. I want to listen to <code>onAdLoaded()</code> events for all the ads. For this, I have to put <code>AdListener</code> for every ad. If I have ten ads, do I have to write the same code ten times?</p>\n\n<p>So, my question is that is there any way to reduce this code like multiple buttons <code>onClickListener</code> like <a href=\"https://stackoverflow.com/questions/25905086/multiple-buttons-onclicklistener-android\">this</a>? \nI have already tried to do this in the same way as <code>onClickListener</code> of buttons, but it doesn't work. </p>\n\n<p><strong>Some portion of my code:</strong></p>\n\n<pre><code>    ad1.adListener = object : AdListener() {\n        override fun onAdLoaded() {\n            super.onAdLoaded()\n            incrementCounter()\n        }\n    }\n\n    ad2.adListener = object : AdListener() {\n        override fun onAdLoaded() {\n            super.onAdLoaded()\n            incrementCounter()\n        }\n    }\n\n    ad3.adListener = object : AdListener() {\n        override fun onAdLoaded() {\n            super.onAdLoaded()\n            incrementCounter()\n        }\n    }\n</code></pre>\n\n<p>I have to repeat the same code for all of my ad units.That's make my code bulky and it's my problem.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516103470, "post_id": 48280562, "comment_id": 83544653, "body": "<code>fetchJson(...)</code> such method has no sens as you are using async API ... <a href=\"https://ideone.com/PPHi95\" rel=\"nofollow noreferrer\">you should learn what is multithreading</a> in this example 3. is your return statment and 2 is <code>onResponse</code> call and <code>somestring</code> is your <code>name2</code>... as you see order is 1,3,2"}], "answers": [{"comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1516103844, "post_id": 48280682, "comment_id": 83544867, "body": "he is using kotlin not java ...  also it is terrible idea to use static anyway"}], "tags": [], "owner": {"reputation": 34, "user_id": 7935959, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WuoSKrTBKWY/AAAAAAAAAAI/AAAAAAAAACM/bpucpktkUpI/photo.jpg?sz=128", "display_name": "Subham Singh Rathore", "link": "https://stackoverflow.com/users/7935959/subham-singh-rathore"}, "is_accepted": false, "score": -1, "last_activity_date": 1516103711, "creation_date": 1516103711, "answer_id": 48280682, "question_id": 48280562, "link": "https://stackoverflow.com/questions/48280562/variable-not-updated-after-lateinit-declaration-unable-to-return/48280682#48280682", "title": "Variable not updated after lateinit declaration, unable to return", "body": "<p>you declare variable as a class level static variable e.g:-</p>\n\n<pre><code>           public static int a = 10;\n</code></pre>\n\n<p>you can easily update your variable ,and also you can update this variable from another class but in package.. </p>\n"}, {"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1516104974, "post_id": 48280696, "comment_id": 83545543, "body": "It&#39;s invalid syntax. You can&#39;t declare the type as an initializer method..."}, {"owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "edited": false, "score": 0, "creation_date": 1516105650, "post_id": 48280696, "comment_id": 83545944, "body": "Sorry, is this: var name2 = arrayListOf&lt;Articles&gt;()"}], "tags": [], "owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "is_accepted": false, "score": -1, "last_activity_date": 1516105720, "last_edit_date": 1516105720, "creation_date": 1516103772, "answer_id": 48280696, "question_id": 48280562, "link": "https://stackoverflow.com/questions/48280562/variable-not-updated-after-lateinit-declaration-unable-to-return/48280696#48280696", "title": "Variable not updated after lateinit declaration, unable to return", "body": "<p>Try this:</p>\n\n<pre><code>// DONT DO: lateinit var name2: Array&lt;Articles&gt;  //Initialized name2\n// DO: var name2 = arrayListOf&lt;Articles&gt;()  //Initialized name2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1623, "user_id": 5293098, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SrCyX.jpg?s=128&g=1", "display_name": "Pouya Heydari", "link": "https://stackoverflow.com/users/5293098/pouya-heydari"}, "is_accepted": false, "score": 0, "last_activity_date": 1516108840, "last_edit_date": 1516108840, "creation_date": 1516103787, "answer_id": 48280704, "question_id": 48280562, "link": "https://stackoverflow.com/questions/48280562/variable-not-updated-after-lateinit-declaration-unable-to-return/48280704#48280704", "title": "Variable not updated after lateinit declaration, unable to return", "body": "<p>You are using AsyncTask (means you have called an URL and you are waiting for the response) , but fetchJson() method does not waiting to receive the answer from url and put it in name2 and return it. after you call fetchJson(), it starts your Asynctask and immediately reaches return name2. and because you havnt initialized name2 you get an error. so you should change your code to something like this :</p>\n\n<pre><code>  client.newCall(request).enqueue(object : Callback {\n    override fun onResponse(call: Call?, response: Response?) {\n        val body = response?.body()?.string()\n        println(body)\n\n        val gson = GsonBuilder().create()\n\n        try {\n            name2 = gson.fromJson(body, Array&lt;Articles&gt;::class.java) \n            someMethodCallToReturnTheValue(name2)\n         //Updating value of name2\n        }\n        catch (e: Exception){\n            print(\"Error roroorirorr\")\n            print(e)\n        }\n    }\n\n    override fun onFailure(call: Call?, e: IOException?) {\n        println(\"Faild to execute request\")\n         someMethodCallToInformError()\n    }\n})\n</code></pre>\n\n<p><strong>UPDATE:</strong> as  Marko Topolnik mentioned in comments , you can also use Coroutines in kotlin. \ncheckout <a href=\"https://medium.com/@macastiblancot/android-coroutines-getting-rid-of-runonuithread-and-callbacks-cleaner-thread-handling-and-more-234c0a9bd8eb\" rel=\"nofollow noreferrer\">this</a> link to learn more.</p>\n"}], "owner": {"reputation": 7, "user_id": 9223871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87ee8d234ca59c445dac1b3d57e33dc8?s=128&d=identicon&r=PG&f=1", "display_name": "subhra jyoti das", "link": "https://stackoverflow.com/users/9223871/subhra-jyoti-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1516108840, "creation_date": 1516103293, "last_edit_date": 1516104004, "question_id": 48280562, "link": "https://stackoverflow.com/questions/48280562/variable-not-updated-after-lateinit-declaration-unable-to-return", "title": "Variable not updated after lateinit declaration, unable to return", "body": "<p>OnCreateView Function  </p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        super.onCreateView(inflater, container, savedInstanceState)\n\n        val view1 = inflater?.inflate(R.layout.fragment_home, container, false)\n        val recyclerview = view1!!.findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n\n        recyclerview.layoutManager = LinearLayoutManager(this.activity)\n\n\n        //val name3: Array&lt;Articles&gt; =\n\n\n        recyclerview.adapter = CustomAdaptor(fetchJson())\n\n        return view1\n\n    }\n</code></pre>\n\n<p>Fetchjson function</p>\n\n<pre><code>    fun fetchJson(): Array&lt;Articles&gt; {\n    println(\"Attempting to fetch JSON\")\n    val url1 = \"https://go-api-api.herokuapp.com/\"\n\n    //var a1 = Articles(1, \"rsdfd\", \"fdsadfd\", 2345, 3)\n\n    lateinit var name2: Array&lt;Articles&gt;  //Initialized name2\n\n    val request = Request.Builder().url(url1).build()\n    val client = OkHttpClient()\n    client.newCall(request).enqueue(object : Callback {\n        override fun onResponse(call: Call?, response: Response?) {\n            val body = response?.body()?.string()\n            println(body)\n\n            val gson = GsonBuilder().create()\n\n            try {\n                name2 = gson.fromJson(body, Array&lt;Articles&gt;::class.java)  //Updating value of name2\n            }\n            catch (e: Exception){\n                print(\"Error roroorirorr\")\n                print(e)\n            }\n        }\n\n        override fun onFailure(call: Call?, e: IOException?) {\n            println(\"Faild to execute request\")\n        }\n    })\n    return name2   //returning name2\n}\n</code></pre>\n\n<p>The <code>CustomAdaptor</code> takes the input <code>Article</code> class. I have created a late initialized variable name2. In fetchjson, value of json does not get updated.</p>\n\n<p>Error given by Android Studio:</p>\n\n<blockquote>\n  <p>kotlin.UninitializedPropertyAccessException: lateinit property name2 has not been initialized</p>\n</blockquote>\n\n<p>How should I declare the variable, so as to get it updated ?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-jobscheduler"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 5, "last_activity_date": 1516096124, "creation_date": 1516096124, "answer_id": 48278347, "question_id": 48277348, "link": "https://stackoverflow.com/questions/48277348/how-to-trigger-a-jobscheduler-when-wifi-state-changesconnected-or-disconnected/48278347#48278347", "title": "How to trigger a JobScheduler when Wifi state changes(connected or disconnected from Network)?", "body": "<p>Android doesn't want to run your code each time there's a network change. These changes may occur several times per minute and your code will cause too much battery drain.</p>\n\n<p>The best you can do is schedule your job to run at regular intervals (which cannot be too short &mdash; if you request less than 15 minutes, you won't get it regularly) and check what you need in there. You can request that your job runs only when there's network connectivity, but not the opposite (to run when there's no connectivity).</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 8106713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a09331ae650c0709f77c96c3e45fba0?s=128&d=identicon&r=PG&f=1", "display_name": "Beuz", "link": "https://stackoverflow.com/users/8106713/beuz"}, "is_accepted": false, "score": -1, "last_activity_date": 1536967663, "last_edit_date": 1536967663, "creation_date": 1519900696, "answer_id": 49047828, "question_id": 48277348, "link": "https://stackoverflow.com/questions/48277348/how-to-trigger-a-jobscheduler-when-wifi-state-changesconnected-or-disconnected/49047828#49047828", "title": "How to trigger a JobScheduler when Wifi state changes(connected or disconnected from Network)?", "body": "<p>You can do this perfectly with the Firebase JobDispatcher.</p>\n\n<p>Code to start the job:</p>\n\n<pre><code>fun startNetworkChangeJob() {\n    // Create a new dispatcher using the Google Play driver.\n    val dispatcher = FirebaseJobDispatcher(GooglePlayDriver(app))\n\n    val myJob = dispatcher.newJobBuilder()\n            // the JobService that will be called\n            .setService(NetworkChangeJob::class.java)\n            // uniquely identifies the job\n            .setTag(app.getString(R.string.networkChangeJobId))\n            // recurring job\n            .setRecurring(true)\n            // don't persist past a device reboot\n            .setLifetime(Lifetime.FOREVER)\n            // start between 0 and 60 seconds from now\n            .setTrigger(Trigger.executionWindow(0, 60))\n            // don't overwrite an existing job with the same tag\n            .setReplaceCurrent(false)\n            // retry with exponential backoff\n            .setRetryStrategy(RetryStrategy.DEFAULT_EXPONENTIAL)\n            // constraints that need to be satisfied for the job to run\n            .setConstraints(\n                    // only run on an unmetered network\n                    Constraint.ON_UNMETERED_NETWORK\n            )\n            .build()\n\n    dispatcher.mustSchedule(myJob)\n}\n</code></pre>\n\n<p>Then the job itself. Here you can place your logic to determine what to do:</p>\n\n<pre><code>override fun onStartJob(job: com.firebase.jobdispatcher.JobParameters): Boolean {\n    // Runs on the main thread!\n\n    checkIfNeedToStartService()\n\n    return false  // Answers the question: \"Is there still work going on?\"\n}\n\noverride fun onStopJob(job: com.firebase.jobdispatcher.JobParameters): Boolean {\n    // Runs on the main thread!\n\n    return true // Answers the question: \"Should this job be retried?\"\n}\n</code></pre>\n\n<p>Be sure to also add the following to your manifest:</p>\n\n<pre><code>&lt;service\n        android:name=\".jobs.NetworkChangeJob\"\n        android:exported=\"false\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.firebase.jobdispatcher.ACTION_EXECUTE\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n"}], "owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1536967663, "creation_date": 1516092961, "last_edit_date": 1516095736, "question_id": 48277348, "link": "https://stackoverflow.com/questions/48277348/how-to-trigger-a-jobscheduler-when-wifi-state-changesconnected-or-disconnected", "title": "How to trigger a JobScheduler when Wifi state changes(connected or disconnected from Network)?", "body": "<p>I want to run a piece of code when Wifi is connected or disconnected from some router. I can use service and <code>BrodcastReceiver</code> for this but as of Oreo, the service is killed few minutes after the app is closed (unless in foreground). So, I am trying to use <code>JobScheduler</code> for this but I can't figure out what triggers to provide for execution of my Job. </p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "edited": false, "score": 0, "creation_date": 1516085606, "post_id": 48273743, "comment_id": 83534470, "body": "How state is derived from event? it&#39;s not clear how do you handle it?"}, {"owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "reply_to_user": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "edited": false, "score": 0, "creation_date": 1516087368, "post_id": 48273743, "comment_id": 83535222, "body": "hi @yosriz please see edit"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "edited": false, "score": 0, "creation_date": 1516155695, "post_id": 48291424, "comment_id": 83570534, "body": "Yes its base on jake&#39;s presentation. The error handling is inside <code>actionToResult()</code>. I was being careful to put <code>onErrorReturn()</code> on every action sub <code>transformer</code> (that compose my main <code>transformer</code>, <code>actionToResult()</code>) to emit <code>ErrorResult</code> instead of propagating <code>Exceptions</code>.  Thank you, you&#39;re right, <code>&#39;flatMap()</code> how could I forget. Thank you so much."}, {"owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "edited": false, "score": 0, "creation_date": 1516156034, "post_id": 48291424, "comment_id": 83570595, "body": "<code>fun asTransformer(): ObservableTransformer&lt;MainEvent, MainState&gt; =             ObservableTransformer {                 it.flatMap {                     eventStream.onNext(it)                     stateSink                 }             }</code>"}, {"owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "edited": false, "score": 0, "creation_date": 1516162426, "post_id": 48291424, "comment_id": 83571970, "body": "I got problem now. I dont have a supporting documentation but, when a <code>BehaviorSubject</code>is placed inside a <code>flatMap()</code>. It won&#39;t emit the last data emitted."}, {"owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "edited": false, "score": 0, "creation_date": 1516165605, "post_id": 48291424, "comment_id": 83572867, "body": "Ops, correction. Behavior subject is working well, but in every emission, new subscription to it will be added"}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "reply_to_user": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "edited": false, "score": 0, "creation_date": 1516214957, "post_id": 48291424, "comment_id": 83601336, "body": "You don&#39;t want to <code>flatMap</code> to <code>onNext</code>. <code>flatMap</code> to the actual stream. I haven&#39;t thought through your specific implementation too hard, but I suspect <code>PublishSubject</code> and <code>BehaviorSubject</code> are not necessarily the classes you need here."}], "tags": [], "owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "is_accepted": true, "score": 1, "last_activity_date": 1516145179, "creation_date": 1516145179, "answer_id": 48291424, "question_id": 48273743, "link": "https://stackoverflow.com/questions/48273743/observable-transformers-made-of-subjects/48291424#48291424", "title": "Observable transformers made of Subjects", "body": "<p>I don't know if you based it off of this, but Jake Wharton has a <a href=\"http://jakewharton.com/the-state-of-managing-state-with-rxjava/\" rel=\"nofollow noreferrer\">great presentation on this kind of architecture</a>.</p>\n\n<blockquote>\n  <p>Is it okay to do this?</p>\n</blockquote>\n\n<p>In general, sure.</p>\n\n<blockquote>\n  <p>What could go wrong with this implementation.</p>\n</blockquote>\n\n<p>One thing you probably want to be careful of is that you essentially have one big event loop. If your event loop dies, the UI will be non-responsive. Correct error handling is even more important than before. I'm sure your code snippets above are a simplified version of what you really have, but consider that without an error handling block, failures in your inner subscription will bubble up to your outer subscription which will itself fail. At this point, there will be no active subscriptions to UI events.</p>\n\n<blockquote>\n  <p>Will the inner subscription be disposed if the subscription is disposed?</p>\n</blockquote>\n\n<p>No. It's not in the same chain.</p>\n\n<blockquote>\n  <p>Can this be improved to a better form?</p>\n</blockquote>\n\n<p>Especially in consideration of the previous answer, you may want to get rid of the inner subscription so that it's all one chain. An easy way is to use <code>flatMap</code> instead of subscribing.</p>\n"}], "owner": {"reputation": 325, "user_id": 8465878, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/98faaee144e57e489c0522b4fd9855f7?s=128&d=identicon&r=PG&f=1", "display_name": "Hohenheim", "link": "https://stackoverflow.com/users/8465878/hohenheim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 48291424, "answer_count": 1, "score": 1, "last_activity_date": 1516145179, "creation_date": 1516073950, "last_edit_date": 1516087354, "question_id": 48273743, "link": "https://stackoverflow.com/questions/48273743/observable-transformers-made-of-subjects", "title": "Observable transformers made of Subjects", "body": "<p>I am currently implementing a pattern that has a view-viewmodel circular dependency. Though its really not dependency because they don't know about each other, all they know is that there is a stream of events and a stream of states. I came up with an idea of making the viewModel implement a function called <code>toTransformer()</code> which returns an <code>ObservableTransformer</code> that's composed of two subjects, an event subject and a state subject.</p>\n\n<pre><code>private val eventStream: PublishSubject&lt;MainEvent&gt; = PublishSubject.create()\n\nprivate val stateSink: BehaviorSubject&lt;MainState&gt; = BehaviorSubject.create()\n\n...\n\nfun asTransformer(): ObservableTransformer&lt;MainEvent, MainState&gt; =\n        ObservableTransformer {\n            it.subscribe { eventStream.onNext(it) }\n            stateSink\n        }\n</code></pre>\n\n<p>And is used like this</p>\n\n<pre><code>view.events().compose(viewModel.asTransformer()).subscribe { view.render(it) }\n</code></pre>\n\n<p><strong>Questions</strong></p>\n\n<ul>\n<li>Is it okay to do this?</li>\n<li>What could go wrong with this implementation.</li>\n<li>Will the inner subscription be disposed if the subscription is disposed?</li>\n<li>Can this be improved to a better form?</li>\n</ul>\n\n<p><strong>Edit</strong></p>\n\n<p>This is how event and state relates.</p>\n\n<pre><code>eventStream.map { it.toAction() }\n    .compose(actionToResult())\n    .scan (MainState.initial(), reducer())\n    .subscribe {\n        stateSink.onNext(it)\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "detekt"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1516067836, "post_id": 48272975, "comment_id": 83529941, "body": "Either suppress your static anlysis tool or use TypeToken.getParameterized."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1516070255, "post_id": 48273059, "comment_id": 83530432, "body": "Thanks. I know the suppression. I&#39;m just checking if there&#39;s a way to do it without need to suppress it."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1516070643, "post_id": 48273059, "comment_id": 83530496, "body": "It\u2019s such a rare case, suppression is fine imho"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1516069006, "last_edit_date": 1516069006, "creation_date": 1516067693, "answer_id": 48273059, "question_id": 48272975, "link": "https://stackoverflow.com/questions/48272975/emptyclassblock-lint-complaint-on-json-typetoken/48273059#48273059", "title": "EmptyClassBlock lint complaint on Json TypeToken", "body": "<p>It can be suppressed by annotating the code with <code>@Suppress(\"EmptyClassBlock\")</code>\n(Described <a href=\"https://github.com/arturbosch/detekt/blob/master/README.md#suppress\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Here\u2019s the list of <a href=\"https://github.com/arturbosch/detekt/blob/master/detekt-cli/src/main/resources/default-detekt-config.yml\" rel=\"nofollow noreferrer\">rule ids</a>, one of which has to be passed an an argument to the annotation (<code>EmptyClassBlock</code> in your case).</p>\n"}, {"tags": [], "owner": {"reputation": 433, "user_id": 1361011, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1fe615e0a1add5e0c9ce6ac1279c0458?s=128&d=identicon&r=PG", "display_name": "Mauin", "link": "https://stackoverflow.com/users/1361011/mauin"}, "is_accepted": true, "score": 0, "last_activity_date": 1516083401, "creation_date": 1516083401, "answer_id": 48275112, "question_id": 48272975, "link": "https://stackoverflow.com/questions/48272975/emptyclassblock-lint-complaint-on-json-typetoken/48275112#48275112", "title": "EmptyClassBlock lint complaint on Json TypeToken", "body": "<p>This exact case was removed from the <code>EmptyClassBlock</code> rule in this PR: <a href=\"https://github.com/arturbosch/detekt/pull/665\" rel=\"nofollow noreferrer\">https://github.com/arturbosch/detekt/pull/665</a></p>\n\n<p>It should be available in the latest detekt release (RC6-2) already. After updating detekt you shouldn't need to manually <code>@Suppress</code> these cases (objects of abstract classes) anymore.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 48275112, "answer_count": 2, "score": 2, "last_activity_date": 1516083401, "creation_date": 1516066913, "question_id": 48272975, "link": "https://stackoverflow.com/questions/48272975/emptyclassblock-lint-complaint-on-json-typetoken", "title": "EmptyClassBlock lint complaint on Json TypeToken", "body": "<p>I have a piece of kotlin code as below,</p>\n\n<pre><code>gson.fromJson&lt;Map&lt;String, JsonElement&gt;&gt;(data, \n   object : TypeToken&lt;Map&lt;String, JsonElement&gt;&gt;() {}.type)\n</code></pre>\n\n<p><code>Detekt</code> doesn't like it and complaint <code>EmptyClassBlock - [&lt;UnknownName&gt;]</code></p>\n\n<p>Is there any way I could resolve that?</p>\n"}, {"tags": ["json", "kotlin", "klaxon"], "comments": [{"owner": {"reputation": 3248, "user_id": 1973164, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b5545bb3e1c8dde503ff69094481de9?s=128&d=identicon&r=PG", "display_name": "TGO", "link": "https://stackoverflow.com/users/1973164/tgo"}, "edited": false, "score": 0, "creation_date": 1516064452, "post_id": 48272725, "comment_id": 83529251, "body": "Would you mind providing the code where you try to parse the JSON?"}, {"owner": {"reputation": 135, "user_id": 4665194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mTNN-MGXsrE/AAAAAAAAAAI/AAAAAAAAW-A/9xvV9YTCor0/photo.jpg?sz=128", "display_name": "isijara", "link": "https://stackoverflow.com/users/4665194/isijara"}, "reply_to_user": {"reputation": 3248, "user_id": 1973164, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b5545bb3e1c8dde503ff69094481de9?s=128&d=identicon&r=PG", "display_name": "TGO", "link": "https://stackoverflow.com/users/1973164/tgo"}, "edited": false, "score": 0, "creation_date": 1516066165, "post_id": 48272725, "comment_id": 83529611, "body": "sure, <a href=\"https://gist.github.com/isijara/a4c95ff3e1bc410571fb8861b63158f5\" rel=\"nofollow noreferrer\">it is here</a>"}, {"owner": {"reputation": 135, "user_id": 4665194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mTNN-MGXsrE/AAAAAAAAAAI/AAAAAAAAW-A/9xvV9YTCor0/photo.jpg?sz=128", "display_name": "isijara", "link": "https://stackoverflow.com/users/4665194/isijara"}, "reply_to_user": {"reputation": 3248, "user_id": 1973164, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b5545bb3e1c8dde503ff69094481de9?s=128&d=identicon&r=PG", "display_name": "TGO", "link": "https://stackoverflow.com/users/1973164/tgo"}, "edited": false, "score": 0, "creation_date": 1516067719, "post_id": 48272725, "comment_id": 83529905, "body": "Also, here is a repo for convenience <a href=\"https://github.com/isijara/klaxon-failing-example\" rel=\"nofollow noreferrer\">github.com/isijara/klaxon-failing-example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 4665194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mTNN-MGXsrE/AAAAAAAAAAI/AAAAAAAAW-A/9xvV9YTCor0/photo.jpg?sz=128", "display_name": "isijara", "link": "https://stackoverflow.com/users/4665194/isijara"}, "edited": false, "score": 0, "creation_date": 1516127220, "post_id": 48273334, "comment_id": 83560085, "body": "I was trying to only use the streaming api, but it seems it will have to be this way, thanks @TGO"}], "tags": [], "owner": {"reputation": 3248, "user_id": 1973164, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b5545bb3e1c8dde503ff69094481de9?s=128&d=identicon&r=PG", "display_name": "TGO", "link": "https://stackoverflow.com/users/1973164/tgo"}, "is_accepted": true, "score": 2, "last_activity_date": 1516070418, "creation_date": 1516070418, "answer_id": 48273334, "question_id": 48272725, "link": "https://stackoverflow.com/questions/48272725/klaxon-expected-a-name-but-got-left-brace/48273334#48273334", "title": "Klaxon: Expected a name but got LEFT_BRACE", "body": "<p>Ok so I checked out the source, and it seems that <code>nextObject()</code> assumes that you are dealing with a simple key value object, where values are not objects.</p>\n\n<p>Anyway, there is another way to parse a JSON of the format you specified, like below:</p>\n\n<pre><code>val objectString = \"\"\"{\n         \"name\" : \"Joe\",\n         \"age\" : 23,\n         \"flag\" : true,\n         \"array\" : [1, 2, 3],\n         \"obj1\" : { \"hello\": {\"a\" : 1, \"b\" : 2 } }\n    }\"\"\"\n\nclass ABObj(val a: Int, val b: Int)\n\nclass HelloObj(val hello: ABObj)\n\nclass Obj(val name: String, val age: Int, val flag: Boolean, val array: List&lt;Any&gt;, val obj1: HelloObj)\n\n\nval r = Klaxon().parse&lt;Obj&gt;(objectString)\n\n// r is your parsed object\nprint(r!!.name) // prints Joe\nprint(r!!.array) // prints [1, 2, 3]\n</code></pre>\n\n<p>The classes I created are like below:</p>\n\n<p><code>ABObj</code> represents this JSON:</p>\n\n<pre><code>{\"a\": 1, \"b\": 2}\n</code></pre>\n\n<p><code>HelloObj</code> represents this JSON:</p>\n\n<pre><code>{\"hello\": {\"a\": 1, \"b\": 2}}\n</code></pre>\n\n<p>And finally, <code>Obj</code> refers to the top level object.</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 9489516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717af8abba581bf087bfcbd7b81c1046?s=128&d=identicon&r=PG&f=1", "display_name": "Ali_Habeeb", "link": "https://stackoverflow.com/users/9489516/ali-habeeb"}, "edited": false, "score": 0, "creation_date": 1604345323, "post_id": 49180790, "comment_id": 114314335, "body": "That would be a nested <code>beginObject()</code>? If it is, do I have to start a new JsonReader? I am facing the same problem, can you please show how to do it, based onthe example in the original question?"}], "tags": [], "owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "is_accepted": false, "score": 1, "last_activity_date": 1520536447, "creation_date": 1520536447, "answer_id": 49180790, "question_id": 48272725, "link": "https://stackoverflow.com/questions/48272725/klaxon-expected-a-name-but-got-left-brace/49180790#49180790", "title": "Klaxon: Expected a name but got LEFT_BRACE", "body": "<p>With the Streaming API, you are in charge of parsing objects and arrays yourself, so when you encounter the name \"obj1\", you need to start a new <code>beginObject() { ... }</code> and parse that object there.</p>\n\n<p>The documentation that you linked does exactly that:</p>\n\n<p><code>\n        while (reader.hasNext()) {\n            val readName = reader.nextName()\n            when (readName) {\n                \"name\" -&gt; name = reader.nextString()\n                \"age\" -&gt; age = reader.nextInt()\n                \"flag\" -&gt; flag = reader.nextBoolean()\n                \"array\" -&gt; array = reader.nextArray()\n                \"obj1\" -&gt; obj1 = reader.nextObject()\n</code></p>\n"}], "owner": {"reputation": 135, "user_id": 4665194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mTNN-MGXsrE/AAAAAAAAAAI/AAAAAAAAW-A/9xvV9YTCor0/photo.jpg?sz=128", "display_name": "isijara", "link": "https://stackoverflow.com/users/4665194/isijara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 48273334, "answer_count": 2, "score": 1, "last_activity_date": 1520536447, "creation_date": 1516064276, "question_id": 48272725, "link": "https://stackoverflow.com/questions/48272725/klaxon-expected-a-name-but-got-left-brace", "title": "Klaxon: Expected a name but got LEFT_BRACE", "body": "<p>How can I read a \"complex\" json using Klaxon?\nI'm trying to use klaxon's stream api <a href=\"https://github.com/cbeust/klaxon#streamingApi\" rel=\"nofollow noreferrer\">as documentation say</a> .</p>\n\n<p>I'm using the beginObject method. If I use a json as given in the example everything is fine</p>\n\n<pre><code>val objectString = \"\"\"{\n \"name\" : \"Joe\",\n \"age\" : 23,\n \"flag\" : true,\n \"array\" : [1, 3],\n \"obj1\" : { \"a\" : 1, \"b\" : 2 }\n}\"\"\"\n</code></pre>\n\n<p>But if I try to parse a json with a nested object as the following example I get the following error: \"Expected a name but got LEFT_BRACE\"</p>\n\n<pre><code>val objectString = \"\"\"{\n \"name\" : \"Joe\",\n \"age\" : 23,\n \"flag\" : true,\n \"array\" : [1, 3],\n \"obj1\" : { \n             \"hello\": { \"a\" : 1, \"b\" : 2 } \n          }\n}\"\"\"\n</code></pre>\n\n<p>I don't see any reported issues in the github repo, so I wonder if there is a way to get this working.</p>\n\n<p>cheers</p>\n"}, {"tags": ["android", "android-fragments", "mvvm", "kotlin", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 9481403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adam Vaz", "link": "https://stackoverflow.com/users/9481403/adam-vaz"}, "is_accepted": true, "score": 3, "last_activity_date": 1520880997, "last_edit_date": 1520880997, "creation_date": 1520880225, "answer_id": 49242416, "question_id": 48272363, "link": "https://stackoverflow.com/questions/48272363/noclassdeffounderror-android-databinding-databindingutil-when-running-android/49242416#49242416", "title": "`NoClassDefFoundError: android.databinding.DataBindingUtil` when running androidTest for fragment with data biding", "body": "<p>Add '<code>com.android.databinding:compiler:3.0.1</code>' your required instrumentation testing dependencies in your gradle file</p>\n\n<p><strong>i.e.</strong></p>\n\n<pre><code>`dependencies {\n    kaptAndroidTest 'com.android.databinding:compiler:3.0.1'\n}`\n</code></pre>\n"}], "owner": {"reputation": 860, "user_id": 729958, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4958c33a545db7eb7eec5da8c35fe122?s=128&d=identicon&r=PG", "display_name": "Romain R.", "link": "https://stackoverflow.com/users/729958/romain-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 49242416, "answer_count": 1, "score": 0, "last_activity_date": 1520880997, "creation_date": 1516060935, "last_edit_date": 1516556700, "question_id": 48272363, "link": "https://stackoverflow.com/questions/48272363/noclassdeffounderror-android-databinding-databindingutil-when-running-android", "title": "`NoClassDefFoundError: android.databinding.DataBindingUtil` when running androidTest for fragment with data biding", "body": "<p>It concerns the following Android library project: <a href=\"https://github.com/RoRoche/kAndroidModular/tree/master/kAndroidModular/userrepos\" rel=\"nofollow noreferrer\">https://github.com/RoRoche/kAndroidModular/tree/master/kAndroidModular/userrepos</a></p>\n\n<p>I try to run the following unit test: <a href=\"https://github.com/RoRoche/kAndroidModular/blob/master/kAndroidModular/userrepos/src/androidTest/java/fr/guddy/kandroidmodular/userrepos/UserReposFragmentTest.kt\" rel=\"nofollow noreferrer\">https://github.com/RoRoche/kAndroidModular/blob/master/kAndroidModular/userrepos/src/androidTest/java/fr/guddy/kandroidmodular/userrepos/UserReposFragmentTest.kt</a></p>\n\n<p>Technical stack:</p>\n\n<ul>\n<li>MVVM architecture with <a href=\"https://developer.android.com/topic/libraries/architecture/index.html\" rel=\"nofollow noreferrer\">Android Architecture Components</a> and <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">Data Binding</a></li>\n<li>isolated fragment testing thanks to <a href=\"https://github.com/21Buttons/FragmentTestRule\" rel=\"nofollow noreferrer\">Fragment Test Rule</a></li>\n<li>multidex</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3435, "user_id": 3356270, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/KUgGc.jpg?s=128&g=1", "display_name": "kalabalik", "link": "https://stackoverflow.com/users/3356270/kalabalik"}, "is_accepted": true, "score": 2, "last_activity_date": 1516060319, "creation_date": 1516060319, "answer_id": 48272298, "question_id": 48272243, "link": "https://stackoverflow.com/questions/48272243/how-to-change-view-of-specific-item-in-recyclerview/48272298#48272298", "title": "How to change view of specific item in RecyclerView", "body": "<p>In <code>onBindViewHolder</code> you could do something like this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    holder.itemView.setBackgroundColor(if(position%2==0) 0xffff0000.toInt() else 0xff00ff00.toInt())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 9140698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sv6s.jpg?s=128&g=1", "display_name": "chandani c patel", "link": "https://stackoverflow.com/users/9140698/chandani-c-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1516091814, "creation_date": 1516091814, "answer_id": 48277043, "question_id": 48272243, "link": "https://stackoverflow.com/questions/48272243/how-to-change-view-of-specific-item-in-recyclerview/48277043#48277043", "title": "How to change view of specific item in RecyclerView", "body": "<p>use below code , i have tried it and it is working :</p>\n\n<pre><code>private var row_index: Int = -1\n\nitemView.txtContactAddress.setOnClickListener({\n                row_index = position;\n                notifyDataSetChanged()\n            })\n\nif (row_index == position) {\n                    itemView.txtContactAddress.setTextColor(Color.parseColor(\"#ffffff\"));\n                } else {\n                    itemView.txtContactAddress.setTextColor(Color.parseColor(\"#000000\"));\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1223, "user_id": 4897420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153375565148586/picture?type=large", "display_name": "Kaloglu", "link": "https://stackoverflow.com/users/4897420/kaloglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516194164, "creation_date": 1516194164, "answer_id": 48301852, "question_id": 48272243, "link": "https://stackoverflow.com/questions/48272243/how-to-change-view-of-specific-item-in-recyclerview/48301852#48301852", "title": "How to change view of specific item in RecyclerView", "body": "<p>May be you can try following;</p>\n\n<ul>\n<li><p>create a class that was extended RecyclerView.ViewHolder at the same time implemented View.OnClickListener. (e.g MyViewHolder)</p></li>\n<li><p>override constructor if you think it is necessary</p></li>\n<li><p>override onClick function for click handling.</p></li>\n<li><p>call change View method from onClick function.</p></li>\n<li><p>return an instance for MyViewHolder from overrided onCreateView at adapter class.</p></li>\n<li><p>bind new ViewHolder.</p></li>\n</ul>\n\n<p>Ps: don't forget change type parameter for adapter. (RecyclerView.Adapter)</p>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 48272298, "answer_count": 3, "score": 1, "last_activity_date": 1516194164, "creation_date": 1516060005, "question_id": 48272243, "link": "https://stackoverflow.com/questions/48272243/how-to-change-view-of-specific-item-in-recyclerview", "title": "How to change view of specific item in RecyclerView", "body": "<p>Assuming that I have adapter with list of items and view for each item contains textview. How to access this item's textview and for instance change it's color.\nI can do this by adding a click listener to each item and doing that change of text color when item is clicked. But is there a way to achieve this in other way ?</p>\n\n<p>In my ViewHolder I got:</p>\n\n<pre><code>val info: TextView = view.find(R.id.info_item)\n</code></pre>\n\n<p>And a method:</p>\n\n<pre><code>fun bindItems(listItem: List&lt;String&gt;) {\n\n                info.text = \"Name: ${listItem[0]}\"}\n</code></pre>\n\n<p>PS. I know how to change color of text view :)</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 175596, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "edited": false, "score": 0, "creation_date": 1516052196, "post_id": 48270930, "comment_id": 83525635, "body": "See if you can use the techniques described in <a href=\"https://stackoverflow.com/questions/38871202/how-to-add-shapes-on-javafx-linechart\" title=\"how to add shapes on javafx linechart\">stackoverflow.com/questions/38871202/&hellip;</a> (If not, I can post a way to do this in Java, but I don&#39;t know Kotlin...)"}, {"owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "reply_to_user": {"reputation": 175596, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "edited": false, "score": 0, "creation_date": 1516054260, "post_id": 48270930, "comment_id": 83526466, "body": "I&#39;m afraid I need to ask you for help. A simple example in Java would be great."}], "answers": [{"comments": [{"owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "edited": false, "score": 0, "creation_date": 1516059263, "post_id": 48272006, "comment_id": 83528028, "body": "Thanks, that worked. But do you know a way to refresh the lines? Let&#39;s say I add more lines asynchronously and after each addition I want them to be updated on the chart, but unfortunately <code>layoutPlotChildren</code> is protected."}, {"owner": {"reputation": 175596, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "reply_to_user": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "edited": false, "score": 1, "creation_date": 1516060957, "post_id": 48272006, "comment_id": 83528454, "body": "@Humberd You would need to create a named class for the chart subclass, and provide methods with the functionality to change the appropriate parameters. Call <code>requestChartLayout()</code> to layout the chart on the next rendering pulse: <code>layoutPlotChildren()</code> will be called during the layout. I modified the answer so that is it structured like this."}], "tags": [], "owner": {"reputation": 175596, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1516060455, "last_edit_date": 1516060455, "creation_date": 1516058105, "answer_id": 48272006, "question_id": 48270930, "link": "https://stackoverflow.com/questions/48270930/how-to-mix-scatterchart-with-horizontal-and-vertical-lines/48272006#48272006", "title": "How to mix ScatterChart with horizontal and vertical lines", "body": "<p>I don't know Kotlin, so this answer is in Java. I think you can probably translate it to Kotlin (and feel free to post another answer if so).</p>\n\n<p>To add additional nodes to a chart, there are three things you need:</p>\n\n<ol>\n<li>Call <code>getPlotChildren()</code> and add the new nodes to the chart's \"plot children\"</li>\n<li>Override the <code>layoutPlotChildren()</code> method to update the positions of your nodes when the chart is laid out</li>\n<li>Use <code>getDisplayPosition(...)</code>, defined in <code>Axis</code>, to get the location in the coordinate system of the plot area of the chart from a value on the axis.</li>\n</ol>\n\n<p>The following SSCCE creates a scatter chart somewhat similar to the one you posted in the screen shot, and adds lines gating a specified series (i.e. the line on the left extends the height of the chart and passes through the minimum x-value of the series; the line at the top extends the width of the chart, and passes through the maximum y-value of the series, etc). I added radio buttons so you can choose which series is \"bounded\" by the lines.</p>\n\n<pre><code>import java.util.Random;\n\nimport javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.ScatterChart;\nimport javafx.scene.chart.XYChart.Data;\nimport javafx.scene.chart.XYChart.Series;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\npublic class ScatterChartWithLines extends Application {\n\n    private final class ScatterChartWithBoundary extends ScatterChart&lt;Number, Number&gt; {\n\n        private Series&lt;Number, Number&gt; boundedSeries ;\n\n        private final NumberAxis yAxis;\n        private final NumberAxis xAxis;\n        private final Line leftLine = new Line();\n        private final Line rightLine = new Line();\n        private final Line topLine = new Line();\n        private final Line bottomLine = new Line();\n        {\n            getPlotChildren().addAll(leftLine, rightLine, topLine, bottomLine);\n        }\n\n        private ScatterChartWithBoundary(NumberAxis xAxis, NumberAxis yAxis) {\n            super(xAxis, yAxis);\n            this.yAxis = yAxis;\n            this.xAxis = xAxis;\n        }\n\n        @Override\n        protected void layoutPlotChildren() {\n            super.layoutPlotChildren();\n            getPlotChildren().removeAll(leftLine, rightLine, topLine, bottomLine);\n            if (boundedSeries != null) {\n                getPlotChildren().addAll(leftLine, rightLine, topLine, bottomLine);\n                double minX = Double.MAX_VALUE ;\n                double minY = Double.MAX_VALUE ;\n                double maxX = Double.MIN_VALUE ;\n                double maxY = Double.MIN_VALUE ;\n                for (Data&lt;Number, Number&gt; d : boundedSeries.getData()) {\n                    if (d.getXValue().doubleValue() &lt; minX) minX = d.getXValue().doubleValue() ;\n                    if (d.getXValue().doubleValue() &gt; maxX) maxX = d.getXValue().doubleValue() ;\n                    if (d.getYValue().doubleValue() &lt; minY) minY = d.getYValue().doubleValue() ;\n                    if (d.getYValue().doubleValue() &gt; maxY) maxY = d.getYValue().doubleValue() ;\n                }\n                positionLineInAxisCoordinates(leftLine, minX, yAxis.getLowerBound(), minX, yAxis.getUpperBound());\n                positionLineInAxisCoordinates(rightLine, maxX, yAxis.getLowerBound(), maxX, yAxis.getUpperBound());\n                positionLineInAxisCoordinates(bottomLine, xAxis.getLowerBound(), minY, xAxis.getUpperBound(), minY);\n                positionLineInAxisCoordinates(topLine, xAxis.getLowerBound(), maxY, xAxis.getUpperBound(), maxY);\n            }\n        }\n\n        private void positionLineInAxisCoordinates(Line line, double startX, double startY, double endX, double endY) {\n            double x0 = xAxis.getDisplayPosition(startX);\n            double x1 = xAxis.getDisplayPosition(endX);\n            double y0 = yAxis.getDisplayPosition(startY);\n            double y1 = yAxis.getDisplayPosition(endY);\n\n\n            line.setStartX(x0);\n            line.setStartY(y0);\n            line.setEndX(x1);\n            line.setEndY(y1);\n        }\n\n        public void setBoundedSeries(Series&lt;Number, Number&gt; boundedSeries) {\n            if (! getData().contains(boundedSeries)) {\n                throw new IllegalArgumentException(\"Specified series is not displayed in this chart\");\n            }\n            this.boundedSeries = boundedSeries ;\n            requestChartLayout();\n        }\n    }\n\n    private final Random rng = new Random();\n\n    @Override\n    public void start(Stage primaryStage) {\n        Series&lt;Number, Number&gt; series1 = new Series&lt;&gt;(\"Series 1\", FXCollections.observableArrayList());\n        Series&lt;Number, Number&gt; series2 = new Series&lt;&gt;(\"Series 2\", FXCollections.observableArrayList());\n        Series&lt;Number, Number&gt; series3 = new Series&lt;&gt;(\"Series 3\", FXCollections.observableArrayList());\n\n        for (int i = 0 ; i &lt; 40 ; i++) {\n            series1.getData().add(new Data&lt;&gt;(rng.nextDouble()*2 + 4, rng.nextDouble()*3 + 2));\n            series2.getData().add(new Data&lt;&gt;(rng.nextDouble()*2.5 + 4.75, rng.nextDouble()*1.5 + 2));\n            series3.getData().add(new Data&lt;&gt;(rng.nextDouble()*3 + 5, rng.nextDouble()*1.5 + 2.75));         \n        }\n\n        NumberAxis xAxis = new NumberAxis();\n        NumberAxis yAxis = new NumberAxis();\n        xAxis.setForceZeroInRange(false);\n        yAxis.setForceZeroInRange(false);\n\n        ScatterChartWithBoundary chart = new ScatterChartWithBoundary(xAxis, yAxis);\n\n        chart.getData().addAll(series1, series2, series3);\n\n        VBox buttons = new VBox(2);\n        ToggleGroup toggleGroup = new ToggleGroup();\n        for (Series&lt;Number, Number&gt; series : chart.getData()) { \n            RadioButton rb = new RadioButton(series.getName());\n            rb.selectedProperty().addListener((obs, wasSelected, isNowSelected) -&gt; {\n                if (isNowSelected) {\n                    chart.setBoundedSeries(series);\n                }\n            });\n            rb.setToggleGroup(toggleGroup);\n            buttons.getChildren().add(rb);\n        }\n\n\n        BorderPane root = new BorderPane(chart);\n        root.setTop(buttons);\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>Here is a typical result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zTxh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTxh3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 48272006, "answer_count": 1, "score": 0, "last_activity_date": 1516060455, "creation_date": 1516051806, "question_id": 48270930, "link": "https://stackoverflow.com/questions/48270930/how-to-mix-scatterchart-with-horizontal-and-vertical-lines", "title": "How to mix ScatterChart with horizontal and vertical lines", "body": "<p>I'm trying to create vertical and horizontal lines on ScatterChart together with points. I cannot find a way to mix them up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vu7EX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vu7EX.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the code I generate points on chart.</p>\n\n<pre><code>vbox {\n    add(ScatterChart(NumberAxis(), NumberAxis()).apply {\n        val seriesMap: HashMap&lt;String, XYChart.Series&lt;Number, Number&gt;&gt; = HashMap()\n\n        pointsList\n                .map { it.decisionClass }\n                .distinct()\n                .forEach {\n                    seriesMap.put(it, XYChart.Series())\n                }\n\n        for (point in pointsList) {\n            seriesMap.get(point.decisionClass)?.data(point.axisesValues[0], point.axisesValues[1])\n        }\n\n        seriesMap\n                .toSortedMap()\n                .forEach { key, value -&gt;\n                    value.name = key\n                    data.add(value)\n                }\n        (xAxis as NumberAxis).setForceZeroInRange(false)\n        (yAxis as NumberAxis).setForceZeroInRange(false)\n    })\n}\n</code></pre>\n"}, {"tags": ["android", "c++", "java-native-interface", "kotlin", "native"], "comments": [{"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 1, "creation_date": 1516049541, "post_id": 48269981, "comment_id": 83524549, "body": "The init() function that you show here is in Kotlin, not C++. Maybe your problem is that you don&#39;t load your native library, only the STL (libc++_shared.so)."}, {"owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1516050080, "post_id": 48269981, "comment_id": 83524772, "body": "@AlexCohn I&#39;ve edited the question, sorry for the inconvenience. by init, i meant nativeInit method inside c++ class"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1516096475, "post_id": 48269981, "comment_id": 83540200, "body": "I believe that you should pass <code>Array&lt;String?&gt;?</code> as <b>jobject</b>, not <b>jobjectArray</b>."}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1516098147, "post_id": 48269981, "comment_id": 83541319, "body": "@AlexCohn: An <code>Array&lt;T&gt;</code> in Kotlin is at the bytecode level equivalent to a <code>T[]</code> in Java. So <code>Array&lt;String?&gt;?</code> means <code>@Nullable String[]</code>."}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1516098450, "post_id": 48269981, "comment_id": 83541550, "body": "The error message seems to indicate a problem when trying to call a Java method from native code, so where is the code for <code>Java_com_demo_lib_MyController_nativeLoadScene</code>?"}], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516050034, "creation_date": 1516046896, "last_edit_date": 1516050034, "question_id": 48269981, "link": "https://stackoverflow.com/questions/48269981/jmethodid-was-null-for-a-method-with-kotlin", "title": "jmethodID was NULL for a method with Kotlin", "body": "<p>I am using a native library and having the exception below even though the method exists. I have a nativeInit function that is also exported to MapController and it works as expected. However, the nativeLoadScene method causes an error.</p>\n\n<pre><code>JNI DETECTED ERROR IN APPLICATION: jmethodID was NULL\n    in call to CallObjectMethodV\n    from int com.demo.lib.MyController.nativeLoadScene(long, java.lang.String, java.lang.String[])\n</code></pre>\n\n<p>JNI methods</p>\n\n<pre><code>JNIEXPORT jint JNICALL Java_com_demo_lib_MyController_nativeInit(JNIEnv *jniEnv, jobject obj, jobject tangramInstance, jobject assetManager) {\n   ...\n}\n\nJNIEXPORT jint JNICALL Java_com_demo_lib_MyController_nativeLoadScene(JNIEnv* jniEnv, jobject obj, jlong mapPtr, jstring path, jobjectArray updateStrings) {\n   ...\n}\n</code></pre>\n\n<p>com.demo.lib.MyController.kt</p>\n\n<pre><code>companion object {\n    init {\n        System.loadLibrary(\"c++_shared\")\n    }\n}\n\n// this works\nexternal fun nativeInit(instance: MapController, assetManager: AssetManager?): Long\n\n// this gives error\nexternal fun nativeLoadScene(mapPtr: Long, path: String, updateStrings: Array&lt;String?&gt;?): Int\n</code></pre>\n"}, {"tags": ["kotlin", "wicket"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1516047339, "post_id": 48269883, "comment_id": 83523598, "body": "why should it be private if its necessary to access it from outside the class?"}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1516050585, "post_id": 48269883, "comment_id": 83524974, "body": "Thanks. I took it as java&#39;s private field with public getter."}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1516049970, "last_edit_date": 1516049970, "creation_date": 1516049651, "answer_id": 48270519, "question_id": 48269883, "link": "https://stackoverflow.com/questions/48269883/propertymodel-cannot-work-with-kotlins-private-field-with-get/48270519#48270519", "title": "PropertyModel cannot work with Kotlin&#39;s private field with get()", "body": "<p>Since the model needs to be read and written, it is necessary for your model to have a property with backing field.</p>\n\n<pre><code>class MyModel {\n  private val theValue: Double\n    get()  { return 1.0 }\n}\n</code></pre>\n\n<p>Does not have a backing field, even if you remove the <code>private</code> modifier.</p>\n\n<p>Try it like this:</p>\n\n<pre><code>class MyModel {\n  var theValue = 1.0\n}\n</code></pre>\n\n<p>or if you need <code>equals()</code>, <code>hashCode()</code> etc. out of the box:</p>\n\n<pre><code>data class MyModel(var theValue: Double = 1.0)\n</code></pre>\n\n<p>Note: Wicket is a Java framework. In it's <a href=\"https://ci.apache.org/projects/wicket/apidocs/6.x/org/apache/wicket/model/PropertyModel.html\" rel=\"nofollow noreferrer\">documentation</a> it is explicitely stated, that you need a Java bean as model, which it is in the second code snippet.</p>\n"}], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 48270519, "answer_count": 1, "score": 2, "last_activity_date": 1516049970, "creation_date": 1516046471, "question_id": 48269883, "link": "https://stackoverflow.com/questions/48269883/propertymodel-cannot-work-with-kotlins-private-field-with-get", "title": "PropertyModel cannot work with Kotlin&#39;s private field with get()", "body": "<p>If a kotlin's model has a field : </p>\n\n<pre><code>class MyModel {\n  private val theValue: Double\n    get()  { return 1.0 }\n}\n</code></pre>\n\n<p>and in the wicket page :</p>\n\n<pre><code>new PropertyModel(model , \"theValue\")\n</code></pre>\n\n<p>It will fail :</p>\n\n<pre><code>WicketRuntimeException: Property could not be resolved for class: class MyModel expression: theValue\n</code></pre>\n\n<p>The solution : remove the private modifier :</p>\n\n<pre><code>class MyModel {\n  val theValue: Double\n    get()  { return 1.0 }\n}\n</code></pre>\n\n<p>Is there any way to get around this (keep the private modifier) ?</p>\n\n<p>(wicket 7.9.0 , Kotlin 1.2)</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1516059967, "post_id": 48272164, "comment_id": 83528221, "body": "Thank you! #1 works great, as does #2. I actually like keeping the projects on the same dependency version, for example JUnit - when a new version comes out, I always want the latest. Further, I can&#39;t see a case where I want two modules on <i>different</i> Kotlin runtime versions. Per #3, I now understand the difference between the two sections - and will keep them both. But it still seems like a good idea to keep the build repository in the root."}, {"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "reply_to_user": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1516062151, "post_id": 48272164, "comment_id": 83528757, "body": "@CraigOtis Updated in the response"}], "tags": [], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "is_accepted": true, "score": 2, "last_activity_date": 1516110398, "last_edit_date": 1516110398, "creation_date": 1516059278, "answer_id": 48272164, "question_id": 48269862, "link": "https://stackoverflow.com/questions/48269862/proper-structure-for-gradle-multi-module-builds-with-intellij-idea/48272164#48272164", "title": "Proper structure for Gradle multi-module builds with IntelliJ IDEA", "body": "<ol>\n<li>If you want to run a build on a module you can do by running: <code>gradle :web:build</code></li>\n<li>In the same way that you are adding repositories in the <code>subprojects</code> clause, you can add the <code>dependencies</code> block in there. Make sure that only the shared dependencies are in there. For instance, <code>compile project(':core')</code> should only be in the relevant project. It's ok to have multiple <code>dependency</code> blocks. That said, it's usually more of a headache to use the <code>subproject</code> clause. Because, if dependencies change for one of the modules you are forced to update that for all of them</li>\n<li>Regarding the <code>repository</code> definitions, they are very different. The one in the <code>buildscript</code> block is used by Gradle itself in order to find plugins and other 'pre-build' requirements. The one on the submodules is used to find the dependencies of the source code in the given module. As mentioned on the previous point, it's easier to manage when placed on the respective module build scripts.</li>\n</ol>\n\n<h1>Update:</h1>\n\n<p>If you want to keep the same version for all modules, the variables defined on <code>ext</code> in the buildscript should be able to be accessed from the submodules too: <code>ext.kotlin_version = '1.1.60'</code> and if you have multiple ones you can add them like:</p>\n\n<pre><code>ext {\n  kotlin_version = '1.1.60'\n  junit_version = '4.12'\n}\n</code></pre>\n\n<p>Also, if you want to share code between modules, you can always extract it to gradle file and load it where needed using: <code>apply file: \"$rootDir/path/to/script.gradle\"</code></p>\n\n<p>Regarding #3, I'll give you a practical example. </p>\n\n<p>Google has its own maven repository that contains all the dependencies for an android module. If you have a project that contains both a server-side module and android module you may not need the server-side one to look up dependencies on the Gradle artefact repository (artefact is the name of the jar dependency). </p>\n\n<p>As for the <code>buildscript</code> repositories, in your case you are only loading one classpath (pre-build) dependency which is located on <code>mavenCentral()</code> so you may be ok removing <code>jcenter()</code> here.</p>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2075, "favorite_count": 1, "accepted_answer_id": 48272164, "answer_count": 1, "score": 4, "last_activity_date": 1516110398, "creation_date": 1516046347, "last_edit_date": 1516047489, "question_id": 48269862, "link": "https://stackoverflow.com/questions/48269862/proper-structure-for-gradle-multi-module-builds-with-intellij-idea", "title": "Proper structure for Gradle multi-module builds with IntelliJ IDEA", "body": "<p>I have a Kotlin project which is comprised of three modules:</p>\n\n<pre><code>Core &lt; Service &lt; Web\n</code></pre>\n\n<p>The structure is:</p>\n\n<pre><code>build.gradle\ncore/\n    build.gradle\nservice/\n    build.gradle\nweb/\n    build.gradle\n</code></pre>\n\n<p>The structure for the root <code>build.gradle</code> file is:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.60'\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nsubprojects {\n    apply plugin: 'kotlin'\n    apply plugin: 'jacoco'\n    compileKotlin {\n        kotlinOptions.jvmTarget = '1.8'\n    }\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>The individual build files look like (for <code>core</code>):</p>\n\n<pre><code>dependencies {\n    // Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    ...\n}\n</code></pre>\n\n<p>And for <code>service</code> (note the only difference is the project dependency):</p>\n\n<pre><code>dependencies {\n    compile project (':core')\n    // Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    ...\n}\n</code></pre>\n\n<p>There are a few optimizations I'd like to make, but I'm still learning Gradle, and can't find the right way to reorganize things. <em>The problems I have are:</em></p>\n\n<ol>\n<li><p>I can't build <code>service</code> or <code>web</code> individually, as they complain about not being able to find their dependent sub-projects. (Via a <code>gradle build</code> in the <code>service/</code> directory, for example.)</p></li>\n<li><p>How can I define the Kotlin <code>stdlib-jre8</code> dependency at the root level, so it's not duplicated in my three build files?</p></li>\n<li><p>How can my subproject/buildscript tasks of the <em>root buildfile</em> use the same repository definitions, so that I don't have to define <code>mavenCentral()/jcenter()</code> twice?</p></li>\n</ol>\n\n<p>Basically this build structure that I have was cobbled together through some experimentation/web resources, and <strong>happens to mostly work</strong>, but I'd like some guidance on doing it the right way, such that (1) it follows good Gradle practices, and (2) still works well via auto-import into IDEA.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 1, "creation_date": 1516036425, "post_id": 48267724, "comment_id": 83518590, "body": "Is the <code>formattedDebts</code> Transformations code executed when you insert new debt?"}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1516113247, "post_id": 48267724, "comment_id": 83551070, "body": "It&#39;s not because the LiveData does not detect any changes. I must say the more I look it the more I think it has to do with a dependency injection problem. Here is a similar problem, however I haven&#39;t got it working: <a href=\"https://stackoverflow.com/questions/45196872/livedata-not-updating-data-from-one-activity-to-another-activity-android\" title=\"livedata not updating data from one activity to another activity android\">stackoverflow.com/questions/45196872/&hellip;</a>"}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 1, "creation_date": 1516175068, "post_id": 48267724, "comment_id": 83576390, "body": "Can you show code of background job? Cause I already have something like this in place which is working alright.  Secondly make sure you are maintaining the same singleton by debugging or logging instance of <code>DAO</code> from <code>Activity</code> and Background Job."}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "edited": false, "score": 0, "creation_date": 1516180382, "post_id": 48267724, "comment_id": 83579200, "body": "Ok, finally shedding some light on the problem! Thank you! It seems that the repository has two separate instances. One for the app itself and other one for the job. The thing is that I need a repository injected in the job because I need to insert a new record. How can I make the repository in the job be the same as the app? If I remove <code>DaggerGraphBuilder.build(applicationContext as FineApplication).inject(this)</code> I get an error when running the job."}, {"owner": {"reputation": 1402, "user_id": 860129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c814e19b7c7037570c126faf6eacaf3b?s=128&d=identicon&r=PG&f=1", "display_name": "Nev", "link": "https://stackoverflow.com/users/860129/nev"}, "edited": false, "score": 0, "creation_date": 1535984792, "post_id": 48267724, "comment_id": 91253576, "body": "Hey @C&#233;sarAlberca, did you ever come up with a solution to this issue? I&#39;ve got exactly the same issue right now, and I can&#39;t seem to find any solution."}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "reply_to_user": {"reputation": 1402, "user_id": 860129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c814e19b7c7037570c126faf6eacaf3b?s=128&d=identicon&r=PG&f=1", "display_name": "Nev", "link": "https://stackoverflow.com/users/860129/nev"}, "edited": false, "score": 0, "creation_date": 1536004248, "post_id": 48267724, "comment_id": 91261244, "body": "@Nev, sorry I decided to move away from Dagger and go with Koin (<a href=\"https://github.com/InsertKoinIO/koin\" rel=\"nofollow noreferrer\">github.com/InsertKoinIO/koin</a>), sooo much happy now ;)"}, {"owner": {"reputation": 1402, "user_id": 860129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c814e19b7c7037570c126faf6eacaf3b?s=128&d=identicon&r=PG&f=1", "display_name": "Nev", "link": "https://stackoverflow.com/users/860129/nev"}, "edited": false, "score": 1, "creation_date": 1536146795, "post_id": 48267724, "comment_id": 91317576, "body": "Hey @C&#233;sarAlberca, thanks for the reply. I&#39;ll take a look at Koin!"}], "owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 761, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516179610, "creation_date": 1516036221, "last_edit_date": 1516179610, "question_id": 48267724, "link": "https://stackoverflow.com/questions/48267724/view-not-updating-after-first-time-triggering-livedata-when-using-background-job", "title": "View not updating after first time triggering LiveData when using background job in Android", "body": "<p>I'm building a debt application in Android using <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger 2</a>, <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"nofollow noreferrer\">Room</a> and <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">MVVM</a>. My problem lies with the reactivity of my main view, where a list of debts are shown and you can tick them off.</p>\n\n<p>When this activity is launched all the debts are loaded correctly, however <strong>when I insert a new debt the view is not updated accordingly</strong>.</p>\n\n<p>The strange part is that when I tick one of them off the view refreshes as expected.</p>\n\n<p>After much debugging I can infer that the problem has to do with the Lifecycle of the ViewModel, because the debts are created using a background job. If I hardcode in the constructor of the ViewModel a new insertion in the database the view updates as expected.</p>\n\n<p>Here is my code for the Room Dao:</p>\n\n<pre><code>@Dao\ninterface DebtDao {\n\n    @Insert(onConflict = OnConflictStrategy.ABORT)\n    fun insert(debt: Debt)\n\n    @Query(\"SELECT * FROM debts WHERE id=:debtId\")\n    fun findOne(debtId: Long): Debt\n\n    @Query(\"SELECT * FROM debts\")\n    fun findAll(): LiveData&lt;List&lt;Debt&gt;&gt;\n\n    @Query(\"\"\"\n        SELECT\n            debts.*,\n            p.name AS product_name,\n            d.name AS debtor_name,\n            c.name AS creditor_name\n        FROM debts\n            INNER JOIN products p ON debts.product_id = p.id\n            INNER JOIN debtors d ON debts.debtor_id = d.id\n            INNER JOIN creditors c ON debts.creditor_id = c.id\n    \"\"\")\n    fun findAllWithProductDebtorAndCreditor(): LiveData&lt;List&lt;DebtWithDebtorCreditorAndProduct&gt;&gt;\n\n    @Update\n    fun update(debt: Debt)\n\n}\n</code></pre>\n\n<p>The activity:</p>\n\n<pre><code>class DebtsListActivity : AppCompatActivity() {\n\n    @Inject\n    lateinit var viewModelFactory: ViewModelProvider.Factory\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val mainViewModel = ViewModelProviders.of(this, viewModelFactory).get(DebtsListViewModel::class.java)\n\n        val debtsListAdapter = DebtsListAdapter(ArrayList()) {\n            mainViewModel.payDebt(it.debt.id)\n            showSuccess(\"Debt updated with success!\")\n        }\n\n        mainViewModel.formattedDebts.observe(this, Observer&lt;List&lt;DebtWithDebtorCreditorAndProduct&gt;&gt; {\n            if (it != null) {\n               // This is only invoked when launching initially the activity or then ticking on of the debts as paid not when inserting a new debt                    \n               debtsListAdapter.addItems(mainViewModel.getUnpaidDebts())\n            }\n        })\n\n        rvDebts.layoutManager = LinearLayoutManager(this)\n        rvDebts.adapter = debtsListAdapter\n    }\n}\n</code></pre>\n\n<p>The view model:</p>\n\n<pre><code>class DebtsListViewModel @Inject constructor(var debtDao: DebtDao) : ViewModel() {\n\n    private var debts: LiveData&lt;List&lt;Debt&gt;&gt; = debtDao.findAll()\n    var formattedDebts: LiveData&lt;List&lt;DebtWithDebtorCreditorAndProduct&gt;&gt; = Transformations.switchMap(debts) {\n        debtDao.findAllWithProductDebtorAndCreditor()\n    }\n\n    fun payDebt(debtId: Long) {\n        val paidDebt = debtDao.findOne(debtId)\n        debtDao.update(paidDebt.copy(paid = true))\n    }\n\n    fun getUnpaidDebts(): List&lt;DebtWithDebtorCreditorAndProduct&gt; =\n            formattedDebts.value?.filter { !it.debt.paid }.orEmpty()\n\n}\n</code></pre>\n\n<p>What I would like to do is to notify a formatted debt list containing all the information I want.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>This is the code for the background job:</p>\n\n<pre><code>class GenerateDebtJobService : JobService() {\n\n    @Inject\n    lateinit var debtDao: DebtDao\n\n    @Inject\n    lateinit var productDao: ProductDao\n\n    @Inject\n    lateinit var productsDebtorsDao: ProductDebtorDao\n\n    @Inject\n    lateinit var productCreditorsDao: ProductCreditorDao\n\n    override fun onStartJob(params: JobParameters): Boolean {\n        DaggerGraphBuilder.build(applicationContext as FineApplication).inject(this)\n        val productId = params.extras.getLong(\"id\")\n        val product = productDao.findOne(productId)\n        val productCreditor = productCreditorsDao.findOneByProduct(productId)\n        val debtors = productsDebtorsDao.findAllByProduct(productId)\n\n        // When the bill day is reached for a given product the debtors list associated with that product is looped through and a new debt is created\n        debtors.forEach {\n            debtDao.insert(Debt(productId = it.productProductId, debtorId = it.productDebtorId, quantity = product.recurringCost, date = DateTime().toString(), creditorId = productCreditor.productCreditorId))\n        }\n\n        return false\n    }\n\n    override fun onStopJob(params: JobParameters): Boolean {\n        Log.e(\"GenerateDebtJob\", \"job finished\")\n        return false\n    }\n\n    companion object {\n        fun build(application: Application, productId: Long, periodicity: Days, startDay: Days) {\n            val serviceComponent = ComponentName(application, GenerateDebtJobService::class.java)\n            val bundle = PersistableBundle()\n            bundle.putLong(\"id\", productId)\n\n            val builder = JobInfo.Builder(productId.toInt(), serviceComponent)\n                    .setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)\n//                    .setPeriodic(TimeUnit.DAYS.toMillis(periodicity.days.toLong()))\n                    .setOverrideDeadline(1_000)\n                    .setExtras(bundle)\n\n            (application.getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler).schedule(builder.build())\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 2, "creation_date": 1516087543, "post_id": 48269155, "comment_id": 83535294, "body": "Great answer @nimakro :) I just want to add that FXLauncher is actually using javapackager under the covers, which comes with the JDK. A TornadoFX application is in essence exactly the same as a normal JavaFX application when it comes to pacakge and deployment. The only difference is that you also need the tornadofx runtime jar on the classpath."}], "tags": [], "owner": {"reputation": 86, "user_id": 9220838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5cd818fb5cf97d4e677879fed5e53ff?s=128&d=identicon&r=PG&f=1", "display_name": "nimakro", "link": "https://stackoverflow.com/users/9220838/nimakro"}, "is_accepted": true, "score": 7, "last_activity_date": 1516042646, "creation_date": 1516042646, "answer_id": 48269155, "question_id": 48267553, "link": "https://stackoverflow.com/questions/48267553/how-do-i-export-a-tornadofx-application/48269155#48269155", "title": "How do I export a tornadofx application?", "body": "<p>Have a look at the <a href=\"https://github.com/edvin/fxlauncher\" rel=\"noreferrer\">FxLauncher</a> project, which is also from the creator of tornadoFX. FXLauncher allows you to easily distribute your javafx/tornadoFX application. The project provides a maven-plugin which allows you to generate a self containing javafx/tornadoFX application that you then publish to a web-server or common directory (e.g an internal app in your company network). After that you can generate native installers for Linux, OSX and Windows. The installer itself will only install a small app, which will know the location of your web-serve or directory. On startup it will download the latest deployed version of you application and run it. \nAdditional links:</p>\n\n<ul>\n<li><a href=\"https://github.com/edvin/fxlauncher\" rel=\"noreferrer\">GitHub-project</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=NCP9wjRPQ14\" rel=\"noreferrer\">Introduction screen cast</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=-6PlFVUgntU\" rel=\"noreferrer\">Customizing update ui</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "is_accepted": false, "score": 4, "last_activity_date": 1516113648, "creation_date": 1516113648, "answer_id": 48283745, "question_id": 48267553, "link": "https://stackoverflow.com/questions/48267553/how-do-i-export-a-tornadofx-application/48283745#48283745", "title": "How do I export a tornadofx application?", "body": "<p>In case you want a single <code>jar</code> file, you can export it as a regular Java program (not the <code>JavaFX</code> option in IntelliJ). You do this by creating and building an artifact.</p>\n\n<ul>\n<li>Go to the <em>Project Structure</em> window, and from there select <em>Artifacts</em></li>\n<li>Click the \"+\" icon to create a new artifact, and select <em>JAR > From modules with dependencies...</em></li>\n<li>Select the main class and press <em>OK</em></li>\n</ul>\n\n<p>And that's it, the artifact has been set up, now, to generate <code>jar</code> file, just go to <em>Build > Build Artifacts</em> menu, and select the newly-made artifact, and the IntelliJ will generate the <code>jar</code> file in the \"out\" directory.</p>\n\n<p>Not sure if this is the best solution, but it's what I've been using, and it works for me.</p>\n"}], "owner": {"reputation": 13474, "user_id": 457059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0ed4b16a6020c84dbe8375058651c1f6?s=128&d=identicon&r=PG", "display_name": "stoefln", "link": "https://stackoverflow.com/users/457059/stoefln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3561, "favorite_count": 2, "accepted_answer_id": 48269155, "answer_count": 2, "score": 3, "last_activity_date": 1516113648, "creation_date": 1516035550, "question_id": 48267553, "link": "https://stackoverflow.com/questions/48267553/how-do-i-export-a-tornadofx-application", "title": "How do I export a tornadofx application?", "body": "<p>I finished writing a little tornadofx app in IntelliJ CE and now want to export it as a single file which can be downloaded and launched by users. For now it would be sufficient to provide a single jar file. But it would be also great to know on how to export a self contained installer for OSX, Windows and Linux. Unfortunately I don't know how to do any of that. Can you help?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516102096, "post_id": 48266499, "comment_id": 83543840, "body": "postData not workin , but i tried using var postDetail = this.userdata[pos] but it does not give post key but whole data class with all values in it .. how do i retrieve post key from it ??"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "reply_to_user": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516105710, "post_id": 48266499, "comment_id": 83545985, "body": "What does your postDetail object look like?"}, {"owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516106391, "post_id": 48266499, "comment_id": 83546410, "body": "its arraylist of data class named ArrayList&lt;RecyClass&gt; has values of image,description,uid,username"}, {"owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516122052, "post_id": 48266499, "comment_id": 83557126, "body": "val key = ref.key[position] , i  tried this but it shows me    error StringIndexOutOfBoundsException: length=4; index=15"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "reply_to_user": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516124224, "post_id": 48266499, "comment_id": 83558540, "body": "you need to update the list each time the values change and then call notifyDataSetChanged();"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "reply_to_user": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516505746, "post_id": 48266499, "comment_id": 83713691, "body": "Did you get it?"}, {"owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516782900, "post_id": 48266499, "comment_id": 83825515, "body": "yes when i add data on firebase i put the key in database ,which in return gives me position key"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "reply_to_user": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "edited": false, "score": 0, "creation_date": 1516803312, "post_id": 48266499, "comment_id": 83838634, "body": "thank you - can you please accept the response or let me know how I can help further?"}], "tags": [], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "is_accepted": false, "score": 0, "last_activity_date": 1516031863, "creation_date": 1516031863, "answer_id": 48266499, "question_id": 48266114, "link": "https://stackoverflow.com/questions/48266114/recyclerview-onclick-getkey-from-firebase/48266499#48266499", "title": "recyclerview onClick getkey from firebase", "body": "<p>You need to use PostData[position] to get the object that current position and then a key/field from that object that you can reference.</p>\n"}], "owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516031863, "creation_date": 1516030580, "last_edit_date": 1516031396, "question_id": 48266114, "link": "https://stackoverflow.com/questions/48266114/recyclerview-onclick-getkey-from-firebase", "title": "recyclerview onClick getkey from firebase", "body": "<p>How do I get key in kotlin in <code>RecyclerView</code> to send it to another activity?\nI tried using <code>getKey()</code> and <code>position</code> but it doesn't work.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class RecyclerAdapter (val userlist:ArrayList&lt;RecyClass&gt;,ccc: Context): RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt;() {\n    var mcontext =ccc\n\n    val  Postdata = java.util.ArrayList&lt;RecyClass&gt;()\n\n\n    lateinit var  ref:DatabaseReference\n\n    override fun getItemCount(): Int {\n        return  userlist.size\n    }\n\n\n    override fun onBindViewHolder( holder: ViewHolder?, position: Int) {\n        val user: RecyClass = userlist[position]\n        ref = FirebaseDatabase.getInstance().getReference(user.toString())\n\n        holder?.txtviewdesc?.text = user.desc\n        Picasso.with(mcontext).load(user.image).into(holder?.imageviewx)\n        holder?.setOncustomcilcklistner(object :Custumclicklistner33{\n            override fun oncustomOnClickListner(view: View, pos: Int) {\n                   }\n\n        })\n    }\n\n\n\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n      this.Postdata\n\n         this.mcon\n        val v = LayoutInflater.from(parent?.context).inflate(R.layout.layoutrcview,parent,false)\n        return ViewHolder(v,mcon,userlist)\n    }\n\n    class ViewHolder(itemview: View,ccc2:Context,userlist: ArrayList&lt;RecyClass&gt;): RecyclerView.ViewHolder(itemview), View.OnClickListener{\n        var mCustIemClick5: Custumclicklistner33?=null\n        var txtviewdesc: TextView\n        var mcon =ccc2\n        var userdata =userlist\n        var imageviewx: ImageView\n\n        init {\n             this.userdata\n            this.mcon\n            txtviewdesc = itemview.findViewById&lt;TextView&gt;(R.id.editTextdesc)\n            imageviewx = itemview.findViewById&lt;ImageView&gt;(R.id.imgvw)\n\n            itemview.setOnClickListener(this)\n        }\n\n\n        fun setOncustomcilcklistner(customclick5: Custumclicklistner33){\n            this.mCustIemClick5=customclick5\n        }\n\n        override fun onClick(view: View?) {\n            this.mCustIemClick5!!.oncustomOnClickListner(view!!,adapterPosition)\n            val pos = adapterPosition\n           val ref =FirebaseDatabase.getInstance().getReference(pos.toString()).key.toString()\n            Toast.makeText(mcon,ref,Toast.LENGTH_LONG).show()\n            var postDetail = this.userdata[pos]\n             val kkk = Intent(this.mcon,ProfileActivity::class.java)\n            kkk.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n           this.mcon.startActivity(kkk)\n        }\n    }\n}\n</code></pre>\n\n<p><code>fun onclick</code> takes to next activity but it takes post's <code>key</code>. How to get it? \n<code>getref</code> and <code>postiton</code> is not working in <code>fun onclick</code> but it works on <code>bindviewholder</code>.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1516029993, "post_id": 48265917, "comment_id": 83514883, "body": "Please learn proper indentation and use it. I&#39;ve fixed it for you this time."}], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1516031301, "post_id": 48266116, "comment_id": 83515651, "body": "hi. yes i have already included @RunWith(MockitoJUnitRunner::class) on top of my test class"}], "tags": [], "owner": {"reputation": 21522, "user_id": 2202415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hHKw.jpg?s=128&g=1", "display_name": "Maciej Kowalski", "link": "https://stackoverflow.com/users/2202415/maciej-kowalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1516030594, "creation_date": 1516030594, "answer_id": 48266116, "question_id": 48265917, "link": "https://stackoverflow.com/questions/48265917/mockito-injectmocks-not-working/48266116#48266116", "title": "mockito InjectMocks not working?", "body": "<p>Make sure you init the creation and injection of the mocks by:</p>\n\n<p><strong>1)</strong> Adding <code>@RunWith(org.mockito.junit.MockitoJUnitRunner)</code> on the test class.</p>\n\n<p>or </p>\n\n<p><strong>2)</strong> Adding <code>MockitoAnnotations.initMocks(this)</code> to your <code>@Before</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1516098062, "post_id": 48272232, "comment_id": 83541259, "body": "Hi i tried initialising the object inside the test method and still i get an issue where it never fires the implemented someFucntion that i defined. The Delegator class has a @inject  lateinit var  someFunction : SomeFunctionContract that works in real time using dagger 2 but not when i try to add a mock implementation on it on my test code"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1516098522, "post_id": 48272232, "comment_id": 83541620, "body": "o yes i got it working. under @spy lateinit var someFunction i set the test implementation directly there"}], "tags": [], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1516059905, "creation_date": 1516059905, "answer_id": 48272232, "question_id": 48265917, "link": "https://stackoverflow.com/questions/48265917/mockito-injectmocks-not-working/48272232#48272232", "title": "mockito InjectMocks not working?", "body": "<p>The <code>@Before</code> method is called after <code>Mockito</code> does its injection magic so, you are overwriting the spy created and used by <code>Mockito</code>. If you want to have your own implementation of the object to be injected (I'm assuming it is <code>SomeFunctionContract</code>) then you have to declare it on the property instead of on the <code>@Before</code> function.</p>\n\n<p>All that said, I think we are missing some context of your code. Can you attach the code for <code>something</code>, <code>Delegator</code> and <code>testData</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 0, "creation_date": 1516110489, "post_id": 48279123, "comment_id": 83549167, "body": "No need for <code>lateinit</code> and I&#39;m sure you only need one equals"}], "tags": [], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1516098591, "creation_date": 1516098591, "answer_id": 48279123, "question_id": 48265917, "link": "https://stackoverflow.com/questions/48265917/mockito-injectmocks-not-working/48279123#48279123", "title": "mockito InjectMocks not working?", "body": "<p>Fixed:</p>\n\n<p>initialise the implementation directly in the spy level:</p>\n\n<pre><code>@Spy\nlateinit var someFunction: SomeFunctionContract =  = object : SomeFuntionContract {\n        override fun save(test: String) {\n            testData = test //breakpoint here but never executes\n        }\n\n        override fun get(): String {\n            return testData\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3292, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1516098591, "creation_date": 1516029896, "last_edit_date": 1516031345, "question_id": 48265917, "link": "https://stackoverflow.com/questions/48265917/mockito-injectmocks-not-working", "title": "mockito InjectMocks not working?", "body": "<p>I am trying to use a test implementation of a class and using that to be injected to the test using <code>@InjectMocks</code> but it doesn't seem to inject it. I tried using Spy but that did not work and instead created a blank mocked version instead of using the version I created inside my <code>@Before</code> function</p>\n\n<p>Here is my test code below:</p>\n\n<pre><code>@Before\nfun setup() {\n    someFunction = object : SomeFuntionContract {\n        override fun save(test: String) {\n            testData = test //breakpoint here but never executes\n        }\n\n        override fun get(): String {\n            return testData\n        }\n    }\n}\n\nlateinit var testData : String\n\n@InjectMocks\nlateinit var delegator: Delegator\n\n\n@Spy\nlateinit var someFunction: SomeFunctionContract\n\n\n@Test\nfun testSomething{\n    delegator.retrieve(something)\n\n    Assert.assertTrue(someFunction.get() == \"hello\")\n}\n</code></pre>\n\n<p><code>SomeFunctionContract.kt</code> is an interface that has <code>save</code> and <code>get</code> functions and <code>SomeFunction</code> is the real implementation test</p>\n\n<p>Inside <code>delegator.retrieve</code> it calls <code>someFunction.get</code> inside it and I am trying to see if it gets called and saves the data.</p>\n"}, {"tags": ["java", "kotlin", "kotlin-reified-type-parameters"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1516027653, "post_id": 48264969, "comment_id": 83513420, "body": "Your story is incomplete. What are the return types of <code>get</code> methods? Are they all the same, just <code>GraphView</code>? If yes, then you don&#39;t really have a problem. If no, and you have <code>GraphView1</code> and <code>GraphView2</code>, then you have a relationship between input and output types that is not expressible in the static type system."}, {"owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516031495, "post_id": 48264969, "comment_id": 83515778, "body": "Sorry, i&#39;ve updated the example. Yes, both methods will return GraphView."}, {"owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516031608, "post_id": 48264969, "comment_id": 83515840, "body": "What do you mean when says you don&#39;t have a problem? I think you will just cast the type inside the factory based on when(param) is type WhatEver and then cast, but i&#39;m trying to find a way to avoid that casting with reified and inline. (Just curiosity)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516031652, "post_id": 48264969, "comment_id": 83515861, "body": "So, what&#39;s the issue with this? Can&#39;t you pass a <code>Graph</code> to <code>GraphView</code> and let it decide what to do, using <code>is</code> and <code>as</code>, possibly? I still don&#39;t see the real tension in your question, what exactly is bugging you. Eventually inside <code>GraphView</code> you&#39;ll have to know which type it is? Or not? Too many open questions."}], "answers": [{"tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": true, "score": 1, "last_activity_date": 1516129611, "creation_date": 1516129611, "answer_id": 48288207, "question_id": 48264969, "link": "https://stackoverflow.com/questions/48264969/how-to-avoid-kotlin-factory-class-method-by-subtype/48288207#48288207", "title": "How to avoid kotlin factory class method by subtype?", "body": "<p>You wouldn't have to keep creating methods (though you may want to depending on how complex it is to create a <code>GraphView</code>), but the number of cases in your <code>when</code> will grow.</p>\n\n<pre><code>class GraphViewFactory {\n  fun get(data: Graph): GraphView {\n     return when {\n         is Graph1 -&gt; TODO()\n         is Graph2 -&gt; TODO()\n         else -&gt; IllegalArgumentException()\n     }\n  }\n}\n</code></pre>\n\n<p>Using reified types doesn't buy you anything here.</p>\n"}], "owner": {"reputation": 9494, "user_id": 988283, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/539251bc88379bc1f60805a7701c1afd?s=128&d=identicon&r=PG", "display_name": "colymore", "link": "https://stackoverflow.com/users/988283/colymore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 48288207, "answer_count": 1, "score": 0, "last_activity_date": 1516129611, "creation_date": 1516026412, "last_edit_date": 1516031456, "question_id": 48264969, "link": "https://stackoverflow.com/questions/48264969/how-to-avoid-kotlin-factory-class-method-by-subtype", "title": "How to avoid kotlin factory class method by subtype?", "body": "<p>i have a question about kotlin:</p>\n\n<p>Imagine you have this:</p>\n\n<pre><code>sealed class Graph : Serializable\ndata class Graph1() : Graph() {}\ndata class Graph2() : Graph() {}\n</code></pre>\n\n<p>And you want to have a factory class that given a subtype of Graph gives you a GraphView.</p>\n\n<p>So, you have something similar to</p>\n\n<pre><code>interface GraphViewFactory{\n  fun get(data: Graph1):GraphView\n  fun get(data: Graph2):GraphView\n}\n</code></pre>\n\n<p>And also you have the implementation for that.</p>\n\n<p>Is possible in kotlin avoid this method explosion of interface having one per graphtype using inline and reified? I'm trying to but i'm not being able.</p>\n\n<p>On the one hand, kotlin interface (I think) does not allow inline functions, on the other hand even without the interface i'm not able to auto cast parameter T as reified to one of the specific subtype class inside the factory class.</p>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1516027641, "post_id": 48264859, "comment_id": 83513415, "body": "SAM conversion not used correctly: <a href=\"https://stackoverflow.com/a/48265190/8073652\">stackoverflow.com/a/48265190/8073652</a>"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 8894803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3a2bb20a08af3196247777bcc2cdca?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ad8\u4e07\u7965", "link": "https://stackoverflow.com/users/8894803/%e9%ab%98%e4%b8%87%e7%a5%a5"}, "edited": false, "score": 0, "creation_date": 1516097950, "post_id": 48265190, "comment_id": 83541172, "body": "This is what answer I need\uff01See also <a href=\"https://code.tutsplus.com/tutorials/quick-tip-write-cleaner-code-with-kotlin-sam-conversions--cms-29304\" rel=\"nofollow noreferrer\">link</a> can learn more about SAM Conversions.Thanks your help."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1516027276, "creation_date": 1516027276, "answer_id": 48265190, "question_id": 48264859, "link": "https://stackoverflow.com/questions/48264859/how-to-convert-this-java-code-to-kotlin-code/48265190#48265190", "title": "How to convert this Java code to Kotlin Code?", "body": "<p>Your function literal / lambda isn't quite correct. In order to make the compiler able to convert it into an actual implementation of the Java interface <code>CommandLineRunner</code>, use <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a>.</p>\n\n<p>It then looks as follows:</p>\n\n<pre><code>fun run(restTemplate: RestTemplate): CommandLineRunner {\n    return CommandLineRunner { args -&gt;\n        TODO(\"not implemented\")\n    }\n}\n</code></pre>\n\n<p>Notice <strong><code>CommandLineRunner { args -&gt;...}</code></strong></p>\n\n<p>Alternatively, without SAM Conversion, the <code>object</code> syntax is handy:</p>\n\n<pre><code>return object : CommandLineRunner {\n    override fun run(vararg args: String?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 0, "last_activity_date": 1516027538, "creation_date": 1516027538, "answer_id": 48265256, "question_id": 48264859, "link": "https://stackoverflow.com/questions/48264859/how-to-convert-this-java-code-to-kotlin-code/48265256#48265256", "title": "How to convert this Java code to Kotlin Code?", "body": "<p>Here is some example of kotlin basic of converting a standard java interface to kotlin</p>\n\n<pre><code>// java\ninterface CommandLineRunner {\n    public void run(String... args);\n}\n\n\n// kotlin\nfun foo(): CommandLineRunner {\n    return object: CommandLineRunner {\n        override fun run(args: Array&lt;String&gt;) {\n            // TODO\n        }\n    }\n}\n</code></pre>\n\n<p>if it is a functional interface, you can use <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a></p>\n\n<pre><code>// java\n@FunctionalInterface\ninterface CommandLineRunner {\n    public void run(String... args);\n}\n\n// kotlin\nfun foo(): CommandLineRunner {\n    return CommandLineRunner { args -&gt;\n\n    }\n}\n</code></pre>\n\n<p>Hope you can have a better understanding of the java to kotlin conversion.</p>\n"}], "owner": {"reputation": 67, "user_id": 8894803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3a2bb20a08af3196247777bcc2cdca?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ad8\u4e07\u7965", "link": "https://stackoverflow.com/users/8894803/%e9%ab%98%e4%b8%87%e7%a5%a5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 1, "accepted_answer_id": 48265190, "answer_count": 2, "score": -2, "last_activity_date": 1516027538, "creation_date": 1516025943, "last_edit_date": 1516026487, "question_id": 48264859, "link": "https://stackoverflow.com/questions/48264859/how-to-convert-this-java-code-to-kotlin-code", "title": "How to convert this Java code to Kotlin Code?", "body": "<p>I'm learning spring boot and new to kotlin.\nA error will be reported when this Java function convert to kotlin code.\nHow to rewrite this kotlin function?</p>\n\n<p><a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n\n<pre><code>@Bean\npublic CommandLineRunner run(RestTemplate restTemplate) throws Exception {\n    return args -&gt; {\n        Quote quote = restTemplate.getForObject(\n                \"http://gturnquist-quoters.cfapps.io/api/random\", Quote.class);\n        log.info(quote.toString());\n    };\n}\n</code></pre>\n\n<p>After convert these code to kotlin by idea:</p>\n\n<pre><code> @Bean\n@Throws(Exception::class)\nfun run(restTemplate: RestTemplate): CommandLineRunner {\n    return { args -&gt;\n        val quote = restTemplate.getForObject(\n                \"http://gturnquist-quoters.cfapps.io/api/random\", Quote::class.java)\n        log.info(quote.toString())\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ganID.png\" alt=\"Type mismatch\"></p>\n\n<p>Please tell me how to correct this code.</p>\n"}, {"tags": ["collections", "stream", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1516028000, "post_id": 48264574, "comment_id": 83513620, "body": "note that you can omit parentheses if lambdas are the only argument to a function like <code>forEach</code>, I modified your snippet, hope that&#39;s fine"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1516053711, "last_edit_date": 1516053711, "creation_date": 1516025698, "answer_id": 48264779, "question_id": 48264574, "link": "https://stackoverflow.com/questions/48264574/stream-handling-in-kotlin/48264779#48264779", "title": "Stream handling in kotlin", "body": "<p>Your code sample uses operations on <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterator/index.html\" rel=\"nofollow noreferrer\"><code>Iterable&lt;T&gt;</code></a>, which works eagerly: the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"nofollow noreferrer\"><code>.filter { ... }</code></a> call will process the whole range and produce a list storing intermediate results.</p>\n\n<p>To alter that, consider using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html\" rel=\"nofollow noreferrer\"><code>Sequence&lt;T&gt;</code></a> (e.g. with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-sequence.html\" rel=\"nofollow noreferrer\"><code>.asSequence()</code></a>) that works lazily, so that the <em>intermediate</em> operations such as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/filter.html\" rel=\"nofollow noreferrer\"><code>.filter { ... }</code></a> produce another lazy sequence and only do the work when items are queried by <em>terminal</em> operations such as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/for-each.html\" rel=\"nofollow noreferrer\"><code>.forEach { ... }</code></a>:</p>\n\n<pre><code>(1..10000000).asSequence()\n    .filter { it % 2 == 1 } \n    .forEach { /* ... */ }\n</code></pre>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/35629159/kotlins-iterable-and-sequence-look-exactly-same-why-are-two-types-required\">Kotlin's Iterable and Sequence look exactly same. Why are two types required?</a></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1516029389, "last_edit_date": 1516029389, "creation_date": 1516028582, "answer_id": 48265549, "question_id": 48264574, "link": "https://stackoverflow.com/questions/48264574/stream-handling-in-kotlin/48265549#48265549", "title": "Stream handling in kotlin", "body": "<p>You can actually see the answer to your question pretty quickly by just adding <code>println(it)</code> into <code>filter</code>:</p>\n\n<pre><code>//...\n.filter {\n   println(it)\n   it % 2 == 1\n}\n//...\n</code></pre>\n\n<p>You'll see <strong>every</strong> number printed. That's because your processing works eagerly as explained <a href=\"https://stackoverflow.com/questions/35629159/kotlins-iterable-and-sequence-look-exactly-same-why-are-two-types-required\">here</a>.</p>\n\n<p>As already suggested, lazy <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/as-sequence.html\" rel=\"nofollow noreferrer\"><strong>Sequences</strong></a> to the rescue: <code>(1..10_000_000).asSequence()</code></p>\n\n<p>Now, the <code>println(it)</code> in <code>filter</code> will only print the numbers <code>1..21</code>, which is definetly preferable in your example. </p>\n"}], "owner": {"reputation": 2498, "user_id": 8082162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2a70924987c60279e283ad820c1bc4ea?s=128&d=identicon&r=PG", "display_name": "aschoerk", "link": "https://stackoverflow.com/users/8082162/aschoerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 48264779, "answer_count": 2, "score": 2, "last_activity_date": 1516053711, "creation_date": 1516024947, "last_edit_date": 1516051254, "question_id": 48264574, "link": "https://stackoverflow.com/questions/48264574/stream-handling-in-kotlin", "title": "Stream handling in kotlin", "body": "<ul>\n<li>How will Kotlin work the following code? </li>\n<li>Will a collection of 5000000 integers be created as temporary collection or will the filter feed its result immediately to the <code>forEach</code> which means, that only 20 integers will be looked at? </li>\n<li>If not, how would I be able to avoid the intermediate collection?</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>class Tests {\n    @Test\n    fun test() {\n        var counter = 0\n        (1..10_000_000).filter { it % 2 == 1 }.forEach {\n            counter++\n            if (counter &gt; 10)\n                return\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "snapchat"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516023043, "post_id": 48263773, "comment_id": 83510822, "body": "Why do you ask <b>us</b> how <b>they</b> do it? Why don&#39;t you ask <b>them</b>?"}, {"owner": {"reputation": 75, "user_id": 7443521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01fe9a4a689ce1251a81a0f85bc57b6?s=128&d=identicon&r=PG&f=1", "display_name": "Hydar M", "link": "https://stackoverflow.com/users/7443521/hydar-m"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 2, "creation_date": 1516024049, "post_id": 48263773, "comment_id": 83511386, "body": "@VladMatvienko If I could ask them and get reply, I would. There is no point in commenting if you will provide zero help, if you dont know, dont comment. thanks"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516041441, "post_id": 48263773, "comment_id": 83520918, "body": "Sorry, but looks like you didn&#39;t read through the rules of SO when accepted them. Please read, and you will understand that the goal of SO is <b>not to help you</b>, but to collect a database of solutions. And while your question is off-topic, it harms SO, and I&#39;m welcome to do whatever I can (including commenting) to make it on-topic. So please reformat your question not to look like <i>how did they do it</i>, but to state <b>what exactly you want to know</b> at least because not everybody is using instagram and snapchat."}, {"owner": {"reputation": 75, "user_id": 7443521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01fe9a4a689ce1251a81a0f85bc57b6?s=128&d=identicon&r=PG&f=1", "display_name": "Hydar M", "link": "https://stackoverflow.com/users/7443521/hydar-m"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1517060807, "post_id": 48263773, "comment_id": 83945964, "body": "@VladMatvienko You dont know how to do it, I understand."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1517076596, "post_id": 48263773, "comment_id": 83950823, "body": "please read the SO rules before offending me. I know how to do that, but nobody is welcome to answer questions that harm SO. And I will answer only once the question is on-topic and correct."}, {"owner": {"reputation": 365, "user_id": 7568890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4382278535a5c74ac4e4d05c22d2d62c?s=128&d=identicon&r=PG&f=1", "display_name": "AloDev", "link": "https://stackoverflow.com/users/7568890/alodev"}, "edited": false, "score": 1, "creation_date": 1553684751, "post_id": 48263773, "comment_id": 97473343, "body": "I&#39;m interested in this question too. Days of searching doesn&#39;t give me a positive result. And the deal even isn&#39;t the adding filters/stickers, but the fine-working image and video capture. Camera 2 API is a nightmare, it has a lot of bugs and problems with the performance. I think Instagram and Snapchat use opencv,  c/c++ since low-level language is much faster than java. But if you have no practice in c/c++ programming, it will be a challenge to understand."}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 3289415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c416b7d70ede560170aeaae04e31b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "isaac.udy", "link": "https://stackoverflow.com/users/3289415/isaac-udy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516875614, "creation_date": 1516875614, "answer_id": 48440497, "question_id": 48263773, "link": "https://stackoverflow.com/questions/48263773/image-and-video-capture-like-snapchat-instagram-stories/48440497#48440497", "title": "Image and video capture like Snapchat/Instagram stories", "body": "<p>I'm not sure if they have a different method of <em>capturing</em> the media, but they're surely doing a lot more than simply using a Video/ImageView to render it once it's captured. </p>\n\n<p>I've worked on the problem of adding filters/stickers to photos and videos before. The best solution I came up with was to use a two-stage approach. </p>\n\n<p>A single stage approach would be to capture media, then apply a filter to the media, and then preview that processed media. This doesn't work as the filtering process is slow to process a whole video. </p>\n\n<p>A two stage approach involves a real-time preview before actually applying the filter.</p>\n\n<p>If you're smart about it, things like moving stickers around and drawing on an image can simply be inputs into the preview filter, which is then made concrete when the user saves the media. </p>\n\n<p>If you're interested in seeing how this works, I have published an open source library that demonstrates how to do this: <a href=\"https://github.com/isaac-udy/Kfilter\" rel=\"nofollow noreferrer\">https://github.com/isaac-udy/Kfilter</a></p>\n"}], "owner": {"reputation": 75, "user_id": 7443521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01fe9a4a689ce1251a81a0f85bc57b6?s=128&d=identicon&r=PG&f=1", "display_name": "Hydar M", "link": "https://stackoverflow.com/users/7443521/hydar-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2887, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1516875614, "creation_date": 1516022168, "question_id": 48263773, "link": "https://stackoverflow.com/questions/48263773/image-and-video-capture-like-snapchat-instagram-stories", "title": "Image and video capture like Snapchat/Instagram stories", "body": "<p>I have read online that snapchat and instagram have a different approach to capturing video as opposed to using the camera APIs in Android, this allows them to add filters/stickers etc to the captured content.</p>\n\n<p>Can anyone advise on ways to approach this? potential libraries, android classes etc.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1516023632, "post_id": 48263058, "comment_id": 83511132, "body": "add this inside onstart(), mReference.addValueEvenListener(stateListener);"}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 1382960, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cb62d74791fa20f9b7f863f24588c52e?s=128&d=identicon&r=PG", "display_name": "Puneet", "link": "https://stackoverflow.com/users/1382960/puneet"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516081572, "post_id": 48264087, "comment_id": 83533078, "body": "Give the stateListener class scope. Right now it is scoped to method."}], "tags": [], "owner": {"reputation": 613, "user_id": 1382960, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cb62d74791fa20f9b7f863f24588c52e?s=128&d=identicon&r=PG", "display_name": "Puneet", "link": "https://stackoverflow.com/users/1382960/puneet"}, "is_accepted": false, "score": 2, "last_activity_date": 1516082460, "last_edit_date": 1516082460, "creation_date": 1516023298, "answer_id": 48264087, "question_id": 48263058, "link": "https://stackoverflow.com/questions/48263058/remove-firebase-listener-doesnt-work-android/48264087#48264087", "title": "Remove Firebase listener doesn&#39;t work Android", "body": "<p><code>addValueEventListener</code> doesn't return anything. You just created the listener anonymously. Therefore, your <code>stateListener</code> isn't referring to your listener. </p>\n\n<p>Change your code as below:</p>\n\n<pre><code>class YourClassName:Activity(){    \nprivate lateinit var statelistener: ValueEventListener\n\noverride fun onStart() {\n    stateListener = ValueEventListener {\n        [...]\n    }\n    dbReference.stateRef.addValueEventListener(stateListener)\n}\n\n\noverride fun onStop() {\n    super.onStop()\n    dbReference.stateRef.removeEventListener(stateListener)\n    Log.d(\"My_TAG\", \"$stateListener \")\n}\n}\n</code></pre>\n\n<p>Now, your unsubscribe code should work. I am not very comfortable with Kotlin yet so pardon the syntax issues but the code above should work.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516049198, "post_id": 48264997, "comment_id": 83524389, "body": "there is no error it&#39;s just doesn&#39;t remove the listener"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516049684, "post_id": 48264997, "comment_id": 83524607, "body": "In which place are trying ti remove it?"}, {"owner": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516050181, "post_id": 48264997, "comment_id": 83524813, "body": "On the onStop method."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516050269, "post_id": 48264997, "comment_id": 83524854, "body": "And why I are saying that the listener is still active of calling <code>dbReference.removeEventListener(valueEventListener);</code>?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516050839, "post_id": 48264997, "comment_id": 83525069, "body": "How do you verify that is still active? Why do you think so?"}, {"owner": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516051098, "post_id": 48264997, "comment_id": 83525180, "body": "Because when i change the data on the database its change on the phone as well"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516051474, "post_id": 48264997, "comment_id": 83525344, "body": "How can you see this? When onStop() is called, you supposed to have your activity stoped so you cannot see the activity anymore. If you restart the activity, onStart() is called again, and the listtener is again attached. So you can see all the changes."}, {"owner": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516052460, "post_id": 48264997, "comment_id": 83525754, "body": "i have three activities,i listen to an event from the second activity and when it change i go to the third activity, and when i stop the third activity i go back to the first activity, but when i change the data on the database it goes from the first activity to the third activity"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "edited": false, "score": 0, "creation_date": 1516055298, "post_id": 48264997, "comment_id": 83526875, "body": "If you listen in your second activity, then you must stop listening also in the second acitity. You say that you are stopping the third. Please be more clear."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 2, "last_activity_date": 1516055079, "last_edit_date": 1516055079, "creation_date": 1516026490, "answer_id": 48264997, "question_id": 48263058, "link": "https://stackoverflow.com/questions/48263058/remove-firebase-listener-doesnt-work-android/48264997#48264997", "title": "Remove Firebase listener doesn&#39;t work Android", "body": "<p>In order to remove a listener, you first need to create it and then attach it to a <code>DatabaseReference</code> object.</p>\n\n<pre><code>val valueEventListener = ValueEventListener() {\n    //override fun onDataChange\n    //override fun onCancelled\n}\ndbReference.stateRef.addValueEventListener(eventListener)\n</code></pre>\n\n<p>So to remove the listener, you need to do it accordingly to the life-cycle of your activity like this:</p>\n\n<pre><code>dbReference.stateRef.removeEventListener(valueEventListener);\n</code></pre>\n\n<ul>\n<li>If you have added the listener in <code>onStart</code> you have to remove it in <code>onStop</code>.</li>\n<li>If you have added the listener in <code>onResume</code> you have to remove it in <code>onPause</code>.</li>\n<li>If you have added the listener in <code>onCreate</code> you have to remove it in <code>onDestroy</code>.</li>\n</ul>\n\n<p>But remember <code>onDestroy</code> is not always called.</p>\n"}], "owner": {"reputation": 45, "user_id": 4072236, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1383374292/picture?type=large", "display_name": "Amit Laloush", "link": "https://stackoverflow.com/users/4072236/amit-laloush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 1, "accepted_answer_id": 48264997, "answer_count": 2, "score": 2, "last_activity_date": 1516082460, "creation_date": 1516019318, "last_edit_date": 1516050693, "question_id": 48263058, "link": "https://stackoverflow.com/questions/48263058/remove-firebase-listener-doesnt-work-android", "title": "Remove Firebase listener doesn&#39;t work Android", "body": "<p>I'm adding an event value listener to a reference and when I want to remove it, but it doesn't work.</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    stateListener =dbReference.stateRef.addValueEventListener(object : ValueEventListener {\n\n        override fun onCancelled(p0: DatabaseError?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onDataChange(snapshot: DataSnapshot?) {\n           //there is my functions\n        })\n}\n\noverride fun onStop() {\n    super.onStop()\n    dbReference.stateRef.removeEventListener(stateListener)\n    Log.d(\"My_TAG\", \"$stateListener \")\n}\n</code></pre>\n\n<p>This is the only place I'm adding the event.</p>\n\n<p>after editing (still don't work)</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    stateListener = object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n        //One of the phone got flipped\n        override fun onDataChange(snapshot: DataSnapshot?) {\n        }\n\n    }\n    dbReference.stateRef.addValueEventListener(stateListener)\n\n}\n\noverride fun onStop() {\n    super.onStop()\n    Log.d(\"Life\", \"onStop\")\n    dbReference.stateRef.removeEventListener(stateListener)\n}\n</code></pre>\n"}, {"tags": ["initialization", "kotlin", "field", "final"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 2, "creation_date": 1516014115, "post_id": 48261505, "comment_id": 83505949, "body": "<code>result in a compilation error</code> &gt; Specify the compilation error."}], "answers": [{"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1516014325, "post_id": 48261577, "comment_id": 83506080, "body": "Ahhh damn. I forgot in Kotlin just about everything is an expression. Thus when is &quot;assignable&quot;. Thanks for the remainder."}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 4, "creation_date": 1516095133, "post_id": 48261577, "comment_id": 83539324, "body": "<code>: String</code> is optional in this case. ;)"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 17, "last_activity_date": 1516097250, "last_edit_date": 1516097250, "creation_date": 1516013741, "answer_id": 48261577, "question_id": 48261505, "link": "https://stackoverflow.com/questions/48261505/kotlin-val-initialization-using-when/48261577#48261577", "title": "Kotlin val initialization using when", "body": "<p>How about this construction:</p>\n\n<pre>\n<code>\n    val finalValue: String = when (condition) {\n        1 -> \"One\"\n        2 -> \"Two\"\n        3 -> \"Three\"\n        else -> \"Undefined\"\n    }\n</code>\n</pre>\n\n<p>Using <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"noreferrer\"><code>when</code></a> as an expression.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1516014260, "creation_date": 1516014260, "answer_id": 48261703, "question_id": 48261505, "link": "https://stackoverflow.com/questions/48261505/kotlin-val-initialization-using-when/48261703#48261703", "title": "Kotlin val initialization using when", "body": "<p>You can also use <strong>init</strong> block to initialize a final variable.</p>\n\n<pre><code>val finalValue: String\n\ninit {\n    finalValue = when (condition) {\n        1 -&gt; \"One\"\n        2 -&gt; \"Two\"\n        3 -&gt; \"Three\"\n        else -&gt; \"Undefined\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1516022273, "post_id": 48263209, "comment_id": 83510411, "body": "Understood. I did not correctly specify the assignment on the &quot;else&quot; branch."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1516019902, "creation_date": 1516019902, "answer_id": 48263209, "question_id": 48261505, "link": "https://stackoverflow.com/questions/48261505/kotlin-val-initialization-using-when/48263209#48263209", "title": "Kotlin val initialization using when", "body": "<p>Actually, the following does compile, I'm not sure which problem you encountered?</p>\n\n<pre><code>fun x(condition: Int = 5) {\n    val finalValue: String\n\n    when (condition) {\n        1 -&gt; finalValue = \"One\"\n        2 -&gt; finalValue = \"Two\"\n        3 -&gt; finalValue = \"Three\"\n        else -&gt; finalValue = \"Undefined\"\n    }\n}\n</code></pre>\n\n<p>The only possibility to me: You wrote the <code>when</code> clause into a class body directly, which certainly does not work. You could put it into an <code>init</code> block though.</p>\n\n<p>But of course it's much nicer to simply use the power of <code>when</code> expression here (Which the IDE also suggests):</p>\n\n<pre><code>val finalValue = when (condition) {\n    1 -&gt; \"One\"\n    2 -&gt; \"Two\"\n    3 -&gt; \"Three\"\n    else -&gt; \"Undefined\"\n}\n</code></pre>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4488, "favorite_count": 1, "accepted_answer_id": 48261577, "answer_count": 3, "score": 7, "last_activity_date": 1516097250, "creation_date": 1516013543, "last_edit_date": 1516013826, "question_id": 48261505, "link": "https://stackoverflow.com/questions/48261505/kotlin-val-initialization-using-when", "title": "Kotlin val initialization using when", "body": "<p>Using Java I may want to initialize a final variable using a switch statement:</p>\n\n<pre><code>final String finalValue;\n\nswitch (condition) {\n   case 1:\n      finalValue = \"One\";\n      break;\n   case 2:\n      finalValue = \"Two\";\n      break;\n   case 3:\n      finalValue = \"Three\";\n      break;\n   default:\n      finalValue = \"Undefined\";\n      break;\n}\n</code></pre>\n\n<p>In Kotlin, trying to do the same:</p>\n\n<pre><code>val finalValue: String\n\nwhen (condition) {\n   1 -&gt; finalValue = \"One\"\n   2 -&gt; finalValue = \"Two\"\n   3 -&gt; finalValue = \"Three\"\n   else -&gt; finalValue = \"Undefined\"\n}\n</code></pre>\n\n<p>result in a compilation error.<br>\nA solutions is using the <code>by lazy</code> combination, but this create a new <code>Lazy</code> instance.</p>\n\n<pre><code>val finalValue: String by lazy {    \n   when (condition) {\n      1 -&gt; \"One\"\n      2 -&gt; \"Two\"\n      3 -&gt; \"Three\"\n      else -&gt; \"Undefined\"\n   }\n}\n</code></pre>\n\n<p>Is there a better way to accomplish this?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata"], "comments": [{"owner": {"reputation": 943, "user_id": 2160074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5788f12a8ca29332d914f631e35fee07?s=128&d=identicon&r=PG", "display_name": "Karan Modi", "link": "https://stackoverflow.com/users/2160074/karan-modi"}, "edited": false, "score": 0, "creation_date": 1523625096, "post_id": 48260060, "comment_id": 86650108, "body": "I would speculate that in case WearableActivity doesn&#39;t implement LifecycleOwner, then you would need to do so in your code and override the getLifeCycle() method."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 2406526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2636c5276ccbbd258cd74690cecb4fe4?s=128&d=identicon&r=PG", "display_name": "Doplgangr", "link": "https://stackoverflow.com/users/2406526/doplgangr"}, "is_accepted": true, "score": 6, "last_activity_date": 1587149768, "last_edit_date": 1592644375, "creation_date": 1524130907, "answer_id": 49917771, "question_id": 48260060, "link": "https://stackoverflow.com/questions/48260060/how-to-get-lifecycleowner-in-wearableactivity/49917771#49917771", "title": "How to get LifecycleOwner in WearableActivity?", "body": "<p>The latest approach as shown on the official <a href=\"https://github.com/android/wear-os-samples/blob/master/AlwaysOn/Wearable/src/main/java/com/example/android/wearable/wear/alwayson/MainActivity.java\" rel=\"nofollow noreferrer\">Android sample projects</a> is to extend <code>androidx.fragment.app.FragmentActivity</code> and implement <code>AmbientModeSupport.AmbientCallbackProvider</code>.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // setContentView will be the same as before\n    setContentView(R.layout.activity_main)\n\n    // Initialize yourCustomObserver here or have it injected\n\n    // FragmentActivity has getLifeCycle() so you get it for free\n    getLifeCycle().addObserver(yourCustomObserver);\n}\n</code></pre>\n<p>That's it, and you won't need to manually update your LifecycleOwner (aka Activity) lifecycle state.</p>\n<h3>Previous Answer</h3>\n<p>Further to the previous comment by Karan Modi, you may implement your own <code>getLifeCycle()</code> according to the guide in the lifecycle documentation.</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle.html#implementing-lco\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/lifecycle.html#implementing-lco</a></p>\n<p>Specifically, you may implement your own LifeCycleOwner as shown:</p>\n<pre><code>public class MyActivity extends WearableActivity implements LifecycleOwner {\n    private LifecycleRegistry mLifecycleRegistry;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        mLifecycleRegistry = new LifecycleRegistry(this);\n        mLifecycleRegistry.markState(Lifecycle.State.CREATED);\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mLifecycleRegistry.markState(Lifecycle.State.STARTED);\n    }\n\n    @NonNull\n    @Override\n    public Lifecycle getLifecycle() {\n        return mLifecycleRegistry;\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 1, "accepted_answer_id": 49917771, "answer_count": 1, "score": 4, "last_activity_date": 1587149768, "creation_date": 1516008243, "question_id": 48260060, "link": "https://stackoverflow.com/questions/48260060/how-to-get-lifecycleowner-in-wearableactivity", "title": "How to get LifecycleOwner in WearableActivity?", "body": "<p>I am facing a problem when I try to use LiveData from WearableActivity:</p>\n\n<pre><code>val livedata = ...\nval observer = ...\nlivedata.observe(this, observer)\n</code></pre>\n\n<p>It worked when I was working with activity extending AppCompatActivity but it looks like WearableActivity does not implement LifecycleOwner interface, altough it does own a lifecycle, right? (observe method requires LifecycleOwner as the first argument). How can I make it work?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1515999404, "post_id": 48258169, "comment_id": 83498899, "body": "i see, toString() is apart of Any object. i see that part now."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1515999469, "post_id": 48258169, "comment_id": 83498929, "body": "@j2emanue: as for your other question, try this: <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a>. It&#39;s called covariance/contravariance."}], "tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": false, "score": 1, "last_activity_date": 1515999081, "creation_date": 1515999081, "answer_id": 48258169, "question_id": 48258135, "link": "https://stackoverflow.com/questions/48258135/kotlin-in-keyword-what-is-is-used-for/48258169#48258169", "title": "Kotlin - &quot;in&quot; keyword - what is is used for?", "body": "<p>I'll answer part of your question</p>\n\n<blockquote>\n  <p>How does this even compile since value is not guaranteed to be a String</p>\n</blockquote>\n\n<p>So what? You can call <code>.toString()</code> on any type. That's how you get a string you'll be returning.</p>\n"}, {"comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1520248746, "post_id": 48258942, "comment_id": 85223384, "body": "can you also provide an example using &quot;out&quot;. the example with in was very good but i want to see the difference."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1520272306, "last_edit_date": 1520272306, "creation_date": 1516003263, "answer_id": 48258942, "question_id": 48258135, "link": "https://stackoverflow.com/questions/48258135/kotlin-in-keyword-what-is-is-used-for/48258942#48258942", "title": "Kotlin - &quot;in&quot; keyword - what is is used for?", "body": "<blockquote>\n  <p>it tells the class that there is a guarantee the type wont be any other subclass ? I am just not clear on the usecase for it, can you help ?</p>\n</blockquote>\n\n<p>Say you have a function that wants to add some items to a list you supply. The items are of type <code>Int</code>. </p>\n\n<p>Question: what kinds of list are acceptable to this function?</p>\n\n<p>Answer: <code>MutableList&lt;Int&gt;</code>, <code>MutableList&lt;Number&gt;</code>, <code>MutableList&lt;Any&gt;</code>. Or, in short, <code>MutableList&lt;in Int&gt;</code>.</p>\n\n<hr>\n\n<p>In the same spirit, let's explain the <code>out</code> projection.</p>\n\n<p>Say you have a function that wants to get some elements from a list you supply. The items are of type <code>Future</code>.</p>\n\n<p>Question: what kinds of list are acceptable to this function?</p>\n\n<p>Answer: <code>List&lt;Future&gt;</code>, <code>List&lt;RunnableFuture&gt;</code>, <code>List&lt;ScheduledFuture&gt;</code>... or, in short, <code>List&lt;out Future&gt;</code>.</p>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1540, "favorite_count": 2, "accepted_answer_id": 48258942, "answer_count": 2, "score": 1, "last_activity_date": 1520272306, "creation_date": 1515998943, "last_edit_date": 1516000106, "question_id": 48258135, "link": "https://stackoverflow.com/questions/48258135/kotlin-in-keyword-what-is-is-used-for", "title": "Kotlin - &quot;in&quot; keyword - what is is used for?", "body": "<p>i am trying to understand when to use the \"in\" keyword in generics as opposed to the \"out\" keyword (which allows assigning to subclasses).  </p>\n\n<p>I am actually following this <a href=\"http://www.baeldung.com/kotlin-generics\" rel=\"nofollow noreferrer\">tutorial</a> if it matters. </p>\n\n<p>Lets say we have the following class defintiion:</p>\n\n<pre><code>class ParameterizedConsumer&lt;in T&gt; {\n    fun toString(value: T): String {\n        return value.toString()\n    }\n}\n</code></pre>\n\n<p>How does this even compile since value is not guaranteed to be a String ? is this what the in keyword does ? it tells the class that there is a guarantee the type wont be any other subclass ?  I am just not clear on the usecase for it, can you help ?</p>\n\n<p>the tutorial says i will be able to call the following but i am lost as to what it has changed:</p>\n\n<pre><code> val parameterizedConsumer = ParameterizedConsumer&lt;Number&gt;()\n\nval ref: ParameterizedConsumer&lt;Double&gt; = parameterizedConsumer\n\nassertTrue(ref is ParameterizedConsumer&lt;Double&gt;)\n</code></pre>\n\n<p>UPDATE: I get it now.  Out means you can downcast when producing. and \"In\" means you can downcast when assigning.  </p>\n\n<p>So in java this is not allowed:</p>\n\n<pre><code>// Java\nvoid demo(Source&lt;String&gt; strs) {\n  Source&lt;Object&gt; objects = strs; // !!! Not allowed in Java\n  // ...\n}\n</code></pre>\n\n<p>but in kotlin we can fix that if we use the \"out\" keyword we can assign to a downcasted class (subclass). likewise with \"in\" we can pass in a subclass into the class internally to use but not outwardly. </p>\n"}, {"tags": ["java", "jackson", "kotlin", "simpledateformat"], "comments": [{"owner": {"reputation": 2355, "user_id": 1203489, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/9beaa9dd3cbe3fa81786cd6b5388fe0d?s=128&d=identicon&r=PG", "display_name": "Sikorski", "link": "https://stackoverflow.com/users/1203489/sikorski"}, "edited": false, "score": 0, "creation_date": 1515993287, "post_id": 48257006, "comment_id": 83497136, "body": "Can you paste your json file also ?"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1515993716, "post_id": 48257006, "comment_id": 83497245, "body": "It\u2019s a time zone issue. <code>2018-01-15T00:48:43Z</code> denoted 0:48:43 UTC, but is parsed as 0:48:43  MST."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 2, "creation_date": 1515994168, "post_id": 48257006, "comment_id": 83497395, "body": "I don\u2019t think you should bother with the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class and the likewise outdated <code>Date</code>. I don\u2019t myself have experience with using the modern Java date and time API with Jacksom, but it\u2019s possible. See for example <a href=\"https://geowarin.github.io/jsr310-dates-with-jackson.html\" rel=\"nofollow noreferrer\">Correctly handle JSR-310 (java 8) dates with Jackson</a>. Search for more, also on Stack Overflow."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1515994336, "post_id": 48257006, "comment_id": 83497442, "body": "The <code>Z</code> means zulu time zone or offset zero from UTC. You should parse it as such. <code>Instant.parse()</code> will do it correctly without an explicit formatter. <code>Instant</code> is the class from <code>java.time</code> AKA JSR-310 that you should use instead of <code>Date</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3239, "user_id": 1478636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7651e5295fced56136e81d876c5c7c95?s=128&d=identicon&r=PG", "display_name": "Paul Nelson Baker", "link": "https://stackoverflow.com/users/1478636/paul-nelson-baker"}, "edited": false, "score": 0, "creation_date": 1515994450, "post_id": 48257315, "comment_id": 83497470, "body": "Ah, I see. That makes sense. I was afraid that might have been the issue, since all the examples that were parsing UTC dates in the same manor were escaping the Z like the T. The <a href=\"https://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">javadoc</a> doesn&#39;t seem to offer an out of the box solution to parse the <code>Z</code> as a timezone, so this is the best option for the moment. Thanks"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 3239, "user_id": 1478636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7651e5295fced56136e81d876c5c7c95?s=128&d=identicon&r=PG", "display_name": "Paul Nelson Baker", "link": "https://stackoverflow.com/users/1478636/paul-nelson-baker"}, "edited": false, "score": 1, "creation_date": 1515995504, "post_id": 48257315, "comment_id": 83497745, "body": "@PaulNelsonBaker <code>java.time.Instant.parse( \u201c2018-01-15T00:48:43Z\u201d )</code>"}], "tags": [], "owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "is_accepted": true, "score": 1, "last_activity_date": 1515993735, "creation_date": 1515993735, "answer_id": 48257315, "question_id": 48257006, "link": "https://stackoverflow.com/questions/48257006/java-kotlin-why-does-jackson-parse-dates-differently-from-simpledateformat/48257315#48257315", "title": "Java/Kotlin: Why does Jackson parse dates differently from SimpleDateFormat?", "body": "<p>The default timezone for <code>@JsonFormat</code> is <code>UTC</code>. You can override with the <code>timezone</code> attribute of the annotation.</p>\n\n<p>The default timezone for <code>SimpleDateFormat</code> is your local timezone (<code>MST</code>, reading from your output)</p>\n\n<p>Make sure that the timezones match. You can add the line:</p>\n\n<pre><code>simpleDateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n</code></pre>\n\n<p>just below the construction of your <code>SimpleDateFormat</code>.</p>\n\n<p>Although your dates in their text format contains the timezone (the <code>Z</code> at the end, meaning <code>UTC</code>), you're using a format that just treats the Z as a literal character, you're not interpreting it as a timezone.</p>\n"}], "owner": {"reputation": 3239, "user_id": 1478636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7651e5295fced56136e81d876c5c7c95?s=128&d=identicon&r=PG", "display_name": "Paul Nelson Baker", "link": "https://stackoverflow.com/users/1478636/paul-nelson-baker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "accepted_answer_id": 48257315, "answer_count": 1, "score": 3, "last_activity_date": 1515993735, "creation_date": 1515991067, "question_id": 48257006, "link": "https://stackoverflow.com/questions/48257006/java-kotlin-why-does-jackson-parse-dates-differently-from-simpledateformat", "title": "Java/Kotlin: Why does Jackson parse dates differently from SimpleDateFormat?", "body": "<p>I'm sure this is some form of user error, but I can't puzzle out what I'm doing incorrectly.</p>\n\n<p>I have a Kotlin data class that with a constructor field like this:</p>\n\n<pre><code>data class CronEvent(\n    @JsonFormat(\n            shape = JsonFormat.Shape.STRING,\n            pattern = \"yyyy-MM-dd'T'HH:mm:ss'Z'\"\n    )\n    @JsonProperty(\"time\")\n    val time: Date\n )\n</code></pre>\n\n<p>This gets populated by ObjectMapper that accepts a json string as a payload. For my unit test, I have a <code>SimpleDateFormat</code> object that I instantiate with the same pattern.</p>\n\n<pre><code>val jsonStream = CronEventTests::class.java.classLoader.getResourceAsStream(\"CronEventPayload.json\")\nval cronEvent = jsonStreamToCronEvent(jsonStream)\n// ...\nval simpleDateFormat = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\nval expectedDate = simpleDateFormat.parse(\"2018-01-15T00:48:43Z\")\ncronEvent.time shouldBe expectedDate\n</code></pre>\n\n<p>The json file (<code>CronEventPayload.json</code>) that I load in my unit test has the exact same date string (<code>2018-01-15T00:48:43Z</code>) yet my test fails.</p>\n\n<pre><code>java.lang.AssertionError: expected: Mon Jan 15 00:48:43 MST 2018 but was: Sun Jan 14 17:48:43 MST 2018\nExpected :Mon Jan 15 00:48:43 MST 2018 \nActual   :Sun Jan 14 17:48:43 MST 2018\n</code></pre>\n\n<p>They have the same input and are utilizing the same date format string, but they're clearly different. Why are these two dates not the same?</p>\n"}, {"tags": ["android", "kotlin", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1515996196, "post_id": 48256701, "comment_id": 83497937, "body": "Sorry sir,I don&#39;t know how to modify my code,Hava any simple? thanks"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516001676, "post_id": 48256701, "comment_id": 83499772, "body": "You have <code>fun login_Chk(id:String,pw:String)</code> already. So add the parameter, as shown. You also have <code>client.newCall(req).enqueue(...</code>, so use the parameter, as shown. The rest, I assumed you have actually tried to use <code>login_Chk</code> function somewhere"}, {"owner": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516005470, "post_id": 48256701, "comment_id": 83501342, "body": "yes,at my MainActivity <code>Web_ServiceCall().login_Chk(Handid.text.toString(),Handpd.te&zwnj;&#8203;xt.toString())</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516017030, "post_id": 48256701, "comment_id": 83507609, "body": "Are you having errors when you try to add <code>object : Callback{ }</code> as a third parameter there?"}, {"owner": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516067010, "post_id": 48256701, "comment_id": 83529774, "body": "No values passed for parameters &#39;cb&#39;"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516071002, "post_id": 48256701, "comment_id": 83530556, "body": "Right, you have <code>Handid.text.toString()</code>, and <code>Handpd.te\u200c\u200bxt.toString()</code>... You need to make a new <code>Callback</code>"}, {"owner": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516083558, "post_id": 48256701, "comment_id": 83533705, "body": "It show callback must initialize,but I dont know what type is it"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "edited": false, "score": 0, "creation_date": 1516112816, "post_id": 48256701, "comment_id": 83550753, "body": "It&#39;s type is a <code>Callback</code>.... In your question you did <code>enqueue(object : Callback{</code> , and passed that parameter to the enqueue method. All I&#39;ve done here is simply move that Callback object to be wrote somewhere else. It is defined the exact same way"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1516001778, "last_edit_date": 1516001778, "creation_date": 1515987955, "answer_id": 48256701, "question_id": 48256614, "link": "https://stackoverflow.com/questions/48256614/how-get-string-from-unit-in-android-kotlin/48256701#48256701", "title": "How get String from Unit in Android-Kotlin", "body": "<p>You can't return from an asynchronous method like this. Plus a Unit method doesn't return anything anyway </p>\n\n<p>You need to pass the Callback object through to the client from the method</p>\n\n<pre><code>fun login_Chk(id:String,pw:String, cb:Callback) \n  {\n</code></pre>\n\n<p>Then in the body just do this </p>\n\n<pre><code>client.newCall(req).enqueue(cb);\n</code></pre>\n\n<p>Wherever you call <code>login_Chk</code>, you define the Callback, which inside has <code>onResponse</code>, which is where data is \"returned\" to the calling method</p>\n\n<p>You'll also need an XML parser. You can't do <code>== \"Success\"</code> with that response </p>\n"}], "owner": {"reputation": 19, "user_id": 9059964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-QP9frOx6PsU/AAAAAAAAAAI/AAAAAAAAAAA/pdYuwGz-O10/photo.jpg?sz=128", "display_name": "DougZo", "link": "https://stackoverflow.com/users/9059964/dougzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 48256701, "answer_count": 1, "score": 0, "last_activity_date": 1516004969, "creation_date": 1515987143, "last_edit_date": 1516004969, "question_id": 48256614, "link": "https://stackoverflow.com/questions/48256614/how-get-string-from-unit-in-android-kotlin", "title": "How get String from Unit in Android-Kotlin", "body": "<p>I'm use Okhttp3 GET method to a Web service </p>\n\n<pre><code>val client= OkHttpClient()\n    fun login_Chk(id:String,pw:String)\n     {\n       val req=Request.Builder()\n               .url(\"https://www.hxxxxxx.com/WebService.asmx/Login_Check?ID=${id}&amp;PW=${pw}\")\n               .build()\n       client.newCall(req).enqueue(object : Callback{\n        override fun onFailure(call: Call, e: IOException) {}\n        override fun onResponse(call: Call, res: Response) {\n         println(res.body()?.string().toString())\n            return\n        }\n       })\n     }\n</code></pre>\n\n<p>I want check the webservice return its \"Success\" or \"Fail\"</p>\n\n<p>downside its my Logcat \n<a href=\"https://images2.imgbox.com/b4/cb/bKfiHsgc_o.png\" rel=\"nofollow noreferrer\">https://images2.imgbox.com/b4/cb/bKfiHsgc_o.png</a></p>\n\n<p>In c# we can use like</p>\n\n<pre><code>if(webservice(ID,PW) ==\"Success\")\n{\n......\n}\n</code></pre>\n\n<p>but in kotlin I dont know how to do.\nthanks</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 175596, "user_id": 2189127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=128&d=identicon&r=PG", "display_name": "James_D", "link": "https://stackoverflow.com/users/2189127/james-d"}, "edited": false, "score": 1, "creation_date": 1515978460, "post_id": 48255693, "comment_id": 83494280, "body": "In Java, you would call <code>setForceZeroInRange(false)</code> on each of the axes (see <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/scene/chart/NumberAxis.html#forceZeroInRangeProperty\" rel=\"nofollow noreferrer\">docs</a>). I don&#39;t know Kotlin, but perhaps you can do the translation..."}], "answers": [{"tags": [], "owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "is_accepted": true, "score": 1, "last_activity_date": 1515979173, "creation_date": 1515979173, "answer_id": 48255846, "question_id": 48255693, "link": "https://stackoverflow.com/questions/48255693/autosize-scatterchart-series/48255846#48255846", "title": "Autosize ScatterChart series", "body": "<p>Thanks to <a href=\"https://meta.stackexchange.com/users/162425/xyz\">@James_D</a> I ended up with this piece of code.</p>\n\n<pre><code>vbox {\n    add(ScatterChart(NumberAxis(), NumberAxis()).apply {\n        val seriesMap: HashMap&lt;String, XYChart.Series&lt;Number, Number&gt;&gt; = HashMap()\n\n        pointsList\n                .map { it.decisionClass }\n                .distinct()\n                .forEach {\n                    seriesMap.put(it, XYChart.Series())\n                }\n\n        for (point in pointsList) {\n            seriesMap.get(point.decisionClass)?.data(point.axisesValues[0], point.axisesValues[1])\n        }\n\n        seriesMap\n                .toSortedMap()\n                .forEach { key, value -&gt;\n                    value.name = key\n                    data.add(value)\n                }\n        (xAxis as NumberAxis).setForceZeroInRange(false)\n        (yAxis as NumberAxis).setForceZeroInRange(false)\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 48255846, "answer_count": 1, "score": 1, "last_activity_date": 1515979173, "creation_date": 1515977596, "question_id": 48255693, "link": "https://stackoverflow.com/questions/48255693/autosize-scatterchart-series", "title": "Autosize ScatterChart series", "body": "<p>When I create a <code>ScatterChart</code> I always have this redundant blank space on the left and bottom and I want to remove it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pY58O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pY58O.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my piece of code. <code>xAxis.autosize()</code> and <code>yAxis.autosize()</code> don't change anything.</p>\n\n<pre><code>vbox {\n    add(ScatterChart(NumberAxis(), NumberAxis()).apply {\n        val seriesMap: HashMap&lt;String, XYChart.Series&lt;Number, Number&gt;&gt; = HashMap()\n\n        pointsList\n                .map { it.decisionClass }\n                .distinct()\n                .forEach {\n                    seriesMap.put(it, XYChart.Series())\n                }\n\n        for (point in pointsList) {\n            seriesMap.get(point.decisionClass)?.data(point.axisesValues[0], point.axisesValues[1])\n        }\n\n        seriesMap\n                .toSortedMap()\n                .forEach { key, value -&gt;\n                    value.name = key\n                    data.add(value)\n                }\n        xAxis.autosize()\n        yAxis.autosize()\n    })\n}\n</code></pre>\n\n<p>How to autosize a series?</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1515975353, "post_id": 48255381, "comment_id": 83493743, "body": "You might want to have a look at this <a href=\"https://stackoverflow.com/q/48184670/5861618\">question</a> and the posts linked there."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6113592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYoE1.jpg?s=128&g=1", "display_name": "redSparrow", "link": "https://stackoverflow.com/users/6113592/redsparrow"}, "edited": false, "score": 0, "creation_date": 1515978447, "post_id": 48255511, "comment_id": 83494278, "body": "this creates additional nodes on my database"}, {"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "reply_to_user": {"reputation": 3, "user_id": 6113592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYoE1.jpg?s=128&g=1", "display_name": "redSparrow", "link": "https://stackoverflow.com/users/6113592/redsparrow"}, "edited": false, "score": 0, "creation_date": 1515978897, "post_id": 48255511, "comment_id": 83494374, "body": "Then use <code>mDatabase.setValue(record)</code>  instead"}], "tags": [], "owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "is_accepted": true, "score": 1, "last_activity_date": 1515975504, "creation_date": 1515975504, "answer_id": 48255511, "question_id": 48255381, "link": "https://stackoverflow.com/questions/48255381/how-can-i-read-the-unique-key-provided-by-firebase/48255511#48255511", "title": "How can I read the unique key provided by firebase?", "body": "<p>You must first create the <code>push()</code> then get it's <code>key</code>. Then use the <code>key</code> when writing to the Database:</p>\n\n<pre><code> buttonSave.setOnClickListener(){\n val recKey = mDatabase.push().key \n\n var record = Record(recKey, textDescription.text, textAddress.text)\n\n     mDatabase.child(recKey).setValue(record) \n\n     finish()\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6113592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYoE1.jpg?s=128&g=1", "display_name": "redSparrow", "link": "https://stackoverflow.com/users/6113592/redsparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 48255511, "answer_count": 1, "score": 0, "last_activity_date": 1516010843, "creation_date": 1515974253, "last_edit_date": 1516010843, "question_id": 48255381, "link": "https://stackoverflow.com/questions/48255381/how-can-i-read-the-unique-key-provided-by-firebase", "title": "How can I read the unique key provided by firebase?", "body": "<p>How can I read the unique key created by <code>push()</code> firebase database and save it to same database object?</p>\n\n<pre><code>     buttonSave.setOnClickListener(){\n     val recKey = \"????\" \n\n     var record = Record(recKey, textDescription.text, textAddress.text)\n\n         mDatabase.setValue(record) \n\n         finish()\n       }\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1515975132, "post_id": 48255375, "comment_id": 83493702, "body": "For some reason I can&#39;t see kotlin.Unit, see my update in the question"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1515975466, "post_id": 48255375, "comment_id": 83493765, "body": "Do you have a dependency to <code>kotlin-stdlib</code> in the <code>dependencies { ... }</code> block in your <code>build.gradle</code>? E.g. <code>compile  &quot;org.jetbrains.kotlin:kotlin-stdlib:1.2.10&quot;</code> Or it may be one of its variants ending with <code>-jre7</code>, <code>-jre8</code>, <code>-jdk7</code>, <code>-jdk8</code>."}, {"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1515976927, "post_id": 48255375, "comment_id": 83494021, "body": "You found the problem! My kotlin lib uses the maven-publish plugin and it doesn&#39;t add the dependencies to the pom file"}, {"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1515977319, "post_id": 48255375, "comment_id": 83494100, "body": "not exactly, because in my case there are no dependencies at all in the pom file"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1515974197, "creation_date": 1515974197, "answer_id": 48255375, "question_id": 48255313, "link": "https://stackoverflow.com/questions/48255313/function0-is-not-a-functional-interface-error-when-passing-java-lambda-to-kotl/48255375#48255375", "title": "&quot;Function0 is not a functional interface&quot; error when passing java lambda to kotlin fun", "body": "<p>I'm not sure that it's exactly why you get that kind of error, but you can try to fix your code by passing a <code>Unit</code>-returning lambda instead of a lambda without a return value:</p>\n\n<pre><code>foo.setOnRefreshListener(() -&gt; { onRefreshStarted(); return Unit.INSTANCE; });\n</code></pre>\n\n<p>Since the <code>Function0&lt;T&gt;</code> interface's <code>invoke()</code> returns <code>T</code>, when calling a Kotlin method accepting a <code>() -&gt; Unit</code> from Java, you have to pass a lambda that returns <code>Unit</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "is_accepted": true, "score": 4, "last_activity_date": 1515979428, "creation_date": 1515979428, "answer_id": 48255867, "question_id": 48255313, "link": "https://stackoverflow.com/questions/48255313/function0-is-not-a-functional-interface-error-when-passing-java-lambda-to-kotl/48255867#48255867", "title": "&quot;Function0 is not a functional interface&quot; error when passing java lambda to kotlin fun", "body": "<p>After fixing the kotlin lib's dependencies in the pom file, here are the 3 possible solutions I could figure out.</p>\n\n<p><strong>1st solution</strong>: No need for kotlin-stdlib in the java project:</p>\n\n<p>In kotlin add:</p>\n\n<pre><code>@FunctionalInterface\ninterface OnRefreshListener {\n    fun onRefresh()\n}\n</code></pre>\n\n<p>And change the interface from:</p>\n\n<pre><code>var onRefreshListener: (() -&gt; Unit)?\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>var onRefreshListener: OnRefreshListener?\n</code></pre>\n\n<p>and the invocations from:</p>\n\n<pre><code>onRefreshListener?.invoke()\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>onRefreshListener?.onRefresh()\n</code></pre>\n\n<p><strong>2nd solution</strong>: (Thanks to @hotkey) needs the kotlin-stdlib, no change in kotlin code. In java change:</p>\n\n<pre><code>foo.setOnRefreshListener(() -&gt; onRefreshStarted());\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>foo.setOnRefreshListener(() -&gt; { onRefreshStarted(); return Unit.INSTANCE; });\n</code></pre>\n\n<p><strong>3rd solution</strong>: needs kotlin-stdlib, no change in kotlin, change:</p>\n\n<pre><code>private void onRefreshStarted() {}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>private Unit onRefreshStarted() {...; return null;}\n</code></pre>\n"}], "owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 0, "accepted_answer_id": 48255867, "answer_count": 2, "score": 3, "last_activity_date": 1515979656, "creation_date": 1515973546, "last_edit_date": 1515979656, "question_id": 48255313, "link": "https://stackoverflow.com/questions/48255313/function0-is-not-a-functional-interface-error-when-passing-java-lambda-to-kotl", "title": "&quot;Function0 is not a functional interface&quot; error when passing java lambda to kotlin fun", "body": "<p>This is my kotlin code:</p>\n\n<pre><code>class Foo : Bar {\n  override var onRefreshListener: (() -&gt; Unit)? = null\n  ...\n}\n</code></pre>\n\n<p>And this is what I try to do in java:</p>\n\n<pre><code>class A {\n  private Foo foo;\n  private void onRefreshStarted() {}\n  private void problem() {\n    foo.setOnRefreshListener(this::onRefreshStarted);\n    foo.setOnRefreshListener(() -&gt; onRefreshStarted());\n  }\n}\n</code></pre>\n\n<p>In both cases in problem() I get the following error from Android Studio:</p>\n\n<blockquote>\n  <p>Function0 is not a functional interface</p>\n</blockquote>\n\n<p>How can I set the onRefreshListener from java?</p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515960448, "post_id": 48253346, "comment_id": 83489861, "body": "I advise you to seriously consider using Kotlin coroutines for this work."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9178453"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516023003, "post_id": 48253346, "comment_id": 83510799, "body": "Thank you, I will look it up."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9178453"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516038161, "post_id": 48253346, "comment_id": 83519408, "body": "Where should I use coroutines?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516038508, "post_id": 48253346, "comment_id": 83519559, "body": "You can replace your callback-based code with straightforward procedural code. <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit\" rel=\"nofollow noreferrer\">github.com/gildor/kotlin-coroutines-retrofit</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9178453"}, "edited": false, "score": 1, "creation_date": 1516023052, "post_id": 48253636, "comment_id": 83510829, "body": "Thank you very much bro!"}], "tags": [], "owner": {"reputation": 1167, "user_id": 3425523, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/695032adaf31472878974b2c2d72fad1?s=128&d=identicon&r=PG", "display_name": "jossiwolf", "link": "https://stackoverflow.com/users/3425523/jossiwolf"}, "is_accepted": true, "score": 1, "last_activity_date": 1515960036, "creation_date": 1515960036, "answer_id": 48253636, "question_id": 48253346, "link": "https://stackoverflow.com/questions/48253346/how-to-change-a-global-variable-from-a-anonymous-class-implementation-in-kotlin/48253636#48253636", "title": "How to change a global variable from a anonymous class implementation in kotlin", "body": "<p>You can't return <code>mTweets</code> because the network call is running asynchronically.</p>\n\n<p>Read more about synchronous and asynchronous requests here: <a href=\"https://futurestud.io/tutorials/retrofit-synchronous-and-asynchronous-requests\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/retrofit-synchronous-and-asynchronous-requests</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9178453"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 48253636, "answer_count": 1, "score": 0, "last_activity_date": 1515982497, "creation_date": 1515958048, "last_edit_date": 1515982497, "question_id": 48253346, "link": "https://stackoverflow.com/questions/48253346/how-to-change-a-global-variable-from-a-anonymous-class-implementation-in-kotlin", "title": "How to change a global variable from a anonymous class implementation in kotlin", "body": "<pre><code>fun loadTweets(uid: Int) : Observable&lt;ArrayList&lt;Tweet&gt;&gt; {\n    var tweets: ArrayList&lt;Tweet&gt; = ArrayList&lt;Tweet&gt;()\n\n    val builder: Retrofit.Builder = Retrofit.Builder()\n            .baseUrl(NetworkContract.SERVER_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n    val retrofit: Retrofit = builder.build()\n\n    val userService: UserService = retrofit.create(UserService::class.java)\n\n    val call: Call&lt;List&lt;Tweet&gt;&gt; = userService.loadTweets(uid)\n\n    call.enqueue(object: Callback&lt;List&lt;Tweet&gt;&gt;{\n        override fun onResponse(call: Call&lt;List&lt;Tweet&gt;&gt;?, response: Response&lt;List&lt;Tweet&gt;&gt;?) {\n            if(response!!.isSuccessful){\n                val tweetsTemp: ArrayList&lt;Tweet&gt; = ArrayList&lt;Tweet&gt;()\n\n                tweetsTemp.add(Tweet(\"Test!\", \"Tom\"))\n                mTweets = tweetsTemp\n            }\n        }\n        override fun onFailure(call: Call&lt;List&lt;Tweet&gt;&gt;?, t: Throwable?) {\n        }\n\n    })\n\n    return Observable.just(this.mTweets)\n}\n</code></pre>\n\n<p>Hey guys, I want to create a Twitter Clone but I can't return the changed mTweets variable. I get a response from my server and in the onResponse method mTweets is changed but my function does return an empty string.(Btw. tweetsTemp is just for testing. I will change this later).</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 7, "creation_date": 1515956836, "post_id": 48253107, "comment_id": 83488768, "body": "Return left side if it&#39;s not null, otherwise return right side. The first expression is short notation for the second expression. <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html#elvis-operato&zwnj;&#8203;r</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 13, "creation_date": 1515957239, "post_id": 48253176, "comment_id": 83488913, "body": "if you come from java, it&#39;s more a shorthand for: <code>a != null ? a : b</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 39, "last_activity_date": 1515956901, "creation_date": 1515956901, "answer_id": 48253176, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/48253176#48253176", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>This is called the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">Elvis operator</a> and it does... Exactly what you've described in your question. If its left hand side is a <code>null</code> value, it returns the right side instead, sort of as a fallback. Otherwise it just returns the value on the left hand side.</p>\n\n<p><code>a ?: b</code> is just shorthand for <code>if (a != null) a else b</code>.</p>\n\n<p>Some more examples with types:</p>\n\n<pre><code>val x: String? = \"foo\"\nval y: String = x ?: \"bar\"      // \"foo\", because x was non-null    \n\nval a: String? = null\nval b: String = a ?: \"bar\"      // \"bar\", because a was null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 9, "last_activity_date": 1515968735, "last_edit_date": 1515968735, "creation_date": 1515958928, "answer_id": 48253454, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/48253454#48253454", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>Let's take a look at the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">defintion</a>:</p>\n\n<blockquote>\n  <p>When we have a nullable reference r, we can say \"if r is not null, use\n  it, otherwise use some non-null value x\":</p>\n</blockquote>\n\n<p>The <code>?:</code> (Elvis) operator avoids verbosity and makes your code really concise. </p>\n\n<p>For example, a lot of collection extension functions return <code>null</code> as fallback. </p>\n\n<pre><code>listOf(1, 2, 3).firstOrNull { it == 4 } ?: throw IllegalStateException(\"Ups\")\n</code></pre>\n\n<p><code>?:</code> gives you a way to handle the fallback case elgantely even if you have multiple layers of fallback. If so, you can simply chain multiply Elvis operators, like here:</p>\n\n<pre><code>val l = listOf(1, 2, 3)\n\nval x = l.firstOrNull { it == 4 } ?: l.firstOrNull { it == 5 } ?: throw IllegalStateException(\"Ups\")\n</code></pre>\n\n<p>If you would express the same with if else it would be a lot more code which is harder to read.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 130, "last_activity_date": 1609842985, "last_edit_date": 1609842985, "creation_date": 1515969138, "answer_id": 48254829, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/48254829#48254829", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p><em>TL;DR: If the resulting object reference [first operand] is not <code>null</code>, it is returned. Otherwise the value of the second operand (which may be <code>null</code>) is returned.</em> Additionally, the operator can throw an exception if null is returned.</p>\n<hr />\n<p>The <strong>Elvis operator</strong> is part of many programming languages, e.g. Kotlin but also Groovy or C#.\nI find the <a href=\"https://en.m.wikipedia.org/wiki/Elvis_operator\" rel=\"noreferrer\">Wikipedia</a> definition pretty accurate:</p>\n<blockquote>\n<p>In certain computer programming languages, the <strong>Elvis operator</strong> <code>?:</code> is a <em>binary operator</em> that returns its first operand if that operand is <code>true</code>, and otherwise evaluates and returns its second operand. It is a <strong>variant of the ternary conditional operator</strong>, <code>? :</code>, found in those languages (and many others): the Elvis operator is the <strong>ternary operator with its second operand omitted</strong>.</p>\n</blockquote>\n<p>The following is especially true for Kotlin:</p>\n<blockquote>\n<p>Some computer programming languages have different semantics for this operator. <em>Instead of the first operand having to result in a boolean, it must result in an object reference</em>. If the resulting object reference is not <code>null</code>, it is returned. Otherwise the value of the second operand (which may be <code>null</code>) is returned. If the second operand is null, the operator is also able to throw an exception.</p>\n</blockquote>\n<p>An example:</p>\n<pre><code>x ?: y // yields `x` if `x` is not null, `y` otherwise.\nx ?: throw SomeException() // yields `x` if `x` is not null, throws SomeException otherwise\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": false, "score": 99, "last_activity_date": 1593103059, "last_edit_date": 1593103059, "creation_date": 1516202692, "answer_id": 48304523, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/48304523#48304523", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>The <strong>Elvis Operator</strong> is represented by a question mark followed by a colon: <strong><code>?:</code></strong> and it can be used with this syntax:</p>\n<pre><code>first operand ?: second operand\n</code></pre>\n<p>It enables you to write a consise code, and works as such:</p>\n<p>If <code>first operand</code> <strong>isn't null</strong>, then it will be returned. If it <strong>is null</strong>, then the <code>second operand</code> will be returned. This can be used to guarantee that an expression won't return a null value, as you'll provide a non-nullable value if the provided value is null.</p>\n<hr />\n<p>For example(in Kotlin):</p>\n<pre><code>fun retrieveString(): String {    //Notice that this type isn't nullable\n    val nullableVariable: String? = getPotentialNull() //This variable may be null\n    \n    return nullableVariable ?: &quot;Secondary Not-Null String&quot;\n}\n</code></pre>\n<p>In this case, if the computed value of <code>getPotentialNull</code> is not null, it will be returned by <code>retrieveString</code>; If it is null, the second expression <code>&quot;Secondary Not-Null String&quot;</code> will be returned instead.</p>\n<p>Also note that the right-hand side expression is evaluated <strong>only</strong> if the left-hand side is <strong>null</strong>.</p>\n<p>In Kotlin, you could use any expression as <code>second operand</code>, such as a <code>throw Exception</code> expression</p>\n<pre><code>return nullVariable ?: throw IllegalResponseException(&quot;My inner function returned null! Oh no!&quot;)\n</code></pre>\n<hr />\n<p>The name Elvis Operator comes from the famous American singer <strong>Elvis Presley</strong>. His hairstyle resembles a Question Mark</p>\n<p><a href=\"https://i.stack.imgur.com/bVG64.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bVG64.png\" alt=\"Elvis QuestionMark\" /></a></p>\n<p><em>Source: Wojda, I. Moskala, M. Android Development with Kotlin. 2017. Packt Publishing</em></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7603369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaWL9.jpg?s=128&g=1", "display_name": "Romman", "link": "https://stackoverflow.com/users/7603369/romman"}, "is_accepted": false, "score": 4, "last_activity_date": 1552461764, "creation_date": 1552461764, "answer_id": 55136425, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/55136425#55136425", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>Simply we can say that, you have two hands. You want to know, is your left hand working right now?. If left hand not working, <code>return</code> <code>empty</code> else <code>busy</code></p>\n\n<p>Example for Java:</p>\n\n<pre><code>private int a;\nif(a != null){\n    println(\"a is not null, Value is: \"+a)\n}\nelse{\n    println(\"a is null\")\n}\n</code></pre>\n\n<p>Example for Kotlin:</p>\n\n<pre><code>val a : Int = 5\nval l : Int = if (a != null) a.length else \"a is null\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 392, "user_id": 8062039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d552d7ede0ce5f79591c8cc200ef061?s=128&d=identicon&r=PG&f=1", "display_name": "pauloaap", "link": "https://stackoverflow.com/users/8062039/pauloaap"}, "is_accepted": false, "score": 2, "last_activity_date": 1552466247, "last_edit_date": 1552466247, "creation_date": 1552465932, "answer_id": 55137383, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/55137383#55137383", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>Basically, if the left side of Elvis returns null for some reason, returns the right side instead.</p>\n\n<p>i.e.</p>\n\n<pre><code>val number: Int? = null\nprintln(number ?: \"Number is null\")\n</code></pre>\n\n<p>So, <b>if number is NOT null</b>,  it will print number, <b>otherwise</b> will print \"Number is null\". </p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 12284163, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAGwC6Fzh22W4G4FZhQh475txobk6-1AcWJxZpo=k-s128", "display_name": "Abhishek A Udupa", "link": "https://stackoverflow.com/users/12284163/abhishek-a-udupa"}, "is_accepted": false, "score": 3, "last_activity_date": 1578217225, "creation_date": 1578217225, "answer_id": 59598586, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/59598586#59598586", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>The elvis operator in Kotlin is used for null safety.</p>\n\n<pre><code>x = a ?: b\n</code></pre>\n\n<p>In the above code, <code>x</code> will be assigned the value of <code>a</code> if a is not <code>null</code> and <code>b</code> if <code>a</code> is <code>null</code>.</p>\n\n<p>The equivalent kotlin code without using the elvis operator is below:</p>\n\n<pre><code>x = if(a == null) b else a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 405, "user_id": 7436256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EKpaS.jpg?s=128&g=1", "display_name": "Wilson", "link": "https://stackoverflow.com/users/7436256/wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1596266610, "last_edit_date": 1596266610, "creation_date": 1596266037, "answer_id": 63202727, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/63202727#63202727", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>A little addition though is this</p>\n<pre><code>X = A ?: B\n</code></pre>\n<p><code>X</code> will still be <code>null</code> if both <code>A</code> and <code>B</code> evaluate to <code>null</code></p>\n<p>Therefore, if you want <code>X</code> to always be <code>non-null</code>, make sure <code>B</code> is always a <code>non-null</code> or that <code>B</code> always evaluates to <code>non-null</code> if it's a function or expression.</p>\n"}, {"tags": [], "owner": {"reputation": 1012, "user_id": 1737989, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75454bd8debcce3dbbef81726b199ec6?s=128&d=identicon&r=PG", "display_name": "Amit Baderia", "link": "https://stackoverflow.com/users/1737989/amit-baderia"}, "is_accepted": false, "score": 1, "last_activity_date": 1611589916, "creation_date": 1611589916, "answer_id": 65888060, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator/65888060#65888060", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>Consider below example,</p>\n<pre><code>var myStr:String? = null\n\n//trying to find out length of myStr, but it could be null, so a null check can be put as,\n\nval len = if (myStr != null){\n    myStr.length\n}\nelse{\n    -1\n}\n</code></pre>\n<p>Using the <strong>elvis</strong> operator, the above code can be written in a single line</p>\n<pre><code>val len = myStr?.length ?: -1     // will return -1 if myStr is null else will return length\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72268, "favorite_count": 18, "accepted_answer_id": 48254829, "answer_count": 9, "score": 107, "last_activity_date": 1611589916, "creation_date": 1515956526, "last_edit_date": 1551279785, "question_id": 48253107, "link": "https://stackoverflow.com/questions/48253107/what-does-do-in-kotlin-elvis-operator", "title": "What does ?: do in Kotlin? (Elvis Operator)", "body": "<p>I can't figure out what <code>?:</code> does in for example this case </p>\n\n<pre><code>val list = mutableList ?: mutableListOf() \n</code></pre>\n\n<p>and why can it be modified to this </p>\n\n<pre><code>val list = if (mutableList != null) mutableList else mutableListOf()\n</code></pre>\n"}, {"tags": ["kotlin", "anko"], "comments": [{"owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 0, "creation_date": 1516069253, "post_id": 48252526, "comment_id": 83530239, "body": "did you resolve the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "is_accepted": false, "score": 0, "last_activity_date": 1515985148, "creation_date": 1515985148, "answer_id": 48256399, "question_id": 48252526, "link": "https://stackoverflow.com/questions/48252526/getting-record-count-using-anko-sqlite-in-kotlin/48256399#48256399", "title": "Getting record count using Anko SQLite in Kotlin", "body": "<p>According to <a href=\"https://github.com/Kotlin/anko/wiki/Anko-SQLite#querying-data\" rel=\"nofollow noreferrer\">documentation</a> you should call <code>select</code> with additional column <code>\"count(recordId)\"</code>. You can do it by passing additional String argument to <code>select</code> method or, using the query builder, by calling <code>column(\"count(recordId)\")</code> on object returned by <code>select</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 1405313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0c0fad891035ca415966dcf0eb4941?s=128&d=identicon&r=PG", "display_name": "user1405313", "link": "https://stackoverflow.com/users/1405313/user1405313"}, "is_accepted": false, "score": 1, "last_activity_date": 1516265341, "creation_date": 1516265341, "answer_id": 48317117, "question_id": 48252526, "link": "https://stackoverflow.com/questions/48252526/getting-record-count-using-anko-sqlite-in-kotlin/48317117#48317117", "title": "Getting record count using Anko SQLite in Kotlin", "body": "<p>What I ended up doing was declare a data class to hold the result</p>\n\n<pre><code>data class recordCountObject(val returnCount: Long)\n</code></pre>\n\n<p>and then use the normal raw SQL query</p>\n\n<pre><code>val quoteTypeCount = database.use {\n            query&lt;recordCountObject&gt;(\"select count(*) AS returnCount FROM QuoteType\")\n        }\n</code></pre>\n\n<p>This gives me the binding back to a concrete object</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9046534, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6FizcFaY7_I/AAAAAAAAAAI/AAAAAAAAAYU/9zVlUt3vu8I/photo.jpg?sz=128", "display_name": "Efendi Hariyadi", "link": "https://stackoverflow.com/users/9046534/efendi-hariyadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1535733978, "creation_date": 1535733978, "answer_id": 52119730, "question_id": 48252526, "link": "https://stackoverflow.com/questions/48252526/getting-record-count-using-anko-sqlite-in-kotlin/52119730#52119730", "title": "Getting record count using Anko SQLite in Kotlin", "body": "<p>why not using \n<code>\n   val quoteTypeCount = database.use { query(\"your_table\", arrayOf(\"*\"), null, null, null, null, null,null).count\n}\n</code>\nquoteTypeCount alway return Int as record count</p>\n"}], "owner": {"reputation": 33, "user_id": 1405313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0c0fad891035ca415966dcf0eb4941?s=128&d=identicon&r=PG", "display_name": "user1405313", "link": "https://stackoverflow.com/users/1405313/user1405313"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1535733978, "creation_date": 1515952902, "question_id": 48252526, "link": "https://stackoverflow.com/questions/48252526/getting-record-count-using-anko-sqlite-in-kotlin", "title": "Getting record count using Anko SQLite in Kotlin", "body": "<p>Currently learning Kotlin and translating an app for iOS, this includes running queries on a SQLite database, I am using the Anko SQLite extensions to run the queries for example to run \"SELECT * FROM QuoteType\" I am using</p>\n\n<pre><code>val quoteTypes = database.use {\n        select(QuoteType.TABLE_NAME).exec { parseList(classParser&lt;QuoteType&gt;()) }\n    }\n</code></pre>\n\n<p>I am struggling to figure out to run SELECT COUNT(recordId) FROM QuoteType</p>\n\n<p>Can anyone point me in the right direction?</p>\n\n<p>Cheers</p>\n\n<p>Stuart</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1515949390, "post_id": 48251967, "comment_id": 83486414, "body": "here ScoresActivity() you created new instance of ScoresActivity."}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 1, "creation_date": 1515949565, "post_id": 48251967, "comment_id": 83486461, "body": "activity is a component with it&#39;s own lifecycle you just cannot set a value in one activity from another. Read about Intent, SharedPreference(or any local storage e.g. sqlite) and startActivityForResult, one of these should suit your needs"}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "reply_to_user": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1515949930, "post_id": 48251967, "comment_id": 83486564, "body": "@ViktorYakunin I see, Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1515949432, "creation_date": 1515949432, "answer_id": 48252003, "question_id": 48251967, "link": "https://stackoverflow.com/questions/48251967/setters-and-getters-in-kotlin/48252003#48252003", "title": "Setters and Getters in Kotlin", "body": "<ol>\n<li>You should't create Activity object using default constructor. Read about android core components.</li>\n<li>You can store in as static value. Put it inside object to make it class variable. Read about instance/class variables.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 4, "last_activity_date": 1515953278, "creation_date": 1515953278, "answer_id": 48252594, "question_id": 48251967, "link": "https://stackoverflow.com/questions/48251967/setters-and-getters-in-kotlin/48252594#48252594", "title": "Setters and Getters in Kotlin", "body": "<p><strong>The problem:</strong></p>\n\n<p>When you call <code>ScoresActivity()</code> you create a new instance of the <code>ScoresActivity</code> class. Since, you don't save this instance the setting of the value <code>trx</code> is lost.</p>\n\n<p><strong>The solution:</strong>\nI am not sure what <code>trx</code> is supposed to represent, but since the <code>Activity</code> name gives a hint, I persume it is some kind of score (which then sould be available globally).</p>\n\n<p>One way would be to put trx in a <code>companion object</code> which itself is inside of ScoresActivity.</p>\n\n<pre><code>class ScoresActivity: Activity() {\n   // ...\n\n   companion object {\n      var trx: Int = 0 \n   }\n}\n</code></pre>\n\n<p>Usage (from any Activity):</p>\n\n<pre><code>ScoresActivity.trx = 5\n</code></pre>\n\n<p>Other ways would be another class which is a singleton (<a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\"><code>object</code></a> in Kotlin) and represents values which make up the game state or you pass the <code>trx</code> value via intents between Activities.</p>\n"}], "owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 48252594, "answer_count": 2, "score": 0, "last_activity_date": 1515953411, "creation_date": 1515949074, "last_edit_date": 1515953411, "question_id": 48251967, "link": "https://stackoverflow.com/questions/48251967/setters-and-getters-in-kotlin", "title": "Setters and Getters in Kotlin", "body": "<p>I'm trying to change the value of <code>trx</code> from another Activity when a button is pressed, what I've tried is</p>\n\n<p><strong>ScoresActivity.kt</strong>:</p>\n\n<pre><code>class ScoresActivity : AppCompatActivity(), View.OnClickListener {\n\nvar trx = 0\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_scores)\n  }\n}\n</code></pre>\n\n<p><strong>Other class:</strong></p>\n\n<pre><code>override fun onClick(p0: View?) {\n\n    when(p0){\n\n        button_1 -&gt; {\n            ScoresActivity().trx = 5\n        }\n}\n</code></pre>\n\n<p>But whenever I print <code>trx</code>'s value it's 0.</p>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1515961188, "post_id": 48253487, "comment_id": 83490091, "body": "Okay, so I just need to swap Array for a List ? Also. Why is it there the .toList ?"}, {"owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1516029530, "post_id": 48253487, "comment_id": 83514589, "body": "I would say remove or swap one of those type declarations so that they agree. .toList() is there to make what I assume to be some other collection into a list."}], "tags": [], "owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "is_accepted": false, "score": 0, "last_activity_date": 1515959184, "creation_date": 1515959184, "answer_id": 48253487, "question_id": 48250827, "link": "https://stackoverflow.com/questions/48250827/kotlin-parse-object-array-using-jsonparser-from-gson/48253487#48253487", "title": "Kotlin parse Object array using JSONParser from Gson", "body": "<p>This:</p>\n\n<pre><code>List&lt;Location&gt;\n</code></pre>\n\n<p>Is a List of Location. List implements Iterable.</p>\n\n<p>This:</p>\n\n<pre><code>Array&lt;Location&gt;\n</code></pre>\n\n<p>is an Array of Location. Array does not implement Iterable.</p>\n\n<p>The differences are bigger than that, but his is the one your error is for.</p>\n"}, {"tags": [], "owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "is_accepted": false, "score": 0, "last_activity_date": 1516029828, "creation_date": 1516029828, "answer_id": 48265896, "question_id": 48250827, "link": "https://stackoverflow.com/questions/48250827/kotlin-parse-object-array-using-jsonparser-from-gson/48265896#48265896", "title": "Kotlin parse Object array using JSONParser from Gson", "body": "<p>It was enough to swap List with Array and remove .toList() and it worked like magic </p>\n"}], "owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516029828, "creation_date": 1515941704, "last_edit_date": 1515942916, "question_id": 48250827, "link": "https://stackoverflow.com/questions/48250827/kotlin-parse-object-array-using-jsonparser-from-gson", "title": "Kotlin parse Object array using JSONParser from Gson", "body": "<p>I have these classes written in kotlin, Location, and the rest is in the Application.kt</p>\n\n<pre><code>@RealmClass\nopen class Location(\n    @PrimaryKey\n    @SerializedName(\"id\")\n    var id: Int = 0,\n\n    @SerializedName(\"city_name\")\n    var city_name: String? = null,\n    @SerializedName(\"elevation\")\n    var elevation: Int = 0,\n\n    @SerializedName(\"state_code\")\n    var state_code: String? = null,\n\n    @SerializedName(\"state_name\")\n    var state_name: String? = null,\n\n    @SerializedName(\"country_code\")\n    var country_code: String? = null,\n\n    @SerializedName(\"country_name\")\n    var country_name: String? = null\n\n):RealmObject()\n</code></pre>\n\n<p>and the rest:</p>\n\n<pre><code>private fun loadStuff() {\n    val inputStream = this.resources.openRawResource(R.raw.city_json)\n    val jsonReader = JsonReader(InputStreamReader(inputStream, \"UTF-8\"))\n    val gson = Gson()\n    Realm.getDefaultInstance().executeTransactionAsync(Realm.Transaction { realm -&gt;\n        val weatherList = gson.fromJson&lt;List&lt;Location&gt;&gt;(jsonReader , Array&lt;Location&gt;::class.java).toList()\n        //realm.insertOrUpdate(location)\n\n        jsonReader.endArray()\n        jsonReader.close()\n    }, Realm.Transaction.OnSuccess {\n        Log.d(\"TAG\", \"Success\")\n    })\n}\n</code></pre>\n\n<p>and I keep getting exception:</p>\n\n<pre><code>com.example.android.sunshine.data.Location[] cannot be cast to java.lang.Iterable\n</code></pre>\n\n<p>what am I doing wrong ?</p>\n\n<p>the object looks like this:</p>\n\n<pre><code>[\n  {\n     \"id\":3040051,\n     \"city_name\":\"les Escaldes\",\n     \"elevation\":0,\n     \"state_code\":\"08\",\n     \"state_name\":\"Parr\u00f2quia d'Escaldes-Engordany\",\n     \"country_code\":\"AD\",\n     \"country_name\":\"Andorra\"\n  },\n  {\n     \"id\":3041563,\n     \"city_name\":\"Andorra la Vella\",\n     \"elevation\":0,\n     \"state_code\":\"07\",\n     \"state_name\":\"Parr\u00f2quia d'Andorra la Vella\",\n     \"country_code\":\"AD\",\n     \"country_name\":\"Andorra\"\n  }\n]\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-animation", "android-custom-view"], "answers": [{"tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 2, "last_activity_date": 1516172160, "creation_date": 1516172160, "answer_id": 48295247, "question_id": 48250789, "link": "https://stackoverflow.com/questions/48250789/turn-off-recyclerview-child-size-change-animation/48295247#48295247", "title": "Turn off RecyclerView child size change animation", "body": "<p>As seen in the <a href=\"https://developer.android.com/reference/android/support/v7/widget/DefaultItemAnimator.html\" rel=\"nofollow noreferrer\">docs of <code>DefaultItemAnimator</code></a>:</p>\n\n<blockquote>\n  <p>This implementation of <strong>RecyclerView.ItemAnimator</strong> provides basic animations on remove, add, and move events that happen to the items in a <strong>RecyclerView</strong>. <strong>RecyclerView</strong> uses a <strong>DefaultItemAnimator</strong> by default.</p>\n</blockquote>\n\n<p>If you want to remove those animations, then null out the default animator:</p>\n\n<pre><code>recyclerview.itemAnimator = null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 4074206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3c17d934af7f1150302b487e493e4fea?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Jayaprakash", "link": "https://stackoverflow.com/users/4074206/ankit-jayaprakash"}, "is_accepted": false, "score": -1, "last_activity_date": 1516354193, "creation_date": 1516354193, "answer_id": 48337874, "question_id": 48250789, "link": "https://stackoverflow.com/questions/48250789/turn-off-recyclerview-child-size-change-animation/48337874#48337874", "title": "Turn off RecyclerView child size change animation", "body": "<p>You can do this by Item Animator and initialize them item animator </p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516397894, "last_edit_date": 1516397894, "creation_date": 1516395697, "answer_id": 48349480, "question_id": 48250789, "link": "https://stackoverflow.com/questions/48250789/turn-off-recyclerview-child-size-change-animation/48349480#48349480", "title": "Turn off RecyclerView child size change animation", "body": "<p>You are using <code>notifyItemChanged(position: Int)</code>, RecyclerView doesn't know what exactly changed - maybe item was replaced with another item all together, so new ViewHolder gets bound in adapters <code>onBindViewHolder(holder: ViewHolder, position:Int)</code> and replaces old one using default animation.</p>\n\n<p>If you know explicitly what changed you can use <code>notifyItemChanged(position: Int, payload: Any)</code> to supply change payload for adapter, then RecyclerView will only perform partial update of a ViewHolder in adapters <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html#onBindViewHolder(VH,%20int,%20java.util.List%3Cjava.lang.Object%3E)\" rel=\"nofollow noreferrer\"><code>onBindViewHolder(holder: ViewHolder, position:Int, payloads: MutableList&lt;Any&gt;)</code></a> and will not replace it.</p>\n\n<p>For example you can change in your ViewHolder:</p>\n\n<pre><code>init {\n    colorView.setOnClickListener {\n    val oldPosition = selectedPosition\n\n    selectedPosition = colorView.tag as Int\n\n    if (oldPosition != selectedPosition) {\n       notifyItemChanged(oldPosition, false)   // include payloads\n       notifyItemChanged(selectedPosition, true)\n       }\n    }\n}\n</code></pre>\n\n<p>Then override in your Adapter:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int, payloads: MutableList&lt;Any&gt;) {\n    if(payloads.size &lt; 1){\n        //if there are no payloads perform full binding\n        onBindViewHolder(holder, position)\n        return\n    }\n    // if viewHolder can consume incremental updates iterate over payloads\n    // otherwise it's enough to grab the last update\n    // cast as Boolean is safe because only Booleans are passed as payloads\n    holder.colorView.setColorSelected(payloads.last() as Boolean)\n}\n</code></pre>\n\n<p>This is also a good place to start your own animations by running them on ViewHolders views (remember to override adapters <code>onViewRecycled(holder: ViewHolder)</code> and cancel/undo their state there)</p>\n"}], "owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1517, "favorite_count": 2, "accepted_answer_id": 48295247, "answer_count": 3, "score": 4, "last_activity_date": 1516397894, "creation_date": 1515941413, "last_edit_date": 1516342837, "question_id": 48250789, "link": "https://stackoverflow.com/questions/48250789/turn-off-recyclerview-child-size-change-animation", "title": "Turn off RecyclerView child size change animation", "body": "<p>I have a view and I want to change its size on click.</p>\n\n<p>I have following layout for test:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;pro.labster.coloringbook.ui.view.ColorView\n        android:id=\"@+id/colorView\"\n        android:layout_width=\"@dimen/colorSize\"\n        android:layout_height=\"@dimen/colorSize\"\n        android:layout_centerInParent=\"true\"\n        app:normalSize=\"@dimen/colorSize\"\n        app:selectedSize=\"@dimen/selectedColorSize\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And the following code:</p>\n\n<pre><code>val colorView = findViewById&lt;ColorView&gt;(R.id.colorView)\ncolorView.setBackgroundColor(Color.RED)\ncolorView.setOnClickListener {\n    isSelected = !isSelected\n    colorView.setColorSelected(isSelected)\n}\n</code></pre>\n\n<p>Size change code:</p>\n\n<pre><code>fun setColorSelected(isSelected: Boolean) {\n        if (isColorSelected != isSelected) {\n            if (isSelected) {\n                setCurrentSize(selectedSize.toInt())\n            } else {\n                setCurrentSize(normalSize.toInt())\n            }\n        }\n\n        isColorSelected = isSelected\n    }\n\nprivate fun setCurrentSize(size: Int) {\n    if (layoutParams.height != size || layoutParams.width != size) {\n        layoutParams.width = size\n        layoutParams.height = size\n        requestLayout()\n    }\n}\n</code></pre>\n\n<p>It works good:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Ft8xcX5Qxbg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Ft8xcX5Qxbg</a></p>\n\n<p>But if I add this view to RecyclerView, it lags on size change:</p>\n\n<pre><code>class ColorsAdapter(colorsHex: List&lt;String&gt;) : RecyclerView.Adapter&lt;ColorsAdapter.ViewHolder&gt;() {\n\n    private val colors = mutableListOf&lt;Int&gt;()\n    private var selectedPosition: Int = 0\n\n    init {\n        colorsHex.forEach {\n            colors.add(Color.parseColor(it))\n        }\n    }\n\n    override fun getItemCount() = colors.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val color = colors[position]\n\n        holder.colorView.setBackgroundColor(color)\n        holder.colorView.tag = position\n\n        holder.colorView.setColorSelected(position == selectedPosition)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent?.context)\n\n        val view = inflater.inflate(R.layout.view_item_color, parent, false)\n\n        return ViewHolder(view)\n    }\n\n\n    inner class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n        val colorView: ColorView = itemView!!.findViewById(R.id.colorView)\n\n        init {\n            colorView.setOnClickListener {\n                val oldPosition = selectedPosition\n\n                selectedPosition = colorView.tag as Int\n\n                if (oldPosition != selectedPosition) {\n                    notifyItemChanged(oldPosition)\n                    notifyItemChanged(selectedPosition)\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><code>view_item_color.xml</code>:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"@dimen/selectedColorSize\"\n    android:layout_height=\"@dimen/selectedColorSize\"&gt;\n\n    &lt;pro.labster.coloringbook.ui.view.ColorView\n        android:id=\"@+id/colorView\"\n        android:layout_width=\"@dimen/colorSize\"\n        android:layout_height=\"@dimen/colorSize\"\n        android:layout_gravity=\"center\"\n        app:normalSize=\"@dimen/colorSize\"\n        app:selectedSize=\"@dimen/selectedColorSize\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p><a href=\"https://www.youtube.com/watch?v=m8g6zpj9aDg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=m8g6zpj9aDg</a></p>\n\n<p>As I can see, it also tries to animate size change \u2014 is it true?</p>\n\n<p>And how to fix this lag?</p>\n"}, {"tags": ["android", "bluetooth", "kotlin", "bluetooth-lowenergy", "android-ble"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516099176, "post_id": 48250732, "comment_id": 83542055, "body": "Can you change the MTU? You can increase it up to 512 bytes, if the peripheral supports it?"}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516099258, "post_id": 48250732, "comment_id": 83542098, "body": "Another option might be using a BLE long write: <a href=\"https://devzone.nordicsemi.com/question/34572/ble-long-write/\" rel=\"nofollow noreferrer\">devzone.nordicsemi.com/question/34572/ble-long-write</a>"}, {"owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "reply_to_user": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516192221, "post_id": 48250732, "comment_id": 83586815, "body": "I have tried to change MTU to the maximum as you advised and it looks that this approach makes the process less stable, and probably I will not be able to do so in future of my project. Another thing I have noticed that although I have changed MTU to 512 and received 512 in onMTUChanged callback the actual size that I could transfer was 509 bytes So I had to use additional characteristic with notify descriptor to discover the real MTU"}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516195509, "post_id": 48250732, "comment_id": 83588968, "body": "Yes, I encountered the same stability issues, when setting the MTU to 512. But I was not sure if my implementation was buggy. :) The max. size of 509 is due to additional 3 header bytes."}, {"owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "reply_to_user": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516199020, "post_id": 48250732, "comment_id": 83591326, "body": "But you do not have this header on 20 bytes messages"}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1516200927, "post_id": 48250732, "comment_id": 83592623, "body": "You have it, because the default MTU is 23 bytes. <a href=\"https://punchthrough.com/blog/posts/maximizing-ble-throughput-part-2-use-larger-att-mtu\" rel=\"nofollow noreferrer\">punchthrough.com/blog/posts/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "edited": false, "score": 0, "creation_date": 1516007763, "post_id": 48251177, "comment_id": 83502487, "body": "I&#39;m using the WRITE_TYPE_NO_RESPONCE type of characteristics, you are right I&#39;m have missed the onCharacterristicWrite callback, however, looks, I have tried this approach and it looks very not stable files larger than 2K~4k are stack and transfer failed. While when I just using this delay (which I also not happy about) I&#39;m sending files 300K without any issue."}, {"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "reply_to_user": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "edited": false, "score": 0, "creation_date": 1516024288, "post_id": 48251177, "comment_id": 83511501, "body": "What Andorid device are you using? And does the device disconnect or stay connected? Is your observation that the onCharacteristicWrite just sometimes never gets called?"}, {"owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "edited": false, "score": 0, "creation_date": 1516088875, "post_id": 48251177, "comment_id": 83535879, "body": "I&#39;m using Nexus  5 as central and Xiaomi A1 as a peripheral,  and devices were just one next to each other, anyway I have changed an implementation in order to make as fewer calculations as possible between blocks in chunk, and increased chunk timeout window from 3 seconds to 6 and it looks like it started to work now, Thanks"}], "tags": [], "owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "is_accepted": false, "score": 3, "last_activity_date": 1515944053, "creation_date": 1515944053, "answer_id": 48251177, "question_id": 48250732, "link": "https://stackoverflow.com/questions/48250732/sending-large-file-via-ble-api-on-android/48251177#48251177", "title": "Sending Large File via BLE API on android", "body": "<p>What's this thing about waiting 20 ms? The preferred way to pump data using characteristic writes is to first use \"Write Without Response\" (<a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#WRITE_TYPE_NO_RESPONSE\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothGattCharacteristic.html#WRITE_TYPE_NO_RESPONSE</a>), then perform a Write, then wait for the onCharacteristicWrite callback and then immediately perform the next Write. You need to wait for the onCharacteristicWrite callback since the API doesn't allow you to have multiple pending commands/requests at a time.</p>\n"}, {"comments": [{"owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "edited": false, "score": 1, "creation_date": 1516101693, "post_id": 48278782, "comment_id": 83543601, "body": "If you want to refer to comment - leave a comment. If you want to ask question - add a new question. Have a nice day ! :)"}, {"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1516152271, "post_id": 48278782, "comment_id": 83569832, "body": "For 1 - <a href=\"https://stackoverflow.com/questions/43741849/oncharacteristicwrite-and-onnotificationsent-are-being-called-too-fast-how-to/43744888#43744888\" title=\"oncharacteristicwrite and onnotificationsent are being called too fast how to\">stackoverflow.com/questions/43741849/&hellip;</a>. When you use Write Without Response, you will pump data as fast as the controller accepts. For 2 - no there are no limitations except memory (you should process the notifications at least as fast as they are received)."}], "tags": [], "owner": {"reputation": 57, "user_id": 6488245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258c5b5b9b863667f4da747849304cc?s=128&d=identicon&r=PG&f=1", "display_name": "eyalasko", "link": "https://stackoverflow.com/users/6488245/eyalasko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516098138, "last_edit_date": 1516098138, "creation_date": 1516097465, "answer_id": 48278782, "question_id": 48250732, "link": "https://stackoverflow.com/questions/48250732/sending-large-file-via-ble-api-on-android/48278782#48278782", "title": "Sending Large File via BLE API on android", "body": "<p>I work with @libinm (OP) on the same project and would like to refer to @Emil comment above - </p>\n\n<ul>\n<li>@Emil mentioned that \"API doesn't allow you to have multiple pending commands/requests at a time\", I'm wondering if there is any kind of message buffering that enables to increase throughput (by sending multiple messages on a single BLE connection event). I know that much lighter (embedded) BLE stacks enable buffering of 4/6 messages (<a href=\"https://e2e.ti.com/support/wireless_connectivity/bluetooth_low_energy/f/538/t/194407\" rel=\"nofollow noreferrer\">TI</a>/<a href=\"https://devzone.nordicsemi.com/question/880/s110-sending-multiple-notifications-per-connection-event/\" rel=\"nofollow noreferrer\">Nordic</a> stacks respectively) per connection event.</li>\n<li>How will the Android BLE central respond to multiple message notifications per single connection event (sent by peripheral)? Are there any limitations?</li>\n</ul>\n"}], "owner": {"reputation": 71, "user_id": 4140147, "user_type": "registered", "profile_image": "https://graph.facebook.com/710884690/picture?type=large", "display_name": "libinm", "link": "https://stackoverflow.com/users/4140147/libinm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3105, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1516098138, "creation_date": 1515941025, "last_edit_date": 1516091231, "question_id": 48250732, "link": "https://stackoverflow.com/questions/48250732/sending-large-file-via-ble-api-on-android", "title": "Sending Large File via BLE API on android", "body": "<p>I have created BLE sender class for the sending large ByteArray via Bluetooth LE\nThe logic of the send process following:</p>\n\n<ol>\n<li>Write descriptor to enable notification on characteristics that sends data    </li>\n<li>Notify peripheral about data sending process via\nwriting to corresponding characteristics  (Size of data: chunk size:\nnumber of chunks)</li>\n<li>Wait for peripheral to notify for chunk 0 to send on data sending characteristics</li>\n<li>On notification received start sending the first chunk 1000 byte by blocks of 20 bytes (BLE restriction) where each block contains block number and 18 bytes of data, after 1000 bytes sent, send block of checksum for the data sent</li>\n<li>Peripheral verify the data by the checksum and notify descriptor for the next chunk</li>\n</ol>\n\n<p>My Question is: is there any better approach?\nI have found that writing characteristics multiple times requires some delay of at least 20 milliseconds. Is there any way to avoid this?   </p>\n\n<p><strong>Changed the implementation instead of 20 millis</strong>, I'm waiting for a callback <em>onCharacteristicWrite</em> as \n<a href=\"https://stackoverflow.com/users/556495/emil\">Emil</a> advised. and Also changed the prepare method to decrease calculation time between 18bytes blocks sends:</p>\n\n<pre><code>class BluetoothLEDataSender(\n            val characteristicForSending: BluetoothGattCharacteristic,\n            val characteristicForNotifyDataSend: BluetoothGattCharacteristic,\n            private val config: BluetoothLESenderConfiguration = BluetoothLESenderConfiguration(),\n            val  bluetoothLeService: WeakReference&lt;BluetoothLeService&gt;) : HandlerThread(\"BluetoothLEDataSender\") {\n\n    data class BluetoothLESenderConfiguration(val sendingIntervalMillis: Long = 20L, val chunkSize: Int = 1000, val retryForFailureInSeconds: Long = 3)\n       private val  toaster by lazy { Toast.makeText(bluetoothLeService.get()!!,\"\",Toast.LENGTH_SHORT) }\n\n    companion object {\n\n        val ACTION_DATA_SEND_FINISHED = \"somatix.com.bleplays.ACTION_DATA_SEND_FINISHED\"\n        val ACTION_DATA_SEND_FAILED = \"somatix.com.bleplays.ACTION_DATA_SEND_FAILED\"\n    }\n\n    lateinit var  dataToSend: List&lt;BlocksQueue&gt;\n    val messageHandler by lazy { SenderHandler()}\n\n    var currentIndex = 0\n\n    public fun notifyDataState(receivedChecksum: String) {\n        val msg = Message()\n        msg.arg1 = receivedChecksum.toInt()\n        messageHandler.sendMessage(msg)\n    }\n    inner class BlocksQueue(val initialCapacity:Int):ArrayBlockingQueue&lt;ByteArray&gt;(initialCapacity)\n   inner class  BlockSendingTask:Runnable{\n      override fun run() {\n        executeOnUiThread({ toaster.setText(\"Executing block: $currentIndex\")\n        toaster.show()})\n        sendNext()\n      }\n   }\n\n        public fun sendMessage(messageByteArray: ByteArray) {\n            start()\n             dataToSend = prepareSending(messageByteArray)\n            bluetoothLeService.get()?.setEnableNotification(characteristicForSending,true)\n            val descriptor = characteristicForSending.getDescriptor(DESCRIPTOR_CONFIG_UUID)\n            descriptor.value = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE\n            bluetoothLeService.get()?.writeDescriptor(descriptor)\n            characteristicForNotifyDataSend.value = \"${messageByteArray.size}:${config.chunkSize}:${dataToSend.size}\".toByteArray()\n            toaster.setText(String(characteristicForNotifyDataSend.value))\n            toaster.show()\n            messageHandler.postDelayed({bluetoothLeService.get()?.writeCharacteristic(characteristicForNotifyDataSend)}, config.sendingIntervalMillis)\n\n        }\n\n\n     private fun prepareSending(messageByteArray: ByteArray): ArrayList&lt;BlocksQueue&gt; {\n       with(config)\n        {\n            var chunksNumber = messageByteArray.size / config.chunkSize\n            chunksNumber = if (messageByteArray.size == chunksNumber * config.chunkSize) chunksNumber else chunksNumber + 1\n            val chunksArray = ArrayList&lt;BlocksQueue&gt;()\n\n\n           (0 until chunksNumber).mapTo(chunksArray) {\n              val start = it * chunkSize\n              val end = if ((start + chunkSize) &gt; messageByteArray.size) messageByteArray.size else start + chunkSize\n              val sliceArray = messageByteArray.sliceArray(start until end)\n              listOfCheckSums.add(sliceArray.checkSum())\n              var capacity = sliceArray.size / 18\n              capacity = if(sliceArray.size - capacity*18 == 0) capacity else capacity + 1\n              //Add place for checksum\n              val queue = BlocksQueue(capacity+1)\n              for(i in 0 until  capacity){\n                val  start1 = i *18\n                val end1 = if((start1 + 18)&lt;sliceArray.size) start1 +18 else sliceArray.size\n                queue.add(sliceArray.sliceArray(start1 until end1))\n            }\n            queue.add(sliceArray.checkSum().toByteArray())\n            queue\n         }\n        return chunksArray\n    }\n}\n\n\n    fun  sendNext(){\n        val currentChunk = dataToSend.get(currentIndex)\n        val peek = currentChunk.poll()\n        if(peek != null)\n        {\n            if(currentChunk.initialCapacity &gt; currentBlock+1)\n            {\n                val indexByteArray = if(currentBlock&gt;9) \"$currentBlock\".toByteArray() else \"0${currentBlock}\".toByteArray()\n               characteristicForSending.value = indexByteArray + peek\n            }\n            else{\n               characteristicForSending.value = peek\n            }\n\n   bluetoothLeService.get()?.writeCharacteristic(characteristicForSending)\n              currentBlock++\n            }\n            else\n            {\n                Log.i(TAG, \"Finished chunk $currentIndex\")\n                currentBlock = 0\n             }\n\n         }\n\n\n        private val TAG= \"BluetoothLeService\"\n\n        @SuppressLint(\"HandlerLeak\")\n        inner class SenderHandler:Handler(looper){\n            private var failureCheck:FailureCheck? = null\n            override fun handleMessage(msg: Message) {\n                super.handleMessage(msg)\n                    currentIndex = msg.arg1\n                    if(currentIndex &lt; dataToSend.size)\n                    {\n                        if (currentIndex!= 0 &amp;&amp;  failureCheck != null)\n                        {\n                            removeCallbacks(failureCheck)\n                        }\n                        failureCheck = FailureCheck(currentIndex)\n                        post(BlockSendingTask())\n                        postDelayed(failureCheck,TimeUnit.MILLISECONDS.convert(config.retryForFailureInSeconds,TimeUnit.SECONDS))\n\n\n                     }\n                    else {\n                        if (currentIndex!= 0 &amp;&amp;  failureCheck != null)\n                        {\n                            removeCallbacks(failureCheck)\n                        }\n                        val intent= Intent(ACTION_DATA_SEND_FINISHED)\n                        bluetoothLeService.get()?.sendBroadcast(intent)\n                    }\n\n            }\n            private inner class FailureCheck(val index:Int):Runnable{\n                override fun run() {\n                    if (index==currentIndex){\n                        val intent= Intent(ACTION_DATA_SEND_FAILED)\n                        bluetoothLeService.get()?.sendBroadcast(intent)\n                    }\n                }\n\n            }\n        }\n\n\n    }\n</code></pre>\n"}, {"tags": ["lambda", "functional-programming", "kotlin", "retrofit2", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1515944904, "post_id": 48250671, "comment_id": 83484978, "body": "There is no <code>Single.flatMap(Function, BiFunction)</code> method."}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 3, "last_activity_date": 1515946139, "creation_date": 1515946139, "answer_id": 48251503, "question_id": 48250671, "link": "https://stackoverflow.com/questions/48250671/error-when-changed-lambda-for-flatmap-of-two-observables-to-flatmap-of-two-singl/48251503#48251503", "title": "Error when changed lambda for flatmap of two Observables to flatmap of two Singles", "body": "<p>There is no <code>Single.flatMap(Function, BiFunction)</code> method. You have to map onto the inner result to get the items paired up:</p>\n\n<pre><code>remoteWeatherDataSource.requestCityAddressByName(cityName)\n    .flatMap({ a: LocationResponse -&gt;\n        remoteWeatherDataSource.requestWeatherForCity(\n            a.results[0].geometry.location.lat.toString(), \n            a.results[0].geometry.location.lng.toString()\n        )\n        .map { b: WeatherResponse -&gt;\n            TransformersDTO.transformToWeatherDetailsDTO(\n                a.results[0].formatted_address, \n                b\n            )\n        } \n    })\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 48251503, "answer_count": 1, "score": 1, "last_activity_date": 1515946139, "creation_date": 1515940663, "last_edit_date": 1515941345, "question_id": 48250671, "link": "https://stackoverflow.com/questions/48250671/error-when-changed-lambda-for-flatmap-of-two-observables-to-flatmap-of-two-singl", "title": "Error when changed lambda for flatmap of two Observables to flatmap of two Singles", "body": "<p>I want to combine results of two API requests. Initially i made them return Observable, but to perform it correctly i guess the response should be a Single.</p>\n\n<p>Here are my initial Retrofit interefaces:</p>\n\n<pre><code>interface RemoteGeocodingService {\n\n@GET(\"json\")\nfun requestCityAddressByName(\n        @Query(\"address\") address: String\n): Observable&lt;LocationResponse&gt;\n}\n\ninterface RemoteWeatherService {\n\n@GET(\"{latitude},{longitude}\")\nfun requestWeatherForCity(\n        @Path(\"latitude\") latitude: String,\n        @Path(\"longitude\") longitude: String\n): Observable&lt;WeatherResponse&gt;\n}\n</code></pre>\n\n<p>I was combining the results of them like this, using lambda:</p>\n\n<pre><code>    override fun getWeather(cityName: String): Observable&lt;WeatherDetailsDTO&gt;? {\n    return remoteWeatherDataSource.requestCityAddressByName(cityName)\n            .flatMap({ responseFromServiceA -&gt; remoteWeatherDataSource.requestWeatherForCity(responseFromServiceA.results[0].geometry.location.lat.toString(), responseFromServiceA.results[0].geometry.location.lng.toString()) },\n                    { responseFromServiceA, responseFromServiceB -&gt;\n                        TransformersDTO.transformToWeatherDetailsDTO(responseFromServiceA.results[0].formatted_address, responseFromServiceB)\n                    })\n            .retry()\n}\n</code></pre>\n\n<p>However, when i change the result of request for each API interface method to use Single instead of Observable i am not able to perform this - I get error in Android Studio IDE editor. Here is what i tried:</p>\n\n<pre><code>  override fun getWeather(cityName: String): Single&lt;WeatherDetailsDTO&gt; {\n    return remoteWeatherDataSource.requestCityAddressByName(cityName)\n            .flatMap({ responseFromServiceA: LocationResponse -&gt; remoteWeatherDataSource.requestWeatherForCity(responseFromServiceA.results[0].geometry.location.lat.toString(), responseFromServiceA.results[0].geometry.location.lng.toString()) },\n                    { responseFromServiceA: LocationResponse, responseFromServiceB: WeatherResponse -&gt;\n                        TransformersDTO.transformToWeatherDetailsDTO(responseFromServiceA.results[0].formatted_address, responseFromServiceB)\n                    })\n            .retry()\n</code></pre>\n\n<p>The IDE marks as error .flatMap operator and says:</p>\n\n<blockquote>\n  <p>None of the following functions can be called with the arguments supplied.\n  flatMap(((t: LocationResponse) \u2192 SingleSource!)!) \u00a0\u00a0where R cannot be inferred for  \u00a0\u00a0fun  flatMap(mapper: ((t: LocationResponse) \u2192 SingleSource!)!): Single! defined in io.reactivex.Single\n  flatMap(Function!>!) \u00a0\u00a0where R cannot be inferred for  \u00a0\u00a0fun  flatMap(mapper: Function!>!): Single! defined in io.reactivex.Single</p>\n</blockquote>\n\n<p>How it can be resolved?</p>\n"}, {"tags": ["android", "kotlin", "proguard", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": false, "score": 0, "last_activity_date": 1515939048, "creation_date": 1515939048, "answer_id": 48250408, "question_id": 48250043, "link": "https://stackoverflow.com/questions/48250043/connecting-moshi-to-android-studio-kotlin/48250408#48250408", "title": "Connecting moshi to Android Studio (Kotlin)", "body": "<p>First of all you set <code>minifyEnabled true</code> in debug but <code>minifyEnabled false</code> in release. That make no sense. Either set both to <code>true</code> or both to <code>false</code>.</p>\n\n<p>The second thing is. Do you know what <code>minifyEnabled</code> do? It enabled ProGuard in your project. See <a href=\"https://developer.android.com/studio/build/shrink-code.html\" rel=\"nofollow noreferrer\">here</a> for more details. </p>\n\n<p>However. You have two options to fix that issue. Either set <code>minifyEnabled</code> to <code>false</code> or apply ProGuard in a correct way. </p>\n\n<p>Starting by adding </p>\n\n<pre><code>proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n</code></pre>\n\n<p>to your <code>build.gradle</code>.</p>\n\n<p>Ending by applying <a href=\"https://github.com/square/moshi#proguard\" rel=\"nofollow noreferrer\">these rules</a> in your <code>proguard-rules.pro</code>.</p>\n"}], "owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515972596, "creation_date": 1515936377, "last_edit_date": 1515972596, "question_id": 48250043, "link": "https://stackoverflow.com/questions/48250043/connecting-moshi-to-android-studio-kotlin", "title": "Connecting moshi to Android Studio (Kotlin)", "body": "<p>I use Kotlin in Android Studio. I can not compile the project with the moshi library connected. <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">https://github.com/square/moshi</a></p>\n\n<p>Tell me, what am I doing wrong ?? I can see in the console:</p>\n\n<pre><code>:app:packageInstantRunResourcesDebug UP-TO-DATE\n:app:checkManifestChangesDebug\n:app:transformClassesWithAndroidGradleClassShrinkerForDebug\ncom/squareup/moshi/JsonReader references unknown class: javax/annotation/Nullable\ncom/squareup/moshi/CollectionJsonAdapter$1 references unknown class: javax/annotation/Nullable\ncom/squareup/moshi/JsonAdapter$5 references unknown class: javax/annotation/Nullable\ncom/squareup/moshi/package-info references unknown class: javax/annotation/ParametersAreNonnullByDefault\ncom/squareup/moshi/ArrayJsonAdapter$1 references unknown class: javax/annotation/Nullable\ncom/squareup/moshi/AdapterMethodsFactory$1 references unknown class: javax/annotation/Nullable\nokio/package-info references unknown class: javax/annotation/ParametersAreNonnullByDefault\ncom/squareup/moshi/Types references unknown class: javax/annotation/Nullable\ncom/squareup/moshi/JsonAdapter references unknown class: javax/annotation/Nullable\nokio/ByteString references unknown class: javax/annotation/Nullable\n</code></pre>\n\n<hr>\n\n<p>top-level build.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<hr>\n\n<p>app\\build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.lfom.modbuster\"\n        minSdkVersion 21\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n            minifyEnabled true\n        }\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    testImplementation 'junit:junit:4.12'\n\n    implementation 'com.android.support:appcompat-v7:26.+'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.google.android.gms:play-services-vision:11.0.4'\n\n    implementation 'com.squareup.moshi:moshi:1.5.0'\n    implementation 'com.squareup.moshi:moshi-kotlin:1.5.0'\n\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0'\n    implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'\n}\n\nrepositories {\n    mavenCentral()\n    maven {\n        url \"https://repo.eclipse.org/content/repositories/paho-snapshots/\"\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/LevWi/modbuster-blt/blob/Signals/app/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/LevWi/modbuster-blt/blob/Signals/app/build.gradle</a></p>\n\n<hr>\n\n<p>proguard-rules.pro</p>\n\n<pre><code>-dontwarn okio.**\n-dontwarn javax.annotation.**\n-keepclasseswithmembers class * {\n    @com.squareup.moshi.* &lt;methods&gt;;\n}\n-keep @com.squareup.moshi.JsonQualifier interface *\n\n-keepclassmembers class kotlin.Metadata {\n    public &lt;methods&gt;;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "mockito"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1515946679, "post_id": 48249816, "comment_id": 83485535, "body": "If possible, it would be very preferable if you could minimise the number of libraries your test case depends on (specifically Android / Google Truth), unless they&#39;re required to invoke the problem."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1515956379, "post_id": 48249816, "comment_id": 83488619, "body": "Done, thanks for the tip!"}], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1515964922, "post_id": 48254146, "comment_id": 83491140, "body": "FWIW, I&#39;ve submitted this as <a href=\"https://github.com/nhaarman/mockito-kotlin/issues/231\" rel=\"nofollow noreferrer\">an issue against Mockito-Kotlin</a>."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1515965831, "post_id": 48254146, "comment_id": 83491411, "body": "Thanks for the answer, that indeed is the issue. I actually like the argument captor better here (it&#39;s more concise), nevertheless using <code>argThat</code> like you say works around the issue (I posted the code in a different answer)."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 1, "last_activity_date": 1515963878, "creation_date": 1515963878, "answer_id": 48254146, "question_id": 48249816, "link": "https://stackoverflow.com/questions/48249816/argumentcaptor-vs-inorder-to-verify-subsequent-callbacks-with-different-argument/48254146#48254146", "title": "ArgumentCaptor vs InOrder to verify subsequent callbacks with different arguments", "body": "<p><strong>TL;DR</strong> - This appears to be a bug and/or bad documentation on <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">Mockito-Kotlin's</a> part, in terms of its <code>check</code> function.</p>\n\n<p>Mockito-Kotlin's <a href=\"https://github.com/nhaarman/mockito-kotlin/wiki/Mocking-and-verifying#argument-matchers\" rel=\"nofollow noreferrer\">wiki says</a>:</p>\n\n<blockquote>\n  <p>If you want to do more assertions on the received argument, you can use <code>check</code>.  [...]  If you want your test to fail inside a <code>check</code> invocation, you should make sure the body throws an error [...]</p>\n</blockquote>\n\n<p>The implementation of <code>check</code> <a href=\"https://github.com/nhaarman/mockito-kotlin/blob/master/mockito-kotlin/src/main/kotlin/com/nhaarman/mockito_kotlin/Mockito.kt#L87\" rel=\"nofollow noreferrer\">calls Mockito's <code>argThat</code></a>, and passes the supplied predicate as an argument.  However, <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.9/org/mockito/ArgumentMatcher.html#matches(T)\" rel=\"nofollow noreferrer\">the documentation for <code>ArgumentMatcher</code> states</a>:</p>\n\n<blockquote>\n  <p>The method should never assert if the argument doesn't match. It should only return <code>false</code>.</p>\n</blockquote>\n\n<p>Thus Mockito-Kotlin's documentation is in direct contradiction with this constraint.</p>\n\n<p>I'm not sure how to fix this, but you could just avoid <code>check</code> entirely for now, and use <code>argThat</code> directly (returning <code>false</code> as appropriate, rather than throwing).</p>\n"}, {"tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": false, "score": 0, "last_activity_date": 1529587042, "last_edit_date": 1529587042, "creation_date": 1515965725, "answer_id": 48254403, "question_id": 48249816, "link": "https://stackoverflow.com/questions/48249816/argumentcaptor-vs-inorder-to-verify-subsequent-callbacks-with-different-argument/48254403#48254403", "title": "ArgumentCaptor vs InOrder to verify subsequent callbacks with different arguments", "body": "<p>Using a <code>check</code> (instead of the one provided by Mockito-Kotlin) function like this seems to work fine:</p>\n\n<pre><code>inline fun &lt;reified T&gt; check(noinline predicate: (T?) -&gt; Unit): T? {\n    return Mockito.argThat {\n        try {\n            predicate(it)\n            true\n        } catch (e: Throwable) {\n            false\n        }\n    }\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>This issue has been fixed in <a href=\"https://github.com/nhaarman/mockito-kotlin/releases/tag/2.0.0-alpha04\" rel=\"nofollow noreferrer\">2.0.0-alpha04</a> version of mockito-kotlin.</p>\n"}], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1511, "favorite_count": 1, "accepted_answer_id": 48254146, "answer_count": 2, "score": 5, "last_activity_date": 1529587042, "creation_date": 1515934824, "last_edit_date": 1516025500, "question_id": 48249816, "link": "https://stackoverflow.com/questions/48249816/argumentcaptor-vs-inorder-to-verify-subsequent-callbacks-with-different-argument", "title": "ArgumentCaptor vs InOrder to verify subsequent callbacks with different arguments", "body": "<p>I was testing my DAO class generated using the <code>Room</code> library from <code>Architecture Components</code>. I wanted to check that the <code>LiveData</code> returned by a query joining multiple tables was going to be updated when data changes.</p>\n\n<p>I started out by using <code>InOrder</code> verification, but found that whatever argument I wanted to assert, Mockito would say that the method was invoked with a different one (and when I changed the assertion to that one, it would say it was the other one).</p>\n\n<p>Using an <code>ArgumentCaptor</code> turned out to work fine for this purpose, which is the subject of this question:</p>\n\n<h3>Why does <code>ArgumentCaptor</code> verification work here, but <code>InOrder</code> does not?</h3>\n\n<p>Looking at the answers to question on <a href=\"https://stackoverflow.com/q/8504074/1916449\">how to verify multiple method calls with different params</a>, both methods should work fine.</p>\n\n<p>Here's a simplified version of my test that showcases the issue:</p>\n\n<pre><code>package com.example\n\nimport com.nhaarman.mockito_kotlin.argumentCaptor\nimport com.nhaarman.mockito_kotlin.check\nimport com.nhaarman.mockito_kotlin.mock\nimport org.junit.Assert.assertEquals\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.Mockito.*\nimport org.mockito.junit.MockitoJUnitRunner\n\n@Suppress(\"IllegalIdentifier\")\n@RunWith(MockitoJUnitRunner::class)\nclass MultipleCallbacksVanillaTest {\n\n    private val java = Language(\"Java\")\n    private val javascript = Language(\"JavaScript\")\n    private val kotlin = Language(\"Kotlin\")\n\n    private val firstList = emptyList&lt;Language&gt;()\n    private val secondList = listOf(java)\n    private val thirdList = listOf(java, javascript, kotlin)\n    private val lastList = listOf(java, kotlin)\n\n    @Test fun `using argument captor`() {\n        // given\n        val observer = mock&lt;Observer&lt;List&lt;Language&gt;&gt;&gt;()\n        val liveData = MutableLiveData&lt;List&lt;Language&gt;&gt;()\n\n        // when\n        liveData.observeForever(observer)\n        liveData.value = firstList\n        liveData.value = secondList\n        liveData.value = thirdList\n        liveData.value = lastList\n\n        // then\n        argumentCaptor&lt;List&lt;Language&gt;&gt;().run {\n            verify(observer, times(4)).onChanged(capture())\n            val (firstValue, secondValue, thirdValue, lastValue) = allValues\n            assertEquals(firstList, firstValue)\n            assertEquals(secondList, secondValue)\n            assertEquals(thirdList, thirdValue)\n            assertEquals(lastList, lastValue)\n        }\n    }\n\n    @Test fun `using in order`() {\n        // given\n        val observer = mock&lt;Observer&lt;List&lt;Language&gt;&gt;&gt;()\n        val liveData = MutableLiveData&lt;List&lt;Language&gt;&gt;()\n\n        // when\n        liveData.observeForever(observer)\n        liveData.value = firstList\n        liveData.value = secondList\n        liveData.value = thirdList\n        liveData.value = lastList\n\n        // then\n        inOrder(observer).run {\n            verify(observer).onChanged(check { assertEquals(firstList, it) })\n            verify(observer).onChanged(check { assertEquals(secondList, it) })\n            verify(observer).onChanged(check { assertEquals(thirdList, it) })\n            verify(observer).onChanged(check { assertEquals(lastList, it) })\n        }\n        verifyNoMoreInteractions(observer)\n    }\n\n}\n\ndata class Language(val name: String)\n\ninterface Observer&lt;in T&gt; {\n    fun onChanged(value: T?)\n}\n\nclass MutableLiveData&lt;T : Any&gt; {\n    var value: T\n        get() = _value\n        set(value) {\n            observers.forEach { it.onChanged(value) }\n            _value = value\n        }\n\n    private lateinit var _value: T\n\n    private var observers = mutableSetOf&lt;Observer&lt;T&gt;&gt;()\n\n    fun observeForever(observer: Observer&lt;T&gt;) {\n        if (::_value.isInitialized) observer.onChanged(_value)\n        observers.add(observer)\n    }\n}\n</code></pre>\n\n<p><code>using argument captor</code> passes, but <code>using in order</code> fails with a message:</p>\n\n<pre><code>java.lang.AssertionError:\nExpected :[]\nActual   :[Language(name=Java)]\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-multidex", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2859, "user_id": 3078121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmsbB.jpg?s=128&g=1", "display_name": "Kostas Drak", "link": "https://stackoverflow.com/users/3078121/kostas-drak"}, "edited": false, "score": 1, "creation_date": 1515936436, "post_id": 48249796, "comment_id": 83482605, "body": "where do you reference the view? The multidex and the error are 2 different things"}, {"owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "reply_to_user": {"reputation": 2859, "user_id": 3078121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmsbB.jpg?s=128&g=1", "display_name": "Kostas Drak", "link": "https://stackoverflow.com/users/3078121/kostas-drak"}, "edited": false, "score": 0, "creation_date": 1515936715, "post_id": 48249796, "comment_id": 83482690, "body": "I reference it in an activity. It&#39;s not a particular view. It happens with any view in my entire application. It only happens when I exceed the 65k method limit even when I install multidex"}, {"owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "reply_to_user": {"reputation": 2859, "user_id": 3078121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmsbB.jpg?s=128&g=1", "display_name": "Kostas Drak", "link": "https://stackoverflow.com/users/3078121/kostas-drak"}, "edited": false, "score": 0, "creation_date": 1515936994, "post_id": 48249796, "comment_id": 83482780, "body": "@KostasDrak Thanks for the comment! I restructured the question."}, {"owner": {"reputation": 2859, "user_id": 3078121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmsbB.jpg?s=128&g=1", "display_name": "Kostas Drak", "link": "https://stackoverflow.com/users/3078121/kostas-drak"}, "edited": false, "score": 0, "creation_date": 1515943296, "post_id": 48249796, "comment_id": 83484488, "body": "can you show that activity that ou reference the textview and also how you set text? Your stacktrace only shows the crash. Furthermore since you minSDK is 23 you do not need the multidex dependency."}], "answers": [{"tags": [], "owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "is_accepted": true, "score": 2, "last_activity_date": 1516011261, "creation_date": 1516011261, "answer_id": 48260845, "question_id": 48249796, "link": "https://stackoverflow.com/questions/48249796/kotlins-view-binding-extensions-stop-working-after-65k-method-limit/48260845#48260845", "title": "Kotlin&#39;s View Binding extensions stop working after 65k method limit", "body": "<p>Cleaning the project solved the issue.</p>\n"}], "owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 48260845, "answer_count": 1, "score": 1, "last_activity_date": 1516011261, "creation_date": 1515934700, "last_edit_date": 1515936933, "question_id": 48249796, "link": "https://stackoverflow.com/questions/48249796/kotlins-view-binding-extensions-stop-working-after-65k-method-limit", "title": "Kotlin&#39;s View Binding extensions stop working after 65k method limit", "body": "<p>After reaching 65k method limit, Kotlin's View Binding extensions stop working and throws NullPointerException when I reference a view.</p>\n\n<p>I tried to install MultiDex but it's not fixing the issue.</p>\n\n<p>I'm using Android API 25, not using ProGuard and compiling for debug flavor. What can I do? </p>\n\n<p>Here is an example of the error</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.jj.pos, PID: 5906\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.jj.pos/com.jj.pos.features.authentication.LoginActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\n                      at android.os.Looper.loop(Looper.java:154)\n                      at android.app.ActivityThread.main(ActivityThread.java:6119)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n                   Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n                      at com.jj.pos.features.authentication.GoogleAuthenticator.loadBusinessAndGoToMainActivity(GoogleAuthenticator.kt:42)\n                      at com.jj.pos.features.authentication.GoogleAuthenticator.&lt;init&gt;(GoogleAuthenticator.kt:35)\n                      at com.jj.pos.features.authentication.LoginActivity.onCreate(LoginActivity.kt:18)\n                      at android.app.Activity.performCreate(Activity.java:6720)\n                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1120)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n                      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:154)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0\n</code></pre>\n\n<p>This is my build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.jj.pos\"\n        minSdkVersion 23\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n    // Additional android libraries\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-v4:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:recyclerview-v7:26.1.0'\n\n    // MultiDex\n    implementation 'com.android.support:multidex:1.0.2'\n\n    // Memory leaks\n    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.5.4'\n    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.4'\n\n    // Firebase\n    implementation 'com.google.firebase:firebase-auth:11.6.2'\n    implementation 'com.google.android.gms:play-services-auth:11.6.2'\n    implementation 'com.google.firebase:firebase-firestore:11.6.2'\n    implementation 'com.google.firebase:firebase-crash:11.6.2'\n\n    // RxJava\n//    implementation 'io.reactivex.rxjava2:rxjava:2.1.7'\n    implementation 'io.reactivex.rxjava2:rxkotlin:2.2.0'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n\n    // Images loader and cache\n    implementation 'com.squareup.picasso:picasso:2.5.2'\n\n    // Decent datetime API\n    implementation 'joda-time:joda-time:2.9.9'\n\n    // Animations\n    compile 'com.android.support:support-compat:26.1.0'\n    compile 'com.daimajia.easing:library:2.0@aar'\n    compile 'com.daimajia.androidanimations:library:2.3@aar'\n\n    // UI\n    compile 'com.github.markushi:circlebutton:1.1' // -- FAB\n\n    implementation project(':btsdk')\n    implementation project(':zixng')\n}\n\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>and this is my Application implementation</p>\n\n<pre><code>class App : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n\n        MultiDex.install(this)\n\n        // Other configs like LeakCanary, Firestore and RxJavaErrorHandler\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "blockchain", "slack", "corda", "discourse"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 1, "creation_date": 1516011143, "post_id": 48249506, "comment_id": 83504283, "body": "Are you interacting with the CorDapp via the API? What URL are you visiting to get the exception above?"}, {"owner": {"reputation": 191, "user_id": 2670611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5d4cc4c6f65ae16fe1b95a723f3251bd?s=128&d=identicon&r=PG", "display_name": "ToniyaSundaram", "link": "https://stackoverflow.com/users/2670611/toniyasundaram"}, "reply_to_user": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1516064922, "post_id": 48249506, "comment_id": 83529339, "body": "I am using Postman to interact. This is the  &#39;URL: localhost:10007/api/yo/yo?target=PartyB and localhost:10007/api/yo/yo?target=PartyB&amp;target=BidderC&#39;. I also want to know is it possible to skip &quot;collecting signatures from other parties&quot; part ?"}], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1516091226, "creation_date": 1516091226, "answer_id": 48276876, "question_id": 48249506, "link": "https://stackoverflow.com/questions/48249506/display-the-state-information-to-a-list-of-participants-dynamically/48276876#48276876", "title": "Display the state information to a list of participants dynamically", "body": "<p>It looks like a bug in your API endpoint code.</p>\n\n<p>You set:</p>\n\n<pre><code>val acceptors : ArrayList&lt;Party&gt;? = null;\n</code></pre>\n\n<p>And then in the subsequent loop, you have the following logic for expanding the array:</p>\n\n<pre><code>if (acceptors != null) {\n    acceptors.add(to)\n}\n</code></pre>\n\n<p>Since <code>acceptors</code> is initialised to <code>null</code>, this condition is never true and you never expand the list. As a result, when you try to construct the <code>YoFlow</code>, you are trying to set the <code>target</code> parameter to <code>null</code>, which isn't allowed due to Kotlin's null safety.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>val acceptors = mutableListOf&lt;Party&gt;()\n</code></pre>\n\n<p>Re: your comment, you have to collect the signatures of any required signers listed on the commands, or your transaction will be considered invalid.</p>\n"}], "owner": {"reputation": 191, "user_id": 2670611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5d4cc4c6f65ae16fe1b95a723f3251bd?s=128&d=identicon&r=PG", "display_name": "ToniyaSundaram", "link": "https://stackoverflow.com/users/2670611/toniyasundaram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 48276876, "answer_count": 1, "score": 1, "last_activity_date": 1516091226, "creation_date": 1515932383, "question_id": 48249506, "link": "https://stackoverflow.com/questions/48249506/display-the-state-information-to-a-list-of-participants-dynamically", "title": "Display the state information to a list of participants dynamically", "body": "<p>I have tweeked the Yo- CordApp to send to a list of participants instead of single participant in the target. I would like to send the YO to more than one Party, moreover I just want to display the state information to the parties which does not require the signatures of all parties. But I am  stuck with the below error. Please help.</p>\n\n<pre><code>FlowLogicRef cannot be constructed for FlowLogic of type net.corda.yo.YoFlow as could not find matching constructor for: {target=null}\n</code></pre>\n\n<p>The link to my code: <a href=\"https://github.com/ToniyaSundaram/CordaProjects\" rel=\"nofollow noreferrer\">https://github.com/ToniyaSundaram/CordaProjects</a>.</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1515947306, "post_id": 48249945, "comment_id": 83485745, "body": "Ok would homeScreenCallBack.onResponseOneRecieved(responseOne) be made in the mainThread whilst the delegator.requestTwo be made in teh schedulars IO thread?"}, {"owner": {"reputation": 1293, "user_id": 4257442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8dde9b4feae506689e12acb50d624067?s=128&d=identicon&r=PG&f=1", "display_name": "Pouya Danesh", "link": "https://stackoverflow.com/users/4257442/pouya-danesh"}, "edited": false, "score": 0, "creation_date": 1540284822, "post_id": 48249945, "comment_id": 92797907, "body": "my second request in flat map throws <code>NetworkOnMainThreadException</code>"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 1293, "user_id": 4257442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8dde9b4feae506689e12acb50d624067?s=128&d=identicon&r=PG&f=1", "display_name": "Pouya Danesh", "link": "https://stackoverflow.com/users/4257442/pouya-danesh"}, "edited": false, "score": 1, "creation_date": 1540288404, "post_id": 48249945, "comment_id": 92800294, "body": "@pouya do you have the <code>subscribeOn</code> inside <code>flatMap</code> like my example?"}, {"owner": {"reputation": 1293, "user_id": 4257442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8dde9b4feae506689e12acb50d624067?s=128&d=identicon&r=PG&f=1", "display_name": "Pouya Danesh", "link": "https://stackoverflow.com/users/4257442/pouya-danesh"}, "edited": false, "score": 0, "creation_date": 1540307377, "post_id": 48249945, "comment_id": 92812541, "body": "@akarnokd yes that was the problem it is worth pointing out that we need two <code>observeOn</code> and two <code>subscribeOn</code> .thanks"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 14, "last_activity_date": 1515935689, "creation_date": 1515935689, "answer_id": 48249945, "question_id": 48249486, "link": "https://stackoverflow.com/questions/48249486/rxjava-run-part-of-the-flatmap-in-main-thread/48249945#48249945", "title": "RxJava run part of the flatmap in main thread", "body": "<p>Apply <code>observeOn(AndroidSchedulers.mainThread())</code> as many times as necessary:</p>\n\n<pre><code>delegator.requestOne()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread()) // &lt;----------------------\n        .flatMap { responseOne -&gt;\n            homeScreenCallBack.onResponseOneRecieved(responseOne)\n            delegator.requestTwo()\n            .subscribeOn(Schedulers.io())          // &lt;----------------------\n        }\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(\n                {responseTwo-&gt; homeScreenCallBack.onResponseTwoRecieved(responseTwo)},\n                {error -&gt; homeScreenCallBack.onError()}\n        )\n</code></pre>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1572, "favorite_count": 1, "accepted_answer_id": 48249945, "answer_count": 1, "score": 2, "last_activity_date": 1515935689, "creation_date": 1515932208, "question_id": 48249486, "link": "https://stackoverflow.com/questions/48249486/rxjava-run-part-of-the-flatmap-in-main-thread", "title": "RxJava run part of the flatmap in main thread", "body": "<p>Hi i am trying to implement a Single observable that chains two requests together.</p>\n\n<p>In between the two requests i make, i notify a callback to update the UI with the response from request one and then launch the next request in the Schedulaers.io thread.</p>\n\n<p>The issue i am having is that it tries to update the UI from the schedulars.io thread too and results to nothing being updated in the ui thread.</p>\n\n<p>i cold wrap the calback on RunOnUiThread code block in android but wondering if there is a more elegant way of doing it?</p>\n\n<p>i checked couroutines and it seems to just deal with putting a block of code in a seperate thread.</p>\n\n<p>Here is my current code</p>\n\n<pre><code>override fun getHomeScreenInformation() {\n    delegator.requestOne()\n            .flatMap { responseOne-&gt;\n                homeScreenCallBack.onResponseOneRecieved(responseOne)\n                delegator.requestTwo()\n            }\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeOn(Schedulers.io())\n            .subscribe(\n                    {responseTwo-&gt; homeScreenCallBack.onResponseTwoRecieved(responseTwo)},\n                    {error -&gt; homeScreenCallBack.onError()}\n            )\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 22206, "user_id": 114226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8zmez.png?s=128&g=1", "display_name": "PeterMmm", "link": "https://stackoverflow.com/users/114226/petermmm"}, "edited": false, "score": 1, "creation_date": 1515932525, "post_id": 48249272, "comment_id": 83481528, "body": "<a href=\"https://stackoverflow.com/questions/3107527/android-save-view-to-jpg-or-png\" title=\"android save view to jpg or png\">stackoverflow.com/questions/3107527/&hellip;</a>"}], "owner": {"reputation": 57, "user_id": 4936121, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fd05YVudgGk/AAAAAAAAAAI/AAAAAAAAAqU/tbIQpUplT54/photo.jpg?sz=128", "display_name": "emre", "link": "https://stackoverflow.com/users/4936121/emre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515930756, "creation_date": 1515930756, "question_id": 48249272, "link": "https://stackoverflow.com/questions/48249272/converting-html-string-to-pdf-or-image-in-android", "title": "Converting html string to pdf or image in Android", "body": "<p>I have a <strong>html string</strong> and i want to convert this to <strong>pdf</strong> or <strong>image</strong> file in Android. Is there a way to do such a thing in Android or is there anyone who has done something like this before? Thanks.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "owner": {"reputation": 59, "user_id": 7496611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YkyRG.jpg?s=128&g=1", "display_name": "Ismail ackerboy", "link": "https://stackoverflow.com/users/7496611/ismail-ackerboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 748, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1515925403, "creation_date": 1515924997, "last_edit_date": 1515925403, "question_id": 48248570, "link": "https://stackoverflow.com/questions/48248570/how-to-get-errors-from-url-readtext-when-file-not-found-using-kotlin", "title": "how to get errors from URL.readText() when file not found using kotlin", "body": "<p>When I don't have internet on my phone or when the URL does not exist this method not doing anything neither crash nor stop searching. \nI tried this :</p>\n\n<pre><code>doAsync{\n    val json:String\n    json = try {\n        URL(\"http://10.0.2.2:8888/bac/orient.php?ort=1\").readText()\n    }catch (e: IOException){\n        e.printStackTrace()\n        \"\"\n    }\n    uiThread{toast(json)}\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 1246717, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd2cd8bd48deeebdcd39746264c607f4?s=128&d=identicon&r=PG", "display_name": "jasperagrante", "link": "https://stackoverflow.com/users/1246717/jasperagrante"}, "edited": false, "score": 0, "creation_date": 1518104830, "post_id": 48248246, "comment_id": 84376892, "body": "Sorry for the late response, my problem is that the icon of the SearchView when collapsed is stuck on the left side instead of moving back again to the right side"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1515922204, "creation_date": 1515922204, "answer_id": 48248246, "question_id": 48247713, "link": "https://stackoverflow.com/questions/48247713/search-view-not-collapsing-properly/48248246#48248246", "title": "Search View not collapsing properly", "body": "<p>You have to override the <code>onBackPressed()</code> method because you can collapse the <code>SearchView</code> by pressing the back button or back button in ActionBar</p>\n\n<p>If you press the back button then:</p>\n\n<pre><code>override fun onBackPressed() {\n    if (!searchView.isIconified) {\n        searchView.isIconified == true;\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n\n<p>If you press the ActionBar back button then you have to override the onOptionsItemSelected() method and then you have to do it in the same way given above.</p>\n"}, {"tags": [], "owner": {"reputation": 314, "user_id": 1246717, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd2cd8bd48deeebdcd39746264c607f4?s=128&d=identicon&r=PG", "display_name": "jasperagrante", "link": "https://stackoverflow.com/users/1246717/jasperagrante"}, "is_accepted": false, "score": 0, "last_activity_date": 1518108459, "creation_date": 1518108459, "answer_id": 48690681, "question_id": 48247713, "link": "https://stackoverflow.com/questions/48247713/search-view-not-collapsing-properly/48690681#48690681", "title": "Search View not collapsing properly", "body": "<p>I've already fixed it by removing <code>collapseActionView</code> and <code>searchView.isIconified = false</code></p>\n\n<p>Menu File:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item\n        android:id=\"@+id/search\"\n        android:icon=\"@drawable/ic_search_white_24dp\"\n        android:title=\"@android:string/search_go\"\n        app:actionViewClass=\"android.widget.SearchView\"\n        app:showAsAction=\"ifRoom\"/&gt;\n\n    &lt;item\n        android:id=\"@+id/btn_create\"\n        android:icon=\"@drawable/ic_add_white_24dp\"\n        android:title=\"@string/create\"\n        app:showAsAction=\"ifRoom\"/&gt;\n\n    &lt;item\n        android:id=\"@+id/btn_delete\"\n        android:icon=\"@drawable/ic_delete_white_24dp\"\n        android:title=\"@string/remove\"\n        app:showAsAction=\"ifRoom\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>Activity's Code:</p>\n\n<pre><code>  override fun onCreateOptionsMenu(menu: Menu): Boolean {\n    menuInflater.inflate(R.menu.search_create_delete, menu)\n\n    // Handle Searching\n    val searchView: SearchView = menu.findItem(R.id.search).actionView as SearchView\n    searchView.queryHint = \"Search Partner...\"\n    // ...\n\n    return super.onCreateOptionsMenu(menu)\n  }\n</code></pre>\n"}], "owner": {"reputation": 314, "user_id": 1246717, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd2cd8bd48deeebdcd39746264c607f4?s=128&d=identicon&r=PG", "display_name": "jasperagrante", "link": "https://stackoverflow.com/users/1246717/jasperagrante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518108459, "creation_date": 1515917235, "last_edit_date": 1515919690, "question_id": 48247713, "link": "https://stackoverflow.com/questions/48247713/search-view-not-collapsing-properly", "title": "Search View not collapsing properly", "body": "<p>My search view is stuck on the right side replacing the toolbar's title when collapsed.</p>\n\n<p>Before Opening:\n<a href=\"https://i.stack.imgur.com/KOVNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KOVNG.png\" alt=\"Before opening the search view\"></a>\nAfter Closing:\n<a href=\"https://i.stack.imgur.com/PKbto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKbto.png\" alt=\"After opening and closing the search view\"></a></p>\n\n<p>Menu File:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n  &lt;item\n      android:id=\"@+id/search\"\n      android:icon=\"@drawable/ic_search_white_24dp\"\n      android:title=\"@android:string/search_go\"\n      app:actionLayout=\"@layout/full_width_search_view\"\n      app:actionViewClass=\"android.widget.SearchView\"\n      app:showAsAction=\"collapseActionView|ifRoom\"/&gt;\n\n  &lt;item\n      android:id=\"@+id/btn_create\"\n      android:icon=\"@drawable/ic_add_white_24dp\"\n      android:title=\"@string/create\"\n      app:showAsAction=\"collapseActionView|ifRoom\"/&gt;\n\n  &lt;item\n      android:id=\"@+id/btn_delete\"\n      android:icon=\"@drawable/ic_delete_white_24dp\"\n      android:title=\"@string/remove\"\n      app:showAsAction=\"collapseActionView|ifRoom\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>Full-Width Search View (which obviously is not working...):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.SearchView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>Activity's Code:</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu): Boolean {\n  menuInflater.inflate(R.menu.search_create_delete, menu)\n\n  // Handle Searching\n  val searchView: SearchView = menu.findItem(R.id.search).actionView as SearchView\n  searchView.isIconified = false\n  searchView.clearFocus()\n\n  menu.findItem(R.id.btn_delete).isVisible = orderLine.hasCustomer()\n\n  return super.onCreateOptionsMenu(menu)\n}\n</code></pre>\n\n<p>Any help is appreciated. Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1515918509, "post_id": 48247623, "comment_id": 83478237, "body": "You have <code>&lt;bindingname&gt;.&lt;view id&gt;.text</code> if you need the TextView text while if you need the property title then it is straightforward."}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 1, "last_activity_date": 1515917263, "creation_date": 1515917263, "answer_id": 48247720, "question_id": 48247623, "link": "https://stackoverflow.com/questions/48247623/kotlin-binding-view-how-to-distinguish-between-view-variable-with-local-variabl/48247720#48247720", "title": "Kotlin binding view: How to distinguish between view variable with local variable?", "body": "<p>I would suggest use <code>as</code> to locally rename the <code>TextView</code>:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.&lt;layout_file_name&gt;.title as lblTitle\n\n//Usage\nval title = \"any text\"\nlblTitle.text = title\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1515919318, "creation_date": 1515919318, "answer_id": 48247953, "question_id": 48247623, "link": "https://stackoverflow.com/questions/48247623/kotlin-binding-view-how-to-distinguish-between-view-variable-with-local-variabl/48247953#48247953", "title": "Kotlin binding view: How to distinguish between view variable with local variable?", "body": "<p>You should not use <code>title</code> as ID in the first place. Name it <code>titleTextView</code>. This yields a variable where the purpose is clear, which is good convention.</p>\n"}], "owner": {"reputation": 348, "user_id": 3400939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1Sfx.jpg?s=128&g=1", "display_name": "Kosrat D. Ahmad", "link": "https://stackoverflow.com/users/3400939/kosrat-d-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 48247953, "answer_count": 2, "score": 0, "last_activity_date": 1515919318, "creation_date": 1515916385, "question_id": 48247623, "link": "https://stackoverflow.com/questions/48247623/kotlin-binding-view-how-to-distinguish-between-view-variable-with-local-variabl", "title": "Kotlin binding view: How to distinguish between view variable with local variable?", "body": "<p>I'm using Kotlin view binding for getting view reference and set data to views but I've one problem: </p>\n\n<p>I have a local variable named <strong>title</strong> </p>\n\n<pre><code>val title = \"any text\"\n</code></pre>\n\n<p>and in the view, I've a TextView with id <strong>title</strong> </p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/title\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n\n<p>so how can I distinguish between them?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515896418, "post_id": 48246017, "comment_id": 83474915, "body": "I typed part of an answer (and deleted it) when I ran into ths: <a href=\"https://stackoverflow.com/questions/29228423/why-does-kotlin-lang-allow-only-single-main-function-in-project\" title=\"why does kotlin lang allow only single main function in project\">stackoverflow.com/questions/29228423/&hellip;</a>"}, {"owner": {"reputation": 3122, "user_id": 1503413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/JVUOu.jpg?s=128&g=1", "display_name": "random", "link": "https://stackoverflow.com/users/1503413/random"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515896740, "post_id": 48246017, "comment_id": 83474969, "body": "Ok, main function used to be like other functions before. But now I can have multiple mains in package. Can I have other file-scoped functions?"}, {"owner": {"reputation": 481, "user_id": 5435312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HjWfX.jpg?s=128&g=1", "display_name": "garywzh", "link": "https://stackoverflow.com/users/5435312/garywzh"}, "edited": false, "score": 1, "creation_date": 1515897009, "post_id": 48246017, "comment_id": 83475011, "body": "Check out this one <a href=\"https://stackoverflow.com/a/34513057/5435312\">stackoverflow.com/a/34513057/5435312</a>  . In kotlin, file name matters."}], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 6, "last_activity_date": 1515897563, "creation_date": 1515897563, "answer_id": 48246215, "question_id": 48246017, "link": "https://stackoverflow.com/questions/48246017/what-is-the-difference-between-main-and-regular-function/48246215#48246215", "title": "What is the difference between main and regular function?", "body": "<blockquote>\n  <p>What is special about main()? Are there other special functions?</p>\n</blockquote>\n\n<p>To start a Java program you need </p>\n\n<ol>\n<li>a class file,</li>\n<li><code>static void main(String[])</code> method in that class file. </li>\n</ol>\n\n<p>So from outside of the package you'd be able to start any of these <code>main</code> methods. </p>\n\n<p>However if you try to call the <code>main</code> method <em>from another Kotlin file inside of the package</em>, you'd get an error, because Kotlin can't disambiguate one method from the other.</p>\n\n<p>You can call any of them from Java as you please because they're compiled in different class files (see further).</p>\n\n<blockquote>\n  <p>Can I create two static myfun() functions in same package?</p>\n</blockquote>\n\n<p>You can't define two top-level methods with the same name in the same package in Kotlin (with the above exception).</p>\n\n<p>This is what your code compiles to:</p>\n\n<pre><code>public final class Test1Kt {\n   public static final void main(@NotNull String[] args) { /* ... */ }\n\n   public static final void myFun(@NotNull String[] args) { /* ... */ }\n}\n\npublic final class Test2Kt {\n   public static final void main(@NotNull String[] args) { /* ... */ }\n\n   public static final void myFun(@NotNull String[] args) { /* ... */ }\n}\n</code></pre>\n\n<p>As far as JVM is concerned all of these methods could coexist in peace. But this is an <em>implementation detail</em> of Kotlin.</p>\n\n<p>Let's forget for a second that Kotlin apps run on JVM. Pretend your only tool is Kotlin, and you can't use Java, perhaps you're writing a Kotlin cross-platform module. How could you have two top-level functions with the same name? How would you pick which one to call? Again, you'd get an error, because Kotlin couldn't disambiguate one method from the other.</p>\n\n<p>Edit: As noted by <a href=\"https://stackoverflow.com/users/49746/todd\">@Todd</a> this behavior has been even more strict in the past: <a href=\"https://stackoverflow.com/questions/29228423/why-does-kotlin-lang-allow-only-single-main-function-in-project\">Why does Kotlin lang allow only single main function in project?</a></p>\n"}, {"comments": [{"owner": {"reputation": 3122, "user_id": 1503413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/JVUOu.jpg?s=128&g=1", "display_name": "random", "link": "https://stackoverflow.com/users/1503413/random"}, "edited": false, "score": 0, "creation_date": 1515898317, "post_id": 48246218, "comment_id": 83475216, "body": "Unfortunately I can&#39;t pick two answers. But here is important addition about making function private : <a href=\"https://stackoverflow.com/a/48246231/1503413\">stackoverflow.com/a/48246231/1503413</a>"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 8, "last_activity_date": 1515898167, "last_edit_date": 1515898167, "creation_date": 1515897584, "answer_id": 48246218, "question_id": 48246017, "link": "https://stackoverflow.com/questions/48246017/what-is-the-difference-between-main-and-regular-function/48246218#48246218", "title": "What is the difference between main and regular function?", "body": "<p>Kotlin allows to have multiple top-level <code>main</code> functions in the same package due to practical reasons \u2014 so that one could have an entry point in an each file without moving these files to different packages.</p>\n\n<p>It is possible because each .kt file with top-level members is compiled to the corresponding class file, so these <code>main</code> functions do not clash, because they are located in separate class files.</p>\n\n<p>Why is it allowed for <code>main</code> functions and not for other top-level functions? Having multiple functions with the same name and signature in the same package would make it impossible to distinguish them when calling from Kotlin. This is not a problem for <code>main</code> function, because when it is used as an entry point for a program, it's required to specify the class name where it is located. </p>\n"}, {"tags": [], "owner": {"reputation": 4846, "user_id": 2137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9aa5ae803faa3cc187ecab7a9009fd7?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/2137382/joe-sewell"}, "is_accepted": false, "score": 6, "last_activity_date": 1515897755, "creation_date": 1515897755, "answer_id": 48246231, "question_id": 48246017, "link": "https://stackoverflow.com/questions/48246017/what-is-the-difference-between-main-and-regular-function/48246231#48246231", "title": "What is the difference between main and regular function?", "body": "<p>Regarding the question about how to have file-scoped functions, by default top-level functions (those not declared within a class) are <code>public</code>, which means their signatures must be unique, including the package name. You can make functions local to the file, rather than the package, by prefixing them with the <code>private</code> modifier, e.g., in each file:</p>\n\n<pre><code>private fun myfun(args: Array&lt;String&gt;) {\n    // method body here\n}\n</code></pre>\n"}], "owner": {"reputation": 3122, "user_id": 1503413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/JVUOu.jpg?s=128&g=1", "display_name": "random", "link": "https://stackoverflow.com/users/1503413/random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "accepted_answer_id": 48246218, "answer_count": 3, "score": 12, "last_activity_date": 1515898167, "creation_date": 1515894862, "last_edit_date": 1515896822, "question_id": 48246017, "link": "https://stackoverflow.com/questions/48246017/what-is-the-difference-between-main-and-regular-function", "title": "What is the difference between main and regular function?", "body": "<p>Kotlin allows me to create two main() functions. But does not allow two myfun() functions. </p>\n\n<ul>\n<li>What is special about main()? Are there other special functions?</li>\n<li>Can I create two static myfun() functions in same package? I want them to have file scope like main.</li>\n</ul>\n\n<p>Test1.kt:</p>\n\n<pre><code>package start\n\nfun main(args: Array&lt;String&gt;) {\n}\n\nfun myfun(args: Array&lt;String&gt;) {\n}\n</code></pre>\n\n<p>Test2.kt:</p>\n\n<pre><code>package start\n// OK!\nfun main(args: Array&lt;String&gt;) {\n}\n// Error! Conflicting overloads\nfun myfun(args: Array&lt;String&gt;) {\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515888960, "post_id": 48245355, "comment_id": 83473833, "body": "What\u2019s the error you\u2019re seeing"}, {"owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515889663, "post_id": 48245355, "comment_id": 83473938, "body": "The error is: Error:(28, 46) Function invocation &#39;OnClickListener(...)&#39; expected"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515890169, "post_id": 48245355, "comment_id": 83474023, "body": "Your second example does not declare the my_btn variable, did you forget to include it?"}, {"owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515890571, "post_id": 48245355, "comment_id": 83474093, "body": "In an Android Kotlin project, any view in the layout xml file that has an id will get a member variable of the same name created on the Kotlin class automagically, so no need to declare"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1515899048, "post_id": 48245355, "comment_id": 83475323, "body": "Maybe unrelated: Fragment.onCreateView and Activity.onCreateView do something completely different. Don&#39;t use Activity.onCreateView, it&#39;s not for inflating standard view hierarchies. Setup your view hierarchy in onCreate."}], "answers": [{"tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": false, "score": 3, "last_activity_date": 1515898864, "last_edit_date": 1515898864, "creation_date": 1515896966, "answer_id": 48246171, "question_id": 48245355, "link": "https://stackoverflow.com/questions/48245355/how-to-set-a-non-inline-onclicklistener-in-kotlin/48246171#48246171", "title": "How to set a non-inline OnClickListener in Kotlin?", "body": "<p>If you don't want lambda notations then this might work for you:</p>\n\n<pre><code>val onClickListener = object : View.OnClickListener {\n    override fun onClick(view: View) {\n        //ToDo: Implement whatever method you need\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "edited": false, "score": 0, "creation_date": 1515903300, "post_id": 48246232, "comment_id": 83475948, "body": "omfg, this is it.  Putting braces on next line results in compiler error.  Did some DuckDuckGo-ing and found: <a href=\"https://youtrack.jetbrains.com/issue/KT-15195\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-15195</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-6739\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-6739</a> What a petty, passive aggressive thing to do..."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "edited": false, "score": 0, "creation_date": 1515924924, "post_id": 48246232, "comment_id": 83479570, "body": "@duggulous Well, this is actually intended and is a syntax error. The grammar is much more restrictive - if the brackets are on <i>the next line</i>, this is interpreted as 1. a no-op retrieving <code>View.OnClickListener</code> and 2. an unused lambda."}, {"owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1515943596, "post_id": 48246232, "comment_id": 83484590, "body": "@Mango Obviously it was intended by <i>someone</i>, but from what I&#39;ve come to understand from reading up on this, the only technical reason why this occurs is because semi-colons were made optional.  In effect the compiler inserts semi-colons on each line under the hood.  Purely a matter of style and the creators decided to force their style preferences on everyone else."}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 5, "last_activity_date": 1542388082, "last_edit_date": 1542388082, "creation_date": 1515897756, "answer_id": 48246232, "question_id": 48245355, "link": "https://stackoverflow.com/questions/48245355/how-to-set-a-non-inline-onclicklistener-in-kotlin/48246232#48246232", "title": "How to set a non-inline OnClickListener in Kotlin?", "body": "<p>Indenting correctly fix the issue.</p>\n\n<pre><code>private val handleButtonClick = View.OnClickListener {  view-&gt;\n    Log.d(\"my_tag\", \"click!\")\n}\n</code></pre>\n\n<p>as mentioned by others, as the <code>view</code> param is the single one and is ignored, you can get rid of it.</p>\n\n<p>if you want using an object:</p>\n\n<pre><code>val handleButtonClick = object : View.OnClickListener {\n    override fun onClick(view: View) {\n        Log.d(\"my_tag\", \"click!\")\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong> : As mentioned by <a href=\"https://stackoverflow.com/questions/48245355/how-to-set-a-non-inline-onclicklistener-in-kotlin#comment83479570_48246232\">@Mango</a>, this is a limitation stated in the <a href=\"http://kotlinlang.org/docs/reference/grammar.html\" rel=\"nofollow noreferrer\">grammar definition</a>.</p>\n"}], "owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2466, "favorite_count": 1, "accepted_answer_id": 48246232, "answer_count": 2, "score": 5, "last_activity_date": 1542388082, "creation_date": 1515886970, "last_edit_date": 1515888825, "question_id": 48245355, "link": "https://stackoverflow.com/questions/48245355/how-to-set-a-non-inline-onclicklistener-in-kotlin", "title": "How to set a non-inline OnClickListener in Kotlin?", "body": "<p>I want to attach a <code>View.OnClickListener</code> to a <code>Button</code>.  I don't want the <code>OnClickListener</code> to be an inline anonymous function definition.  Rather, I want to define it outside the bounds of the <code>onCreateView()</code> function.</p>\n\n<p>In Java, I would do this as follows:</p>\n\n<pre><code>@Override public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                       Bundle savedInstanceState)\n{\n    View view = inflater.inflate(R.layout.my_layout, container, false);\n    View my_btn = view.findViewById(R.id.my_btn);\n    my_btn.setOnClickListener(handleButtonClick);\n    return view;\n}\n\nView.OnClickListener handleButtonClick = new View.OnClickListener()\n{\n    @Override public void onClick(View v) \n    {\n        Log.d(\"my_tag\", \"click!\")\n    }\n}\n</code></pre>\n\n<p>Other answers seems to suggest the following will work, but it does not compile for me:</p>\n\n<pre><code>    override fun onCreateView(name: String?, context: Context?, attrs: AttributeSet?): View\n    {\n        var view = super.onCreateView(name, context, attrs)\n        my_btn.setOnClickListener( handleButtonClick  )\n        return view\n    }\n\n    private val handleButtonClick = View.OnClickListener \n    {  \n        view-&gt;\n        Log.d(\"my_tag\", \"click!\")\n    }\n</code></pre>\n\n<p>What is wrong with the above, and how can I define an <code>OnClickListener</code> as a named property on my <code>Activity</code> class?</p>\n"}, {"tags": ["android", "kotlin", "robolectric", "android-mvp"], "comments": [{"owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "edited": false, "score": 0, "creation_date": 1515896511, "post_id": 48245268, "comment_id": 83474935, "body": "Does the error  occur only in the test? Does it run fine without the test?"}, {"owner": {"reputation": 153, "user_id": 6314640, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/N9SsP.jpg?s=128&g=1", "display_name": "Jakub Anio\u0142a", "link": "https://stackoverflow.com/users/6314640/jakub-anio%c5%82a"}, "reply_to_user": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "edited": false, "score": 0, "creation_date": 1515922063, "post_id": 48245268, "comment_id": 83478984, "body": "Yes, only in the test. I am using EasyMVP everywhere in my app."}, {"owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "edited": false, "score": 0, "creation_date": 1515922256, "post_id": 48245268, "comment_id": 83479027, "body": "Did you tried this with a nullable presenter."}, {"owner": {"reputation": 153, "user_id": 6314640, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/N9SsP.jpg?s=128&g=1", "display_name": "Jakub Anio\u0142a", "link": "https://stackoverflow.com/users/6314640/jakub-anio%c5%82a"}, "reply_to_user": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "edited": false, "score": 0, "creation_date": 1515936630, "post_id": 48245268, "comment_id": 83482665, "body": "Yes, I tried it but it is impossible in EasyMVP."}, {"owner": {"reputation": 18638, "user_id": 981715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6d6386f73f30139271b8f38facf57776?s=128&d=identicon&r=PG", "display_name": "Eugen Martynov", "link": "https://stackoverflow.com/users/981715/eugen-martynov"}, "edited": false, "score": 0, "creation_date": 1517046891, "post_id": 48245268, "comment_id": 83942577, "body": "Are you referring this project <a href=\"https://github.com/JorgeCastilloPrz/EasyMVP\" rel=\"nofollow noreferrer\">github.com/JorgeCastilloPrz/EasyMVP</a>"}, {"owner": {"reputation": 18638, "user_id": 981715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6d6386f73f30139271b8f38facf57776?s=128&d=identicon&r=PG", "display_name": "Eugen Martynov", "link": "https://stackoverflow.com/users/981715/eugen-martynov"}, "edited": false, "score": 0, "creation_date": 1517046965, "post_id": 48245268, "comment_id": 83942591, "body": "It is definitely not annotation processing. Where in EasyMVP presenter is constructed?"}], "owner": {"reputation": 153, "user_id": 6314640, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/N9SsP.jpg?s=128&g=1", "display_name": "Jakub Anio\u0142a", "link": "https://stackoverflow.com/users/6314640/jakub-anio%c5%82a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515887413, "creation_date": 1515886219, "last_edit_date": 1515887413, "question_id": 48245268, "link": "https://stackoverflow.com/questions/48245268/lateinit-property-presenter-has-not-been-initialized-with-easymvp-robolectric-a", "title": "lateinit property presenter has not been initialized with EasyMVP, Robolectric and Kotlin", "body": "<p>I have problem while trying to use Robolectric to test activity which is using EasyMvp.\nAll of the classes are written in Kotlin.</p>\n\n<p>This is beginning of an activity:</p>\n\n<pre><code>@ActivityView(layout = R.layout.activity_access, presenter = AccessPresenterImpl::class)\nclass AccessActivity : BaseActivity(), AccessView {\n\n@Presenter\nlateinit var presenter: AccessPresenter\n\noverride fun providePresenter(): BasePresenter? {\n    return presenter\n}\n</code></pre>\n\n<p>And at the onStart, every activity is initializing extras in presenter.</p>\n\n<p>I was trying to introduce Robolectric tests in my app.</p>\n\n<pre><code>var activity: AccessActivity? = null\nvar loginEditText: EditText? = null\nvar passwordEditText: EditText? = null\n\n@Before\nfun initData() {\n    activity = Robolectric.setupActivity(AccessActivity::class.java)\n    loginEditText = activity?.findViewById(R.id.loginEditText)\n    passwordEditText = activity?.findViewById(R.id.passwordEditText)\n}\n</code></pre>\n\n<p>But while Running the test, I am always getting error:</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property presenter has not been initialized\n</code></pre>\n\n<p>I assume that this is problem with Robolectric annotation proccessing. Is there any solution for that?</p>\n"}, {"tags": ["android", "android-intent", "gradle", "kotlin", "broadcastreceiver"], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1515901551, "post_id": 48245422, "comment_id": 83475709, "body": "<code>First make your BroadcastReceiver static or it&#39;s own class, I am not sure Android can work with non static inner classes.</code> As long as it&#39;s registered dynamically it doesn&#39;t matter where it comes from."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1515901648, "post_id": 48245422, "comment_id": 83475720, "body": "The much more interesting fact is that the receiver expects an intent with data uri starting with &quot;http&quot;, but there&#39;s no <code>outgoingIntent.setData</code> call."}, {"owner": {"reputation": 3, "user_id": 7291968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a264b08b01a1b996a59c558d17f5300?s=128&d=identicon&r=PG&f=1", "display_name": "Hubert jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7291968/hubert-jab%c5%82o%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1515942080, "post_id": 48245422, "comment_id": 83484154, "body": "This turn out to work, however I have tried that before and my application just crashed so I thought that maybe a filter needs a data scheme. Looks like some things like to work only when you ask someone to help and they take a look :) Thanks anyway and sorry for using your time for something so minor :)"}], "tags": [], "owner": {"reputation": 3123, "user_id": 2424415, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/573bc7d4a25d71a48f0e0aa9e5667ce7?s=128&d=identicon&r=PG", "display_name": "elmorabea", "link": "https://stackoverflow.com/users/2424415/elmorabea"}, "is_accepted": true, "score": 0, "last_activity_date": 1515887585, "creation_date": 1515887585, "answer_id": 48245422, "question_id": 48245258, "link": "https://stackoverflow.com/questions/48245258/broadcast-receiver-wont-receive-intent/48245422#48245422", "title": "Broadcast Receiver won&#39;t receive intent", "body": "<p>Try that</p>\n\n<p>First make your BroadcastReceiver static or it's own class, I am not sure Android can work with non static inner classes.</p>\n\n<p>Second, I am not sure why your receiver intent filter has a </p>\n\n<pre><code>filter.addDataScheme(\"http\")\n</code></pre>\n\n<p>But you are missing that from the Intent you are firing from your service, if you don't need it, remove it.</p>\n"}, {"tags": [], "owner": {"reputation": 6301, "user_id": 526635, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/612faad93df3c59c019cd7a7e8614318?s=128&d=identicon&r=PG", "display_name": "Abhinav Manchanda", "link": "https://stackoverflow.com/users/526635/abhinav-manchanda"}, "is_accepted": false, "score": 0, "last_activity_date": 1515912427, "creation_date": 1515912427, "answer_id": 48247302, "question_id": 48245258, "link": "https://stackoverflow.com/questions/48245258/broadcast-receiver-wont-receive-intent/48247302#48247302", "title": "Broadcast Receiver won&#39;t receive intent", "body": "<ol>\n<li>Try removing the data scheme http from the filter. 2. Try adding the category default to the filter.</li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 7291968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a264b08b01a1b996a59c558d17f5300?s=128&d=identicon&r=PG&f=1", "display_name": "Hubert jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7291968/hubert-jab%c5%82o%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 48245422, "answer_count": 2, "score": 0, "last_activity_date": 1515912427, "creation_date": 1515886132, "question_id": 48245258, "link": "https://stackoverflow.com/questions/48245258/broadcast-receiver-wont-receive-intent", "title": "Broadcast Receiver won&#39;t receive intent", "body": "<p>I am trying to put together just a basic IntentService/BroadcastReceiver combo.\nYes, I know that what is currently there isn't really useful, but I just wanted to get the broadcast running.\nThe Service receives my initial intent, but the Receiver doesn't get the return Broadcast (debugger). Other answers didn't help me, and I feel like I've tried everything. It has to be something trivial, but I just can't put my finger on it.</p>\n\n<p>Displaying Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val filter = IntentFilter()\n        filter.addAction(Constants.BROADCAST_ACTION)\n        filter.addDataScheme(\"http\")\n        val dsl  = DownloadStateReceiver()\n        LocalBroadcastManager.getInstance(this).registerReceiver(dsl,filter)\n\n        buttonLogin.setOnClickListener({\n            var loginIntent = Intent(this,RawRestJsonPull::class.java)\n            loginIntent.putExtra(\"userName\",editLogin.text.toString())\n            loginIntent.putExtra(\"password\",editPassword.text.toString())\n            this.startService(loginIntent)\n\n        })\n\n    }\n\n     class DownloadStateReceiver : BroadcastReceiver()\n    {\n        override fun onReceive(currentContext: Context, incomingIntent: Intent) {\n            Log.d(\"?????\",\"d\")\n        }\n\n    }\n}\n</code></pre>\n\n<p>Service and the action constants:</p>\n\n<pre><code>class RawRestJsonPull : IntentService(\"rest\" ) {\n\n    override fun onHandleIntent(incomingIntent: Intent) {\n        var outgoingIntent = Intent(Constants.BROADCAST_ACTION)\n        var status = 0\n        var userName : String? = incomingIntent.getStringExtra(\"userName\")\n        var password : String? = incomingIntent.getStringExtra(\"password\")\n\n        outgoingIntent.putExtra(Constants.EXTENDED_DATA_STATUS,status).putExtra(\"userName\",userName).\n                putExtra(\"password\",password)\n        outgoingIntent.flags = Intent.FLAG_INCLUDE_STOPPED_PACKAGES\n        LocalBroadcastManager.getInstance(this).sendBroadcast(outgoingIntent)\n    }\n\n\n\n}\n\nclass Constants\n{\n    companion object {\n        val BROADCAST_ACTION = \"com.example.hubert1224.xxx.BROADCAST\"\n        val EXTENDED_DATA_STATUS = \"com.example.hubert1224.xxx.STATUS\"\n    }\n}\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.hubert1224.xxx\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;activity\n                android:name=\".MainActivity\"\n                android:windowSoftInputMode=\"stateVisible\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n        &lt;service android:name=\".RawRestJsonPull\" /&gt;\n\n        &lt;receiver android:name=\".MainActivity$DownloadStateReceiver\" /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "nullable"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 2, "creation_date": 1515884199, "post_id": 48244929, "comment_id": 83472787, "body": "The double bang !! shouldn\u2019t be necessary due to smart casting after the null check"}], "answers": [{"comments": [{"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 2, "creation_date": 1515887189, "post_id": 48245018, "comment_id": 83473508, "body": "I actually prefer the 2nd snippet, to me it&#39;s clearer"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1515936016, "post_id": 48245018, "comment_id": 83482482, "body": "The official style guide recommends the 1st version thou"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 3, "last_activity_date": 1515884877, "last_edit_date": 1515884877, "creation_date": 1515883795, "answer_id": 48245018, "question_id": 48244929, "link": "https://stackoverflow.com/questions/48244929/is-there-a-nicer-way-to-write-this-in-kotlin/48245018#48245018", "title": "Is there a nicer way to write this in kotlin?", "body": "<p>One of the way is just checking if result of nullable expression equals <code>true</code>:</p>\n\n<pre><code>isRefreshing = savedInstanceState?.getBoolean(EXTRA_IS_REFRESHING, false) == true\n</code></pre>\n\n<p>Or it may be <strong>elvis</strong> operator:</p>\n\n<pre><code>isRefreshing = savedInstanceState?.getBoolean(EXTRA_IS_REFRESHING, false) ?: false\n</code></pre>\n\n<p>As for me first snippet of code shows intention better, so I prefer it.</p>\n"}, {"tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": false, "score": 1, "last_activity_date": 1515899195, "creation_date": 1515899195, "answer_id": 48246339, "question_id": 48244929, "link": "https://stackoverflow.com/questions/48244929/is-there-a-nicer-way-to-write-this-in-kotlin/48246339#48246339", "title": "Is there a nicer way to write this in kotlin?", "body": "<p>You can remove the <code>if</code> completely in this case and assign <code>isRefreshing</code> to the conditional expression. Additionally, as mentioned by @s1m0nw1, smart-casting removes the need for <code>!!</code> or <code>?.</code>.</p>\n\n<pre><code>isRefreshing = savedInstanceState != null &amp;&amp; \n               savedInstanceState.getBoolean(EXTRA_IS_REFRESHING, false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 0, "last_activity_date": 1515900582, "creation_date": 1515900582, "answer_id": 48246446, "question_id": 48244929, "link": "https://stackoverflow.com/questions/48244929/is-there-a-nicer-way-to-write-this-in-kotlin/48246446#48246446", "title": "Is there a nicer way to write this in kotlin?", "body": "<p>Usually you put more than one thing into saved state. In that case I use this:</p>\n\n<pre><code>if (savedInstanceState != null) {\n    // savedInstanceState is inferred non-null at this point, so no !!.\n    isRefreshing = savedInstanceState.getBoolean(EXTRA_IS_REFRESHING, isRefreshing)\n} else {\n    // First start.\n}\n</code></pre>\n\n<p>But that's boring. Since we're in Kotlin, I can also imagine this:</p>\n\n<pre><code>savedInstanceState?.apply {\n    isRefreshing = getBoolean(EXTRA_IS_REFRESHING, isRefreshing)\n} ?: run {\n    // First start.\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>savedInstanceState?.also {\n    isRefreshing = it.getBoolean(EXTRA_IS_REFRESHING, isRefreshing)\n} // ...\n</code></pre>\n"}], "owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 48245018, "answer_count": 3, "score": 1, "last_activity_date": 1515900582, "creation_date": 1515882962, "last_edit_date": 1515883180, "question_id": 48244929, "link": "https://stackoverflow.com/questions/48244929/is-there-a-nicer-way-to-write-this-in-kotlin", "title": "Is there a nicer way to write this in kotlin?", "body": "<p>This is my current code:</p>\n\n<pre><code>private val EXTRA_IS_REFRESHING = \"IS_REFRESHING\"\nprivate var isRefreshing: Boolean = false\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    isRefreshing = if (savedInstanceState != null)        \n        savedInstanceState!!.getBoolean(EXTRA_IS_REFRESHING, false) \n        else false\n}\n</code></pre>\n\n<p>Is there a nicer way in Kotlin to write the last line?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1515899829, "post_id": 48244734, "comment_id": 83475434, "body": "<a href=\"https://stackoverflow.com/questions/45875491/what-is-a-receiver-in-kotlin\" title=\"what is a receiver in kotlin\">stackoverflow.com/questions/45875491/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 19, "last_activity_date": 1524487498, "last_edit_date": 1524487498, "creation_date": 1515881746, "answer_id": 48244776, "question_id": 48244734, "link": "https://stackoverflow.com/questions/48244734/what-does-classname-mean-in-kotlin/48244776#48244776", "title": "What does &lt;ClassName&gt;.() mean in Kotlin?", "body": "<h3>Quick answer</h3>\n\n<pre><code>block: SCRIPT.() -&gt; Unit = {}\n</code></pre>\n\n<p>This represents a \u201c<strong>function literal with receiver\u201d</strong>. It\u2019s a function parameter with a function type <code>() -&gt; Unit</code> and <code>SCRIPT</code> as it\u2019s <strong>receiver</strong>.</p>\n\n<h3><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\">Function Literals/Lambda with Receiver</a></h3>\n\n<p>Kotlin supports the concept of \u201cfunction literals with receivers\u201d. It enables the access on visible methods and properties of a <strong>receiver</strong> of a lambda in its body <em>without any specific qualifiers</em>. This is very <strong>similar to extension functions</strong> in which it\u2019s also possible to access visible members of the receiver object inside the extension. </p>\n\n<p>A simple example, also one of the greatest functions in the Kotlin standard library, is<code>apply</code>:</p>\n\n<pre><code>public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n\n<p>As you can see, such a function literal with receiver is taken as the argument <code>block</code> here. This block is simply executed and the receiver (which is an instance of <code>T</code>) is returned. In action this looks as follows:</p>\n\n<pre><code>val foo: Bar = Bar().apply {\n    color = RED\n    text = \"Foo\"\n}\n</code></pre>\n\n<p>We instantiate an object of <code>Bar</code> and call <code>apply</code> on it. The instance of <code>Bar</code> becomes the \u201creceiver\u201d. The <code>block</code>, passed as an argument in <code>{}</code>(lambda expression) does not need to use additional qualifiers to access and modify the shown visible properties <code>color</code> and <code>text</code>.</p>\n\n<p>The concept of lambdas with receiver is also the most important feature for writing DSLs with Kotlin. </p>\n"}], "owner": {"reputation": 4669, "user_id": 901460, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f1e8603b5fe65c57596643c50b451996?s=128&d=identicon&r=PG", "display_name": "sat", "link": "https://stackoverflow.com/users/901460/sat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1711, "favorite_count": 5, "accepted_answer_id": 48244776, "answer_count": 1, "score": 12, "last_activity_date": 1524487498, "creation_date": 1515881333, "question_id": 48244734, "link": "https://stackoverflow.com/questions/48244734/what-does-classname-mean-in-kotlin", "title": "What does &lt;ClassName&gt;.() mean in Kotlin?", "body": "<p>Not sure what this means but I came across this syntax in the kotlin html codebase. What does SCRIPT.() mean?</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.html/blob/master/shared/src/main/kotlin/generated/gen-tag-unions.kt#L143\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.html/blob/master/shared/src/main/kotlin/generated/gen-tag-unions.kt#L143</a></p>\n\n<pre><code>fun FlowOrPhrasingOrMetaDataContent.script(type : String? = null, src : String? = null, block : SCRIPT.() -&gt; Unit = {}) : Unit = SCRIPT(attributesMapOf(\"type\", type,\"src\", src), consumer).visit(block)\n</code></pre>\n\n<p>SCRIPT is a class - <a href=\"https://github.com/Kotlin/kotlinx.html/blob/master/shared/src/main/kotlin/generated/gen-tags-s.kt\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.html/blob/master/shared/src/main/kotlin/generated/gen-tags-s.kt</a>. </p>\n\n<p>Or more generally, what does <code>&lt;ClassName&gt;.()</code> mean in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-mediaplayer", "android-button"], "answers": [{"comments": [{"owner": {"reputation": 2241, "user_id": 2430217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cb77ee4f9996a9e80fbb6982656c2b?s=128&d=identicon&r=PG", "display_name": "Ihab Shoully", "link": "https://stackoverflow.com/users/2430217/ihab-shoully"}, "edited": false, "score": 1, "creation_date": 1515973175, "post_id": 48250540, "comment_id": 83493274, "body": "This cool, now it&#39;s working ..  I also added : [ mediaplayer.setOnPreparedListener( { mp -&gt; mp.start() })  mp.prepareAsync() ] in case MediaPlayer is not ready."}], "tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": true, "score": 1, "last_activity_date": 1515983579, "last_edit_date": 1592644375, "creation_date": 1515939997, "answer_id": 48250540, "question_id": 48244573, "link": "https://stackoverflow.com/questions/48244573/how-to-apply-start-stop-sound-method-using-togglebutton/48250540#48250540", "title": "How to apply start/stop sound method using ToggleButton?", "body": "<p>Please take a deep look into the <a href=\"https://developer.android.com/reference/android/media/MediaPlayer.html\" rel=\"nofollow noreferrer\">MediaPlayer javadoc</a>.\nThere you can read something like this:</p>\n<blockquote>\n<p>Calling stop() stops playback and causes a MediaPlayer in the Started, Paused, Prepared or PlaybackCompleted state to enter the Stopped state.</p>\n<ul>\n<li>Once in the Stopped state, playback cannot be started until prepare() or prepareAsync() are called to set the MediaPlayer object to the Prepared state again.</li>\n</ul>\n</blockquote>\n<p>Basically it means you have to call <code>prepare()</code> before you call <code>start()</code> again:</p>\n<pre><code>fun BackgroundMusic() {\n\n    val mp = MediaPlayer.create(this, R.raw.sudani)\n    mp.start()\n\n    music.setOnClickListener {\n        if (mp.isPlaying) {\n            mp.stop()\n        } else if (!mp.isPlaying) {\n            try {\n                mp.prepare()\n                mp.start()\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2241, "user_id": 2430217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cb77ee4f9996a9e80fbb6982656c2b?s=128&d=identicon&r=PG", "display_name": "Ihab Shoully", "link": "https://stackoverflow.com/users/2430217/ihab-shoully"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 1, "accepted_answer_id": 48250540, "answer_count": 1, "score": -1, "last_activity_date": 1515983579, "creation_date": 1515879865, "last_edit_date": 1515973338, "question_id": 48244573, "link": "https://stackoverflow.com/questions/48244573/how-to-apply-start-stop-sound-method-using-togglebutton", "title": "How to apply start/stop sound method using ToggleButton?", "body": "<p>How to apply start/stop function for <code>ToggleButton</code> or normal <code>Button</code>?</p>\n\n<p>The problem is it doesn't stop/start after the first attempt! It works only once (it should change every time the user clicked the button).</p>\n\n<p><strong>Music ToggleButton</strong> </p>\n\n<pre><code>&lt;ToggleButton\n        android:id=\"@+id/music\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:text=\"ToggleButton\" /&gt;\n</code></pre>\n\n<p><strong>Background Music function</strong></p>\n\n<pre><code>fun BackgroundMusic() {\n\n    val mp = MediaPlayer.create(this, R.raw.sudani)\n    mp.start()\n\n    music.setOnClickListener {\n        if (mp.isPlaying) {\n            mp.stop()\n        } else if (!mp.isPlaying) {\n            mp.start()\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin", "noclassdeffounderror"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515875766, "post_id": 48244048, "comment_id": 83470624, "body": "Step One is to analyze the real error, which is the nested <code>ClassNotFoundException</code>. <code>ClassNotFoundError</code> is what you get every time you try to refer to a class whose lookup already failed before."}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515876352, "post_id": 48244048, "comment_id": 83470772, "body": "The way I understand it, for some reason the RequireNodeParser.kt file was not compiled, although it has been referenced, and that is the reason. But why was it not compiled? Or am I totally wrong here?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515876407, "post_id": 48244048, "comment_id": 83470792, "body": "There are other options: its initialization may have failed. This is why it is critical that you inspect the root cause of the <code>ClassNotFoundError</code>, you may find an <code>ExceptionInInitializerError</code>, this one again having the actual exception that caused it to fail."}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515925332, "post_id": 48244048, "comment_id": 83479679, "body": "Shouldn&#39;t there still be a .class file in that case? The stacktrace of the cause looks pretty much the same. I don&#39;t know how to begin to understand it. can you refer to any resources, that explain any possible causes?"}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515927145, "post_id": 48244048, "comment_id": 83480110, "body": "Solved it - iun the end, the reason was embarrassingly simple: RequireNodeParser.java was java, not kotlin. But I had only applied the kotlin plugin in the gradle config."}], "owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515924980, "creation_date": 1515875496, "last_edit_date": 1515924980, "question_id": 48244048, "link": "https://stackoverflow.com/questions/48244048/how-to-debug-noclassdeffounderror-gradle-kotlin", "title": "How to Debug NoClassDefFoundError (Gradle, Kotlin)", "body": "<p>With my kotlin project at Runtime I get the following error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/julianjarecki/latextemplates/lib/jtwig/RequireNodeParser\n    at com.julianjarecki.latextemplates.lib.jtwig.RequireNodeParserProvider.&lt;init&gt;(RequireNodeParserProvider.kt:8)\n    at com.julianjarecki.latextemplates.lib.jtwig.RequireExtension.configure(RequireExtension.kt:11)\n    at org.jtwig.environment.EnvironmentFactory.create(EnvironmentFactory.java:60)\n    at com.julianjarecki.latextemplates.lib.jtwig.LatexTemplate.getLatexRequireEnvironment(LatexParser.kt:76)\n    at com.julianjarecki.latextemplates.lib.jtwig.LatexTemplate.access$getLatexRequireEnvironment$p(LatexParser.kt:68)\n    at com.julianjarecki.latextemplates.lib.jtwig.LatexTemplate$template$2.invoke(LatexParser.kt:73)\n    at com.julianjarecki.latextemplates.lib.jtwig.LatexTemplate$template$2.invoke(LatexParser.kt:68)\n    at com.julianjarecki.latextemplates.lib.UpdatableLazy.getValue(UpdatableLazy.kt:17)\n    at com.julianjarecki.latextemplates.lib.jtwig.LatexTemplate.getTemplate(LatexParser.kt)\n    at com.julianjarecki.latextemplates.view.MainView$root$1$4$1$1$2.invoke(MainView.kt:133)\n    at com.julianjarecki.latextemplates.view.MainView$root$1$4$1$1$2.invoke(MainView.kt:35)\n    at tornadofx.NodesKt$onDoubleClick$1.handle(Nodes.kt:484)\n    at tornadofx.NodesKt$onDoubleClick$1.handle(Nodes.kt)\n    at com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n</code></pre>\n\n<p>Indeed, when I look into my buil folder, RequireNodeParser.class is not where it is supposed to be.\nThe class is referenced in RequireNodeParserProvider like this:</p>\n\n<pre><code>package com.julianjarecki.latextemplates.lib.jtwig\n\nimport org.jtwig.parser.addon.AddonParserProvider\nimport org.jtwig.parser.parboiled.node.AddonParser\nimport com.julianjarecki.latextemplates.lib.jtwig.RequireNodeParser\n\nclass RequireNodeParserProvider : AddonParserProvider {\n    override fun keywords(): MutableCollection&lt;String&gt; = mutableListOf(RequireKeywords.REQUIRE.token)\n    override fun parser(): Class&lt;out AddonParser&gt; = RequireNodeParser::class.java\n}\n</code></pre>\n\n<p>How do I even start debugging this Problem?</p>\n\n<p>Edit 1 (Stacktrace of the ClassNotFoundException cause):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tam8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tam8T.png\" alt=\"Stacktrace of the cause\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1515873491, "post_id": 48243711, "comment_id": 83469982, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/read-bytes.html\" rel=\"nofollow noreferrer\"><code>readBytes</code></a>?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515873493, "post_id": 48243711, "comment_id": 83469983, "body": "As far as idiom is concerned, should use <code>bis.use { ... }</code>, which is the equivalent of Java&#39;s try-with-resources. However, I&#39;m more worried by your usage of <code>ArrayList&lt;Int&gt;</code> as a buffer, it&#39;s hugely wasteful."}, {"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1550170648, "post_id": 48243711, "comment_id": 96181734, "body": "You could use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/sequence.html\" rel=\"nofollow noreferrer\"><code>sequence</code></a> with your <code>while (true)</code> loop and <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence-scope/yield.html\" rel=\"nofollow noreferrer\"><code>yield</code></a> to return your buffers lazily. Then do <code>sequence { &#47;* ... *&#47; }.forEach { process(it) }</code>."}], "owner": {"reputation": 38260, "user_id": 58061, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5636ead1ec1a88a9577b69aaa329d8f8?s=128&d=identicon&r=PG", "display_name": "James Allman", "link": "https://stackoverflow.com/users/58061/james-allman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1370, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1515873034, "creation_date": 1515873034, "question_id": 48243711, "link": "https://stackoverflow.com/questions/48243711/idiomatic-way-to-read-a-binary-file-with-kotlin", "title": "Idiomatic way to read a binary file with Kotlin?", "body": "<p>I'm learning Kotlin and need to read a large binary file with carriage return (0x0d) block delimiters.</p>\n\n<p>Is there a more idiomatic method for this example in Kotlin?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val bis = File(args[0]).inputStream().buffered()\n    val buf = ArrayList&lt;Int&gt;()\n    while(true) {\n        val i = bis.read()\n        if (i &lt; 0) break\n        buf.add(i)\n        if (i == 0x0d) {\n            process(buf)\n            buf.clear() \n        }\n    }\n    bis.close()\n}\n</code></pre>\n"}, {"tags": ["java", "windows", "gradle", "kotlin", "cucumber"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515870696, "post_id": 48243125, "comment_id": 83469185, "body": "Can you show the error you are getting?"}, {"owner": {"reputation": 120, "user_id": 8408533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rjcTy.png?s=128&g=1", "display_name": "hoos", "link": "https://stackoverflow.com/users/8408533/hoos"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515877259, "post_id": 48243125, "comment_id": 83471046, "body": "I was getting exactly the same error as has been described in the Gradle Util Plugin readme: Fix for windows gradle long classpath issue. Fixes JavaExec tasks that error out with message &quot;CreateProcess error=206, The filename or extension is too long&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 8408533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rjcTy.png?s=128&g=1", "display_name": "hoos", "link": "https://stackoverflow.com/users/8408533/hoos"}, "is_accepted": false, "score": 1, "last_activity_date": 1515878448, "last_edit_date": 1515878448, "creation_date": 1515871876, "answer_id": 48243547, "question_id": 48243125, "link": "https://stackoverflow.com/questions/48243125/gradle-cucumber-and-windows-command-length/48243547#48243547", "title": "Gradle, Cucumber and Windows command length", "body": "<pre><code>task cucumber() {\ndependsOn assemble, compileTestJava\ndoLast {\n    javaexec {\n        main = \"org.junit.runner.JUnitCore\"\n        classpath = files(\"${buildDir}/mfjars/junitPlatformTest_ManifestJar.jar\")\n        args = ['io.biomex.spog.steps.RunCukesTest']\n    }\n}\n</code></pre>\n\n<p>This works, but not sure if I like the name of the jar or having to reference it in this fashion.</p>\n"}], "owner": {"reputation": 120, "user_id": 8408533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rjcTy.png?s=128&g=1", "display_name": "hoos", "link": "https://stackoverflow.com/users/8408533/hoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515878448, "creation_date": 1515868949, "question_id": 48243125, "link": "https://stackoverflow.com/questions/48243125/gradle-cucumber-and-windows-command-length", "title": "Gradle, Cucumber and Windows command length", "body": "<p>I have been using the <a href=\"https://github.com/viswaramamoorthy/gradle-util-plugins\" rel=\"nofollow noreferrer\">Gradle Util Plugin</a> to overcome the Windows command execution error because of limitation to command line length greater than 32 and this seems to be working for <code>build</code>, <code>bootRun</code> and <code>test</code> tasks, however, for my <code>cucumber</code> task</p>\n\n<pre><code> task cucumber() {\n    dependsOn assemble, compileTestJava\n    doLast {\n        javaexec {\n            main = \"org.junit.runner.JUnitCore\"\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n            args = ['io.biomex.spog.steps.RunCukesTest']\n        }\n    }\n}\n</code></pre>\n\n<p>as you can see the classpath is generated using the various sourceSets which result in the Windows command exceeding the length limitation. Can anyone advise how I can change the above task to utilize the Manifest jar created by the util plugin or a provide an alternative solution? </p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 1636, "user_id": 1870799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/27b7b7ec5ea21af0864b83d9107ac302?s=128&d=identicon&r=PG", "display_name": "Florian Reisinger", "link": "https://stackoverflow.com/users/1870799/florian-reisinger"}, "is_accepted": false, "score": 23, "last_activity_date": 1532287099, "last_edit_date": 1532287099, "creation_date": 1515864661, "answer_id": 48242438, "question_id": 48242437, "link": "https://stackoverflow.com/questions/48242437/how-to-add-a-maven-repository-by-url-using-kotlinscript-dsl-build-gradle-kts/48242438#48242438", "title": "How to add a maven repository by url using kotlinscript DSL (build.gradle.kts)", "body": "<p>At 2018-01-13 the correct syntax is the following (instead of <code>url</code>, the function <code>setUrl</code>):</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        setUrl(\"&lt;MAVEN REPO URL&gt;\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1636, "user_id": 1870799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/27b7b7ec5ea21af0864b83d9107ac302?s=128&d=identicon&r=PG", "display_name": "Florian Reisinger", "link": "https://stackoverflow.com/users/1870799/florian-reisinger"}, "edited": false, "score": 1, "creation_date": 1515919867, "post_id": 48243501, "comment_id": 83478502, "body": "Which version are we talking about? I am using the Kotlin plugin &quot;1.2.10-release-IJ2017.3-1&quot; and Kotlin version &quot;1.2.10&quot; and your syntax is producing the following error &quot;None of the following functions can be called with the argument supplied&quot; - so how to check for your version? I do not know where to check or get this version (of the Kotlin DSL for Gradle). I also do not have any plugin updates pending."}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 1636, "user_id": 1870799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/27b7b7ec5ea21af0864b83d9107ac302?s=128&d=identicon&r=PG", "display_name": "Florian Reisinger", "link": "https://stackoverflow.com/users/1870799/florian-reisinger"}, "edited": false, "score": 0, "creation_date": 1515944066, "post_id": 48243501, "comment_id": 83484740, "body": "@FlorianReisinger I&#39;ve updated my answer a little bit. The Kotlin version or plugin you use in your build (say with <code>id &quot;org.jetbrains.kotlin.jvm&quot; version &quot;1.2.10&quot;)</code>) is different than the Kotlin version Gradle uses to execute the build."}, {"owner": {"reputation": 1636, "user_id": 1870799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/27b7b7ec5ea21af0864b83d9107ac302?s=128&d=identicon&r=PG", "display_name": "Florian Reisinger", "link": "https://stackoverflow.com/users/1870799/florian-reisinger"}, "edited": false, "score": 0, "creation_date": 1515957574, "post_id": 48243501, "comment_id": 83489034, "body": "Just checked, I had the 4.0 Gracie wrapper :)"}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": true, "score": 98, "last_activity_date": 1515944002, "last_edit_date": 1515944002, "creation_date": 1515871554, "answer_id": 48243501, "question_id": 48242437, "link": "https://stackoverflow.com/questions/48242437/how-to-add-a-maven-repository-by-url-using-kotlinscript-dsl-build-gradle-kts/48243501#48243501", "title": "How to add a maven repository by url using kotlinscript DSL (build.gradle.kts)", "body": "<p>As an addition to the other answers, in <a href=\"https://github.com/gradle/kotlin-dsl/issues/256\" rel=\"noreferrer\">#kotlin-dsl/256</a> shortcut methods were added to the various repository methods to do something like the following:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>repositories {\n  mavenCentral()\n  maven(url = \"&lt;MAVEN REPO URL&gt;\")\n}\n</code></pre>\n\n<p>According to the issue, this was added in the Kotlin DSL version <code>0.11.1</code>. The <code>0.11.x</code> versions were included in the <a href=\"https://docs.gradle.org/4.2/release-notes.html\" rel=\"noreferrer\">Gradle 4.2 release</a>.</p>\n\n<p>To see the Gradle version you are running with your build when using the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Gradle wrapper</a> run <code>./gradlew --version</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 6105522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e3fd96658ebf3eb58fe14ab81ef9b3?s=128&d=identicon&r=PG&f=1", "display_name": "monsterkrampe", "link": "https://stackoverflow.com/users/6105522/monsterkrampe"}, "edited": false, "score": 0, "creation_date": 1605623110, "post_id": 61339469, "comment_id": 114702965, "body": "I was looking precisely for the translation of the Gitlab example and could not figure out how to do it for the <code>HttpHeaderAuthentication</code>. Thank you very much!"}, {"owner": {"reputation": 442, "user_id": 1040484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32d968bdf8b70b1f944d455ae2c48c41?s=128&d=identicon&r=PG", "display_name": "CatalinM", "link": "https://stackoverflow.com/users/1040484/catalinm"}, "edited": false, "score": 0, "creation_date": 1607436594, "post_id": 61339469, "comment_id": 115267518, "body": "Thanks! This got me out of a pinch trying to get packages from GitLab. The URL issue is caused by some GitLab strangeness (and bad documentation). You can only publish to project registry URLs, but you can read from group URLs. Therefore, you always need to use the project registry (as you specified) when publishing, but in your parent projects, it&#39;s easier to specify just the group URL once."}], "tags": [], "owner": {"reputation": 4001, "user_id": 159178, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/256b5f2724d20cd0bc9d9bf1a4b4c531?s=128&d=identicon&r=PG", "display_name": "Fletch", "link": "https://stackoverflow.com/users/159178/fletch"}, "is_accepted": false, "score": 13, "last_activity_date": 1587461632, "last_edit_date": 1587461632, "creation_date": 1587458996, "answer_id": 61339469, "question_id": 48242437, "link": "https://stackoverflow.com/questions/48242437/how-to-add-a-maven-repository-by-url-using-kotlinscript-dsl-build-gradle-kts/61339469#61339469", "title": "How to add a maven repository by url using kotlinscript DSL (build.gradle.kts)", "body": "<p>The <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:authentication_schemes\" rel=\"noreferrer\">official doco</a> allows you to switch the examples between the Groovy and Kotlin DSLs. Currently the answer listed there to your question is:</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url = uri(\"&lt;MAVEN REPO URL&gt;\")\n    }\n}\n</code></pre>\n\n<p>I needed to add Gitlab with authentication, which has a more complicated syntax. For others that stumble upon this, here is the official Gitlab example translated to the kts/Kotlin syntax.</p>\n\n<pre><code>val gitLabPrivateToken: String by project\n\nmaven {\n    url = uri(\"https://&lt;gitlab-url&gt;/api/v4/groups/&lt;group&gt;/-/packages/maven\")\n    name = \"GitLab\"\n    credentials(HttpHeaderCredentials::class) {\n        name = \"Private-Token\"\n        value = gitLabPrivateToken\n    }\n    authentication {\n        create&lt;HttpHeaderAuthentication&gt;(\"header\")\n    }\n}\n</code></pre>\n\n<p>The example URL here is true to Gitlab doco. But for me, it only worked with a URL like this: \n<code>https://gitlab.com/api/v4/projects/12345/packages/maven</code></p>\n"}, {"tags": [], "owner": {"reputation": 8000, "user_id": 1594823, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Vm3pF.png?s=128&g=1", "display_name": "Saikat", "link": "https://stackoverflow.com/users/1594823/saikat"}, "is_accepted": false, "score": 0, "last_activity_date": 1605095173, "creation_date": 1605095173, "answer_id": 64785822, "question_id": 48242437, "link": "https://stackoverflow.com/questions/48242437/how-to-add-a-maven-repository-by-url-using-kotlinscript-dsl-build-gradle-kts/64785822#64785822", "title": "How to add a maven repository by url using kotlinscript DSL (build.gradle.kts)", "body": "<p>You can add a custom Maven URL in the following way as per official <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:maven_repo\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<pre><code>repositories {\n    maven {\n        url = uri(&quot;&lt;your-custom-url&gt;&quot;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1636, "user_id": 1870799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/27b7b7ec5ea21af0864b83d9107ac302?s=128&d=identicon&r=PG", "display_name": "Florian Reisinger", "link": "https://stackoverflow.com/users/1870799/florian-reisinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17155, "favorite_count": 3, "accepted_answer_id": 48243501, "answer_count": 4, "score": 59, "last_activity_date": 1605095173, "creation_date": 1515864661, "last_edit_date": 1515876426, "question_id": 48242437, "link": "https://stackoverflow.com/questions/48242437/how-to-add-a-maven-repository-by-url-using-kotlinscript-dsl-build-gradle-kts", "title": "How to add a maven repository by url using kotlinscript DSL (build.gradle.kts)", "body": "<p>Whats the equivalent of the following code snippet from a <code>build.gradle</code> in a <code>build.gradle.kts</code> version?</p>\n\n<pre><code>repositories {\n  mavenCentral()\n  maven {\n    url '&lt;MAVEN REPO URL&gt;'\n  }\n}\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515856213, "post_id": 48241124, "comment_id": 83464583, "body": "Can you post the stack trace you are getting? It seems odd that you can test for empty and then get an NPE right away. Perhaps something inside the <code>toObjects</code> function?"}, {"owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1515858088, "post_id": 48241124, "comment_id": 83465149, "body": "@Todd I just added the stack trace."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515858281, "post_id": 48241124, "comment_id": 83465196, "body": "Sorry, one more thing. Can we get the code for Reminder?"}, {"owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515859690, "post_id": 48241124, "comment_id": 83465646, "body": "@Todd Sure. Sorry for not adding it sooner."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515859749, "post_id": 48241124, "comment_id": 83465664, "body": "Try creating that as a class with a default (zero argument) constructor."}, {"owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1515861082, "post_id": 48241124, "comment_id": 83466066, "body": "Thank you for suggesting that! It&#39;s strange that a zero argument constructor solves it because I also have a class Task which doesn&#39;t have one. I&#39;m calling <code>toObject(Task::class.java)</code> on DocumentReference (not CollectionReference) and there&#39;s no problem with that."}], "answers": [{"tags": [], "owner": {"reputation": 332, "user_id": 6336839, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ncmCo.jpg?s=128&g=1", "display_name": "NickitaX", "link": "https://stackoverflow.com/users/6336839/nickitax"}, "is_accepted": true, "score": 3, "last_activity_date": 1520935626, "creation_date": 1520935626, "answer_id": 49253335, "question_id": 48241124, "link": "https://stackoverflow.com/questions/48241124/cloud-firestore-querysnapshot-toobjects-throws-null-pointer-exception/49253335#49253335", "title": "Cloud Firestore - QuerySnapshot.toObjects Throws Null Pointer Exception", "body": "<p>If you carefully read documentation for Cloud Firestore query requirements for mapping Custom objects <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">here</a>, there will be notice:</p>\n\n<blockquote>\n  <p>Important: Each custom class must have a public constructor that takes\n  no arguments. In addition, the class must include a public getter for\n  each property.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 9950762, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tn83M6DosPk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq19mLJNC9OTZn7kf_ReWfhNhbXOZQ/mo/photo.jpg?sz=128", "display_name": "Neeraj Sameer", "link": "https://stackoverflow.com/users/9950762/neeraj-sameer"}, "is_accepted": false, "score": 0, "last_activity_date": 1529506014, "creation_date": 1529506014, "answer_id": 50950989, "question_id": 48241124, "link": "https://stackoverflow.com/questions/48241124/cloud-firestore-querysnapshot-toobjects-throws-null-pointer-exception/50950989#50950989", "title": "Cloud Firestore - QuerySnapshot.toObjects Throws Null Pointer Exception", "body": "<p>Make Sure that you change the rules in the Firestore</p>\n\n<p>For rules go to <a href=\"https://firebase.google.com/docs/firestore/quickstart#secure_your_data\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/quickstart#secure_your_data</a> and copy the rules of testmode and paste them in the firestore rules</p>\n\n<p>It take 10 minutes to change the rules.So run the app again after 10 minutes</p>\n"}], "owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3255, "favorite_count": 0, "accepted_answer_id": 49253335, "answer_count": 2, "score": 2, "last_activity_date": 1529506014, "creation_date": 1515855884, "last_edit_date": 1515859643, "question_id": 48241124, "link": "https://stackoverflow.com/questions/48241124/cloud-firestore-querysnapshot-toobjects-throws-null-pointer-exception", "title": "Cloud Firestore - QuerySnapshot.toObjects Throws Null Pointer Exception", "body": "<p>I've stumbled upon a strange problem. I'm trying to accomplish a simple thing - convert everything from a QuerySnapshot to a collection of a certain type.</p>\n\n<pre><code>fun createReminder(reminder: Reminder) = \n    remindersCollectionRef.document(\"${reminder.taskId}\").set(reminder)\n\nfun tryRemoveReminder(taskId: Int) = \n    remindersCollectionRef.document(\"$taskId\").delete()\n\nfun getReminders(onComplete: (List&lt;Reminder&gt;) -&gt; Unit) {\n    remindersCollectionRef.get()\n        .addOnSuccessListener { querySnapshot -&gt;\n            if (!querySnapshot.isEmpty)\n                 onComplete(querySnapshot.toObjects(Reminder::class.java))\n            }\n        }\n</code></pre>\n\n<p>The problem is in the getReminders function. I know that there is one reminder in the collection. It is also 100% of type Reminder and as you can see I already check if querySnapshot is not empty. Still, I get a null pointer exception when I call toObjects.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[])' on a null object reference\nat com.google.android.gms.internal.zzevb$zza.zza(Unknown Source:57)\nat com.google.android.gms.internal.zzevb.zza(Unknown Source:1025)\nat com.google.android.gms.internal.zzevb.zza(Unknown Source:2)\nat com.google.firebase.firestore.DocumentSnapshot.toObject(Unknown Source:10)\nat com.google.firebase.firestore.QuerySnapshot.toObjects(Unknown Source:27)\nat com.mypackage.util.FirestoreUtil$Companion$getReminders$1.onSuccess(FirestoreUtil.kt:131)\nat com.mypackage.util.FirestoreUtil$Companion$getReminders$1.onSuccess(FirestoreUtil.kt:18)\nat com.google.android.gms.tasks.zzj.run(Unknown Source:27)\nat android.os.Handler.handleCallback(Handler.java:789)\nat android.os.Handler.dispatchMessage(Handler.java:98)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6541)                                                                                      at java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n\n<p>Reminder class:</p>\n\n<pre><code>data class Reminder(val taskDocRef: DocumentReference, val taskId: Int)\n</code></pre>\n\n<p>This issue seems really strange to me. I will appreciate your help :)  </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9212798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48aa176dc0d0496af08ce521d7b6246a?s=128&d=identicon&r=PG&f=1", "display_name": "HakunaMatata", "link": "https://stackoverflow.com/users/9212798/hakunamatata"}, "edited": false, "score": 1, "creation_date": 1515852004, "post_id": 48240485, "comment_id": 83463415, "body": "Thank you for the detailed answer"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 7, "last_activity_date": 1515852347, "last_edit_date": 1515852347, "creation_date": 1515851219, "answer_id": 48240485, "question_id": 48240447, "link": "https://stackoverflow.com/questions/48240447/explanation-as-to-why-this-string-comparison-results-in-false/48240485#48240485", "title": "Explanation as to why this String comparison results in false?", "body": "<p>The sorting does not ignore cases, here's what you're actually comparing:</p>\n\n<pre><code>//Caehorrst vs. Oacehrrst\n</code></pre>\n\n<p>Try the following instead:</p>\n\n<pre><code>val s1 = String(\"Carthorse\".toLowerCase().toCharArray().sortedArray())\nval s2 = String(\"Orchestra\".toLowerCase().toCharArray().sortedArray())\nprintln(\"$s1 vs. $s2, equal? ${s1==s2}\")\n//acehorrst vs. acehorrst, equal? true\n</code></pre>\n\n<p>Or with a bit more <code>fun</code>:</p>\n\n<pre><code>fun String.sortedCaseIgnore() = \n    String(toLowerCase().toCharArray().sortedArray())\nval s1 = \"Carthorse\".sortedCaseIgnore()\nval s2 = \"Orchestra\".sortedCaseIgnore()\n</code></pre>\n\n<p>And btw, use <code>println()</code> in favor of <code>System.out.println()</code>, here's its definition (part of Kotlin's standard library, no explicit import required):</p>\n\n<pre><code>public inline fun println(message: Any?) {\n    System.out.println(message)\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9212798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48aa176dc0d0496af08ce521d7b6246a?s=128&d=identicon&r=PG&f=1", "display_name": "HakunaMatata", "link": "https://stackoverflow.com/users/9212798/hakunamatata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 48240485, "answer_count": 1, "score": 4, "last_activity_date": 1515852347, "creation_date": 1515850971, "last_edit_date": 1515851075, "question_id": 48240447, "link": "https://stackoverflow.com/questions/48240447/explanation-as-to-why-this-string-comparison-results-in-false", "title": "Explanation as to why this String comparison results in false?", "body": "<p>Could anyone explain why the following line of code results in false.</p>\n\n<p>The code returns true if the Strings aren't capitalized. Shouldn't ignoring the case mean the result is the same?</p>\n\n<pre><code>System.out.print(\n    String(\"Carthorse\".toCharArray().sortedArray())\n   .equals(String(\"Orchestra\".toCharArray().sortedArray()),true)\n)\n</code></pre>\n"}, {"tags": ["constructor", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1515848476, "creation_date": 1515848476, "answer_id": 48240103, "question_id": 48239765, "link": "https://stackoverflow.com/questions/48239765/is-order-of-calls-within-a-constructor-guaranteed/48240103#48240103", "title": "Is order of calls within a constructor guaranteed", "body": "<p>The <a href=\"https://jetbrains.github.io/kotlin-spec/#_order_of_evaluation\" rel=\"nofollow noreferrer\">Kotlin Language Specification</a> has this to say about it (emphasis mine):</p>\n\n<blockquote>\n  <p>16.39. Order of Evaluation\n  Generally, the order of evaluation is left to right, non-lazy (eager). Some expressions have special rules for order of evaluation of their constituent parts (some of them may be not evaluated at all). <strong>Order of evaluation of named arguments corresponds to their order at the invocation site, not the declaration site.</strong></p>\n  \n  <p>TODO</p>\n</blockquote>\n"}], "owner": {"reputation": 195, "user_id": 2396516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rkNYc.jpg?s=128&g=1", "display_name": "mpts.cz", "link": "https://stackoverflow.com/users/2396516/mpts-cz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 48240103, "answer_count": 1, "score": 1, "last_activity_date": 1515848476, "creation_date": 1515845632, "question_id": 48239765, "link": "https://stackoverflow.com/questions/48239765/is-order-of-calls-within-a-constructor-guaranteed", "title": "Is order of calls within a constructor guaranteed", "body": "<p>Suppose I have a Kotlin (data) class with the primary constructor and a secondary one which fills vals/vars of the primary one with calling some methods (see the example). My question is whether the order in which these methods are being called is guaranteed, i.e. whether in my example <code>checkConsitency</code> would <strong>always</strong> get called before <code>extractNames</code>.</p>\n\n<pre><code>data class LawAndOrder(val sherifs: Int, val names: List&lt;String&gt;) {\n    constructor(westerners: List&lt;Westerner&gt;) :\n            this(sherifs = westerners.checkConsistency(),\n                 names = westerners.extractNames())\n}\n\ndata class Westerner(val name: String) {\n    val isCriminal: Boolean\n        get() = name == \"Jesse James\"\n}\n\nprivate fun List&lt;Westerner&gt;.checkConsistency(): Int {\n    println(\"Checking consistency\")\n    if (isEmpty()) throw IllegalArgumentException(\"Crime and chaos\")\n    if (any { it.isCriminal }) throw IllegalArgumentException(\"Inadmissible\")\n    return size\n}\n\nprivate fun List&lt;Westerner&gt;.extractNames(): List&lt;String&gt; {\n    println(\"Extracting names\")\n    return map { it.name }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val westerners = listOf(Westerner(\"John Wayne\"), Westerner(\"Limon\u00e1dov\u00fd Joe\"))\n    val lawAndOrder = LawAndOrder(westerners)\n    println(lawAndOrder)\n}\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin", "material-design", "android-design-library"], "answers": [{"tags": [], "owner": {"reputation": 4571, "user_id": 1607191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLqoh.jpg?s=128&g=1", "display_name": "Omid Heshmatinia", "link": "https://stackoverflow.com/users/1607191/omid-heshmatinia"}, "is_accepted": true, "score": 11, "last_activity_date": 1516211045, "creation_date": 1516211045, "answer_id": 48307028, "question_id": 48236016, "link": "https://stackoverflow.com/questions/48236016/how-to-accomplish-this-animation-on-cardview-with-coordinator-layout-and-behavio/48307028#48307028", "title": "How to accomplish this animation on CardView with Coordinator Layout and Behavior?", "body": "<p>Here you are :</p>\n\n<p><a href=\"https://i.stack.imgur.com/0VpnX.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0VpnX.gif\" alt=\"screenShot of the result\"></a></p>\n\n<p>There are a Few Important notes:</p>\n\n<ul>\n<li>because we define the recycler in the scrollview, it wont recycle the views!!!! so try to not put many graphical objects in your list</li>\n<li>Views height and width should be calculated after the whole view is created. otherwise you will get zero. That is why i use <code>globalLayoutListener</code></li>\n</ul>\n\n<p>I declare my activity as this :</p>\n\n<pre><code>public class CustomCardAnimationActivity extends AppCompatActivity {\n\n\nNestedScrollView scrollView;\nRecyclerView recyclerView;\nCardView cardView;\nTextView tvToday;\nTextView tvTodayPrice;\nTextView tvTodayDelivery;\nTextView tvWeek;\nTextView tvWeekPrice;\nTextView tvWeekDelivery;\nint cardHeight;\nint textViewHeight;\nfloat tvTitleTodayX;\nfloat tvPriceTodayX;\nfloat tvTitleWeekX;\nfloat tvPriceWeekX;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.activity_custom_card_animation);\n\n    recyclerView= (RecyclerView) findViewById(R.id.recyclerView);\n    scrollView= (NestedScrollView) findViewById(R.id.nested_scrollView);\n    cardView= (CardView) findViewById(R.id.cardView);\n    tvToday=(TextView) findViewById(R.id.textView_today);\n    tvTodayPrice=(TextView) findViewById(R.id.textView_today_price);\n    tvTodayDelivery=(TextView) findViewById(R.id.textView_today_delivery);\n    tvWeek=(TextView) findViewById(R.id.textView_week);\n    tvWeekPrice=(TextView) findViewById(R.id.textView_week_price);\n    tvWeekDelivery=(TextView) findViewById(R.id.textView_week_delivery);\n    scrollView.getViewTreeObserver().addOnScrollChangedListener(new ViewTreeObserver.OnScrollChangedListener() {\n        @Override\n        public void onScrollChanged() {\n            int scrollY = scrollView.getScrollY();\n            FrameLayout.LayoutParams lp = (FrameLayout.LayoutParams) cardView.getLayoutParams();\n            int height = Math.max(textViewHeight,cardHeight-scrollY);\n            lp.height = height;\n            cardView.setLayoutParams(lp);\n\n            // alpha delivery textViews\n            tvTodayDelivery.setAlpha(Math.max(0f,(float) ((cardHeight/2)-scrollY)/(cardHeight/2)));\n            tvWeekDelivery.setAlpha(Math.max(0f,(float) ((cardHeight/2)-scrollY)/(cardHeight/2)));\n\n            // move titles to left\n            float titleMovementChange = Math.max(-scrollY , -textViewHeight);\n            tvToday.setX(tvTitleTodayX + titleMovementChange);\n            tvWeek.setX(tvTitleWeekX + titleMovementChange*1.2f);\n\n            // move prices to right\n            float priceMovementChange = Math.max(-scrollY , -textViewHeight/2);\n            tvTodayPrice.setX(tvPriceTodayX - priceMovementChange);\n            tvWeekPrice.setX(tvPriceWeekX - priceMovementChange * 1.2f);\n        }\n    });\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(new TestListAdapter());\n    recyclerView.setNestedScrollingEnabled(false);\n\n    //if you remove this part, the card would be shown in its minimum state at start\n    recyclerView.post(new Runnable() {\n        @Override\n        public void run() {\n            scrollView.scrollTo(0,0);\n        }\n    });\n\n    // The calculation for heights of views should be done after the view created\n    View rootView = findViewById(R.id.root_view);\n    rootView.getViewTreeObserver().addOnGlobalLayoutListener(\n            new ViewTreeObserver.OnGlobalLayoutListener() {\n                public void onGlobalLayout() {\n                    //Remove the listener before proceeding\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n                        rootView.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                    } else {\n                        rootView.getViewTreeObserver().removeGlobalOnLayoutListener(this);\n                    }\n\n                    // measure your views here\n                    cardHeight = cardView.getHeight();\n                    textViewHeight= tvToday.getHeight();\n                    tvTitleTodayX = tvToday.getX();\n                    tvPriceTodayX = tvTodayPrice.getX();\n                    tvTitleWeekX = tvWeek.getX();\n                    tvPriceWeekX = tvWeekPrice.getX();\n                    scrollView.scrollTo(0,0);\n                }\n            });\n}\n}\n</code></pre>\n\n<p>also my xml is as below :</p>\n\n<pre><code>&lt;FrameLayout\nandroid:id=\"@+id/root_view\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:background=\"#0099cc\"\ntools:context=\"com.bisphone.interviewtest.test.CustomCardAnimationActivity\"&gt;\n\n&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"16dp\"&gt;\n    &lt;android.support.v7.widget.CardView\n        android:id=\"@+id/cardView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:layout_margin=\"16dp\"\n        app:cardElevation=\"4dp\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"horizontal\"&gt;\n        &lt;FrameLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:gravity=\"center\"&gt;\n            &lt;TextView\n                android:id=\"@+id/textView_today\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center\"\n                android:layout_gravity=\"top|center\"\n                android:padding=\"8dp\"\n                android:textSize=\"12sp\"\n                android:text=\"TODAY\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView_today_price\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"800 $\"\n                android:gravity=\"center\"\n                android:padding=\"8dp\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                android:textAlignment=\"center\"\n                android:layout_gravity=\"center\"\n                android:textColor=\"#4caf50\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView_today_delivery\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"18 Deliveries\"\n                android:padding=\"8dp\"\n                android:textSize=\"12sp\"\n                android:layout_gravity=\"bottom|center\"\n                android:gravity=\"center\"/&gt;\n        &lt;/FrameLayout&gt;\n            &lt;FrameLayout\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"1\"\n                android:gravity=\"center\"&gt;\n                &lt;TextView\n                    android:id=\"@+id/textView_week\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:gravity=\"center\"\n                    android:layout_gravity=\"top|center\"\n                    android:textSize=\"12sp\"\n                    android:padding=\"8dp\"\n                    android:text=\"THIS WEEK\"/&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textView_week_price\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"5200 $\"\n                    android:textSize=\"14sp\"\n                    android:gravity=\"center\"\n                    android:layout_gravity=\"center\"\n                    android:textStyle=\"bold\"\n                    android:textAlignment=\"center\"\n                    android:textColor=\"#009688\"/&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textView_week_delivery\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"87 Deliveries\"\n                    android:layout_gravity=\"bottom|center\"\n                    android:textSize=\"12sp\"\n                    android:gravity=\"center\"\n                    android:padding=\"8dp\"/&gt;\n            &lt;/FrameLayout&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/android.support.v7.widget.CardView&gt;\n    &lt;android.support.v7.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;android.support.v4.widget.NestedScrollView\n            android:id=\"@+id/nested_scrollView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n                &lt;FrameLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"100dp\"\n                    android:layout_margin=\"16dp\"/&gt;\n                &lt;android.support.v7.widget.RecyclerView\n                    android:id=\"@+id/recyclerView\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:nestedScrollingEnabled=\"false\"/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\n    &lt;/android.support.v7.widget.CardView&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1602, "favorite_count": 5, "accepted_answer_id": 48307028, "answer_count": 1, "score": 13, "last_activity_date": 1516211045, "creation_date": 1515805529, "last_edit_date": 1515934538, "question_id": 48236016, "link": "https://stackoverflow.com/questions/48236016/how-to-accomplish-this-animation-on-cardview-with-coordinator-layout-and-behavio", "title": "How to accomplish this animation on CardView with Coordinator Layout and Behavior?", "body": "<p>I am trying to accomplish the following effect with coordinator layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BQk4t.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BQk4t.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've spent about 30h+ trying to solve this and I know the way to go is with Coordinator Layout Behavior, but there are a lot of things I am getting wrong.</p>\n\n<p>Here's my xml:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.StatisticsFragment\"&gt;\n\n&lt;!-- TODO: Update blank fragment layout --&gt;\n\n&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@android:color/background_light\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/main.appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"137dp\"\n        android:background=\"@android:color/transparent\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/main.collapsing\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:expandedTitleMarginEnd=\"64dp\"&gt;\n\n            &lt;android.support.v7.widget.CardView\n                android:id=\"@+id/earningsCardView\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"8dp\"\n                android:layout_marginStart=\"8dp\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n                &lt;android.support.constraint.ConstraintLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"&gt;\n\n                    &lt;android.support.v7.widget.AppCompatTextView\n                        android:id=\"@+id/todayLabel\"\n                        android:layout_width=\"108dp\"\n                        android:layout_height=\"26dp\"\n                        android:layout_marginEnd=\"8dp\"\n                        android:layout_marginStart=\"8dp\"\n                        android:layout_marginTop=\"12dp\"\n                        android:gravity=\"center\"\n                        android:text=\"TODAY\"\n                        android:textAlignment=\"center\"\n                        android:textColor=\"@android:color/darker_gray\"\n                        android:textSize=\"18sp\"\n                       app:layout_constraintEnd_toStartOf=\"@+id/guideline\"\n                        app:layout_constraintStart_toStartOf=\"parent\"\n                        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n\n                    &lt;android.support.v7.widget.AppCompatTextView\n                        android:id=\"@+id/weekLabel\"\n                        android:layout_width=\"108dp\"\n                        android:layout_height=\"26dp\"\n                        android:layout_marginEnd=\"8dp\"\n                        android:layout_marginStart=\"8dp\"\n                        android:layout_marginTop=\"12dp\"\n                        android:gravity=\"center\"\n                        android:text=\"WEEK\"\n                        android:textAlignment=\"center\"\n                        android:textColor=\"@android:color/darker_gray\"\n                        android:textSize=\"18sp\"\n                        app:layout_constraintEnd_toEndOf=\"parent\"\n                        app:layout_constraintStart_toStartOf=\"@+id/guideline\"\n                        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n\n                    &lt;android.support.v7.widget.AppCompatTextView\n                        android:id=\"@+id/weekEarningsLabel\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"8dp\"\n                        android:gravity=\"center\"\n                        android:text=\"$800\"\n                        android:textAlignment=\"center\"\n                        android:textColor=\"@color/colorAccent\"\n                        android:textSize=\"32sp\"\n                        app:layout_constraintEnd_toEndOf=\"@+id/todayLabel\"\n                        app:layout_constraintStart_toStartOf=\"@+id/todayLabel\"\n                        app:layout_constraintTop_toBottomOf=\"@+id/todayLabel\" /&gt;\n\n\n                    &lt;android.support.v7.widget.AppCompatTextView\n                        android:id=\"@+id/todayEarningsLabel\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginEnd=\"8dp\"\n                        android:layout_marginTop=\"8dp\"\n                        android:gravity=\"center\"\n                        android:text=\"$5200\"\n                        android:textAlignment=\"center\"\n                        android:textColor=\"@color/green_light\"\n                        android:textSize=\"32sp\"\n                        app:layout_constraintEnd_toEndOf=\"@+id/weekLabel\"\n                        app:layout_constraintStart_toStartOf=\"@+id/weekLabel\"\n                        app:layout_constraintTop_toBottomOf=\"@+id/weekLabel\" /&gt;\n\n                    &lt;android.support.constraint.Guideline\n                        android:id=\"@+id/guideline\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:orientation=\"vertical\"\n                        app:layout_constraintEnd_toEndOf=\"parent\"\n                        app:layout_constraintGuide_percent=\"0.5012658\"\n                        app:layout_constraintHorizontal_bias=\"0.5\"\n                        app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n\n                    &lt;android.support.v7.widget.AppCompatTextView\n                        android:id=\"@+id/todayOrderAmount\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"8dp\"\n                        android:layout_marginBottom=\"16dp\"\n                        android:text=\"18 deliveries\"\n                        android:textSize=\"12sp\"\n                        app:layout_constraintEnd_toEndOf=\"@+id/weekEarningsLabel\"\n                        app:layout_constraintStart_toStartOf=\"@+id/weekEarningsLabel\"\n                        app:layout_constraintTop_toBottomOf=\"@+id/weekEarningsLabel\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/weekOrderAmount\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginEnd=\"8dp\"\n                        android:layout_marginStart=\"8dp\"\n                        android:layout_marginTop=\"8dp\"\n                        android:layout_marginBottom=\"8dp\"\n                        android:text=\"87 deliveries\"\n                        android:textSize=\"12sp\"\n                        app:layout_constraintEnd_toEndOf=\"@+id/todayEarningsLabel\"\n                        app:layout_constraintHorizontal_bias=\"0.51\"\n                        app:layout_constraintStart_toStartOf=\"@+id/todayEarningsLabel\"\n                        app:layout_constraintTop_toBottomOf=\"@+id/todayEarningsLabel\" /&gt;\n\n                &lt;/android.support.constraint.ConstraintLayout&gt;\n\n            &lt;/android.support.v7.widget.CardView&gt;\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/historicRecyclerView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/earningsCardView\" /&gt;\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>I created a behavior subclass to try to animate the today earnings label (in green):</p>\n\n<pre><code>class TodayEarningsLabelBehavior : CoordinatorLayout.Behavior&lt;TextView&gt;() {\n     override fun layoutDependsOn(parent: CoordinatorLayout?, child: TextView?, dependency: View?): Boolean {\n        return dependency is CardView\n     }\n\n     override fun onDependentViewChanged(parent: CoordinatorLayout?, child: TextView?, dependency: View?): Boolean {\n        if (child != null){\n            child.textSize = dependency!!.height / 3.0F\n        }\n\n        return false\n     }\n}\n</code></pre>\n\n<p>But how do I set this behavior in xml through <code>app:layout_behavior</code> to the $800 TextView if it's not a child of <code>CoordinatorLayout</code>? </p>\n\n<p>Any method of solving this problem (which might not involve <code>Coordinator Layout</code>) is more than welcome as well.</p>\n"}, {"tags": ["java", "kotlin", "overriding"], "comments": [{"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 2, "creation_date": 1515800224, "post_id": 48235456, "comment_id": 83453477, "body": "Are you sure m1 is supposed to be static in <code>BaseOne</code>?"}, {"owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "reply_to_user": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515801064, "post_id": 48235456, "comment_id": 83453702, "body": "@kabuko, yep. This case works fine in java"}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 2, "creation_date": 1515801483, "post_id": 48235456, "comment_id": 83453809, "body": "That&#39;s not overriding it. You&#39;re just hiding the base implementation."}, {"owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "reply_to_user": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515801605, "post_id": 48235456, "comment_id": 83453849, "body": "@kabuko, ok. is there equal code for kotlin?"}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515801817, "post_id": 48235456, "comment_id": 83453900, "body": "It might be better to explain what you&#39;re trying to achieve. This is a code smell. Why do you need it to be static? If it really does, then why do you need to hide it in <code>BaseTwo</code>? How are you calling this function? Most likely you would be better served by making it not static."}, {"owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "reply_to_user": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515802219, "post_id": 48235456, "comment_id": 83453999, "body": "@kabuko, I can&#39;t remove <code>static</code>. It&#39;s not my code. I want to rewrite one intellij plugin on Kotlin. There is one significant place, where parser are hooked and create instance of PsiBuilder. (<a href=\"https://github.com/kandeshvari/idea-nim/blob/master/src/org/dmitrigb/ideanim/parser/ParserUtil.java#L160\" rel=\"nofollow noreferrer\">github.com/kandeshvari/idea-nim/blob/master/src/org/dmitrig&zwnj;&#8203;b/&hellip;</a>). It overrides this <a href=\"https://github.com/JetBrains/Grammar-Kit/blob/master/src/org/intellij/grammar/parser/GeneratedParserUtilBase.java#L871\" rel=\"nofollow noreferrer\">github.com/JetBrains/Grammar-Kit/blob/master/src/org/intelli&zwnj;&#8203;j/&hellip;</a>"}, {"owner": {"reputation": 1722, "user_id": 4009768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2caf6cb5f94289530ecba9680935c9b2?s=128&d=identicon&r=PG&f=1", "display_name": "d.j.brown", "link": "https://stackoverflow.com/users/4009768/d-j-brown"}, "edited": false, "score": 3, "creation_date": 1515802253, "post_id": 48235456, "comment_id": 83454010, "body": "I don&#39;t understand why you&#39;d want to do this. Since overriding makes no sense in a static context and instead just adds confusion. It also seems to be illegal in Kotlin <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a> probably for this very reason."}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515802981, "post_id": 48235456, "comment_id": 83454159, "body": "Notice that <code>ParserUtil</code>&#39;s <code>adapt_builder_</code> does not in fact override <code>GeneratedParserUtilBase</code>&#39;s. Just call it something else. Unless there&#39;s some sort of reflection depending on the name (which it could be, I have no idea), it should be fine."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 2, "creation_date": 1515821703, "post_id": 48235456, "comment_id": 83456985, "body": "Overriding a static member is impossible in Java, as well as Kotlin. Your so-called &quot;working example&quot; is wrong, you can verify by adding an <code>@Override</code> annotation."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515841825, "post_id": 48235456, "comment_id": 83460847, "body": "This question is not that bad, why do you downvote it? He&#39;s right, in Java it&#39;s possible to &quot;hide&quot; a static method by providing the same signature in subclasses, this is perfectly legal!"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515850462, "post_id": 48235456, "comment_id": 83462983, "body": "@s1m0nw1 well, hiding isn&#39;t overriding, the question is why the error <code>m1 overrides nothing</code> occurs."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515850645, "post_id": 48235456, "comment_id": 83463033, "body": "Yeah that\u2019s wording..."}, {"owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1515853571, "post_id": 48235456, "comment_id": 83463814, "body": "@Mango, question is how to redefine/override static method. Obviously, I need change class behaviour, rather than academically get to know that static class cannot be <i>overriden</i>."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1515856906, "post_id": 48235456, "comment_id": 83464825, "body": "@dimcha well... Kotlin doesn&#39;t <i>have</i> static methods. That&#39;s probably where your problem is <i>conceptually</i>. Make a <code>companion object</code>. I&#39;ve posted an answer."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1515935107, "post_id": 48235456, "comment_id": 83482222, "body": "As others have stated, your are NOT overriding the method. Try calling &#39;super&#39; in your &#39;overridden&#39; method. These methods are part of the class, and are always part of the class. As others have said, you&#39;re merely &#39;hiding&#39; the other implementation. This is why people are down-voting it. Static methods are utilities methods, and aren&#39;t composed or overridden."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "edited": false, "score": 0, "creation_date": 1515801528, "post_id": 48235493, "comment_id": 83453819, "body": "Sure, if I remove <code>static</code> all ok. But I asked about <code>static</code> case. I have wrote update to question with working java example."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "edited": false, "score": 0, "creation_date": 1528974431, "post_id": 48235493, "comment_id": 88714529, "body": "@dimcha In your java example it uses hiding methods instead of overriding <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/override.html</a>"}], "tags": [], "owner": {"reputation": 665, "user_id": 5477960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoM4w.jpg?s=128&g=1", "display_name": "Jerry Chen", "link": "https://stackoverflow.com/users/5477960/jerry-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1515800355, "creation_date": 1515800355, "answer_id": 48235493, "question_id": 48235456, "link": "https://stackoverflow.com/questions/48235456/how-to-override-java-public-class-method-in-kotlin/48235493#48235493", "title": "How to override java public class method in Kotlin?", "body": "<p>You are override a static method and overriding depends on having an instance of a class.</p>\n\n<pre><code>public class BaseOne {\n    public void m1() {}\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3520761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b243b0b21684c107f4b91d82fe4a729?s=128&d=identicon&r=PG", "display_name": "dimcha", "link": "https://stackoverflow.com/users/3520761/dimcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1701, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1515858716, "creation_date": 1515800093, "last_edit_date": 1515858716, "question_id": 48235456, "link": "https://stackoverflow.com/questions/48235456/how-to-override-java-public-class-method-in-kotlin", "title": "How to override java public class method in Kotlin?", "body": "<p>I need to redefine/override method from java public class in Kotlin class:</p>\n\n<pre><code>// Java\npublic class BaseOne {\n    public static void m1() {}\n}\n\n// Kotlin\nclass BaseTwo : BaseOne() {\n        override fun m1() {}\n}\n</code></pre>\n\n<p>but get an error: <code>m1 overrides nothing</code>. </p>\n\n<p>If I remove <code>override</code> annotation I get <code>Accidental override: The following declarations have the same JVM signature</code>.</p>\n\n<p>In java this works fine, but not in Kotlin :(</p>\n\n<p>UPD: working java code</p>\n\n<pre><code>public class BaseTree extends BaseOne {\n    public static void m1() {}\n} \n</code></pre>\n\n<p><strong>UPD2</strong> \"Curiouser and curiouser!\" (\u0441)</p>\n\n<p>I have next code:</p>\n\n<pre><code>// Java class\npublic class BaseOne {\n    public static void m1() {\n        System.out.println(\"BaseOne\");\n    }\n}\n\n// Kotlin class\nclass BaseTwo : BaseOne() {\n        companion object {\n                fun m1() {\n                        println(\"BaseTwo\")\n                }\n        }\n}\n\n// Java class\npublic class BaseThree extends BaseOne {\n    public static void m1() {\n        System.out.println(\"BaseThree\");\n    }\n}\n</code></pre>\n\n<p>When I run this code from Java, </p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        BaseOne.m1();\n        BaseThree.m1();\n        BaseTwo.m1();\n    }\n}\n</code></pre>\n\n<p>I receive:</p>\n\n<pre><code>BaseOne\nBaseThree\nBaseOne\n</code></pre>\n\n<p>As you see - override/redefine/\"hide\" doesn't work</p>\n\n<p>But if I run it from Kotlin's <code>main</code> </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n        BaseOne.m1()\n        BaseThree.m1()\n        BaseTwo.m1()\n}\n</code></pre>\n\n<p>all works as intended:</p>\n\n<pre><code>BaseOne\nBaseThree\nBaseTwo\n</code></pre>\n\n<p>My additional question is - How to write code with equal behaviour? Is there a docs about it?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1515803544, "post_id": 48235439, "comment_id": 83454276, "body": "Check my comment on the other answer. It&#39;s not that easy, unfortunately."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1515898321, "post_id": 48235439, "comment_id": 83475217, "body": "@EricCochran please edit the question if the details in that comment are essential"}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1516061821, "post_id": 48235439, "comment_id": 83528672, "body": "@Ilya Updated the question to clarify."}], "tags": [], "owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "is_accepted": false, "score": 2, "last_activity_date": 1515799917, "creation_date": 1515799917, "answer_id": 48235439, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case/48235439#48235439", "title": "Constrain Kotlin generic to not null in one case", "body": "<p>Do the opposite. Assume your generic type is not nullable:</p>\n\n<pre><code>class Repository&lt;T&gt; {\n  fun getFromFoo(): T? { ... }\n  fun getFromBar(): T { ... }\n}\n\nval repository = Repository&lt;String&gt;()\nval fromFoo: String? = repository.getFromFoo()\nval fromBar: String = repository.getFromBar()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1515803502, "post_id": 48235535, "comment_id": 83454264, "body": "The user of the Repository doesn&#39;t get the type safety benefit from non-null types, then. Consider Repository&lt;String&gt;.getFromFoo. This should return a String, but with your code, it will return a String? unfortunately!"}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515803804, "post_id": 48235535, "comment_id": 83454340, "body": "Maybe I&#39;m missing something but from the question, that looked like exactly what you specified that you wanted. <code>fromFoo</code>&#39;s return type is nullable as desired, and <code>fromBar</code>&#39;s is non-nullable."}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1515804428, "post_id": 48235535, "comment_id": 83454456, "body": "If the Repository is parameterized with a non-nullable type like String, neither method should be able to return null."}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515804911, "post_id": 48235535, "comment_id": 83454544, "body": "Have you tried it...? Note the <code>T?</code> return type of <code>getFromFoo</code>. The return type of of <code>Repository&lt;String&gt;.getFromFoo</code> is <code>String?</code>."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "edited": false, "score": 0, "creation_date": 1515812984, "post_id": 48235535, "comment_id": 83455804, "body": "I think I understand what you are looking for now, I&#39;ve updated my answer."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515841738, "post_id": 48235535, "comment_id": 83460828, "body": "` String?` is what it should return, no need for your edit!"}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "edited": false, "score": 0, "creation_date": 1515881061, "post_id": 48235535, "comment_id": 83472002, "body": "That&#39;s exactly what my original answer does."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515881804, "post_id": 48235535, "comment_id": 83472194, "body": "@s1m0nw1 who&#39;s to say that&#39;s what it should return? @Eric Cochran says in the comments here that that isn&#39;t what he wanted. You understood the question as I did but based on his comments , I now believe he wants to be able to indicate that a certain method may NEVER return a nullable type even if <code>T</code> was of a nullable type, which isn&#39;t supported."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515882571, "post_id": 48235535, "comment_id": 83472372, "body": "To me it does not make sense, your first answer is fine though - still"}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "edited": false, "score": 1, "creation_date": 1515933991, "post_id": 48235535, "comment_id": 83481923, "body": "Basically there is a way in the language to say that a method may return <code>null</code>, even if the class was parameterized with a non-nullable type. For example, <code>Repository&lt;String&gt;</code> where <code>getFromFoo</code> returns <code>String?</code> and <code>getFromBar</code> returns <code>String</code>. I think the question is, is there a way to indicate that a method returns a non-nullable type, even if the class were parameterized with one - short answer is no."}], "tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": false, "score": 2, "last_activity_date": 1515933264, "last_edit_date": 1515933264, "creation_date": 1515800613, "answer_id": 48235535, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case/48235535#48235535", "title": "Constrain Kotlin generic to not null in one case", "body": "<pre><code>class Repository&lt;T : Any&gt; { // T may only be a non-null type.\n  fun getFromFoo(): T? {} // This may return null.\n  fun getFromBar(): T {} // This is never null.\n}\n\nval repository = Repository&lt;String&gt;()\nval fromFoo: String? = repository.getFromFoo()\nval fromBar: String = repository.getFromBar()\n</code></pre>\n\n<p>Require a non-null type. You can selectively indicate nullability via <code>T?</code> vs <code>T</code> for your methods/properties.</p>\n\n<p>EDIT: Revised solution based on question clarification found in the comments</p>\n\n<p>My impression now is that you want one method to always return a non-null value, even if T is of a nullable type. The short answer is no, there is no way to do this.</p>\n\n<p>You could however, define two generics:</p>\n\n<pre><code> class Repository&lt;T, N : T&gt; {\n  fun getFromFoo(): T {}\n  fun getFromBar(): N {}\n}\n\nval repository = Repository&lt;String?, String&gt;()\nval fromFoo: String? = repository.getFromFoo()\nval fromBar: String = repository.getFromBar()\n</code></pre>\n\n<p><code>&lt;T, N : T&gt;</code> is one option, but it doesn't enforce that <code>N</code> be of a non-nullable type. <code>&lt;T, N : Any&gt;</code> is another option, this forces <code>N</code> to be a non-nullable type, but it's not longer forced to extend <code>T</code>. Pick your poison.</p>\n\n<p>This makes constructing Repository uglier but gives you the convience of it being non-null at all of the call sites.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1515865313, "last_edit_date": 1515865313, "creation_date": 1515835226, "answer_id": 48238503, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case/48238503#48238503", "title": "Constrain Kotlin generic to not null in one case", "body": "<p>Refactoring into two separate classes would be a better idea, but since you don't want that you could use two generic types:</p>\n\n<pre><code>class Repository&lt;T, S: Any&gt; {\n    fun getFromFoo(): T? { /* ... */ }\n    fun getFromBar(): S { /* ... */ }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "edited": false, "score": 1, "creation_date": 1515882454, "post_id": 48238767, "comment_id": 83472353, "body": "The OP already stated that this was not what he wanted in the comments of my answer."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515866721, "last_edit_date": 1515866721, "creation_date": 1515837540, "answer_id": 48238767, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case/48238767#48238767", "title": "Constrain Kotlin generic to not null in one case", "body": "<p>You should not parametrize with nullable types. You should rather use non-null types and then make the nullability explicit where really needed:</p>\n\n<pre><code>class Repository&lt;out T : Any&gt; {\n    fun getFromFoo(): T? {\n        TODO()\n    }\n\n    fun getFromBar(): T {\n        TODO()\n    }\n}\n</code></pre>\n\n<p>You say that <code>T</code> is supposed to be a non-null type (<code>T: Any</code>), and say that <code>getFromFoo()</code> might return <code>T?</code>, which works totally fine.</p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 3128804, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/076206727d34b236836d867f01353af8?s=128&d=identicon&r=PG&f=1", "display_name": "const.grigoryev", "link": "https://stackoverflow.com/users/3128804/const-grigoryev"}, "edited": false, "score": 0, "creation_date": 1516641658, "post_id": 48256477, "comment_id": 83761485, "body": "Actually, there is a syntax for type intersection in Kotlin: <code>fun &lt;S&gt; getFromBar(): S where S : T, S : Any { ... }</code>  But in this particular case it wouldn&#39;t help, because type intersection with type parameter is not allowed at all"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 3, "last_activity_date": 1515985973, "creation_date": 1515985973, "answer_id": 48256477, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case/48256477#48256477", "title": "Constrain Kotlin generic to not null in one case", "body": "<p>What you need is the type <code>T &amp; Any</code> \u2014 an intersection of generic <code>T</code> and <code>Any</code>. It represents such subtype of <code>T</code> that can never contain nulls. </p>\n\n<p>Unfortunately the intersection types and this intersection in particular currently are non-denotable in Kotlin, meaning that you can't declare a return type of a function to be non-nullable subtype of <code>T</code>.</p>\n"}], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 1, "accepted_answer_id": 48256477, "answer_count": 5, "score": 3, "last_activity_date": 1516061801, "creation_date": 1515799083, "last_edit_date": 1516061801, "question_id": 48235322, "link": "https://stackoverflow.com/questions/48235322/constrain-kotlin-generic-to-not-null-in-one-case", "title": "Constrain Kotlin generic to not null in one case", "body": "<p>I have a generic type (<code>T: Any?</code>) that I need constrained in one situation never to be <code>null</code>:</p>\n\n<pre><code>class Repository&lt;T&gt; { // T may be a non-null or nullable type.\n  fun getFromFoo(): T {}\n  fun getFromBar(): T {} // This is never null. Can I mark it as so?\n}\n\n\nval repository = Repository&lt;String&gt;()\nval fromFoo: String = repository.getFromFoo() // Returns a non-null String.\nval fromBar: String = repository.getFromBar() // How do I make this work?\n\n\nval repository = Repository&lt;String?&gt;()\nval fromFoo: String? = repository.getFromFoo() // Returns a nullable String.\nval fromBar: String = repository.getFromBar() // How do I make this return a non-null String?\n</code></pre>\n\n<p>While I would ideally refactor these into separate types (like <code>FooRepository</code> and <code>BarRepository</code>), is there any way to get this type constraint functionality?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1515798936, "post_id": 48235162, "comment_id": 83453167, "body": "Who put that dots? You or the user? If you have ability to make an image dots then it is to get!"}, {"owner": {"reputation": 79, "user_id": 2852474, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/851fdb287648b8fd9ecb5cfaf25b3fd5?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/2852474/alex"}, "reply_to_user": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1515798986, "post_id": 48235162, "comment_id": 83453183, "body": "@Xenolion i am making the dots"}, {"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1515799088, "post_id": 48235162, "comment_id": 83453207, "body": "So why dont you just but the dots on top of the image using a FrameLayout the user wont notice if the image are on top of the image or on the pic itself!"}, {"owner": {"reputation": 79, "user_id": 2852474, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/851fdb287648b8fd9ecb5cfaf25b3fd5?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/2852474/alex"}, "reply_to_user": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1515799314, "post_id": 48235162, "comment_id": 83453266, "body": "@Xenolion the dots are only markers to where i should put the components, actually they are not random, my mistake, they are put according to a blueprint"}, {"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1515799553, "post_id": 48235162, "comment_id": 83453331, "body": "You can still figure out the position by that!"}], "owner": {"reputation": 79, "user_id": 2852474, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/851fdb287648b8fd9ecb5cfaf25b3fd5?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/2852474/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515823310, "creation_date": 1515797883, "last_edit_date": 1515823310, "question_id": 48235162, "link": "https://stackoverflow.com/questions/48235162/detect-color-from-image-background-with-android", "title": "Detect color from image background with android", "body": "<p>I am making an app on android using kotlin and there's this tricky part where the admin has to load an image to the app , when that's done the background of the layout is set to that image , the image itself has these 4 or 5 red dots spread according to a blueprint. What I want to do is to detect where those dots are then put some components over them ( Button, TextView..). I know my question is a bit complex but i hope someone could help me because I don't even know where to start with this. Thank you.</p>\n"}]