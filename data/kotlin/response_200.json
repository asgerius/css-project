[{"tags": ["kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 1505, "user_id": 2895833, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iPlgE.jpg?s=128&g=1", "display_name": "Xipo", "link": "https://stackoverflow.com/users/2895833/xipo"}, "edited": false, "score": 0, "creation_date": 1541631040, "post_id": 53199032, "comment_id": 93286726, "body": "Would you mind to explain why? I mean, my expectation was that I would not have since the type matches. And Kotlin is so good at guessing things like this"}, {"owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "reply_to_user": {"reputation": 1505, "user_id": 2895833, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iPlgE.jpg?s=128&g=1", "display_name": "Xipo", "link": "https://stackoverflow.com/users/2895833/xipo"}, "edited": false, "score": 1, "creation_date": 1541631528, "post_id": 53199032, "comment_id": 93286880, "body": "@Xipo I think this is because Kotlin cannot correctly convert it&#39;s internal function type to SAM-converted lambda, so when you declared it as <code>var a: MyRetriever</code>, there was a type mismatch. See <a href=\"https://readyset.build/kotlins-sam-problem-f315ffe6be3a\" rel=\"nofollow noreferrer\">this blogpost</a> for more information."}], "tags": [], "owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "is_accepted": true, "score": 4, "last_activity_date": 1541630618, "creation_date": 1541630618, "answer_id": 53199032, "question_id": 53198867, "link": "https://stackoverflow.com/questions/53198867/kotlin-lambda-java-sam-interop-type-mismatch/53199032#53199032", "title": "Kotlin lambda / Java SAM interop - type mismatch", "body": "<p>When doing a SAM conversion, you need to explicitly provide a type:</p>\n\n<pre><code>var a = MyRetriever { s : String -&gt; Optional.ofNullable(s.toLowerCase()) }\n</code></pre>\n\n<p>Note that you may omit declaration of type for <code>a</code> the way you did it before.</p>\n"}], "owner": {"reputation": 1505, "user_id": 2895833, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iPlgE.jpg?s=128&g=1", "display_name": "Xipo", "link": "https://stackoverflow.com/users/2895833/xipo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 53199032, "answer_count": 1, "score": 2, "last_activity_date": 1542013260, "creation_date": 1541629815, "last_edit_date": 1542013260, "question_id": 53198867, "link": "https://stackoverflow.com/questions/53198867/kotlin-lambda-java-sam-interop-type-mismatch", "title": "Kotlin lambda / Java SAM interop - type mismatch", "body": "<p>I have an existing Java interface defined as follows</p>\n\n<pre><code>public interface MyRetriever extends Function&lt;String, Optional&lt;String&gt;&gt; {}\n</code></pre>\n\n<p>and want to define a variable holding a Kotlin lambda which conforms to the SAM conversion as per my understanding</p>\n\n<pre><code>var a : MyRetriever = { s : String -&gt; Optional.ofNullable(s.toLowerCase()) }\n</code></pre>\n\n<p>But instead I get a type mismatch error.</p>\n\n<pre><code>Type missmatch.\nRequired: MyRetriever\nFound: (String) -&gt; Optional&lt;String&gt; \n</code></pre>\n\n<p>The lambda actually matches the Java function definition, what am I missing here?</p>\n"}, {"tags": ["android", "kotlin", "android-alarms"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1541644241, "post_id": 53198754, "comment_id": 93290016, "body": "You can simplify your question to be generic to the problem (which I think is setting multiple alarm times) and focus the title on that problem, and remove anything not needed to convey that problem.  It makes it easier to focus on just the issue, including if you state what it is &quot;I tried to google it but I haven&#39;t found an answer yet&quot; doesn&#39;t define what &quot;it&quot; means.  What technical action are you trying to take, what is the actual outcome vs. the expected outcome.  Simplify, clarify."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10618119"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1541646564, "post_id": 53198754, "comment_id": 93290518, "body": "I&#39;ve edit it. thank you"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1541746389, "post_id": 53198754, "comment_id": 93329026, "body": "cool, I don&#39;t know enough about Android to help but hopefully, someone will come along and help!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10618119"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1541877989, "post_id": 53198754, "comment_id": 93370664, "body": "could you vote for my quistion?"}], "answers": [{"comments": [{"owner": {"reputation": 1836, "user_id": 4957796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cjiN8.jpg?s=128&g=1", "display_name": "Inacio Schweller", "link": "https://stackoverflow.com/users/4957796/inacio-schweller"}, "edited": false, "score": 1, "creation_date": 1552691332, "post_id": 55191487, "comment_id": 97121879, "body": "When answering it would be nice to provide a practical example to help the OP."}], "tags": [], "owner": {"reputation": 175, "user_id": 7505033, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-621Bt1AGseg/AAAAAAAAAAI/AAAAAAAAAPc/lwrVVFqiXhY/photo.jpg?sz=128", "display_name": "Meysam Hadigheh", "link": "https://stackoverflow.com/users/7505033/meysam-hadigheh"}, "is_accepted": false, "score": 1, "last_activity_date": 1552714959, "last_edit_date": 1552714959, "creation_date": 1552689198, "answer_id": 55191487, "question_id": 53198754, "link": "https://stackoverflow.com/questions/53198754/how-to-set-multiple-alarms-in-kotlin/55191487#55191487", "title": "How to set multiple alarms in kotlin?", "body": "<p>You have to put different requestCode in pending intent, each alarm manager requires different requestCode.\nin your mainActivity</p>\n\n<pre><code>pendingIntent = PendingIntent.getBroadcast(this, (0..2147483647).random(), myIntent, 0)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10618119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 968, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596858386, "creation_date": 1541629211, "last_edit_date": 1541646521, "question_id": 53198754, "link": "https://stackoverflow.com/questions/53198754/how-to-set-multiple-alarms-in-kotlin", "title": "How to set multiple alarms in kotlin?", "body": "<p>so I'm new to coding and I'm making an app for Muslims prayer times and I want an alarms to be set repeatedly on these times \nI tried to many things but It doesn't works!</p>\n\n<p>I have a praytimes class and if anyone wants it I'll put it</p>\n\n<p>I will be more thankful, if you could help me on how to set an alarm for 1 prayer so I could do the rest. </p>\n\n<p><strong>Main Activity</strong> </p>\n\n<pre><code>    val latitude = 30.354802\n    val longitude = 42.2461069\n    val timezonoffset = 3.0\n    val timeZoneId = \"Middle East/Alowiqila\"\n    val prayTimes = PrayTimes()\n    prayTimes.timeFormat = prayTimes.time12//\n    prayTimes.calcMethod = prayTimes.makkah// Muslim World League (MWL)\n    prayTimes.asrJuristic = prayTimes.hanafi// Shafii (standard)\n    prayTimes.adjustHighLats = prayTimes.angleBased\n    val offsets = intArrayOf(0, 0, 0, 0, 0, 0, 0) // {Fajr,Sunrise,Dhuhr,Asr,Sunset,Maghrib,Isha}\n    prayTimes.tune(offsets)\n    val cal = Calendar.getInstance(TimeZone.getTimeZone(timeZoneId))\n    cal.time = Date()\n    val times = prayTimes.getPrayerTimes(cal, latitude, longitude, timezonoffset)\n    println(\"prayer times for Alowiqila\")\n    System.out.println(\"Fajr : \" + times.get(0))\n    System.out.println(\"Sunrise : \" + times.get(1))\n    System.out.println(\"Duhr : \" + times.get(2))\n    System.out.println(\"Asr : \" + times.get(3))\n    System.out.println(\"Sunset : \" + times.get(4))\n    System.out.println(\"Magrib : \" + times.get(5))\n    System.out.println(\"Isha : \" + times.get(6))\n\n\n   // I want the Alarm to be set to the code above it\n\n    fun startAlarm(isNotification:Boolean, isRepeat:Boolean) {\n        val manager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        val myIntent= Intent(this@MainActivity, AlarmReceiver::class.java)\n        val pendingIntent:PendingIntent\n        // SET TIME HERE\n        val calendar = Calendar.getInstance()\n        calendar.set(Calendar.HOUR_OF_DAY, 15)\n        calendar.set(Calendar.MINUTE, 20)\n        pendingIntent = PendingIntent.getBroadcast(this, 0, myIntent, 0)\n        if (!isRepeat)\n            manager.set(AlarmManager.RTC_WAKEUP, SystemClock.elapsedRealtime() + 3000, pendingIntent)\n        else\n            manager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.timeInMillis, AlarmManager.INTERVAL_DAY, pendingIntent)\n    }\n</code></pre>\n\n<p><strong>AlarmReceiver.kt</strong></p>\n\n<p>and here is my alarm receiver in witch I've added me notifications</p>\n\n<pre><code>class AlarmReceiver : BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent) {\n    val builder = NotificationCompat.Builder(context)\n\n    val myIntent = Intent(context, MainActivity::class.java)\n    val pendingIntent = PendingIntent.getActivity(\n        context,\n        0,\n        myIntent,\n        FLAG_ONE_SHOT\n    )\n\n    builder.setAutoCancel(true)\n        .setDefaults(Notification.DEFAULT_ALL)\n        .setWhen(System.currentTimeMillis())\n        .setContentTitle(\"\u0645\u0648\u0639\u062f \u0627\u0644\u0627\u0630\u0627\u0646\")\n        .setContentIntent(pendingIntent)\n        .setDefaults(Notification.DEFAULT_LIGHTS or Notification.DEFAULT_SOUND)\n        .setContentInfo(\"Info\")\n\n    val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    notificationManager.notify(1, builder.build())\n}\n</code></pre>\n"}, {"tags": ["mysql", "heroku", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1541635646, "post_id": 53198605, "comment_id": 93287997, "body": "Heroku doesn&#39;t provide a MySQL database service. Which third-party addon are you using?"}, {"owner": {"reputation": 966, "user_id": 4978865, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-75z0lafdAEk/AAAAAAAAAAI/AAAAAAAAABQ/LjBjsQQLGnM/photo.jpg?sz=128", "display_name": "Praytic", "link": "https://stackoverflow.com/users/4978865/praytic"}, "reply_to_user": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1541636874, "post_id": 53198605, "comment_id": 93288295, "body": "I am using ClearDB"}, {"owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "edited": false, "score": 0, "creation_date": 1541882070, "post_id": 53198605, "comment_id": 93371785, "body": "Maybe utf8_general_ci is default collation for utf8 charset?"}, {"owner": {"reputation": 966, "user_id": 4978865, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-75z0lafdAEk/AAAAAAAAAAI/AAAAAAAAABQ/LjBjsQQLGnM/photo.jpg?sz=128", "display_name": "Praytic", "link": "https://stackoverflow.com/users/4978865/praytic"}, "edited": false, "score": 0, "creation_date": 1541892849, "post_id": 53198605, "comment_id": 93374209, "body": "I actually found out that the default encoding for string in Heroku is not UTF-8: <a href=\"https://stackoverflow.com/questions/7612912/set-utf-8-as-default-string-encoding-in-heroku/7615292\" title=\"set utf 8 as default string encoding in heroku\">stackoverflow.com/questions/7612912/&hellip;</a>. So I changed it and solved my problem."}], "owner": {"reputation": 966, "user_id": 4978865, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-75z0lafdAEk/AAAAAAAAAAI/AAAAAAAAABQ/LjBjsQQLGnM/photo.jpg?sz=128", "display_name": "Praytic", "link": "https://stackoverflow.com/users/4978865/praytic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541635024, "creation_date": 1541628439, "last_edit_date": 1541635024, "question_id": 53198605, "link": "https://stackoverflow.com/questions/53198605/collation-utf8-general-ci-is-not-working-on-heroku", "title": "Collation utf8_general_ci is not working on Heroku", "body": "<p>I am using Exposed library by JetBrains with MySQL database connection. In my database I need to use UTF-8 encoding field so I'm using <code>utf8_general_ci</code> collation. I tested it on my local database and it works just fine, but when I run the same code on Heroku database I've got question marks instead of UTF-8 symbols. \nHere's my schema object:</p>\n\n<pre><code>object UserMessage : Table() {\n  val id = varchar(\"id\", 20).primaryKey()\n  val channelId = varchar(\"channel_id\", 20)\n  val content = varchar(\"content\", 2000, collate = \"utf8_general_ci\")\n  val creatorId = varchar(\"creator_id\", 20).nullable()\n  val creationDate = varchar(\"creation_date\", 26)\n}\n</code></pre>\n\n<p>Creation script for both databases is the same and looks like this:</p>\n\n<pre><code>CREATE TABLE `usermessage` (\n  `id` varchar(20) NOT NULL,\n  `content` varchar(2000) NOT NULL,\n  `channel_id` varchar(20) NOT NULL,\n  `creation_date` varchar(26) NOT NULL,\n  `creator_id` varchar(20) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>What should I do to make encoding work on Heroku?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 606, "user_id": 3811895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGbkz.png?s=128&g=1", "display_name": "vinsce", "link": "https://stackoverflow.com/users/3811895/vinsce"}, "edited": false, "score": 0, "creation_date": 1541629147, "post_id": 53198530, "comment_id": 93286032, "body": "Try the following: <code>val message = dataSnapshot.child(&quot;value&quot;).value</code>"}], "owner": {"reputation": 228, "user_id": 7089089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ErFXgVHwo50/AAAAAAAAAAI/AAAAAAAAJbA/-GBHE7qbs3Q/photo.jpg?sz=128", "display_name": "Giuseppe Pennisi", "link": "https://stackoverflow.com/users/7089089/giuseppe-pennisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1541637489, "answer_count": 0, "score": 1, "last_activity_date": 1541628122, "creation_date": 1541628122, "question_id": 53198530, "link": "https://stackoverflow.com/questions/53198530/unable-retrive-data-from-firebase-in-the-right-format", "closed_reason": "Duplicate", "title": "Unable Retrive data from Firebase in the right format", "body": "<p>i'm trying to get data from Firebase, but i'm unable to get them in the right format. The database is the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9Tpyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Tpyv.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>and here there is the code:</p>\n\n<pre><code>enter class MainActivity : AppCompatActivity() {\nval database = FirebaseDatabase.getInstance().getReference()\nval temperature = database.child(\"temperature\").orderByKey().limitToLast(1)\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    var textView = findViewById(R.id.viewTemperatura) as TextView\n\n    val messageListener = object : ValueEventListener {\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            if (dataSnapshot.exists()) {\n                val message = dataSnapshot.value.toString()\n                textView.text= message\n            }\n        }\n\n        override fun onCancelled(databaseError: DatabaseError) {\n            // Failed to read value\n        }\n    }\n\n    temperature!!.addValueEventListener(messageListener)\n}\n</code></pre>\n\n<p>When i get value from datasnapshot, i get a string like this: {-LQk8OYCk1jJNqFJTt0t={value=20.53}} but i'd like to get only the number. How can i do it without manipulate string directly?  Thanks for the help.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1541626153, "post_id": 53198057, "comment_id": 93284803, "body": "In <code>userCardsRecyclerViewAdapter.apply {...</code> do <code>if (it.isEmtpy())</code> then navigate to the ErrorFragment."}, {"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1541626484, "post_id": 53198057, "comment_id": 93284959, "body": "When there are no result, the program that not enter  inside the .apply{ } statement @Onik"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541628837, "creation_date": 1541625913, "last_edit_date": 1541628837, "question_id": 53198057, "link": "https://stackoverflow.com/questions/53198057/redirect-to-other-fragment-when-the-array-is-empty-in-recycler-view", "title": "Redirect to other fragment when the array is empty in recycler view", "body": "<p>I have an adapter that has a view holder that handles the data binding. I want to be able to redirect the user to other page(do a fragment transiction to the error fragment) if the array is empty.</p>\n\n<p>This is my adapter:</p>\n\n<pre><code>class UserCardsRecyclerViewAdapter(val listener: (Card) -&gt; Unit) : RecyclerView.Adapter&lt;UserCardsRecyclerViewAdapter.ViewHolder&gt;() {\n\n    private var cardsList = mutableListOf&lt;Card&gt;()\n    private var views = mutableListOf&lt;ViewHolder&gt;()\n\n    fun addItems(items: List&lt;Card&gt;){\n        cardsList.addAll(items)\n        notifyDataSetChanged()\n    }\n\n    fun clear(){\n        cardsList = mutableListOf()\n        notifyDataSetChanged()\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        val view = inflater.inflate(R.layout.item_user_card, parent, false)\n        return ViewHolder(view).also { views.add(it) }\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val card = cardsList[position]\n        holder.bind(card, listener)\n    }\n\n    override fun getItemCount() = cardsList.size\n\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bind(card: Card, listener: (Card) -&gt; Unit) {\n\n            if(card.name.isEmpty()){\n                Toast.makeText(itemView.context,\"Empty\",Toast.LENGTH_LONG).show()\n            }\n\n            itemView.card_name.text = card.name\n            itemView.card_number.text = card.number.toString()\n            card.expiration?.let {\n                itemView.valid_title.visibility =View.VISIBLE\n                itemView.valid_date.visibility = View.VISIBLE\n                itemView.valid_date.text = it.ParseMonthYear()\n            }\n            GlideApp.with(itemView.context).load(card.mosaicImageUrl)\n                    .fitCenter()\n                    .apply(RequestOptions.bitmapTransform(\n                            RoundedCornersTransformation(50, 0, RoundedCornersTransformation.CornerType.ALL)))\n                    .into(itemView.card_image)\n\n            itemView.setOnClickListener { listener(card) }\n        }\n    }\n\n}\n</code></pre>\n\n<p>This is my fragment where I call the adapter:</p>\n\n<pre><code>override fun doOnCreated() {\n        initCardsRecyclerView()\n        viewModel.loadCards()\n    }\n\n\n    private fun initCardsRecyclerView(){\n        dataBinding.rvCards.setHasFixedSize(true)\n        dataBinding.rvCards.setItemViewCacheSize(1)\n        dataBinding.rvCards.isNestedScrollingEnabled = false\n        dataBinding.rvCards.layoutManager = LinearLayoutManager(context)\n\n        userCardsRecyclerViewAdapter = UserCardsRecyclerViewAdapter(::handleCardClickListener)\n        dataBinding.rvCards.adapter = userCardsRecyclerViewAdapter\n\n        viewModel.retrieveCards().observe(this, Observer&lt;List&lt;Card&gt;&gt; {\n            userCardsRecyclerViewAdapter.apply {\n                clear()\n                addItems(it)\n            }\n        })\n    }\n</code></pre>\n\n<p>This is my viewModel that contains methods that communicate with repository and API</p>\n\n<pre><code>class CardsViewModel @Inject constructor(\n       private val cardsRepository: CardsRepository\n) : ViewModel() {\n\n    private val loading = MutableLiveData&lt;Boolean&gt;()\n\n    private val cards = MutableLiveData&lt;List&lt;Card&gt;&gt;()\n\n\n    fun retrieveCards(): LiveData&lt;List&lt;Card&gt;&gt; = cards\n\n    fun retrieveLoading(): LiveData&lt;Boolean&gt; = loading\n\n    fun loadCards(){\n        loading.postValue(true)\n        cardsRepository.getUserCards(\n                {\n                    cards.postValue(it)\n                    loading.postValue(false)\n                },\n                {\n                    loading.postValue(false)\n                })\n    }\n}\n</code></pre>\n\n<p>This is my repository</p>\n\n<pre><code>class CardsRepository @Inject constructor(\n        private val cardsDao: CardsDao,\n        private val apiManager: ApiManager\n){\n\n    fun getUserCards(onSuccess: (List&lt;Card&gt;)-&gt;Unit, onError: (Exception)-&gt;Unit) =\n            cardsDao.loadAll()\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(\n                            { composeCardInfo(\n                                    it.filterNot {\n                                        it.cardState == CardState.Blocked ||\n                                                it.cardState == CardState.Deleted\n                                    },\n                                    onSuccess, onError) },\n                            {onError(Exception(it.message))}\n                    )\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 436, "user_id": 3264522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2b8b.jpg?s=128&g=1", "display_name": "tapsey", "link": "https://stackoverflow.com/users/3264522/tapsey"}, "edited": false, "score": 1, "creation_date": 1541621463, "post_id": 53196988, "comment_id": 93282666, "body": "Try making your adapter an inner class of the activity. That way you have access to the acitivity&#39;s button variable. Or after casting the context to your specific activity class use the dot &quot;.&quot; operator to access the button. I am assuming your button is not in the recycler viewholder. Please share your activity code."}, {"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "reply_to_user": {"reputation": 436, "user_id": 3264522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2b8b.jpg?s=128&g=1", "display_name": "tapsey", "link": "https://stackoverflow.com/users/3264522/tapsey"}, "edited": false, "score": 0, "creation_date": 1541621808, "post_id": 53196988, "comment_id": 93282834, "body": "thanks, after changing to <code>(context as Activity).order_button.isEnabled = true</code> as you suggested I noticed that I passed <code>applicationContext</code> (application context) and not <code>this@OrderActivity</code> (activity context)"}], "answers": [{"tags": [], "owner": {"reputation": 1480, "user_id": 6877321, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ml2YrzUtyWA/AAAAAAAAAAI/AAAAAAAAAPk/ENEd0i0UAbs/photo.jpg?sz=128", "display_name": "Gratien Asimbahwe", "link": "https://stackoverflow.com/users/6877321/gratien-asimbahwe"}, "is_accepted": false, "score": 1, "last_activity_date": 1541621803, "creation_date": 1541621803, "answer_id": 53197165, "question_id": 53196988, "link": "https://stackoverflow.com/questions/53196988/how-to-set-listener-for-recyclerview-adapter/53197165#53197165", "title": "How to set listener for RecyclerView adapter?", "body": "<p>Yes it is possible. You can create a custom interface like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface RecyclerViewClickListener {\n    void recyclerViewItemClicked(View view, int position);\n}\n</code></pre>\n\n<p>and inside your adapter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class AndroidDeviceAdapter(internal var context: Context, private val devices: Array&lt;String&gt;) :\n    RecyclerView.Adapter&lt;AndroidDeviceAdapter.MyViewHolder&gt;() {\n\n   ...\n   private RecyclerViewClickListener recyclerViewClickListener;\n   ...\n\n   public void setRecyclerViewClickListener(RecyclerViewClickListener recyclerViewClickListener)\n   {\n   this.recyclerViewClickListener=recyclerViewClickListener;\n   }\n   ...\n</code></pre>\n\n<p>And then add item click listener: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code> holder.simpleCheckedTextView.setOnClickListener {\n\n        recyclerViewClickListener.recyclerViewItemClicked(holder.simpleCheckedTextView, getAdapterPosition());\n        }\n</code></pre>\n\n<p>And then attach the listener in the activity where you want to perform a desired action. </p>\n\n<p>Some of my snippets are in java style. somewhere combined with your kotlin code. Remember to sort please and adapt it to kotlin. Good coding</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 3264522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2b8b.jpg?s=128&g=1", "display_name": "tapsey", "link": "https://stackoverflow.com/users/3264522/tapsey"}, "is_accepted": true, "score": 0, "last_activity_date": 1541622417, "last_edit_date": 1541622417, "creation_date": 1541622154, "answer_id": 53197241, "question_id": 53196988, "link": "https://stackoverflow.com/questions/53196988/how-to-set-listener-for-recyclerview-adapter/53197241#53197241", "title": "How to set listener for RecyclerView adapter?", "body": "<p>Please try the following.</p>\n\n<pre><code>(context as OrderActivity).order_button.isEnabled = true\n</code></pre>\n\n<p>Assuming <code>order_button</code> is a variable in your <code>OrderActivity</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "is_accepted": false, "score": 0, "last_activity_date": 1541622731, "creation_date": 1541622731, "answer_id": 53197370, "question_id": 53196988, "link": "https://stackoverflow.com/questions/53196988/how-to-set-listener-for-recyclerview-adapter/53197370#53197370", "title": "How to set listener for RecyclerView adapter?", "body": "<p>You can define an interface inside <code>AndroidDeviceAdapter</code> like so:</p>\n\n<pre><code>interface MyCheckedTextListener {\n    fun onCheckedTextClicked()\n}\n</code></pre>\n\n<p>Instead of a <code>Context</code> parameter, the adapter's Constructor should take a <code>MyCheckedTextListener</code> parameter:</p>\n\n<pre><code>class AndroidDeviceAdapter(internal var checkedTextListener: MyCheckedTextListener,\n     private val devices: Array&lt;String&gt;) : RecyclerView.Adapter&lt;MyListAdapter.MyViewHolder&gt;()\n</code></pre>\n\n<p>The <code>Activity</code> has to pass in an instance of <code>MyCheckedTextListener</code> when instantiating the adapter.</p>\n\n<p>The adapter will notify the <code>Activity</code> via this instance:</p>\n\n<pre><code>override fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n    holder?.simpleCheckedTextView?.setOnClickListener {\n        checkedTextListener.onCheckedTextClicked()\n    }\n}\n</code></pre>\n\n<p>So the <code>Activity</code> can set the new <code>Button</code> state (and the <code>Button</code> can stay <code>private</code> and non <code>static</code>)</p>\n"}], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 53197241, "answer_count": 3, "score": 0, "last_activity_date": 1541644359, "creation_date": 1541621007, "last_edit_date": 1541644359, "question_id": 53196988, "link": "https://stackoverflow.com/questions/53196988/how-to-set-listener-for-recyclerview-adapter", "title": "How to set listener for RecyclerView adapter?", "body": "<p>On my <code>MainActivity</code> there is a <code>Button</code> and <code>RecyclerView</code> with adapter for <code>CheckedTextView</code>.</p>\n\n<p>I want to enable <code>Button</code> when there is a click on <code>CheckedTextView</code>.</p>\n\n<p>I was able to achieve it with setting <code>Button</code> context to <code>static</code> but it isn't good (memory leak etc.)</p>\n\n<p>I tried to get the Button from <code>context</code> and enabling it in <code>simpleCheckedTextView.setOnClickListener</code>:</p>\n\n<pre><code>class AndroidDeviceAdapter(internal var context: Context, private val devices: Array&lt;String&gt;) :\n    RecyclerView.Adapter&lt;AndroidDeviceAdapter.MyViewHolder&gt;() {\n\n    inner class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        ...\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n        ...\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        ...\n\n        holder.simpleCheckedTextView.setOnClickListener {\n\n        // Getting exception\n        (context as Activity).findViewById&lt;Button&gt;(order_button).isEnabled = true\n        }\n    }\n</code></pre>\n\n<p>What is the best way do active the <code>Button</code>? Is it possible to set listener for <code>RecyclerView</code>? </p>\n"}, {"tags": ["android", "user-interface", "checkbox", "kotlin"], "comments": [{"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1541620420, "post_id": 53196223, "comment_id": 93282150, "body": "One can (temporarily) remove the <code>OnCheckedChangeListener</code> by calling <code>checkBox.setOnCheckedChangeListener(null); </code> Later on you just set the original Listener (which for this purpose should be a field of your Activity or Fragment) once more."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541634808, "post_id": 53196223, "comment_id": 93287824, "body": "I don&#39;t understand what&#39;s the problem with onclick being called after checkbox state changes"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541644465, "post_id": 53196223, "comment_id": 93290069, "body": "Maybe it would cause an endless loop @Pawel"}, {"owner": {"reputation": 57, "user_id": 10365305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50722a2fcb1749099b418addc0e8aa99?s=128&d=identicon&r=PG&f=1", "display_name": "jonasstr", "link": "https://stackoverflow.com/users/10365305/jonasstr"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541664971, "post_id": 53196223, "comment_id": 93295599, "body": "@Pawel If it&#39;s called afterwards the children are already notified to update which I don&#39;t want in this case"}, {"owner": {"reputation": 57, "user_id": 10365305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50722a2fcb1749099b418addc0e8aa99?s=128&d=identicon&r=PG&f=1", "display_name": "jonasstr", "link": "https://stackoverflow.com/users/10365305/jonasstr"}, "reply_to_user": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1541665009, "post_id": 53196223, "comment_id": 93295610, "body": "@0X0nosugar Thank you. I thought about doing this and will try it out."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541669340, "post_id": 53196223, "comment_id": 93297730, "body": "@jonasstr that&#39;s why I personally tend not to use <code>OnCheckedChangeListener </code> at all, I think it&#39;s easier to leave only onClick and manually call the update method if you ever modify checked state programatically."}], "owner": {"reputation": 57, "user_id": 10365305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50722a2fcb1749099b418addc0e8aa99?s=128&d=identicon&r=PG&f=1", "display_name": "jonasstr", "link": "https://stackoverflow.com/users/10365305/jonasstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541644442, "creation_date": 1541617861, "last_edit_date": 1541644442, "question_id": 53196223, "link": "https://stackoverflow.com/questions/53196223/determine-whether-checkbox-was-clicked-by-the-user-or-manually-from-code", "title": "Determine whether checkbox was clicked by the user or manually from code", "body": "<p>I have multiple <em>Check Boxes</em> in an Android activity and I want to implement a tree-like functionality with these Check Boxes. </p>\n\n<p>For example when the user clicks on a checkBox, all sub checkBoxes should also be toggled. Similarly, when all sub checkBoxes are in the same state, the parent checkBox should be notified about this and be toggled accordingly. </p>\n\n<p>In this second case, the parent checkBox will be toggled but should not toggle all the child checkBoxes (because it was not actively clicked by the user but rather toggled as a consequence of all children being toggled)</p>\n\n<p>I toggle the checkBoxes using <code>checkBox.setChecked(isChecked)</code>. </p>\n\n<p>This leads to the checkBox's <code>OnCheckedChangeListener</code> being called which in turn calls a method responsible for updating all the children.</p>\n\n<p>So I need to find a way to differentiate between user interaction and setting the checkBox state from code.\nI tried using <code>checkBox.setOnClickListener()</code>, however the onClickListener is always notified <strong>after</strong> the checkBox' state has already changed.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "edited": false, "score": 0, "creation_date": 1541616485, "post_id": 53195744, "comment_id": 93280281, "body": "But my retroComponent accepts only Fragment is it ? When I try to retroComponent.inject(this@KotlinTemplateApplication)  in my Fragment , it gives error"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "edited": false, "score": 0, "creation_date": 1541618443, "post_id": 53195744, "comment_id": 93281158, "body": "You have to add the <code>fun inject(app: KotlinTemplateApplication)</code> to the interface as well."}, {"owner": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "edited": false, "score": 0, "creation_date": 1541624108, "post_id": 53195744, "comment_id": 93283872, "body": "I modified my Component class, but I see below error when building the app: RetroComponent.java:6: error: [Dagger/MissingBinding] java.util.Map&lt;java.lang.Class&lt;?&gt;,javax.inject.Provider&lt;dagge&zwnj;&#8203;r.android.AndroidInj&zwnj;&#8203;ector.Factory&lt;?&gt;&gt;&gt; cannot be provided without an @Provides-annotated method."}, {"owner": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "edited": false, "score": 0, "creation_date": 1541624122, "post_id": 53195744, "comment_id": 93283881, "body": "@Singleton @Component(modules = arrayOf(RetroModule::class)) interface RetroComponent {     fun inject(retroDIFragment: RetroDIFragment)      fun inject(kotlinTemplateApplication: KotlinTemplateApplication) }"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "edited": false, "score": 0, "creation_date": 1541662117, "post_id": 53195744, "comment_id": 93294393, "body": "Then as a last step you need to define your dependencies with <code>@ContributesAndroidInjector</code> to actually have the <code>AndroidInjector</code>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1541615944, "creation_date": 1541615944, "answer_id": 53195744, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized/53195744#53195744", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>The <code>dispatchingAndroidInjector</code> property has to be set eventually.</p>\n\n<pre><code>@Inject\nlateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n</code></pre>\n\n<p>As it's annotated with <code>@Inject</code>, it seems like you wanted to inject it. But since <code>KotlinTemplateApplication</code> is an <code>Application</code>, you need to do this manually on your component:</p>\n\n<pre><code>retroComponent.inject(this@KotlinTemplateApplication)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 5371139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hDGd1.jpg?s=128&g=1", "display_name": "GRimmjow", "link": "https://stackoverflow.com/users/5371139/grimmjow"}, "is_accepted": false, "score": 1, "last_activity_date": 1541628226, "last_edit_date": 1541628226, "creation_date": 1541627856, "answer_id": 53198463, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized/53198463#53198463", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>To use Dagger in a Fragment, you must add a <code>DispatchingAndroidInjector &lt;Fragment&gt;</code> in KotlinTemplateApplication</p>\n\n<p>Edit KotlinTemplateApplication</p>\n\n<pre><code>class KotlinTemplateApplication : Application() , HasActivityInjector, HasSupportFragmentInjector {\n\n\n    @Inject lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n\n    @Inject lateinit var fragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n\n\n    override fun onCreate() {\n        super.onCreate()\n\n                ........\n\n        DaggerAppComponent.builder().application(this).build().inject(this)\n\n                .........\n    }\n\n\n\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = activityInjector\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt; = fragmentInjector\n\n}\n</code></pre>\n\n<p>You can also create a special module for Fragments and then add it to interface RetroComponent </p>\n\n<p>@Component(modules = arrayOf(RetroModule::class,FragmentModule::class)</p>\n\n<pre><code>@Module\nabstract class FragmentModule {\n    @ContributesAndroidInjector\n    internal abstract fun contributeRetroDIFragment(): RetroDIFragment\n}\n</code></pre>\n\n<p>Then in your Fragment RetroDIFragment</p>\n\n<pre><code>class RetroDIFragment : Fragment() {\n    ......\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        retroFitDIView =  inflater.inflate(R.layout.fragment_retro_di, container, false)\n\n        return retroFitDIView\n    }\n\n   .........\n\n    /*---------------- Dagger Injection for Fragment -------------*/\n    @Override\n    override fun onAttach(context: Context?) {\n        AndroidSupportInjection.inject(this)\n        super.onAttach(context);\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1569439600, "post_id": 56921026, "comment_id": 102601517, "body": "Does it need to extend <code>HasAndroidInjector</code>?"}, {"owner": {"reputation": 595, "user_id": 6060723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90540b0923c7bc4a5f1b90ea6f4b826a?s=128&d=identicon&r=PG&f=1", "display_name": "nayan dhabarde", "link": "https://stackoverflow.com/users/6060723/nayan-dhabarde"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1569468114, "post_id": 56921026, "comment_id": 102608307, "body": "You mean the Custom app class? No, it needs to extend HasActivityInjector.  I have uploaded a clean Dagger 2 project on GitHub, see if this helps: <a href=\"https://github.com/ndhabrde11/Dagger-2-Android-App-essential\" rel=\"nofollow noreferrer\">github.com/ndhabrde11/Dagger-2-Android-App-essential</a>"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1569512022, "post_id": 56921026, "comment_id": 102629219, "body": "Google now advocates using the vanilla <code>HasAndroidInjector</code> since Dagger <b>2.2.3</b>"}], "tags": [], "owner": {"reputation": 595, "user_id": 6060723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90540b0923c7bc4a5f1b90ea6f4b826a?s=128&d=identicon&r=PG&f=1", "display_name": "nayan dhabarde", "link": "https://stackoverflow.com/users/6060723/nayan-dhabarde"}, "is_accepted": false, "score": 5, "last_activity_date": 1562492796, "creation_date": 1562492796, "answer_id": 56921026, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized/56921026#56921026", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>You need to change the AppComponent class inject method parameter:</p>\n\n<pre><code>@Singleton\n@Component(modules = [\n        AndroidInjectionModule::class,\n        ActivityModule::class,\n        AppModule::class\n])\ninterface AppComponent {\n\n        @Component.Builder\n        interface Builder {\n                @BindsInstance\n                fun application(application: Application): Builder\n\n                fun build(): AppComponent\n        }\n\n        fun inject(app: Application) // This is the piece of code you need to change\n}\n</code></pre>\n\n<pre><code>@Singleton\n@Component(modules = [\n        AndroidInjectionModule::class,\n        ActivityModule::class,\n        AppModule::class\n])\ninterface AppComponent {\n\n        @Component.Builder\n        interface Builder {\n                @BindsInstance\n                fun application(application: Application): Builder\n\n                fun build(): AppComponent\n        }\n\n        fun inject(app: YourCustomAppClass) // Change to your custom app class\n}\n</code></pre>\n\n<p>Also, where you are doing this</p>\n\n<pre><code>  DaggerAppComponent\n            .builder()\n            .application(yourAppInstance)\n            .build()\n            .inject(yourAppInstance)\n</code></pre>\n\n<p>yourAppInstance needs to be of type YourCustomApp class instead of Application.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1569439723, "post_id": 56935338, "comment_id": 102601559, "body": "I get an error: <b>java.lang.NullPointerException: com.myapp.MainActivity.androidInjector() returned null</b>"}], "tags": [], "owner": {"reputation": 2734, "user_id": 6463877, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Ix45h.jpg?s=128&g=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/6463877/abhishek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1562590139, "creation_date": 1562590139, "answer_id": 56935338, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized/56935338#56935338", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>this might be too late but this worked for me...</p>\n\n<pre><code>@set:Inject\ninternal var activityDispatchingAndroidInjector:DispatchingAndroidInjector&lt;Activity&gt;? = null\n</code></pre>\n\n<p>remove <strong>lateinit</strong> and use <strong>internal</strong> with <strong>@set:Inject</strong> instead of <strong>@Inject</strong></p>\n\n<p>this worked like charm for me.</p>\n"}, {"tags": [], "owner": {"reputation": 5407, "user_id": 322111, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spm02.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/322111/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1584137247, "creation_date": 1584137247, "answer_id": 60677817, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized/60677817#60677817", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>I had the same issues with Dagger2.26v, \nto fix , \nmake sure <code>ApplicationComponent extends AndroidInjector&lt;SampleApplication&gt;</code> like \nthis:</p>\n\n<pre><code>@Singleton\n@Component(modules = AndroidInjectionModule::class)\ninterface ApplicationComponent : AndroidInjector&lt;SampleApplication&gt; { \u2026}\n</code></pre>\n"}], "owner": {"reputation": 3130, "user_id": 448037, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fcfe21e407d1ac6529482dcbb24ed370?s=128&d=identicon&r=PG", "display_name": "Android_programmer_office", "link": "https://stackoverflow.com/users/448037/android-programmer-office"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5449, "favorite_count": 0, "answer_count": 5, "score": 5, "last_activity_date": 1614762210, "creation_date": 1541615661, "question_id": 53195678, "link": "https://stackoverflow.com/questions/53195678/lateinit-property-dispatchingandroidinjector-has-not-been-initialized", "title": "lateinit property dispatchingAndroidInjector has not been initialized", "body": "<p>I receive the above error <strong>\"lateinit property dispatchingAndroidInjector has not been initialized \"</strong> when I run my fragment in dagger2 . <br>\nThe above error is triggered in my application class which is below <br></p>\n\n<p>KotlinTemplateApplication.kt</p>\n\n<pre><code>     class KotlinTemplateApplication:Application(), HasActivityInjector  {\n        lateinit var retroComponent:RetroComponent\n\n@Inject\nlateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\ncompanion object {\n    @get:Synchronized\n    lateinit var instance: KotlinTemplateApplication\n     private set\n}\n\noverride fun onCreate() {\n    super.onCreate()\n    instance = this\n    retroComponent = DaggerRetroComponent.builder().retroModule(RetroModule(APIURL.BASE_URL)).build()\n    //retroComponent.inject()\n\n}\n\n\n\n   fun fetchRetroComponent():RetroComponent{\n   return retroComponent\n   }\n\noverride fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n    return dispatchingAndroidInjector\n}\n   }\n</code></pre>\n\n<p><br>\nMy Fragment class is as below : <br>\nI called dagger related code in onAttach() method of fragment  : <br>\n<br>\nRetroDIFragment:</p>\n\n<pre><code>      class RetroDIFragment : Fragment() {\n// TODO: Rename and change types of parameters\nprivate var param1: String? = null\nprivate var param2: String? = null\nlateinit var retroDIListViewModel: RetroDIListViewModel\nlateinit var retroFitDIView: View\n@Inject\nlateinit var apiService: APIService\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n        param1 = it.getString(ARG_PARAM1)\n        param2 = it.getString(ARG_PARAM2)\n    }\n    retroDIListViewModel = ViewModelProviders.of(activity!!).get(RetroDIListViewModel::class.java)\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    retroFitDIView =  inflater.inflate(R.layout.fragment_retro_di, container, false)\n\n    return retroFitDIView\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    AndroidInjection.inject(activity)\n    KotlinTemplateApplication.instance.fetchRetroComponent().inject(this@RetroDIFragment)\n\n    retroDIListViewModel.fetchPostsFromWebSevice(apiService).observe(this,object : Observer&lt;List&lt;RetroModel&gt;&gt;{\n        override fun onChanged(t: List&lt;RetroModel&gt;?) {\n            for (i in t!!.indices)\n                println(t[i].id)\n        }\n\n    })\n}\ncompanion object {\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment RetroDIFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    @JvmStatic\n    fun newInstance(param1: String, param2: String) =\n            RetroDIFragment().apply {\n                arguments = Bundle().apply {\n                    putString(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n}\n    }\n</code></pre>\n\n<p><br>\nMy component is as below :<br><br>\nRetroComponent : <br></p>\n\n<pre><code> @Singleton\n@Component(modules = arrayOf(RetroModule::class))\n  interface RetroComponent {\n    fun inject(retroDIFragment: RetroDIFragment)\n   }\n</code></pre>\n\n<p><br>\nMy Module is as below: <br><br></p>\n\n<pre><code> @Module\n   public class RetroModule(var urlPath:String) {\n\n\ninit{\n    this.urlPath  = urlPath\n}\n\n@Singleton\n@Provides\nfun provideServiceAPI(retrofit: Retrofit):APIService{\n    return retrofit.create(APIService::class.java)\n}\n\n@Singleton\n@Provides\nfun provideRetrofit():Retrofit{\n    val retrofit = Retrofit.Builder()\n            .baseUrl(urlPath)\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(providesOkHttpClientBuilder())\n            .build()\n    return  retrofit\n\n}\n\n\nprivate fun providesOkHttpClientBuilder(): OkHttpClient {\n\n    val httpClient = OkHttpClient.Builder()\n    return httpClient.readTimeout(1200, TimeUnit.SECONDS)\n            .connectTimeout(1200, TimeUnit.SECONDS).build()\n\n}\n}\n</code></pre>\n\n<p><br> My Activity is as below <br></p>\n\n<pre><code>class RetroFitActivity : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_retro_fit)\n    supportFragmentManager.beginTransaction().replace(R.id.container_retro_di, RetroDIFragment()).commit()\n}\n   }\n</code></pre>\n\n<p><br>\nI included below code in my Gradle:</p>\n\n<pre><code> implementation 'com.google.dagger:dagger:2.19'\nimplementation 'com.google.dagger:dagger-android:2.19'\nannotationProcessor 'com.google.dagger:dagger-android-processor:2.19'\nannotationProcessor 'com.google.dagger:dagger-compiler:2.19'\nkapt 'com.google.dagger:dagger-android-processor:2.19'\nkapt 'com.google.dagger:dagger-compiler:2.19'\n//moxy\ncompile 'com.arello-mobile:moxy-app-compat:1.1.1'\nkapt 'com.arello-mobile:moxy-compiler:1.1.1'\n</code></pre>\n\n<p><br>\n<br><br>\nCan anyone help me in fixing this issue.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541615301, "post_id": 53195570, "comment_id": 93279774, "body": "Try using RecyclerView instead. Better performance."}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541615388, "post_id": 53195570, "comment_id": 93279815, "body": "@EpicPandaForce do you have example please ? l am new in kotlin language"}, {"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1541682164, "post_id": 53195570, "comment_id": 93304515, "body": "you can add <code>.setIndicatorsEnabled(true)</code> to get more info on why the image doesn&#39;t load."}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1541682638, "post_id": 53195570, "comment_id": 93304778, "body": "@ZUNJAE when l use .Picasso.with(context) in kotlin l got unresolved reference with"}, {"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1541682730, "post_id": 53195570, "comment_id": 93304824, "body": "@pabloescobar which version of Picasso do u have?"}], "answers": [{"tags": [], "owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "is_accepted": true, "score": 2, "last_activity_date": 1541682022, "creation_date": 1541682022, "answer_id": 53208279, "question_id": 53195570, "link": "https://stackoverflow.com/questions/53195570/load-image-url-in-kotlin-does-not-show-the-image/53208279#53208279", "title": "load image url in kotlin does not show the image", "body": "<p>Try <code>with</code> property to pass the context to picasso.</p>\n\n<pre><code>   Picasso.with(context)\n     .load(imgUri)\n     .into(LogoAriline);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1477, "user_id": 7947225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxBoA.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/7947225/vince"}, "is_accepted": false, "score": 1, "last_activity_date": 1541683175, "creation_date": 1541683175, "answer_id": 53208596, "question_id": 53195570, "link": "https://stackoverflow.com/questions/53195570/load-image-url-in-kotlin-does-not-show-the-image/53208596#53208596", "title": "load image url in kotlin does not show the image", "body": "<p>You put your <code>code</code> (<code>AppCompatTextView</code>) into your url. \nKotlin call <code>code.toString()</code> in that case. But that's no what you try to do.</p>\n\n<p>You probably want to get the text into your <code>AppCompatTextView</code> with <strong>code.text</strong>:</p>\n\n<pre><code>val imgUri = \"https://www.xxxxxxxxxx.com/static/images/data/operators/${code.text}_logo0.png\"\n</code></pre>\n\n<p>or (this is the same)</p>\n\n<pre><code>val imgUri = \"https://www.xxxxxxxxxx.com/static/images/data/operators/\" + code.text + \"_logo0.png\"\n</code></pre>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "accepted_answer_id": 53208279, "answer_count": 2, "score": 1, "last_activity_date": 1541683175, "creation_date": 1541615122, "last_edit_date": 1541644540, "question_id": 53195570, "link": "https://stackoverflow.com/questions/53195570/load-image-url-in-kotlin-does-not-show-the-image", "title": "load image url in kotlin does not show the image", "body": "<p>l am new in kotlin and I have an API which returns JSON and his working fine and I would like to load an Image from a URL in list view .but the problem is the images is not showing when lunching app , only the data json text show in list view . </p>\n\n<p>my code in list adapte : </p>\n\n<pre><code>class ListAdapte (val context: MainActivity, val list: ArrayList&lt;FlightShdu&gt;): BaseAdapter() {\n\n    @SuppressLint(\"ViewHolder\")\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val view : View = LayoutInflater.from(context).inflate(R.layout.row_layout,parent,false)\n\n        val code = view.findViewById(R.id.code_id) as AppCompatTextView\n        val LogoAriline = view.findViewById(R.id.imageView) as ImageView\n        val imgUri = \"https://www.xxxxxxxxxx.com/static/images/data/operators/\"+code+\"_logo0.png\"\n\n        code.text = list[position].logo\n        Picasso.get().load(imgUri).into(LogoAriline)\n\n\n\n        return view as View\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "delegation", "junit-rule"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 0, "last_activity_date": 1541612079, "last_edit_date": 1541612079, "creation_date": 1541611349, "answer_id": 53194637, "question_id": 53193046, "link": "https://stackoverflow.com/questions/53193046/kotlin-replace-class-delegation-multiple-classes-with-same-functionality-dif/53194637#53194637", "title": "Kotlin - Replace class delegation - Multiple classes with same functionality different signature", "body": "<p>Just pass a boolean parameter to your constructor and use it to create the basic or extended <code>TestRule</code>:</p>\n\n<pre><code>fun &lt;T&gt; createTestRule(activityRule: ActivityRule&lt;T&gt;, extended: Boolean) = \n    if(extended) \n        RuleChain.outerRule(CustomRuleOne).around(CustomRuleTwo).around(activityRule)\n    else\n        RuleChain.outerRule(CustomRuleOne).around(activityRule)\n\nclass ActivityTestRule&lt;T : Activity&gt;(\n    private val activityRule : ActivityRule&lt;T&gt;,\n    extended: Boolean = false\n) : TestRule by createTestRule(activityRule, extended) {\n\n    // do something \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6435679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfe57b11674543fd7f25b571ba39ad4?s=128&d=identicon&r=PG&f=1", "display_name": "silent_mongoose", "link": "https://stackoverflow.com/users/6435679/silent-mongoose"}, "is_accepted": false, "score": 0, "last_activity_date": 1541612402, "creation_date": 1541612402, "answer_id": 53194872, "question_id": 53193046, "link": "https://stackoverflow.com/questions/53193046/kotlin-replace-class-delegation-multiple-classes-with-same-functionality-dif/53194872#53194872", "title": "Kotlin - Replace class delegation - Multiple classes with same functionality different signature", "body": "<p>Answering my own question. I ended up abstracting the functionality and creating two separate classes with different signatures that extend the abstract class. </p>\n\n<p>Example : </p>\n\n<pre><code>abstract class BaseActivityTestRule&lt;T : Activity&gt;(\nprivate val activityRule : ActivityRule&lt;T&gt;){  \n // Do Something \n}\n</code></pre>\n\n<p>And then extend it : </p>\n\n<pre><code>class ExtendedActivityTestRule&lt;T : Activity&gt;(\nprivate val activityRule : ActivityRule&lt;T&gt;): BaseActivityTestRule&lt;T&gt;(activityRule), TestRule by Delegate \n</code></pre>\n\n<p>For Subsequent implementations : </p>\n\n<pre><code>class DifferentActivityTestRule&lt;T : Activity&gt;(\nprivate val activityRule : ActivityRule&lt;T&gt;): BaseActivityTestRule&lt;T&gt;(activityRule), TestRule by SomeOtherDelegate\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6435679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfe57b11674543fd7f25b571ba39ad4?s=128&d=identicon&r=PG&f=1", "display_name": "silent_mongoose", "link": "https://stackoverflow.com/users/6435679/silent-mongoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 53194637, "answer_count": 2, "score": 0, "last_activity_date": 1541612402, "creation_date": 1541606034, "question_id": 53193046, "link": "https://stackoverflow.com/questions/53193046/kotlin-replace-class-delegation-multiple-classes-with-same-functionality-dif", "title": "Kotlin - Replace class delegation - Multiple classes with same functionality different signature", "body": "<p>I am working with JunitRules RuleChain and Kotlin. I am new to both and have two classes that do the exact same thing, the only difference being the rule chain. </p>\n\n<p>The first class looks like this : </p>\n\n<pre><code>class BaseActivityTestRule&lt;T : Activity&gt;(\n    private val activityRule : ActivityRule&lt;T&gt;\n) : TestRule by RuleChain.outerRule(CustomRuleOne).around(activityRule) {\n\n    // do something \n}\n</code></pre>\n\n<p>I require another class that does the exact same thing as <code>BaseActivityTestRule</code> but the delegate is different.</p>\n\n<p>Example : </p>\n\n<pre><code>class ExtendedActivityTestRule&lt;T : Activity&gt;(\n    private val activityRule : ActivityRule&lt;T&gt;\n) : TestRule by RuleChain.outerRule(CustomRuleOne).around(CustomRuleTwo).around(activityRule) {\n\n    // do something \n}\n</code></pre>\n\n<p>How can I accomplish this without duplicating code blocks? </p>\n"}, {"tags": ["spring-boot", "jpa", "kotlin", "many-to-many"], "comments": [{"owner": {"reputation": 20801, "user_id": 1356423, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/NOnT0.jpg?s=128&g=1", "display_name": "Alan Hay", "link": "https://stackoverflow.com/users/1356423/alan-hay"}, "edited": false, "score": 0, "creation_date": 1541613435, "post_id": 53192946, "comment_id": 93278929, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">Infinite Recursion with Jackson JSON and Hibernate JPA issue</a>"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4590962, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41c97d7502152c2291f7a27bf6b35ad2?s=128&d=identicon&r=PG&f=1", "display_name": "codeme", "link": "https://stackoverflow.com/users/4590962/codeme"}, "is_accepted": true, "score": 6, "last_activity_date": 1541616379, "creation_date": 1541616379, "answer_id": 53195863, "question_id": 53192946, "link": "https://stackoverflow.com/questions/53192946/how-to-use-jpa-manytomany-bidirectional-relation-with-kotlin/53195863#53195863", "title": "How to use JPA ManyToMany bidirectional relation with Kotlin", "body": "<p>Please notice that this answer is solution for Kotlin data classes with ManyToMany bidirectional relation. </p>\n\n<pre><code>@ManyToMany(cascade = [CascadeType.ALL], fetch = FetchType.LAZY)\n@JoinTable(name = \"ach\",\n           joinColumns = [JoinColumn(name = \"route_id\", referencedColumnName = \"uid\")],\n           inverseJoinColumns = [JoinColumn(name = \"athlete_id\", referencedColumnName = \"uid\")])\n@JsonIgnoreProperties(\"routes\")\nvar athletes: List&lt;Athlete&gt; = mutableListOf())\n\n\n@ManyToMany(mappedBy = \"athletes\")\n@JsonIgnoreProperties(\"athletes\")\nvar routes: List&lt;Route&gt; = mutableListOf())\n</code></pre>\n\n<p>With adding the @JsonIgnoreProperties, you can avoid the recursive loop.</p>\n"}], "owner": {"reputation": 591, "user_id": 4590962, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41c97d7502152c2291f7a27bf6b35ad2?s=128&d=identicon&r=PG&f=1", "display_name": "codeme", "link": "https://stackoverflow.com/users/4590962/codeme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3461, "favorite_count": 1, "accepted_answer_id": 53195863, "answer_count": 1, "score": 0, "last_activity_date": 1541616379, "creation_date": 1541605747, "last_edit_date": 1541613221, "question_id": 53192946, "link": "https://stackoverflow.com/questions/53192946/how-to-use-jpa-manytomany-bidirectional-relation-with-kotlin", "title": "How to use JPA ManyToMany bidirectional relation with Kotlin", "body": "<p>I have two classes which have bidirectional ManyToMany relations in a Spring Boot application. When I would like to fetch my entities, they start recursively looping, and I get a stackoverflow exception. These is my implementation.</p>\n\n<pre><code>@Entity\n@Table(name = \"route\")\ndata class Route(\n\n        @Column(name = \"uid\")\n        @Type(type = \"pg-uuid\")\n        @Id\n        var uid: UUID,\n        var image: String,\n        @Column(name = \"rate_id\")\n        var rate_id: UUID,\n        @ManyToMany(cascade = [CascadeType.ALL], fetch = FetchType.LAZY)\n        @JoinTable(name = \"ach\",\n                joinColumns = [JoinColumn(name = \"route_id\", referencedColumnName = \"uid\")],\n                inverseJoinColumns = [JoinColumn(name = \"athlete_id\", referencedColumnName = \"uid\")])\n        var athletes: List&lt;Athlete&gt; = mutableListOf())\n\n@Entity\n@Table(name = \"athlete\")\ndata class Athlete(\n\n        @Column(name = \"uid\")\n        @Type(type = \"pg-uuid\")\n        @Id\n        var uid: UUID,\n        var email: String,\n        var image: String,\n        @ManyToMany(mappedBy = \"athletes\")\n        var routes: List&lt;Route&gt; = mutableListOf())\n</code></pre>\n\n<p>I understand that the problem is that both of my list attribute is in the constructor. However I would like to have the list attributes in the response. I have seen solutions where the toString method was overwritten to create a json string. I would prefer to return an object instead of a jsonString. Is there a way to implement the above problem with or without dataclasses? Please give some example if there is a way.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1541604981, "post_id": 53192110, "comment_id": 93274362, "body": "you wouldn&#39;t have these problems if you just used immutable data. And no, it&#39;s not creating a deep copy so changing on object1 will also change on the copy"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1541605038, "post_id": 53192110, "comment_id": 93274404, "body": "@s1m0nw1 Could you elaborate?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1541605320, "post_id": 53192110, "comment_id": 93274562, "body": "Well, make your properties <code>var a: List&lt;Long&gt;</code> and don&#39;t expose the mutable version of List. This way you can make sure that once you got a list from the class it won&#39;t change afterward. instead of adding to your list you will reassign the list; instead of clearing you will reassign to an empty list etc"}], "answers": [{"comments": [{"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1541605026, "post_id": 53192701, "comment_id": 93274394, "body": "The data needs to be cleared instantly, unfortunately!"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1541605098, "post_id": 53192701, "comment_id": 93274445, "body": "Or... maybe it doesn&#39;t, let&#39;s experiment"}], "tags": [], "owner": {"reputation": 567, "user_id": 9464051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OHLnK.jpg?s=128&g=1", "display_name": "deluxe1", "link": "https://stackoverflow.com/users/9464051/deluxe1"}, "is_accepted": false, "score": 1, "last_activity_date": 1541604970, "creation_date": 1541604970, "answer_id": 53192701, "question_id": 53192110, "link": "https://stackoverflow.com/questions/53192110/new-object-from-data-class-copy/53192701#53192701", "title": "New object from data class .copy()", "body": "<p>If you want to clear the data only after the async task has finished, you can try using await. </p>\n\n<pre><code> uploadBuffer = myDataClassVal.copy()\n GlobalScope.async {\n     uploadData(uploadBuffer)\n }.await()\n myDataClassVal.a.clear() //this will execute after async returns\n ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1541609039, "creation_date": 1541609039, "answer_id": 53194016, "question_id": 53192110, "link": "https://stackoverflow.com/questions/53192110/new-object-from-data-class-copy/53194016#53194016", "title": "New object from data class .copy()", "body": "<p>Why not just create a new instance for every new run. You won't need the <code>copy</code> function, just create a new instance after launching:</p>\n\n<pre><code>GlobalScope.launch {\n    uploadData(uploadBuffer)\n}\nuploadBuffer = new myDataClassVal()\n</code></pre>\n\n<p>BTW: \nYou should start your classes with an upper case letter, e.g. <code>MyDataClassVal</code>. See Naming Conventions: <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#naming-rulesan\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coding-conventions.html#naming-rulesan</a></p>\n\n<p>You should use <code>launch</code> instead of <code>async</code>, because you don't need the result, see <a href=\"https://stackoverflow.com/questions/52820510/kotlin-async-vs-launch/52821266#52821266\">Kotlin Async vs Launch</a> </p>\n"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 53194016, "answer_count": 2, "score": 1, "last_activity_date": 1541609039, "creation_date": 1541603001, "last_edit_date": 1541603924, "question_id": 53192110, "link": "https://stackoverflow.com/questions/53192110/new-object-from-data-class-copy", "title": "New object from data class .copy()", "body": "<p>I have a data class in Kotlin: </p>\n\n<pre><code>data class myDataClass(\n    var a: ArrayList&lt;Long&gt; = ArrayList(),\n    var b: ArrayList&lt;Long&gt; = ArrayList(),\n    var c: ArrayList&lt;Long&gt; = ArrayList(),\n    ...\n)\n\nprivate val myDataClassVal: myDataClass = myDataClass()\n</code></pre>\n\n<p>I use this data class to store data acquired over BLE that will, when each <code>ArrayList</code> is at a certain length, POST to a REST API. After this POST the data within <code>myDataClass</code> is <code>.clear()</code>ed and the process will repeat.</p>\n\n<p>The BLE portion of the application is time sensitive and each POST is taking approximately 1 second; my solution to this is to run my POST function asynchronously; as opposed to running on the same thread as the BLE code. I do this in the following way:</p>\n\n<pre><code>GlobalScope.async { \n    uploadData(myDataClassVal) \n}\n\nmyDataClassVal.a.clear()\nmyDataClassVal.b.clear()\nmyDataClassVal.c.clear()\n</code></pre>\n\n<p>Unfortunately, where I am clearing the data in <code>myDataClass</code> immediately after the <code>async</code> function call the data is actually cleared from the data class before it is serialised and POSTed. </p>\n\n<p>In an attempt to solve this problem I created a duplicate of <code>myDataClass</code> right before uploading and pass this into the <code>async</code> upload function. The <em>duplicate</em> is created using the <code>.copy()</code> function as described <a href=\"https://stackoverflow.com/a/50237602/4816231\">here</a>:</p>\n\n<pre><code>uploadBuffer = myDataClassVal.copy()\nGlobalScope.async {\n    uploadData(uploadBuffer)\n}\nmyDataClassVal.a.clear()\n....\n</code></pre>\n\n<p>However, <code>uploadBuffer</code> is still completely empty. If I create a copy of <code>myDataClass</code> in the same way and POST on the same thread:</p>\n\n<pre><code>uploadBuffer = myDataClassVal.copy()\nuploadData(uploadBuffer)\nmyDataClassVal.a.clear()\n....\n</code></pre>\n\n<p>Then it works just fine. </p>\n\n<p>So, I think my issue is that <code>uploadBuffer</code> is just a pointer to <code>myDataClass</code>. If this is the case, how do I create a new object that is a duplicate of <code>myDataClass</code> to use in my <code>async</code> POST?</p>\n\n<p>Thanks,\nAdam</p>\n"}, {"tags": ["java", "android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1541670732, "post_id": 53191866, "comment_id": 93298561, "body": "Looking at <code>NetComponent</code> makes me cry, and I&#39;m super-biased because <code>Option #3</code> and the <code>Injector.get()</code> originates from my article, so I won&#39;t post any answers on this one."}, {"owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1541671430, "post_id": 53191866, "comment_id": 93298944, "body": "Yes Option #3 it&#39;s from Your article and it inspired me. I just wanted to confront it with other options and show other peoples because its looks quite good :)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541785150, "post_id": 53191866, "comment_id": 93348313, "body": "If we keep up the silence I&#39;ll answer it though"}], "answers": [{"comments": [{"owner": {"reputation": 450, "user_id": 2420322, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AzepE.jpg?s=128&g=1", "display_name": "In&#232;s Belhouchet", "link": "https://stackoverflow.com/users/2420322/in%c3%a8s-belhouchet"}, "edited": false, "score": 0, "creation_date": 1580044762, "post_id": 53254748, "comment_id": 105961016, "body": "is option 3 still considered as the best approach ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 450, "user_id": 2420322, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AzepE.jpg?s=128&g=1", "display_name": "In&#232;s Belhouchet", "link": "https://stackoverflow.com/users/2420322/in%c3%a8s-belhouchet"}, "edited": false, "score": 1, "creation_date": 1580047861, "post_id": 53254748, "comment_id": 105961822, "body": "It works well if your app is single-module. But you only need that accessor if you are in a class that cannot be <code>@Inject</code>ed (activity, fragment, other android components)"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 2, "last_activity_date": 1541983851, "creation_date": 1541983851, "answer_id": 53254748, "question_id": 53191866, "link": "https://stackoverflow.com/questions/53191866/dagger-2-good-practices-to-build-components-in-application-class/53254748#53254748", "title": "Dagger 2 Good practices to build components in Application class", "body": "<p>Okay, no one answered in 5 days so it's my turn, despite my bias :p</p>\n\n<ul>\n<li>Option #1</li>\n</ul>\n\n<p><code>((MyApp) getApplication()).getNetComponent().inject(this);</code></p>\n\n<p>It's an \"ok\" version of doing things, except for two things.</p>\n\n<p>First, the name. <code>NetComponent</code> isn't really for networking, it's the app-global singleton component, so it should be either called <code>SingletonComponent</code> or <code>AppComponent</code>. But naming it <code>NetComponent</code> is disingenuous, it's typically responsible for <em>everything else</em> too.</p>\n\n<p>Second problem is that you need a reference to <code>Context</code> to access your dependency graph, making <code>Context</code> actually be a <em>dependency</em> rather than it being provided to you.</p>\n\n<ul>\n<li>Option #2</li>\n</ul>\n\n<p><code>MyApplication.getMyComponent().inject(this)</code></p>\n\n<p>This is a perfectly fine way of doing things, but you need to know that to reach your object graph, you need to access the static method of <code>MyApplication</code>.</p>\n\n<ul>\n<li>Option #3</li>\n</ul>\n\n<p><code>Injector.get().inject(this)</code></p>\n\n<p>Internally, this solution actually just calls over to get the app component, <code>public static AppComponent get() { return MyApplication.getInstance().getComponent(); }</code></p>\n\n<p>The benefit is that <code>getComponent()</code> is exposed via an instance method of Application, so it could be theoretically swapped out.</p>\n\n<p>Also, invoking a method on something called <code>Injector.get()</code> is more obviously an \"injector\" than, well, an application class.</p>\n\n<p>As for whether you use <code>.catRepository()</code> or <code>.inject(this)</code>, it's up to you; but I personally prefer calling the provision methods to get the deps in Activity/Fragment, because listing the member-injection targets adds a lot of clutter to the component over time.</p>\n\n<p>4.) </p>\n\n<p><code>App.get().repositoryComponent!!.inject(this)</code></p>\n\n<p>You can ditch the <code>!!</code> if <code>repositoryComponent</code> is a <code>lateinit var</code>.</p>\n\n<p>Having two components for the same scope (and therefore two different object graphs) will only cause trouble, out of all of the options, this is the worst.</p>\n\n<hr>\n\n<p>In my opinion, the 3rd option is the best. Technically it's the same as option #2 with an additional \"indirection\" through the instance method of Application that actually returns the component.</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1580508424, "creation_date": 1541602223, "last_edit_date": 1580508424, "question_id": 53191866, "link": "https://stackoverflow.com/questions/53191866/dagger-2-good-practices-to-build-components-in-application-class", "title": "Dagger 2 Good practices to build components in Application class", "body": "<p>I know probably there is no clear answer for this question.</p>\n\n<p>But I would like to know Your opinions and maybe new ideas.</p>\n\n<p>I'm wondering which of the following options is the best/right/correct way to build the app-level Dagger Component in Application class.</p>\n\n<hr>\n\n<p><strong>Example 1:</strong></p>\n\n<pre><code>public class MyApp extends Application {\n\n    private NetComponent mNetComponent;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        mNetComponent = DaggerNetComponent.builder()\n                .appModule(new AppModule(this)) \n                .netModule(new NetModule(\"https://api.github.com\"))\n                .build();\n    }\n\n    public NetComponent getNetComponent() {\n        return mNetComponent;\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong> </p>\n\n<pre><code>((MyApp) getApplication()).getNetComponent().inject(this);\n</code></pre>\n\n<hr>\n\n<p><strong>Example 2:</strong></p>\n\n<pre><code> class MyApplication extends Application {\n\n    private static MyComponent component;\n\n    @Override\n    void onCreate() {\n        component = DaggerMyComponent.builder()\n                .contextModule(new ContextModule(getApplicationContext()))\n                .build();\n    }\n\n    public static MyComponent getMyComponent() {\n        return component;\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>MyApplication.getMyComponent().inject(this)\n</code></pre>\n\n<hr>\n\n<p><strong>Example 3:</strong></p>\n\n<pre><code>class CustomApplication: Application() {\n    lateinit var component: SingletonComponent\n        private set\n\n    override fun onCreate() {\n        super.onCreate()\n        INSTANCE = this\n        component = DaggerSingletonComponent.builder()\n                       .contextModule(ContextModule(this))\n                       .build()\n    }\n\n    companion object {\n       private var INSTANCE: CustomApplication? = null\n\n       @JvmStatic\n       fun get(): CustomApplication = INSTANCE!!\n\n    }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>class Injector private constructor() {\n    companion object {\n        @JvmStatic\n        fun get() : SingletonComponent = CustomApplication.get().component\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>Injector.get().catRepository()\n</code></pre>\n\n<hr>\n\n<p><strong>Example 4:</strong></p>\n\n<pre><code> class App : Application() {\n\n    var repositoryComponent: RepositoryComponent? = null\n    var appComponent: AppComponent? = null\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n        appComponent = DaggerAppComponent.builder().application(this).build()\n        repositoryComponent = DaggerRepositoryComponent.builder().build()\n    }\n\n    companion object {\n\n        private var instance: App? = null\n\n        fun get(): App {\n            return instance!!\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code> App.get().repositoryComponent!!.inject(this)\n</code></pre>\n\n<p>What do you think about this? Is there any better / cleaner way to do this? Maybe provided examples are fine? Or maybe just one of them?</p>\n\n<p><strong>I will be grateful for any good examples / tips / advices.</strong></p>\n\n<p><strong>Thanks!</strong></p>\n"}, {"tags": ["android", "kotlin", "jackson", "retrofit2"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1541644813, "post_id": 53191468, "comment_id": 93290147, "body": "You appear to not be using the Jackson Module for Kotlin, which works with data classes that have no default constructor as yours does not.  Check out that module and see if you have any problems after."}, {"owner": {"reputation": 3164, "user_id": 733092, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DAX12.png?s=128&g=1", "display_name": "Noumenon", "link": "https://stackoverflow.com/users/733092/noumenon"}, "edited": false, "score": 0, "creation_date": 1604121716, "post_id": 53191468, "comment_id": 114256742, "body": "Please change accepted answer."}], "answers": [{"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1541602479, "post_id": 53191565, "comment_id": 93272601, "body": "Have updated the answer with more info. I wonder if, although you have the module registered, the code which is doing the deserialization isn&#39;t explicitly using the <code>jacksongObjectMapper</code>?  I&#39;m just assuming it is related to this, because the error message you&#39;re getting is exactly what Jackson gives you when that object mapper isn&#39;t used."}, {"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1541602713, "post_id": 53191565, "comment_id": 93272752, "body": "Can I pass you the repository for you to take a look?"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1541602783, "post_id": 53191565, "comment_id": 93272816, "body": "Go for it.  Though I&#39;ve never done any Android stuff so don&#39;t get your hopes up :-)  I just answered this because I happened to come across exactly this problem the other day in some server-side Kotlin code."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 6, "creation_date": 1541644930, "post_id": 53191565, "comment_id": 93290160, "body": "The issue is definitely related to not using this module and using a data class.  So, you need to register the module on the object mapper that is being used by the system.  Find in your frameworks that you are using where you can modify the configuration of the object mapper to call <code>mapper.registerModule(KotlinModule())</code> @jose"}, {"owner": {"reputation": 868, "user_id": 1295333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a79d6225a02815f7fd219fa2c03e3e?s=128&d=identicon&r=PG", "display_name": "programaths", "link": "https://stackoverflow.com/users/1295333/programaths"}, "edited": false, "score": 3, "creation_date": 1565096075, "post_id": 53191565, "comment_id": 101237472, "body": "Jos&#233; and Jayson writing about json :-D"}, {"owner": {"reputation": 1879, "user_id": 1502439, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/67c216ca182451567e17c2098d47f26d?s=128&d=identicon&r=PG", "display_name": "Janac Meena", "link": "https://stackoverflow.com/users/1502439/janac-meena"}, "edited": false, "score": 0, "creation_date": 1583512250, "post_id": 53191565, "comment_id": 107154504, "body": "Does this apply to non-kotlin, i.e. Java 8 applications too?"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 1879, "user_id": 1502439, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/67c216ca182451567e17c2098d47f26d?s=128&d=identicon&r=PG", "display_name": "Janac Meena", "link": "https://stackoverflow.com/users/1502439/janac-meena"}, "edited": false, "score": 0, "creation_date": 1585809496, "post_id": 53191565, "comment_id": 107894241, "body": "@JanacMeena, the solution in this answer is specific to Kotlin, but the error itself can potentially occur when deserializing to Java classes, if they are set up in some particular way (e.g. maybe only having a private constructor, or something like that, I haven&#39;t tried so not sure)."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 48, "last_activity_date": 1590484195, "last_edit_date": 1590484195, "creation_date": 1541601274, "answer_id": 53191565, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/53191565#53191565", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>You need to use <code>jackson-module-kotlin</code> to deserialize to data classes.  See <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">here</a> for details.</p>\n\n<p>The error message above is what Jackson gives you if you try to deserialize some value into a data class when that module isn't enabled or, even if it is, when the <code>ObjectMapper</code> it uses doesn't have the <code>KotlinModule</code> registered.  For example, take this code:</p>\n\n<pre><code>data class TestDataClass (val foo: String)\n\nval jsonString = \"\"\"{ \"foo\": \"bar\" }\"\"\"\nval deserializedValue = ObjectMapper().readerFor(TestDataClass::class.java).readValue&lt;TestDataClass&gt;(jsonString)\n</code></pre>\n\n<p>This will fail with the following error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `test.SerializationTests$TestDataClass` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n\n<p>If you change the code above and replace <code>ObjectMapper</code> with <code>jacksonObjectMapper</code> (which simply returns a normal <code>ObjectMapper</code> with the <code>KotlinModule</code> registered), it works.  i.e.</p>\n\n<pre><code>val deserializedValue = jacksonObjectMapper().readerFor(TestDataClass::class.java).readValue&lt;TestDataClass&gt;(jsonString)\n</code></pre>\n\n<p>I'm not sure about the Android side of things, but it looks like you'll need to get the system to use the <code>jacksonObjectMapper</code> to do the deserialization.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 1998316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1514d39fd7bb57d88568898c19bb48e7?s=128&d=identicon&r=PG", "display_name": "mkki", "link": "https://stackoverflow.com/users/1998316/mkki"}, "edited": false, "score": 6, "creation_date": 1564787541, "post_id": 53192674, "comment_id": 101158261, "body": "The reason this works is because they aren&#39;t data classes."}, {"owner": {"reputation": 334, "user_id": 4423409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268b23af14d083260d2c87b51732b476?s=128&d=identicon&r=PG&f=1", "display_name": "O. Schnieders", "link": "https://stackoverflow.com/users/4423409/o-schnieders"}, "edited": false, "score": 0, "creation_date": 1608320465, "post_id": 53192674, "comment_id": 115557115, "body": "This is the solution. But which way is better? Creating a empy constructor in general or adding the JSON property?"}, {"owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "reply_to_user": {"reputation": 334, "user_id": 4423409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268b23af14d083260d2c87b51732b476?s=128&d=identicon&r=PG&f=1", "display_name": "O. Schnieders", "link": "https://stackoverflow.com/users/4423409/o-schnieders"}, "edited": false, "score": 2, "creation_date": 1608364645, "post_id": 53192674, "comment_id": 115565745, "body": "@Maximus I think there is no difference in performance( if you mean better in performance). Creating an empty constructor is easier than adding annotation on each parameter."}], "tags": [], "owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "is_accepted": true, "score": 46, "last_activity_date": 1606239822, "last_edit_date": 1606239822, "creation_date": 1541604864, "answer_id": 53192674, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/53192674#53192674", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>Sorry for being lazy just providing solution without explaining the reason. Now I'm updating my answer.</p>\n<p><strong>Reason:</strong> This error occurs because <code>jackson library</code> doesn't know how to create your model which doesn't have <code>empty constructor</code> and the model contains constructor with parameters which didn't annotated its parameters with <code>@JsonProperty(&quot;field_name&quot;)</code>. By default java compiler creates empty constructor if you didn't add constructor to your class.</p>\n<p><strong>Solution:</strong>\nAdd <code>empty constructor</code> to your model or annotate constructor parameters with <code>@JsonProperty(&quot;field_name&quot;)</code></p>\n<p>If you use <code>kotlin data class</code> then also can annotate with <code>@JsonProperty(&quot;field_name&quot;)</code> or register <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">jackson module kotlin</a> to <code>ObjectMapper</code>.</p>\n<p>You can create your models using <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">http://www.jsonschema2pojo.org/</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 4471534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rQS9kf4ZjOc/AAAAAAAAAAI/AAAAAAAAA7g/egTCeMZdKeE/photo.jpg?sz=128", "display_name": "Andres", "link": "https://stackoverflow.com/users/4471534/andres"}, "edited": false, "score": 0, "creation_date": 1557812400, "post_id": 55128782, "comment_id": 98879232, "body": "great! i think retrofit was using other instance of jackson"}, {"owner": {"reputation": 719, "user_id": 516754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ab031d3eaa3121b77868a0d443dc060?s=128&d=identicon&r=PG", "display_name": "d4c0d312", "link": "https://stackoverflow.com/users/516754/d4c0d312"}, "edited": false, "score": 0, "creation_date": 1578109690, "post_id": 55128782, "comment_id": 105341635, "body": "I wish i could give you some rep points because you saved me in the last minute of extra time !! Thanks"}], "tags": [], "owner": {"reputation": 121, "user_id": 3032787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba69794127538f7e94774937c38fd2cd?s=128&d=identicon&r=PG&f=1", "display_name": "HAT", "link": "https://stackoverflow.com/users/3032787/hat"}, "is_accepted": false, "score": 8, "last_activity_date": 1552416775, "creation_date": 1552416775, "answer_id": 55128782, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/55128782#55128782", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I know this is an old post, but for anyone using Retrofit, this can be useful useful.</p>\n\n<p>If you are using Retrofit + Jackson + Kotlin + Data classes, you need: </p>\n\n<ol>\n<li>add <code>implement group: 'com.fasterxml.jackson.module', name: 'jackson-module-kotlin', version: '2.7.1-2'</code> to your dependencies, so that Jackson can de-serialize into Data classes</li>\n<li>When building retrofit, pass the Kotlin Jackson Mapper, so that Retrofit uses the correct mapper, ex:</li>\n</ol>\n\n<pre><code>    val jsonMapper = com.fasterxml.jackson.module.kotlin.jacksonObjectMapper()\n\n    val retrofit = Retrofit.Builder()\n          ...\n          .addConverterFactory(JacksonConverterFactory.create(jsonMapper))\n          .build()\n</code></pre>\n\n<p>Note: If Retrofit is not being used, @Jayson Minard has a more general approach answer.</p>\n"}, {"comments": [{"owner": {"reputation": 3744, "user_id": 3581539, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6ee9defd5259d9b86dc385aff3d28d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/3581539/kirill"}, "edited": false, "score": 7, "creation_date": 1575099958, "post_id": 56923998, "comment_id": 104459018, "body": "If you want your object to be immutable, you would not want to create a default constructor. Adding <code>@JsonCreator</code> or <code>@ConstructorProperties({&quot;prop1Name&quot;, &quot;propr2Name&quot;})</code> on constructor solves the error above."}, {"owner": {"reputation": 1998, "user_id": 331719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d5c2f3ab025528bf49a11cfc757c0e4?s=128&d=identicon&r=PG", "display_name": "Vladtn", "link": "https://stackoverflow.com/users/331719/vladtn"}, "edited": false, "score": 2, "creation_date": 1577438516, "post_id": 56923998, "comment_id": 105169929, "body": "If you are using Lobok and @Data, make sure your fields are not final otherwise empty constructor is not possible. So this doesn&#39;t work: <code>@Data static class LoginResponse {   private final String token, message;   private final int status; }</code> But this works: <code>@Data static class LoginResponse {   private String token, message;   private int status; }</code>"}], "tags": [], "owner": {"reputation": 1864, "user_id": 333533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7db6b0c01c437b59f4ebeb9b2f1ccac?s=128&d=identicon&r=PG", "display_name": "Fede Mika", "link": "https://stackoverflow.com/users/333533/fede-mika"}, "is_accepted": false, "score": 86, "last_activity_date": 1562516566, "creation_date": 1562516566, "answer_id": 56923998, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/56923998#56923998", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I got here searching for this error:</p>\n\n<pre><code>No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator\n</code></pre>\n\n<p>Nothing to do with Retrofit but if you are using Jackson this error got solved by adding a default constructor to the class throwing the error.\nMore here: <a href=\"https://www.baeldung.com/jackson-exception\" rel=\"noreferrer\">https://www.baeldung.com/jackson-exception</a></p>\n"}, {"tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": false, "score": 0, "last_activity_date": 1568111766, "creation_date": 1568111766, "answer_id": 57868993, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/57868993#57868993", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>If you are using <a href=\"http://kong.github.io/unirest-java/#responses\" rel=\"nofollow noreferrer\">Unirest</a> as the http library, using the <code>GsonObjectMapper</code> instead of the <code>JacksonObjectMapper</code> will also work.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.konghq/unirest-object-mappers-gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.konghq&lt;/groupId&gt;\n    &lt;artifactId&gt;unirest-object-mappers-gson&lt;/artifactId&gt;\n    &lt;version&gt;2.3.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre><code>Unirest.config().objectMapper = GsonObjectMapper()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4447759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bd1e08a82507b16e52dfb59baa4112?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Lee", "link": "https://stackoverflow.com/users/4447759/aaron-lee"}, "is_accepted": false, "score": 2, "last_activity_date": 1575489533, "creation_date": 1575489533, "answer_id": 59183815, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/59183815#59183815", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I'm using <a href=\"https://github.com/mmazi/rescu\" rel=\"nofollow noreferrer\">rescu</a> with Kotlin and resolved it by using @ConstructorProperties</p>\n\n<pre><code>    data class MyResponse @ConstructorProperties(\"message\", \"count\") constructor(\n        val message: String,\n        val count: Int\n    )\n</code></pre>\n\n<p>Jackson uses @ConstructorProperties. This should fix Lombok @Data as well.</p>\n"}, {"comments": [{"owner": {"reputation": 172, "user_id": 3292651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dYy6j.jpg?s=128&g=1", "display_name": "davide", "link": "https://stackoverflow.com/users/3292651/davide"}, "edited": false, "score": 4, "creation_date": 1582212925, "post_id": 59275719, "comment_id": 106707257, "body": "<code>@NoArgsConstructor</code> was what solved my situation. My full anotations are  <code>@Data @AllArgsConstructor @NoArgsConstructor @Entity @JsonInclude(Include.NON_DEFAULT)</code>"}, {"owner": {"reputation": 3760, "user_id": 2037229, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WI9u3.jpg?s=128&g=1", "display_name": "54l3d", "link": "https://stackoverflow.com/users/2037229/54l3d"}, "edited": false, "score": 1, "creation_date": 1583505258, "post_id": 59275719, "comment_id": 107150882, "body": "<code>@Data</code> is equivalent to <code>@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode</code> So may be only <code>@NoArgsConstructor</code> is needed"}, {"owner": {"reputation": 2435, "user_id": 9768291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gf9Xz.jpg?s=128&g=1", "display_name": "payne", "link": "https://stackoverflow.com/users/9768291/payne"}, "reply_to_user": {"reputation": 3760, "user_id": 2037229, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WI9u3.jpg?s=128&g=1", "display_name": "54l3d", "link": "https://stackoverflow.com/users/2037229/54l3d"}, "edited": false, "score": 0, "creation_date": 1587049014, "post_id": 59275719, "comment_id": 108361436, "body": "@54l3d <code>@Data</code> will not include <code>@RequiredArgsConstructor</code> if you specify another constructor annotation along with it."}, {"owner": {"reputation": 423, "user_id": 11293189, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ORJ1MYjYLtk/AAAAAAAAAAI/AAAAAAAAAG0/S6LyKRiewac/photo.jpg?sz=128", "display_name": "Pol Ortiz", "link": "https://stackoverflow.com/users/11293189/pol-ortiz"}, "edited": false, "score": 1, "creation_date": 1587384582, "post_id": 59275719, "comment_id": 108481682, "body": "Just wanted to point that you saved my day :), I was missing the @NoArgsConstructor annotation all this time."}], "tags": [], "owner": {"reputation": 389, "user_id": 12096572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e120844346476c991c112b668fd40b3?s=128&d=identicon&r=PG&f=1", "display_name": "silver_fox", "link": "https://stackoverflow.com/users/12096572/silver-fox"}, "is_accepted": false, "score": 36, "last_activity_date": 1587417203, "last_edit_date": 1587417203, "creation_date": 1576013743, "answer_id": 59275719, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/59275719#59275719", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>If you're using <strong>Lombok</strong> on a <em>POJO model</em>, make sure you have these annotations:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n</code></pre>\n\n<p>It could vary, but make sure <code>@Getter</code> and <strong>especially <code>@NoArgsConstructor</code></strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 4888853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EV7zIBOvZBc/AAAAAAAAAAI/AAAAAAAAACQ/94KBi-veTV4/photo.jpg?sz=128", "display_name": "Dominik Minc", "link": "https://stackoverflow.com/users/4888853/dominik-minc"}, "is_accepted": false, "score": 4, "last_activity_date": 1582035573, "creation_date": 1582035573, "answer_id": 60282989, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/60282989#60282989", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I had a similar issue (using Jackson, lombok, gradle) and a POJO without no args constructor - the solution was to add </p>\n\n<pre><code>lombok.anyConstructor.addConstructorProperties=true\n</code></pre>\n\n<p>to the <strong>lombok.config</strong> file</p>\n"}, {"tags": [], "owner": {"reputation": 1097, "user_id": 426360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50f1eefed830b9dc67db298bbd913eb?s=128&d=identicon&r=PG", "display_name": "MohanaRao SV", "link": "https://stackoverflow.com/users/426360/mohanarao-sv"}, "is_accepted": false, "score": 0, "last_activity_date": 1582983438, "creation_date": 1582983438, "answer_id": 60465722, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/60465722#60465722", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>When you are using Lombok builder you will get the above error. </p>\n\n<pre><code> @JsonDeserialize(builder = StationResponse.StationResponseBuilder.class)\n public class StationResponse{\n   //define required properties \n }     \n\n @JsonIgnoreProperties(ignoreUnknown = true)\n @JsonPOJOBuilder(withPrefix = \"\")\n public static class StationResponseBuilder {}\n</code></pre>\n\n<p>Reference : <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder</a> With Jackson</p>\n"}, {"tags": [], "owner": {"reputation": 6743, "user_id": 3647002, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/raqLI.png?s=128&g=1", "display_name": "Gayan Weerakutti", "link": "https://stackoverflow.com/users/3647002/gayan-weerakutti"}, "is_accepted": false, "score": 6, "last_activity_date": 1583233603, "creation_date": 1583233603, "answer_id": 60505870, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/60505870#60505870", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>As the error mentioned the class does not have a default constructor.</p>\n\n<p>Adding <a href=\"https://projectlombok.org/api/lombok/NoArgsConstructor.html\" rel=\"noreferrer\">@NoArgsConstructor</a> to the entity class should fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 1936, "user_id": 4265714, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-GWz2zlyQ_u0/AAAAAAAAAAI/AAAAAAAADH4/GRNAzkeBFx8/photo.jpg?sz=128", "display_name": "miradham", "link": "https://stackoverflow.com/users/4265714/miradham"}, "is_accepted": false, "score": 0, "last_activity_date": 1585548087, "creation_date": 1585548087, "answer_id": 60924859, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/60924859#60924859", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I could resolve this problem in Kotlin with help of <code>@JacksonProperty</code> annotation. Usage example for above case would be:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty\n...\ndata class Station(\n     @JacksonProperty(\"repsol_id\") val repsol_id: String,\n     @JacksonProperty(\"name\") val name: String,\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 116, "user_id": 6510200, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MOHL3.png?s=128&g=1", "display_name": "Caio", "link": "https://stackoverflow.com/users/6510200/caio"}, "edited": false, "score": 0, "creation_date": 1594765477, "post_id": 61718968, "comment_id": 111240324, "body": "I am using Spring + Kotlin for Backend, and I resolved this problem with the KotlinModule(), thanks."}], "tags": [], "owner": {"reputation": 570, "user_id": 7736814, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ez1Rwh2zzjk/AAAAAAAAAAI/AAAAAAAAAFw/ujVHbEP57gI/photo.jpg?sz=128", "display_name": "peterzinho16", "link": "https://stackoverflow.com/users/7736814/peterzinho16"}, "is_accepted": false, "score": 2, "last_activity_date": 1589146077, "creation_date": 1589146077, "answer_id": 61718968, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/61718968#61718968", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>Extending Yoni Gibbs's answer, if you are in an android project using retrofit and configure serialization with Jackson you can do these things in order to deserialization works as expected with kotlin's data class.</p>\n\n<p>In your build gradle import:</p>\n\n<pre><code>implementation \"com.fasterxml.jackson.module:jackson-module-kotlin:2.11.+\"\n</code></pre>\n\n<p>Then, your implementation of retrofit:</p>\n\n<pre><code>val serverURL = \"http://localhost:8080/api/v1\"\n\nval objectMapper = ObjectMapper()\nobjectMapper.registerModule(KotlinModule())\n//Only if you are using Java 8's Time API too, require jackson-datatype-jsr310\nobjectMapper.registerModule(JavaTimeModule())\n\nRetrofit.Builder()\n    .baseUrl(serverURL)\n    .client(\n        OkHttpClient.Builder()\n           .readTimeout(1, TimeUnit.MINUTES)//No mandatory\n            .connectTimeout(1, TimeUnit.MINUTES)//No mandatory\n            .addInterceptor(UnauthorizedHandler())//No mandatory\n            .build())\n    .addConverterFactory(\n                JacksonConverterFactory.create(objectMapper)\n            )\n    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n    .build()\n</code></pre>\n\n<p>Data class:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class Task(val id: Int,\n                val name: String,\n                @JsonSerialize(using = LocalDateTimeSerializer::class)\n                @JsonDeserialize(using = LocalDateTimeDeserializer::class)\n                val specificDate: LocalDateTime?,\n                var completed: Boolean,\n                val archived: Boolean,\n                val taskListId: UUID?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 468, "user_id": 9575631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3df8074604020e08124d5a028013689?s=128&d=identicon&r=PG", "display_name": "Ousama", "link": "https://stackoverflow.com/users/9575631/ousama"}, "is_accepted": false, "score": 6, "last_activity_date": 1598276745, "last_edit_date": 1598276745, "creation_date": 1597411395, "answer_id": 63413636, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/63413636#63413636", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I solved this issue by adding a no argument constractor. If you are using <strong>Lombok</strong>, you only need to add <code>@NoArgsConstructor</code> annotation:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@ToString\n@EqualsAndHashCode\npublic class User {\n    private Long userId;\n    private String shortName;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8529009, "user_type": "registered", "profile_image": "https://graph.facebook.com/2030249763874854/picture?type=large", "display_name": "Charles  Chen", "link": "https://stackoverflow.com/users/8529009/charles-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1598123924, "creation_date": 1598123924, "answer_id": 63540205, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/63540205#63540205", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>Just want to point out that this <a href=\"https://stackoverflow.com/a/51465038/8529009\">answer</a> provides a better explanation.<br />\nBasically you can either have <code>@Getter</code> and <code>@NoArgConstructor</code> together<br />\nor let Lombok regenerates <code>@ConstructorProperties</code> using <code>lombok.config</code> file,<br />\nor compile your java project with <code>-parameters</code> flags,<br />\nor let Jackson use Lombok's <code>@Builder</code></p>\n"}, {"tags": [], "owner": {"reputation": 416, "user_id": 5736627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s2SZW.jpg?s=128&g=1", "display_name": "Elias Meireles", "link": "https://stackoverflow.com/users/5736627/elias-meireles"}, "is_accepted": false, "score": 2, "last_activity_date": 1602444321, "creation_date": 1602444321, "answer_id": 64308144, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/64308144#64308144", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I had this issue and i fixed with the code below.</p>\n<pre><code>@Configuration\nopen class JacksonMapper {\n\n    @Bean\n    open fun mapper(): ObjectMapper {\n        val mapper = ObjectMapper()\n        ...\n\n        mapper.registerModule(KotlinModule())\n        return mapper\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5167545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Y5x3dLDBVag/AAAAAAAAAAI/AAAAAAAACOc/C2oWC618aew/photo.jpg?sz=128", "display_name": "Madis M&#228;nni", "link": "https://stackoverflow.com/users/5167545/madis-m%c3%a4nni"}, "is_accepted": false, "score": 0, "last_activity_date": 1604587580, "last_edit_date": 1604587580, "creation_date": 1604532683, "answer_id": 64689169, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/64689169#64689169", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>My cause of issue seems very uncommon to me, not sure if anybody else gets the error under same condition, I found the cause by diffing previous commits, here you go :</p>\n<p>Via my build.gradle I was using these 2 compiler options, and commenting out this line fixed the issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>//compileJava.options.compilerArgs = ['-Xlint:unchecked','-Xlint:deprecation']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8284606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-65WMd0jMHn8/AAAAAAAAAAI/AAAAAAAAAJ4/5WgRoV1QeW4/photo.jpg?sz=128", "display_name": "Manjunath Joshi", "link": "https://stackoverflow.com/users/8284606/manjunath-joshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1605099821, "creation_date": 1605099821, "answer_id": 64786984, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/64786984#64786984", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>If you are using LOMBOK.\nCreate a file lombok.config if you don't have one and add this line.</p>\n<pre><code>lombok.anyconstructor.addconstructorproperties=true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 660, "user_id": 3663495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59f0f454bc4a8c0a5c0cc0bfa9adc3d?s=128&d=identicon&r=PG&f=1", "display_name": "Kms", "link": "https://stackoverflow.com/users/3663495/kms"}, "is_accepted": false, "score": 0, "last_activity_date": 1609078570, "creation_date": 1609078570, "answer_id": 65466689, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/65466689#65466689", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>Encountered the same error in below Usecase.</p>\n<p>I tried to hit the Rest(Put mapping) end point using sprint boot(<strong>2.0.0 Snapshot Version</strong>) without having <strong>default</strong> constructor in respective bean.</p>\n<p>But with latest Spring Boot versions(<strong>2.4.1 Version</strong>) the same piece of code is working without error.</p>\n<p>so the bean default constructor is <strong>no longer</strong> needed in latest version of Spring Boot</p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 6193936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-je-MOlzUVgY/AAAAAAAAAAI/AAAAAAAABc4/QLSt2cGcS9Q/photo.jpg?sz=128", "display_name": "sadhna", "link": "https://stackoverflow.com/users/6193936/sadhna"}, "is_accepted": false, "score": 2, "last_activity_date": 1617959076, "creation_date": 1617959076, "answer_id": 67018189, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/67018189#67018189", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>Just need to add @NoArgsConstructor and it works.</p>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 8057127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k4Il3.jpg?s=128&g=1", "display_name": "Harsh Gundecha", "link": "https://stackoverflow.com/users/8057127/harsh-gundecha"}, "is_accepted": false, "score": 0, "last_activity_date": 1618642818, "creation_date": 1618642818, "answer_id": 67135567, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu/67135567#67135567", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I got the same error and the problem was that my <em>model</em> didn't implement <em><strong>Serializable</strong></em>, so check this as well, might help since this is also <strong>one of the reason</strong>.</p>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177273, "favorite_count": 12, "accepted_answer_id": 53192674, "answer_count": 20, "score": 107, "last_activity_date": 1618642818, "creation_date": 1541600965, "last_edit_date": 1604121876, "question_id": 53191468, "link": "https://stackoverflow.com/questions/53191468/no-creators-like-default-construct-exist-cannot-deserialize-from-object-valu", "title": "No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator", "body": "<p>I am trying to consume an API using Retrofit and Jackson to deserialize. I am getting the onFailure error <code>No Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator</code>.</p>\n"}, {"tags": ["kotlin", "vert.x", "kotlin-coroutines", "vertx-verticle"], "comments": [{"owner": {"reputation": 3624, "user_id": 820861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZdzk.jpg?s=128&g=1", "display_name": "Pravin Divraniya", "link": "https://stackoverflow.com/users/820861/pravin-divraniya"}, "edited": false, "score": 0, "creation_date": 1542273222, "post_id": 53191439, "comment_id": 93511985, "body": "Which kotlin version are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "edited": false, "score": 0, "creation_date": 1541642532, "post_id": 53194433, "comment_id": 93289669, "body": "As I mentioned in my question I was particularly looking for a solution on how I can make a call to coroutine IO blocking call from a non suspend function. I just simplified my use case in the code snippet. For example , guava cache provides a reload function,  I would like to override the reload function (non suspend function)  and call  a coroutine function from the reload method to refresh cache value from database or network call. We cannot use suspendCoroutine as well since the reload method is not suspend function and inside suspendCoroutine we cannot call coroutine function"}, {"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1541860689, "post_id": 53194433, "comment_id": 93365824, "body": "A call of a suspended function from a not suspended one is always blocking. You can use <code>runBlocking</code> for that."}, {"owner": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "reply_to_user": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1541862749, "post_id": 53194433, "comment_id": 93366338, "body": "@sedovav  If you see I am using a run blocking in my question, my problem when I am calling  a suspend function from a non suspend function and called suspend function is calling another suspend function ( here in the question delay function) , the entire thread gets blocked and application never recovers"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "edited": false, "score": 0, "creation_date": 1541876423, "post_id": 53194433, "comment_id": 93370274, "body": "@DevLoper I have changed my answer and hope it is better now."}, {"owner": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "edited": false, "score": 0, "creation_date": 1541912021, "post_id": 53194433, "comment_id": 93376952, "body": "@Rene the answer is now addressing the problem I discussed, but it is not solving it completely. If I use your solution I am getting  below error Exception in thread &quot;main&quot; io.vertx.core.VertxException: Executed from the wrong thread. Context not found for ForkJoinPool.commonPool-worker-1 . This is because the suspend function uses the httpclient provided by vertx and default dispatcher does not have the vertx context."}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "edited": false, "score": 0, "creation_date": 1541925516, "post_id": 53194433, "comment_id": 93379022, "body": "@DevLoper Then you have to switch the dispatchers. Your blocking function <code>awaitBlockingExample</code> must run in another thread. Which should be the default anyway, because the external callback will typically use its own thread. Now you can use the <code>vertx. dispatcher</code> for the internal coroutines.  I will adapt my answer, but the point with the httpclient is not in your question."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 3, "last_activity_date": 1541926036, "last_edit_date": 1541926036, "creation_date": 1541610620, "answer_id": 53194433, "question_id": 53191439, "link": "https://stackoverflow.com/questions/53191439/kotlin-vertx-with-coroutines-blocks-when-trying-to-call-run-blocking/53194433#53194433", "title": "Kotlin Vertx with Coroutines blocks when trying to call run blocking", "body": "<p>The problem is that the <code>vertx.dispatcher()</code> uses a single thread as an event loop and <code>runBlocking</code> blocks this thread. </p>\n\n<p>Details:</p>\n\n<p>Your <code>awaitBlockingExample()</code> function is running on this Vertx event loop thread, because it is triggered from the <code>suspend start()</code> function. If you invoke <code>runBlocking()</code> this Vertx-thread is blocked and never released. But your other coroutines, e.g. <code>async()</code>, now have no thread to do their work.</p>\n\n<p>Solution: </p>\n\n<p>I assume that the invocation of <code>awaitBlockingExample</code> from the <code>start</code> function happens only in this example. In reality I would assume that the external callback uses its own thread. Then there is no problem at all, because now the external thread is blocked:</p>\n\n<pre><code>override suspend fun start() {\n\n    //simulate own thread for external callback\n    thread {\n        awaitBlockingExample()\n    }\n}\n\nfun awaitBlockingExample():String {\n\n    val future= async(vertx.dispatcher()) {\n\n        makeSuspendFunCall()\n    }\n    val result:String= runBlocking(vertx.dispatcher()){future.await()}\n    println(\" The final Result is $result\")\n    return result\n}\n</code></pre>\n\n<p>BTW: You don't require the <code>async()</code> block, you can directly call the <code>makeSuspendFunCall()</code> from <code>runBlocking()</code></p>\n\n<pre><code>fun awaitBlockingExample():String = runBlocking(vertx.dispatcher()){\n    val result = makeSuspendFunCall()\n    println(\" The final Result is $result\")\n    result\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1542172696, "creation_date": 1542172696, "answer_id": 53293617, "question_id": 53191439, "link": "https://stackoverflow.com/questions/53191439/kotlin-vertx-with-coroutines-blocks-when-trying-to-call-run-blocking/53293617#53293617", "title": "Kotlin Vertx with Coroutines blocks when trying to call run blocking", "body": "<p>Try next approach:</p>\n\n<pre><code>override fun start() {\n    GlobalScope.launch {\n        val result = awaitBlockingExample()\n    }\n}\n\nsuspend fun awaitBlockingExample(): String {\n    val response =  makeSuspendFunCall()\n    println(\" The final Result is $response\")\n    return response\n}\n\nsuspend fun makeSuspendFunCall():String{\n    println(\"Comming here 3\")\n    return suspendCoroutine {\n        delay(500)\n        val resp=\"Test\"\n        it.resume(resp)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3624, "user_id": 820861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZdzk.jpg?s=128&g=1", "display_name": "Pravin Divraniya", "link": "https://stackoverflow.com/users/820861/pravin-divraniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1542350855, "last_edit_date": 1542350855, "creation_date": 1542276617, "answer_id": 53317006, "question_id": 53191439, "link": "https://stackoverflow.com/questions/53191439/kotlin-vertx-with-coroutines-blocks-when-trying-to-call-run-blocking/53317006#53317006", "title": "Kotlin Vertx with Coroutines blocks when trying to call run blocking", "body": "<p><strong>For Kotlin 1.3.0 and above</strong></p>\n\n<pre><code>private val mainScope = CoroutineScope(Dispatchers.Main)\n\nfun start(){\n        mainScope.launch { \n            val data = withContext(Dispatchers.IO){\n                //This function will return the result. Return type of the below function will be type of data variable above.\n                awaitBlockingExample()\n            }\n            //use your data result from async call. Result will be available here as soon as awaitBlockingExample() return it.\n        }\n        //Your function will continue execution without waiting for async call to finish.\n    }\n\n fun awaitBlockingExample():String {\n    //Your Logic\n   }\n</code></pre>\n\n<p>Hope this will help.</p>\n"}], "owner": {"reputation": 209, "user_id": 2638452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0086ee03d3372edc7f12f4f3cd8a9f2?s=128&d=identicon&r=PG", "display_name": "Dev Loper", "link": "https://stackoverflow.com/users/2638452/dev-loper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 2, "accepted_answer_id": 53194433, "answer_count": 3, "score": 1, "last_activity_date": 1567000387, "creation_date": 1541600868, "last_edit_date": 1567000387, "question_id": 53191439, "link": "https://stackoverflow.com/questions/53191439/kotlin-vertx-with-coroutines-blocks-when-trying-to-call-run-blocking", "title": "Kotlin Vertx with Coroutines blocks when trying to call run blocking", "body": "<p>I am using a third party library which has exposed a callback function. The call back function will be called upon success . The callback function is not a suspend function, but when I trying to make a call inside the non suspend function to return the result of a suspend function which makes IO call using aysnc and await , the call never gets compelted. Below I have come up with a simple code snippet which demonstrates the problem. </p>\n\n<pre><code>open class TestVerticle: CoroutineVerticle() {\n\n  override suspend fun start() {\n\n    awaitBlockingExample()\n\n  }\n\n fun awaitBlockingExample():String {\n\n    val future= async(vertx.dispatcher()) {\n\n        makeSuspendFunCall()\n     }\n     val result:String= runBlocking(vertx.dispatcher()){future.await()}\n     println(\" The final Result is $result\")\n     return result\n   }\n\n  suspend fun makeSuspendFunCall():String{\n    println(\"Comming here 3\")\n    delay(500)\n    val resp=\"Test\"\n    return resp\n  }\n\n}\nfun main(args: Array&lt;String&gt;) = runBlocking {\n    Vertx.vertx().deployVerticle(\"TestVerticle\")\n}\n</code></pre>\n\n<p>The program runs fines if I remove the delay function in makeSuspendFunCall, but it will get hung if I add the delay function. I am actually simulating suspend function network call using the delay function here. How can I get result from awaitBlockingExample in this scenario ? I clearly understand that by making awaitBlockingExample as suspend function I can make this work and remove the async and run blocking calls inside. But here awaitBlockingExample (non suspend function) represents a implementation provided by a this party library where its  overridden in our implementation .  For example , guava cache provides a reload function, I would like to override the reload function (non suspend function) and call a coroutine function from the reload method to refresh cache value from database or network call.</p>\n"}, {"tags": ["java", "android", "kotlin", "annotation-processing", "kotlinpoet"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8191360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d081885a1b43181155f7510db3cdda0?s=128&d=identicon&r=PG", "display_name": "Mohamed Hamdan", "link": "https://stackoverflow.com/users/8191360/mohamed-hamdan"}, "edited": false, "score": 0, "creation_date": 1541620553, "post_id": 53192097, "comment_id": 93282232, "body": "Thank you, this works fine for me, The WinAnalytics library developed by me so i can change it I have downgraded the kotlinpoet on WinAnalytics library because I can&#39;t update permission dispatcher library it&#39;s use androidx in 4.0 version and my project doesn&#39;t compatible with androidx yet, hopefully I do upgrade to androidx in my project ASAP, thank you again"}], "tags": [], "owner": {"reputation": 846, "user_id": 1405125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa473626b2eb332039bfed158d09ba6?s=128&d=identicon&r=PG", "display_name": "jbunting", "link": "https://stackoverflow.com/users/1405125/jbunting"}, "is_accepted": true, "score": 1, "last_activity_date": 1541602972, "creation_date": 1541602972, "answer_id": 53192097, "question_id": 53191316, "link": "https://stackoverflow.com/questions/53191316/java-lang-nosuchmethoderror-com-squareup-kotlinpoet-propertyspeccompanion-varb/53192097#53192097", "title": "java.lang.NoSuchMethodError: com.squareup.kotlinpoet.PropertySpec$Companion.varBuilder", "body": "<p>This usually happens when you have a dependency conflict. It appears that <code>permissionsdispatcher</code> depends on <code>kotlinpoet</code> <code>0.6.0</code>. However, <code>WinAnalytics</code> depends on <code>kotlinpoet</code> <code>1.0.0-RC2</code>. So when you added it, it updated your version of <code>kotlinpoet</code> to a version incompatible with <code>permissionsdispatcher</code>.</p>\n\n<p>The <code>PropertySpec$Companion.varBuilder</code> method exists in <code>kotlinpoet</code> <code>0.6.0</code> but was removed in <code>1.0.0-RC2</code>. </p>\n\n<p>I can't test this because I don't have your project but here are the things that I would try (if possible):</p>\n\n<ol>\n<li><p>Upgrade <code>permissionsdispatcher</code> to <code>4.0.0</code> -- this uses a newer version of <code>kotlinpoet</code> (<code>1.0.0-RC1</code>) although that still has the <code>varBuilder</code> methods.</p></li>\n<li><p>Force the <code>kotlinpoet</code> version to <code>1.0.0-RC1</code> (hopefully <code>WinAnalytics</code> will still work). </p></li>\n</ol>\n\n<p>If neither of these work, then you will likely need to restructure your project so that the <code>kotlinpoet</code> processing for <code>permissionsdispatcher</code> is in a different module from the <code>kotlinpoet</code> processing for <code>WinAnalytics</code>. Exactly how to go about this depends on your project specifics.</p>\n"}], "owner": {"reputation": 55, "user_id": 8191360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d081885a1b43181155f7510db3cdda0?s=128&d=identicon&r=PG", "display_name": "Mohamed Hamdan", "link": "https://stackoverflow.com/users/8191360/mohamed-hamdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 0, "accepted_answer_id": 53192097, "answer_count": 1, "score": 0, "last_activity_date": 1541602972, "creation_date": 1541600448, "question_id": 53191316, "link": "https://stackoverflow.com/questions/53191316/java-lang-nosuchmethoderror-com-squareup-kotlinpoet-propertyspeccompanion-varb", "title": "java.lang.NoSuchMethodError: com.squareup.kotlinpoet.PropertySpec$Companion.varBuilder", "body": "<p>I'm trying yo add this <a href=\"https://github.com/Winfooz/WinAnalytics\" rel=\"nofollow noreferrer\">third party</a> to my project this third party used annotation processing with kotlinpoet to generate analytics classes for log user events on firebase or whatever analytical tools, but i faced this issue</p>\n\n<pre><code>e: [kapt] An exception occurred: java.lang.NoSuchMethodError: com.squareup.kotlinpoet.PropertySpec$Companion.varBuilder(Ljava/lang/String;Lcom/squareup/kotlinpoet/TypeName;[Lcom/squareup/kotlinpoet/KModifier;)Lcom/squareup/kotlinpoet/PropertySpec$Builder;\n    at permissions.dispatcher.processor.impl.kotlin.KotlinBaseProcessorUnit.createPendingRequestProperty(KotlinBaseProcessorUnit.kt:97)\n    at permissions.dispatcher.processor.impl.kotlin.KotlinBaseProcessorUnit.createProperties(KotlinBaseProcessorUnit.kt:71)\n    at permissions.dispatcher.processor.impl.kotlin.KotlinBaseProcessorUnit.createFile(KotlinBaseProcessorUnit.kt:41)\n    at permissions.dispatcher.processor.impl.kotlin.KotlinBaseProcessorUnit.createFile(KotlinBaseProcessorUnit.kt:18)\n    at permissions.dispatcher.processor.PermissionsProcessor.processKotlin(PermissionsProcessor.kt:89)\n    at permissions.dispatcher.processor.PermissionsProcessor.process(PermissionsProcessor.kt:66)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:99)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:55)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:27)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:218)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:183)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:100)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:95)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:105)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:366)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:120)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1029)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1071)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1028)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\n    at sun.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>this is my gradle files </p>\n\n<p><strong>App build gradle</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1+'\n    }\n}\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: \"kotlin-android\"\napply plugin: \"kotlin-android-extensions\"\napply plugin: 'kotlin-kapt'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n}\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n\n    dexOptions {\n        javaMaxHeapSize \"2g\"\n        jumboMode true\n    }\n\n    defaultConfig {\n        applicationId \"com.mohamed\"\n\n        minSdkVersion 21\n        targetSdkVersion 28\n\n        versionCode APP_VERSION_CODE as Integer\n        versionName APP_VERSION_NAME\n\n        manifestPlaceholders = [fireBaseEnabled: false]\n\n        buildConfigField \"String\", \"API_BASE_URL\", DEV_API_BASE_URL\n\n        setProperty(\"archivesBaseName\", \"$archivesBaseName-$versionName\")\n\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n\n        ndk { abiFilters \"armeabi\", \"armeabi-v7a\", \"x86\", \"x86_64\", \"mips\", \"mips64\" }\n    }\n\n    buildTypes {\n\n        debug {\n            debuggable true\n            minifyEnabled false\n            versionNameSuffix \"-dev\"\n            applicationIdSuffix \".dev\"\n            manifestPlaceholders = [fireBaseEnabled: true]\n\n            buildConfigField \"String\", \"API_BASE_URL\", DEV_API_BASE_URL\n            buildConfigField \"String\", \"FIREBASE_ENVIRONMENT\", SUBDOMAIN_DEV\n\n            ext.enableCrashlytics = true\n        }\n    }\n\n    applicationVariants.all { variant -&gt;\n        variant.outputs.all { output -&gt;\n\n            def buildType = variant.variantData.variantConfiguration.buildType.name\n            def newApkName = buildType + \".apk\"\n\n            outputFileName = new File(newApkName)\n        }\n\n        buildConfigField \"String\", \"MOBILE_API_VERSION\", MOBILE_API_VERSION\n    }\n\n\n    lintOptions {\n        abortOnError false\n    }\n\n    configurations {\n        cleanedAnnotations\n        compile.exclude group: 'org.jetbrains', module: 'annotations'\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        exclude 'META-INF/rxjava.properties'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.mockito:mockito-core:2.6.8'\n\n    implementation 'com.android.support:gridlayout-v7:28.0.0'\n\n    implementation 'com.github.paolorotolo:expandableheightlistview:1.0.0'\n\n    implementation 'com.orhanobut:dialogplus:1.11@aar'\n\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n\n    implementation 'net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:2.1.0'\n\n    implementation 'com.android.support.constraint:constraint-layout:1.1.1'\n\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation \"com.android.support:design:28.0.0\"\n\n    implementation 'com.android.support:multidex:1.0.3'\n\n    implementation 'com.android.support:support-dynamic-animation:28.0.0'\n\n    implementation 'com.hannesdorfmann.mosby:mvp:2.0.1'\n\n    implementation 'com.squareup.okhttp3:okhttp:3.8.1'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n\n    implementation 'com.jakewharton:butterknife:8.8.1'\n    kapt 'com.jakewharton:butterknife-compiler:8.8.1'\n\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.2@aar') {\n        transitive = true;\n    }\n\n    implementation 'commons-io:commons-io:2.4'\n\n    implementation 'org.apache.commons:commons-collections4:4.1'\n\n    implementation 'org.jetbrains:annotations-java5:15.0'\n\n    implementation 'com.google.android.gms:play-services-vision:17.0.2'\n\n    implementation 'com.google.android:flexbox:0.3.2'\n\n    implementation 'com.google.firebase:firebase-core:16.0.4'\n\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n\n    implementation 'com.google.firebase:firebase-database:16.0.4'\n\n    debugImplementation 'com.facebook.stetho:stetho:1.5.0'\n    implementation 'com.facebook.stetho:stetho-okhttp3:1.5.0'\n\n    implementation 'com.squareup:otto:1.3.8'\n\n    implementation 'com.writingminds:FFmpegAndroid:0.3.2'\n\n    implementation 'com.github.michael-rapp:android-material-validation:2.1.2'\n\n    implementation 'com.googlecode.libphonenumber:libphonenumber:8.2.0'\n\n    implementation 'com.instabug.library:instabug:4.5.0'\n\n    implementation 'com.facebook.fresco:fresco:1.8.1'\n    implementation 'com.facebook.fresco:imagepipeline-okhttp3:1.8.1'\n\n    implementation 'com.getkeepsafe.relinker:relinker:1.2.3'\n\n    implementation 'me.zhanghai.android.materialratingbar:library:1.2.0'\n\n    implementation 'eu.davidea:flexible-adapter:5.0.0-rc4'\n\n    implementation 'com.afollestad.material-dialogs:core:0.9.6.0'\n\n    implementation('com.journeyapps:zxing-android-embedded:3.6.0') { transitive = false }\n    implementation 'com.google.zxing:core:3.3.0'\n\n    implementation('com.github.hotchemi:permissionsdispatcher:3.2.0') {\n        exclude module: \"support-v13\"\n    }\n    kapt \"com.github.hotchemi:permissionsdispatcher-processor:3.2.0\"\n\n    implementation 'com.github.yalantis:ucrop:2.2.2-native'\n\n    implementation 'com.chaos.view:pinview:1.3.2'\n\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation \"android.arch.persistence.room:runtime:1.1.1\"\n    kapt \"android.arch.persistence.room:compiler:1.1.1\"\n    implementation \"android.arch.persistence.room:rxjava2:1.1.1\"\n    implementation 'io.reactivex.rxjava2:rxandroid:2.1.0'\n\n    implementation 'com.google.dagger:dagger:2.17'\n    implementation 'com.google.dagger:dagger-android-support:2.17'\n    kapt 'com.google.dagger:dagger-compiler:2.17'\n    kapt 'com.google.dagger:dagger-android-processor:2.17'\n\n    // For support multiple screen sized\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n\n    implementation 'com.winfooz.winanalytics:winanalytics:1.0.3-beta'\n    kapt 'com.winfooz.winanalytics:compiler:1.0.3-beta'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>Project build gradle</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.0'\n\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n\n        classpath 'com.google.gms:google-services:4.0.1'\n\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        maven {\n            url \"https://maven.google.com\"\n        }\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n        maven { url \"https://dl.bintray.com/mnayef95/WinAnalytics\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>gradle properties</strong></p>\n\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\norg.gradle.parallel=true\norg.gradle.daemon=true\n\n#subdomain\nSUBDOMAIN_DEV=\"example\"\nSUBDOMAIN_STAGING=\"example\"\n\nMOBILE_API_VERSION=\"/v10/\"\nAPP_VERSION_NAME=1.0.0\nAPP_VERSION_CODE=1\n\n# API_BASE_URL\nDEV_API_BASE_URL=\"https://example.com\"\nSTAGING_API_BASE_URL=\"http://example.com\"\nRELEASE_API_BASE_URL=\"https://www.example.com\"\n\n#FireBase Real time database child nodes\n# Value to handle default Firebase root node\nFIREBASE_PRODUCTION_NODE=\"root\"\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n</code></pre>\n\n<p>Please keep in your mind this third party witch i'm trying to add to my project working fine on other projects but not working on my project.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 668, "user_id": 3427316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c823b3b71467c27fab3da779212bbce?s=128&d=identicon&r=PG&f=1", "display_name": "Donald Wu", "link": "https://stackoverflow.com/users/3427316/donald-wu"}, "edited": false, "score": 0, "creation_date": 1541677669, "post_id": 53191018, "comment_id": 93302243, "body": "try <code>glide</code> android lib"}], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541600908, "post_id": 53191233, "comment_id": 93271624, "body": "thank you for your answer . when l use your second code    ` <code>Picasso.get(view.context).load(R.drawable.ic_mtrl_chip_check&zwnj;&#8203;ed_black || url).into(LogoAriline)</code>"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541601096, "post_id": 53191233, "comment_id": 93271723, "body": "l got error   <code>too many arauments for public open fun get() picasso! defined in com.squareup.picasso.picasso</code>"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541602567, "post_id": 53191233, "comment_id": 93272657, "body": "Use <code>with(view.context) </code> instead of <code>get()</code>"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541602883, "post_id": 53191233, "comment_id": 93272897, "body": "again i  have error <code>unresolved reference with</code> if l use with"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541603667, "post_id": 53191233, "comment_id": 93273475, "body": "<code>Picasso.get(with(view.context)).load(R.drawable.abc_btn_radi&zwnj;&#8203;o_material || url).into(LogoAriline)</code> even l have error <code>unresolved reference url</code>"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541604013, "post_id": 53191233, "comment_id": 93273700, "body": "<code>Picasso.with(view.context)         .load(R.drawable.drawableName || url)       .into(LogoAriline)</code>  Dont need get"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541604050, "post_id": 53191233, "comment_id": 93273723, "body": "and remove <code>|| url</code> from <code>.load()</code>"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541604264, "post_id": 53191233, "comment_id": 93273868, "body": "its same error if i use <code>with(view.context)</code> l got red line unresolved reference with"}, {"owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "reply_to_user": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1541604862, "post_id": 53191233, "comment_id": 93274271, "body": "I&#39;ve not got enough reputation to take this to chat so please post code again  <code>Picasso.with(view.context) .load(R.drawable.abc_btn_radio_material) .into(LogoAriline)</code>  Should be fine?"}], "tags": [], "owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1541600453, "last_edit_date": 1541600453, "creation_date": 1541600141, "answer_id": 53191233, "question_id": 53191018, "link": "https://stackoverflow.com/questions/53191018/how-get-image-in-listview-kotlin/53191233#53191233", "title": "how get image in listView Kotlin", "body": "<pre><code>LogoAriline.setImageResource(R.drawable.drawableName)\n</code></pre>\n\n<p>or alternatively implement Picasso <a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">http://square.github.io/picasso/</a></p>\n\n<p>and use:</p>\n\n<pre><code>Picasso.with(view.context)    \n    .load(R.drawable.drawableName || url)  \n    .into(LogoAriline)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541605131, "creation_date": 1541605131, "answer_id": 53192756, "question_id": 53191018, "link": "https://stackoverflow.com/questions/53191018/how-get-image-in-listview-kotlin/53192756#53192756", "title": "how get image in listView Kotlin", "body": "<p>l find solution and his working fine without any error . </p>\n\n<pre><code>Picasso.get().load(list[position].logo).into(LogoAriline)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 1, "last_activity_date": 1541688068, "creation_date": 1541688068, "answer_id": 53210020, "question_id": 53191018, "link": "https://stackoverflow.com/questions/53191018/how-get-image-in-listview-kotlin/53210020#53210020", "title": "how get image in listView Kotlin", "body": "<p>You can use Glide library</p>\n\n<pre><code>Glide.from(convertView).load(image_source).into(LogoAriline)\n</code></pre>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1541688068, "creation_date": 1541599342, "last_edit_date": 1541644985, "question_id": 53191018, "link": "https://stackoverflow.com/questions/53191018/how-get-image-in-listview-kotlin", "title": "how get image in listView Kotlin", "body": "<p>I want add text and images in listview in android app kotlin . I have successfully parsed text in listview but failed to add images. I m also getting url of images such as url/image.jpeg but do not know how to add images in imageview in <code>override fun getView</code> . </p>\n\n<p>Code :</p>\n\n<pre><code>  override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val view : View = LayoutInflater.from(context).inflate(R.layout.row_layout,parent,false)\n\n        val CallsingID = view.findViewById(R.id.callsign_id) as AppCompatTextView\n        val StatusID = view.findViewById(R.id.airline_id) as AppCompatTextView\n        val LogoAriline = view.findViewById(R.id.imageView) as ImageView\n\n\n        // l have to add image here to get result \n\n        CallsingID.text = list[position].Callsign.toString()\n        StatusID.text = list[position].Airline\n\n        return view\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 2595, "user_id": 6334037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czgV2.jpg?s=128&g=1", "display_name": "Jitesh Prajapati", "link": "https://stackoverflow.com/users/6334037/jitesh-prajapati"}, "edited": false, "score": 0, "creation_date": 1548408715, "post_id": 53189861, "comment_id": 95538911, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13051956/how-to-set-custom-font-for-alert-dialog-in-android\">How to set custom font for alert dialog in android?</a> or <a href=\"https://stackoverflow.com/q/10675070/6334037\">Multiple TypeFace in single TextView</a>"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 7648573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h27nZgsBzoM/AAAAAAAAAAI/AAAAAAAAE50/bt32JKQC9qM/photo.jpg?sz=128", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/7648573/arfmann"}, "edited": false, "score": 0, "creation_date": 1541598265, "post_id": 53190298, "comment_id": 93270110, "body": "Thanks for the answer, but the problem is that i have an Header and a &quot;normal&quot; text and they must have different fonts, so this method doesn&#39;t works well"}], "tags": [], "owner": {"reputation": 31, "user_id": 9909279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b01ed863485844742abbb4729787f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Ribamar", "link": "https://stackoverflow.com/users/9909279/jose-ribamar"}, "is_accepted": false, "score": 0, "last_activity_date": 1541596811, "creation_date": 1541596811, "answer_id": 53190298, "question_id": 53189861, "link": "https://stackoverflow.com/questions/53189861/kotlin-custom-font-to-alertdialog/53190298#53190298", "title": "kotlin - custom font to alertDialog", "body": "<p>Android comes with a nice default font but in some cases you might want to use a different font.</p>\n\n<p>Fastest Way to use custom font android</p>\n\n<p><strong>Put your font file in asset folder</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/sGl7t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sGl7t.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Create Typeface Object</strong></p>\n\n<pre><code> Typeface customFont = Typeface.createFromAsset(getAssets(), \"fonts/Roboto-Bold.ttf\")\n</code></pre>\n\n<p><strong>Set Typeface to TextView/EditText/Button etc\u2026</strong></p>\n\n<pre><code>TextView textView = (TextView) findViewById(R.id.my_textview);\ntextView.setTypeface(customFont);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 624, "user_id": 2046629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1dXWw.png?s=128&g=1", "display_name": "NonowPoney", "link": "https://stackoverflow.com/users/2046629/nonowponey"}, "is_accepted": false, "score": 0, "last_activity_date": 1548408509, "creation_date": 1548408509, "answer_id": 54362338, "question_id": 53189861, "link": "https://stackoverflow.com/questions/53189861/kotlin-custom-font-to-alertdialog/54362338#54362338", "title": "kotlin - custom font to alertDialog", "body": "<p>I get around the problem like this :</p>\n\n<p>Customize the view  </p>\n\n<p>dialog_custom_nunito.xml :</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:orientation=\"vertical\"&gt;\n\n    &lt;TextView android:id=\"@+id/custom_dialog_tv\" android:layout_width=\"wrap_content\"\n              android:layout_margin=\"12sp\"\n              android:textSize=\"18sp\"\n              android:layout_height=\"wrap_content\" android:text=\"@string/warning_recherche_no_found\"/&gt;\n\n&lt;/LinearLayout&gt;  \n</code></pre>\n\n<p>Kotlin Code : </p>\n\n<pre><code>val builder = AlertDialog.Builder(this)\nbuilder.setView(R.layout.dialog_custom_nunito)\nbuilder.setNegativeButton(\"OK\") { dialogInterface, i -&gt; }\n                    builder.show()\n</code></pre>\n\n<p>I hope it will help other people,</p>\n"}], "owner": {"reputation": 303, "user_id": 7648573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h27nZgsBzoM/AAAAAAAAAAI/AAAAAAAAE50/bt32JKQC9qM/photo.jpg?sz=128", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/7648573/arfmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 814, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1548408509, "creation_date": 1541595278, "last_edit_date": 1541595481, "question_id": 53189861, "link": "https://stackoverflow.com/questions/53189861/kotlin-custom-font-to-alertdialog", "title": "kotlin - custom font to alertDialog", "body": "<p>I must change default font of <code>alertDialog.setMessage</code> and <code>alertDialog.setTitle</code> but I can't use a custom layout, so I have to change it by code in <strong>Kotlin</strong>.\nI tried using typeface, but he doesn't detect the font in <code>res/font/product_sans_bold.ttf</code></p>\n\n<p>I also used </p>\n\n<pre><code>content.text = Html.fromHtml(resources.getString(R.string.centripetaFormule))\ncontent.typeface = ResourcesCompat.getFont(applicationContext, R.font.product_sans_bold)\nalertDialog.setView(content)\n</code></pre>\n\n<p>and it works, but not as i want.</p>\n\n<p>I have a string </p>\n\n<pre><code>&lt;string name =\"centripetaFormule&gt;![CDATA[&lt;h5&gt;(...)&lt;/h5&gt;&lt;p&gt;(...)&lt;/p&gt; \n</code></pre>\n\n<p>where <code>h5</code> is bold, so using variable content there will be no differences between h5 and \"normal\" text, except for the size. </p>\n\n<p>So, I want to change font just for normal text, I can't use a custom layout, I have to use strings with <code>CDATA</code>.</p>\n\n<p>How to do that?</p>\n\n<p>Hope I explained it well</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1541595244, "post_id": 53189207, "comment_id": 93268546, "body": "Take a look at <a href=\"https://github.com/aminography/PrimeAdapter\" rel=\"nofollow noreferrer\">github.com/aminography/PrimeAdapter</a>"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8643370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HNMW0.jpg?s=128&g=1", "display_name": "fardad", "link": "https://stackoverflow.com/users/8643370/fardad"}, "edited": false, "score": 0, "creation_date": 1541594497, "post_id": 53189383, "comment_id": 93268229, "body": "Thank you for your answer"}], "tags": [], "owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "is_accepted": true, "score": 4, "last_activity_date": 1541593277, "creation_date": 1541593277, "answer_id": 53189383, "question_id": 53189207, "link": "https://stackoverflow.com/questions/53189207/android-recyclerview-with-different-view-type-in-kotlin/53189383#53189383", "title": "Android recyclerview with different view type in kotlin", "body": "<p>Do't return null in your onCreateViewHolder method,try to do as following code</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseViewHolder&lt;*&gt; {\n\n    when (viewType)\n    {\n        Constant_ViewType_RecyclerView.ViewType.ListOfActivation_Type1 -&gt; return ListOfActivation_MainActivity_Holder(mInflator!!.inflate(R.layout.activities_layout_item,parent,false))\n        else -&gt; return ListOfActivation_MainActivity2_Holder(mInflator!!.inflate(R.layout.activities_layout_items_type2,parent,false))\n    } \n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "is_accepted": false, "score": 6, "last_activity_date": 1541597916, "creation_date": 1541597916, "answer_id": 53190582, "question_id": 53189207, "link": "https://stackoverflow.com/questions/53189207/android-recyclerview-with-different-view-type-in-kotlin/53190582#53190582", "title": "Android recyclerview with different view type in kotlin", "body": "<pre><code>  override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseViewHolder&lt;*&gt; {\n        return when (viewType) {\n            Constant_ViewType_RecyclerView.ViewType.ListOfActivation_Type1 -&gt; ListOfActivation_MainActivity_Holder(mInflator!!.inflate(R.layout.activities_layout_item, parent, false))\n            Constant_ViewType_RecyclerView.ViewType.ListOfActivation_Type2 -&gt; ListOfActivation_MainActivity2_Holder(mInflator!!.inflate(R.layout.activities_layout_item2, parent, false))      \n            else -&gt; throw IllegalStateException(\"Illegal view type\")\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8643370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HNMW0.jpg?s=128&g=1", "display_name": "fardad", "link": "https://stackoverflow.com/users/8643370/fardad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3769, "favorite_count": 2, "accepted_answer_id": 53189383, "answer_count": 2, "score": 4, "last_activity_date": 1541597916, "creation_date": 1541592588, "last_edit_date": 1541593692, "question_id": 53189207, "link": "https://stackoverflow.com/questions/53189207/android-recyclerview-with-different-view-type-in-kotlin", "title": "Android recyclerview with different view type in kotlin", "body": "<p>I created a RecyclerView with multiple view types with(technique Dynamic Method Dispatch or Runtime Polymorphism. ) in <strong>Kotlin</strong> ,\nnow I have <strong>ViewHolder</strong> As in the figure below</p>\n\n<pre><code>abstract class BaseViewHolder&lt;T&gt; internal constructor(itemView: View) : RecyclerView.ViewHolder(itemView){\n\n    abstract fun bind(_object:T)\n}\n</code></pre>\n\n<p>and I have Adapter As in the figure below</p>\n\n<pre><code>class activation_items_main_activity (list: List&lt;out BaseModel&gt;,context: Context):RecyclerView.Adapter&lt;BaseViewHolder&lt;*&gt;&gt;() {\n\n    private var mList: List&lt;out BaseModel&gt;? = null\n    private var mInflator:LayoutInflater ? = null\n\n    init {\n\n        this.mList = list\n        this.mInflator = LayoutInflater.from(context)\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseViewHolder&lt;*&gt; {\n\n        when (viewType)\n        {\n            Constant_ViewType_RecyclerView.ViewType.ListOfActivation_Type1 -&gt; return ListOfActivation_MainActivity_Holder(mInflator!!.inflate(R.layout.activities_layout_item,parent,false))\n            Constant_ViewType_RecyclerView.ViewType.ListOfActivation_Type2 -&gt; return ListOfActivation_MainActivity2_Holder(mInflator!!.inflate(R.layout.activities_layout_items_type2,parent,false))\n        }\n\n        return null // -----&gt; **problem return null** \n\n    }\n\n    override fun getItemCount(): Int {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onBindViewHolder(holder: BaseViewHolder&lt;*&gt;, position: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return mList!![position].viewType\n    }\n\n    class ListOfActivation_MainActivity_Holder(itemView: View):BaseViewHolder&lt;ListOfActivation_MainActivity&gt;(itemView)\n    {\n\n        override fun bind(_object: ListOfActivation_MainActivity) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n    }\n\n    class ListOfActivation_MainActivity2_Holder(itemView: View):BaseViewHolder&lt;ListOfActivation2_MainActivity&gt;(itemView)\n    {\n        override fun bind(_object: ListOfActivation2_MainActivity) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n    }\n</code></pre>\n\n<p>now I Can't return null value in the onCreateViewHolder method after expression When() and show message error <strong>\"Null can not be a value of a non-null type BaseViewHolder&lt;*>\"</strong>\nI don't know how can I fix it.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1490, "user_id": 4424680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c17ba831e770f869c0e6ed689f55ed5?s=128&d=identicon&r=PG&f=1", "display_name": "gringogordo", "link": "https://stackoverflow.com/users/4424680/gringogordo"}, "edited": false, "score": 0, "creation_date": 1541592655, "post_id": 53189127, "comment_id": 93267328, "body": "it&#39;s going to take me some time to get my head around that (I was going more down the map-&gt;flatmap route, which I guess means I haven&#39;t quite grasped the real point of lambda&#39;s yet...  Yes, I realise about the dupes, I thought I was looking for all passengers who&#39;d used any driver more than once so was going process this list further but then realised I was only looking for repeat passengers for a specific driver..."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 1490, "user_id": 4424680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c17ba831e770f869c0e6ed689f55ed5?s=128&d=identicon&r=PG&f=1", "display_name": "gringogordo", "link": "https://stackoverflow.com/users/4424680/gringogordo"}, "edited": false, "score": 0, "creation_date": 1541597125, "post_id": 53189127, "comment_id": 93269495, "body": "Yeah, functional programming takes a while to get your head around.  If you don&#39;t have any luck put a comment in here asking for more info and I&#39;ll update my answer with a more verbose explanation.  Good luck."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 3, "last_activity_date": 1541645163, "last_edit_date": 1541645163, "creation_date": 1541592286, "answer_id": 53189127, "question_id": 53188907, "link": "https://stackoverflow.com/questions/53188907/flatmap-a-list-of-keys-and-sets-into-a-list-of-pairs/53189127#53189127", "title": "flatmap a list of keys and sets into a list of pairs", "body": "<p>So for every trip you want every combination of driver/passenger, and then you want a list of all these?  If so, would this do?</p>\n\n<pre><code>trips.flatMap { trip -&gt; \n    trip.passengers.map { passenger -&gt; \n        Pair(trip.driver, passenger) \n    } \n}\n</code></pre>\n\n<p>That gives you a <code>List&lt;Pair&lt;Driver, Passenger&gt;&gt;</code>, if that's what you're looking for?  It will potentially contain duplicates, so you might want to handle that in some way.</p>\n"}], "owner": {"reputation": 1490, "user_id": 4424680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c17ba831e770f869c0e6ed689f55ed5?s=128&d=identicon&r=PG&f=1", "display_name": "gringogordo", "link": "https://stackoverflow.com/users/4424680/gringogordo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 53189127, "answer_count": 1, "score": 1, "last_activity_date": 1541645163, "creation_date": 1541591453, "last_edit_date": 1541592034, "question_id": 53188907, "link": "https://stackoverflow.com/questions/53188907/flatmap-a-list-of-keys-and-sets-into-a-list-of-pairs", "title": "flatmap a list of keys and sets into a list of pairs", "body": "<p>I'm doing an online course and misread a question (which is why I think it's okay to post this question as the answer isn't anything to do with what was asked on the course!).   </p>\n\n<pre><code>data class Trip(\n        val driver: Driver,\n        val passengers: Set&lt;Passenger&gt;,\n        ...\n)\n\nval trips: List&lt;Trip&gt;\n</code></pre>\n\n<p>so it would end up something like </p>\n\n<pre><code>[\n    driver1 : passenger1\n    driver1 : passenger2\n    driver2 : passenger1\n    driver2 : passenger3\n...\n]\n</code></pre>\n\n<p>What I want to do is to create a list of all instances of driver and passenger, probably as pairs and I just can't think how to do it.</p>\n\n<pre><code>trips.map {t -&gt; Pair (t.driver, t.passengers)} \n</code></pre>\n\n<p>gets me some what there but obviously leaves me with the set of passengers rather than the driver:passenger pairs unpacked.  II can't get the syntax for a flatmap so </p>\n\n<pre><code> trips.flatMap {t -&gt; Pair (t.driver, t.passengers)} \n</code></pre>\n\n<p>complains that the Pair isn't iterable which I understand but I can't grasp how I would unpack the set and maintain the individual link to the driver ?</p>\n\n<p>(the actual question I noticed when composing this question gives you an individual driver to find the passengers for which makes it quite a bit easier and I've done this...) </p>\n"}, {"tags": ["kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1543808293, "post_id": 53188898, "comment_id": 94037621, "body": "You&#39;re absolutely right. <a href=\"https://github.com/kotlintest/kotlintest/issues/495\" rel=\"nofollow noreferrer\">github.com/kotlintest/kotlintest/issues/495</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2155948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc621d9d0c167b223eba692864d84aca?s=128&d=identicon&r=PG", "display_name": "Jonathan Olsson", "link": "https://stackoverflow.com/users/2155948/jonathan-olsson"}, "edited": false, "score": 1, "creation_date": 1548102532, "post_id": 54227452, "comment_id": 95415024, "body": "Thank you! Works like a charm."}], "tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 0, "last_activity_date": 1547685514, "creation_date": 1547685514, "answer_id": 54227452, "question_id": 53188898, "link": "https://stackoverflow.com/questions/53188898/calling-config-on-a-behaviorspec-test-in-kotlintest/54227452#54227452", "title": "Calling config on a BehaviorSpec test in kotlintest", "body": "<p>This is fixed in release 3.2</p>\n\n<p>Now you can do something like.</p>\n\n<pre><code>class BehaviorSpecExample : AbstractBehaviorSpec() {\n\n  init {\n    given(\"a sheet of string cells 4x4\") {\n      `when`(\"get existing cell by reference (like A1 or B2)\") {\n        then(\"should contain its value\").config(invocations = 3) {\n          // test here\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2155948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc621d9d0c167b223eba692864d84aca?s=128&d=identicon&r=PG", "display_name": "Jonathan Olsson", "link": "https://stackoverflow.com/users/2155948/jonathan-olsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 54227452, "answer_count": 1, "score": 1, "last_activity_date": 1547685514, "creation_date": 1541591416, "last_edit_date": 1541592941, "question_id": 53188898, "link": "https://stackoverflow.com/questions/53188898/calling-config-on-a-behaviorspec-test-in-kotlintest", "title": "Calling config on a BehaviorSpec test in kotlintest", "body": "<p>Is it possible to configure individual test cases in a <code>BehaviorSpec</code> in kotlintest?</p>\n\n<p>For <code>StringSpec</code> tests it is possible to do like so:</p>\n\n<pre><code>class MyTest : StringSpec({\n    \"this is a test\".config(...) {}\n})\n</code></pre>\n\n<p>I can't seem to do the same for a <code>BehaviorSpec</code>. I'd expect something like:</p>\n\n<pre><code>class MyTest : BehaviorSpec({\n    Given(\"a foo\") {\n        When(\"baring\") {\n            Then(\"bazzing\") {\n\n            }.config(...)\n        }\n    }\n})\n</code></pre>\n\n<p>According to <a href=\"https://github.com/kotlintest/kotlintest/issues/142\" rel=\"nofollow noreferrer\">this</a> supposedly solved issue, this is already implemented. But as far as I can see (using version 3.1.8 of kotlintest) <code>Then</code> returns <code>Unit</code>...</p>\n"}, {"tags": ["oop", "kotlin", "inline"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541590567, "post_id": 53188558, "comment_id": 93266343, "body": "do you not also get &quot;redundant modality modifier&quot; for <code>final</code>?"}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541592232, "post_id": 53188558, "comment_id": 93267130, "body": "No. <code>override</code> is <code>open</code> by default, and you need <code>final</code> for <code>inline</code>."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1541592458, "post_id": 53188558, "comment_id": 93267228, "body": "One thing that you definitely won&#39;t be able to do in an inlined override is to call the super method."}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 1, "creation_date": 1541593442, "post_id": 53188558, "comment_id": 93267687, "body": "Oh I forgot to put the <code>open</code> modifier on <code>Bar</code>. It was <code>open</code> in my own code."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1541618870, "post_id": 53188558, "comment_id": 93281386, "body": "You can do things in inline methods that are <i>impossible</i> in non-inlined methods.  Not all implementations of <code>Bar.qux</code> can be made to work for <code>foo.qux</code>."}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1541637894, "post_id": 53188558, "comment_id": 93288523, "body": "What exactly are these things?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1574209952, "post_id": 53188558, "comment_id": 104148167, "body": "@SOFe what did you do in the end?"}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1574220066, "post_id": 53188558, "comment_id": 104150240, "body": "Suppress the warning, since nobody told me anything wrong with it"}], "answers": [{"tags": [], "owner": {"reputation": 501, "user_id": 8772319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad9a6851809bf9ef083b211d027c0327?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8772319/adam"}, "is_accepted": false, "score": 8, "last_activity_date": 1581984841, "last_edit_date": 1581984841, "creation_date": 1579286720, "answer_id": 59793227, "question_id": 53188558, "link": "https://stackoverflow.com/questions/53188558/override-by-inline-in-kotlin/59793227#59793227", "title": "OVERRIDE_BY_INLINE in Kotlin", "body": "<p>I know this is pretty late, but here's why. You got this right:</p>\n\n<blockquote>\n  <p>It is impossible to inline a virtual method.</p>\n</blockquote>\n\n<p>But you should consider that, while <code>Bar.foo</code> is not virtual in the sense that it could be overridden (it can't be), it is virtual in the sense that a decision can be made to run it at runtime. Consider the following example which builds on your own:</p>\n\n<pre><code>interface Foo {\n    fun qux(fn: () -&gt; Unit)\n}\n\nopen class Bar : Foo {\n    final override inline fun qux(fn: () -&gt; Unit){TODO()}\n}\n\nclass Baz : Foo {\n    override fun qux(fn: () -&gt; Unit) = TODO()\n}\n\nfun main() {\n    var foo: Foo = Bar()\n    foo.qux { }          // calls Bar.qux\n    foo = Baz()\n    foo.qux { }          // calls Foo.qux\n}\n</code></pre>\n\n<p>Here, <code>Bar.qux</code> is invoked initially, but <code>Baz.qux</code> is invoked the second time. So, not <em>every</em> call can be inlined. So why is this a warning and not a compiler error, like when we declare an <code>open fun</code> with the <code>inline</code> modifier? Consider the following:</p>\n\n<pre><code>val bar: Bar = Bar()\nbar.qux { }\n</code></pre>\n\n<p>In this case, the compiler can safely inline all calls to <code>qux</code> on the variable <code>bar</code> because it's declared as a <code>Bar</code>. Even if the class is open as in your example, since the method itself is <code>final</code>, any derived type will always use exactly that <code>qux</code>. So this statement,</p>\n\n<blockquote>\n  <p>In the example above, when I invoke bar.qux(), the compiler can ensure that only this particular implementation will be used, and can safely inlined.</p>\n</blockquote>\n\n<p>is true only when the compiler statically knows the type of <code>bar</code> to be an actual <code>Bar</code>. It's an error when it's <code>open</code> because <em>none</em> of them can be inlined which definitely isn't the desired behavior, it's a warning when it's an override because only <em>some</em> of them can be inlined, which might not be the desired behavior.</p>\n\n<p><a href=\"https://pl.kotl.in/lXc54U41W\" rel=\"noreferrer\">This example is available at play.kotlinlang.org</a></p>\n"}], "owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1867, "favorite_count": 4, "answer_count": 1, "score": 21, "last_activity_date": 1581984841, "creation_date": 1541589989, "last_edit_date": 1541593447, "question_id": 53188558, "link": "https://stackoverflow.com/questions/53188558/override-by-inline-in-kotlin", "title": "OVERRIDE_BY_INLINE in Kotlin", "body": "<p>When implementing an interface in Kotlin with an <code>inline</code> function:</p>\n\n<pre><code>interface Foo {\n    fun qux(fn: () -&gt; Unit)\n}\n\nopen class Bar : Foo {\n    final override inline fun qux(fn: () -&gt; Unit){TODO()}\n}\n</code></pre>\n\n<p>the IDE (and possibly the compiler) complains with this message:</p>\n\n<pre><code>Override by an inline function\n</code></pre>\n\n<p>To suppress this message, I have to use the <code>@Suppress(\"OVERRIDE_BY_INLINE\")</code> annotation. What is wrong?</p>\n\n<p>What I am already aware:</p>\n\n<ul>\n<li>For a normal inline function, kotlinc will inline all usages of the inline function, but it will still compile the non-inline version of the function so that it can be called from Java (and possibly for backward compatibility or whatever reason).</li>\n<li>It is impossible to inline a virtual method. Inline simply means \"copy all the code into the caller\", but for invoking an abstract/interface method, the implementation is determined at runtime based on the actual class of the object involved, so it is not possible to know which implementation to copy into the function.</li>\n</ul>\n\n<p>However, this isn't the case when invoking a final function. In the example above, when I invoke <code>bar.qux()</code>, the compiler can ensure that only this particular implementation will be used, and can safely inlined. It is irrelevant with whether it overrides the <code>Foo.qux</code> method -- calling <code>foo.qux</code> will use the non-inline version mentioned in point 1, and calling <code>bar.qux</code> can inline safely.</p>\n\n<p>Is this warning there only to make sure developers are aware of this? Or are there side effects?</p>\n"}, {"tags": ["kotlin", "variable-names", "delegated-properties"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1541588804, "post_id": 53188226, "comment_id": 93265578, "body": "do you know already what <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> are?"}, {"owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1541589446, "post_id": 53188226, "comment_id": 93265866, "body": "No I was not aware of delegated properties, looks nice I will take a look at that, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1541593149, "post_id": 53188468, "comment_id": 93267541, "body": "well... maybe it suffices your needs, but be sure to also look at the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#observable\" rel=\"nofollow noreferrer\">observable</a> and <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">properties in a map</a> variants, which might even be more appropriate or easier to implement."}], "tags": [], "owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "is_accepted": true, "score": 6, "last_activity_date": 1615854792, "last_edit_date": 1615854792, "creation_date": 1541589615, "answer_id": 53188468, "question_id": 53188226, "link": "https://stackoverflow.com/questions/53188226/how-to-get-the-name-of-a-variable-in-kotlin/53188468#53188468", "title": "How to get the name of a variable in Kotlin?", "body": "<p>I think delegate properties is the solution to my problem:</p>\n<pre><code>class Delegate {\noperator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n    return &quot;$thisRef, thank you for delegating '${property.name}' to me!&quot;\n}\n\noperator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n    println(&quot;$value has been assigned to '${property.name}' in $thisRef.&quot;)\n  }\n}\n</code></pre>\n<p>Credits go to: <a href=\"https://stackoverflow.com/users/6202869/roland\">Roland</a><br />\nSource: <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": false, "score": 23, "last_activity_date": 1541602541, "creation_date": 1541602541, "answer_id": 53191973, "question_id": 53188226, "link": "https://stackoverflow.com/questions/53188226/how-to-get-the-name-of-a-variable-in-kotlin/53191973#53191973", "title": "How to get the name of a variable in Kotlin?", "body": "<p>As stated in the Kotlin <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">documentation about Reflection</a>:</p>\n\n<pre><code>val x = 1\n\nfun main() {\n    println(::x.get())\n    println(::x.name) \n}\n</code></pre>\n\n<p>The expression <code>::x</code> evaluates to a property object of type <code>KProperty&lt;Int&gt;</code>, which allows us to read its value using <code>get()</code> or retrieve the property name using the <code>name</code> property.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7112730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a5a05052d4d16664654deab7064d3d?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe E Guerrero", "link": "https://stackoverflow.com/users/7112730/felipe-e-guerrero"}, "is_accepted": false, "score": 4, "last_activity_date": 1572547025, "creation_date": 1572547025, "answer_id": 58649449, "question_id": 53188226, "link": "https://stackoverflow.com/questions/53188226/how-to-get-the-name-of-a-variable-in-kotlin/58649449#58649449", "title": "How to get the name of a variable in Kotlin?", "body": "<p>Use <code>memberProperties</code> to get the names of the class attributes and others properties. For instance:</p>\n\n<pre><code>YourClass::class.memberProperties.map {\n println(it.name)\n println(it.returnType)\n}\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10191, "favorite_count": 1, "accepted_answer_id": 53188468, "answer_count": 3, "score": 6, "last_activity_date": 1615854792, "creation_date": 1541588658, "last_edit_date": 1541645311, "question_id": 53188226, "link": "https://stackoverflow.com/questions/53188226/how-to-get-the-name-of-a-variable-in-kotlin", "title": "How to get the name of a variable in Kotlin?", "body": "<p>I have a Kotlin class in my application with a lot of attributes, what I want to build is a method that stores the variable name in a dictionary. The dictionary looks like this: </p>\n\n<pre><code>HashMap&lt;String, Pair&lt;Any, Any&gt;&gt;()\n</code></pre>\n\n<p>The purpose of this is to store the changes made to a certain attribute, I store the name of the variable as the key and in the Pair I store the old value and the new value. To notify a change I use the Observer pattern. So whenever a setter is called from an attribute a change will be notified and stored to the dictionary. </p>\n\n<p>The code below results in the folowing: </p>\n\n<pre><code>var person = Person(\"Harry\", 44)\nperson.age = 45\n</code></pre>\n\n<p><code>HashMap(\"age\", (44, 45))</code></p>\n\n<p>Right now I am just hardcoding the variable name in as a String, so my question is: </p>\n\n<p><strong>How to dynamicly get the name of a variable in Kotlin?</strong></p>\n\n<p>I saw the same question in Java: <a href=\"https://stackoverflow.com/questions/744226/java-reflection-how-to-get-the-name-of-a-variable\">Java Reflection: How to get the name of a variable?</a></p>\n\n<p>Also some other questions about the same topic claiming it is not possible: <a href=\"https://stackoverflow.com/questions/18674153/get-the-name-property-of-a-variable\">Get the name property of a variable</a></p>\n\n<p>I can understand that it is not possible to get the name of a variable, because the compiler simple doesn't have that information, but I am still currious to see if others have any sollution for this problem. </p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541588412, "post_id": 53188093, "comment_id": 93265419, "body": "<i>we must be within the main thread, because the given methods aren&#39;t thread safe.</i> -- Fyi a method being not &quot;thread safe&quot; does not mean it must be called on the main thread. Also, with coroutines you do not specify a thread for it to run on, but a dispatcher/context"}, {"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541588621, "post_id": 53188093, "comment_id": 93265501, "body": "You are right. It means, that objects and their methods are not designed to be used by multiple threads and since the server runs within the main thread (which we can call server thread, if you want), we have to access them from the same thread that calls our methods."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541588881, "post_id": 53188093, "comment_id": 93265613, "body": "Well with coroutines you can do exactly what you are doing in your first code snippet. You execute code on &quot;not main thread&quot; (not blocking, but suspending) e.g. with <code>launch(Dispatchers.IO)</code> and when that is done you continue on the thread that you started on without requiring you to switch back manually. You can specify the Main dispatcher to be the one where coroutines are run on initially"}, {"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541589440, "post_id": 53188093, "comment_id": 93265865, "body": "Thanks for your help. However, I don&#39;t really get your point. If I replace <code>launch</code> by <code>launch(Dispatchers.IO)</code>, nothing really changes. The code still runs within the spawned thread and not within the thread, where the initial call came from."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1541589556, "post_id": 53188093, "comment_id": 93265913, "body": "So what you want is for the main thread to start a coroutine, that coroutine runs on a background thread, and when it&#39;s finished, it calls some method (possibly passing in a value calculated in the coroutine) and the method which it calls is executed back on the main thread?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541589620, "post_id": 53188093, "comment_id": 93265939, "body": "Ok well IIRC you can run on Dispatchers.Unconfined if you want to run the coroutine on the calling thread, see <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/coroutine-context-and-dispatchers.md#dispatchers-and-threads\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/docs/&hellip;</a>"}, {"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1541589821, "post_id": 53188093, "comment_id": 93266024, "body": "@YoniGibbs yes, like in the first snippet.  @TimCastelijns when using <code>Unconfined</code>, the <code>.join()</code> call on the <code>CompletableFuture</code> blocks the calling thread and so the main thread, what freezes the server until the future is resolved."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1541590804, "post_id": 53188093, "comment_id": 93266437, "body": "Could you maybe convert the coroutine to a <code>CompletableFuture</code> then call <code>thenAcceptAsync</code>, passing in an executor that would run the code on your main thread?  e.g.  <code>CoroutineScope(Dispatchers.IO).future {</code> `    // In background thread - all code in here can use coroutine goodness` `    &quot;some return value&quot;` <code>}.thenAcceptAsync({</code> `    // In main thread supplied by myMainThreadExecutor)` <code>}, myMainThreadExecutor)</code>  (Sorry, can&#39;t figure out how to format the code in a comment to make it readable.)"}, {"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1541591464, "post_id": 53188093, "comment_id": 93266731, "body": "Well, the <code>db.fetchBalance</code> already is a CompletableFuture. I did not test your code, but it looks like it will end with something like my first snippet and then it won&#39;t be an improvement at all. Or am I getting you wrong? @YoniGibbs"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1541591717, "post_id": 53188093, "comment_id": 93266860, "body": "No, you&#39;re right, it will be quite similar.  But the advantage of it is that the code inside the <code>future</code> block can all use coroutines.  So if that code ends up calling a complex series of other functions, all of which you want to be non-blocking, you can write it all in a much more idiomatic fashion using coroutines rather than having lots of completable futures."}, {"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "edited": false, "score": 0, "creation_date": 1541591874, "post_id": 53188093, "comment_id": 93266959, "body": "Thank you, but I guess this attempt will not make anything better in our use cases, since my idea was to reduce boilerplate/nesting and allow a better exception handling. However, if our requirements are <i>too special</i>, CompletableFutures are okay for now."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6247520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c417b46f0954d05856ef1ddef1815297?s=128&d=identicon&r=PG", "display_name": "woodenleg", "link": "https://stackoverflow.com/users/6247520/woodenleg"}, "is_accepted": false, "score": 2, "last_activity_date": 1541607760, "creation_date": 1541607760, "answer_id": 53193615, "question_id": 53188093, "link": "https://stackoverflow.com/questions/53188093/running-non-blocking-coroutines-within-the-main-thread/53193615#53193615", "title": "Running non-blocking coroutines within the main thread", "body": "<p>Try <code>withContext</code> function. Wrap your code in it and it will be executed in desired context.  </p>\n\n<p>For Example: </p>\n\n<pre><code>withContext(Dispatchers.Main) {\n    //This will run in Main Thread\n}\n</code></pre>\n\n<p>You can replace <code>Dispatchers.Main</code> with CoroutinesContext of your choice  </p>\n\n<p><em>Note: <code>withContext</code> function is \"suspending\" function and it must be executed only in <code>Coroutine Scope</code></em></p>\n"}, {"comments": [{"owner": {"reputation": 437, "user_id": 404438, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/31f845fa46f2a4c003adb0d3953e7329?s=128&d=identicon&r=PG&f=1", "display_name": "bashizip", "link": "https://stackoverflow.com/users/404438/bashizip"}, "edited": false, "score": 0, "creation_date": 1579041786, "post_id": 55620823, "comment_id": 105633953, "body": "You should cite your sources : <a href=\"https://medium.com/@trionkidnapper/launching-a-kotlin-coroutine-for-immediate-execution-on-the-main-thread-8555e701163b\" rel=\"nofollow noreferrer\">medium.com/@trionkidnapper/&hellip;</a>"}], "tags": [], "owner": {"reputation": 869, "user_id": 7230784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21df21ecbc1c68ceac1d05e0dde6adc?s=128&d=identicon&r=PG&f=1", "display_name": "Atul", "link": "https://stackoverflow.com/users/7230784/atul"}, "is_accepted": false, "score": 1, "last_activity_date": 1554927913, "creation_date": 1554927913, "answer_id": 55620823, "question_id": 53188093, "link": "https://stackoverflow.com/questions/53188093/running-non-blocking-coroutines-within-the-main-thread/55620823#55620823", "title": "Running non-blocking coroutines within the main thread", "body": "<p><strong>Executing Immediately</strong></p>\n\n<p>What if you do need it to execute immediately? For this, you can use </p>\n\n<pre><code>Dispatchers.Main.immediate\n</code></pre>\n\n<p>Executes coroutines immediately when it is already in the right context</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    launch(Dispatchers.Main.immediate) {\n        log(\"A\")\n    }\n\n    log(\"B\")\n}\n</code></pre>\n\n<p>Print </p>\n\n<pre><code>OUTPUT:\n// A\n// B\n</code></pre>\n"}], "owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2193, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1554927913, "creation_date": 1541588152, "question_id": 53188093, "link": "https://stackoverflow.com/questions/53188093/running-non-blocking-coroutines-within-the-main-thread", "title": "Running non-blocking coroutines within the main thread", "body": "<p>We've a special use case and I need help to find out, if we can solve our problem with Kotlin's coroutines or if we have to rely on CompletableFutures.</p>\n\n<p>Basically, we write plugins for a server that is single threaded itself. This means, we can use different hooks to add logic and this logic always runs within the main thread that must not be blocked. In addition, when using the server's API, we must be within the main thread, because the given methods aren't thread safe.</p>\n\n<p>To get this working with asynchronous code, we've used the server's scheduler to spawn a producer/consumer-system that runs asynchronous tasks in the background and <em>synchronizes</em> the results back to the server's main thread. The implementation shouldn't be that important, so here is just an example of how this looks like in practice:</p>\n\n<pre><code>// execute hook that runs when a user on the server runs a command\noverride fun execute(sender: CommandSender, args: Array&lt;out String&gt;) {\n    // call comes from the main thread\n    db.fetchBalance(sender.name)\n        // fetchBalance runs asynchronous code without blocking\n        // the current thread by utilizing a consumer/producer system\n        .thenAccept {\n            // the CompletableFuture is resolved after completion\n\n            // here we are in the main thread again, so that we can access\n            // server methods in a thread safe manner\n            sender.sendMessage(\"Your balance: $it\")\n        }\n}\n</code></pre>\n\n<p>Now my question is, if the above example can be replaced with Kotlin code that makes it more readable, like async/await in JavaScript. To remember, in JavaScript we can do this:</p>\n\n<pre><code>async function onBalanceRequest(client, name) {\n  let balance = await db.fetchBalance(name);\n  client.sendMessage(\"Your money: \" + balance);\n}\n</code></pre>\n\n<p>I've asked a similar question regarding to async/await some days ago, that led to a solution that could look like this:</p>\n\n<pre><code>private fun onBalanceRequest(sender: CommandSender) {\n    // call comes from the main thread\n    GlobalScope.launch {\n        // here we are within a new thread\n        val money = db.fetchBalance(sender.name).join()\n        // here we are within the same thread, which is\n        // not the main thread, so the code below isn't safe\n        sender.sendMessage(\"Your balance: $money\")\n    }\n}\n</code></pre>\n\n<p>As described in the comments, the problem is, that after \"waiting for the future\", the code runs in the coroutine's thread. So my question is, if we can achieve something like I've described with coroutines or if they were simply not made for this use case. I've read about the possibility to specify a thread for the spawned coroutine, but then this thread would be blocked, so that won't work.</p>\n\n<p>If CompletableFutures are the only way to <em>solve</em> this problem, we will stick with them, but I wanted to give coroutines a try, since they look better to write and to handle than CompletableFutures.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "xml-parsing", "retrofit"], "comments": [{"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1541586632, "post_id": 53187373, "comment_id": 93264596, "body": "maybe its a typo? <code>@Root(strict = false, name = &quot;card-summary-response&quot;) </code> should be <code>cards-summary-response</code>"}, {"owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "reply_to_user": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1541587090, "post_id": 53187373, "comment_id": 93264805, "body": "My mistake. But I&#39;ve fixed it and is still throwing the <code>Exception</code>."}], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 1982963, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8769b485a40b715a1e19fa7593924279?s=128&d=identicon&r=PG", "display_name": "Shivang", "link": "https://stackoverflow.com/users/1982963/shivang"}, "edited": false, "score": 0, "creation_date": 1588019510, "post_id": 53191532, "comment_id": 108734380, "body": "<code>How we can get attribute like: @Path(&quot;enclosure&quot;) @param:Attribute(name = &quot;url&quot;) var url: String = &quot;&quot;, I am getting error: &quot;Caused by: org.simpleframework.xml.core.ConstructorException: Parameter &#39;enclosure[1]&#47;@url&#39; does not have a match in class</code>"}, {"owner": {"reputation": 418, "user_id": 4001198, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Yzf7.jpg?s=128&g=1", "display_name": "Kevin Perez", "link": "https://stackoverflow.com/users/4001198/kevin-perez"}, "edited": false, "score": 0, "creation_date": 1607638315, "post_id": 53191532, "comment_id": 115343453, "body": "In case you are having this error: &quot;Empty value for @org.simpleframework.xml.Element...&quot;. Use required = false to prevent empty values like: &lt;status&gt;&lt;/status&gt;"}], "tags": [], "owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "is_accepted": true, "score": 4, "last_activity_date": 1541601187, "creation_date": 1541601187, "answer_id": 53191532, "question_id": 53187373, "link": "https://stackoverflow.com/questions/53187373/constructorexception-parsing-xml-with-retrofit-and-simplexml-parameter-does-not/53191532#53191532", "title": "ConstructorException parsing XML with Retrofit and SimpleXML (Parameter does not have a match)", "body": "<p>I have managed to make it work using the following models:</p>\n\n<p><strong>CardSummaryResponse.tk</strong></p>\n\n<pre><code>@Root(strict = false, name = \"cards-summary-response\")\ndata class CardSummaryResponse constructor(\n    @field:ElementList(\n        required = false,\n        name = \"card-summary\",\n        entry = \"card-summary\",\n        inline = true,\n        empty = true\n    )\n    var cardsSummaryList: MutableList&lt;CardSummary&gt;? = null\n)\n</code></pre>\n\n<p><strong>CardSummary.tk</strong></p>\n\n<pre><code>@Root(name = \"card-summary\")\ndata class CardSummary constructor(\n    @field:Element(name = \"identifier\", required = true)\n    var identifier: String = \"\",\n    @field:Element(name = \"status\", required = true)\n    var status: String = \"\"\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 817, "user_id": 1982963, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8769b485a40b715a1e19fa7593924279?s=128&d=identicon&r=PG", "display_name": "Shivang", "link": "https://stackoverflow.com/users/1982963/shivang"}, "is_accepted": false, "score": 2, "last_activity_date": 1588017939, "creation_date": 1588017939, "answer_id": 61467543, "question_id": 53187373, "link": "https://stackoverflow.com/questions/53187373/constructorexception-parsing-xml-with-retrofit-and-simplexml-parameter-does-not/61467543#61467543", "title": "ConstructorException parsing XML with Retrofit and SimpleXML (Parameter does not have a match)", "body": "<p>In my case, I was using <code>'val'</code> in the data class. After spending 3 hours, I found the solution: just replace <code>'val</code> with <code>'var'</code> and give the <code>default value.</code></p>\n\n<p>Here are my data classes that are working fine after the solution:</p>\n\n<pre><code>sealed class Feeds {\n\n@Root(name = \"rss\", strict = false)\ndata class RssFeed constructor(@field:Element(name = \"channel\") var channel: RssChannel? = null) :\n    Feeds()\n\n@Root(name = \"channel\", strict = false)\ndata class RssChannel constructor(\n    @field:ElementList(\n        name = \"item\",\n        inline = true,\n        required = false\n    ) var item: List&lt;RssItem&gt;? = null\n) : Feeds()\n\n@Root(name = \"item\", strict = false)\ndata class RssItem constructor(\n    @field:Element(name = \"title\") var title: String = \"\",\n    @field:Element(name = \"description\") var description: String = \"\",\n    @field:Element(name = \"link\") var link: String = \"\"\n) : Feeds()\n}\n</code></pre>\n\n<p>Happy Coding!!!</p>\n"}], "owner": {"reputation": 1034, "user_id": 5919525, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-VkPdYiUpsAw/AAAAAAAAAAI/AAAAAAAAAKg/T8MvUECs6LA/photo.jpg?sz=128", "display_name": "&#211;scar", "link": "https://stackoverflow.com/users/5919525/%c3%93scar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 53191532, "answer_count": 2, "score": 1, "last_activity_date": 1588017939, "creation_date": 1541585615, "last_edit_date": 1541645381, "question_id": 53187373, "link": "https://stackoverflow.com/questions/53187373/constructorexception-parsing-xml-with-retrofit-and-simplexml-parameter-does-not", "title": "ConstructorException parsing XML with Retrofit and SimpleXML (Parameter does not have a match)", "body": "<p><strong>*SOLUTION IS IN THE FIRST ANSWER</strong></p>\n\n<p>I'm pretty noob using <code>SimpleXML Converter</code> so models and annotations may be wrong.</p>\n\n<p>This is the <code>XML</code> I receive:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cards-summary-response xmlns=\"http:/mywebpage.com/rest-api\"&gt;\n    &lt;card-summary&gt;\n        &lt;identifier&gt;51641C1B23931&lt;/identifier&gt;\n        &lt;display-name&gt;Debit Card&lt;/display-name&gt;\n        &lt;program-name&gt;plastic_debit&lt;/program-name&gt;\n        &lt;status&gt;Blocked&lt;/status&gt;\n    &lt;/card-summary&gt;\n    &lt;card-summary&gt;\n        &lt;identifier&gt;4E1BDFCC1D6&lt;/identifier&gt;\n        &lt;display-name&gt;Virtual Debit&lt;/display-name&gt;\n        &lt;program-name&gt;virtual_debit&lt;/program-name&gt;\n        &lt;status&gt;Active&lt;/status&gt;\n    &lt;/card-summary&gt;\n&lt;/cards-summary-response&gt;\n</code></pre>\n\n<p>My models:</p>\n\n<p><strong>CardSummaryResponse.kt</strong></p>\n\n<pre><code>@Root(strict = false, name = \"cards-summary-response\")\ndata class CardSummaryResponse constructor(\n    @ElementList(\n        required = false,\n        name = \"card-summary\",\n        entry = \"card-summary\",\n        inline = true,\n        empty = true\n    )\n    var cardsSummaryList: MutableList&lt;CardSummary&gt;? = null\n)\n</code></pre>\n\n<p><strong>CardSummary.kt</strong> </p>\n\n<pre><code>@Root(name = \"card-summary\")\ndata class CardSummary @JvmOverloads constructor(\n    @field:Element(name = \"identifier\", required = true)\n    var identifier: String = \"\",\n    @field:Element(name = \"status\", required = true)\n    var status: String = \"\"\n)\n</code></pre>\n\n<p>API configuration:</p>\n\n<pre><code>retrofit = Retrofit.Builder()\n    .addConverterFactory(SimpleXmlConverterFactory.createNonStrict(\n            Persister(AnnotationStrategy())\n        )\n    )\n    .baseUrl(CallsConfiguration.BASE_URL_WIRECARD)\n    .client(clientBuilder.build())\n    .build()\nservice = retrofit.create(RetrofitInterface::class.java)\n</code></pre>\n\n<p>And RetrofitInterface (this class is in Java):</p>\n\n<pre><code>@GET(\"webservices/wd-test.phtml\")\nCall&lt;CardSummaryResponse&gt; getCardsSummary();\n</code></pre>\n\n<p>I'm always getting the same exception:</p>\n\n<blockquote>\n  <p>java.lang.Error: org.simpleframework.xml.core.ConstructorException:\n  Parameter 'card-summary' does not have a match in class\n  com.app.account.model.CardSummaryResponse</p>\n</blockquote>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "dagger", "gradlew"], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 11, "creation_date": 1541585292, "post_id": 53187201, "comment_id": 93263871, "body": "Effectively I was running <code>.&#47;gradlew</code> with the system jdk(java9).  Using <code>.&#47;gradlew compileDebugAndroidTestKotlin -Dorg.gradle.java.home=&lt;Android studio jre path&gt;</code> solved the proble. Thanks :)"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1550682796, "post_id": 53187201, "comment_id": 96361854, "body": "This is a good distinction - building using the play button worked because the IDE was using the JDK included as part of Android Studio. Thank you"}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1552408033, "post_id": 53187201, "comment_id": 96994276, "body": "@crgarridos you sir saved me HOURS! I love you!"}, {"owner": {"reputation": 1307, "user_id": 1363742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1f0e3371f4ec5080c73f9cd7e2e41a0?s=128&d=identicon&r=PG", "display_name": "luca992", "link": "https://stackoverflow.com/users/1363742/luca992"}, "edited": false, "score": 2, "creation_date": 1563923790, "post_id": 53187201, "comment_id": 100859542, "body": "how to set the jre path without using the command line parameter: <a href=\"https://stackoverflow.com/a/21212790/1363742\">stackoverflow.com/a/21212790/1363742</a>"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 22, "last_activity_date": 1541584934, "creation_date": 1541584934, "answer_id": 53187201, "question_id": 53186989, "link": "https://stackoverflow.com/questions/53186989/generated-annotation-using-gradlew-dagger/53187201#53187201", "title": "@Generated annotation using gradlew + dagger", "body": "<p>Dagger uses <code>auto-common</code>'s <code>GeneratedAnnotations</code> to figure out which <code>@Generated</code> annotation to use. It does this based on the classpath.</p>\n\n<p>What this means is that while the annotation processor is running, <code>javax.annotation.processing.Generated</code> is available and used in the generator, but when the resulting file is compile in another task, it is no longer on the classpath.</p>\n\n<p>Potential causes could be that code was generated using a newer version of the JDK and the incremental build is invalid, requiring a full \"clean &amp; rebuild\" or there is a problem with java language levels where the annotation processor runs on Java 9+, but android is compiled as Java 8 or lower.</p>\n"}, {"tags": [], "owner": {"reputation": 961, "user_id": 4592448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-_DP3LTfLMXw/AAAAAAAAAAI/AAAAAAAAAHk/dzYHVVdXUnE/photo.jpg?sz=128", "display_name": "Fortran", "link": "https://stackoverflow.com/users/4592448/fortran"}, "is_accepted": false, "score": 2, "last_activity_date": 1606946015, "creation_date": 1606946015, "answer_id": 65116688, "question_id": 53186989, "link": "https://stackoverflow.com/questions/53186989/generated-annotation-using-gradlew-dagger/65116688#65116688", "title": "@Generated annotation using gradlew + dagger", "body": "<p>chang to embeded Android studio version and only clean!(not rebuild) Improove @kiskae enswer</p>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5829, "favorite_count": 1, "accepted_answer_id": 53187201, "answer_count": 2, "score": 18, "last_activity_date": 1606946015, "creation_date": 1541584190, "question_id": 53186989, "link": "https://stackoverflow.com/questions/53186989/generated-annotation-using-gradlew-dagger", "title": "@Generated annotation using gradlew + dagger", "body": "<p>I'm confronting a weird issue using gradlew(4.10.2) + dagger(2.18).</p>\n\n<p>The problem is when I call: </p>\n\n<pre><code>./gradlew :app:compileDebugAndroidTestKotlin \n</code></pre>\n\n<p>The build fails with:</p>\n\n<blockquote>\n  <p>Task :Common:compileDebugJavaWithJavac FAILED</p>\n  \n  <p>/CommonModule_ProvidesGsonFactory.java:6: error: package javax.annotation.processing does not exist\n  import javax.annotation.processing.<strong>Generated</strong>;</p>\n  \n  <p>/CommonModule_ProvidesGsonFactory.java:8: error: cannot find symbol\n  @<strong>Generated</strong>(</p>\n</blockquote>\n\n<p>But if I run the task <a href=\"https://i.stack.imgur.com/QbV8b.png\" rel=\"noreferrer\">from Android Studio</a>, the task succeed and the <code>@Generated</code> <strong>is not</strong> present in the dagger generated class.</p>\n\n<p>Do you have some clue to avoid the <code>@Generated</code> annotation using <code>./gradlew</code>?</p>\n"}, {"tags": ["android", "kotlin", "crash", "android-room", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1541585474, "post_id": 53186937, "comment_id": 93263986, "body": "Could you repeat your first question. You&#39;re actually contradicting yourself. You ask: <code>How is possible that Room can return Null value as Non-Null variable?</code>, but your comment says <code>user 999 not exist, userDao returns null</code>"}, {"owner": {"reputation": 4377, "user_id": 4353365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fOb7w8Ofk5E/AAAAAAAAAAI/AAAAAAAADmc/nymnI-_Ng9g/photo.jpg?sz=128", "display_name": "Francis", "link": "https://stackoverflow.com/users/4353365/francis"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1541587391, "post_id": 53186937, "comment_id": 93264938, "body": "@ZUNJAE my point is that the function <code>getById()</code> have non-null return value (<code>User</code>), but it returns null value. I expected <code>NullPointerException</code> in that situation."}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 1, "creation_date": 1541588291, "post_id": 53186937, "comment_id": 93265364, "body": "That&#39;s because the underlying code from Room returns a nullable value, but in Kotlin you force it to be non-nullable which results in a TypeCastException. I personally don&#39;t know the solution because I have the same issue right now. I just annotated all methods as nullable."}], "answers": [{"comments": [{"owner": {"reputation": 4377, "user_id": 4353365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fOb7w8Ofk5E/AAAAAAAAAAI/AAAAAAAADmc/nymnI-_Ng9g/photo.jpg?sz=128", "display_name": "Francis", "link": "https://stackoverflow.com/users/4353365/francis"}, "edited": false, "score": 1, "creation_date": 1541590088, "post_id": 53188465, "comment_id": 93266150, "body": "My code is written in Kotlin and return value of Dao class is not nullable. So I expected <code>NullPointerException</code> in null case, but I don&#39;t receive it."}, {"owner": {"reputation": 510, "user_id": 4837881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WViro.jpg?s=128&g=1", "display_name": "a23sokolov", "link": "https://stackoverflow.com/users/4837881/a23sokolov"}, "reply_to_user": {"reputation": 4377, "user_id": 4353365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fOb7w8Ofk5E/AAAAAAAAAAI/AAAAAAAADmc/nymnI-_Ng9g/photo.jpg?sz=128", "display_name": "Francis", "link": "https://stackoverflow.com/users/4353365/francis"}, "edited": false, "score": 0, "creation_date": 1541647628, "post_id": 53188465, "comment_id": 93290715, "body": "Yes, but if you check byteCode and Decompile it, in Android studio Cmd + Shift + A write <code>bytecode</code>,  after that click  button decompile"}], "tags": [], "owner": {"reputation": 510, "user_id": 4837881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WViro.jpg?s=128&g=1", "display_name": "a23sokolov", "link": "https://stackoverflow.com/users/4837881/a23sokolov"}, "is_accepted": false, "score": 2, "last_activity_date": 1541589611, "creation_date": 1541589611, "answer_id": 53188465, "question_id": 53186937, "link": "https://stackoverflow.com/questions/53186937/android-room-returns-null-as-non-null-type/53188465#53188465", "title": "Android Room returns Null as Non-Null type", "body": "<p>As I understand your generated Dao class didn't annotate return value as @Nullable in Java code.</p>\n\n<pre><code>@Override\npublic User getById(long id) {\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>@Override\npublic @Nullable User getById(long id) {\n</code></pre>\n\n<p>as a result you don't see warning</p>\n"}, {"tags": [], "owner": {"reputation": 296, "user_id": 5696504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad2f781daa01397e2e2d64e39c4d14f?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/5696504/bill"}, "is_accepted": false, "score": 2, "last_activity_date": 1541591240, "creation_date": 1541591240, "answer_id": 53188858, "question_id": 53186937, "link": "https://stackoverflow.com/questions/53186937/android-room-returns-null-as-non-null-type/53188858#53188858", "title": "Android Room returns Null as Non-Null type", "body": "<p>The reason you're not getting a <code>NullPointerException</code> is simple: Room is a Java library, not Kotlin, so it has no idea your <code>User</code> should not be null.\nWhen interfacing with Java code, Kotlin introduces some null checks to give you that exception, but since your interface is written in Kotlin it assumes that won't be a problem and skips the check.</p>\n\n<p>I'm not a Room expert, but after a quick google search, I couldn't find a way of forcing Room to check for nulls. I see two ways of solving your \"problem\":</p>\n\n<ul>\n<li>Change the <code>getById</code> function to return <code>User?</code></li>\n<li>Convert your <code>@Dao</code> to a Java interface, forcing Kotlin to check for null.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 5640, "user_id": 79152, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49315b89a7e2aee9609a758434c26f9d?s=128&d=identicon&r=PG", "display_name": "maxbeaudoin", "link": "https://stackoverflow.com/users/79152/maxbeaudoin"}, "edited": false, "score": 0, "creation_date": 1586118037, "post_id": 53189008, "comment_id": 108003162, "body": "Thank you for digging this out : &quot;if you wrote query that can return null value, then you are responsible to mark it as nullable in dao interface&quot;. The rule seems to apply to <code>LiveData&lt;T?&gt;</code> as well."}], "tags": [], "owner": {"reputation": 1317, "user_id": 2995178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae68ceed87c10939132901df3b26859?s=128&d=identicon&r=PG&f=1", "display_name": "KursoR", "link": "https://stackoverflow.com/users/2995178/kursor"}, "is_accepted": true, "score": 9, "last_activity_date": 1541593759, "last_edit_date": 1541593759, "creation_date": 1541591817, "answer_id": 53189008, "question_id": 53186937, "link": "https://stackoverflow.com/questions/53186937/android-room-returns-null-as-non-null-type/53189008#53189008", "title": "Android Room returns Null as Non-Null type", "body": "<p>It's all about how Kotlin handle nulls on boundaries with Java code.</p>\n\n<p>If you pass null from Java to Kotlin method that require non-null value you will get exception. This is achieved with calls to <code>Intrinsics.checkNotNull</code> function added by Kotlin compiler in beginning of method.</p>\n\n<p>For example:</p>\n\n<pre><code>fun hello(who: String): Unit {\n    println (\"Hello $who\")\n}\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>public final void hello(@NotNull String who) {\n    Intrinsics.checkParameterIsNotNull(who, \"who\");\n    String var2 = \"Hello \" + who;\n    System.out.println(var2);\n}\n</code></pre>\n\n<p>Similar check added when you call Java methods from Kotlin.</p>\n\n<p>But in you case you have Kotlin interface and it's implementation in Java generated by Room.\nSo Kotlin compiler can't add checks because it has no control on all implementations of interface. Otherwise it would have to add checks after every call to Kotlin class or interface because it can be implemented in Java, what is bad for performance.</p>\n\n<p>UPD: found similar issue at Room bugtracker <a href=\"https://issuetracker.google.com/issues/112323132\" rel=\"noreferrer\">https://issuetracker.google.com/issues/112323132</a>. Googler said that this is intended behavior and if you wrote query that can return null value, then you are responsible to mark it as nullable in dao interface.</p>\n"}], "owner": {"reputation": 4377, "user_id": 4353365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fOb7w8Ofk5E/AAAAAAAAAAI/AAAAAAAADmc/nymnI-_Ng9g/photo.jpg?sz=128", "display_name": "Francis", "link": "https://stackoverflow.com/users/4353365/francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2524, "favorite_count": 0, "accepted_answer_id": 53189008, "answer_count": 3, "score": 11, "last_activity_date": 1541593759, "creation_date": 1541583985, "question_id": 53186937, "link": "https://stackoverflow.com/questions/53186937/android-room-returns-null-as-non-null-type", "title": "Android Room returns Null as Non-Null type", "body": "<p>I have <code>Dao</code> to return simple object. If object does not exist, Room return <code>null</code>, but Android app have no crashes. Also if I assign that value to non-null variable, no crashes are in app.</p>\n\n<p>Dao:</p>\n\n<pre><code>@Query(\"SELECT * FROM users WHERE id LIKE :id LIMIT 1\")\nabstract fun getById(id: Long): User\n</code></pre>\n\n<p>not crashing code:</p>\n\n<pre><code>doAsync {\n    val user: User = userDao.getById(999)   // user 999 not exist, userDao returns null\n    uiThread {\n        if (user == null) {\n            Timber.d(\"user is $user\")   // \"user is null\" in log\n        } else {\n            Timber.d(\"user is ${user.email}\")\n        }\n    }\n}\n</code></pre>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>How is possible that Room can return Null value as Non-Null variable?</li>\n<li>How is possible that code with assign null to Non-Null variable has <strong>no crashes</strong>?</li>\n</ol>\n"}, {"tags": ["android", "kotlin", "paging"], "answers": [{"comments": [{"owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "edited": false, "score": 0, "creation_date": 1542807135, "post_id": 53187044, "comment_id": 93700876, "body": "Thanks for sharing your repository."}], "tags": [], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "is_accepted": true, "score": 0, "last_activity_date": 1541584387, "creation_date": 1541584387, "answer_id": 53187044, "question_id": 53186776, "link": "https://stackoverflow.com/questions/53186776/paging-library-from-architectural-components/53187044#53187044", "title": "Paging library from Architectural components", "body": "<p>I Just built an app that uses paging with the TMDB, you can see it <a href=\"https://github.com/gilgoldzweig/Movies-demo\" rel=\"nofollow noreferrer\">here</a> the source contains everything you'll need to create a simple app using best practices and clean architecture but if you just want to see the raw code that what I use</p>\n\n<p>Code for returning the result on <code>loadInitial()</code></p>\n\n<pre><code>callback.onResult(response.movies, 1, response.totalPages, null, 2)\n</code></pre>\n\n<p>And this code for returning the result on <code>loadAfter()</code></p>\n\n<pre><code>callback.onResult(response.movies, params.key + 1)\n</code></pre>\n"}], "owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 53187044, "answer_count": 1, "score": 0, "last_activity_date": 1559911048, "creation_date": 1541583398, "last_edit_date": 1559911048, "question_id": 53186776, "link": "https://stackoverflow.com/questions/53186776/paging-library-from-architectural-components", "title": "Paging library from Architectural components", "body": "<p>I have following project in Bitbucket : <a href=\"https://github.com/Ali-Rezaei/TMDb-Paging\" rel=\"nofollow noreferrer\">https://github.com/Ali-Rezaei/TMDb-Paging</a>\n(You need a Api key from <a href=\"https://www.themoviedb.org/\" rel=\"nofollow noreferrer\">https://www.themoviedb.org/</a> and paste it to local.properties to run the app such as <code>tmdb_api_key=YOUR_API_KEY</code>)</p>\n\n<p>In PageKeyedMovieDataSource class I have loadInitial method,</p>\n\n<p>With following line :</p>\n\n<pre><code>callback.onResult(items, null, \"\")\n</code></pre>\n\n<p>I pass <code>\"\"</code> for nextPageKey.</p>\n\n<p>And the same story for <code>loadAfter</code>method. I pass <code>\"\"</code> for adjacentPageKey:</p>\n\n<pre><code>callback.onResult(items, \"\")\n</code></pre>\n\n<p>App works fine but I don't know what is the best approach here. What should I pass? </p>\n"}, {"tags": ["android", "google-chrome", "kotlin", "accessibilityservice"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8067405, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203177375232372/picture?type=large", "display_name": "Vivek B", "link": "https://stackoverflow.com/users/8067405/vivek-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1546200425, "creation_date": 1546200425, "answer_id": 53981034, "question_id": 53186529, "link": "https://stackoverflow.com/questions/53186529/get-chrome-current-url-via-accessibilityservice/53981034#53981034", "title": "Get Chrome current Url via AccessibilityService", "body": "<p>The <a href=\"https://stackoverflow.com/questions/38783205/android-read-google-chrome-url-using-accessibility-service\">response to a similar question</a> uses a depth-first search on the event itself, as opposed to getting the root of the active window.</p>\n\n<p>I am using this code right now and it does successfully get the URL of each site visited. \nThough, if you want to parse the nodes faster (DFS on every event does consume significant time and resources), you can screen for specific events, such as \"TYPE_VIEW_TEXT...\", as this event triggers as the user types in the Chrome omnibox and you won't need to wait for the page to load.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 1881076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oW8xY.png?s=128&g=1", "display_name": "Miguel Rochefort", "link": "https://stackoverflow.com/users/1881076/miguel-rochefort"}, "is_accepted": false, "score": 0, "last_activity_date": 1582688306, "last_edit_date": 1582688306, "creation_date": 1582658198, "answer_id": 60401741, "question_id": 53186529, "link": "https://stackoverflow.com/questions/53186529/get-chrome-current-url-via-accessibilityservice/60401741#60401741", "title": "Get Chrome current Url via AccessibilityService", "body": "<p>Try adding the <code>typeWindowContentChanged</code> accessibility event type:</p>\n\n<pre><code>android:accessibilityEventTypes=\"typeWindowStateChanged|typeWindowContentChanged\"\n</code></pre>\n"}], "owner": {"reputation": 761, "user_id": 7698200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-eG_HoXxx_NY/AAAAAAAAAAI/AAAAAAAAAEw/i4wMS57kNo4/photo.jpg?sz=128", "display_name": "Jakegarbo", "link": "https://stackoverflow.com/users/7698200/jakegarbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 678, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1582688306, "creation_date": 1541582437, "last_edit_date": 1541645460, "question_id": 53186529, "link": "https://stackoverflow.com/questions/53186529/get-chrome-current-url-via-accessibilityservice", "title": "Get Chrome current Url via AccessibilityService", "body": "<p>Im trying to create an app which includes chrome visited site logger function</p>\n\n<p>here is my AccessibilityService</p>\n\n<pre><code>class CoreService : AccessibilityService(){\n\noverride fun onInterrupt() {\n    return\n}\n\nvar TAG  = \"app:\"\n\noverride fun onServiceConnected() { \n    Log.i(TAG,\"Connected\")\n}\n\noverride fun onAccessibilityEvent(event: AccessibilityEvent) {\n        Log.i(TAG,\"onAccessibilityEvent\")\n        onChromeActivity(getRootInActiveWindow())\n}\n\nfun onChromeActivity(nodeInfo: AccessibilityNodeInfo) {\n\n    var result = \"|\"\n    var arra = nodeInfo.findAccessibilityNodeInfosByText(\"http\");\n\n    for (i in 0 until arra.size) {\n        result += \"\\n\" + arra.get(i).toString();\n    }\n    Log.i(TAG,\"result: $result\")\n} \n</code></pre>\n\n<p>}</p>\n\n<p>xml config </p>\n\n<pre><code>&lt;accessibility-service xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:accessibilityFlags=\"flagDefault|flagIncludeNotImportantViews|flagRequestTouchExplorationMode|flagRequestEnhancedWebAccessibility|flagReportViewIds|flagRetrieveInteractiveWindows\"\nandroid:accessibilityEventTypes=\"typeWindowStateChanged\"\nandroid:accessibilityFeedbackType=\"feedbackGeneric\"\nandroid:notificationTimeout=\"0\"\nandroid:canRetrieveWindowContent=\"true\"\nandroid:packageNames=\"com.android.chrome\"\nandroid:description=\"@string/desc\"/&gt;\n</code></pre>\n\n<p>So far im getting this logcat</p>\n\n<blockquote>\n  <p>2018-11-07 17:08:15.516 19631-19631/com.jmg21.omgi I/app:: result: |\n      android.view.accessibility.AccessibilityNodeInfo@8000ccce; boundsInParent: Rect(0, 0 - 681, 131); boundsInScreen: Rect(115, 71 -\n  796, 202); packageName: com.android.chrome; className:\n  android.widget.EditText; text: <a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">https://www.google.com</a>; error: null;\n  maxTextLength: -1; contentDescription: null; viewIdResName:\n  com.android.chrome:id/url_bar; checkable: false; checked: false;\n  focusable: true; focused: false; selected: false; clickable: true;\n  longClickable: true; contextClickable: false; enabled: true; password:\n  false; scrollable: false; actions:  and so on...</p>\n</blockquote>\n\n<p><strong>The Problem is:</strong> </p>\n\n<p><em>1. I only get this at one time if i try to go to other site nothing happen</em></p>\n\n<p><em>2.I can not get the url</em> </p>\n\n<p>Please help and Thank you in advance! </p>\n"}, {"tags": ["java", "kotlin", "javadoc"], "comments": [{"owner": {"reputation": 206, "user_id": 7831581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnkzA.jpg?s=128&g=1", "display_name": "dralexnumber", "link": "https://stackoverflow.com/users/7831581/dralexnumber"}, "edited": false, "score": 0, "creation_date": 1541582423, "post_id": 53186210, "comment_id": 93262445, "body": "Where do you develop?"}, {"owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "reply_to_user": {"reputation": 206, "user_id": 7831581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnkzA.jpg?s=128&g=1", "display_name": "dralexnumber", "link": "https://stackoverflow.com/users/7831581/dralexnumber"}, "edited": false, "score": 0, "creation_date": 1541590342, "post_id": 53186210, "comment_id": 93266252, "body": "@dralexnumber Android Studio"}], "answers": [{"comments": [{"owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "edited": false, "score": 0, "creation_date": 1541590409, "post_id": 53186780, "comment_id": 93266284, "body": "Mine latest too: 1.3.0-release-Studio3.2-1"}], "tags": [], "owner": {"reputation": 77, "user_id": 4877943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfUuD.png?s=128&g=1", "display_name": "Touch Sreyleak", "link": "https://stackoverflow.com/users/4877943/touch-sreyleak"}, "is_accepted": false, "score": -1, "last_activity_date": 1541583402, "creation_date": 1541583402, "answer_id": 53186780, "question_id": 53186210, "link": "https://stackoverflow.com/questions/53186210/javadoc-link-to-kotlin-classes/53186780#53186780", "title": "Javadoc @link to Kotlin classes", "body": "<p>It works fine in my project, please try to update your kotlin version and plugin to the latest version because mine are all latest.</p>\n"}, {"comments": [{"owner": {"reputation": 591, "user_id": 423941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250ed5031701da04dac15ef00af2941c?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/423941/dennis"}, "edited": false, "score": 0, "creation_date": 1555610691, "post_id": 54530218, "comment_id": 98179673, "body": "I don&#39;t think this is what the question was asking. The question was about referencing a Kotlin class in documentation on a Java file, not writing documentation in a Kotlin file."}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 591, "user_id": 423941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250ed5031701da04dac15ef00af2941c?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/423941/dennis"}, "edited": false, "score": 0, "creation_date": 1555917471, "post_id": 54530218, "comment_id": 98250734, "body": "@Dennis yes you right! and i didn&#39;t remember why i wrote this answer!"}], "tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": false, "score": 9, "last_activity_date": 1614696762, "last_edit_date": 1614696762, "creation_date": 1549354854, "answer_id": 54530218, "question_id": 53186210, "link": "https://stackoverflow.com/questions/53186210/javadoc-link-to-kotlin-classes/54530218#54530218", "title": "Javadoc @link to Kotlin classes", "body": "<p>Kotlin have different syntax for linking. Base on <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">kotlinlang.org</a></p>\n<p>Instead of</p>\n<pre><code>{@link com.example.app.BlaActivity}\n</code></pre>\n<p>Use <code>[</code> like this</p>\n<pre><code>[com.example.app.BlaActivity]\n</code></pre>\n"}], "owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2012, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1614696762, "creation_date": 1541581145, "last_edit_date": 1541645527, "question_id": 53186210, "link": "https://stackoverflow.com/questions/53186210/javadoc-link-to-kotlin-classes", "title": "Javadoc @link to Kotlin classes", "body": "<p>This is my javadoc</p>\n\n<pre><code>/**\n * If you wish to add this fragment to your activity, you must implement {@link com.example.app.BlaActivity BlaActivity}\n *\n * @return an instance of BlaFragment\n */\n</code></pre>\n\n<p><code>BlaActivity</code> is a Kotlin class. When I hover over the method with the javadoc above, the popup says:</p>\n\n<pre><code>If you wish to add this fragment to your activity, you must implement\n\nReturns:\n        an instance of BlaFragment\n</code></pre>\n\n<p>So, it does not show my Kotlin class in the popup. However it works fine when I use a Java class.</p>\n\n<p>Javadoc has no support for Kotlin classes?</p>\n"}, {"tags": ["android", "performance", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 0, "creation_date": 1541605780, "post_id": 53190064, "comment_id": 93274845, "body": "Interesting, I will give this a shot.  Will report back; thanks!"}, {"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 0, "creation_date": 1541664713, "post_id": 53190064, "comment_id": 93295483, "body": "Excellent response and I highly appreciate it.  This worked absolutely perfectly.  Well done!"}], "tags": [], "owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "is_accepted": true, "score": 1, "last_activity_date": 1541595974, "creation_date": 1541595974, "answer_id": 53190064, "question_id": 53184544, "link": "https://stackoverflow.com/questions/53184544/kotlin-recycler-view-choppy/53190064#53190064", "title": "Kotlin: Recycler View Choppy", "body": "<p>I think the problem comes from decoding bitmap image in main thread. Try to use <code>Glide</code> instead. It helps us to load images asynchronously when needed. For example if you want to scroll the <code>RecyclerView</code> fast, it doesn't need to decode and show all images. In addition it has a caching mechanism to make this process smoother.</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>dependencies {\n    implementation 'com.github.bumptech.glide:glide:4.7.1'\n}\n</code></pre>\n\n<p><strong>FragmentMenuViewAdapter.kt</strong></p>\n\n<pre><code>override fun onBindViewHolder(holder: CustomViewHolder, position: Int) {\n\n    var menuItemIconURI = RouteManager.mAppModel?.resourcesURL + menuItems[position].icon\n\n    menuItemIconURI = menuItemIconURI.replace(\"\\$platform\", \"iOS\")\n    menuItemIconURI = menuItemIconURI.replace(\"\\$scale\", \"@3x\")\n\n    Glide.with(holder.view.menuButton.context)\n        .load(menuItemIconURI)\n        .into(holder.view.menuButton)\n\n    holder.bind(menuItems[position], clickListener)\n}\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 53190064, "answer_count": 1, "score": 1, "last_activity_date": 1541645545, "creation_date": 1541572157, "last_edit_date": 1541645545, "question_id": 53184544, "link": "https://stackoverflow.com/questions/53184544/kotlin-recycler-view-choppy", "title": "Kotlin: Recycler View Choppy", "body": "<p>My adapter is applying images correctly to the RecyclerView and scrolls properly... until I add a large amount of items.  It then becomes fairly choppy and I know it's an issue with my approach.  See the code below:</p>\n\n<pre><code>class FragmentMenuViewAdapter(private val menuItems: ArrayList&lt;MenuItemModel&gt;, private val clickListener: (MenuItemModel) -&gt; Unit) : RecyclerView.Adapter&lt;FragmentMenuViewAdapter.CustomViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomViewHolder {\n\n        val policy = StrictMode.ThreadPolicy.Builder().permitAll().build()\n        StrictMode.setThreadPolicy(policy)\n\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val cellForRow = layoutInflater.inflate(R.layout.recyclerview_list_items, parent, false)\n        return CustomViewHolder(cellForRow)\n    }\n\n    override fun getItemCount(): Int {\n\n        return menuItems.size\n    }\n\n    override fun onBindViewHolder(holder: CustomViewHolder, position: Int) {\n\n        var menuItemIconURI = RouteManager.mAppModel?.resourcesURL + menuItems[position].icon\n\n        menuItemIconURI = menuItemIconURI.replace(\"\\$platform\", \"iOS\")\n        menuItemIconURI = menuItemIconURI.replace(\"\\$scale\", \"@3x\")\n\n        val inputStream = URL(menuItemIconURI).openStream()\n        holder.view.menuButton.setImageBitmap(BitmapFactory.decodeStream(inputStream))\n        holder.bind(menuItems[position], clickListener)\n    }\n\nclass CustomViewHolder(val view: View): RecyclerView.ViewHolder(view) {\n\n        fun bind(menuItem: MenuItemModel, clickListener: (MenuItemModel) -&gt; Unit) {\n            view.setOnClickListener{clickListener(menuItem)}\n        }\n    }\n}\n</code></pre>\n\n<p>The image(s) are being set via URL links.  I have it working, but I suspect I'm making a novice mistake somewhere, or am simply taking the wrong approach.  Any advice on how to adjust my code would be much appreciated.</p>\n"}, {"tags": ["android", "generics", "kotlin", "retrofit", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1541570702, "post_id": 53184249, "comment_id": 93258142, "body": "Thanks but plz explain it a little bit so everybody understands"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1541572088, "post_id": 53184249, "comment_id": 93258526, "body": "What part should I further explain? For <code>reified</code> I provided the official documentation. I added some words about splitting the method in two parts."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 1, "last_activity_date": 1541571585, "last_edit_date": 1541571585, "creation_date": 1541570263, "answer_id": 53184249, "question_id": 53183799, "link": "https://stackoverflow.com/questions/53183799/generic-method-for-webservice-response-android/53184249#53184249", "title": "Generic method for webservice response Android", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>inline reified</code></a> to access the generic type parameter within the function body. </p>\n\n<p>Your current <code>invoke</code> function contains a lot of code and inlining would copy all lines to the invocation place. It would be better to split the function in a <code>reified</code> part to capture the <code>class</code> object and an internal part that creates the proxy. To access an <code>internal</code> method from an <code>inline</code> method, you have to use the <code>@PublishedApi</code> annotation. </p>\n\n<pre><code>companion object {\n    inline operator fun &lt;reified T&gt; invoke() =\n        createProxy(T::class.java)\n\n\n    @PublishedApi\n    internal fun &lt;T&gt; createProxy(clazz: Class&lt;T&gt;): AppWebServices {\n        ...\n    }\n}\n</code></pre>\n\n<p>Now you can create your Service like you wanted:</p>\n\n<pre><code>val appWebServices = AppWebServices&lt;Company&gt;()\n</code></pre>\n"}], "owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 53184249, "answer_count": 1, "score": 0, "last_activity_date": 1541571585, "creation_date": 1541566815, "question_id": 53183799, "link": "https://stackoverflow.com/questions/53183799/generic-method-for-webservice-response-android", "title": "Generic method for webservice response Android", "body": "<blockquote>\n  <p>I am fetching response from a webservices. Where all responses are same except the array like trucks &amp; cats.Below are two samples for understanding. I am using liveData and retrofit..</p>\n</blockquote>\n\n<p>In AppWebServices interface I created GsonBuilder and set <code>registerTypeAdapter(WebServiceResponse::class.java, \n  Deserializer&lt;WebServiceResponse&lt;Company&gt;&gt;(Company::class.java))</code></p>\n\n<p>I want to make this Company inside WebServiceResponse&lt;> dynamic. I tried T type for AppWebServices but it's not working. </p>\n\n<pre><code>{\n    \"status\": true,\n    \"statusMessage\" : \"Success\",\n    \"data\": {\n        \"trucks\": [{\n                \"id\": 1,\n                \"engine\": \"big\",\n                \"wheels\" : 12\n                }, \n                { \n                \"id\": 2,\n                \"engine\": \"super big\",\n                \"wheels\" : 128\n                }]\n            }\n  }\n</code></pre>\n\n<p>2nd Sample</p>\n\n<pre><code>{\n        \"status\": true,\n        \"statusMessage\" : \"Success\",\n        \"data\": {\n            \"cats\": [{\n                    \"id\": 1,\n                    \"title\": \"Cat 1\"\n                    }, \n                    { \n                    \"id\": 2,\n                    \"title\": \"Cat 2\"\n                    }]\n                }\n      }\n</code></pre>\n\n<p>After searching on SO I found <a href=\"https://stackoverflow.com/a/34685986/3496570\">a solution</a> . It is working fine. </p>\n\n<p><strong>CompaniesActivity.class</strong></p>\n\n<pre><code>class CompaniesActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_companies)\n        initializeUi()\n    }\n\n    private fun initializeUi() {\n        val factory = InjectorUtils.provideCompanyViewModelFactory()\n        val viewModel = ViewModelProviders.of(this, factory)\n            .get(CompanyViewModel::class.java)\n        viewModel.getCompanies().observe(this, Observer { companies -&gt;\n            setupRecyclerView(companies)\n        })\n    }\n\n    private fun setupRecyclerView(companies: List&lt;Company&gt;) {\n        recyclerView.layoutManager = LinearLayoutManager(this)\n        recyclerView.adapter = CompanyAdapter(companies)\n    }\n}\n</code></pre>\n\n<p><strong>InjectorUtils.class</strong></p>\n\n<pre><code>object InjectorUtils {\n\n    fun provideCompanyViewModelFactory() : CompanyViewModelFactory {\n        val companyDao = Database.getInstance().companyDao\n        val companyRepository = CompanyRepository.getInstance(companyDao)\n        return CompanyViewModelFactory(companyRepository)\n    }\n}\n</code></pre>\n\n<p><strong>CompanyViewModel.class</strong></p>\n\n<pre><code>class CompanyViewModel(private val companyRepository: CompanyRepository) : ViewModel() {\n\n    fun addCompany(company: Company) = companyRepository.addCompany(company)\n\n    fun addcompanies(companies: List&lt;Company&gt;) = companyRepository.addCompanies(companies)\n\n    fun getCompanies() = companyRepository.getCompanies()\n}\n</code></pre>\n\n<p><strong>CompanyRepository.class</strong></p>\n\n<pre><code>class CompanyRepository private constructor(private val companyDao: CompanyDao) {\n\n    companion object {\n        @Volatile private var instance: CompanyRepository? = null\n        fun getInstance(companyDao: CompanyDao) =\n            instance ?: synchronized(this) {\n                instance\n                    ?: CompanyRepository(companyDao).also { instance = it }\n            }\n    }\n\n    fun addCompany(company: Company) {\n        companyDao.addCompany(company)\n    }\n\n    fun addCompanies(companies: List&lt;Company&gt;) {\n        companyDao.addCompanies(companies)\n    }\n\n    private fun updatedCompanies(): LiveData&lt;List&lt;Company&gt;&gt; {\n        return companyDao.getCompanies()\n    }\n\n    fun getCompanies(): LiveData&lt;List&lt;Company&gt;&gt; {\n        val companies = companyDao.getCompanies().value\n        if (companies == null || companies.isEmpty()) {\n            val appWebServices = AppWebServices()\n            GlobalScope.launch(Dispatchers.Main) {\n                val response = appWebServices.getNearestCompanies(33.6658432, 73.0726399, 0, 100).await()\n                if (response.status &amp;&amp; response.result.isNotEmpty()) {\n                    addCompanies(response.result)\n                }\n            }\n        }\n        return updatedCompanies()\n    }\n\n}\n</code></pre>\n\n<p><strong>Deserializer.java</strong></p>\n\n<pre><code>class Deserializer&lt;T&gt;(private val clazz: Type): JsonDeserializer&lt;WebServiceResponse&lt;T&gt;&gt; {\n\n    @Throws(JsonParseException::class)\n    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): WebServiceResponse&lt;T&gt;? {\n        val jsonObject = json as JsonObject\n        var status = true ///jsonObject.get(\"status\")\n        var statusMessage = \"hello\"//jsonObject.get(\"statusMessage\")\n\n        val data = jsonObject.get(\"data\") as JsonObject\n        val companies = data.get(\"companies\") as JsonArray\n\n        val list = mutableListOf&lt;T&gt;();\n        for (element in companies) {\n            val ele = element as JsonElement\n            list.add(context!!.deserialize(ele, clazz))\n        }\n\n        return WebServiceResponse&lt;T&gt;(list,status,statusMessage);\n    }\n}\n</code></pre>\n\n<p><strong>AppWebServices.class</strong> Interface for retrofit</p>\n\n<pre><code>interface AppWebServices {\n\n    @GET(Keys.GET_NEARST_COMPANY_LIST)\n    fun getNearestCompanies(\n        @Query(Keys.CURRENT_LAT) latitude: Double,\n        @Query(Keys.CURRENT_LON) longitude: Double,\n        @Query(Keys.START_LIST_INDEX) startIndex: Int,\n        @Query(Keys.END_LIST_INDEX) endIndex: Int\n    ) : Deferred&lt;WebServiceResponse&lt;Company&gt;&gt;\n\n    companion object {\n        operator fun invoke(): AppWebServices {\n            val okHttpClient = OkHttpClient.Builder().build()\n\n            var gson = GsonBuilder().setLenient()\n                .registerTypeAdapter(WebServiceResponse::class.java, Deserializer&lt;WebServiceResponse&lt;Company&gt;&gt;(Company::class.java))\n                .create()\n            return Retrofit.Builder()\n                .client(okHttpClient)\n                .baseUrl(BuildConfig.BASE_URL)\n                .addCallAdapterFactory(CoroutineCallAdapterFactory())\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build()\n                .create(AppWebServices::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>WebServiceResponse.class</strong></p>\n\n<pre><code>data class WebServiceResponse&lt;T&gt; (\n    @SerializedName(Keys.DATA)\n    val result: List&lt;T&gt;,\n    val status: Boolean,\n    val statusMessage: String\n)\n</code></pre>\n\n<p><strong>CompanyDao.class</strong></p>\n\n<pre><code>class CompanyDao {\n    private val companyList = mutableListOf&lt;Company&gt;()\n    private val companies = MutableLiveData&lt;List&lt;Company&gt;&gt;()\n\n    init {\n        companies.value = companyList\n    }\n\n    fun addCompany(company: Company) {\n        companyList.add(company)\n        companies.value = companyList\n    }\n\n    fun addCompanies(companies: List&lt;Company&gt;) {\n        companyList.addAll(companies)\n        this.companies.value = companyList\n    }\n\n    fun getCompanies() = companies as LiveData&lt;List&lt;Company&gt;&gt;\n}\n</code></pre>\n\n<p>I want a solution to tell my service what kind of response I want like<br>\n<code>val appWebServices = AppWebServices&lt;Company&gt;()</code> so it can set it at</p>\n\n<pre><code>.registerTypeAdapter(WebServiceResponse::class.java, Deserializer&lt;WebServiceResponse&lt;T&gt;&gt;(T::class.java))\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 35593, "user_id": 1048340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3q8qF.jpg?s=128&g=1", "display_name": "Jared Rummler", "link": "https://stackoverflow.com/users/1048340/jared-rummler"}, "edited": false, "score": 2, "creation_date": 1541563028, "post_id": 53183320, "comment_id": 93256710, "body": "<code>Class.forName(&quot;example.com.TContract\\$Commands\\$TIssue&quot;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18939, "user_id": 2756409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UIrGI.jpg?s=128&g=1", "display_name": "TylerH", "link": "https://stackoverflow.com/users/2756409/tylerh"}, "edited": false, "score": 1, "creation_date": 1543266344, "post_id": 53183416, "comment_id": 93847993, "body": "Regarding your edit to <a href=\"https://stackoverflow.com/posts/27813407/revisions\">stackoverflow.com/posts/27813407/revisions</a> - my mod flag to get it undeleted was declined with the rather churlish reason of &quot;Then they can use a flag themselves.&quot;"}], "tags": [], "owner": {"reputation": 35593, "user_id": 1048340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3q8qF.jpg?s=128&g=1", "display_name": "Jared Rummler", "link": "https://stackoverflow.com/users/1048340/jared-rummler"}, "is_accepted": true, "score": 1, "last_activity_date": 1541563463, "creation_date": 1541563463, "answer_id": 53183416, "question_id": 53183320, "link": "https://stackoverflow.com/questions/53183320/how-to-get-inner-class-reflection/53183416#53183416", "title": "How to get inner class Reflection", "body": "<p>Inner classes will be compiled and the class file will be <code>ClassName$InnerClassName</code>. See: <a href=\"https://stackoverflow.com/a/11388863/1048340\">https://stackoverflow.com/a/11388863/1048340</a></p>\n\n<p>You need to escape the dollar sign character in Kotlin. The following will work:</p>\n\n<p><code>Class.forName(\"example.com.TContract\\$Commands\\$TIssue\")</code></p>\n"}], "owner": {"reputation": 171, "user_id": 10068195, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IxD1SK8N4Z0/AAAAAAAAAAI/AAAAAAAAABE/pbd5NsgOqhg/photo.jpg?sz=128", "display_name": "Henry", "link": "https://stackoverflow.com/users/10068195/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 53183416, "answer_count": 1, "score": 0, "last_activity_date": 1541563463, "creation_date": 1541562519, "question_id": 53183320, "link": "https://stackoverflow.com/questions/53183320/how-to-get-inner-class-reflection", "title": "How to get inner class Reflection", "body": "<p>I had a class like</p>\n\n<pre><code>package example.com\nclass TContract : Contract {\n    interface Commands : CommandData {\n        class TIssue(val reference: State) : Commands\n    }\n}\n</code></pre>\n\n<p>How to get the class reflection of TIssue. I tried <code>Class.forName(\"example.com.TContract.Commands.TIssue\")</code>, but it's not work!</p>\n"}, {"tags": ["java", "android", "kotlin", "android-linearlayout"], "comments": [{"owner": {"reputation": 3582, "user_id": 615397, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/tcKp2.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/615397/lex"}, "edited": false, "score": 0, "creation_date": 1541563726, "post_id": 53183292, "comment_id": 93256825, "body": "Hi Touch, can you provide a code example?"}, {"owner": {"reputation": 77, "user_id": 4877943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfUuD.png?s=128&g=1", "display_name": "Touch Sreyleak", "link": "https://stackoverflow.com/users/4877943/touch-sreyleak"}, "reply_to_user": {"reputation": 3582, "user_id": 615397, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/tcKp2.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/615397/lex"}, "edited": false, "score": 0, "creation_date": 1541564273, "post_id": 53183292, "comment_id": 93256916, "body": "@Lex I have already added the code."}, {"owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "edited": false, "score": 0, "creation_date": 1541575060, "post_id": 53183292, "comment_id": 93259398, "body": "Try to set gravity param on your LinearLayout."}], "answers": [{"tags": [], "owner": {"reputation": 12180, "user_id": 588532, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gqNqv.jpg?s=128&g=1", "display_name": "Uriel Frankel", "link": "https://stackoverflow.com/users/588532/uriel-frankel"}, "is_accepted": false, "score": 0, "last_activity_date": 1541578420, "creation_date": 1541578420, "answer_id": 53185614, "question_id": 53183292, "link": "https://stackoverflow.com/questions/53183292/cannot-align-center-custom-linear-layout-inside-its-parent-layout-programmatical/53185614#53185614", "title": "Cannot align center custom linear layout inside its parent layout programmatically", "body": "<p>Do not reuse the same layout params for 2 different objects. Create a new layout params for each object.</p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541579738, "creation_date": 1541579738, "answer_id": 53185880, "question_id": 53183292, "link": "https://stackoverflow.com/questions/53183292/cannot-align-center-custom-linear-layout-inside-its-parent-layout-programmatical/53185880#53185880", "title": "Cannot align center custom linear layout inside its parent layout programmatically", "body": "<pre><code>layoutParams.gravity = Gravity.CENTER \n</code></pre>\n\n<p>sets the gravity of the contained views in the layout.  <br/>\nSo if you want to center the gray layout inside the red layout  <br/>\napply this attribute to the red layout.  <br/>\nYou can also do it in xml:</p>\n\n<pre><code>android:gravity=\"center\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 4877943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfUuD.png?s=128&g=1", "display_name": "Touch Sreyleak", "link": "https://stackoverflow.com/users/4877943/touch-sreyleak"}, "is_accepted": false, "score": 0, "last_activity_date": 1541580993, "creation_date": 1541580993, "answer_id": 53186164, "question_id": 53183292, "link": "https://stackoverflow.com/questions/53183292/cannot-align-center-custom-linear-layout-inside-its-parent-layout-programmatical/53186164#53186164", "title": "Cannot align center custom linear layout inside its parent layout programmatically", "body": "<p>I already found the answer, I forgot to set the layoutParams to my redLayout by programmatically, I only set it in xml file. Since the red layout is the custom layout, setting match_parent inside xml is not work unless we set it by programmatically. \nThanks everyone for taking your time to contribute this question.</p>\n"}], "owner": {"reputation": 77, "user_id": 4877943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfUuD.png?s=128&g=1", "display_name": "Touch Sreyleak", "link": "https://stackoverflow.com/users/4877943/touch-sreyleak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1541580993, "creation_date": 1541562193, "last_edit_date": 1541564232, "question_id": 53183292, "link": "https://stackoverflow.com/questions/53183292/cannot-align-center-custom-linear-layout-inside-its-parent-layout-programmatical", "title": "Cannot align center custom linear layout inside its parent layout programmatically", "body": "<p>I have a custom linear layout which is a red path as show in the image I attached in the link below that consist a textview and a button. I would like to make the text and button center inside the gray path by making the red path match parent, but I can not achieve that. I used to try many ways by setting layout param to match parent and set gravity center programmatically to make those element center. But those ways are not worked. <a href=\"https://i.stack.imgur.com/RoJVR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>This my code example:</p>\n\n<pre><code>val layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\nlayoutParams.gravity = Gravity.CENTER\ngrayLayout.addView(redLayout)\ngrayLayout.layoutParams = layoutParams\n</code></pre>\n\n<p>Any clue to help me out. Thanks in advance.</p>\n"}, {"tags": ["spring-boot", "kotlin", "enums", "spring-restcontroller"], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "edited": false, "score": 2, "creation_date": 1541581072, "post_id": 53183737, "comment_id": 93261749, "body": "You should avoid using ordinals. It is very easy to change the order (ex. move ERROR above NORMAL) and your application wouldn&#39;t work properly anymore. More of it, it&#39;d be difficult for you to find out where the error is because, at the surface, everything would look nice, compilation would look OK, etc. When numbers are explicit, it is much more clear how to convert them and reorganizing your code wouldn&#39;t affect the result."}, {"owner": {"reputation": 172, "user_id": 7701297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KxrmjavhI_4/AAAAAAAAAAI/AAAAAAAAH4A/2C8XKXtONcU/photo.jpg?sz=128", "display_name": "bam bam", "link": "https://stackoverflow.com/users/7701297/bam-bam"}, "reply_to_user": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "edited": false, "score": 0, "creation_date": 1541595445, "post_id": 53183737, "comment_id": 93268640, "body": "Thank you for your kind comments."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1542183864, "post_id": 53183737, "comment_id": 93472391, "body": "As a matter of fact I also prefer to avoid using the enum constant names, because these are merely variable names and should be changeable without breaking the API."}], "tags": [], "owner": {"reputation": 172, "user_id": 7701297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KxrmjavhI_4/AAAAAAAAAAI/AAAAAAAAH4A/2C8XKXtONcU/photo.jpg?sz=128", "display_name": "bam bam", "link": "https://stackoverflow.com/users/7701297/bam-bam"}, "is_accepted": false, "score": 0, "last_activity_date": 1541567524, "last_edit_date": 1541567524, "creation_date": 1541566400, "answer_id": 53183737, "question_id": 53183291, "link": "https://stackoverflow.com/questions/53183291/how-to-deserialize-www-form-field-to-enum-in-spring/53183737#53183737", "title": "How to deserialize WWW form field to enum in Spring?", "body": "<p>You just use the name.</p>\n\n<p>ex) status = NORMAL</p>\n\n<p>And does <code>value</code> matter? You can use ordinal</p>\n\n<pre><code>enum class Status{\n    NORMAL,\n    ERROR,\n}\n\nprintln(NORMAL.ordinal)\n//result:0\n</code></pre>\n\n<p>This is a joke, but if you need</p>\n\n<pre><code>enum class Status(val value:String){\n    `0`(\"NORMAL\"),`1`(\"ERROR\")\n}\n\nprintln(data.status.value)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1542183916, "post_id": 53186103, "comment_id": 93472422, "body": "Why isn&#39;t Jackson conversion taking care of it, though? Why do we have to implement our own converter for that? I have a simlar issue when trying to use an enum as query param. And I&#39;m using <code>&#39;com.fasterxml.jackson.module:jackson-module-kotlin&#39;</code>, which succeeds in converting my enum on its own, but Spring does not seem to use it..."}, {"owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1542202232, "post_id": 53186103, "comment_id": 93483270, "body": "Jackson works with JSON primarily. Above, it&#39;s not a JSON body, so Jackson doesn&#39;t apply."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1542207324, "post_id": 53186103, "comment_id": 93486698, "body": "Didn&#39;t realize that at first, but indeed query params don&#39;t go through JSON conversion, and have no reason to, because they are simply not JSON"}], "tags": [], "owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "is_accepted": true, "score": 0, "last_activity_date": 1541580755, "creation_date": 1541580755, "answer_id": 53186103, "question_id": 53183291, "link": "https://stackoverflow.com/questions/53183291/how-to-deserialize-www-form-field-to-enum-in-spring/53186103#53186103", "title": "How to deserialize WWW form field to enum in Spring?", "body": "<p>You may use Converter class for that. Note that request parameters my look like a numbers to you, but they are in fact strings. That's why converter below accepts <code>String?</code> and returns <code>Status?</code>. That means, it would be convenient for you if your <code>enum</code> accept it as well. Example: <code>NORMAL(\"0\"), ERROR(\"1\")</code>.</p>\n\n<pre><code>class ConvStringToStatus : Converter&lt;String?, Status?&gt; {\n    override fun convert(source: String?) = Status.of(source)\n}\n</code></pre>\n\n<p>To make it work, converter must be registered as below.</p>\n\n<pre><code>@Configuration\nclass WebConfig : WebMvcConfigurer {\n    override fun addFormatters(registry: FormatterRegistry) {\n        registry.addConverter(ConvStringToStatus())\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 8452082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30c5998d0de5e576f9a38dc7a7e135c?s=128&d=identicon&r=PG", "display_name": "Eivyses", "link": "https://stackoverflow.com/users/8452082/eivyses"}, "is_accepted": false, "score": 0, "last_activity_date": 1574691752, "creation_date": 1574691752, "answer_id": 59033951, "question_id": 53183291, "link": "https://stackoverflow.com/questions/53183291/how-to-deserialize-www-form-field-to-enum-in-spring/59033951#59033951", "title": "How to deserialize WWW form field to enum in Spring?", "body": "<p>For anyone still looking and finding this. The example code works and does not throw <code>non-null field is null</code> exception if you add <code>jackson-module-kotlin</code> dependency. It should match your <code>com.fasterxml.jackson.core</code> version</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "accepted_answer_id": 53186103, "answer_count": 3, "score": 2, "last_activity_date": 1574691752, "creation_date": 1541562192, "last_edit_date": 1541669918, "question_id": 53183291, "link": "https://stackoverflow.com/questions/53183291/how-to-deserialize-www-form-field-to-enum-in-spring", "title": "How to deserialize WWW form field to enum in Spring?", "body": "<p>I'm facing issue when trying deserialize input coming from WWW form to enum class in Spring application, in Kotlin.</p>\n\n<p>My DTO and enum classes:</p>\n\n<pre><code>enum class Status(@get:JsonValue val value: Int) {\n    NORMAL(0),\n    ERROR(1);\n\n    companion object {\n        @JvmStatic\n        @JsonCreator\n        fun of(number: Int?): Status? {\n            return values().find { it.value == number }\n        }\n    }\n}\n\ndata class RequestData(val status: Status?)\n</code></pre>\n\n<p>Controller's POST request receiver method:</p>\n\n<pre><code>@PostMapping(\"/post\")\nfun register(@Valid data: RequestData, error: Errors) {}\n</code></pre>\n\n<p>When I make POST request with <code>status = 0</code> using Postman, request's failing with following exception.</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method com.example.Controller.post, parameter data\n</code></pre>\n\n<p>When I make request with <code>status = NORMAL</code> then no exception, but that what I don't want.\nI'm using <code>application/x-www-form-urlencoded</code> content type in POST request.\nPlease let me know where I'm doing wrong.</p>\n"}, {"tags": ["spring", "rest", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12873, "user_id": 3641067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhMde.png?s=128&g=1", "display_name": "bur&#230;quete", "link": "https://stackoverflow.com/users/3641067/bur%c3%a6quete"}, "is_accepted": true, "score": 3, "last_activity_date": 1541561147, "creation_date": 1541561147, "answer_id": 53183190, "question_id": 53183090, "link": "https://stackoverflow.com/questions/53183090/api-not-receiving-information-with-postmapping-but-with-requestmapping-yes-s/53183190#53183190", "title": "API not receiving information with @PostMapping, but with @RequestMapping yes. Spring Boot, Kotlin, REST API", "body": "<p>It seems there was a minor missing annotation; <code>@RequestBody</code> in your problematic endpoint. Try to have;</p>\n\n<pre><code>@PostMapping(\"/\")\nfun createProyecto(@RequestBody proyecto: Proyecto): Proyecto {\n    return proyectoService.createProyecto(proyecto)\n}\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 6865510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cab3739a92ed8d861e989d034d7400c?s=128&d=identicon&r=PG", "display_name": "Gibr&#225;n", "link": "https://stackoverflow.com/users/6865510/gibr%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 53183190, "answer_count": 1, "score": 1, "last_activity_date": 1541563121, "creation_date": 1541560149, "last_edit_date": 1541563121, "question_id": 53183090, "link": "https://stackoverflow.com/questions/53183090/api-not-receiving-information-with-postmapping-but-with-requestmapping-yes-s", "title": "API not receiving information with @PostMapping, but with @RequestMapping yes. Spring Boot, Kotlin, REST API", "body": "<p>I'm trying to save a new 'proyecto' through postman. </p>\n\n<p>I'm using: </p>\n\n<ul>\n<li>Spring Boot 2.0.6.RELEASE. Kotlin 1.2.71 Java 8.</li>\n</ul>\n\n<p>I used the @PostMapping annotation but it sends me nulls, but if I use @RequestMapping it works correctly. <em>When I try one way or another I comment the code, to avoid conflicts.</em></p>\n\n<p><strong>ProyectoController.kt</strong>: </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/proyectos\")\nclass  ProyectoController {\n    @Autowired\n    lateinit var proyectoService : ProyectoService\n\n    //Not working\n    @PostMapping(\"/\")\n    fun createProyecto(proyecto: Proyecto): Proyecto {\n        return proyectoService.createProyecto(proyecto)\n    }\n\n    //Working\n    @RequestMapping(\"/\", method = arrayOf(RequestMethod.POST))\n    fun createProyeto2(@RequestBody proyecto: Proyecto): Proyecto{\n        return proyectoService.createProyecto(proyecto)\n    }\n}\n</code></pre>\n\n<p><strong>Proyecto.kt</strong></p>\n\n<pre><code>@Document(collection = \"proyectos\")\n@TypeAlias(\"proyecto\")\ndata class Proyecto (\n        @Id\n        var id: String?,\n        var nombre: String,\n        var area: String,\n        var fecha:String\n)\n</code></pre>\n\n<p><strong>Postman request with @PostMapping</strong>\n<a href=\"https://i.stack.imgur.com/6SFIt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SFIt.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Postman request with @RequestMapping</strong> \n<a href=\"https://i.stack.imgur.com/2vwms.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vwms.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 7701297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KxrmjavhI_4/AAAAAAAAAAI/AAAAAAAAH4A/2C8XKXtONcU/photo.jpg?sz=128", "display_name": "bam bam", "link": "https://stackoverflow.com/users/7701297/bam-bam"}, "is_accepted": true, "score": 1, "last_activity_date": 1541560892, "creation_date": 1541560892, "answer_id": 53183158, "question_id": 53182554, "link": "https://stackoverflow.com/questions/53182554/kotlinx-coroutines-basic-example-cant-recognise-coroutinescope-provided-by-glob/53183158#53183158", "title": "kotlinx.coroutines basic example can&#39;t recognise CoroutineScope provided by GlobalScope.launch", "body": "<p>Update IDEA kotlin plugin to 1.3 and restart IDEA</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/766\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/766</a></p>\n"}], "owner": {"reputation": 966, "user_id": 4978865, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-75z0lafdAEk/AAAAAAAAAAI/AAAAAAAAABQ/LjBjsQQLGnM/photo.jpg?sz=128", "display_name": "Praytic", "link": "https://stackoverflow.com/users/4978865/praytic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3014, "favorite_count": 0, "accepted_answer_id": 53183158, "answer_count": 1, "score": 4, "last_activity_date": 1541560892, "creation_date": 1541554561, "question_id": 53182554, "link": "https://stackoverflow.com/questions/53182554/kotlinx-coroutines-basic-example-cant-recognise-coroutinescope-provided-by-glob", "title": "kotlinx.coroutines basic example can&#39;t recognise CoroutineScope provided by GlobalScope.launch", "body": "<p>I've tried to run <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/basics.md#your-first-coroutine\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/basics.md#your-first-coroutine</a> example with latest libraries' versions, but I've got an error at the 'delay' function telling me:</p>\n\n<blockquote>\n  <p>Suspend function 'delay' should be called only from a coroutine or another suspend function</p>\n</blockquote>\n\n<p>When I run the code this error appears:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/coroutines/jvm/internal/CoroutineImpl\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.example.MainKt.main(Main.kt:6)\nCaused by: java.lang.ClassNotFoundException: kotlin.coroutines.jvm.internal.CoroutineImpl\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 13 more\n</code></pre>\n\n<p>Here's my gradle configuration:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.0'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nkotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.0\"\n}\n</code></pre>\n\n<p>And the code from the example:</p>\n\n<pre><code>package com.example\n\nimport kotlinx.coroutines.*\n\nfun main(args: Array&lt;String&gt;) {\n  GlobalScope.launch { // launch new coroutine in background and continue\n    delay(1000L) // non-blocking delay for 1 second (default time unit is ms)\n    println(\"World!\") // print after delay\n  }\n  println(\"Hello,\") // main thread continues while coroutine is delayed\n  Thread.sleep(2000L) // block main thread for 2 seconds to keep JVM alive\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "web-services", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 4111, "user_id": 5180017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vtvml.jpg?s=128&g=1", "display_name": "Shashanth", "link": "https://stackoverflow.com/users/5180017/shashanth"}, "edited": false, "score": 0, "creation_date": 1541562847, "post_id": 53181469, "comment_id": 93256671, "body": "If it is <code>GET</code> request, use <code>Request.Method.GET</code> in <code>StringRequest</code> not <code>Request.Method.POST</code>. If that doesn&#39;t work, try the same URL with Postman client and confirm that it works fine. If you get any error with Volley, please <a href=\"https://stackoverflow.com/posts/53181469/edit\">edit</a> the question and post error logs here."}, {"owner": {"reputation": 489, "user_id": 7011814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcS4g.jpg?s=128&g=1", "display_name": "Alex Shevelev", "link": "https://stackoverflow.com/users/7011814/alex-shevelev"}, "edited": false, "score": 0, "creation_date": 1541567841, "post_id": 53181469, "comment_id": 93257515, "body": "We use ksoap2 for this purpose. It works quite good for us."}, {"owner": {"reputation": 151, "user_id": 7480884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b874bfa30356faeb5560c93835e56a7?s=128&d=identicon&r=PG&f=1", "display_name": "Naham Al-Zuhairi", "link": "https://stackoverflow.com/users/7480884/naham-al-zuhairi"}, "reply_to_user": {"reputation": 4111, "user_id": 5180017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vtvml.jpg?s=128&g=1", "display_name": "Shashanth", "link": "https://stackoverflow.com/users/5180017/shashanth"}, "edited": false, "score": 0, "creation_date": 1541571214, "post_id": 53181469, "comment_id": 93258276, "body": "@Shashanth I tried to use Get method, but the result I got is all the content of the web page not the result of getSections method"}, {"owner": {"reputation": 4111, "user_id": 5180017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vtvml.jpg?s=128&g=1", "display_name": "Shashanth", "link": "https://stackoverflow.com/users/5180017/shashanth"}, "edited": false, "score": 0, "creation_date": 1541572945, "post_id": 53181469, "comment_id": 93258720, "body": "I&#39;m not familiar with C# stuff. Are you sure it returns &#39;JSON` or <code>XML</code> data as response? I&#39;d suggest you to use C# Web API for this as it returns JSON response and it&#39;s more convenient to.parse data in client side than XML data."}, {"owner": {"reputation": 151, "user_id": 7480884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b874bfa30356faeb5560c93835e56a7?s=128&d=identicon&r=PG&f=1", "display_name": "Naham Al-Zuhairi", "link": "https://stackoverflow.com/users/7480884/naham-al-zuhairi"}, "reply_to_user": {"reputation": 4111, "user_id": 5180017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vtvml.jpg?s=128&g=1", "display_name": "Shashanth", "link": "https://stackoverflow.com/users/5180017/shashanth"}, "edited": false, "score": 0, "creation_date": 1541578830, "post_id": 53181469, "comment_id": 93260802, "body": "@Shashanth would you mind providing me with a lint to an example.  and speaking of the JSON yes, you are right the web service returns XML, but I have used an external library to change the dataTable to json"}, {"owner": {"reputation": 4111, "user_id": 5180017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vtvml.jpg?s=128&g=1", "display_name": "Shashanth", "link": "https://stackoverflow.com/users/5180017/shashanth"}, "edited": false, "score": 0, "creation_date": 1541647181, "post_id": 53181469, "comment_id": 93290615, "body": "Most of the modern applications use JSON data now. It&#39;s hard to parse XML data and consumes more bandwidth as it&#39;s heavy. Where JSON is light weight and easy to parse. You can refer Microsoft&#39;s <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\" rel=\"nofollow noreferrer\">official doc</a> for Web API 2. Good luck"}], "owner": {"reputation": 151, "user_id": 7480884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b874bfa30356faeb5560c93835e56a7?s=128&d=identicon&r=PG&f=1", "display_name": "Naham Al-Zuhairi", "link": "https://stackoverflow.com/users/7480884/naham-al-zuhairi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 436, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541545865, "creation_date": 1541545865, "question_id": 53181469, "link": "https://stackoverflow.com/questions/53181469/calling-a-c-web-services-method-using-volley-in-android", "title": "Calling a C# web service&#39;s method using volley in android", "body": "<p>I have read almost all the related questions, but unfortunately no one solved my problem.\nMy problem is that I have created a C# web service and created four methods into it for different purposes and one of them called getSections here it is:</p>\n\n<pre><code>[WebMethod]\n    public string getSections()\n    {\n        connectToDB();\n        da = new SqlDataAdapter(\"select * from Sections\", link);\n\n        dt = new DataTable();\n        da.Fill(dt);\n\n        return Newtonsoft.Json.JsonConvert.SerializeObject(dt,Newtonsoft.Json.Formatting.Indented);\n    }\n</code></pre>\n\n<p>when I test the web service from the visual studio it shows links to the four methods to invoke them one by one, all of them work fine, so I uploaded them to my server. After that I tried to access to getSections method from my app using volley and here how I have done:</p>\n\n<pre><code>private fun getAllSections() {\n    /**\n     * Start Downloading all the sections\n     */\n\n\n    var uri=\"http://......../myProject/WebService1.asmx?op=getSections\";\n\n    val stringRequest = object : StringRequest(Request.Method.POST, uri, Listener&lt;String&gt; { response -&gt;\n\n        Log.i(\"SectionsResponse\", response)\n        Toast.makeText(this,\"SectionsResponse: \"+response,Toast.LENGTH_LONG).show()\n\n    }, object : Response.ErrorListener {\n        override fun onErrorResponse(error: VolleyError?) {\n            if (error != null) {\n                Log.i(\"SectionsError:\", error.message.toString())\n                Toast.makeText(baseContext,\"error\"+error.message.toString(),Toast.LENGTH_LONG).show()\n          }\n        }\n    }) {\n        override fun getParams(): MutableMap&lt;String, String&gt; {\n            val params=HashMap&lt;String,String&gt;()\n            //params.put(\"a\",\"aa\")\n            return params\n        }\n    }\n\n    if (Funs().isOnline(this)) {\n\n        val requesQueue = Volley.newRequestQueue(this)\n        requesQueue.add&lt;String&gt;(stringRequest)\n\n    } else {\n        Toast.makeText(this, resources.getString(R.string.connectionFailed), Toast.LENGTH_LONG).show()\n    }\n    /**\n     * End Downloading all the sections\n     */\n}\n</code></pre>\n\n<p>After all above I am getting a null result from the error listener which means that the url is not valid or not found.\nso</p>\n\n<blockquote>\n  <p>what is the valid way to access to the method into c# web service using volley library.</p>\n</blockquote>\n\n<p>appreciate any help.</p>\n"}, {"tags": ["android", "database", "sqlite", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "edited": false, "score": 0, "creation_date": 1541544923, "post_id": 53181306, "comment_id": 93252814, "body": "@AlfredoBejarano you also claimed before, the field would exists, while it didn&#39;t. using any other name then <code>synchronized</code> might help - because this not only is the column name, but also the field name. one can use a <code>TypeConverter</code> to save boolean as integer."}, {"owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "edited": false, "score": 0, "creation_date": 1541545131, "post_id": 53181306, "comment_id": 93252883, "body": "Thanks, it worked, I renamed it from synchronized to syncState. thanks"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 1, "last_activity_date": 1541544740, "creation_date": 1541544740, "answer_id": 53181306, "question_id": 53181257, "link": "https://stackoverflow.com/questions/53181257/room-cant-find-boolean-column-when-it-exists/53181306#53181306", "title": "Room can&#39;t find boolean column when it exists", "body": "<p>you are missing annotation <code>@ColumnInfo(name = \"synchronized\")</code> ...</p>\n\n<p>while using Java &amp; SQL keywords as column names tends to be confusing.</p>\n"}], "owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1772, "favorite_count": 0, "accepted_answer_id": 53181306, "answer_count": 1, "score": 0, "last_activity_date": 1541564681, "creation_date": 1541544413, "last_edit_date": 1541564681, "question_id": 53181257, "link": "https://stackoverflow.com/questions/53181257/room-cant-find-boolean-column-when-it-exists", "title": "Room can&#39;t find boolean column when it exists", "body": "<p>I've trying to build a Dao using an entity that has a boolean value, room keeps saying that the column doesn't exist even when it exists.</p>\n\n<p><strong>Device.kt</strong></p>\n\n<pre><code>@Entity(tableName = \"device_table\")\ndata class Device(\n    @Expose\n    @SerializedName(\"name\")\n    var name: String,\n    @Expose\n    @SerializedName(\"strength\")\n    var strength: Int,\n    @Expose\n    @ColumnInfo(name = \"pk\")\n    @SerializedName(\"address\")\n    @PrimaryKey(autoGenerate = false)\n    var address: String,\n    @Expose\n    @ColumnInfo(name = \"created_at\")\n    @SerializedName(\"created_at\")\n    var createdAt: String,\n    var synchronized: Boolean\n) {\n    constructor() : this(\"\", 0, \"\", \"\", true)\n}\n</code></pre>\n\n<p><strong>DeviceDao.kt</strong></p>\n\n<pre><code>@Dao\ninterface DeviceDao {\n    /**\n     * Inserts a device into the database, if it already exists\n     * the device gets updated with the device data.\n     */\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertOrUpdate(device: Device)\n\n    /**\n     * Retrieves all the bluetooth devices from the\n     * local database ordered by their creation date.\n     */\n    @Query(\"SELECT * FROM device_table ORDER BY created_at ASC\")\n    fun read(): LiveData&lt;List&lt;Device&gt;&gt;\n\n    @Query(\"SELECT * FROM device_table WHERE synchronized = 0 ORDER BY created_at ASC\")\n    fun readUnSync(): List&lt;Device&gt;\n\n    /**\n     * Nukes the device_table, deletes everything.\n     */\n    @Query(\"DELETE FROM device_table\")\n    fun deleteAll()\n}\n</code></pre>\n\n<p>Room using SQL completion using Android Studio finds the synchronized column just fine, but when I try to run the app, this appears:</p>\n\n<pre><code>There is a problem with the query: [SQLITE_ERROR] SQL error or missing database (no such column: synchronized)\n\npublic abstract java.util.List&lt;me.alfredobejarano.bluethootmanager.data.Device&gt; readUnSync();\n</code></pre>\n\n<p>The column exists, I don't know what's happening, I'm even using the boolean value as an Int because SQLite doesn't have Boolean values</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 5, "last_activity_date": 1541566941, "creation_date": 1541566941, "answer_id": 53183817, "question_id": 53180791, "link": "https://stackoverflow.com/questions/53180791/how-do-i-write-a-sequence-of-promises-in-kotlin/53183817#53183817", "title": "How do I write a sequence of promises in Kotlin?", "body": "<p>As you mentioned, <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"noreferrer\">coroutines</a> are the standard feature to go with.</p>\n\n<p>You have to use the <code>suspend</code> keyword, if the function will be suspended, e.g. IO, or if you call another <code>suspend</code> function, e.g. <code>delay</code>.</p>\n\n<p>The error handling can be done with the normal <code>try-catch</code> statement.</p>\n\n<pre><code>import kotlinx.coroutines.delay\nimport java.lang.Exception\nimport kotlin.math.ceil\n\nconst val SLEEP_INTERVAL_IN_MILLISECONDS = 200\n\nsuspend fun alpha(number: Int): Int {\n    delay(SLEEP_INTERVAL_IN_MILLISECONDS)\n    return number + 1\n}\n\nsuspend fun bravo(number: Int): Int {\n    delay(SLEEP_INTERVAL_IN_MILLISECONDS)\n    return ceil(1000 * Math.random() + number).toInt()\n}\n\nfun charlie(number: Int): Int =\n    number.takeIf { it % 2 == 0 } ?: throw IllegalStateException(number.toString())\n\nsuspend fun run() {\n    try {\n        val result = charlie(bravo(alpha(42)))\n        println(result)\n    } catch (e: Exception) {\n        println(e)\n    }\n}\n\nsuspend fun main() {\n    run()\n}\n</code></pre>\n\n<p>If you like a more functional style for error handling, you can go with this:</p>\n\n<pre><code>suspend fun run() {\n    runCatching { charlie(bravo(alpha(42))) }\n        .onFailure { println(it) }\n        .onSuccess { println(it) }\n}\n</code></pre>\n"}], "owner": {"reputation": 4653, "user_id": 2886392, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3092288cd40a9e9821ec2a6aeb282b15?s=128&d=identicon&r=PG", "display_name": "JP Ventura", "link": "https://stackoverflow.com/users/2886392/jp-ventura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6364, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1541566941, "creation_date": 1541542056, "last_edit_date": 1541545370, "question_id": 53180791, "link": "https://stackoverflow.com/questions/53180791/how-do-i-write-a-sequence-of-promises-in-kotlin", "title": "How do I write a sequence of promises in Kotlin?", "body": "<p>Is it possible to write a sequence of <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">promise</a> (or tasks) using <strong>only</strong> Kotlin?</p>\n\n<p>For example, a sequence promises in JavaScript is written as:</p>\n\n<pre><code>const SLEEP_INTERVAL_IN_MILLISECONDS = 200;\n\nconst alpha = function alpha (number) {\n    return new Promise(function (resolve, reject) {\n        const fulfill = function() {\n            return resolve(number + 1);\n        };\n\n        return setTimeout(fulfill, SLEEP_INTERVAL_IN_MILLISECONDS);\n    });\n};\n\nconst bravo = function bravo (number) {\n    return new Promise(function (resolve, reject) {\n        const fulfill = function() {\n            return resolve(Math.ceil(1000*Math.random()) + number);\n        };\n        return setTimeout(fulfill, SLEEP_INTERVAL_IN_MILLISECONDS);\n    });\n};\n\nconst charlie = function charlie (number) {\n    return new Promise(function (resolve, reject) {\n        return (number%2 == 0) ? reject(number) : resolve(number);\n    });\n};\n\nfunction run() {\n    return Promise.resolve(42)\n        .then(alpha)\n        .then(bravo)\n        .then(charlie)\n        .then((number) =&gt; {\n            console.log('success: ' + number)\n        })\n        .catch((error) =&gt; {\n            console.log('error: ' + error);\n        });\n}\n\nrun();\n</code></pre>\n\n<p>Each function <a href=\"https://developers.google.com/web/fundamentals/getting-started/primers/promises\" rel=\"nofollow noreferrer\">also returns a Promise</a> with asynchronous processing result, that would be resolved/rejected by the immediately following promise.</p>\n\n<p>I know how to write this using<a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">RxKotlin</a>, but I am trying to figure out how to write it using <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">coroutines library</a> or any other standard feature. </p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1541540959, "post_id": 53180141, "comment_id": 93251219, "body": "I guess you could just drop the lateinit foo and do <code>val job = Job()</code> and then do <code>val coroutineContext = Dispatchers.Main + job</code> since activities should not be created or destroyed more than once (Or use <code>by lazy</code> with <code>coroutineContext</code>). But how many times per second are you <code>launch</code>ing coroutines? It&#39;s just not that important to optimize such a minor operation when you casually do collection operations all the time in ui thread methods."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541579463, "post_id": 53180141, "comment_id": 93261070, "body": "You could also dispense with <code>val job</code> altogether, you need the job just once in <code>onDestroy</code> and you can get it as <code>coroutineContext[Job]</code>."}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541582139, "post_id": 53180141, "comment_id": 93262293, "body": "@MarkoTopolnik I updated question"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1541582150, "post_id": 53180141, "comment_id": 93262298, "body": "@zapl I updated question"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1541583261, "post_id": 53180141, "comment_id": 93262865, "body": "Your implementation would be quite simpler if you used <code>override val coroutineContext by lazy { Dispatchers.Main + Job() }</code> and <code>coroutineContext[Job]!!.cancel()</code> to cancel it."}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541584080, "post_id": 53180141, "comment_id": 93263266, "body": "@MarkoTopolnik yeah, I get it, but what if I want to re-init coroutineContext with a new job, as in the update?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541588296, "post_id": 53180141, "comment_id": 93265368, "body": "I don&#39;t think you have to cancel all your coroutines if the activity is just pausing, but as a general idea, you can re-initialize the <code>coroutineContext</code> and not just the job: <code>private var _coroCtx: CoroutineContext? = null; override val coroutineContext get() = _coroCtx ?: (Dispatchers.Main + Job()).also { _coroCtx = it }</code>"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541590522, "post_id": 53180141, "comment_id": 93266326, "body": "@MarkoTopolnik hm, yes, that looks much better actually. Please, post it as answer to extend this discussion :)"}], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1541595698, "post_id": 53189114, "comment_id": 93268773, "body": "We can throw in a different way, something kinda <code>get() = _ctx ?: throw IllegalStateException(&quot;called before resume&quot;)</code>, but looks much better, for sure"}], "tags": [], "owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "is_accepted": true, "score": 3, "last_activity_date": 1541593874, "last_edit_date": 1541593874, "creation_date": 1541592251, "answer_id": 53189114, "question_id": 53180141, "link": "https://stackoverflow.com/questions/53180141/coroutine-context-custom-getter/53189114#53189114", "title": "Coroutine context custom getter", "body": "<p>I think you could run into issues with thread-safety when you supply a <code>Job</code> lazily like in your update because that code is evaluated from whatever thread happens to start a coroutine.\nThe initial example on the other hand makes sure that the Job is setup from the Main thread and that it happens before other threads can be started in a typical android activity.</p>\n\n<p>You could achieve something similar to the initial example by creating the entire <code>CoroutineContext</code> at the start of the scope. That also removes the need to compute the final context for each started coroutine. For example:</p>\n\n<pre><code>class LifecycleCrScope : CoroutineScope, LifecycleObserver {\n\n    private var _ctx: CoroutineContext? = null\n    override val coroutineContext: CoroutineContext\n        get() = _ctx!! // throws when not within scope\n\n    private fun startScope() {\n        _ctx = Dispatchers.Main + Job()\n    }\n\n    private fun endScope() {\n        _ctx!![Job]!!.cancel()  // throws only when misused, e.g. no startScope()\n        _ctx = null\n    }\n\n    @OnLifecycleEvent(ON_RESUME) //  &lt;-.\n    fun resume() {               //    | Beware:\n        startScope()             //    | symmetric but no scope\n    }                            //    | during onCreate,\n                                 //    | onStart, onStop, ...\n    @OnLifecycleEvent(ON_PAUSE)  //  &lt;-.\n    fun pause() {\n        endScope()\n    }\n\n}\n</code></pre>\n\n<p>Alternatively, if you don't like it to throw</p>\n\n<pre><code>class LifecycleCrScope : CoroutineScope, LifecycleObserver {\n    // initially cancelled. Jobs started outside scope will not execute silently\n    private var _ctx: CoroutineContext = Dispatchers.Main + Job().apply { cancel() }\n    ..\n    private fun endScope() {\n        _ctx[Job]!!.cancel()  // should never throw\n    }\n    ..\n</code></pre>\n"}], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 1, "accepted_answer_id": 53189114, "answer_count": 1, "score": 3, "last_activity_date": 1541593874, "creation_date": 1541539022, "last_edit_date": 1541582054, "question_id": 53180141, "link": "https://stackoverflow.com/questions/53180141/coroutine-context-custom-getter", "title": "Coroutine context custom getter", "body": "<p>I'm investigating kotlin coroutines related to Android after 1.0.0 release.</p>\n\n<p>I found tons of examples of making scoped ViewModel (from arch components) with creating parent job and clearing it in <code>onCleared</code> or scoped Activity with job creation in <code>onCreate</code> and clearing in <code>onDestroy</code> (same with <code>onResume</code> and <code>onPause</code>). In some examples I meet this code structure (taken from <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/\" rel=\"nofollow noreferrer\">official docs</a>):</p>\n\n<pre><code>override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + job\n</code></pre>\n\n<p>Is this custom getter called all times, when we start a new coroutine from this scope? Isn't it bad? Maybe it would be better to keep single scope value instead of creating a new one every time? </p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>I accept that solution, if we get rid of <code>lateinit</code> job and create it isntantly, but what if I want to do something like this (what should I do? Is this solution looks like correct or not?):</p>\n\n<pre><code>class LifecycleCrScope: CoroutineScope, LifecycleObserver {\n\n  private var _job: Job? = null\n  override val coroutineContext: CoroutineContext\n    get() = job() + Dispatchers.Main\n\n\n  fun job() : Job {\n    return _job ?: createJob().also { _job = it }\n  }\n\n  fun createJob(): Job = Job() // or another implementation\n\n  @OnLifecycleEvent(ON_PAUSE)\n  fun pause() {\n    _job?.cancel()\n    _job = null\n  }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541538059, "post_id": 53179841, "comment_id": 93250042, "body": "Why do you even override the <code>var</code>s? Passing them as super constructor parameters should be enough."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 1, "creation_date": 1541538816, "post_id": 53179841, "comment_id": 93250324, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors\">What&#39;s wrong with overridable method calls in constructors?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10615555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c368799f4fb7d704fa5ed4077c9125fc?s=128&d=identicon&r=PG", "display_name": "Umberto Cozzi", "link": "https://stackoverflow.com/users/10615555/umberto-cozzi"}, "is_accepted": false, "score": 2, "last_activity_date": 1541540581, "creation_date": 1541540581, "answer_id": 53180507, "question_id": 53179841, "link": "https://stackoverflow.com/questions/53179841/beginner-question-inheritance-why-isnt-my-age-constructor-parameter-used/53180507#53180507", "title": "Beginner question - Inheritance - why isn&#39;t my age constructor parameter used?", "body": "<p>the documentation you are referring to, says explicitly <em>\"When designing a base class, you should therefore avoid using open members in the constructors, property initializers, and init blocks\"</em> </p>\n\n<p>this is exactly what is happening in your example. In the base class Person you use the open member age in the constructor (the line where you calculate the dob).\nThis should be avoided because when that line calculating dob is executed, age did not yet receive a value from the derived class.</p>\n\n<p>Ok, I did not answer at the \"How to correct this?\" but I hope it helps in clarifying  what is going on </p>\n"}, {"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1541579969, "last_edit_date": 1541579969, "creation_date": 1541579075, "answer_id": 53185727, "question_id": 53179841, "link": "https://stackoverflow.com/questions/53179841/beginner-question-inheritance-why-isnt-my-age-constructor-parameter-used/53185727#53185727", "title": "Beginner question - Inheritance - why isn&#39;t my age constructor parameter used?", "body": "<p>What Umberto Cozzi said is right, it is to do with the fact that you're referring to an open value in the constructor.  If you step through the code you'll see that the sequence of events is:</p>\n\n<ol>\n<li>You call the <code>Student</code> constructor, passing in a value for <code>age</code>.</li>\n<li>The first thing that constructor does (<strong>before</strong> constructing the <code>Student</code> object) is call the superclass's constructor.</li>\n<li>During the construction of the superclass (<code>Person</code>) you hit this line of code: <code>val dob = thisyear - age</code>.  <code>age</code> is an open member (i.e. overridden in the subclass, <code>Student</code>).  So the value should be retrieved from <code>Student</code>.  The problem is that at this point the <code>Student</code> hasn't been fully constructed yet (remember the first thing its constructor did was call the superclass's constructor).  So it's not possible yet for <code>Person</code> to ask <code>Student</code> what value <code>age</code> should be, as that value hasn't been set yet.  If you step through the code and check out the value of <code>age</code> at this line of code, it's zero (the default value for an <code>Int</code>).</li>\n</ol>\n\n<p>So the question is what to do?  And I think the thing you should ask is: why does <code>Student</code> override <code>age</code> (and indeed <code>firstname</code> and <code>surname</code>).  Is there any different in behaviour of <code>age</code>, <code>firstname</code> and <code>surname</code> between <code>Person</code> and <code>Student</code>?  The answer is probably no.  So <code>Student</code> shouldn't override these properties: instead it should declare them simply as constructor parameters (without <code>val</code> or <code>var</code>) and pass those values to the base class.  In other words, <code>Student</code> should look as follows:</p>\n\n<pre><code>class Student(firstname: String, surname: String, age: Int, val studentID: Int) :\n        Person(firstname, surname, age) {\n    ...\n</code></pre>\n\n<p>You might also want to be aware of the fact that your line of code that declares <code>thisyear</code> actually creates a property of <code>Person</code>, called <code>thisyear</code>, which I guess you don't want.  Any <code>val</code> or <code>var</code> members that are declared directly in the class (rather than in a function) are a declaration of a property (and this is why this is all being calculated immediately during the construction of the <code>Person</code> object).  So you might well want to inline this as:</p>\n\n<pre><code>val dob = Calendar.getInstance().get(Calendar.YEAR) - age\n</code></pre>\n\n<p>If the calculation is more complex and requires more lines of code, just create a private method (e.g. <code>calculateDob</code>) and call that, e.g. <code>val dob = calculateDob(age)</code></p>\n\n<p>There's also the slight anomaly that <code>age</code> is a <code>var</code> (i.e. can change) whereas <code>dob</code> is a <code>val</code> (i.e. can't change).  So a user could change the value of <code>age</code>, but <code>dob</code> won't be updated.  One possible way to solve this is to change <code>dob</code> so that instead of it being a property which is assigned a (read-only) value during construction, make it a property with a getter which will calculate the value every time it's called, e.g.</p>\n\n<pre><code>val dob\n    get() = Calendar.getInstance().get(Calendar.YEAR) - age\n</code></pre>\n\n<p>Another option is to add a backing field and getter/setter for <code>age</code> and update <code>dob</code> whenever <code>age</code> is updated.</p>\n"}], "owner": {"reputation": 3, "user_id": 7105947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/600923a3bba076f04321e70307df9865?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Hashmi", "link": "https://stackoverflow.com/users/7105947/imran-hashmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 53185727, "answer_count": 2, "score": 0, "last_activity_date": 1541579969, "creation_date": 1541537561, "question_id": 53179841, "link": "https://stackoverflow.com/questions/53179841/beginner-question-inheritance-why-isnt-my-age-constructor-parameter-used", "title": "Beginner question - Inheritance - why isn&#39;t my age constructor parameter used?", "body": "<p>Noob question here, I am working my way through a Udemy beginner <a href=\"https://www.udemy.com/kotlin-course/learn/v4/overview\" rel=\"nofollow noreferrer\">Kotlin</a> course and I can't work out why my age parameter isn't used when I use my derived class, but will work when my base class is used.</p>\n\n<p>Person Class</p>\n\n<pre><code>open class Person(open var firstname: String, open var surname: String,\n          open var age: Int) {\n\nval thisyear: Int = Calendar.getInstance().get(Calendar.YEAR)\n\nval dob = thisyear - age\n\nfun printperson() {\n\n    println(\"$firstname $surname was born in $dob\")\n\n}\n}\n</code></pre>\n\n<p>Student Class</p>\n\n<pre><code>class Student(override var firstname: String, override var surname: \n                String, override var age: Int, val studentID: Int):    \n                    Person(firstname, surname, age) {\n\nfun returnDetails() {\n\n    println(\"Hello $firstname, your Student ID is: $studentID\")\n}\n}\n</code></pre>\n\n<p>Main</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\nval studentMike = Student(firstname = \"Mike\", \n                  surname = \"Stand\", age = 67, studentID = 8899)\n\nstudentMike.printperson()\nstudentMike.returnDetails()\n\nval personBill = Person(firstname = \"Bill\", surname = \"Hook\", age = 34)\npersonBill.printperson()\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Mike Stand was born in 2018\nHello Mike, your Student ID is: 8899\nBill Hook was born in 1984\n</code></pre>\n\n<p>As you can see Bill was a direct use of the method in the Person Class, whereas Mike was an indirect call, the age parameter should have been inherited from the Person Class through the Student Class...</p>\n\n<p>Looking at the official Kotlin docs, it looks like the issue is to do with the \"<a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Derived class initialisation order</a>\" but for the life of me I can't quite grok how to correct this.</p>\n\n<p>Thanks for your help,</p>\n\n<p>PS apologies for the inaccurate terminology. Always glad of pointers to do better.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "mpandroidchart", "linechart"], "comments": [{"owner": {"reputation": 3624, "user_id": 820861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZdzk.jpg?s=128&g=1", "display_name": "Pravin Divraniya", "link": "https://stackoverflow.com/users/820861/pravin-divraniya"}, "edited": false, "score": 0, "creation_date": 1576245540, "post_id": 53179105, "comment_id": 104847550, "body": "Post your layout xml code. Also, provide missing kotlin code if possible."}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "edited": false, "score": 0, "creation_date": 1576550242, "post_id": 53179105, "comment_id": 104927446, "body": "Can you public full code?"}], "answers": [{"tags": [], "owner": {"reputation": 2402, "user_id": 6464513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qEP9S.jpg?s=128&g=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/6464513/sina"}, "is_accepted": false, "score": 0, "last_activity_date": 1576062219, "creation_date": 1576062219, "answer_id": 59284375, "question_id": 53179105, "link": "https://stackoverflow.com/questions/53179105/the-x-axis-labels-doesnt-show-in-linechart-mpandroidchart/59284375#59284375", "title": "The X Axis labels doesnt show in LineChart (MpAndroidChart)", "body": "<p>Set lableCount for as many mounth you want to show and check if that fixes your problem. </p>\n\n<pre><code>lineChartEvolucionFragment.xAxis.lableCount = 12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6630, "user_id": 1994950, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5f16e6eff1f8a47146a95c3234218946?s=128&d=identicon&r=PG&f=1", "display_name": "Kushal", "link": "https://stackoverflow.com/users/1994950/kushal"}, "is_accepted": true, "score": 1, "last_activity_date": 1576065107, "last_edit_date": 1576065107, "creation_date": 1576064774, "answer_id": 59285100, "question_id": 53179105, "link": "https://stackoverflow.com/questions/53179105/the-x-axis-labels-doesnt-show-in-linechart-mpandroidchart/59285100#59285100", "title": "The X Axis labels doesnt show in LineChart (MpAndroidChart)", "body": "<p>The below code should work : </p>\n\n<pre><code>var xAxis = lineChartEvolucionFragment.xAxis\nxAxis.position = XAxis.XAxisPosition.BOTTOM\nxAxis.setDrawGridLines(false)\nxAxis.setDrawLabels(true)\n\nvar xLabels = lineChartEvolucionFragment.xLabels\nxLabels.setPosition(XLabelPosition.BOTTOM)\n\nxAxis.valueFormatter = MonthFormatter()\n</code></pre>\n\n<p>I suspect <code>float value</code> of <code>1</code> will return <code>1.0f</code>, you are checking <code>1f</code>. So, edit your value formatter : </p>\n\n<pre><code>class MonthFormatter : IAxisValueFormatter {\noverride fun getFormattedValue(value: Float, axis: AxisBase?): String =       \n    when (Math.round(value)) {\n        1 -&gt; \"Jan\"\n        2 -&gt; \"Feb\"\n        3 -&gt; \"Mar\"\n        4 -&gt; \"Apr\"\n        5 -&gt; \"May\"\n        6 -&gt; \"Jun\"\n        7 -&gt; \"Jul\"\n        8 -&gt; \"Aug\"\n        9 -&gt; \"Sept\"\n        10 -&gt; \"Oct\"\n        11 -&gt; \"Nov\"\n        12 -&gt; \"Dec\"\n        else -&gt; \"\"\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 6057694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y97Rv.jpg?s=128&g=1", "display_name": "Gersard", "link": "https://stackoverflow.com/users/6057694/gersard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 59285100, "answer_count": 2, "score": 3, "last_activity_date": 1576065107, "creation_date": 1541534245, "question_id": 53179105, "link": "https://stackoverflow.com/questions/53179105/the-x-axis-labels-doesnt-show-in-linechart-mpandroidchart", "title": "The X Axis labels doesnt show in LineChart (MpAndroidChart)", "body": "<p>I have a simple linechart where the values of X correspond to the months of the year. The problem is that he does not show me the corresponding labels. I use an IAxisFormatter to replace the month's numbers with the text (1 = Jan, 2 = Feb, etc ...)</p>\n\n<p><a href=\"https://i.stack.imgur.com/UA1wK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UA1wK.png\" alt=\"This is how it looks now\"></a></p>\n\n<p>But, i want it to look this</p>\n\n<p><a href=\"https://i.stack.imgur.com/gtdjJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gtdjJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I put the code of how I have configured the line chart (Kotlin)</p>\n\n<pre><code>    // GENERAL CONFIGURATION\n    lineChartEvolucionFragment.setPinchZoom(false)\n    lineChartEvolucionFragment.setTouchEnabled(false)\n    lineChartEvolucionFragment.description = null\n    lineChartEvolucionFragment.legend.isEnabled = false\n    lineChartEvolucionFragment.axisRight.isEnabled = false\n    lineChartEvolucionFragment.xAxis.position = XAxis.XAxisPosition.BOTTOM\n    lineChartEvolucionFragment.xAxis.setDrawGridLines(false)\n    lineChartEvolucionFragment.xAxis.valueFormatter = MonthFormatter()\n    lineChartEvolucionFragment.isDragEnabled = true\n    lineChartEvolucionFragment.axisLeft.setDrawGridLines(false)\n    lineChartEvolucionFragment.xAxis.setCenterAxisLabels(true)\n    lineChartEvolucionFragment.xAxis.labelRotationAngle = 315f\n    lineChartEvolucionFragment.xAxis.setDrawLabels(true)\n\n    // DATASET\n    val entries = mutableListOf&lt;Entry&gt;()\n\n        for (historia in getHistoryDummy()) {\n            val month = Funciones.formatTimestamp(\"MM\",  historia.fechaEnviado).toIntOrNull()\n                    ?: continue\n            entries.add(Entry(month.toFloat(), getDatoByType(historia)))\n\n            Log.d(TAG, \"Mes: ${month.toFloat()}\")\n        }\n\n        val dataset = LineDataSet(entries, \"Evoluci\u00f3n\")\n        dataset.lineWidth = 2f\n        dataset.color = ContextCompat.getColor(context!!, R.color.colorAccent)\n        dataset.setCircleColor(ContextCompat.getColor(context!!, R.color.colorPrimaryDark))\n        val lineData = LineData(dataset)\n        lineData.setValueFormatter(ValueFormatter())\n        lineData.setValueTextSize(12f)\n        lineChartEvolucionFragment.data = lineData\n\n        lineChartEvolucionFragment.axisLeft.addLimitLine(getLimitByType())\n        lineChartEvolucionFragment.setVisibleXRange(1f, 5f)\n\n        lineChartEvolucionFragment.animateX(500, Easing.EasingOption.EaseInSine)\n\n    //FORMATTER\n\n    class MonthFormatter : IAxisValueFormatter {\n\n    override fun getFormattedValue(value: Float, axis: AxisBase?): String =       when  (value) {\n    1f -&gt; \"Jan\"\n    2f -&gt; \"Feb\"\n    3f -&gt; \"Mar\"\n    4f -&gt; \"Apr\"\n    5f -&gt; \"May\"\n    6f -&gt; \"Jun\"\n    7f -&gt; \"Jul\"\n    8f -&gt; \"Aug\"\n    9f -&gt; \"Sept\"\n    10f -&gt; \"Oct\"\n    11f -&gt; \"Nov\"\n    12f -&gt; \"Dec\"\n    else -&gt; \"\"\n       }\n\n    }\n</code></pre>\n\n<p>Im using the version 3.0.3</p>\n"}, {"tags": ["generics", "collections", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1541531894, "post_id": 53178072, "comment_id": 93247157, "body": "So far as I can tell, what you have would compile (see e.g. <a href=\"https://ideone.com/qBhMKN\" rel=\"nofollow noreferrer\">ideone.com/qBhMKN</a>)."}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1541597243, "post_id": 53178072, "comment_id": 93269551, "body": "Do you totally sure that all dogs in the hashset are instances of Bull? If it contains instances of an other child of dog class, desirable casting would be failed!"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541533349, "creation_date": 1541529819, "last_edit_date": 1541533349, "question_id": 53178072, "link": "https://stackoverflow.com/questions/53178072/how-to-convert-list-of-child-type-to-list-of-parent-type", "title": "How to convert list of child type to list of parent type", "body": "<p>I imagine there is a pretty way of doing this, but I just cannot see it.\nSay I have the class <code>class Bull: Dog</code>. If I have <code>Set&lt;Bull&gt; bulls</code> and a function <code>fun doSomeCool(vararg input:Dog)</code>, what should I do with <code>bulls</code> so that I can pass it to <code>doSomeCool</code>? For example, the following doesn't work: </p>\n\n<pre><code>doSomeCool(*bulls.toTypedArray())\n</code></pre>\n\n<p><em>UPDATE</em></p>\n\n<p>I am so sorry I asked the question backwards. Slight but important changes:</p>\n\n<p>I have classes:</p>\n\n<pre><code>class Dog(val name:String)//there are actually more properties\n\nclass Bull(name:String):Dog(name){  \n  @PrimaryKey(autoGenerate = true)\n  var id: Int = 0//not used in equals function\n}\n</code></pre>\n\n<p>Then I have the set</p>\n\n<pre><code>val dogs:HashSet&lt;Dog&gt;=...\n</code></pre>\n\n<p>then I need to pass dogs to the following method</p>\n\n<pre><code>fun insert(vararg bull:Bull){...}//insert into a DB of Bulls\n</code></pre>\n\n<p>So really I need to somehow magically downcast from Dog to Bull -- since they are really the same type except for the auto-generated primary key, which by the way is not used in equals (I don't even override equals, Bull uses the implementation of Dog). Is there an easy way to do this without having to create a news instance of each element in dogs?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1541527622, "post_id": 53177531, "comment_id": 93245073, "body": "The argument you pass is the radix. Are you sure you pass the right one? Unless you&#39;re using binary, you&#39;re not gonna trigger it. IIRC scanner by radix takes the first one that match, but it blocks until it&#39;s received. Also, 3 isn&#39;t a valid radix"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541529225, "post_id": 53177531, "comment_id": 93245835, "body": "Don&#39;t use unrelated tags for your questions."}, {"owner": {"reputation": 37, "user_id": 8539148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e496105a46660f5f901cedba24f0d893?s=128&d=identicon&r=PG&f=1", "display_name": "Vell Jackson", "link": "https://stackoverflow.com/users/8539148/vell-jackson"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541603037, "post_id": 53177531, "comment_id": 93273032, "body": "@forpas when going through the Kotlin tutorials it says if you have questions in regards of this to use the Kotlin tag. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1541528447, "post_id": 53177585, "comment_id": 93245482, "body": "I&#39;m not sure if the problem was to print b and then a, or to print a and b with their digits reversed. But yours is just as good an answer to an ambiguous question."}, {"owner": {"reputation": 37, "user_id": 8539148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e496105a46660f5f901cedba24f0d893?s=128&d=identicon&r=PG&f=1", "display_name": "Vell Jackson", "link": "https://stackoverflow.com/users/8539148/vell-jackson"}, "edited": false, "score": 0, "creation_date": 1541530058, "post_id": 53177585, "comment_id": 93246240, "body": "When you say &quot;Create a string to display the values&quot; does that mean I need to create a     int and attach it to a set of numbers? Or a string and attach to text?"}, {"owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "edited": false, "score": 0, "creation_date": 1541535433, "post_id": 53177585, "comment_id": 93248787, "body": "When you print something to <code>System.out</code> it gets displayed in console as text. If you want to display <code>3-2</code> you need to make it a String e.g. <code>&quot;3-2&quot;</code> or <code>String.format(&quot;%d-%d&quot;, 3, 2)</code>. Check out <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/formatting.html\" rel=\"nofollow noreferrer\">the official tutorial</a>."}], "tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": true, "score": 1, "last_activity_date": 1541527783, "creation_date": 1541527783, "answer_id": 53177585, "question_id": 53177531, "link": "https://stackoverflow.com/questions/53177531/why-is-my-output-blank-when-trying-to-read-two-standard-in-reverse-order/53177585#53177585", "title": "Why is my output blank when trying to read two standard in reverse order?", "body": "<p><code>System.out.print(a - b);</code> will print the result of <code>a - b</code> subtraction. You need to create a String to display the values. You most likely don't want to use <code>Scanner.nextInt(radix)</code>, that's not part of your problem statement. Instead just use <code>Scanner.nextInt()</code> which will use default radix of 10.</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nint a = scanner.nextInt();\nint b = scanner.nextInt();\nSystem.out.println(\"\" + b + \" - \" + a);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "is_accepted": false, "score": 0, "last_activity_date": 1541615810, "creation_date": 1541615810, "answer_id": 53195713, "question_id": 53177531, "link": "https://stackoverflow.com/questions/53177531/why-is-my-output-blank-when-trying-to-read-two-standard-in-reverse-order/53195713#53195713", "title": "Why is my output blank when trying to read two standard in reverse order?", "body": "<p>You could write it using interpolated strings like this:</p>\n\n<pre><code>import java.util.Scanner\n\nfun main(args: Array&lt;String&gt;) {\n    val scanner = Scanner(System.`in`)\n    val a = scanner.nextInt()\n    val b = scanner.nextInt()\n    println(\"$b - $a\")\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8539148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e496105a46660f5f901cedba24f0d893?s=128&d=identicon&r=PG&f=1", "display_name": "Vell Jackson", "link": "https://stackoverflow.com/users/8539148/vell-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 53177585, "answer_count": 2, "score": 1, "last_activity_date": 1541615810, "creation_date": 1541527551, "last_edit_date": 1541603045, "question_id": 53177531, "link": "https://stackoverflow.com/questions/53177531/why-is-my-output-blank-when-trying-to-read-two-standard-in-reverse-order", "title": "Why is my output blank when trying to read two standard in reverse order?", "body": "<p>I am trying to get a better understanding of variables and types. I have been given a problem to \"Read two integers from the standard input, then output them in reverse.\" I have my code completed, but it is not printing in reverse order. Any ideas? </p>\n\n<p>My Code: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    //put your code here\n\n    Scanner scanner = new Scanner(System.in);\n    int a = scanner.nextInt(3);\n    int b = scanner.nextInt(2);\n    System.out.print(a - b);\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "ios", "kotlin", "certificate"], "comments": [{"owner": {"reputation": 30237, "user_id": 6371459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0DDLp.jpg?s=128&g=1", "display_name": "pedrofb", "link": "https://stackoverflow.com/users/6371459/pedrofb"}, "edited": false, "score": 0, "creation_date": 1541528680, "post_id": 53177448, "comment_id": 93245601, "body": "Yes, it is possible and desirable. You need to define a truststore in your application and configure the SSL connection to use it. You have many similar questions in SO. If you do not configure a custom truststore, it is used the Android default truststore"}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1541531934, "post_id": 53177448, "comment_id": 93247176, "body": "It&#39;s called &quot;certificate pinning&quot;. E.g., <a href=\"https://www.netguru.co/codestories/3-ways-how-to-implement-certificate-pinning-on-android\" rel=\"nofollow noreferrer\">netguru.co/codestories/&hellip;</a>. Or Google for other examples."}], "owner": {"reputation": 6347, "user_id": 1347507, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2e8616bfd95c514a8c29bff67b9dc17?s=128&d=identicon&r=PG", "display_name": "mike.tihonchik", "link": "https://stackoverflow.com/users/1347507/mike-tihonchik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541527256, "creation_date": 1541527256, "question_id": 53177448, "link": "https://stackoverflow.com/questions/53177448/is-it-possible-to-manually-authenticate-servers-credentials-in-android-applicat", "title": "Is it possible to manually authenticate server&#39;s credentials in Android application?", "body": "<p>Coming from the iOS background, it is possible to <a href=\"https://developer.apple.com/documentation/foundation/url_loading_system/handling_an_authentication_challenge/performing_manual_server_trust_authentication?language=objc\" rel=\"nofollow noreferrer\">Performing Manual Server Trust Authentication</a>, i.e. allow the app to authenticate server's credentials. I have looked around, and have not found any information on whenever it is possible to do in Android application (preferably, in Kotlin, but Java is fine too). Any suggestions?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 2, "creation_date": 1541525616, "post_id": 53177005, "comment_id": 93244085, "body": "set background color to cardview. You set set same color which you are using for the page."}, {"owner": {"reputation": 1332, "user_id": 8310287, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07715836fa324278e897e1646d7400f1?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/8310287/king"}, "reply_to_user": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 1, "creation_date": 1541526073, "post_id": 53177005, "comment_id": 93244310, "body": "i found my error. I was setting background color instead of cardbackgroundcolor"}], "answers": [{"tags": [], "owner": {"reputation": 1332, "user_id": 8310287, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07715836fa324278e897e1646d7400f1?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/8310287/king"}, "is_accepted": false, "score": 2, "last_activity_date": 1541593293, "creation_date": 1541593293, "answer_id": 53189387, "question_id": 53177005, "link": "https://stackoverflow.com/questions/53177005/cardview-not-showing-cornerradius-and-elevation/53189387#53189387", "title": "cardview not showing cornerRadius and elevation", "body": "<p>Anyone could encounter this issue and the solution is very simple and caused by a mistake.there's a difference between <code>backgroundColor</code> and <code>cardbackgroundColor</code>. use <code>setcardbackgroundColor</code> and it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12341972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0539df2e864396fffd914906362527f1?s=128&d=identicon&r=PG&f=1", "display_name": "Azamat", "link": "https://stackoverflow.com/users/12341972/azamat"}, "is_accepted": false, "score": 0, "last_activity_date": 1584246771, "last_edit_date": 1584246771, "creation_date": 1584238807, "answer_id": 60689149, "question_id": 53177005, "link": "https://stackoverflow.com/questions/53177005/cardview-not-showing-cornerradius-and-elevation/60689149#60689149", "title": "cardview not showing cornerRadius and elevation", "body": "<p>You need to set </p>\n\n<pre><code>android:background=\"@android:color/transparent\"\n</code></pre>\n\n<p>for main constraint, and set </p>\n\n<pre><code>app:cardBackgroundColor=\"@color/white\"\n</code></pre>\n\n<p>to cardview, np</p>\n"}], "owner": {"reputation": 1332, "user_id": 8310287, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07715836fa324278e897e1646d7400f1?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/8310287/king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1584246771, "creation_date": 1541525307, "question_id": 53177005, "link": "https://stackoverflow.com/questions/53177005/cardview-not-showing-cornerradius-and-elevation", "title": "cardview not showing cornerRadius and elevation", "body": "<p>I created a card view in a recycler view and my codes work well but the problem now is that the cardview does not show the rounded edges and elevation at runtime but it shows in the design codes. my codes are shown blow</p>\n\n<p><strong>activity_main</strong></p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".Controller.MainActivity\"&gt;\n\n    &lt;uk.co.markormesher.android_fab.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:buttonIcon=\"@drawable/ic_add_group\"\n        /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/groupListView\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>my <strong>card_view.xml</strong></p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n&lt;android.support.v7.widget.CardView\n    android:id=\"@+id/groupCardView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"128dp\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"24dp\"\n    app:cardCornerRadius=\"10dp\"\n    app:cardElevation=\"5dp\"\n    app:cardUseCompatPadding=\"true\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/transparent\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/groupTitle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"Trips\"\n            android:textAlignment=\"center\"\n            android:textSize=\"30sp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p></p>\n\n<p>I do not know what I have done wrong</p>\n"}, {"tags": ["java", "android", "xml", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1541524749, "post_id": 53176342, "comment_id": 93243632, "body": "You should not be using <code>if(msg.who == &quot;you&quot;)</code> instead use <code>if(msg.who.contentEquals(&quot;you&quot;))</code> in your if statement."}, {"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1541525480, "post_id": 53176342, "comment_id": 93244024, "body": "I don&#39;t understand what &quot;strange behavior&quot;  you are referring to. There is nothing random about &quot;TextView&quot; and if you do not hide the <code>View</code> then it will remain visible."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1541525794, "post_id": 53176342, "comment_id": 93244183, "body": "The second image just shows that recyclerview is still filling the holder with anything. The main issue is shown in image one. Look at the count and the spacing in between"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "is_accepted": false, "score": 0, "last_activity_date": 1541577635, "last_edit_date": 1541577635, "creation_date": 1541529818, "answer_id": 53178070, "question_id": 53176342, "link": "https://stackoverflow.com/questions/53176342/android-kotlin-java-reclerview-strange-behavior-when-hiding-parts-in-holder/53178070#53178070", "title": "Android kotlin / java - ReclerView strange behavior when hiding parts in holder / xml", "body": "<p>After tryng to set width/height of non used holder to 0, removing background and some other stuff which all \"worked\" but created other strange behaviors I found the only working non bugged solution:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val msg = messages[position]\n\n    if (msg.who == \"you\"){\n        holder.messageyou.text = msg.message\n\n        holder.messageme.text = \"\"\n\n        holder.messageme.setBackgroundResource(0)\n        holder.messageyou.setBackgroundResource(R.drawable.round_corners_lightgray_color)\n\n    }else{\n        holder.messageme.text = msg.message\n\n        holder.messageyou.text = \"\"\n\n        holder.messageme.setBackgroundResource(R.drawable.round_corners_accent_color)\n        holder.messageyou.setBackgroundResource(0)\n    }\n}\n</code></pre>\n\n<p>Yes you have to define the background on BOTH layouts over and over again and tell the holder that there is nothing to fill where it really isn't. Android is a bugged time wasting mess..</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1541532310, "post_id": 53178438, "comment_id": 93247349, "body": "Please explain how to &#39;inflate only &quot;you&quot; layout&#39;. I will test it tomorrow, done for today."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1541534835, "post_id": 53178438, "comment_id": 93248509, "body": "@EduardUnruh you did not post your <code>onCreateViewHolder</code> (including inflated layout XML) or your <code>ViewHolder</code> class so I won&#39;t be guessing how to do it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1541603221, "post_id": 53178438, "comment_id": 93273161, "body": "But actually a quick example would be enough of how to inflate different layouts so other can use it too, not just me ^^"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1541619054, "post_id": 53178438, "comment_id": 93281483, "body": "@EduardUnruh added some sample code, used simplified layout because I was not sure why You had 8 layouts just to show 1 textview."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 3, "last_activity_date": 1541619791, "last_edit_date": 1541619791, "creation_date": 1541531340, "answer_id": 53178438, "question_id": 53176342, "link": "https://stackoverflow.com/questions/53176342/android-kotlin-java-reclerview-strange-behavior-when-hiding-parts-in-holder/53178438#53178438", "title": "Android kotlin / java - ReclerView strange behavior when hiding parts in holder / xml", "body": "<p>Don't call it bugged mess when you don't understand how ViewHolder pattern works.</p>\n\n<p>You should have used multiple <code>itemViewType</code>s instead of flipping views visibility back-to-back (note this entire code goes into your <code>RecyclerView.Adapter</code>):</p>\n\n<pre><code>// constants\ncompanion object {\n    const val TYPE_YOU = 1\n    const val TYPE_ME = 2\n}\n\n/* This method is called to determine what type of ViewHolder should be used to represent item at [position] */\noverride fun getItemViewType(position: Int) = if(messages[position].who == \"you\") TYPE_YOU else TYPE_ME\n\n/* [viewType] determines what ViewHolder we should create. */\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    val layoutId = when(viewType){\n        TYPE_YOU -&gt; {\n            // this viewholder will display only messages from \"you\", inflate only \"you\" layout\n            R.layout.chat_item_you\n        }\n        TYPE_ME -&gt;{\n            // this viewholder will display only messages from \"me\", inflate only \"me\" layout\n            R.layout.chat_item_me\n        }\n        else -&gt; throw IllegalArgumentException(\"Unknown viewType: $viewType\")\n    }\n    val itemView = LayoutInflater.from(parent.context).inflate(layoutId, parent, false)\n    return ViewHolder(itemView)\n}\n\n// then you can use your original bind method, because \"you\" and \"me\" messages will never re-user others ViewHolder\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val msg = messages[position]\n\n    if (msg.who == \"you\"){\n        // holder.itemViewtype should always be equal to TYPE_YOU here\n    }else{\n        // holder.itemViewtype should always be equal to TYPE_ME here           \n    }\n\n    holder.message.text = msg.message\n}\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView){\n    val txtMessage : TextView = itemView.findViewById(R.id.message)\n}\n</code></pre>\n\n<p>Then split chat bubbles into two separate layouts:</p>\n\n<p><em>chat_item_you.xml</em></p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_margin=\"6dp\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n         android:id=\"@+id/message\"\n         style=\"@style/ChatBubbleStyle\"\n         android:background=\"@drawable/round_corners_lightgray_color\"\n         android:text=\"TextView\"\n         android:layout_gravity=\"end\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>And similar but with other color and gravity:</p>\n\n<p><em>chat_item_me.xml</em></p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_margin=\"6dp\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n         android:id=\"@+id/message\"\n         style=\"@style/ChatBubbleStyle\"\n         android:background=\"@drawable/round_corners_blue_color\"\n         android:text=\"TextView\"\n         android:layout_gravity=\"start\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Use shared style in <em>styles.xml</em> to prevent redundant code:</p>\n\n<pre><code>&lt;style name=\"ChatBubbleStyle\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:paddingLeft\"&gt;8dp&lt;/item&gt;\n    &lt;item name=\"android:paddingTop\"&gt;6dp&lt;/item&gt;\n    &lt;item name=\"android:paddingRight\"&gt;8dp&lt;/item&gt;\n    &lt;item name=\"android:paddingBottom\"&gt;6dp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@android:color/black&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;16sp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 53178438, "answer_count": 2, "score": 0, "last_activity_date": 1541619791, "creation_date": 1541522839, "last_edit_date": 1541577763, "question_id": 53176342, "link": "https://stackoverflow.com/questions/53176342/android-kotlin-java-reclerview-strange-behavior-when-hiding-parts-in-holder", "title": "Android kotlin / java - ReclerView strange behavior when hiding parts in holder / xml", "body": "<p>I didn't know what proper title for this issue could be.</p>\n\n<p>I'm doing a chat app and this is the part inside the adapter:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val msg = messages[position]\n\n    if (msg.who == \"you\"){\n        holder.messagemelayout.visibility = View.GONE\n        holder.messageyou.text = msg.message\n    }else{\n        holder.messageyoulayout.visibility = View.GONE\n        holder.messageme.text = msg.message\n    }\n}\n</code></pre>\n\n<p>So when the message is sent be <code>me</code> then the layout for \"you\" (<code>messageyoulayout</code>) get's hidden and vice versa</p>\n\n<p>Not when I add new messages like this:</p>\n\n<pre><code>        var count = 1\n        bbb.setOnClickListener {\n            messageslist.add(Chat(\"hey \" + count.toString(), \"me\"))\n            adapter.notifyItemInserted(adapter.itemCount - 1)\n\n            count++\n        }\n</code></pre>\n\n<p>The result is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SCPOU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCPOU.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And when I don't hide any layouts then the text inside the layout which don't get any update is still getting filled by random old stuff:</p>\n\n<p><a href=\"https://i.stack.imgur.com/scJYs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scJYs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I hope the issue is understandable.</p>\n\n<p>How can I fix this? Like completely removing the layout which don't get an update or something.</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Whole adapter:</p>\n\n<pre><code>class ChatAdapter(val context: Context, private val messages: MutableList&lt;Chat&gt;) : RecyclerView.Adapter&lt;ChatAdapter.ViewHolder&gt;(){\n\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val msg = messages[position]\n\n        if (msg.who == \"you\"){\n            holder.messageyou.text = msg.message\n\n            holder.messageme.text = \"\"\n\n            holder.messageme.setBackgroundResource(0)\n            holder.messageyou.setBackgroundResource(R.drawable.round_corners_lightgray_color)\n\n        }else{\n            holder.messageme.text = msg.message\n\n            holder.messageyou.text = \"\"\n\n            holder.messageme.setBackgroundResource(R.drawable.round_corners_accent_color)\n            holder.messageyou.setBackgroundResource(0)\n        }\n    }\n\n    override fun getItemCount() = messages.size\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.chat, parent, false)\n        return ViewHolder(view)\n    }\n\n    class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!){\n\n        val messageyou = itemView!!.messageyou!!\n        val messageme = itemView!!.messageme!!\n        val messageyoulayout = itemView!!.messageyoulayout!!\n        val messagemelayout = itemView!!.messagemelayout!!\n\n    }\n\n}\n</code></pre>\n\n<p>chat.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:card_view=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/malsehn\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"6dp\"\n    app:cardBackgroundColor=\"@android:color/transparent\"\n    app:cardElevation=\"0dp\"&gt;\n\n\n    &lt;LinearLayout\n        android:id=\"@+id/messagemelayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:weightSum=\"4\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"3\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/messageme\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@drawable/round_corners_accent_color\"\n                android:paddingLeft=\"8dp\"\n                android:paddingTop=\"6dp\"\n                android:paddingRight=\"8dp\"\n                android:paddingBottom=\"6dp\"\n                android:text=\"TextView\"\n                android:textColor=\"@android:color/white\"\n                android:textSize=\"16sp\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/messageyoulayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:weightSum=\"4\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"3\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/messageyou\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@drawable/round_corners_lightgray_color\"\n                android:paddingLeft=\"8dp\"\n                android:paddingTop=\"6dp\"\n                android:paddingRight=\"8dp\"\n                android:paddingBottom=\"6dp\"\n                android:text=\"TextView\"\n                android:textColor=\"@android:color/black\"\n                android:textSize=\"16sp\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"&gt;\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1541526701, "post_id": 53176128, "comment_id": 93244626, "body": "Have you tried using code completion in your IDE?"}, {"owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1541533667, "post_id": 53176128, "comment_id": 93247951, "body": "yes but out of methods that I get none makes sense to me, it proposes me: isRight()  right(R b) . isLeft() and left(L a)"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1541536910, "creation_date": 1541536910, "answer_id": 53179720, "question_id": 53176128, "link": "https://stackoverflow.com/questions/53176128/disjoint-union-in-kotlin-to-get-access-in-java/53179720#53179720", "title": "disjoint union in Kotlin to get access in Java", "body": "<p>I... really wouldn't use this class for anything. It may just be for a specific purpose (given <code>sample</code> in package name). But <code>either</code> really needs a type parameter and <code>left</code> and <code>right</code> methods don't make sense.</p>\n\n<p>If you somehow have no choice, you should be able to call <code>either</code> like this:</p>\n\n<pre><code>@Override public Unit invoke(\n    Either&lt;? extends Failure, ? extends TokenInfo&gt; either) {\n        either.either(f -&gt; ..., tokenInfo -&gt; ...);\n        return Unit.INSTANCE;\n}\n</code></pre>\n\n<p>where <code>f -&gt; ...</code> and <code>tokenInfo -&gt; ...</code> are the Java lambdas taking <code>Failure</code> and <code>TokenInfo</code> respectively.</p>\n"}], "owner": {"reputation": 497, "user_id": 926192, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7873252c526edad173aaa8e496b99ded?s=128&d=identicon&r=PG", "display_name": "hhg", "link": "https://stackoverflow.com/users/926192/hhg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 53179720, "answer_count": 1, "score": 0, "last_activity_date": 1541536910, "creation_date": 1541522119, "question_id": 53176128, "link": "https://stackoverflow.com/questions/53176128/disjoint-union-in-kotlin-to-get-access-in-java", "title": "disjoint union in Kotlin to get access in Java", "body": "<p>I'm working in a mixed Java - Kotlin project. There's a class Either:\n<a href=\"https://github.com/android10/Android-CleanArchitecture-Kotlin/blob/master/app/src/main/kotlin/com/fernandocejas/sample/core/functional/Either.kt\" rel=\"nofollow noreferrer\">https://github.com/android10/Android-CleanArchitecture-Kotlin/blob/master/app/src/main/kotlin/com/fernandocejas/sample/core/functional/Either.kt</a></p>\n\n<p>In one of the Java classes I'm getting an instance of Either as a parameter in such a way:</p>\n\n<pre><code>    AuthenticateUseCase.Params params = new AuthenticateUseCase.Params(username, password);\n    authenticateUseCase.invoke(params, new Function1&lt;Either&lt;? extends Failure, ? extends TokenInfo&gt;, Unit&gt;() {\n        @Override public Unit invoke(\n            Either&lt;? extends Failure, ? extends TokenInfo&gt; either) {\n                // TODO here goes some code\n        }\n    });\n</code></pre>\n\n<p>My question is how in the //TODO marked place get in Java the TokenInfo instance and call methods on it (assuming that it's a TokenInfo object (and not Failure) that is embedded in Either parameter).</p>\n\n<p>thanks in advance for your help</p>\n"}, {"tags": ["android", "kotlin", "overlay", "android-framelayout"], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1541521893, "post_id": 53176008, "comment_id": 93242028, "body": "DialogFragment is waiting for an user choice ? I forget to say, in this view, I&#39;m going to display a small slider (to there&#39;s no &quot;Yes,No,Cancel&quot; possibilities)"}, {"owner": {"reputation": 1275, "user_id": 2664634, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ZzeUH.png?s=128&g=1", "display_name": "Ezzy", "link": "https://stackoverflow.com/users/2664634/ezzy"}, "edited": false, "score": 0, "creation_date": 1541522421, "post_id": 53176008, "comment_id": 93242358, "body": "You can use <code>dialog.setOnDismissListener</code> and then in the callback you can get the result from the dialog and continue with the execution."}, {"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "edited": false, "score": 0, "creation_date": 1541523576, "post_id": 53176008, "comment_id": 93243016, "body": "Could you explain please ?"}], "tags": [], "owner": {"reputation": 3433, "user_id": 6688493, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHeZJ8Tx7IY/AAAAAAAAAAI/AAAAAAAAAG4/rYEipSHTsag/photo.jpg?sz=128", "display_name": "touhid udoy", "link": "https://stackoverflow.com/users/6688493/touhid-udoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1541521706, "creation_date": 1541521706, "answer_id": 53176008, "question_id": 53175858, "link": "https://stackoverflow.com/questions/53175858/create-a-full-screen-view-over-the-other/53176008#53176008", "title": "Create a full screen view over the other", "body": "<p>You can use <a href=\"https://developer.android.com/reference/android/app/DialogFragment\" rel=\"nofollow noreferrer\">dialog fragment</a> as it supports custom layouts like fragments and shows on top of another activity or fragment.</p>\n\n<p><a href=\"https://guides.codepath.com/android/using-dialogfragment\" rel=\"nofollow noreferrer\">Here</a> is a useful tutorial on dialog fragment.</p>\n"}], "owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541523666, "creation_date": 1541521211, "last_edit_date": 1541523666, "question_id": 53175858, "link": "https://stackoverflow.com/questions/53175858/create-a-full-screen-view-over-the-other", "title": "Create a full screen view over the other", "body": "<p>I'm creating an Android app.</p>\n\n<p>When I click on a menu item, I need to open an activity/view/fragment (I don't know what is the best). This activity/fragment/view need to be placed as an \"overlay\" of my app (it will have a transparent background and we could see the \"regular\" activity behind).</p>\n\n<p>I'm using a navigation drawer and a couple of fragment inside my app. </p>\n\n<p>First I tried this : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".AlertActivity\"\n    android:id=\"@+id/alertLayoutRoot\"\n    android:background=\"@android:color/transparent\"\n    &gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:id=\"@+id/editText1\"\n        android:text=\"@string/mes_favoris\"\n        android:layout_height=\"match_parent\"\n        &gt;\n    &lt;/TextView&gt;\n\n&lt;/FrameLayout&gt; \n</code></pre>\n\n<p>This is indeed showing my fragment, but this fragment isn't on top of all the others. </p>\n\n<p>What could be the best way to do this (in working with Kotlin)?</p>\n\n<p>EDIT : forgot to say, in this view, there will be a small slider. </p>\n\n<p>Basicaly I want this : <a href=\"https://i.stack.imgur.com/ZwjvA.jpg\" rel=\"nofollow noreferrer\">Overlay</a></p>\n"}, {"tags": ["java", "unit-testing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 2756220, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc6a02809911d6af7b0db3e356728fda?s=128&d=identicon&r=PG&f=1", "display_name": "HarryQ", "link": "https://stackoverflow.com/users/2756220/harryq"}, "is_accepted": true, "score": 9, "last_activity_date": 1541526245, "creation_date": 1541526245, "answer_id": 53177229, "question_id": 53174839, "link": "https://stackoverflow.com/questions/53174839/unit-testing-verifying-a-companion-object-method-is-called-mocking-a-companion/53177229#53177229", "title": "Unit Testing verifying a companion object method is called (mocking a companion object)", "body": "<p><strong>Solution 1 : add a caller function in the calling class</strong></p>\n\n<pre><code>public class DummyWrapper {\nval foo get() = DummyCompanion.Companion\n\npublic void callAStaticMethod(){\n    foo.staticMechod();\n}\n\npublic void callCompanionMethod(){\n    foo.someCompanionMethod();\n}\n}\n</code></pre>\n\n<p>In the test class, we can use Mockito to provide a stub for the <code>get()</code> function and verified it is called.</p>\n\n<pre><code>@Test\nfun testCase{\n....\nval mockCompanionObj: DummyCompanion.Companion = mock()\nval wrapper = DummyWrapper()\n\nwhenever(wrapper.foo).thenReturn(mockCompanionObj)\nwrapper.callCompanionMethod()\nverify(mockCompanionObj).someCompanionMethod()\n....\n}\n</code></pre>\n\n<p><strong>Solution 2: using Mockk</strong>\nMocking companion object in Mockk is easy. There is no need to insert a test interfacing object in the source code.</p>\n\n<pre><code> @Test\n fun testCompanionObject() {\n    //Mock the companion object\n    mockkObject(DummyCompanion.Companion)\n\n    //define the stubbing bechavior of a companion object method\n    every { DummyCompanion.Companion.companionMethod() } answers { stubMethod() }\n\n    val testObject = DummyWrapper()\n\n    //Call a method that calls the companion object method\n    //You can verify stubMethod() is called\n    testObject.callCompanionMethod()\n\n    verify(exactly = 1) { DummyCompanion.someCompanionMethod() }\n}\n</code></pre>\n\n<p>For details see <a href=\"https://mockk.io\" rel=\"noreferrer\">Mockk</a></p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 7031224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDyn5rxmmVA/AAAAAAAAAAI/AAAAAAAAACQ/GouFCxWO4aE/photo.jpg?sz=128", "display_name": "C&#233;sar Mu&#241;oz", "link": "https://stackoverflow.com/users/7031224/c%c3%a9sar-mu%c3%b1oz"}, "is_accepted": false, "score": 3, "last_activity_date": 1557702403, "creation_date": 1557702403, "answer_id": 56104184, "question_id": 53174839, "link": "https://stackoverflow.com/questions/53174839/unit-testing-verifying-a-companion-object-method-is-called-mocking-a-companion/56104184#56104184", "title": "Unit Testing verifying a companion object method is called (mocking a companion object)", "body": "<p>You can do so with PowerMock too, it'd be like this:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({DummyCompanion.class})\npublic class staticClassTest {\n\n    @Test\n    public void testForCompanionMethod() {\n       PowerMockito.mockStatic(DummyCompanion.class);\n       DummyCompanion.Companion companionMock = PowerMockito.mock(DummyCompanion.Companion.class);\n       Whitebox.setInternalState(\n        DummyCompanion.class, \"Companion\",\n        companionMock\n       );\n\n       DummyWrapper testObject = new DummyWrapper();\n       testObject.callCompanionMethod();\n       Mockito.verify(companionMock,Mockito.times(1)).someCompanionMethod();\n    }\n}\n</code></pre>\n\n<p>Kotlin creates for Java (in the Kotlin class, which is <code>DummyCompanion</code> in this case) a static field of its Companion subclass named <code>Companion</code> which can be set using PowerMock's <code>WhiteBox.setInternalState</code> tool to a mocked <code>Companion</code> instance that you can later verify method calling to.</p>\n"}, {"tags": [], "owner": {"reputation": 656, "user_id": 622189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88a143e2a4ee14c705502037d83f8a80?s=128&d=identicon&r=PG", "display_name": "Takaitra", "link": "https://stackoverflow.com/users/622189/takaitra"}, "is_accepted": false, "score": 1, "last_activity_date": 1584045829, "creation_date": 1584045829, "answer_id": 60661617, "question_id": 53174839, "link": "https://stackoverflow.com/questions/53174839/unit-testing-verifying-a-companion-object-method-is-called-mocking-a-companion/60661617#60661617", "title": "Unit Testing verifying a companion object method is called (mocking a companion object)", "body": "<p>Here is one more solution that doesn't require Mockk or PowerMock.</p>\n\n<ol>\n<li>Extract an interface from the companion object and place it in the same file but outside of the class.</li>\n<li>Have the companion object inherit from the interface</li>\n<li>Add a new optional property to the constructor of the class calling the static methods. Its default value should be the companion object.</li>\n<li>Switch to using instance calls (lowercase <code>helper</code>) in the calling class. Now it can be mocked normally in unit tests.</li>\n</ol>\n\n<pre><code>interface IStaticHelper {\n    fun foo(): String\n    fun bar(): String\n}\n\nclass StaticHelper {\n    companion object : IStaticHelper {\n        override fun foo() = \"foo\"\n        override fun bar() = \"bar\"\n    }\n}\n\nclass Caller(private val helper: IStaticHelper = StaticHelper.Companion) {\n    fun callsTheHelper(): String {\n        return helper.foo()\n    }\n}\n\nclass CallerTest {\n    @Test\n    fun testCallsTheHelper() {\n        val helper = mock()\n        val caller = Caller(helper)\n        assertThat(caller.callsTheHelper()).isEqualTo(\"foo\")\n    }\n}\n</code></pre>\n\n<p>While it's true that the caller in this case is no longer making static method calls, other classes can continue to do so unchanged.</p>\n"}], "owner": {"reputation": 843, "user_id": 2756220, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc6a02809911d6af7b0db3e356728fda?s=128&d=identicon&r=PG&f=1", "display_name": "HarryQ", "link": "https://stackoverflow.com/users/2756220/harryq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7948, "favorite_count": 0, "accepted_answer_id": 53177229, "answer_count": 3, "score": 9, "last_activity_date": 1584045829, "creation_date": 1541517628, "last_edit_date": 1580744178, "question_id": 53174839, "link": "https://stackoverflow.com/questions/53174839/unit-testing-verifying-a-companion-object-method-is-called-mocking-a-companion", "title": "Unit Testing verifying a companion object method is called (mocking a companion object)", "body": "<p>When switching to Kotlin, static methods are moved into a companion object. However, there is no obvious way to unit test other methods which call these \"static method\".</p>\n\n<p>In Java, we could use PowerMockito's MockStatic(SomeClass.class) to verify a static method is called in the method under test. PowerMock loses its magic in Kotlin. </p>\n\n<p>For testing, I have create the following classes.</p>\n\n<pre><code>public class DummyJava {\n    static public Void staticMechod(){\n          System.out.print(\"Dummy method is called\");\n          return null;\n     }\n}\n\nclass DummyCompanion {\n    companion object {\n        fun someCompanionMethod(){\n            System.out.printf(\"companion method is called\\n\")\n        }\n    }\n}\n</code></pre>\n\n<p>Now there is a another class which calls the <code>DummyCompanion.someCompanion</code></p>\n\n<pre><code>public class DummyWrapper {\n    public void callAStaticMethod(){\n        DummyJava.staticMechod();\n    }\n\n    public void callCompanionMethod(){\n        DummyCompanion.Companion.someCompanionMethod();\n    }\n}\n</code></pre>\n\n<p>To unit test <code>callAStaticMethod()</code> We used the following</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({DummyJava.class, DummyCompanion.Companion.class})\npublic class staticClassTest {\n    //This case works\n    @Test \n    public void testForStaticMethod() {\n        PowerMockito.mockStatic(DummyJava.class);   \n        DummyWrapper testObject = new DummyWrapper();\n\n        Mockito.when(DummyJava.staticMechod()).thenCallRealMethod();\n\n        testObject.callAStaticMethod();\n\n        PowerMockito.verifyStatic(Dummy.class);\n        DummyJava.staticMechod();\n    }\n\n    //This case doesn't work. It always passes.\n    @Test\n    public void testForCompanionMethod() {\n        PowerMockito.mockStatic(DummyCompanion.Companion.class);\n        DummyWrapper testObject = new DummyWrapper();\n        testObject.callCompanionMethod();\nPowerMockito.verifyStatic(DummyCompanion.Companion.class,Mockito.times(1));\n        DummyCompanion.Companion.someCompanionMethod();\n}\n</code></pre>\n\n<p>My question is how to verify the companion method is called.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1490, "user_id": 4424680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c17ba831e770f869c0e6ed689f55ed5?s=128&d=identicon&r=PG&f=1", "display_name": "gringogordo", "link": "https://stackoverflow.com/users/4424680/gringogordo"}, "edited": false, "score": 0, "creation_date": 1541518564, "post_id": 53174951, "comment_id": 93240013, "body": "ouch... ;-)  Thanks."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1541518048, "creation_date": 1541518048, "answer_id": 53174951, "question_id": 53174812, "link": "https://stackoverflow.com/questions/53174812/how-should-i-filter-a-set-to-another-set-in-kotlin/53174951#53174951", "title": "How should I filter a set to another set in Kotlin", "body": "<p><code>filter</code> returns an <code>Iterable</code> which has an extension method on it called <code>toSet</code> which returns a <code>Set</code>.  e.g.</p>\n\n<p><code>allPets.filter { pet -&gt; pet.name != \"Bob\" }.toSet()</code></p>\n"}, {"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 1, "creation_date": 1541520320, "post_id": 53175379, "comment_id": 93241122, "body": "Agreed, thanks @yole.  Had a look at the decompiled code to see what&#39;s happening under the hood and definitely looks more efficient the way you suggest.  This should be the accepted answer instead of my suggestion."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 9, "last_activity_date": 1541519502, "creation_date": 1541519502, "answer_id": 53175379, "question_id": 53174812, "link": "https://stackoverflow.com/questions/53174812/how-should-i-filter-a-set-to-another-set-in-kotlin/53175379#53175379", "title": "How should I filter a set to another set in Kotlin", "body": "<p>It's more efficient to do this in a different way, avoiding a separate conversion:</p>\n\n<pre><code>allPets.filterTo(HashSet()) { pet -&gt; pet.name != \"Bob\" }\n</code></pre>\n"}], "owner": {"reputation": 1490, "user_id": 4424680, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c17ba831e770f869c0e6ed689f55ed5?s=128&d=identicon&r=PG&f=1", "display_name": "gringogordo", "link": "https://stackoverflow.com/users/4424680/gringogordo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "accepted_answer_id": 53175379, "answer_count": 2, "score": 4, "last_activity_date": 1541519502, "creation_date": 1541517549, "last_edit_date": 1541518592, "question_id": 53174812, "link": "https://stackoverflow.com/questions/53174812/how-should-i-filter-a-set-to-another-set-in-kotlin", "title": "How should I filter a set to another set in Kotlin", "body": "<p>I am trying to get to grips with Kotlin and functional programming and failing on a pretty simple exercise.  </p>\n\n<p>I'll modify this a little so as to make it not too obvious that it is from a specific online course but I'm just trying to get started really and not trying to fool anyone...</p>\n\n<p>I am working with 2 collections </p>\n\n<pre><code>data class Pet(val name: String)\n\ndata class Household (\n   val pet: Pet,\n   ... \n)\n\ndata class District(\n   val allPets: Set&lt;Pet&gt;,\n   val allHouseholds: List&lt;Household&gt;,\n   ...)\n</code></pre>\n\n<p>I want to find all pets not in a household.  It has to be returned as a Set\nas I have been given this signature to play with </p>\n\n<pre><code>fun Locality.findFeralPets(): Set&lt;Pet&gt; =\n</code></pre>\n\n<p>I was going to do a filter operation but this returns a list and I can't see how to convert this to a set.  Can anyone point me in the right direction ?  It is very possible that filter is the wrong approach altogether!</p>\n\n<pre><code>allPets.filter { pet -&gt; pet.name != \"Bob\" }\n</code></pre>\n"}, {"tags": ["java", "spring", "jpa", "kotlin", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": true, "score": 2, "last_activity_date": 1541518858, "creation_date": 1541518858, "answer_id": 53175185, "question_id": 53174640, "link": "https://stackoverflow.com/questions/53174640/q-jpa-save-save-other-object/53175185#53175185", "title": "Q: JPA save() save other object", "body": "<p>Since it is \"managed\" instance, you don't have to call <code>save</code> to save it - all changes made to the managed instance will be reflected in the database.\nIn order to prevent that behavior, your would have to detach that instance making it act like POJO insteed of proxy. </p>\n\n<p>Save is used to either <code>persist</code> new entities or <code>merge</code> detached. </p>\n"}], "owner": {"reputation": 161, "user_id": 6726618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76837710d3854727ff6220041d87c13b?s=128&d=identicon&r=PG&f=1", "display_name": "fanfanta", "link": "https://stackoverflow.com/users/6726618/fanfanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 53175185, "answer_count": 1, "score": 0, "last_activity_date": 1541518858, "creation_date": 1541516985, "question_id": 53174640, "link": "https://stackoverflow.com/questions/53174640/q-jpa-save-save-other-object", "title": "Q: JPA save() save other object", "body": "<p>I want to know the detail of JAP Repotitoty.\nI created a service class, eintity classes and repository classes like as below(written in kotlin) and excecuted ItemService#update method.</p>\n\n<p>Both item1 and item2 were updated when item2Repository's save() method was executed.</p>\n\n<pre><code>@Service\nclass ItemService(@Autowired private val item1Repository: Item1Repository, @Autowired private val item2Repository: Item2Repository) {\n\n    fun update(id: Long) {\n\n        val item1 = item1Repository.findById(1).get()\n        item1.name = \"updated!\"\n\n        val item2 = item2Repository.findById(1).get()\n        item2.name = \"updated!\"\n\n        // item1 and item2 were updated.\n        item2Repository.save(item2)\n    }\n}\n\n\n@Entity\n@Table(name = \"item1\")\ndata class Item1(\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Long = 0,\n\n        @Column\n        var name: String = \"\"\n)    \n\n@Entity\n@Table(name = \"item2\")\ndata class Item2(\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Long = 0,\n\n        @Column\n        var name: String = \"\"\n)\n\ninterface Item1Repository: JpaRepository&lt;Item1, Long&gt;\n\ninterface Item2Repository: JpaRepository&lt;Item2, Long&gt;\n</code></pre>\n\n<p>Why was item1 updated?\nI think that both item1 and item2 are managed in persistence context when findById methods are executed. \nWill be all objects existing in persistence context saved when I execute save method of a jpa repository?</p>\n"}, {"tags": ["spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 407, "user_id": 1116320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57109f0ba9d6d7a3ad945a6d5c3c019e?s=128&d=identicon&r=PG", "display_name": "HaseebR7", "link": "https://stackoverflow.com/users/1116320/haseebr7"}, "edited": false, "score": 0, "creation_date": 1541527416, "post_id": 53174497, "comment_id": 93244974, "body": "Can you try adding name= to @RequestMapping ?"}, {"owner": {"reputation": 83, "user_id": 1491567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcXEd.jpg?s=128&g=1", "display_name": "Bas Cancrinus", "link": "https://stackoverflow.com/users/1491567/bas-cancrinus"}, "reply_to_user": {"reputation": 407, "user_id": 1116320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57109f0ba9d6d7a3ad945a6d5c3c019e?s=128&d=identicon&r=PG", "display_name": "HaseebR7", "link": "https://stackoverflow.com/users/1116320/haseebr7"}, "edited": false, "score": 0, "creation_date": 1541683653, "post_id": 53174497, "comment_id": 93305290, "body": "@HaseebR7 Thanks for your suggestion. Tried that, but it didn&#39;t make a difference."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 1491567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcXEd.jpg?s=128&g=1", "display_name": "Bas Cancrinus", "link": "https://stackoverflow.com/users/1491567/bas-cancrinus"}, "edited": false, "score": 0, "creation_date": 1541683887, "post_id": 53177783, "comment_id": 93305401, "body": "Thanks for pointing me to that issue. I need to upgrade to Spring Boot 2, no way around it."}], "tags": [], "owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "is_accepted": true, "score": 4, "last_activity_date": 1541528582, "creation_date": 1541528582, "answer_id": 53177783, "question_id": 53174497, "link": "https://stackoverflow.com/questions/53174497/kotlin-1-3-spring-boot-there-is-already-bean-method/53177783#53177783", "title": "Kotlin 1.3 + Spring Boot: There is already &#39;...&#39; bean method", "body": "<p>From 1.3.0 Kotlin compiler doesn't generate bridge flag for default methods and new bytecode are only supported in newer Spring Boot versions. Please upgrade to Spring Boot 2. Reference issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-27947\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-27947</a></p>\n"}], "owner": {"reputation": 83, "user_id": 1491567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcXEd.jpg?s=128&g=1", "display_name": "Bas Cancrinus", "link": "https://stackoverflow.com/users/1491567/bas-cancrinus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 0, "accepted_answer_id": 53177783, "answer_count": 1, "score": 2, "last_activity_date": 1541528582, "creation_date": 1541516493, "question_id": 53174497, "link": "https://stackoverflow.com/questions/53174497/kotlin-1-3-spring-boot-there-is-already-bean-method", "title": "Kotlin 1.3 + Spring Boot: There is already &#39;...&#39; bean method", "body": "<p>I'm trying to migrate a Spring Boot project from Kotlin 1.2.71 to 1.3.0.\nWhen I update the Kotlin version, the application context fails to load with the following stack trace:</p>\n\n<pre><code>[...]\nCaused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'universityController' method \npublic final com.vindedu.api.view.university.UniversityApplicationOverview com.vindedu.api.controller.UniversityController.getApplications(org.springframework.security.core.userdetails.UserDetails,boolean)\nto {[/uni/applications],methods=[GET]}: There is already 'universityController' bean method\npublic static com.vindedu.api.view.university.UniversityApplicationOverview com.vindedu.api.controller.UniversityController.getApplications$default(com.vindedu.api.controller.UniversityController,org.springframework.security.core.userdetails.UserDetails,boolean,int,java.lang.Object) mapped.\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.assertUniqueMethodMapping(AbstractHandlerMethodMapping.java:576)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:540)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:264)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:250)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:214)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:184)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:127)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 98 more\n</code></pre>\n\n<p>The following functions in my <code>UniversityController</code> class map to <code>/uni/applications/...</code>:</p>\n\n<pre><code>    @ApiOperation(\"Get applications received from students\", tags = [\"University API\"],\n            authorizations = [Authorization(value = \"basicAuth\")])\n    @RequestMapping(method = [RequestMethod.GET], path = [\"/uni/applications\"])\n    fun getApplications(@AuthenticationPrincipal user: UserDetails, @RequestParam(\"visible\") visible: Boolean = true): UniversityApplicationOverview {\n        return universityMessagingService.getApplications(user, visible)\n    }\n\n    @ApiOperation(\"Toggle application visibility for university\", tags = [\"University API\"],\n            authorizations = [Authorization(value = \"basicAuth\")])\n    @RequestMapping(method = [RequestMethod.PUT], path = [\"/uni/applications/{id}/visible\"])\n    fun toggleApplicationVisibility(@AuthenticationPrincipal user: UserDetails,\n                                    @PathVariable id: Long): UniversityApplicationDetails {\n        return universityMessagingService.toggleApplicationVisibility(user, id)\n    }\n\n    @ApiOperation(\"Get application received from student\", tags = [\"University API\"],\n            authorizations = [Authorization(value = \"basicAuth\")])\n    @RequestMapping(method = [RequestMethod.GET], path = [\"/uni/applications/{id}\"])\n    fun getApplication(@AuthenticationPrincipal user: UserDetails,\n                                    @PathVariable id: Long): UniversityApplicationDetails {\n        return universityMessagingService.getApplication(user, id)\n    }\n\n    @ApiOperation(\"Update application status\", tags = [\"University API\"],\n            authorizations = [Authorization(value = \"basicAuth\")])\n    @RequestMapping(method = [RequestMethod.PUT], path = [\"/uni/applications/{id}/status\"])\n    fun updateApplicationStatus(@AuthenticationPrincipal user: UserDetails,\n                                    @PathVariable id: Long,\n                                    @Valid @RequestBody updatedStatus: ApplicationStatusUpdate): UniversityApplicationDetails {\n        return universityMessagingService.updateApplicationStatus(user, id, updatedStatus)\n    }\n</code></pre>\n\n<p>When I deleted my mappings listed above, I saw the same stack trace at runtime for another controller.</p>\n\n<p>This project runs flawless with Kotlin 1.2.71. I appreciate any suggestions very much to make it work with Kotlin 1.3.0! My full <code>build.gradle</code> is listed below.</p>\n\n<p><strong>Please note:</strong></p>\n\n<ol>\n<li><p>I compile and run this project with the following JDK:</p>\n\n<pre><code>java version \"11\" 2018-09-25 Java(TM) SE Runtime Environment 18.9\n(build 11+28) Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28,\nmixed mode)\n</code></pre></li>\n<li><p>I can't update Spring Boot yet, due to classes in the project that depend on Spring Boot 1.x.</p></li>\n</ol>\n\n<p><strong>build.gradle:</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.0' // Was '1.2.71'\n    ext.spring_boot_version = '1.5.4.RELEASE'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Required for Kotlin integration\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version\"\n    }\n}\n\napply plugin: 'idea'\napply plugin: 'kotlin'\napply plugin: 'kotlin-allopen'\napply plugin: 'kotlin-noarg'\napply plugin: 'org.springframework.boot'\napply plugin: 'application'\n\nallOpen {\n    annotation(\"org.springframework.boot.autoconfigure.SpringBootApplication\")\n    annotation(\"org.springframework.stereotype.Service\")\n    annotation(\"org.springframework.context.annotation.Configuration\")\n}\n\nnoArg {\n    annotation(\"javax.persistence.Entity\")\n}\n\njar {\n    baseName = 'vindedu-api'\n    version = '0.0.1'\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" // Required for Kotlin integration\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\" // Required for Kotlin integration\n    compile 'com.fasterxml.jackson.module:jackson-module-kotlin:2.9.2'\n    compile 'org.springframework.boot:spring-boot-starter-security'\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compile 'org.springframework.boot:spring-boot-starter-actuator'\n    compile 'org.springframework.session:spring-session:1.3.1.RELEASE'\n    compile 'io.springfox:springfox-swagger2:2.7.0'\n    compile 'io.springfox:springfox-swagger-ui:2.7.0'\n    compile 'org.postgresql:postgresql:42.1.4'\n    compile 'org.flywaydb:flyway-core:4.2.0'\n\n    // JAXB dependencies don't ship with the JDK anymore\n    compile 'javax.xml.bind:jaxb-api:2.3.1'\n    compile 'com.sun.xml.bind:jaxb-impl:2.3.1'\n    compile 'javax.activation:activation:1.1.1'\n\n    testCompile 'org.springframework.boot:spring-boot-starter-test'\n    testCompile 'com.h2database:h2:1.4.196'\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.10.2'\n}\n\nspringBoot {\n    mainClass = 'com.vindedu.api.ApplicationKt'\n}\n\nbootRun {\n    systemProperty(\"PROP_NAME\", \"prop-value\")\n}\n\ntest {\n    maxParallelForks = Runtime.runtime.availableProcessors() / 3\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "configuration", "kotlin-contracts"], "answers": [{"tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": true, "score": 2, "last_activity_date": 1541533528, "last_edit_date": 1541533528, "creation_date": 1541515925, "answer_id": 53174330, "question_id": 53174329, "link": "https://stackoverflow.com/questions/53174329/after-upgrade-to-kotlin-1-3-i-still-can-not-use-contract/53174330#53174330", "title": "After upgrade to Kotlin 1.3 I still can not use contract", "body": "<p>The language level of the project does not get migrated automatically. Therefore, new language features will not be available (and your code won't break) unless you do something.</p>\n\n<p>Change the language level for your project manually in File | Settings | Build, Execution, Deployment | Compiler | Kotlin Compiler:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UMjvQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMjvQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or add a facet to the modules you want to selectively change the level for:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1m0l2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1m0l2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Further steps are necessary to enable contracts which are, after all, an experimental feature, but IDEA will now help you with that:</p>\n\n<p><a href=\"https://i.stack.imgur.com/alDrv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/alDrv.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 53174330, "answer_count": 1, "score": 1, "last_activity_date": 1542290861, "creation_date": 1541515925, "last_edit_date": 1542290861, "question_id": 53174329, "link": "https://stackoverflow.com/questions/53174329/after-upgrade-to-kotlin-1-3-i-still-can-not-use-contract", "title": "After upgrade to Kotlin 1.3 I still can not use contract", "body": "<p>I upgraded the Kotlin plugin in IDEA from 1.2.71 to 1.3.0 and made sure the new SDK is the Project SDK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ejMCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejMCw.png\" alt=\"enter image description here\"></a></p>\n\n<p>I expected to be able to use the new <code>kotlin.contracts.contract</code>, but it's deep red!</p>\n\n<p><a href=\"https://i.stack.imgur.com/5UXFU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5UXFU.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Information:Kotlin: kotlinc-jvm 1.3.0 (JRE 1.8.0_181-b13)\nError:(9, 9) Kotlin: Error in contract description: Error in contract description\nError:(9, 9) Kotlin: Unresolved reference: contract\n</code></pre>\n\n<p>What do I have to do to get access to contracts?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "onesignal"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5530756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295402dac1779bb6b475c09fd97ffd64?s=128&d=identicon&r=PG&f=1", "display_name": "Kub&#237;nos", "link": "https://stackoverflow.com/users/5530756/kub%c3%adnos"}, "edited": false, "score": 0, "creation_date": 1541600291, "post_id": 53179515, "comment_id": 93271268, "body": "Thank you very much for your help!"}], "tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 0, "last_activity_date": 1541536105, "creation_date": 1541536105, "answer_id": 53179515, "question_id": 53173838, "link": "https://stackoverflow.com/questions/53173838/inject-dispatchingandroidinjectorservice-into-app-kt-using-dagger2/53179515#53179515", "title": "Inject DispatchingAndroidInjector&lt;Service&gt; into App.kt using Dagger2", "body": "<p>You aren't injecting your Application. Note in <a href=\"https://github.com/googlesamples/android-architecture-components/issues/253#issuecomment-352210847\" rel=\"nofollow noreferrer\">Nauce's example</a> that ApplicationComponent has this method:</p>\n\n<pre><code>@Component(/* ... */) @Singleton public interface AppComponent {\n  /* ... */\n  void inject(App app);\n}\n</code></pre>\n\n<p>By making a one-arg method that returns <code>void</code>, you've defined a <a href=\"https://google.github.io/dagger/api/2.16/dagger/Component.html#members-injection-methods\" rel=\"nofollow noreferrer\">members-injection method</a>, which populates <code>@Inject</code>-annotated fields and calls <code>@Inject</code>-annotated methods on an existing object instance. Because Android itself creates your Application instance, it will not have its <code>@Inject</code> fields populated automatically, so it's up to you to inject it with your component. (You do the same in Services and Activities by calling <code>AndroidInjection.inject(this)</code>, but because you're responsible for creating your own Component implementation, there's no equivalent call for Application.)</p>\n\n<p>Without defining AppInjector, Nauce calls this in <code>onCreate</code>:</p>\n\n<pre><code>AppInjector.init(this);\n</code></pre>\n\n<p>But in your example, this would look more like this, in App.kt:</p>\n\n<pre><code>override fun onCreate() {\n  super.onCreate()\n\n  applicationComponent = DaggerApplicationComponent\n      .builder()\n      .applicationModule(ApplicationModule(this))\n      .build()\n\n  // Inject this class's @Inject-annotated members.\n  applicationComponent.inject(this)\n}\n</code></pre>\n\n<p>For future reference, you also have the choice to extend from <a href=\"https://google.github.io/dagger/api/2.16/dagger/android/DaggerApplication.html\" rel=\"nofollow noreferrer\">DaggerApplication</a> (in dagger.android or dagger.android.support), which would automatically provide all of your injectors as long as you make your ApplicationComponent extend <code>AndroidInjector&lt;App&gt;</code> and return it from the <a href=\"https://google.github.io/dagger/api/2.16/dagger/android/DaggerApplication.html#applicationInjector--\" rel=\"nofollow noreferrer\"><code>applicationInjector()</code> method</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 5530756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295402dac1779bb6b475c09fd97ffd64?s=128&d=identicon&r=PG&f=1", "display_name": "Kub&#237;nos", "link": "https://stackoverflow.com/users/5530756/kub%c3%adnos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "accepted_answer_id": 53179515, "answer_count": 1, "score": 0, "last_activity_date": 1541536105, "creation_date": 1541514172, "last_edit_date": 1541522296, "question_id": 53173838, "link": "https://stackoverflow.com/questions/53173838/inject-dispatchingandroidinjectorservice-into-app-kt-using-dagger2", "title": "Inject DispatchingAndroidInjector&lt;Service&gt; into App.kt using Dagger2", "body": "<p>i try to use dependency injection also in the service that handles recive notification.</p>\n\n<p>I followed the solution by Nauce <a href=\"https://github.com/googlesamples/android-architecture-components/issues/253\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/issues/253</a></p>\n\n<p><strong>App.kt</strong></p>\n\n<pre><code>class App : MultiDexApplication(), HasServiceInjector {\n\n    @Inject lateinit var dispatchingServiceInjector: DispatchingAndroidInjector&lt;Service&gt;\n\n    companion object {\n        lateinit var applicationComponent: ApplicationComponent\n    }\n\n    override fun serviceInjector() = dispatchingServiceInjector\n\n    override fun onCreate() {\n        super.onCreate()\n\n        applicationComponent = DaggerApplicationComponent\n                .builder()\n                .applicationModule(ApplicationModule(this))\n                .build()\n    }\n}\n</code></pre>\n\n<p><strong>MyOneSignalMessagingService.kt</strong></p>\n\n<pre><code>@Singleton\nclass MyOneSignalMessagingService : NotificationExtenderService() {\n\n    @Inject lateinit var ApiService: ApiService\n\n    override fun onCreate() {\n        super.onCreate()\n        AndroidInjection.inject(this)\n    }\n\n  override fun onNotificationProcessing(notification: OSNotificationReceivedResult?): Boolean {\n      // He i want to use ApiService\n}\n</code></pre>\n\n<p>But I cannot inject <code>dispatchingServiceInjector</code> in <strong>App.kt</strong>.</p>\n\n<p>It will throw <code>lateinit property dispatchingServiceInjector has not been initialized</code>, when<code>MyOneSignalMessagingService</code> receive the notification.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541518538, "post_id": 53173710, "comment_id": 93239998, "body": "I tested your code in 2 Android P emulators of AS and it works fine."}, {"owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541519754, "post_id": 53173710, "comment_id": 93240762, "body": "Do you have any idea why I&#39;m getting the result I am on my Pixel phones? I&#39;m about to factory reset my old one to test if it&#39;s a setting I changed"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541520901, "post_id": 53173710, "comment_id": 93241446, "body": "No I don&#39;t. I reproduced your code and tried it over and over because I use a lot of spannable strings in my app and it all works fine. Maybe it&#39;s a device issue (I hope)."}, {"owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541521182, "post_id": 53173710, "comment_id": 93241605, "body": "It was a setting I tweaked. &quot;High Contrast Text&quot; -- I submitted an answer to it below because I feel it might help someone else down the road. When you said you also tested on an Android P I started thinking it was a setting I changed so I started looking. --- Thank you for all your help !"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541521326, "post_id": 53173710, "comment_id": 93241688, "body": "That&#39;s good news."}, {"owner": {"reputation": 171, "user_id": 580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e0807700ec27b426f642a1051d446?s=128&d=identicon&r=PG", "display_name": "zeke", "link": "https://stackoverflow.com/users/580002/zeke"}, "edited": false, "score": 0, "creation_date": 1555401606, "post_id": 53173710, "comment_id": 98087585, "body": "@JeremyWeisener Hi, did you find a proper solution for this? It seems that lots of Samsung devices after updating to Android Pie automatically switch on High Contrast text which is causing the color issues."}, {"owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "reply_to_user": {"reputation": 171, "user_id": 580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e0807700ec27b426f642a1051d446?s=128&d=identicon&r=PG", "display_name": "zeke", "link": "https://stackoverflow.com/users/580002/zeke"}, "edited": false, "score": 0, "creation_date": 1555412614, "post_id": 53173710, "comment_id": 98094143, "body": "@zeke I answered my own question below but didn&#39;t mark it as correct. It was a setting for &quot;High Contrast Text&quot;. Please see the answer below"}, {"owner": {"reputation": 171, "user_id": 580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e0807700ec27b426f642a1051d446?s=128&d=identicon&r=PG", "display_name": "zeke", "link": "https://stackoverflow.com/users/580002/zeke"}, "edited": false, "score": 0, "creation_date": 1555413615, "post_id": 53173710, "comment_id": 98094730, "body": "@JeremyWeisener I saw it, but that&#39;s not exactly a solution, you can&#39;t make all users change this setting."}, {"owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "reply_to_user": {"reputation": 171, "user_id": 580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e0807700ec27b426f642a1051d446?s=128&d=identicon&r=PG", "display_name": "zeke", "link": "https://stackoverflow.com/users/580002/zeke"}, "edited": false, "score": 0, "creation_date": 1555414575, "post_id": 53173710, "comment_id": 98095241, "body": "@zeke sorry, I&#39;m not much of an Android programmer, I was just doing this for fun a little. --- check out <a href=\"https://stackoverflow.com/questions/37402880/enabling-high-contrast-text-mode-from-within-android-java-using-accessibilitym\" title=\"enabling high contrast text mode from within android java using accessibilitym\">stackoverflow.com/questions/37402880/&hellip;</a> --- seems to have the most info"}, {"owner": {"reputation": 171, "user_id": 580002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/657e0807700ec27b426f642a1051d446?s=128&d=identicon&r=PG", "display_name": "zeke", "link": "https://stackoverflow.com/users/580002/zeke"}, "edited": false, "score": 0, "creation_date": 1555415051, "post_id": 53173710, "comment_id": 98095531, "body": "@JeremyWeisener OK, I see, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 11118648, "user_type": "registered", "profile_image": "https://graph.facebook.com/2204506889637057/picture?type=large", "display_name": "Bhaven Shah", "link": "https://stackoverflow.com/users/11118648/bhaven-shah"}, "edited": false, "score": 0, "creation_date": 1609138933, "post_id": 53175805, "comment_id": 115755277, "body": "Any other solution except disabling High-contrast text?"}], "tags": [], "owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "is_accepted": true, "score": 0, "last_activity_date": 1541521384, "last_edit_date": 1541521384, "creation_date": 1541521031, "answer_id": 53175805, "question_id": 53173710, "link": "https://stackoverflow.com/questions/53173710/foregroundcolorspan-not-working-as-expected-android-9-pie/53175805#53175805", "title": "ForegroundColorSpan not working as expected (Android 9 - Pie)", "body": "<p><strong>Settings > Accessibility > Experimental > High contrast text</strong></p>\n\n<p>After Factory Resetting my Pixel 1 (and the app working as it should) I figured out it must have been a setting I had turned on. After looking through all my settings I figured out that it was High Contrast Text that was causing the font color to default to black and only show the color as the underline when the cursor was over it.</p>\n"}], "owner": {"reputation": 41, "user_id": 6217264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-lnWL5adiyvU/AAAAAAAAAAI/AAAAAAAAAUw/yHcWcezmbKk/photo.jpg?sz=128", "display_name": "Jeremy Weisener", "link": "https://stackoverflow.com/users/6217264/jeremy-weisener"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 53175805, "answer_count": 1, "score": 1, "last_activity_date": 1541521384, "creation_date": 1541513761, "question_id": 53173710, "link": "https://stackoverflow.com/questions/53173710/foregroundcolorspan-not-working-as-expected-android-9-pie", "title": "ForegroundColorSpan not working as expected (Android 9 - Pie)", "body": "<p>When using the ForegroundColorSpan on a piece of text instead of changing the text color it will underline it when the cursor is on top of it. This happens on my (Physical) Pixel 3 running Android 9 (Pie) and on a (Physical) Pixel 1 also running Android 9 (Pie).</p>\n\n<p>However, when I run it on a (Virtual) FWVGA running Android 7.1.1 (Nougat) it turns up as expected.</p>\n\n<p>I have looked all around but I'm not able to find anything in regards to this (possibly because Android 9 is relatively new?)</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val editText = findViewById&lt;EditText&gt;(R.id.codeView)\n\n        var ss: SpannableStringBuilder = SpannableStringBuilder(\"I'm RED and I'm GREEN now\")\n\n        //val testing123: Spanned = Html.fromHtml(\"&lt;u&gt;&lt;font color='#2eb6f0'&gt;Blue I Hope&lt;/font&gt;&lt;/u&gt;\")\n        val fcsRed: ForegroundColorSpan = ForegroundColorSpan(Color.RED)\n        val fcsGreen: ForegroundColorSpan = ForegroundColorSpan(Color.GREEN)\n\n        ss.run {\n            setSpan(fcsRed, 3, 7, 0)\n            setSpan(fcsGreen, 16, 21, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE)\n        }\n\n        editText.setText(ss)\n\n\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml -> codeView</strong></p>\n\n<pre><code>&lt;EditText\n            android:id=\"@+id/codeView\"\n            android:text = \"\"\n            android:layout_width=\"362dp\"\n            android:layout_height=\"503dp\"\n            android:layout_marginTop=\"4dp\"\n            android:layout_weight=\"1\"\n            android:gravity=\"top|left\"\n            android:inputType=\"textMultiLine\"\n            android:lines=\"40\"\n            android:maxLines=\"20000\"\n            android:minLines=\"1\"\n            android:scrollbars=\"vertical|horizontal\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"1.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.956\" /&gt;\n</code></pre>\n\n<p><strong>(Physical) Pixel 3 running Android 9 (Pie)</strong>\n<a href=\"https://i.stack.imgur.com/yMBsR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMBsR.png\" alt=\"(Physical) Pixel 3 running Android 9 (Pie)\"></a></p>\n\n<p><strong>(Virtual) FWVGA running Android 7.1.1 (Nougat)</strong>\n<a href=\"https://i.stack.imgur.com/yENd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yENd7.png\" alt=\"(Virtual) FWVGA running Android 7.1.1 (Nougat)\"></a></p>\n"}, {"tags": ["kotlin", "koin"], "answers": [{"comments": [{"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "edited": false, "score": 0, "creation_date": 1561099245, "post_id": 54904414, "comment_id": 99960461, "body": "Can you please mark this as an Accepted answer if that works for you?"}], "tags": [], "owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "is_accepted": false, "score": 2, "last_activity_date": 1551266782, "creation_date": 1551266782, "answer_id": 54904414, "question_id": 53173682, "link": "https://stackoverflow.com/questions/53173682/how-to-create-instances-with-runtime-dependencies-using-koin/54904414#54904414", "title": "How to create instances with runtime dependencies using Koin?", "body": "<p>Ofcourse there is</p>\n\n<p>in your module, define your module like below,</p>\n\n<pre><code> single { (args: Array&lt;Any&gt;) -&gt; SignInViewModel(args[0] as SignInCallback) }\n</code></pre>\n\n<p>and then in your activity, pass argument value like below,</p>\n\n<pre><code>val signInModel by inject&lt;SignInViewModel&gt;(parameters = getDefinitionParams(this@SignInFragment))\n</code></pre>\n\n<p>and getDefinitionParams() like this</p>\n\n<pre><code> fun getDefinitionParams(vararg any: Any) : ParameterDefinition{\n        return object : ParameterDefinition {\n            override fun invoke() = parametersOf(any)\n        }\n    }\n</code></pre>\n\n<p>Hope this is helpful, Happy coding :D</p>\n"}], "owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551266782, "creation_date": 1541513686, "last_edit_date": 1541520393, "question_id": 53173682, "link": "https://stackoverflow.com/questions/53173682/how-to-create-instances-with-runtime-dependencies-using-koin", "title": "How to create instances with runtime dependencies using Koin?", "body": "<p>I'm experimenting with Koin while building a Kotlin-based HTTP server.</p>\n\n<p>I'm using a framework in which you code your desired behavior by extending some framework-provided abstract classes and fill in your implementation logic at various points in the component's lifecycle (similar to Android). At some point in the component's lifecycle, a framework-specific resource (exposed as a field) becomes initialized and available for use.</p>\n\n<p>My problem is that I need this field in order to create the instances returned from my Koin module.</p>\n\n<p>What I would like to do is something like this:</p>\n\n<pre><code>interface MyInteractor\n\nclass MyComponent : FrameworkComponent(), KoinComponent {    \n    // \"helper\" is a field local to this class and used as \n    // an injection parameter\n    private val myInteractor: MyInteractor by inject { parametersOf(helper) } \n\n    private val myModule = module { \n        single&lt;MyInteractor&gt; { (helper: FrameworkField) -&gt;\n            // return an instance of MyInteractor using \"helper\"\n        }\n    }\n\n    // lifecycle method\n    override fun start() {\n        startKoin(listOf(myModule))\n    }\n}\n</code></pre>\n\n<p>The above doesn't work though as \"helper\" isn't initialized until later in the component's lifecycle.</p>\n\n<p>I've managed to work around this by stashing the \"helper\" in the Koin context and then retrieving it from the context while making various instances, but this feels clumsy and repetitive. I'm hoping there's a cleaner way to go about this.</p>\n"}, {"tags": ["xml", "kotlin", "namespaces", "xml-namespaces", "package-info"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1541520451, "post_id": 53173515, "comment_id": 93241205, "body": "I&#39;m sorry, but how are you using Kotlin 1.6? 1.3 was just released, 1.6 is far from even having alpha dev done on the release"}, {"owner": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1541560187, "post_id": 53173515, "comment_id": 93256185, "body": "@zoe sorry, edited. I used Kotlin 1.3. I confused with JVM version 1.6 Kotlin uses"}, {"owner": {"reputation": 80, "user_id": 6521788, "user_type": "registered", "profile_image": "https://graph.facebook.com/285941005083064/picture?type=large", "display_name": "Oles Pankiv", "link": "https://stackoverflow.com/users/6521788/oles-pankiv"}, "edited": false, "score": 0, "creation_date": 1550088097, "post_id": 53173515, "comment_id": 96145919, "body": "Found an interesting solution: <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/18#issuecomment-446546133\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformat-xml/issues/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "edited": false, "score": 0, "creation_date": 1541513746, "post_id": 53173554, "comment_id": 93237141, "body": "Oh my gosh, it was a silly question. I didn&#39;t know it will smartly inherit a namespace. Thanks for quick replying on silly question."}, {"owner": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "edited": false, "score": 0, "creation_date": 1541513970, "post_id": 53173554, "comment_id": 93237255, "body": "Oh, but as your solution, i should write that namspace to all child classes of &quot;Hello&quot;. Is there any solution? for just cut it on &quot;Hello&quot; class level?"}, {"owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "reply_to_user": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "edited": false, "score": 0, "creation_date": 1541514336, "post_id": 53173554, "comment_id": 93237458, "body": "I&#39;m answering out of XML knowledge rather than Java knowledge,  so I don&#39;t know if there&#39;s a convenient way to say &quot;just inherit the namespace&quot; with your particular toolkit."}, {"owner": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "edited": false, "score": 0, "creation_date": 1541514618, "post_id": 53173554, "comment_id": 93237643, "body": "Ok, Thanks for your answer :)"}], "tags": [], "owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "is_accepted": true, "score": 0, "last_activity_date": 1541513228, "creation_date": 1541513228, "answer_id": 53173554, "question_id": 53173515, "link": "https://stackoverflow.com/questions/53173515/can-i-ignore-childs-namespaces-from-xmlrootelement/53173554#53173554", "title": "Can i ignore child&#39;s namespaces from @XmlRootElement", "body": "<p>If you want it to inherit the <code>http://www.hello.net</code> in the XML output then you'll need to give it that namespace.</p>\n"}], "owner": {"reputation": 7, "user_id": 3231395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256e7224bb4f7964611b09595a46380f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Ryu", "link": "https://stackoverflow.com/users/3231395/aaron-ryu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 53173554, "answer_count": 1, "score": 0, "last_activity_date": 1543416539, "creation_date": 1541513110, "last_edit_date": 1543416539, "question_id": 53173515, "link": "https://stackoverflow.com/questions/53173515/can-i-ignore-childs-namespaces-from-xmlrootelement", "title": "Can i ignore child&#39;s namespaces from @XmlRootElement", "body": "<p>I'm using Kotlin 1.3, Java 8 and Spring 4.0+. </p>\n\n<p>Just i want to attach a namespace only to <code>&lt;HELLO&gt;</code>, not to childs of it.\nBut, when i define the namespace using @XmlRootElement for <code>&lt;HELLO&gt;</code> then <code>&lt;HI&gt;</code> also get a default namespace even i don't define any namespace. </p>\n\n<pre><code>@XmlRootElement(name = \"HELLO\", namespace = \"http://www.hello.net\")\npublic class Hello {\n\n    @XmlElement(name = \"HI\")\n    protected Hi hi;\n</code></pre>\n\n<p>then</p>\n\n<pre><code>    &lt;HELLO xmlns=\"http://www.hello.net\"&gt;\n        &lt;HI xmlns=\"\"&gt;&lt;/HI&gt;\n    &lt;/HELLO&gt;\n</code></pre>\n\n<p>Is there any way for removing <code>xmlns=\"\"</code> (a default namespace) from <code>&lt;HI&gt;</code>?</p>\n\n<blockquote>\n  <p><strong>FYI (after finished with an answer):</strong></p>\n  \n  <p>I'm developing with Kotlin 1.3. I need to use Java Classes generated\n  from XML using xjc(JAXB), because program(API) spec is handled by XML\n  from external client which will communicate with the APIs. </p>\n  \n  <p>When use xjc without -npa option there is a <strong>package-info.java</strong> for\n  apply a same namespace on all of classes generated with just two loc and i exported these classes on my project.\n  (ref:<a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/xjc.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/xjc.html</a>) </p>\n  \n  <p>I thought that <strong>@XmlSchema(namespace = \"namespace1\") in package-info.java</strong> works well when i register JaxbAnnotationModule() in XmlMapper(with JacksonXmlModule). But, It seems Jackson XmlMapper doesn't fully support xml annotations.  </p>\n  \n  <p>You can solve this problem with below answer or adding XmlMarshaller that add an xmlns to XML.</p>\n  \n  <p><strong>jackson-dataformat-xml does not support the namespace of package level : <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/18\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml/issues/18</a></strong></p>\n</blockquote>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541512791, "post_id": 53173381, "comment_id": 93236560, "body": "what is your question? The error is pretty clear"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541513173, "post_id": 53173381, "comment_id": 93236802, "body": "how l fix the error ? l am new in kotlin ?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541513263, "post_id": 53173381, "comment_id": 93236857, "body": "pass a context instead of a fragment_Dep"}, {"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541513313, "post_id": 53173381, "comment_id": 93236890, "body": "@TimCastelijns there is any example?"}], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1543074750, "post_id": 53458604, "comment_id": 93791316, "body": "thank you for answer , l do this code about <code>class ListAdapter(val context: Context, val list: ArrayList&lt;FlightShdu&gt;): BaseAdapter() </code> and the error in class adapter is hide . but l have error in class fragment . red line under word list  <code>val adapter = ListAdapteArr(list)             flight_arrivel_list.adapter = adapter</code>"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1543075082, "post_id": 53458604, "comment_id": 93791410, "body": "Where is your <code>listAdapteArr</code>?"}], "tags": [], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "is_accepted": false, "score": 0, "last_activity_date": 1543065935, "creation_date": 1543065935, "answer_id": 53458604, "question_id": 53173381, "link": "https://stackoverflow.com/questions/53173381/type-mismatch-inferred-type-is-fragment-dep-but-context-was-expected/53458604#53458604", "title": "Type mismatch: inferred type is fragment_Dep but Context! was expected", "body": "<p>You can simply pass <code>Context</code> into ListAdapter signature</p>\n\n<p><code>\nclass ListAdapter(val context: Context, val list: ArrayList&lt;FlightShdu&gt;): BaseAdapter() {\n</code></p>\n\n<p>If you are creating the adapter from an activity you can simply do <code>ListAdapter(this, &lt;your_list&gt;)</code></p>\n\n<p>If you are creating it from a fragment you can do <code>ListAdapter(this.activity, &lt;your_list&gt;)</code></p>\n\n<p>I suggest you get familiar with the Kotlin language <a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/</a></p>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543074799, "creation_date": 1541512662, "last_edit_date": 1543074799, "question_id": 53173381, "link": "https://stackoverflow.com/questions/53173381/type-mismatch-inferred-type-is-fragment-dep-but-context-was-expected", "title": "Type mismatch: inferred type is fragment_Dep but Context! was expected", "body": "<p>l have Create a Swipe Views with Tabs in my app . I want to initialize the list view in the fragment class activity . l added the list adapte , but the problem is with this code : </p>\n\n<pre><code>val view : View = LayoutInflater.from(context).inflate(R.layout.row_layout,parent,false)\n</code></pre>\n\n<p>l have problem with <code>context</code> l have error <code>Type mismatch: inferred type is fragment_Dep but Context! was expected</code></p>\n\n<p>ListAdapte class </p>\n\n<pre><code>package com.iraqairoirt.iraqairports\n\n\nimport android.annotation.SuppressLint\nimport android.support.v7.widget.AppCompatTextView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\n\nclass ListAdapte (val context: fragment_Dep, val list: ArrayList&lt;FlightShdu&gt;): BaseAdapter() {\n\n    @SuppressLint(\"ViewHolder\")\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val view : View = LayoutInflater.from(context).inflate(R.layout.row_layout,parent,false)\n\n        val CallsingID = view.findViewById(R.id.callsign_id) as AppCompatTextView\n        val StatusID = view.findViewById(R.id.status_id) as AppCompatTextView\n\n        CallsingID.text = list[position].Callsign.toString()\n        StatusID.text = list[position].Status\n\n        return view\n    }\n\n    override fun getItem(position: Int): Any {\n        return list [position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getCount(): Int {\n        return list.size\n    }\n}\n</code></pre>\n\n<p>fragment class </p>\n\n<pre><code>package com.iraqairoirt.iraqairports\n\nimport android.os.AsyncTask\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nimport com.iraqairoirt.iraqairports.flightsArr.ListAdapteArr\nimport kotlinx.android.synthetic.main.fragment_arrivel.*\nimport org.json.JSONArray\nimport org.json.JSONObject\nimport java.net.HttpURLConnection\nimport java.net.URL\n\n\n@Suppress(\"UNREACHABLE_CODE\")\nclass fragment_Arr :Fragment(), View.OnClickListener {\n    override fun onClick(v: View?) {\n//        val intent = Intent(context, FlightsArrbefor::class.java)\n//        context!!.startActivity(intent)\n    }\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_arrivel,container,false)\n\n\n        val url = \"xxxxxxxxxxxxxxx/airport.json?code=BGW\"\n        Dep().execute(url)\n\n        return view\n    }\n\n\n    //    full class for json api\n    inner class Dep : AsyncTask&lt;String, String, String&gt;(){\n\n\n        override fun onPreExecute() {\n            super.onPreExecute()\n\n\n        }\n\n        //        for build connection\n\n        override fun onPostExecute(result: String?) {\n\n            super.onPostExecute(result)\n            handleJson(result)\n\n\n        }\n\n        override fun onProgressUpdate(vararg text: String?) {\n\n\n        }\n        //        for build connection\n        override fun doInBackground(vararg url: String?): String{\n\n            var text : String\n            val connection = URL(url[0]).openConnection() as HttpURLConnection\n\n            try {\n                connection.connect()\n                text = connection.inputStream.use { it.reader().use{reader -&gt; reader.readText()} }\n\n\n            } finally{\n\n                connection.disconnect()\n\n            }\n            return text\n        }\n\n\n        private fun handleJson (jsonString: String?){\n\n            val jsonObj = JSONObject(jsonString)\n            val result = jsonObj.getJSONObject(\"result\")\n            val response = result.getJSONObject(\"response\")\n            val airport = response.getJSONObject(\"airport\")\n            val pluginData = airport.getJSONObject(\"pluginData\")\n            val schedule = pluginData.getJSONObject(\"schedule\")\n            val departures = schedule.getJSONObject(\"departures\")\n//        val data = arrivals.getJSONObject(\"data\")\n            val jsonArray = JSONArray(departures.get(\"data\").toString())\n\n            val list =  ArrayList&lt;FlightShdu&gt;()\n            var x = 0\n            while (x &lt; jsonArray.length()){\n\n                val jsonObject = jsonArray.getJSONObject(x)\n\n\n\n                list.add(FlightShdu(\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"identification\").getJSONObject(\"number\").getString(\"default\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"airline\").getString(\"short\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getJSONObject(\"generic\").getJSONObject(\"status\").getString(\"text\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"airline\").getJSONObject(\"code\").getString(\"icao\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"scheduled\").getString(\"departure\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"airport\").getJSONObject(\"destination\").getJSONObject(\"code\").getString(\"iata\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"aircraft\").getJSONObject(\"model\").getString(\"code\"),\n//                    for more information\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"real\").getString(\"departure\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"estimated\").getString(\"departure\"),\n//                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"time\").getJSONObject(\"estimated\").getString(\"arrival\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"aircraft\").getString(\"registration\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getJSONObject(\"generic\").getJSONObject(\"status\").getString(\"diverted\"),\n                    departures.getString(\"timestamp\"),\n                    jsonObject.getJSONObject(\"flight\").getJSONObject(\"status\").getString(\"icon\")\n\n\n\n                ))\n\n\n                x++\n            }\n            list.forEach(::println)\n\n            val adapter = ListAdapteArr(list)\n            flight_arrivel_list.adapter = adapter\n\n        }\n\n\n\n\n    }\n\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 3, "creation_date": 1541510864, "post_id": 53172823, "comment_id": 93235434, "body": "You should read the error message. You&#39;re declaring <code>maT</code> as <code>lateinit</code> then you use it without initializing it."}, {"owner": {"reputation": 1158, "user_id": 3004667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l89dD.jpg?s=128&g=1", "display_name": "Boukharist", "link": "https://stackoverflow.com/users/3004667/boukharist"}, "edited": false, "score": 1, "creation_date": 1541514858, "post_id": 53172823, "comment_id": 93237785, "body": "you can&#39;t declare local variable lateinit (inside a function)"}, {"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1541518782, "post_id": 53172823, "comment_id": 93240151, "body": "Please provide the error message."}], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": true, "score": 1, "last_activity_date": 1541520244, "last_edit_date": 1541520244, "creation_date": 1541519327, "answer_id": 53175323, "question_id": 53172823, "link": "https://stackoverflow.com/questions/53172823/why-when-i-call-java-class-from-kotlin-project-program-alway-stop-working/53175323#53175323", "title": "why when I call java class from kotlin project program alway stop working", "body": "<p>The problem is occurring  because the <strong>maT</strong> property has not be initialised when you are calling </p>\n\n<pre><code>maT.two()\n</code></pre>\n\n<p>The documentation for <strong>lateinit</strong> states:</p>\n\n<blockquote>\n  <p>Accessing a lateinit property before it has been initialized throws a special exception that clearly identifies the property being accessed and the fact that it hasn't been initialized.</p>\n</blockquote>\n\n<p>In order to fix the problem try:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n     super.onCreate(savedInstanceState)\n     setContentView(R.layout.activity_main)\n     var maT = mat()\n     var num : Int = maT.two()\n  }\n}\n</code></pre>\n\n<p>The change that was made was to remove <strong>lateinit</strong> and to instantiate an object of type <strong>mat</strong> :</p>\n\n<pre><code>var maT = mat()\n</code></pre>\n\n<p>FYI: You should consider using a capital at the start of a class e.g. <strong>Mat</strong></p>\n"}], "owner": {"reputation": 21, "user_id": 10049523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XQVWpU9t2sI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq11HJhAb2r8CM7vB7bk7B3PRgB2fg/mo/photo.jpg?sz=128", "display_name": "Setaros Pplkn", "link": "https://stackoverflow.com/users/10049523/setaros-pplkn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 53175323, "answer_count": 1, "score": 0, "last_activity_date": 1541521334, "creation_date": 1541510609, "last_edit_date": 1541521334, "question_id": 53172823, "link": "https://stackoverflow.com/questions/53172823/why-when-i-call-java-class-from-kotlin-project-program-alway-stop-working", "title": "why when I call java class from kotlin project program alway stop working", "body": "<p>This is my MainActivity  </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n      override fun onCreate(savedInstanceState: Bundle?) {\n         super.onCreate(savedInstanceState)\n         setContentView(R.layout.activity_main)\n         lateinit var maT : mat\n         var num : Int = maT.two()\n      }\n}\n</code></pre>\n\n<p>And this is my java class</p>\n\n<pre><code>public class mat {\n\n      public int two(){\n        return 2;\n      }\n}\n</code></pre>\n\n<p>They are in the same package</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 2, "creation_date": 1541511336, "post_id": 53172821, "comment_id": 93235723, "body": "What Kotlin language version your project is  set up to use?"}, {"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1541512753, "post_id": 53172821, "comment_id": 93236536, "body": "@RomanElizarov It&#39;s 1.2.70 (1.2 is set in the project settings as both the language and the API version)."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 3, "last_activity_date": 1541523075, "last_edit_date": 1541523075, "creation_date": 1541522244, "answer_id": 53176163, "question_id": 53172821, "link": "https://stackoverflow.com/questions/53172821/why-dont-check-require-and-assert-result-in-a-smart-cast/53176163#53176163", "title": "Why don&#39;t check(), require() and assert() result in a smart cast?", "body": "<p>I answered a <a href=\"https://stackoverflow.com/a/53139997/6296561\">related question</a> a while ago on the difference between <code>assert</code> and <code>require</code>. TL;DR: <code>assert</code>isn't guaranteed to throw an exception, but <code>require</code> is. In 1.3, it also uses contracts, which means if the method returns, the compiler knows the statement is correct, and it can apply smart cast if applicable. </p>\n\n<p>This explains why <code>assert</code> doesn't do it; returning from an assertion does <strong>not</strong> mean the statement is true. With the code you have, it would not throw an exception unless <code>ea</code> is true. Assert won't trigger smart cast, even with 1.3. </p>\n\n<p><code>check</code> and <code>require</code> both trigger smart cast on 1.3 and up (because of contracts), assert doesn't (no contracts and no guarantee it actually throws an exception if the condition fails). </p>\n\n<p>I found <a href=\"https://discuss.kotlinlang.org/t/preconditions-should-activate-smart-cast-no/8091\" rel=\"nofollow noreferrer\">this</a> post on the Kotlin forums, asking exactly what you are. The contacts were present for quite a long time, but <a href=\"https://discuss.kotlinlang.org/t/why-doesnt-smart-cast-use-data-from-in-code-contracts/6567\" rel=\"nofollow noreferrer\">this</a> post also backs up my initial assumptions: While the contacts are present, <strong>they weren't ready</strong>. Effectively disabled, as the second post mentions. Which is why smart cast doesn't work.</p>\n\n<p>However, in Kotlin 1.3, the contracts were released. If you upgrade, you'll see that it does work (at least it does for me). </p>\n\n<hr>\n\n<p>Full contract support was added in <a href=\"https://blog.jetbrains.com/kotlin/2018/08/kotlin-1-3-m2/\" rel=\"nofollow noreferrer\">1.3-M2</a>, which is a pre-release for 1.3. </p>\n"}], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 1, "accepted_answer_id": 53176163, "answer_count": 1, "score": 4, "last_activity_date": 1541523075, "creation_date": 1541510603, "question_id": 53172821, "link": "https://stackoverflow.com/questions/53172821/why-dont-check-require-and-assert-result-in-a-smart-cast", "title": "Why don&#39;t check(), require() and assert() result in a smart cast?", "body": "<p>Consider the following code fragment:</p>\n\n<pre><code>object C {\n    @JvmStatic\n    fun main(vararg args: String) {\n        val s: String? = null\n        check(s != null) {\n            \"The string is null\"\n        }\n        require(s != null) {\n            \"The string is null\"\n        }\n        assert(s != null) {\n            \"The string is null\"\n        }\n        s.length\n    }\n}\n</code></pre>\n\n<p>While both <code>check()</code> and <code>require()</code> have</p>\n\n<pre><code>contract {\n    returns() implies value\n}\n</code></pre>\n\n<p>in their body, the above code still doesn't compile, forcing me to use either <code>?.</code>:</p>\n\n<pre><code>s?.length\n</code></pre>\n\n<p>or <code>!!</code>:</p>\n\n<pre><code>s!!.length\n</code></pre>\n\n<p>Why no smart cast is performed in the above code?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541508382, "post_id": 53172153, "comment_id": 93233971, "body": "Did you try like this too? : <code>myArrayList.add(someByteArrayValue)</code>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1541508553, "post_id": 53172153, "comment_id": 93234064, "body": "Please show a complete code sample where the error can be reproduced. Based on the code that you&#39;ve posted, everything should work with no exceptions."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541508591, "post_id": 53172153, "comment_id": 93234093, "body": "@&#220;ma&#241;g&#223;&#252;rm&#229;n I&#39;ve not tried in that way as I need the values to be set at specific indexes."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1541508636, "post_id": 53172153, "comment_id": 93234118, "body": "@yole I am working on that, I can only repro the error within some very involved code (BLE with a ton of callbacks) at the moment."}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541508665, "post_id": 53172153, "comment_id": 93234132, "body": "Okay, Do you get the error as soon as you add the value or while retrieving the value from the arraylistof?"}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "edited": false, "score": 0, "creation_date": 1541508755, "post_id": 53172153, "comment_id": 93234174, "body": "The error is as soon as I add the value."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541508814, "post_id": 53172153, "comment_id": 93234218, "body": "<i>I should be able to access the nth element of this ArrayList using the following syntax: myArrayList[n]</i> no it should be myArrayList[n-1]"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541508958, "post_id": 53172153, "comment_id": 93234293, "body": "I don&#39;t understand, How is such an error possible on adding the element."}, {"owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541508976, "post_id": 53172153, "comment_id": 93234307, "body": "@forpas Could you explain?"}, {"owner": {"reputation": 247, "user_id": 6629915, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/cwz87.png?s=128&g=1", "display_name": "esdoodle", "link": "https://stackoverflow.com/users/6629915/esdoodle"}, "edited": false, "score": 0, "creation_date": 1541509026, "post_id": 53172153, "comment_id": 93234327, "body": "Did you try to give only the capacity. private var myArrayList = arrayListOf&lt;ByteArray&gt;(3)"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1541509032, "post_id": 53172153, "comment_id": 93234331, "body": "If you want to access the 1st element you use myArrayList[0]"}, {"owner": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "edited": false, "score": 0, "creation_date": 1541509277, "post_id": 53172153, "comment_id": 93234465, "body": "I think you might just be attempting to access that info before the array has been initialized, it happens. I just tried the code you described above and it works just fine."}, {"owner": {"reputation": 13488, "user_id": 1283554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcb78a224385051109a02bd4bb60920?s=128&d=identicon&r=PG", "display_name": "bwt", "link": "https://stackoverflow.com/users/1283554/bwt"}, "edited": false, "score": 0, "creation_date": 1541509805, "post_id": 53172153, "comment_id": 93234784, "body": "<code>myArrayList </code> is a <code>var</code> , not a <code>val</code> Is it possible that it is later set to another value (e.g. an empty list) ?"}], "owner": {"reputation": 1424, "user_id": 4816231, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/10155382098795234/picture?type=large", "display_name": "amitchone", "link": "https://stackoverflow.com/users/4816231/amitchone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1541508125, "creation_date": 1541508125, "question_id": 53172153, "link": "https://stackoverflow.com/questions/53172153/kotlin-arraylist-indexoutofboundsexception", "title": "Kotlin ArrayList IndexOutOfBoundsException", "body": "<p>I have the following ArrayList in Kotlin: </p>\n\n<pre><code>private var myArrayList = arrayListOf&lt;ByteArray&gt;(ByteArray(20), ByteArray(20), ByteArray(20))\n</code></pre>\n\n<p>My understanding of this syntax is that the size of this <code>ArrayList</code> is implicitly defined by the amount of elements passed into the constructor; so 3 in this case? Further to this, I should be able to access the nth element of this <code>ArrayList</code> using the following syntax: <code>myArrayList[n]</code>. </p>\n\n<p>I believe that my understanding of this process is wrong (and I'm not sure which bit). I think this because when I try to set values of the <code>ArrayList</code> in either of the following ways:</p>\n\n<pre><code>myArrayList[0] = someByteArrayValue\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>myArrayList.add(0, someByteArrayValue)\n</code></pre>\n\n<p>I receive the following error:</p>\n\n<blockquote>\n  <p><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0</code></p>\n</blockquote>\n\n<p>Why is the size of <code>myArrayList</code> equal to <code>0</code>?</p>\n\n<p>At no point do I (intentionally <em>or</em> knowingly call <code>myArrayList.clear()</code>) so I'm not sure how the size is ever set to <code>0</code>. </p>\n\n<p>Thanks,\nAdam</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 0, "creation_date": 1541507935, "post_id": 53172048, "comment_id": 93233751, "body": "i need add path no query"}, {"owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "reply_to_user": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "edited": false, "score": 1, "creation_date": 1541508140, "post_id": 53172048, "comment_id": 93233846, "body": "maybe you can just add path and do not add query=? in your path,so your code could be  <code>fun search(@Path(value = &quot;link&quot;, encoded = true),@Query(&quot;query&quot;) str: String?): Call&lt;Any&gt;</code> you can add link as your path."}, {"owner": {"reputation": 458, "user_id": 4058998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JjKgE.jpg?s=128&g=1", "display_name": "jbarros", "link": "https://stackoverflow.com/users/4058998/jbarros"}, "edited": false, "score": 1, "creation_date": 1541508590, "post_id": 53172048, "comment_id": 93234091, "body": "If you need to add <code>@Path</code> then you will be using a <code>PathParam</code> so you don&#39;t need the &quot;?&quot; character. I think what you are looking for is a <code>QueryParam</code> as @Aolphn stated."}], "tags": [], "owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "is_accepted": false, "score": 1, "last_activity_date": 1541508694, "last_edit_date": 1541508694, "creation_date": 1541507761, "answer_id": 53172048, "question_id": 53171962, "link": "https://stackoverflow.com/questions/53171962/retrofit-path-encode-except-character/53172048#53172048", "title": "Retrofit path encode except character?", "body": "<p>Don't use Path ,you can use <code>@Query</code>  in your method,it won't convert <code>?</code> to <code>%3F</code> .\nYou can change your method to </p>\n\n<pre><code>@GET(\"api/serach\")\nfun search(@Query(\"query\") value: String?): Call&lt;Any&gt;\n</code></pre>\n\n<p>For example,your value is \"aolphn\",this code will access</p>\n\n<pre><code>http(s)://xxx/api/search?query=aolphn\n</code></pre>\n\n<p><code>?</code> will appended automatically.</p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 5362613, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e4ApNIiEbFM/AAAAAAAAAAI/AAAAAAAAAFY/7TNSOzpP0c8/photo.jpg?sz=128", "display_name": "Pawe\u0142 Szyma\u0144ski", "link": "https://stackoverflow.com/users/5362613/pawe%c5%82-szyma%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1548095807, "post_id": 53176470, "comment_id": 95412302, "body": "It will work until you&#39;ll try to send &#39;?&#39; in some query parameter. Seems buggy to me."}], "tags": [], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "is_accepted": true, "score": -1, "last_activity_date": 1541523255, "creation_date": 1541523255, "answer_id": 53176470, "question_id": 53171962, "link": "https://stackoverflow.com/questions/53171962/retrofit-path-encode-except-character/53176470#53176470", "title": "Retrofit path encode except character?", "body": "<p>I find a solution, must use Interceptor for the request.</p>\n\n<pre><code>class RemoveCharacterInterceptor : Interceptor {\n\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val request = chain.request()\n        val path = request.url().toString()\n\n        val string = path.replace(\"%3F\", \"?\") // replace\n\n        val newRequest = request.newBuilder()\n                .url(string)\n                .build()\n\n        return chain.proceed(newRequest)\n    }\n\n}\n</code></pre>\n\n<p>and add to httpClient</p>\n\n<pre><code>val httpClient = OkHttpClient.Builder()\nhttpClient.addInterceptor(RemoveCharacterInterceptor())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 5362613, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e4ApNIiEbFM/AAAAAAAAAAI/AAAAAAAAAFY/7TNSOzpP0c8/photo.jpg?sz=128", "display_name": "Pawe\u0142 Szyma\u0144ski", "link": "https://stackoverflow.com/users/5362613/pawe%c5%82-szyma%c5%84ski"}, "is_accepted": false, "score": 2, "last_activity_date": 1548095702, "creation_date": 1548095702, "answer_id": 54295954, "question_id": 53171962, "link": "https://stackoverflow.com/questions/53171962/retrofit-path-encode-except-character/54295954#54295954", "title": "Retrofit path encode except character?", "body": "<p>@Url should be used for this instead of @Path</p>\n\n<pre><code>@GET\nCall&lt;ResponseClass&gt; list(@Url String url);\n</code></pre>\n\n<p>It works fine with full URL and a path that is used then with base URL.</p>\n\n<pre><code>Retrofit retrofit = Retrofit.Builder()  \n  .baseUrl(\"https://website.com/\");\n  .build();\n\nMyService service = retrofit.create(MyService.class);  \nservice.exampleCall(\"https://another-website.com/example\");\nservice.anotherExampleCall(\"/only/path/part\");\n</code></pre>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "accepted_answer_id": 53176470, "answer_count": 3, "score": -1, "last_activity_date": 1548095702, "creation_date": 1541507456, "question_id": 53171962, "link": "https://stackoverflow.com/questions/53171962/retrofit-path-encode-except-character", "title": "Retrofit path encode except character?", "body": "<p>I use retrofit and my interface below</p>\n\n<pre><code> @GET(\"{link}\")\n fun search(@Path(value = \"link\", encoded = true) link: String?): Call&lt;Any&gt;\n</code></pre>\n\n<p>Do I need to use encoded for all link except character '?'.</p>\n\n<p><strong><em>Example:</em></strong></p>\n\n<p><strong>Link -></strong> /api/search?&amp;query=\u062a\u0633\u062a</p>\n\n<p><strong>Encoded link by retrofit -></strong> api/search%3F&amp;query=%D8%AA%D8%B3%D8%AA</p>\n\n<p><strong>I need this link-></strong> api/search?&amp;query=%D8%AA%D8%B3%D8%AA</p>\n\n<p>I need don't convert character <strong>'?'</strong> to <strong>%3F</strong>.\ndo is anyway?</p>\n"}, {"tags": ["android-fragments", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "edited": false, "score": 0, "creation_date": 1541507050, "post_id": 53171725, "comment_id": 93233252, "body": "You cant load an activity in fragment."}, {"owner": {"reputation": 185, "user_id": 10612986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQuM5.jpg?s=128&g=1", "display_name": "SuKu", "link": "https://stackoverflow.com/users/10612986/suku"}, "reply_to_user": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "edited": false, "score": 0, "creation_date": 1541508858, "post_id": 53171725, "comment_id": 93234244, "body": "Thanks for clarifying. How to load Fragment with RecyclerView to get data from MySQL like it is being loaded in Activity? or Can I convert this Activity into Fragment?"}, {"owner": {"reputation": 2284, "user_id": 1106598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JlR3w.jpg?s=128&g=1", "display_name": "Gokhan Arik", "link": "https://stackoverflow.com/users/1106598/gokhan-arik"}, "edited": false, "score": 0, "creation_date": 1541520755, "post_id": 53171725, "comment_id": 93241368, "body": "I would recommend reading about Fragments and Activities before getting into implementation. Fragments are hosted inside an activity. An activity can have multiple fragments or no fragments. You can move your code to a fragment, however fragment has to be in an Activity"}, {"owner": {"reputation": 185, "user_id": 10612986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQuM5.jpg?s=128&g=1", "display_name": "SuKu", "link": "https://stackoverflow.com/users/10612986/suku"}, "edited": false, "score": 0, "creation_date": 1541559236, "post_id": 53171725, "comment_id": 93256007, "body": "Thanks, I will read about Fragments and Activity. Also, I will try moving code to fragment. Thanks again for your help."}], "owner": {"reputation": 185, "user_id": 10612986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wQuM5.jpg?s=128&g=1", "display_name": "SuKu", "link": "https://stackoverflow.com/users/10612986/suku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541507369, "creation_date": 1541506556, "last_edit_date": 1541507369, "question_id": 53171725, "link": "https://stackoverflow.com/questions/53171725/activity-loads-independently-but-not-in-fragment", "title": "Activity loads independently but not in Fragment", "body": "<p>I am new to Mobile development. I have started my Mobile app with Kotlin. I have an Activity (ProductsActivity.kt) which loads RecyclerView with ImageView and TextView getting data from MySQL, which is working independently. Now, I want this Activity to load in Fragment, I tried to load using Inflater, but it doesn't show any data. Following is my code, please help how can I achieve the same. Thanks in advance.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>package com.example.administrator.zmaart\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.support.design.widget.NavigationView\nimport android.support.v4.app.Fragment\nimport android.support.v4.view.GravityCompat\nimport android.support.v4.widget.DrawerLayout\nimport android.support.v7.app.ActionBarDrawerToggle\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.Toolbar\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\nimport android.widget.Toast\n\nclass MainActivity : AppCompatActivity(),         \nNavigationView.OnNavigationItemSelectedListener {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val toolbar = findViewById&lt;View&gt;(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n\n    val drawer = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n    val toggle = ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.navigation_drawer_open, \nR.string.navigation_drawer_close)\n    drawer.addDrawerListener(toggle)\n    toggle.syncState()\n\n    val navigationView = findViewById&lt;View&gt;(R.id.nav_view) as \nNavigationView\n    navigationView.setNavigationItemSelectedListener(this)\n\n    displaySelectedScreen(R.id.nav_home)\n}\n\nprivate var backButtonCount: Int = 0\n\noverride fun onBackPressed() {\n    val drawer = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n    if (drawer.isDrawerOpen(GravityCompat.START)) {\n        drawer.closeDrawer(GravityCompat.START)\n    } else {\n        if (backButtonCount &gt;= 1) {\n            val intent = Intent(Intent.ACTION_MAIN)\n            intent.addCategory(Intent.CATEGORY_HOME)\n            intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n            startActivity(intent)\n        } else {\n            Toast.makeText(this, \"Press the back button once again to close the application.\", Toast.LENGTH_SHORT).show()\n            backButtonCount++\n        }\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    menuInflater.inflate(R.menu.main, menu)\n    return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    val id = item.itemId\n\n\n    return if (id == R.id.action_settings) {\n        true\n    } else super.onOptionsItemSelected(item)\n\n}\n\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n\n    displaySelectedScreen(item.itemId)\n\n    return true\n}\n\nprivate fun displaySelectedScreen(itemId: Int) {\n\n    //creating fragment object\n    var fragment: Fragment? = null\n\n    //initializing the fragment object which is selected\n    when (itemId) {\n        R.id.nav_home -&gt; fragment = home()\n        R.id.nav_orders -&gt; fragment = orders()\n        R.id.nav_wishlist -&gt; {\n            val intent = Intent(this@MainActivity, \nProductsActivity::class.java)\n            this@MainActivity.startActivity(intent)\n        }\n        R.id.nav_logout -&gt; {\n            val sharedPreferences = getSharedPreferences(\"SharedPref\", 0)\n            val editor = sharedPreferences.edit()\n            editor.clear()\n            editor.apply()\n            val intent = Intent(this@MainActivity, Login_Page::class.java)\n            this@MainActivity.startActivity(intent)\n        }\n    }\n\n    //replacing the fragment\n    if (fragment != null) {\n        val ft = supportFragmentManager.beginTransaction()\n        ft.replace(R.id.content_frame, fragment)\n        ft.commit()\n    }\n\n    val drawer = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n    drawer.closeDrawer(GravityCompat.START)\n}\n}\n</code></pre>\n\n<p>activity_products.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ProductsActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/recylcerView1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:layout_editor_absoluteX=\"745dp\"\n    tools:layout_editor_absoluteY=\"-51dp\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>ProductsActivity.kt</p>\n\n<pre><code>package com.example.administrator.zmaart\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport com.android.volley.Request\nimport com.android.volley.Response\nimport com.android.volley.toolbox.StringRequest\nimport com.android.volley.toolbox.Volley\nimport org.json.JSONArray\nimport org.json.JSONException\nimport java.util.*\n\nclass ProductsActivity : AppCompatActivity() {\n\nprivate lateinit var productList: MutableList&lt;Product&gt;\n\nprivate lateinit var recyclerView: RecyclerView\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_products)\n\n    recyclerView = findViewById(R.id.recylcerView1)\n    recyclerView.setHasFixedSize(false)\n    recyclerView.layoutManager = LinearLayoutManager(this)\n\n    productList = ArrayList()\n\n    loadProducts()\n}\n\nprivate fun loadProducts() {\n\n    /*\n     * Creating a String Request\n     * The request type is GET defined by first parameter\n     * The URL is defined in the second parameter\n     * Then we have a Response Listener and a Error Listener\n     * In response listener we will get the JSON response as a String\n     * */\n    val stringRequest = StringRequest(Request.Method.GET, URL_PRODUCTS,\n            Response.Listener { response -&gt;\n                try {\n                    //converting the string to json array object\n                    val array = JSONArray(response)\n\n                    //traversing through all the object\n                    for (i in 0 until array.length()) {\n\n                        //getting product object from json array\n                        val product = array.getJSONObject(i)\n\n                        //adding the product to product list\n                        productList.add(Product(\n                                product.getString(\"prod_id_sha\"),\n                                product.getString(\"prod_title\"),\n                                product.getDouble(\"prod_price\"),\n                                product.getDouble(\"prod_price2\"),\n                                product.getString(\"img_thumbnail\")\n                        ))\n                    }\n\n                    //creating adapter object and setting it to recyclerview\n                    val adapter = ProductsAdapter(this@ProductsActivity, productList)\n                    recyclerView.adapter = adapter\n                } catch (e: JSONException) {\n                    e.printStackTrace()\n                }\n            },\n            Response.ErrorListener { })\n\n    //adding our stringrequest to queue\n    Volley.newRequestQueue(this).add(stringRequest)\n}\n\ncompanion object {\n\n    //this is the JSON Data URL\n    //make sure you are using the correct ip else it will not work\n    private const val URL_PRODUCTS = \"localhost/app/load_prod.php\"\n}\n}\n</code></pre>\n\n<p>home.kt (where I want to load activity_products.xml)</p>\n\n<pre><code>package com.example.administrator.zmaart\n\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass home : Fragment() {\n\nprivate lateinit var productList: MutableList&lt;Product&gt;\n\nprivate lateinit var recyclerView: RecyclerView\n\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.activity_products, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    activity!!.title = \"Home\"\n}\n}\n</code></pre>\n\n<p>Please let me know if any other code(s) to be included to help you to help me.</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 653, "user_id": 6049785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fKDvwLpi8OU/AAAAAAAAAAI/AAAAAAAAAFU/qPf5P_Tphd0/photo.jpg?sz=128", "display_name": "Mushahid Gillani", "link": "https://stackoverflow.com/users/6049785/mushahid-gillani"}, "edited": false, "score": 0, "creation_date": 1541506195, "post_id": 53171044, "comment_id": 93232838, "body": "Above code is working fine but it has one mistake , my button is not enabled that&#39;s it."}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1541564821, "post_id": 53171044, "comment_id": 93257001, "body": "You disabled button in xml <code>android:enabled=&quot;false&quot;</code>- that&#39;s why click don&#39;t happen. If you change that attribute to <code>true</code>, button starts work as expected."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1542012243, "post_id": 53171044, "comment_id": 93401492, "body": "where do you call method <code>initViewModel</code>?"}], "owner": {"reputation": 653, "user_id": 6049785, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fKDvwLpi8OU/AAAAAAAAAAI/AAAAAAAAAFU/qPf5P_Tphd0/photo.jpg?sz=128", "display_name": "Mushahid Gillani", "link": "https://stackoverflow.com/users/6049785/mushahid-gillani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 759, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1541503934, "creation_date": 1541503934, "question_id": 53171044, "link": "https://stackoverflow.com/questions/53171044/how-to-access-a-button-in-included-layout-using-data-binding", "title": "How to access a button in included layout using data binding", "body": "<p>I am using databinding in my application but button is not working. where am i making mistake in this code. i tried many solution but no luck. but if make button in <strong>activity_login.xml</strong> then button click works. i think i am not able to pass the view model to the included view. \nHere is my code </p>\n\n<p><strong>activity_login.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:bind=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n                name =\"loginViewModel\"\n                type=\"com.innowi.checoutrestaurantdashboard.view.main.MainViewModel\"/&gt;\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/login_constraint_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@drawable/login_background_burgerstack\"\n            android:isScrollContainer=\"false\"\n            android:paddingEnd=\"32dp\"\n            android:paddingStart=\"32dp\"\n            tools:context=\".view.main.LoginActivity\"&gt;\n\n\n\n        &lt;include\n                android:id=\"@+id/login_layout\"\n                layout=\"@layout/layout_login\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"0dp\"\n                bind:loginViewModel=\"@{loginViewModel}\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>layout_login.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;variable\n                name =\"loginViewModel\"\n                type=\"com.innowi.checoutrestaurantdashboard.view.main.MainViewModel\"/&gt;\n    &lt;/data&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n\n\n    style=\"@style/Login\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:isScrollContainer=\"false\"\n    android:padding=\"32dp\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/login_button\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"32dp\"\n        android:background=\"@drawable/button_login_drawable\"\n        android:enabled=\"false\"\n        android:gravity=\"center\"\n        android:paddingBottom=\"16dp\"\n        android:paddingTop=\"16dp\"\n        android:text=\"@string/button_sign_in\"\n        android:textColor=\"@color/colorWhite\"\n        android:textSize=\"24sp\"\n        android:onClick=\"@{loginViewModel::onLoginButtonClick}\"\n        app:layout_constraintLeft_toLeftOf=\"@+id/login_username\"\n        app:layout_constraintRight_toRightOf=\"@+id/login_username\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_password\" /&gt;\n.\n.\n.\n.\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>MainViewModel.kt</strong></p>\n\n<pre><code>class MainViewModel @Inject constructor(\n    private val loginRepository: LoginRepository\n) : BaseViewModel() {\n\n\n     fun onLoginButtonClick(view : View){\n\n        performLogin()\n    }\n       .\n       .\n       .\n}\n</code></pre>\n\n<p><strong>LoginActivity.kt</strong></p>\n\n<pre><code>class LoginActivity : AppBaseActivity() {\n\n    private lateinit var loginViewBinding: ActivityLoginBinding\n    private lateinit var viewModel: MainViewModel\n    private val TAG = LoginActivity::class.simpleName\n\n    override fun initViewModel(viewModelProvider: ViewModelProvider): BaseViewModel? {\n        viewModel = viewModelProvider.get(MainViewModel::class.java)\n        return viewModel\n    }\n\n    override fun render(state: ViewState) {\n        when (state) {\n            is LoadingState -&gt; {\n                // loading\n                val loading = state.loading\n                Log.d(TAG,\"Loading State\")\n            }\n            is DefaultState -&gt; {\n                // render Data\n                val data = state.data\n                Log.d(TAG,\"Data State\")\n            }\n            is ErrorState -&gt; {\n                // show error\n                val error = state.error\n                Log.d(TAG,\"Loading State\")\n            }\n        }\n    }\n\n    override fun setContentView() {\n        loginViewBinding = DataBindingUtil.setContentView(this, R.layout.activity_login)\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        loginViewBinding.loginViewModel = viewModel\n        loginViewBinding.executePendingBindings()\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541514443, "post_id": 53170914, "comment_id": 93237525, "body": "Here&#39;s how I modified my code <a href=\"https://pastebin.com/MnRs9mZV\" rel=\"nofollow noreferrer\">pastebin.com/MnRs9mZV</a> but this causes the app to just crash altogether. Am I doing it right?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541514665, "post_id": 53170914, "comment_id": 93237674, "body": "If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question or as a commnet and indicate the exact line at which it occurs."}, {"owner": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541521773, "post_id": 53170914, "comment_id": 93241952, "body": "I rechecked. The while loop inside the &#39;startQuiz()&#39; function seems to execute an infinite number of times. Any idea why that could be occurring?"}, {"owner": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541575612, "post_id": 53170914, "comment_id": 93259592, "body": "Alex, I solved the issue for the loop executing an infinite number of times but now the app crashes as soon as I reach the end of the array. I&#39;ve added a condition for the last attempt done but that doesn&#39;t seem to work. Could you please point me in the right direction? Here&#39;s the code <a href=\"https://pastebin.com/bDkqLaXY\" rel=\"nofollow noreferrer\">pastebin.com/bDkqLaXY</a>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541588577, "post_id": 53170914, "comment_id": 93265484, "body": "The fact that you get another error, it means that the initial error disappeared and this are good news :) but this sounds as a new issue which basically should be considered another question that cannot be answered in a comment or using only the data above. As a personal guess, I think that might be a NPE but in order to follow the rules of this comunity, please post another fresh question using a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so me and other users can help you."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541588611, "post_id": 53170914, "comment_id": 93265495, "body": "If you think that my answer helped you for the initial issue, please consider accepting it by clicking the checkmark (\u2714\ufe0f) on the left side under the vote arrows. Should change the color in green. I&#39;d appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1541503423, "creation_date": 1541503423, "answer_id": 53170914, "question_id": 53170715, "link": "https://stackoverflow.com/questions/53170715/arraylist-size-is-zero/53170914#53170914", "title": "ArrayList size is zero", "body": "<p>Firebase APIs are <code>asynchronous</code>, meaning that <code>onDataChange()</code> function returns immediately after it's invoked and the callback from the <code>Task</code> it returns, will be called some time later. There are no guarantees about how long it will take. So it may take from a few hundred milliseconds to a few seconds before that data is available. Because that method returns immediately, your <code>quizArray</code> ArrayList you're trying to use outside this method, will always be empty because since the data hasn't finished loading yet.</p>\n\n<p>Basically, you're trying to use a value synchronously from an API that's asynchronous. That's not a good idea. You should handle the APIs asynchronously as intended.</p>\n\n<p>A quick solve for this problem would be to use the value of the ArrayList <strong>only</strong> inside the callback. If you want to use it outside, I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin/51595202\">post</a></strong> in which I have explained how it can be done using a custom callback.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "edited": false, "score": 0, "creation_date": 1541513466, "post_id": 53171081, "comment_id": 93236962, "body": "I tried your answer but doing so results in the app becoming non-responsive and getting a popup that says &#39;App isn&#39;t responding. Do you want to close it?&#39;"}], "tags": [], "owner": {"reputation": 208, "user_id": 7836336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-OmolpOrdcUY/AAAAAAAAAAI/AAAAAAAAAis/HrWWkbF7ufw/photo.jpg?sz=128", "display_name": "Sarthak Grover", "link": "https://stackoverflow.com/users/7836336/sarthak-grover"}, "is_accepted": false, "score": 0, "last_activity_date": 1541504056, "creation_date": 1541504056, "answer_id": 53171081, "question_id": 53170715, "link": "https://stackoverflow.com/questions/53170715/arraylist-size-is-zero/53171081#53171081", "title": "ArrayList size is zero", "body": "<p>As pointed out by Alex Mamo, you are trying to access the array synchronously while the function that populates the array is an asynchronous one.</p>\n\n<p>Try calling the startQuiz() function inside the onDataChange() method. Somewhat like this:</p>\n\n<pre><code>var valueEventListener: ValueEventListener = object : ValueEventListener {\n    override fun onCancelled(p0: DatabaseError) {\n\n    }\n\n    override fun onDataChange(p0: DataSnapshot) {\n\n        var contentSnapshot: DataSnapshot = p0\n        var contentChildren: Iterable&lt;DataSnapshot&gt; = contentSnapshot.children\n\n        for (content: DataSnapshot in contentChildren){\n\n            var quizItem: QuizItem = content.getValue(QuizItem::class.java)!!\n            Log.d(\"\\n Received Data\", \"data: statement = \"+quizItem.statement\n                    +\" id = \"+quizItem.id\n                    +\" correctOption = \"+quizItem.correctOption\n                    +\" optionA\"+quizItem.optionA\n                    +\" optionB\"+quizItem.optionB\n                    +\" optionC\"+quizItem.optionC\n                    +\" optionD\"+quizItem.optionD\n                    +\" \\n \")\n\n            quizArray.add(quizItem)\n            Toast.makeText(applicationContext, \"Item added for ID = \"+quizItem.id, Toast.LENGTH_SHORT).show()\n\n        }\n\n        print(quizArray)\n        progress.dismiss()\n\n        // call the startQuiz function here\n        startQuiz()\n\n        Log.d(\"Data Received\", \"this@QuizActivity\")\n\n        Log.d(\"Progress Bar\", \"this@QuizActivity Progress Bar Dismissed\")\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10612764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KbyiXQiyRAM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAOnjFPhB6LUkS3bFjHuMsJGDURsA/mo/photo.jpg?sz=128", "display_name": "Sanchit Kalra", "link": "https://stackoverflow.com/users/10612764/sanchit-kalra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 53170914, "answer_count": 2, "score": 0, "last_activity_date": 1541504056, "creation_date": 1541502725, "question_id": 53170715, "link": "https://stackoverflow.com/questions/53170715/arraylist-size-is-zero", "title": "ArrayList size is zero", "body": "<p>Hey I was trying to code a simple quiz in Android(Kotlin) and the array seems to be empty when I try to use it. I'm getting the Data from Firebase Database and it gets logged in the LogCat but when I try to get the size of the array it says 0.</p>\n\n<p>Any guidance on what should I do?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import android.app.ProgressDialog\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Toast\nimport com.google.firebase.database.*\nimport kotlinx.android.synthetic.main.activity_quiz.*\n\nclass QuizActivity : AppCompatActivity() {\n\nvar quizArray: ArrayList&lt;QuizItem&gt; = ArrayList()\n\nprivate var database: FirebaseDatabase? = null\nprivate var databaseReference: DatabaseReference? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_quiz)\n\n    database = FirebaseDatabase.getInstance()\n    databaseReference = database!!.getReference(\"quiz\")\n\n    var dbRef = databaseReference!!.child(\"mod1\")\n\n    val progress = ProgressDialog(this)\n    progress.setMessage(\"Loading\")\n    progress.isIndeterminate\n\n    var valueEventListener: ValueEventListener = object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n\n            var contentSnapshot: DataSnapshot = p0\n            var contentChildren: Iterable&lt;DataSnapshot&gt; = contentSnapshot.children\n\n            for (content: DataSnapshot in contentChildren){\n\n                var quizItem: QuizItem = content.getValue(QuizItem::class.java)!!\n                Log.d(\"\\n Received Data\", \"data: statement = \"+quizItem.statement\n                        +\" id = \"+quizItem.id\n                        +\" correctOption = \"+quizItem.correctOption\n                        +\" optionA\"+quizItem.optionA\n                        +\" optionB\"+quizItem.optionB\n                        +\" optionC\"+quizItem.optionC\n                        +\" optionD\"+quizItem.optionD\n                        +\" \\n \")\n\n                quizArray.add(quizItem)\n                Toast.makeText(applicationContext, \"Item added for ID = \"+quizItem.id, Toast.LENGTH_SHORT).show()\n\n            }\n\n            print(quizArray)\n            progress.dismiss()\n            Log.d(\"Data Received\", \"this@QuizActivity\")\n\n            Log.d(\"Progress Bar\", \"this@QuizActivity Progress Bar Dismissed\")\n\n        }\n\n    }\n\n    dbRef!!.addValueEventListener(valueEventListener)\n    progress.show()\n    Log.d(\"Progress Bar\", \"this@QuizActivity Progress Bar Sent\")\n\n    Toast.makeText(applicationContext, \"Array Size = \"+quizArray.size, Toast.LENGTH_SHORT).show()\n\n    startQuiz()\n\n}\n\nprivate fun startQuiz(){\n\n    var total: Int = quizArray.size\n    Toast.makeText(applicationContext, total.toString(), Toast.LENGTH_SHORT).show()\n    var correct: Int = 0\n    var incorrect: Int = 0\n    var done: Int = 0\n\n    tv_quiz_total.text = total.toString()\n    tv_quiz_correct.text = correct.toString()\n    tv_quiz_incorrect.text = incorrect.toString()\n    tv_quiz_done.text = done.toString()\n\n    var i = 0\n\n    while (i&lt;total){\n\n        tv_quiz_statement.text = quizArray[i].statement\n        tv_quiz_opA.text = quizArray[i].optionA\n        tv_quiz_opB.text = quizArray[i].optionB\n        tv_quiz_opC.text = quizArray[i].optionC\n        tv_quiz_opD.text = quizArray[i].optionD\n\n        tv_quiz_opA.setOnClickListener {\n            if (quizArray[i].correctOption == 1){\n                correct++\n                done++\n                tv_quiz_correct.text = correct.toString()\n                tv_quiz_done.text = done.toString()\n                i++\n            } else {\n                incorrect++\n                done++\n                i++\n                tv_quiz_incorrect.text = incorrect.toString()\n            }\n        }\n\n        tv_quiz_opB.setOnClickListener {\n            if (quizArray[i].correctOption == 2){\n                correct++\n                done++\n                tv_quiz_correct.text = correct.toString()\n                tv_quiz_done.text = done.toString()\n                i++\n            } else {\n                incorrect++\n                done++\n                i++\n                tv_quiz_incorrect.text = incorrect.toString()\n            }\n        }\n\n        tv_quiz_opC.setOnClickListener {\n            if (quizArray[i].correctOption == 3){\n                correct++\n                done++\n                tv_quiz_correct.text = correct.toString()\n                tv_quiz_done.text = done.toString()\n                i++\n            } else {\n                incorrect++\n                done++\n                i++\n                tv_quiz_incorrect.text = incorrect.toString()\n            }\n        }\n\n        tv_quiz_opD.setOnClickListener {\n            if (quizArray[i].correctOption == 4){\n                correct++\n                done++\n                tv_quiz_correct.text = correct.toString()\n                tv_quiz_done.text = done.toString()\n                i++\n            } else {\n                incorrect++\n                done++\n                i++\n                tv_quiz_incorrect.text = incorrect.toString()\n            }\n        }\n\n    }\n\n}\n\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541502743, "post_id": 53170648, "comment_id": 93231151, "body": "But you need the class to get the property..."}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541504626, "post_id": 53170648, "comment_id": 93232074, "body": "in  this case  i want get DfBankCard.class or DfBankCard KClass, i  got the  Kproperty now"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541504791, "post_id": 53170648, "comment_id": 93232156, "body": "You are using it already... <code>testClass(DfBankCard::accountType)</code>"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541505091, "post_id": 53170648, "comment_id": 93232299, "body": "is any method can get DfBankCard.class from  claz: KProperty&lt;*&gt;(this parameter)"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541505207, "post_id": 53170648, "comment_id": 93232358, "body": "I may not say clearly  my English is poor"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541505362, "post_id": 53170648, "comment_id": 93232432, "body": "No, there&#39;s no method to get class from property. Your question is clear, but you don&#39;t seem to understand what I&#39;m trying to say. You need the class <code>DfBankCard</code> to get the property <code>accountType</code>, so just pass the class <code>DfBankCard</code> to the function <code>testClass</code>."}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541510218, "post_id": 53170648, "comment_id": 93235014, "body": "yeah  i know But this is not elegant enough"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541510701, "post_id": 53170648, "comment_id": 93235331, "body": "anyway  thank you very much This is my first question on Stack Overflow"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541510731, "post_id": 53170648, "comment_id": 93235351, "body": "Check the question marked as duplicate, they have an answer"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541511168, "post_id": 53170648, "comment_id": 93235619, "body": "<code>marked as duplicate by yole java 1 hour ago</code> it seem already marked  as duplicate"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541511206, "post_id": 53170648, "comment_id": 93235642, "body": "i don&#39;t found the check button"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541511418, "post_id": 53170648, "comment_id": 93235783, "body": "See at the top: This question already has an answer here:  Check type of member/property 1 answer, that answers your question."}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541511711, "post_id": 53170648, "comment_id": 93235980, "body": "oh  thanks  i checked ,  but  that didn&#39;t help"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541512173, "post_id": 53170648, "comment_id": 93236231, "body": "Yes, you&#39;re right, this is not a duplicate, I&#39;m voting to reopen, you can do the same. Maybe someone else can give you a solution :)"}, {"owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541563262, "post_id": 53170648, "comment_id": 93256755, "body": "i can&#39;t vote my question"}], "owner": {"reputation": 9, "user_id": 10612721, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WOAYv3lg1MY/AAAAAAAAAAI/AAAAAAAAACE/3NasgJrqBp0/photo.jpg?sz=128", "display_name": "\u6768\u96e8\u7ff0", "link": "https://stackoverflow.com/users/10612721/%e6%9d%a8%e9%9b%a8%e7%bf%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "closed_date": 1541506199, "answer_count": 0, "score": 1, "last_activity_date": 1541510442, "creation_date": 1541502485, "last_edit_date": 1541510442, "question_id": 53170648, "link": "https://stackoverflow.com/questions/53170648/how-to-get-kclass-from-kproperty", "closed_reason": "Duplicate", "title": "How to get KClass from Kproperty?", "body": "<pre><code>fun testClass(claz: KProperty&lt;*&gt;) {\n    print(claz::class)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    testClass(DfBankCard::accountType)\n}\n</code></pre>\n\n<p>I don't know where the <code>Kproperty</code> from \nI want to get the properties's Holder  class not properties's type ,in this case The result I want is    DfBankCard.class   </p>\n"}, {"tags": ["android", "kotlin", "multipartform-data"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541504995, "post_id": 53170549, "comment_id": 93232255, "body": "Is there a reason why you are not using an HTTP library (e.g. Fuel) instead?"}, {"owner": {"reputation": 51, "user_id": 10612578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1328998be99d2eebf854ac65bf28bf?s=128&d=identicon&r=PG", "display_name": "Peter Skopal", "link": "https://stackoverflow.com/users/10612578/peter-skopal"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1541505188, "post_id": 53170549, "comment_id": 93232350, "body": "@m0skit0 Apart from making the application safe, the api I&#39;m using (taggun) is requiring https connections."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1541505662, "post_id": 53170549, "comment_id": 93232559, "body": "Making the app safe? What do you mean? Using a library does not make your app less safe (most likely even the opposite unless you&#39;re a security expert). Most if not all HTTP libraries support HTTPS out of the box."}, {"owner": {"reputation": 51, "user_id": 10612578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1328998be99d2eebf854ac65bf28bf?s=128&d=identicon&r=PG", "display_name": "Peter Skopal", "link": "https://stackoverflow.com/users/10612578/peter-skopal"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541506139, "post_id": 53170549, "comment_id": 93232801, "body": "@m0skit0 Oh, sorry, didn&#39;t know Fuel had support for HTTPS, which I btw meant with &#39;safe&#39;. I&#39;ll look into it and try solving it that way."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1541507043, "post_id": 53170549, "comment_id": 93233249, "body": "You can see <a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">here</a> most examples actually use HTTPS :) IMO it is always better to use these libraries because these folks most likely already solved the same problems you&#39;re facing, unless ofc you want to dig into HTTP by yourself, that&#39;s why I asked if you had any specific reason for not using more advanced libraries :)"}, {"owner": {"reputation": 51, "user_id": 10612578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1328998be99d2eebf854ac65bf28bf?s=128&d=identicon&r=PG", "display_name": "Peter Skopal", "link": "https://stackoverflow.com/users/10612578/peter-skopal"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541507792, "post_id": 53170549, "comment_id": 93233664, "body": "@m0skit0 All right :) Thanks for your advice, I&#39;ll post a solution here later on."}], "answers": [{"comments": [{"owner": {"reputation": 564, "user_id": 4948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJddy.jpg?s=128&g=1", "display_name": "Ryan Godlonton-Shaw", "link": "https://stackoverflow.com/users/4948827/ryan-godlonton-shaw"}, "edited": false, "score": 0, "creation_date": 1553765983, "post_id": 53204411, "comment_id": 97509021, "body": "Thank you!! This is just what I am looking for."}], "tags": [], "owner": {"reputation": 51, "user_id": 10612578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1328998be99d2eebf854ac65bf28bf?s=128&d=identicon&r=PG", "display_name": "Peter Skopal", "link": "https://stackoverflow.com/users/10612578/peter-skopal"}, "is_accepted": false, "score": 2, "last_activity_date": 1541667733, "creation_date": 1541667733, "answer_id": 53204411, "question_id": 53170549, "link": "https://stackoverflow.com/questions/53170549/kotlin-multipart-requests-on-android/53204411#53204411", "title": "Kotlin Multipart Requests on Android", "body": "<p>Usage of a third-party library solved my problem:</p>\n\n<pre><code>Fuel.upload(path = baseUrl, method = Method.POST)\n            .header(TaggunConstants.taggunHeader(taggunApiKey))\n            .dataParts { _, _ -&gt; listOf(DataPart(file, \"file\", \"image/jpeg\")) }\n            .responseJson { _, _, result -&gt;\n                result.fold(\n                        success = { data -&gt;\n                            cb(gson.fromJson(data.content, Receipt::class.java))\n                        },\n                        failure = { error -&gt;\n                            println(\"An error of type ${error.exception} happened: ${error.message}\")\n                            cb(null)\n                        }\n                )\n            }\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10612578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1328998be99d2eebf854ac65bf28bf?s=128&d=identicon&r=PG", "display_name": "Peter Skopal", "link": "https://stackoverflow.com/users/10612578/peter-skopal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2498, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541667733, "creation_date": 1541502023, "last_edit_date": 1541505095, "question_id": 53170549, "link": "https://stackoverflow.com/questions/53170549/kotlin-multipart-requests-on-android", "title": "Kotlin Multipart Requests on Android", "body": "<p>I would really appreciate some help with the problem I'm facing.</p>\n\n<p>I'm trying to post an image to a <a href=\"https://www.taggun.io/\" rel=\"nofollow noreferrer\">receipt parsing API</a> and have problems constructing the actual request.</p>\n\n<p>I have read and used much of the code from <a href=\"https://medium.com/@Tarek360/upload-file-via-multipart-post-method-in-kotlin-d43d3f025670\" rel=\"nofollow noreferrer\">this article</a> written by tarek on Medium to create a MultiPart class (with https) like the following:</p>\n\n<p><em>Multipart.kt</em></p>\n\n<pre><code>package com.example.skopal.foodme.services\n\nimport java.io.BufferedReader\nimport java.io.File\nimport java.io.FileInputStream\nimport java.io.IOException\nimport java.io.InputStreamReader\nimport java.io.OutputStream\nimport java.io.OutputStreamWriter\nimport java.io.PrintWriter\nimport java.net.URL\nimport javax.net.ssl.HttpsURLConnection\n\nclass Multipart\n/**\n * This constructor initializes a new HTTPS POST request with content type\n * is set to multipart/form-data\n * @param url\n * *\n * @throws IOException\n */\n@Throws(IOException::class)\nconstructor(url: URL) {\n\n    companion object {\n        private val LINE_FEED = \"\\r\\n\"\n        private val maxBufferSize = 1024 * 1024\n        private val charset = \"UTF-8\"\n    }\n\n    // creates a unique boundary based on time stamp\n    private val boundary: String = \"===\" + System.currentTimeMillis() + \"===\"\n    private val httpsConnection: HttpsURLConnection = url.openConnection() as HttpsURLConnection\n    private val outputStream: OutputStream\n    private val writer: PrintWriter\n\n    init {\n\n        httpsConnection.setRequestProperty(\"Accept-Charset\", \"UTF-8\")\n        httpsConnection.setRequestProperty(\"Connection\", \"Keep-Alive\")\n        httpsConnection.setRequestProperty(\"Cache-Control\", \"no-cache\")\n        httpsConnection.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary)\n        httpsConnection.setChunkedStreamingMode(maxBufferSize)\n        httpsConnection.doInput = true\n        httpsConnection.doOutput = true    // indicates POST method\n        httpsConnection.useCaches = false\n        outputStream = httpsConnection.outputStream\n        writer = PrintWriter(OutputStreamWriter(outputStream, charset), true)\n    }\n\n    /**\n     * Adds a upload file section to the request\n     * @param fieldName  - name attribute in &lt;input type=\"file\" name=\"...\"&gt;&lt;/input&gt;\n     * *\n     * @param uploadFile - a File to be uploaded\n     * *\n     * @throws IOException\n     */\n    @Throws(IOException::class)\n    fun addFilePart(fieldName: String, uploadFile: File, fileName: String, fileType: String) {\n        writer.append(\"--\").append(boundary).append(LINE_FEED)\n        writer.append(\"Content-Disposition: file; name=\\\"\").append(fieldName)\n            .append(\"\\\"; filename=\\\"\").append(fileName).append(\"\\\"\").append(LINE_FEED)\n        writer.append(\"Content-Type: \").append(fileType).append(LINE_FEED)\n        writer.append(LINE_FEED)\n        writer.flush()\n\n        val inputStream = FileInputStream(uploadFile)\n        inputStream.copyTo(outputStream, maxBufferSize)\n\n        outputStream.flush()\n        inputStream.close()\n        writer.append(LINE_FEED)\n        writer.flush()\n    }\n\n    /**\n     * Adds a header field to the request.\n     * @param name  - name of the header field\n     * *\n     * @param value - value of the header field\n     */\n    fun addHeaderField(name: String, value: String) {\n        writer.append(\"$name: $value\").append(LINE_FEED)\n        writer.flush()\n    }\n\n    /**\n     * Upload the file and receive a response from the server.\n     * @param onSuccess\n     * *\n     * @param onFailure\n     * *\n     * @throws IOException\n     */\n    @Throws(IOException::class)\n    fun upload(onSuccess: (String) -&gt; Unit, onFailure: ((Int) -&gt; Unit)? = null) {\n        writer.append(LINE_FEED).flush()\n        writer.append(\"--\").append(boundary).append(\"--\")\n                .append(LINE_FEED)\n        writer.close()\n\n        try {\n            // checks server's status code first\n            val status = httpsConnection.responseCode\n            if (status == HttpsURLConnection.HTTP_OK) {\n                val reader = BufferedReader(InputStreamReader(httpsConnection.inputStream))\n                val response = reader.use(BufferedReader::readText)\n                httpsConnection.disconnect()\n                onSuccess(response)\n            } else {\n                onFailure?.invoke(status)\n            }\n\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>And I'm calling the above class from:</p>\n\n<p><em>ReceiptRecognitionApi.kt</em></p>\n\n<pre><code>fun parseReceipt(file: File, cb: (String) -&gt; Unit) {\n    println(\"parseReceipt_1\")\n\n    Thread {\n        val multipartReq = Multipart(URL(baseUrl))\n        multipartReq.addHeaderField(\"apikey\", taggunApiKey)\n        multipartReq.addHeaderField(\"Accept\", \"application/json\")\n\n        multipartReq.addFilePart(\"file\", file, \"receipt.jpg\", \"image/jpeg\")\n\n        multipartReq.upload(\n                onSuccess = { response: String -&gt;\n                    cb(response)\n                },\n                onFailure = { responseCode: Int -&gt;\n                    cb(\"$responseCode\")\n                })\n\n    }.start()\n}\n</code></pre>\n\n<p>The problem is that after initialisation of a Multipart object, I cannot append any headers or data to it. E.g. if the two <code>addHeaderField</code>-calls within the <code>parseReceipt</code>-function call is moved to the <code>init</code>-block in <em>Multipart.kt</em>, the headers are in the request, but otherwise not.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541500569, "post_id": 53170078, "comment_id": 93230036, "body": "Try this: <code>NavHostFragment.findNavController(this).navigate(your_fragme&zwnj;&#8203;nt_id)</code> instead of your action ID."}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541500800, "post_id": 53170078, "comment_id": 93230159, "body": "I update my question"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541500937, "post_id": 53170078, "comment_id": 93230229, "body": "It&#39;s done automatically, You don&#39;t have to add or replace, you just have to navigate using their Ids and instead of FrameLayout, you have NavHostFragment in your activity"}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541505013, "post_id": 53170078, "comment_id": 93232263, "body": "I tried it didn&#39;t work"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541505064, "post_id": 53170078, "comment_id": 93232283, "body": "Okay what is the actual requirement of yours?"}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541505065, "post_id": 53170078, "comment_id": 93232285, "body": "the new fragment add, and when back button clicked previews fragment load(new instance of first fragment load - reiniialize)"}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541505110, "post_id": 53170078, "comment_id": 93232308, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/183184/discussion-between-mohammad-hadi-and-umang-ssurman\">continue this discussion in chat</a>."}, {"owner": {"reputation": 7305, "user_id": 1268507, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/pW5el.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1268507/alex"}, "edited": false, "score": 1, "creation_date": 1543503416, "post_id": 53170078, "comment_id": 93950399, "body": "The navigation component using replace method, you cannot change it."}, {"owner": {"reputation": 332, "user_id": 6786950, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6fa95f0b2b2a601db0f7ed8cebddcfb6?s=128&d=identicon&r=PG&f=1", "display_name": "chari sharma", "link": "https://stackoverflow.com/users/6786950/chari-sharma"}, "edited": false, "score": 3, "creation_date": 1556877851, "post_id": 53170078, "comment_id": 98585893, "body": "how we can stop reload fragment after back press?"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "reply_to_user": {"reputation": 332, "user_id": 6786950, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6fa95f0b2b2a601db0f7ed8cebddcfb6?s=128&d=identicon&r=PG&f=1", "display_name": "chari sharma", "link": "https://stackoverflow.com/users/6786950/chari-sharma"}, "edited": false, "score": 1, "creation_date": 1567063239, "post_id": 53170078, "comment_id": 101852560, "body": "@charisharma you can&#39;t do that currently navigation component using replace method."}], "answers": [{"comments": [{"owner": {"reputation": 2356, "user_id": 6138892, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/EzIOa.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/6138892/rahul"}, "edited": false, "score": 0, "creation_date": 1587731204, "post_id": 60829698, "comment_id": 108631487, "body": "May I know the source of this answer?? as I want to explore a bit more on it"}], "tags": [], "owner": {"reputation": 3863, "user_id": 1272303, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/VxLmR.png?s=128&g=1", "display_name": "MohammadReza", "link": "https://stackoverflow.com/users/1272303/mohammadreza"}, "is_accepted": false, "score": -1, "last_activity_date": 1585047615, "creation_date": 1585047615, "answer_id": 60829698, "question_id": 53170078, "link": "https://stackoverflow.com/questions/53170078/navigation-component-add-or-replace-fragments-or-other-things-like-hide-show-f/60829698#60829698", "title": "Navigation Component , add or replace fragments or other things like hide show fragments", "body": "<p>If you just use <code>findNavController().navigate(R.id.someDestinationId)</code> this kind of equals to <code>fragmentManager.add</code> but if you want the replace behavior and you don't want the user be able to press back and reload the previous activity you should do like this:</p>\n\n<pre><code>findNavController().navigate(R.id.homeFragment, null, NavOptions.Builder()\n                .setPopUpTo(R.id.loginFragment, true)\n                .build())\n</code></pre>\n\n<p>In this case I'm inside <strong>LoginFragment</strong> and I want to navigate to <strong>HomeFragment</strong> and I also would like to replace current fragment so the user won't be able to press back and load the <strong>LoginFragment</strong> again</p>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 8956093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pi7hshWLXYA/AAAAAAAAAAI/AAAAAAAAAOU/z_lOOlpN960/photo.jpg?sz=128", "display_name": "Ramakrishna Joshi", "link": "https://stackoverflow.com/users/8956093/ramakrishna-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1594398007, "creation_date": 1594398007, "answer_id": 62838413, "question_id": 53170078, "link": "https://stackoverflow.com/questions/53170078/navigation-component-add-or-replace-fragments-or-other-things-like-hide-show-f/62838413#62838413", "title": "Navigation Component , add or replace fragments or other things like hide show fragments", "body": "<p>Jetpack Navigation Component supports replacing fragments as of now.</p>\n<p><strong>There is no support for adding fragments</strong>.</p>\n<p>Workaround to retain api data in fragment when back button is pressed is to either save the data (Fragment viewstate) in a ViewModel and make a check in onViewCreated() or to use Full Screen DialogFragments. For dialog fragment check this <a href=\"https://gist.github.com/utkukutlu/bd2e37253e7184179d923321e3ea72c1\" rel=\"nofollow noreferrer\">https://gist.github.com/utkukutlu/bd2e37253e7184179d923321e3ea72c1</a></p>\n"}], "owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3920, "favorite_count": 4, "answer_count": 2, "score": 6, "last_activity_date": 1594398007, "creation_date": 1541500297, "last_edit_date": 1541500792, "question_id": 53170078, "link": "https://stackoverflow.com/questions/53170078/navigation-component-add-or-replace-fragments-or-other-things-like-hide-show-f", "title": "Navigation Component , add or replace fragments or other things like hide show fragments", "body": "<p>how can we specify replace or add fragment in Navigation component?</p>\n\n<pre><code>NavHostFragment.findNavController(this).navigate(R.id.action_splashFragment_to_categoriesFragment)\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "code-inspection", "intellij-inspections"], "comments": [{"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1541502839, "post_id": 53169750, "comment_id": 93231199, "body": "Have you tried to add the <code>DataProvider</code> annotation in File | Settings | Editor | Inspections Kotlin | Redundant constructs | Unused symbol -&gt; | <b>Annotations...</b>?"}, {"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "reply_to_user": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1541507430, "post_id": 53169750, "comment_id": 93233462, "body": "@Andrey Thanks for the hint, but no, this didn&#39;t help. I&#39;ve found a workaround though -- see my own <a href=\"https://stackoverflow.com/a/53171928/1343979\">answer</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "edited": false, "score": 0, "creation_date": 1541506985, "post_id": 53171494, "comment_id": 93233212, "body": "Thanks. That sounds like using a sledgehammer to crack a nut though."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1541505670, "creation_date": 1541505670, "answer_id": 53171494, "question_id": 53169750, "link": "https://stackoverflow.com/questions/53169750/suppressing-warnings-about-an-unused-kotlin-property-in-idea/53171494#53171494", "title": "Suppressing warnings about an unused Kotlin property in IDEA", "body": "<p>Add this on top of the declaration of the <code>parameters</code> property: <code>@Suppress(\"unused\")</code></p>\n\n<p>You might need to re-compile the project to get IntelliJ to stop highlighting it as an unused property.</p>\n"}, {"tags": [], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "is_accepted": true, "score": 0, "last_activity_date": 1541509646, "last_edit_date": 1541509646, "creation_date": 1541507354, "answer_id": 53171928, "question_id": 53169750, "link": "https://stackoverflow.com/questions/53169750/suppressing-warnings-about-an-unused-kotlin-property-in-idea/53171928#53171928", "title": "Suppressing warnings about an unused Kotlin property in IDEA", "body": "<p>There turned out to be a workaround. Rewriting the annotation like this:</p>\n\n<pre><code>@get:DataProvider\nval parameters: Array&lt;Array&lt;Any&gt;&gt;\n</code></pre>\n\n<p>makes <em>IDEA</em> treat the property as an entry point.</p>\n\n<p>The corresponding ticket is <a href=\"https://youtrack.jetbrains.com/issue/KT-28031\" rel=\"nofollow noreferrer\"><code>KT-28031</code></a>.</p>\n"}], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 53171928, "answer_count": 2, "score": 0, "last_activity_date": 1541509646, "creation_date": 1541499015, "question_id": 53169750, "link": "https://stackoverflow.com/questions/53169750/suppressing-warnings-about-an-unused-kotlin-property-in-idea", "title": "Suppressing warnings about an unused Kotlin property in IDEA", "body": "<p>Consider I have a parameterized <em>TestNG</em> test:</p>\n\n<pre><code>val parameters: Array&lt;Array&lt;Any&gt;&gt;\n    @DataProvider\n    get() {\n        val parameters = arrayListOf&lt;Array&lt;Any&gt;&gt;()\n        // ...\n        return parameters.toTypedArray()\n    }\n\n@Test(dataProvider = \"getParameters\")\nfun test(p1: Any, pN: Any) {\n    // ...\n}\n</code></pre>\n\n<p>How do I stop <em>IDEA</em> from complaining that the data provider property (<code>parameters</code> in our case) is unused? Annotating the property with <code>@get:SuppressWarnings(\"unused\")</code> is not helpful.</p>\n"}, {"tags": ["java", "kotlin", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 3725, "user_id": 2028066, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/U9hAY.jpg?s=128&g=1", "display_name": "MiguelMunoz", "link": "https://stackoverflow.com/users/2028066/miguelmunoz"}, "edited": false, "score": 0, "creation_date": 1596445646, "post_id": 53169355, "comment_id": 111803420, "body": "What libraries are available by default? I just want to get the current time. There must be some default libraries."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 10, "last_activity_date": 1541497618, "creation_date": 1541497618, "answer_id": 53169355, "question_id": 53169064, "link": "https://stackoverflow.com/questions/53169064/how-to-add-java-library-to-kotlin-native/53169355#53169355", "title": "How to add java library to kotlin native", "body": "<p>Kotlin/Native has no support for Java libraries. You need to use a multiplatform library (<a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"noreferrer\">kotlinx.serialization</a>) or a native library such as <a href=\"https://github.com/vincenthz/libjson\" rel=\"noreferrer\">libjson</a>.</p>\n"}], "owner": {"reputation": 141, "user_id": 7694893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093d4e619d5b90bfcd526a34ae9f96b0?s=128&d=identicon&r=PG&f=1", "display_name": "funbiscuit", "link": "https://stackoverflow.com/users/7694893/funbiscuit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2133, "favorite_count": 0, "accepted_answer_id": 53169355, "answer_count": 1, "score": 3, "last_activity_date": 1541497618, "creation_date": 1541496566, "question_id": 53169064, "link": "https://stackoverflow.com/questions/53169064/how-to-add-java-library-to-kotlin-native", "title": "How to add java library to kotlin native", "body": "<p>So I tried to create kotlin/native application using intellij (I selected template kotlin->kotlin/native in project creation). It created sample gradle hello world project. Which after downloading all dependencies compiles to exe file and runs normally. But now I need to include som libraries and I can't figure out how. For beginning I just want to include any jar library (for example jackson-core). This is how build.gradle file looks like:</p>\n\n<pre><code>plugins {\n    id 'kotlin-multiplatform' version '1.3.0'\n}\nrepositories {\n    mavenCentral()\n}\n\nkotlin {\n    targets {\n        // For ARM, preset should be changed to presets.iosArm32 or presets.iosArm64\n        // For Linux, preset should be changed to e.g. presets.linuxX64\n        // For MacOS, preset should be changed to e.g. presets.macosX64\n        fromPreset(presets.mingwX64, 'mingw')\n\n        configure([mingw]) {\n            // Comment to generate Kotlin/Native library (KLIB) instead of executable file:\n            compilations.main.outputKinds('EXECUTABLE')\n            // Change to specify fully qualified name of your application's entry point:\n            compilations.main.entryPoint = 'sample.main'\n        }\n    }\n    sourceSets {\n        // Note: To enable common source sets please comment out 'kotlin.import.noCommonSourceSets' property\n        // in gradle.properties file and re-import your project in IDE.\n\n        mingwMain {\n        }\n        mingwTest {\n        }\n    }\n}\n\n\ntask runProgram {\n    def buildType = 'release' // Change to 'debug' to run application with debug symbols.\n    dependsOn \"link${buildType.capitalize()}ExecutableMingw\"\n    doLast {\n        def programFile = kotlin.targets.mingw.compilations.main.getBinary('EXECUTABLE', buildType)\n        exec {\n            executable programFile\n            args ''\n        }\n    }\n}\n</code></pre>\n\n<p>I tried to add</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'lib', include: ['*.jar'])\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'lib', include: ['*.jar'])\n}\n</code></pre>\n\n<p>in every section and it doesn't help. I still can't import anything from jackson package and it doesn't show up in \"external libraries\" section of idea. I also tried specifying full name of lib and using something else instead of implementation or compile - still no result. What am I missing here?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "edited": false, "score": 0, "creation_date": 1541495125, "post_id": 53168681, "comment_id": 93227146, "body": "please refer <a href=\"https://stackoverflow.com/questions/34963949/kotlin-why-are-most-variables-underlined-in-android-studio-and-how-do-i-turn-th\" title=\"kotlin why are most variables underlined in android studio and how do i turn th\">stackoverflow.com/questions/34963949/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541495472, "post_id": 53168681, "comment_id": 93227314, "body": "To warn you that you might want to use a property delegate with <code>val</code> instead."}, {"owner": {"reputation": 627, "user_id": 7118110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzVRIJUYrOA/AAAAAAAAAAI/AAAAAAAACqY/z1BM7b5NG6U/photo.jpg?sz=128", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/7118110/deepak-kumar"}, "edited": false, "score": 1, "creation_date": 1541495577, "post_id": 53168681, "comment_id": 93227354, "body": "Just a suggestion you don&#39;t need so much of variables for EditText and RelativeLayout or any xml IDs you can easily access them using Kotlin Synthetic Properties."}, {"owner": {"reputation": 217, "user_id": 8194662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fe51254aec83558970d7197c88073c?s=128&d=identicon&r=PG&f=1", "display_name": "umesh shakya", "link": "https://stackoverflow.com/users/8194662/umesh-shakya"}, "edited": false, "score": 0, "creation_date": 1541496336, "post_id": 53168681, "comment_id": 93227690, "body": "this warring shows that these field can be private."}, {"owner": {"reputation": 217, "user_id": 8194662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fe51254aec83558970d7197c88073c?s=128&d=identicon&r=PG&f=1", "display_name": "umesh shakya", "link": "https://stackoverflow.com/users/8194662/umesh-shakya"}, "edited": false, "score": 0, "creation_date": 1541496372, "post_id": 53168681, "comment_id": 93227708, "body": "make them private warning will be remove."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "is_accepted": false, "score": 0, "last_activity_date": 1541495418, "creation_date": 1541495418, "answer_id": 53168770, "question_id": 53168681, "link": "https://stackoverflow.com/questions/53168681/what-does-these-under-line-means-in-kotlin/53168770#53168770", "title": "what does these under line means in kotlin?", "body": "<p>Probably you should use a private/protected modifier or change var to val because your variables is not modified. You should precise what warning you see when you move on that yellow lines. Your IDE will tell you what you should do ;)</p>\n"}], "owner": {"reputation": 1, "user_id": 8783417, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004762116099/picture?type=large", "display_name": "Mohib Raja", "link": "https://stackoverflow.com/users/8783417/mohib-raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541514724, "creation_date": 1541494985, "last_edit_date": 1541514724, "question_id": 53168681, "link": "https://stackoverflow.com/questions/53168681/what-does-these-under-line-means-in-kotlin", "title": "what does these under line means in kotlin?", "body": "<p>What are warnings in kotlin and how to remove them?</p>\n\n<p><img src=\"https://i.stack.imgur.com/BeWKO.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["android", "kotlin", "realm", "kapt"], "comments": [{"owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "edited": false, "score": 0, "creation_date": 1541493782, "post_id": 53168385, "comment_id": 93226641, "body": "This originates from an issue for the groupie library but I think it&#39;s not the library causing this. See <a href=\"https://github.com/lisawray/groupie/issues/218\" rel=\"nofollow noreferrer\">github.com/lisawray/groupie/issues/218</a>"}, {"owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "edited": false, "score": 0, "creation_date": 1541496958, "post_id": 53168385, "comment_id": 93227997, "body": "Turns out, I&#39;m using the gradle-plugins <code>kotlin-kapt</code> and <code>realm-android</code> and these two combined cause this. My demo-project (<a href=\"https://github.com/hardysim/bylazy-demo\" rel=\"nofollow noreferrer\">github.com/hardysim/bylazy-demo</a>) does not compile in the current state and starts working when you remove either kotlin-kapt or realm-android."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541512043, "post_id": 53168385, "comment_id": 93236151, "body": "Could be a bug in Javassist, tbh"}, {"owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541662490, "post_id": 53168385, "comment_id": 93294537, "body": "There&#39;s now a issue at the realm-repo as well: <a href=\"https://github.com/realm/realm-java/issues/6289\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/6289</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "edited": false, "score": 0, "creation_date": 1541662530, "post_id": 53189284, "comment_id": 93294557, "body": "Correct. I forgot to close this here. I was able to workaround this by specifying the type explicitly. Plus, it should be fixed in Kotlin 1.3.20."}], "tags": [], "owner": {"reputation": 19323, "user_id": 1389357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uy7DP.jpg?s=128&g=1", "display_name": "Christian Melchior", "link": "https://stackoverflow.com/users/1389357/christian-melchior"}, "is_accepted": true, "score": 2, "last_activity_date": 1541592890, "creation_date": 1541592890, "answer_id": 53189284, "question_id": 53168385, "link": "https://stackoverflow.com/questions/53168385/combining-by-lazy-and-object-results-in-compiler-error-cannot-find-symbol/53189284#53189284", "title": "Combining `by lazy` and `object` results in compiler-error &quot;cannot find symbol&quot;", "body": "<p>It looks like kapt is broken in Kotlin 1.3.0 for this particular kind of code. </p>\n\n<p>In the code above, it was the annotation processor registered by Realm that triggered it, but any other annotation processor would have resulted in the same error. </p>\n\n<p>The issue is being tracked here: <a href=\"https://youtrack.jetbrains.net/issue/KT-28053\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.net/issue/KT-28053</a></p>\n"}], "owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 53189284, "answer_count": 1, "score": 1, "last_activity_date": 1541592890, "creation_date": 1541493655, "last_edit_date": 1541497007, "question_id": 53168385, "link": "https://stackoverflow.com/questions/53168385/combining-by-lazy-and-object-results-in-compiler-error-cannot-find-symbol", "title": "Combining `by lazy` and `object` results in compiler-error &quot;cannot find symbol&quot;", "body": "<p>I cannot compile anymore after the update to Kotlin 1.3.0 (<strong>works in 1.2.71</strong>) when trying to use <code>by lazy</code> <strong>and</strong> <code>object</code>. This seems to happen only on my project. A demo-project is working fine.</p>\n\n<p>I want to add an interface to a given class and lazy-load its values.</p>\n\n<p>I've created a small example which is <em>not working in my project</em> but <em>working fine in any other</em>:</p>\n\n<pre><code>open class Foo\n\ninterface Bar {\n    val lazyLoadedString : String\n}\n\nclass Test {\n    private val foo by lazy {\n        object : Foo(), Bar {\n            override val lazyLoadedString  = \"Demo\"\n        }\n    }\n}\n</code></pre>\n\n<p>As soon as I combine <code>object</code> and <code>by lazy</code>, it cannot compile anymore and shows the following error. Using each one alone works.</p>\n\n<blockquote>\n  <p>Test.java:9: error: cannot find symbol<br>\n  private final my.package.Test$foo$2$1 getFoo()</p>\n  \n  <p>symbol: class Test$foo$2$1<br>\n  location: package my.package</p>\n</blockquote>\n\n<p>When looking closer, you'll see that <strong>the generated java file</strong> shows this error and not the kotlin-code.</p>\n\n<p>Any ideas on this?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1541496698, "post_id": 53168309, "comment_id": 93227860, "body": "i could not make it work with concatEager but i used concat instead. but when i put a print statement in onNext it only fired once."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1541497796, "post_id": 53168309, "comment_id": 93228423, "body": "Updated the answer, use <code>concatArrayEager</code>."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1541501810, "post_id": 53168309, "comment_id": 93230684, "body": "what i see happening now is that in the subscriber its printing the last results twice. so essentially its returning the final result twice. i want it to return observable1 results in onNext and then afterwards return the final results. have you executed this ? maybe im missing something and thanks for showing me about concatArrayEager"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1541504706, "post_id": 53168309, "comment_id": 93232112, "body": "How could I have executed it without knowing the definition of <code>observable1</code> and <code>observable2</code>, and possibly setting up the whole infrastructure and datasources behind them? Also your question said &quot;the subscribers onNext would be called <b>twice</b>&quot;; I interpreted this as you want the last item of <code>observable1</code> appear in the end output."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1541519969, "post_id": 53168309, "comment_id": 93240918, "body": "i put in bold that the observables have the same type. sorry for the misunderstanding"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 0, "last_activity_date": 1541497765, "last_edit_date": 1541497765, "creation_date": 1541493227, "answer_id": 53168309, "question_id": 53168189, "link": "https://stackoverflow.com/questions/53168189/rxjava2-how-to-emit-onnext-right-away-before-observable-sequence-completes/53168309#53168309", "title": "Rxjava2 - how to emit onNext() right away before observable sequence completes", "body": "<p>Publish it and concatenate in the last value!</p>\n\n<pre><code>observable1(productId)\n.publish( { shared -&gt;\n     Observable.concatArrayEager(\n         shared.flatMap({\n             val limit = 8 - it.size\n               observable2(productId,  limit)\n           }, { p1, p2 -&gt;\n               p1.addAll(p2);\n           }),\n         shared.takeLast(1)\n     )\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": false, "score": 0, "last_activity_date": 1541503858, "creation_date": 1541503858, "answer_id": 53171031, "question_id": 53168189, "link": "https://stackoverflow.com/questions/53168189/rxjava2-how-to-emit-onnext-right-away-before-observable-sequence-completes/53171031#53171031", "title": "Rxjava2 - how to emit onNext() right away before observable sequence completes", "body": "<p>i could not believe how easy it was. i used startWith and it emitted the results of the first observable. AFter a second the final results came through.   so it looks like this:</p>\n\n<pre><code>override fun getProductObservable(): Observable&lt;List&lt;ProductModel&gt;&gt; {\n\nreturn observable1(productId)\n               .flatMap({\n                 val limit = 8 - it.size\n                   observable2(productId,  limit)\n                    .startWith(Observable.just(emptyList&lt;ProductModel&gt;()))\n               }, { p1, p2 -&gt;\n                   p1.addAll(p2);  p1 //simply return observables1's results already packed with p2 results\n               })\n</code></pre>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541503858, "creation_date": 1541492666, "last_edit_date": 1541493224, "question_id": 53168189, "link": "https://stackoverflow.com/questions/53168189/rxjava2-how-to-emit-onnext-right-away-before-observable-sequence-completes", "title": "Rxjava2 - how to emit onNext() right away before observable sequence completes", "body": "<p>I have two observables that are chained together in a flatMap like this:</p>\n\n<pre><code> override fun getProductObservable(): Observable&lt;List&lt;ProductModel&gt;&gt; {\n\nreturn observable1(productId)\n               .flatMap({\n                 val limit = 8 - it.size\n                   observable2(productId,  limit)\n               }, { p1, p2 -&gt;\n                   p1.addAll(p2);  p1 //simply return observables1's results already packed with p2 results\n               })\n</code></pre>\n\n<p>notice how observable2 depends on a result from observable1 (limit argument).  <strong>BOTH OBSERVABLES RETURN THE SAME TYPE</strong></p>\n\n<p>Now onto my question, i would like observable1 once complete to immediately call onNext of the subscriber but still carry on to the flatmap.  Essentially, the subscribers onNext would be called twice is what i want; <em>once</em> when observable1 completes and t<em>hen again</em> when the entire  call completes.  How can this be arranged ?</p>\n"}, {"tags": ["kotlin", "okhttp", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "edited": false, "score": 1, "creation_date": 1541495029, "post_id": 53168236, "comment_id": 93227113, "body": "great thanks, don&#39;t know about it, but can you help me? where to add this for logging ktor http client requests/responses? install custom  KotlinLogging feature?"}, {"owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "reply_to_user": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "edited": false, "score": 1, "creation_date": 1541495485, "post_id": 53168236, "comment_id": 93227323, "body": "Dependend on the type of dependency manager you use, Gradle or Maven you can add the dependeacy to the <code>gradle.build</code> or <code>pom.xml</code> for maven"}, {"owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "reply_to_user": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "edited": false, "score": 1, "creation_date": 1541495799, "post_id": 53168236, "comment_id": 93227452, "body": "Or if you are not using any of that download the jar file from the github release page. You can log anything you want just initialize a private val logger on top of the file and put any message, variable or String template in the logger message."}, {"owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "reply_to_user": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "edited": false, "score": 1, "creation_date": 1541496964, "post_id": 53168236, "comment_id": 93228002, "body": "@Seko do you mind marking my question as the answer? So I will get credits and help the stackoverflow community."}, {"owner": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "edited": false, "score": 4, "creation_date": 1541502763, "post_id": 53168236, "comment_id": 93231162, "body": "sorry but it is not an answer - it is some kind of stub. For example in okhttp we got &quot;setting&quot; to log request with level, and I need something like this in ktor, but at least try to stub it with KotlinLogging. just wait for answers"}], "tags": [], "owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "is_accepted": false, "score": -3, "last_activity_date": 1541492888, "creation_date": 1541492888, "answer_id": 53168236, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client/53168236#53168236", "title": "How to log requests in ktor http client?", "body": "<p>Check out Kotlin Logging, <a href=\"https://github.com/MicroUtils/kotlin-logging\" rel=\"nofollow noreferrer\">https://github.com/MicroUtils/kotlin-logging</a> it isused by a lot of open source frameworks and takes care of all the prety printing.</p>\n\n<p>You can use it simply like this:</p>\n\n<pre><code> private val logger = KotlinLogging.logger {  }\n logger.info { \"MYLOGGER INFO\" }\n logger.warn { \"MYLOGGER WARNING\" }\n logger.error { \"MYLOGGER ERROR\" }\n</code></pre>\n\n<p>This will print the messages on the console. </p>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": false, "score": 1, "last_activity_date": 1541668115, "creation_date": 1541668115, "answer_id": 53204520, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client/53204520#53204520", "title": "How to log requests in ktor http client?", "body": "<p>It looks like we should handle the <code>response</code> in <code>HttpReceivePipeline</code>. We could clone the origin response and use it for logging purpose:</p>\n\n<pre><code>scope.receivePipeline.intercept(HttpReceivePipeline.Before) { response -&gt;\n    val (loggingContent, responseContent) = response.content.split(scope)\n\n    launch {\n        val callForLog = DelegatedCall(loggingContent, context, scope, shouldClose = false)\n        ....\n    }\n    ...\n}\n</code></pre>\n\n<p>The example implementation could be found here: <a href=\"https://github.com/ktorio/ktor/blob/00369bf3e41e91d366279fce57b8f4c97f927fd4/ktor-client/ktor-client-core/src/io/ktor/client/features/observer/ResponseObserver.kt\" rel=\"nofollow noreferrer\">https://github.com/ktorio/ktor/blob/00369bf3e41e91d366279fce57b8f4c97f927fd4/ktor-client/ktor-client-core/src/io/ktor/client/features/observer/ResponseObserver.kt</a>\n and would be available in next minor release as a client feature.</p>\n\n<p>btw: we could implement the same scheme for the request.</p>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 2502247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3ce835fa94d41ab0460bdb28f9605b0?s=128&d=identicon&r=PG", "display_name": "MariusVolkhart", "link": "https://stackoverflow.com/users/2502247/mariusvolkhart"}, "is_accepted": false, "score": 9, "last_activity_date": 1543837207, "creation_date": 1543837207, "answer_id": 53593093, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client/53593093#53593093", "title": "How to log requests in ktor http client?", "body": "<p>I ran into this as well. I switched to using the <a href=\"https://ktor.io/clients/http-client/engines.html#okhttp\" rel=\"noreferrer\">Ktor OkHttp client</a> as I'm familiar with the logging mechanism there.</p>\n\n<p>Update your <code>pom.xml</code> or <code>gradle.build</code> to include that client (copy/paste from the Ktor site) and also add the <a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"noreferrer\">OkHttp Logging Interceptor</a> (again, copy/paste from that site). Current version is <code>3.12.0</code>.</p>\n\n<p>Now configure the client with</p>\n\n<pre><code>val client = HttpClient(OkHttp) {\n    engine {\n        val loggingInterceptor = HttpLoggingInterceptor()\n        loggingInterceptor.level = Level.BODY\n        addInterceptor(loggingInterceptor)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574506822, "post_id": 58890489, "comment_id": 104262651, "body": "I tried adding this but I cant seem to see the request and response logs :("}, {"owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574592203, "post_id": 58890489, "comment_id": 104280097, "body": "@ArchieG.Qui&#241;ones ktor has quite poor error handling. For example, if you have to serialize a class for the request&#39;s <code>body</code> and you haven&#39;t provided a (correct) serializer for this class, then the request won&#39;t be sent and you won&#39;t see any logs. Perhaps you have configured something else wrong in your <code>HttpClient</code> but for me issues with the serializers were the most frequent reasons for not seeing any logs."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574599086, "post_id": 58890489, "comment_id": 104281659, "body": "I see. I am not using any serialization though. So that shouldn&#39;t be the case. I am trying to do this in android and the only way I was about to make the logging work is to use <code>OkHttp</code> as the engine for  <code>HttpClient</code> and add the <code>LoggingInterceptor</code> in the <code>OkHttp</code>. I wonder whether just adding the logging itself should have enabled the logging?"}, {"owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574603748, "post_id": 58890489, "comment_id": 104282814, "body": "@ArchieG.Qui&#241;ones Are you sure that your request is sent properly though? The above example works for me on Android without <code>OkHttp</code>. If there&#39;s any exception thrown in your <code>HttpClientConfig</code> block then the request won&#39;t be sent and you won&#39;t see any logs."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574604121, "post_id": 58890489, "comment_id": 104282910, "body": "The request is sent and i recieve a response. I just don&#39;t see the logs. maybe im doing it wrong. Do you have some simple project I could look at? I would really appreciate it."}, {"owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1574669134, "post_id": 58890489, "comment_id": 104299143, "body": "@ArchieG.Qui&#241;ones Well, in my project the setup is exactly like the &quot;bonus&quot; part of my answer and then I simply use the <code>client</code> instance like this: <code>client.get&lt;String&gt; { ... }</code>"}, {"owner": {"reputation": 792, "user_id": 5019847, "user_type": "registered", "profile_image": "https://graph.facebook.com/406205719582407/picture?type=large", "display_name": "Jeffrey Nyauke", "link": "https://stackoverflow.com/users/5019847/jeffrey-nyauke"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1594629767, "post_id": 58890489, "comment_id": 111181194, "body": "I am experiencing the same thing that @ArchieG.Qui&#241;ones is experiencing. I cant&#39; see the logs while making a request through Android."}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 792, "user_id": 5019847, "user_type": "registered", "profile_image": "https://graph.facebook.com/406205719582407/picture?type=large", "display_name": "Jeffrey Nyauke", "link": "https://stackoverflow.com/users/5019847/jeffrey-nyauke"}, "edited": false, "score": 0, "creation_date": 1594631110, "post_id": 58890489, "comment_id": 111181833, "body": "@JeffreyNyauke I eventually was able to make it work. But there is another problem. Although the request are now logged, the reqeust body isn&#39;t logged at all. I cant find the link for the issue but I believe it would be fixed by the next release."}, {"owner": {"reputation": 1651, "user_id": 1110754, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1a9e98d5e81e0c09beeafd1c28c0809f?s=128&d=identicon&r=PG", "display_name": "Corbella", "link": "https://stackoverflow.com/users/1110754/corbella"}, "edited": false, "score": 0, "creation_date": 1603888672, "post_id": 58890489, "comment_id": 114177632, "body": "Internally Ktor uses slf4j (for jvm). So in order to use the default logger you have to import log4j too: implementation(&quot;org.slf4j:slf4j-simple:1.7.30&quot;)"}], "tags": [], "owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "is_accepted": false, "score": 7, "last_activity_date": 1573905528, "creation_date": 1573905528, "answer_id": 58890489, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client/58890489#58890489", "title": "How to log requests in ktor http client?", "body": "<p>You can achieve this with the <code>Logging</code> feature. </p>\n\n<p>First add the dependency:</p>\n\n<pre><code>implementation \"io.ktor:ktor-client-logging-native:$ktor_version\"\n</code></pre>\n\n<p>Then install the feature:</p>\n\n<pre><code>private val client = HttpClient {\n   install(Logging) {\n      logger = Logger.DEFAULT\n      level = LogLevel.ALL\n   }\n}\n</code></pre>\n\n<p><strong>Bonus:</strong></p>\n\n<p>If you need to have multiple <code>HttpClient</code> instances throughout your application and you want to reuse some of the configuration, then you can create an extension function and add the common logic in there. For example:</p>\n\n<pre><code>fun HttpClientConfig&lt;*&gt;.default() {\n    install(Logging) {\n        logger = Logger.DEFAULT\n        level = LogLevel.ALL\n    }\n\n    // Add all the common configuration here.\n}\n</code></pre>\n\n<p>And then initialize your <code>HttpClient</code> like this:</p>\n\n<pre><code>private val client = HttpClient {\n   default()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 442, "user_id": 3134602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba64d1277dea29414fb2723ec3286999?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3134602/alex"}, "edited": false, "score": 0, "creation_date": 1603926940, "post_id": 62623823, "comment_id": 114194484, "body": "Thanks for the hint, looks like Default logger uses slf4j, which does nothing on Android. I have reported an issue, let&#39;s see for their feedback: <a href=\"https://youtrack.jetbrains.com/issue/KTOR-1219\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTOR-1219</a>"}], "tags": [], "owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "is_accepted": false, "score": 5, "last_activity_date": 1593354155, "creation_date": 1593354155, "answer_id": 62623823, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client/62623823#62623823", "title": "How to log requests in ktor http client?", "body": "<p>Regardless of which client you use or framework you are on, you can implement your own logger like so:</p>\n<pre><code>private val client = HttpClient {\n    // Other configurations...\n    install(Logging) {\n        logger = CustomHttpLogger()\n        level = LogLevel.BODY\n    }\n}\n</code></pre>\n<p>Where <code>CustomHttpLogger</code> is any class that implements the ktor Logger interface, like so:</p>\n<pre><code>import io.ktor.client.features.logging.Logger\n\nclass CustomHttpLogger(): Logger {\n    override fun log(message: String) {\n        Log.d(&quot;loggerTag&quot;, message) // Or whatever logging system you want here\n    }\n}\n</code></pre>\n<p>You can read more about the Logger interface in <a href=\"https://ktor.io/clients/http-client/features/logging.html\" rel=\"noreferrer\">the documentation here</a> or in the <a href=\"https://github.com/ktorio/ktor/blob/master/ktor-client/ktor-client-features/ktor-client-logging/common/src/io/ktor/client/features/logging/Logger.kt\" rel=\"noreferrer\">source code here</a></p>\n"}], "owner": {"reputation": 620, "user_id": 2319278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ecadeb7cf3a33535a4e571a36fef23b?s=128&d=identicon&r=PG", "display_name": "Seko", "link": "https://stackoverflow.com/users/2319278/seko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6517, "favorite_count": 1, "answer_count": 5, "score": 8, "last_activity_date": 1593354155, "creation_date": 1541492330, "question_id": 53168116, "link": "https://stackoverflow.com/questions/53168116/how-to-log-requests-in-ktor-http-client", "title": "How to log requests in ktor http client?", "body": "<p>I got something like this:</p>\n\n<pre><code>private val client = HttpClient {\n    install(JsonFeature) {\n        serializer = GsonSerializer()\n    }\n    install(ExpectSuccess)\n}\n</code></pre>\n\n<p>and make request like</p>\n\n<pre><code>  private fun HttpRequestBuilder.apiUrl(path: String, userId: String? = null) {\n    header(HttpHeaders.CacheControl, \"no-cache\")\n    url {\n        takeFrom(endPoint)\n        encodedPath = path\n    }\n}\n</code></pre>\n\n<p>but I need to check request and response body, is there any way to do it? in console/in file?  </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-design-library"], "comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1541488190, "post_id": 53167219, "comment_id": 93224275, "body": "post your all gradle or dependencies which you are using."}, {"owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "edited": false, "score": 2, "creation_date": 1541489199, "post_id": 53167219, "comment_id": 93224661, "body": "You just posted same snippet twice."}], "answers": [{"tags": [], "owner": {"reputation": 8240, "user_id": 5640295, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162129157152041/picture?type=large", "display_name": "Sami Kanafani", "link": "https://stackoverflow.com/users/5640295/sami-kanafani"}, "is_accepted": false, "score": 0, "last_activity_date": 1541491611, "creation_date": 1541491611, "answer_id": 53167964, "question_id": 53167219, "link": "https://stackoverflow.com/questions/53167219/gradle-showing-errors-of-dependencies/53167964#53167964", "title": "Gradle showing errors of dependencies", "body": "<p>change </p>\n\n<pre><code>implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha2'\n</code></pre>\n\n<p>to </p>\n\n<pre><code>implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13508, "user_id": 3922207, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ktCUi.jpg?s=128&g=1", "display_name": "Anggrayudi H", "link": "https://stackoverflow.com/users/3922207/anggrayudi-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1541491771, "creation_date": 1541491771, "answer_id": 53167994, "question_id": 53167219, "link": "https://stackoverflow.com/questions/53167219/gradle-showing-errors-of-dependencies/53167994#53167994", "title": "Gradle showing errors of dependencies", "body": "<p>I used this code to fix that. Put in your app module <code>build.gradle</code>:</p>\n\n<pre><code>configurations.all {\n    resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        def requested = details.requested\n        if (requested.group == 'com.android.support') {\n            if (!requested.name.startsWith(\"multidex\")) {\n                details.useVersion \"28.0.0\"\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 6014928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nhtBq.jpg?s=128&g=1", "display_name": "Abdul", "link": "https://stackoverflow.com/users/6014928/abdul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541491771, "creation_date": 1541488102, "last_edit_date": 1541490751, "question_id": 53167219, "link": "https://stackoverflow.com/questions/53167219/gradle-showing-errors-of-dependencies", "title": "Gradle showing errors of dependencies", "body": "<p>When I changed constraint layout version to alpha-2 it showing error. previously I was using an older version it was not showing any error:</p>\n\n<p><strong>older version workes fine without error:</strong></p>\n\n<pre><code>dependencies {\n  implementation fileTree(dir: 'libs', include: ['*.jar'])\n  implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n  implementation 'com.android.support:appcompat-v7:28.0.0'\n  implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha2' \n}\n</code></pre>\n\n<p><strong>new version with error:</strong></p>\n\n<pre><code>dependencies {\n  implementation fileTree(dir: 'libs', include: ['*.jar'])\n  implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n  implementation 'com.android.support:appcompat-v7:28.0.0'\n  implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha2' \n}\n</code></pre>\n\n<p>gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n  compileSdkVersion 28\n  defaultConfig {\n     applicationId \"com.m3tech.transitionspractice\"\n     minSdkVersion 21\n     targetSdkVersion 28\n     versionCode 1\n     versionName \"1.0\"\n     testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n  }\n  buildTypes {\n      release {\n        minifyEnabled false\n           proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n      }\n  } \n}\n\ndependencies {\n     implementation fileTree(dir: 'libs', include: ['*.jar'])\n     implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n     implementation 'com.android.support:appcompat-v7:28.0.0'\n     implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha2' \n }\n</code></pre>\n\n<p><strong>error:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xVKoJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xVKoJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["filter", "kotlin", "mapping"], "comments": [{"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 1, "creation_date": 1541488234, "post_id": 53166991, "comment_id": 93224289, "body": "Not a list of nullable users, as you say, but some kind of wrapper elements"}, {"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 0, "creation_date": 1541488841, "post_id": 53166991, "comment_id": 93224527, "body": "What is the user property of your User class??"}], "answers": [{"comments": [{"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1541488271, "post_id": 53167084, "comment_id": 93224303, "body": "First, thanks for the quick answer, that&#39;s much better than before! Second, in that particular list, I am sure that the user, although it&#39;s generally nullable, is never null in that particular case. Of course, it might throw a NPE, but it might throw any other Exception, as well, since that case must never occur regarding the business logic."}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1541489178, "post_id": 53167084, "comment_id": 93224654, "body": "Same here! The <code>!!</code> always seems like the poor man&#39;s way. Possibly the clean way would be to convert everything into another object with a non-null user, which actually would be very verbose if it&#39;s just about a single property whose <code>non-nullness</code> toggles. What do you think?"}, {"owner": {"reputation": 5612, "user_id": 9279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d32ae698b36d5de067710811fec3094b?s=128&d=identicon&r=PG", "display_name": "Tim Keating", "link": "https://stackoverflow.com/users/9279/tim-keating"}, "edited": false, "score": 0, "creation_date": 1548140536, "post_id": 53167084, "comment_id": 95425468, "body": "I wouldn&#39;t put it quite this way. IMHO <code>!!</code> is for when you, the developer, can be sure that a value is not null, but the compiler cannot. Of course, there are increasingly better ways to guarantee this (e.g. contracts in 1.3+)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 9, "last_activity_date": 1541495904, "last_edit_date": 1541495904, "creation_date": 1541487525, "answer_id": 53167084, "question_id": 53166991, "link": "https://stackoverflow.com/questions/53166991/shorten-filter-and-map-in-kotlin/53167084#53167084", "title": "Shorten filter and map in Kotlin", "body": "<p>You can use <code>mapNotNull</code>:</p>\n\n<pre><code>list.mapNotNull { t -&gt; t.user?.id }\n</code></pre>\n\n<p>This will filter out all <code>null</code> users from list and also IDs (of non-null users) which are <code>null</code>.</p>\n\n<p>Note that your usage of <code>!!</code> is not correct in this case. it will cause <code>NullPointerException</code>s for <code>null</code>s in your list. You should have a look at how the nullability operators work in Kotlin: <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1541488468, "post_id": 53167249, "comment_id": 93224394, "body": "Sorry, I&#39;ve skipped the declaration of the list, but it is actually a <code>List&lt;User&gt;</code>, implicitly inferred by Kotlin. I&#39;m gonna add it to the post."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1541488823, "post_id": 53167249, "comment_id": 93224518, "body": "@Matt So the User class has a property named <code>user</code>? That&#39;s quite confusing."}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 1, "creation_date": 1541488934, "post_id": 53167249, "comment_id": 93224562, "body": "Oh boy, it&#39;s too early. You&#39;re right, it&#39;s a list of <code>Transformation</code>s that contain a user. Thanks for the hint."}], "tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": false, "score": 2, "last_activity_date": 1541488696, "last_edit_date": 1541488696, "creation_date": 1541488241, "answer_id": 53167249, "question_id": 53166991, "link": "https://stackoverflow.com/questions/53166991/shorten-filter-and-map-in-kotlin/53167249#53167249", "title": "Shorten filter and map in Kotlin", "body": "<p>From your example code, it's not clear what's in the list. It does not seam to be a list of users, but a list of something, containing a user.</p>\n\n<p>Given that</p>\n\n<pre><code>class User(val id: Int)\n\nfun getIds(userList: List&lt;User?&gt;): List&lt;Int&gt; {\n    return userList.filterNotNull().map { it.id }\n}\n</code></pre>\n\n<p>or as an extension function:</p>\n\n<pre><code>fun List&lt;User?&gt;.getIds2() = filterNotNull().map { User::id }\n</code></pre>\n"}], "owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 53167084, "answer_count": 2, "score": 0, "last_activity_date": 1541495904, "creation_date": 1541487104, "last_edit_date": 1541489347, "question_id": 53166991, "link": "https://stackoverflow.com/questions/53166991/shorten-filter-and-map-in-kotlin", "title": "Shorten filter and map in Kotlin", "body": "<p>From a list of nullable <code>Transformation</code> objects that contain a user I want the non-null IDs of non-null users. Is there a way to shorten this expression? </p>\n\n<pre><code>val list: List&lt;Transformation&gt; = ...\nlist.filter {t -&gt; t.user!!.id !== null }.map { t -&gt; t.user!!.id!! }\n</code></pre>\n"}, {"tags": ["android", "data-binding", "kotlin", "viewmodel"], "comments": [{"owner": {"reputation": 6039, "user_id": 1237141, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1f27666c428da16a4c03f7460d21a86b?s=128&d=identicon&r=PG", "display_name": "thedarkpassenger", "link": "https://stackoverflow.com/users/1237141/thedarkpassenger"}, "edited": false, "score": 0, "creation_date": 1547798085, "post_id": 53166846, "comment_id": 95323540, "body": "did you find fix for this issue?"}, {"owner": {"reputation": 567, "user_id": 8649450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf0e51ff67b58e19e62f3aacf752df1?s=128&d=identicon&r=PG&f=1", "display_name": "wasim", "link": "https://stackoverflow.com/users/8649450/wasim"}, "reply_to_user": {"reputation": 6039, "user_id": 1237141, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1f27666c428da16a4c03f7460d21a86b?s=128&d=identicon&r=PG", "display_name": "thedarkpassenger", "link": "https://stackoverflow.com/users/1237141/thedarkpassenger"}, "edited": false, "score": 0, "creation_date": 1547801067, "post_id": 53166846, "comment_id": 95324780, "body": "from invalidate cache-&gt;select only invalidate, then close the project and remove project from the suggestion and restart android studio and open project again."}, {"owner": {"reputation": 1460, "user_id": 4718406, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/0iJqV.jpg?s=128&g=1", "display_name": "Erfan Eghterafi", "link": "https://stackoverflow.com/users/4718406/erfan-eghterafi"}, "edited": false, "score": 0, "creation_date": 1596204162, "post_id": 53166846, "comment_id": 111745558, "body": "<a href=\"https://stackoverflow.com/a/63193286/4718406\">stackoverflow.com/a/63193286/4718406</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1594, "user_id": 2722270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7upyx.png?s=128&g=1", "display_name": "li2", "link": "https://stackoverflow.com/users/2722270/li2"}, "is_accepted": false, "score": 3, "last_activity_date": 1550276561, "creation_date": 1550276561, "answer_id": 54718659, "question_id": 53166846, "link": "https://stackoverflow.com/questions/53166846/e-kapt-an-exception-occurred-android-databinding-tool-util-loggederrorexcept/54718659#54718659", "title": "e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors", "body": "<p>Run <code>./gradlew build --stacktrace</code> to check the details, which will tell you where the issue happens, something like:</p>\n\n<blockquote>\n  <p>e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n  Could not find accessor xx\n  file:xxx/app/src/main/res/layout/fragment_xxxx.xml Line:108</p>\n</blockquote>\n\n<p>Sometimes if you changed the property name, especially when changed by <code>refactor</code> => <code>rename</code>, the property name won't be changed in xml automatically.</p>\n"}, {"comments": [{"owner": {"reputation": 960, "user_id": 4457630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9KTaN.jpg?s=128&g=1", "display_name": "Yamashiro Rion", "link": "https://stackoverflow.com/users/4457630/yamashiro-rion"}, "edited": false, "score": 1, "creation_date": 1561462263, "post_id": 56555455, "comment_id": 100063621, "body": "Thanks! Also it&#39;s possible to press on error line, copy it, paste to text editor and check full stacktrace there."}], "tags": [], "owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "is_accepted": false, "score": 20, "last_activity_date": 1563600230, "last_edit_date": 1592644375, "creation_date": 1560318791, "answer_id": 56555455, "question_id": 53166846, "link": "https://stackoverflow.com/questions/53166846/e-kapt-an-exception-occurred-android-databinding-tool-util-loggederrorexcept/56555455#56555455", "title": "e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors", "body": "<p>in my case I was able to find it when the mouse was hovering that line in the build output, as shown here:</p>\n<p>without hover:\n<a href=\"https://i.stack.imgur.com/mcFko.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mcFko.png\" alt=\"enter image description here\" /></a></p>\n<p>with hover:\n<a href=\"https://i.stack.imgur.com/zhTez.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zhTez.png\" alt=\"enter image description here\" /></a></p>\n<p>it's really a shame how they show the error, for the simplest error ever, I was trying 10 different solutions as well invalidating the cache and ...</p>\n<p><strong>UPDATE</strong>:</p>\n<p>you can also click here :</p>\n<p><a href=\"https://i.stack.imgur.com/Pq5lR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Pq5lR.png\" alt=\"enter image description here\" /></a></p>\n<p>and you'll get something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/kSfIC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kSfIC.png\" alt=\"enter image description here\" /></a></p>\n<p>which is very detailed information about the error, I was missing this button in 7 years of Android Development :D</p>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "is_accepted": false, "score": 2, "last_activity_date": 1562746574, "creation_date": 1562746574, "answer_id": 56966291, "question_id": 53166846, "link": "https://stackoverflow.com/questions/53166846/e-kapt-an-exception-occurred-android-databinding-tool-util-loggederrorexcept/56966291#56966291", "title": "e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors", "body": "<p>Mostly this error occurs when the name of the variable passed in the XML file through data binding is incorrect. Just hover over the mouse on the error and you would be able to identify the culprit variable there.</p>\n"}], "owner": {"reputation": 567, "user_id": 8649450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf0e51ff67b58e19e62f3aacf752df1?s=128&d=identicon&r=PG&f=1", "display_name": "wasim", "link": "https://stackoverflow.com/users/8649450/wasim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8110, "favorite_count": 1, "answer_count": 3, "score": 14, "last_activity_date": 1563600230, "creation_date": 1541486340, "last_edit_date": 1562749018, "question_id": 53166846, "link": "https://stackoverflow.com/questions/53166846/e-kapt-an-exception-occurred-android-databinding-tool-util-loggederrorexcept", "title": "e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors", "body": "<p>I have enabled databinding, but while I execute the code I get this error.</p>\n\n<h2>error</h2>\n\n<p>e: [kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors.</p>\n\n<p>I created a fragment class and XML for that class.\nIm able to import datbindingutil class.</p>\n\n<p>I have done rebuilt/ sync with gradle files/ invalidate cache and restart, nothing worked. </p>\n\n<h2>xml</h2>\n\n<pre><code>&lt;layout&gt;\n\n&lt;!--suppress AndroidUnknownAttribute --&gt;\n&lt;data class=\".databinding.ProfileFragmentBinding\"&gt;\n\n    &lt;variable\n        name=\"user\"\n        type=\"com.sample.sample.user.User\" /&gt;\n\n    &lt;variable\n        name=\"vm\"\n        type=\"com.sample.sample.user.UserViewModel\" /&gt;\n\n    &lt;variable\n        name=\"handler\"\n        type=\"com.sample.sample.user.profile.ProfileFragment\" /&gt;\n&lt;/data&gt;\n\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=\"@+id/profileIV\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/medium\"\n        android:layout_marginTop=\"@dimen/medium\"\n        android:contentDescription=\"@null\"\n        android:src=\"@mipmap/ic_launcher_round\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:url=\"@{user.avatarUrl}\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center\"\n        android:orientation=\"vertical\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/profileIV\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/profileIV\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/profileNameLabel\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/myriad_pro_semibold\"\n            android:text=\"@{user.name}\"\n            android:textColor=\"@color/black_transparent_de\"\n            android:textSize=\"@dimen/text_regular\"\n            tools:text=\"NAME\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/badgeLabel\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"5dp\"\n            android:fontFamily=\"@font/myriad_pro_semibold\"\n            android:text=\"@{user.badge}\"\n            android:textColor=\"@color/grey_000000\"\n            android:textSize=\"@dimen/text_regular\"\n            tools:text=\"Superman\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/profile_Label\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"5dp\"\n            android:fontFamily=\"@font/roboto_bold\"\n            android:text=\"@{user.badge}\"\n            android:textColor=\"@color/green_39b54a\"\n            android:textSize=\"@dimen/text_small\"\n            tools:text=\"farmer_v1\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/badgeIV\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"@dimen/medium\"\n        android:layout_marginTop=\"@dimen/medium\"\n        android:contentDescription=\"@null\"\n        android:src=\"@mipmap/ic_launcher\"\n        app:error=\"@{@drawable/ic_profile_default_grey_24dp}\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:placeholder=\"@{@drawable/ic_profile_default_grey_24dp}\"\n        app:url=\"@{user.badgeUrl}\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/locationPinIV\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"@dimen/medium\"\n        android:contentDescription=\"@null\"\n        android:src=\"@drawable/ic_location_pin\"\n        app:layout_constraintStart_toStartOf=\"@+id/profileIV\"\n        app:layout_constraintTop_toBottomOf=\"@+id/profileIV\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/profileAddressTV\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/narrow\"\n        android:fontFamily=\"@font/roboto\"\n        android:textColor=\"@color/grey_000000\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/locationPinIV\"\n        app:layout_constraintLeft_toRightOf=\"@+id/locationPinIV\"\n        app:layout_constraintTop_toTopOf=\"@+id/locationPinIV\"\n        tools:text=\"bangalore, Karnataka\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/dobIV\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/standard\"\n        android:layout_marginTop=\"@dimen/medium\"\n        android:contentDescription=\"@null\"\n        android:src=\"@drawable/ic_dob\"\n        app:layout_constraintLeft_toRightOf=\"@+id/profileAddressTV\"\n        app:layout_constraintTop_toBottomOf=\"@+id/profileIV\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/narrow\"\n        android:fontFamily=\"@font/roboto\"\n        android:textColor=\"@color/grey_000000\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/locationPinIV\"\n        app:layout_constraintLeft_toRightOf=\"@+id/dobIV\"\n        app:layout_constraintTop_toTopOf=\"@+id/locationPinIV\"\n        tools:text=\"born on 01/01/2000\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/activityLabel\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"@dimen/big\"\n        android:fontFamily=\"@font/myriad_pro_semibold\"\n        android:text=\"@string/activities\"\n        android:textColor=\"@color/black_transparent_de\"\n        android:textSize=\"@dimen/text_regular\"\n        app:layout_constraintStart_toStartOf=\"@+id/profileIV\"\n        app:layout_constraintTop_toBottomOf=\"@+id/locationPinIV\" /&gt;\n\n    &lt;View\n        android:id=\"@+id/dividerV\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1dp\"\n        android:layout_marginEnd=\"@dimen/small\"\n        android:layout_marginStart=\"@dimen/small\"\n        android:layout_marginTop=\"@dimen/regular\"\n        android:background=\"@color/grey_000000\"\n        app:layout_constraintTop_toBottomOf=\"@+id/activityLabel\" /&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintTop_toBottomOf=\"@+id/dividerV\"&gt;\n\n        &lt;!--&lt;com.google.android.material.tabs.TabLayout\n            android:id=\"@+id/tablayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:pager=\"@{(pager)}\"\n            app:tabGravity=\"fill\"\n            app:tabIndicatorColor=\"@color/black\"\n            app:tabMode=\"fixed\"\n            app:tabSelectedTextColor=\"@color/black\"\n            app:tabTextAppearance=\"@style/CustomTextTab\"\n            app:tabTextColor=\"#b4ffffff\" /&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=\"@+id/viewpager\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_below=\"@+id/tablayout\"\n            app:handler=\"@{handler}\"\n            app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;--&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<h2>class</h2>\n\n<pre><code>    class ProfileFragment : Fragment() {\n    @Inject\n    lateinit var mFactory: ViewModelProvider.Factory\n    private lateinit var mBinding: ProfileFragmentBinding\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_profile, container, false);\n        return mBinding.root\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        val vm: UserViewModel = getViewModel(mFactory)\n        mBinding.vm = vm\n        //mBinding.handler = this\n        //mBinding.setLifecycleOwner(this)\n    }\n\n    /*@BindingAdapter(\"bind:handler\")\n    fun bindViewPagerAdapter(view: ViewPager, activity: MainActivity) {\n        val adapter = ProfilePagerAdapter(view.context, activity.supportFragmentManager)\n        view.adapter = adapter\n    }\n\n    @BindingAdapter(\"bind:pager\")\n    fun bindViewPagerTabs(view: TabLayout, pagerView: ViewPager) {\n        view.setupWithViewPager(pagerView, true)\n    }*/\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 112, "user_id": 6716588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGIr7.jpg?s=128&g=1", "display_name": "Haider Ali", "link": "https://stackoverflow.com/users/6716588/haider-ali"}, "edited": false, "score": 1, "creation_date": 1541484290, "post_id": 53166486, "comment_id": 93222899, "body": "Double check your package name, Your access to the class through package name does not look fine."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1541484997, "post_id": 53166486, "comment_id": 93223134, "body": "Define &quot;not displaying as it&#39;s supposed to&quot; - this can mean quite a lot, and doesn&#39;t actually specify an issue"}, {"owner": {"reputation": 921, "user_id": 5066924, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/vi5Py.jpg?s=128&g=1", "display_name": "Giulio Colleluori", "link": "https://stackoverflow.com/users/5066924/giulio-colleluori"}, "reply_to_user": {"reputation": 112, "user_id": 6716588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGIr7.jpg?s=128&g=1", "display_name": "Haider Ali", "link": "https://stackoverflow.com/users/6716588/haider-ali"}, "edited": false, "score": 0, "creation_date": 1541485102, "post_id": 53166486, "comment_id": 93223172, "body": "@HaiderAli That was it, I have no idea how I did not notice that but thank you, if you wanna write a reply I can set it as the accepted answer."}, {"owner": {"reputation": 112, "user_id": 6716588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGIr7.jpg?s=128&g=1", "display_name": "Haider Ali", "link": "https://stackoverflow.com/users/6716588/haider-ali"}, "edited": false, "score": 0, "creation_date": 1541502420, "post_id": 53166486, "comment_id": 93230981, "body": "@GiulioColleluori I have answered your question. Please set it as accepted answer."}], "answers": [{"tags": [], "owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1541485003, "creation_date": 1541485003, "answer_id": 53166640, "question_id": 53166486, "link": "https://stackoverflow.com/questions/53166486/custom-appcompatedittext-component-not-initializing/53166640#53166640", "title": "Custom AppCompatEditText Component not initializing", "body": "<p>According to <a href=\"https://developer.android.com/reference/android/view/View#setWillNotDraw(boolean)\" rel=\"nofollow noreferrer\">View.setWillNotDraw</a>, you should remove <code>setWillNotDraw(true)</code> from your constructors:</p>\n\n<blockquote>\n  <p>If this view doesn't do any drawing on its own, set this flag to allow\n  further optimizations. By default, this flag is not set on View, but\n  could be set on some View subclasses such as ViewGroup. Typically, <strong>if\n  you override onDraw(android.graphics.Canvas) you should clear this\n  flag</strong>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 6716588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGIr7.jpg?s=128&g=1", "display_name": "Haider Ali", "link": "https://stackoverflow.com/users/6716588/haider-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1541502335, "creation_date": 1541502335, "answer_id": 53170618, "question_id": 53166486, "link": "https://stackoverflow.com/questions/53166486/custom-appcompatedittext-component-not-initializing/53170618#53170618", "title": "Custom AppCompatEditText Component not initializing", "body": "<p>@ Giulio Colleluori Double check your package name, Your access to the class through package name does not look fine.</p>\n"}], "owner": {"reputation": 921, "user_id": 5066924, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/vi5Py.jpg?s=128&g=1", "display_name": "Giulio Colleluori", "link": "https://stackoverflow.com/users/5066924/giulio-colleluori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 53170618, "answer_count": 2, "score": -1, "last_activity_date": 1541502335, "creation_date": 1541484009, "last_edit_date": 1541484876, "question_id": 53166486, "link": "https://stackoverflow.com/questions/53166486/custom-appcompatedittext-component-not-initializing", "title": "Custom AppCompatEditText Component not initializing", "body": "<p>I'm new to Kotlin and I'm trying to implement a custom pin entry text edit field as done in <a href=\"https://medium.com/@ali.muzaffar/building-a-pinentryedittext-in-android-5f2eddcae5d3\" rel=\"nofollow noreferrer\">this</a> tutorial.\nI re-wrote the <code>PinEntryEditText</code> in Kotlin, and it throws no errors. I also added to my XML layout file, and used it in my MainActivity page. It runs and throws no errors. However, it does not display as it is supposed to. I started trying to debug it and setup 3 breakpoints on each of the class constructors. The debugger does not stop at any of them, which makes me think it never even goes from there. </p>\n\n<p>Now, here is my class : </p>\n\n<pre><code>class PinEntryEditText : AppCompatEditText {\n    private var mSpace = 24f //24 dp by default, space between the lines\n    private var mCharSize: Float = 0.toFloat()\n    private var mNumChars = 4f\n    private var mLineSpacing = 8f //8dp by default, height of the text from our lines\n    private var mMaxLength = 4f\n    val XML_NAMESPACE_ANDROID = \"http://schemas.android.com/apk/res/android\"\n\n    var mClickListener: View.OnClickListener? = null\n\n    private var mLineStroke = 1f //1dp by default\n    private var mLineStrokeSelected = 2f //2dp by default\n    private var mLinesPaint: Paint? = null\n\n\n    var mStates = arrayOf(intArrayOf(android.R.attr.state_selected), // selected\n            intArrayOf(android.R.attr.state_focused), // focused\n            intArrayOf(-android.R.attr.state_focused))// unfocused\n\n    var mColors = intArrayOf(Color.GREEN, Color.BLACK, Color.GRAY)\n\n    var mColorStates = ColorStateList(mStates, mColors)\n\n\n    constructor(context: Context) : super(context) {\n        this.setWillNotDraw(false)\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        this.setWillNotDraw(false)\n        init(context, attrs)\n    }\n\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n        this.setWillNotDraw(false)\n        init(context, attrs)\n    }\n\n    private fun init(context: Context, attrs: AttributeSet) {\n        val multi = context.resources.displayMetrics.density\n        mLineStroke = (multi * mLineStroke)\n        mLineStrokeSelected = (multi * mLineStrokeSelected)\n        mLinesPaint = Paint(paint)\n        mLinesPaint?.strokeWidth = mLineStroke.toFloat()\n        if (!isInEditMode) {\n            val outValue = TypedValue()\n            context.theme.resolveAttribute(colorControlActivated,\n                    outValue, true)\n            val colorActivated = outValue.data\n            mColors[0] = colorActivated\n\n            context.theme.resolveAttribute(colorPrimaryDark,\n                    outValue, true)\n            val colorDark = outValue.data\n            mColors[1] = colorDark\n\n            context.theme.resolveAttribute(colorControlHighlight,\n                    outValue, true)\n            val colorHighlight = outValue.data\n            mColors[2] = colorHighlight\n        }\n        setBackgroundResource(0)\n        mSpace = (multi * mSpace) //convert to pixels for our density\n        mLineSpacing = (multi * mLineSpacing) //convert to pixels for our density\n        mMaxLength = attrs.getAttributeIntValue(XML_NAMESPACE_ANDROID, \"maxLength\", 4).toFloat()\n        mNumChars = mMaxLength\n\n        //Disable copy paste\n        super.setCustomSelectionActionModeCallback(object : ActionMode.Callback {\n            override fun onPrepareActionMode(mode: ActionMode, menu: Menu): Boolean {\n                return false\n            }\n\n            override fun onDestroyActionMode(mode: ActionMode) {}\n\n            override fun onCreateActionMode(mode: ActionMode, menu: Menu): Boolean {\n                return false\n            }\n\n            override fun onActionItemClicked(mode: ActionMode, item: MenuItem): Boolean {\n                return false\n            }\n        })\n        // When tapped, move cursor to end of text.\n        super.setOnClickListener { v -&gt;\n            setSelection(text!!.length)\n            if (mClickListener != null) {\n                mClickListener?.onClick(v)\n            }\n        }\n\n    }\n\n    override fun setOnClickListener(l: View.OnClickListener?) {\n        mClickListener = l\n    }\n\n    override fun setCustomSelectionActionModeCallback(actionModeCallback: ActionMode.Callback) {\n        throw RuntimeException(\"setCustomSelectionActionModeCallback() not supported.\")\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        //super.onDraw(canvas)\n        val availableWidth = width - paddingRight - paddingLeft\n        if (mSpace &lt; 0) {\n            mCharSize = availableWidth / (mNumChars * 2 - 1)\n        } else {\n            mCharSize = (availableWidth - mSpace * (mNumChars - 1)) / mNumChars\n        }\n\n        var startX = paddingLeft.toFloat()\n        val bottom = height - paddingBottom\n\n        //Text width\n        val text = text\n        val textLength = text!!.length\n        val textWidths = FloatArray(textLength)\n        paint.getTextWidths(getText(), 0, textLength, textWidths)\n\n\n        for (i in 0..mNumChars.toInt()) {\n            updateColorForLines(i == textLength)\n            canvas.drawLine(startX.toFloat(), bottom.toFloat(), startX.toFloat() + mCharSize, bottom.toFloat(), paint)\n            if (text.length &gt; i) {\n                val middle = startX + mCharSize / 2\n                canvas.drawText(text, i,i + 1, middle - textWidths[0] / 2, (bottom - mLineSpacing).toFloat(), paint)\n            }\n\n            if (mSpace &lt; 0) {\n                startX += mCharSize * 2\n            } else {\n                startX += mCharSize + mSpace\n            }\n        }\n    }\n\n    private fun getColorForState(vararg states: Int): Int {\n        return mColorStates.getColorForState(states, Color.GRAY)\n    }\n\n    private fun updateColorForLines(next: Boolean) {\n        if (isFocused) {\n            mLinesPaint?.strokeWidth = mLineStrokeSelected.toFloat()\n            mLinesPaint?.color = getColorForState(android.R.attr.state_focused)\n            if (next) {\n                mLinesPaint?.color = getColorForState(android.R.attr.state_selected)\n            }\n        } else {\n            mLinesPaint?.strokeWidth = mLineStroke.toFloat()\n            mLinesPaint?.color = getColorForState(-android.R.attr.state_focused)\n        }\n    }\n}\n</code></pre>\n\n<p>And here's my XML for the component :</p>\n\n<pre><code>&lt;com.myapp.app.myapp.PinEntryEditText\n    android:id=\"@+id/pin_entry_edit\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:cursorVisible=\"false\"\n    android:digits=\"1234567890\"\n    android:inputType=\"number\"\n    android:maxLength=\"4\"\n    android:textIsSelectable=\"false\"\n    android:textSize=\"20sp\" /&gt;\n</code></pre>\n\n<p>Do I have to programmatically assign the class? Unfortunately, I don't really know how to approach this since the debugger won't even step into the class. Any form of input on what could be wrong with this would be greatly appreciated. </p>\n"}, {"tags": ["android", "kotlin", "spotify"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 2892605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105226aaf80581d61b3d664203af76b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mikee", "link": "https://stackoverflow.com/users/2892605/mikee"}, "edited": false, "score": 0, "creation_date": 1541519383, "post_id": 53169227, "comment_id": 93240543, "body": "Thanks, the issue is I have tried this in the passed, the value rarely goes to null, it usually goes to another track, I can listen to this change and stop the next track, the problem is that the next track will still audibly play for around a second"}, {"owner": {"reputation": 3760, "user_id": 1695458, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RQwhT.jpg?s=128&g=1", "display_name": "EM-Creations", "link": "https://stackoverflow.com/users/1695458/em-creations"}, "reply_to_user": {"reputation": 17, "user_id": 2892605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105226aaf80581d61b3d664203af76b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mikee", "link": "https://stackoverflow.com/users/2892605/mikee"}, "edited": false, "score": 0, "creation_date": 1541521967, "post_id": 53169227, "comment_id": 93242069, "body": "@Mikee Ah, what other event listeners does the API provide? If it provides one for current track information, are you able to get the duration of the song you&#39;re making it currently play and then sleep and stop the sound after that duration?"}, {"owner": {"reputation": 17, "user_id": 2892605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105226aaf80581d61b3d664203af76b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mikee", "link": "https://stackoverflow.com/users/2892605/mikee"}, "edited": false, "score": 0, "creation_date": 1541526996, "post_id": 53169227, "comment_id": 93244766, "body": "The issue with that is it still doesn&#39;t prevent the other tracks from playing"}, {"owner": {"reputation": 3760, "user_id": 1695458, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RQwhT.jpg?s=128&g=1", "display_name": "EM-Creations", "link": "https://stackoverflow.com/users/1695458/em-creations"}, "reply_to_user": {"reputation": 17, "user_id": 2892605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105226aaf80581d61b3d664203af76b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mikee", "link": "https://stackoverflow.com/users/2892605/mikee"}, "edited": false, "score": 0, "creation_date": 1541578497, "post_id": 53169227, "comment_id": 93260680, "body": "@Mikee Couldn&#39;t you get the duration of the track you want to play as soon as you start playing it, then use a timer to stop the Spotify output 1 second before its due to stop? That way nothing else would play."}], "tags": [], "owner": {"reputation": 3760, "user_id": 1695458, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RQwhT.jpg?s=128&g=1", "display_name": "EM-Creations", "link": "https://stackoverflow.com/users/1695458/em-creations"}, "is_accepted": false, "score": 0, "last_activity_date": 1541497177, "creation_date": 1541497177, "answer_id": 53169227, "question_id": 53166224, "link": "https://stackoverflow.com/questions/53166224/play-single-track-spotify-sdk/53169227#53169227", "title": "Play single track spotify sdk", "body": "<p>I'm not an expert but from <a href=\"https://developer.spotify.com/documentation/android/quick-start/\" rel=\"nofollow noreferrer\">their documentation</a> it looks like you could watch the <code>PlayerState</code>. I'm also not sure when a <code>PlayerState</code> event would trigger but if it's coming back relatively often you could check the <code>track</code> value and see if it's gone to <code>null</code>, or another value and work using that.</p>\n\n<p><strong>Here's a Java example from their website:</strong></p>\n\n<pre><code>// Subscribe to PlayerState\n        mSpotifyAppRemote.getPlayerApi()\n                .subscribeToPlayerState()\n                .setEventCallback(new Subscription.EventCallback&lt;PlayerState&gt;() {\n\n            public void onEvent(PlayerState playerState) {\n                // See what values are in playerState, might be able to determine \n                // if it's now randomly playing?\n                final Track track = playerState.track;\n                if (track != null) {\n                    Log.d(\"MainActivity\", track.name + \" by \" + track.artist.name);\n                    // If the track is now different, your song has finished, stop it?\n                }\n            }\n        });\n</code></pre>\n\n<p>I've put a few extra comments in the code above that might yield some results!</p>\n"}, {"comments": [{"owner": {"reputation": 382, "user_id": 11988215, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CUYW-QVDyCM/AAAAAAAAAAI/AAAAAAAAAFE/62lnnfEvFAk/photo.jpg?sz=128", "display_name": "Arutyun Enfendzhyan", "link": "https://stackoverflow.com/users/11988215/arutyun-enfendzhyan"}, "edited": false, "score": 0, "creation_date": 1586885980, "post_id": 59898842, "comment_id": 108291827, "body": "OMG thank u so much. But where did u get this info from?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6685007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e342d5bde4b9bef60c59bb4a47f22a7e?s=128&d=identicon&r=PG&f=1", "display_name": "jahcoder", "link": "https://stackoverflow.com/users/6685007/jahcoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1579877698, "creation_date": 1579877698, "answer_id": 59898842, "question_id": 53166224, "link": "https://stackoverflow.com/questions/53166224/play-single-track-spotify-sdk/59898842#59898842", "title": "Play single track spotify sdk", "body": "<p>@Mikee you are doing nothing wrong, Spotify messes around with track replay if you are only using the Free version, if you use Premium it will work correctly. Funny enough if you try playing by an alblum or artist that works with the Free version.</p>\n"}], "owner": {"reputation": 17, "user_id": 2892605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105226aaf80581d61b3d664203af76b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mikee", "link": "https://stackoverflow.com/users/2892605/mikee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1579877698, "creation_date": 1541482168, "question_id": 53166224, "link": "https://stackoverflow.com/questions/53166224/play-single-track-spotify-sdk", "title": "Play single track spotify sdk", "body": "<p>I am using the <a href=\"https://developer.spotify.com/documentation/android/\" rel=\"nofollow noreferrer\">Spotify android SDK</a>, and I am trying to get a single song to play, and I would like to potentially play a song after the current one is completed. The issue is that after the song completes Spotify plays a random song afterwards. Is it possible to play the song and not have anything else automatically play after it?</p>\n\n<p>I am simply calling the app remotes player API play function,</p>\n\n<pre><code>mSpotifyAppRemote?.getPlayerApi()?.play(uri)\n</code></pre>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1541489243, "creation_date": 1541489243, "answer_id": 53167463, "question_id": 53165701, "link": "https://stackoverflow.com/questions/53165701/kotlin-syntax-difference-between-using-the-class-name-instead-of-the-companion/53167463#53167463", "title": "Kotlin syntax: Difference between using the class name instead of the companion object name", "body": "<p>As mentioned in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Members of the companion object can be called by using simply the class name as the qualifier</p>\n</blockquote>\n\n<p>And similarly, you can use <code>Authentication</code> as an <code>AppFeature</code> directly. </p>\n"}], "owner": {"reputation": 58, "user_id": 6801937, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6wc5wl9MPuQ/AAAAAAAAAAI/AAAAAAAAALA/XfRFH13LdKw/photo.jpg?sz=128", "display_name": "Omar Sahl", "link": "https://stackoverflow.com/users/6801937/omar-sahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53167463, "answer_count": 1, "score": 0, "last_activity_date": 1541489243, "creation_date": 1541478163, "question_id": 53165701, "link": "https://stackoverflow.com/questions/53165701/kotlin-syntax-difference-between-using-the-class-name-instead-of-the-companion", "title": "Kotlin syntax: Difference between using the class name instead of the companion object name", "body": "<p>Looking at this code that imitates how <a href=\"https://ktor.io/servers/features.html#installing\" rel=\"nofollow noreferrer\">features</a> are installed in <a href=\"https://ktor.io/\" rel=\"nofollow noreferrer\">Ktor</a> applications.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val app = App()\n    app.installFeature(Authentication)\n}\n\ninterface AppFeature {\n    fun install()\n}\n\nclass Authentication {\n\n    companion object Feature : AppFeature {\n        override fun install() = println(\"Authentication Installed\")\n    }\n}\n\nclass App {\n\n    fun installFeature(appFeature: AppFeature) {\n        println(\"Installing appFeature `${appFeature::class.simpleName}`\")\n        appFeature.install()\n    }\n}\n</code></pre>\n\n<p>What doesn't make sense to me in the above snippet is this line <code>app.installFeature(Authentication)</code></p>\n\n<p>Can anyone explain to me why using the <code>class</code> name instead of the <code>companion object</code> name works just like the more obvious way <code>app.installFeature(Authentication.Feature)</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541475716, "post_id": 53165349, "comment_id": 93221074, "body": "Why don&#39;t you just try it out with a simple example? <a href=\"https://rextester.com/AXXN71772\" rel=\"nofollow noreferrer\">https://rextester.com/AXXN71772</a>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541476654, "post_id": 53165349, "comment_id": 93221211, "body": "Thanks! you may see my added Code C, Code C is wrong, it can&#39;t be complied!"}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541477171, "post_id": 53165349, "comment_id": 93221309, "body": "What is the compiler error message?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541477386, "post_id": 53165349, "comment_id": 93221344, "body": "Unresolved reference: _id"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541477480, "post_id": 53165349, "comment_id": 93221358, "body": "You can see it  at <a href=\"https://www.dropbox.com/s/eetzawsh2flt7vr/_Snipaste_2018-11-06_12-10-07.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/eetzawsh2flt7vr/&hellip;</a>"}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1541479011, "post_id": 53165349, "comment_id": 93221628, "body": "Not sure why does this happen. But you may try adding a line <code>val myid = _id</code> and replace <code>&quot;${this._id}= ? &quot;</code> with <code>&quot;$myid = ? &quot;</code> to work it around if you want to keep the function parameter name as <code>_id</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1541495214, "creation_date": 1541495214, "answer_id": 53168732, "question_id": 53165349, "link": "https://stackoverflow.com/questions/53165349/which-one-does-id-point-when-i-use-it-at-a-function-in-kotlin/53168732#53168732", "title": "Which one does _id point when I use it at a function in Kotlin?", "body": "<p>The \"more local\" version of the variable is the one that will be used, i.e. the one declared as a parameter into the function, rather than the one declared as a constructor parameter of the class.  This is called shadowing.</p>\n\n<p>Note that if you ctrl+click on the variable in your code, your IDE will take you to its declaration, so you can see which instance is going to be used at any point in the code where you refer to it.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53168732, "answer_count": 1, "score": 0, "last_activity_date": 1541495214, "creation_date": 1541474679, "last_edit_date": 1541477136, "question_id": 53165349, "link": "https://stackoverflow.com/questions/53165349/which-one-does-id-point-when-i-use-it-at-a-function-in-kotlin", "title": "Which one does _id point when I use it at a function in Kotlin?", "body": "<p>A: Code A is clear, <code>_myid</code> in <code>whereSimple(\"$_myid = ? \",_id.toString())</code> means <code>val _myid:String=DBRecordTable._ID</code></p>\n\n<p>B: I confuse Code B, which one does <code>_id</code> in <code>whereSimple(\"$_id = ? \",_id.toString())</code> mean,  is it <code>val _id:String=DBRecordTable._ID</code> ? or is it <code>fun getRecordByID(_id:Long)</code> ?</p>\n\n<p>BTW, Code C is wrong, it can't be compiled!</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class DBRecordHandler(val mDBRecordHelper: DBRecordHelper =DBRecordHelper.instance,\n                      val tableName:String =DBRecordTable.TableNAME,\n                      val _myid:String=DBRecordTable._ID\n                      ) {\n\n\n      fun getRecordByID(_id:Long):MDBRecord? = mDBRecordHelper.use{\n          select(tableName)\n              .whereSimple(\"$_myid = ? \",_id.toString())\n              .parseOpt{MDBRecord(HashMap(it)) }\n      }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class DBRecordHandler(val mDBRecordHelper: DBRecordHelper =DBRecordHelper.instance,\n                      val tableName:String =DBRecordTable.TableNAME,\n                      val _id:String=DBRecordTable._ID\n                      ) {\n\n\n      fun getRecordByID(_id:Long):MDBRecord? = mDBRecordHelper.use{\n          select(tableName)\n              .whereSimple(\"$_id = ? \",_id.toString())\n              .parseOpt{MDBRecord(HashMap(it)) }\n      }\n}\n</code></pre>\n\n<p><strong>Code C</strong></p>\n\n<pre><code>class DBRecordHandler(val mDBRecordHelper: DBRecordHelper =DBRecordHelper.instance,\n                      val tableName:String =DBRecordTable.TableNAME,\n                      val _id:String=DBRecordTable._ID\n                      ) {\n\n\n      fun getRecordByID(_id:Long):MDBRecord? = mDBRecordHelper.use{\n          select(tableName)\n              .whereSimple(\"${this._id}= ? \",_id.toString())\n              .parseOpt{MDBRecord(HashMap(it)) }\n      }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1541473942, "post_id": 53165230, "comment_id": 93220731, "body": "Can you show you log please"}, {"owner": {"reputation": 419, "user_id": 4958351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZxzO7OcPByw/AAAAAAAAAAI/AAAAAAAAAXw/9TL_toKfeOo/photo.jpg?sz=128", "display_name": "AIMIN PAN", "link": "https://stackoverflow.com/users/4958351/aimin-pan"}, "edited": false, "score": 0, "creation_date": 1541474469, "post_id": 53165230, "comment_id": 93220830, "body": "use DrawerLayout instead of RelativeLayout"}, {"owner": {"reputation": 27, "user_id": 10417675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad42bc2cb0c56a8dd90a1c46d4e6333?s=128&d=identicon&r=PG&f=1", "display_name": "Jonnah", "link": "https://stackoverflow.com/users/10417675/jonnah"}, "edited": false, "score": 0, "creation_date": 1541475609, "post_id": 53165230, "comment_id": 93221048, "body": "&#220;ma&#241;g &#223;&#252;rm&#229;n, I&#39;ve updated my question"}, {"owner": {"reputation": 319, "user_id": 5899024, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2104152a9dccf35032b3620cec36874a?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Ali", "link": "https://stackoverflow.com/users/5899024/asad-ali"}, "edited": false, "score": 0, "creation_date": 1541484049, "post_id": 53165230, "comment_id": 93222812, "body": "have you declared R.id.drawer_layout because the error says its typecasting problem"}], "answers": [{"tags": [], "owner": {"reputation": 419, "user_id": 4958351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZxzO7OcPByw/AAAAAAAAAAI/AAAAAAAAAXw/9TL_toKfeOo/photo.jpg?sz=128", "display_name": "AIMIN PAN", "link": "https://stackoverflow.com/users/4958351/aimin-pan"}, "is_accepted": false, "score": 1, "last_activity_date": 1541483402, "creation_date": 1541483402, "answer_id": 53166399, "question_id": 53165230, "link": "https://stackoverflow.com/questions/53165230/android-sliding-menu-without-action-bar/53166399#53166399", "title": "Android Sliding Menu Without Action Bar", "body": "<p>tutorial on how to create a navigation drawer:</p>\n\n<p><a href=\"https://developer.android.com/training/implementing-navigation/nav-drawer\" rel=\"nofollow noreferrer\">https://developer.android.com/training/implementing-navigation/nav-drawer</a></p>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 7229359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KnLJQ.jpg?s=128&g=1", "display_name": "Al-Amin", "link": "https://stackoverflow.com/users/7229359/al-amin"}, "is_accepted": true, "score": 1, "last_activity_date": 1541483636, "creation_date": 1541483636, "answer_id": 53166429, "question_id": 53165230, "link": "https://stackoverflow.com/questions/53165230/android-sliding-menu-without-action-bar/53166429#53166429", "title": "Android Sliding Menu Without Action Bar", "body": "<p>Try with extending only <code>Activity</code>  like below - </p>\n\n<p>By extending this class your <code>ActionBar</code> will be hidden. </p>\n\n<pre><code>class MainActivity : Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n    }\n\n    fun showDrawer(v: View) {\n        val drawer = findViewById(R.id.drawer_layout) as DrawerLayout\n\n        val slide = true\n\n        if (slide) {\n            drawer.openDrawer(Gravity.LEFT)\n        } else {\n            drawer.closeDrawer(Gravity.LEFT)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10417675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad42bc2cb0c56a8dd90a1c46d4e6333?s=128&d=identicon&r=PG&f=1", "display_name": "Jonnah", "link": "https://stackoverflow.com/users/10417675/jonnah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 53166429, "answer_count": 2, "score": 2, "last_activity_date": 1541483636, "creation_date": 1541473648, "last_edit_date": 1541482332, "question_id": 53165230, "link": "https://stackoverflow.com/questions/53165230/android-sliding-menu-without-action-bar", "title": "Android Sliding Menu Without Action Bar", "body": "<p>I'm still newbie in Android. Help me to create sliding menu from imagebutton I've create. This is my app_header.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                android:theme=\"@style/ThemeOverlay.AppCompat.Dark\"\n                android:id=\"@+id/header\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"100dp\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_alignParentTop=\"true\"\n                android:background=\"@color/white\"\n                android:orientation=\"vertical\"\n                android:gravity=\"center\"\n                android:paddingBottom=\"7dp\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/home\"\n            android:layout_width=\"125dp\"\n            android:layout_height=\"40dp\"\n            android:layout_alignBottom=\"@+id/menuButton\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginBottom=\"5dp\"\n            android:layout_marginStart=\"100dp\"\n            android:scaleType=\"centerInside\"\n            android:src=\"@drawable/header\"/&gt;\n\n    &lt;ImageButton\n            android:id=\"@+id/menuButton\"\n            android:layout_width=\"46dp\"\n            android:layout_height=\"60dp\"\n            android:layout_alignBottom=\"@+id/btnLogin\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginStart=\"45dp\"\n            android:background=\"@color/white\"\n            android:scaleType=\"centerInside\"\n            android:onClick=\"showDrawer\"\n            app:srcCompat=\"@drawable/menu\" /&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/btnLogin\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"60dp\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_marginStart=\"-80dp\"\n            android:layout_toEndOf=\"@+id/btnRegister\"\n            android:scaleType=\"centerInside\"\n            app:srcCompat=\"@drawable/login\" /&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/btnRegister\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"60dp\"\n            android:layout_alignParentEnd=\"true\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_marginEnd=\"80dp\"\n            android:scaleType=\"centerInside\"\n            app:srcCompat=\"@drawable/register\" /&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/searchView\"\n            android:layout_width=\"325dp\"\n            android:layout_height=\"35dp\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            android:background=\"@drawable/border\"\n            android:iconifiedByDefault=\"false\"\n            android:padding=\"10dp\"\n            android:queryHint=\"Cari di fobuma\"\n            android:scaleType=\"fitEnd\"\n            android:src=\"@drawable/search_icon\"/&gt;\n\n    &lt;android.support.design.widget.TextInputLayout\n            android:id=\"@+id/textInput\"\n            android:layout_width=\"230dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginBottom=\"0dp\"\n            android:layout_marginStart=\"60dp\"\n            android:paddingBottom=\"3dp\"\n            android:textColorHint=\"@color/black\"&gt;\n\n        &lt;android.support.design.widget.TextInputEditText\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"16dp\"\n                android:background=\"@color/transparant\"\n                android:hint=\"Cari di fobuma\"\n                android:maxLines=\"1\"\n                android:paddingBottom=\"10dp\"\n                android:textSize=\"13dp\" /&gt;\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and here my MainActivity.kt</p>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n    }\n\n    fun showDrawer(v: View) {\n        val drawer = findViewById(R.id.drawer_layout) as DrawerLayout\n\n        val slide = true\n\n        if (slide) {\n            drawer.openDrawer(Gravity.LEFT)\n        } else {\n            drawer.closeDrawer(Gravity.LEFT)\n        }\n    }\n}\n</code></pre>\n\n<p>When I run it, the app is suddenly crashed when I clicked the imagebutton.\nHere is the log</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.fobuma.fixpage, PID: 26814\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:390)\n        at android.view.View.performClick(View.java:6891)\n        at android.view.View$PerformClick.run(View.java:26083)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:385)\n        at android.view.View.performClick(View.java:6891)\u00a0\n        at android.view.View$PerformClick.run(View.java:26083)\u00a0\n        at android.os.Handler.handleCallback(Handler.java:789)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:98)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\u00a0\n     Caused by: kotlin.TypeCastException: null cannot be cast to non-null type android.support.v4.widget.DrawerLayout\n        at com.fobuma.fixpage.MainActivity.showDrawer(MainActivity.kt:25)\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:385)\u00a0\n        at android.view.View.performClick(View.java:6891)\u00a0\n        at android.view.View$PerformClick.run(View.java:26083)\u00a0\n        at android.os.Handler.handleCallback(Handler.java:789)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:98)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\u00a0\nApplication terminated.\n</code></pre>\n\n<p>And, I need help in the code use kotlin. I don't know how to create slide menu use image button. Also, I don't use action bar. Thanks in advance.</p>\n"}, {"tags": ["android", "collections", "view", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 221, "user_id": 3588107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cb0fada3b649207f1224de72feffc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Prasad", "link": "https://stackoverflow.com/users/3588107/ramesh-prasad"}, "edited": false, "score": 1, "creation_date": 1541463476, "post_id": 53163981, "comment_id": 93218725, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-s-item-in-onbindviewholder\">How to get the height of recyclerview &#39;s item in &quot;onBindViewHolder&quot;</a>"}, {"owner": {"reputation": 221, "user_id": 3588107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cb0fada3b649207f1224de72feffc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Prasad", "link": "https://stackoverflow.com/users/3588107/ramesh-prasad"}, "edited": false, "score": 0, "creation_date": 1541463502, "post_id": 53163981, "comment_id": 93218727, "body": "Android works a bit differently. Look at the answer here <a href=\"https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-s-item-in-onbindviewholder\" title=\"how to get the height of recyclerview s item in onbindviewholder\">stackoverflow.com/questions/38764254/&hellip;</a>"}, {"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "reply_to_user": {"reputation": 221, "user_id": 3588107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cb0fada3b649207f1224de72feffc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Prasad", "link": "https://stackoverflow.com/users/3588107/ramesh-prasad"}, "edited": false, "score": 0, "creation_date": 1541570036, "post_id": 53163981, "comment_id": 93257971, "body": "I will look into these, thanks."}, {"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "reply_to_user": {"reputation": 221, "user_id": 3588107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0cb0fada3b649207f1224de72feffc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Prasad", "link": "https://stackoverflow.com/users/3588107/ramesh-prasad"}, "edited": false, "score": 0, "creation_date": 1541570276, "post_id": 53163981, "comment_id": 93258026, "body": "I noticed the solutions here, though I have not thoroughly read over them, suggest possible ways to obtain the height of a recycler view item.  I&#39;m not after a specific item, but instead, the size of the recycler view once all the items have been added.  This is doable in iOS, but I may need to find a work around solution for what I&#39;m trying to do in Android, not sure yet!  I imagine it would be possible to obtain the entire height by knowing the height of each item, then solving the overall height based on this, but I am not sure if this is correct."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 0, "creation_date": 1541569972, "post_id": 53168784, "comment_id": 93257960, "body": "This returns the size of my list / collection in the adapter class and is being used.  What I&#39;m after, is the size of the content height, in other words, the size of the view the user would see.  I believe the other answers elude to what I&#39;m after, it&#39;s definitely not a simple solution!"}], "tags": [], "owner": {"reputation": 54, "user_id": 10167463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7egP.jpg?s=128&g=1", "display_name": "EliodeBeirut", "link": "https://stackoverflow.com/users/10167463/eliodebeirut"}, "is_accepted": false, "score": -1, "last_activity_date": 1541495458, "creation_date": 1541495458, "answer_id": 53168784, "question_id": 53163981, "link": "https://stackoverflow.com/questions/53163981/kotlin-recyclerview-content-size-height/53168784#53168784", "title": "Kotlin RecyclerView Content Size Height", "body": "<p>override fun getItemCount(): Int = itemList.size</p>\n"}], "owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541498081, "creation_date": 1541462152, "last_edit_date": 1541498081, "question_id": 53163981, "link": "https://stackoverflow.com/questions/53163981/kotlin-recyclerview-content-size-height", "title": "Kotlin RecyclerView Content Size Height", "body": "<p>Been trying to find the Android (in Kotlin) equivalent to the following iOS code (in Swift):</p>\n\n<pre><code>myViewController.collectionView.contentSize.height\n</code></pre>\n\n<p>Attempted the following, but it's yielding a value of 0 when I run it via the debugger:</p>\n\n<pre><code>recyclerView.height\n</code></pre>\n\n<p>Any suggestions or concepts I'm unaware of are welcomed.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1541491023, "post_id": 53163569, "comment_id": 93225412, "body": "What do you want to achieve with this <code>@Named(TestModule.nameIsTesting) val isTesting: Boolean</code>?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1541492909, "post_id": 53163569, "comment_id": 93226245, "body": "Try to annotate the getter method: <code>@get:Named(TestModule.nameIsTesting)</code>"}, {"owner": {"reputation": 86, "user_id": 843139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27d4cac2922978d23077722087390bc?s=128&d=identicon&r=PG", "display_name": "Lucas Ces", "link": "https://stackoverflow.com/users/843139/lucas-ces"}, "edited": false, "score": 0, "creation_date": 1610576498, "post_id": 53163569, "comment_id": 116181287, "body": "<code>@field:Named(&quot;name&quot;)</code> worked for me"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9998909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc4faa84e27c0a509d938198b14a858?s=128&d=identicon&r=PG&f=1", "display_name": "Faiz", "link": "https://stackoverflow.com/users/9998909/faiz"}, "is_accepted": true, "score": 2, "last_activity_date": 1541503736, "creation_date": 1541503736, "answer_id": 53170993, "question_id": 53163569, "link": "https://stackoverflow.com/questions/53163569/why-named-dependency-is-ignored/53170993#53170993", "title": "Why @Named dependency is ignored?", "body": "<p>Try to use </p>\n\n<pre><code>@Named(TestModule.nameIsTesting)\nfun isTesting(): Boolean\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>@Named(TestModule.nameIsTesting)\nval isTesting: Boolean\n</code></pre>\n"}], "owner": {"reputation": 13672, "user_id": 497132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ou3th.jpg?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/497132/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53170993, "answer_count": 1, "score": 0, "last_activity_date": 1541503736, "creation_date": 1541459061, "question_id": 53163569, "link": "https://stackoverflow.com/questions/53163569/why-named-dependency-is-ignored", "title": "Why @Named dependency is ignored?", "body": "<p>I have a module that provides <code>Boolean</code> value:</p>\n\n<pre><code>@Module\nclass TestModule(private val isTesting: Boolean = false) {\n\n    @Provides\n    @Singleton\n    @Named(nameIsTesting)\n    fun provideIsTesting(): Boolean = isTesting\n\n    // Companion\n    companion object {\n        const val nameIsTesting = \"is_testing\"\n    }\n\n}\n</code></pre>\n\n<p><code>AppComponent</code>:</p>\n\n<pre><code>@Component(modules = [AppModule::class, TestModule::class])\n@Singleton\ninterface AppComponent {\n\n    @Named(TestModule.nameIsTesting)\n    val isTesting: Boolean\n\n    // ...\n}\n</code></pre>\n\n<p>And build fails:</p>\n\n<pre><code>[Dagger/MissingBinding] java.lang.Boolean cannot be provided without an @Inject constructor or an @Provides-annotated method.\npublic abstract interface AppComponent {\n                ^\n      java.lang.Boolean is provided at\n          com.app.app.di.component.AppComponent.isTesting()\n</code></pre>\n\n<p>It works for other dependencies, but not for this one. Why?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "nullpointerexception", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541459949, "post_id": 53163619, "comment_id": 93217825, "body": "Thank you for your input. I thought about this, but in my case the nullPointerException is not on the object produced by gson.fromJson(), but on a property of the received object itself. In fact gson does the job as payload.data is not null. However payload.id is."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541460230, "post_id": 53163619, "comment_id": 93217914, "body": "Yes, what&#39;s happening is when Gson deserializes your data, it assigns <code>null</code> to the <code>result.id</code> field, since in Java a <code>String</code> is nullable. There&#39;s no error until you try to use the value of <code>result.id</code>, since it&#39;s <code>null</code>."}, {"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541461148, "post_id": 53163619, "comment_id": 93218179, "body": "Just to be clear, I am talking about <code>@RequestBody payload: Payload</code> and not <code>result = gson.fromJson(payload.data, payloadData::class.java)</code>where gson is making the conversion of the data property whish is assigned to result. I am not a gson expert, but how does gson affect the payload? The object is already constructed and is only used by gson to create a payloadData object. I am not performing any modifications on the payload itself, just reading its properties."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541513916, "post_id": 53163619, "comment_id": 93237234, "body": "Ah, I see. I&#39;m assuming <code>payload</code> is being deserialized from a network request, could it be using Gson internally to deserialize and using <code>null</code> values there?"}, {"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541514788, "post_id": 53163619, "comment_id": 93237746, "body": "Does spring use gson internally? or does it use a similar mechanism of deserialisation? This is something my colleagues suggested as well and what I was suspecting but I would really like a concrete reason in order for me to avoid similar pitfalls in the future. I have writtem my own typeAdapter and so far it seems to perform ok. So if you could please update your response so that I can accept the answer."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541528698, "post_id": 53163619, "comment_id": 93245613, "body": "@jsk If your custom <code>TypeAdapter</code> is working, then I would assume that Spring is using Gson internally. What would you like me to change about my answer?"}, {"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1541531320, "post_id": 53163619, "comment_id": 93246857, "body": "Appologies. I should have been more clear yet again. I now receive the entire json as a String and instead of relying on spring, I create an object from it using the typeAdapter and gson. My initial question however was about the controller itself, in which case the problem was with how spring itself deals with the reqest. In your answer you focus on Gson as the core of the problem, which is not the case for my question. Your solution on the other hand was what I needed. I would simply suggest that you add spring as a potential breaking point (even as a sidenote) for the purposes of clarity."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": true, "score": 1, "last_activity_date": 1541531444, "last_edit_date": 1541531444, "creation_date": 1541459379, "answer_id": 53163619, "question_id": 53163464, "link": "https://stackoverflow.com/questions/53163464/spring-kotlin-controller-receives-non-nullable-parameters-of-a-data-class-as-n/53163619#53163619", "title": "Spring (kotlin) controller receives non-nullable parameters of a data class as null", "body": "<p>The issue is with Gson, not Spring. Gson is designed for use with Java, which has no* distinction between nullable and non-nullable types, so Gson will happily assign a null value anyways.</p>\n\n<p>Unfortunately, there isn't a magic solution here. You can write your own <a href=\"https://google.github.io/gson/apidocs/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">TypeAdapter</a> which explicitly checks for null values before constructing your data classes, but if you have a lot of classes, that's going to get very repetitive. Alternatively, you could create your own <a href=\"https://google.github.io/gson/apidocs/index.html?com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">TypeAdapterFactory</a> and use Kotlin's reflection library to check which types are nullable and which are not, but that will have various implications with regards to performance and dependencies.</p>\n\n<p><em>* There are nullability annotations (@Nonnull, @Nullable), but Gson doesn't check them.</em></p>\n"}], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 53163619, "answer_count": 1, "score": 1, "last_activity_date": 1541531444, "creation_date": 1541458473, "question_id": 53163464, "link": "https://stackoverflow.com/questions/53163464/spring-kotlin-controller-receives-non-nullable-parameters-of-a-data-class-as-n", "title": "Spring (kotlin) controller receives non-nullable parameters of a data class as null", "body": "<p>I am facing an unexpected error which I am not sure how to handle.</p>\n\n<p>I have a data class like this:</p>\n\n<pre><code>data class Payload (\n  @SerializedName(\"id\")\n  var id: String\n  @SerializedName(\"type\")\n  var type: String,\n  @SerializedName(\"data\")\n  var data: String\n)\n</code></pre>\n\n<p>And a simple Spring controller like this:</p>\n\n<pre><code>@PostMapping(\"/some-endpoint\")\nfun dataHandler(@RequestBody payload: Payload): String{\n    when (payload.type){\n        \"someType\" -&gt; {\n            val result = try {\n                gson.fromJson(payload.data, payloadData::class.java)\n            } catch (e: Exception){\n                throw BadDataException(\"Bad Data\")\n            }\n            payloadProcessor.process(result, payload.id) // NPE here\n        }\n        \"otherType\" -&gt; {\n            doSomethingElseHere()\n        }\n    }\n}\n</code></pre>\n\n<p>When the execution reaches payloadProcessor.process, a null pointer exception occurs as <code>id</code> is apparently null. On the other hand the object is created and the two remaining values seem to be properly populated.\nIf I add an if statement checking for null values, the ide complains that the the payload properties are never null, marking the if statement as redundant, but in reality this is not the case.\nI was under the impression that null-safe properties are... well... null safe. At the very least I would expect the null pointer exception to occur once the object is constructed.</p>\n\n<p>My question is:</p>\n\n<ul>\n<li>How does Spring manage to create such an object</li>\n<li>Why is this not detected upon the object construction</li>\n<li>What would be the \"Kotlin\" way to handle this as I would not like to check for null parameters in a supposedly null safe object.</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "edited": false, "score": 1, "creation_date": 1541453352, "post_id": 53162502, "comment_id": 93215348, "body": "Adding <code>Any</code> to the beginning of the extends list like this      class BrokenClass : Any, Parcelable, Serializable  fixes the problem but shouldn&#39;t be necessary"}], "answers": [{"comments": [{"owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "edited": false, "score": 0, "creation_date": 1541784417, "post_id": 53164466, "comment_id": 93347956, "body": "I am moving to using @Parcelize but the class in question does implement all of the necessities from Parcelable. Additionally, changing the order  so Serializable first gives me the same problem."}], "tags": [], "owner": {"reputation": 81, "user_id": 2274915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1885fb00ad416def8cd7961351eb440f?s=128&d=identicon&r=PG", "display_name": "Yevhenii Maher", "link": "https://stackoverflow.com/users/2274915/yevhenii-maher"}, "is_accepted": false, "score": 0, "last_activity_date": 1541466467, "creation_date": 1541466467, "answer_id": 53164466, "question_id": 53162502, "link": "https://stackoverflow.com/questions/53162502/kotlin-1-3-0-mapping-interface-implementation-to-java-class-extension-at-compile/53164466#53164466", "title": "Kotlin 1.3.0 mapping interface implementation to Java class extension at compile time", "body": "<p>Add @Parcelize annotation at the beginning.</p>\n\n<p><a href=\"https://proandroiddev.com/parcelable-in-kotlin-here-comes-parcelize-b998d5a5fcac\" rel=\"nofollow noreferrer\">https://proandroiddev.com/parcelable-in-kotlin-here-comes-parcelize-b998d5a5fcac</a></p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 2463984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4aa3bd5d33b4d6cd672ebd9ca1cb6f?s=128&d=identicon&r=PG", "display_name": "user2463984", "link": "https://stackoverflow.com/users/2463984/user2463984"}, "is_accepted": true, "score": 1, "last_activity_date": 1549456947, "last_edit_date": 1549456947, "creation_date": 1547811954, "answer_id": 54253360, "question_id": 53162502, "link": "https://stackoverflow.com/questions/53162502/kotlin-1-3-0-mapping-interface-implementation-to-java-class-extension-at-compile/54253360#54253360", "title": "Kotlin 1.3.0 mapping interface implementation to Java class extension at compile time", "body": "<p>It's a bug: <a href=\"https://youtrack.jetbrains.com/issue/KT-27506\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-27506</a><br>\nTarget fix is Kotlin 1.3.30</p>\n\n<p>In the mean time you can work around this by explicitly extending from Any:</p>\n\n<pre><code>class BrokenClass : Any(), Parcelable, Serializable {\n    var id: Int? = null\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1096, "user_id": 1015126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33975e5362542ef95b2b6331e2dd4104?s=128&d=identicon&r=PG", "display_name": "cren90", "link": "https://stackoverflow.com/users/1015126/cren90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 54253360, "answer_count": 2, "score": 2, "last_activity_date": 1549456947, "creation_date": 1541453327, "question_id": 53162502, "link": "https://stackoverflow.com/questions/53162502/kotlin-1-3-0-mapping-interface-implementation-to-java-class-extension-at-compile", "title": "Kotlin 1.3.0 mapping interface implementation to Java class extension at compile time", "body": "<p>Since updating to Kotlin 1.3.0, a couple of my classes like the one below</p>\n\n<pre><code>class BrokenClass : Parcelable, Serializable {\n    var id: Int? = null\n    ...\n}\n</code></pre>\n\n<p>are causing compile time errors like</p>\n\n<pre><code>error: no interface expected here \npublic final class AccessCode extends android.os.Parcelable implements java.io.Serializable {\n</code></pre>\n\n<p>So the Kotlin processor is treating the first interface as a class and putting it in extends instead of implements.</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1541455171, "post_id": 53162666, "comment_id": 93216100, "body": "Okay that looks great.  but the library is a third party I have no access to the call.  All I can do is listen to a listener"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541494726, "post_id": 53162666, "comment_id": 93227006, "body": "This answer requires no changes to the library, it&#39;s built on exactly the ingredients you specified. What it does is show you how to use the listeners to construct a <code>suspend fun</code>. Once you have that, you don&#39;t need any <code>async-await</code> logic."}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1541520519, "post_id": 53162666, "comment_id": 93241246, "body": "The coroutines stuff is still so new and has been changing constantly that I am still not sure of best practices.  But thanks this loots pretty good I&#39;ll test it out and see if I can get it working."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1583176233, "post_id": 53162666, "comment_id": 107020504, "body": "What is <code>suspendCoroutine</code>?"}], "tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": true, "score": 18, "last_activity_date": 1541496292, "last_edit_date": 1541496292, "creation_date": 1541454267, "answer_id": 53162666, "question_id": 53161897, "link": "https://stackoverflow.com/questions/53161897/wait-for-data-inside-a-listener-in-a-coroutine/53162666#53162666", "title": "Wait For Data Inside a Listener in a Coroutine", "body": "<p>The first point is that I would change your loadData function into a suspending function instead of using <code>launch</code>. It's better to have the option to define at call site how you want to proceed with the execution. For example when implementing a test you may want to call your coroutine inside a <code>runBlocking</code>. You should also implement <a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"noreferrer\">structured concurrency</a> properly instead of relying on <code>GlobalScope</code>.</p>\n\n<p>On the other side of the problem I would implement an extension function on the <code>ThirdPartyLibrary</code> that turns its async calls into a suspending function. This way you will ensure that the calling coroutine actually waits for the Library call to have some value in it.</p>\n\n<p>Since we made <code>loadData</code> a suspending function we can now ensure that it will only start the new activity when the <code>ThirdPartyLibrary</code> call finishes. </p>\n\n<pre><code>import kotlinx.coroutines.*\nimport kotlin.coroutines.*\n\nclass InitialActivity : AppCompatActivity(), CoroutineScope {\n    private lateinit var masterJob: Job\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + masterJob\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        masterJob = Job()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        masterJob.cancel()\n    }\n\n    override fun onResume() {\n        this.launch {\n            val data = ThirdPartyLibrary().suspendLoadData()\n            // TODO: act on data!\n            startActivity(startNewIntent)\n        }\n    }\n}\n\nsuspend fun ThirdPartyLibrary.suspendLoadData(): Data = suspendCoroutine { cont -&gt;\n    setOnDataListener(\n            onSuccess = { cont.resume(it) },\n            onFail = { cont.resumeWithException(it) }\n    )\n    startLoadingData()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1583176248, "post_id": 53164508, "comment_id": 107020512, "body": "Google does not advocate using <code>job</code> API explicitly"}], "tags": [], "owner": {"reputation": 81, "user_id": 2274915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1885fb00ad416def8cd7961351eb440f?s=128&d=identicon&r=PG", "display_name": "Yevhenii Maher", "link": "https://stackoverflow.com/users/2274915/yevhenii-maher"}, "is_accepted": false, "score": 0, "last_activity_date": 1541466954, "creation_date": 1541466954, "answer_id": 53164508, "question_id": 53161897, "link": "https://stackoverflow.com/questions/53161897/wait-for-data-inside-a-listener-in-a-coroutine/53164508#53164508", "title": "Wait For Data Inside a Listener in a Coroutine", "body": "<p>You can use LiveData</p>\n\n<pre><code>liveData.value = job.await()\n</code></pre>\n\n<p>And then add in onCreate() for example</p>\n\n<pre><code>liveData.observe(currentActivity, observer)\n</code></pre>\n\n<p>In observer just wait until value not null and then start your new activity</p>\n\n<pre><code>Observer { result -&gt;\n            result?.let { \n                startActivity(newActivityIntent)\n            } \n}\n</code></pre>\n"}], "owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3821, "favorite_count": 2, "accepted_answer_id": 53162666, "answer_count": 2, "score": 10, "last_activity_date": 1547504422, "creation_date": 1541450488, "last_edit_date": 1547504422, "question_id": 53161897, "link": "https://stackoverflow.com/questions/53161897/wait-for-data-inside-a-listener-in-a-coroutine", "title": "Wait For Data Inside a Listener in a Coroutine", "body": "<p>I have a coroutine I'd like to fire up at android startup during the splash page.  I'd like to wait for the data to come back before I start the next activity.  What is the best way to do this?  Currently our android is using experimental coroutines 0.26.0...can't change this just yet.</p>\n\n<p>UPDATED: We are now using the latest coroutines and no longer experimental</p>\n\n<pre><code>onResume() {\n    loadData()\n}\n\nfun loadData() = GlobalScope.launch {\n    val job = GlobalScope.async {\n        startLibraryCall()\n    }\n    // TODO await on success\n    job.await()\n    startActivity(startnewIntent)\n}\n\nfun startLibraryCall() {\n    val thirdPartyLib() = ThirdPartyLibrary()\n    thirdPartyLib.setOnDataListener() { \n        ///psuedocode for success/ fail listeners\n        onSuccess -&gt; ///TODO return data\n        onFail -&gt; /// TODO return other data\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "mvvm", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "edited": false, "score": 0, "creation_date": 1541453105, "post_id": 53161781, "comment_id": 93215257, "body": "Have you considered downloading into a temp table and using <code>INSERT FROM SELECT</code>?"}, {"owner": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "edited": false, "score": 0, "creation_date": 1541453405, "post_id": 53161781, "comment_id": 93215372, "body": "Also consider maintaining a timestamp (both sides) so that you only request tasks that are likely to be new/changed since your last download. Just a quick glance at your code raises some perf questions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6936396"}, "reply_to_user": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "edited": false, "score": 0, "creation_date": 1541486876, "post_id": 53161781, "comment_id": 93223804, "body": "@AndreArtus thanks for the comment, I wanted to try the technology to be sure that I will be able to do what I want. I have to add a lot of information, I did not think of a timestamp however and this will be a great addition :)"}, {"owner": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "edited": false, "score": 0, "creation_date": 1541495863, "post_id": 53161781, "comment_id": 93227486, "body": "You see in my example that I add a list of items, not individual items, right? If you search &quot;sqlite batch insert&quot; you will see pages indicating that single inserts (if you have a list to insert) is bad for performance. Looping like you do for every insert is also bad for perf. It may work fine for small sample data, then bog down in production. My test data always has at least one very large/complex set."}, {"owner": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "edited": false, "score": 0, "creation_date": 1541496447, "post_id": 53161781, "comment_id": 93227747, "body": "You are probably using <code>constructor(): this(null, &quot;&quot;, &quot;&quot;, 0, 0, starred = false)</code> to get around some issues with loading the entity from your remote source.This is setting yourself up for future problems. Split the local and remote model. You can bind them with an interface if you must. Don&#39; t use parameter-less/default constructors for entities, it&#39;s a headache waiting to happen."}], "answers": [{"tags": [], "owner": {"reputation": 1682, "user_id": 122742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF9Vs.jpg?s=128&g=1", "display_name": "Andre Artus", "link": "https://stackoverflow.com/users/122742/andre-artus"}, "is_accepted": true, "score": 0, "last_activity_date": 1541455314, "last_edit_date": 1541455314, "creation_date": 1541454908, "answer_id": 53162783, "question_id": 53161781, "link": "https://stackoverflow.com/questions/53161781/check-if-an-entry-is-already-in-a-livedata-list-wihout-looping-through-the-list/53162783#53162783", "title": "Check if an entry is already in a livedata list wihout looping through the list", "body": "<p>One way you can go about, assuming you are using Room, it is to annotate your insert function (in the relevant DAO) with <code>OnConflictStrategy.IGNORE</code>.</p>\n\n<p>e.g.</p>\n\n<pre><code>@Dao\ninterface EntryDao {\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    fun insert(list: List&lt;Entry&gt;)\n    // or (if you want the inserted IDs)    \n    // fun insert(list: List&lt;Entry&gt;) : LongArray\n}   \n</code></pre>\n\n<p>Be sure to also annotate your entity with the relevant unique index.</p>\n\n<p>e.g.</p>\n\n<pre><code>@Entity(tableName = \"entry_table\",\n    indices = [Index(value = [\"title\", \"description\"], unique = true)]\n       )\ndata class Entry(\n    @PrimaryKey(autoGenerate = true) var uid: Long,\n    @ColumnInfo(name = \"title\") val title: String,\n    @ColumnInfo(name = \"description\") val description: String\n    //...\n                )\n</code></pre>\n\n<p>Primary keys should not be null-able, you can <code>.map</code> to <code>Entry</code> wit <code>uid</code> = 0. If you are using the same entity model both locally and remotely that is probably not the best idea.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6936396"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 53162783, "answer_count": 1, "score": 0, "last_activity_date": 1541455314, "creation_date": 1541449941, "question_id": 53161781, "link": "https://stackoverflow.com/questions/53161781/check-if-an-entry-is-already-in-a-livedata-list-wihout-looping-through-the-list", "title": "Check if an entry is already in a livedata list wihout looping through the list", "body": "<p>I am trying to build an app to help me track some of the tasks we have to do in the game. </p>\n\n<p>I have a Firebase Firestore database that store all the tasks and I download at the application launch the data and add only the one I don't have.\nHere is my entry model:</p>\n\n<pre><code>@Entity(tableName = \"entry_table\")\ndata class Entry(\n    @PrimaryKey(autoGenerate = true) var uid: Long?,\n\n    @ColumnInfo(name = \"title\") val title: String,\n    @ColumnInfo(name = \"description\") val description: String,\n    @ColumnInfo(name = \"target\") val target: Int = 0,\n    @ColumnInfo(name = \"position\") val position: Int = 0,\n    @ColumnInfo(name = \"starred\") val starred: Boolean = false\n\n) {\n    constructor(): this(null, \"\", \"\", 0, 0, starred = false)\n}\n</code></pre>\n\n<p>Since I download the document from the firestore database I cannot set an ID before inserting the entries in my SQLite database. \nThis means that I cannot use the \"contains\" method on my livedata list (since the entries I recieve has a \"null\" id and the one from the database has an id). I need to loop though all the data, here is the code:</p>\n\n<pre><code>@WorkerThread\nsuspend fun insertEntry(entry: Entry) {\n    for (doc in entriesList.value!!){\n        if (doc.description == entry.description &amp;&amp; doc.title == entry.title) {\n            Log.d(\"MAIN_AC\", \"Entry already saved $entry\")\n            return\n        }\n    }\n    entryDAO.insertEntry(entry)\n}\n</code></pre>\n\n<p>My code works but I am not satisfied with it, is there a better way to make this happen? I was hoping that the contains method could ignore some arguments (in my case the autogenerated ID)</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10609717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehDKG.jpg?s=128&g=1", "display_name": "TMaszko", "link": "https://stackoverflow.com/users/10609717/tmaszko"}, "edited": false, "score": 0, "creation_date": 1541449500, "post_id": 53161650, "comment_id": 93213708, "body": "I&#39;m begginer with Android. Could you explain it in more details?"}, {"owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "reply_to_user": {"reputation": 13, "user_id": 10609717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehDKG.jpg?s=128&g=1", "display_name": "TMaszko", "link": "https://stackoverflow.com/users/10609717/tmaszko"}, "edited": false, "score": 0, "creation_date": 1541449999, "post_id": 53161650, "comment_id": 93213940, "body": "No problem, I&#39;ve updated my answer with explanation."}, {"owner": {"reputation": 13, "user_id": 10609717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehDKG.jpg?s=128&g=1", "display_name": "TMaszko", "link": "https://stackoverflow.com/users/10609717/tmaszko"}, "edited": false, "score": 1, "creation_date": 1541458344, "post_id": 53161650, "comment_id": 93217339, "body": "Thanks for the clear explanation bro ! :D I&#39;ve struggled with this for about 6 hours :(  and none of my friends couldn&#39;t actually help me."}], "tags": [], "owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "is_accepted": true, "score": 1, "last_activity_date": 1541461603, "last_edit_date": 1541461603, "creation_date": 1541449330, "answer_id": 53161650, "question_id": 53161317, "link": "https://stackoverflow.com/questions/53161317/viewpageradapter-getitem-return-fragment-which-activity-is-null/53161650#53161650", "title": "viewPagerAdapter.getItem return fragment which activity is null", "body": "<p>That's because <code>getItem</code> (<em>should</em>) always create a new instance of <code>Fragment</code> and does not commit them to transaction. <code>ViewPager</code> gets fragments from <code>instantiateItem</code> or <code>getItem</code> and commits them to transactions, and they will be attached to activity eventually.</p>\n\n<p>So here's the snippet of <code>FragmentPagerAdapter.instantiateItem</code>:</p>\n\n<pre><code>@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    if (mCurTransaction == null) {\n        mCurTransaction = mFragmentManager.beginTransaction();\n    }\n\n    final long itemId = getItemId(position);\n\n    // Do we already have this fragment?\n    String name = makeFragmentName(container.getId(), itemId);\n    Fragment fragment = mFragmentManager.findFragmentByTag(name);\n    if (fragment != null) {\n        if (DEBUG) Log.v(TAG, \"Attaching item #\" + itemId + \": f=\" + fragment);\n        mCurTransaction.attach(fragment);\n    } else {\n        fragment = getItem(position);\n        if (DEBUG) Log.v(TAG, \"Adding item #\" + itemId + \": f=\" + fragment);\n        mCurTransaction.add(container.getId(), fragment,\n                makeFragmentName(container.getId(), itemId));\n    }\n    if (fragment != mCurrentPrimaryItem) {\n        fragment.setMenuVisibility(false);\n        fragment.setUserVisibleHint(false);\n    }\n\n    return fragment;\n}\n</code></pre>\n\n<p><code>ViewPager</code> calls <code>instantiateItem</code> to get fragments, and within the method, it checks if the fragments exist, then return the fragments, otherwise it calls <code>getItem</code> to create new instance of them.</p>\n\n<p>This explains why your activity is null on <code>getItem</code>. But if your <code>getItem</code> does not (<em>always</em>) return new instance of <code>Fragment</code>, then chances are your app will fail because the fragment's activity may not survive a configuration change, say a screen rotation.</p>\n"}], "owner": {"reputation": 13, "user_id": 10609717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehDKG.jpg?s=128&g=1", "display_name": "TMaszko", "link": "https://stackoverflow.com/users/10609717/tmaszko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 53161650, "answer_count": 1, "score": 1, "last_activity_date": 1541461603, "creation_date": 1541447828, "last_edit_date": 1541449328, "question_id": 53161317, "link": "https://stackoverflow.com/questions/53161317/viewpageradapter-getitem-return-fragment-which-activity-is-null", "title": "viewPagerAdapter.getItem return fragment which activity is null", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n    Log.d(\"ACTIVITY MAIN\", \"CREATED\")\n    setupViewPager(bottom_nav)\n}\n\nprivate fun setupViewPager(bottomNavigationView: BottomNavigationView) {\n    val viewPagerAdapter = ViewPagerAdapter(supportFragmentManager)\n    val trainingFragment = TrainingFragment()\n    val magicMileFragment = MagicMileFragment()\n    val tournamentFragment = TournamentFragment()\n    viewPagerAdapter.add(trainingFragment)\n    viewPagerAdapter.add(magicMileFragment)\n    viewPagerAdapter.add(tournamentFragment)\n\n    bottomNavigationView.setOnNavigationItemSelectedListener {\n        when (it.itemId) {\n             R.id.magicMileFragment -&gt; {\n                 viewpager.currentItem = 1\n                 if(viewPagerAdapter.getItem(1).activity == null)\n                    Log.d(\"NULL ACTIVITY\", \"NULLL\")\n             }\n             R.id.trainingFragment -&gt; {\n                 viewpager.currentItem = 0\n             }\n            R.id.tournamentFragment -&gt; {\n                viewpager.currentItem = 2\n            }\n        }\n        false\n    }\n</code></pre>\n\n<p>I have problem with my fragments inside <code>bottomNavigation.setOnNavigationItemSelectedListener</code> with <code>viewPagerAdapter</code>.\nAfter changing an orientation this condition: <code>if(viewPagerAdapter.getItem(1).activity == null)</code> is <code>true</code>.\nI checked that activity remain null in all fragments inside <code>viewPagerAdapter</code>\nI didn't attach code with setting an adapter because I don't think it's relevant.\nCould you explain me why it's happening?</p>\n"}, {"tags": ["kotlin", "href", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "is_accepted": true, "score": 25, "last_activity_date": 1541493910, "creation_date": 1541493910, "answer_id": 53168435, "question_id": 53161281, "link": "https://stackoverflow.com/questions/53161281/how-to-represent-hyperlink-in-kdoc/53168435#53168435", "title": "How to represent hyperlink in kDoc", "body": "<p>Well, actually, <em>hyperlinks</em> and <code>@see</code> tags are two separate matters in <em>KDoc</em>, meaning that <code>@see</code> is only limited to API references:</p>\n\n<pre><code>/**\n * @see [Object.toString]\n */\nclass C\n</code></pre>\n\n<p><em>Hyperlinks</em> per se use the regular Markdown syntax (but, unlike <em>JavaDoc</em>, can't be mixed with <code>@see</code> tags):</p>\n\n<pre><code>/**\n * **See Also:** [Google](http://google.com)\n */\nclass C\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2273, "favorite_count": 0, "accepted_answer_id": 53168435, "answer_count": 1, "score": 13, "last_activity_date": 1565103672, "creation_date": 1541447634, "last_edit_date": 1565103672, "question_id": 53161281, "link": "https://stackoverflow.com/questions/53161281/how-to-represent-hyperlink-in-kdoc", "title": "How to represent hyperlink in kDoc", "body": "<p>In JavaDoc I can represent a hyperlink as <code>@see &lt;a href=\"http://google.com\"&gt;http://google.com&lt;/a&gt;</code>. How would one do this in Kotlin?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1541492926, "post_id": 53160991, "comment_id": 93226254, "body": "What version of databinding compiler do you use? As <code>TextView</code> is extended from <code>View</code>, you databinding adapter should works fine. Don&#39;t see any errors and exactly same approach is used in my project - everything works."}, {"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "reply_to_user": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1541562732, "post_id": 53160991, "comment_id": 93256653, "body": "I&#39;m using Kotlin as well, if that helps"}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1541854521, "post_id": 53160991, "comment_id": 93364199, "body": "do you solve that problem?"}, {"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "reply_to_user": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1541867448, "post_id": 53160991, "comment_id": 93367666, "body": "Having a BindingAdapter didn&#39;t work, but Rajat Beck&#39;s answer worked very well for me. But I would still love to do it using a BindingAdapter"}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 1, "creation_date": 1541868897, "post_id": 53160991, "comment_id": 93368069, "body": "I faced up exactly with the same issue recently. Ensure, please, that you have <code>apply plugin: &#39;kotlin-kapt&#39;</code> and <code>kapt &quot;com.android.databinding:compiler:$android_plugin_version&quot;</code> inside your <code>app&#47;build.gradle</code>. And in your root <code>build.gradle</code> you have <code>classpath &quot;com.android.tools.build:gradle:$android_plugin_version&quot;</code> and <code>ext.android_plugin_version = &#39;3.1.2&#39;</code>. Having that, the problem disappear"}], "answers": [{"tags": [], "owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1541483366, "last_edit_date": 1541483366, "creation_date": 1541449530, "answer_id": 53161686, "question_id": 53160991, "link": "https://stackoverflow.com/questions/53160991/cannot-find-setter-for-attribute-appvisiblegone/53161686#53161686", "title": "Cannot find setter for attribute app:visibleGone", "body": "<p>Could you try without the <code>app:</code> prefix in <code>BindingAdapter</code> annotation and change your first parameter type:</p>\n\n<pre><code>@JvmStatic\n@BindingAdapter(\"visibleGone\")\nfun showHide(view: TextView, show: Boolean) {\n   view.visibility = if (show) View.VISIBLE else View.GONE\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "edited": false, "score": 0, "creation_date": 1541479885, "post_id": 53161697, "comment_id": 93221796, "body": "Thanks. This worked. What if I had to specifically use a BindingAdapter?"}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "reply_to_user": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "edited": false, "score": 0, "creation_date": 1541487646, "post_id": 53161697, "comment_id": 93224063, "body": "I tried using binding adapter method and it is working fine for me."}, {"owner": {"reputation": 4169, "user_id": 1149398, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KWIoS.jpg?s=128&g=1", "display_name": "sud007", "link": "https://stackoverflow.com/users/1149398/sud007"}, "edited": false, "score": 0, "creation_date": 1582094443, "post_id": 53161697, "comment_id": 106653757, "body": "Of-course this would work. But the question here is about using the &#39;BindingAdapter&#39;."}], "tags": [], "owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "is_accepted": false, "score": 3, "last_activity_date": 1541449563, "creation_date": 1541449563, "answer_id": 53161697, "question_id": 53160991, "link": "https://stackoverflow.com/questions/53160991/cannot-find-setter-for-attribute-appvisiblegone/53161697#53161697", "title": "Cannot find setter for attribute app:visibleGone", "body": "<p>What you can do is try hiding and showing the view in xml itself ,\n   you don't need a seperate binding adapter for it. I hope this answer's your problem.</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n   &lt;data&gt;\n       &lt;import type=\"android.view.View\" /&gt;\n\n       &lt;variable\n            name=\"isLoading\"\n            type=\"boolean\"/&gt;\n  &lt;/data&gt;\n\n    &lt;TextView\n            android:id=\"@+id/loading_rates\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:gravity=\"center_vertical|center_horizontal\"\n            android:text=\"@string/loading_rates\"\n            android:textAlignment=\"center\"\n            android:visibility=\"@{isLoading?View.VISIBLE:View.GONE}\"/&gt;\n\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/cardview_light_background\"\n            android:orientation=\"vertical\"\n            android:visibility=\"@{isLoading?View.GONE:View.VISIBLE}\"&gt;\n &lt;layout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": true, "score": 9, "last_activity_date": 1541947465, "creation_date": 1541947465, "answer_id": 53249817, "question_id": 53160991, "link": "https://stackoverflow.com/questions/53160991/cannot-find-setter-for-attribute-appvisiblegone/53249817#53249817", "title": "Cannot find setter for attribute app:visibleGone", "body": "<p>To resolve that problem check next things:</p>\n\n<p>In root build.gradle you have</p>\n\n<pre><code>buildscript {\n    ext.android_plugin_version = '3.1.2'\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n    }\n}\n</code></pre>\n\n<p>In app/build.gradle</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\ndependencies {\n    ...\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n}\n</code></pre>\n\n<p>With all that stuff, problem should disappear and you can write <code>@BindingAdapter</code> for base classes and apply them to children of that base class.</p>\n"}, {"tags": [], "owner": {"reputation": 4169, "user_id": 1149398, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KWIoS.jpg?s=128&g=1", "display_name": "sud007", "link": "https://stackoverflow.com/users/1149398/sud007"}, "is_accepted": false, "score": 0, "last_activity_date": 1582096368, "creation_date": 1582096368, "answer_id": 60294837, "question_id": 53160991, "link": "https://stackoverflow.com/questions/53160991/cannot-find-setter-for-attribute-appvisiblegone/60294837#60294837", "title": "Cannot find setter for attribute app:visibleGone", "body": "<p>Before you try any complex solution, just verify that you have applied the following plugin in you <code>app.gradle</code></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>If that is missing, it will keep giving errors. I found that missing from mine, after 8 hours of tussle and reading other SOF posts.\nIt worked.</p>\n\n<p>Adding picture for reference:</p>\n\n<p><a href=\"https://i.stack.imgur.com/x8vza.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8vza.png\" alt=\"Adding picture for reference\"></a></p>\n"}], "owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7383, "favorite_count": 1, "accepted_answer_id": 53249817, "answer_count": 4, "score": 4, "last_activity_date": 1582096368, "creation_date": 1541446347, "question_id": 53160991, "link": "https://stackoverflow.com/questions/53160991/cannot-find-setter-for-attribute-appvisiblegone", "title": "Cannot find setter for attribute app:visibleGone", "body": "<p>I am trying to implement the MVVM architecture in my android application. I'm using Kotlin for the same.</p>\n\n<p>This is my binding adapter class:</p>\n\n<pre><code>class BindingAdapter {\n    companion object {\n        @JvmStatic @BindingAdapter(\"app:visibleGone\") fun showHide(view: View, show: Boolean) {\n            view.visibility =\n                    if (show)\n                        View.VISIBLE\n                    else\n                        View.GONE\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my XML file:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;variable\n                name=\"isLoading\"\n                type=\"boolean\"/&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/cardview_light_background\"\n            android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n                android:id=\"@+id/loading_rates\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:gravity=\"center_vertical|center_horizontal\"\n                android:text=\"@string/loading_rates\"\n                android:textAlignment=\"center\"\n                app:visibleGone=\"@{isLoading}\"/&gt;\n\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@color/cardview_light_background\"\n                android:orientation=\"vertical\"\n                app:visibleGone=\"@{!isLoading}\"&gt;\n\n            &lt;TextView\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginBottom=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:gravity=\"center_horizontal\"\n                    android:text=\"@string/rate_list\"\n                    android:textAlignment=\"center\"\n                    android:textSize=\"@dimen/rate_text\"\n                    android:textStyle=\"bold\"/&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                    android:id=\"@+id/rate_list\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    app:layoutManager=\"LinearLayoutManager\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>The error message says:</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****msg:Cannot find the setter for attribute 'app:visibleGone' with parameter type boolean on android.widget.TextView. file:/home/sparker0i/CurrencyConverter/app/src/main/res/layout/fragment_rate_list.xml loc:23:35 - 23:43 ****\\ data binding error ****\n</code></pre>\n\n<p>Line 23 resolves to the loading_rates TextView's line just above the app:visibleGone statement</p>\n\n<p>I'm not able to understand that despite setting the BindingAdapter inside my Kotlin class, why am I not able to compile the code succesfully?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541445117, "post_id": 53160682, "comment_id": 93211793, "body": "You mean you want to... map in place?"}, {"owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541445165, "post_id": 53160682, "comment_id": 93211811, "body": "@EpicPandaForce I want to get MutableList type after map { } fun"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1541445485, "post_id": 53160682, "comment_id": 93211924, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-to.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1541445592, "post_id": 53160682, "comment_id": 93211965, "body": "<a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/collections.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1541446033, "creation_date": 1541446033, "answer_id": 53160908, "question_id": 53160682, "link": "https://stackoverflow.com/questions/53160682/mutablelist-map-extension-function-outputs-immutable-list/53160908#53160908", "title": "MutableList map extension function outputs immutable List", "body": "<p>There's <code>mapTo</code> which let's you specify where to map the values into:</p>\n\n<pre><code>val origList = (0..10).toMutableList()\nval mappedList = origList.mapTo(mutableListOf()) { 1 }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541446544, "creation_date": 1541446544, "answer_id": 53161043, "question_id": 53160682, "link": "https://stackoverflow.com/questions/53160682/mutablelist-map-extension-function-outputs-immutable-list/53161043#53161043", "title": "MutableList map extension function outputs immutable List", "body": "<p>Since <code>map</code> returns <code>List</code> and not <code>MutableList</code>, you have 2 choices:</p>\n\n<pre><code>val list = (0..10).map { 1 }.toMutableList()\n</code></pre>\n\n<p>or    </p>\n\n<pre><code>val list: MutableList&lt;Int&gt; = mutableListOf()\n(0..10).mapTo(list) { 1 }\n</code></pre>\n"}], "owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541446544, "creation_date": 1541445020, "last_edit_date": 1541445119, "question_id": 53160682, "link": "https://stackoverflow.com/questions/53160682/mutablelist-map-extension-function-outputs-immutable-list", "title": "MutableList map extension function outputs immutable List", "body": "<p>I want to map all my items in <code>MutableList</code> into other items:</p>\n\n<pre><code>(0..10).toMutableList().map { 1 }\n</code></pre>\n\n<p>What I have after is just <code>List</code></p>\n\n<pre><code>(0..10).toMutableList().map { 1 }.toMutableList() //ok\n</code></pre>\n\n<p>Is there any <code>mapMutable</code> method? Or maybe this is wrong?</p>\n"}, {"tags": ["android", "kotlin", "okhttp"], "answers": [{"tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": true, "score": 3, "last_activity_date": 1541442359, "creation_date": 1541442359, "answer_id": 53160094, "question_id": 53160048, "link": "https://stackoverflow.com/questions/53160048/addinterceptorlogger-for-okhttpclient/53160094#53160094", "title": "addInterceptor(logger) for OkHttpClient", "body": "<p>You can add multiple <code>interceptors</code> using below code</p>\n\n<pre><code>   val client = OkHttpClient.Builder().build()\n   client.interceptors().add(RequestInterceptor()) //&lt;--- 1\n   val logger = HttpLoggingInterceptor(HttpLoggingInterceptor.Logger {\n                Log.d(\"API\", it)\n            })\n   logger.level = HttpLoggingInterceptor.Level.BASIC\n   client.interceptors().add(logger) //&lt; --- 2\n</code></pre>\n"}], "owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 53160094, "answer_count": 1, "score": 2, "last_activity_date": 1541442359, "creation_date": 1541442134, "question_id": 53160048, "link": "https://stackoverflow.com/questions/53160048/addinterceptorlogger-for-okhttpclient", "title": "addInterceptor(logger) for OkHttpClient", "body": "<p>I have following class in Kotlin to set QueryParam for HttpUrl :</p>\n\n<pre><code>import okhttp3.Interceptor\nimport okhttp3.Response\nimport java.io.IOException\n\nclass RequestInterceptor : Interceptor {\n\n    @Throws(IOException::class)\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val original = chain.request()\n        val originalHttpUrl = original.url()\n\n        val url = originalHttpUrl.newBuilder()\n                .addQueryParameter(\"api_key\", \"\")\n                .build()\n\n        val request = original.newBuilder().url(url).build()\n        return chain.proceed(request)\n    }\n}\n</code></pre>\n\n<p>And it need to be initialize as follow :</p>\n\n<pre><code>val logger = RequestInterceptor()\n</code></pre>\n\n<p>On the other hand I have following code to set Log level for Interceptor :</p>\n\n<pre><code>val logger = HttpLoggingInterceptor(HttpLoggingInterceptor.Logger {\n                Log.d(\"API\", it)\n            })\nlogger.level = HttpLoggingInterceptor.Level.BASIC\n</code></pre>\n\n<p>At the end I want to set Interceptor as client for OkHttpClient :</p>\n\n<pre><code>val client = OkHttpClient.Builder()\n                    .addInterceptor(logger)\n                    .build()\n</code></pre>\n\n<p>Problem is : How to have both class definition as well as Log level at the same time to <code>addInterceptor(logger)</code>?</p>\n"}, {"tags": ["kotlin", "enums"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9381926, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8_IuZSdcG7Y/AAAAAAAAAAI/AAAAAAAAJJw/jTIetNv1xKU/photo.jpg?sz=128", "display_name": "Playdric", "link": "https://stackoverflow.com/users/9381926/playdric"}, "edited": false, "score": 1, "creation_date": 1541442335, "post_id": 53160059, "comment_id": 93210582, "body": "Oh yeah and I can&#39;t call it <code>name</code>, as there already a <code>name</code> member in Enum.  Thank you for your quick answer."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 19, "last_activity_date": 1541442662, "last_edit_date": 1541442662, "creation_date": 1541442192, "answer_id": 53160059, "question_id": 53160024, "link": "https://stackoverflow.com/questions/53160024/kotlin-enum-with-multiple-parameter/53160059#53160059", "title": "Kotlin enum with multiple &quot;parameter&quot;", "body": "<p>As shown in <a href=\"http://kotlinlang.org/docs/reference/enum-classes.html#initialization\" rel=\"noreferrer\">the documentation</a>, you need to declare the <code>name</code> and <code>damage</code> as properties of the enum class, using the <code>val</code> keyword:</p>\n\n<pre><code>enum class Weapon(val weaponName: String, val damage: Int)\n</code></pre>\n\n<p>Then you'll be able to simply access <code>player.weapon.weaponName</code>.</p>\n"}], "owner": {"reputation": 93, "user_id": 9381926, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8_IuZSdcG7Y/AAAAAAAAAAI/AAAAAAAAJJw/jTIetNv1xKU/photo.jpg?sz=128", "display_name": "Playdric", "link": "https://stackoverflow.com/users/9381926/playdric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6267, "favorite_count": 0, "accepted_answer_id": 53160059, "answer_count": 1, "score": 9, "last_activity_date": 1541442662, "creation_date": 1541442064, "question_id": 53160024, "link": "https://stackoverflow.com/questions/53160024/kotlin-enum-with-multiple-parameter", "title": "Kotlin enum with multiple &quot;parameter&quot;", "body": "<p>For an exercise I have an enum (set by the teacher) that looks like this :</p>\n\n<pre><code>enum class Weapon(name: String, damage: Int) {\n    SWORD(\"Sword\", 12),\n    AXE(\"Axe\", 13),\n    BOW(\"Bow\", 14)\n}\n</code></pre>\n\n<p>The weapon will be an attribute of a <code>data class Player</code><br/>\nBut once I set <code>player.weapon = Weapon.SWORD</code><br/>\nHow do i access to the <code>name</code> or <code>damage</code> of the <code>weapon</code> ?</p>\n\n<p>I have looked on the Internet for an answer but didn't find anywhere an enum with two \"parameter\" (don't know how to call it) so I start wondering if this enum is possible.</p>\n\n<p>Thanks guys</p>\n"}, {"tags": ["android", "kotlin", "robolectric"], "comments": [{"owner": {"reputation": 924, "user_id": 416598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fbc3cb499351fac2a818f37fbba7871?s=128&d=identicon&r=PG", "display_name": "Xian", "link": "https://stackoverflow.com/users/416598/xian"}, "edited": false, "score": 0, "creation_date": 1542071328, "post_id": 53159805, "comment_id": 93427961, "body": "Robolectric 4.0.2 has some issues on Windows, which we&#39;re working on: <a href=\"http://github.com/robolectric/robolectric/issues/3955\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/issues/3955</a> -- you could try using Android Gradle Plugin 3.3 beta: <a href=\"https://developer.android.com/studio/preview/\" rel=\"nofollow noreferrer\">developer.android.com/studio/preview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 801, "user_id": 5022618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmjLz.jpg?s=128&g=1", "display_name": "Tarun Dholakiya", "link": "https://stackoverflow.com/users/5022618/tarun-dholakiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1542190519, "creation_date": 1542190519, "answer_id": 53297743, "question_id": 53159805, "link": "https://stackoverflow.com/questions/53159805/cant-run-tests-with-robolectric-4-0-1-packagedebugunittestforunittest-fails/53297743#53297743", "title": "Can&#39;t run tests with Robolectric 4.0.1, &#39;packageDebugUnitTestForUnitTest&#39; fails", "body": "<p>Remove <code>android.enableUnitTestBinaryResources=true</code> from gradle.properties. It helps in my case.</p>\n\n<p>Please refer all the comments on this issue <a href=\"https://github.com/robolectric/robolectric/issues/3955\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 663, "user_id": 2930101, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UYXdd.png?s=128&g=1", "display_name": "OneEyeQuestion", "link": "https://stackoverflow.com/users/2930101/oneeyequestion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1542190519, "creation_date": 1541440959, "question_id": 53159805, "link": "https://stackoverflow.com/questions/53159805/cant-run-tests-with-robolectric-4-0-1-packagedebugunittestforunittest-fails", "title": "Can&#39;t run tests with Robolectric 4.0.1, &#39;packageDebugUnitTestForUnitTest&#39; fails", "body": "<p>My robolectric tests aren't working after upgrading to Robolectric 4.0.1.</p>\n\n<p>In my gradle configuration I am using <code>testOptions.unitTests.includeAndroidResources = true</code> and in gradle.properties <code>android.enableUnitTestBinaryResources=true</code>.</p>\n\n<p>Here's a dummy test to use as en example:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\ninternal class MyRobolectricTests\n{\n    @Test\n    fun my_test()\n    {\n        val someItems = ApplicationProvider.getApplicationContext().resources.getStringArray(R.array.array_of_strings)\n\n        assertEquals(10, someItems.size)\n    }\n}\n</code></pre>\n\n<p>I am experiencing 2 separate problems:</p>\n\n<ol>\n<li>If I run the test then I am getting the following message:</li>\n</ol>\n\n<blockquote>\n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li>What went wrong: Execution failed for task ':packageDebugUnitTestForUnitTest'.\n  \n  <blockquote>\n    <p>Illegal character in opaque part at index 11: jar:file:C:\\myproject\\build\\intermediates\\apk_for_local_test\\debugUnitTest\\packageDebugUnitTestForUnitTest\\apk-for-local-test.ap_</p>\n  </blockquote></li>\n  </ul>\n</blockquote>\n\n<ol start=\"2\">\n<li>If I remove the <code>testOptions.unitTests.includeAndroidResources = true</code> option from the gradle config file then I am getting the following error:</li>\n</ol>\n\n<blockquote>\n  <p>android.content.res.Resources$NotFoundException: Resource ID\n  #0x7f030007</p>\n</blockquote>\n\n<p>In the line <code>val someItems = ApplicationProvider.getApplicationContext()...</code></p>\n\n<p>Why did the tests work with version 3.6.1 but now they don't?</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541441239, "post_id": 53159698, "comment_id": 93210112, "body": "What does <code>ozxF ... igg1</code> represent, a user id? So you want to get all <code>event</code> objects under <code>events</code> node, is this correct?"}, {"owner": {"reputation": 136, "user_id": 9215525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vA2OV0jiVEw/AAAAAAAAAAI/AAAAAAAA9EQ/cWjaFygFowM/photo.jpg?sz=128", "display_name": "Ganesh Tiwari", "link": "https://stackoverflow.com/users/9215525/ganesh-tiwari"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541441701, "post_id": 53159698, "comment_id": 93210302, "body": "yes under users node all users are defined using their user id so the nodes are made using userid&#39;s"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541442322, "post_id": 53159698, "comment_id": 93210574, "body": "That&#39;s good. So you want to get all event objects under events node, is this correct?"}, {"owner": {"reputation": 136, "user_id": 9215525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vA2OV0jiVEw/AAAAAAAAAAI/AAAAAAAA9EQ/cWjaFygFowM/photo.jpg?sz=128", "display_name": "Ganesh Tiwari", "link": "https://stackoverflow.com/users/9215525/ganesh-tiwari"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541568518, "post_id": 53159698, "comment_id": 93257658, "body": "yes i want to get every object"}], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 2, "last_activity_date": 1541590010, "creation_date": 1541590010, "answer_id": 53188563, "question_id": 53159698, "link": "https://stackoverflow.com/questions/53159698/how-to-iterate-through-different-key-values-which-are-generated-randomly-by-fire/53188563#53188563", "title": "how to iterate through different key values which are generated randomly by firebase", "body": "<p>To solve this, there are two approaches. If you are using to add data to the database a model class named <code>Event</code>, to get the data back, please use the following lines of code:</p>\n\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference eventsRef = rootRef.child(\"users\").child(uid).child(\"events\");\nValueEventListener valueEventListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for(DataSnapshot ds : dataSnapshot.getChildren()) {\n            Event event = ds.getValue(Event.class);\n            Log.d(TAG, event.getName());\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n        Log.d(TAG, databaseError.getMessage()); //Don't ignore errors!\n    }\n};\neventsRef.addListenerForSingleValueEvent(valueEventListener);\n</code></pre>\n\n<p>The second approach would be to use String class, as in the following lines of code:</p>\n\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference eventsRef = rootRef.child(\"users\").child(uid).child(\"events\");\nValueEventListener valueEventListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for(DataSnapshot ds : dataSnapshot.getChildren()) {\n            String name = ds.child(\"name\").getValue(String.class);\n            Log.d(TAG, name);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n        Log.d(TAG, databaseError.getMessage()); //Don't ignore errors!\n    }\n};\neventsRef.addListenerForSingleValueEvent(valueEventListener);\n</code></pre>\n\n<p>In both cases, the output in the logcat will be:</p>\n\n<pre><code>Yoga Camp\nBlood Donation Camp\n</code></pre>\n"}], "owner": {"reputation": 136, "user_id": 9215525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vA2OV0jiVEw/AAAAAAAAAAI/AAAAAAAA9EQ/cWjaFygFowM/photo.jpg?sz=128", "display_name": "Ganesh Tiwari", "link": "https://stackoverflow.com/users/9215525/ganesh-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 53188563, "answer_count": 1, "score": 0, "last_activity_date": 1541590010, "creation_date": 1541440530, "question_id": 53159698, "link": "https://stackoverflow.com/questions/53159698/how-to-iterate-through-different-key-values-which-are-generated-randomly-by-fire", "title": "how to iterate through different key values which are generated randomly by firebase", "body": "<p><a href=\"https://i.stack.imgur.com/pjcxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjcxS.png\" alt=\"\"></a>\nHere is the data structure which i want to traverse\nas you can see users has different users which i can traverse through easily because they are userid which are generated during firebase authentication so i have access to them but now i want to traverse inside events node which has unknown key values as i create them with push also the attenance node is created with push and is supposed to have multiple value how should i traverse between them</p>\n"}, {"tags": ["android", "kotlin", "preferencefragment", "clicklistener"], "answers": [{"tags": [], "owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "is_accepted": true, "score": 3, "last_activity_date": 1541530106, "last_edit_date": 1541530106, "creation_date": 1541444196, "answer_id": 53160478, "question_id": 53159360, "link": "https://stackoverflow.com/questions/53159360/how-to-set-click-listener-to-this-button/53160478#53160478", "title": "How to set click listener to this Button", "body": "<p>Since your <code>Fragment</code> extends from <code>PreferenceFragmentCompat</code>, you should not try to set a <code>View.OnClickListener</code> but override <code>PreferenceFragmentCompat.onPreferenceTreeClick()</code> instead. According to the <a href=\"https://developer.android.com/reference/android/support/v7/preference/PreferenceFragmentCompat.html#onPreferenceTreeClick(android.support.v7.preference.Preference)\" rel=\"nofollow noreferrer\">documentation</a>, this method is ...</p>\n\n<blockquote>\n  <p>Called when a preference in the tree rooted at this PreferenceScreen has been clicked. </p>\n</blockquote>\n\n<p>Code example in Java:</p>\n\n<pre><code>@Override\nonPreferenceTreeClick(Preference preference){\n    if(preference.getKey().equals(getContext().getString(R.string.pref_key_category_signed_out))){\n       // user clicked signout \"button\"\n       // take appropriate actions\n       // return \"true\" to indicate you handled the click\n       return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Code example in Kotlin (I hope I can trust Android Studio :P)</p>\n\n<pre><code>override fun onPreferenceTreeClick(preferenceScreen: PreferenceScreen, preference: Preference): Boolean {\n    return if (preference.key == context.getString(R.string.pref_key_category_signed_out)) {\n        // user clicked signout \"button\"\n        // take appropriate actions\n        // return \"true\" to indicate you handled the click\n        true\n    } else false\n}\n</code></pre>\n\n<p>This will enable you to catch click events for the <code>Preference</code> but not for the <code>Button</code>. </p>\n\n<p>In order to do that as well, one can use a custom <code>Preference</code> and override <code>onBindViewHolder(PreferenceViewHolder)</code>. Since <code>PreferenceViewHolder</code> - similar to <code>RecyclerView.ViewHolder</code> - has a field <code>itemView</code> which contains the inflated layout, here is a good opportunity to set our own <code>View.OnClickListener</code>.</p>\n\n<p><code>SignOutPreference</code> extends from <code>TwoStatePreference</code> (in the <em>com.android.support:preference-v7</em> library) because replacing the <code>CheckBox</code> widget with your custom <code>Button</code> requires only to set the <code>android:widgetLayout</code> attribute, just like you do in your code snippet:</p>\n\n<pre><code>&lt;PreferenceCategory\n    android:layout=\"@layout/pref_category_text\"\n    android:title=\"@string/pref_category_sign_out_title\"&gt;\n\n    &lt;your.package.name.SignOutPreference\n        android:key=\"@string/pref_key_category_signed_out\"\n        android:widgetLayout=\"@layout/pref_category_sign_out_button\"\n        android:title=\"@string/pref_category_sign_out_button_title\"\n        android:summary=\"@string/pref_category_sign_out_buttom_summ\"/&gt;\n\n&lt;/PreferenceCategory&gt;\n</code></pre>\n\n<p>SignOutPreference.java</p>\n\n<pre><code>public class SignOutPreference extends TwoStatePreference {\n    public SignOutPreference(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    public SignOutPreference(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public SignOutPreference(Context context) {\n        super(context);\n    }\n\n    @Override\n    public void onBindViewHolder(final PreferenceViewHolder holder) {\n        super.onBindViewHolder(holder);\n        Button button = holder.itemView.findViewById(R.id.btn_sign_out);\n        if(button != null){\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(holder.itemView.getContext(), \"CLICKED!\", Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 5629241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KaA3M.jpg?s=128&g=1", "display_name": "punsku", "link": "https://stackoverflow.com/users/5629241/punsku"}, "is_accepted": false, "score": 1, "last_activity_date": 1542103912, "creation_date": 1542103912, "answer_id": 53278605, "question_id": 53159360, "link": "https://stackoverflow.com/questions/53159360/how-to-set-click-listener-to-this-button/53278605#53278605", "title": "How to set click listener to this Button", "body": "<p>As @0X0nosugar mentioned you can use the <code>onPreferenceTreeClicked</code> method to handle all clicks in a convenient way like this:</p>\n\n<pre><code>@Override\nonPreferenceTreeClick(Preference preference){\n    if ((preference.getKey().equals(getContext().getString(R.string.pref_key_category_signed_out))){\n       // user clicked signout \"button\"\n       // take appropriate actions\n       // return \"true\" to indicate you handled the click\n       return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>The problem when using a custom button via <code>widgetLayout</code> is that when the button click is not a Preference click, so the handler doesn't catch it. One way to circumvent this problem is to just disable the built-in click for the button, like this:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/btn_sign_out\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/buttonshape\"\n    android:text=\"@string/pref_category_sign_out_title\"\n    android:clickable=\"false\"/&gt;\n</code></pre>\n\n<p>See the last line. This way you don't need to create an extra class just for the button and you can easily access whatever methods and variables you have in your <code>PreferencesFragment</code> class.</p>\n\n<p>I'm sure there's a better way to somehow trigger the Preference click from the button click, but at least this works as pretty well.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15701268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991be75e913cb6865725042e0bb7615d?s=128&d=identicon&r=PG&f=1", "display_name": "sky", "link": "https://stackoverflow.com/users/15701268/sky"}, "is_accepted": false, "score": 1, "last_activity_date": 1619060738, "last_edit_date": 1619060738, "creation_date": 1619056826, "answer_id": 67205734, "question_id": 53159360, "link": "https://stackoverflow.com/questions/53159360/how-to-set-click-listener-to-this-button/67205734#67205734", "title": "How to set click listener to this Button", "body": "<p>I was looking for a simple answer and found a way. Just set the <code>onClick</code> attribute for the button in the <code>xml</code> file, and implement the method in the parent activity of the preference fragment. (It's important to implement it in the <code>Activity</code>, not in the <code>Preference Fragment</code>. Or else it will give you crashes)<br>\nI wanted to make my <code>onClick</code> method to work only when the button is touched(clicked), and not respond to clicks in the area outside of the button. So far this is the only way that works just like I wanted it to.<br><br>\nMy code is in Kotlin, but the logic is simple so it won't be hard to write it in java.<br></p>\n<p>This is my <code>button.xml</code> used for the preference's <code>widgetLayout</code>. Look at how I set the <code>android:onClick=</code> attribute.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Button\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/btn&quot;\n    android:text=&quot;reset&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    style=&quot;@style/rippleEffect&quot; //my custom ripple effect\n    android:onClick=&quot;onClickMethod&quot;&gt;\n&lt;/Button&gt;\n</code></pre>\n<p>Then I implemented the <code>onClickMethod</code> in the parent activity of the preference fragment. This callback method should be <code>public</code>, and have <code>View</code> as input parameter.<br>\n(For more info read this -&gt; <a href=\"https://stackoverflow.com/questions/4153517/how-exactly-does-the-androidonclick-xml-attribute-differ-from-setonclicklistene\">How exactly does the android:onClick XML attribute differ from setOnClickListener?</a> )</p>\n<pre><code>fun onClickMethod(view: View) {\n    //do something\n}\n</code></pre>\n<p>Below is my <code>preference.xml</code>.</p>\n<pre><code>&lt;Preference\n    android:key=&quot;pref_key&quot;\n    android:title=&quot;Reset&quot;\n    android:summary=&quot;summary..&quot;\n    app:iconSpaceReserved=&quot;false&quot;\n    android:widgetLayout=&quot;@layout/button&quot;/&gt;\n</code></pre>\n<p>Also I tried to set the <code>ClickListener</code> programmatically, but the only way that worked without errors was when I set the button's <code>ClickListener</code> inside the <code>PreferenceClickListener</code>. This only worked half way, since I need to touch(click) the preference item first to init the button's <code>ClickListener</code>.<br></p>\n<pre><code>val view = findPreference&lt;androidx.preference.Preference&gt;(&quot;pref_key&quot;)\nvar isFirst = true\nview?.setOnPreferenceClickListener {\n    if (isFirst) {\n        btn.setOnClickListener {\n            Toast.makeText(requireContext(), &quot;button clicked!&quot;, Toast.LENGTH_SHORT).show()\n        }\n        isFirst = false\n        it.summary = &quot;unlocked&quot;\n    } else {\n        isFirst = true\n        it.summary = &quot;locked - tap to unlock&quot;\n    }\n    true\n}\n</code></pre>\n<p><br><br>\nAnyway this answer is working well for me, but I'm still looking for a way to use my preference key since this method does not fully uses the preference attribute, but just as a layout. But for now I hope this is helpful for those who want to use buttons in android preference.</p>\n"}], "owner": {"reputation": 2156, "user_id": 6820170, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d2af840ea3d5ac271ed2ee2552be340f?s=128&d=identicon&r=PG&f=1", "display_name": "Tord Larsen", "link": "https://stackoverflow.com/users/6820170/tord-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 0, "accepted_answer_id": 53160478, "answer_count": 3, "score": 1, "last_activity_date": 1619060738, "creation_date": 1541439096, "last_edit_date": 1541443132, "question_id": 53159360, "link": "https://stackoverflow.com/questions/53159360/how-to-set-click-listener-to-this-button", "title": "How to set click listener to this Button", "body": "<p>I cant get this to work I want the sign out <code>Button</code> on this <code>preferences</code> screen to have a <code>ClickListener</code> </p>\n\n<p>This is how it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MI4f3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MI4f3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here\u00b4s the code and the <code>buttonView</code> is always NULL:</p>\n\n<pre><code>class PreferencesFragment : PreferenceFragmentCompat() {\n\n    lateinit var activity: Context\n\n    private var prefs: SharedPreferences = BleApplication.getInstance().getDefaultSharedPreferences()\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        activity = requireActivity()\n    }\n\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        val buttonView = view.findViewById&lt;View&gt;(R.id.btn_sign_out)\n\n        if (buttonView != null) {\n            buttonView.setOnClickListener {\n                Toast.makeText(getActivity(), \"You clicked me.\", Toast.LENGTH_SHORT).show()\n            }\n        }\n        // Hide the divider\n/*        setDivider(ColorDrawable(Color.TRANSPARENT))\n        setDividerHeight(0)*/\n    }\n\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        addPreferencesFromResource(R.xml.app_prefs)\n    }\n}\n</code></pre>\n\n<p>I also tried the kotlinx.android.synthetic but same problem there</p>\n\n<p>Here\u00b4s the xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;PreferenceCategory\n        android:layout=\"@layout/pref_category_text\"\n        android:title=\"@string/pref_category_remote_battery_title\"&gt;\n\n        &lt;SwitchPreferenceCompat\n            android:key=\"@string/pref_key_category_remote_battery_switch\"\n            android:title=\"@string/pref_category_remote_battery_switch_title\"\n            android:summary=\"@string/pref_category_remote_battery_switch_summ\"/&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n    &lt;PreferenceCategory\n        android:layout=\"@layout/pref_category_text\"\n        android:title=\"@string/pref_category_sign_out_title\"&gt;\n\n        &lt;Preference\n            android:key=\"@string/pref_key_category_signed_out\"\n            android:widgetLayout=\"@layout/pref_category_sign_out_button\"\n            android:title=\"@string/pref_category_sign_out_button_title\"\n            android:summary=\"@string/pref_category_sign_out_buttom_summ\"/&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n\n<p>Here is the <code>\"@layout/pref_category_sign_out_button\"</code> layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_sign_out\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/buttonshape\"\n        android:text=\"@string/pref_category_sign_out_title\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1541434869, "post_id": 53158025, "comment_id": 93207075, "body": "<code>if (signname!!.text.isNotEmpty()) {...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 3, "last_activity_date": 1541434471, "creation_date": 1541434471, "answer_id": 53158157, "question_id": 53158025, "link": "https://stackoverflow.com/questions/53158025/need-help-in-android-with-kotlin/53158157#53158157", "title": "Need help in Android with Kotlin", "body": "<p>You're reading the edittext value too early. Move the</p>\n\n<pre><code>val s=signname!!.text.toString()\n</code></pre>\n\n<p>inside your <code>validate()</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 5789746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6bO0.jpg?s=128&g=1", "display_name": "Siddhartha Maji", "link": "https://stackoverflow.com/users/5789746/siddhartha-maji"}, "is_accepted": false, "score": 0, "last_activity_date": 1541510697, "creation_date": 1541510697, "answer_id": 53172847, "question_id": 53158025, "link": "https://stackoverflow.com/questions/53158025/need-help-in-android-with-kotlin/53172847#53172847", "title": "Need help in Android with Kotlin", "body": "<p>**</p>\n\n<blockquote>\n  <p>Use your code like this.</p>\n</blockquote>\n\n<p>**</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val s = tvDisplay.text.toString()\n\n        btnOk.setOnClickListener {\n            validate(s)\n        }\n    }\n\n    private fun validate(s:String) {\n\n        if(s.isNotEmpty()){\n            Toast.makeText(this,\"Working :)\",Toast.LENGTH_SHORT).show()\n        }\n        else{\n            Toast.makeText(this,\"Not Working :(\",Toast.LENGTH_SHORT).show()\n        }\n    } }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10602286, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JpEcIUoss_w/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD2g6mp8Sb1ZxHCEidDhTXAY51tnw/mo/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10602286/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53158157, "answer_count": 2, "score": 0, "last_activity_date": 1541510697, "creation_date": 1541434056, "question_id": 53158025, "link": "https://stackoverflow.com/questions/53158025/need-help-in-android-with-kotlin", "title": "Need help in Android with Kotlin", "body": "<p>SignupActivity.kt</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.EditText\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_signup.*\n\nclass SignupActivity:AppCompatActivity(){\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_signup)\n\n\n    val signname =findViewById&lt;EditText&gt;(R.id.signNameTxt)\n    val s=signname!!.text.toString()\n\n    fun validate(){\n        if(s.isNotEmpty()){\n            Toast.makeText(this,\"Working :)\",Toast.LENGTH_SHORT).show()\n        }\n        else{\n            Toast.makeText(this,\"Not Working :(\",Toast.LENGTH_SHORT).show()\n        }\n    }\n    signNxtBtn.setOnClickListener{\n       validate()\n    }\n}\npublic override fun onDestroy() {\n    super.onDestroy()\n}\n}\n</code></pre>\n\n<p>This is a simple code for signup activity to validate whether the field is empty or not for further processing</p>\n\n<pre><code>if(s.isNotEmpty()){\n            Toast.makeText(this,\"Working :)\",Toast.LENGTH_SHORT).show()\n        }\n\n        else{\n            Toast.makeText(this,\"Not Working :(\",Toast.LENGTH_SHORT).show()\n        }\n</code></pre>\n\n<p>In this part of the code, whether I enter any value inside the text field, the application is returning the else part.</p>\n"}]