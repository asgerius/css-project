[{"tags": ["php", "android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 6181, "user_id": 3000068, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d32a49f062a3db9583d4ac8f259cc7d7?s=128&d=identicon&r=PG&f=1", "display_name": "HPierce", "link": "https://stackoverflow.com/users/3000068/hpierce"}, "edited": false, "score": 1, "creation_date": 1515628591, "post_id": 48197886, "comment_id": 83377005, "body": "The request coming into PHP won&#39;t have <code>$_POST</code> populated because JSON data is sent as raw data in the request body. Esstienally you need to read it from input. The code snippet from the duplicate <code>$json = file_get_contents(&#39;php:&#47;&#47;input&#39;); $obj = json_decode($json);</code> is very likely what you need. Good luck :-)."}, {"owner": {"reputation": 374, "user_id": 5326319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fd1dcead09716f1b8f118e6d661c9a?s=128&d=identicon&r=PG&f=1", "display_name": "K.R.", "link": "https://stackoverflow.com/users/5326319/k-r"}, "reply_to_user": {"reputation": 6181, "user_id": 3000068, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d32a49f062a3db9583d4ac8f259cc7d7?s=128&d=identicon&r=PG&f=1", "display_name": "HPierce", "link": "https://stackoverflow.com/users/3000068/hpierce"}, "edited": false, "score": 0, "creation_date": 1515630068, "post_id": 48197886, "comment_id": 83377440, "body": "@HPierce, thanks that&#39;s basically what I needed. I just needed to change <code>$obj = json_decode($json);</code> to <code>$obj = json_decode($json, true)</code> so I could get it as an associative array."}], "owner": {"reputation": 374, "user_id": 5326319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fd1dcead09716f1b8f118e6d661c9a?s=128&d=identicon&r=PG&f=1", "display_name": "K.R.", "link": "https://stackoverflow.com/users/5326319/k-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1515634832, "answer_count": 0, "score": 1, "last_activity_date": 1515628015, "creation_date": 1515628015, "question_id": 48197886, "link": "https://stackoverflow.com/questions/48197886/php-receive-post-jsonobject-from-volley-jsonobjectrequest", "closed_reason": "Duplicate", "title": "PHP Receive POST JSONObject from Volley JsonObjectRequest", "body": "<p>I'm trying to get a php file to receive data from a JSONObject by POST request.</p>\n\n<p>This is my android code in Kotlin:</p>\n\n<pre><code>    val jsonObject = JSONObject().apply {\n        put(\"username\", username)\n        put(\"password\", password)\n        put(\"value\", value)\n        put(\"time\", time)\n    }\n    val jsonObjectReq = JsonObjectRequest(Method.POST, url, jsonObject,\n            Response.Listener { response -&gt;\n                Toast.makeText(this, response.getString(\"message\"), Toast.LENGTH_LONG).show()\n            },\n            Response.ErrorListener {\n                Toast.makeText(this, \"Error\", Toast.LENGTH_LONG).show()\n            })\n    Volley.newRequestQueue(this).add(jsonObjectReq)\n</code></pre>\n\n<p>I thought that in a php script, $_POST[\"username\"] would get the username I put in the json object, but it doesn't. In fact the php script gets no post variables with my from the JsonObjectRequest. How do I get the values I put in the JSONObject in my php script and if I can't then what is the purpose of putting jsonObject in the constructor call for JSONObjectRequest?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "edited": false, "score": 0, "creation_date": 1515629777, "post_id": 48197889, "comment_id": 83377352, "body": "I didn&#39;t know we could use it that way more than two hours I try different solution ! thank you !"}], "tags": [], "owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "is_accepted": true, "score": 4, "last_activity_date": 1516051658, "last_edit_date": 1516051658, "creation_date": 1515628040, "answer_id": 48197889, "question_id": 48197719, "link": "https://stackoverflow.com/questions/48197719/create-collection-from-another-one-in-kotlin/48197889#48197889", "title": "Create collection from another one in kotlin", "body": "<p><code>map</code> works fine for this scenario:</p>\n\n<pre><code>data class Student(val id: Int, val code: String, val firstName: String, val lastName: String, val age: Int, val birthday: String)\ndata class NewStudent(val firstName: String, val lastName: String, val age: Int)\n\nval students = listOf(\n   Student(1, \"A\", \"1F\", \"1L\", 11, \"1/1/2000\"), \n   Student(2, \"B\", \"2F\", \"2L\", 12, \"1/2/2000\"),\n   Student(3, \"C\", \"3F\", \"3L\", 13, \"1/3/2000\")\n)\n\nval newStudents = students.map { student -&gt; \n    NewStudent(student.firstName, student.lastName, student.age) \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1516051893, "post_id": 48203372, "comment_id": 83525514, "body": "Not all objects can be destructured. Only instances of a data class or instances of other classes which implement componentN(). Otherwise good point."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1516052169, "post_id": 48203372, "comment_id": 83525628, "body": "Good point, I took it for granted that he\u2019s using data classes. Thank you."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1516052194, "last_edit_date": 1516052194, "creation_date": 1515662062, "answer_id": 48203372, "question_id": 48197719, "link": "https://stackoverflow.com/questions/48197719/create-collection-from-another-one-in-kotlin/48203372#48203372", "title": "Create collection from another one in kotlin", "body": "<p>I agree with <a href=\"https://stackoverflow.com/a/48197889/8073652\">kabuko</a> but would like to add an alternative usage of <code>map</code>:</p>\n\n<p>It's possible to <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-in-lambdas-since-11\" rel=\"nofollow noreferrer\">destructure</a> objects (of <code>data</code> classes <a href=\"https://stackoverflow.com/a/47979638/8073652\">e.g.</a>) even inside a lambda, such as the one passed to <code>map</code>:</p>\n\n<pre><code>val newStudents = students.map { (_, _, fn, ln, age, _) -&gt;\n    NewStudent(fn, ln, age)\n}\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#underscore-for-unused-variables-since-11\" rel=\"nofollow noreferrer\">underscores</a> indicate the properties that are irrelevant for the mapping. This is a more readable solution imho.</p>\n"}], "owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 48197889, "answer_count": 2, "score": 1, "last_activity_date": 1516052194, "creation_date": 1515626856, "last_edit_date": 1516051712, "question_id": 48197719, "link": "https://stackoverflow.com/questions/48197719/create-collection-from-another-one-in-kotlin", "title": "Create collection from another one in kotlin", "body": "<p>I want to take certain element from a collection to create another one.</p>\n\n<p>Example I have a list created from this object </p>\n\n<pre><code>Student (Id, Code, FirstName, LastName, Age, Birthday)` \n</code></pre>\n\n<p>and I want to create a new collection from my first one that contains certain fields example </p>\n\n<pre><code>NewStudent(FirstName, LastName, Age)\n</code></pre>\n\n<p>I tried using <code>map</code>, <code>filter</code> but I can't get the result right.</p>\n"}, {"tags": ["kotlin", "httprequest"], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 5435312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HjWfX.jpg?s=128&g=1", "display_name": "garywzh", "link": "https://stackoverflow.com/users/5435312/garywzh"}, "is_accepted": false, "score": 2, "last_activity_date": 1515632214, "creation_date": 1515632214, "answer_id": 48198392, "question_id": 48197639, "link": "https://stackoverflow.com/questions/48197639/kotlin-wait-until-function-ends/48198392#48198392", "title": "Kotlin wait until function ends", "body": "<p>The problem is that you are using Fuel library the <a href=\"https://github.com/kittinunf/Fuel#async-mode\" rel=\"nofollow noreferrer\">Async mode</a> , what you should use is the <a href=\"https://github.com/kittinunf/Fuel#blocking-mode\" rel=\"nofollow noreferrer\">Blocking mode</a> .</p>\n\n<p>something like this</p>\n\n<pre><code>val (request, response, result) = URL.httpGet().responseJson()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1935792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4874b5680ebfa3a864b0e69a3dca9338?s=128&d=identicon&r=PG", "display_name": "Israel L&#243;pez", "link": "https://stackoverflow.com/users/1935792/israel-l%c3%b3pez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515632214, "creation_date": 1515626224, "question_id": 48197639, "link": "https://stackoverflow.com/questions/48197639/kotlin-wait-until-function-ends", "title": "Kotlin wait until function ends", "body": "<p>I am doing a http request but I need to return a value if I got answer or not. \nMy problem is that my code continues and my http request has not finished.\nBut I all always get false because function is returning before http request ends\nI am using Fuel library</p>\n\n<p>Thanks\nSomething like this:</p>\n\n<pre><code>fun get_data():Boolean{\n val URL:String=\"http:myurl\"\n var response:Boolean=false\n\nURL.httpGet( listOf(\"user\" to \"user\")).responseJson{request, response, result -&gt;\n\n                result.fold(\n                        success = { json -&gt;\n\n                            response=true\n\n                        },\n                        failure = { error -&gt;\n                            response=false\n                        }\n                )\n\n            }\n\nreturn response\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 0, "last_activity_date": 1515678060, "last_edit_date": 1515678060, "creation_date": 1515638364, "answer_id": 48199037, "question_id": 48195927, "link": "https://stackoverflow.com/questions/48195927/textclock-in-appwidget-not-responding-to-any-function-calls/48199037#48199037", "title": "TextClock in AppWidget not responding to any function calls", "body": "<p>Well I figured it out, and I honestly have no idea why it's like this. I noticed that when I added another widget to the info screen, it, too, was not responding to changes. So I looked at the differences between the two broken views and the one working view (the battery).</p>\n\n<p>I found that the battery view is enclosed in a LinearLayout, and wouldn't you know it, enclosing the TextClock and the new widget (and ImageView) in dummy LinearLayouts fixed the issue:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextClock\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center_vertical\"\n        android:padding=\"2dp\"\n        android:textSize=\"64px\"\n        android:id=\"@+id/textClock\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 48199037, "answer_count": 1, "score": 1, "last_activity_date": 1515678060, "creation_date": 1515617753, "question_id": 48195927, "link": "https://stackoverflow.com/questions/48195927/textclock-in-appwidget-not-responding-to-any-function-calls", "title": "TextClock in AppWidget not responding to any function calls", "body": "<p>I'm working on an information widget for the LG V20/V10, to run in the second screen (very easy to add one: just set your category to 36864/0x9000). Currently, I have a battery view and a TextClock in the RemoteViews layout:</p>\n\n<pre><code>&lt;!--info_widget.xml--&gt;\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"1040px\"\n    android:layout_height=\"160px\"&gt;\n\n    &lt;include\n        android:id=\"@+id/battery\"\n        layout=\"@layout/battery_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_toLeftOf=\"@+id/clock\"\n        android:layout_gravity=\"right\" /&gt;\n\n    &lt;include\n        android:id=\"@+id/clock\"\n        layout=\"@layout/clock_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_gravity=\"right\" /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;!--battery_view.xml--&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"160px\"\n    android:layout_gravity=\"center\"\n    android:foregroundGravity=\"center\"\n    android:orientation=\"vertical\"\n    android:padding=\"2dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/battery_view\"\n        android:layout_width=\"70px\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"center\"\n        android:layout_weight=\"1\"\n        android:scaleType=\"centerCrop\"\n        android:tint=\"#fff\"\n        app:srcCompat=\"@drawable/ic_battery_alert_black_24dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/battery_percent\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom|center\"\n        android:textColor=\"#fff\"\n        android:textSize=\"40px\" /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;!--clock_view.xml--&gt;\n\n&lt;TextClock xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center_vertical\"\n    android:padding=\"2dp\"\n    android:textSize=\"64px\"\n    android:id=\"@+id/clock_view\"/&gt;\n</code></pre>\n\n<p>In my code, I have these functions, which get called from <code>onUpdate()</code> for every widget ID (in Kotlin):</p>\n\n<pre><code>private fun updateBattery(views: RemoteViews) {\n    val level = mBatteryManager?.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY)\n    val charging = mBatteryManager?.isCharging\n\n    mBatteryState.updateState(level as Int, charging as Boolean)\n\n    views.setImageViewResource(R.id.battery_view, mBatteryState.imageResource)\n\n    var color = mPrefs?.getInt(\"battery_color\", Color.WHITE)\n    var showPercent = mPrefs?.getBoolean(\"show_percent\", true)\n\n    if (color == null) color = Color.WHITE\n    if (showPercent == null) showPercent = true\n\n    views.setInt(R.id.battery_view, \"setColorFilter\", color)\n    views.setTextColor(R.id.battery_percent, color)\n\n    if (showPercent) {\n        views.setViewVisibility(R.id.battery_percent, View.VISIBLE)\n        views.setTextViewText(R.id.battery_percent, mBatteryState.percent.toString() + \"%\")\n    } else {\n        views.setViewVisibility(R.id.battery_percent, View.GONE)\n    }\n}\n\nprivate fun updateClock(views: RemoteViews) {\n    var hour_24 = mPrefs?.getBoolean(\"24_hour\", false)\n    var amPm = mPrefs?.getBoolean(\"am_pm\", true)\n    var showDate = mPrefs?.getBoolean(\"show_date\", false)\n    var color = mPrefs?.getInt(\"clock_color\", Color.WHITE)\n\n    if (hour_24 == null) hour_24 = false\n    if (amPm == null) amPm = true\n    if (showDate == null) showDate = false\n    if (color == null) color = Color.WHITE\n\n    val format: CharSequence = if (showDate) \"EE, d \" else {\"\"} +  if (hour_24) \"k\" else {\"h\"} + \":mm\" + if (amPm) \" a\" else {\"\"}\n\n    views.setCharSequence(R.id.clock_view, \"setFormat12Hour\", format)\n    views.setCharSequence(R.id.clock_view, \"setFormat24Hour\", format)\n\n    views.setTextColor(R.id.clock_view, color)\n}\n</code></pre>\n\n<p>I have a service that gets started, to listen for preference changes and receive broadcast intents, which calls the widget's <code>onUpdate()</code> whenever something happens.</p>\n\n<p>Everything works fine in the battery function: I can use the configuration activity to change the tint color and whether or not the percentage is shown, and the changes take place immediately. For whatever, reason, though, the functions in the clock function don't seem to do a thing.</p>\n\n<p>When the view is inflated, and I have a color already set to tint it, it's still white. If I change the format, nothing happens. It's almost as if the TextClock functions aren't actually being called. </p>\n\n<p>I even checked the AOSP source, and it looks like these methods should be allowed from a RemoteViews object: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/TextClock.java#307\" rel=\"nofollow noreferrer\">setFormat12Hour(CharSequence charSequence)</a></p>\n\n<p>What'd I do wrong?</p>\n"}, {"tags": ["kotlin", "gradle", "kotlin-multiplatform", "gradle-dependencies", "kmm"], "comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 1, "creation_date": 1522354225, "post_id": 48194556, "comment_id": 86136633, "body": "I don&#39;t know whether this is still relevant for you but <a href=\"https://github.com/jstuyts/kotlin-multiplatform-recipes\" rel=\"nofollow noreferrer\">this project</a> contains a complete example with all bells and whistles you might need."}, {"owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 1, "creation_date": 1522400859, "post_id": 48194556, "comment_id": 86150551, "body": "Seems interesting, especially when issue #10 will be resolved, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "edited": false, "score": 0, "creation_date": 1520369480, "post_id": 48214875, "comment_id": 85284737, "body": "Thank you very much for these instructions, you saved me a lot of time. I think, we should create a feature request to support a &quot;compile project(&#39;...&#39;)&quot; dependency between two common modules. Do you know if there is one already?"}, {"owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "reply_to_user": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "edited": false, "score": 0, "creation_date": 1520422309, "post_id": 48214875, "comment_id": 85305861, "body": "I&#39;m not aware of one"}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "reply_to_user": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "edited": false, "score": 0, "creation_date": 1523742369, "post_id": 48214875, "comment_id": 86688105, "body": "@Andi Can&#39;t you use <code>compile project(&#39;:alpha-common&#39;)</code> in <code>beta-common</code>? At least it is possible to use <code>compile &quot;some.groupid:some.artifactid:1.0.0&quot;</code>"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "edited": false, "score": 0, "creation_date": 1538480113, "post_id": 48214875, "comment_id": 92149052, "body": "This is the key bit of information: <i>&quot;Dependencies, e.g. from alpha on beta, is declared in the common alpha module <b>and all alpha platform modules</b>.&quot;</i>"}, {"owner": {"reputation": 1305, "user_id": 9775278, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hUz4-9mLcbk/AAAAAAAAAAI/AAAAAAAAAe0/DtiqUiPv0Ek/photo.jpg?sz=128", "display_name": "andylamax", "link": "https://stackoverflow.com/users/9775278/andylamax"}, "reply_to_user": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1540619796, "post_id": 48214875, "comment_id": 92940912, "body": "I might be a little late to the party @SimonForsberg but, I have a answer to your question &quot;Can&#39;t you use compile project(&#39;:alpha-common&#39;) in beta-common&quot;. Yes you can, but as you add your dependency to the common module, add the respective platform specific modules to their platform specific actual version that your common has. Hope this helps someone"}, {"owner": {"reputation": 332, "user_id": 1509251, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/E4854.jpg?s=128&g=1", "display_name": "Egor Okhterov", "link": "https://stackoverflow.com/users/1509251/egor-okhterov"}, "edited": false, "score": 0, "creation_date": 1576148464, "post_id": 48214875, "comment_id": 104808868, "body": "Do I understand correctly that this answer is outdated as of today?"}, {"owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "reply_to_user": {"reputation": 332, "user_id": 1509251, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/E4854.jpg?s=128&g=1", "display_name": "Egor Okhterov", "link": "https://stackoverflow.com/users/1509251/egor-okhterov"}, "edited": false, "score": 0, "creation_date": 1576151627, "post_id": 48214875, "comment_id": 104810514, "body": "@Pixar The answer hasn&#39;t recently been tested by me so I don&#39;t know. I would hope it has gotten easier in the last two years. Although the accompanying Github is still gaining stars so I guess some of it is still correct..."}, {"owner": {"reputation": 332, "user_id": 1509251, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/E4854.jpg?s=128&g=1", "display_name": "Egor Okhterov", "link": "https://stackoverflow.com/users/1509251/egor-okhterov"}, "edited": false, "score": 0, "creation_date": 1576157313, "post_id": 48214875, "comment_id": 104813562, "body": "@Mark I&#39;m just struggling to set up my project for a week already and wasn&#39;t able to find any project in the internet that works, which then I could emulate."}, {"owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "reply_to_user": {"reputation": 332, "user_id": 1509251, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/E4854.jpg?s=128&g=1", "display_name": "Egor Okhterov", "link": "https://stackoverflow.com/users/1509251/egor-okhterov"}, "edited": false, "score": 0, "creation_date": 1576161070, "post_id": 48214875, "comment_id": 104815849, "body": "@Pixar Yeah it was tricky at least in 2018, I&#39;m not aware of any new sources, be sure to post your solution if you find it."}], "tags": [], "owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "is_accepted": true, "score": 10, "last_activity_date": 1516527812, "last_edit_date": 1516527812, "creation_date": 1515700439, "answer_id": 48214875, "question_id": 48194556, "link": "https://stackoverflow.com/questions/48194556/use-gradle-sub-projects-with-kotlin-multiplatform/48214875#48214875", "title": "Use Gradle sub-projects with Kotlin multiplatform", "body": "<p>This took a crazy amount of time, so I hope this is useful for someone!</p>\n\n<p>There is a functional example on Github: <a href=\"https://github.com/mverleg/kotlin_multiplatform_gradle_demo/tree/stackoverflow_48194556\" rel=\"noreferrer\">kotlin_multiplatform_gradle_demo</a></p>\n\n<p>Several sources helped, but a lot of it was trial and error, so if something is bad practise, please let me know!</p>\n\n<hr>\n\n<p>For the minimal example, the structure is like this:</p>\n\n<pre><code>\u251c\u2500\u2500 alpha\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 alpha-js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 alpha-jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 main\n\u2502\u00a0\u00a0         \u251c\u2500\u2500 kotlin\n\u2502\u00a0\u00a0         \u2502\u00a0\u00a0 \u2514\u2500\u2500 demo\n\u2502\u00a0\u00a0         \u2502\u00a0\u00a0     \u2514\u2500\u2500 alpha\n\u2502\u00a0\u00a0         \u2502\u00a0\u00a0         \u2514\u2500\u2500 main.kt\n\u251c\u2500\u2500 beta\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 beta-js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 main\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 demo\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0                 \u2514\u2500\u2500 beta\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0                     \u2514\u2500\u2500 platform.kt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 beta-jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 main\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 demo\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0                 \u2514\u2500\u2500 beta\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0                     \u2514\u2500\u2500 platform.kt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 main\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0             \u2514\u2500\u2500 demo\n\u2502\u00a0\u00a0                 \u2514\u2500\u2500 beta\n\u2502\u00a0\u00a0                     \u2514\u2500\u2500 platform.kt\n\u251c\u2500\u2500 build.gradle\n\u2514\u2500\u2500 settings.gradle\n</code></pre>\n\n<p>The common modules (<code>alpha</code> and <code>beta</code>) need platform modules for each platform with at least a `build.gradle``.</p>\n\n<p>The <code>settings.gradle</code> file imports all modules, including platform ones.</p>\n\n<p>Dependencies, e.g. from alpha on beta, is declared in the common alpha module and all alpha platform modules.</p>\n\n<hr>\n\n<p>Some patterns I learned:</p>\n\n<ul>\n<li>Every 'normal' (common) module has one platform module for each platform.</li>\n<li>For common module <code>alpha</code>, the javascript platform module must be called <code>alpha-js</code> (similar for <code>-jvm</code>).</li>\n<li>If there is no platform specific code, this module can be just a gradle file in a directory.</li>\n<li>The platform modules can be conveniently placed inside of the common module directory (so <code>alpha:alpha-js</code>).</li>\n<li>The common module should not refer to the platform modules; the platform modules have a dependency <code>expectedBy project(\":the_common_module\")</code>.</li>\n<li><p>If module <code>alpha</code> depends on <code>beta</code>, then</p>\n\n<ul>\n<li><code>alpha</code> must have <code>dependencies { compile project(\":beta\") }</code></li>\n<li><code>alpha-js</code> must have <code>dependencies { compile project(\":beta:beta-js\") }</code> (in addition to <code>expectedBy</code>)</li>\n<li><code>alpha-jvm</code> must have <code>dependencies { compile project(\":beta:beta-jvm\") }</code> (in addition to <code>expectedBy</code>) etc</li>\n</ul></li>\n<li><p>Only the top module has <code>settings.gradle</code>, which includes ALL submodules (including platform ones).</p></li>\n<li>Make sure to get the names right, as incorrect ones don't cause an error, they just fail silently. (It seems ridiculous but I guess there is a reason.)</li>\n<li>Do NOT put all the output into a single, shared build directory - this results in several weird non-deterministic errors.</li>\n</ul>\n\n<hr>\n\n<p>I used to have the full config files here, but it's better to just check the code on <a href=\"https://github.com/mverleg/kotlin_multiplatform_gradle_demo/tree/stackoverflow_48194556\" rel=\"noreferrer\">Github</a> because it's really long.</p>\n"}, {"comments": [{"owner": {"reputation": 602, "user_id": 2877817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc880554eeb0901a569556b65597d0c?s=128&d=identicon&r=PG&f=1", "display_name": "Joost de Vries", "link": "https://stackoverflow.com/users/2877817/joost-de-vries"}, "edited": false, "score": 1, "creation_date": 1557039138, "post_id": 52713203, "comment_id": 98627400, "body": "I came upon this from a search for that error. What the error means is that the compiler can&#39;t find the non platform specific function/class etc that the <code>actual</code> function/class is a platform specific implementation of."}], "tags": [], "owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "is_accepted": false, "score": 0, "last_activity_date": 1539057810, "creation_date": 1539057810, "answer_id": 52713203, "question_id": 48194556, "link": "https://stackoverflow.com/questions/48194556/use-gradle-sub-projects-with-kotlin-multiplatform/52713203#52713203", "title": "Use Gradle sub-projects with Kotlin multiplatform", "body": "<p>For anyone coming from a Google search for:</p>\n\n<blockquote>\n  <p>\"Actual function/class/companion object/etc. has no corresponding expected declaration\"</p>\n</blockquote>\n\n<p>Try cleaning and rebuilding the project, for me, this revealed a number of other errors which were preventing the build.</p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1607465596, "creation_date": 1607465596, "answer_id": 65207703, "question_id": 48194556, "link": "https://stackoverflow.com/questions/48194556/use-gradle-sub-projects-with-kotlin-multiplatform/65207703#65207703", "title": "Use Gradle sub-projects with Kotlin multiplatform", "body": "<p>Submodules have to be declared within the scope of dependencies by sourceSets. If the submodule is defined in the common sourceSet, it does not need to be defined in the one of the particular platform, but not vice versa.</p>\n<h2>build.gradle.kts (:kmm_shared:feature_a)</h2>\n<pre><code>kotlin {\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                api(project(&quot;:kmm_shared:domain&quot;))\n            }\n        }\n}\n</code></pre>\n<p>With this it is not necessary that the android sourceSet also includes the dependency.</p>\n<p>GL</p>\n"}], "owner": {"reputation": 15065, "user_id": 723090, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ML1tj.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/723090/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3432, "favorite_count": 2, "accepted_answer_id": 48214875, "answer_count": 3, "score": 8, "last_activity_date": 1607465632, "creation_date": 1515611728, "last_edit_date": 1607465632, "question_id": 48194556, "link": "https://stackoverflow.com/questions/48194556/use-gradle-sub-projects-with-kotlin-multiplatform", "title": "Use Gradle sub-projects with Kotlin multiplatform", "body": "<p>I'm using Kotlin multi-platform (JVM &amp; JS), which in IDEA creates three projects: <code>demo</code>, <code>demo-js</code> and <code>demo-jvm</code>.</p>\n\n<p>I would like to split the common code into more subprojects/submodules. Let's say I add <code>commonmod</code>; how do I make it compile?</p>\n\n<p>The error right now, for <code>gradle run -p demo-jvm</code>, is:</p>\n\n<pre><code>demo/demo-js/src/main/kotlin/demo/commonmod/example.kt: (3, 12): Actual function 'getPlatform' has no corresponding expected declaration\n</code></pre>\n\n<p>but I think I'm doing this fundamentally wrong, as I don't know what should depend on what (although I tried quite some iterations). If I solve this error I get other ones, and then other ones again, until I'm back to this one.</p>\n\n<hr>\n\n<p>As a minimal-but-still-large <a href=\"https://github.com/mverleg/kotlin_multiplatform_gradle_demo\" rel=\"noreferrer\">example</a>, I have:</p>\n\n<p><em>demo/settings.gradle</em>:</p>\n\n<pre><code>rootProject.name = 'demo'\n\ninclude 'demo-jvm', 'demo-js', 'commonmod'\n</code></pre>\n\n<p><em>demo/build.gradle</em>:</p>\n\n<pre><code>buildscript { ... }\n\napply plugin: 'kotlin-platform-common'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-common:$kotlin_version\"\n    compile project(':commonmod')\n}\n</code></pre>\n\n<p><em>demo/demo-jvm/settings.gradle</em>:</p>\n\n<pre><code>rootProject.name = 'demo'\n</code></pre>\n\n<p><em>demo/demo-jvm/build.gradle</em>:</p>\n\n<pre><code>buildscript { ... }\n\napply plugin: 'kotlin-platform-jvm'\napply plugin: 'application'\n\nrepositories {\n    mavenCentral()\n}\n\nmainClassName = \"demo.MainKt\"\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    expectedBy project(\":\")\n    testCompile \"junit:junit:4.12\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n}\n</code></pre>\n\n<p><em>demo/demo-js/settings.gradle</em>:</p>\n\n<pre><code>rootProject.name = 'demo'\n</code></pre>\n\n<p><em>demo/demo-js/build.gradle</em>:</p>\n\n<pre><code>buildscript { ... }\n\napply plugin: 'kotlin-platform-js'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n    expectedBy project(\":\")\n    testCompile \"org.jetbrains.kotlin:kotlin-test-js:$kotlin_version\"\n}\n</code></pre>\n\n<p><em>demo/commonmod/settings.gradle</em>:</p>\n\n<pre><code>rootProject.name = 'demo'\n\ninclude 'demo-jvm', 'demo-js'\n</code></pre>\n\n<p><em>demo/commonmod/build.gradle</em>:</p>\n\n<pre><code>buildscript { ... }\n\napply plugin: 'kotlin-platform-common'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-common:$kotlin_version\"\n    compile project(':demo-js')\n    compile project(':demo-jvm')\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "nullable", "parcelable", "type-mismatch"], "comments": [{"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "edited": false, "score": 0, "creation_date": 1600955172, "post_id": 48194339, "comment_id": 113257600, "body": "You can simply put it like this  image?.let{dest.writeLong(it)}"}], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1573947311, "last_edit_date": 1573947311, "creation_date": 1515611476, "answer_id": 48194495, "question_id": 48194339, "link": "https://stackoverflow.com/questions/48194339/android-parcelable-write-nullable-long/48194495#48194495", "title": "Android parcelable - write nullable long", "body": "<p>I use extension functions to solve problems like these in my projects now:</p>\n\n<pre><code>private const val NULL_ELEMENT_FLAG = 0;\nprivate const val NONNULL_ELEMENT_FLAG = 1;\n\nParcel.writeNullableLong(l: Long?) {\n    if (l != null) {\n        writeInt(NONNULL_ELEMENT_FLAG);\n        writeLong(l);\n    } else {\n        writeInt(NULL_ELEMENT_FLAG);\n    }\n}\n\nParcel.readNullableLong(): Long? =\n    when (readInt()) {\n        NONNULL_ELEMENT_FLAG -&gt; readLong()\n        else -&gt; null\n    }\n</code></pre>\n\n<hr>\n\n<p>In Java, the way I handle <code>Long</code> (as opposed to <code>long</code>) is patterned after the Android source code for writing other \"nullable\" types: you first write some sort of marker value to indicate null vs non-null, and then you conditionally write the real value.</p>\n\n<pre><code>private static final int NULL_ELEMENT_FLAG = 0;\nprivate static final int NONNULL_ELEMENT_FLAG = 1;\n\npublic static void writeLong(Parcel dest, Long l) {\n    if (l != null) {\n        dest.writeInt(NONNULL_ELEMENT_FLAG);\n        dest.writeLong(l);\n    }\n    else {\n        dest.writeInt(NULL_ELEMENT_FLAG);\n    }\n}\n\npublic static Long readLong(Parcel in) {\n    if (in.readInt() != NULL_ELEMENT_FLAG) {\n        return in.readLong();\n    }\n    else {\n        return null;\n    }\n}\n</code></pre>\n\n<p>Hopefully you can adapt this to kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "edited": false, "score": 0, "creation_date": 1589866502, "post_id": 49890185, "comment_id": 109454959, "body": "What about the case of actually <code>myLong = -1</code>? This solution simply ignores that fact."}, {"owner": {"reputation": 1406, "user_id": 1886484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V55rW.jpg?s=128&g=1", "display_name": "Ali Kazi", "link": "https://stackoverflow.com/users/1886484/ali-kazi"}, "reply_to_user": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "edited": false, "score": 0, "creation_date": 1590237628, "post_id": 49890185, "comment_id": 109608050, "body": "@musooff If <code>myLong = -1</code> that comes under the <code>else</code> part of the <code>when</code>. I think tha&#39;ts pretty clear."}, {"owner": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "edited": false, "score": 0, "creation_date": 1590369025, "post_id": 49890185, "comment_id": 109646402, "body": "Well, I get that. The problem is you are equating null case to -1. Both null cases and -1 will be converted to -1. So, while reading you loose information wether the value was -1 or null in the first place."}, {"owner": {"reputation": 1406, "user_id": 1886484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V55rW.jpg?s=128&g=1", "display_name": "Ali Kazi", "link": "https://stackoverflow.com/users/1886484/ali-kazi"}, "reply_to_user": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "edited": false, "score": 0, "creation_date": 1590406304, "post_id": 49890185, "comment_id": 109658726, "body": "@musooff It could be further changed to check additional cases if needed such as if <code>myLong &lt; 0</code>. <code>l == null -&gt; -1</code> <code>l &lt; 0 -&gt; -1</code>  <code>else -&gt; l</code> I think this is inferred by the reader."}, {"owner": {"reputation": 317, "user_id": 1145167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a0eaa435f9b60f1bba3666230a88e1?s=128&d=identicon&r=PG", "display_name": "std.denis", "link": "https://stackoverflow.com/users/1145167/std-denis"}, "reply_to_user": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "edited": false, "score": 0, "creation_date": 1604347305, "post_id": 49890185, "comment_id": 114315127, "body": "@musooff well, the code of the answer is on the right track, but didn&#39;t managed it for a generic numberic value. Here the answer for you: <code>value == null -&gt; 0</code>, <code>value &lt; 0 -&gt; value</code>, <code>else -&gt; value + 1</code>, and vice versa. <a href=\"https://pl.kotl.in/-quwTsdZE\" rel=\"nofollow noreferrer\">pl.kotl.in/-quwTsdZE</a>"}], "tags": [], "owner": {"reputation": 1406, "user_id": 1886484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V55rW.jpg?s=128&g=1", "display_name": "Ali Kazi", "link": "https://stackoverflow.com/users/1886484/ali-kazi"}, "is_accepted": false, "score": 0, "last_activity_date": 1524018210, "creation_date": 1524018210, "answer_id": 49890185, "question_id": 48194339, "link": "https://stackoverflow.com/questions/48194339/android-parcelable-write-nullable-long/49890185#49890185", "title": "Android parcelable - write nullable long", "body": "<p>In Kotlin you have to handle null cases for <em>primitive types</em> of Kotlin which are <em>objects</em> in Java (<code>Long</code> as opposed to <code>long</code>). You can apply the following logic to any such type.</p>\n\n<pre><code>private fun writeNullableLongToParcel(l: Long?): Long = when(l) {\n      null -&gt; -1\n      else -&gt; l\n}\n</code></pre>\n\n<p>For <code>Boolean</code>, you do something like this:</p>\n\n<pre><code>private fun writeBooleanToParcel(bool: Boolean?): Int = when(bool) {\n      true -&gt; 1\n      false -&gt; 0\n      else -&gt; -1\n}\n</code></pre>\n\n<p>Add these to your <code>Parcelable</code> data class and use them in <code>writeToParcel</code></p>\n\n<pre><code>parcel?.writeLong(writeNullableLongToParcel(myLong))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 6455921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6DPR8xW-Q0/AAAAAAAAAAI/AAAAAAAAABI/CITkdARz1_k/photo.jpg?sz=128", "display_name": "Vitaliy Movchan", "link": "https://stackoverflow.com/users/6455921/vitaliy-movchan"}, "is_accepted": true, "score": 3, "last_activity_date": 1540468716, "creation_date": 1540468716, "answer_id": 52988752, "question_id": 48194339, "link": "https://stackoverflow.com/questions/48194339/android-parcelable-write-nullable-long/52988752#52988752", "title": "Android parcelable - write nullable long", "body": "<p>If your image variable should keep nullable</p>\n\n<p><code>parcel.readValue(Long::class.java.classLoader) as? Long</code></p>\n\n<p><code>parcel.writeValue(image)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1322, "user_id": 1495703, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2696c33721e3d7848cc20ea297d3bb90?s=128&d=identicon&r=PG", "display_name": "Harish Gyanani", "link": "https://stackoverflow.com/users/1495703/harish-gyanani"}, "is_accepted": false, "score": 0, "last_activity_date": 1589285054, "creation_date": 1589285054, "answer_id": 61751260, "question_id": 48194339, "link": "https://stackoverflow.com/questions/48194339/android-parcelable-write-nullable-long/61751260#61751260", "title": "Android parcelable - write nullable long", "body": "<p>Write value if not null otherwise a default value</p>\n\n<p><code>longValue?.let { parcel.writeLong(it) }?:let{ parcel.writeLong(DEFAULT_VALUE)}</code></p>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1859, "favorite_count": 0, "accepted_answer_id": 52988752, "answer_count": 4, "score": 1, "last_activity_date": 1589285054, "creation_date": 1515610662, "question_id": 48194339, "link": "https://stackoverflow.com/questions/48194339/android-parcelable-write-nullable-long", "title": "Android parcelable - write nullable long", "body": "<p>I have my parcelable class Article:</p>\n\n<pre><code>class Article : Parcelable {\n\n    var image: Long? = null\n    var category: String? = null\n    var videos: String? = null\n\n    constructor(data: JSONObject) {\n        if (condition) image = 50000L\n        category = data.getString(\"category\")\n        videos = data.getString(\"videos\")\n    }\n\n    private constructor(parcel: Parcel) {\n        image = parcel.readLong()\n        category = parcel.readString()\n        videos = parcel.readString()\n    }\n\n    override fun writeToParcel(dest: Parcel, flags: Int) {\n        dest.writeLong(image) // error here\n        dest.writeString(category)\n        dest.writeString(videos)\n    }\n\n    override fun describeContents(): Int = 0\n\n    companion object {\n        @JvmField val CREATOR: Parcelable.Creator&lt;Article&gt; = object : Parcelable.Creator&lt;Article&gt; {\n            override fun createFromParcel(parcel: Parcel): Article = Article(parcel)\n            override fun newArray(size: Int): Array&lt;Article?&gt; = arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n\n<p>But my class is getting a type mismatch at writing the image var. It is expecting a Long and not a Long?. I do understand that this could be solved if I do something like this:</p>\n\n<pre><code>dest.writeLong(image!!)\n</code></pre>\n\n<p>But the problem is that this var could really be null on my context.\nI don't want either to define my image var as a default value like 0. I really want the var to remain nullable.</p>\n\n<p>Is there any way to write a nullable var?</p>\n"}, {"tags": ["json", "jackson", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515634020, "post_id": 48197431, "comment_id": 83378383, "body": "Intellij complained about <code>&lt;T&gt;</code>: Only one type parameter list is allowed for a function."}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515634789, "post_id": 48197431, "comment_id": 83378522, "body": "Also, What I want to do is actually return the parsed object. I cannot figure out a way to return the parsed object without running it twice like <code>when { mapper.treeToValue&lt;ClassA&gt;(jsonNodeObj) -&gt; mapper.treeToValue&lt;ClassA&gt;(jsonNodeObj) ...</code>, which looks weird."}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515778328, "post_id": 48197431, "comment_id": 83444791, "body": "I tried to update the answer with @{Paul de Vrieze}&#39;s better solution but got rejected. Here&#39;s the link to it: <a href=\"https://discuss.kotlinlang.org/t/idiomatic-way-of-branching-json-parsing-in-kotlin/6185/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515785378, "post_id": 48197431, "comment_id": 83448070, "body": "Yep the idea of stack overflow is not to have one perfect solution but the possibility of multiple answers of which the OP (you) can mark the solution that worked for him and everybody can vote for good answers"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515785451, "post_id": 48197431, "comment_id": 83448101, "body": "@breezymri feel free to add a second answer but dont edit mine"}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515785864, "post_id": 48197431, "comment_id": 83448318, "body": "I guess my wording was not 100% accurate. I wanted to say that Paul de Vrieze had an improved version based on your answer. And that&#39;s why I wanted to edit your answer such that I can still keep it accepted but reflect the optimal solution that I eventually went with."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1515786022, "post_id": 48197431, "comment_id": 83448408, "body": "Ok I looked at it an it seems to be pritty similar to my answer. I&#39;ll edit it accordingly"}], "tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 2, "last_activity_date": 1515804370, "last_edit_date": 1515804370, "creation_date": 1515624900, "answer_id": 48197431, "question_id": 48194303, "link": "https://stackoverflow.com/questions/48194303/idiomatic-way-of-branching-json-parsing-in-kotlin/48197431#48197431", "title": "Idiomatic way of branching json parsing in kotlin", "body": "<p>There is definitely a better way to do this. You can define a function that returns true on success and false on exception like so:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; ObjectMapper.treeToValueOrNull&lt;T&gt;(node : TreeNode) : T?\n    = try { treeToValue(node, T::class.java) }\n    catch (ex : Exception) { null }\n</code></pre>\n\n<p>This works because in Kotlin <code>try</code>-<code>catch</code>-statements can have a return value. Now, you can use <code>when</code> to process the json:</p>\n\n<pre><code>lateinit var object : Any\nwhen {\n    mapper.treeToValueOrNull&lt;ClassA&gt;(jsonNodeObj)?.let { object = it } != null\n        -&gt; dosthA(object as ClassA)\n    mapper.treeToValueOrNull&lt;ClassB&gt;(jsonNodeObj)?.let { object = it } != null\n        -&gt; dosthB(object as ClassB)\n    mapper.treeToValueOrNull&lt;ClassC&gt;(jsonNodeObj)?.let { object = it } != null\n        -&gt; dosthC(object as ClassC)\n}\n</code></pre>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/idiomatic-way-of-branching-json-parsing-in-kotlin/6185/2\" rel=\"nofollow noreferrer\">pdvrieze found an even shorter solution</a>:</p>\n\n<pre><code>val object = mapper.treeToValueOrNull&lt;ClassA&gt;(jsonNodeObj)\n          ?: mapper.treeToValueOrNull&lt;ClassB&gt;(jsonNodeObj)\n          ?: mapper.treeToValueOrNull&lt;ClassC&gt;(jsonNodeObj)\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 48197431, "answer_count": 1, "score": 3, "last_activity_date": 1515804370, "creation_date": 1515610525, "last_edit_date": 1515624599, "question_id": 48194303, "link": "https://stackoverflow.com/questions/48194303/idiomatic-way-of-branching-json-parsing-in-kotlin", "title": "Idiomatic way of branching json parsing in kotlin", "body": "<p>Let's say that we have a <code>JsonNode</code> object <code>jsonNodeObj</code> that needs to be parsed to one of multiple classes <code>ClassA</code>, <code>ClassB</code>, <code>ClassC</code>, etc. I could do the following (couldn't be more ugly):</p>\n\n<pre><code>val mapper = ObjectMapper()\ntry {\n  mapper.treeToValue(jsonNodeObj, ClassA::class.java)\n} catch (e1: Exception) {\n  try {\n    mapper.treeToValue(jsonNodeObj, ClassB::class.java)\n  } catch (e2: Exception) {\n    try {\n      mapper.treeToValue(jsonNodeObj, ClassC::class.java)\n    } catch (e3: Exception) {\n      ...\n    }\n  }\n}\n</code></pre>\n\n<p>Is there a better way like using <code>when</code> somehow?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9200108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69922c35003e6e20383a09b5eb2cf75?s=128&d=identicon&r=PG&f=1", "display_name": "ms nornen", "link": "https://stackoverflow.com/users/9200108/ms-nornen"}, "edited": false, "score": 0, "creation_date": 1515612374, "post_id": 48194561, "comment_id": 83370085, "body": "Oh..man I got it. In retrofit, it was Observer&lt;Flyer&gt; and corrected it to Observer&lt;List&lt;Flyer&gt;&gt;. Thank you Thank you!"}], "tags": [], "owner": {"reputation": 965, "user_id": 244745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd366d70e95e894b42c0d86a94e08ff8?s=128&d=identicon&r=PG", "display_name": "cwbowron", "link": "https://stackoverflow.com/users/244745/cwbowron"}, "is_accepted": true, "score": 0, "last_activity_date": 1515611749, "creation_date": 1515611749, "answer_id": 48194561, "question_id": 48193870, "link": "https://stackoverflow.com/questions/48193870/android-rx-java-retrofit2-error-with-kotlin/48194561#48194561", "title": "android Rx-java + Retrofit2 error with Kotlin", "body": "<p>It looks like your observer is <code>Observer&lt;List&lt;Flyer&gt;&gt;</code> but you need an <code>Observer&lt;Flyer&gt;</code>. The service is emitting Flyers and your observer is looking for lists of them. Probably want to redo your observer as <code>Observer&lt;Flyer&gt;</code></p>\n"}], "owner": {"reputation": 3, "user_id": 9200108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69922c35003e6e20383a09b5eb2cf75?s=128&d=identicon&r=PG&f=1", "display_name": "ms nornen", "link": "https://stackoverflow.com/users/9200108/ms-nornen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 48194561, "answer_count": 1, "score": 0, "last_activity_date": 1515612439, "creation_date": 1515608596, "last_edit_date": 1515612439, "question_id": 48193870, "link": "https://stackoverflow.com/questions/48193870/android-rx-java-retrofit2-error-with-kotlin", "title": "android Rx-java + Retrofit2 error with Kotlin", "body": "<p>I am trying to build an android app with MVVM pattern.</p>\n\n<p>Everything is good except rx-java part. </p>\n\n<p>Using Observer in subscribe, I have got an error like this.</p>\n\n<pre><code>Error:(28, 18) None of the following functions can be called with the arguments supplied:\npublic final fun subscribe(p0: ((Flyer!) -&gt; Unit)!): Subscription! defined in rx.Observable\npublic final fun subscribe(p0: Observer&lt;in Flyer!&gt;!): Subscription! defined in rx.Observable\npublic final fun subscribe(p0: Subscriber&lt;in Flyer!&gt;!): Subscription! defined in rx.Observable\npublic final fun subscribe(p0: Action1&lt;in Flyer!&gt;!): Subscription! defined in rx.Observable\n</code></pre>\n\n<p>My code</p>\n\n<pre><code>override fun getflyers(observer: Observer&lt;List&lt;Flyer&gt;&gt;) {\n        homeService.flyer(createMap())\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(observer) // error here\n    }\n</code></pre>\n\n<p>Any ideas for me?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin", "operator-overloading"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 5, "creation_date": 1515609067, "post_id": 48193569, "comment_id": 83368452, "body": "&gt; whenever you wish to be able to use a function as if it were an operator &lt; Correct, but not only this: the <code>getValue</code>/<code>setValue</code>/<code>provideDelegate</code> operators don&#39;t have an operator form. I&#39;d rather say it&#39;s the keyword for functions that have another convention they can be called with."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1515673617, "post_id": 48193569, "comment_id": 83394990, "body": "&gt; inferrable from the superclass method &lt;  it&#39;s rather inheritable than inferrable"}, {"owner": {"reputation": 360, "user_id": 3183076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03311bc974ee1692355b698917ea8535?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro", "link": "https://stackoverflow.com/users/3183076/dmytro"}, "edited": false, "score": 0, "creation_date": 1614164756, "post_id": 48193569, "comment_id": 117300298, "body": "@Moira, The <code>specification</code> URL is outdated. Could you update it, please?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 360, "user_id": 3183076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03311bc974ee1692355b698917ea8535?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro", "link": "https://stackoverflow.com/users/3183076/dmytro"}, "edited": false, "score": 1, "creation_date": 1614330051, "post_id": 48193569, "comment_id": 117357895, "body": "@Dmytro Thanks for the notification, I&#39;ve updated it. After looking at the new document I still was unable to find any mention of this so I suppose the rest of the answer will have to remain the same \ud83d\ude05"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 20, "last_activity_date": 1614329936, "last_edit_date": 1614329936, "creation_date": 1515607469, "answer_id": 48193569, "question_id": 48193480, "link": "https://stackoverflow.com/questions/48193480/when-exactly-is-the-operator-keyword-required-in-kotlin/48193569#48193569", "title": "When exactly is the operator keyword required in Kotlin?", "body": "<blockquote>\n<p>Why does this code compile?</p>\n</blockquote>\n<p>This compiles because the overridden interface method, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparable/compare-to.html\" rel=\"nofollow noreferrer\"><code>Comparable&lt;T&gt;.compareTo</code></a>, is itself an <code>operator fun</code>.</p>\n<pre><code>/**\n * Compares this object with the specified object for order. Returns zero if this object is equal\n * to the specified [other] object, a negative number if it's less than [other], or a positive number\n * if it's greater than [other].\n */\npublic operator fun compareTo(other: T): Int\n</code></pre>\n<p>As the function overrides this, it is also an operator function.</p>\n<blockquote>\n<p>When exactly is <code>operator</code> required?</p>\n</blockquote>\n<p><code>operator</code> in general is required whenever you wish to be able to use a function as if it were an operator, since operator usages are simply compiled to function calls (except on primitive types, etc.)</p>\n<p>That is, <code>foo += bar</code>, for example, is equivalent to <code>foo.plusAssign(bar)</code>, <code>foo[bar] = baz</code> is equivalent to <code>foo.set(bar, baz)</code>, etc.</p>\n<p>Personally I prefer specifying <code>operator</code> wherever possible even if it is not required, for readability reasons.</p>\n<p>If <code>MyDate</code> were <em>not</em> a <code>Comparable</code>, and you omitted the <code>operator</code> modifier, comparing two dates via <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, or <code>&gt;=</code> would not compile.</p>\n<p>I couldn't find anything in the <a href=\"https://kotlinlang.org/spec/operator-overloading.html#operator-overloading\" rel=\"nofollow noreferrer\">specification</a> on this, though. However in a polymorphic sense it makes sense - why should you be able to write <code>a &lt; b</code> where the type of <code>a</code> and <code>b</code> are <code>Comparable</code>s, but not when they are a <code>MyDate</code>? Since you wouldn't be able to remove the &quot;operator-ness&quot; of this function, it makes sense that <code>operator</code> should be inheritable from the superclass method.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 5, "last_activity_date": 1515672741, "last_edit_date": 1515672741, "creation_date": 1515615300, "answer_id": 48195368, "question_id": 48193480, "link": "https://stackoverflow.com/questions/48193480/when-exactly-is-the-operator-keyword-required-in-kotlin/48195368#48195368", "title": "When exactly is the operator keyword required in Kotlin?", "body": "<p>Kotlin has many features that are enabled via particular <strong>conventions</strong>. Those can be identified by the use of an <code>operator</code> keyword. Examples are <em>ranges</em>, <em>operator overloads,</em> <em>index operators</em>, <em>destructuring declarations</em> and more.</p>\n\n<p>If we want to compare two objects in Java, for sorting e.g., we implement the <code>Comparable</code> interface with its <code>compareTo</code> method. This is also done in Kotlin, but with much better support and a shorthand syntax. If you implement this method in a class, you can use all the nice operators like <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> with that class out of the box. These operators are translated to appropriate calls of <code>compareTo</code> by the compiler: </p>\n\n<p><code>obj1 &gt; obj2</code> \u21d2 <code>obj1.compareTo(obj2) &gt; 0</code></p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparable/compare-to.html\" rel=\"nofollow noreferrer\">The interface method <code>compareTo</code> in <code>Comparable</code></a> already defines the <code>operator</code> keyword, which makes it redundant to add the keyword in your own implementation.</p>\n\n<p><strong>In your example, the <code>operator</code> keyword is not mandatory since the overridden method already defines it.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 1816112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf1DE.jpg?s=128&g=1", "display_name": "Sofien Rahmouni", "link": "https://stackoverflow.com/users/1816112/sofien-rahmouni"}, "is_accepted": false, "score": 4, "last_activity_date": 1552305518, "creation_date": 1552305518, "answer_id": 55101384, "question_id": 48193480, "link": "https://stackoverflow.com/questions/48193480/when-exactly-is-the-operator-keyword-required-in-kotlin/55101384#55101384", "title": "When exactly is the operator keyword required in Kotlin?", "body": "<p>In Java, operators are tied to specific Java types. For example, String and numeric types in Java can use the + operator for concatenation and addition, respectively. No other Java type can reuse this operator for its own benefit. Kotlin, on the contrary, provides a set of conventions to support limited Operator Overloading.</p>\n\n<p>Let\u2019s start with a simple data class:</p>\n\n<pre><code>data class Point(val x: Int, val y: Int)\n</code></pre>\n\n<p>We\u2019re going to enhance this data class with a few operators.</p>\n\n<p>In order to turn a Kotlin function with a pre-defined name into an operator, we should mark the function with the operator modifier.  For example, we can overload the \u201c+\u201d operator:</p>\n\n<pre><code>operator fun Point.plus(other: Point) = Point(x + other.x, y + other.y)\n</code></pre>\n\n<p>This way we can add two Points with \u201c+\u201d:</p>\n\n<blockquote>\n  <blockquote>\n    <p>val p1 = Point(0, 1)</p>\n    \n    <p>val p2 = Point(1, 2)</p>\n    \n    <p>println(p1 + p2)</p>\n    \n    <p>Point(x=1, y=3)</p>\n  </blockquote>\n</blockquote>\n"}], "owner": {"reputation": 17780, "user_id": 187206, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08c1ae65039303accc2d3d184be4c539?s=128&d=identicon&r=PG", "display_name": "Tom Tresansky", "link": "https://stackoverflow.com/users/187206/tom-tresansky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8245, "favorite_count": 4, "accepted_answer_id": 48193569, "answer_count": 3, "score": 29, "last_activity_date": 1614329936, "creation_date": 1515607160, "question_id": 48193480, "link": "https://stackoverflow.com/questions/48193480/when-exactly-is-the-operator-keyword-required-in-kotlin", "title": "When exactly is the operator keyword required in Kotlin?", "body": "<p>In the <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Conventions/Comparison/Task.kt\" rel=\"noreferrer\">14th Kotlin Koan</a> on operator overloading, I was suprised when after solving I viewed the answer and saw that the <code>operator</code> modifier was <strong>not</strong> required on the <code>compareTo</code> method:</p>\n\n<pre><code>data class MyDate(val year: Int, val month: Int, val dayOfMonth: Int) : Comparable&lt;MyDate&gt; {\n    override fun compareTo(other: MyDate) = when {\n        year != other.year -&gt; year - other.year\n        month != other.month -&gt; month - other.month\n        else -&gt; dayOfMonth - other.dayOfMonth\n    }\n}\n</code></pre>\n\n<p>The <a href=\"http://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">operator overloading docs</a> linked to from the exercise explicitly says: </p>\n\n<blockquote>\n  <p>Functions that overload operators need to be marked with the operator\n  modifier.</p>\n</blockquote>\n\n<p>So what's going on here?  Why does this code compile?  When exactly is <code>operator</code> required?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "android-instrumentation"], "comments": [{"owner": {"reputation": 166, "user_id": 4132327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S3kAXH6zS84/AAAAAAAAAAI/AAAAAAAAELs/P_GxwWNLkkQ/photo.jpg?sz=128", "display_name": "DMonkey", "link": "https://stackoverflow.com/users/4132327/dmonkey"}, "edited": false, "score": 0, "creation_date": 1522744160, "post_id": 48193132, "comment_id": 86257945, "body": "I have the same issue, did you ever find a solution?"}, {"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "reply_to_user": {"reputation": 166, "user_id": 4132327, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S3kAXH6zS84/AAAAAAAAAAI/AAAAAAAAELs/P_GxwWNLkkQ/photo.jpg?sz=128", "display_name": "DMonkey", "link": "https://stackoverflow.com/users/4132327/dmonkey"}, "edited": false, "score": 0, "creation_date": 1522765790, "post_id": 48193132, "comment_id": 86272363, "body": "@DMonkey Just to leave those classes in Java."}, {"owner": {"reputation": 349, "user_id": 7706851, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b9d172cb942fd71cff6a3ee66d1eb69?s=128&d=identicon&r=PG&f=1", "display_name": "zeleven", "link": "https://stackoverflow.com/users/7706851/zeleven"}, "edited": false, "score": 0, "creation_date": 1548121638, "post_id": 48193132, "comment_id": 95420603, "body": "Trying downgrade the kotlin version in your <code>build.gradle</code> file, it work for me."}], "answers": [{"tags": [], "owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "is_accepted": false, "score": 0, "last_activity_date": 1549241027, "creation_date": 1549241027, "answer_id": 54509036, "question_id": 48193132, "link": "https://stackoverflow.com/questions/48193132/java-lang-noclassdeffounderror-kotlin-jvm-internal-intrinsics-newapplication/54509036#54509036", "title": "java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics - newApplication", "body": "<p>You might missing classpath dependency:</p>\n\n<pre><code>buildscript {\n    . . . \n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4338, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549241027, "creation_date": 1515605937, "question_id": 48193132, "link": "https://stackoverflow.com/questions/48193132/java-lang-noclassdeffounderror-kotlin-jvm-internal-intrinsics-newapplication", "title": "java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics - newApplication", "body": "<h2>Issue</h2>\n\n<p>I am simply trying to convert a custom <code>AndroidJUnitRunner</code> class from Java to Kotlin.</p>\n\n<h2>Code</h2>\n\n<p><strong>CustomTestRunner.java</strong></p>\n\n<pre><code>public class CustomTestRunner extends AndroidJUnitRunner {\n    @Override\n    public Application newApplication(ClassLoader cl, String className, Context context) throws IllegalAccessException,\n        ClassNotFoundException, InstantiationException {\n        return super.newApplication(cl, TestApp.class.getName(), context); \n    }\n}\n</code></pre>\n\n<p><strong>CustomTestRunner.kt - (causes error - see stacktrace below)</strong></p>\n\n<pre><code>class CustomTestRunner : AndroidJUnitRunner() {\n    override fun newApplication(cl: ClassLoader, className: String, context: Context): Application {\n        return super.newApplication(cl, TestApp::class.java.name, context)\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>android {\n  defaultConfig {\n    testInstrumentationRunner \"&lt;&gt;.CustomTestRunner\"\n  }\n}\n\ndependencies {\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:1.2.0\"\n  androidTestCompile \"org.jetbrains.kotlin:kotlin-stdlib:1.2.0\"\n}\n</code></pre>\n\n<h2>Error</h2>\n\n<pre><code>D/AndroidRuntime( 4948): Shutting down VM\nE/AndroidRuntime( 4959): FATAL EXCEPTION: main\nE/AndroidRuntime( 4959): Process: &lt;&gt;.debug, PID: 4959\nE/AndroidRuntime( 4959): java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics\nE/AndroidRuntime( 4959):    at &lt;&gt;.newApplication(CustomTestRunner.kt)\nE/AndroidRuntime( 4959):    at android.app.LoadedApk.makeApplication(LoadedApk.java:511)\nE/AndroidRuntime( 4959):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4317)\nE/AndroidRuntime( 4959):    at android.app.ActivityThread.access$1500(ActivityThread.java:135)\nE/AndroidRuntime( 4959):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)\nE/AndroidRuntime( 4959):    at android.os.Handler.dispatchMessage(Handler.java:102)\nE/AndroidRuntime( 4959):    at android.os.Looper.loop(Looper.java:136)\nE/AndroidRuntime( 4959):    at android.app.ActivityThread.main(ActivityThread.java:5017)\nE/AndroidRuntime( 4959):    at java.lang.reflect.Method.invokeNative(Native Method)\nE/AndroidRuntime( 4959):    at java.lang.reflect.Method.invoke(Method.java:515)\nE/AndroidRuntime( 4959):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\nE/AndroidRuntime( 4959):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\nE/AndroidRuntime( 4959):    at dalvik.system.NativeStart.main(Native Method)\nW/ActivityManager( 2870): Error in app &lt;&gt;.debug running instrumentation ComponentInfo{&lt;&gt;.debug.test/&lt;&gt;.CustomTestRunner}:\n</code></pre>\n"}, {"tags": ["android", "mvvm", "binding", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 1762, "user_id": 8517948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7162a76e25e66131b177eb41d6b4d301?s=128&d=identicon&r=PG&f=1", "display_name": "LW001", "link": "https://stackoverflow.com/users/8517948/lw001"}, "edited": false, "score": 1, "creation_date": 1515608934, "post_id": 48192990, "comment_id": 83368369, "body": "StackOverflow isn&#39;t about asking for code and getting a full example you won&#39;t understand to drop into your code and call your own. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 53, "user_id": 3453069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35764039b0c744f09f1d2a627c788303?s=128&d=identicon&r=PG&f=1", "display_name": "rooest", "link": "https://stackoverflow.com/users/3453069/rooest"}, "reply_to_user": {"reputation": 1762, "user_id": 8517948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7162a76e25e66131b177eb41d6b4d301?s=128&d=identicon&r=PG&f=1", "display_name": "LW001", "link": "https://stackoverflow.com/users/8517948/lw001"}, "edited": false, "score": 0, "creation_date": 1515609855, "post_id": 48192990, "comment_id": 83368879, "body": "Sorry about that.  It was looking like  &quot;I want  some codes from coders&quot;.  I edited my question.  Actually  I am asking  the best/possible and simple  way(approach) to making this."}, {"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1515626317, "post_id": 48192990, "comment_id": 83376395, "body": "Even as edited, this really an opinion question which isn&#39;t really a great fit for SO, but I will say that a horizontal RecylerView inside of a vertical RecyclerView will work fine, though you could consider how many items you expect to have in the horizontal one, how often they&#39;ll change, and whether you can get away with something simpler."}], "owner": {"reputation": 53, "user_id": 3453069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35764039b0c744f09f1d2a627c788303?s=128&d=identicon&r=PG&f=1", "display_name": "rooest", "link": "https://stackoverflow.com/users/3453069/rooest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515609516, "creation_date": 1515605403, "last_edit_date": 1515609516, "question_id": 48192990, "link": "https://stackoverflow.com/questions/48192990/recyclerview-in-header-of-another-recyclerview-mvvm-databinding-kotlin", "title": "RecyclerView in Header of another RecyclerView (Mvvm + Databinding + Kotlin)", "body": "<p>I want to  create a screen like  main screen of instagram: </p>\n\n<p><a href=\"https://i.stack.imgur.com/1nPph.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1nPph.png\" alt=\"enter image description here\"></a></p>\n\n<p>Structure of this  screen  looking like (horizontal)recyclerView in  header of another RecyclerView (Vertical). But  I am not sure,  is it a best(possible) way to making it. Or what is the  best way(approach) to making this?  I would be glad if you could share with me your ideas about that.</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 6212918, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a9eaa3c261855765927b2764888e86e?s=128&d=identicon&r=PG&f=1", "display_name": "prepare123", "link": "https://stackoverflow.com/users/6212918/prepare123"}, "edited": false, "score": 0, "creation_date": 1515628609, "post_id": 48191227, "comment_id": 83377009, "body": "thank you very much! I try it!  and I&#39;ll study what is mean RestController exactly! have a nice day!:)"}], "tags": [], "owner": {"reputation": 1948, "user_id": 4248317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0cbd8e5376ccf6d222114b72edc1913?s=128&d=identicon&r=PG&f=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/4248317/cyril"}, "is_accepted": true, "score": 2, "last_activity_date": 1515599396, "creation_date": 1515599396, "answer_id": 48191227, "question_id": 48190408, "link": "https://stackoverflow.com/questions/48190408/my-spring-boot-kotlin-controller-dont-work-that-return-string/48191227#48191227", "title": "my spring-boot( Kotlin) Controller don&#39;t work that return String", "body": "<p>You want to return the <code>upload.html</code> template so your controller is not a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">RestController</a>. Controllers annotated with <code>RestController</code> will just return the response body. This means your get mapping will just return the String \"upload\".</p>\n\n<p>Replace the <code>RestController</code> annotation with <code>Controller</code> and it will work.</p>\n"}], "owner": {"reputation": 109, "user_id": 6212918, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a9eaa3c261855765927b2764888e86e?s=128&d=identicon&r=PG&f=1", "display_name": "prepare123", "link": "https://stackoverflow.com/users/6212918/prepare123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 48191227, "answer_count": 1, "score": 0, "last_activity_date": 1515599396, "creation_date": 1515597002, "last_edit_date": 1592644375, "question_id": 48190408, "link": "https://stackoverflow.com/questions/48190408/my-spring-boot-kotlin-controller-dont-work-that-return-string", "title": "my spring-boot( Kotlin) Controller don&#39;t work that return String", "body": "<p>I'm trying to make spring-boot project in Kotlin.</p>\n<p>but my Controller don't work..\nI want open html file So I prepared upload.html file in resoureces/templates</p>\n<p><a href=\"https://i.stack.imgur.com/txHF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txHF2.png\" alt=\"enter image description here\" /></a></p>\n<p>The following method return String:(<br />\nsource code is here</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\nclass RestApiController {\n    val logger = LoggerFactory.getLogger(RestApiController::class.java!!)\n\n@Autowired\nlateinit var parsingservice : ParsingService\n\n@GetMapping(&quot;/index&quot;)\nfun index(response : HttpServletResponse): String {\n    return &quot;upload&quot;\n}\n</code></pre>\n<p>index method is return &quot;upload&quot; and I expected that open upload.html Page  in resourecesPackage.\nI studied that when method return String in Cotroller spring-boot framework  scan that resoureces/templates Path So We can just write htmlfiles name without .html</p>\n<p>I searched this problem in this site and I found that java9jdk not support spring-boot yet So I'm reinstalled java8jdk and change project setting.\nbut that didn't work.</p>\n<p>this is my maven setting.</p>\n<pre><code>&lt;name&gt;jsonparser&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.2.10&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>how can I open htmlpage?\nthank you for reading\nhave a nice day:)</p>\n"}, {"tags": ["android", "ios", "kotlin", "aar", "ios-frameworks"], "comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1515593030, "post_id": 48188543, "comment_id": 83358127, "body": "<a href=\"https://blog.kotlin-academy.com/multiplatform-native-development-in-kotlin-now-with-ios-a8546f436eec\" rel=\"nofollow noreferrer\">blog.kotlin-academy.com/&hellip;</a>"}, {"owner": {"reputation": 7507, "user_id": 324417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f0086aee0bbb0aaa6545e8a80969494?s=128&d=identicon&r=PG", "display_name": "DixieFlatline", "link": "https://stackoverflow.com/users/324417/dixieflatline"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1515657155, "post_id": 48188543, "comment_id": 83385163, "body": "I dont want to develop ios app in Kotlin. I would like to use swift and call functions from kotlin lib."}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1515660672, "post_id": 48188543, "comment_id": 83386843, "body": "<a href=\"https://blog.jetbrains.com/kotlin/2017/12/kotlinnative-v0-5-released-calling-kotlin-from-swift-and-c-llvm-5-and-more/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2017/12/&hellip;</a>"}, {"owner": {"reputation": 7507, "user_id": 324417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f0086aee0bbb0aaa6545e8a80969494?s=128&d=identicon&r=PG", "display_name": "DixieFlatline", "link": "https://stackoverflow.com/users/324417/dixieflatline"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1515748554, "post_id": 48188543, "comment_id": 83427246, "body": "So the trick for ios is using kotlinc with -produce framework switch. Is there support for this in intelij IDE, so i can output android and ios libs from there?"}, {"owner": {"reputation": 1447, "user_id": 4340049, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GCC4X.jpg?s=128&g=1", "display_name": "Harish Pathak", "link": "https://stackoverflow.com/users/4340049/harish-pathak"}, "edited": false, "score": 0, "creation_date": 1519119784, "post_id": 48188543, "comment_id": 84768360, "body": "see my answer at <a href=\"https://stackoverflow.com/questions/47596110/kotlin-file-in-native-ios-project-with-kotlin-native\" title=\"kotlin file in native ios project with kotlin native\">stackoverflow.com/questions/47596110/&hellip;</a>"}, {"owner": {"reputation": 7507, "user_id": 324417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f0086aee0bbb0aaa6545e8a80969494?s=128&d=identicon&r=PG", "display_name": "DixieFlatline", "link": "https://stackoverflow.com/users/324417/dixieflatline"}, "edited": false, "score": 1, "creation_date": 1519208866, "post_id": 48188543, "comment_id": 84812451, "body": "Harish, thx for iOS answer. It is possible to package jar or aar from same kotlin native project?"}, {"owner": {"reputation": 512, "user_id": 5635052, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d42uIdlpuKc/AAAAAAAAAAI/AAAAAAAAAXo/fNryf4j4y0I/photo.jpg?sz=128", "display_name": "Lucas Diego", "link": "https://stackoverflow.com/users/5635052/lucas-diego"}, "edited": false, "score": 1, "creation_date": 1535476315, "post_id": 48188543, "comment_id": 91076696, "body": "@DixieFlatline, did you manage it? I&#39;m trying to do the same and I&#39;m a bit lost!"}], "owner": {"reputation": 7507, "user_id": 324417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f0086aee0bbb0aaa6545e8a80969494?s=128&d=identicon&r=PG", "display_name": "DixieFlatline", "link": "https://stackoverflow.com/users/324417/dixieflatline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 489, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1515596955, "creation_date": 1515590911, "question_id": 48188543, "link": "https://stackoverflow.com/questions/48188543/how-to-package-kotlin-native-library-so-it-can-be-used-in-android-and-ios-projec", "title": "How to package kotlin native library so it can be used in android and iOS projects?", "body": "<p>I would like to develop api calls (networking) in kotlin (native) and use the same code/lib in android and iOS project.\nI plan to use this lib:\n<a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel</a></p>\n\n<p>Is this possible? \nHow to build iOS framework and android lib (aar) from the same kotlin code?\nWhich IDE/tools are the best for creation of libs for both platforms?</p>\n"}, {"tags": ["kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515594885, "post_id": 48188201, "comment_id": 83359375, "body": "I just can&#39;t get to terms with &quot;having that extra <code>?.</code> to <i>not risk an exception</i>&quot;. Do you not risk printing <code>null</code> instead of the meaningful result? Either a) you don&#39;t and it&#39;s acceptable behavior -- so clearly you&#39;re not talking about a use case for <code>lateinit</code>, or b) yes, you are risking incorrect behavior which will not be detected by the running program, and that sounds strictly worse than &quot;risking an exception&quot;."}, {"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515595400, "post_id": 48188201, "comment_id": 83359728, "body": "I am trying to get a grasp on the lateinit keyword and everyone here have given me plenty of examples. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515590003, "post_id": 48188263, "comment_id": 83356156, "body": "I understand that none of the variables has been initialized, what I am asking is maybe it is an unnecessary keyword if the developers only have to add an <code>?.</code> operator."}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "reply_to_user": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515590195, "post_id": 48188263, "comment_id": 83356254, "body": "yes it is not necessary if user declare at first time."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1515590265, "post_id": 48188263, "comment_id": 83356295, "body": "what about case where your value cannot be of type <code>type?</code> and is initialized by injection for example ?"}, {"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515590372, "post_id": 48188263, "comment_id": 83356369, "body": "I wonder if the <code>lateinit</code> keyword is redundant/unnecessary and creates risks with exceptions when the user can only just add a <code>?.</code> operator. What you are telling me now is that <code>lateinit</code> is not necessary when assigning the variables and I totally understand that, it is not what I am asking about."}], "tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1515589887, "creation_date": 1515589887, "answer_id": 48188263, "question_id": 48188201, "link": "https://stackoverflow.com/questions/48188201/is-the-keyword-lateinit-unnecessary/48188263#48188263", "title": "Is the keyword lateinit unnecessary?", "body": "<p>lateint means later initialize<br>\nin this code you get error.\nYou have to initialize the lateTestString before calling it.</p>\n\n<pre><code>var testString: String? = null\n\nlateinit var lateTestString: String\n\nfun print() {\n    print(testString?.length)\n\n    print(lateTestString.length)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 1, "creation_date": 1515590965, "post_id": 48188410, "comment_id": 83356763, "body": "But the value <b>can</b> be null, is that not a problem? Sure from the DI perspective it is going to be set, but is that the only case? Then I think the <code>lateinit</code> is unnecessary because it relies on a framework. It should be a var then because it will first be null and then set. Anyway, I do understand what you mean about sending the right message and it makes the code a bit clearer that this is expected to <i>always</i> be non-null. However I see risks with this approach too as Kotlin is coming out as a &quot;null safe language&quot; and it is a waste to not use the wonderful non-null approaches."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 2, "creation_date": 1515591084, "post_id": 48188410, "comment_id": 83356839, "body": "@SimonZettervall: honestly, I don&#39;t see a violation of null safety here. If you forget to init the thing, you will not get a mysterious NPE. Also, Marko nailed the wording: it is <b>effectively</b> non-null, but we have to make it <i>technically</i> nullable, because type system is not powerful enough."}, {"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 1, "creation_date": 1515591404, "post_id": 48188410, "comment_id": 83357032, "body": "Yes of course I will get that error, but imagine we have a complex system where different kind of errors can happen. You added some code to support a new part, the tests pass, but then because of an unexpected error the <code>lateinit</code> variable was called without having been called beforehand, then it crashes. <code>lateinit</code> maybe should only be used with DI-frameworks or unit tests where one is absolutely sure it will be initialized and not put the keyword in the business logic?"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 4, "creation_date": 1515591581, "post_id": 48188410, "comment_id": 83357146, "body": "@SimonZettervall: &quot;then it crashes&quot; - consider the alternative: The system <i>formally</i> keeps running, but it just (silently!) doesn&#39;t do half of the things it was supposed to do. And you have no idea about this. Might be months before you discover the bug. Depending on your requirements, this might be a much worse outcome. This is the tradeoff here, basically."}, {"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515592300, "post_id": 48188410, "comment_id": 83357607, "body": "I agree completely about the fail fast approach and that the consequences might be bigger if we let the system run formally. However not using the null safety which is a big feature of the language is a shame."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 4, "creation_date": 1515592741, "post_id": 48188410, "comment_id": 83357932, "body": "@SimonZettervall: well, normally you enjoy the null safety and don&#39;t use lateinit. But when you <i>have to</i> (like that example with android activity), you don&#39;t really have a choice."}], "tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": true, "score": 16, "last_activity_date": 1515590407, "creation_date": 1515590407, "answer_id": 48188410, "question_id": 48188201, "link": "https://stackoverflow.com/questions/48188201/is-the-keyword-lateinit-unnecessary/48188410#48188410", "title": "Is the keyword lateinit unnecessary?", "body": "<p><code>lateinit</code> keyword exists to enable one specific scenario: when your field <strong>can't</strong> be null, but you also can't initialize it in the constructor or with a constant value. It is on you to make sure that you initialize the value before using it. If you don't, you get a special exception with clear meaning.</p>\n\n<p>The difference between lateinit usage and \"normal\" nullable field with <code>?.</code> is that the latter conveys a wrong message about the code: \"this thing can sometimes be null\". When, in fact, it can't. It is just initialized later than usual (with dependency injection instead of constructor, for example).</p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515591202, "post_id": 48188500, "comment_id": 83356915, "body": "I was afraid this was the case. I guess using the <code>?.</code> operator and omitting <code>lateinit</code> is the way to go then."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515596556, "post_id": 48188500, "comment_id": 83360550, "body": "Your answer is based on the false premise that <code>lateinit</code> is there to save you from using <code>?.</code>. It is actually there to save you from polluting the code with <code>!!</code>, and there is no trading of null safety going on. It is for cases where you <i>cannot</i> have null safety guaranteed at compile time."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "edited": false, "score": 0, "creation_date": 1515598406, "post_id": 48188500, "comment_id": 83361844, "body": "Hmm, why should I pollute my code with <code>!!</code> if I have safe calls and other similar capabilities?"}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515599044, "post_id": 48188500, "comment_id": 83362326, "body": "@MarkoTopolnik The way I see it, is that <code>lateinit</code> is the thing which (when used improperly) returns us back to where we started: Java way of handling null safety (or non-initialized properties, whatever, I&#39;m talking about general idea). In case of Java it&#39;s on the developer&#39;s shoulders to make sure he does not touch the field which wasn&#39;t initialized (or references the null value). In case of Kotlin we have this nice idea of compiler making sure you mark the field/property as either nullable or not nullable and then act accordingly."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "edited": false, "score": 0, "creation_date": 1515599366, "post_id": 48188500, "comment_id": 83362564, "body": "And lateinit breaks this idea. Yes, you won&#39;t have NPE if you touch non-initialized reference, you&#39;ll have another exception. Does it really matter which kind of exception you have if you could omit it altogether by following the principle of distinguishing between nullable and non-nullable references? Yes, there&#39;re some cases where we&#39;re sure that <code>foo</code> will be non-nullable, but we can not init it with some value when the object is created. In my opinion, it doesn&#39;t mean that we should create some bypass for these special cases, because by creating this bypass we destroy the general idea."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1515616447, "post_id": 48188500, "comment_id": 83372177, "body": "Basically, it bothers you that the language provides a feature you personally don&#39;t like. I understand, but I&#39;m at the same time thankful that the Kotlin designers are attentive to the wishes of many other users like me and did introduce this life-saver. I have null-safety wherever I can have it, and where I can&#39;t, i have the next best thing which is <code>lateinit</code>."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "edited": false, "score": 1, "creation_date": 1515654279, "post_id": 48188500, "comment_id": 83383827, "body": "Well, I can&#39;t say for everybody, that&#39;s why I started with &quot;The way I see it&quot;. I get your point."}], "tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": false, "score": 4, "last_activity_date": 1515591725, "last_edit_date": 1592644375, "creation_date": 1515590772, "answer_id": 48188500, "question_id": 48188201, "link": "https://stackoverflow.com/questions/48188201/is-the-keyword-lateinit-unnecessary/48188500#48188500", "title": "Is the keyword lateinit unnecessary?", "body": "<p>I'm not from the Jetbrains team, so maybe I don't have a clear picture here, but I agree with you in that <code>lateinit</code> looks like not a good construct.</p>\n<p>The original idea when <code>lateinit</code> was added was that we have some frameworks (hint: Android) where occasionally the user of the framework does not have the access to the class's constructors (hint: Android's Activity class), to he can not initialize some property in the constructor or <code>init</code> block. But, due to the fact that these classes have some kind of lifecycle, we can be sure that the property <code>foo</code> will be initialized <strong>before</strong> it's been used for the first time, because, for example, initialization happens in <code>onCreate()</code>, while the property is used in <code>onResume()</code>, which happens later.</p>\n<p><strong>(Somewhere in the past, L - lazy programmer, J - Jetbrains):</strong></p>\n<blockquote>\n<p>L: Hey, Jetbrains! We're lazy, we don't want that extra question mark if we're sure the property will be initialized. Could we please mark it somehow to overcome Kotlin's null safety?</p>\n<p>J: Yes, sure! Let's slap in <code>lateinit</code> modifier.</p>\n</blockquote>\n<p>Wonderful idea?</p>\n<p>No.</p>\n<p>Because in later versions of the language its creators decided to add new syntax for the <code>lateinit</code> properties. I could be wrong (didn't pay much attention to it), but it looks like <code>foo::isInitialized</code>. The reason is that this modifier is being misused (or maybe it's flawed from the very beginning?), so we need to attach some additional checks to it.</p>\n<p>So, basically, we're trading the question mark along with the whole null safety for the wonderful opportunity to perform <code>foo::isInitialized</code> checks to prevent <code>UninitializedPropertyAccessException</code> (or something).</p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 0, "creation_date": 1515591924, "post_id": 48188508, "comment_id": 83357358, "body": "Imagine yourself that you are working in a big, complex system. The system is doing some asynchronous work. When the work is done, the <code>lateinit</code> variable is set. In the middle of the work, something goes wrong and the work is canceled. The variable is not set. You try to use this variable. Bam crash. Maybe the <code>lateinit</code> should not have been there, maybe it was really hard to spot that there was just a slight chance of an error that could occur. Using the <code>?.</code> operator removes the need to double verify the flow, at the cost of 1 extra character."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 1, "creation_date": 1515592103, "post_id": 48188508, "comment_id": 83357467, "body": "@SimonZettervall: in this case, you&#39;d be misusing <code>lateinit</code>. Async task being canceled/aborted is not an exceptional situation and if this leaves var uninitialized, then it must clearly be nullable."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515592424, "post_id": 48188508, "comment_id": 83357707, "body": "Furthermore, <code>?.</code> is <i>not</i> a replacement for <code>lateinit</code>, it changes the behavior. If you are looking for ways to ignore the fact that a var is <code>null</code>, or to act differently in those cases, then you are not talking about a use case for <code>lateinit</code>. You are talking about a scenario where the code actually <i>can</i> observe a <code>null</code> as a legitimate value."}, {"owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "edited": false, "score": 1, "creation_date": 1515592559, "post_id": 48188508, "comment_id": 83357805, "body": "Do you agree that using <code>lateinit</code> emphasizes fail fast? While I think that is a good thing, I wonder why Kotlin is having the null safety as a language feature. I could just go with the old java style and check <code>if (x != null)</code>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1515592852, "post_id": 48188508, "comment_id": 83358021, "body": "I don&#39;t wonder because I&#39;m a heavy user of this feature and it&#39;s one of the best things about Kotlin for me. You are of course welcome to completely ignore it and strictly use nullable types everywhere, along with all the explicit if-checks instead of <code>!!</code> and <code>?</code>. I would advise, though, not to do this to any code any other Kotlin programmer will have to look at."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 4, "last_activity_date": 1515590782, "creation_date": 1515590782, "answer_id": 48188508, "question_id": 48188201, "link": "https://stackoverflow.com/questions/48188201/is-the-keyword-lateinit-unnecessary/48188508#48188508", "title": "Is the keyword lateinit unnecessary?", "body": "<blockquote>\n  <p>Is using the <code>lateinit</code> a shortcut for not having to add that extra question mark </p>\n</blockquote>\n\n<p>Actually it's much closer to a shortcut for <code>!!</code>. I use it a lot in my code, for the reasons I'll try to describe.</p>\n\n<p>Those two <code>!!</code> have been chosen deliberately to attract attention to places in the code where you \"take a bet against the type system\", so to speak. When used at proper places, that's exactly what you want, but what about all those vars in real-life projects which are <em>effectively non-null</em>, just the type system is too weak to prove it? I'd hate to see the proliferation of <code>!!</code> all around my codebase when I can easily ascertain they are initialized. This noise would weaken the strong signal that <code>!!</code> sends.</p>\n\n<p>When you see a <code>lateinit var</code> in the code, you know you just have to look up whatever initialization method the surrounding context specifies, to convince yourself that everything's fine. It is very easy to check it's used correctly and I've never seen a bug stemming from it.</p>\n\n<p>It is actually very pleasing to see the Kotlin designers putting the concerns of the real-life developer above strict type formalisms.</p>\n"}], "owner": {"reputation": 185, "user_id": 3144647, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/56a9e9f06985646dde201170256b9fcd?s=128&d=identicon&r=PG", "display_name": "Simon Zettervall", "link": "https://stackoverflow.com/users/3144647/simon-zettervall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2052, "favorite_count": 0, "accepted_answer_id": 48188410, "answer_count": 4, "score": 5, "last_activity_date": 1515591725, "creation_date": 1515589676, "question_id": 48188201, "link": "https://stackoverflow.com/questions/48188201/is-the-keyword-lateinit-unnecessary", "title": "Is the keyword lateinit unnecessary?", "body": "<p>I am in the process of learning Kotlin, and reading about the <code>lateinit</code> keyword makes me doubt its usefulness. Consider this code:</p>\n\n<pre><code>var testString: String? = null\n\nlateinit var lateTestString: String\n\nfun print() {\n    print(testString?.length)\n\n    print(lateTestString.length)\n}\n</code></pre>\n\n<p>Here the only difference in getting the length of the string is by checking if it is null or not by using the <code>?.</code> operator. Is using the <code>lateinit</code> a shortcut for not having to add that extra question mark when accessing properties or invoking methods? Just by that fact I think it is more worth having to add that extra question mark than getting an exception when accessing the <code>lateinit</code> one.</p>\n\n<p>More research showed me that <code>lateinit</code> is good for injections and/or unit tests where the variable has not been initialized yet, but it will be. However, is it not worth having that extra <code>?.</code> instead of just <code>.</code> to not risk an exception?</p>\n"}, {"tags": ["performance", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1515584999, "post_id": 48186360, "comment_id": 83353112, "body": "It is actually not that easy to construct a scenario where the DCL idiom is significantly more expensive than plain, non-threadsafe lazy init idiom. The only difference is that with DCL you always have to fetch from &quot;memory&quot;, but in a tight loop you&#39;re just reaching to the CPU cache. Outside a tight loop, both idioms will probably need memory access and are on the same footing."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1515585905, "post_id": 48186360, "comment_id": 83353661, "body": "Another point: you have measured 3.6 nanoseconds for singleton and 4.4 nanoseconds for reusable. That&#39;s a difference of 0.8 nanoseconds, i bet there are lots and lots of candidate micro-level explanations for it, all of them quite unenlightening. Your real conclusion should be &quot;it makes no difference at all&quot; which scope you use. Or you should come up with a different benchmark that would show a more pronounced difference."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 3, "creation_date": 1515594355, "post_id": 48186360, "comment_id": 83358970, "body": "Try flipping the order of what you test first and I&#39;d not be surprised if it suddenly stated the opposite, also possibly see here about micro benchmarks: <a href=\"https://stackoverflow.com/a/513259/1837367\">stackoverflow.com/a/513259/1837367</a>"}, {"owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1515611905, "post_id": 48186360, "comment_id": 83369853, "body": "@DavidMedenjak I&#39;ve tried it ;) But there was no difference. Thanks for this link - the response is very valuable, especially one comment below it: <i>Also, never use System.currentTimeMillis() unless you are OK with + or - 15 ms accuracy</i>"}], "answers": [{"tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 6, "last_activity_date": 1546031956, "last_edit_date": 1546031956, "creation_date": 1533325416, "answer_id": 51679200, "question_id": 48186360, "link": "https://stackoverflow.com/questions/48186360/why-daggers-reusable-scope-is-slower-than-singleton/51679200#51679200", "title": "Why Dagger&#39;s Reusable scope is Slower than Singleton?", "body": "<p>As <a href=\"https://stackoverflow.com/users/1837367/david-medenjak\">David Medenjak</a> mentioned and linked in the comments, <a href=\"https://stackoverflow.com/a/513259/1837367\">micro benchmarks in the JVM are difficult to get right</a>. Even taking your results at face value, the calls average out to within 1ns and 20% of each other in a tight billion-call inner loop.</p>\n\n<p>Though I've written a <a href=\"https://stackoverflow.com/q/39136042/1426891\">separate SO answer</a> with more details, I can address your question of \"does it have any benefits\":</p>\n\n<ol>\n<li><p>The main <em>performance</em> advantage to <code>@Reusable</code> is <em>during construction in a multi-threaded app</em>, because in the event of a race condition <code>@Reusable</code> will <em>potentially</em> create a separate object for a separate thread rather than synchronizing the creation. Once you've paid the creation cost (as you do in the first call on each block), the next billion calls are free (or close to free), especially with JVM inlining and caching, and within the same stack in the same thread. Though your benchmark doesn't reveal it, you might still see better performance with <code>@Reusable</code> if there is any thread contention for your binding's creation.</p></li>\n<li><p>The main <em>memory</em> advantage to <code>@Reusable</code> is that the reusable instance is kept in the narrowest component that uses it directly. If you have an Android Fragment component as your only consumer of a <code>@Reusable</code> binding, Android will release and reclaim that memory when you destroy the Fragment and collect its Component.</p></li>\n<li><p>The main <em>Dagger usability</em> advantage to <code>@Reusable</code> is that, unlike <code>@Singleton</code> and custom scopes, <code>@Reusable</code> bindings can be included in any component regardless of how many scope annotations are on the component. If you have a <code>@Singleton</code> binding you are absolutely required to install the binding in a component annotated with <code>@Singleton</code>.</p></li>\n<li><p>The main <em>developer usability</em> advantage to <code>@Reusable</code> is that, unlike bindings annotated with <code>@Singleton</code> or <code>@ActivityScoped</code>, you are declaring that the binding is <em>not stateful or otherwise required to be <code>@Singleton</code></em>. If you want to use your binding outside of Dagger (or you want to replace Dagger someday), you'll need to document or determine whether a <code>@Singleton</code> binding is necessarily <code>@Singleton</code> or whether it's simply an optimization opportunity. With <code>@Reusable</code> that ambiguity disappears.</p></li>\n</ol>\n"}], "owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 51679200, "answer_count": 1, "score": 4, "last_activity_date": 1546031956, "creation_date": 1515583479, "question_id": 48186360, "link": "https://stackoverflow.com/questions/48186360/why-daggers-reusable-scope-is-slower-than-singleton", "title": "Why Dagger&#39;s Reusable scope is Slower than Singleton?", "body": "<p>I've always thought that, when working with Dagger2, we should use <code>@Reusable</code> scope instead of <code>@Singleton</code> if we don't need the guarantee to get always the same instance, since <code>@Singleton</code> used double checking, which is expensive and slow...</p>\n\n<p>However, I've made a simple performance tests and here are the results:</p>\n\n<pre><code>Reusable  4474 ms\nSingleton 3603 ms\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>@Singleton\n@Component\ninterface AppComponent {\n\n    fun getReusable(): ReusableFoo\n\n    fun getSingleton(): SingletonFoo\n}\n\n@Reusable\nclass ReusableFoo @Inject constructor()\n\n@Singleton\nclass SingletonFoo @Inject constructor()\n\nclass TestClass {\n    @Test\n    fun test() {\n        val component = DaggerAppComponent.builder().build()\n        measure {\n            component.getReusable()\n        }\n        measure {\n            component.getSingleton()\n        }\n    }\n\n    private fun measure(block: () -&gt; Unit) {\n        val start = System.currentTimeMillis()\n        (0..1000000000).forEach { block() }\n        println(System.currentTimeMillis() - start)\n    }\n}\n</code></pre>\n\n<p>The same phenomenon when constructing heavier class (I've tried with <code>Retrofit</code>) and with <code>@Provide</code> annotated methods instead of constructor injection.</p>\n\n<p>Did I make a mistake in my test or simply <code>@Reusable</code> is slower? If so, where should we use it? Does it have any benefits over <code>@Singleton</code>?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1571344302, "last_edit_date": 1571344302, "creation_date": 1515579951, "answer_id": 48185225, "question_id": 48185165, "link": "https://stackoverflow.com/questions/48185165/kotlin-execute-optional-action/48185225#48185225", "title": "Kotlin execute optional action", "body": "<p>You may use the standard library function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>let</code></a> as follows:</p>\n\n<pre><code>val actionResult = model.action?.let { it() }\n</code></pre>\n\n<p>Note that the receiver of <code>let</code> (<code>model.action</code>) is exposed as <code>it</code> inside the lamda. </p>\n\n<p>Alternatively, and preferably IMO, invoke the function like this:</p>\n\n<pre><code>model.action?.invoke()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4749, "user_id": 1821772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec23b33aa00a0fee6ef00aaf926dc0a?s=128&d=identicon&r=PG", "display_name": "Sulfkain", "link": "https://stackoverflow.com/users/1821772/sulfkain"}, "edited": false, "score": 0, "creation_date": 1515582869, "post_id": 48185699, "comment_id": 83351965, "body": "Thanks @aga, yes, i like more that one, for me it&#39;s cleaner than the .let"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515587339, "post_id": 48185699, "comment_id": 83354611, "body": "I don\u2019t really like the <code>invoke()</code>, but it\u2019s an equally valid alternative"}], "tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": false, "score": 6, "last_activity_date": 1515591041, "last_edit_date": 1515591041, "creation_date": 1515581314, "answer_id": 48185699, "question_id": 48185165, "link": "https://stackoverflow.com/questions/48185165/kotlin-execute-optional-action/48185699#48185699", "title": "Kotlin execute optional action", "body": "<p>It's a matter of one's personal preference, but I'd stay with the first variant, i.e.  </p>\n\n<pre><code>model.action?.invoke()\n</code></pre>\n\n<p>Simply because it's just the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call</a> of <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">invoke operator</a> and it does not have the burden of adding higher-level function (i.e. <code>let</code>) into the expression.</p>\n\n<p>Btw, in some cases if you write something like <code>model.action?.let { it() }</code> in Idea (at least it works for Android Studio which is based on Idea), you'll get a warning saying that <code>let</code> is useless here and you can safely replace it with the plain safe call. </p>\n"}, {"tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1515581671, "creation_date": 1515581671, "answer_id": 48185821, "question_id": 48185165, "link": "https://stackoverflow.com/questions/48185165/kotlin-execute-optional-action/48185821#48185821", "title": "Kotlin execute optional action", "body": "<p>If the function returns <code>unit</code>, I\u2019d use <code>also</code>, not <code>let</code>. The former is a side-effecting construct, the latter for returning a value.</p>\n"}], "owner": {"reputation": 4749, "user_id": 1821772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec23b33aa00a0fee6ef00aaf926dc0a?s=128&d=identicon&r=PG", "display_name": "Sulfkain", "link": "https://stackoverflow.com/users/1821772/sulfkain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 48185225, "answer_count": 3, "score": 1, "last_activity_date": 1571344302, "creation_date": 1515579754, "last_edit_date": 1515580923, "question_id": 48185165, "link": "https://stackoverflow.com/questions/48185165/kotlin-execute-optional-action", "title": "Kotlin execute optional action", "body": "<p>I have a model with an optional higher-order function <em>(() -> Unit)?</em></p>\n\n<p>When I want to call that function, I'm wondering, how can I call it even been an optional.</p>\n\n<p>I know this works</p>\n\n<pre><code>model.action?.invoke()\n</code></pre>\n\n<p>There is something similar to Swift?, where I could do:</p>\n\n<pre><code>model.action?()\n</code></pre>\n\n<p>I know, I can do too:</p>\n\n<pre><code>model.action?.let { action() }\n</code></pre>\n\n<p>Maybe this last one is the \"better\" way to go.\nDo you know some \"better\" way?\nThanks</p>\n"}, {"tags": ["kotlin"], "owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "closed_date": 1515577479, "answer_count": 0, "score": 1, "last_activity_date": 1515580129, "creation_date": 1515577387, "last_edit_date": 1515580129, "question_id": 48184411, "link": "https://stackoverflow.com/questions/48184411/how-to-call-global-function-inside-class-method-with-same-name-in-kotlin", "closed_reason": "Duplicate", "title": "How to call global function inside class method with same name in Kotlin?", "body": "<p>I have a situation that I need to have global functions and object with same names as global functions. </p>\n\n<p>And similar question: what if I will have a companion object?</p>\n\n<p>Simple example: </p>\n\n<p>file: fooBar.kt</p>\n\n<pre><code>fun foo(){} //global foo\nfun bar(){} //global bar\n\nclass FooBar {\n\n   fun foo(){\n       foo() //this makes me a recurrence but I want to call global foo here\n   }\n\n   fun bar(){\n       bar() //this makes me a recurrence but I want to call global bar here\n   }\n\n    companion object {\n       fun foo() {\n           bar()// how to call global bar here?\n       }\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Question related to function but solutions is same as in case of variables</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515575644, "post_id": 48183817, "comment_id": 83347379, "body": "You need to update the kotlin plugin by going to File &gt; Settings &gt; Plugins"}, {"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515575974, "post_id": 48183817, "comment_id": 83347569, "body": "Just make sure the version provided in Gradle and the plugin version installed are the same"}, {"owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "reply_to_user": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576444, "post_id": 48183817, "comment_id": 83347877, "body": "thanks for response .my gradle version is 4.1 and the kotlin is v1.2.10-release-Studio3.0-1"}, {"owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "reply_to_user": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576496, "post_id": 48183817, "comment_id": 83347923, "body": "everythings were updated.but still i have the problem"}, {"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576553, "post_id": 48183817, "comment_id": 83347971, "body": "Change the version in gradle to v1.2.10"}, {"owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "reply_to_user": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576589, "post_id": 48183817, "comment_id": 83347993, "body": "android plugin version is 3.0.1"}, {"owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "reply_to_user": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576678, "post_id": 48183817, "comment_id": 83348062, "body": "how can i do the Change the version in gradle to v1.2.10  ?"}, {"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515576784, "post_id": 48183817, "comment_id": 83348133, "body": "Change the <code>ext.kotlin_version</code> attribute in the gradle"}, {"owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "reply_to_user": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515577288, "post_id": 48183817, "comment_id": 83348447, "body": "thanks .i&#39;ll do it and and tell the feedbak"}], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "is_accepted": true, "score": 0, "last_activity_date": 1515576723, "creation_date": 1515576723, "answer_id": 48184216, "question_id": 48183817, "link": "https://stackoverflow.com/questions/48183817/android-studio-3-0-1-and-kotlin-v1-2-10-release-studio3-0-1-got-issue/48184216#48184216", "title": "android studio 3.0.1 and kotlin v1.2.10-release-Studio3.0-1 got issue", "body": "<p>Make sure the kotlin version used in gradle and the kotlin plugin version are the same like in the following snaps:\n<a href=\"https://i.stack.imgur.com/30jYU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30jYU.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Version in gradle is 1.1.51</p>\n\n<p><a href=\"https://i.stack.imgur.com/dfaGZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfaGZ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Version of the plugin installed is also 1.1.51</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "is_accepted": false, "score": 0, "last_activity_date": 1515743326, "creation_date": 1515743326, "answer_id": 48221754, "question_id": 48183817, "link": "https://stackoverflow.com/questions/48183817/android-studio-3-0-1-and-kotlin-v1-2-10-release-studio3-0-1-got-issue/48221754#48221754", "title": "android studio 3.0.1 and kotlin v1.2.10-release-Studio3.0-1 got issue", "body": "<p>i solved that problem.thanks.i have a new problem...</p>\n\n<p>Error:Gradle: A problem occurred configuring root project 'Firstapp1'.</p>\n\n<blockquote>\n  <p>Could not resolve all files for configuration ':classpath'.\n  Could not resolve com.android.tools.build:gradle:3.0.1.\n       Required by:\n           project :\n  Could not resolve com.android.tools.build:gradle:3.0.1.\n  Could not parse POM <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom</a>\n  Already seen doctype.\n  Could not resolve com.android.tools.build:gradle:3.0.1.\n  Could not get resource '<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom</a>'.\n  Could not HEAD '<a href=\"https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom</a>'.\n  Connect to jcenter.bintray.com:443 [jcenter.bintray.com/108.168.243.150] failed: Connection timed out: connect</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 9197386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e205b9edb329a5a46c398576b864acc0?s=128&d=identicon&r=PG&f=1", "display_name": "pouria barani", "link": "https://stackoverflow.com/users/9197386/pouria-barani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 48184216, "answer_count": 2, "score": 1, "last_activity_date": 1515743326, "creation_date": 1515575474, "last_edit_date": 1515587026, "question_id": 48183817, "link": "https://stackoverflow.com/questions/48183817/android-studio-3-0-1-and-kotlin-v1-2-10-release-studio3-0-1-got-issue", "title": "android studio 3.0.1 and kotlin v1.2.10-release-Studio3.0-1 got issue", "body": "<p>I am using android studio 3.0.1 and I was going to use Kotlin.</p>\n\n<p>I wrote some simple code and when application runs the android studio shows me below error:</p>\n\n<p>Error:Gradle:</p>\n\n<blockquote>\n  <p>A problem occurred configuring root project 'Firstapp1'.<br>\n  Could not resolve all files for configuration ':classpath'.<br>\n  Could not resolve com.android.tools.build:gradle:3.0.1.<br>\n       Required by:<br>\n           project :<br>\n  Could not resolve com.android.tools.build:gradle:3.0.1.<br>\n  Could not parse POM <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom</a><br>\n  Already seen doctype.</p>\n</blockquote>\n\n<p>Gradle version: 4.1\nAndroid plugin version : 3.0.1</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZUrAc.png\" alt=\"\"></p>\n\n<p>Please help me to solve this problem!</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1515571504, "post_id": 48182748, "comment_id": 83345109, "body": "why you pass context to your adapter? i think you do not need to pass it."}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "reply_to_user": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1515571922, "post_id": 48182748, "comment_id": 83345315, "body": "I may use context in the future. In fact, I used to pass Context as parameter in the adapter in java as the same way I did it in the above. In the past, I used to pass Fragment getActivity() as Context in the Adapter constructor as the parameter which accepted Context Type. I have no idea why this time did not work"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1515574077, "post_id": 48182748, "comment_id": 83346460, "body": "@LongRanger Solved this yet?"}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1515574394, "post_id": 48182748, "comment_id": 83346694, "body": "Yes, at least I accepted to use activity.applicationContext to solve my problem. But I am still confusing with the activity in fragment"}], "answers": [{"comments": [{"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "reply_to_user": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1515571549, "post_id": 48182774, "comment_id": 83345137, "body": "are you extending Fragment or FragmentActivity?"}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1515571659, "post_id": 48182774, "comment_id": 83345189, "body": "Yes, the Fragment extends to android.support.v4.app.Fragment"}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "reply_to_user": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1515571863, "post_id": 48182774, "comment_id": 83345283, "body": "do this then class RestaurantMenuAdapter  (val context : Activity)"}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 1, "creation_date": 1515572397, "post_id": 48182774, "comment_id": 83345550, "body": "It seems this applicationContext works. But it showed I still need to add this activity!!.applicationContext before I passed to the adapter."}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "reply_to_user": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1515572609, "post_id": 48182774, "comment_id": 83345658, "body": "Do one thing change this - (val context : Context)  to-(val context : FragmentActivity) and do the same code below."}], "tags": [], "owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "is_accepted": true, "score": 16, "last_activity_date": 1515571577, "last_edit_date": 1515571577, "creation_date": 1515571374, "answer_id": 48182774, "question_id": 48182748, "link": "https://stackoverflow.com/questions/48182748/kotlin-showed-type-mismatch-in-fragment/48182774#48182774", "title": "Kotlin showed type mismatch in fragment", "body": "<p>Change this to-:</p>\n\n<pre><code>recyclerView!!.adapter = RestaurantMenuAdapter(activity)\n</code></pre>\n\n<p>To-:</p>\n\n<pre><code>recyclerView!!.adapter = RestaurantMenuAdapter(activity.applicationContext)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1515571429, "creation_date": 1515571429, "answer_id": 48182792, "question_id": 48182748, "link": "https://stackoverflow.com/questions/48182748/kotlin-showed-type-mismatch-in-fragment/48182792#48182792", "title": "Kotlin showed type mismatch in fragment", "body": "<p>Change in Recycler Adapter\nfrom Context to Activity.</p>\n\n<pre><code>class RestaurantMenuAdapter  (val context : Activity) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val inflater = parent.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        return object : RecyclerView.ViewHolder(inflater.inflate(R.layout.item_menu1, parent, false)) {\n\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n    }\n\n    override fun getItemCount(): Int {\n        return 10\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 4821148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOZSR.png?s=128&g=1", "display_name": "Nauman Ash", "link": "https://stackoverflow.com/users/4821148/nauman-ash"}, "is_accepted": false, "score": 2, "last_activity_date": 1550941295, "creation_date": 1550941295, "answer_id": 54843922, "question_id": 48182748, "link": "https://stackoverflow.com/questions/48182748/kotlin-showed-type-mismatch-in-fragment/54843922#54843922", "title": "Kotlin showed type mismatch in fragment", "body": "<p>Keep the adapter as it and just use \"activity!!\" where you are initializing adapter.</p>\n\n<pre><code>recyclerView.adapter = RestaurantMenuAdapter(activity!!)\n</code></pre>\n\n<p>Your adapter will remain same.</p>\n\n<pre><code>class RestaurantMenuAdapter  (val context : Context) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    val inflater = parent.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    return object : RecyclerView.ViewHolder(inflater.inflate(R.layout.item_menu1, parent, false)) {\n\n    }\n}\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n}\n\noverride fun getItemCount(): Int {\n    return 10\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 10182932, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GEtkWrXsNWo/AAAAAAAAAAI/AAAAAAAAABA/4DUafuH5Njc/photo.jpg?sz=128", "display_name": "Shivam Tripathi", "link": "https://stackoverflow.com/users/10182932/shivam-tripathi"}, "is_accepted": false, "score": 6, "last_activity_date": 1580083745, "last_edit_date": 1580083745, "creation_date": 1580038665, "answer_id": 59917945, "question_id": 48182748, "link": "https://stackoverflow.com/questions/48182748/kotlin-showed-type-mismatch-in-fragment/59917945#59917945", "title": "Kotlin showed type mismatch in fragment", "body": "<pre><code>recyclerView!!.adapter = RestaurantMenuAdapter(this)\n</code></pre>\n\n<p>To</p>\n\n<pre><code>recyclerView!!.adapter = RestaurantMenuAdapter(this.requireActivity())\n</code></pre>\n"}], "owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10955, "favorite_count": 3, "accepted_answer_id": 48182774, "answer_count": 4, "score": 14, "last_activity_date": 1580083745, "creation_date": 1515571231, "last_edit_date": 1515572860, "question_id": 48182748, "link": "https://stackoverflow.com/questions/48182748/kotlin-showed-type-mismatch-in-fragment", "title": "Kotlin showed type mismatch in fragment", "body": "<p>I have a fragment with RecyclerAdapter inside it. I want to initialize the adapter in the <code>onCreateView</code> method but it throws the error of <code>\"Type mismatch. Required : Context , Found : FragmentActivity\"</code> in this statement</p>\n\n<p>I have no idea why the first one showed this error and the second one did not contains compile time error.</p>\n\n<p>Error shown</p>\n\n<pre><code>recyclerView!!.adapter = RestaurantMenuAdapter(activity)\n</code></pre>\n\n<p>No Error shown</p>\n\n<pre><code>recyclerView!!.layoutManager = LinearLayoutManager(activity)\n</code></pre>\n\n<p>Fragment.kt</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val view = inflater.inflate(R.layout.fragment_restaurant_menu, container, false)\n    recyclerView = view.findViewById(R.id.restaurant_container)\n    recyclerView!!.adapter = RestaurantMenuAdapter(activity)\n    recyclerView!!.layoutManager = LinearLayoutManager(activity)\n</code></pre>\n\n<p>RecyclerAdapter.kt</p>\n\n<pre><code>class RestaurantMenuAdapter  (val context : Context) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val inflater = parent.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        return object : RecyclerView.ViewHolder(inflater.inflate(R.layout.item_menu1, parent, false)) {\n\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n    }\n\n    override fun getItemCount(): Int {\n        return 10\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4450, "user_id": 1274398, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/T2QI4.png?s=128&g=1", "display_name": "Bart Burg", "link": "https://stackoverflow.com/users/1274398/bart-burg"}, "edited": false, "score": 2, "creation_date": 1553509139, "post_id": 48182038, "comment_id": 97396146, "body": "to be safe:  object{}.javaClass.enclosingMethod?.name"}, {"owner": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "edited": false, "score": 1, "creation_date": 1574290753, "post_id": 48182038, "comment_id": 104184413, "body": "object{}.javaClass.enclosingMethod worked in Kotlin 1.2.x, but seems to no longer work in Kotlin 1.3.50"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1574681655, "post_id": 48182038, "comment_id": 104305534, "body": "The stackTrace method will not work on overriden methods. Try running that code in an Activity&#39;s onCreate and it will return a method called &quot;getStackTrace&quot;. Running enclosingMethod in onCreate will also return null."}, {"owner": {"reputation": 199, "user_id": 7114988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCl8M.png?s=128&g=1", "display_name": "Oleg Yablokov", "link": "https://stackoverflow.com/users/7114988/oleg-yablokov"}, "edited": false, "score": 0, "creation_date": 1602058883, "post_id": 48182038, "comment_id": 113596609, "body": "Can you get function argument values as well?"}, {"owner": {"reputation": 5511, "user_id": 102901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hA0w7.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/102901/cosmin"}, "edited": false, "score": 0, "creation_date": 1610364286, "post_id": 48182038, "comment_id": 116100293, "body": "Use &quot;Thread.currentThread().stackTrace[3].methodName&quot; if you have a Log method and want the name of the parent method."}], "tags": [], "owner": {"reputation": 3301, "user_id": 2297991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/JfVcY.png?s=128&g=1", "display_name": "Suryakant Sharma", "link": "https://stackoverflow.com/users/2297991/suryakant-sharma"}, "is_accepted": true, "score": 36, "last_activity_date": 1561982559, "last_edit_date": 1561982559, "creation_date": 1515568199, "answer_id": 48182038, "question_id": 48181751, "link": "https://stackoverflow.com/questions/48181751/get-name-of-current-function-in-kotlin/48182038#48182038", "title": "Get name of current function in Kotlin", "body": "<p>I found one of the way:- </p>\n\n<pre><code>val name = object : Any() {\n\n}.javaClass.enclosingMethod.name\n</code></pre>\n\n<p>Above code can also be refine as -</p>\n\n<pre><code>val name = object{}.javaClass.enclosingMethod.name\n</code></pre>\n\n<hr>\n\n<p>Edit because incorrect duplicate flag prevents a new answer:</p>\n\n<p>A more Java way is this:</p>\n\n<pre><code>Thread.currentThread().stackTrace[1].methodName\n</code></pre>\n\n<p>but it takes ~47ms on my system compared with ~13ms for the object() based one: nearly 4 times slower.</p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1593513024, "post_id": 60579199, "comment_id": 110801457, "body": "Or simply <code>this::yourMethod.name</code> (replace <code>yourMethod</code> with current method name every time)."}, {"owner": {"reputation": 160, "user_id": 8334146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PrHZZ80tMzM/AAAAAAAAAAI/AAAAAAAAZCc/66EpCWYAmZ4/photo.jpg?sz=128", "display_name": "Mustafa Ozhan", "link": "https://stackoverflow.com/users/8334146/mustafa-ozhan"}, "edited": false, "score": 1, "creation_date": 1595599485, "post_id": 60579199, "comment_id": 111539450, "body": "more simply <code>::yourMethod.name</code> :)"}], "tags": [], "owner": {"reputation": 1775, "user_id": 792632, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ef3ed0c4374cf7e12992fbf0b7dac7c?s=128&d=identicon&r=PG", "display_name": "dominik", "link": "https://stackoverflow.com/users/792632/dominik"}, "is_accepted": false, "score": 16, "last_activity_date": 1605568673, "last_edit_date": 1605568673, "creation_date": 1583595291, "answer_id": 60579199, "question_id": 48181751, "link": "https://stackoverflow.com/questions/48181751/get-name-of-current-function-in-kotlin/60579199#60579199", "title": "Get name of current function in Kotlin", "body": "<p>There's also another option if you don't need the name to be discovered dynamically at runtime:</p>\n<pre><code>instance::method.name\n</code></pre>\n<p>Check below example on <a href=\"https://pl.kotl.in/1ZcxQP4b3\" rel=\"nofollow noreferrer\">https://pl.kotl.in/1ZcxQP4b3</a>:</p>\n<pre><code>fun main() {\n    val test = Test()\n    test.methodA()\n    println(&quot;The name of method is ${test::methodA.name}&quot;)\n}\n\nclass Test {\n    fun methodA() {\n        println(&quot;Executing method ${this::methodA.name}&quot;)\n        println(&quot;Executing method ${::methodA.name} - without explicit this&quot;)\n    }\n}\n</code></pre>\n<p>After executing <code>main()</code> you will see:</p>\n<pre><code>Executing method methodA\nExecuting method methodA - without explicit this\nThe name of method is methodA\n</code></pre>\n<p>This way you can leverage all the &quot;IDE intelligence&quot; (renaming, searching for occurrences, etc.) but what's important, all occurrences of <code>instance::method.name</code> are replaced by Kotlin to ordinary strings during compilation. If you decompile Kotlin-generated bytecode, you'll see:</p>\n<pre><code>public final void main() {\n    Test test = new Test();\n    test.methodA();\n    String var2 = &quot;The name of method is &quot; + &quot;methodA&quot;; // &lt;--- ordinary string, no reflection etc.\n    boolean var3 = false;\n    System.out.println(var2);\n}\n</code></pre>\n"}], "owner": {"reputation": 3301, "user_id": 2297991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/JfVcY.png?s=128&g=1", "display_name": "Suryakant Sharma", "link": "https://stackoverflow.com/users/2297991/suryakant-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13121, "favorite_count": 4, "accepted_answer_id": 48182038, "answer_count": 2, "score": 31, "last_activity_date": 1605568673, "creation_date": 1515566959, "last_edit_date": 1561981936, "question_id": 48181751, "link": "https://stackoverflow.com/questions/48181751/get-name-of-current-function-in-kotlin", "title": "Get name of current function in Kotlin", "body": "<p><strong>Update</strong></p>\n\n<p>How can I get function name which is currently being execute using <code>Kotlin</code>?</p>\n\n<p>I'm trying to get the function name of the function which is currently being execute  as below but it's always coming as null</p>\n\n<pre><code>val funName = Object().`class`.enclosingMethod?.name;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 2, "creation_date": 1515565579, "post_id": 48181416, "comment_id": 83342640, "body": "In JS function defined with <code>function</code> keyword are hoisted up, while others defined with <code>var</code> are not hoisted."}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "reply_to_user": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 0, "creation_date": 1515565768, "post_id": 48181416, "comment_id": 83342715, "body": "This is Kotlin..I know what happens in JS"}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515565851, "post_id": 48181503, "comment_id": 83342742, "body": "My Issue is..Is How these functions internally defer and also how to return from my last function"}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "reply_to_user": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566362, "post_id": 48181503, "comment_id": 83342902, "body": "<code>var add = { a:Int ,b : Int -&gt;             &quot;Sum ${a+b}&quot;         }         Log.v(&quot;Response&quot;, add(4,3))</code>"}], "tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1515566423, "last_edit_date": 1515566423, "creation_date": 1515565722, "answer_id": 48181503, "question_id": 48181416, "link": "https://stackoverflow.com/questions/48181416/what-is-the-difference-between-these-ways-for-defining-functions/48181503#48181503", "title": "What is the difference between these ways for defining functions?", "body": "<p>Hopefully this will work.</p>\n\n<pre><code>val onChange  = {\n        a:Int,b:Int-&gt;\n        println(\"I am calculating the sale =&gt; no body you guy [$x+$y]\");\n  //works\n\n  }\n\n\nval add = { a:Int ,b : Int -&gt;\n    println(\"Sunm ${a+b}\")\n   //How do i return from this function\n}\n\n\nLog.v(\"Response\", add(4,3))\n</code></pre>\n\n<p><strong>Output</strong><br>\nV/Response: Sum 7</p>\n"}, {"comments": [{"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566310, "post_id": 48181595, "comment_id": 83342881, "body": "Its actually a syntax Error to explicitly put a return"}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566376, "post_id": 48181595, "comment_id": 83342904, "body": "How about if i want a multiline body function with a return"}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566414, "post_id": 48181595, "comment_id": 83342917, "body": "and Is there any performance difference with the first way or so?"}, {"owner": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 0, "creation_date": 1515566486, "post_id": 48181595, "comment_id": 83342938, "body": "So, this is like arrow functions(denoted by <code>=&gt;</code>) in JS. Are <code>a</code> &amp; <code>b</code> parameters or the variables declared inside function?"}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566536, "post_id": 48181595, "comment_id": 83342950, "body": "They are actually parameters of the function"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566550, "post_id": 48181595, "comment_id": 83342956, "body": "@henrybbosa I don&#39;t think there&#39;s any performance difference, but you should benchmark this. And regarding your other point: this simplified syntax is to facilitate writing simple expressions. Don&#39;t abuse it by shoving complex logic inside. If you need complex logic with early returns, make it a full <code>fun</code>."}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566618, "post_id": 48181595, "comment_id": 83342972, "body": "Thanks @SergioTulentsev"}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566716, "post_id": 48181595, "comment_id": 83343008, "body": "But this is a common way Used When iam doing callbacks and sometimes my callback could have some logic"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515567149, "post_id": 48181595, "comment_id": 83343177, "body": "@henrybbosa: nothing stops you from passing your &quot;full&quot; functions around. <a href=\"https://gist.github.com/stulentsev/c03a2b64dfb5f9a057d3ffb88384bbb5\" rel=\"nofollow noreferrer\">gist.github.com/stulentsev/c03a2b64dfb5f9a057d3ffb88384bbb5</a>"}, {"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515568740, "post_id": 48181595, "comment_id": 83343853, "body": "@SergioTulentsev Thanks alot..Some bunch of knowledge there"}, {"owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "reply_to_user": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515573757, "post_id": 48181595, "comment_id": 83346269, "body": "@henrybbosa if you want a multiline body function, just write everything without return, like <a href=\"https://gist.github.com/aleksandar-stefanovic/25fd3bf76aed74252250521ddc6b15f3\" rel=\"nofollow noreferrer\">this</a>. Note that, in case of branching, you need to have all cases covered (for <code>if</code> and <code>when</code> branching you need <code>else</code> branches, for example)"}], "tags": [], "owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "is_accepted": false, "score": 2, "last_activity_date": 1515566138, "creation_date": 1515566138, "answer_id": 48181595, "question_id": 48181416, "link": "https://stackoverflow.com/questions/48181416/what-is-the-difference-between-these-ways-for-defining-functions/48181595#48181595", "title": "What is the difference between these ways for defining functions?", "body": "<p>You don't need the explicit <code>return</code> there</p>\n\n<pre><code>val add = { a: Int, b: Int -&gt;\n   a + b\n}\n\nadd(2, 3) // =&gt; 5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515566782, "post_id": 48181693, "comment_id": 83343030, "body": "About your first point..It was a typo i fixed in an edit..Second point i know I was making an assignment..Actually assigning a function to a variable. So its a function"}, {"owner": {"reputation": 1, "user_id": 9155395, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gX_7gh2PD84/AAAAAAAAAAI/AAAAAAAAACA/6iiLnUErwTU/photo.jpg?sz=128", "display_name": "Raunak Purohit", "link": "https://stackoverflow.com/users/9155395/raunak-purohit"}, "reply_to_user": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "edited": false, "score": 0, "creation_date": 1515567423, "post_id": 48181693, "comment_id": 83343295, "body": "@henrybbosa first point I didn&#39;t saw the edit, second point in that case you dont need to return, simple use a+b."}], "tags": [], "owner": {"reputation": 1, "user_id": 9155395, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gX_7gh2PD84/AAAAAAAAAAI/AAAAAAAAACA/6iiLnUErwTU/photo.jpg?sz=128", "display_name": "Raunak Purohit", "link": "https://stackoverflow.com/users/9155395/raunak-purohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1515566709, "creation_date": 1515566709, "answer_id": 48181693, "question_id": 48181416, "link": "https://stackoverflow.com/questions/48181416/what-is-the-difference-between-these-ways-for-defining-functions/48181693#48181693", "title": "What is the difference between these ways for defining functions?", "body": "<p>You can't return values in kotlin like this, it will give error of type mismatch as you havn't declared any return type :</p>\n\n<pre><code>fun add(a: Int , b: Int){\n   return a+b \n} //wrong\n</code></pre>\n\n<p>we declare return type in kotlin as :</p>\n\n<pre><code>fun add(a: Int , b: Int) : Int{\n   return a+b \n}\n</code></pre>\n\n<p>Secondly,</p>\n\n<pre><code>val add = { a:Int ,b : Int -&gt;\n}\n</code></pre>\n\n<p>this is not a function, its a declaration of value assignment\nIn kotlin we declare function by adding \"fun\" before your function name as \n//you can add access modifiers(private,public,protected) if needed just before \"fun\"(by default its public)</p>\n\n<pre><code>fun add (){ //if it returns any value then add \": {datatype}\" just right of \"()\" \n//your code here\n}\n</code></pre>\n\n<p>Hope it helped you :)</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1515573790, "last_edit_date": 1515573790, "creation_date": 1515573478, "answer_id": 48183293, "question_id": 48181416, "link": "https://stackoverflow.com/questions/48181416/what-is-the-difference-between-these-ways-for-defining-functions/48183293#48183293", "title": "What is the difference between these ways for defining functions?", "body": "<blockquote>\n  <p>Also Is this a right way to define Kotlin functions? and Whats the difference with the first way ?</p>\n</blockquote>\n\n<p>This is not even \"a way to define Kotlin functions\". </p>\n\n<p>In JavaScript, all functions are <em>reified</em>: they are first-class values you can refer to from variables and pass around. Not so in Kotlin, just as in many other languages like Java, C++, Objective C and so on. </p>\n\n<p>A function is just a declaration, you can call it but you can't otherwise directly refer to it. Separate language features allow you to create functional objects that <em>delegate</em> to these functions, and you can pass these objects around.</p>\n\n<p>Therefore,</p>\n\n<pre><code>fun add(a: Int , b: Int): Int {\n    return a + b \n}\n</code></pre>\n\n<p>is a function declaration and</p>\n\n<pre><code>val add = {a: Int, b: Int -&gt; \n    a + b \n}\n</code></pre>\n\n<p>is four things:</p>\n\n<ol>\n<li>declaration of a variable <code>add</code></li>\n<li>declaration of an anonymous implementation of the functional type <code>(Int, Int) -&gt; Int</code></li>\n<li>instantiation of this anonymous type, resulting in a functional object</li>\n<li>assignment of the object to the variable <code>add</code>.</li>\n</ol>\n\n<p>The object has a method <code>invoke(a: Int, b: Int): Int</code> whose implementation you have given in the block:</p>\n\n<pre><code>fun invoke(a: Int, b: Int): Int {\n    return a + b\n}\n</code></pre>\n\n<p>You can call it explicitly:</p>\n\n<pre><code>val result = add.invoke(a, b)\n</code></pre>\n\n<p>and on top of that Kotlin defines syntax sugar that allows you to omit the explicit <code>.invoke</code>.</p>\n"}], "owner": {"reputation": 1073, "user_id": 6244351, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHowY.jpg?s=128&g=1", "display_name": "henrybbosa", "link": "https://stackoverflow.com/users/6244351/henrybbosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "accepted_answer_id": 48183293, "answer_count": 4, "score": 0, "last_activity_date": 1515573790, "creation_date": 1515565375, "last_edit_date": 1515566079, "question_id": 48181416, "link": "https://stackoverflow.com/questions/48181416/what-is-the-difference-between-these-ways-for-defining-functions", "title": "What is the difference between these ways for defining functions?", "body": "<p>I am from a background of Javascript trying to learn some Kotlin.</p>\n\n<p>I know i can define  my function by</p>\n\n<pre><code>fun add(a: Int , b: Int): Int{\n   return a+b \n}\n</code></pre>\n\n<p>I am trying this</p>\n\n<pre><code>val add  = {\n        a:Int,b:Int-&gt;\n        println(\"I am calculating the sale =&gt; no body you guy [$x+$y]\");\n  //works\n\n  }\n\n\nval add = { a:Int ,b : Int -&gt;\n   //How do i return from this function\n}\n</code></pre>\n\n<p>Also Is this a right way to define Kotlin functions? and Whats the difference with the first way ?</p>\n"}, {"tags": ["android", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1515557923, "post_id": 48180131, "comment_id": 83340453, "body": "it&#39;s sufficient to mock once, no need for a loop. what are you trying to achieve"}, {"owner": {"reputation": 952, "user_id": 3991696, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001505922636/picture?type=large", "display_name": "vishwarajanand", "link": "https://stackoverflow.com/users/3991696/vishwarajanand"}, "edited": false, "score": 0, "creation_date": 1515558638, "post_id": 48180131, "comment_id": 83340572, "body": "In Java, we do it with two ways: 1. <code>doReturn(-1). doReturn(1). when(mockedObject). mockedMethod()</code> OR 2. <code>when(mockObject. mockedMethod()). thenReturn(-1, 1)</code>. Both these ways will return <code>-1</code> in first call and <code>1</code> in second call. Subsequent calls throw. I hope you would be able to translate this to kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 2337, "user_id": 3827850, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/rCU6z.jpg?s=128&g=1", "display_name": "Ezio", "link": "https://stackoverflow.com/users/3827850/ezio"}, "is_accepted": false, "score": 0, "last_activity_date": 1515557652, "creation_date": 1515557652, "answer_id": 48180208, "question_id": 48180131, "link": "https://stackoverflow.com/questions/48180131/how-to-mock-the-same-method-multiple-times-use-mockito/48180208#48180208", "title": "How to mock the same method multiple times use mockito", "body": "<p>Instead of mocking the same method, mock the method once and call the verify method by passing the optional Verification mode parameter. For example if you want that some method of your mocked class get called twice, you can make a verify statement like this</p>\n\n<pre><code>verify(mockedClass, Mockito.times(2)).someMethod();\n</code></pre>\n\n<p>This will test if <code>someMethod()</code> is getting called twice.</p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 3585728, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1deacdb5a21248ac3dbc0274f4e57822?s=128&d=identicon&r=PG&f=1", "display_name": "littlegnal", "link": "https://stackoverflow.com/users/3585728/littlegnal"}, "edited": false, "score": 0, "creation_date": 1515566248, "post_id": 48180254, "comment_id": 83342868, "body": "It works for this case, but I actually want the certain values instead of any."}], "tags": [], "owner": {"reputation": 263, "user_id": 9038254, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1_OaIQpyqMs/AAAAAAAAAAI/AAAAAAAAAA8/NA5Ayp6P2pI/photo.jpg?sz=128", "display_name": "yu wang", "link": "https://stackoverflow.com/users/9038254/yu-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1515558031, "creation_date": 1515558031, "answer_id": 48180254, "question_id": 48180131, "link": "https://stackoverflow.com/questions/48180131/how-to-mock-the-same-method-multiple-times-use-mockito/48180254#48180254", "title": "How to mock the same method multiple times use mockito", "body": "<p>Move your \"when ...\" statement out of your loop:</p>\n\n<pre><code>when`(accountingDao.sumOfDay(any()).thenReturn(100.0f)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21522, "user_id": 2202415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hHKw.jpg?s=128&g=1", "display_name": "Maciej Kowalski", "link": "https://stackoverflow.com/users/2202415/maciej-kowalski"}, "is_accepted": true, "score": 0, "last_activity_date": 1515576417, "creation_date": 1515576417, "answer_id": 48184126, "question_id": 48180131, "link": "https://stackoverflow.com/questions/48180131/how-to-mock-the-same-method-multiple-times-use-mockito/48184126#48184126", "title": "How to mock the same method multiple times use mockito", "body": "<p>Normally when the set-up is more complicated, the <code>doAnswer</code> strategy would be used:</p>\n\n<pre><code>   Mockito.doAnswer(new Answer&lt;Float&gt;() {\n        @Override\n        public Float answer(InvocationOnMock invocation) throws Throwable {\n            String argument = (String)invocation.getArgument(0);\n\n            if(supportedDates.contains(argument)){\n                return 100.00f;\n            }else{                  \n                return null;\n            }\n        }\n    }).when(accountingDao.sumOfDay(any(String.class)));\n</code></pre>\n\n<p>So you basically catch the input param and then decide based on its value what should be returned dynamically.</p>\n"}], "owner": {"reputation": 195, "user_id": 3585728, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1deacdb5a21248ac3dbc0274f4e57822?s=128&d=identicon&r=PG&f=1", "display_name": "littlegnal", "link": "https://stackoverflow.com/users/3585728/littlegnal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2444, "favorite_count": 0, "accepted_answer_id": 48184126, "answer_count": 3, "score": 1, "last_activity_date": 1515576417, "creation_date": 1515557060, "last_edit_date": 1515559547, "question_id": 48180131, "link": "https://stackoverflow.com/questions/48180131/how-to-mock-the-same-method-multiple-times-use-mockito", "title": "How to mock the same method multiple times use mockito", "body": "<p>I have a method that needs to be called multiple times, and I can return the same result in the test case, I invoke <code>when</code> use for loop, but is there more simple way to do this?</p>\n\n<pre><code>val ONE_DAY_FORMAT: SimpleDateFormat = SimpleDateFormat(\"yyyy-MM-dd\")\n\nval tempCalendar = Calendar.getInstance()\nfor (i in (0..15)) {\n  `when`(accountingDao.sumOfDay(ONE_DAY_FORMAT.format(tempCalendar.time)))\n      .thenReturn(100.0f)\n   tempCalendar.add(Calendar.DAY_OF_YEAR, -1)\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515545482, "post_id": 48178755, "comment_id": 83337662, "body": "Why is <code>onTimeSettedListener</code> inside of another method?"}, {"owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515547282, "post_id": 48178755, "comment_id": 83338099, "body": "It is in the onCreate like in the documentations"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515547704, "post_id": 48178755, "comment_id": 83338188, "body": "What documentation? It probably <i>registers</i> the callback there."}, {"owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515548360, "post_id": 48178755, "comment_id": 83338344, "body": "google official documentations as well as another website"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515550910, "post_id": 48178755, "comment_id": 83338864, "body": "<a href=\"https://developer.android.com/training/basics/fragments/communicating.html\" rel=\"nofollow noreferrer\">This page</a> looks most relevant, but it doesn&#39;t do anything of the sort."}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "edited": false, "score": 0, "creation_date": 1515580916, "post_id": 48181858, "comment_id": 83350860, "body": "Sorry my bad, I just checked on android studio and actually override fun onTimeSettedListener(comic: String) is in fact outside onCreate. i edit my question"}, {"owner": {"reputation": 7596, "user_id": 1009132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75930f51f830aa057b0eaf61a3dd62a8?s=128&d=identicon&r=PG", "display_name": "albodelu", "link": "https://stackoverflow.com/users/1009132/albodelu"}, "reply_to_user": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "edited": false, "score": 0, "creation_date": 1515581145, "post_id": 48181858, "comment_id": 83350989, "body": "You Also need to replace <code>onTimeSetListtedener</code> by  <code>onTimeSettedListener</code> to override it, otherwise, the error &quot;activity does not override anything&quot; won&#39;t disappear."}, {"owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "edited": false, "score": 1, "creation_date": 1515607276, "post_id": 48181858, "comment_id": 83367462, "body": "yes it was the actual error... when I changed the listener name I forgot to change it in the activity"}], "tags": [], "owner": {"reputation": 7596, "user_id": 1009132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75930f51f830aa057b0eaf61a3dd62a8?s=128&d=identicon&r=PG", "display_name": "albodelu", "link": "https://stackoverflow.com/users/1009132/albodelu"}, "is_accepted": false, "score": 1, "last_activity_date": 1515582001, "last_edit_date": 1515582001, "creation_date": 1515567342, "answer_id": 48181858, "question_id": 48178755, "link": "https://stackoverflow.com/questions/48178755/how-to-properly-implement-an-interface-in-android-fragment/48181858#48181858", "title": "How to properly implement an interface in android fragment?", "body": "<p>As @chris commented, you need to move the lines below outside of <code>onCreate()</code> method:</p>\n\n<pre><code> override fun onTimeSettedListener(comic: String) {\n    println(\"params\")\n}\n</code></pre>\n\n<p>You also need to match names replacing</p>\n\n<pre><code>interface OnTimeSettedListener {\n    fun onTimeSetListtedener(comic : String){\n        println(\"ok\")\n    }\n}\n</code></pre>\n\n<p>by</p>\n\n<pre><code>interface OnTimeSettedListener {\n    fun onTimeSettedListener(comic: String) {\n        println(\"ok\")\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>If you fix the name typo and remove the default implementation of the <code>onTimeSettedListener</code> declaration in the interface inside your fragment, as your activity implements it and Android Studio warns you about the missing override, it's possible to click it and select that the IDE implements it for you to avoid errors doing it:</p>\n\n<pre><code>interface OnTimeSettedListener{\n    fun onTimeSettedListener(comic : String)\n}\n</code></pre>\n\n<p>You also need to fix the call replacing:</p>\n\n<pre><code>listener.onTimeSetListtedener(\"test\")\n</code></pre>\n\n<p>by</p>\n\n<pre><code>listener.onTimeSettedListener(\"test\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "edited": false, "score": 0, "creation_date": 1515581980, "post_id": 48182066, "comment_id": 83351506, "body": "actually, it was just the <code>OnTimeSettedListener </code> and <code>onTimeSetListtedener </code> type the problem, corrected it now working like a charm, I do not get how I did not see thin. THANKS"}], "tags": [], "owner": {"reputation": 897, "user_id": 2855810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0mS1.png?s=128&g=1", "display_name": "Ergin Ersoy", "link": "https://stackoverflow.com/users/2855810/ergin-ersoy"}, "is_accepted": true, "score": 1, "last_activity_date": 1515568341, "creation_date": 1515568341, "answer_id": 48182066, "question_id": 48178755, "link": "https://stackoverflow.com/questions/48178755/how-to-properly-implement-an-interface-in-android-fragment/48182066#48182066", "title": "How to properly implement an interface in android fragment?", "body": "<p>I think you shouldn't add method body to your interface method. It is not allowed in Java. In Kotlin there is no error that showing method body is restricted. But you should remove body. Change your interface like </p>\n\n<pre><code>interface OnTimeSettedListener{\n    fun onTimeSetListtedener(comic : String)\n}\n</code></pre>\n\n<p>Also actually you are not overriding your Listener's method. Method name in <code>OnTimeSettedListener</code> is <code>onTimeSetListtedener</code> but you are overriding <code>onTimeSettedListener</code> which is not really exist in your code.</p>\n\n<p>Also as @albodelu mentioned answer and @chris mentioned in comments, you cannot write methods in methods. It is not correct usage.</p>\n"}], "owner": {"reputation": 164, "user_id": 8126350, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/315301995576429/picture?type=large", "display_name": "Joaquim Antonio Kapel", "link": "https://stackoverflow.com/users/8126350/joaquim-antonio-kapel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3803, "favorite_count": 0, "accepted_answer_id": 48182066, "answer_count": 2, "score": 1, "last_activity_date": 1515582001, "creation_date": 1515544988, "last_edit_date": 1515580968, "question_id": 48178755, "link": "https://stackoverflow.com/questions/48178755/how-to-properly-implement-an-interface-in-android-fragment", "title": "How to properly implement an interface in android fragment?", "body": "<p>folks. I have been working on a project with kotlin and I need to make a fragment that comunicate with the parent activity... I followed exactly what google and other websites suggested but I still get an error \"activity does not override anything\"... All of the other solutions are not working for me... here is the code .</p>\n\n<p><strong>FRAGMENT</strong></p>\n\n<pre><code>package com.me.assistan.assistant\n\nimport android.app.Activity\nimport android.app.DatePickerDialog\nimport android.app.TimePickerDialog\nimport android.content.Context\nimport android.content.Intent\nimport android.graphics.drawable.GradientDrawable\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.CompoundButton\nimport android.widget.LinearLayout\nimport android.widget.ToggleButton\nimport kotlinx.android.synthetic.main.content_newplan.*\nimport java.util.*\n\nclass addingTask : Fragment(), View.OnClickListener{\n    var func = Functions\n    var globalTask = GlobalTask\n    private lateinit var listener: OnTimeSettedListener\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n            if (context is OnTimeSettedListener) {\n            listener = context\n        } else {\n            throw ClassCastException(context!!.toString() + \" must implement \n            OnTimeSettedListener.\")\n        }\n    }\n    companion object {\n        fun newInstance(): addingTask {\n            return addingTask()\n        }\n    }\n    override fun onCreateView(inflater: LayoutInflater?, container: \n        ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n        val view: View = inflater!!.inflate(R.layout.fragment_adding_task, \n        container,\n        false)\n        val activity = activity\n        view.theTime.setOnClickListener { v -&gt;\n            listener.onTimeSetListtedener(\"test\")\n        }\n        return view\n    }\n    interface OnTimeSettedListener{\n        fun onTimeSetListtedener(comic : String){\n            println(\"ok\")\n        }\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>And not the <strong>MAIN ACTIVITY</strong></p>\n\n<pre><code>class Newplan : AppCompatActivity(), addingTask.OnTimeSettedListener {\n var posx = 0f\nprivate var startx = 0f\nprivate var posy = 0f\nprivate var starty = 0f\nvar backIntent = Intent();\nvar func = Functions\nvar globalTask = GlobalTask\nval fragment = addingTask()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_newplan)\n\n    if(savedInstanceState === null){\n        var args = Bundle()\n        supportFragmentManager.beginTransaction()\n                .add(R.id.taskMain, addingTask.newInstance(),\"newTask\")\n                .commit()\n    }\n}\n override fun onTimeSettedListener(comic : String){\n    println(\"params\")\n}\n}\n</code></pre>\n\n<p>I get the error on the activity class... When I remove the \"override?, the error is gone but nothing happen when I click on the button... What am I doing wrong?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "edited": false, "score": 0, "creation_date": 1515543972, "post_id": 48178552, "comment_id": 83337312, "body": "Are you sure this is possible outside of the class/object scope? In my testing, the <code>com.example.weightInKilos</code> results in an unresolved reference.."}, {"owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "reply_to_user": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "edited": false, "score": 0, "creation_date": 1515545726, "post_id": 48178552, "comment_id": 83337708, "body": "@TimMalseed absolutely.  Variables and functions can exist outside of class bodies in kotlin."}, {"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "edited": false, "score": 0, "creation_date": 1515545940, "post_id": 48178552, "comment_id": 83337765, "body": "@Tom I&#39;m not suggesting they can&#39;t exist outside of class bodies - but in my testing I can&#39;t reference these variables by package name. Edit: I stand corrected, I must have had the package name wrong."}], "tags": [], "owner": {"reputation": 115, "user_id": 7899703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869af6f5e48ff0753bc8683bac77c85?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Tyagi", "link": "https://stackoverflow.com/users/7899703/aayush-tyagi"}, "is_accepted": false, "score": 4, "last_activity_date": 1515543299, "creation_date": 1515543299, "answer_id": 48178552, "question_id": 48178507, "link": "https://stackoverflow.com/questions/48178507/how-do-i-distinguish-a-global-variable-from-a-local-one-with-the-same-name-in-ko/48178552#48178552", "title": "How do I distinguish a global variable from a local one with the same name in Kotlin?", "body": "<p>Use the package name as the identifier. If the enclosing package for <code>Utils.kt</code> file is <code>com.example</code>, you would use <code>com.example.weightInKilos = weightInKilos * multiplier</code>.</p>\n\n<p>Thank you Android Studio autocomplete.</p>\n"}], "owner": {"reputation": 115, "user_id": 7899703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869af6f5e48ff0753bc8683bac77c85?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Tyagi", "link": "https://stackoverflow.com/users/7899703/aayush-tyagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1515552862, "creation_date": 1515542883, "question_id": 48178507, "link": "https://stackoverflow.com/questions/48178507/how-do-i-distinguish-a-global-variable-from-a-local-one-with-the-same-name-in-ko", "title": "How do I distinguish a global variable from a local one with the same name in Kotlin?", "body": "<p>I'm learning Kotlin, and in my project I have something like the following</p>\n\n<p>Utils.kt:</p>\n\n<pre><code>var weightInKilos = 100.0\n\n//should multiply the above var\nfun doSomething(multiplier: Double, weightInKilos: Double) {\n    weightInKilos = weightInKilos * multiplier\n}\n\nprint(doSomething(4.2, weightInKilos))\n</code></pre>\n\n<p>This would be the entire file (it's not part of an object,) so I can't use the this keyword. I know I could just rename one of them but is there some kind of identifier I can use to distinguish the two vars so the code prints 420?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 146, "user_id": 823328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3148b8ce26a68c18cb79418f33ab8072?s=128&d=identicon&r=PG", "display_name": "arubin", "link": "https://stackoverflow.com/users/823328/arubin"}, "edited": false, "score": 0, "creation_date": 1515551133, "post_id": 48177965, "comment_id": 83338931, "body": "Is your Product table annotated with Entity annotation?"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 1, "creation_date": 1515582156, "post_id": 48177965, "comment_id": 83351598, "body": "It\u2019s what is written on the box - <code>I</code> needs to be annotated with <code>@Entity</code>"}, {"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "edited": false, "score": 1, "creation_date": 1515603807, "post_id": 48177965, "comment_id": 83365525, "body": "All other methods defined in the base class work. Only the <code>createAll()</code> method does not work."}, {"owner": {"reputation": 146, "user_id": 823328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3148b8ce26a68c18cb79418f33ab8072?s=128&d=identicon&r=PG", "display_name": "arubin", "link": "https://stackoverflow.com/users/823328/arubin"}, "edited": false, "score": 1, "creation_date": 1515615981, "post_id": 48177965, "comment_id": 83371944, "body": "No, the &quot;I&quot; doesn&#39;t need to be annotated, but if you do make BaseDao an abstract class with @Dao annotation it will work"}], "answers": [{"tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 0, "last_activity_date": 1515552871, "last_edit_date": 1515552871, "creation_date": 1515552372, "answer_id": 48179566, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room/48179566#48179566", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>You should add <code>@Entity</code> annotation for your model class (you should have concrete model class for Dao methods),\nbut you use generics in your interface <code>BaseDao&lt;in I&gt;</code>.\n<a href=\"https://developer.android.com/training/data-storage/room/defining-data.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/room/defining-data.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "is_accepted": false, "score": 0, "last_activity_date": 1515775810, "last_edit_date": 1515775810, "creation_date": 1515680809, "answer_id": 48209343, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room/48209343#48209343", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>I had the same problem and I believe I found the solution:</p>\n\n<p>It is impossible for Kotlin to create Array of generic objects so you have to make such a workaround:</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun create(obj: I)\n\n@Transaction\nfun createAll(objects: List&lt;I&gt;) = objects.forEach {insert(it)}\n</code></pre>\n\n<p><code>@Transaction</code> should make it all happen in a single transaction so it should not introduce any performance issues, but I am not certain of this.</p>\n\n<p>What is more, a simple:</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun createAll(objects: List&lt;Product&gt;)\n</code></pre>\n\n<p>will work as well, as long as it is using real objects, not generics.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 0, "last_activity_date": 1515786665, "last_edit_date": 1515786665, "creation_date": 1515694301, "answer_id": 48213429, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room/48213429#48213429", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>My fix was to implement the <code>BaseDao</code> interface in <strong>Java</strong> until the issue persists.</p>\n\n<pre><code>public interface IBaseDao&lt;T&gt; {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    @WorkerThread\n    void save(T item);\n\n    @Delete\n    @WorkerThread\n    void delete(T item);\n\n    @Delete\n    @WorkerThread\n    void deleteAll(List&lt;T&gt; items);\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    @WorkerThread\n    void saveAll(List&lt;T&gt; items);\n}\n</code></pre>\n\n<p>Abstract <code>BaseDao</code> in Kotlin</p>\n\n<pre><code>abstract class BaseDao&lt;T&gt; : IBaseDao&lt;T&gt; {\n\n    @WorkerThread\n    open fun getAll(): List&lt;T&gt; = TODO(\"Override and place the annotation @Query. Ex: @Query(\\\"SELECT * FROM Model\\\")\")\n\n    @WorkerThread\n    open fun loadAll(): LiveData&lt;List&lt;T&gt;&gt; = TODO(\"Override and place the annotation @Query. Ex: @Query(\\\"SELECT * FROM Model\\\")\")\n}\n</code></pre>\n\n<p>It works!</p>\n"}, {"tags": [], "owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "is_accepted": false, "score": 11, "last_activity_date": 1523278922, "last_edit_date": 1592644375, "creation_date": 1520868814, "answer_id": 49239011, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room/49239011#49239011", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>Try adding <code>@JvmSuppressWildcards</code> to your function.</p>\n<pre><code>@Insert\n@JvmSuppressWildcards\nfun createAll(objects: List&lt;I&gt;)\n</code></pre>\n<p>From the docs:</p>\n<blockquote>\n<p>Instructs compiler to generate or omit wildcards for type arguments corresponding to parameters with declaration-site variance, for example such as Collection has.</p>\n<p>It may be helpful only if declaration seems to be inconvenient to use from Java.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4360, "user_id": 1868841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADiwD.jpg?s=128&g=1", "display_name": "Waqar UlHaq", "link": "https://stackoverflow.com/users/1868841/waqar-ulhaq"}, "is_accepted": false, "score": 7, "last_activity_date": 1525071009, "creation_date": 1525071009, "answer_id": 50095302, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room/50095302#50095302", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>I've resolved issue by:</p>\n\n<pre><code>@Dao\ninterface BaseDao&lt;T&gt; {\n\n    /**\n     * Insert a list in the database. If the item already exists, replace it.\n     *\n     * @param list the items to be inserted.\n     */\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    @JvmSuppressWildcards\n    abstract fun insertAll(kist: List&lt;T&gt;)\n\n}\n</code></pre>\n\n<p><strong>@JvmSuppressWildcards</strong>  done the trick for me</p>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13201, "favorite_count": 2, "answer_count": 5, "score": 16, "last_activity_date": 1525071009, "creation_date": 1515539203, "question_id": 48177965, "link": "https://stackoverflow.com/questions/48177965/kotlin-how-to-insert-a-list-of-objects-into-room", "title": "Kotlin: How to insert a list of objects into Room?", "body": "<p>I am trying to define common <a href=\"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete\" rel=\"noreferrer\">CRUD</a> methods in a base interface as shown here:</p>\n\n<pre><code>interface BaseDao&lt;in I&gt; {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun create(obj: I)\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun createAll(objects: List&lt;I&gt;)\n\n    @Delete\n    fun delete(obj: I)\n\n}\n</code></pre>\n\n<p>The following <code>ProductDao</code> interface for <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"noreferrer\">Room</a> inherits from the base interface:</p>\n\n<pre><code>@Dao\ninterface ProductDao : BaseDao&lt;Product&gt; {\n\n    // Specific methods\n\n}\n</code></pre>\n\n<p>When I compile the definition for <code>fun createAll(objects: List&lt;I&gt;)</code> produces the following error:</p>\n\n<blockquote>\n  <p>Type of the parameter must be a class annotated with @Entity or a collection/array of it.</p>\n</blockquote>\n"}, {"tags": ["generics", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1515538698, "post_id": 48177385, "comment_id": 83335902, "body": "Not sure what you&#39;re trying to do, but if you just want to inject a factory of foo you might want to use <code>Provider&lt;Foo&gt;</code>, where <code>provider.get()</code> will create new foos."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515539421, "post_id": 48177385, "comment_id": 83336130, "body": "elegant solution. Does it work without typealias but only function types <code>() -&gt; Foo</code>?"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1515542302, "post_id": 48177385, "comment_id": 83336957, "body": "Provider is a class from dagger so there will be no function types involved. Instead of a factory class have a module that&#39;s responsible for giving you Foo. If you need a different implementation of Foo returned, switch out the whole module (use a different component with a different module that can provide Foo)."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1600946661, "post_id": 48177385, "comment_id": 113253048, "body": "any updates for your problems here?"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1600946896, "post_id": 48177385, "comment_id": 113253172, "body": "as suggested from official dagger issue: <a href=\"https://github.com/google/dagger/issues/900#issuecomment-347081830\" rel=\"nofollow noreferrer\">github.com/google/dagger/issues/900#issuecomment-347081830</a> that <code>@ JvmSuppressWildcards</code> able to fix the issue. But wondering in your case is it works or not"}], "answers": [{"comments": [{"owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "edited": false, "score": 1, "creation_date": 1515768418, "post_id": 48185396, "comment_id": 83438961, "body": "It haven&#39;t fix the problem, I&#39;m still getting: <code>Error:Gradle: kotlin.jvm.functions.Function0&lt;? extends net.chmielowski.daggerkotlin.Foo&gt; cannot be provided without an @Provides-annotated method.</code>"}, {"owner": {"reputation": 409, "user_id": 2414457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f4274a625de53384ed363bf3353695?s=128&d=identicon&r=PG", "display_name": "ExpensiveBelly", "link": "https://stackoverflow.com/users/2414457/expensivebelly"}, "edited": false, "score": 0, "creation_date": 1595175694, "post_id": 48185396, "comment_id": 111377282, "body": "What about using <code>typealias FooFactory = () -&gt; @JvmSuppressWildcards Foo</code> instead?"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1515580450, "creation_date": 1515580450, "answer_id": 48185396, "question_id": 48177385, "link": "https://stackoverflow.com/questions/48177385/injecting-typeliased-class-parametrized-by-abstract-type/48185396#48185396", "title": "Injecting typeliased class parametrized by abstract type", "body": "<p>The implementation</p>\n\n<pre><code>@Provides fun provideFooFactory() = { FooImpl() }\n</code></pre>\n\n<p>implies a return type of <code>() -&gt; FooImpl</code> which would translate to <code>Function0&lt;? extends FooImpl&gt;</code> which dagger cannot match to <code>Function0&lt;? extends Foo&gt;</code>. Instead you have to make sure <code>provideFooFactory</code> has the correct return type.</p>\n\n<p>This you can do by down-casting</p>\n\n<pre><code>@Provides fun provideFooFactory() = { FooImpl() as Foo }\n</code></pre>\n\n<p>or explicitly declaring the type</p>\n\n<pre><code>@Provides fun provideFooFactory(): FooFactory = { FooImpl() }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 0, "creation_date": 1557814894, "post_id": 52903033, "comment_id": 98880206, "body": "I still get the error, it reads <code>functions.Function0&lt;kotlin.Unit&gt; cannot be provided without an @Provides-annotated method</code> now"}], "tags": [], "owner": {"reputation": 1647, "user_id": 771677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b57c791f71262690c3fe920e25e463d2?s=128&d=identicon&r=PG", "display_name": "Travis Castillo", "link": "https://stackoverflow.com/users/771677/travis-castillo"}, "is_accepted": false, "score": 2, "last_activity_date": 1540016739, "creation_date": 1540016739, "answer_id": 52903033, "question_id": 48177385, "link": "https://stackoverflow.com/questions/48177385/injecting-typeliased-class-parametrized-by-abstract-type/52903033#52903033", "title": "Injecting typeliased class parametrized by abstract type", "body": "<p>I had a similar issue today where I was using a kotlin lambda to return a value through dagger.</p>\n\n<p>DaggerModule.kt</p>\n\n<pre><code>@Provides\nfun provideFoo() = {\n  foo.get()\n}\n</code></pre>\n\n<p>BarClass.kt</p>\n\n<pre><code>BarClass( private val fooFunction: () -&gt; Foo )\n</code></pre>\n\n<p>I was getting the same error you were seeing where dagger couldn't find the provided method.</p>\n\n<p>(as above)</p>\n\n<pre><code> kotlin.jvm.functions.Function0&lt;? extends net.chmielowski.daggerkotlin.Foo&gt; \n cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>For me it was not enough to explicitly declare the type in the provider.\nThe solution instead had to do with how kotlin and java deal with generics.  Basically when translating that function into Java (which dagger still does under the hood) it was adding <strong>&lt; ? extends Foo></strong> to the method signature.  You can suppress this behavior with the <strong>@JvmSuppressWildcards</strong> annotation in the constructor of the receiving class.  </p>\n\n<pre><code>BarClass( private val fooFunction: () -&gt; @JvmSuppressWildcards Foo )\n</code></pre>\n"}], "owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1540016739, "creation_date": 1515535852, "last_edit_date": 1515539509, "question_id": 48177385, "link": "https://stackoverflow.com/questions/48177385/injecting-typeliased-class-parametrized-by-abstract-type", "title": "Injecting typeliased class parametrized by abstract type", "body": "<p>I have a simple interface and class:</p>\n\n<pre><code>interface Foo {\n    fun value(): Int\n}\n\nclass FooImpl : Foo {\n    override fun value() = 100\n}\n</code></pre>\n\n<p>Now I want to create a factory for <code>Foo</code> and be able to inject it. I'm trying with following code:</p>\n\n<pre><code>interface FooFactory : () -&gt; Foo\n\n@Module\nclass AppModule {\n    // provides FooFactory\n    @Provides\n    fun provideFooFactory() = object : FooFactory {\n        override fun invoke() = FooImpl()\n    }\n\n    // uses FooFactory\n    @Provides\n    fun provideFoo(factory: FooFactory) = factory()\n}\n\n@Component(modules = [AppModule::class])\ninterface AppComponent {\n    fun foo(): Foo\n}\n</code></pre>\n\n<p>And the place where <code>Foo</code> is injected:</p>\n\n<pre><code>@Test\nfun test() {\n    val component = DaggerAppComponent.builder().build()\n    val foo = component.foo()\n    Assert.assertEquals(100, foo.value())\n}\n</code></pre>\n\n<p>Works perfect! However, I think, it's a kind of ugly to define <code>FooFactory</code> as an interface so I tried to replace:</p>\n\n<pre><code>interface FooFactory : () -&gt; Foo\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>typealias FooFactory = () -&gt; Foo\n</code></pre>\n\n<p>And now I'm getting compile time error:</p>\n\n<pre><code>Error:Gradle:\n  kotlin.jvm.functions.Function0&lt;? extends net.chmielowski.daggerkotlin.Foo&gt; \n  cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>If I understand it correctly, the problem is that <code>typealias</code> is inlined in the process of build (before Dagger code generation) and Dagger has a problem with finding out which provider provides instance for parametrized (generic) type <code>Function0&lt;? extends Foo&gt;</code> .</p>\n\n<p>By the way: if I remove <code>Foo</code> and use just <code>FooImpl</code> everywhere, the problem does not occur. This mean that the problem is not with the generics itself but with the class parametrized by abstract type. </p>\n\n<p><strong>What is the solution to this problem?</strong></p>\n\n<p>To be clear - the rationale behind using <code>typealias</code> instead of <code>interface</code> is to be able to write:</p>\n\n<pre><code>@Provides\nfun provideFooFactory() = { FooImpl() }\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>@Provides\nfun provideFooFactory() = object : FooFactory {\n    override fun invoke() = FooImpl()\n}\n</code></pre>\n"}, {"tags": ["reflection", "kotlin", "kotlin-reflect"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515530167, "post_id": 48175768, "comment_id": 83332345, "body": "Unrelated, but <code>this.javaClass.kotlin</code> seems a bit roundabout over <code>this::class</code>."}], "answers": [{"tags": [], "owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "is_accepted": true, "score": 4, "last_activity_date": 1515531624, "last_edit_date": 1515531624, "creation_date": 1515531171, "answer_id": 48176480, "question_id": 48175768, "link": "https://stackoverflow.com/questions/48175768/error-when-use-callby-on-a-function-with-default-parameters-in-kotlin/48176480#48176480", "title": "Error when use callBy on a function with default parameters in Kotlin", "body": "<p>From a bit of testing, a <code>KClass</code> won't keep track of the actual object it was created from, the main difference being that <code>this::class</code> will use the runtime type of <code>this</code>.</p>\n\n<p>You can verify this by querying information about all the parameters:</p>\n\n<pre><code> name | isOptional | index |     kind |          type\n-----------------------------------------------------\n null        false       0   INSTANCE            Test\nvalue         true       1      VALUE   kotlin.Double\n</code></pre>\n\n<p>The first parameter is actually the instance of the class. Using <code>this::callMeWithoutParams</code> will keep track of <code>this</code>, removing the first row of the table, but naturally doesn't allow for finding the member by name. You can still call the method by providing the object:</p>\n\n<pre><code>fun callIt(name: String) { \n    val member = this::class.members.first { it.name == name }\n    member.callBy(mapOf(member.instanceParameter!! to this))\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1535159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ad7e23685a753e680f486108fbff97?s=128&d=identicon&r=PG", "display_name": "OlivierWah", "link": "https://stackoverflow.com/users/1535159/olivierwah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 1, "accepted_answer_id": 48176480, "answer_count": 1, "score": 2, "last_activity_date": 1515531661, "creation_date": 1515527789, "last_edit_date": 1515528229, "question_id": 48175768, "link": "https://stackoverflow.com/questions/48175768/error-when-use-callby-on-a-function-with-default-parameters-in-kotlin", "title": "Error when use callBy on a function with default parameters in Kotlin", "body": "<p>I try to call a function with default parameters values without put parameters in Kotlin. </p>\n\n<p>For example:</p>\n\n<pre><code>class Test {\n    fun callMeWithoutParams(value : Double = 0.5) = value * 0.5\n\n    fun callIt(name: String) = this.javaClass.kotlin\n            .members.first { it.name == name }\n            .callBy(emptyMap())\n}\n\nfun main(args: Array&lt;String&gt;) {\n   println(Test().callIt(\"callMeWithoutParams\"))\n}\n</code></pre>\n\n<p>I have the exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: No argument provided for a required parameter: instance of fun \n Test.callMeWithoutParams(kotlin.Double): kotlin.Double\n     at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod(KCallableImpl.kt:139)\n    at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:111)\n    at Test.callIt(Main.kt:15)\n    at MainKt.main(Main.kt:20)\n</code></pre>\n\n<p>Strange because the parameter is not required but optional...</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "is_accepted": true, "score": 1, "last_activity_date": 1515572890, "creation_date": 1515572890, "answer_id": 48183146, "question_id": 48174694, "link": "https://stackoverflow.com/questions/48174694/how-to-collect-signatures-from-multiple-state-participants-in-a-corda-flow/48183146#48183146", "title": "How to collect signatures from multiple state participants in a corda flow?", "body": "<p>After some experimenting I found out the problem is the following:</p>\n\n<p>you have to create a setOf(flowSessions) mapping each participant to its correspondent initiateFlow() that has to be passed to the CollectSignaturesFlow(), the syntax is like the following:</p>\n\n<pre><code> val participantsParties = dealState.participants.map { serviceHub.identityService.wellKnownPartyFromAnonymous(it)!! }\n\n val flowSessions = (participantsParties - myIdentity).map { initiateFlow(it) }.toSet()\n\n progressTracker.currentStep = GATHERING_SIGS\n\n println(\"Finished gathering signatures stage 9\")\n\n // Send the state to the counterparty, and receive it back with their signature.\n\n val fullySignedTx = subFlow(CollectSignaturesFlow(partSignedTx, flowSessions, GATHERING_SIGS.childProgressTracker()))\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 48183146, "answer_count": 1, "score": 1, "last_activity_date": 1515572890, "creation_date": 1515523197, "last_edit_date": 1515555461, "question_id": 48174694, "link": "https://stackoverflow.com/questions/48174694/how-to-collect-signatures-from-multiple-state-participants-in-a-corda-flow", "title": "How to collect signatures from multiple state participants in a corda flow?", "body": "<p>I'm working on a use case where there are three party involved, let's say PartyA, PartyB and PartyC.</p>\n\n<p>In this scenario,</p>\n\n<ol>\n<li><p>PartyA issue a dealState (A is the only participant), </p></li>\n<li><p>PartyA sells it to PartyB (A,B are the participants),</p></li>\n<li><p>now PartyB wants to sell this state to PartyC but we need the signatures from both A and B, plus the one from C accepting the selling process.</p></li>\n</ol>\n\n<p>How can I gather the signature from the original issuer PartyA in the third scenario in order to make the flow work?</p>\n\n<p>The code in the flow is this one (Im selling as PartyB)</p>\n\n<pre><code>val newOwnerFlow = initiateFlow(PartyC)\n\nprogressTracker.currentStep = GATHERING_SIGS\n\nprintln(\"Finished gathering signatures stage 9\")\n\n// Send the state to the counterparty, and receive it back with their signature.\nval fullySignedTx = subFlow(CollectSignaturesFlow(partSignedTx, setOf(newOwnerFlow), GATHERING_SIGS.childProgressTracker()))\n\n// Stage 10.\nprogressTracker.currentStep = FINALISING_TRANSACTION\n\nprintln(\"Finalizing transaction\")\n\n// Notarise and record the transaction in both parties' vaults.\n\nreturn subFlow(FinalityFlow(fullySignedTx, FINALISING_TRANSACTION.childProgressTracker()))\n</code></pre>\n\n<p>How do I make PartyA signing the transaction?</p>\n"}, {"tags": ["java", "debugging", "intellij-idea", "junit", "kotlin"], "comments": [{"owner": {"reputation": 11707, "user_id": 4393565, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19ab0903bafafe65cabf872f3ef5cff6?s=128&d=identicon&r=PG", "display_name": "P.J.Meisch", "link": "https://stackoverflow.com/users/4393565/p-j-meisch"}, "edited": false, "score": 1, "creation_date": 1515526628, "post_id": 48174534, "comment_id": 83330647, "body": "works here without problems. Just one .kt file with your code, Junit 4.12 library in classpath. <i>Debug Tester</i> stops where it should and after breaking I resume and the test shows green and successful. Tried with IntelliJ Ultimate 2017.3.2, Kotlin 1.2.10-release-109 and JDK 1.8.0_152"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "reply_to_user": {"reputation": 11707, "user_id": 4393565, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19ab0903bafafe65cabf872f3ef5cff6?s=128&d=identicon&r=PG", "display_name": "P.J.Meisch", "link": "https://stackoverflow.com/users/4393565/p-j-meisch"}, "edited": false, "score": 0, "creation_date": 1515529572, "post_id": 48174534, "comment_id": 83332049, "body": "I&#39;m running latest IDEA build. Might be important to add that this is running in an Android project, with a gradle file. I&#39;ll add these to the question"}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1515530539, "post_id": 48174534, "comment_id": 83332538, "body": "Please report at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> with the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> attached."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 1, "creation_date": 1515532499, "post_id": 48174534, "comment_id": 83333428, "body": "Been reporting more bugs than using the IDEA lately..."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1515533376, "post_id": 48174534, "comment_id": 83333834, "body": "<a href=\"https://youtrack.jetbrains.com/issue/IDEA-184730\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-184730</a>"}, {"owner": {"reputation": 11707, "user_id": 4393565, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19ab0903bafafe65cabf872f3ef5cff6?s=128&d=identicon&r=PG", "display_name": "P.J.Meisch", "link": "https://stackoverflow.com/users/4393565/p-j-meisch"}, "edited": false, "score": 0, "creation_date": 1515563682, "post_id": 48174534, "comment_id": 83342047, "body": "it does not matter if you use gradle or maven when running the test with a context menu start of <i>Debug Tester</i>. I had a plain IntelliJ project with no special build tool."}], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": true, "score": 2, "last_activity_date": 1520534349, "creation_date": 1520534349, "answer_id": 49180220, "question_id": 48174534, "link": "https://stackoverflow.com/questions/48174534/intellij-idea-wont-stop-at-kotlin-breakpoints-when-running-with-junit/49180220#49180220", "title": "Intellij IDEA won&#39;t stop at Kotlin breakpoints when running with JUnit", "body": "<p>This bug seems to be fixed as of <a href=\"https://github.com/jetbrains/kotlin/commit/94ee78c0ca321274cf87f81bf74e8eefde1ddcf1\" rel=\"nofollow noreferrer\">this commit</a>. Update Intellij to get the new version.</p>\n\n<p>If you can't update, a workaround to this is <strong>removing gradle aware make</strong> from the run process, and only build your code when you make a change (and not every time you start the debug)</p>\n\n<p>Explanation to fix:</p>\n\n<pre><code>Hitting breakpoints in Kotlin JUnit test with an Android Gradle\nproject sometimes(*) does not work in Android Studio 3.1 beta.\n\n(*) The issue is related to various threads running concurrently\nwith \"dumb\" mode background code, so the issue reproduces only\non certain configurations.\n\nIn a nutshell, the issue is as follows\n\n* On one hand, gradle build finishes, fires an event (\"buildFinished\")\n  that is processed \"later\" and that causes the IDE to enter \"dumb\" mode\n  for a shot amount of time (about 300-500 msec on a somewhat up to date\n  multi-core computer).\n\n* On the other hand, once the JVM of the debuggee is started, breakpoints\n  need to be resolved (on the debugger thread, through a call to\n  com.intellij.debugger.engine.CompoundPositionManager.createPrepareRequests.\n  This code calls into the \"KotlinPositionManager.createPrepareRequests\",\n  which in turns calls into \"PerFileAnalysisCache.analyze\". That method\n  returns \"AnalysisResult.EMPTY\" is the project is in dumb mode.\n  This return value prevents callers from successfully resolving\n  the source location into a breakpoint.\n\nGiven that the 2 code paths above execute on separate threads without\nexplicit synchronization, the \"failed to resolve breakpoint\" issue\noccurs sporadically, to the point it happens 100% of the time on\ncertain configuration.\n\nThe fix is so wrap the kotlin breakpoint resolution code inside\na \"runReadActionInSmartMode\" so that the debugger thread \"waits\"\nfor \"dumb\" mode to terminates before trying to resolve breakpoint\nlocations.\n</code></pre>\n"}], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4065, "favorite_count": 0, "accepted_answer_id": 49180220, "answer_count": 1, "score": 2, "last_activity_date": 1520534349, "creation_date": 1515522524, "last_edit_date": 1515529639, "question_id": 48174534, "link": "https://stackoverflow.com/questions/48174534/intellij-idea-wont-stop-at-kotlin-breakpoints-when-running-with-junit", "title": "Intellij IDEA won&#39;t stop at Kotlin breakpoints when running with JUnit", "body": "<p>When trying to execute some Kotlin code, while also using JUnit, the Intellij IDEA will execute the code until the end, instead of stopping at the breakpoint.</p>\n\n<p>Demo:</p>\n\n<pre><code>class Tester {\n\n    @Test\n    fun shouldBreakpoint() {\n        //Line where threads should suspend:\n        println(\"Should Suspend Here\") //Breakpoint added to this line\n\n        println(\"Shouldn't run this code unless I release above breakpoint\")\n\n    }\n}\n</code></pre>\n\n<p>When clicking \"Debug Tester\" or \"Debug shouldBreakpoint\", no breakpoints will work.\n<a href=\"https://i.stack.imgur.com/geVqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/geVqa.png\" alt=\"enter image description here\"></a></p>\n\n<p>The console outputs both print lines, without ever stopping at the breakpoint. If the same code is written in Java, the debugger works:</p>\n\n<pre><code>public class Testerino {\n\n    @Test\n    public void shouldBreakpoint() {\n\n        System.out.println(\"Should Suspend Here\"); //Breakpoint added to this line\n\n        System.out.println(\"Shouldn't run this code unless I release above breakpoint\");\n    }\n}\n</code></pre>\n\n<p>When running on Kotlin <code>main</code> function, it also works correctly:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nprintln(\"Should Suspend Here\") //Breakpoint added to this line\n\nprintln(\"Shouldn't run this code unless I release above breakpoint\")\n\n}\n</code></pre>\n\n<p>This is running on an Android Project, and the build.gradle (app) file is:</p>\n\n<pre><code>   apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion \"27.0.3\"\n    defaultConfig {\n        applicationId \"me.kerooker.visualhonk\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n         vectorDrawables.useSupportLibrary = true\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android.txt')\n        }\n        debug {\n            debuggable true\n            minifyEnabled false // set this to false\n            proguardFiles getDefaultProguardFile('proguard-android.txt')\n        }\n    }\n}\n\nconfigurations.all {\n    resolutionStrategy {\n        forcedModules = [\n                \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\",\n                \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n        ]\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:27.+'\n    compile 'com.android.support.constraint:constraint-layout:+'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    testCompile 'io.kotlintest:kotlintest:2.0.7'\n    testCompile 'junit:junit:4.12'\n\n\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p><strong>What can be done for Intellij to correctly recognize and stop at breakpoints?</strong></p>\n"}, {"tags": ["android", "mysql", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1515517636, "post_id": 48172807, "comment_id": 83326123, "body": "Duplicate of order by not working in room"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1515518254, "post_id": 48172807, "comment_id": 83326476, "body": "I&#39;m presuming this is Kotlin code and tagged it accordingly. If that&#39;s wrong, please edit."}, {"owner": {"reputation": 6009, "user_id": 4687355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ObdEUI7mMYo/AAAAAAAAAAI/AAAAAAAAAgc/fwxal6_6cBA/photo.jpg?sz=128", "display_name": "Sentinel", "link": "https://stackoverflow.com/users/4687355/sentinel"}, "edited": false, "score": 0, "creation_date": 1515518646, "post_id": 48172807, "comment_id": 83326688, "body": "Your example shows using a parameter (bind value) for the ORDER BY clause not the WHERE clause."}], "answers": [{"comments": [{"owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "edited": false, "score": 0, "creation_date": 1570825136, "post_id": 48173542, "comment_id": 103051064, "body": "This won&#39;t work.  Unfortunately, you need to write separate queries."}], "tags": [], "owner": {"reputation": 6009, "user_id": 4687355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ObdEUI7mMYo/AAAAAAAAAAI/AAAAAAAAAgc/fwxal6_6cBA/photo.jpg?sz=128", "display_name": "Sentinel", "link": "https://stackoverflow.com/users/4687355/sentinel"}, "is_accepted": true, "score": 17, "last_activity_date": 1515519147, "last_edit_date": 1515519147, "creation_date": 1515518463, "answer_id": 48173542, "question_id": 48172807, "link": "https://stackoverflow.com/questions/48172807/room-database-full-dynamic-query/48173542#48173542", "title": "Room database full dynamic query", "body": "<p>You can't use bind variables (parameters) to reference columns in the ORDER BY clause. However, you can use the bind variable in an expression like so:</p>\n\n<pre><code>@Query(\"select * from coin ORDER BY\nCASE :order\nWHEN 'percent_change_24h' THEN percent_change_24h\nWHEN 'other_column_name' THEN other_column_name\nEND asc limit :numberOfCoins\")\nfun getAllTop(order: String, numberOfCoins: Int): Flowable&lt;List&lt;CoinDB&gt;&gt;\n</code></pre>\n\n<p>You will need to add a separate WHEN clause to the CASE statement for each column/expression you want to sort by, and you may need or want to add an ELSE clause for the situations where the :order bind variable doesn't match any of your standard cases.</p>\n\n<p>The restriction on bind variables also holds true for the where clause and the projection (select list).  Bind variable have their own values in your examples either String or Int for :order and :numberOfCoins respectively.</p>\n"}, {"comments": [{"owner": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1550230516, "post_id": 51207972, "comment_id": 96202408, "body": "@Query(&quot;SELECT * FROM Test where testId = :arg0&quot;)   arg0 - can&#39;t resolve"}, {"owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "reply_to_user": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1550235518, "post_id": 51207972, "comment_id": 96205072, "body": "@Vladyslav Ulianytskyi Can you show me your query? so that i can know what problem you are facing."}, {"owner": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1550238998, "post_id": 51207972, "comment_id": 96207034, "body": "@Query(&quot;SELECT * FROM History WHERE date = :date&quot;)     fun getTodayHistory(date: Date): List&lt;HistoryEntity&gt;  have tried: WHERE date = Date(:date) or WHERE date = date(:date) but with Date it not working.."}, {"owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "reply_to_user": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1550293082, "post_id": 51207972, "comment_id": 96225181, "body": "@Vladyslav Ulianytskyi Try this way: @Query(&quot;SELECT * FROM History WHERE date = :arg0&quot;) fun getTodayHistory(date: Date):"}], "tags": [], "owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "is_accepted": false, "score": 2, "last_activity_date": 1530873990, "last_edit_date": 1530873990, "creation_date": 1530871652, "answer_id": 51207972, "question_id": 48172807, "link": "https://stackoverflow.com/questions/48172807/room-database-full-dynamic-query/51207972#51207972", "title": "Room database full dynamic query", "body": "<p>Below is the example in kotlin language of how the values can be totally dynamic,</p>\n\n<pre><code>@Query(\"SELECT * FROM Test where testId = :arg0\")\nfun loadTestById(testId: Int): Test\n</code></pre>\n\n<p>Here Test is the tableName, testId is the field on which WHERE clause is applied,\ntestId is the parameter passed to the function loadTestById() and the return type is the data model class named Test.</p>\n\n<pre><code>Query(\"select * from coin ORDER BY order=:arg0 asc limit numberOfCoins=:arg1\")\nfun getAllTop(order: String, numberOfCoins: Int): Flowable&lt;List&lt;CoinDB&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 3572, "user_id": 2226605, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/jMUyu.gif?s=128&g=1", "display_name": "Shahar", "link": "https://stackoverflow.com/users/2226605/shahar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6060, "favorite_count": 1, "accepted_answer_id": 48173542, "answer_count": 2, "score": 8, "last_activity_date": 1530873990, "creation_date": 1515516009, "last_edit_date": 1515518241, "question_id": 48172807, "link": "https://stackoverflow.com/questions/48172807/room-database-full-dynamic-query", "title": "Room database full dynamic query", "body": "<p>I Have room database with Object coin.</p>\n\n<p>I want to make a dynamic query with parameter.</p>\n\n<p>When i use the parameter for a value, it works great, like this:</p>\n\n<pre><code>@Query(\"select * from coin ORDER BY percent_change_24h asc limit :numberOfCoins\")\nfun getAllTop(numberOfCoins: Int): Flowable&lt;List&lt;CoinDB&gt;&gt;\n</code></pre>\n\n<p>But when i want to use a parameter for the WHERE clause, that does not work.\nhere is my query:</p>\n\n<pre><code>@Query(\"select * from coin ORDER BY :order asc limit :numberOfCoins\")\nfun getAllTop(order: String, numberOfCoins: Int): Flowable&lt;List&lt;CoinDB&gt;&gt;\n</code></pre>\n\n<p>And I call it like that:</p>\n\n<pre><code>AppDatabase.getInstance(this).coinDao().getAllTop(\"percent_change_24h\",5)\n</code></pre>\n\n<p>Calling the same query with implicit WHERE clause work fine (like this:)</p>\n\n<pre><code>@Query(\"select * from coin ORDER BY percent_change_24h asc limit :numberOfCoins\")\nfun getAllTop(order: String, numberOfCoins: Int): Flowable&lt;List&lt;CoinDB&gt;&gt;\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "navigation-drawer"], "answers": [{"comments": [{"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "reply_to_user": {"reputation": 101, "user_id": 8074281, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c682cff55d0c72bc0b4b628d47a9dc67?s=128&d=identicon&r=PG&f=1", "display_name": "dif_jeff", "link": "https://stackoverflow.com/users/8074281/dif-jeff"}, "edited": false, "score": 0, "creation_date": 1515516799, "post_id": 48172677, "comment_id": 83325650, "body": "is the catch statement been executed? If so, off course it will no work. In any case, check my edited answer."}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 3, "last_activity_date": 1515516700, "last_edit_date": 1515516700, "creation_date": 1515515598, "answer_id": 48172677, "question_id": 48172572, "link": "https://stackoverflow.com/questions/48172572/switching-between-fragment-classes-in-kotlin/48172677#48172677", "title": "Switching between Fragment classes in Kotlin", "body": "<p>You have never modified <code>var fragment</code> value after declaration, so, when you try a <code>fragment transaction</code>, <code>fragment</code> variable value is still <code>null</code> and it will not work.</p>\n\n<p>In your code example, you should do something like below:</p>\n\n<pre><code>try {\n    fragment = fragmentClass.newInstance() as Fragment //set fragment var with selected case\n}catch (e:Exception){\n    e.printStackTrace()\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Because question code update.</p>\n\n<p>Just set your <code>fragment</code> value directly from your <code>switch</code> statement:</p>\n\n<pre><code>private fun selectItemDrawer(menuItem: MenuItem) {\n    var fragment: Fragment = when (menuItem.itemId) {\n        R.id.first -&gt; FirstFragment()\n        R.id.second -&gt; SecondFragment()\n        R.id.third -&gt; ThirdFragment()\n        R.id.fourth -&gt; FourthFragment()\n        else -&gt; FirstFragment()\n    }\n    var fragmentManager = supportFragmentManager\n    fragmentManager\n            .beginTransaction()\n            .replace(R.id.frame, fragment)\n            .commit()\n    menuItem.isChecked = true\n    menuItem.title\n    drawer_layout.closeDrawers()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1834, "user_id": 3881947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0lhYF.jpg?s=128&g=1", "display_name": "Deepshikha Puri", "link": "https://stackoverflow.com/users/3881947/deepshikha-puri"}, "is_accepted": false, "score": 0, "last_activity_date": 1517828256, "creation_date": 1517828256, "answer_id": 48621027, "question_id": 48172572, "link": "https://stackoverflow.com/questions/48172572/switching-between-fragment-classes-in-kotlin/48621027#48621027", "title": "Switching between Fragment classes in Kotlin", "body": "<p>You can download the full source code from here(<a href=\"http://deepshikhapuri.blogspot.in/2018/01/navigation-drawer-in-android-kotlin.html\" rel=\"nofollow noreferrer\">Navigation Drawer In Android Kotlin</a>)\n    class MainActivity : AppCompatActivity(), View.OnClickListener {</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        init()\n    }\n\n    private fun init() {\n        tv_home.setText(\"Home Tab\")\n        tv_title.setText(\"Home\")\n        ll_about.setOnClickListener(this)\n        ll_home.setOnClickListener(this)\n        ll_bookmark.setOnClickListener(this)\n        ll_help.setOnClickListener(this)\n        rl_menu.setOnClickListener(this)\n        rl_header.setOnClickListener(this)\n\n        tv_link.setLinkTextColor(Color.parseColor(\"#000000\"));\n        Linkify.addLinks(tv_link, Linkify.ALL)\n\n    }\n\n    override fun onBackPressed() {\n        if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n            drawer_layout.closeDrawer(GravityCompat.START)\n        } else {\n            super.onBackPressed()\n        }\n    }\n\n\n    override fun onClick(p0: View?) {\n        when (p0?.id) {\n\n            R.id.ll_home -&gt; {\n                drawer_layout.closeDrawer(GravityCompat.START)\n                tv_home.setText(\"Home Tab\")\n                tv_title.setText(\"Home\")\n\n\n            }\n            R.id.ll_about -&gt; {\n\n                val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(\"http://deepshikhapuri.blogspot.in/\"))\n                startActivity(browserIntent)\n\n            }\n\n            R.id.ll_help -&gt; {\n                drawer_layout.closeDrawer(GravityCompat.START)\n                tv_home.setText(\"Help Tab\")\n                tv_title.setText(\"Help\")\n\n            }\n\n            R.id.ll_bookmark -&gt; {\n                drawer_layout.closeDrawer(GravityCompat.START)\n                tv_home.setText(\"Bookmark Tab\")\n                tv_title.setText(\"Bookmark\")\n\n            }\n\n            R.id.rl_header -&gt; {\n            }\n\n            R.id.rl_menu -&gt; {\n                if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n                    drawer_layout.closeDrawer(GravityCompat.START)\n                } else {\n                    drawer_layout.openDrawer(GravityCompat.START)\n                }\n            }\n\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 101, "user_id": 8074281, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c682cff55d0c72bc0b4b628d47a9dc67?s=128&d=identicon&r=PG&f=1", "display_name": "dif_jeff", "link": "https://stackoverflow.com/users/8074281/dif-jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3973, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1517828256, "creation_date": 1515515204, "last_edit_date": 1515516288, "question_id": 48172572, "link": "https://stackoverflow.com/questions/48172572/switching-between-fragment-classes-in-kotlin", "title": "Switching between Fragment classes in Kotlin", "body": "<p>I have a Navigation drawer and have a problem in switching between fragments in android with kotlin. No error messages appear, but I guess the problem in this peace of code:</p>\n\n<pre><code>private fun selectItemDrawer(menuItem: MenuItem){\n    var fragment:Fragment? = null\n    var fragmentClass:Class&lt;*&gt; = when(menuItem.itemId)\n    {\n        R.id.first-&gt; FirstFragment::class.java\n        R.id.second-&gt; SecondFragment::class.java\n        R.id.third-&gt; ThirdFragment::class.java\n        R.id.fourth-&gt; FourthFragment::class.java\n        else -&gt; FirstFragment::class.java\n    }\n    try {\n       fragment = fragmentClass.newInstance() as Fragment\n    }catch (e:Exception){\n        e.printStackTrace()\n    }\n\n    var fragmentManager = supportFragmentManager\n    fragmentManager.beginTransaction()\n            .replace(R.id.frame,fragment)\n            .commit()\n    menuItem.isChecked = true\n    menuItem.title\n    drawer_layout.closeDrawers()\n}\n</code></pre>\n\n<p>Could anyone help in this please!</p>\n"}, {"tags": ["java", "kotlin", "generics", "types", "type-projection"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1515514380, "post_id": 48172314, "comment_id": 83324140, "body": "You answered your own question - a star projection is using <code>*</code> instead of a type. This is specified later in your screenshot. <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/generics/covariance-and-contravariance\" rel=\"nofollow noreferrer\">Here&#39;s a link on co-/contravariance</a> in C# (it&#39;s the same concept, but I think MSDN explains it quite well.) <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">Here&#39;s the Kotlin docs</a>. This just means that writing <code>Foo&lt;*&gt;</code> is equivalent to <code>Foo&lt;in Nothing&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1515553136, "last_edit_date": 1515553136, "creation_date": 1515533022, "answer_id": 48176859, "question_id": 48172314, "link": "https://stackoverflow.com/questions/48172314/kotlin-star-projection-on-contravariant-types/48176859#48176859", "title": "Kotlin star projection on contravariant types", "body": "<p>This is also explained in the Kotlin <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>For <code>Foo&lt;in T&gt;</code>, where <code>T</code> is a <strong>contravariant</strong> type parameter, <strong><code>Foo&lt;*&gt;</code></strong> is equivalent to <code>Foo&lt;in Nothing&gt;</code>. It means there is <em>nothing you can write to</em> <code>Foo&lt;*&gt;</code> in a safe way when <code>T</code> is unknown.</p>\n</blockquote>\n\n<h3>Example</h3>\n\n<p>We have a class <code>Foo&lt;T&gt;</code> with contravariant <code>T</code> (declaration-site), i.e. <code>Foo</code> only works as a consumer of <code>T</code>:</p>\n\n<pre><code>class Foo&lt;in T&gt; {\n    fun accept(t: T) {\n        println(t)\n    }\n}\n</code></pre>\n\n<p>We can use this type in simple generic functions as follows:</p>\n\n<pre><code>fun &lt;F&gt; usingFoo(con: Foo&lt;F&gt;, t: F) {\n    con.accept(t)\n}\n</code></pre>\n\n<p>(used <code>F</code> in order to distinguish from class type parameter <code>T</code>)</p>\n\n<p>This works fine since we use <code>Foo</code> as intended: As a consumer of <code>T</code>s.</p>\n\n<p>Now, your quote simply says that having a parameter of type <code>con: Foo&lt;*&gt;</code>  instead of <code>con: Foo&lt;T&gt;</code> would have the following effect: <em>\"you can't call any methods that have <code>T</code> in the signature\"</em>.</p>\n\n<p>Thus, the following fails:</p>\n\n<pre><code>fun &lt;F&gt; usingFoo(con: Foo&lt;*&gt;, t: F) {\n    con.accept(t) //not allowed!!\n}\n</code></pre>\n\n<p>It's not safe to call <code>accept</code> with an instance of <code>F</code> because we don't know the type of <code>Foo</code> (denoted by <strong>star projection</strong>).</p>\n\n<blockquote>\n  <p><strong>Star Projection</strong>: Sometimes you want to say that you know nothing about the type argument, but still want to use it in a safe way. The safe way here is to define such a projection of the generic type, that every concrete instantiation of that generic type would be a subtype of that projection.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 5208205, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10153498190017246/picture?type=large", "display_name": "Rowan Gontier", "link": "https://stackoverflow.com/users/5208205/rowan-gontier"}, "is_accepted": false, "score": 0, "last_activity_date": 1597197483, "last_edit_date": 1597197483, "creation_date": 1597195220, "answer_id": 63368411, "question_id": 48172314, "link": "https://stackoverflow.com/questions/48172314/kotlin-star-projection-on-contravariant-types/63368411#63368411", "title": "Kotlin star projection on contravariant types", "body": "<p>To add to sm1..'s superb answer, here is an example for covariant types:</p>\n<pre><code>   class Foo&lt;out U: Number&gt; {\n        private var u: U? = null\n            \n        fun produce(): U? {\n            return u\n        }\n    }\n    \n    fun usingFoo(foo: Foo&lt;*&gt;) {\n        foo.produce()    \n    }\n    \n    fun main() {    \n        usingFoo(Foo&lt;Number&gt;()) //OK\n        usingFoo(Foo&lt;Any&gt;()) // Not OK\n        \n//Direct calls (not using method with *)    \n    Foo&lt;Number&gt;().produce() //OK\n    Foo&lt;Any&gt;().produce() //Not OK  \n       \n    }\n</code></pre>\n<p>Same behaviour in direct calls without star projections, but the * basically says: we defined a generic type (Foo), and at the point of use in a method (usingFoo), we still don't know the concrete type. The original constraint of super type (in this case, Number), remains. The * just says: the concrete type is defined elsewhere.</p>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 5208205, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10153498190017246/picture?type=large", "display_name": "Rowan Gontier", "link": "https://stackoverflow.com/users/5208205/rowan-gontier"}, "is_accepted": false, "score": 1, "last_activity_date": 1597225711, "creation_date": 1597225711, "answer_id": 63373996, "question_id": 48172314, "link": "https://stackoverflow.com/questions/48172314/kotlin-star-projection-on-contravariant-types/63373996#63373996", "title": "Kotlin star projection on contravariant types", "body": "<p>Further to answer above by user s1m..</p>\n<pre><code>class Foo&lt;in T&gt; {\n    fun accept(t: T) {\n        println(t)\n    }\n\n    fun doSomething(): String {\n        return &quot;yay&quot;\n    }\n}\n\nfun &lt;F&gt; usingFoo(con: Foo&lt;*&gt;, t: F) {\n    //  con.accept(t) //not allowed!!\n    val result = con.doSomething() // OK!\n}\n\nfun main() {\n    val number: Int = 5\n    usingFoo(Foo&lt;Number&gt;(), number)\n} \n</code></pre>\n<p>In terms of using the</p>\n<pre><code>Foo&lt;*&gt; \n</code></pre>\n<p>in a safe way, the doSomething() method shows one example (the forbidden methods are those that consume type T).</p>\n"}, {"comments": [{"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1613589074, "post_id": 65615757, "comment_id": 117124411, "body": "<code>We want to keep the type unknown, so that we won&#39;t end up using the T specific functions accidently. For example, in the above function, if we are allowed to call the list1.add(Something()), we might end up mutating the list accidentally where we just intend to compare the lists.</code> is not a valid use case argument for star projection. You could have used <code>List&lt;T&gt;</code> instead of <code>MutableList&lt;T&gt;</code>. You won&#39;t be able to use &quot;mutating&quot; methods on Kotlin&#39;s <code>List&lt;T&gt;</code>. Nonetheless, the explanation is quite nice"}, {"owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1613591975, "post_id": 65615757, "comment_id": 117125574, "body": "@Farid, I have used the <code>MutableList&lt;T&gt;</code> on purpose for the demonstration purpose. With <code>MutableList&lt;T&gt;</code> we have the replacement in the form of <code>List&lt;T&gt;</code>. But we don&#39;t always have options like this with other invariant classes. That&#39;s when we use projections like <code>*</code>, <code>out</code>, <code>in</code>."}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 0, "last_activity_date": 1610035158, "creation_date": 1610035158, "answer_id": 65615757, "question_id": 48172314, "link": "https://stackoverflow.com/questions/48172314/kotlin-star-projection-on-contravariant-types/65615757#65615757", "title": "Kotlin star projection on contravariant types", "body": "<p>Let's understand the reason <em>why</em> the star projection for contravariant <code>Consumer&lt;in T&gt;</code> is equivalent to <code>&lt;in Nothing&gt;</code>. But before that, we need to understand what exactly is a star projection and how it is for covariant <code>Producer&lt;out T&gt;</code>.</p>\n<hr />\n<h2>Star Projection</h2>\n<p>When you use a star projection of some generic class, you are not interested in using the functions or properties that return <code>T</code> or accept <code>T</code> as arguments from that generic class. For example, the following function just returns the bigger <code>List</code> of the two. We are only interested in the <code>size</code> property which doesn't return or accept <code>T</code>, it just returns an <code>Int</code>:</p>\n<p><strong>Example</strong></p>\n<pre><code>fun getBiggerOfTwo(list1: MutableList&lt;*&gt;, list2: MutableList&lt;*&gt;) : MutableList&lt;*&gt; {\n    return if (list1.size &gt;= list2.size) list1 else list2\n}\n</code></pre>\n<p><strong>Why use <code>*</code> instead of specifying a type?</strong></p>\n<p>We want to keep the type unknown, so that we won't end up using the\n<code>T</code> specific functions accidently. For example, in the above function, if we are allowed to call the <code>list1.add(Something())</code>, we might end up mutating the list accidentally where we just intend to compare the lists. So, the compiler will help us by flagging an error when we call the <code>add()</code> function. Apart from creating the safety, our function will also be reusable for various types, not just some specific type.</p>\n<hr />\n<h2>Covariant without upper bound</h2>\n<p>In the following examples, we'll use the <code>Producer</code> and <code>Consumer</code> classes for producing and consuming various subtypes of <code>class Pet(val cutenessIndex: String)</code>:</p>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class Producer&lt;out T&gt; {\n    private val items = listOf&lt;T&gt;()\n    fun produce() : T = items.last()\n    fun size(): Int = items.size\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useProducer(star: Producer&lt;*&gt;) {\n    // Produces Any?, a Pet is not guaranteed because T is unknown\n    val anyNullable = star.produce()      // Not useful\n\n    // Can't use functions and properties of Pet.\n    anyNullable.cutenessIndex             // Error\n\n    // Can use T-independent functions and properties\n    star.size()                           // OK\n}\n</code></pre>\n<hr />\n<h2>Covariant with upper bound</h2>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class Producer&lt;out T : Pet&gt; {\n    private val pets = listOf&lt;T&gt;()\n    fun produce() : T = pets.last()\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useProducer(star: Producer&lt;*&gt;) {\n    // Even though we use * here, T is known to be at least a Pet\n    // because it's an upper bound at the declaration site.\n    // So, Pet is guaranteed.\n    val pet = star.produce()              // OK\n\n    // Can use properties and functions of Pet.\n    pet.cutenessIndex                     // OK\n}\n</code></pre>\n<hr />\n<h2>Contravariant without lower bound</h2>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class Consumer&lt;in T&gt; {\n    private val items = mutableListOf&lt;T&gt;()\n    fun consume(item: T) = items.add(item)\n    fun size(): Int = items.size\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useConsumer(consumer: Consumer&lt;*&gt;) {\n    // Cannot consume anything because \n    // lower bound is not supported in Kotlin and T is unknown.\n    consumer.consume(Pet())               // Error\n\n    // Can use T-independent functions and properties.\n    consumer.size()                       // OK\n}\n</code></pre>\n<hr />\n<h2>Contravariant with lower bound</h2>\n<p>The lower bound is not supported in Kotlin. So, in the <code>Consumer</code> class above, we cannot have something like <code>in Pet : T</code>(lower bound) like we have <code>out T : Pet</code>(upper bound). As we know a consumer can consume <code>T</code> and it's subtypes. <code>Nothing</code> is the subtype of all types in Kotlin, just like <code>Any?</code> is the supertype of all types. And since, the <code>T</code> is unknown in the star projection, the only known subtype of <code>T</code> is <code>Nothing</code>. This is why a consumer's star projection can only consume <code>Nothing</code>. Hence, saying <code>Consumer&lt;*&gt;</code> is the same thing as saying <code>Consumer&lt;in Nothing&gt;</code>.</p>\n<hr />\n<p>That's it! Hope that helps clearing things up.</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 48176859, "answer_count": 4, "score": -2, "last_activity_date": 1610035684, "creation_date": 1515514252, "last_edit_date": 1610035684, "question_id": 48172314, "link": "https://stackoverflow.com/questions/48172314/kotlin-star-projection-on-contravariant-types", "title": "Kotlin star projection on contravariant types", "body": "<p>I am reading and trying to understand Kotlin type projections, sometimes I come up with confusing things like this:</p>\n<blockquote>\n<p><strong>For contravariant type parameters such as <code>Consumer&lt;in T&gt;</code>, a star\nprojection is equivalent to <code>&lt;in Nothing&gt;</code>. In effect, you can\u2019t call\nany methods that have <code>T</code> in the signature on such a star projection.</strong>\nIf the type parameter is contravariant, it acts only as a consumer,\nand, as we discussed earlier, you don\u2019t know exactly what it can\nconsume. Therefore, you can\u2019t give it anything to consume.</p>\n<p>You can use the star projection syntax when the information about type\narguments isn\u2019t important: you don\u2019t use any methods that refer to the\ntype parameter in the signature, or you only read the data and you\ndon\u2019t care about its specific type. For instance, you can implement\nthe <code>printFirst</code> function taking <code>List&lt;*&gt;</code> as a parameter.</p>\n</blockquote>\n<p>What does it mean to contravariant type to have a star projection and how does it come up to </p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebaseui"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "edited": false, "score": 0, "creation_date": 1515516249, "post_id": 48172638, "comment_id": 83325325, "body": "I tried this friendsDb = FirebaseDatabase.getInstance().reference.child(&quot;FRIENDS&quot;)                 .child(currentUser!!.uid).child(&quot;it3jrOcDw1aNQe2vTWtJPeASpfj&zwnj;&#8203;1&quot;) but is also not works."}, {"owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "reply_to_user": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "edited": false, "score": 0, "creation_date": 1515516346, "post_id": 48172638, "comment_id": 83325377, "body": "Are you sure currentUser!!.uid is &quot;NBHxxxxxxxxxxxxxxxON2&quot; ?"}], "tags": [], "owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "is_accepted": false, "score": 0, "last_activity_date": 1515515464, "creation_date": 1515515464, "answer_id": 48172638, "question_id": 48171768, "link": "https://stackoverflow.com/questions/48171768/firebaserecycleradapter-populateviewholder-not-accessing-data/48172638#48172638", "title": "FirebaseRecyclerAdapter - populateViewHolder not accessing data", "body": "<p>There seems to be some problem in this line</p>\n\n<pre><code>friendsDb = FirebaseDatabase.getInstance().reference.child(\"FRIENDS\")\n                .child(currentUser!!.uid)\n</code></pre>\n\n<p>Here it will get value from <strong>\"FRIENDS/currentUser.uid\"</strong>, \nwhich is either of</p>\n\n<ul>\n<li>NBHxxxxxxxxxxxxxxxON2</li>\n<li>it3xxxxxxxxxxxxxxxfj1</li>\n</ul>\n\n<p>You <strong>can not directly access</strong> <code>date</code> object from here, as <strong>date is under freind user id</strong></p>\n"}], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1515515464, "creation_date": 1515512505, "last_edit_date": 1515512830, "question_id": 48171768, "link": "https://stackoverflow.com/questions/48171768/firebaserecycleradapter-populateviewholder-not-accessing-data", "title": "FirebaseRecyclerAdapter - populateViewHolder not accessing data", "body": "<p>I am trying to display some data from my real time DB into a recycler adapter with no luck. I have made the FirebaseRecyclerAdapter work on another activity(java) but on this one it just does not work(kotlin). The strange thing is that if I use a ValueEventListener the data return just fine, but the FirebaseRecyclerAdapter do not work. </p>\n\n<p>CLASS:</p>\n\n<pre><code>class FriendsActivity : AppCompatActivity() {\n\n    private lateinit var friendsDb: DatabaseReference\n\n    private var currentUser: FirebaseUser? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_friends)\n        supportActionBar?.title = \"Friends\"\n\n        friends_main_rec.layoutManager = LinearLayoutManager(this)\n        friends_main_rec.setHasFixedSize(true)\n\n\n        currentUser = FirebaseAuth.getInstance().currentUser\n\n        friendsDb = FirebaseDatabase.getInstance().reference.child(\"FRIENDS\")\n                .child(currentUser!!.uid)\n\n        val friendsRecyclerViewAdapter = object : FirebaseRecyclerAdapter&lt;Friends, FriendsViewHolder&gt;(\n                Friends::class.java,\n                R.layout.friend_single,\n                FriendsViewHolder::class.java,\n                friendsDb) {\n\n            override fun populateViewHolder(viewHolder: FriendsViewHolder, model: Friends, position: Int) {\n                Log.d(\"FriendsList\", model.toString())\n                viewHolder.setDate(model.date)\n            }\n\n        }\n\n        friends_main_rec.adapter = friendsRecyclerViewAdapter\n    }\n\n\n    class FriendsViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun setDate(date: String) {\n            itemView.friend_single_date.text = date\n            Log.d(\"FriendsList\", date)\n        }\n\n    }\n</code></pre>\n\n<p>POJO:</p>\n\n<pre><code>data class Friends(var date: String)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YbiAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YbiAu.png\" alt=\"enter image description here\"></a></p>\n\n<p>The code seems fine to me, but obviously it is not correct. </p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3121, "user_id": 1048418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8110ec87e6a79865071765f48fd1670e?s=128&d=identicon&r=PG", "display_name": "Dawid Hy\u017cy", "link": "https://stackoverflow.com/users/1048418/dawid-hy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1553497787, "post_id": 48184303, "comment_id": 97390675, "body": "Proguard is not used for tests."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1554399939, "post_id": 48184303, "comment_id": 97748448, "body": "It should. Otherwise, how can you know your code won&#39;t crash at run-time due to a proguard issue?"}, {"owner": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1590765239, "post_id": 48184303, "comment_id": 109813835, "body": "Proguard is invoked when assembling your apk for release and not test build."}], "tags": [], "owner": {"reputation": 7596, "user_id": 1009132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75930f51f830aa057b0eaf61a3dd62a8?s=128&d=identicon&r=PG", "display_name": "albodelu", "link": "https://stackoverflow.com/users/1009132/albodelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1515578445, "last_edit_date": 1515578445, "creation_date": 1515577042, "answer_id": 48184303, "question_id": 48170785, "link": "https://stackoverflow.com/questions/48170785/unable-to-resolve-dependencies-for-assembleandroidtest-task-with-android-gradle/48184303#48184303", "title": "Unable to resolve dependencies for assembleAndroidTest task with Android Gradle plugin 3.0.1", "body": "<p>I don't use ProGuard for debug but the following answers seem useful.\nI would revise your Gradle configuration another time following the migration guide, and first of all clean and invalidate caches.</p>\n\n<h2>Proguard</h2>\n\n<p>Chech this <a href=\"https://stackoverflow.com/q/44253539/1009132\">question</a> and <a href=\"https://stackoverflow.com/q/33547643/1009132\">answers</a> about how to use Kotlin with Proguard.</p>\n\n<p><strong>Disable these directives in your <code>build.gradle</code> file to discard Proguard.</strong></p>\n\n<pre><code>minifyEnabled false\nshrinkResources false\n</code></pre>\n\n<p><strong>Configure Proguard for Kotlin.</strong></p>\n\n<blockquote>\n  <p>You don't need to do anything special. Kotlin works with ProGuard out\n  of the box. But you may face some strange errors when processing your\n  application with ProGuard. In this case just add:</p>\n\n<pre><code>-dontwarn kotlin.**\n</code></pre>\n</blockquote>\n\n<p>You also can add:</p>\n\n<pre><code>-keep class kotlin.** { *; }\n-keep class kotlin.Metadata { *; }\n-dontwarn kotlin.**\n-keepclassmembers class **$WhenMappings {\n    &lt;fields&gt;;\n}\n-keepclassmembers class kotlin.Metadata {\n    public &lt;methods&gt;;\n}\n-assumenosideeffects class kotlin.jvm.internal.Intrinsics {\n    static void checkParameterIsNotNull(java.lang.Object, java.lang.String);\n}\n</code></pre>\n\n<p>Check this related questions to either enable Proguard for tests or not:</p>\n\n<p><a href=\"https://stackoverflow.com/q/21463089/1009132\">proguard gradle debug build but not the tests</a></p>\n\n<p><strong>Specify the Proguard file to use on the instrumentation tests.</strong></p>\n\n<blockquote>\n  <p>runProguard is old.  It was replaced with minifyEnabled</p>\n  \n  <p>With minifyEnabled (and other changes in new versions of Gradle) you\n  will may encounter issues where the Proguard config works for your\n  debug apk but not for the instrumentation tests.  The apk created for\n  instrumentation tests will use its own proguard file, so changing your\n  existing proguard file will have no effect.</p>\n  \n  <p>In this case, you need to specify the proguard file to use on the\n  instrumentation tests.  It can be quite permissive because it's not\n  affecting your debug and release builds at all.</p>\n\n<pre><code>    // inside android block\n    debug {\n        shrinkResources true  // removes unused graphics etc\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        testProguardFile('test-proguard-rules.pro')\n    }\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/q/26482119/1009132\">Android Unit Tests with proguard enabled</a></p>\n\n<p><strong>Add a custom proguard rules file</strong></p>\n\n<blockquote>\n  <p><strong>/project/app/proguard-test-rules.pro</strong></p>\n\n<pre><code># Proguard rules that are applied to your test apk/code.\n-ignorewarnings\n\n-keepattributes *Annotation*\n\n-dontnote junit.framework.**\n-dontnote junit.runner.**\n\n-dontwarn android.test.**\n-dontwarn android.support.test.**\n-dontwarn org.junit.**\n-dontwarn org.hamcrest.**\n-dontwarn com.squareup.javawriter.JavaWriter\n# Uncomment this if you use Mockito\n#-dontwarn org.mockito.**\nThe add the following to your build.gradle for your app. To use the proguard file when testing.\n\n/project/app/build.gradle\n\nandroid {\n    debug {\n        minifyEnabled true\n        testProguardFile 'proguard-test-rules.pro'\n    }\n}\n</code></pre>\n</blockquote>\n\n<p><strong>Add a buidType for testing</strong></p>\n\n<blockquote>\n  <p>I've solved this problem in my build by having an additional \"dev\"\n  buildType where I enable proguard, but configure it to keep all code\n  in my own package, and a few specific library classes that happen to\n  be used from tests only. I also disable obfuscation in the dev\n  buildType so that it can be debugged from an IDE.</p>\n  \n  <p>For debug and release builds I use my \"real\" proguard settings\n  including obfuscation and optimizations.</p>\n</blockquote>\n\n<p><strong>Use separate test modules</strong></p>\n\n<blockquote>\n  <p><a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#test_modules\" rel=\"nofollow noreferrer\">Separate test modules</a> are now variant-aware. This means that\n  specifying targetVariant is no longer necessary.</p>\n  \n  <p>Each variant in the test module will attempt to test a matching\n  variant in the target project. By default, test modules contain only a\n  debug variant, but you can create new build types and new flavors to\n  create new variants to match the tested app project. A connectedCheck\n  task is created for each variant.</p>\n  \n  <p>To make the test module test a different build type only, and not the\n  debug one, use VariantFilter to disable the debug variant in the test\n  project, as shown below:</p>\n\n<pre><code>android {\n    variantFilter { variant -&gt;\n        if (variant.buildType.name.equals('debug')) {\n            variant.setIgnore(true);\n        }\n    }\n}\n</code></pre>\n  \n  <p>If you want a test module to target only certain flavors or build\n  types of an app, you can use the <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#resolve_matching_errors\" rel=\"nofollow noreferrer\">matchingFallbacks</a> property to target\n  only the variants you want to test. This also prevents the test module\n  from having to configure those variants for itself.</p>\n</blockquote>\n\n<hr>\n\n<h2>Gradle</h2>\n\n<p>Revise your Gradle configuration. In order to <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#tarjeting-android\" rel=\"nofollow noreferrer\">to build an Android project written in Kotlin</a>:</p>\n\n<ul>\n<li>Set up the <code>kotlin-android</code> gradle plugin and apply it to your project.</li>\n<li>Add <code>kotlin-stdlib</code> dependencies.</li>\n</ul>\n\n<blockquote>\n  <p>Those actions may also be performed automatically in IntelliJ IDEA /\n  AS by invoking the action:</p>\n  \n  <p><strong>Tools | Kotlin | Configure Kotlin in Project</strong></p>\n</blockquote>\n\n<hr>\n\n<h2>kotlin-android</h2>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n    ...\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n</code></pre>\n\n<hr>\n\n<h2>kotlin-stdlib</h2>\n\n<p>Don't forget to configure the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">standard library dependency</a>:</p>\n\n<pre><code>repositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n}\n</code></pre>\n\n<p>Revise your dependencies configuration using the <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#new_configurations\" rel=\"nofollow noreferrer\">migration\nguide</a>.</p>\n\n<blockquote>\n  <p><strong>Note:</strong> <code>compile</code>, <code>provided</code>, and <code>apk</code> are currently <strong>still available</strong>.</p>\n  \n  <p>However, they <strong>will be removed</strong> in the next major release of\n  the Android plugin.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Provide version manually</strong></p>\n\n<blockquote>\n  <p>Starting with Kotlin 1.1.2, the dependencies with group\n  <code>org.jetbrains.kotlin</code> are by default resolved with the version taken\n  from the applied plugin. </p>\n  \n  <p>You can provide the version manually using the full dependency\n  notation like this:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p><strong>Resolution strategy</strong></p>\n\n<p>You also can <a href=\"https://stackoverflow.com/a/48000311/1009132\">force the resolution strategy</a>:</p>\n\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>As you are using <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#variant_aware\" rel=\"nofollow noreferrer\">Android Gradle plugin 3.0.1</a>:</p>\n\n<pre><code>// Instead, because the new build model delays dependency resolution, you\n// should query and modify the resolution strategy using the Variant API:\nandroid {\n    applicationVariants.all { variant -&gt;\n        variant.getCompileConfiguration().resolutionStrategy {\n            ...\n        }\n        variant.runtimeConfiguration.resolutionStrategy {\n            ...\n        }\n        variant.getAnnotationProcessorConfiguration().resolutionStrategy {\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>Exclude app dependencies from test configurations using the Variant API:</p>\n\n<blockquote>\n  <p>On previous versions of the Android plugin, you could exclude certain\n  transitive dependencies of your app from your tests using the <strong>exclude</strong>\n  keyword. However, with the new dependency configurations, you must do\n  it at execution time using the Variant API:</p>\n\n<pre><code>android.testVariants.all { variant -&gt;\n    variant.getCompileConfiguration().exclude group: 'com.jakewharton.threetenabp', module: 'threetenabp'\n    variant.getRuntimeConfiguration().exclude group: 'com.jakewharton.threetenabp', module: 'threetenabp'\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p><strong>Extended versions of the Kotlin standard library</strong> </p>\n\n<blockquote>\n  <p>If you're <strong>targeting JDK 7 or JDK 8</strong>, you can use extended versions of\n  the Kotlin standard library which contain additional extension\n  functions for APIs added in new JDK versions. Instead of\n  <code>kotlin-stdlib</code>, use one of the following dependencies:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n</code></pre>\n  \n  <p><strong>In Kotlin 1.1.x</strong>, use <code>kotlin-stdlib-jre7</code> and <code>kotlin-stdlib-jre8</code>\n  instead.</p>\n</blockquote>\n\n<hr>\n\n<h2>Kotlin reflection</h2>\n\n<blockquote>\n  <p>If your project uses <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/index.html\" rel=\"nofollow noreferrer\">Kotlin\n  reflection</a>\n  or testing facilities, you need to add the corresponding dependencies\n  as well:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-reflect\"\ntestCompile \"org.jetbrains.kotlin:kotlin-test\"\ntestCompile \"org.jetbrains.kotlin:kotlin-test-junit\"\n</code></pre>\n</blockquote>\n\n<hr>\n\n<h2>Kapt</h2>\n\n<p>See the description of <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">Kotlin annotation processing tool</a> (<code>kapt</code>).</p>\n\n<p>Apply the <code>kotlin-kapt</code> Gradle plugin:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n"}], "owner": {"reputation": 4717, "user_id": 1990785, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30ed15227ce48259bd51b3b1e515e81c?s=128&d=identicon&r=PG&f=1", "display_name": "Pragmatic geek", "link": "https://stackoverflow.com/users/1990785/pragmatic-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1140, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1515578445, "creation_date": 1515509478, "question_id": 48170785, "link": "https://stackoverflow.com/questions/48170785/unable-to-resolve-dependencies-for-assembleandroidtest-task-with-android-gradle", "title": "Unable to resolve dependencies for assembleAndroidTest task with Android Gradle plugin 3.0.1", "body": "<p>I'm updating our project to use Gradle 4.1 and Android Gradle plugin 3.0.1. I have updated our dependency configuration to the <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#new_configurations\" rel=\"nofollow noreferrer\">new configuration</a> and the project successfully compiles. However, there are lots of unresolved dependencies (incl. Kotlin standard library's top-level functions) when compiling android tests (<code>assembleAndroidTest</code> Gradle task). I was suspecting that Proguard might cause this (although it didn't before updating Gradle), but even adding explicit rules to keep symbols/classes doesn't help. We use Kotlin 1.2.10 and Kotlin-Kapt plugin. </p>\n\n<p>I appreciate any help.</p>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1515512010, "post_id": 48170566, "comment_id": 83322642, "body": "This might as well be a duplicate of <a href=\"https://stackoverflow.com/questions/19971982/enum-class-initialization-in-java\">this</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1515509222, "creation_date": 1515509222, "answer_id": 48170695, "question_id": 48170566, "link": "https://stackoverflow.com/questions/48170566/enum-lazy-properties/48170695#48170695", "title": "Enum lazy properties", "body": "<p>All of the instances are created at the same time. </p>\n\n<pre><code>enum class Foo(input: String) {\n\n    ONE(\"one\"),\n    TWO(\"two\");\n\n    init {\n        println(\"Received $input\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Foo.ONE\n}\n</code></pre>\n\n<p>When I ran that, I got the following:</p>\n\n<pre><code>Received one\nReceived two\n</code></pre>\n\n<p>If they were created lazily, I would expect only \"Received one\" to have printed.</p>\n"}], "owner": {"reputation": 946, "user_id": 1194998, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/UcVSS.jpg?s=128&g=1", "display_name": "rdiaz82", "link": "https://stackoverflow.com/users/1194998/rdiaz82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "accepted_answer_id": 48170695, "answer_count": 1, "score": 4, "last_activity_date": 1515509222, "creation_date": 1515508804, "question_id": 48170566, "link": "https://stackoverflow.com/questions/48170566/enum-lazy-properties", "title": "Enum lazy properties", "body": "<p>I'm wondering how the enum properties are treated by kotlin. If we have an enum with the following structure:</p>\n\n<pre><code>enum class MyEnun(var sampleObject: MyObjectType){\n   ONE(MyObjectType(blabla)),\n   TWO(MyObjectType(blabla))\n}\n</code></pre>\n\n<p>Are the two MyObjectType instances created in a lazy way or, on the contrary, they will be created when the enum is created?</p>\n"}, {"tags": ["java", "jsp", "intellij-idea", "kotlin", "jstl"], "comments": [{"owner": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "edited": false, "score": 1, "creation_date": 1515508660, "post_id": 48170335, "comment_id": 83320350, "body": "Try without &quot;is&quot;  <code>${foo.bar1== true}</code>  for the appropriate matching."}, {"owner": {"reputation": 628, "user_id": 1440005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/545de81614253da34248d04bfc938391?s=128&d=identicon&r=PG", "display_name": "Octavian M\u0103rculescu", "link": "https://stackoverflow.com/users/1440005/octavian-m%c4%83rculescu"}, "edited": false, "score": 1, "creation_date": 1515508942, "post_id": 48170335, "comment_id": 83320534, "body": "Please have a look at this answer <a href=\"https://stackoverflow.com/questions/43317026/kotlin-naming-convention-for-boolean-returning-methods\" title=\"kotlin naming convention for boolean returning methods\">stackoverflow.com/questions/43317026/&hellip;</a> and see if it helps you in any way. You probably need to use the java getter for your checks inside the JSP template."}, {"owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "reply_to_user": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "edited": false, "score": 0, "creation_date": 1515508969, "post_id": 48170335, "comment_id": 83320547, "body": "@GurkanYesilyurt Thanks for the good tip. Sadly that didn&#39;t solve the problem. NoSuchMethodExc with- or without the custom setters (and private/ default visibility modifier too)"}, {"owner": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "edited": false, "score": 1, "creation_date": 1515511897, "post_id": 48170335, "comment_id": 83322572, "body": "In boolean values, <code>EL</code> will look for <code>isBar1()</code> getter method for <code>${foo.bar1}</code> too. Maybe you have JSTL lib problem. Please remove all JSTL tag and tag lib definition top of your page. Just try with EL <code>${foo.bar1}</code> to check it whether is properly being invoked or not."}, {"owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "edited": false, "score": 1, "creation_date": 1515759012, "post_id": 48170335, "comment_id": 83433639, "body": "That was it. Thanks"}, {"owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "reply_to_user": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "edited": false, "score": 0, "creation_date": 1516354302, "post_id": 48170335, "comment_id": 83660865, "body": "@GurkanYesilyurt I don&#39;t think i can mark a comment as an answer."}, {"owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "reply_to_user": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "edited": false, "score": 0, "creation_date": 1516360712, "post_id": 48170335, "comment_id": 83664894, "body": "@GurkanYesilyurt Thanks, I put a mark on it."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "edited": false, "score": 0, "creation_date": 1515759093, "post_id": 48171975, "comment_id": 83433673, "body": "I&#39;ve used Gurkan Yesilyurt solution and it solved the problem"}], "tags": [], "owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "is_accepted": false, "score": 0, "last_activity_date": 1515519277, "last_edit_date": 1515519277, "creation_date": 1515513131, "answer_id": 48171975, "question_id": 48170335, "link": "https://stackoverflow.com/questions/48170335/kotlin-java-jstl-boolean-interop/48171975#48171975", "title": "Kotlin, Java, JSTL Boolean interop", "body": "<p>You can use <strong><a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data class</a></strong> feature of Kotlin here, </p>\n\n<p>Try below</p>\n\n<pre><code>data class Foo(val isBar1:Boolean= false,val isBar2:Boolean= false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2232, "user_id": 5371590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS2TL.jpg?s=128&g=1", "display_name": "Gurkan Yesilyurt", "link": "https://stackoverflow.com/users/5371590/gurkan-yesilyurt"}, "is_accepted": true, "score": 1, "last_activity_date": 1515773879, "creation_date": 1515773879, "answer_id": 48230135, "question_id": 48170335, "link": "https://stackoverflow.com/questions/48170335/kotlin-java-jstl-boolean-interop/48230135#48230135", "title": "Kotlin, Java, JSTL Boolean interop", "body": "<p>In boolean values, EL will look for <code>isBar1()</code> getter method for expression <code>${foo.bar1}</code> too. Probably, you have JSTL lib problem. Please remove all JSTL libs and tag lib definition at the top of your page. Just try with EL <code>${foo.bar1}</code> to check it whether is properly being invoked or not.  </p>\n"}], "owner": {"reputation": 67, "user_id": 6694770, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dFTCE.jpg?s=128&g=1", "display_name": "benyuss", "link": "https://stackoverflow.com/users/6694770/benyuss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 48230135, "answer_count": 2, "score": 0, "last_activity_date": 1515773879, "creation_date": 1515508019, "last_edit_date": 1515508420, "question_id": 48170335, "link": "https://stackoverflow.com/questions/48170335/kotlin-java-jstl-boolean-interop", "title": "Kotlin, Java, JSTL Boolean interop", "body": "<p>I have a problem with JSTL and Kotlin interop.</p>\n\n<p>I have a this particular kotlin class with 2 kotlin Boolean fields.</p>\n\n<pre><code>class Foo {\n    var isBar1 : Boolean = false\n    var isBar2 : Boolean = false\n\n    constructor()\n\n    constructor(isBar1: Boolean, isBar2: Boolean) {\n        this.isBar1 = isBar1\n        this.isBar2 = isBar2\n    }\n}\n</code></pre>\n\n<p>I have to acces these two fields from a jsp which i'm doing in the following way:</p>\n\n<pre><code>&lt;c:choose&gt;\n     &lt;c:when test=\"${foo.isBar1== true}\"&gt;\n          &lt;p&gt;Print something&lt;/p&gt;\n     &lt;/c:when&gt;\n\n     &lt;c:when test=\"${foo.isBar1== false}\"&gt;\n          &lt;p&gt;Print something else&lt;/p&gt;\n     &lt;/c:when&gt;\n&lt;/c:choose&gt;\n</code></pre>\n\n<p>And the exact same for isBar2</p>\n\n<p>The problem is, when I run this piece of code\nI ran into</p>\n\n<p>java.lang.NoSuchMethodError: packagedeclaration.setBar1(Ljava/lang/Boolean;)V</p>\n\n<p>If i try to write the following functions:</p>\n\n<pre><code>fun getBar1(): Boolean {\n    return this.isBar1\n}\n\nfun setBar1(isBar1: Boolean): Any {\n    this.isBar1= isActive\n    return Any()\n}\n\nfun getBar2(): Boolean {\n    return this.isBar2\n}\n\nfun setBar2(isBar2: Boolean): Any {\n    this.isBar2= isBar2\n    return Any()\n}\n</code></pre>\n\n<p>It will take me to \n\"javax.el.PropertyNotFoundException: Property [isBar2] not found on type [packagedeclaration.foo]\"</p>\n\n<p>I've tried to set fields as private but it did not help.\nJava boolean as parameter seems impossible to pass because IntelliJ constantly bombing me with different errors.</p>\n\n<p>Here's my thoughts:\nJSTL tries to access java getters/setters with java boolean parameter and return type. \nJstl looking for methods named with java naming conventions, so getBar1 and setBar1 but kotlin generates isBar1 and setBar1</p>\n\n<p>Java - Kotlin interop for boolean is Boolean according to this kotlin reference page:\n<a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">Kotlin- Java interop reference</a></p>\n\n<p>Do you have any idea how to get rid of this problem?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 3, "last_activity_date": 1515508720, "last_edit_date": 1515508720, "creation_date": 1515507727, "answer_id": 48170237, "question_id": 48169960, "link": "https://stackoverflow.com/questions/48169960/recreate-object-in-kotlin/48170237#48170237", "title": "Recreate object in kotlin", "body": "<p>You need to make a separate class for that, since singletons (<code>object</code> in Kotlin) cannot have a constructor:</p>\n\n<pre><code>class NetworkClient(val baseUrl: String) {\n    const val API_BASE_URL = \"$baseUrl/api/\"\n\n    val httpClient = OkHttpClient.Builder()\n    val client: Client\n    var retrofit: Retrofit\n\n    init {    \n       // ...\n    }\n}\n</code></pre>\n\n<p>Use an <code>object</code> to have the current networkClient instance always at hand:</p>\n\n<pre><code>object NetworkClientProvider {\n    var networkClient = NetworkClient(\"http://google.ru\")\n}\n</code></pre>\n\n<p>Usage, if you need to create a new <code>NetworkClient</code>:</p>\n\n<pre><code>NetworkClientProvider.networkClient = NetworkClient(\"http://someOtherDomain.com\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 2, "creation_date": 1515508824, "post_id": 48170410, "comment_id": 83320458, "body": "he wants to have only one instance of the network client at a time, so he is not misusing object as much as you are implying."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1515509645, "last_edit_date": 1515509645, "creation_date": 1515508293, "answer_id": 48170410, "question_id": 48169960, "link": "https://stackoverflow.com/questions/48169960/recreate-object-in-kotlin/48170410#48170410", "title": "Recreate object in kotlin", "body": "<p>You're misusing <code>object</code> here. This should be used if you really have a <strong>single</strong> instance of a class, it's the Kotlin built-in feature for applying the <em>Singleton</em> pattern.</p>\n\n<p>Fix it by making it a regular class:</p>\n\n<pre><code>class NetworkClient(val baseurl: String) {\n    const val API_BASE_URL = \"$baseurl/api/\"\n\n    val httpClient = OkHttpClient.Builder()\n    //...\n\n}\n</code></pre>\n\n<p>Then it\u2019s possible to create objects with different <code>baseurl</code>s as shown:</p>\n\n<pre><code>val russian = NetworkClient(\"http://google.ru\")\nval com = NetworkClient(\"http://google.com\")\n</code></pre>\n"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 48170237, "answer_count": 2, "score": 1, "last_activity_date": 1515509645, "creation_date": 1515506757, "question_id": 48169960, "link": "https://stackoverflow.com/questions/48169960/recreate-object-in-kotlin", "title": "Recreate object in kotlin", "body": "<p>I have simple issue: need recreate a object with other parameters.\nHave this object: </p>\n\n<pre><code>object NetworkClient {\n    var BASE_URL = \"http://google.ru\" //we can take this from another class or Pref's\n    const val API_BASE_URL = \"$BASE_URL/api/\"\n\n    val httpClient = OkHttpClient.Builder()\n    val client: Client\n    var retrofit: Retrofit\n\n    init {    \n        val builder = Retrofit.Builder()\n                .baseUrl(API_BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n\n        retrofit = builder.client(httpClient.build()).build()\n        client = retrofit.create&lt;PapaJobsClient&gt;(Client::class.java)\n    }\n}\n</code></pre>\n\n<p>In rare cases you need to change the BASE_URL on the fly to another String and recreate client and etc. I know how to make it, but my resolution so hard - need rework all places where i use this class but i want create this object with concrete parameter. How you think about this problem?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1515504650, "post_id": 48169265, "comment_id": 83317811, "body": "Best approach would be to research and show some effort yourself. In case you don&#39;t know, only code and/or error based problems are recommended on Stack Overflow. As for your answer, research on View pager and fragments ;)"}, {"owner": {"reputation": 6255, "user_id": 1116216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98ea1c9a3a961ab5130d0a7289d654de?s=128&d=identicon&r=PG", "display_name": "Michele La Ferla", "link": "https://stackoverflow.com/users/1116216/michele-la-ferla"}, "edited": false, "score": 0, "creation_date": 1515505393, "post_id": 48169265, "comment_id": 83318268, "body": "check this out: <a href=\"https://drive.google.com/uc?export=download&amp;id=18aEfUFCUVZVIfDRYp1A1mQQXA6zYdrAX\" rel=\"nofollow noreferrer\">drive.google.com/&hellip;</a>"}, {"owner": {"reputation": 5616, "user_id": 6583644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCblc.jpg?s=128&g=1", "display_name": "Patrick R", "link": "https://stackoverflow.com/users/6583644/patrick-r"}, "edited": false, "score": 0, "creation_date": 1515505498, "post_id": 48169265, "comment_id": 83318335, "body": "You should use TabLayout with ViewPager Please refer below link: <a href=\"https://developer.android.com/reference/android/support/design/widget/TabLayout.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/design/widge&zwnj;&#8203;t/&hellip;</a>"}, {"owner": {"reputation": 648, "user_id": 6666677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h4rCB.jpg?s=128&g=1", "display_name": "Bhavesh Desai", "link": "https://stackoverflow.com/users/6666677/bhavesh-desai"}, "edited": false, "score": 0, "creation_date": 1515505649, "post_id": 48169265, "comment_id": 83318440, "body": "Visit this <a href=\"https://github.com/SuavePirate/KotlinPuppies\" rel=\"nofollow noreferrer\">github.com/SuavePirate/KotlinPuppies</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1308, "user_id": 6560792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uz7Cv.png?s=128&g=1", "display_name": "iamnaran", "link": "https://stackoverflow.com/users/6560792/iamnaran"}, "is_accepted": false, "score": 1, "last_activity_date": 1573710977, "last_edit_date": 1573710977, "creation_date": 1515505721, "answer_id": 48169625, "question_id": 48169265, "link": "https://stackoverflow.com/questions/48169265/creating-a-top-navigation-menu/48169625#48169625", "title": "Creating a top navigation menu", "body": "<p>Implement your xml views like:</p>\n\n<pre><code> - CoordinatorLayout\n  - LinearLayout\n  - Toolbar\n  - TabLayout\n  - View Pager\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/mainLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"@color/colorPrimary\"\n            android:theme=\"@style/CustomToolbarTheme\"\n            app:titleTextAppearance=\"@style/Toolbar.TitleText\" /&gt;\n\n        &lt;android.support.design.widget.TabLayout\n            android:id=\"@+id/tab_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/colorPrimary\"\n            app:tabGravity=\"fill\"\n            app:tabIndicatorColor=\"@color/white\"\n            app:tabIndicatorHeight=\"1.6dp\"\n            app:tabMode=\"fixed\"\n            app:tabSelectedTextColor=\"@color/white\"\n            app:tabTextColor=\"#c3ffffff\" /&gt;\n\n        &lt;android.support.v4.view.ViewPager\n            android:id=\"@+id/view_pager\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/white\"&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Then in <strong>activity/fragment</strong> setup view pager with TabLayout, add fragment in view pager and prepare recycler view in ViewPager Fragment. </p>\n\n<pre><code> private TabLayout tabLayout;\n        private ViewPager viewPager;    \n         @Override\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.your_layout);\n             initialiseViews();\n            setUpTabLayout();\n\n        }\n\n         public void initialiseViews() {   \n            tabLayout = (TabLayout) findViewById(tab_layout);\n            viewPager = (ViewPager) findViewById(R.id.view_pager);\n        }\n        private void setUpTabLayout() {\n            ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n            adapter.add(new YourFragment1(), \"Home\");\n            adapter.add(new YourFragment2(), \"Trending\");\n            adapter.add(new YourFragment3(), \"Friends\");\n            viewPager.setAdapter(adapter);\n            viewPager.setPageMargin((int) getResources().getDimension(R.dimen.view_pager_gap));\n            viewPager.setPageMarginDrawable(R.color.background);\n            viewPager.setOffscreenPageLimit(2);\n            tabLayout.setupWithViewPager(viewPager);\n        }\n\n        private class ViewPagerAdapter extends FragmentPagerAdapter {\n\n            private List&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\n            private List&lt;String&gt; titleList = new ArrayList&lt;&gt;();\n\n            private ViewPagerAdapter(FragmentManager fm) {\n                super(fm);\n            }\n\n            void add(Fragment fragment, String title) {\n                fragmentList.add(fragment);\n                titleList.add(title);\n            }\n\n            @Override\n            public Fragment getItem(int position) {\n                return fragmentList.get(position);\n            }\n\n            @Override\n            public CharSequence getPageTitle(int position) {\n                return titleList.get(position);\n            }\n\n            @Override\n            public int getCount() {\n                return fragmentList.size();\n            }\n\n           @Override\n           public int getItemPosition(Object object) {\n               return POSITION_NONE;\n           }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 5898862, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-Mvb7BMx8ncU/AAAAAAAAAAI/AAAAAAAAABM/90caQlUoU6k/photo.jpg?sz=128", "display_name": "JEGADEESAN S", "link": "https://stackoverflow.com/users/5898862/jegadeesan-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1515506551, "creation_date": 1515506551, "answer_id": 48169890, "question_id": 48169265, "link": "https://stackoverflow.com/questions/48169265/creating-a-top-navigation-menu/48169890#48169890", "title": "Creating a top navigation menu", "body": "<p>You have to use TabLayout and ViewPager for creating user interface like mentioned above.\nRefer this :\n<a href=\"https://developer.android.com/training/implementing-navigation/lateral.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/implementing-navigation/lateral.html</a></p>\n\n<p>Also some of the open source github projects are there. </p>\n\n<p>Example:\n<a href=\"https://github.com/ogaclejapan/SmartTabLayout\" rel=\"nofollow noreferrer\">https://github.com/ogaclejapan/SmartTabLayout</a></p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 6405022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869af770a142f5cf49cc29df3b2d6dd3?s=128&d=identicon&r=PG&f=1", "display_name": "kkaun", "link": "https://stackoverflow.com/users/6405022/kkaun"}, "is_accepted": false, "score": 0, "last_activity_date": 1515507134, "last_edit_date": 1515507134, "creation_date": 1515506686, "answer_id": 48169937, "question_id": 48169265, "link": "https://stackoverflow.com/questions/48169265/creating-a-top-navigation-menu/48169937#48169937", "title": "Creating a top navigation menu", "body": "<p>As I see also nav button which usually operates <code>NavigationDrawer</code> on your screen, I assume you may need it in the future.</p>\n\n<p>To achieve what you call <strong><em>\"the best approach\"</em></strong> you should at first describe at least what architecture you're using by showing some code etc.</p>\n\n<p>Let's assume you'll go \"common\" way with holder <code>Activity</code> and few <code>Fragment</code>s aka pages. Then, basically, what you need is custom <code>Adapter</code> for <code>ViewPager</code>:</p>\n\n<p>At first, you need right layout, something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"#464646\"\n        app:layout_scrollFlags=\"scroll|enterAlways|snap\"\n        app:popupTheme=\"@style/ThemeOverlay.AppCompat.Dark\"\n        app:theme=\"@style/AppTheme\"\n        app:titleTextColor=\"#e1e1e1\" /&gt;\n\n    &lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/drawer_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:context=\".ui.main.MainActivity\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;android.support.design.widget.TabLayout\n                android:id=\"@+id/tabLayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"#606060\"\n                android:minHeight=\"?attr/actionBarSize\"\n                android:theme=\"@style/AppTheme\" /&gt;\n\n            &lt;android.support.v4.view.ViewPager\n                android:id=\"@+id/viewPager\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\" /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/content_frame\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n        &lt;android.support.design.widget.NavigationView\n            android:id=\"@+id/navigation_view\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"start\"\n            app:headerLayout=\"@layout/drawer_header\"\n            app:menu=\"@menu/drawer_menu_general\" /&gt;\n\n    &lt;/android.support.v4.widget.DrawerLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Then goes Kotlin part. Here i show code snippet which connects ViewPages and DrawerLayout functionalities:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n    private val pageTitles = arrayOf(\"TITLE_ONE\", \"TITLE_TWO\")\n    private lateinit var mDrawer: DrawerLayout\n    private lateinit var mNavigationView: NavigationView\n    private lateinit var mDrawerToggle: ActionBarDrawerToggle\n    private lateinit var mActionBar: ActionBar\n    private var mToolBarNavigationListenerIsRegistered = false\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        mDrawer = findViewById(R.id.drawer_layout)\n\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n        mActionBar = supportActionBar!!\n\n        for (i in 0..YOUR_VIEWS_COUNT) { tabLayout.addTab(tabLayout.newTab().setText(pageTitles[i])) }\n\n        tabLayout.tabGravity = TabLayout.GRAVITY_FILL\n\n        mDrawerToggle = ActionBarDrawerToggle(this, mDrawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n        mDrawer.addDrawerListener(mDrawerToggle)\n        mDrawerToggle.syncState()\n\n        mNavigationView = findViewById(R.id.navigation_view)\n        mNavigationView.setNavigationItemSelectedListener(this)\n\n\n        val pagerAdapter = ViewPagerAdapter(supportFragmentManager)\n        viewPager.adapter = pagerAdapter\n\n        viewPager.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabLayout))\n        tabLayout.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                viewPager.currentItem = tab.position\n            }\n            override fun onTabUnselected(tab: TabLayout.Tab) {}\n            override fun onTabReselected(tab: TabLayout.Tab) {}\n        })\n\n        if(savedInstanceState != null){\n            resolveUpButtonWithFragmentStack()\n        } else {\n\n        }\n    }\n\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\n        when(item.itemId){\n            R.id.your_first_item_view -&gt; {\n                supportFragmentManager.beginTransaction().hide(getCurrentFragment())\n                        .add(R.id.content_frame, YourFragment(), Integer.toString(getFragmentCount()))\n                        .addToBackStack(\"fragBack\").commit()\n                showUpButton(true)\n                title = \"YourFragment\"\n            }\n        }\n        mDrawer.closeDrawer(GravityCompat.START)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            android.R.id.home -&gt; {\n                mDrawer.openDrawer(GravityCompat.START)\n                return true\n            }\n        }\n        return super.onOptionsItemSelected(item)\n    }\n\n    override fun onBackPressed() {\n        if (mDrawer.isDrawerOpen(GravityCompat.START)) {\n            mDrawer.closeDrawer(GravityCompat.START)\n        } else {\n            val backStackCount = getFragmentCount()\n            if (backStackCount &gt;= 1) {\n                supportFragmentManager.popBackStack()\n                if (backStackCount == 1) {\n                    showUpButton(false)\n                }\n            } else {\n                super.onBackPressed()\n            }\n        }\n    }\n\n    private fun showUpButton(show: Boolean) {\n        if (show) {\n            mDrawerToggle.isDrawerIndicatorEnabled = false\n            mActionBar.setDisplayHomeAsUpEnabled(true)\n            if (!mToolBarNavigationListenerIsRegistered) {\n                mDrawerToggle.toolbarNavigationClickListener = View.OnClickListener { onBackPressed() }\n                mToolBarNavigationListenerIsRegistered = true\n            }\n        } else {\n            mActionBar.setDisplayHomeAsUpEnabled(false)\n            mDrawerToggle.isDrawerIndicatorEnabled = true\n            mDrawerToggle.toolbarNavigationClickListener = null\n            mToolBarNavigationListenerIsRegistered = false\n        }\n    }\n\n    private fun resolveUpButtonWithFragmentStack() {\n        showUpButton(supportFragmentManager.backStackEntryCount &gt; 0)\n    }\n\n    fun getFragmentCount(): Int {\n        return supportFragmentManager.backStackEntryCount\n    }\n\n    fun getFragmentAt(index: Int): Fragment {\n        return if (getFragmentCount() &gt; 0)\n            supportFragmentManager.findFragmentByTag(Integer.toString(index)) else NearbyPlaceTypesFragment()\n    }\n\n    fun getCurrentFragment(): Fragment {\n        return getFragmentAt(getFragmentCount() - 1)\n    }\n\n\n    // Your adapter for ViewPager\n    class ViewPagerAdapter(val fragmentManager: FragmentManager) : FragmentStatePagerAdapter(fragmentManager) {\n\n        override fun getItem(position: Int): Fragment {\n            return when (position) {\n                0 -&gt; {\n                    YourFragment()\n                }\n                else -&gt; {\n                    YourOtherFragment()\n                }\n            }\n        }\n\n        override fun getCount(): Int {\n            return 2\n        }\n    }\n}\n</code></pre>\n\n<p>I won't explain every step you'll need to build this code as the're a lot of tutos out there which explain the whole concept, but straightly encourage you to google it, to avoid some possible issues with fragment stack or standard android components in the future.</p>\n"}], "owner": {"reputation": 11, "user_id": 3241350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35c97aa990a3074797c0945f0cef678a?s=128&d=identicon&r=PG&f=1", "display_name": "user3241350", "link": "https://stackoverflow.com/users/3241350/user3241350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4498, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1573710977, "creation_date": 1515504475, "last_edit_date": 1515519943, "question_id": 48169265, "link": "https://stackoverflow.com/questions/48169265/creating-a-top-navigation-menu", "title": "Creating a top navigation menu", "body": "<p>How to make a top navigation menu as per the screenshot? </p>\n\n<p>I want the top links to be clickable and scrollable as there are more items in top navigation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sYWDw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYWDw.png\" alt=\"navigation screenshot\"></a></p>\n"}, {"tags": ["annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1515503546, "creation_date": 1515503546, "answer_id": 48168982, "question_id": 48168850, "link": "https://stackoverflow.com/questions/48168850/what-ist-the-difference-between-using-annotation-and-annotation-in-kotlin/48168982#48168982", "title": "What ist the difference between using @Annotation and [Annotation] in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Annotation Use-site Targets</a> documents this.</p>\n\n<blockquote>\n  <p>If you have multiple annotations with the same target, you can avoid repeating the target by adding brackets after the target and putting all the annotations inside the brackets</p>\n</blockquote>\n\n<p>Of course you can do it with one annotation as well. But you need to make sure to have the target set. This it at least a <code>@</code>. So it would be <code>@Inject</code> or <code>@[Inject]</code>, or with several annotations <code>@[Inject SomeScope]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1515504499, "creation_date": 1515504499, "answer_id": 48169272, "question_id": 48168850, "link": "https://stackoverflow.com/questions/48168850/what-ist-the-difference-between-using-annotation-and-annotation-in-kotlin/48169272#48169272", "title": "What ist the difference between using @Annotation and [Annotation] in Kotlin?", "body": "<p>The <code>[Annotation]</code> syntax was supported in early preview versions of Kotlin. It does not exist in Kotlin 1.0 or newer.</p>\n"}], "owner": {"reputation": 70, "user_id": 4149449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674cbba5562ba0e7714b202d7781f35a?s=128&d=identicon&r=PG&f=1", "display_name": "Flickster", "link": "https://stackoverflow.com/users/4149449/flickster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48169272, "answer_count": 2, "score": 2, "last_activity_date": 1515504499, "creation_date": 1515503077, "question_id": 48168850, "link": "https://stackoverflow.com/questions/48168850/what-ist-the-difference-between-using-annotation-and-annotation-in-kotlin", "title": "What ist the difference between using @Annotation and [Annotation] in Kotlin?", "body": "<p>For Example</p>\n\n<pre><code>class LoggingService [Inject] (protected val logger: Logger)\n\nclass LoggingService @Inject (protected val logger: Logger)\n</code></pre>\n\n<p>I haven't found anything in the official documentation.</p>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1515551208, "last_edit_date": 1515551208, "creation_date": 1515507979, "answer_id": 48170317, "question_id": 48168714, "link": "https://stackoverflow.com/questions/48168714/kotlin-projection-redundancy/48170317#48170317", "title": "Kotlin projection redundancy", "body": "<p>As quoted, it would be \u201credundant\u201d, thus you\u2019d never want to do that. It simply does not add any benefit. The whole quote is related to <strong>use-site variance</strong>, i.e. variance <em>specified by the client</em> (corresponds to wildcards in Java). The class <code>List&lt;out T&gt;</code> already has a <strong>declaration-site variance</strong> modifier <code>out</code>, which makes the use-site application of <code>out</code> redundant. </p>\n\n<p>Here's an example of <strong>redundant client-site variance</strong>:</p>\n\n<pre><code>fun &lt;T&gt; useList(list: List&lt;out T&gt;) {\n    println(\"first element: ${list[0]}\")\n}\n</code></pre>\n\n<p>I applied the <code>out</code> modifier to a function parameter of type <code>List&lt;T&gt;</code>, this is an example of use-site variance. It is redundant which the compiler notices: <code>\"Projection is redundant\"</code>. It does not make it worse nor any better.</p>\n\n<p>On the other hand, if you're using a <strong>type that is not projected on declaration-site</strong> already, it does make sense. For example, the <code>Array</code> class is not restricted in its variance: <code>public class Array&lt;T&gt;</code>.</p>\n\n<p>Rewriting the former example to use <code>Array</code>, it suddenly makes sense to add an <code>out</code> modifier, since the parameter is only used as a producer of <code>T</code>, i.e. not in <code>in</code> position.</p>\n\n<p>Example of meaningful client-site variance:</p>\n\n<pre><code>fun &lt;T&gt; useArray(arr: Array&lt;out T&gt;) {\n    println(\"first element: ${arr[0]}\")\n}\n</code></pre>\n\n<h3>Rule of Thumb</h3>\n\n<p>As a rule of thumb, corresponding to Java\u2018s <strong><a href=\"https://stackoverflow.com/a/2723538/8073652\">PECS</a></strong> (Producer <code>extends</code>, Consumer <code>super</code>), you can memorize <strong>POCI</strong> for Kotlin (Producer <code>out</code>, Consumer <code>in</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 3, "last_activity_date": 1515508547, "creation_date": 1515508547, "answer_id": 48170487, "question_id": 48168714, "link": "https://stackoverflow.com/questions/48168714/kotlin-projection-redundancy/48170487#48170487", "title": "Kotlin projection redundancy", "body": "<blockquote>\n  <ol>\n  <li>Why you ever need to add out projection on already out projected type List?</li>\n  </ol>\n</blockquote>\n\n<p>You don't, but it may happen by accident, such as through refactoring or in a deep call chain where you lose sight of the generic parameters being passed around.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Even if you do so, how you get the same List?</li>\n  </ol>\n</blockquote>\n\n<p>In an analogy, you might consider the projection as an idempotent transform: <code>out out T</code> is the same as just <code>out T</code>.</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 48170317, "answer_count": 2, "score": 6, "last_activity_date": 1515551208, "creation_date": 1515502655, "last_edit_date": 1515509107, "question_id": 48168714, "link": "https://stackoverflow.com/questions/48168714/kotlin-projection-redundancy", "title": "Kotlin projection redundancy", "body": "<p>While reading about Kotlin generics type variance and projection I came up with completely unfamiliar concept to me. Can someone explain please what is the idea that the author wants to explain? Please this quote from <em>Kotlin in Action, MEAP</em>:</p>\n\n<blockquote>\nThere is no sense to get an <code>out</code> projection of a type parameter that already has <code>out</code> variance, such as <code>List&lt;out T></code>. That would mean the same as <code>List&lt;T></code>, because <code>List</code> is declared as <code>class List&lt;out T></code>. The Kotlin compiler will warn that such a projection is redundant.\n</blockquote>\n\n<p>There are two concrete questions here:</p>\n\n<ol>\n<li>Why you ever need to add out projection on already out projected type List?</li>\n<li>Even if you do so, how you get the same List?</li>\n</ol>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 8742938, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0wAGc6bOPyg/AAAAAAAAAAI/AAAAAAAAtYg/vH4HV7oLdws/photo.jpg?sz=128", "display_name": "nerk", "link": "https://stackoverflow.com/users/8742938/nerk"}, "is_accepted": true, "score": 0, "last_activity_date": 1515791541, "creation_date": 1515791541, "answer_id": 48234054, "question_id": 48167656, "link": "https://stackoverflow.com/questions/48167656/should-i-use-arcore-demo-code-or-write-it-by-myself/48234054#48234054", "title": "Should I use ARCore Demo code or write it by myself?", "body": "<p>You can use the demo code as a guide/template for getting started, but eventually you'll want to move away from the demo code.</p>\n"}], "owner": {"reputation": 407, "user_id": 9192769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c7f1df276fb87bd11ca67f20f8eb63?s=128&d=identicon&r=PG&f=1", "display_name": "Dils Matchanov", "link": "https://stackoverflow.com/users/9192769/dils-matchanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 48234054, "answer_count": 1, "score": -3, "last_activity_date": 1515839170, "creation_date": 1515498758, "last_edit_date": 1515839170, "question_id": 48167656, "link": "https://stackoverflow.com/questions/48167656/should-i-use-arcore-demo-code-or-write-it-by-myself", "title": "Should I use ARCore Demo code or write it by myself?", "body": "<p>Recently I wanted to created an ARCore app and downloaded demo application. When I started to read the code I have been shocked how many lines of code there are. And I wanna know if this code is universal or I should write own for every app.</p>\n"}, {"tags": ["android", "kotlin", "realm", "realm-mobile-platform"], "comments": [{"owner": {"reputation": 3701, "user_id": 2733216, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ewLJJ.jpg?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/2733216/anthony"}, "edited": false, "score": 0, "creation_date": 1515488812, "post_id": 48164599, "comment_id": 83308376, "body": "When I disable D8, it also failed with the following trace AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Error converting bytecode to dex:\\nCause: com.android.dex.DexException: Multiple dex files define Lio/realm/rx/RealmObservableFactory$16$2;&quot;, and what is strand is that the realm-android-lbrary passed from 4.3.1 to 4.1.1 !!! &#39;"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1515494316, "post_id": 48164599, "comment_id": 83311634, "body": "Probably same problem as <a href=\"https://github.com/realm/realm-java/issues/5640#issuecomment-355497076\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/5640#issuecomment-3554970&zwnj;&#8203;76</a>"}, {"owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "edited": false, "score": 0, "creation_date": 1515506892, "post_id": 48164599, "comment_id": 83319198, "body": "Releated issue: <a href=\"https://stackoverflow.com/questions/46267621\">stackoverflow.com/questions/46267621</a>"}, {"owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "edited": false, "score": 0, "creation_date": 1515506992, "post_id": 48164599, "comment_id": 83319256, "body": "Releated issue: <a href=\"https://stackoverflow.com/questions/46267621\">stackoverflow.com/questions/46267621</a>"}], "owner": {"reputation": 3701, "user_id": 2733216, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ewLJJ.jpg?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/2733216/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515488737, "creation_date": 1515488737, "question_id": 48164599, "link": "https://stackoverflow.com/questions/48164599/compile-project-with-realm-plateform-failed", "title": "Compile project with Realm Plateform failed", "body": "<p>I have a project that run Realm well. I wanted to sync my app with Realm Object Server to do some investiguation, but I didn't succed to compile it any more.</p>\n\n<p>project level build script :</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n     dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"io.realm:realm-gradle-plugin:4.3.1\"\n     }\n}\n</code></pre>\n\n<p>here is the app level sub build.gradle about realm</p>\n\n<pre><code>apply plugin: 'realm-android'\n\nallprojects {\n    repositories {\n        maven { url 'http://oss.jfrog.org/artifactory/oss-snapshot-local' }\n    }\n}\n\nandroid{\n    packagingOptions {\n        pickFirst 'lib/x86/librealm-jni.so'\n    }\n\n}\n\ndependencies {\n    implementation \"com.github.vicpinm:krealmextensions:2.0.0-beta2\"\n  }\n\nrealm {\n    syncEnabled = true\n}\n</code></pre>\n\n<p>I use kotlin</p>\n\n<p>D8 is used so gradle.properties</p>\n\n<pre><code>android.enableD8=true\n</code></pre>\n\n<p>Here is the stacktrace</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/507.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/513.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/511.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/500.jar, /.../Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/202.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/264.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/369.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/1.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/153.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/39.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/281.jar\n\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\n    at java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\n    at java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\n    at com.google.common.collect.ImmutableList.forEach(ImmutableList.java:397)\n    at com.android.build.gradle.internal.transforms.DexMergerTransform.transform(DexMergerTransform.java:225)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\n    at sun.reflect.GeneratedMethodAccessor3945.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/507.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/513.jar,..., /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/141.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/291.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/124.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/310.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/380.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/20.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/89.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/408.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/231.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/220.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/357.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/453.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/468.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/470.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/68.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/178.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/74.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/391.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/118.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/479.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/229.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/374.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/91.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/246.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/60.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/180.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/172.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/156.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/36.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/245.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/431.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/342.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/253.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/438.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/261.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/164.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/350.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/28.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/268.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/67.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/365.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/59.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/318.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/187.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/349.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/446.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/284.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/83.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/237.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/415.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/52.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/486.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/400.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/311.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/99.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/117.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/478.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/21.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/230.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/206.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/299.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/388.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/213.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/292.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/302.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/125.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/469.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/373.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/407.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/92.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/390.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/196.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/75.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/309.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/221.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/228.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/277.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/326.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/110.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/471.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/179.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/13.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/454.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/287.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/473.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/43.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/86.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/94.jar, /Users/afaucogney/Documents/Projects/Company/Poc/app/build/intermediates/transforms/dexBuilder/devPortrait/debug/422.jar, /\n</code></pre>\n"}, {"tags": ["android", "kotlin", "singleton"], "comments": [{"owner": {"reputation": 476, "user_id": 5898862, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-Mvb7BMx8ncU/AAAAAAAAAAI/AAAAAAAAABM/90caQlUoU6k/photo.jpg?sz=128", "display_name": "JEGADEESAN S", "link": "https://stackoverflow.com/users/5898862/jegadeesan-s"}, "edited": false, "score": 0, "creation_date": 1515482969, "post_id": 48163095, "comment_id": 83305621, "body": "lateinit var _instance:MyClass"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 4, "last_activity_date": 1515483614, "last_edit_date": 1515483614, "creation_date": 1515482919, "answer_id": 48163236, "question_id": 48163095, "link": "https://stackoverflow.com/questions/48163095/kotlin-property-with-getter-can-i-not-specify-an-initial-value/48163236#48163236", "title": "Kotlin property with getter. Can I not specify an initial value?", "body": "<p>Change the <code>var</code> to <code>val</code> and it should work:</p>\n\n<pre><code>....\nval instance: MyClass\n....\n</code></pre>\n\n<p>A variable property (<code>var</code>) not only assumes a getter, but also a setter. Since you provided no setter, a default one was generated <code>set(value) { field = value }</code>. Despite is uselessness in this situation, the default setter uses <code>field</code>, thus requires its initialization.</p>\n"}, {"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 2, "creation_date": 1515490140, "post_id": 48163271, "comment_id": 83309128, "body": "I think <code>lazy</code> is a lot more appropriate than <code>lateinit</code> in this case as it will kind of automatically call the setup() method"}], "tags": [], "owner": {"reputation": 476, "user_id": 5898862, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-Mvb7BMx8ncU/AAAAAAAAAAI/AAAAAAAAABM/90caQlUoU6k/photo.jpg?sz=128", "display_name": "JEGADEESAN S", "link": "https://stackoverflow.com/users/5898862/jegadeesan-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1515483092, "creation_date": 1515483092, "answer_id": 48163271, "question_id": 48163095, "link": "https://stackoverflow.com/questions/48163095/kotlin-property-with-getter-can-i-not-specify-an-initial-value/48163271#48163271", "title": "Kotlin property with getter. Can I not specify an initial value?", "body": "<p>Use lateinit property</p>\n\n<pre><code>public class MyTest {\n        lateinit var subject: TestSubject\n\n        fun setup() {\n            subject = TestSubject()\n        }\n\n        fun test() {\n            subject.method()\n        } \n}\n</code></pre>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 48163236, "answer_count": 2, "score": 3, "last_activity_date": 1515483614, "creation_date": 1515482272, "question_id": 48163095, "link": "https://stackoverflow.com/questions/48163095/kotlin-property-with-getter-can-i-not-specify-an-initial-value", "title": "Kotlin property with getter. Can I not specify an initial value?", "body": "<p>I want to create a singleton class, but unfortunately, Android needs Context for almost anything so I need it to create an instance. So I just assumed the user called <code>init()</code>, and then return the instance. As you see below, if the <code>_instance</code> is null, an exception will be thrown, so the <code>get</code> method cannot return null.</p>\n\n<p>But Kotlin says I must initialise <code>instance</code>. The things is, that MyClass cannot be created without a context. So I would like not to specify an initial value. How can I do that?</p>\n\n<pre><code>companion object\n{\n    protected var _instance:MyClass? = null;\n    fun init(context:Context)\n    {\n        _instance = MyClass(context)\n    }\n    var instance:MyClass //&lt;---This causes a compile error.\n        get()\n        {\n            if(_instance==null) throw RuntimeException(\"Call init() first.\");\n            return _instance!!;\n        }\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8521713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_CxUFuTQLWo/AAAAAAAAAAI/AAAAAAAAALo/6TE20hqNHxY/photo.jpg?sz=128", "display_name": "hatimboubakri", "link": "https://stackoverflow.com/users/8521713/hatimboubakri"}, "edited": false, "score": 0, "creation_date": 1515489037, "post_id": 48163482, "comment_id": 83308504, "body": "Thanks for the onClosed function it will help me for sure."}, {"owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "reply_to_user": {"reputation": 25, "user_id": 8521713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_CxUFuTQLWo/AAAAAAAAAAI/AAAAAAAAALo/6TE20hqNHxY/photo.jpg?sz=128", "display_name": "hatimboubakri", "link": "https://stackoverflow.com/users/8521713/hatimboubakri"}, "edited": false, "score": 0, "creation_date": 1515490740, "post_id": 48163482, "comment_id": 83309491, "body": "if this code is helpful to you, please check as correct answer."}, {"owner": {"reputation": 25, "user_id": 8521713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_CxUFuTQLWo/AAAAAAAAAAI/AAAAAAAAALo/6TE20hqNHxY/photo.jpg?sz=128", "display_name": "hatimboubakri", "link": "https://stackoverflow.com/users/8521713/hatimboubakri"}, "edited": false, "score": 0, "creation_date": 1515491246, "post_id": 48163482, "comment_id": 83309775, "body": "Your code is missing the onAdFailedToLoad function and doesn&#39;t request another ad after the interstitial show up but you rally helped me with the onClosed function."}], "tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1515484436, "last_edit_date": 1515484436, "creation_date": 1515483987, "answer_id": 48163482, "question_id": 48162210, "link": "https://stackoverflow.com/questions/48162210/admob-interstitial-ad-on-a-button-click/48163482#48163482", "title": "Admob Interstitial ad on a Button Click", "body": "<p>Try This</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nlateinit var mInterstitialAd: InterstitialAd\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    MobileAds.initialize(this,\n            \"ca-app-pub-3940256099942544~3347511713\")\n    mInterstitialAd = InterstitialAd(this)\n    mInterstitialAd.setAdUnitId(\"ca-app-pub-3940256099942544/1033173712\")\n    mInterstitialAd.loadAd(AdRequest.Builder().build())\n    mInterstitialAd.adListener = object : AdListener() {\n        override fun onAdClicked() {\n            super.onAdClicked()\n        }\n\n        override fun onAdClosed() {\n            val intent = Intent(applicationContext, SecondActivity::class.java)\n            startActivity(intent)\n        }\n    }\n    btn.setOnClickListener {\n        if (mInterstitialAd.isLoaded()) {\n            mInterstitialAd.show()\n        } else {\n            Log.d(\"TAG\", \"The interstitial wasn't loaded yet.\")\n        }\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8521713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_CxUFuTQLWo/AAAAAAAAAAI/AAAAAAAAALo/6TE20hqNHxY/photo.jpg?sz=128", "display_name": "hatimboubakri", "link": "https://stackoverflow.com/users/8521713/hatimboubakri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 998, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515484436, "creation_date": 1515477516, "question_id": 48162210, "link": "https://stackoverflow.com/questions/48162210/admob-interstitial-ad-on-a-button-click", "title": "Admob Interstitial ad on a Button Click", "body": "<p>I'am making an app in android studio with kotlin, I tried to add interstitial ad to it when a button clicked ad shows up, and using <code>onAdClosed()</code> method the second activity shows up after the ad closed, the problem is that the app keeps crushing in main activity 2 sometimes 3.\nthis is how my code look like</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private lateinit var mInterstitialAd: InterstitialAd\r\nprivate lateinit var adRequest : AdRequest\r\n\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    setContentView(R.layout.activity_main)\r\n\r\n    MobileAds.initialize(this,\r\n            \"ca-app-pub-3940256099942544~3347511713\")\r\n\r\n    mInterstitialAd = InterstitialAd(this)\r\n    mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\r\n\r\n\r\n    requestNewInterstitial()\r\n    button2.setOnClickListener{\r\n        val intent1 = Intent(this,Main2Activity::class.java)\r\n        startActivity(intent1)\r\n        if (mInterstitialAd.isLoaded) {\r\n            mInterstitialAd.show()\r\n        } else {\r\n        }\r\n        mInterstitialAd.adListener = object : AdListener() {\r\n            override fun onAdClosed() {\r\n                requestNewInterstitial()\r\n                //go to second activity or do something\r\n            }\r\n            override fun onAdLoaded() {\r\n                requestNewInterstitial()\r\n\r\n            }\r\n            override fun onAdFailedToLoad(i: Int) {\r\n\r\n                requestNewInterstitial()\r\n\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\nprivate fun requestNewInterstitial() {\r\n    adRequest = AdRequest.Builder().build()\r\n    mInterstitialAd.loadAd(adRequest)}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want when the user clicks on button the ad should be seen and when he closes the ad he should go to second activity</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 1, "creation_date": 1515492752, "post_id": 48161324, "comment_id": 83310681, "body": "i dont think i need to pass in a context. ViewGroup already has a context, getContext(). so it should use its own context.  What you have created is a package level function with no class.  i guess i can put utils in here .  thanks for all the help."}], "answers": [{"comments": [{"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1515481403, "post_id": 48161535, "comment_id": 83305002, "body": "i tested this and it works. i wish there was a way not to use the with closure.  i know it makes it explicit but sometimes i want to add functionality for all class uses and not use with closure. if you think of anyway, let me know. i saw the other answer tried to use your solution without the with closure but it wasn&#39;t working for me."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1515481741, "post_id": 48161535, "comment_id": 83305111, "body": "if i declare it as package level then do i still need to use the with closure ?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1515491309, "post_id": 48161535, "comment_id": 83309816, "body": "No you don\u2019t. But you have to import it into other classes"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515491467, "last_edit_date": 1515491467, "creation_date": 1515472843, "answer_id": 48161535, "question_id": 48161324, "link": "https://stackoverflow.com/questions/48161324/kotlin-extension-function-how-to-make-it-global/48161535#48161535", "title": "Kotlin extension function - How to make it global?", "body": "<blockquote>\n  <p>I have declared this extension in the adapter class i am using for a recyclerview so that it can make inflation calls more easier.</p>\n</blockquote>\n\n<p>Like this, it is only usable in the context of the adapter class.</p>\n\n<p>Either declare it on package level (<strong>top-level</strong>) or consider defining an object containing the extension:</p>\n\n<pre><code>object ViewGroupExt {\n    //extensions go here\n}\n</code></pre>\n\n<p>Now on the caller side you need to bring <code>ViewGroupExt</code> into scope:</p>\n\n<pre><code>with(ViewGroupExt){\n   //call extensions\n}\n</code></pre>\n\n<p>This, compared to the package-level declaration, has the advantage that its access has to be made <em>explicit</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 4969957, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9nfpr.jpg?s=128&g=1", "display_name": "Saksham Khurana", "link": "https://stackoverflow.com/users/4969957/saksham-khurana"}, "edited": false, "score": 1, "creation_date": 1543931222, "post_id": 48164308, "comment_id": 94089360, "body": "brilliant answer \ud83d\ude0a searching for the same for a very long time"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 511, "user_id": 4969957, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9nfpr.jpg?s=128&g=1", "display_name": "Saksham Khurana", "link": "https://stackoverflow.com/users/4969957/saksham-khurana"}, "edited": false, "score": 0, "creation_date": 1544025580, "post_id": 48164308, "comment_id": 94132057, "body": "@SakshamKhurana glad it helped you!"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 4, "last_activity_date": 1515493837, "last_edit_date": 1515493837, "creation_date": 1515487615, "answer_id": 48164308, "question_id": 48161324, "link": "https://stackoverflow.com/questions/48161324/kotlin-extension-function-how-to-make-it-global/48164308#48164308", "title": "Kotlin extension function - How to make it global?", "body": "<p><strong>Problems:</strong></p>\n\n<p>If you define extension function here (1), it will be accessible globally, but this is bad style since this is the class file of (a special adapter) <code>MyArrayAdapter</code> and <code>inflate</code> is meant to be used project-wide.</p>\n\n<p>If you define the extension function here (2), it will be only accessible in the context of <code>MyArrayAdapter</code>.</p>\n\n<pre><code>// (1)\nclass MyArrayAdapter: ArrayAdapter&lt;String&gt; {\n   // (2)\n}\n</code></pre>\n\n<p><strong>What I would do:</strong></p>\n\n<p>Create a file <em>Util.kt</em> with only top-level declarations which serve as utilities. </p>\n\n<p>This is what your <em>Util.kt</em> file would look like:</p>\n\n<pre><code>package com.yourpackagepath // package in which Utils.kt resides\n\n// written with expression body, which makes it more concise\nfun ViewGroup.inflate(layoutRes: Int) = LayoutInflater.from(getContext()).inflate(layoutRes, this, false)\n</code></pre>\n\n<p>This way the extension is available project-wide and it is good style, because <em>Util.kt</em> implies global utilities meant to be used everywhere.</p>\n\n<p>You would call it like this:</p>\n\n<pre><code>val v = parent.inflate(R.layout.view_item)\n</code></pre>\n\n<p>If you don't use it in the same package, import it like this:</p>\n\n<pre><code>import com.yourpackagepath.inflate\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 651377, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/537563472e02359f184f0d4a5da446a5?s=128&d=identicon&r=PG", "display_name": "Alok Gupta", "link": "https://stackoverflow.com/users/651377/alok-gupta"}, "is_accepted": true, "score": 2, "last_activity_date": 1592735613, "creation_date": 1592735613, "answer_id": 62497341, "question_id": 48161324, "link": "https://stackoverflow.com/questions/48161324/kotlin-extension-function-how-to-make-it-global/62497341#62497341", "title": "Kotlin extension function - How to make it global?", "body": "<p>You can make extension funtion global by declaring in object class as shown below:</p>\n<pre><code>object ViewExtension{\n\n fun Spinner.validate(): Boolean  {\n    if(!this.isSelected){\n        this.setSpinnerHint(this.context.getString(R.string.please_select))\n        return false\n    }\n    return true\n }\n\n fun TextInputLayout.validate(): Boolean{\n    if(TextUtils.isEmpty(editText?.text)){\n        this.error =  this.context.getString(R.string.required)\n        return false\n    }\n    return true\n }\n}\n</code></pre>\n<p><em><strong>How to use extension funtions</strong></em></p>\n<pre><code>fun validateFields(): Boolean{\n    var allSelected = true\n\n    textInput.validate().apply {\n        if(!this)\n            allSelected = false\n    }\n    \n    spinner.validate().apply {\n        if(!this)\n            allSelected = false\n    }\n\n }\n</code></pre>\n<p>Also we need to import the validate method before we use it any class :</p>\n<pre><code>import com.example.ViewExtension.validate\n</code></pre>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1746, "favorite_count": 2, "accepted_answer_id": 62497341, "answer_count": 3, "score": 3, "last_activity_date": 1592735613, "creation_date": 1515471097, "last_edit_date": 1515492839, "question_id": 48161324, "link": "https://stackoverflow.com/questions/48161324/kotlin-extension-function-how-to-make-it-global", "title": "Kotlin extension function - How to make it global?", "body": "<p>I have created a Kotlin extension function on the Android <code>ViewGroup</code> class so that it can do layout inflation calls easier. So, here is my extension:</p>\n\n<pre><code>fun ViewGroup.inflate(layoutRes: Int): View {\n    return LayoutInflater.from(context).inflate(layoutRes, this, false)\n}\n</code></pre>\n\n<p>and then I can use it like this in an adapter class to inflate a layout:</p>\n\n<pre><code> override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val v = parent.inflate(R.layout.view_item)\n    return ViewHolder(v)\n}\n</code></pre>\n\n<p>I have declared this extension in the adapter class I am using for a RecyclerView so that it can make inflation calls easier. But I want ALL adapters or I should say all <code>ViewGroup</code> classes to see this extension. I want it permanent. </p>\n\n<p>It seems to just stick within where I declared it not globally.  Where should I declare this extension so that anytime I use a view group this method extension will be available?</p>\n"}, {"tags": ["java", "generics", "types", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515477651, "post_id": 48160784, "comment_id": 83303776, "body": "The JVM reduces the type information from <code>List&lt;String&gt;</code> to <code>List</code> and there is no way for Kotlin around this restriction. Simple answer: Generic type parameters (unless <code>reified</code>) are <b>only available at compile time</b>"}, {"owner": {"reputation": 685, "user_id": 6048574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959c13b271fe9dcc816858f51abdb5ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ukonn Ra", "link": "https://stackoverflow.com/users/6048574/ukonn-ra"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515485907, "post_id": 48160784, "comment_id": 83306958, "body": "So what&#39;s your way facing the situation like above? Except the @Yuri &#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 6048574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959c13b271fe9dcc816858f51abdb5ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ukonn Ra", "link": "https://stackoverflow.com/users/6048574/ukonn-ra"}, "edited": false, "score": 0, "creation_date": 1515485769, "post_id": 48162518, "comment_id": 83306893, "body": "Pretty cool, I LOVE it! But it is likely that you put the class info into the construction function rather than get the T info during the run-time? What if I have a <code>t: T</code> in the constructor, then the reified type will unusable?"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515486082, "post_id": 48162518, "comment_id": 83307031, "body": "If you have an instance of T you can always get the java class of the instance"}, {"owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515487453, "post_id": 48162518, "comment_id": 83307689, "body": "I&#39;m not sure if you can have a reified constructor because it relies on inlining the function, in my example you get many copies of the getInstance function.  You can pass in a T in the constructor and use that to get the class as @msrd0 points out."}], "tags": [], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "is_accepted": true, "score": 1, "last_activity_date": 1515479331, "creation_date": 1515479331, "answer_id": 48162518, "question_id": 48160784, "link": "https://stackoverflow.com/questions/48160784/kotlin-how-can-i-get-actual-generic-type-t-in-oneclasst-in-the-runtime/48162518#48162518", "title": "Kotlin: How can I get actual generic type T in OneClass&lt;T&gt; in the runtime", "body": "<p>It can work with a reified inline function</p>\n\n<pre><code>package com.ba\n\nimport kotlin.reflect.KClass\n\nabstract class IDatabase&lt;T&gt; { }\n\nopen class Database2&lt;T: Any&gt;(val tClass: KClass&lt;T&gt;) : IDatabase&lt;T&gt;() {\n  // just wrap a `object` to confort the user\n  companion object {\n    inline fun &lt;reified T: Any&gt; getInstance(): Database2&lt;T&gt; = Database2(T::class)\n  }\n}\n\nfun main(args: Array&lt;String&gt;) {\n  val databaseString = Database2.getInstance&lt;String&gt;()\n  println(databaseString.tClass)\n\n  val databaseInt = Database2.getInstance&lt;Int&gt;()\n  println(databaseInt.tClass)\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>class kotlin.String\nclass kotlin.Int\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 6048574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/959c13b271fe9dcc816858f51abdb5ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ukonn Ra", "link": "https://stackoverflow.com/users/6048574/ukonn-ra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 1, "accepted_answer_id": 48162518, "answer_count": 1, "score": 1, "last_activity_date": 1515479331, "creation_date": 1515465947, "question_id": 48160784, "link": "https://stackoverflow.com/questions/48160784/kotlin-how-can-i-get-actual-generic-type-t-in-oneclasst-in-the-runtime", "title": "Kotlin: How can I get actual generic type T in OneClass&lt;T&gt; in the runtime", "body": "<p>Friends!\nI am a green hand on Kotlin, now here is a problem.\nNow I want to get the generic type T in OneClass, here are some peripheral code.</p>\n\n\n\n<pre><code>// IDatabase.kt\npackage com.ra\nabstract class IDatabase&lt;T&gt; { }\n</code></pre>\n\n\n\n<pre><code>// Database1.kt\nimport kotlin.reflect.jvm.javaType\nopen class Database1&lt;T&gt;: IDatabase&lt;T&gt;() {\n    val tClass = this::class.supertypes[0].arguments[0].type!!.javaType as Class&lt;T&gt;\n}\n</code></pre>\n\n\n\n<pre><code>// Database2.kt\nimport kotlin.reflect.jvm.javaType\nopen class Database2&lt;T&gt;: IDatabase&lt;T&gt;() {\n    val tClass = this::class.supertypes[0].arguments[0].type!!.javaType as Class&lt;T&gt;\n    // just wrap a `object` to confort the user\n    companion object {\n        fun &lt;T&gt; getInstance(): Database2&lt;T&gt; {\n            return object: Database2&lt;T&gt;() {}\n        }\n    }\n}\n</code></pre>\n\n<p>And here is the main function follow, where I tested three ways trying to get generic type T, and the results are in the comment under the code each. </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val database1 = Database1&lt;String&gt;()\n    println(database1.tClass.canonicalName)\n    /**\n     * Exception in thread \"main\" java.lang.ClassCastException:\n     * sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class\n     * at com.ra.Database1.&lt;init&gt;(Database1.kt:6)\n     * at com.ra.MainKt.main(Main.kt:4)\n     */\n\n    val database2 = object: Database1&lt;String&gt;() {}\n    print(database2.tClass.canonicalName)\n    /**\n     * java.lang.String\n     */\n\n    val database3 = Database2.getInstance&lt;String&gt;()\n    println(database3.tClass.canonicalName)\n    /**\n     * Exception in thread \"main\" java.lang.ClassCastException:\n     * sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to java.lang.Class\n     * at com.ra.Database2.&lt;init&gt;(Database2.kt:6)\n     * at com.ra.Database2$Companion$getInstance$1.&lt;init&gt;(Database2.kt:10)\n     * at com.ra.Database2$Companion.getInstance(Database2.kt:10)\n     * at com.ra.MainKt.main(Main.kt:19)\n     */\n}\n</code></pre>\n\n<p>As you can see there is only one success way -- way 2. But it's not pretty at all. As I want to wrap it in a static function(as way 3 does), it failed again.</p>\n\n<p>So here are my questions:  </p>\n\n<ol>\n<li>Why the error <code>ClassCastException</code> happen?</li>\n<li>Is there are more pretty ways to solve the problem? If like C#'s solution that will be great.</li>\n<li>I know the reason of the problem is that JVM erasure the generic type during the compiling time, so I wonder (just in curiosity) when can this change? Or maybe Kotlin or other JVM language may record the generic type information? If has any PLEASE tell me. I've had enough to the type erasure...</li>\n</ol>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "edited": false, "score": 0, "creation_date": 1535630383, "post_id": 48159066, "comment_id": 91143112, "body": "How could you access a private val which is not in a class using reflection?"}, {"owner": {"reputation": 704, "user_id": 1050394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2b097425183e9c4366f3140f38e3fd?s=128&d=identicon&r=PG", "display_name": "multidynamic", "link": "https://stackoverflow.com/users/1050394/multidynamic"}, "edited": false, "score": 0, "creation_date": 1590625424, "post_id": 48159066, "comment_id": 109753600, "body": "For properties you may need to do <code>it.getter.call(hello)</code> instead of <code>it.get(hello)</code>"}, {"owner": {"reputation": 2473, "user_id": 6056359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ca9fU.jpg?s=128&g=1", "display_name": "Isaac Obella", "link": "https://stackoverflow.com/users/6056359/isaac-obella"}, "edited": false, "score": 0, "creation_date": 1614839803, "post_id": 48159066, "comment_id": 117508468, "body": "Would this work for a <code>private</code> Kotlin extension function ??"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 21, "last_activity_date": 1515492016, "last_edit_date": 1515492016, "creation_date": 1515451305, "answer_id": 48159066, "question_id": 48158909, "link": "https://stackoverflow.com/questions/48158909/java-android-kotlin-reflection-on-private-field-and-call-public-methods-on-it/48159066#48159066", "title": "Java/Android/Kotlin: Reflection on private Field and call public methods on it", "body": "<p>It\u2019s possible to make <code>private</code> fields <code>accessible</code> using reflection. The following examples (both written in <em>Kotlin</em>) show it... </p>\n\n<p>Using <strong>Java</strong> Reflection:</p>\n\n<pre><code>val hello = Hello()\nval f = hello::class.java.getDeclaredField(\"world\")\nf.isAccessible = true\nval w = f.get(hello) as World\nprintln(w.foo())\n</code></pre>\n\n<p>Using <strong>Kotlin</strong> Reflection:</p>\n\n<pre><code>val hello = Hello()\nval f = Hello::class.memberProperties.find { it.name == \"world\" }\nf?.let {\n    it.isAccessible = true\n    val w = it.get(hello) as World\n    println(w.foo())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 14, "last_activity_date": 1577521921, "creation_date": 1577521921, "answer_id": 59509302, "question_id": 48158909, "link": "https://stackoverflow.com/questions/48158909/java-android-kotlin-reflection-on-private-field-and-call-public-methods-on-it/59509302#59509302", "title": "Java/Android/Kotlin: Reflection on private Field and call public methods on it", "body": "<p>Two useful extension functions for <strong>Kotlin</strong>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.callPrivateFunc(name: String, vararg args: Any?): Any? =\n    T::class\n        .declaredMemberFunctions\n        .firstOrNull { it.name == name }\n        ?.apply { isAccessible = true }\n        ?.call(this, *args)\n\ninline fun &lt;reified T : Any, R&gt; T.getPrivateProperty(name: String): R? =\n    T::class\n        .memberProperties\n        .firstOrNull { it.name == name }\n        ?.apply { isAccessible = true }\n        ?.get(this) as? R\n</code></pre>\n\n<p>Using those extension functions we can access private properties and functions of a class. Example:</p>\n\n<pre><code>class SomeClass {\n\n    private val world: World = World()\n\n    private fun somePrivateFunction() {\n        println(\"somePrivateFunction\")\n    }\n\n    private fun somePrivateFunctionWithParams(text: String) {\n        println(\"somePrivateFunctionWithParams()  text=$text\")\n    }\n}\n\nclass World {\n    fun foo(): String = \"Test func\"\n}\n\n// calling private functions:\n\nval someClass = SomeClass()\nsomeClass.callPrivateFunc(\"somePrivateFunction\")\nsomeClass.callPrivateFunc(\"somePrivateFunctionWithParams\", \"test arg\")\n\n// getting private member and calling public function on it:\n\nval world = someClass.getPrivateProperty&lt;SomeClass, World&gt;(\"world\")\nprintln(world?.foo())\n</code></pre>\n\n<p>To use reflection in <strong>Kotlin</strong> add dependency:</p>\n\n<blockquote>\n  <p>implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 12045254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCPuIKMoiFbHYfqYtqNyCOFC-H0W7dOCFTZhcrHiQ=k-s128", "display_name": "Maxim Maxim", "link": "https://stackoverflow.com/users/12045254/maxim-maxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1590294400, "creation_date": 1590294400, "answer_id": 61981638, "question_id": 48158909, "link": "https://stackoverflow.com/questions/48158909/java-android-kotlin-reflection-on-private-field-and-call-public-methods-on-it/61981638#61981638", "title": "Java/Android/Kotlin: Reflection on private Field and call public methods on it", "body": "<p>Call private function with params using Java reflection:</p>\n\n<pre><code>inline fun &lt;reified T&gt; T.callPrivateFunc(name: String, vararg args: Any?): Any? {\n    val classArray: Array&lt;Class&lt;*&gt;&gt; = args.map { it!!::class.java}.toTypedArray()\n    return T::class.java.getDeclaredMethod(name, *classArray)\n        .apply { isAccessible = true }\n        .invoke(this, *args)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "is_accepted": false, "score": 0, "last_activity_date": 1596594767, "creation_date": 1596594767, "answer_id": 63257601, "question_id": 48158909, "link": "https://stackoverflow.com/questions/48158909/java-android-kotlin-reflection-on-private-field-and-call-public-methods-on-it/63257601#63257601", "title": "Java/Android/Kotlin: Reflection on private Field and call public methods on it", "body": "<p>If you like readable reusable easy to understand solution:</p>\n<p>Define somewhere:</p>\n<pre><code>fun &lt;T&gt; Any.privateField(name: String): T {\n    val field = this::class.java.getDeclaredField(name)\n    field.isAccessible = true\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    return field.get(this) as T\n}\n</code></pre>\n<p>And use elsewhere:</p>\n<pre><code>val &lt;T : TextInputLayout&gt; T.startIconView: CheckableImageButton\n    get() = privateField(&quot;startIconView&quot;)\n</code></pre>\n"}], "owner": {"reputation": 5911, "user_id": 1835650, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/46VRA.jpg?s=128&g=1", "display_name": "TeeTracker", "link": "https://stackoverflow.com/users/1835650/teetracker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8112, "favorite_count": 2, "accepted_answer_id": 48159066, "answer_count": 4, "score": 14, "last_activity_date": 1596594767, "creation_date": 1515450335, "question_id": 48158909, "link": "https://stackoverflow.com/questions/48158909/java-android-kotlin-reflection-on-private-field-and-call-public-methods-on-it", "title": "Java/Android/Kotlin: Reflection on private Field and call public methods on it", "body": "<p>Is it possiable to use reflection to access a object's private field and call a public methods on this field?</p>\n\n<p>i.e</p>\n\n<pre><code>class Hello {\n   private World word\n}\n\nclass World {\n   public BlaBlaBla foo()\n}\n\nHello h = new Hello()\n\nWorld world = reflect on the h\n\n\n// And then \n\nworld.foo()\n</code></pre>\n"}, {"tags": ["arrays", "swift", "filter", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 4, "last_activity_date": 1515447790, "last_edit_date": 1592644375, "creation_date": 1515447790, "answer_id": 48158486, "question_id": 48158414, "link": "https://stackoverflow.com/questions/48158414/filter-an-array-of-objects-by-distance-kotlin/48158486#48158486", "title": "Filter an array of objects by distance Kotlin", "body": "<p>Replace</p>\n<pre><code>if (convertedDistance &lt;= 500) {\n    return  true\n} else {\n    return false\n}\n</code></pre>\n<p>by</p>\n<pre><code>convertedDistance &lt;= 500\n</code></pre>\n<p>and</p>\n<pre><code>return filterEvents(events)\n</code></pre>\n<p>by</p>\n<pre><code>return filteredEvents\n</code></pre>\n<p>See <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax</a> for an explanation of the lambda syntax:</p>\n<blockquote>\n<p>We can explicitly return a value from the lambda using the qualified return syntax. Otherwise, the value of the last expression is implicitly returned. Therefore, the two following snippets are equivalent:</p>\n<pre><code>ints.filter {\n    val shouldFilter = it &gt; 0 \n    shouldFilter\n}\n\n\nints.filter {\n    val shouldFilter = it &gt; 0 \n    return@filter shouldFilter\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 792, "user_id": 2635537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/07cfebcf2ab4fc10e611f7c4fc2eb04e?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/2635537/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1515524201, "creation_date": 1515447451, "last_edit_date": 1515524201, "question_id": 48158414, "link": "https://stackoverflow.com/questions/48158414/filter-an-array-of-objects-by-distance-kotlin", "title": "Filter an array of objects by distance Kotlin", "body": "<p>Im new to Kotlin and trying to convert some Swift code to Kotlin.  </p>\n\n<p>Here is my swift function.  It filters out array objects that are over a specific distance from the user. </p>\n\n<pre><code>func filterByDistance(_ events:[Event]) -&gt; [Event] {\n    let filteredEvents = events.filter { event -&gt; Bool in\n        if let lat = event.venue?.location?.latitude,\n            let long = event.venue?.location?.longitude,\n            let userLocation = UserLocation.shared.location {\n            let eventLocation = CLLocation(latitude: lat, longitude: long)\n            let distance = eventLocation.distance(from: userLocation)\n            let convertedDistance = distance * 0.000621371\n            if convertedDistance &lt;= maxDistance {\n                return true\n            }\n        }\n        return false\n    }\n    return filteredEvents\n}\n</code></pre>\n\n<p>Below is what I've got so far using Kotlin</p>\n\n<pre><code>fun LatLng.toLocation() = Location(LocationManager.GPS_PROVIDER).also {\n        it.latitude = latitude\n        it.longitude = longitude\n    }\n\nfun filterByDistance(events: Array&lt;Events&gt;): Array&lt;Events&gt; {\n    val filteredEvents = events.filter&lt;Events&gt; { event -&gt;\n        val lat = event.venue?.location?.latitude\n        val long = event.venue?.location?.longitude\n        val userLocation = LatLng(latitude, longitude)\n        val eventLocation = LatLng(lat, long)\n        val distance = eventLocation.toLocation().distanceTo(userLocation.toLocation())\n        val convertedDistance = distance * 0.000621371\n        if (convertedDistance &lt;= 500) {\n            return  true\n        } else {\n            return false\n        }\n    }\n    return filterEvents(events)\n}\n</code></pre>\n\n<p>Im getting an error asking me to change my return type to a Bool,  but I need to return an array of filtered events.  Can someone help me out?  </p>\n\n<p>EDIT:  Thanks to JB Nizet I was able to get this working.  I had to change the object from Array to List.  Here is the working code.</p>\n\n<pre><code>fun fetchJson() {\n        val url = \"URL String\"\n        val request = Request.Builder().url(url).build()\n        val client = OkHttpClient()\n        client.newCall(request).enqueue(object:Callback{\n            override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                val gson = GsonBuilder().create()\n                val eventss = gson.fromJson(body, Array&lt;Events&gt;::class.java)\n                val events = eventss.toList()\n                val filteredEvents = filterByDistance(events)\n                runOnUiThread {\n                    recyclerView.adapter = MainAdaptor(filteredEvents)\n                }\n            }\n            override fun onFailure(call: Call?, e: IOException?) {\n                println(\"failed\")\n            }\n        })\n    }\n\n\n\nfun LatLng.toLocation() = Location(LocationManager.GPS_PROVIDER).also {\n        it.latitude = latitude\n        it.longitude = longitude\n    }\n\nfun filterByDistance(events: List&lt;Events&gt;): List&lt;Events&gt; {\n      val filteredEvents = events.filter { event -&gt;\n            val lat = event.venue?.location?.latitude\n            val long = event.venue?.location?.longitude\n            val userLocation = LatLng(latitude, longitude)\n            val eventLocation = LatLng(lat, long)\n            val distance = eventLocation.toLocation().distanceTo(userLocation.toLocation())\n            val convertedDistance = distance * 0.000621371\n            convertedDistance &lt;= maxDistance\n        }\n        return filteredEvents\n  }\n</code></pre>\n\n<p>And the Class if it helps anyone:</p>\n\n<pre><code>class Events (val type: String,\n              val venue: Venue,\n              val time: String,\n              val name: String,\n              val summary: String,\n              val activity: String,\n              val image_link: String,\n              val membership_link: String,\n              val description: String\n              )\n\nclass Venue(val type: String,\n            val name: String,\n            val address: String,\n            val location:Location\n)\n\nclass Location(val type: String,\n               val latitude: Double,\n               val longitude: Double)\n</code></pre>\n"}, {"tags": ["json", "kotlin", "gson", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "edited": false, "score": 0, "creation_date": 1515522220, "post_id": 48162305, "comment_id": 83328492, "body": "I&#39;m getting <a href=\"https://gist.github.com/icholy/ee3d16875b2de07bd2769ac8912ecffb\" rel=\"nofollow noreferrer\">gist.github.com/icholy/ee3d16875b2de07bd2769ac8912ecffb</a> also, I am unable to add the <code>@JsonProperty()</code> annotation to delegated properties."}], "tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 6, "last_activity_date": 1515555063, "last_edit_date": 1515555063, "creation_date": 1515478083, "answer_id": 48162305, "question_id": 48158291, "link": "https://stackoverflow.com/questions/48158291/exposed-how-to-parse-json-into-an-entity-class/48162305#48162305", "title": "Exposed: How to parse JSON into an Entity class", "body": "<p>Exposed does not allow creating DAO objects by yourself because you always need to pass an <code>EntityID</code> to the constructor. However, <a href=\"https://stackoverflow.com/a/20153790/3755692\">Jackson supports reading an existing object</a>. So, you can write something like this:</p>\n\n<pre><code>transaction {\n    User.new {\n        mapper.readerForUpdating(this).readValue(json)\n    }\n}\n</code></pre>\n\n<p>To make sure that Jackson and Exposed don't interfere, you'll have to create your <code>mapper</code> like this:</p>\n\n<pre><code>val mapper by lazy {\n    val mapper = jacksonObjectMapper()\n    mapper.setAnnotationIntrospector(object : JacksonAnnotationIntrospector() {\n        override fun hasIgnoreMarker(m : AnnotatedMember)\n            =  (m.getDeclaringClass() == IntEntity::class.java)\n            || (m.getDeclaringClass() == Entity::class.java)\n            || super.hasIgnoreMarker(m)\n    })\n    mapper\n}\n</code></pre>\n\n<p>Also note that you cannot put <code>@JsonProperty</code> annotation on delegated properties but you must use <code>@get:JsonProperty</code>.</p>\n\n<p>In order to use Jackson, add the following to your <code>build.gradle</code> file (if you are not using gradle, you'll have to adapt that code to your build system):</p>\n\n<pre><code>compile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.0\"\n</code></pre>\n\n<hr>\n\n<p>Here is a fully working example: <a href=\"https://gist.github.com/msrd0/1d8d3d76de4010cc72868d8a36f0560a\" rel=\"noreferrer\">https://gist.github.com/msrd0/1d8d3d76de4010cc72868d8a36f0560a</a></p>\n"}], "owner": {"reputation": 16322, "user_id": 215969, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4a50a54d4d142661b7b2ac1e6dce80da?s=128&d=identicon&r=PG", "display_name": "Ilia Choly", "link": "https://stackoverflow.com/users/215969/ilia-choly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1962, "favorite_count": 0, "accepted_answer_id": 48162305, "answer_count": 1, "score": 7, "last_activity_date": 1515555063, "creation_date": 1515446807, "question_id": 48158291, "link": "https://stackoverflow.com/questions/48158291/exposed-how-to-parse-json-into-an-entity-class", "title": "Exposed: How to parse JSON into an Entity class", "body": "<p>I have the following user table object &amp; entity class:</p>\n\n<pre><code>object UserTable : IntIdTable() {\n    val name = varchar(\"name\", 256)\n}\n\nclass User(id: EntityID&lt;Int&gt;): IntEntity(id) {\n    companion object : IntEntityClass&lt;User&gt;(UserTable)\n    val name by UserTable.name\n}\n</code></pre>\n\n<p>Is there a way to use Gson (or some other library) to parse JSON\ninto a <code>User</code> instance, and then insert it? From what I can tell,\nit seems like I'll have to create an intermediate <code>UserData</code> data class and then manually copy the fields over.</p>\n\n<pre><code>data class UserData {\n  var id: Int?\n  var name: String?\n}\n\nfun main() {\n  val data = Gson().fromJson&lt;UserData&gt;(\"...\", UserData::class.java)\n  val user = User.new {\n    name = data.name\n  }\n}\n</code></pre>\n\n<p>It's not that bad in this contrived example, but I'm wondering if there's a dry'er approach.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1515442027, "post_id": 48157172, "comment_id": 83293887, "body": "This looks like a bug. You could create an issue on <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a> if it doesn&#39;t exist yet."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515442749, "last_edit_date": 1515442749, "creation_date": 1515442351, "answer_id": 48157415, "question_id": 48157172, "link": "https://stackoverflow.com/questions/48157172/why-must-class-member-function-types-be-called-with-invoke/48157415#48157415", "title": "Why must class member function types be called with invoke?", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#checking-for-null-in-conditions\" rel=\"nofollow noreferrer\">smart casting</a> does not seem to be working correctly in this situation, I'd expect the same as you did. It works only with <code>invoke()</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2eAhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eAhn.png\" alt=\"enter image description here\"></a></p>\n\n<p>My <strong>workaround</strong> would be using <code>let</code> instead:</p>\n\n<pre><code>test.foo?.let { foo -&gt;\n    foo(1.0, 2.0)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1515446552, "post_id": 48158018, "comment_id": 83295896, "body": "Good find! Didn&#39;t turn up in my initial searches."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1515510412, "post_id": 48158018, "comment_id": 83321532, "body": "It some digging before I found it. Thanks for confirming it was a bug and not just some Kotlin quirk!"}], "tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": true, "score": 4, "last_activity_date": 1515445417, "creation_date": 1515445417, "answer_id": 48158018, "question_id": 48157172, "link": "https://stackoverflow.com/questions/48157172/why-must-class-member-function-types-be-called-with-invoke/48158018#48158018", "title": "Why must class member function types be called with invoke?", "body": "<p>There is an open issue for this: <a href=\"https://youtrack.jetbrains.com/issue/KT-4113\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-4113</a></p>\n\n<p>Currently, it's target version is 1.3.</p>\n"}], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 48158018, "answer_count": 2, "score": 7, "last_activity_date": 1515445417, "creation_date": 1515441111, "last_edit_date": 1515441577, "question_id": 48157172, "link": "https://stackoverflow.com/questions/48157172/why-must-class-member-function-types-be-called-with-invoke", "title": "Why must class member function types be called with invoke?", "body": "<pre><code>fun test() {\n    class Test(val foo: ((Double, Double) -&gt; Double)?)\n    val test = Test(null)\n\n    if(test.foo != null) test.foo(1.0, 2.0)\n}\n</code></pre>\n\n<p>The code above generates the error:</p>\n\n<blockquote>\n  <p>Kotlin: Reference has a nullable type '((Double, Double) ->\n  DoubleArray)?', use explicit '?.invoke()' to make a function-like call\n  instead.</p>\n</blockquote>\n\n<p>If I follow the errors advice and change the call to <code>test.foo?.invoke(1.0, 2.0)</code>, the code compiles but IntelliJ now reports</p>\n\n<blockquote>\n  <p>Unnecessary safe call on a non-null receiver of type '((Double, Double) -> DoubleArray)</p>\n</blockquote>\n\n<p>Following that advice, I end up with <code>test.foo.invoke(1.0, 2.0)</code> which I thought was interchangeable with <code>test.foo(1.0, 2.0)</code>; why is that not the case here?</p>\n\n<p>When foo is not a class member, things work as I would expect:</p>\n\n<pre><code>fun test2() {\n    val foo: ((Double, Double) -&gt; Double)? = null\n\n    if(foo != null) foo(1.0, 2.0)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1515437465, "post_id": 48156353, "comment_id": 83291669, "body": "Have you tried using an interface for callback?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5597621, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e947ab5be23729827cff236b42684707?s=128&d=identicon&r=PG&f=1", "display_name": "A. N", "link": "https://stackoverflow.com/users/5597621/a-n"}, "edited": false, "score": 0, "creation_date": 1526349298, "post_id": 48156421, "comment_id": 87698648, "body": "how do you access the &quot;data&quot; in yourAdapter = YourAdapter { } ?"}, {"owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "reply_to_user": {"reputation": 133, "user_id": 5597621, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e947ab5be23729827cff236b42684707?s=128&d=identicon&r=PG&f=1", "display_name": "A. N", "link": "https://stackoverflow.com/users/5597621/a-n"}, "edited": false, "score": 0, "creation_date": 1544796600, "post_id": 48156421, "comment_id": 94413955, "body": "@kyk yourAdapter = YourAdapter(myDataArray) { doSomethingWith(it) }"}, {"owner": {"reputation": 396, "user_id": 2897841, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f945085014ef162381d0e3f8afa93392?s=128&d=identicon&r=PG&f=1", "display_name": "Sini", "link": "https://stackoverflow.com/users/2897841/sini"}, "edited": false, "score": 0, "creation_date": 1571841475, "post_id": 48156421, "comment_id": 103375474, "body": "@JohnO&#39;Reilly is it possible to have multiple lambdas, so multiple listener, as adapter parameter?"}], "tags": [], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "is_accepted": true, "score": 6, "last_activity_date": 1515437613, "creation_date": 1515437613, "answer_id": 48156421, "question_id": 48156353, "link": "https://stackoverflow.com/questions/48156353/kotlin-how-to-send-data-from-recyclerview-adapter-to-a-fragment/48156421#48156421", "title": "Kotlin: How to send data from RecyclerView adapter to a Fragment", "body": "<p>Have your adapter take a lambda as a parameter...for example</p>\n\n<pre><code>class YourAdapter(val listener: (YourDataType) -&gt; Unit)\n</code></pre>\n\n<p>In your view holder you'd then invoke that listener when user clicks on row.  </p>\n\n<pre><code>holder.itemView.setOnClickListener { listener(data) }\n</code></pre>\n\n<p>In your fragment you'd have something like:</p>\n\n<pre><code>    yourAdapter = YourAdapter {\n        // invoked when user clicks on row\n    }\n</code></pre>\n"}], "owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3825, "favorite_count": 1, "accepted_answer_id": 48156421, "answer_count": 1, "score": 3, "last_activity_date": 1515437613, "creation_date": 1515437267, "question_id": 48156353, "link": "https://stackoverflow.com/questions/48156353/kotlin-how-to-send-data-from-recyclerview-adapter-to-a-fragment", "title": "Kotlin: How to send data from RecyclerView adapter to a Fragment", "body": "<p>I'm new to Android and new to Kotlin (coming from iOS Swift development). I have an activity that has a fragment, inside the fragment is a RecyclerView. When the user taps on a row in the RecyclerView I want to show a dialog and take some action.</p>\n\n<p>In the adapter I have the CustomViewHolder and onClickListener. From there I can capture the row the user tapped on easily. But how do I pass this information back to the fragment so that I can take action / display a dialog?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["unit-testing", "junit", "kotlin", "android-studio-3.0", "spek"], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 558668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ca8d07c9b5a19e6ee2eb51843a6f7b07?s=128&d=identicon&r=PG&f=1", "display_name": "ElyashivLavi", "link": "https://stackoverflow.com/users/558668/elyashivlavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1515484184, "creation_date": 1515484184, "answer_id": 48163533, "question_id": 48155984, "link": "https://stackoverflow.com/questions/48155984/android-studio-spek-integration/48163533#48163533", "title": "Android Studio + Spek integration", "body": "<p>Apparently it doesn't work well... I ended up using <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">kotlintest</a> which is much easier to integrate</p>\n"}, {"comments": [{"owner": {"reputation": 787, "user_id": 112263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d54317dd0b363140953cedc9716f2eac?s=128&d=identicon&r=PG", "display_name": "Benjamin Cassidy", "link": "https://stackoverflow.com/users/112263/benjamin-cassidy"}, "edited": false, "score": 1, "creation_date": 1519833403, "post_id": 48427771, "comment_id": 85071926, "body": "Do you have any idea how to write these two lines in the Kotlin DSL?<code>testImplementation junit5.unitTests()</code> <code>testCompileOnly junit5.unitTestsRuntime()</code>"}], "tags": [], "owner": {"reputation": 1519, "user_id": 4249825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ffbd1a01848286bb7b2eafc61ef2aa27?s=128&d=identicon&r=PG&f=1", "display_name": "Mugurel", "link": "https://stackoverflow.com/users/4249825/mugurel"}, "is_accepted": true, "score": 7, "last_activity_date": 1516813188, "last_edit_date": 1516813188, "creation_date": 1516812864, "answer_id": 48427771, "question_id": 48155984, "link": "https://stackoverflow.com/questions/48155984/android-studio-spek-integration/48427771#48427771", "title": "Android Studio + Spek integration", "body": "<p>(For future references)<br>\nTo use Kotlin and Spek + JUnit5 in Android Studio you need the following:</p>\n\n<p>In <em>project's</em> <strong>build.gradle</strong> you need to have:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n    ext.JUnit5_version = '1.0.30'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"de.mannodermaus.gradle.plugins:android-junit5:$JUnit5_version\"\n    }\n}\n</code></pre>\n\n<p>In <em>module's</em> <strong>build.gradle</strong> you need to have:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: \"de.mannodermaus.android-junit5\"\n\nandroid {\n    ...\n    sourceSets {\n        test.java.srcDirs += 'src/test/kotlin'\n        androidTest.java.srcDirs += 'src/androidTest/kotlin'\n    }\n}\n\nproject.ext {\n    spekVersion = \"1.1.5\"\n}\n\ndependencies {\n    ...\n    //\n    // TESTS\n    testImplementation(\"org.jetbrains.spek:spek-api:$spekVersion\") {\n        exclude group: \"org.jetbrains.kotlin\"\n    }\n    testImplementation(\"org.jetbrains.spek:spek-junit-platform-engine:$spekVersion\") {\n        exclude group: \"org.junit.platform\"\n        exclude group: \"org.jetbrains.kotlin\"\n    }\n    testImplementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    testImplementation junit5.unitTests()\n    // see https://github.com/mannodermaus/android-junit5#android-studio-workarounds\n    testCompileOnly junit5.unitTestsRuntime()\n}\n</code></pre>\n\n<p><strong>Simple Spek test</strong></p>\n\n<pre><code>class ExampleSpekTest : Spek({\n    val x = 2\n    val y = 3\n\n    given(\"x = $x and y = $y\") {\n        val sum = x + y\n\n        it(\"should be that x + y = 5\") {\n           Assert.assertEquals(5, sum)\n        }\n\n        it(\"should be that x - y = -1\") {\n            val subtract = x - y\n            Assert.assertEquals(-1, subtract)\n        }\n    }\n})\n</code></pre>\n\n<p>See<br>\n- official documentation <a href=\"http://spekframework.org/\" rel=\"noreferrer\">http://spekframework.org/</a><br>\n- official plugin for running specs from the IDE <a href=\"https://github.com/raniejade/spek-idea-plugin\" rel=\"noreferrer\">https://github.com/raniejade/spek-idea-plugin</a><br>\n- Tests using Spek Framework - BDD Style vs JUnit Style <a href=\"https://www.youtube.com/watch?v=asDZ_7ZUiX4\" rel=\"noreferrer\">https://www.youtube.com/watch?v=asDZ_7ZUiX4</a><br>\n- Simple Android configuration of Spek and JUnit5 <a href=\"https://gist.github.com/Mugurell/088daf42a4d60240ba6993681e0537a5\" rel=\"noreferrer\">https://gist.github.com/Mugurell/088daf42a4d60240ba6993681e0537a5</a>  </p>\n"}], "owner": {"reputation": 1331, "user_id": 558668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ca8d07c9b5a19e6ee2eb51843a6f7b07?s=128&d=identicon&r=PG&f=1", "display_name": "ElyashivLavi", "link": "https://stackoverflow.com/users/558668/elyashivlavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 0, "accepted_answer_id": 48427771, "answer_count": 2, "score": 5, "last_activity_date": 1516829400, "creation_date": 1515435885, "last_edit_date": 1516829400, "question_id": 48155984, "link": "https://stackoverflow.com/questions/48155984/android-studio-spek-integration", "title": "Android Studio + Spek integration", "body": "<p>I'm trying to add Spek testing framework to my Android Studio project. Following the instructions <a href=\"http://spekframework.org/docs/latest/\" rel=\"noreferrer\">Here</a>, I ended up adding the following to my module <code>build.gradle</code>:</p>\n\n<pre><code>testCompile 'org.jetbrains.spek:spek-api:1.1.5'\ntestCompile 'junit:junit:4.12'\ntestCompile \"org.junit.platform:junit-platform-runner:1.0.0\"\ntestRuntimeOnly 'org.jetbrains.spek:spek-junit-platform-engine:1.1.5'\n</code></pre>\n\n<p>Then I annotated my test with <code>@RunWith(JUnitPlatform::class)</code></p>\n\n<p>However, when I try to run the test, I get:\n<code>org.junit.platform.commons.util.PreconditionViolationException: Cannot create Launcher without at least one TestEngine; consider adding an engine implementation JAR to the classpath</code></p>\n\n<p>Any idea what am I missing?</p>\n"}, {"tags": ["android", "kotlin", "dronekit-android"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515437279, "post_id": 48155499, "comment_id": 83291584, "body": "<code>Signal signal = drone.getAttribute(AttributeType.SIGNAL)</code> - this is Java and not Kotlin and surely won&#39;t compile in a Kotlin file"}, {"owner": {"reputation": 201, "user_id": 5981137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d0a8499b4b7cc82a9532b893b17a60?s=128&d=identicon&r=PG&f=1", "display_name": "TEK292", "link": "https://stackoverflow.com/users/5981137/tek292"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515438064, "post_id": 48155499, "comment_id": 83291956, "body": "@msrd0 updated."}], "owner": {"reputation": 201, "user_id": 5981137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d0a8499b4b7cc82a9532b893b17a60?s=128&d=identicon&r=PG&f=1", "display_name": "TEK292", "link": "https://stackoverflow.com/users/5981137/tek292"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515438017, "creation_date": 1515433783, "last_edit_date": 1515438017, "question_id": 48155499, "link": "https://stackoverflow.com/questions/48155499/drone-getattributeattributetype-signal-returns-invalid-signal", "title": "Drone.getAttribute(AttributeType.Signal) returns invalid Signal", "body": "<p>I am attempting to implement the Dronekit-Android library on my own app with a 3DR Solo. I have a drone telemetry screen that already displays the drone's altitude, battery percentage, speed, etc. All of that data is successfully retrieved and displayed. However, signal information is not being returned by the following snippet:</p>\n\n<pre><code>val signal = drone.getAttribute(AttributeType.SIGNAL)\nval signalStrength = signal.signalStrength\n\nif (!signal.isValid) {\n    controller_strength_image_view.setImageLevel(0)\n} else if (signalStrength &gt;= exceptionalWifi) {\n    controller_strength_image_view.setImageLevel(5)\n} else if (signalStrength &gt;= veryGoodWifi) {\n    controller_strength_image_view.setImageLevel(4)\n} else if (signalStrength &gt;= goodWifi) {\n    controller_strength_image_view.setImageLevel(3)\n} else if (signalStrength &gt;= marginalWifi) {\n    controller_strength_image_view.setImageLevel(2)\n} else if (signalStrength &gt;= poorWifi) {\n    controller_strength_image_view.setImageLevel(1)\n} else {\n    controller_strength_image_view.setImageLevel(0)\n}\n</code></pre>\n\n<p><code>signal.isValid</code> always returns false, regardless of the drone's state (Idle, flying, hovering, etc). Using 3DR's app shows that the Signal information is being updated. </p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["java", "unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 21522, "user_id": 2202415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hHKw.jpg?s=128&g=1", "display_name": "Maciej Kowalski", "link": "https://stackoverflow.com/users/2202415/maciej-kowalski"}, "edited": false, "score": 0, "creation_date": 1515430381, "post_id": 48154580, "comment_id": 83288310, "body": "does it work if you explicitly create someMock = mock(SomeClassToBeMocked.class);?"}, {"owner": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 0, "creation_date": 1515431394, "post_id": 48154580, "comment_id": 83288826, "body": "Did you check all the possibilities listed in clause 1 of the error message?  That is, could the method be final, private, or declared in a non-public parent class?"}, {"owner": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "reply_to_user": {"reputation": 68467, "user_id": 1081110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fp4Pm.jpg?s=128&g=1", "display_name": "Dawood ibn Kareem", "link": "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"}, "edited": false, "score": 0, "creation_date": 1515433808, "post_id": 48154580, "comment_id": 83289976, "body": "@DawoodibnKareem yes, all possibilities have been checked. The class looks exactly like the one I posted here: same signature for the class and method."}, {"owner": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "reply_to_user": {"reputation": 21522, "user_id": 2202415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hHKw.jpg?s=128&g=1", "display_name": "Maciej Kowalski", "link": "https://stackoverflow.com/users/2202415/maciej-kowalski"}, "edited": false, "score": 0, "creation_date": 1515433816, "post_id": 48154580, "comment_id": 83289980, "body": "@MaciejKowalski it doesn&#39;t: I get the exact same error"}], "answers": [{"comments": [{"owner": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "edited": false, "score": 0, "creation_date": 1515632031, "post_id": 48158086, "comment_id": 83377937, "body": "If you look at the code example in my question you can see that the class I&#39;m trying to mock is already open. Any other ideas?"}, {"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "reply_to_user": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "edited": false, "score": 0, "creation_date": 1515658791, "post_id": 48158086, "comment_id": 83385856, "body": "You must mark both the <code>SomeClassToBeMocked</code> class and the <code>map</code> function with the <code>open</code> modifier. My answer is saying about opening the function, please check it carefully one more time."}, {"owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "reply_to_user": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "edited": false, "score": 0, "creation_date": 1516007652, "post_id": 48158086, "comment_id": 83502424, "body": "@andersonvom were you able to fix the issue using my answer?"}], "tags": [], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "is_accepted": true, "score": 1, "last_activity_date": 1515445758, "creation_date": 1515445758, "answer_id": 48158086, "question_id": 48154580, "link": "https://stackoverflow.com/questions/48154580/why-is-a-mockitomock-instance-not-being-identified-as-a-mock/48158086#48158086", "title": "Why is a $MockitoMock$ instance not being identified as a mock?", "body": "<p>In order to mock the return value of a function with Mockito you need to mark it with the <code>open</code> keyword:</p>\n\n<pre><code>open class SomeClassToBeMocked @Inject constructor() {\n    open fun map(foo: Foo): Bar {...}\n}\n</code></pre>\n\n<p>The problem is that Mockito cannot mock final (which cannot be overriden) functions. Unlike Java, Kotlin requires explicit annotations for overridable members.</p>\n"}], "owner": {"reputation": 11240, "user_id": 732896, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/435a35abe1426a8ab00c31ae1fa8aaa3?s=128&d=identicon&r=PG", "display_name": "andersonvom", "link": "https://stackoverflow.com/users/732896/andersonvom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 48158086, "answer_count": 1, "score": 0, "last_activity_date": 1515445758, "creation_date": 1515429994, "last_edit_date": 1515444951, "question_id": 48154580, "link": "https://stackoverflow.com/questions/48154580/why-is-a-mockitomock-instance-not-being-identified-as-a-mock", "title": "Why is a $MockitoMock$ instance not being identified as a mock?", "body": "<p>I'm using Kotlin, Mockito, and MockitoJRunner to run the following simplified test:</p>\n\n<pre><code>open class SomeClassToBeMocked @Inject constructor() {\n    fun map(foo: Foo): Bar {...}\n}\n\n@Mock\nprivate lateinit var someMock: SomeClassToBeMocked\n@InjectMocks\nprivate lateinit var subject: Subject\n\n@Test\nfun shouldAssertSomething() {\n    val foo = Foo() // from Foo.kt\n    val bar = Bar() // from Bar.java from *another module*\n    whenever(someMock.map(foo)).thenReturn(bar) // breakpoint[1]\n\n    subject.myMethod(foo)\n\n    verify(someMock).map(foo)\n}\n</code></pre>\n\n<p>This pattern works in other parts of the code, but not in this particular test, where I get the following error message:</p>\n\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n\nAlso, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\n   Those methods *cannot* be stubbed/verified.\n   Mocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object.\n</code></pre>\n\n<p>When I debug the code at <code>breakpoint[1]</code>, I can see that someMock is an instance of the class <code>SomeClassToBeMocked$MockitoMock$</code>. Furthermore, if I try to call <code>someMock.map(foo)</code> immediately before <code>breakpoint[1]</code>, it does indeed run the original method, instead of returning <code>null</code> like all mocks.</p>\n\n<p>Any ideas of what could be happening here?</p>\n\n<p><strong>UPDATE-1</strong>: I've checked all possibilities for option 1 in the error message. I have also tried <code>mock(SomeClassToBeMocked::class.java)</code> and get the same error message. This consistently happens with some of the simplest classes, with a single public method that only converts object A into object B.</p>\n\n<p><strong>UPDATE-2</strong>: If it makes any difference, I just noticed that in the cases where this happens, <code>Bar()</code> lives in a different module than the tests. I've updated the code to reflect this.</p>\n\n<p><strong>UPDATE-3</strong>: If I create an interface called <code>SomeClassToBeMocked</code> and rename the original class to <code>SomeClassToBeMockedImpl</code>, everything works like a charm. However, I'd still like to figure out why this happens and how to avoid having to create an interface for this.</p>\n"}, {"tags": ["android", "firebase", "android-recyclerview", "kotlin", "android-image"], "comments": [{"owner": {"reputation": 688, "user_id": 5777510, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YNZVK.jpg?s=128&g=1", "display_name": "Haileapp", "link": "https://stackoverflow.com/users/5777510/haileapp"}, "edited": false, "score": 0, "creation_date": 1515442158, "post_id": 48153981, "comment_id": 83293942, "body": "You didn&#39;t put the Toast message inside the P0!!.exists(())..rather you put Outside of it.I think,since you didn&#39;t change the data it executes the else clause..(that is the error toast message)"}, {"owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "reply_to_user": {"reputation": 688, "user_id": 5777510, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YNZVK.jpg?s=128&g=1", "display_name": "Haileapp", "link": "https://stackoverflow.com/users/5777510/haileapp"}, "edited": false, "score": 0, "creation_date": 1515485512, "post_id": 48153981, "comment_id": 83306761, "body": "and data does not populate in recyclerview.."}], "owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515437334, "creation_date": 1515427719, "last_edit_date": 1515437334, "question_id": 48153981, "link": "https://stackoverflow.com/questions/48153981/retriving-data-from-firebase", "title": "retriving data from firebase", "body": "<p>i have data where there is image post and description \nwhen i retrieve the data it shows error toast, \ncan't find whats wrong here is my code </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    val ref = FirebaseDatabase.getInstance().getReference(\"post\")\n    var storageRef = FirebaseStorage.getInstance().reference\n    private val TAG = \"\"\n     override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n            val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.DrawerId)\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL,false)\n         val users = ArrayList&lt;RecyClass&gt;()\n         val userlist = ArrayList&lt;RecyClass&gt;()\n\n         ref.addChildEventListener(object :ChildEventListener{\n                override fun onCancelled(p0: DatabaseError?) {\n                    Log.e(TAG ,\"Error is here\")\n                }\n                override fun onChildMoved(p0: DataSnapshot?, p1: String?) {}\n                override fun onChildChanged(p0: DataSnapshot?, p1: String?) {}\n                override fun onChildAdded(p0: DataSnapshot?, p1: String?) {\n                    if(p0!!.exists()){\n                        for (h in p0.children) {\n                        getpost(h.key)\n\n\n                        }\n\n                    }\n                }\n                override fun onChildRemoved(p0: DataSnapshot?) {}\n            })\n\n\n\n    }\n\n    private fun getpost(key: String?) { \n        val postdata = FirebaseDatabase.getInstance().getReference(\"post\").child(key)\n        postdata.addListenerForSingleValueEvent(object:ValueEventListener{\n            override fun onCancelled(p0: DatabaseError?) {\n            }\n            override fun onDataChange(p0: DataSnapshot?) {\n                if(p0!!.exists()){\n          val userlist = ArrayList&lt;RecyClass&gt;()\n                 var descText = \"\"\n                 var Image = \"\"\n                 if (p0.child(\"desc\").getValue()!=null){\n descText = p0.child(key).child(\"desc\").getValue().toString()\n               }\n                if (p0.child(\"Image\").getValue()!=null){\n                     Image = p0.child(key).child(\"Image\").getValue().toString()\n                }\n              val kkk = RecyClass(descText,Image)\n                val adptr =RecyclerAdapter(userlist,applicationContext )\n                  userlist.add(kkk)\n\n                 adptr.notifyDataSetChanged()\n             }else{\n                    Toast.makeText(this@MainActivity,\"error\",Toast.LENGTH_LONG).show()\n                }\n            }\n\n        }\n        })\n    }\n</code></pre>\n\n<p>i already have multiple data inside firebase node\nwhen i put toast inside if(p0!!.exists()) it shows but when toast is moved inside if (p0.child(\"desc\").getValue()!=null) it dhoesnt work..</p>\n\n<p>i am getting blank page in recycler view </p>\n"}, {"tags": ["android", "kotlin", "android-instant-run"], "comments": [{"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515430259, "post_id": 48152781, "comment_id": 83288240, "body": "Did you try to remove the <code>?</code> from the <code>Bundle</code> argument?"}, {"owner": {"reputation": 500, "user_id": 6314821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/096b456af621f00fd133668119aaf7a4?s=128&d=identicon&r=PG", "display_name": "alla", "link": "https://stackoverflow.com/users/6314821/alla"}, "reply_to_user": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515430453, "post_id": 48152781, "comment_id": 83288348, "body": "@4gus71n it&#39;s not allowed, it says then <code>&#39;onCreate&#39; overrides nothing</code>"}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515430615, "post_id": 48152781, "comment_id": 83288442, "body": "Okay, I&#39;m looking through a project of my own and I have exactly the same code. Same plugin version. Could you post your gradle information so I can check if I have something different? Post your AS version as well."}, {"owner": {"reputation": 500, "user_id": 6314821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/096b456af621f00fd133668119aaf7a4?s=128&d=identicon&r=PG", "display_name": "alla", "link": "https://stackoverflow.com/users/6314821/alla"}, "reply_to_user": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515430800, "post_id": 48152781, "comment_id": 83288542, "body": "@4gus71n I posted my build.gradle file. AS version is also in my question."}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515431014, "post_id": 48152781, "comment_id": 83288653, "body": "Only difference that I&#39;m seeing is that instead of having <code>implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotl&zwnj;&#8203;in_version&quot;</code> and I&#39;m not using multidex. Check if changing those things helps, but if not post your root gradle and I can check if there&#39;s some difference there."}, {"owner": {"reputation": 500, "user_id": 6314821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/096b456af621f00fd133668119aaf7a4?s=128&d=identicon&r=PG", "display_name": "alla", "link": "https://stackoverflow.com/users/6314821/alla"}, "reply_to_user": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515431543, "post_id": 48152781, "comment_id": 83288901, "body": "@4gus71n it didn&#39;t help. I also increased kotlin version from 1.1.51 to 1.2.10 and it also didn&#39;t help. I also posted my root gradle file. And without <code>kotlin-stdlib-jre7</code> I cannot configure Korlin"}, {"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 0, "creation_date": 1515431759, "post_id": 48152781, "comment_id": 83288994, "body": "Only tip that I can give you is to try to delete that <code>task clean(type: Delete) {</code> block from your code. Other than that is exactly the same thing that I have."}, {"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1516049989, "post_id": 48152781, "comment_id": 83524733, "body": "I have similar problem with my custom layout. It looks like instant run thinks it can call a default constructor to recreate it. No idea how it&#39;s supposed to work without the context"}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 1095610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920d9d381959b61019fc406df74b6f4d?s=128&d=identicon&r=PG", "display_name": "marcolav", "link": "https://stackoverflow.com/users/1095610/marcolav"}, "edited": false, "score": 0, "creation_date": 1520763302, "post_id": 48440948, "comment_id": 85441464, "body": "I&#39;m my case, the same error was thrown by a companion object which needed a constructor that I was not able to implement. The solution is the one suggested by Gavriel: delete the companion object and use a standard constructor. If you need I can add an answer with the code"}], "tags": [], "owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "is_accepted": false, "score": 5, "last_activity_date": 1516877045, "creation_date": 1516877045, "answer_id": 48440948, "question_id": 48152781, "link": "https://stackoverflow.com/questions/48152781/illegalaccesserror-when-using-instant-run-with-kotlin/48440948#48440948", "title": "IllegalAccessError when using Instant Run with Kotlin", "body": "<p>I had a similar problem when I used @JvmOverloads on my constructors. However it looks like when instead I define the constructors myself Instant Run works:</p>\n\n<p>Instead of:</p>\n\n<pre><code>class StaticRefreshAnimationView @JvmOverloads constructor(\n        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : LottieRefreshAnimationView(context, attrs, defStyleAttr) {\n</code></pre>\n\n<p>I use now:</p>\n\n<pre><code>class StaticRefreshAnimationView(context: Context, attrs: AttributeSet?, defStyleAttr: Int) :\n        LottieRefreshAnimationView(context, attrs, defStyleAttr) {\n    constructor(context: Context, attrs: AttributeSet?) : this(context, attrs, 0)\n    constructor(context: Context) : this(context, null)\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 6314821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/096b456af621f00fd133668119aaf7a4?s=128&d=identicon&r=PG", "display_name": "alla", "link": "https://stackoverflow.com/users/6314821/alla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "answer_count": 1, "score": 10, "last_activity_date": 1516877045, "creation_date": 1515423415, "last_edit_date": 1515437413, "question_id": 48152781, "link": "https://stackoverflow.com/questions/48152781/illegalaccesserror-when-using-instant-run-with-kotlin", "title": "IllegalAccessError when using Instant Run with Kotlin", "body": "<p>I got this exception after I run the project using Instant Run:</p>\n\n<blockquote>\n  <p>java.lang.IllegalAccessError: Illegal class access:\n  'com.alla.kotlinexample.MainActivity$override' attempting to access\n  'kotlin.jvm.internal.DefaultConstructorMarker' (declaration of\n  'com.alla.kotlinexample.MainActivity$override' appears in\n  /data/data/com.alla.kotlinexample/files/instant-run/dex-temp/reload0x0000.dex)<br>\n  <strong>at</strong> com.alla.kotlinexample.MainActivity$override.onCreate(MainActivity.kt:21)<br>\n  <strong>at</strong> com.alla.kotlinexample.MainActivity$override.access$dispatch(MainActivity.kt)</p>\n</blockquote>\n\n<p>Here is the code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {  \n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        val persons: List&lt;Person&gt; = listOf&lt;Person&gt;(Person(\"Person1\"), Person(\"Person2\", 27))\n\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, persons[1].name, Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show()\n        }\n\n        tv_person_name.text = persons.maxBy { it.age ?: 34 }.toString()\n    }\n\n    data class Person(val name: String, val age: Int? = null)\n\n\n}\n</code></pre>\n\n<p>And the error points on this line <code>val persons: List&lt;Person&gt; = listOf&lt;Person&gt;(Person(\"Person1\"), Person(\"Person2\", 27))</code></p>\n\n<p>Android Studio version is 3.0.1\nGradle: <code>classpath 'com.android.tools.build:gradle:3.0.1'</code>\nGradle version is 4.1</p>\n\n<p>build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.alla.kotlinexample\"\n        minSdkVersion 21\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n\n<p>root gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.10'\n    //ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["syntax", "kotlin", "character"], "answers": [{"comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1515436569, "post_id": 48152785, "comment_id": 83291233, "body": "+1 - may be worth noting that it is not solely for escaping keywords, and there are still restrictions on identifiers surrounded with `, it is used to escape anything that would otherwise be an invalid identifier, such as anything starting with a digit or anything containing spaces - of course, these would not be accessible from Java code without causing a syntax error."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1515427856, "last_edit_date": 1592644375, "creation_date": 1515423422, "answer_id": 48152785, "question_id": 48152722, "link": "https://stackoverflow.com/questions/48152722/kotlin-what-is-the-character-for/48152785#48152785", "title": "Kotlin - What is the ` character for", "body": "<p>It\u2019s the <strong>syntax for escaping keywords</strong> like <code>in</code>. When a Java library uses one of these as an identifier (function/property name etc), it must be surrounded with <em>backticks</em> if called from Kotlin. Otherwise, the compiler tries to <em>interpret it as a keyword</em> which will make the code fail to compile.</p>\n<blockquote>\n<p><strong><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"nofollow noreferrer\">Escaping for Java identifiers that are keywords in Kotlin</a></strong></p>\n<p>Some of the Kotlin keywords are valid identifiers in Java: <code>in</code>, <code>object</code>, <code>is</code>, etc. If a Java library uses a Kotlin keyword for a method, you can still call the method escaping it with the backtick (`) character:</p>\n<pre><code>foo.`is`(bar)\n</code></pre>\n</blockquote>\n<p>Here\u2019s a list of keywords: <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/keyword-reference.html</a></p>\n"}], "owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "closed_date": 1515491574, "accepted_answer_id": 48152785, "answer_count": 1, "score": 0, "last_activity_date": 1526286994, "creation_date": 1515423197, "last_edit_date": 1526286994, "question_id": 48152722, "link": "https://stackoverflow.com/questions/48152722/kotlin-what-is-the-character-for", "closed_reason": "Duplicate", "title": "Kotlin - What is the ` character for", "body": "<p>I have been using/learning Kotlin for a while now and I have only once seen <strong>`</strong> being used.</p>\n\n<pre><code>System. `in`\n</code></pre>\n\n<p>I have tried finding something about this, but I was not able to.</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 2986, "user_id": 1930814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/k3Cu7.jpg?s=128&g=1", "display_name": "Dalton C&#233;zane", "link": "https://stackoverflow.com/users/1930814/dalton-c%c3%a9zane"}, "edited": false, "score": 0, "creation_date": 1515413770, "post_id": 48150034, "comment_id": 83278436, "body": "Have you tried <code>is</code>? From the documentation: <code>if (yourObj is SignalPayload {     print(yourObj.length) }</code> (<a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html</a>)"}, {"owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "reply_to_user": {"reputation": 2986, "user_id": 1930814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/k3Cu7.jpg?s=128&g=1", "display_name": "Dalton C&#233;zane", "link": "https://stackoverflow.com/users/1930814/dalton-c%c3%a9zane"}, "edited": false, "score": 0, "creation_date": 1515413917, "post_id": 48150034, "comment_id": 83278508, "body": "&quot;is&quot; from instance of class? yes?"}, {"owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "reply_to_user": {"reputation": 2986, "user_id": 1930814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/k3Cu7.jpg?s=128&g=1", "display_name": "Dalton C&#233;zane", "link": "https://stackoverflow.com/users/1930814/dalton-c%c3%a9zane"}, "edited": false, "score": 0, "creation_date": 1515414044, "post_id": 48150034, "comment_id": 83278586, "body": "I need put in &quot;fun trueTypeInstance &quot; name of class. And this function must returned instance of needed class"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515414596, "post_id": 48150034, "comment_id": 83278907, "body": "What is your use case?"}, {"owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "edited": false, "score": 0, "creation_date": 1515414610, "post_id": 48150034, "comment_id": 83278917, "body": "fun trueTypeInstance(payloadInt::class) --&gt; returned payloadInt()"}, {"owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "edited": false, "score": 0, "creation_date": 1515414672, "post_id": 48150034, "comment_id": 83278952, "body": "fun trueTypeInstance(payloadFloat::class) --&gt; returned payloadFloat(). <b>But fun trueTypeInstance(BadData::class) --&gt;returned null, because BadData not implemented   IConvertible</b>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515414813, "last_edit_date": 1515414813, "creation_date": 1515414513, "answer_id": 48150310, "question_id": 48150034, "link": "https://stackoverflow.com/questions/48150034/check-that-the-class-implements-the-interface-kotlin/48150310#48150310", "title": "Check that the class implements the interface. Kotlin", "body": "<p>You could make use of proper generics in order to confine the method to types that are both <code>SignalPayload</code> <strong>and</strong> <code>IConverible</code>:</p>\n\n<pre><code>fun &lt;T&gt; trueTypeInstance(): SignalPayload? \n   where T : IConvertible, T : SignalPayload {\n     TODO()\n} \n</code></pre>\n\n<p>Called like this:</p>\n\n<pre><code>SignalPayload.trueTypeInstance&lt;payloadString&gt;() //OK\nSignalPayload.trueTypeInstance&lt;Empty&gt;() //Fails\nSignalPayload.trueTypeInstance&lt;String&gt;() //Fails\n</code></pre>\n\n<p>Not sure about your use case though...</p>\n"}], "owner": {"reputation": 121, "user_id": 8545106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab1c0a7a598c2c81f8a0e98159800f1?s=128&d=identicon&r=PG&f=1", "display_name": "levWi", "link": "https://stackoverflow.com/users/8545106/levwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515417520, "creation_date": 1515413440, "last_edit_date": 1515417520, "question_id": 48150034, "link": "https://stackoverflow.com/questions/48150034/check-that-the-class-implements-the-interface-kotlin", "title": "Check that the class implements the interface. Kotlin", "body": "<p>I want check that the child class of <code>SignalPayload</code>  implements the interface <code>IConvertible</code>. How can I do that?</p>\n\n<pre><code>sealed class SignalPayload {\n    companion object {\n        fun trueTypeInstance(type: KClass&lt;SignalPayload&gt;) : SignalPayload? {\n          //  if (*** __ KClass&lt;SignalPayload&gt; implemented IConvertible ___  **) \n                ......\n\n        }\n    }\n}\nobject Empty : SignalPayload()\ndata class BadData(val message: String = \"BAD\") : SignalPayload() {\n    override fun toString(): String {\n        return message\n    }\n}\ndata class payloadString(private var payload: String = \"\") : SignalPayload(), IConvertible\ndata class payloadInt(private var payload: Int = 0) : SignalPayload(), IConvertible\ndata class payloadFloat(private var payload: Float = 0F) : SignalPayload(), IConvertible\ndata class payloadBool(private var payload: Boolean = false) : SignalPayload(), IConvertible \n\ninterface IConvertible {\n    val asBool: Boolean\n    val asInt: Int\n    val asFloat: Float\n    val asString: String\n    fun setFromPayload(data: IConvertible)\n}\n</code></pre>\n\n<p>How can I do that?</p>\n\n<p><strong>UPD</strong><br>\nThat I had think use it.<br>\nClass <code>SignalChannel</code> know what field <code>mPayload</code> needed (through property <code>val type: ???</code>). At first <code>mPayload</code> equal Empty  </p>\n\n<pre><code>interface IArriving {\n    fun onNewPayload(data: SignalPayload, sender: IArriving?)\n}\ninterface IConvertible {\n    val asBool: Boolean\n    val asInt: Int\n    val asFloat: Float\n    val asString: String\n    fun setFromPayload(data: IConvertible)\n}\n\nclass SignalChannel(val idx: Int, val type: ???, val name: String = \"\") : IArriving {\nvar mPayload: SignalPayload = Empty\n\n// when new data arriving - need converting for `type` and refresh field mPayload \noverride fun onNewPayload(data: SignalPayload, sender: IArriving?) {\n       if ( mPayload is Empty ) { \n           mPayload = SignalPayload.trueTypeInstance(type) // that's my problem\n       }\n       mPayload.setFromPayload(data)\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "memory-leaks", "kotlin"], "comments": [{"owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "edited": false, "score": 0, "creation_date": 1515414331, "post_id": 48149902, "comment_id": 83278748, "body": "lambda expressions are just simplified syntactical way of declaring Anonymous classes, so definitely that won&#39;t be the reason and also LeakCanary uses RefWatcher and ReferenceQueue to calculate leaks using byte code, as kotlin and java has same byte code . I&#39;m not sure why it happened . Curious to find out"}, {"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 0, "creation_date": 1515414480, "post_id": 48149902, "comment_id": 83278833, "body": "Are you sure that the leaks aren&#39;t temperamental, and so irrelevant whether it is Kotlin or Java? I&#39;m not convinced, but I&#39;ve given an answer presuming that it is due to Kotlin anyway"}, {"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 0, "creation_date": 1515414536, "post_id": 48149902, "comment_id": 83278869, "body": "If you give a pastebin of some of the Byte code, or give a link to your repository, then I&#39;ll look into it further :)"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1515423125, "post_id": 48149902, "comment_id": 83283956, "body": "I&#39;d be curious if <code>valueAnimator.addUpdateListener(animation -&gt; {})</code> leaks as well in Java."}], "answers": [{"tags": [], "owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "is_accepted": false, "score": 2, "last_activity_date": 1515414361, "creation_date": 1515414361, "answer_id": 48150277, "question_id": 48149902, "link": "https://stackoverflow.com/questions/48149902/memory-leak-in-java-but-not-in-kotlin-of-same-code-base-why/48150277#48150277", "title": "Memory leak in Java, but not in Kotlin (of same code base)... why?", "body": "<h2>1. Check what's actually going on</h2>\n\n<p>I think you'll find the \u201cShow Kotlin Bytecode\u201d view very helpfull in seeing exactly what is going on. See <a href=\"https://stackoverflow.com/a/35538539/979052\">here for the InteliJ shortcut</a>. \n<em>(Would have done this for you, but hard without greater context of your application)</em></p>\n\n<h2>2. JVM similarities, but Kotlin explicit differences</h2>\n\n<p>But since Kotlin runs on the same JVM as Java (and so uses the same garbage collector as Java) you should expect a similarly safe runtime environment. That being said, when it comes to Lamdas and explicit references, when they're converted. And it can vary in different cases:</p>\n\n<p>Like in Java, what happens in Kotlin varies in different cases.</p>\n\n<blockquote>\n  <ul>\n  <li>If the lambda is passed to an inline function and isn\u2019t marked    noinline, then the whole thing boils away and no additional classes<br>\n  or objects are created.</li>\n  <li>If the lambda doesn\u2019t capture, then it\u2019ll be emitted as a singleton class whose instance is reused again and again (one    class+one\n  object allocation).</li>\n  <li>If the lambda captures then a new object is created each time the lambda is used.</li>\n  </ul>\n</blockquote>\n\n<p>Source: <a href=\"http://openjdk.java.net/jeps/8158765\" rel=\"nofollow noreferrer\">http://openjdk.java.net/jeps/8158765</a></p>\n\n<h2>3. Summary, and further reading</h2>\n\n<p>This answer should explain what your seeing, couldn't have explained it better myself: <a href=\"https://stackoverflow.com/a/42272484/979052\">https://stackoverflow.com/a/42272484/979052</a>\nDifferent question, I know, but the theory behind it is the same - hope that helps</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515415668, "creation_date": 1515415668, "answer_id": 48150624, "question_id": 48149902, "link": "https://stackoverflow.com/questions/48149902/memory-leak-in-java-but-not-in-kotlin-of-same-code-base-why/48150624#48150624", "title": "Memory leak in Java, but not in Kotlin (of same code base)... why?", "body": "<p>As you already suggested, the argument to <code>addUpdateListener</code> is actually different in both versions.</p>\n\n<p>Let's see an example. I've created a class <code>JavaAbstract</code> with a single abstract method <code>foo</code>:</p>\n\n<pre><code>public interface JavaInterface {\n     void foo();\n}\n</code></pre>\n\n<p>This is used in <code>JavaInterfaceClient</code>:</p>\n\n<pre><code>public class JavaInterfaceClient {\n    public void useInterfaceInstance(JavaAbstract inst){\n        inst.foo();\n    }\n}\n</code></pre>\n\n<p>Let's see how we can call <code>useInterfaceInstance</code> from <em>Kotlin</em>:</p>\n\n<p><strong>First</strong>, with a simple lambda as in your example (<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a>):</p>\n\n<pre><code>JavaInterfaceClient().useInterfaceInstance {}\n</code></pre>\n\n<p>The resulting bytecode represented in Java:</p>\n\n<pre><code>(new JavaInterfaceClient()).useInterfaceInstance((JavaInterface)null.INSTANCE);\n</code></pre>\n\n<p>As you can see, very simple, no object instantiations.</p>\n\n<p><strong>Second</strong>, with an anonymous instance:</p>\n\n<pre><code>JavaInterfaceClient().useInterfaceInstance(object : JavaInterface {\n    override fun foo() {\n\n    }\n})\n</code></pre>\n\n<p>The resulting bytecode represented in Java:</p>\n\n<pre><code>(new JavaInterfaceClient()).useInterfaceInstance((JavaInterface)(new JavaInterface() {\n     public void foo() {\n     }\n }));\n</code></pre>\n\n<p>Here we can observe new object instantiations, which defers from the SAM conversion / lambda approach. You should try the second example in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": false, "score": 6, "last_activity_date": 1515433197, "last_edit_date": 1515433197, "creation_date": 1515416986, "answer_id": 48150987, "question_id": 48149902, "link": "https://stackoverflow.com/questions/48149902/memory-leak-in-java-but-not-in-kotlin-of-same-code-base-why/48150987#48150987", "title": "Memory leak in Java, but not in Kotlin (of same code base)... why?", "body": "<p>The difference between these 2 versions is pretty simple.</p>\n\n<p>Java version of the <a href=\"https://developer.android.com/reference/android/animation/ValueAnimator.AnimatorUpdateListener.html\" rel=\"noreferrer\"><code>AnimatorUpdateListener</code></a> contains implicit reference to the outer class (MainActivity in your case). So, if the animation keeps running when the activity is not needed anymore, the listener keeps holding the reference to the activity, preventing it from being garbage-collected.</p>\n\n<p>Kotlin tries to be more clever here. It sees that the lambda which you pass to the <a href=\"https://developer.android.com/reference/android/animation/ValueAnimator.html\" rel=\"noreferrer\"><code>ValueAnimator</code></a> does not reference any objects from the outer scope (i.e. <code>MainActivity</code>), so it creates a <strong>single instance</strong> of <a href=\"https://developer.android.com/reference/android/animation/ValueAnimator.AnimatorUpdateListener.html\" rel=\"noreferrer\"><code>AnimatorUpdateListener</code></a> which will be reused whenever you [re]start the animation. And this instance does not have any implicit references to the outer scope.</p>\n\n<p><strong>Side note:</strong> if you add the reference to some object from outer scope to your lambda, Kotlin will generate the code which creates a new instance of the update listener every time the animation is [re]started, and these instances will be holding the implicit references to <code>MainActivity</code> (required in order to access the object(s) which you decide to use in your lambda).</p>\n\n<p><strong>Another side note:</strong> I strongly recommend to read the book called \"Kotlin in Action\" as it contains lots of useful information on Kotlin in general, and my explanation of how Kotlin compiler make a choice about whether to put the implicit reference to outer scope into the object created after SAM conversion or not comes from this book.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "closed_date": 1515584527, "answer_count": 3, "score": 6, "last_activity_date": 1515433197, "creation_date": 1515412924, "question_id": 48149902, "link": "https://stackoverflow.com/questions/48149902/memory-leak-in-java-but-not-in-kotlin-of-same-code-base-why", "closed_reason": "Duplicate", "title": "Memory leak in Java, but not in Kotlin (of same code base)... why?", "body": "<p>I have a piece of simple code below in an activity...</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.0f, 1.0f);\n        valueAnimator.setRepeatCount(ValueAnimator.INFINITE);\n        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n            @Override\n            public void onAnimationUpdate(ValueAnimator animation) {\n\n            }\n        });\n        valueAnimator.start();\n    }\n}\n</code></pre>\n\n<p>If the activity got terminated, there will be memory leak (as proven by Leak Canary).</p>\n\n<p>However, when I covert this code to identical Kotlin code (using shift-alt-command-k), it is as below</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val valueAnimator = ValueAnimator.ofFloat(0.0f, 1.0f)\n        valueAnimator.repeatCount = ValueAnimator.INFINITE\n        valueAnimator.addUpdateListener { }\n        valueAnimator.start()\n    }\n}\n</code></pre>\n\n<p>Memory leak no longer happen. Why? Is it because the anonymous class object got converted to Lambda? </p>\n"}, {"tags": ["java", "android", "kotlin", "jobs", "android-jobscheduler"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1515412421, "post_id": 48149705, "comment_id": 83277707, "body": "Does the delay only apply for the first run?"}, {"owner": {"reputation": 1377, "user_id": 5349947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xe0hT.png?s=128&g=1", "display_name": "notTdar", "link": "https://stackoverflow.com/users/5349947/nottdar"}, "edited": false, "score": 0, "creation_date": 1515412490, "post_id": 48149705, "comment_id": 83277742, "body": "You can trigger alarm to fire Job ,as per your specific"}, {"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "edited": false, "score": 0, "creation_date": 1515415126, "post_id": 48149705, "comment_id": 83279184, "body": "Yes, the delay only applies to the first run"}, {"owner": {"reputation": 89, "user_id": 3398469, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003256781068/picture?type=large", "display_name": "Max Alekseev", "link": "https://stackoverflow.com/users/3398469/max-alekseev"}, "edited": false, "score": 0, "creation_date": 1515420115, "post_id": 48149705, "comment_id": 83282063, "body": "Well, actually the answer is at your hands already. Initial delay is unnecessary because of two totally acceptable workarounds: 1. You may specify &quot;Effective date&quot; as one of your job parameters and just check it on every job wakeup (less elegant, but simpler to implement). 2. You may postpone actual job creation and schedule the job which will create it at &quot;Effective date&quot; (more elegant, more code to write)."}], "answers": [{"comments": [{"owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "edited": false, "score": 1, "creation_date": 1515666518, "post_id": 48182960, "comment_id": 83390626, "body": "Yeah, for the moment it seems like the only solution. I only hope they include some easier way to delay a job. Thanks!"}, {"owner": {"reputation": 1256, "user_id": 3692788, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KbpJg.png?s=128&g=1", "display_name": "JCarlosR", "link": "https://stackoverflow.com/users/3692788/jcarlosr"}, "edited": false, "score": 0, "creation_date": 1614720339, "post_id": 48182960, "comment_id": 117470576, "body": "Do you have any example?"}], "tags": [], "owner": {"reputation": 582, "user_id": 7190647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3ea1079d1434465cf3b4fa01a0f446?s=128&d=identicon&r=PG&f=1", "display_name": "Ron____", "link": "https://stackoverflow.com/users/7190647/ron"}, "is_accepted": true, "score": 1, "last_activity_date": 1515572106, "creation_date": 1515572106, "answer_id": 48182960, "question_id": 48149705, "link": "https://stackoverflow.com/questions/48149705/how-to-specify-a-initial-delay-to-an-android-periodic-job-using-jobscheduler/48182960#48182960", "title": "How to specify a initial delay to an Android periodic job using JobScheduler?", "body": "<p>You can't apply an initial delay for the periodic job. Currently should may use a one shot job for the initial delay and then schedule a new periodic job with the periodic interval.</p>\n"}, {"comments": [{"owner": {"reputation": 1351, "user_id": 1930821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcb326c4967f2026e590576df9109779?s=128&d=identicon&r=PG", "display_name": "SoloPilot", "link": "https://stackoverflow.com/users/1930821/solopilot"}, "edited": false, "score": 0, "creation_date": 1555699954, "post_id": 53693474, "comment_id": 98207280, "body": "can&#39;t combine setPeriodic() and setMinimumLatency()"}], "tags": [], "owner": {"reputation": 5461, "user_id": 3093939, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YemLF.jpg?s=128&g=1", "display_name": "Gal Rom", "link": "https://stackoverflow.com/users/3093939/gal-rom"}, "is_accepted": false, "score": -1, "last_activity_date": 1544366800, "creation_date": 1544366800, "answer_id": 53693474, "question_id": 48149705, "link": "https://stackoverflow.com/questions/48149705/how-to-specify-a-initial-delay-to-an-android-periodic-job-using-jobscheduler/53693474#53693474", "title": "How to specify a initial delay to an Android periodic job using JobScheduler?", "body": "<p>Since API 24, it is possible using setPeriodic(long interval, long flex)\nit is gurenteed that your job will run any time between the flex and the supplied interval:</p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/job/JobInfo.Builder.html#setPeriodic(long,%20long)\" rel=\"nofollow noreferrer\">see documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 5099603, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oYGYDrKkZ8o/AAAAAAAAAAI/AAAAAAAAAu4/DZdFMFoNLlc/photo.jpg?sz=128", "display_name": "hiten pannu", "link": "https://stackoverflow.com/users/5099603/hiten-pannu"}, "is_accepted": false, "score": 0, "last_activity_date": 1565002327, "creation_date": 1565002327, "answer_id": 57357098, "question_id": 48149705, "link": "https://stackoverflow.com/questions/48149705/how-to-specify-a-initial-delay-to-an-android-periodic-job-using-jobscheduler/57357098#57357098", "title": "How to specify a initial delay to an Android periodic job using JobScheduler?", "body": "<p>You can try looking into the following implementation</p>\n\n<p><a href=\"https://github.com/evernote/android-job/blob/master/library/src/main/java/com/evernote/android/job/DailyJob.java\" rel=\"nofollow noreferrer\">https://github.com/evernote/android-job/blob/master/library/src/main/java/com/evernote/android/job/DailyJob.java</a></p>\n"}, {"tags": [], "owner": {"reputation": 2091, "user_id": 444966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e270781f2872fee40bab965c1d64dfe?s=128&d=identicon&r=PG", "display_name": "iutinvg", "link": "https://stackoverflow.com/users/444966/iutinvg"}, "is_accepted": false, "score": 0, "last_activity_date": 1570442266, "creation_date": 1570442266, "answer_id": 58267248, "question_id": 48149705, "link": "https://stackoverflow.com/questions/48149705/how-to-specify-a-initial-delay-to-an-android-periodic-job-using-jobscheduler/58267248#58267248", "title": "How to specify a initial delay to an Android periodic job using JobScheduler?", "body": "<p>Indeed, there is no way out of the box. I use <code>SharedPreferences</code> to detect the first job run. Example:</p>\n\n<pre><code>public class MyReminder extends JobService {\n    private static final String TAG = \"MyReminder\";\n    private static final String IS_FIRST_RUN_KEY = \"MyReminder.isFirstRun\";\n\n    @Override\n    public boolean onStartJob(JobParameters jobParameters) {\n        if (isFirstRun()) {\n            // just skip it, will mark as first run and \n            // will do the real thing next time\n            markFirstRunComplete();\n        } else {\n            // do the real thing here, show a notification, whatever...\n        }\n        return false;\n    }\n\n    @Override\n    public boolean onStopJob(JobParameters jobParameters) {\n        return false;\n    }\n\n    private boolean isFirstRun() {\n        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n        return sharedPreferences.getBoolean(IS_FIRST_RUN_KEY, true);\n    }\n\n    private void markFirstRunComplete() {\n        Log.d(TAG, \"mark first run complete\");\n        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putBoolean(IS_FIRST_RUN_KEY, false);\n        editor.apply();\n    }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 0, "accepted_answer_id": 48182960, "answer_count": 4, "score": 7, "last_activity_date": 1570442266, "creation_date": 1515412150, "last_edit_date": 1565006452, "question_id": 48149705, "link": "https://stackoverflow.com/questions/48149705/how-to-specify-a-initial-delay-to-an-android-periodic-job-using-jobscheduler", "title": "How to specify a initial delay to an Android periodic job using JobScheduler?", "body": "<p>I want to create a running job with a specific time and a given periodicity. For example, I want to schedule a job the second day of each month and it should run every month.</p>\n\n<p>Looking at the <a href=\"https://developer.android.com/reference/android/app/job/JobInfo.Builder.html#setOverrideDeadline(long)\" rel=\"nofollow noreferrer\">JobInfo.Builder documentation</a> I haven't found a way to set an initial delay.</p>\n\n<p>Any idea on how could I achieve this?</p>\n\n<p>Here is the code that runs with the correct periodicity but not with the initial delay I want:</p>\n\n<pre><code>fun build(application: Application, periodicity: Days, startDay: Days) {\n    val serviceComponent = ComponentName(application, GenerateDebtJobService::class.java)\n    val builder = JobInfo.Builder(1, serviceComponent)\n        .setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)\n        .setPeriodic(TimeUnit.DAYS.toMillis(periodicity.days.toLong()))\n\n    (application.getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler).schedule(builder.build())\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "vert.x"], "comments": [{"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 1, "creation_date": 1515433130, "post_id": 48149368, "comment_id": 83289620, "body": "I have exactly the same problem with kotlin + vertx + gradle. Very strange behavior but it seems to be a vertx bug in kotlin."}, {"owner": {"reputation": 6331, "user_id": 2133695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba99aebb0acd409215e7cdbfb561b7f?s=128&d=identicon&r=PG", "display_name": "tsegismont", "link": "https://stackoverflow.com/users/2133695/tsegismont"}, "edited": false, "score": 0, "creation_date": 1515488340, "post_id": 48149368, "comment_id": 83308133, "body": "Can you open a bug report in the vertx-examples repo? Don&#39;t forget to mention it happens on Windows"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 8678179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiId1.png?s=128&g=1", "display_name": "madwyatt", "link": "https://stackoverflow.com/users/8678179/madwyatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1559274131, "creation_date": 1559274131, "answer_id": 56388385, "question_id": 48149368, "link": "https://stackoverflow.com/questions/48149368/cant-make-the-vert-x-kotlin-gradle-hot-redeploy-works/56388385#56388385", "title": "Can&#39;t make the vert.x + kotlin + gradle hot redeploy works", "body": "<p>I have the same problem but with the help of this <a href=\"https://github.com/vert-x3/vertx-guide-for-java-devs/blob/3.6/step-10/redeploy.bat\" rel=\"nofollow noreferrer\">file</a> to be exact. I end with this batch file that help me to redeploy (tested on windows).</p>\n\n<p>My project was named: <strong><em>testws</em></strong> and my main verticle was named: <strong><em>MainVerticle</em></strong> be sure to replace with yours owns.</p>\n\n<p><strong>redeploy.bat</strong> </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>@echo off\n\nSET LAUNCHER=\"io.vertx.core.Launcher\"\nSET VERTICLE=\"juan.testws.MainVerticle\"\nSET CMD=\"gradlew classes\"\n\ncall gradlew copyDependencies\ncall gradlew classes\n\njava -cp  \"build\\dependencies\\*;build\\classes\\kotlin\\main\" %LAUNCHER% run^\n %VERTICLE% --redeploy=\"src\\main\\**\\*\" --on-redeploy=%CMD% --launcher-class=%LAUNCHER%\n\n</code></pre>\n\n<p>and a gradle task added to</p>\n\n<p><strong>build.gradle</strong> </p>\n\n<pre><code>...  // rest of the file\ntask copyDependencies(type: Copy) {\n  from configurations.default\n  into 'build\\\\dependencies'\n}\n</code></pre>\n\n<p>Almost the same version works on java, only replace \"kotlin\" by \"java\" on the file.</p>\n"}], "owner": {"reputation": 563, "user_id": 7067950, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10154053961703157/picture?type=large", "display_name": "Rick Lee", "link": "https://stackoverflow.com/users/7067950/rick-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1559274131, "creation_date": 1515410818, "question_id": 48149368, "link": "https://stackoverflow.com/questions/48149368/cant-make-the-vert-x-kotlin-gradle-hot-redeploy-works", "title": "Can&#39;t make the vert.x + kotlin + gradle hot redeploy works", "body": "<p>I just start looking into vert.x and downloaded an example restful project from <a href=\"https://github.com/vert-x3/vertx-examples/tree/master/kotlin-examples/web\" rel=\"nofollow noreferrer\">https://github.com/vert-x3/vertx-examples/tree/master/kotlin-examples/web</a>. According to the readme, it should be able to auto-reploy when there's any file change, but it doesn't seem to work. No matter how many times I changed the main class file, it still cannot be reflected. What I've done was:</p>\n\n<p><strong>Run the \"gradlew run\"</strong></p>\n\n<pre><code>C:\\vertx-examples-master\\kotlin-examples\\web&gt;gradlew run\n:compileKotlin UP-TO-DATE\n:compileJava UP-TO-DATE\n:copyMainKotlinClasses UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:run\nJan 08, 2018 7:16:04 PM io.vertx.core.impl.launcher.commands.Watcher\nINFO: Watched paths: [C:\\vertx-examples-master\\kotlin-examples\\web\\.\\out]\nJan 08, 2018 7:16:04 PM io.vertx.core.impl.launcher.commands.Watcher\nINFO: Starting the vert.x application in redeploy mode\nStarting vert.x application...\n58d1ec56-6d4c-4209-9fba-71cd6f54101c-redeploy\nJan 08, 2018 7:16:05 PM \nio.vertx.core.impl.launcher.commands.VertxIsolatedDeployer\nINFO: Succeeded in deploying verticle\n</code></pre>\n\n<p><strong>Change source file and the launcher was able to detect the changes and said it re-deployed the Verticle</strong></p>\n\n<pre><code>Jan 08, 2018 7:16:46 PM io.vertx.core.impl.launcher.commands.Watcher\nINFO: Redeploying!\nStopping vert.x application '58d1ec56-6d4c-4209-9fba-71cd6f54101c-redeploy'\nApplication '58d1ec56-6d4c-4209-9fba-71cd6f54101c-redeploy' terminated with \nstatus 0\n'.' is not recognized as an internal or external command,\noperable program or batch file.\nJan 08, 2018 7:16:47 PM io.vertx.core.impl.launcher.commands.Watcher\nINFO: User command terminated with status 1\nStarting vert.x application...\n58d1ec56-6d4c-4209-9fba-71cd6f54101c-redeploy\nJan 08, 2018 7:16:47 PM io.vertx.core.impl.launcher.commands.Watcher\nINFO: Redeployment done in 966 ms.\nJan 08, 2018 7:16:48 PM \nio.vertx.core.impl.launcher.commands.VertxIsolatedDeployer\nINFO: Succeeded in deploying verticle\n</code></pre>\n\n<p><strong>But indeed it's still running the old code</strong></p>\n\n<p>My question is anything I need to do in order to make it work properly. I spent a day and browse for solution but still can't get through it.</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["kotlin", "grpc"], "answers": [{"tags": [], "owner": {"reputation": 4000, "user_id": 4268663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b48e9b34057e12c82cd42ac43cda60b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Filatov", "link": "https://stackoverflow.com/users/4268663/alex-filatov"}, "is_accepted": true, "score": 1, "last_activity_date": 1515429784, "creation_date": 1515429784, "answer_id": 48154521, "question_id": 48149022, "link": "https://stackoverflow.com/questions/48149022/how-to-destruct-a-grpc-message-in-kotlin/48154521#48154521", "title": "How to destruct a grpc message in kotlin?", "body": "<p><code>val (title) = request.question</code> <a href=\"http://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">compiles to</a> <code>val title = request.question.component1()</code>. Protobuf classes don't have <code>componentX()</code> methods, so you need to <a href=\"http://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">add them</a>:</p>\n\n<p><code>operator fun QuestionModelProtos.QuestionProfile.component1() = this.title</code></p>\n"}], "owner": {"reputation": 151, "user_id": 6854122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYnq4.jpg?s=128&g=1", "display_name": "A.Chao", "link": "https://stackoverflow.com/users/6854122/a-chao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 48154521, "answer_count": 1, "score": 0, "last_activity_date": 1515474426, "creation_date": 1515409572, "last_edit_date": 1515474426, "question_id": 48149022, "link": "https://stackoverflow.com/questions/48149022/how-to-destruct-a-grpc-message-in-kotlin", "title": "How to destruct a grpc message in kotlin?", "body": "<p>I want to destruct a grpc message like this.</p>\n\n<pre><code>message AskOrUpdateQuestionRequest {\n   int64 user_id = 1;\n   int64 product_id = 2;\n   core.model.QuestionProfile question = 3;\n}\n\nmessage QuestionProfile {\n   int64 id = 1;\n   Question.Status status = 2;\n   Question.Type type = 3;\n   string title = 4; \n}\n</code></pre>\n\n<p>I try to destruct this object? (grpc message) in kotlin </p>\n\n<pre><code>   val  (title) = request.question\n</code></pre>\n\n<p>However, it failed with an error.</p>\n\n<blockquote>\n  <p>Destructuring declaration initializer of type QuestionModelProtos.QuestionProfile! must have a 'component1()' function</p>\n</blockquote>\n\n<p>How can I make that work</p>\n\n<p>Hopefully that makes sense.</p>\n\n<p><br></p>\n\n<p><b>SOLVED</b> : @Alex Filatov 's answer helped me solve the problem.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1515407531, "post_id": 48148362, "comment_id": 83275059, "body": "yes , no problem but you have to care about anonymous function.you may stuck there."}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1515407538, "post_id": 48148362, "comment_id": 83275062, "body": "I&#39;m assuming that you use some form of revision control software (e.g. git), which means you can revert any changes you make. So with that in mind, why not just try migrating your project and see what happens?"}, {"owner": {"reputation": 33, "user_id": 6038631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b06228b417a58582ee5feae9820706?s=128&d=identicon&r=PG&f=1", "display_name": "farman", "link": "https://stackoverflow.com/users/6038631/farman"}, "edited": false, "score": 0, "creation_date": 1515408358, "post_id": 48148362, "comment_id": 83275502, "body": "Thanks for pointing out this. Apart from this, using some third parties libraries also. And as per now only touching code fully using android api."}], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 1, "last_activity_date": 1515408814, "creation_date": 1515408814, "answer_id": 48148808, "question_id": 48148362, "link": "https://stackoverflow.com/questions/48148362/is-it-safe-to-migrate-whole-android-project-in-kotlin-at-once/48148808#48148808", "title": "is it safe to migrate whole android project in kotlin at once?", "body": "<p>I don't recommend to switch full code automatically to Kotlin.\nThe tool for converting to Kotlin is great but you have to review all code generated by the tool. Sometimes code generated are not really readable.</p>\n\n<p>Java and Kotlin can be use together. You can convert files one by one. You have time to check and clean the converted code.</p>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 5898862, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-Mvb7BMx8ncU/AAAAAAAAAAI/AAAAAAAAABM/90caQlUoU6k/photo.jpg?sz=128", "display_name": "JEGADEESAN S", "link": "https://stackoverflow.com/users/5898862/jegadeesan-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1515414189, "creation_date": 1515414189, "answer_id": 48150234, "question_id": 48148362, "link": "https://stackoverflow.com/questions/48148362/is-it-safe-to-migrate-whole-android-project-in-kotlin-at-once/48150234#48150234", "title": "is it safe to migrate whole android project in kotlin at once?", "body": "<p>Before you convert your project from Java to Kotlin keep things in your mind.</p>\n\n<ol>\n<li>Converting from Java to Kotlin will may cause your git track. <a href=\"https://stackoverflow.com/a/44320452/5898862\">Refer</a> to avoid this problem</li>\n<li>Android studio provide easy way to convert Java code into Kotlin in a automate way [Press Ctrl+Alt+Shift+K]. But it may arise some conflicts like \"<em>Some code in the rest of your project may require corrections after performing this conversion. Do you want to find such code and correct it too?</em>\". For example in your java file contains static variables. Because kotlin didn't support static. In this case you have to manually correct it. It took some time.</li>\n<li>While developing you may maintain many branches. If you converted one file from Java to Kotlin will affect other branch.</li>\n</ol>\n"}], "owner": {"reputation": 33, "user_id": 6038631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b06228b417a58582ee5feae9820706?s=128&d=identicon&r=PG&f=1", "display_name": "farman", "link": "https://stackoverflow.com/users/6038631/farman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "accepted_answer_id": 48150234, "answer_count": 2, "score": 3, "last_activity_date": 1515417118, "creation_date": 1515407238, "question_id": 48148362, "link": "https://stackoverflow.com/questions/48148362/is-it-safe-to-migrate-whole-android-project-in-kotlin-at-once", "title": "is it safe to migrate whole android project in kotlin at once?", "body": "<p>We have one mobile project fully developed in native android using android sdk.\nwe want to migrate the code base to kotlin completely. So wanted to know what are \nmain things to keep in mind while migrating to Kotlin. </p>\n"}, {"tags": ["kotlin", "android-databinding", "kotlin-delegate"], "owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1515403505, "creation_date": 1515403505, "question_id": 48147349, "link": "https://stackoverflow.com/questions/48147349/android-data-binding-does-not-work-with-kotlins-class-delegation", "title": "Android Data Binding does not work with Kotlin&#39;s class delegation", "body": "<p>My ViewModel:</p>\n\n<pre><code>class MyVM(\n        app: Application,\n        private val observableImpl: BaseObservable,\n        /* other colaborators*/\n) : AndroidViewModel(app), Observable by observableImpl {\n\n    var currencyCode: String by Delegates.observable(\"\") { _, _, newValue -&gt;\n\n        /* business logic methods */\n\n        notifyPropertyChanged(BR.currencyCode)\n    }\n        @Bindable get\n\n}\n</code></pre>\n\n<p>My layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"vm\"\n            type=\"path.to.MyVM\" /&gt;\n\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{vm.currencyCode}\"\n            app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>When <code>currencyCode</code> gets updated in the data model, <code>TextView</code> does not change the text automatically.</p>\n\n<p>I have tried to get rid of inheriting from <code>AndroidViewModel</code> and defined <code>MyVM</code> as follows:</p>\n\n<pre><code>class MyVM(/* other colaborators*/) : BaseObservable() {\n}\n</code></pre>\n\n<p>And it worked. The problem is that I cannot throw away the inheritance from <code>AndroidViewModel</code> in my production code.</p>\n\n<p>There is a workaround though:</p>\n\n<pre><code>val currencyCode = ObservableField&lt;String&gt;()\n</code></pre>\n\n<p>But I am not comfortable with using ObservableFields in my ViewModel. Do you have any suggestions?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "reactive-programming", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "edited": false, "score": 0, "creation_date": 1515406592, "post_id": 48146808, "comment_id": 83274566, "body": "Thanks! This also worked, but I decided to use @akanorkd&#39;s solution instead."}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 2, "last_activity_date": 1515401331, "creation_date": 1515401331, "answer_id": 48146808, "question_id": 48146529, "link": "https://stackoverflow.com/questions/48146529/single-defer-not-executed/48146808#48146808", "title": "Single.defer() not executed", "body": "<p>Here's what you are essentialy doing:</p>\n\n<pre>\n<code>\n    documentRepository.getDocuments(...)\n                      .map { ...}\n</code>\n</pre>\n\n<p>Nobody is subscribing to this stream. Stream won't be executed unless there exists a subscriber to it.\nHave you had added one line to this code, you'll see <code>defer()</code> being executed:</p>\n\n<pre>\n<code>\n    documentRepository.getDocuments(...)\n                      .map { ...}\n                      .subscribe()\n</code>\n</pre>\n"}, {"comments": [{"owner": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "edited": false, "score": 0, "creation_date": 1515404493, "post_id": 48146955, "comment_id": 83273294, "body": "I tried using that, but 1) I&#39;m getting a type mismatch error (Required: (Report) ObservableSource... Found: (Report) Single&lt;Report&gt;) and 2) the <code>.toList()</code> call is not available for the concatMap()"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "edited": false, "score": 0, "creation_date": 1515406137, "post_id": 48146955, "comment_id": 83274281, "body": "Updated, try now."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1515406130, "last_edit_date": 1515406130, "creation_date": 1515401940, "answer_id": 48146955, "question_id": 48146529, "link": "https://stackoverflow.com/questions/48146529/single-defer-not-executed/48146955#48146955", "title": "Single.defer() not executed", "body": "<p>As @azizbekian said, there was nothing that subscribed to the <code>getDocuments</code>. However, calling <code>subscribe()</code> inside that <code>flatMap</code> is discouraged as it breaks the flow. Instead, you should create an inner flow and return that in the <code>flatMap</code> of reports:</p>\n\n<pre><code>override fun buildUseCaseObservable(params: Void?): Single&lt;List&lt;Report&gt;&gt; {\n    return reportRepository\n            .getReports()\n            .flatMap { reports -&gt;\n                Observable.fromIterable(reports)\n                .concatMap { report -&gt;\n                    documentRepository.getDocuments(report.id!!) \n                    .map { documents -&gt;\n                         Report(report.id, report.name, report.status,\n                                 report.dateCreated, documents))\n                    }.toObservable()\n                }\n                .toList()\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 1031, "user_id": 433804, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UrkHt.jpg?s=128&g=1", "display_name": "Karl Jamoralin", "link": "https://stackoverflow.com/users/433804/karl-jamoralin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 48146955, "answer_count": 2, "score": 2, "last_activity_date": 1515406130, "creation_date": 1515399879, "last_edit_date": 1515401377, "question_id": 48146529, "link": "https://stackoverflow.com/questions/48146529/single-defer-not-executed", "title": "Single.defer() not executed", "body": "<p>I have an issue wherein my Single.defer block is not being executed.</p>\n\n<p>documentRepository.getDocuments() is called to get documents from DB:</p>\n\n<pre><code>class GetReports\n@Inject constructor(\n        private val reportRepository: ReportRepository,\n        private val documentRepository: DocumentRepository,\n        threadExecutor: ThreadExecutor,\n        postExecutionThread: PostExecutionThread\n) : SingleUseCase&lt;List&lt;Report&gt;, Void?&gt;(\n        threadExecutor, postExecutionThread) {\n\n    override fun buildUseCaseObservable(params: Void?): Single&lt;List&lt;Report&gt;&gt; {\n        return reportRepository\n                .getReports()\n                .flatMap { reports -&gt;\n                    val finalReports = ArrayList&lt;Report&gt;()\n\n                    reports.forEach { report -&gt;\n                        documentRepository.getDocuments(report.id!!)\n                                .map { documents -&gt;\n                                    finalReports.add(Report(report.id, report.name, report.status,\n                                            report.dateCreated, documents))\n                                }\n                    }\n\n                    Single.just(finalReports.toList())\n                }\n    }\n\n}\n</code></pre>\n\n<p>The first Timber.d() logging code gets executed so I know it enters this method but the whole Single.defer code after that is not executed -- debug is not entering inside the block and the second Timber.d() logging code is also not executed.</p>\n\n<pre><code>override fun getDocuments(reportId: Long): Single&lt;List&lt;Document&gt;&gt; {\n        Timber.d(\"Getting documents for report ID $reportId\")\n\n        return Single.defer&lt;List&lt;Document&gt;&gt; {\n            try {\n                Timber.d(\"Getting document cursor for report ID $reportId\")\n                val documentCursor = database.query(\n                        Db.DocumentTable.TABLE_NAME,\n                        null,\n                        Db.DocumentTable.REPORT_ID + \"= $reportId\",\n                        null,\n                        null,\n                        null,\n                        null\n                )\n                Timber.d(\"Got document cursor for report ID $reportId. Row count: ${documentCursor.count}\")\n                getDocuments(documentCursor)\n            } catch (e: Exception) {\n                Timber.e(e, \"Error getting documents for report ID $reportId\")\n                Single.error(e)\n            }\n        }\n    }\n</code></pre>\n\n<p>Am I doing it incorrectly? Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1515394118, "post_id": 48145452, "comment_id": 83268956, "body": "<a href=\"https://discuss.kotlinlang.org/t/nullable-as-argument/1884\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/nullable-as-argument/1884</a>"}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1515394315, "post_id": 48145452, "comment_id": 83269017, "body": "this wont work in my case. as i if i pass in null i still want the fragment to be created and returned."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1515394566, "post_id": 48145515, "comment_id": 83269098, "body": "Also, have a look at the official docs about null safety in Kotlin: <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}], "tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 6, "last_activity_date": 1515394264, "creation_date": 1515394264, "answer_id": 48145515, "question_id": 48145452, "link": "https://stackoverflow.com/questions/48145452/kotlin-how-to-pass-in-null-value-into-fragments-newinstance-method/48145515#48145515", "title": "Kotlin - how to pass in null value into fragments newInstance method?", "body": "<p>In Kotlin, you don't pass <code>@Nullable</code> but rather write a question mark (<code>?</code>) behind the type name to mark it nullable.</p>\n\n<pre><code>fun newInstance(b: Bundle?): MyFragment\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1515394957, "creation_date": 1515394957, "answer_id": 48145631, "question_id": 48145452, "link": "https://stackoverflow.com/questions/48145452/kotlin-how-to-pass-in-null-value-into-fragments-newinstance-method/48145631#48145631", "title": "Kotlin - how to pass in null value into fragments newInstance method?", "body": "<p>Kotlin provide (?) FOR handling <code>null</code>.have look </p>\n\n<pre><code>companion object {\n    fun newInstance( b: Bundle?): MyFragment {\n        val frag = MyFragment()\n        frag.arguments = b\n        return frag\n    }\n}\n</code></pre>\n\n<p>Hope it will help you.</p>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1580, "favorite_count": 0, "accepted_answer_id": 48145515, "answer_count": 2, "score": 0, "last_activity_date": 1515394957, "creation_date": 1515393905, "last_edit_date": 1515394285, "question_id": 48145452, "link": "https://stackoverflow.com/questions/48145452/kotlin-how-to-pass-in-null-value-into-fragments-newinstance-method", "title": "Kotlin - how to pass in null value into fragments newInstance method?", "body": "<p>I have created a fragment using Kotlin and you know how there is a convenience static method to set the fragment args in Java. Like this:</p>\n\n<pre><code>public static MyFragment newInstance(Bundle args){\n    MyFragment fragment = new MyFragment();\n    fragment.setArguments(args);\n    return fragment;\n}\n</code></pre>\n\n<p>I'm trying to accomplish this in Kotlin using a companion object since it's static. Here is what I have so far which compiles:</p>\n\n<pre><code>companion object {\n    fun newInstance(@Nullable b: Bundle): MyFragment {\n        val frag = MyFragment()\n        frag.arguments = b\n        return frag\n    }\n}\n</code></pre>\n\n<p>I was thinking that if I use the <code>@Nullable</code> annotation that I would be allowed to pass in null for the bundle but I keep getting the following error when I call <code>MyFragment.newInstance(null)</code>:</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main\n                                                                       Process: com.mobile.MyApp.labs, PID: 5758\n                                                                       java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter b\n                                                                           at com.mobile.MyApp.ui.cart.fragments.MyFragment$Companion.newInstance(MyFragment.kt:0)\n                                                                           at com.mobile.MyApp.ui.cart.fragments.CartDetailsFragment.onCtaClicked(CartDetailsFragment.java:521)\n                                                                           at com.mobile.MyApp.ui.cart.fragments.CartDetailsFragment_ViewBinding$1.doClick(CartDetailsFragment_ViewBinding.java:66)\n                                                                           at butterknife.internal.DebouncingOnClickListener.onClick(DebouncingOnClickListener.java:22)\n                                                                           at android.view.View.performClick(View.java:6256)\n                                                                           at android.view.View$PerformClick.run(View.java:24701)\n                                                                           at android.os.Handler.handleCallback(Handler.java:789)\n                                                                           at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                           at android.os.Looper.loop(Looper.java:164)\n                                                                           at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                           at java.lang.reflect.Method.invoke(Native Method)\n                                                                           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)</p>\n</blockquote>\n\n<p>How can I pass in <code>null</code> ?</p>\n"}, {"tags": ["kotlin", "overloading"], "comments": [{"owner": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 5, "creation_date": 1515390935, "post_id": 48144596, "comment_id": 83267876, "body": "... why would you want to do that?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1515396302, "post_id": 48144596, "comment_id": 83269758, "body": "How do you intend to use those functions? Even theoretically?"}, {"owner": {"reputation": 10611, "user_id": 1839500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RLPIt.jpg?s=128&g=1", "display_name": "Dick Lucas", "link": "https://stackoverflow.com/users/1839500/dick-lucas"}, "reply_to_user": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 1, "creation_date": 1515468918, "post_id": 48144596, "comment_id": 83301654, "body": "@user202729 It has become abundantly clear that I wouldn&#39;t want to do that. The code snippet was a result of my misunderstanding on overloading. I appreciate everyone schooling me!"}, {"owner": {"reputation": 12211, "user_id": 404568, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/W1j32.jpg?s=128&g=1", "display_name": "David Given", "link": "https://stackoverflow.com/users/404568/david-given"}, "edited": false, "score": 1, "creation_date": 1532461562, "post_id": 48144596, "comment_id": 89981867, "body": "Some languages actually support this --- it&#39;s not as stupid a question as people are suggesting. See <a href=\"https://stackoverflow.com/questions/442026/function-overloading-by-return-type\" title=\"function overloading by return type\">stackoverflow.com/questions/442026/&hellip;</a> for a good writeup."}], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 1, "creation_date": 1515394177, "post_id": 48144882, "comment_id": 83268974, "body": "I think the OP should reconsider if its really neccessary to have two variables/getters with the same name rather than using a solution like this"}, {"owner": {"reputation": 12211, "user_id": 404568, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/W1j32.jpg?s=128&g=1", "display_name": "David Given", "link": "https://stackoverflow.com/users/404568/david-given"}, "edited": false, "score": 1, "creation_date": 1532461810, "post_id": 48144882, "comment_id": 89981988, "body": "Thank you for actually answering the question as asked!"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 2, "last_activity_date": 1515390808, "creation_date": 1515390808, "answer_id": 48144882, "question_id": 48144596, "link": "https://stackoverflow.com/questions/48144596/alternative-to-function-overloads/48144882#48144882", "title": "Alternative to function overloads", "body": "<pre><code>inline fun &lt;reified T&gt; getValue(): T =\n        when (T::class) {\n            Int::class -&gt; 42 as T\n            String::class -&gt; \"foo\" as T\n            else -&gt; throw IllegalArgumentException()\n        }\n</code></pre>\n\n<p>You could use a generic inline function with a reified type parameter.\nThe given code block is inlined on each invocation.</p>\n\n<p>The drawback is that the compiler can't check for wrong type parameters. You will get an <code>IllegalArgumentException</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 2, "last_activity_date": 1515394133, "creation_date": 1515394133, "answer_id": 48145497, "question_id": 48144596, "link": "https://stackoverflow.com/questions/48144596/alternative-to-function-overloads/48145497#48145497", "title": "Alternative to function overloads", "body": "<p>First of all, writing explicit getters in Kotlin is discouraged and it is suggested to use the following instead:</p>\n\n<pre><code>val value : Int get() = 42\nval value : String get() = \"Foo\"\n</code></pre>\n\n<p>However, this still doesn't solve your problem. Since you did not give us any information <em>why</em> you need a declaration like this I can only give you some suggestions:</p>\n\n<ol>\n<li><p>Find a more meaningful name for both variables other than <code>value</code>. For example:</p>\n\n<pre><code>val intValue get() = 42 // note that you can omit :Int in this case\nval textValue get() = \"Foo\"\n</code></pre></li>\n<li><p>If both values are bound together, you can use a <code>Pair</code>:</p>\n\n<pre><code>val value get() = 42 to \"Foo\"\n</code></pre>\n\n<p>Now, you can access the two values via <code>value.first</code> and <code>value.second</code>. Note that <code>to</code> is an <a href=\"https://kotlinlang.org/docs/reference/functions.html#infix-notation\" rel=\"nofollow noreferrer\">infix function</a> that creates a <code>Pair</code>, so the above is equivalent to the more verbose notation</p>\n\n<pre><code>val value : Pair&lt;Int, String&gt; get() = Pair(42, \"Foo\")\n</code></pre></li>\n<li><p>If <code>value</code> is something that's worth storing in its own object rather than using a <code>Pair</code>, you could create your own data class for it:</p>\n\n<pre><code>data class MyData(val intVal : Int, val textVal : Text)\nval value get() = MyData(42, \"Foo\")\n</code></pre></li>\n</ol>\n\n<p>With solutions <em>2</em> and <em>3</em> it will be possible to use a <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations\" rel=\"nofollow noreferrer\">destructuring declaration</a>, like this:</p>\n\n<pre><code>val (intVal, textVal) = value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1515399510, "post_id": 48146186, "comment_id": 83270972, "body": "I don&#39;t think it is a good idea to use a Java doc source for a Kotlin problem, although both run on the JVM."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1515400081, "post_id": 48146186, "comment_id": 83271216, "body": "It\u2019s relevant since the rules also apply to Kotlin overloads"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1515404827, "post_id": 48146186, "comment_id": 83273486, "body": "Kotlin is a multiplatform language and has three implementations so far: JDK, JS and native. It has strong links to the JVM, but this is not a formal relationship."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515406956, "post_id": 48146186, "comment_id": 83274752, "body": "BTW there <i>is</i> such a thing as the &quot;<a href=\"https://jetbrains.github.io/kotlin-spec/#_name_and_overload_resolution\" rel=\"nofollow noreferrer\">Kotlin Language Specification</a>&quot;, only it&#39;s mostly TODOs at the moment."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1515407749, "post_id": 48146186, "comment_id": 83275151, "body": "I don\u2019t think that\u2019s a reason for not referring to Java sources but it\u2019s fine, removed it"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515407722, "last_edit_date": 1515407722, "creation_date": 1515397901, "answer_id": 48146186, "question_id": 48144596, "link": "https://stackoverflow.com/questions/48144596/alternative-to-function-overloads/48146186#48146186", "title": "Alternative to function overloads", "body": "<p>How should the client specify which value he actually wants to get out of an instance of your class? These method names are ambiguous. </p>\n\n<p>Look at the method signatures, only the <strong>return types</strong> differ, which is insufficient. </p>\n\n<p>The rules for <strong>overloaded methods</strong> for Java also apply to Kotlin:</p>\n\n<blockquote>\n  <p>Overloaded methods are <strong>differentiated by the number and the type of the arguments</strong> passed into the method.</p>\n</blockquote>\n\n<p>In your case, just give appropriate distinguishable names. You could also simply make those values properties if your class, no need to explicitly define default getters.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1515399416, "last_edit_date": 1515399416, "creation_date": 1515398450, "answer_id": 48146278, "question_id": 48144596, "link": "https://stackoverflow.com/questions/48144596/alternative-to-function-overloads/48146278#48146278", "title": "Alternative to function overloads", "body": "<p><strong>Short answer:</strong> No.</p>\n\n<p><strong>Long anser:</strong> A function signature consists of the name of that function and its parameter list. </p>\n\n<p>Since the return type does not belong to the signature the compiler can not distinguish which function to use when you call:</p>\n\n<pre><code>val v = getValue() // should v be inferred to Int or String?\n</code></pre>\n\n<p>Not even specifying the return type explicitely solves the problem:</p>\n\n<pre><code>val v: Int = getValue() \n</code></pre>\n\n<p>because <code>getValue()</code> is evaluated first without \"knowing\" where the return value will be assigned.</p>\n\n<p>So, the best option you have is to choose a different name for one of the functions.</p>\n"}], "owner": {"reputation": 10611, "user_id": 1839500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RLPIt.jpg?s=128&g=1", "display_name": "Dick Lucas", "link": "https://stackoverflow.com/users/1839500/dick-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2090, "favorite_count": 1, "accepted_answer_id": 48145497, "answer_count": 4, "score": 0, "last_activity_date": 1515407722, "creation_date": 1515388758, "last_edit_date": 1515399447, "question_id": 48144596, "link": "https://stackoverflow.com/questions/48144596/alternative-to-function-overloads", "title": "Alternative to function overloads", "body": "<p>The below code</p>\n\n<pre><code>fun getValue(): Int {\n   return 42\n}\n\nfun getValue(): String {\n   return \"Foo\"\n}\n</code></pre>\n\n<p>gives the following error:</p>\n\n<blockquote>\n  <p><strong>Conflicting overloads</strong>: local final fun getValue(): String defined in\n  main, local final fun getValue(): Int defined in main.</p>\n</blockquote>\n\n<p>Is there any way to get around this without renaming one of the functions?</p>\n"}, {"tags": ["intellij-idea", "jar", "kotlin"], "comments": [{"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1515405979, "post_id": 48144028, "comment_id": 83274197, "body": "Check out this please <a href=\"https://stackoverflow.com/questions/32567167/gradle-no-main-manifest-attribute\" title=\"gradle no main manifest attribute\">stackoverflow.com/questions/32567167/&hellip;</a>. Try to update your <code>build.gradle</code> accordingly and then run the <code>build</code> task from Gradle. After that, you should get an executable jar file in the <code>build&#47;libs</code> folder."}, {"owner": {"reputation": 83, "user_id": 6307925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/facai.jpg?s=128&g=1", "display_name": "lacanlale", "link": "https://stackoverflow.com/users/6307925/lacanlale"}, "reply_to_user": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1515480121, "post_id": 48144028, "comment_id": 83304516, "body": "I have seen this post and it has not worked either. I also do not see a libs folder in my build"}, {"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1515491693, "post_id": 48144028, "comment_id": 83310036, "body": "You don&#39;t need a manifest file anywhere in your project. The only thing that you need is this <code>jar</code> task in your <code>build.gradle</code>. The task is run when the <code>build</code> task is run, so you need to run <code>.&#47;gradlew build</code> from the console to exclude any IntelliJ Idea specifics. In this case, you typically get a jar file in the <code>build&#47;libs</code> folder of your Gradle project. The jar file should contain a generated manifest file. Everything is the same as with Java, Kotlins adds no specifics here."}, {"owner": {"reputation": 83, "user_id": 6307925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/facai.jpg?s=128&g=1", "display_name": "lacanlale", "link": "https://stackoverflow.com/users/6307925/lacanlale"}, "reply_to_user": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1515565085, "post_id": 48144028, "comment_id": 83342482, "body": "This was good help although I have read this before. However I have finally fixed the problem"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 6307925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/facai.jpg?s=128&g=1", "display_name": "lacanlale", "link": "https://stackoverflow.com/users/6307925/lacanlale"}, "is_accepted": false, "score": 2, "last_activity_date": 1515565399, "creation_date": 1515565399, "answer_id": 48181423, "question_id": 48144028, "link": "https://stackoverflow.com/questions/48144028/no-main-manifest-attribute-error-in-intellij-when-executing-jar/48181423#48181423", "title": "&quot;no main manifest attribute&quot; error in intellij when executing jar", "body": "<p>For anyone that may have encountered this problem in intellij and did not find a solution in any other posts, what helped me was</p>\n\n<ol>\n<li>Navigating to Project Structure</li>\n<li>Going to the Artifacts tab</li>\n<li>Explicitly adding a new META-INF/ directory in my jar</li>\n<li>Adding the created MANIFEST.MF file to the META-INF/ in the jar FROM THE ARTIFACTS TAB</li>\n<li>Rearranging the order for the META-INF/ to be at the top</li>\n<li>Building and running</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ZZ9q7.png\" rel=\"nofollow noreferrer\">The end result looked like this</a></p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 6307925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/facai.jpg?s=128&g=1", "display_name": "lacanlale", "link": "https://stackoverflow.com/users/6307925/lacanlale"}, "edited": false, "score": 0, "creation_date": 1516203250, "post_id": 48288872, "comment_id": 83594305, "body": "This is half correct. I have already solved the problem and explicitly creating the manifest file is correct. However the extension should be .MF and should be placed in a META-INF folder. Thank you for your rseponse though"}], "tags": [], "owner": {"reputation": 1, "user_id": 5161938, "user_type": "registered", "profile_image": "https://graph.facebook.com/738092746316837/picture?type=large", "display_name": "Ujjawal prakash", "link": "https://stackoverflow.com/users/5161938/ujjawal-prakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1516132507, "creation_date": 1516132507, "answer_id": 48288872, "question_id": 48144028, "link": "https://stackoverflow.com/questions/48144028/no-main-manifest-attribute-error-in-intellij-when-executing-jar/48288872#48288872", "title": "&quot;no main manifest attribute&quot; error in intellij when executing jar", "body": "<p>while creating the exeutable jar file explicitly create a mainfest.txt file \nthat  should be in order of the directory structure and mainfest.txt file should contain only one line (Main-Class:name of the class containg main method)then run the jar tool</p>\n"}, {"comments": [{"owner": {"reputation": 40, "user_id": 12963911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh5DQ.png?s=128&g=1", "display_name": "Robot", "link": "https://stackoverflow.com/users/12963911/robot"}, "edited": false, "score": 0, "creation_date": 1596838036, "post_id": 60785522, "comment_id": 111949630, "body": "I had this problem using Gradle, but creating a project using Kotlin &gt; JVM (this will use Maven) then putting a resource folder inside src folder there was no need to do anything else"}], "tags": [], "owner": {"reputation": 40, "user_id": 12963911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh5DQ.png?s=128&g=1", "display_name": "Robot", "link": "https://stackoverflow.com/users/12963911/robot"}, "is_accepted": true, "score": 1, "last_activity_date": 1584782422, "last_edit_date": 1584782422, "creation_date": 1584776409, "answer_id": 60785522, "question_id": 48144028, "link": "https://stackoverflow.com/questions/48144028/no-main-manifest-attribute-error-in-intellij-when-executing-jar/60785522#60785522", "title": "&quot;no main manifest attribute&quot; error in intellij when executing jar", "body": "<p>None of the solutions worked for me.</p>\n\n<p>I solved it in this way:<br>\nWhen setting up the artifact, change:<br>\n<code>Meta-inf: (...)\\src\\main\\</code>   (you must remove \"<strong>java</strong>\")</p>\n\n<p>Also, there was a problem with resources, solved this way:<br>\nWhen setting up the artifact:<br>\n<em>Output Layout > Add copy of > Directory content > resources</em>.</p>\n\n<p>That's all!</p>\n"}], "owner": {"reputation": 83, "user_id": 6307925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/facai.jpg?s=128&g=1", "display_name": "lacanlale", "link": "https://stackoverflow.com/users/6307925/lacanlale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6527, "favorite_count": 1, "accepted_answer_id": 60785522, "answer_count": 3, "score": 6, "last_activity_date": 1584782422, "creation_date": 1515383582, "question_id": 48144028, "link": "https://stackoverflow.com/questions/48144028/no-main-manifest-attribute-error-in-intellij-when-executing-jar", "title": "&quot;no main manifest attribute&quot; error in intellij when executing jar", "body": "<p>I'm working on a kotlin project that I want to execute as a jar. This is all done in IntelliJ Idea and I went about making the jar using the artifacts.</p>\n\n<p>The process I followed was (as illustrated by an Idea guide):</p>\n\n<ol>\n<li>Add artifact (as jar) from project structure</li>\n<li>Build jar</li>\n<li>Run jar</li>\n</ol>\n\n<p>After this, I get a </p>\n\n<pre><code>'no main manifest attribute, in ____.jar'\n</code></pre>\n\n<p>What I have tried after reading several stack overflow questions:</p>\n\n<ul>\n<li>Checking that the manifest file is in the correct folder and has the correct path in the artifact</li>\n<li>Adding code to the build.gradle file for the jar->manifest portion</li>\n<li>Trying the method of moving the manifest stuff into a resources folder</li>\n<li>Checking that the jar exists</li>\n<li>Moving the manifest stuff into a different folder (java,kotlin,out folders)</li>\n<li>Making sure that the manifest file is in the correct format</li>\n</ul>\n\n<p>All of the above has not worked. </p>\n\n<p>Something that is confusing to me is that, even when I alter the manifest file to be in \"incorrect\" format, it still gives the same error. The path stated in the artifact's details is correct yet there is no difference even when I purposely input incorrect items in the manifest file. Not sure if that is the\"real\" problem but I'm also not sure how to fix that as well</p>\n"}, {"tags": ["javascript", "typescript", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515402134, "post_id": 48143641, "comment_id": 83272116, "body": "Changing <code>funX</code> to <code>operator fun invoke</code> also works, forcing implementors to act like a function. It seems closer to the TypeScript."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1515379653, "creation_date": 1515379653, "answer_id": 48143641, "question_id": 48143496, "link": "https://stackoverflow.com/questions/48143496/function-type-with-property-in-kotlin/48143641#48143641", "title": "Function type with property in Kotlin", "body": "<p>This can be expressed in Kotlin, too:</p>\n\n<pre><code>interface Foo {\n  fun funX(arg: Any): Unit\n  val foo: String\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/interfaces.html#properties-in-interfaces\" rel=\"nofollow noreferrer\">Properties in Interfaces</a></p>\n"}], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 48143641, "answer_count": 1, "score": 1, "last_activity_date": 1515398817, "creation_date": 1515378120, "last_edit_date": 1515398817, "question_id": 48143496, "link": "https://stackoverflow.com/questions/48143496/function-type-with-property-in-kotlin", "title": "Function type with property in Kotlin", "body": "<p>I can specify this in TypeScript (thus can be done in JavaScript):</p>\n\n<pre><code>interface Foo {\n  (arg: any): void\n  foo: string\n}\n</code></pre>\n\n<p>Can the same thing achieved in Kotlin?</p>\n"}, {"tags": ["kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515392211, "post_id": 48142054, "comment_id": 83268263, "body": "You said &quot;This is why a <code>suspend (Int) -&gt; Unit</code> cannot be passed to <code>forEach</code>&quot;, but what is the type of the inline lambda in <code>(1..10).forEach { action() }</code>? The IDE says it&#39;s <code>(Int) -&gt; Unit</code>, is there a special rule about calling suspend funs from &quot;inline lambda blocks&quot;? How is this captured in the type system?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515399941, "post_id": 48142054, "comment_id": 83271162, "body": "To perhaps stress more clearly my worry, <code>(1..10).toList().stream().forEach { a() }</code> doesn&#39;t work even though it is also a literal block and has (almost) the same type signature. I know all this hangs on the <code>inline fun</code> modifier, but the current rules seem quite hand-wavy and aren&#39;t clearly formalized."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515495667, "post_id": 48142054, "comment_id": 83312453, "body": "You&#39;re right about a special rule for calling suspend functions from inline lambdas: just as I said, a suspend function can be called from inside an inlined function literal inside another suspend function/lambda, and in this case it does not matter whether the literal itself is typed as <code>suspend</code> function or not."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515495945, "post_id": 48142054, "comment_id": 83312617, "body": "This rule, indeed, works with different notion than the type of the function literal, but IMO it&#39;s quite reasonable: you can call a suspend function inside another suspend function/lambda, and allowing such calls only in inlined function literals ensures that the call happens during the outer function execution (which, in turn, is necessary for the compiler to properly transform the suspend function body into a state machine), so that the code calling a suspend function does not leak somewhere outside the outer suspend function."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515496153, "post_id": 48142054, "comment_id": 83312737, "body": "Yes, the behavior is reasonable and I&#39;m familiar with all the reasoning behind it. My worry, and my question, is about the formalization of these rules <i>inside</i> the type system, which currently doesn&#39;t exist. It&#39;s especially confusing that  <code>suspend</code> is expressed in the type, but <code>inline</code> isn&#39;t, so you need extra rules that explain what&#39;s allowed and what isn&#39;t. What I posted is but one example of design holes you get when you rely on hand-wavy rules that the IDE doesn&#39;t clearly present to you."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515496317, "post_id": 48142054, "comment_id": 83312837, "body": "As another example that, by analogy, one might expect to behave differently than it actually does, is this: <code>inline fun x() { a() }</code> This doesn&#39;t compile because i call <code>suspend fun a()</code>, even though it&#39;s <code>inline</code> and i&#39;m otherwise allowed to write an <code>inline</code> lambda with a <code>suspend</code> call without it becoming an <code>inline suspend</code> lambda. Again, I&#39;m familiar with the reasoning on why this must be, but this is yet another thing to write special-cased rules about."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 4, "last_activity_date": 1515374283, "last_edit_date": 1515374283, "creation_date": 1515363344, "answer_id": 48142054, "question_id": 48141745, "link": "https://stackoverflow.com/questions/48141745/cant-reify-a-suspendable-block-passed-to-foreach/48142054#48142054", "title": "Can&#39;t reify a suspendable block passed to forEach", "body": "<p>The <code>suspend</code> and normal functional types are not subtypes of each other and thus cannot be assigned or passed to a function in place of each other:</p>\n\n<pre><code>val f: () -&gt; Unit = { }\nval g: suspend () -&gt; Unit = f // Type mismatch\n\nval f: suspend () -&gt; Unit = { }\nval g: () -&gt; Unit = f // Type mismatch\n</code></pre>\n\n<p>This is why a <code>suspend (Int) -&gt; Unit</code> cannot be passed to <code>forEach</code>.</p>\n\n<p>Basically, the restriction for suspend functions to be called only in other suspend functions works irrespective to the type system. Such calls should simply be placed inside a suspend function or a suspend lambda or inlined into one. So, this should also work:</p>\n\n<pre><code>val action: suspend (Int) -&gt; Unit = {\n    val a = a()\n    println(\"Result is $a\")\n}\nlaunch(Unconfined) {\n    (1..10).forEach { action() } // The call is inlined into a suspend lambda\n}\n</code></pre>\n\n<p>I've filed an issue about supporting <code>(1..10).forEach(action)</code> as well: <a href=\"https://youtrack.jetbrains.com/issue/KT-22186\" rel=\"nofollow noreferrer\">KT-22186</a></p>\n"}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1515374283, "creation_date": 1515360806, "question_id": 48141745, "link": "https://stackoverflow.com/questions/48141745/cant-reify-a-suspendable-block-passed-to-foreach", "title": "Can&#39;t reify a suspendable block passed to forEach", "body": "<p>Given some</p>\n\n<pre><code>suspend fun a(): Int \n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>launch(Unconfined) {\n    (1..10).forEach {\n        val a = a()\n        println(\"Result is $a\")\n    }\n}\n</code></pre>\n\n<p>But this fails at compile time:</p>\n\n<pre><code>val action: (Int) -&gt; Unit = {\n    // Suspend function should be called only from a coroutine\n    // or another suspend function:\n    val a = a()\n    println(\"Result is $a\")\n}\nlaunch(Unconfined) {\n    (1..10).forEach(action)\n}\n</code></pre>\n\n<p>Furthermore, it isn't fixable because:</p>\n\n<pre><code>val action: suspend (Int) -&gt; Unit = {\n    val a = a()\n    println(\"Result is $a\")\n}\nlaunch(Unconfined) {\n    // suspend (Int) -&gt; Unit cannot be applied to (T) -&gt; Unit\n    (1..10).forEach(action)\n}\n</code></pre>\n\n<p>What is the story here in terms of the static type system? The current situation looks like a quick hack where an inline block containing a <code>suspend fun</code> call is still inferred to a non-suspend type signature.</p>\n\n<p>Is this an area where the design will be improved before being finalized?</p>\n"}, {"tags": ["android", "function", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3453069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35764039b0c744f09f1d2a627c788303?s=128&d=identicon&r=PG&f=1", "display_name": "rooest", "link": "https://stackoverflow.com/users/3453069/rooest"}, "edited": false, "score": 0, "creation_date": 1515397160, "post_id": 48141181, "comment_id": 83270105, "body": "Thank you for your  answer.  It was  really  clear  for me."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 8, "last_activity_date": 1515361284, "last_edit_date": 1592644375, "creation_date": 1515356395, "answer_id": 48141181, "question_id": 48140788, "link": "https://stackoverflow.com/questions/48140788/kotlin-higher-order-functions-costs/48141181#48141181", "title": "Kotlin - Higher Order Functions Costs?", "body": "<p>Lambdas passed to <em>higher-order functions</em> are compiled to generic <code>Function</code> objects. This approach certainly adds some costs, also due to <em>boxing overhead</em> when primitive types are involved. <br>So yes, it can effect performance. You should use <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\"><code>inline</code></a> higher order functions whenever it makes sense because the aforementioned caveats won\u2019t be problematic anymore.</p>\n<p>Taken from the docs:</p>\n<blockquote>\n<p>Using higher-order functions imposes <strong>certain runtime penalties</strong>: each function is an object, and it captures a closure, i.e. those variables that are accessed in the body of the function. Memory allocations (both for function objects and classes) and virtual calls introduce runtime overhead.</p>\n<p>But it appears that in many cases this kind of <strong>overhead can be eliminated by inlining the lambda expressions</strong>.</p>\n</blockquote>\n<p>There are certain restrictions for <code>inline</code> though. Read in the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#public-inline-restrictions\" rel=\"noreferrer\">docs</a>.</p>\n<h3>Example</h3>\n<p><strong>Definition of higher-order function and caller code:</strong></p>\n<pre><code>fun hoFun(func: (Int) -&gt; Boolean) {\n    func(1337)\n}\n\n//invoke with lambda\nval mod = 2\nhoFun { it % mod == 0 }\n</code></pre>\n<p><strong>Bytecode Java Representation:</strong></p>\n<pre><code>public static final void hoFun(@NotNull Function1 func) {\n  Intrinsics.checkParameterIsNotNull(func, &quot;func&quot;);\n  func.invoke(1337);\n}\n\nfinal int mod = 2;\nhoFun((Function1)(new Function1() {\n\n     public Object invoke(Object var1) {\n        return this.invoke(((Number)var1).intValue());\n     }\n\n     public final boolean invoke(int it) {\n        return it % mod == 0;\n     }\n}));\n</code></pre>\n<p>As mentioned, the lambda is compiled to a <code>Function</code> object. Each invocation leads to the instantiation of a new <code>Function</code>object because the <code>mod</code> needs to be captured. Non-capturing lambdas use singleton <code>Function</code> instances instead.</p>\n<p>With <code>inline</code> modifier applied to the higher-order function the compiled call looks much better:</p>\n<pre><code>int mod = 2;\nint it = 1337;\nif (it % mod == 0) {\n   ;\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3453069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35764039b0c744f09f1d2a627c788303?s=128&d=identicon&r=PG&f=1", "display_name": "rooest", "link": "https://stackoverflow.com/users/3453069/rooest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "accepted_answer_id": 48141181, "answer_count": 1, "score": 5, "last_activity_date": 1515396675, "creation_date": 1515353432, "last_edit_date": 1515396675, "question_id": 48140788, "link": "https://stackoverflow.com/questions/48140788/kotlin-higher-order-functions-costs", "title": "Kotlin - Higher Order Functions Costs?", "body": "<p>Is there  any  cost of Higher Order Functions?  I can  solve some  problems  with  it easily but  I am  not sure  can it  effect performance. Are there any limitations about  it?</p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java2", "subscriber"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4771594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2iEVE.gif?s=128&g=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/4771594/mattwalk"}, "edited": false, "score": 0, "creation_date": 1515420463, "post_id": 48142499, "comment_id": 83282296, "body": "why did you used completable and what it does here ?"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 3, "user_id": 4771594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2iEVE.gif?s=128&g=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/4771594/mattwalk"}, "edited": false, "score": 0, "creation_date": 1515423245, "post_id": 48142499, "comment_id": 83284047, "body": "I didn&#39;t clearly understand what you wanted, I will modify my answer so it does what you want"}, {"owner": {"reputation": 3, "user_id": 4771594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2iEVE.gif?s=128&g=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/4771594/mattwalk"}, "edited": false, "score": 1, "creation_date": 1515433395, "post_id": 48142499, "comment_id": 83289749, "body": "sorry i mistype the wrong code , its working now ,thanks for help Tuby.."}, {"owner": {"reputation": 557, "user_id": 1466818, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/yyw7r.jpg?s=128&g=1", "display_name": "silent_coder14", "link": "https://stackoverflow.com/users/1466818/silent-coder14"}, "edited": false, "score": 0, "creation_date": 1537476121, "post_id": 48142499, "comment_id": 91809653, "body": "what to do if I want to modify firstObservableResult?"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1537476534, "post_id": 48142499, "comment_id": 91809841, "body": "Use <code>.map()</code> before first <code>flatMap</code> or before <code>subscribe</code>, depends on the use case."}], "tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": true, "score": 0, "last_activity_date": 1515423409, "last_edit_date": 1515423409, "creation_date": 1515367491, "answer_id": 48142499, "question_id": 48139484, "link": "https://stackoverflow.com/questions/48139484/how-to-start-second-observable-after-receiving-result-from-first-observable-in-a/48142499#48142499", "title": "How to start second observable after receiving result from first observable in android?", "body": "<p>The name of the <code>flatMap</code> has \"map\" in it which means it will map some value to another. But what you can do is</p>\n\n<pre><code>firstObservable.flatMap(firstObservableResult -&gt;\n                secondObservable\n                        .flatMap(secondObservableResult -&gt; Observable.just(firstObservableResult)))\n            .subscribe(firstObservableResult-&gt; {\n                // process request data\n            });\n</code></pre>\n\n<p>Hope you still understand Java code.</p>\n"}], "owner": {"reputation": 3, "user_id": 4771594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2iEVE.gif?s=128&g=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/4771594/mattwalk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 48142499, "answer_count": 1, "score": 0, "last_activity_date": 1515423409, "creation_date": 1515344344, "last_edit_date": 1515423247, "question_id": 48139484, "link": "https://stackoverflow.com/questions/48139484/how-to-start-second-observable-after-receiving-result-from-first-observable-in-a", "title": "How to start second observable after receiving result from first observable in android?", "body": "<p>I am not getting how to use the result of first observable in second observable. </p>\n\n<pre><code> -&gt; My First Observable\n\nvar uploadImgObservable = Observable.create&lt;File&gt; {....}\n\n  -&gt; My Second Observable\n\nvar thumbnailObservable =  Observable.create&lt;Task&lt;UploadTask.TaskSnapshot&gt;&gt; {...}   \n</code></pre>\n\n<p>Now i wanna use the result of uploadImgObservable in thumbnailObservable.\nI also tried to use flatmap as suggested by stackoverflow but i didnt get it ..\nThis is how i used flatmap in my observable..</p>\n\n<pre><code>  Observable.create&lt;Task&lt;UploadTask.TaskSnapshot&gt;&gt; { e -&gt;\n\n        firebaseStorageReference.child(\"profile_images\").child(current_user_uid+\"_thumbnail\"+ \".jpg\").putFile(imageFile)\n                .addOnCompleteListener { task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                    e.onNext(task)\n                    e.onComplete()\n                }\n    }.subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .unsubscribeOn(Schedulers.io())\n                .flatMap(object : Function&lt;Task&lt;UploadTask.TaskSnapshot&gt;,Observable&lt;File&gt;&gt;{\n                    override fun apply(t: Task&lt;UploadTask.TaskSnapshot&gt;): Observable&lt;File&gt; {\n                        var compressedImageBitmap = compress?.setMaxWidth(640)\n                                ?.setMaxHeight(480)\n                                ?.setQuality(70)\n                                ?.setCompressFormat(Bitmap.CompressFormat.WEBP)\n                                ?.setDestinationDirectoryPath(Environment.getExternalStoragePublicDirectory(\n                                        Environment.DIRECTORY_PICTURES).getAbsolutePath())\n                                ?.compressToFile(actualImageFile)\n                        return Observable.just(compressedImageBitmap)\n                    }\n                })?.subscribe(object : Observer&lt;File&gt;{\n            override fun onNext(t: File) {\n\n            }\n\n            override fun onError(e: Throwable) {\n\n            }\n\n            override fun onComplete() {\n\n            }\n\n            override fun onSubscribe(d: Disposable) {\n\n            }\n        })\n</code></pre>\n\n<p>As you can see after using flatmap, <code>Observable&lt;Task&lt;UploadTask.TaskSnapshot&gt;&gt;</code> converts to <code>Observable&lt;File&gt;</code> but i dont wanna convert the type of observable after using the result of first observable.\nWhat should i  do to use the result of first observable in second observable?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1515336057, "creation_date": 1515336057, "answer_id": 48138239, "question_id": 48138173, "link": "https://stackoverflow.com/questions/48138173/kotlin-shortcut-for-assigning-method-parameter-to-a-field-in-android-studio/48138239#48138239", "title": "Kotlin shortcut for assigning method parameter to a field in Android Studio", "body": "<p>In kotlin you don't have to write a setter method in order to do this, that's probably why you don't get the suggestion.</p>\n\n<p>In your example, if you wanted to have an <code>authPresenter</code> field with getters and setters, you'd declare it as a <code>var</code> and kotlin provides the rest:</p>\n\n<pre><code>class AuthenticationView(...) {\n    var authPresenter: AuthPresenter? = null\n}\n</code></pre>\n\n<p>This gives us a nullable <code>AuthPresenter</code>. And the idiomatic way to call this:</p>\n\n<pre><code>val view = AuthenticationView(...)\nview.authPresenter = AuthPresenter(...)\n</code></pre>\n\n<p>Under the covers, that call to <code>.authPresenter = someObject</code> is turned into <code>setAuthPresenter(someObject)</code>.</p>\n\n<p>If you were to call this from Java, you'd see the <code>getAuthPresenter()</code> and <code>setAuthPresenter()</code> automatically generated for you.</p>\n\n<p>In short: the reason the reason the option isn't there for Kotlin, is because there is a more idiomatic way to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 2879, "user_id": 1856562, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/73aac0cf3773eb9f6627265c407e0ecc?s=128&d=identicon&r=PG", "display_name": "FarshidABZ", "link": "https://stackoverflow.com/users/1856562/farshidabz"}, "is_accepted": false, "score": 0, "last_activity_date": 1517728431, "creation_date": 1517728431, "answer_id": 48605703, "question_id": 48138173, "link": "https://stackoverflow.com/questions/48138173/kotlin-shortcut-for-assigning-method-parameter-to-a-field-in-android-studio/48605703#48605703", "title": "Kotlin shortcut for assigning method parameter to a field in Android Studio", "body": "<p>According to the <a href=\"https://stackoverflow.com/a/48138239/1856562\">Todd</a> answer, It's not required to write setter/getter methods like java. </p>\n\n<p>If we want to declare our setter/getter, We have to declare a <code>var</code> and write get() and set(value) like this:</p>\n\n<pre><code>class AuthenticationView(...) {\n    var authPresenter: AuthPresenter? = null\n        get() = field\n        set(value) {  \n           field = value\n           ....\n        }\n</code></pre>\n\n<blockquote>\n  <p>I think it's a property field that I have seen something like this in\n  C#</p>\n</blockquote>\n\n<p>Then if you wanna to set or get authPresenet just do this:</p>\n\n<pre><code>//set\nauthenticationView.authPresenter = object\n\n//get\nobject = authenticationView.authPresenter\n</code></pre>\n\n<p>We can see codes like this in kotlin like setting <code>TextView</code>'s text or <code>View</code>'s background</p>\n"}], "owner": {"reputation": 2879, "user_id": 1856562, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/73aac0cf3773eb9f6627265c407e0ecc?s=128&d=identicon&r=PG", "display_name": "FarshidABZ", "link": "https://stackoverflow.com/users/1856562/farshidabz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 48138239, "answer_count": 2, "score": 3, "last_activity_date": 1517728431, "creation_date": 1515335628, "last_edit_date": 1515352177, "question_id": 48138173, "link": "https://stackoverflow.com/questions/48138173/kotlin-shortcut-for-assigning-method-parameter-to-a-field-in-android-studio", "title": "Kotlin shortcut for assigning method parameter to a field in Android Studio", "body": "<p>In Android Studio, while I am working on a Java class when i press <kbd> Alt + Enter </kbd> and assign method parameters to class member fields.</p>\n\n<p>But when I use Kotlin there are no suggestions to this functionality.</p>\n\n<p>Could I create a new suggestion for this or is there any way to assign parameters to the fields? </p>\n\n<p>Java class suggestion:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G5pEM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5pEM.png\" alt=\"java class suggestion\"></a></p>\n\n<p>Kotlin class suggestion:</p>\n\n<p><a href=\"https://i.stack.imgur.com/F8Bzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F8Bzs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1515331877, "post_id": 48137565, "comment_id": 83252426, "body": "When you use the Java-to-Kotlin converter in Android Studio, what do you get? Note that Android itself has no ability to share an asset directly -- you either need your own <code>ContentProvider</code>, a third-party provider like <a href=\"https://github.com/commonsguy/cwac-provider\" rel=\"nofollow noreferrer\">my <code>StreamProvider</code></a>, or copy the asset to a file and then use <code>FileProvider</code>."}, {"owner": {"reputation": 477, "user_id": 5985566, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f9be940d9b33ee28ce418947365d20d?s=128&d=identicon&r=PG", "display_name": "PKumar", "link": "https://stackoverflow.com/users/5985566/pkumar"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1515332040, "post_id": 48137565, "comment_id": 83252488, "body": "@CommonsWare any example could be helpful"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1515332210, "post_id": 48137565, "comment_id": 83252533, "body": "Example code for <i>what</i>?"}, {"owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "edited": false, "score": 0, "creation_date": 1515345592, "post_id": 48137565, "comment_id": 83256888, "body": "What you consider &quot;Android&quot; code up there, is actually just Java code written using Android framework components (Intent, Activity, etc.). Are you asking us to help you convert the exact code above to Kotlin, or to help you with any approach in Kotlin achieving something similar? If it is the first case, you need to expand what <code>Intent.createChooser</code> does for you."}], "answers": [{"tags": [], "owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "is_accepted": false, "score": 4, "last_activity_date": 1515347093, "last_edit_date": 1515347093, "creation_date": 1515346376, "answer_id": 48139774, "question_id": 48137565, "link": "https://stackoverflow.com/questions/48137565/how-to-share-image-in-android-using-kotlin/48139774#48139774", "title": "How to share image in Android using Kotlin?", "body": "<p>First you need to have the data stored somewhere. If you are compiling against API 24 or above, the <strong>FileProvider</strong> is a popular choice:</p>\n\n<p>Declare the provider in your <code>AndroidManifest.xml</code>:</p>\n\n<pre><code>&lt;application&gt;\n  &lt;!-- make sure within the application tag, otherwise app will crash with XmlResourceParser errors --&gt;\n  &lt;provider\n    android:name=\"android.support.v4.content.FileProvider\"\n    android:authorities=\"com.codepath.fileprovider\"\n    android:exported=\"false\"\n    android:grantUriPermissions=\"true\"&gt;\n      &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/fileprovider\" /&gt;\n  &lt;/provider&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Next, create a resource directory called <code>xml</code> and create a <code>fileprovider.xml</code>. Assuming you wish to grant access to the application's specific external storage directory, which requires requesting no additional permissions, you can declare this line as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths&gt;\n    &lt;external-files-path\n        name=\"images\"\n        path=\"Pictures\" /&gt;\n\n    &lt;!--Uncomment below to share the entire application specific directory --&gt;\n    &lt;!--&lt;external-path name=\"all_dirs\" path=\".\"/&gt;--&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>Finally, you will convert the File object into a content provider using the FileProvider class:</p>\n\n<pre><code>// getExternalFilesDir() + \"/Pictures\" should match the declaration in fileprovider.xml paths\nval file = File(getExternalFilesDir(Environment.DIRECTORY_PICTURES), \"share_image_\" + System.currentTimeMillis() + \".png\")\n\n// wrap File object into a content provider. NOTE: authority here should match authority in manifest declaration\nval bmpUri = FileProvider.getUriForFile(MyActivity.this, \"com.codepath.fileprovider\", file)\n</code></pre>\n\n<p><a href=\"https://github.com/codepath/android_guides/wiki/Sharing-Content-with-Intents#sharing-files-with-api-24-or-higher\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<p>Now you have a way to store and retrieve <code>Uri</code> for an individual File. The next step is to simply create an intent and start it by writing the following:</p>\n\n<pre><code>val intent = Intent().apply {\n        this.action = Intent.ACTION_SEND\n        this.putExtra(Intent.EXTRA_STREAM, bmpUri)\n        this.type = \"image/jpeg\"\n    }\nstartActivity(Intent.createChooser(intent, resources.getText(R.string.send_to)))\n</code></pre>\n\n<p><em>Notice the <code>bmpUri</code> is the value you retrieved just before.</em></p>\n\n<p><a href=\"https://developer.android.com/training/sharing/send.html#send-binary-content\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<p>You should remember to consider Runtime permissions if you are running API 23 or above. Here's a good tutorial on <a href=\"https://github.com/codepath/android_guides/wiki/Managing-Runtime-Permissions-with-PermissionsDispatcher\" rel=\"nofollow noreferrer\">that</a>.</p>\n"}], "owner": {"reputation": 477, "user_id": 5985566, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f9be940d9b33ee28ce418947365d20d?s=128&d=identicon&r=PG", "display_name": "PKumar", "link": "https://stackoverflow.com/users/5985566/pkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4521, "favorite_count": 1, "closed_date": 1515399182, "answer_count": 1, "score": 1, "last_activity_date": 1515355600, "creation_date": 1515331627, "last_edit_date": 1515355600, "question_id": 48137565, "link": "https://stackoverflow.com/questions/48137565/how-to-share-image-in-android-using-kotlin", "closed_reason": "Duplicate", "title": "How to share image in Android using Kotlin?", "body": "<p>I want to share an image located in assets folder using 'Kotlin'.How can I achieve that Similar block of code in android :</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_SEND);\nintent.setType(\"image/jpeg\");\nintent.putExtra(Intent.EXTRA_STREAM, uri);\nstartActivity(Intent.createChooser(intent, \"Share Image\"));\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1515325221, "post_id": 48136732, "comment_id": 83250792, "body": "Did you search? <a href=\"https://stackoverflow.com/questions/24471109/recyclerview-onclick\" title=\"recyclerview onclick\">stackoverflow.com/questions/24471109/recyclerview-onclick</a>"}, {"owner": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "reply_to_user": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 1, "creation_date": 1515325287, "post_id": 48136732, "comment_id": 83250810, "body": "I looked at that answer but that was in Java. I am finding it difficult to implement it in Kotlin @IvanWooll"}, {"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 1, "creation_date": 1515325570, "post_id": 48136732, "comment_id": 83250866, "body": "With the greatest of respect, I recommend that you take some time to learn about Java before jumping into Kotlin as the vast number of code samples/answers you will find will be in Java. This will equip you very well for your future Android career."}], "answers": [{"comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1515328563, "post_id": 48136988, "comment_id": 83251523, "body": "just a small refinement to this....as per <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a>, &quot;In Kotlin, there is a convention that if the last parameter to a function is a function, and you&#39;re passing a lambda expression as the corresponding argument, you can specify it outside of parentheses&quot;"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1515329749, "post_id": 48136988, "comment_id": 83251821, "body": "@JohnO&#39;Reilly I always try to follow this convention. But from my experience in case if you build some recycler adapters and pass listeners as constructor parameters it is always better to specify what it responsible for. Cause not always last lamba is click listener, it may be long or touch listener so it becomes not so clear."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 10, "last_activity_date": 1515327857, "last_edit_date": 1515327857, "creation_date": 1515327444, "answer_id": 48136988, "question_id": 48136732, "link": "https://stackoverflow.com/questions/48136732/item-onclick-recyclerview-kotlin-android/48136988#48136988", "title": "Item Onclick RecyclerView Kotlin Android", "body": "<p>Just add click listener as parameter to constructor of your adapter.</p>\n\n<pre><code>class CategoryAdapter(\n        private val categoryList: List&lt;Category&gt;, \n        private val context: Context,\n        private val onClickListener: (View, Category) -&gt; Unit\n) : RecyclerView.Adapter&lt;CategoryAdapter.MyViewHolder&gt;() {\n\n    ...\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n        val category = categoryList[position]\n\n        // Set height of cardview based on screen width\n        ...\n\n        holder.itemView.setOnClickListener { view -&gt;\n            onClickListener.invoke(view, category)\n        }      \n    }\n\n   ...\n}\n</code></pre>\n\n<p>Then you can use as following:</p>\n\n<pre><code>fun initList() {\n     adapter = CategoryAdapter(\n         categoryList = ...,\n         context = ...,\n         onClickListener = { view, category -&gt; openActivity(view, category) }\n}\n</code></pre>\n\n<p><strong>Off-top.</strong> Some optional improvements for code above</p>\n\n<ol>\n<li><p>Create typealias for lambda. Make your code more readable.</p>\n\n<pre><code>typealias MyCategoryClickListener = (View, Category) -&gt; Unit\n\nclass CategoryAdapter(\n    private val categoryList: List&lt;Category&gt;, \n    private val context: Context,\n    private val onClickListener: MyCategoryClickListener\n) : RecyclerView.Adapter&lt;CategoryAdapter.MyViewHolder&gt;() {\n</code></pre></li>\n<li><p>Omit <code>invoke</code> call of listener. Lambda can be called just like function.</p>\n\n<pre><code>holder.itemView.setOnClickListener { view -&gt;\n    onClickListener(view, category)\n}  \n</code></pre></li>\n<li><p>Replace lambda with reference when creating adapter</p>\n\n<pre><code> fun initList() {\n     adapter = CategoryAdapter(\n         categoryList = ...,\n         context = ...,\n         onClickListener = this::openActivity)\n }\n\n fun openActivity(view: View, category: Category) {\n     ...\n }\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 98, "user_id": 12204327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04fc5e3e6d496b26e3ab1641805be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/12204327/junior"}, "edited": false, "score": 0, "creation_date": 1617599496, "post_id": 48143179, "comment_id": 118340185, "body": "This will slow down the recycler view because <code>onBindViewHolder</code> gets called multiple times for each row"}, {"owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "reply_to_user": {"reputation": 98, "user_id": 12204327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04fc5e3e6d496b26e3ab1641805be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/12204327/junior"}, "edited": false, "score": 0, "creation_date": 1617606539, "post_id": 48143179, "comment_id": 118341790, "body": "I&#39;m not sure about that, have you tested the peroformance of this solution? Adding a callback isn&#39;t something that impact on performance!"}, {"owner": {"reputation": 98, "user_id": 12204327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04fc5e3e6d496b26e3ab1641805be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/12204327/junior"}, "edited": false, "score": 0, "creation_date": 1617693963, "post_id": 48143179, "comment_id": 118367915, "body": "The setOnClickListener will get called 1000s if not 100s of times depending on the number of new rows being created. Even if it doesn&#39;t slow down the recyclerview, it&#39;s a bad practice."}, {"owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "reply_to_user": {"reputation": 98, "user_id": 12204327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04fc5e3e6d496b26e3ab1641805be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/12204327/junior"}, "edited": false, "score": 0, "creation_date": 1617726938, "post_id": 48143179, "comment_id": 118383347, "body": "FYI, onBind is the place to bind data and register any callback related to the item. RecyclerView is optimied enough to avoid re-create items (AKA call the onBind). Let me know if you have any benchmark about performance or a better way to do that once you find it :)"}], "tags": [], "owner": {"reputation": 2503, "user_id": 9185192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w6wZT.png?s=128&g=1", "display_name": "Pedro Massango", "link": "https://stackoverflow.com/users/9185192/pedro-massango"}, "is_accepted": false, "score": 3, "last_activity_date": 1515374593, "creation_date": 1515374593, "answer_id": 48143179, "question_id": 48136732, "link": "https://stackoverflow.com/questions/48136732/item-onclick-recyclerview-kotlin-android/48143179#48143179", "title": "Item Onclick RecyclerView Kotlin Android", "body": "<p>You can do it in your onBindViewHolder(...)</p>\n\n<pre><code>override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n    val category = categoryList[position]\n\n    // Set height of cardview based on screen width\n    val displayMetrics = context.resources.displayMetrics\n    val finalHeight = displayMetrics.widthPixels / 2\n    holder.cardView.layoutParams.height = finalHeight\n\n    holder.categoryName.text = category.oc\n    holder.categoryPhoto.loadUrl(category.icon)\n\n    holder.categoryPhoto.setOnClickListener { view -&gt;\n\n       // categoryPhoto clicked.\n       // start your activity here\n    }      \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5599424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b361e1b230b38dfcb08ec0985a18c5?s=128&d=identicon&r=PG", "display_name": "Rohit269", "link": "https://stackoverflow.com/users/5599424/rohit269"}, "is_accepted": false, "score": 2, "last_activity_date": 1530621539, "creation_date": 1530621539, "answer_id": 51154885, "question_id": 48136732, "link": "https://stackoverflow.com/questions/48136732/item-onclick-recyclerview-kotlin-android/51154885#51154885", "title": "Item Onclick RecyclerView Kotlin Android", "body": "<p>Do like this</p>\n\n<p>class RecyclerListAdapter: RecyclerView.Adapter {\n        var context: Context? = null\n        var listData: ArrayList? = null</p>\n\n<p>Step 1: Activity ref..................................\n        var activityref:MainActivity?=null</p>\n\n<pre><code>    constructor(context: Context?, listData: ArrayList&lt;ItemDetails&gt;?, activityref: MainActivity?) : super() {\n        this.context = context\n        this.listData = listData\n        this.activityref = activityref\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewsHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.row_list, parent, false)\n\n        return ViewsHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return listData!!.size\n    }\n\n    override fun onBindViewHolder(holder: ViewsHolder?, position: Int) {\n        holder?.item=listData?.get(position)\n        holder!!.first!!.setText(holder.item?.First)\n        holder.second!!.setText(holder.item?.Second)\n        holder.third!!.setText(holder.item?.Third)\n\n  Step 2  OnClick on item.....................       \n        holder.third!!.setOnClickListener{\n            activityref?.OnItemClicked(holder.item!!)\n        }\n\n    }\n\n\n    class ViewsHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n\n\n        var item:ItemDetails?=null\n\n        var first: TextView? = null;\n        var second: TextView? = null;\n        var third: TextView? = null;\n\n        init {\n            first = itemView?.findViewById(R.id.first)\n            second = itemView?.findViewById(R.id.second)\n            third = itemView?.findViewById(R.id.third)\n\n        }\n\n\n\n    }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13926, "favorite_count": 2, "answer_count": 3, "score": 0, "last_activity_date": 1555392567, "creation_date": 1515325121, "last_edit_date": 1555392567, "question_id": 48136732, "link": "https://stackoverflow.com/questions/48136732/item-onclick-recyclerview-kotlin-android", "title": "Item Onclick RecyclerView Kotlin Android", "body": "<p>I have RecyclerView adapter in Kotlin and when a user clicks on categoryPhoto, I want to open a new activity. How should I implement this?</p>\n\n<pre><code>class CategoryAdapter(private val categoryList: List&lt;Category&gt;, private val context: Context) : RecyclerView.Adapter&lt;CategoryAdapter.MyViewHolder&gt;() {\n\nclass MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n        var categoryName = view.text_view_category_name\n        var categoryPhoto = view.image_view_category\n        var cardView = view.card_view_category\n\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = MyViewHolder(parent.inflate(R.layout.category_list_row))\n\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n    val category = categoryList[position]\n\n    // Set height of cardview based on screen width\n    val displayMetrics = context.resources.displayMetrics\n    val finalHeight = displayMetrics.widthPixels / 2\n    holder.cardView.layoutParams.height = finalHeight\n\n    holder.categoryName.text = category.oc\n    holder.categoryPhoto.loadUrl(category.icon)\n}\n\noverride fun getItemCount(): Int {\n    return categoryList.size\n}}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 45751, "user_id": 721079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/797c7fdac4c3c4836b61e09c2943c09d?s=128&d=identicon&r=PG", "display_name": "Alexander Kulyakhtin", "link": "https://stackoverflow.com/users/721079/alexander-kulyakhtin"}, "is_accepted": false, "score": 0, "last_activity_date": 1515310408, "creation_date": 1515310408, "answer_id": 48135217, "question_id": 48135183, "link": "https://stackoverflow.com/questions/48135183/where-to-put-script-that-run-in-every-some-activities-in-android/48135217#48135217", "title": "where to put script that run in every / some activities in android?", "body": "<p>You can subclass all your activities from some base activity and do your checking in that base activity.</p>\n\n<p>Authentication shall be done as soon as your current authentication token expires. So if you don't have authentication token then in any activity of yours. Again if all the activities are subclassed from same base one you can do that checking in the base activity.</p>\n"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515311046, "creation_date": 1515310075, "last_edit_date": 1515311046, "question_id": 48135183, "link": "https://stackoverflow.com/questions/48135183/where-to-put-script-that-run-in-every-some-activities-in-android", "title": "where to put script that run in every / some activities in android?", "body": "<p>I want to put some script that needs to run in some activity like checking if my API token has changed or still remain same. </p>\n\n<p>if in <strong>Laravel</strong>, we know about \"middleware\", one or more classes that can we run in some activities. is there any equivalent of middleware <strong>Laravel</strong> in android?</p>\n\n<p>And is it safe to do authentication only on launcher activity? I mean in web development, we can't just put the script to do authentication only on the home page since people can't directly visit some pages by writing the URL without having visit home page.</p>\n"}, {"tags": ["android", "textview", "kotlin", "autosize"], "comments": [{"owner": {"reputation": 3149, "user_id": 646002, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4ea180fe7ecd95902f4cccd40cf43541?s=128&d=identicon&r=PG", "display_name": "SirKnigget", "link": "https://stackoverflow.com/users/646002/sirknigget"}, "edited": false, "score": 0, "creation_date": 1537528491, "post_id": 48134989, "comment_id": 91827696, "body": "Any good solution? I&#39;m interested"}, {"owner": {"reputation": 93, "user_id": 3061967, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/edw3F.jpg?s=128&g=1", "display_name": "Arjunsinh Jadeja", "link": "https://stackoverflow.com/users/3061967/arjunsinh-jadeja"}, "reply_to_user": {"reputation": 3149, "user_id": 646002, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4ea180fe7ecd95902f4cccd40cf43541?s=128&d=identicon&r=PG", "display_name": "SirKnigget", "link": "https://stackoverflow.com/users/646002/sirknigget"}, "edited": false, "score": 0, "creation_date": 1543451013, "post_id": 48134989, "comment_id": 93928644, "body": "@SirKnigget Sorry I dropped this project midway and iirc I switched to constant size values."}], "answers": [{"comments": [{"owner": {"reputation": 3149, "user_id": 646002, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4ea180fe7ecd95902f4cccd40cf43541?s=128&d=identicon&r=PG", "display_name": "SirKnigget", "link": "https://stackoverflow.com/users/646002/sirknigget"}, "edited": false, "score": 1, "creation_date": 1537528566, "post_id": 48135196, "comment_id": 91827740, "body": "That doesn&#39;t help in the case where you really need multiple separate uniform text fields (lists...)"}], "tags": [], "owner": {"reputation": 679, "user_id": 4707356, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xebZe51GYpk/AAAAAAAAAAI/AAAAAAAAABE/-uyKqLqubSs/photo.jpg?sz=128", "display_name": "Artyom Okun", "link": "https://stackoverflow.com/users/4707356/artyom-okun"}, "is_accepted": false, "score": 0, "last_activity_date": 1515310208, "creation_date": 1515310208, "answer_id": 48135196, "question_id": 48134989, "link": "https://stackoverflow.com/questions/48134989/uniformly-autosizing-multiple-textviews/48135196#48135196", "title": "Uniformly autosizing multiple TextViews", "body": "<p>The purpose of autosizing is to give the Android framework to decide what text size should be chozen, depends on the screen size. </p>\n\n<p>In you case I would change the way of implementation. You can use one TextView instead of 3 chained one after another, and use <a href=\"https://developer.android.com/reference/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> method to populate the date/time/day of week. That way the text will be always same size.</p>\n"}], "owner": {"reputation": 93, "user_id": 3061967, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/edw3F.jpg?s=128&g=1", "display_name": "Arjunsinh Jadeja", "link": "https://stackoverflow.com/users/3061967/arjunsinh-jadeja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1515310208, "creation_date": 1515307883, "question_id": 48134989, "link": "https://stackoverflow.com/questions/48134989/uniformly-autosizing-multiple-textviews", "title": "Uniformly autosizing multiple TextViews", "body": "<p>In my activity I have three textviews with autosizing (not using support library):</p>\n\n<pre><code>&lt;TextView\n            android:id=\"@+id/textView_date\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:autoSizeTextType=\"uniform\"\n            android:gravity=\"center\"\n            android:maxLines=\"1\"\n            android:text=\"1, Jan\"\n            app:layout_constraintBottom_toTopOf=\"@id/guideline_horizontal_date_time\"\n            app:layout_constraintEnd_toStartOf=\"@id/textView_time\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;TextClock\n            android:id=\"@+id/textView_time\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:autoSizeTextType=\"uniform\"\n            android:gravity=\"center\"\n            android:text=\"12:00 AM\"\n            app:layout_constraintBottom_toTopOf=\"@id/guideline_horizontal_date_time\"\n            app:layout_constraintEnd_toStartOf=\"@id/textView_day\"\n            app:layout_constraintStart_toEndOf=\"@id/textView_date\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;TextView\n            android:id=\"@+id/textView_day\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:autoSizeTextType=\"uniform\"\n            android:gravity=\"center\"\n            android:maxLines=\"1\"\n            android:text=\"Monday\"\n            app:layout_constraintBottom_toTopOf=\"@id/guideline_horizontal_date_time\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/textView_time\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>When I run this, I get the following result\n<a href=\"https://i.stack.imgur.com/Mzsr6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mzsr6.png\" alt=\"Uneven text size\"></a></p>\n\n<p>How can I make the date and day textview be of uniform size?\nI don't want to set an equal android:autoSizeMaxTextSize property in order to do that.</p>\n\n<p>I have tried the following logic (Kotlin)</p>\n\n<pre><code>if(view_date.textSize&gt;view_day.textSize)\n            view_date.textSize = view_day.textSize\nelse\n            view_day.textSize=view_date.textSize\n</code></pre>\n\n<p>However it doesn't work, the text size does not get changed.</p>\n"}, {"tags": ["kotlin", "tuples"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515350191, "post_id": 48134700, "comment_id": 83258410, "body": "Disregarding a component is one thing, but what you actually expect is full-blown <i>pattern matching</i> to occur, so that <code>_</code> stands for &quot;any value acceptable&quot;. This is something Kotlin does not support, and there aren&#39;t any plans to support it, as far is I could find out."}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 5, "last_activity_date": 1515307398, "creation_date": 1515307398, "answer_id": 48134943, "question_id": 48134700, "link": "https://stackoverflow.com/questions/48134700/disregard-component-of-a-triple-in-a-comparison/48134943#48134943", "title": "Disregard component of a Triple in a comparison", "body": "<p>Underscore for unused variables was introduced in Kotlin 1.1 and it is designed to be used when some variables are not needed in the destructuring declaration.</p>\n\n<p>In the branch conditions of your when expression, <code>Triple(0, 0, 0)</code> is creating an new instance but not destructuring. So, using underscore is not permitted here.</p>\n\n<p>Currently, destructuring in the branch conditions of when expression is not possible in Kotlin. One of the solutions for your case is to compare each of the component verbosely in each branch condition:</p>\n\n<pre><code>val (x, y, z) = Triple(3, 2, 5)\nwhen {\n    x == 0 &amp;&amp; y == 0 &amp;&amp; z == 0 -&gt; println(\"Origin\")\n    y == 0 &amp;&amp; z == 0 -&gt; println(\"On the x-axis.\")\n    x == 0 &amp;&amp; z == 0 -&gt; println(\"On the y-axis.\")\n    x == 0 &amp;&amp; y == 0 -&gt; println(\"On the z-axis.\")\n    else -&gt; println(\"Somewhere in space\")\n}\n</code></pre>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/destructuring-in-when/2391\" rel=\"noreferrer\">Here</a> is a discussion on destructuring in when expression.</p>\n"}], "owner": {"reputation": 10611, "user_id": 1839500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RLPIt.jpg?s=128&g=1", "display_name": "Dick Lucas", "link": "https://stackoverflow.com/users/1839500/dick-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 48134943, "answer_count": 1, "score": 2, "last_activity_date": 1515307398, "creation_date": 1515304420, "last_edit_date": 1515305906, "question_id": 48134700, "link": "https://stackoverflow.com/questions/48134700/disregard-component-of-a-triple-in-a-comparison", "title": "Disregard component of a Triple in a comparison", "body": "<p>I am attempting to compare <code>Triple</code>s while disregarding certain values of the <code>Triple</code>. The value I wish to disregard below is signified by <code>_</code>. Note the below code is for example purposes and does not compile because <code>_</code> is an <code>Unresolved reference</code>.</p>\n\n<pre><code>val coordinates = Triple(3, 2, 5)\nwhen (coordinates) {\n    Triple(0, 0, 0) -&gt; println(\"Origin\")\n    Triple(_, 0, 0)-&gt; println(\"On the x-axis.\")\n    Triple(0, _, 0)-&gt; println(\"On the y-axis.\")\n    Triple(0, 0, _)-&gt; println(\"On the z-axis.\")\n    else-&gt; println(\"Somewhere in space\")\n}\n</code></pre>\n\n<p>I know you can use <code>_</code> when <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations\" rel=\"nofollow noreferrer\">destructuring</a> if you would like to ignore a value but that doesn't seem to help me with the above issue:</p>\n\n<pre><code>val (x4, y4, _) = coordinates\nprintln(x4)\nprintln(y4)\n</code></pre>\n\n<p>Any ideas how I can achieve this?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 2, "last_activity_date": 1515386571, "creation_date": 1515386571, "answer_id": 48144330, "question_id": 48134377, "link": "https://stackoverflow.com/questions/48134377/way-to-specify-default-autowiremode-in-spring-kotlin-support/48144330#48144330", "title": "Way to specify default autowireMode in spring kotlin support", "body": "<p>Just write your own extension method:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; BeanDefinitionDsl.beanByName(name: String? = null,\n                                          scope: Scope? = null,\n                                          isLazyInit: Boolean? = null,\n                                          isPrimary: Boolean? = null\n                                          isAutowireCandidate: Boolean? = null) {\n  this.bean(name = name, scope = scope, isLazyInit = isLazyInit, isPrimary = isPrimary, isAutowireCandidate = isAutowireCandidate, autowireMode = Autowire.BY_NAME)\n}\n</code></pre>\n\n<p>And then use it</p>\n\n<pre><code>fun beans() = org.springframework.context.support.beans {\n    beanByName&lt;BeanImpl&gt;()\n    beanByName&lt;AnotherBeanImpl&gt;()\n    // hundreds more bean\n}\n</code></pre>\n"}], "owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 48144330, "answer_count": 1, "score": 0, "last_activity_date": 1515386571, "creation_date": 1515300347, "question_id": 48134377, "link": "https://stackoverflow.com/questions/48134377/way-to-specify-default-autowiremode-in-spring-kotlin-support", "title": "Way to specify default autowireMode in spring kotlin support", "body": "<p>Spring boot version 2, spring framework version 5.</p>\n\n<p>How do I specify default <code>autowireMode</code> for beans DSL? I currently use this for each bean:</p>\n\n<pre><code>fun beans() = org.springframework.context.support.beans {\n    bean&lt;BeanImpl&gt;(autowireMode = BeanDefinitionDsl.Autowire.BY_NAME)\n    bean&lt;AnotherBeanImpl&gt;(autowireMode = BeanDefinitionDsl.Autowire.BY_NAME)\n    // hundreds more bean\n}\n</code></pre>\n\n<p>which is tedious. The bean implementations are from legacy app, so I cannot use <code>Component</code>.</p>\n"}, {"tags": ["kotlin", "shared-libraries", "cross-platform", "kotlin-native"], "comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 0, "creation_date": 1517199487, "post_id": 48134307, "comment_id": 83981720, "body": "In case some one has the issue, I have a blog for it: <a href=\"http://www.albertgao.xyz/2018/01/14/how-to-create-kotlin-native-ios-project/\" rel=\"nofollow noreferrer\">albertgao.xyz/2018/01/14/&hellip;</a>"}, {"owner": {"reputation": 1447, "user_id": 4340049, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GCC4X.jpg?s=128&g=1", "display_name": "Harish Pathak", "link": "https://stackoverflow.com/users/4340049/harish-pathak"}, "edited": false, "score": 0, "creation_date": 1519119835, "post_id": 48134307, "comment_id": 84768390, "body": "see my answer at <a href=\"https://stackoverflow.com/questions/47596110/kotlin-file-in-native-ios-project-with-kotlin-native\" title=\"kotlin file in native ios project with kotlin native\">stackoverflow.com/questions/47596110/&hellip;</a>"}, {"owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "edited": false, "score": 0, "creation_date": 1519236391, "post_id": 48134307, "comment_id": 84831614, "body": "What exactly do you mean by &quot;different structure&quot;? Kotlin/Native gradle plugin and CLI tools flags are processed by the same code, so if you pass identical options - result is identical as well."}], "answers": [{"tags": [], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "is_accepted": false, "score": 1, "last_activity_date": 1533793535, "creation_date": 1533793535, "answer_id": 51759603, "question_id": 48134307, "link": "https://stackoverflow.com/questions/48134307/how-to-compile-kotlin-native-code-into-an-ios-framework/51759603#51759603", "title": "How to compile kotlin native code into an iOS framework?", "body": "<p>You can follow this tutorial <a href=\"https://willowtreeapps.com/ideas/how-to-seamlessly-share-code-between-ios-and-android-using-kotlin\" rel=\"nofollow noreferrer\">here</a>. Although it uses gradle, but it basically includes a script that automatically rebuilds the kotlin framework for ios. Im not sure this is what you require, but you can write a shell script on the same principles.</p>\n\n<pre><code>task lipo(type: Exec, dependsOn: 'build') {\ndef frameworks = files(\n        \"$buildDir/konan/bin/iphone/${frameworkName}.framework/$frameworkName\",\n        \"$buildDir/konan/bin/iphone_sim/${frameworkName}.framework/$frameworkName\"\n)\ndef output = file(\"$buildDir/konan/bin/iphone_universal/${frameworkName}.framework/$frameworkName\")\ninputs.files frameworks\noutputs.file output\nexecutable = 'lipo'\nargs = frameworks.files\nargs += ['-create', '-output', output]\n}\ntask copyFramework(type: Copy, dependsOn: lipo) {\n    from(\"$buildDir/konan/bin/iphone\") {\n        include '*/Headers/*'\n        include '*/Modules/*'\n        include '*/Info.plist'\n}\nfrom \"$buildDir/konan/bin/iphone_universal\"\ninto \"${rootProject.rootDir}/ios\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1535911488, "creation_date": 1535911488, "answer_id": 52139750, "question_id": 48134307, "link": "https://stackoverflow.com/questions/48134307/how-to-compile-kotlin-native-code-into-an-ios-framework/52139750#52139750", "title": "How to compile kotlin native code into an iOS framework?", "body": "<p>Yet another tutorial is here \n<a href=\"https://kotlinlang.org/docs/tutorials/native/apple-framework.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/native/apple-framework.html</a>\nYou may probably use Gradle as the build system, see <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/GRADLE_PLUGIN.md\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-native/blob/master/GRADLE_PLUGIN.md</a></p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 888, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1535911488, "creation_date": 1515299217, "question_id": 48134307, "link": "https://stackoverflow.com/questions/48134307/how-to-compile-kotlin-native-code-into-an-ios-framework", "title": "How to compile kotlin native code into an iOS framework?", "body": "<p>from <a href=\"https://blog.jetbrains.com/kotlin/2017/12/kotlinnative-v0-5-released-calling-kotlin-from-swift-and-c-llvm-5-and-more/\" rel=\"nofollow noreferrer\">Kotlin Native 0.5</a>, we can compile the kotlin code into a <code>framework</code> for integrating into an existing iOS project.</p>\n\n<p>I just wonder how to do it?</p>\n\n<p><strong>What I want</strong></p>\n\n<ol>\n<li>Using command line to build</li>\n<li>Build from the <a href=\"https://github.com/JetBrains/kotlin-native\" rel=\"nofollow noreferrer\">kotlin native repo</a> so that I can catch up with the latest update.</li>\n<li>Without using Gradle so that I don't need to do a gradle project setup.</li>\n</ol>\n\n<p>I know there is a <code>calculator</code> sample in the <code>samples</code> folder, and it adds an extra step called <code>Compile Kotlin framework</code> in the <code>Xcode</code> project to do the magic. But I don't know how to separate that step.</p>\n\n<p>I tried using command line like this: <code>../../dist/bin/kotlinc ./src/main/kotlin/org/konan/arithmeticparser/Parser.kt -produce framework -o asd.framework</code>.</p>\n\n<p>But the result has a different structure compare to the gradle build one.</p>\n\n<p>Any help here? Thanks</p>\n"}, {"tags": ["kotlin", "tuples"], "answers": [{"tags": [], "owner": {"reputation": 1928, "user_id": 3528524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xidg8.jpg?s=128&g=1", "display_name": "dniHze", "link": "https://stackoverflow.com/users/3528524/dnihze"}, "is_accepted": true, "score": 19, "last_activity_date": 1515286546, "creation_date": 1515286546, "answer_id": 48133398, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/48133398#48133398", "title": "How to name components of a Pair", "body": "<p>This is not supported. You should write a wrapper (data) class for that purposes or you could use Kotlin destructuring declarations: </p>\n\n<pre><code>val (x, y) = coordinates\nprintln(\"$x;$y\")\n</code></pre>\n\n<p>See more <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": false, "score": 8, "last_activity_date": 1515288921, "creation_date": 1515288921, "answer_id": 48133591, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/48133591#48133591", "title": "How to name components of a Pair", "body": "<p>The definition of <code>Pair</code> in the Kotlin stdlib is as follows:</p>\n\n<pre><code>public data class Pair&lt;out A, out B&gt;(\n    public val first: A,\n    public val second: B\n) : Serializable\n</code></pre>\n\n<p>So, if you have an instance <code>p</code> of type <code>Pair</code>, you can access the first property only as <code>p.first</code>. However, you can use a <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations\" rel=\"noreferrer\">Destructuring Declaration</a> like this:</p>\n\n<pre><code>val (x, y) = p\n</code></pre>\n\n<p>This is made possible because <code>Pair</code> is a <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"noreferrer\"><code>data class</code></a>. Every argument of the primary constructor of a data class gets a <code>componentX()</code> method, where <code>X</code> is the index of the parameter. So the above call can be expressed like this:</p>\n\n<pre><code>val x = p.component1()\nval y = p.component2()\n</code></pre>\n\n<p>This makes it absolutely independent from the actual name of the parameter.</p>\n\n<p>If you, however, want to be able to write <code>p.x</code>, you'll have to go ahead and create your own data class (or use a library):</p>\n\n<pre><code>data class Point(val x : Double, val y : Double)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 7, "last_activity_date": 1515357698, "last_edit_date": 1515357698, "creation_date": 1515310959, "answer_id": 48135271, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/48135271#48135271", "title": "How to name components of a Pair", "body": "<p>I want to propose an alternative, which should be applied if the renaming is desired only in a certain scope. </p>\n\n<p>You can create a simple extension higher-order function enabling the naming in a scope, passed as a lambda-argument:</p>\n\n<pre><code>fun &lt;F, S&gt; Pair&lt;F, S&gt;.named(block: (F, S) -&gt; Unit) = block(first, second)\n</code></pre>\n\n<p>Now, a <code>Pair</code> can be called with a lambda, which is invoked with its components that are name-able on caller-site:</p>\n\n<pre><code>val pair = Pair(2, 3)\npair.named { x, y -&gt;\n    println(\"my pair: ($x,$y)\")\n}\n</code></pre>\n\n<p>It's even possible to apply the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"noreferrer\"><code>invoke</code> convention</a>:</p>\n\n<pre><code>operator fun&lt;F, S&gt; Pair&lt;F, S&gt;.invoke(block: (F, S) -&gt; Unit) = block(first, second)\n</code></pre>\n\n<p>Now, the <code>Pair</code> can be invoked directly:</p>\n\n<pre><code>val pair = Pair(2, 3)\npair { x, y -&gt;\n    println(\"my pair: ($x,$y)\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 9, "last_activity_date": 1515415836, "last_edit_date": 1515415836, "creation_date": 1515363835, "answer_id": 48142116, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/48142116#48142116", "title": "How to name components of a Pair", "body": "<p>Another solution is to define an <code>object</code> with meaningful extensions for  <code>Pair&lt;A, B&gt;</code> and to bring these extensions into the context using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"noreferrer\"><code>with(...) { ... }</code></a>.</p>\n\n<pre><code>object PointPairs {\n    val &lt;X&gt; Pair&lt;X, *&gt;.x get() = first\n    val &lt;Y&gt; Pair&lt;*, Y&gt;.y get() = second\n}\n</code></pre>\n\n<p>And the usage:</p>\n\n<pre><code>val point = Pair(2, 3)\n\nwith(PointPairs) {\n    println(point.x)\n}\n</code></pre>\n\n<p>This allows you to have several sets of extensions for the same type and to use each where appropriate.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1582778574, "last_edit_date": 1582778574, "creation_date": 1516050949, "answer_id": 48270757, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/48270757#48270757", "title": "How to name components of a Pair", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#standard-data-classes\" rel=\"nofollow noreferrer\">Kotlin documetation</a> says:</p>\n\n<blockquote>\n  <p>The standard library provides Pair and Triple. In most cases, though,\n  named data classes are a better design choice, because they make the\n  code more readable by providing meaningful names for properties.</p>\n</blockquote>\n\n<p>Since <code>Pair</code> is final you can unfortunately not inherit from it, but I would suggest to create a dedicated class <code>Point</code>:</p>\n\n<pre><code>data class Point&lt;T&gt;(val x: T, val y: T)\n</code></pre>\n\n<p>to represent a point. This way wherever you use it you are always forced to access it using the meaningful names.</p>\n\n<p>Use it:</p>\n\n<pre><code>val myPoint = Point(1.0, 2.0)\nprintln(\"This is the horizontal coordinate: ${myPoint.x}\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5906, "user_id": 944070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YBIt8.jpg?s=128&g=1", "display_name": "madlymad", "link": "https://stackoverflow.com/users/944070/madlymad"}, "edited": false, "score": 0, "creation_date": 1615984866, "post_id": 59727623, "comment_id": 117860141, "body": "Nice approach as it provide a bit more clear self documentation to code. Only drawback is that you still have to use the <code>.first</code> and <code>.second</code> to access each pair part."}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "reply_to_user": {"reputation": 5906, "user_id": 944070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YBIt8.jpg?s=128&g=1", "display_name": "madlymad", "link": "https://stackoverflow.com/users/944070/madlymad"}, "edited": false, "score": 1, "creation_date": 1616034903, "post_id": 59727623, "comment_id": 117879506, "body": "No. I never do that. Instead you can destruct the pair. <a href=\"https://stackoverflow.com/a/48133398/835883\">stackoverflow.com/a/48133398/835883</a>"}], "tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": false, "score": 2, "last_activity_date": 1578976974, "creation_date": 1578976974, "answer_id": 59727623, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair/59727623#59727623", "title": "How to name components of a Pair", "body": "<p>another thing i enjoy doing here to help code readability, is to use typealias (or more recently inline classes but still experimental at this time)</p>\n\n<p>so you could do this: </p>\n\n<pre><code>typealias Radius = Double?\ntypealias Area= Float\n</code></pre>\n\n<p>then do:  <code>Pair&lt;Area,Radius&gt;</code>\nso its much more readable, but for access description i  would do data class. </p>\n\n<p>you could take it one step further: </p>\n\n<pre><code>typealias  DimensionsPair = Pair&lt;Area,Radius&gt;\n</code></pre>\n\n<p>note that i think inline class here would bring better type safety. </p>\n"}], "owner": {"reputation": 10611, "user_id": 1839500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RLPIt.jpg?s=128&g=1", "display_name": "Dick Lucas", "link": "https://stackoverflow.com/users/1839500/dick-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8531, "favorite_count": 1, "accepted_answer_id": 48133398, "answer_count": 6, "score": 19, "last_activity_date": 1582778574, "creation_date": 1515286339, "last_edit_date": 1516050285, "question_id": 48133381, "link": "https://stackoverflow.com/questions/48133381/how-to-name-components-of-a-pair", "title": "How to name components of a Pair", "body": "<p>Given the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/\" rel=\"noreferrer\">Pair</a> <code>val coordinates = Pair(2, 3)</code>, is it possible to name each value so I can do something like <code>coordinates.x</code> to return <code>2</code>? Or is <code>coordinates.first</code> the only way to access that first value?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515284871, "post_id": 48133224, "comment_id": 83243763, "body": "I can&#39;t reproduce this. The only compiler errors or warnings I get are lack of a return statement and not initializing <code>stringBuilder</code>."}, {"owner": {"reputation": 11, "user_id": 4621297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmjEVva4L4A/AAAAAAAAAAI/AAAAAAAAEGo/5OnzdRGxoTE/photo.jpg?sz=128", "display_name": "Spikes ", "link": "https://stackoverflow.com/users/4621297/spikes"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515285629, "post_id": 48133224, "comment_id": 83243889, "body": "Do TODO comments in Kotlin cause unreachable code blocks below it? When I commented that out, It fixed the problem, and I know see the other errors."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515288733, "post_id": 48133224, "comment_id": 83244426, "body": "You can navigate to the definition of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-t-o-d-o.html\" rel=\"nofollow noreferrer\"><code>TODO</code></a> and see that it returns <code>Nothing</code> and always throws."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515289162, "post_id": 48133224, "comment_id": 83244489, "body": "Please don&#39;t put <i>SOLVED</i> in the title or question but accept the answer that solved your question"}, {"owner": {"reputation": 11, "user_id": 4621297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmjEVva4L4A/AAAAAAAAAAI/AAAAAAAAEGo/5OnzdRGxoTE/photo.jpg?sz=128", "display_name": "Spikes ", "link": "https://stackoverflow.com/users/4621297/spikes"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515289204, "post_id": 48133224, "comment_id": 83244492, "body": "@msrd0 I solved it myself so should I just remove the SOLVED?"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515289249, "post_id": 48133224, "comment_id": 83244504, "body": "No, you should write an answer to your own question, describing how you solved it, and mark that answer as accepted - then remove the <i>SOLVED</i>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1515302940, "post_id": 48133224, "comment_id": 83246437, "body": "Please make your question valid too. There isn&#39;t any <code>TODO()</code> in your code. Otherwise, no one can give you a concrete answer by only looking at the question."}], "answers": [{"tags": [], "owner": {"reputation": 2483, "user_id": 1729005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a471f843e0b60ef6683f2671d3fb9fe?s=128&d=identicon&r=PG", "display_name": "axblount", "link": "https://stackoverflow.com/users/1729005/axblount"}, "is_accepted": false, "score": 0, "last_activity_date": 1515284966, "creation_date": 1515284966, "answer_id": 48133270, "question_id": 48133224, "link": "https://stackoverflow.com/questions/48133224/try-catch-block-not-reachable-does-having-an-inner-try-finally-block-cause-the/48133270#48133270", "title": "Try-Catch Block not reachable? Does having an inner try-finally block cause the outer try-catch block to be unreachable?", "body": "<p>The lack of a <code>catch</code> clause in the inner <code>try</code> means that any exception there will be completely ignored. If you'd like to catch your exceptions in the outer <code>try</code> (while still including the inner <code>finally</code>) you can re-throw the inner exception by adding this to the inner <code>try</code>.</p>\n\n<pre><code>catch (e: Exception) {\n    throw e\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 1, "creation_date": 1515289851, "post_id": 48133628, "comment_id": 83244591, "body": "Yes, since <code>TODO</code> always throws an exception and the compiler knows about it"}], "tags": [], "owner": {"reputation": 11, "user_id": 4621297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmjEVva4L4A/AAAAAAAAAAI/AAAAAAAAEGo/5OnzdRGxoTE/photo.jpg?sz=128", "display_name": "Spikes ", "link": "https://stackoverflow.com/users/4621297/spikes"}, "is_accepted": true, "score": 0, "last_activity_date": 1515289451, "creation_date": 1515289451, "answer_id": 48133628, "question_id": 48133224, "link": "https://stackoverflow.com/questions/48133224/try-catch-block-not-reachable-does-having-an-inner-try-finally-block-cause-the/48133628#48133628", "title": "Try-Catch Block not reachable? Does having an inner try-finally block cause the outer try-catch block to be unreachable?", "body": "<p>Is it a Kotlin thing for \"TODO\" statement to invalidate and make the code underneath unreachable? It seems I had to comment out the TODO comment above the try block to make it reachable.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515327586, "last_edit_date": 1515327586, "creation_date": 1515311350, "answer_id": 48135302, "question_id": 48133224, "link": "https://stackoverflow.com/questions/48133224/try-catch-block-not-reachable-does-having-an-inner-try-finally-block-cause-the/48135302#48135302", "title": "Try-Catch Block not reachable? Does having an inner try-finally block cause the outer try-catch block to be unreachable?", "body": "<p><code>TODO</code> will be the last executed line:</p>\n\n<pre><code>fun x() {\n    TODO(\"Not implemented\")\n    //following is not reachable\n    try {\n\n    } catch (e: Exception) {\n\n    }\n}\n</code></pre>\n\n<p>That's because of <code>TODO</code>s implementation:</p>\n\n<pre><code>public inline fun TODO(reason: String): Nothing = \n    throw NotImplementedError(\"An operation is not implemented: $reason\")\n</code></pre>\n\n<p>It throws an exception and therefore returns <code>Nothing</code>, thus will always be the last thing executed (if reached).</p>\n"}], "owner": {"reputation": 11, "user_id": 4621297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fmjEVva4L4A/AAAAAAAAAAI/AAAAAAAAEGo/5OnzdRGxoTE/photo.jpg?sz=128", "display_name": "Spikes ", "link": "https://stackoverflow.com/users/4621297/spikes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 48133628, "answer_count": 3, "score": -2, "last_activity_date": 1515327586, "creation_date": 1515284382, "last_edit_date": 1515309975, "question_id": 48133224, "link": "https://stackoverflow.com/questions/48133224/try-catch-block-not-reachable-does-having-an-inner-try-finally-block-cause-the", "title": "Try-Catch Block not reachable? Does having an inner try-finally block cause the outer try-catch block to be unreachable?", "body": "<p>I am trying to code a simple website API call in Kotlin, but I am having some trouble implementing a try-catch block. It goes smoothly up until the final catch statement which turns the whole block into unreachable code.</p>\n\n<pre><code>     // REST web service call to get data from coinmarketcap API\ninner class RetrieveFeedTask : AsyncTask&lt;Void, Void, String&gt;() {\n    override fun doInBackground(vararg p0: Void?): String? {\n //            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        try {\n            // create a connection\n            val siteURL  = URL(\"https://api.coinmarketcap.com/v1/ticker/?limit=200\")\n            val urlConn = siteURL.openConnection() as HttpURLConnection\n            urlConn.connect()\n            // if there the connection is successful\n            try {\n                // reads the urlConn as a string\n                val bufferedReader = urlConn.inputStream.bufferedReader()\n                val stringBuilder = StringBuilder(\"\")\n                // each line from the json object\n                var line : String?\n                do {\n                    line = bufferedReader.readLine()\n                    stringBuilder.append(line).append(\"\\n\")\n                    if (line === null)\n                        break\n                } while (true)\n                bufferedReader.close()\n                return stringBuilder.toString()\n            } catch (e : Exception) {\n                throw e\n            } finally {\n                urlConn.disconnect()\n            }\n        } catch (e : Exception) {\n            Log.e(\"NETWORK\",\"Couldn't connect to the website: \" + e)\n            return null\n        }\n    }\n\n    override fun onPostExecute(result: String?) {\n        if (result == null) {\n            // should return an error message\n            testTextView!!.text = \"Error with website\"\n        } else {\n            testTextView!!.text = result\n        }\n    }\n\n}\n</code></pre>\n\n<p>I thought that the final catch statement would allow the try block to be reached even if it does not connect? I was reading around and saw that the finally statement will always run so I thought that might be the problem, but when I converted that into a catch block, it still would give me the same unreachable code. I was wondering if this was just specific to Kotlin as I am just starting to learn it. </p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "is_accepted": true, "score": 1, "last_activity_date": 1515337112, "creation_date": 1515337112, "answer_id": 48138375, "question_id": 48133190, "link": "https://stackoverflow.com/questions/48133190/cannot-compile-tornadofx-app-into-standalone-jar/48138375#48138375", "title": "cannot compile tornadofx app into standalone jar", "body": "<p>After sleeping and googling I found out!</p>\n\n<p>Despite the fact that my main file is called <code>Main.kt</code>, in manifest note that the file must be called <code>MainKt</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;MainKt&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Also I was not sure why would I need to use <code>kotlinc</code> with a classpath pointing to <code>javaFx.jar</code>, and in fact, I don't, that why I have maven.\nAlso, use JDK 1.8.0_144 (<code>sdk use java 8u144-zulu</code>)</p>\n"}], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 48138375, "answer_count": 1, "score": 2, "last_activity_date": 1515337112, "creation_date": 1515284073, "question_id": 48133190, "link": "https://stackoverflow.com/questions/48133190/cannot-compile-tornadofx-app-into-standalone-jar", "title": "cannot compile tornadofx app into standalone jar", "body": "<p>I am pretyy new to Kotlin and to JVM overall, I  would to compile my helloworld kotlin app into a standalone jar which would be executable on a client machine (which has a JRE)</p>\n\n<p>I am sure that I am using Java 1.8 with JavaFx included, I also have following dependencies in pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;no.tornado&lt;/groupId&gt;\n        &lt;artifactId&gt;tornadofx&lt;/artifactId&gt;\n        &lt;version&gt;1.7.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src&lt;/sourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;main.kt&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Running the following </p>\n\n<p><code>kotlinc /home/denis/prg/java/kot/src/main.kt -include-runtime -d main.jar -jvm-target 1.8</code>\ngives </p>\n\n<p><code>src/main.kt:3:8: error: unresolved reference: tornadofx</code></p>\n\n<p>Also, running <code>maven clean package</code> produces a SNAPSHOT jar, but I cannot run it?.. Java gives <code>Could not find or load main class main.kt</code></p>\n\n<p>How can I make something usable?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1515285034, "post_id": 48133200, "comment_id": 83243786, "body": "If we&#39;re talking about elegance, I&#39;d probably split this up into a more general <code>crossProduct</code> method and then map pairs to the desired strings."}, {"owner": {"reputation": 1928, "user_id": 3528524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xidg8.jpg?s=128&g=1", "display_name": "dniHze", "link": "https://stackoverflow.com/users/3528524/dnihze"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515285352, "post_id": 48133200, "comment_id": 83243842, "body": "True, probably have to update my answer. Btw first I wrote an extension making list of pairs, but then I decided to make it more case specific."}, {"owner": {"reputation": 1928, "user_id": 3528524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xidg8.jpg?s=128&g=1", "display_name": "dniHze", "link": "https://stackoverflow.com/users/3528524/dnihze"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1515286079, "post_id": 48133200, "comment_id": 83243979, "body": "@chris updated w/ adding one more extension for general usage"}, {"owner": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1515286641, "post_id": 48133200, "comment_id": 83244075, "body": "@chris I think you meant \u2018cartesianProduct\u2019"}, {"owner": {"reputation": 1928, "user_id": 3528524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xidg8.jpg?s=128&g=1", "display_name": "dniHze", "link": "https://stackoverflow.com/users/3528524/dnihze"}, "reply_to_user": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "edited": false, "score": 0, "creation_date": 1515287214, "post_id": 48133200, "comment_id": 83244169, "body": "@chrisg I think he meant so. Btw also my fault too cause of lack of English knowledge."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 200, "user_id": 7803590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df85890e13f3d9584a7b6824a576580?s=128&d=identicon&r=PG&f=1", "display_name": "chrisg", "link": "https://stackoverflow.com/users/7803590/chrisg"}, "edited": false, "score": 0, "creation_date": 1515290194, "post_id": 48133200, "comment_id": 83244648, "body": "@chrisg, Woops, yes. That&#39;s what I get for not having used either for a good while :)"}], "tags": [], "owner": {"reputation": 1928, "user_id": 3528524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xidg8.jpg?s=128&g=1", "display_name": "dniHze", "link": "https://stackoverflow.com/users/3528524/dnihze"}, "is_accepted": true, "score": 15, "last_activity_date": 1515287035, "last_edit_date": 1515287035, "creation_date": 1515284119, "answer_id": 48133200, "question_id": 48132986, "link": "https://stackoverflow.com/questions/48132986/all-possible-combinations-of-two-lists/48133200#48133200", "title": "All possible combinations of two lists", "body": "<p>You could write these extension functions based on <code>flatMap</code> stdlib function:</p>\n\n<pre><code>// Extensions\nfun &lt;T, S&gt; Collection&lt;T&gt;.cartesianProduct(other: Iterable&lt;S&gt;): List&lt;Pair&lt;T, S&gt;&gt; {\n    return cartesianProduct(other, { first, second -&gt; first to second })\n}\n\nfun &lt;T, S, V&gt; Collection&lt;T&gt;.cartesianProduct(other: Iterable&lt;S&gt;, transformer: (first: T, second: S) -&gt; V): List&lt;V&gt; {\n    return this.flatMap { first -&gt; other.map { second -&gt; transformer.invoke(first, second) } }\n}\n\n// Example\nfun main(args: Array&lt;String&gt;) {\n    val ints = listOf(0, 1, 2)\n    val strings = listOf(\"a\", \"b\", \"c\")\n\n    // So you could use extension with creating custom transformer\n    strings.cartesianProduct(ints) { string, int -&gt;\n        \"$int $string\"\n    }.forEach(::println)\n\n    // Or use more generic one\n    strings.cartesianProduct(ints)\n            .map { (string, int) -&gt;\n                \"$int $string\"\n            }\n            .forEach(::println)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 653, "user_id": 2049647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XrVZ.png?s=128&g=1", "display_name": "ATutorMe", "link": "https://stackoverflow.com/users/2049647/atutorme"}, "is_accepted": false, "score": 1, "last_activity_date": 1600927116, "last_edit_date": 1600927116, "creation_date": 1600926645, "answer_id": 64040257, "question_id": 48132986, "link": "https://stackoverflow.com/questions/48132986/all-possible-combinations-of-two-lists/64040257#64040257", "title": "All possible combinations of two lists", "body": "<p>A possible alternative:</p>\n<pre><code>fun &lt;S, T&gt; List&lt;S&gt;.cartesianProduct(other: List&lt;T&gt;) = this.flatMap {\n    List(other.size){ i -&gt; Pair(it, other[i]) } \n}\n</code></pre>\n"}], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2463, "favorite_count": 1, "accepted_answer_id": 48133200, "answer_count": 2, "score": 9, "last_activity_date": 1600927116, "creation_date": 1515281844, "question_id": 48132986, "link": "https://stackoverflow.com/questions/48132986/all-possible-combinations-of-two-lists", "title": "All possible combinations of two lists", "body": "<p>Given I have two lists: </p>\n\n<pre><code>val ints = listOf(0, 1, 2)\nval strings = listOf(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>and I want all possible combinations of their elements</p>\n\n<p><code>0a, 1a, 2a, 0b</code> etc</p>\n\n<p>is there a more elegant way than: </p>\n\n<pre><code>ints.forEach { int -&gt; \n\n    strings.forEach { string -&gt;  \n\n\n        println(\"$int $string\")\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["null", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 5, "creation_date": 1515268121, "post_id": 48131236, "comment_id": 83239439, "body": "<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 1427, "user_id": 1815052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bed5ab71b8d23d9bf07a5fa12915699c?s=128&d=identicon&r=PG", "display_name": "SqueezyMo", "link": "https://stackoverflow.com/users/1815052/squeezymo"}, "edited": false, "score": 0, "creation_date": 1515271615, "post_id": 48131236, "comment_id": 83240586, "body": "I would suggest <a href=\"https://www.youtube.com/watch?v=2IhT8HACc2E\" rel=\"nofollow noreferrer\">this talk</a> by Andrey Breslav."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 7, "last_activity_date": 1517512203, "last_edit_date": 1592644375, "creation_date": 1515269957, "answer_id": 48131516, "question_id": 48131236, "link": "https://stackoverflow.com/questions/48131236/what-does-mean-on-a-kotlin-return-value/48131516#48131516", "title": "What does ! mean on a Kotlin return value?", "body": "<p>A Type notated with <code>!</code> is called <strong>platform type</strong>, which is a type <em>coming from Java</em> and thus can most probably be <code>null</code>. It\u2019s what the Kotlin compiler infers by default when calling Java (for the most basic cases, Java methods can be <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"noreferrer\">annotated</a> to get around this). You should handle platform types as <em>nullable</em> types, unless you certainly know that the particular API will never return <code>null</code>. The compiler allows platform types to be assigned to variables of both nullable and non-null types.</p>\n<blockquote>\n<p><strong><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">Notation for Platform Types</a></strong></p>\n<p>[...]</p>\n<p><code>T!</code> means &quot;<code>T or T?</code>&quot; [...]</p>\n</blockquote>\n<p>You could refer to platform types as &quot;types of <strong>unknown nullability</strong>&quot;. Also important to know is that you cannot use the exclamation-marked type for your own types, it's not part of the Kotlin syntax, it's only a notation.</p>\n"}], "owner": {"reputation": 8208, "user_id": 41742, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f45066b1408b3df9b2f48a7e53aa59a7?s=128&d=identicon&r=PG&f=1", "display_name": "Curyous", "link": "https://stackoverflow.com/users/41742/curyous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 48131516, "answer_count": 1, "score": 2, "last_activity_date": 1517512203, "creation_date": 1515268012, "question_id": 48131236, "link": "https://stackoverflow.com/questions/48131236/what-does-mean-on-a-kotlin-return-value", "title": "What does ! mean on a Kotlin return value?", "body": "<p>I'm trying to use a <code>Task</code> <code>result</code> that has a type of <code>Location!</code>. What does that mean for how I am supposed to handle nullability? Could it be null or not?</p>\n\n<p>I couldn't find this kind of declaration in the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety</a> section of <a href=\"https://kotlinlang.org\" rel=\"nofollow noreferrer\">kotlinlang.org</a>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1515261726, "post_id": 48130130, "comment_id": 83237392, "body": "You should also add the code which troubles you. In this case <code>Student</code>. Also it looks like it&#39;s an issue with <code>Gson</code> and not <code>Parcelize</code>."}, {"owner": {"reputation": 645, "user_id": 6290489, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/582add55bdcb5022553a4c4985bf2ec1?s=128&d=identicon&r=PG&f=1", "display_name": "jlively", "link": "https://stackoverflow.com/users/6290489/jlively"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1515264108, "post_id": 48130130, "comment_id": 83238151, "body": "@tynn I&#39;ve edited my question."}, {"owner": {"reputation": 436, "user_id": 1983018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c449e81e562fd1d46a06061a9bb34814?s=128&d=identicon&r=PG", "display_name": "cuasodayleo", "link": "https://stackoverflow.com/users/1983018/cuasodayleo"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1542968695, "post_id": 48130130, "comment_id": 93762562, "body": "Gson throw this exception if you put incorrect class when passing. Check this answer, I think it same with yours <a href=\"https://stackoverflow.com/a/30372271/1983018\">stackoverflow.com/a/30372271/1983018</a> .Agree with @tynn that this is <code>Gson</code> issue instead of <code>Parcelize</code>"}], "owner": {"reputation": 645, "user_id": 6290489, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/582add55bdcb5022553a4c4985bf2ec1?s=128&d=identicon&r=PG&f=1", "display_name": "jlively", "link": "https://stackoverflow.com/users/6290489/jlively"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515265481, "creation_date": 1515260902, "last_edit_date": 1515265481, "question_id": 48130130, "link": "https://stackoverflow.com/questions/48130130/kotlin-parcelize-exception-api-21", "title": "Kotlin Parcelize Exception API &lt; 21", "body": "<p>I am using <code>Parcelize</code> in kotlin.</p>\n\n<p>Whenever I run my app on an API level below 21 I get the following exceptions:</p>\n\n<pre><code>W/dalvikvm: VFY: register1 v5 type 17, wanted 5\nW/dalvikvm: VFY: register1 v6 type 17, wanted 5\nW/dalvikvm: VFY:  rejecting opcode 0x76 at 0x0020\nW/dalvikvm: VFY:  rejected L$Creator;.createFromParcel (Landroid/os/Parcel;)Ljava/lang/Object;\nW/dalvikvm: Verifier rejected class L$Creator;\nW/dalvikvm: Exception Ljava/lang/VerifyError; thrown while initializing L/data/model/Student;\n: Unable to invoke no-args constructor for class data.model.Student. Registering an InstanceCreator with Gson for this type may fix this problem.\nI/dalvikvm: Rejecting re-init on previously-failed class L/data/model/Student; v=0x0\nI/dalvikvm: Rejecting re-init on previously-failed class L/data/model/Student; v=0x0\nW/dalvikvm: VFY: unable to find class referenced in signature (L/data/model/Student;)\n</code></pre>\n\n<p>I've tried using \n<code>classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"</code> and <code>apply plugin: \"kotlin-noarg\"</code> but with no luck.</p>\n\n<pre><code> @Parcelize\n@Entity(tableName = Constants.STUDENTS_TABLE_NAME)\ndata class Student(\n        @PrimaryKey\n        @ColumnInfo(name = \"name\")\n        @SerializedName(\"name\")\n        val name: String,\n        @ColumnInfo(name = \"phone\")\n        @SerializedName(\"phone\")\n        val phone: String,\n        @ColumnInfo(name = \"address\")\n        @SerializedName(\"address\")\n        val address: String,\n        @ColumnInfo(name = \"city\")\n        @SerializedName(\"city\")\n        val city: String,\n        @ColumnInfo(name = \"sponsored\")\n        @SerializedName(\"sponsored\")\n        val isSponsored: Boolean,\n        @ColumnInfo(name = \"isFavorite\")\n        var isFavorite: Boolean\n\n) : Parcelable\n</code></pre>\n\n<p>And this is the only code for <code>Gson</code></p>\n\n<pre><code> @Provides\n@Singleton\nfun provideGson(): Gson {\n    return GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create()\n}\n</code></pre>\n"}, {"tags": ["asynchronous", "recursion", "kotlin", "suspend", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515313450, "post_id": 48129878, "comment_id": 83248167, "body": "I&#39;m trying to reproduce your results, but I can&#39;t resolve <code>asyncProfile</code>."}, {"owner": {"reputation": 137, "user_id": 2107953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e86629f39fdb8bdabc7401b98f6a034a?s=128&d=identicon&r=PG", "display_name": "INlHELL", "link": "https://stackoverflow.com/users/2107953/inlhell"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515343938, "post_id": 48129878, "comment_id": 83256321, "body": "@MarkoTopolnik sorry for that, here is <a href=\"https://gist.github.com/INLHELL/491a218e16906b70743574f7a0f7bd98\" rel=\"nofollow noreferrer\">gist</a> with full example that has mentioned util function"}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1515314820, "post_id": 48132004, "comment_id": 83248426, "body": "The suspend fun checks whether the continuation object is its own of from its caller. If from the caller, it creates a new one, if its own, it jumps to the location in its body where the resumption should take place. <code>asyncFibonacci(40)</code> makes a total of 331,160,281 suspend fun calls so it creates that many continuation objects. It never suspends/resumes so the other checks aren&#39;t exercised."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515315356, "post_id": 48132004, "comment_id": 83248527, "body": "Actually, self-recursion is the worst case, it must make all the checks to realize that, even though the continuation is of its own type, it is not a resuming invocation."}, {"owner": {"reputation": 137, "user_id": 2107953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e86629f39fdb8bdabc7401b98f6a034a?s=128&d=identicon&r=PG", "display_name": "INlHELL", "link": "https://stackoverflow.com/users/2107953/inlhell"}, "edited": false, "score": 0, "creation_date": 1515349895, "post_id": 48132004, "comment_id": 83258330, "body": "@msrd0 Thanks for explanation, I&#39;ve also firstly tried to decompile the code and read generated bytecode, but as Marko explained problem with suspendable functions lies a bit deeper (&quot;asyncFibonacci(40) makes a total of 331,160,281 suspend fun calls so it creates that many continuation objects&quot;), in any way, you guys helped me a lot and clarify the case."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515351010, "post_id": 48132004, "comment_id": 83258623, "body": "You&#39;d be surprised what <i>little</i> effect the object allocation itself has---In an early version i had just some mock object created and there was almost no difference in speed. The allocation of short-lived objects is an extremely cheap operation in a language with a generational GC."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515351220, "post_id": 48132004, "comment_id": 83258694, "body": "@MarkoTopolnik interesting, most of the time I hear people blaming the JVM GC for every performance problem they have. Nice to see that the GC also has some advantages"}], "tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": false, "score": 2, "last_activity_date": 1515273545, "creation_date": 1515273545, "answer_id": 48132004, "question_id": 48129878, "link": "https://stackoverflow.com/questions/48129878/kotlin-suspend-function-recursive-call/48132004#48132004", "title": "Kotlin suspend function recursive call", "body": "<p>The problem lies in the Java bytecode generated from the <code>suspend</code> function. While a non-<code>suspend</code> function just generates bytecode like we'd expect it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static final long asyncFibonacci(int n) {\n  long var10000;\n  if (n &lt;= -2) {\n     var10000 = asyncFibonacci(n + 2) - asyncFibonacci(n + 1);\n  } else if (n == -1) {\n     var10000 = 1L;\n  } else if (n == 0) {\n     var10000 = 0L;\n  } else if (n == 1) {\n     var10000 = 1L;\n  } else {\n     if (n &lt; 2) {\n        throw (Throwable)(new IllegalArgumentException());\n     }\n\n     var10000 = asyncFibonacci(n - 1) + asyncFibonacci(n - 2);\n  }\n\n  return var10000;\n}\n</code></pre>\n\n<p>When you add the suspend keyword, the decompiled Java source code is 165 lines - so a lot larger. You can view the bytecode and the decompiled Java code in IntelliJ by going to <em>Tools</em> -> <em>Kotlin</em> -> <em>Show Kotlin bytecode</em> (and then click <em>Decompile</em> on top of the page). While it's not easy to tell what exactly the Kotlin compiler is doing in the function, it looks like it's doing a whole lot of coroutine status checking - which kind of makes sense given that a coroutine can be suspended at any time.</p>\n\n<p>So as a conclusion I'd say that every <code>suspend</code> method call is a lot more heavy than a non-<code>suspend</code> call. This does not only apply to recursive functions, but probably has the worst result on them.</p>\n\n<blockquote>\n  <p>Is it totally stupid idea to mark recursive functions with suspend?</p>\n</blockquote>\n\n<p>Unless you have a very good reason to do so - Yes</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 2107953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e86629f39fdb8bdabc7401b98f6a034a?s=128&d=identicon&r=PG", "display_name": "INlHELL", "link": "https://stackoverflow.com/users/2107953/inlhell"}, "edited": false, "score": 0, "creation_date": 1515348132, "post_id": 48138724, "comment_id": 83257757, "body": "Ok, thanks a lot, I have in mind that state machine with kind of switch-case was generated in bytecode, but what I didn&#39;t expect that so many continuation objects will be created even there is no other suspend function calls inside recursive fibonacci function."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 137, "user_id": 2107953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e86629f39fdb8bdabc7401b98f6a034a?s=128&d=identicon&r=PG", "display_name": "INlHELL", "link": "https://stackoverflow.com/users/2107953/inlhell"}, "edited": false, "score": 0, "creation_date": 1515348765, "post_id": 48138724, "comment_id": 83257968, "body": "Recursion is a very narrow special case where the compiler could actually know that the callee will not suspend. In general there is no point to have a <code>suspend fun</code> that won&#39;t eventually reach <code>suspendCoroutine</code> so there&#39;s no point in optimizing for it."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1515340556, "last_edit_date": 1515340556, "creation_date": 1515339506, "answer_id": 48138724, "question_id": 48129878, "link": "https://stackoverflow.com/questions/48129878/kotlin-suspend-function-recursive-call/48138724#48138724", "title": "Kotlin suspend function recursive call", "body": "<p>As an introductory comment, your testing code setup is too complex. This much simpler code achieves the same in terms of stressing <code>suspend fun</code> recursion:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    launch(Unconfined) {\n        val nFibonacci = 37\n        var sum = 0L\n        (1..1_000).forEach {\n            val took = measureTimeMillis {\n                sum += suspendFibonacci(nFibonacci)\n            }\n            println(\"Sum is $sum, took $took ms\")\n        }\n    }\n}\n\nsuspend fun suspendFibonacci(n: Int): Long {\n    return when {\n        n &gt;= 2 -&gt; suspendFibonacci(n - 1) + suspendFibonacci(n - 2)\n        n == 0 -&gt; 0\n        n == 1 -&gt; 1\n        else -&gt; throw IllegalArgumentException()\n    }\n}\n</code></pre>\n\n<p>I tried to reproduce its performance by writing a plain function that approximates the kinds of things the <code>suspend</code> function must do to achieve suspendability:</p>\n\n<pre><code>val COROUTINE_SUSPENDED = Any()\n\nfun fakeSuspendFibonacci(n: Int, inCont: Continuation&lt;Unit&gt;): Any? {\n    val cont = if (inCont is MyCont &amp;&amp; inCont.label and Integer.MIN_VALUE != 0) {\n        inCont.label -= Integer.MIN_VALUE\n        inCont\n    } else MyCont(inCont)\n    val suspended = COROUTINE_SUSPENDED\n    loop@ while (true) {\n        when (cont.label) {\n            0 -&gt; {\n                when {\n                    n &gt;= 2 -&gt; {\n                        cont.n = n\n                        cont.label = 1\n                        val f1 = fakeSuspendFibonacci(n - 1, cont)!!\n                        if (f1 === suspended) {\n                            return f1\n                        }\n                        cont.data = f1\n                        continue@loop\n                    }\n                    n == 1 || n == 0 -&gt; return n.toLong()\n                    else -&gt; throw IllegalArgumentException(\"Negative input not allowed\")\n                }\n            }\n            1 -&gt; {\n                cont.label = 2\n                cont.f1 = cont.data as Long\n                val f2 = fakeSuspendFibonacci(cont.n - 2, cont)!!\n                if (f2 === suspended) {\n                    return f2\n                }\n                cont.data = f2\n                continue@loop\n            }\n            2 -&gt; {\n                val f2 = cont.data as Long\n                return cont.f1 + f2\n            }\n            else -&gt; throw AssertionError(\"Invalid continuation label ${cont.label}\")\n        }\n    }\n}\n\nclass MyCont(val completion: Continuation&lt;Unit&gt;) : Continuation&lt;Unit&gt; {\n    var label = 0\n    var data: Any? = null\n    var n: Int = 0\n    var f1: Long = 0\n\n    override val context: CoroutineContext get() = TODO(\"not implemented\")\n    override fun resumeWithException(exception: Throwable) = TODO(\"not implemented\")\n    override fun resume(value: Unit) = TODO(\"not implemented\")\n}\n</code></pre>\n\n<p>You have to invoke this one with</p>\n\n<pre><code>sum += fakeSuspendFibonacci(nFibonacci, InitialCont()) as Long\n</code></pre>\n\n<p>where <code>InitialCont</code> is</p>\n\n<pre><code>class InitialCont : Continuation&lt;Unit&gt; {\n    override val context: CoroutineContext get() = TODO(\"not implemented\")\n    override fun resumeWithException(exception: Throwable) = TODO(\"not implemented\")\n    override fun resume(value: Unit) = TODO(\"not implemented\")\n}\n</code></pre>\n\n<p>Basically, to compile a <code>suspend fun</code> the compiler has to turn its body into a state machine. Each invocation must also create an object to hold the machine's state. When you resume, the state object tells which state handler to go to. The above still isn't all there is to it, the real code is even more complex. </p>\n\n<p>In intepreted mode (<code>java -Xint</code>), I get almost the same performance as the actual <code>suspend fun</code>, and it is less than twice as fast than the real one with JIT enabled. By comparison, the \"direct\" function implementation is about 10 times as fast. That means that the code shown explains a good part of the overhead of suspendability.</p>\n"}], "owner": {"reputation": 137, "user_id": 2107953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e86629f39fdb8bdabc7401b98f6a034a?s=128&d=identicon&r=PG", "display_name": "INlHELL", "link": "https://stackoverflow.com/users/2107953/inlhell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1862, "favorite_count": 0, "accepted_answer_id": 48138724, "answer_count": 2, "score": 5, "last_activity_date": 1552981376, "creation_date": 1515259261, "last_edit_date": 1552981376, "question_id": 48129878, "link": "https://stackoverflow.com/questions/48129878/kotlin-suspend-function-recursive-call", "title": "Kotlin suspend function recursive call", "body": "<p>Suddenly discover that recursive call of suspend function takes more time then calling the same function but without <code>suspend</code> modifier, so please consider the code snippet below (basic Fibonacci series calculation):</p>\n\n<pre><code>suspend fun asyncFibonacci(n: Int): Long = when {\n    n &lt;= -2 -&gt; asyncFibonacci(n + 2) - asyncFibonacci(n + 1)\n    n == -1 -&gt; 1\n    n == 0 -&gt; 0\n    n == 1 -&gt; 1\n    n &gt;= 2 -&gt; asyncFibonacci(n - 1) + asyncFibonacci(n - 2)\n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>If I call this function and measure its execution time with code below: </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val totalElapsedTime = measureTimeMillis {\n        val nFibonacci = 40\n\n        val deferredFirstResult: Deferred&lt;Long&gt; = async {\n            asyncProfile(\"fibonacci\") { asyncFibonacci(nFibonacci) } as Long\n        }\n        val deferredSecondResult: Deferred&lt;Long&gt; = async {\n            asyncProfile(\"fibonacci\") { asyncFibonacci(nFibonacci) } as Long\n        }\n\n        val firstResult: Long = runBlocking { deferredFirstResult.await() }\n        val secondResult: Long = runBlocking { deferredSecondResult.await() }\n        val superSum = secondResult + firstResult\n        println(\"${thread()} - Sum of two $nFibonacci'th fibonacci numbers: $superSum\")\n    }\n    println(\"${thread()} - Total elapsed time: $totalElapsedTime millis\")\n}\n</code></pre>\n\n<p>I observe further results:</p>\n\n<pre><code>commonPool-worker-2:fibonacci - Start calculation...\ncommonPool-worker-1:fibonacci - Start calculation...\ncommonPool-worker-2:fibonacci - Finish calculation...\ncommonPool-worker-2:fibonacci - Elapsed time: 7704 millis\ncommonPool-worker-1:fibonacci - Finish calculation...\ncommonPool-worker-1:fibonacci - Elapsed time: 7741 millis\nmain - Sum of two 40'th fibonacci numbers: 204668310\nmain - Total elapsed time: 7816 millis\n</code></pre>\n\n<p>But if I remove <code>suspend</code> modifier from <code>asyncFibonacci</code> function, I'll have this result:</p>\n\n<pre><code>commonPool-worker-2:fibonacci - Start calculation...\ncommonPool-worker-1:fibonacci - Start calculation...\ncommonPool-worker-1:fibonacci - Finish calculation...\ncommonPool-worker-1:fibonacci - Elapsed time: 1179 millis\ncommonPool-worker-2:fibonacci - Finish calculation...\ncommonPool-worker-2:fibonacci - Elapsed time: 1201 millis\nmain - Sum of two 40'th fibonacci numbers: 204668310\nmain - Total elapsed time: 1250 millis\n</code></pre>\n\n<p>I know that's better to rewrite such a function with <code>tailrec</code> it will increase its execution time apx. almost in 100 times, but anyway, what this <code>suspend</code> key word does that decrease execution speed from 1 second to 8 seconds?</p>\n\n<p>Is it totally stupid idea to mark recursive functions with <code>suspend</code>?</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-kotlin"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1515257671, "post_id": 48129498, "comment_id": 83235957, "body": "The function&#39;s Java definition is <code>Function&lt;? super Object[], R&gt;</code> so you need to express <code>Object[]</code> in Kotlin."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1515596994, "post_id": 48129498, "comment_id": 83360816, "body": "I&#39;d try writing this file in Java, without lambdas, then convert it over to Kotlin with <code>Convert Java to Kotlin</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": true, "score": 6, "last_activity_date": 1536863420, "creation_date": 1536863420, "answer_id": 52319803, "question_id": 48129498, "link": "https://stackoverflow.com/questions/48129498/rxjava-2-0-and-kotlin-single-zip-with-list-of-singles/52319803#52319803", "title": "RxJava 2.0 and Kotlin Single.zip() with list of singles", "body": "<p>The problem is that, because of type erasure, the type of the parameters to the <code>zipper</code> function are unknown. As you can see in the definition of <code>zip</code>:</p>\n\n<pre><code>public static &lt;T, R&gt; Single&lt;R&gt; zip(final Iterable&lt;? extends SingleSource&lt;? extends T&gt;&gt; sources, Function&lt;? super Object[], ? extends R&gt; zipper)\n</code></pre>\n\n<p>You'll have to use <code>Any</code> as the input of your array, and cast to whatever you need each of them to be:</p>\n\n<pre><code>roomDatabase.userFriendsDao().getUserFriendsDtosForToken(token).subscribe(\n        { userFriends: List&lt;UserFriendDTO&gt; -&gt;\n            Single.zip(\n                    getLocationSingleForEveryUser(userFriends),\n                    Function&lt;Array&lt;Any&gt;, List&lt;Location&gt;&gt; { t: Array&lt;Any&gt; -&gt; listOf&lt;Location&gt;() })\n        },\n        { error: Throwable -&gt; }\n)\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 5396120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cey1j.jpg?s=128&g=1", "display_name": "Efka", "link": "https://stackoverflow.com/users/5396120/efka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4654, "favorite_count": 1, "accepted_answer_id": 52319803, "answer_count": 1, "score": 9, "last_activity_date": 1536863420, "creation_date": 1515257001, "question_id": 48129498, "link": "https://stackoverflow.com/questions/48129498/rxjava-2-0-and-kotlin-single-zip-with-list-of-singles", "title": "RxJava 2.0 and Kotlin Single.zip() with list of singles", "body": "<p>I have issue that I cannot solve. Im trying to .zip(List, ) multiple Singles into one using Kotlin and none of Functions i supply as second argument fits.</p>\n\n<pre><code>    fun getUserFriendsLocationsInBuckets(token: String) {\n    roomDatabase.userFriendsDao().getUserFriendsDtosForToken(token).subscribe(\n            { userFriends: List&lt;UserFriendDTO&gt; -&gt;\n                Single.zip(getLocationSingleForEveryUser(userFriends),\n                        Function&lt;Array&lt;List&lt;Location&gt;&gt;, List&lt;Location&gt;&gt; { t: Array&lt;List&lt;Location&gt;&gt; -&gt; listOf&lt;Location&gt;() })\n            },\n            { error: Throwable -&gt; }\n    )\n}\n\nprivate fun getLocationSingleForEveryUser(userFriends: List&lt;UserFriendDTO&gt;): List&lt;Single&lt;List&lt;Location&gt;&gt;&gt; =\n        userFriends.map { serverRepository.locationEndpoint.getBucketedUserLocationsInLast24H(it.userFriendId) }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1ByNM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1ByNM.png\" alt=\"Android studio error\"></a></p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1515256925, "post_id": 48129353, "comment_id": 83235722, "body": "What&#39;s the log output for Snapshot Data"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1515257036, "post_id": 48129353, "comment_id": 83235753, "body": "<code>Snapshot Data: 1515167592063</code> which makes me wonder if each node under UserInfo is being treated as a separate snapshot and not all of it under one item"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1515259140, "post_id": 48129353, "comment_id": 83236435, "body": "have you tried     <code>val  userInfo = snapshot!!.getValue(UserInfo::class.java)</code>? Whats the result? Can you also share your code where you attach the value listener?"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1515259774, "post_id": 48129353, "comment_id": 83236671, "body": "I did! It throws an error and says something along the lines of &quot;cannot cast Java.Lang.Long&quot; to &quot;User.class&quot; - which makes sense, it&#39;s grabbing dateJoined, which is a Long, and tries to cast that to User - which won&#39;t work. I also do not actually attach a value event listener (from my understanding the FirebaseAdapter handles that itself) should I be doing that somewhere?"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 0, "creation_date": 1515259821, "post_id": 48129353, "comment_id": 83236686, "body": "I haven&#39;t used the <code>FirebaseAdapter</code> myself, so that should be fine. But how come you tell the adapter to display <code>User::class.java</code> when you put in a reference on <code>UserInfo</code>? (<code>mDatabaseReference.child(&quot;Users&#47;${prefs.UID}&#47;UserInfo&quot;)</code>)"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "edited": false, "score": 1, "creation_date": 1515259878, "post_id": 48129353, "comment_id": 83236700, "body": "As a bit of clarification, what I&#39;m trying to do here is create an Edit Profile page where a user can update their information and the app will update it and display it back in real time - the recyclerview would contain all the options (Gender, Location, DOB, etc.) and clicking on a row would allow them to edit that field. My main hiccup is trying to actually get the info from the database into the recyclerview fields, I <i>think</i> the current method I have will work, but I&#39;m not sure what exactly I need to change."}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "reply_to_user": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 0, "creation_date": 1515259972, "post_id": 48129353, "comment_id": 83236745, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/162657/discussion-between-florian-hansen-and-tai-m\">continue this discussion in chat</a>."}], "owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515256336, "creation_date": 1515255952, "last_edit_date": 1515256336, "question_id": 48129353, "link": "https://stackoverflow.com/questions/48129353/how-to-read-a-series-of-items-under-a-child-node-in-firebase-using-firebaseadapt", "title": "How to read a series of items under a child node in Firebase using FirebaseAdapter", "body": "<p>As the title states, I'm trying to read a bunch of nodes under a nested node in Firebase, and display the information using FirebaseAdapter. I'm using the parseSnapshot method to try and grab the information I need but I think I'm misunderstanding exactly <em>how</em> to go about getting the information.  The user section of the database is structured like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bd8fb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bd8fb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want <em>only</em> the information under UserInfo, and so I currently have the following code setup to intialize a recyclerview adapter (which gets the information)</p>\n\n<pre><code>private fun setupRequiredRecyclerView() {\n    val requiredItems = private_items_recycler\n    val context = this\n    val userDataRef = mDatabaseReference.child(\"Users/${prefs.UID}/UserInfo\")\n    val mAdapter = RequiredItemsAdapter(User::class.java, R.layout.privaterecyclerview_item_row, RequiredProfileItemsViewHolder::class.java, userDataRef, context)\n\n    //load data into adapter\n    requiredItems.adapter = mAdapter\n\n    //add divider between items\n    requiredItems.addItemDecoration(Utilities.createDivider(this))\n\n}\n</code></pre>\n\n<p>But the data snapshot I get back in the parseSnapshot method only seems to contain \"dateJoined\" and no other nodes, I'm guessing there's something wrong with my reference, but I don't know how to structure it - going up to <code>\"Users/UID\"</code> gets me everything <em>but</em> it also gets me UserInfoComplete, which I don't want (and as far as I know, there's no way to ignore that data in parseSnapshot, as FirebaseAdapter grabs every child node)</p>\n\n<p>Does anyone out there know how exactly I need to structure my database reference to only get the UserInfo data?</p>\n\n<p>(If necessary, this is my current parseSnapshot method):</p>\n\n<pre><code>override fun parseSnapshot(snapshot: DataSnapshot?): User {\n    lateinit var user : User\n\n    Log.i(\"Snapshot Data\", snapshot!!.value.toString())\n\n    var dateJoined = snapshot!!.value\n    var dateOfBirth = snapshot.child(\"dateOfBirth\").value\n    var gender = snapshot.child(\"Gender\").value\n    var location = snapshot.child(\"Location\").value\n    var phoneNumber = snapshot.child(\"phoneNumber\").value\n\n    Log.i(\"Snapshot Data\", snapshot!!.value.toString())\n    user.dateJoined = dateJoined as Long\n    return user\n\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "inline"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 2, "creation_date": 1515273815, "post_id": 48127976, "comment_id": 83241197, "body": "Yep, IntelliJ and AndroidStudio do a bad job at setting breakpoints in Kotlin code - especially with inline functions and inlined lambdas"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1515408152, "post_id": 48127976, "comment_id": 83275404, "body": "This is supposed to work normally. If it doesn&#39;t, please file a YouTrack issue with a specific example of the code where the breakponts do not work."}], "answers": [{"tags": [], "owner": {"reputation": 2777, "user_id": 3492625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IG3Kb.jpg?s=128&g=1", "display_name": "konmik", "link": "https://stackoverflow.com/users/3492625/konmik"}, "is_accepted": false, "score": -1, "last_activity_date": 1516111974, "creation_date": 1516111974, "answer_id": 48283237, "question_id": 48127976, "link": "https://stackoverflow.com/questions/48127976/debug-kotlin-inline-functions/48283237#48283237", "title": "Debug Kotlin inline functions", "body": "<p>You can pass Class as an argument and remove \"inline\" keyword, like in good old Java times.</p>\n"}], "owner": {"reputation": 1897, "user_id": 4059656, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d37f53592325c2ef32ef0ebf1991d40?s=128&d=identicon&r=PG&f=1", "display_name": "Lemao1981", "link": "https://stackoverflow.com/users/4059656/lemao1981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 947, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1516111974, "creation_date": 1515246255, "question_id": 48127976, "link": "https://stackoverflow.com/questions/48127976/debug-kotlin-inline-functions", "title": "Debug Kotlin inline functions", "body": "<p>I\u00b4m using inline functions at my Kotlin-based Android project (I\u00b4m forced to, since I use reified key word). Is there a possibility to debug inline functions similar to regular ones? Breakpoints don\u00b4t snatch, which, I guess, has to do with the code insertion procedure of inline functions</p>\n"}, {"tags": ["lambda", "kotlin", "closures"], "comments": [{"owner": {"reputation": 461, "user_id": 5990846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nLq8yPuDPic/AAAAAAAAAAI/AAAAAAAAAE0/g0JqD8k91y0/photo.jpg?sz=128", "display_name": "Jay", "link": "https://stackoverflow.com/users/5990846/jay"}, "edited": false, "score": 1, "creation_date": 1515244716, "post_id": 48127647, "comment_id": 83232067, "body": "What&#39;s the scope of <code>stringBuilder</code> here?"}], "owner": {"reputation": 5283, "user_id": 1065835, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wcLSP.jpg?s=128&g=1", "display_name": "Maksim Dmitriev", "link": "https://stackoverflow.com/users/1065835/maksim-dmitriev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "closed_date": 1515245098, "answer_count": 0, "score": 3, "last_activity_date": 1515249444, "creation_date": 1515244070, "last_edit_date": 1515249444, "question_id": 48127647, "link": "https://stackoverflow.com/questions/48127647/why-does-var-work-inside-a-lambda-in-kotlin", "closed_reason": "Duplicate", "title": "Why does var work inside a lambda in Kotlin?", "body": "<p><a href=\"https://stackoverflow.com/a/4732617/1065835\">Here</a> I read about how closures were managed in Java. As to Kotlin, I expected that a variable had to be effectively final as well (in other words <code>val</code>, not <code>var</code>) to be available in a lambda function.</p>\n\n<p>But the following code snippet works. </p>\n\n<pre><code>var stringBuilder = StringBuilder()\nstringBuilder.append(\"Old\")\nstringBuilder = StringBuilder()\nstringBuilder.append(\"New\")\n\nsample_btn.setOnClickListener {\n    Toast.makeText(this, stringBuilder.toString(), Toast.LENGTH_LONG).show()\n    // New is shown\n}\n</code></pre>\n\n<p>So <code>stringBuilder</code> doesn't need to be final to be used in the lambda funcation. I wonder what's going on under the hood, and why my code works.</p>\n"}, {"tags": ["maven", "kotlin", "nexus", "maven-release-plugin", "kotlin-dokka"], "answers": [{"tags": [], "owner": {"reputation": 577, "user_id": 410579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb1e2716f8a9b4aff5bd3458962ae2a?s=128&d=identicon&r=PG", "display_name": "kocka", "link": "https://stackoverflow.com/users/410579/kocka"}, "is_accepted": true, "score": 4, "last_activity_date": 1515317538, "creation_date": 1515317538, "answer_id": 48135914, "question_id": 48127495, "link": "https://stackoverflow.com/questions/48127495/how-to-generate-javadoc-jar-for-repository-upload-with-dokka/48135914#48135914", "title": "How to generate javadoc jar for repository upload with dokka?", "body": "<p>Found the problem. Dokka does have the required maven goal (<strong>dokka:javadocJar</strong>) but unlike with maven-javadoc-plugin, it is not bound to the packaging lifecycle. The easy fix is</p>\n\n<pre><code>                &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.dokka&lt;/groupId&gt;\n                &lt;artifactId&gt;dokka-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${dokka.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;dokka&lt;/goal&gt;\n                            &lt;goal&gt;javadoc&lt;/goal&gt;\n                            &lt;goal&gt;javadocJar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;file&gt;packages.md&lt;/file&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1754, "user_id": 7096016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ur81C.jpg?s=128&g=1", "display_name": "Alexander Savin", "link": "https://stackoverflow.com/users/7096016/alexander-savin"}, "is_accepted": false, "score": 0, "last_activity_date": 1533310972, "creation_date": 1533310972, "answer_id": 51676091, "question_id": 48127495, "link": "https://stackoverflow.com/questions/48127495/how-to-generate-javadoc-jar-for-repository-upload-with-dokka/51676091#51676091", "title": "How to generate javadoc jar for repository upload with dokka?", "body": "<p>Use <a href=\"https://github.com/Vorlonsoft/GradleMavenPush\" rel=\"nofollow noreferrer\">GradleMavenPush</a> to upload Gradle Android Artifacts, Gradle Java Artifacts and Gradle Kotlin Artifacts to Maven repositories (JCenter, Maven Central, Corporate staging/snapshot servers and local Maven repositories)</p>\n\n<pre><code>apply from: 'https://raw.github.com/Vorlonsoft/GradleMavenPush/master/maven-push.gradle'\n</code></pre>\n\n<p>You can generate Dokka documentatiton with it, it has <code>task androidDokka(type: Exec, dependsOn: dokkaInitializer)</code> and <code>task coreDokka(type: Exec, dependsOn: dokkaInitializer)</code></p>\n"}], "owner": {"reputation": 577, "user_id": 410579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb1e2716f8a9b4aff5bd3458962ae2a?s=128&d=identicon&r=PG", "display_name": "kocka", "link": "https://stackoverflow.com/users/410579/kocka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 0, "accepted_answer_id": 48135914, "answer_count": 2, "score": 1, "last_activity_date": 1533310972, "creation_date": 1515242839, "question_id": 48127495, "link": "https://stackoverflow.com/questions/48127495/how-to-generate-javadoc-jar-for-repository-upload-with-dokka", "title": "How to generate javadoc jar for repository upload with dokka?", "body": "<p>I have recently migrated a java component to kotlin. So far when I used the maven release plugin, it automatically generated the javadoc too and it was also uploaded to oss.sonatype.com. Dokka at the other hand does not seem to be integrated with the release plugin out-of-the-box. As a result, after upload to oss.sonatype.com, nexus rejects release with validation error, because the javadoc jar is missing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/43sWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/43sWs.png\" alt=\"nexus validation results\"></a></p>\n\n<p>Is there a dokka integration with the maven release plugin?</p>\n"}, {"tags": ["kotlin", "firebase-storage"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1515238513, "post_id": 48126525, "comment_id": 83230460, "body": "<i>&quot;How can i fix this?&quot;</i> By specifying a different filename for each recording? (e.g. using a counter in your SharedPrecerences)"}, {"owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1515263987, "post_id": 48126525, "comment_id": 83238113, "body": "Can you give me e simple example ?"}], "answers": [{"tags": [], "owner": {"reputation": 13607, "user_id": 3875023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N4ZsE.jpg?s=128&g=1", "display_name": "Mike McDonald", "link": "https://stackoverflow.com/users/3875023/mike-mcdonald"}, "is_accepted": true, "score": 1, "last_activity_date": 1515450811, "creation_date": 1515450811, "answer_id": 48158988, "question_id": 48126525, "link": "https://stackoverflow.com/questions/48126525/kotlin-voice-record-uploading-overwriting-on-firebase/48158988#48158988", "title": "Kotlin Voice Record Uploading Overwriting on Firebase", "body": "<p>The issue is that you always use the same file name:</p>\n\n<pre><code>mFileName = externalCacheDir!!.absolutePath\nmFileName += \"/recorded_audio.3gp\"\n</code></pre>\n\n<p>If you generate a random UUID (or similar) like:</p>\n\n<pre><code>mFileName = externalCacheDir!!.absolutePath\nmFileName += \"/\" + UUID.randomUUID().toString() + \".3gp\"\n</code></pre>\n\n<p>You'll no longer overwrite files.</p>\n"}], "owner": {"reputation": 65, "user_id": 5648104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3720c8f2692df3292262456df1e056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ceridoglu", "link": "https://stackoverflow.com/users/5648104/ceridoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 48158988, "answer_count": 1, "score": 0, "last_activity_date": 1515450811, "creation_date": 1515235382, "question_id": 48126525, "link": "https://stackoverflow.com/questions/48126525/kotlin-voice-record-uploading-overwriting-on-firebase", "title": "Kotlin Voice Record Uploading Overwriting on Firebase", "body": "<p>Hello guysi write some code to taking a audio record for saving on firebase. Its work but always saving with same name so its caused the over-writing. How can i fix this ?</p>\n\n<pre><code>  mFileName = externalCacheDir!!.absolutePath\n    mFileName += \"/recorded_audio.3gp\"\n\n\n     private fun startRecording() {\n    mRecorder = MediaRecorder()\n    mRecorder!!.setAudioSource(MediaRecorder.AudioSource.MIC)\n    mRecorder!!.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)\n    mRecorder!!.setOutputFile(mFileName)\n    mRecorder!!.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\n\n    try {\n        mRecorder!!.prepare()\n    } catch (e: IOException) {\n        Log.e(LOG_TAG, \"prepare() failed\")\n    }\n\n    mRecorder!!.start()\n}\n\nprivate fun stopRecording() {\n    mRecorder!!.stop()\n    mRecorder!!.release()\n    mRecorder = null\n    uploadAudio()\n}\n\nprivate fun uploadAudio() {\n\n    val filepath = mStorage!!.child(\"Audio\").child(\"new_audio.3gp\")\n    val uri = Uri.fromFile(File(mFileName!!))\n    filepath.putFile(uri).addOnSuccessListener { }\n\n}\n\ncompanion object {\n    private val LOG_TAG = \"Record_log\"\n}\n</code></pre>\n"}, {"tags": ["arrays", "multidimensional-array", "iterator", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": true, "score": 2, "last_activity_date": 1515237583, "creation_date": 1515237583, "answer_id": 48126794, "question_id": 48126462, "link": "https://stackoverflow.com/questions/48126462/flatten-iterator-of-two-dimensional-array-in-kotlin/48126794#48126794", "title": "Flatten iterator of two dimensional array in Kotlin", "body": "<p>A very simple solution would be something like this:</p>\n\n<pre><code>val grid: Array&lt;Array&lt;Cell&gt;&gt; = ...\n\noverride fun iterator() : Iterator&lt;Cell&gt; = grid.flatMap { it.asList() }.iterator()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 4, "last_activity_date": 1515238519, "creation_date": 1515238519, "answer_id": 48126934, "question_id": 48126462, "link": "https://stackoverflow.com/questions/48126462/flatten-iterator-of-two-dimensional-array-in-kotlin/48126934#48126934", "title": "Flatten iterator of two dimensional array in Kotlin", "body": "<blockquote>\n  <p>Does Kotlin support yield return style iterators?</p>\n</blockquote>\n\n<p>Yes, it does, through the feature of coroutines. Here's a self-contained example:</p>\n\n<pre><code>data class Cell(val d: Int)\n\nval grid: Array&lt;Array&lt;Cell&gt;&gt; = arrayOf(arrayOf(Cell(1), Cell(2)), arrayOf(Cell(3), Cell(4)))\n\nfun cellSequence() = buildSequence {\n    grid.forEach { it.forEach { yield(it) } }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    cellSequence().forEach { println(it) }\n}\n</code></pre>\n\n<p>Although this particular problem could have been simply solved with just a <code>flatMap</code>, the presented code can serve as a template to write any kind of procedural-looking code, for example:</p>\n\n<pre><code>fun complexCellSequence() = buildSequence {\n    yield(Cell(-1))\n    if (grid.size &lt;= 2) {\n        yield(Cell(2))\n    }\n    for (row in grid) {\n        if (row.contains(Cell(1))) {\n            yield(Cell(1))\n        } else {\n            yield(Cell(12))\n            row.forEach { yield(it) }\n        }\n    }\n}\n</code></pre>\n\n<p>This would be quite nontrivial to rewrite without coroutines.</p>\n"}], "owner": {"reputation": 83, "user_id": 8272563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9478d399efaaa8c96060d97300b2a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/8272563/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 1, "accepted_answer_id": 48126794, "answer_count": 2, "score": 3, "last_activity_date": 1515238519, "creation_date": 1515234851, "question_id": 48126462, "link": "https://stackoverflow.com/questions/48126462/flatten-iterator-of-two-dimensional-array-in-kotlin", "title": "Flatten iterator of two dimensional array in Kotlin", "body": "<p>I have a <code>Grid</code> class which is wrapper over 2d array of <code>Cell</code> objects. I would like this class to implement <code>Iterable&lt;Cell&gt;</code> interface in order to use it in loops and iterate directly overall cells. Is there a simple way to do that? Does Kotlin support <code>yield return</code> style iterators? My current solution is quite verbose:</p>\n\n<pre><code>override fun iterator() = object : Iterator&lt;Cell&gt; {\n    val currentOuter = grid.iterator() // grid is object of Array&lt;Array&lt;Cell&gt;&gt;\n    var currentInner = if (currentOuter.hasNext()) currentOuter.next().iterator() else arrayOf&lt;Cell&gt;().iterator()\n\n    override fun next(): Cell {\n        if (!hasNext()) {\n            throw NoSuchElementException()\n        }\n\n        return if (currentInner.hasNext()) {\n            currentInner.next()\n        } else {\n            currentInner = currentOuter.next().iterator()\n            currentInner.next()\n        }\n    }\n\n    override fun hasNext(): Boolean {\n        return currentInner.hasNext() || currentOuter.hasNext()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 43, "user_id": 9180074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc50407dd28a71bb756dc21c48139d2?s=128&d=identicon&r=PG&f=1", "display_name": "Varshil", "link": "https://stackoverflow.com/users/9180074/varshil"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1515235145, "post_id": 48126417, "comment_id": 83229630, "body": "@Nilu Changing the target SDK to 26 from 27 solved all the issues Thanks for your Help Again..."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1515235373, "post_id": 48126417, "comment_id": 83229688, "body": "happy to help you my friend enjoy codding"}], "owner": {"reputation": 43, "user_id": 9180074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc50407dd28a71bb756dc21c48139d2?s=128&d=identicon&r=PG&f=1", "display_name": "Varshil", "link": "https://stackoverflow.com/users/9180074/varshil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1515236943, "answer_count": 0, "score": 3, "last_activity_date": 1515234505, "creation_date": 1515234382, "last_edit_date": 1515234505, "question_id": 48126417, "link": "https://stackoverflow.com/questions/48126417/app-stops-when-trying-to-play-video-ads", "closed_reason": "Duplicate", "title": "App Stops when trying to play Video Ads", "body": "<p>My APP has video ads section where users can watch ads from admob when I pressed play button in the morning ads were coming and everything was working great but now when I click that same button app is crashing Below I is the details of what I got from logcat:</p>\n\n<pre><code>FATAL EXCEPTION: main\n        Process: eelam.ellalan.rechargemafia, PID: 8570\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{eelam.ellalan.rechargemafia/com.google.android.gms.ads.AdActivity}: java.lang.IllegalStateException: Only fullscreen activities can request orientation\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n        Caused by: java.lang.IllegalStateException: Only fullscreen activities can request orientation\n        at android.os.Parcel.readException(Parcel.java:1950)\n        at android.os.Parcel.readException(Parcel.java:1888)\n        at android.app.IActivityManager$Stub$Proxy.setRequestedOrientation(IActivityManager.java:5675)\n        at android.app.Activity.setRequestedOrientation(Activity.java:5739)\n        at com.google.android.gms.ads.internal.overlay.d.a(:com.google.android.gms.DynamiteModulesA@11951470:182)\n        at com.google.android.gms.ads.internal.overlay.d.b(:com.google.android.gms.DynamiteModulesA@11951470:216)\n        at com.google.android.gms.ads.internal.overlay.d.a(:com.google.android.gms.DynamiteModulesA@11951470:76)\n        at com.google.android.gms.ads.internal.overlay.client.c.onTransact(:com.google.android.gms.DynamiteModulesA@11951470:8)\n        at android.os.Binder.transact(Binder.java:604)\n        at com.google.android.gms.internal.zzed.zzb(Unknown Source:7)\n        at com.google.android.gms.internal.zzwl.onCreate(Unknown Source:8)\n        at com.google.android.gms.ads.AdActivity.onCreate(Unknown Source:28)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n        01-06 15:51:34.704 1324-1324/? E/hw-IPCThreadState: binder thread pool (1 threads) starved for 218 ms\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1515234281, "post_id": 48126142, "comment_id": 83229453, "body": "If you use the emulator, try to use a real device."}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "reply_to_user": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1515234550, "post_id": 48126142, "comment_id": 83229518, "body": "I didn&#39;t use the emulator"}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 5435312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HjWfX.jpg?s=128&g=1", "display_name": "garywzh", "link": "https://stackoverflow.com/users/5435312/garywzh"}, "is_accepted": true, "score": 2, "last_activity_date": 1515237552, "creation_date": 1515237552, "answer_id": 48126792, "question_id": 48126142, "link": "https://stackoverflow.com/questions/48126142/firebase-return-null-instance-in-helper-class/48126792#48126792", "title": "Firebase return null instance in Helper class", "body": "<pre><code>class FirebaseHelper {\n\n    companion object {\n\n        private var mAuth: FirebaseAuth? = null\n\n        fun getInstance(): FirebaseAuth? {\n            if(mAuth == null ){\n\n                // here you should use \"=\" instead of \"==\"\n                mAuth == FirebaseAuth.getInstance()\n            }\n            return mAuth;\n        }\n\n        fun getCurrentUser(): FirebaseUser?{\n            return getInstance()?.currentUser\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 48126792, "answer_count": 1, "score": 0, "last_activity_date": 1515251877, "creation_date": 1515232139, "last_edit_date": 1515251877, "question_id": 48126142, "link": "https://stackoverflow.com/questions/48126142/firebase-return-null-instance-in-helper-class", "title": "Firebase return null instance in Helper class", "body": "<pre><code>class FirebaseHelper {\n\n\n    companion object {\n\n        private var mAuth: FirebaseAuth? = null\n\n        fun getInstance(): FirebaseAuth? {\n            if(mAuth == null ){\n                mAuth == FirebaseAuth.getInstance()\n            }\n            return mAuth;\n        }\n\n        fun getCurrentUser(): FirebaseUser?{\n            return getInstance()?.currentUser\n        }\n    }\n}\n</code></pre>\n\n<p>Here <code>FirebaseAuth.getInstance()</code> always return null and I don't get why.  If I use it on an activity like </p>\n\n<pre><code>mAuth = FirebaseAuth.getInstance()\n</code></pre>\n\n<p>it return the firebase instance. I don't get what is the difference. I tried to not make the FirebaseHelper.getInstance() method static, but it also didn't work.</p>\n\n<p>Any hints?</p>\n"}, {"tags": ["android", "kotlin", "android-mediaplayer"], "answers": [{"tags": [], "owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1515227869, "creation_date": 1515227869, "answer_id": 48125652, "question_id": 48125464, "link": "https://stackoverflow.com/questions/48125464/how-do-you-keep-a-notification-from-disappearing-when-the-app-is-killed/48125652#48125652", "title": "How do you keep a notification from disappearing when the app is killed?", "body": "<p>Try notifying the same notification before startForeground().</p>\n\n<pre><code>val notification = builder.build()\nNotificationManagerCompat.from(service).notify(246, notification)\n</code></pre>\n\n<p><a href=\"https://github.com/UdeshUK/CoffeeMusicPlayer/blob/master/app/src/main/java/com/udeshcoffee/android/service/NotifyManager.kt\" rel=\"nofollow noreferrer\">Refer this project</a>. This is a music player too, it use this method to show a MediaStyleNotification.</p>\n"}], "owner": {"reputation": 80, "user_id": 4712994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wzG5C.jpg?s=128&g=1", "display_name": "kn0wmad1c", "link": "https://stackoverflow.com/users/4712994/kn0wmad1c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 831, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515227869, "creation_date": 1515226020, "question_id": 48125464, "link": "https://stackoverflow.com/questions/48125464/how-do-you-keep-a-notification-from-disappearing-when-the-app-is-killed", "title": "How do you keep a notification from disappearing when the app is killed?", "body": "<p>I'm trying to build a media player, but I can't figure out how to keep the notification to persist when the user kills the app.  The music continues to play, but the notification disappears.  If I don't kill the app, the notification stays.  Oddly, it does appear on the lock screen, but there are no controls when it does, but that's a problem for another day.</p>\n\n<p>Here's some relevant code:</p>\n\n<pre><code>private fun buildNotification(action: Notification.Action) {\n    var style: Notification.MediaStyle = Notification.MediaStyle().setMediaSession(ms.sessionToken)\n\n    var intent = Intent(applicationContext, MediaPlayerService::class.java)\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)\n    var pIntent: PendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    var builder: Notification.Builder = Notification.Builder(this)\n            .setSmallIcon(R.drawable.small_app_icon)\n            .setTicker(prefs.getString(\"EP_TITLE\", \"\"))\n            .setContentTitle(prefs.getString(\"EP_TITLE\", \"\"))\n            .setContentText(\"\")\n            .setContentIntent(pIntent)\n            .setOngoing(true)\n            .setVisibility(Notification.VISIBILITY_PUBLIC)\n            .setStyle(style)\n\n\n\n    builder.addAction(generateAction(Icon.createWithResource(baseContext, R.drawable.back10s), \"Back 10 Seconds\", ACTION_REWIND))\n    builder.addAction(action)\n    builder.addAction(generateAction(Icon.createWithResource(baseContext, R.drawable.up30s), \"Forward 30 Seconds\", ACTION_FAST_FORWARD))\n\n    style.setShowActionsInCompactView(0,1,2)\n\n    startForeground(246, builder.build())\n}\n</code></pre>\n\n<p>stopForeground is called only twice in the service.  </p>\n\n<pre><code>private fun pauseMedia() {\n    if (mp!!.isPlaying) {\n        mp!!.pause()\n        resumePosition = mp!!.currentPosition\n        stopForeground(false)\n    }\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    stopForeground(true)\n}\n</code></pre>\n\n<p>Thanks for any help you can give!</p>\n"}, {"tags": ["java", "android", "kotlin", "reactive"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9043538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d1b32ad3a968492541dd1aa5b9e50f?s=128&d=identicon&r=PG&f=1", "display_name": "programadorloco", "link": "https://stackoverflow.com/users/9043538/programadorloco"}, "edited": false, "score": 1, "creation_date": 1515258532, "post_id": 48126372, "comment_id": 83236220, "body": "Awesome, it works, could you tell me the difference between : Observable.fromIterable and Observable.just , both don&#39;t return the same?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 89, "user_id": 9043538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d1b32ad3a968492541dd1aa5b9e50f?s=128&d=identicon&r=PG&f=1", "display_name": "programadorloco", "link": "https://stackoverflow.com/users/9043538/programadorloco"}, "edited": false, "score": 0, "creation_date": 1515261562, "post_id": 48126372, "comment_id": 83237323, "body": "The first emits each element of the iterable, the second emits the iterable itself."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1515233928, "creation_date": 1515233928, "answer_id": 48126372, "question_id": 48124985, "link": "https://stackoverflow.com/questions/48124985/rxjava-concat-doesnt-works/48126372#48126372", "title": "RXJava - concat doesn&#39;t works", "body": "<p>The <code>Observable.concat()</code> concatenates the two stream given to it. Thus you'll receive two events with the single list. If you want to merge the lists itself, you'd have to emit the single elements instead of the list and make the elements a list again.</p>\n\n<pre><code>Observable.concat(Observable.fromIterable(DummyContent.COMPANIES),\n                  Observable.fromIterable(DummyContent.COMPANIES))\n          .toList()\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9043538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d1b32ad3a968492541dd1aa5b9e50f?s=128&d=identicon&r=PG&f=1", "display_name": "programadorloco", "link": "https://stackoverflow.com/users/9043538/programadorloco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 48126372, "answer_count": 1, "score": 2, "last_activity_date": 1515233928, "creation_date": 1515221160, "question_id": 48124985, "link": "https://stackoverflow.com/questions/48124985/rxjava-concat-doesnt-works", "title": "RXJava - concat doesn&#39;t works", "body": "<p>I've a problem using RXJava and Kotlin.</p>\n\n<p>I'm using LiveData and Rx, my problem is that concat method is not concatenating two arrays that I have in Dummy data.</p>\n\n<p><strong>This is my code:</strong></p>\n\n<pre><code> disposables.\n                add(\n                Observable.concat(Observable.just(DummyContent.COMPANIES),\n                        Observable.just(DummyContent.COMPANIES))\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({\n                    Timber.d(\"get companies success ${it.size}\" )\n                    companiesLiveData.value = it\n                },{\n                     t -&gt; Timber.e(t, \"get companies error\")\n                }))\n</code></pre>\n\n<p>DummyContent:</p>\n\n<pre><code> val COMPANIES: MutableList&lt;Company&gt; = ArrayList()\n  ...\n   // Add some sample items.\n        for (i in 1..4) {\n            addCompany(createDummyCompany(i))\n        }\n</code></pre>\n\n<p>When I run the code, I only see 4 elements in the list, I was expecting to receive 4  +  4  = 8 items because the <code>concat</code> method.</p>\n\n<p>In the LogCat I see this message twice:  get companies success 4</p>\n\n<p>How I can achieve that?</p>\n"}, {"tags": ["kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515232316, "post_id": 48126158, "comment_id": 83228974, "body": "No, when I exit from the main methods java threads keep running in the background"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515232787, "post_id": 48126158, "comment_id": 83229092, "body": "Sorry I was on the wrong path you\u2019re right, these threads are non-daemon"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515232866, "post_id": 48126158, "comment_id": 83229114, "body": "so basically if I could tell the coroutines to run on such a thread they should not be terminated - but my understanding is that <code>launch</code>, unless otherwise specified, uses a <code>ForkJoinThreadPool</code> behind the scenes?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515233046, "post_id": 48126158, "comment_id": 83229156, "body": "But I don\u2019t think this is possible according to <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#coroutines-are-like-daemon-threads\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1515233092, "post_id": 48126158, "comment_id": 83229165, "body": "nope, <code>launch</code> wants to have a <code>CoroutineContext</code>, not a thread pool. so is there any way I can tell the coroutine context to run on non-daemon threads?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515236659, "post_id": 48126158, "comment_id": 83230016, "body": "You are confusing analogy with fact. Coroutines are neither threads nor daemon threads. The only point was that they behave <i>like</i> daemon threads in the sense that a still active coroutine won&#39;t keep the JVM process alive. It makes no difference what thread you run the coroutine on, and the coroutine isn&#39;t even bound to any specific thread."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1515271909, "post_id": 48126158, "comment_id": 83240673, "body": "@MarkoTopolnik As of my understanding the coroutine is bound to a thread pool. So if those threads are non-daemon threads, they should stay alive after I exit <code>main</code>, right? And keep executing my coroutines until they all finish and no threads of that thread pool are active anymore"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1515291907, "post_id": 48126158, "comment_id": 83244874, "body": "It&#39;s an indirect connection, over the optional facility of the coroutine context. But yes, if you start an explicit executor service and use it as the context for your coroutines, your application will live on until you explicitly shut down that executor or until the executor itself decides to stop the threads. A <code>cachedThreadPool</code> will automatically stop a thread after 60 idle seconds."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1515313131, "post_id": 48126158, "comment_id": 83248114, "body": "So, even if you set it up like that, your application won&#39;t wait for the coroutines, but for the executor service&#39;s threads, to complete. Depending on circumstances, they may never complete or even complete earlier than your coroutines (e.g., if a coroutine is suspended without being scheduled to resume)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1515232933, "last_edit_date": 1515232933, "creation_date": 1515232281, "answer_id": 48126158, "question_id": 48124944, "link": "https://stackoverflow.com/questions/48124944/dont-exit-kotlin-program-while-several-coroutines-are-running/48126158#48126158", "title": "Don&#39;t exit Kotlin program while several coroutines are running", "body": "<blockquote>\n  <p>So how can I, given that I don't keep track of all coroutines started in my program (hence I cannot use .join() or .await()), make sure that all coroutines finish before my program exits?</p>\n</blockquote>\n\n<p>You need to keep track and await the results at some point in order to be <strong>sure</strong> that those coroutines have finished. That\u2019s because \u201ccoroutines are like daemon threads\u201d:</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#coroutines-are-like-daemon-threads\" rel=\"nofollow noreferrer\">Active coroutines do not keep the process alive. They are like daemon threads.</a></p>\n</blockquote>\n\n<p>This is not the case for regular Java <code>Thread</code>s which are <a href=\"https://stackoverflow.com/q/19505682/8073652\">non-daemon</a> by default.</p>\n"}], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1506, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1515232933, "creation_date": 1515220848, "question_id": 48124944, "link": "https://stackoverflow.com/questions/48124944/dont-exit-kotlin-program-while-several-coroutines-are-running", "title": "Don&#39;t exit Kotlin program while several coroutines are running", "body": "<p>At several points of my program, I use <code>launch</code> to start a coroutine that does some background tasks. Then, at some point, I return from the <code>main</code> function. A simplified version of my program could look like this:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;)\n{\n    launch {\n        delay(10000) // some long running operation\n        println(\"finished\")\n    }\n}\n</code></pre>\n\n<p>Now, the coroutine starts as expected and starts running the operation - and then the program exits. If I don't return from <code>main</code> or replace <code>launch</code> with <code>thread</code>, everything works as expected. <strong>So how can I</strong>, given that I don't keep track of all coroutines started in my program (hence I cannot use <code>.join()</code> or <code>.await()</code>), <strong>make sure that all coroutines finish before my program exits?</strong></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1515212751, "post_id": 48124247, "comment_id": 83225406, "body": "Add you style for <code>SplashActivity</code>."}, {"owner": {"reputation": 43, "user_id": 9180074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc50407dd28a71bb756dc21c48139d2?s=128&d=identicon&r=PG&f=1", "display_name": "Varshil", "link": "https://stackoverflow.com/users/9180074/varshil"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1515213966, "post_id": 48124247, "comment_id": 83225614, "body": "@Nilu It Solved my problem in a moment Thanks for your help"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1515214029, "post_id": 48124247, "comment_id": 83225628, "body": "@Varshil happy to help you enjoy codding"}], "owner": {"reputation": 43, "user_id": 9180074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc50407dd28a71bb756dc21c48139d2?s=128&d=identicon&r=PG&f=1", "display_name": "Varshil", "link": "https://stackoverflow.com/users/9180074/varshil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1515214030, "answer_count": 0, "score": 0, "last_activity_date": 1515212736, "creation_date": 1515212675, "last_edit_date": 1515212736, "question_id": 48124247, "link": "https://stackoverflow.com/questions/48124247/app-crashing-on-versions-lower-then-nougat", "closed_reason": "Duplicate", "title": "App crashing on versions lower then Nougat", "body": "<p>I have an android app which works perfectly on nougat but when I ran it on lower versions i.e. 4 , 5 and 6 it doesn't load at all even in debugging when the activity gets launched it immediately gets crashed I generated signed apk and the same runs well on nougat but in versions lower then nougat after installing the apk as soon as I press open it gets crashed with message 'Unfortunately Stopped'</p>\n\n<p>the following is the loagcat :</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                   Process: eelam.ellalan.rechargemafia, PID: 31814\n                                                   java.lang.RuntimeException: Unable to start activity ComponentInfo{eelam.ellalan.rechargemafia/eelam.ellalan.rechargemafia.SplashActivity}: java.lang.RuntimeException: A TaskDescription's primary color should be opaque\n                                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2590)\n                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2672)\n                                                       at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1495)\n                                                       at android.os.Handler.dispatchMessage(Handler.java:111)\n                                                       at android.os.Looper.loop(Looper.java:207)\n                                                       at android.app.ActivityThread.main(ActivityThread.java:5769)\n                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:861)\n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:751)\n                                                    Caused by: java.lang.RuntimeException: A TaskDescription's primary color should be opaque\n                                                       at android.app.ActivityManager$TaskDescription.&lt;init&gt;(ActivityManager.java:605)\n                                                       at android.app.Activity.onApplyThemeResource(Activity.java:3774)\n                                                       at android.view.ContextThemeWrapper.initializeTheme(ContextThemeWrapper.java:150)\n                                                       at android.view.ContextThemeWrapper.setTheme(ContextThemeWrapper.java:94)\n                                                       at android.support.v7.app.AppCompatActivity.setTheme(AppCompatActivity.java:89)\n                                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2530)\n                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2672) \n                                                       at android.app.ActivityThread.-wrap11(ActivityThread.java) \n                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1495) \n                                                       at android.os.Handler.dispatchMessage(Handler.java:111) \n                                                       at android.os.Looper.loop(Looper.java:207) \n                                                       at android.app.ActivityThread.main(ActivityThread.java:5769) \n                                                       at java.lang.reflect.Method.invoke(Native Method) \n                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:861) \n                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:751)\n</code></pre>\n"}]